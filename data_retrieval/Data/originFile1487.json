{"items":[{"tags":["java","docker","adoptopenjdk"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1648212846,"post_id":71616919,"comment_id":126573584,"body_markdown":"First question - is the environment variable actually set in the container?  I&#39;d check that directly, rather than inferring whether it&#39;s set by memory performance graphs.","body":"First question - is the environment variable actually set in the container?  I&#39;d check that directly, rather than inferring whether it&#39;s set by memory performance graphs."},{"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"score":0,"creation_date":1648216227,"post_id":71616919,"comment_id":126574946,"body_markdown":"I am using docker compose file to set environment variables. This works in case of adoptopenjdk but not with openjdk8. Even tried with this command java -XX:+PrintFlagsFinal -version | grep -Ei &quot;maxheapsize|maxram&quot; by doing docker exec.","body":"I am using docker compose file to set environment variables. This works in case of adoptopenjdk but not with openjdk8. Even tried with this command java -XX:+PrintFlagsFinal -version | grep -Ei &quot;maxheapsize|maxram&quot; by doing docker exec."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1648413835,"post_id":71616919,"comment_id":126612065,"body_markdown":"Did you check?  Because that&#39;s what I actually asked.","body":"Did you check?  Because that&#39;s what I actually asked."}],"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648210891,"creation_date":1648210891,"question_id":71616919,"body_markdown":"I am trying set xmx and xms parameters for my java application which is inside docker container. When I try with adoptopenjdk it works fine.\r\n\r\nWith AdoptOpenjdk \r\n\r\nDockerfile : \r\n\r\n    FROM adoptopenjdk/openjdk8-openj9:alpine\r\n    WORKDIR /\r\n    ADD /target/*.jar app.jar\r\n    ...\r\n\r\nDocker compose \r\n\r\n      myapp:\r\n        image: myapp:dev\r\n        container_name: myapp\r\n        network_mode: &quot;host&quot;\r\n        ports:\r\n          - &quot;PORT:PORT&quot;\r\n        environment:\r\n          - OPENJ9_JAVA_OPTIONS=-Xmx1400m -Xms1400m -XX:+UseContainerSupport\r\n\r\n[![enter image description here][1]][1]\r\n    \r\nBut the same thing is not working with openjdk:8\r\n\r\nDockerfile \t  \r\n\r\n    FROM openjdk:8\r\n    WORKDIR /\r\n    ADD /target/*.jar app.jar\r\n    ...\t  \r\n\r\nDocker Compose file \r\n\r\n      myapp:\r\n        image: myapp:dev\r\n        container_name: myapp\r\n        network_mode: &quot;host&quot;\r\n        ports:\r\n          - &quot;PORT:PORT&quot;\r\n        environment:\r\n          - JAVA_OPTS=-Xmx1400m -Xms1400m -XX:+UseContainerSupport\r\n\r\n[![enter image description here][2]][2]\t  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IYsDd.png\r\n  [2]: https://i.stack.imgur.com/SDC7D.png","title":"Not able to change JVM options ( xmx, xms etc. ) with openjdk:8 based docker container","body":"<p>I am trying set xmx and xms parameters for my java application which is inside docker container. When I try with adoptopenjdk it works fine.</p>\n<p>With AdoptOpenjdk</p>\n<p>Dockerfile :</p>\n<pre><code>FROM adoptopenjdk/openjdk8-openj9:alpine\nWORKDIR /\nADD /target/*.jar app.jar\n...\n</code></pre>\n<p>Docker compose</p>\n<pre><code>  myapp:\n    image: myapp:dev\n    container_name: myapp\n    network_mode: &quot;host&quot;\n    ports:\n      - &quot;PORT:PORT&quot;\n    environment:\n      - OPENJ9_JAVA_OPTIONS=-Xmx1400m -Xms1400m -XX:+UseContainerSupport\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IYsDd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IYsDd.png\" alt=\"enter image description here\" /></a></p>\n<p>But the same thing is not working with openjdk:8</p>\n<p>Dockerfile</p>\n<pre><code>FROM openjdk:8\nWORKDIR /\nADD /target/*.jar app.jar\n...   \n</code></pre>\n<p>Docker Compose file</p>\n<pre><code>  myapp:\n    image: myapp:dev\n    container_name: myapp\n    network_mode: &quot;host&quot;\n    ports:\n      - &quot;PORT:PORT&quot;\n    environment:\n      - JAVA_OPTS=-Xmx1400m -Xms1400m -XX:+UseContainerSupport\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SDC7D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SDC7D.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":1,"creation_date":1648130294,"post_id":71603497,"comment_id":126550328,"body_markdown":"Your custom filter probably doesn&#39;t call the authentication success handler. See the comments on this question https://stackoverflow.com/questions/39774023/onauthenticationsuccess-of-my-custom-authenticationsuccesshandler-is-not-called","body":"Your custom filter probably doesn&#39;t call the authentication success handler. See the comments on this question <a href=\"https://stackoverflow.com/questions/39774023/onauthenticationsuccess-of-my-custom-authenticationsuccesshandler-is-not-called\" title=\"onauthenticationsuccess of my custom authenticationsuccesshandler is not called\">stackoverflow.com/questions/39774023/&hellip;</a>"},{"owner":{"account_id":8984011,"reputation":35,"user_id":6698175,"display_name":"F.A"},"score":0,"creation_date":1648206039,"post_id":71603497,"comment_id":126571246,"body_markdown":"Thanks that works Ive updated the question with the solution.","body":"Thanks that works Ive updated the question with the solution."}],"owner":{"account_id":8984011,"reputation":35,"user_id":6698175,"display_name":"F.A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648210650,"creation_date":1648128876,"question_id":71603497,"body_markdown":"I&#39;m using Spring Boot security and trying to implement an AuthenticationSuccessHandler,\r\nbut it&#39;s ignored when I authenticate. Currently I&#39;ve not implemented any Roles. \r\n\r\n\r\nI have an AbstractController containing an /authenticate endpoint and\r\na CustomerController which extends it, this is why I have :\r\n\r\n\t\t\t\t.loginProcessingUrl(&quot;customer/authenticate&quot;).permitAll()\r\n\r\nI have \r\n\r\n&gt; @Component public class JwtFilter extends OncePerRequestFilter\r\n\r\nAnd added as a filterBefore in my WebSecurity like so : \r\n\r\n&gt; .addFilterBefore(jwtFitler,UsernamePasswordAuthenticationFilter.clas)\r\n\r\n\r\n**What I&#39;ve tried :** \r\n\r\n1. Removing &quot;customer&quot; prefix in loginProcessingUrl\r\n\r\n&gt; \t\t\t\t.loginProcessingUrl(&quot;/authenticate&quot;).permitAll()\r\n\r\n\r\n2. Removing  \r\n\r\n&gt; \t\t\t\t.addFilterBefore(jwtFitler, UsernamePasswordAuthenticationFilter.class);\r\n\r\n3. Using SimpleUrlAuthenticationSuccessHandler instead of AuthenticationProvider\r\n\r\n\r\n**CODE :** \r\n\r\nWebSecurity configuration : \r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    \t\thttp.cors().and().csrf().disable().authorizeRequests()\r\n    \t\t\t\t.antMatchers(HttpMethod.POST, REGISTER_USERS_URL, LOG_IN_URL).permitAll()\r\n    \t\t\t\t.antMatchers(HttpMethod.GET, &quot;/&quot;, HOME, GET_ACCOUNTS_URL).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/**.js&quot;).permitAll()\r\n    \t\t\t\t.antMatchers(&quot;/**.css&quot;).permitAll()\r\n    \t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.sessionManagement()\r\n    \t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.formLogin()\r\n    \t\t\t\t.loginPage(&quot;/login&quot;).permitAll()\r\n    \t\t\t\t.loginProcessingUrl(&quot;customer/authenticate&quot;).permitAll()\r\n    \t\t\t\t.successHandler(authenticationSuccessHandler)\r\n    \t\t\t\t.and()\r\n    \t\t\t\t.addFilterBefore(jwtFitler, UsernamePasswordAuthenticationFilter.class);\r\n    \t}\r\n\r\n\r\n----------------------- **EDIT WITH SOLUTION** ----------------------\r\n\r\n**Solution :** \r\n\r\nCall the authentication success handler before doFilter ;\r\n\r\n        authenticationSuccessHandler.onAuthenticationSuccess(\r\n           httpServletRequest, \r\n           httpServletResponse,                      \r\n           SecurityContextHolder.getContext().getAuthentication());\r\n    \r\n    \r\n    filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n\r\n**Complete code :** \r\n\r\n    @Component\r\n    public class JwtFilter extends OncePerRequestFilter {\r\n                                    \r\n        @Autowired\r\n          private AuthenticationSuccessHandlerImpl \r\n           authenticationSuccessHandler;\r\n                    \r\n          @Override\r\n          protected void doFilterInternal(HttpServletRequest, \r\n          @NotNull HttpServletResponse httpServletResponse,\r\n          @NotNull FilterChain filterChain) throws ServletException, \r\n       IOException {\r\n                                        \r\n        //SOLUTION        \r\n              authenticationSuccessHandler.onAuthenticationSuccess(httpServletRequest, \r\n        httpServletResponse,                                        \r\n        SecurityContextHolder.getContext().getAuthentication());\r\n        filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n         }\r\n        }\r\n\r\n\r\n\r\n \r\n \r\n","title":"spring AuthenticationSuccessHandler not called","body":"<p>I'm using Spring Boot security and trying to implement an AuthenticationSuccessHandler,\nbut it's ignored when I authenticate. Currently I've not implemented any Roles.</p>\n<p>I have an AbstractController containing an /authenticate endpoint and\na CustomerController which extends it, this is why I have :</p>\n<pre><code>            .loginProcessingUrl(&quot;customer/authenticate&quot;).permitAll()\n</code></pre>\n<p>I have</p>\n<blockquote>\n<p>@Component public class JwtFilter extends OncePerRequestFilter</p>\n</blockquote>\n<p>And added as a filterBefore in my WebSecurity like so :</p>\n<blockquote>\n<p>.addFilterBefore(jwtFitler,UsernamePasswordAuthenticationFilter.clas)</p>\n</blockquote>\n<p><strong>What I've tried :</strong></p>\n<ol>\n<li>Removing &quot;customer&quot; prefix in loginProcessingUrl</li>\n</ol>\n<blockquote>\n<pre><code>          .loginProcessingUrl(&quot;/authenticate&quot;).permitAll()\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Removing</li>\n</ol>\n<blockquote>\n<pre><code>          .addFilterBefore(jwtFitler, UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li>Using SimpleUrlAuthenticationSuccessHandler instead of AuthenticationProvider</li>\n</ol>\n<p><strong>CODE :</strong></p>\n<p>WebSecurity configuration :</p>\n<pre><code>protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().authorizeRequests()\n                .antMatchers(HttpMethod.POST, REGISTER_USERS_URL, LOG_IN_URL).permitAll()\n                .antMatchers(HttpMethod.GET, &quot;/&quot;, HOME, GET_ACCOUNTS_URL).permitAll()\n                .antMatchers(&quot;/**.js&quot;).permitAll()\n                .antMatchers(&quot;/**.css&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;).permitAll()\n                .loginProcessingUrl(&quot;customer/authenticate&quot;).permitAll()\n                .successHandler(authenticationSuccessHandler)\n                .and()\n                .addFilterBefore(jwtFitler, UsernamePasswordAuthenticationFilter.class);\n    }\n</code></pre>\n<p>----------------------- <strong>EDIT WITH SOLUTION</strong> ----------------------</p>\n<p><strong>Solution :</strong></p>\n<p>Call the authentication success handler before doFilter ;</p>\n<pre><code>    authenticationSuccessHandler.onAuthenticationSuccess(\n       httpServletRequest, \n       httpServletResponse,                      \n       SecurityContextHolder.getContext().getAuthentication());\n\n\nfilterChain.doFilter(httpServletRequest, httpServletResponse);\n</code></pre>\n<p><strong>Complete code :</strong></p>\n<pre><code>@Component\npublic class JwtFilter extends OncePerRequestFilter {\n                                \n    @Autowired\n      private AuthenticationSuccessHandlerImpl \n       authenticationSuccessHandler;\n                \n      @Override\n      protected void doFilterInternal(HttpServletRequest, \n      @NotNull HttpServletResponse httpServletResponse,\n      @NotNull FilterChain filterChain) throws ServletException, \n   IOException {\n                                    \n    //SOLUTION        \n          authenticationSuccessHandler.onAuthenticationSuccess(httpServletRequest, \n    httpServletResponse,                                        \n    SecurityContextHolder.getContext().getAuthentication());\n    filterChain.doFilter(httpServletRequest, httpServletResponse);\n     }\n    }\n</code></pre>\n"},{"tags":["java","activemq-artemis","jms-topic"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1648111642,"post_id":71599333,"comment_id":126542898,"body_markdown":"did you remove the consumer from your other app, or is it still listening on that other one?  Open your Artemis MQ Client and see how many *Consumers* are registered on that topic to confirm.","body":"did you remove the consumer from your other app, or is it still listening on that other one?  Open your Artemis MQ Client and see how many <i>Consumers</i> are registered on that topic to confirm."},{"owner":{"account_id":7629995,"reputation":301,"user_id":5785358,"accept_rate":0,"display_name":"Etch"},"score":0,"creation_date":1648112480,"post_id":71599333,"comment_id":126543185,"body_markdown":"No i have a consumer on the other app. If i add a thread.sleep i see the producer and consumer in the ActiveMQ Artemis management console using the default http://localhost:8161/console/ but no messages are exchanged. Something may be wrong with my code?","body":"No i have a consumer on the other app. If i add a thread.sleep i see the producer and consumer in the ActiveMQ Artemis management console using the default <a href=\"http://localhost:8161/console/\" rel=\"nofollow noreferrer\">localhost:8161/console</a> but no messages are exchanged. Something may be wrong with my code?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1648135869,"post_id":71599333,"comment_id":126552849,"body_markdown":"If you&#39;ve updated your `ExampleSubscriber` to invoke `connection.start()` then you should update your question. Otherwise anybody who knows how to use JMS will think that&#39;s the problem.","body":"If you&#39;ve updated your <code>ExampleSubscriber</code> to invoke <code>connection.start()</code> then you should update your question. Otherwise anybody who knows how to use JMS will think that&#39;s the problem."},{"owner":{"account_id":7629995,"reputation":301,"user_id":5785358,"accept_rate":0,"display_name":"Etch"},"score":0,"creation_date":1648211797,"post_id":71599333,"comment_id":126573221,"body_markdown":"Was it necessary to update? It did not fix the problem","body":"Was it necessary to update? It did not fix the problem"}],"answers":[{"tags":[],"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648114190,"creation_date":1648114190,"answer_id":71599933,"question_id":71599333,"body_markdown":"The consumer app needs to [starts][1] the JMS connection to receive incoming messages, i.e.\r\n\r\n    connection.start();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Connection.html#start--","title":"How to consume ActiveMQ Artemis jms topic from another application Java","body":"<p>The consumer app needs to <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Connection.html#start--\" rel=\"nofollow noreferrer\">starts</a> the JMS connection to receive incoming messages, i.e.</p>\n<pre><code>connection.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648136035,"creation_date":1648136035,"answer_id":71605310,"question_id":71599333,"body_markdown":"You must ensure that messages are sent to the JMS topic _while_ the consumer is actively listening for messages. As defined by the JMS specification, JMS topic consumers _only_ get messages sent to the topic while they are connected. The only exception to this is if the consumer has already created a durable subscription, but you aren&#39;t doing that.","title":"How to consume ActiveMQ Artemis jms topic from another application Java","body":"<p>You must ensure that messages are sent to the JMS topic <em>while</em> the consumer is actively listening for messages. As defined by the JMS specification, JMS topic consumers <em>only</em> get messages sent to the topic while they are connected. The only exception to this is if the consumer has already created a durable subscription, but you aren't doing that.</p>\n"},{"tags":[],"owner":{"account_id":7629995,"reputation":301,"user_id":5785358,"accept_rate":0,"display_name":"Etch"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648210617,"creation_date":1648210617,"answer_id":71616859,"question_id":71599333,"body_markdown":"Thanks everyone, I tried all your suggestions but for some strange reason it did not work. After a full 2 nights of research It only worked when I used jms 2.0 implementation\r\n\r\n\r\n        try (ActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\r\n             JMSContext jmsContext = cf.createContext()) {\r\n        //add your consumer code here for consumer\r\n        //add your producer code here for producer\r\n        }","title":"How to consume ActiveMQ Artemis jms topic from another application Java","body":"<p>Thanks everyone, I tried all your suggestions but for some strange reason it did not work. After a full 2 nights of research It only worked when I used jms 2.0 implementation</p>\n<pre><code>    try (ActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();\n         JMSContext jmsContext = cf.createContext()) {\n    //add your consumer code here for consumer\n    //add your producer code here for producer\n    }\n</code></pre>\n"}],"owner":{"account_id":7629995,"reputation":301,"user_id":5785358,"accept_rate":0,"display_name":"Etch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1648210617,"creation_date":1648111454,"question_id":71599333,"body_markdown":"I have a situation where if i call my consumer on the fly from within the app it works with the code below. How do i receive this message from a different application? Working code below:\r\n\r\n```\r\npublic class TopicExample {\r\n    public static void main(final String[] args) throws Exception {\r\n        Connection connection = null;\r\n        InitialContext initialContext = null;\r\n        try {\r\n            initialContext = new InitialContext();\r\n            Topic topic = (Topic) initialContext.lookup(&quot;topic/exampleTopic&quot;);\r\n            ConnectionFactory cf = (ConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\r\n            connection = cf.createConnection();\r\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n            MessageProducer producer = session.createProducer(topic);\r\n            MessageConsumer messageConsumer = session.createConsumer(topic);\r\n            TextMessage message = session.createTextMessage(&quot;This is a text message &quot;);\r\n            producer.send(message);\r\n            System.out.println(&quot;Sent message: &quot; + message.getText());\r\n            connection.start();\r\n            System.out.println(&quot;*************************************************************&quot;);\r\n            TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000);\r\n            System.out.println(&quot;messageConsumer received: &quot; + messageReceived.getText());\r\n            messageConsumer.close();\r\n        } finally {\r\n            if (initialContext != null) {\r\n                initialContext.close();\r\n            }\r\n            if (connection != null) {\r\n                connection.close();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI am using the same artemis broker and if i check the console the consumer and producer show but the message is always null with **TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000);** and if i use **MessageConsumer messageConsumer = session.createConsumer(topic);** it never goes there. My code in the different app which does not work is as below:\r\n\r\n```\r\npublic class ExampleSubscriber {\r\n    public static void main(String[] args) {\r\n        Connection connection = null;\r\n        InitialContext initialContext = null;\r\n        try {\r\n            initialContext = new InitialContext();\r\n            Topic topic = (Topic) initialContext.lookup(&quot;topic/exampleTopic&quot;);\r\n            ConnectionFactory cf = (ConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\r\n            connection = cf.createConnection();\r\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n            MessageConsumer messageConsumer = session.createConsumer(topic);\r\n           // messageConsumer.setMessageListener(new DefaultMessageListener()); does not work\r\n           // TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000); \r\n           // System.out.println(messageReceived); if i dont use listener this is always null\r\n        } catch (NamingException e) {\r\n            e.printStackTrace();\r\n        } catch (JMSException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (initialContext != null) {\r\n                try {\r\n                    initialContext.close();\r\n                } catch (NamingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            if (connection != null) {\r\n                try {\r\n                    connection.close();\r\n                } catch (JMSException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private static class DefaultMessageListener implements MessageListener {\r\n        @Override\r\n        public void onMessage(Message message) {\r\n            System.out.println(message); //never comes here when using listener\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How to consume ActiveMQ Artemis jms topic from another application Java","body":"<p>I have a situation where if i call my consumer on the fly from within the app it works with the code below. How do i receive this message from a different application? Working code below:</p>\n<pre><code>public class TopicExample {\n    public static void main(final String[] args) throws Exception {\n        Connection connection = null;\n        InitialContext initialContext = null;\n        try {\n            initialContext = new InitialContext();\n            Topic topic = (Topic) initialContext.lookup(&quot;topic/exampleTopic&quot;);\n            ConnectionFactory cf = (ConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\n            connection = cf.createConnection();\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n            MessageProducer producer = session.createProducer(topic);\n            MessageConsumer messageConsumer = session.createConsumer(topic);\n            TextMessage message = session.createTextMessage(&quot;This is a text message &quot;);\n            producer.send(message);\n            System.out.println(&quot;Sent message: &quot; + message.getText());\n            connection.start();\n            System.out.println(&quot;*************************************************************&quot;);\n            TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000);\n            System.out.println(&quot;messageConsumer received: &quot; + messageReceived.getText());\n            messageConsumer.close();\n        } finally {\n            if (initialContext != null) {\n                initialContext.close();\n            }\n            if (connection != null) {\n                connection.close();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I am using the same artemis broker and if i check the console the consumer and producer show but the message is always null with <strong>TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000);</strong> and if i use <strong>MessageConsumer messageConsumer = session.createConsumer(topic);</strong> it never goes there. My code in the different app which does not work is as below:</p>\n<pre><code>public class ExampleSubscriber {\n    public static void main(String[] args) {\n        Connection connection = null;\n        InitialContext initialContext = null;\n        try {\n            initialContext = new InitialContext();\n            Topic topic = (Topic) initialContext.lookup(&quot;topic/exampleTopic&quot;);\n            ConnectionFactory cf = (ConnectionFactory) initialContext.lookup(&quot;ConnectionFactory&quot;);\n            connection = cf.createConnection();\n            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n            MessageConsumer messageConsumer = session.createConsumer(topic);\n           // messageConsumer.setMessageListener(new DefaultMessageListener()); does not work\n           // TextMessage messageReceived = (TextMessage) messageConsumer.receive(1000); \n           // System.out.println(messageReceived); if i dont use listener this is always null\n        } catch (NamingException e) {\n            e.printStackTrace();\n        } catch (JMSException e) {\n            e.printStackTrace();\n        } finally {\n            if (initialContext != null) {\n                try {\n                    initialContext.close();\n                } catch (NamingException e) {\n                    e.printStackTrace();\n                }\n            }\n            if (connection != null) {\n                try {\n                    connection.close();\n                } catch (JMSException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n    private static class DefaultMessageListener implements MessageListener {\n        @Override\n        public void onMessage(Message message) {\n            System.out.println(message); //never comes here when using listener\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","session"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1648197512,"post_id":71612996,"comment_id":126568274,"body_markdown":"You have to display your code in your question.","body":"You have to display your code in your question."},{"owner":{"account_id":22825337,"reputation":31,"user_id":16974685,"display_name":"Alyan Ahmed"},"score":0,"creation_date":1648210210,"post_id":71612996,"comment_id":126572648,"body_markdown":"@FaeemazazBhanej I have displayed my method where I am going to use getCurrentSession().","body":"@FaeemazazBhanej I have displayed my method where I am going to use getCurrentSession()."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648192470,"creation_date":1648192147,"answer_id":71613264,"question_id":71612996,"body_markdown":"Lets imagine your `Hibernate`  session manager class looks like this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class HibernateSessionManager {\r\n\r\n        private static final SessionFactory sessionFactory = buildSessionFactory();\r\n\r\n        private static SessionFactory buildSessionFactory() {\r\n\r\n            Configuration configuration = new Configuration();\r\n            configuration.configure(&quot;hibernate.cfg.xml&quot;);\r\n\r\n            ServiceRegistryBuilder serviceRegistryBuilder = new ServiceRegistryBuilder()\r\n                    .applySettings(configuration.getProperties());\r\n            return configuration.buildSessionFactory(serviceRegistryBuilder\r\n                    .buildServiceRegistry());\r\n        }\r\n\r\n        public static SessionFactory getSessionFactory() {\r\n            return sessionFactory;\r\n        }\r\n\r\n    }\r\n\r\nUse this property in your configuration file\r\n\r\n    &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n Instead of you currecnt one i.e\r\n\r\n    &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocal‌​SessionContext&lt;/property&gt;\r\n\r\nAnd get your session with\r\n\r\n    Session session = HibernateSessionManager.getSessionFactory().openSession();","title":"No CurrentSessionContext configured, while using getCurrentSession()","body":"<p>Lets imagine your <code>Hibernate</code>  session manager class looks like this</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>public class HibernateSessionManager {\n\n    private static final SessionFactory sessionFactory = buildSessionFactory();\n\n    private static SessionFactory buildSessionFactory() {\n\n        Configuration configuration = new Configuration();\n        configuration.configure(&quot;hibernate.cfg.xml&quot;);\n\n        ServiceRegistryBuilder serviceRegistryBuilder = new ServiceRegistryBuilder()\n                .applySettings(configuration.getProperties());\n        return configuration.buildSessionFactory(serviceRegistryBuilder\n                .buildServiceRegistry());\n    }\n\n    public static SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n\n}\n</code></pre>\n<p>Use this property in your configuration file</p>\n<pre><code>&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n</code></pre>\n<p>Instead of you currecnt one i.e</p>\n<pre><code>&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocal‌​SessionContext&lt;/property&gt;\n</code></pre>\n<p>And get your session with</p>\n<pre><code>Session session = HibernateSessionManager.getSessionFactory().openSession();\n</code></pre>\n"}],"owner":{"account_id":22825337,"reputation":31,"user_id":16974685,"display_name":"Alyan Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648210128,"creation_date":1648189948,"question_id":71612996,"body_markdown":"I am changing my code from ```openSession()``` to ```getCurrentSession()``` so it won&#39;t create connections at each request.\r\nI have done code in class as:\r\n```@Override\r\n\tpublic Session openSession(boolean current1){\r\n\t\tint count = 0;\r\n\t\tint MAX_COUNT = 10;\r\n//\t\tthis.printIdMap();\r\n\t\twhile( count++ &lt; MAX_COUNT) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.session = this.getSessionFactory().getCurrentSession();\r\n\t\t\t\tthis.transaction = this.session.beginTransaction();\r\n\t\t\t\t\r\n\t\t\t\tthis.IncDecCounter(true);\r\n//\t\t\t\tthis.session.getTransaction().commit();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcatch ( Exception e ) {\r\n\t\t\t\tthis.printIdMap();\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\ttry { this.session.close(); } catch( Exception e1 ) {}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.session;\r\n\t}\r\n```\r\n\r\nI have checked in multiple places to set property in hibernate.cfg.xml file.\r\n```\r\n&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n```\r\n\r\nI also tried\r\n```\r\n&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocal‌​SessionContext&lt;/property&gt;\r\n```\r\n\r\nbut facing error as\r\n```\r\norg.hibernate.HibernateException: No CurrentSessionContext configured!\r\n```\r\n\r\nThe hibernate version which I am using is 5.4.1","title":"No CurrentSessionContext configured, while using getCurrentSession()","body":"<p>I am changing my code from <code>openSession()</code> to <code>getCurrentSession()</code> so it won't create connections at each request.\nI have done code in class as:</p>\n<pre><code>    public Session openSession(boolean current1){\n        int count = 0;\n        int MAX_COUNT = 10;\n//      this.printIdMap();\n        while( count++ &lt; MAX_COUNT) {\n            try {\n                this.session = this.getSessionFactory().getCurrentSession();\n                this.transaction = this.session.beginTransaction();\n                \n                this.IncDecCounter(true);\n//              this.session.getTransaction().commit();\n                break;\n            }\n            catch ( Exception e ) {\n                this.printIdMap();\n                e.printStackTrace();\n                try { this.session.close(); } catch( Exception e1 ) {}\n            }\n        }\n        return this.session;\n    }\n</code></pre>\n<p>I have checked in multiple places to set property in hibernate.cfg.xml file.</p>\n<pre><code>&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n</code></pre>\n<p>I also tried</p>\n<pre><code>&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocal‌​SessionContext&lt;/property&gt;\n</code></pre>\n<p>but facing error as</p>\n<pre><code>org.hibernate.HibernateException: No CurrentSessionContext configured!\n</code></pre>\n<p>The hibernate version which I am using is 5.4.1</p>\n"},{"tags":["java","spring","spring-security","spring-java-config"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1475164775,"post_id":39774023,"comment_id":66844211,"body_markdown":"You never call your `AuthenticationSuccessHandler`. If you override `doFilter`you have to call the handlers manually.","body":"You never call your <code>AuthenticationSuccessHandler</code>. If you override <code>doFilter</code>you have to call the handlers manually."},{"owner":{"account_id":8462243,"reputation":21,"user_id":6899843,"display_name":"shi jiang"},"score":0,"creation_date":1475179363,"post_id":39774023,"comment_id":66852357,"body_markdown":"Thank you. This solves my problem.","body":"Thank you. This solves my problem."}],"answers":[{"tags":[],"owner":{"account_id":8984011,"reputation":35,"user_id":6698175,"display_name":"F.A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648210057,"creation_date":1648208193,"answer_id":71616333,"question_id":39774023,"body_markdown":"I had the same problem ([https://stackoverflow.com/questions/71603497/spring-authenticationsuccesshandler-not-called][1]) , I&#39;ll complete with the solution code : \r\n\r\n    \r\n\r\n\r\n\r\n    @Autowired\r\n    private CustomAuthenticationSuccessHandler customAuthenticationSuccessHandler;\r\n        \r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response,\r\n                             FilterChain chain) throws IOException, ServletException {\r\n        \r\n    //CODE\r\n                \r\n      customAuthenticationSuccessHandler.onAuthenticationSuccess(\r\n      httpServletRequest, \r\n      (HttpServletResponse)response,\r\n      SecurityContextHolder.getContext().getAuthentication());\r\n                    \r\n      chain.doFilter(request, response);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71603497/spring-authenticationsuccesshandler-not-called","title":"onAuthenticationSuccess of my Custom AuthenticationSuccessHandler is not called","body":"<p>I had the same problem (<a href=\"https://stackoverflow.com/questions/71603497/spring-authenticationsuccesshandler-not-called\">spring AuthenticationSuccessHandler not called</a>) , I'll complete with the solution code :</p>\n<pre><code>@Autowired\nprivate CustomAuthenticationSuccessHandler customAuthenticationSuccessHandler;\n    \n@Override\npublic void doFilter(ServletRequest request, ServletResponse response,\n                         FilterChain chain) throws IOException, ServletException {\n    \n//CODE\n            \n  customAuthenticationSuccessHandler.onAuthenticationSuccess(\n  httpServletRequest, \n  (HttpServletResponse)response,\n  SecurityContextHolder.getContext().getAuthentication());\n                \n  chain.doFilter(request, response);\n}\n</code></pre>\n"}],"owner":{"account_id":8462243,"reputation":21,"user_id":6899843,"display_name":"shi jiang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648210057,"creation_date":1475161893,"question_id":39774023,"body_markdown":"I have a problem with configuring two Spring Security adapters. One will be using form login, and the other will be basic authentication. The problem is that I could not invoke the `onAuthenticationSuccess` method in my `CustomAuthenticationSuccessHandler` after successfully authenticated through the basic authentication.\r\n\r\nThe following is my Java config. Thank you for your input.\r\n\r\n\r\n    @EnableWebSecurity\r\n\r\n    public class MultiHttpSecurityConfig {\r\n\r\n        ...\r\n\r\n        @Configuration\r\n        @Order(1)\r\n        public class ApiWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\r\n            protected void configure(HttpSecurity http) throws Exception {\r\n                http\r\n                        .antMatcher(&quot;/auth/login&quot;)\r\n                        .authorizeRequests()\r\n                            .anyRequest().authenticated()\r\n                        .and()\r\n                        .httpBasic()\r\n                        .authenticationEntryPoint(customAuthenticationEntryPoint)\r\n                        .and()\r\n                        .addFilterBefore(authenticationTokenProcessingFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n            }\r\n        }\r\n\r\n        @Configuration\r\n        public class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n            @Override\r\n            protected void configure(HttpSecurity http) throws Exception {\r\n                http.authorizeRequests()\r\n                        .antMatchers(&quot;/admin&quot;)\r\n                        .hasRole(&quot;ADMIN&quot;)\r\n                        .antMatchers(&quot;/admin**&quot;)\r\n                        .hasRole(&quot;ADMIN&quot;)\r\n                        .antMatchers(&quot;/**&quot;)\r\n                        .authenticated()\r\n                        .and()\r\n                            .formLogin()\r\n                                .successHandler(savedRequestAwareAuthenticationSuccessHandler)\r\n                                .loginPage(&quot;/login&quot;)\r\n                                .permitAll()\r\n                                .failureUrl(&quot;/login?error&quot;)\r\n                                .loginProcessingUrl(&quot;/auth/login_check&quot;)\r\n                                .usernameParameter(&quot;username&quot;)\r\n                                .passwordParameter(&quot;password&quot;)\r\n                        .and()\r\n                            .logout()\r\n                                .logoutUrl(&quot;/logout&quot;)\r\n                                .logoutSuccessUrl(&quot;/login?logout&quot;)\r\n                                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                                .invalidateHttpSession(true)\r\n                        .and()\r\n                            .exceptionHandling().accessDeniedPage(&quot;/denied&quot;)\r\n                        .and()\r\n                            .csrf()\r\n                        .and()\r\n                            .rememberMe().rememberMeServices(new PersistentTokenBasedRememberMeServices(internalSecretKey, userDetailsService, persistentTokenRepository))\r\n                            .key(internalSecretKey)\r\n                            .tokenValiditySeconds(1209600);\r\n            }\r\n        }\r\n\r\n        private AuthenticationTokenProcessingFilter authenticationTokenProcessingFilter(){\r\n\r\n            AuthenticationTokenProcessingFilter filter = new AuthenticationTokenProcessingFilter();\r\n            filter.setAuthenticationProvider(CustomAuthenticationProvider);\r\n            filter.setAuthenticationSuccessHandler(new CustomAuthenticationSuccessHandler());\r\n            filter.setAuthenticationFailureHandler(new CustomAuthenticationFailureHandler());\r\n            return filter;\r\n        }\r\n    }\r\n\r\n\r\nHere is my code for the custom filter.\r\n\r\n\r\n\r\n    public class AuthenticationTokenProcessingFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n        ...\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response,\r\n                         FilterChain chain) throws IOException, ServletException {\r\n\r\n            System.out.println(&quot;Checking headers and parameters for authentication token...&quot;);\r\n\r\n            String token = null;\r\n\r\n            HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n\r\n            if (httpServletRequest.getParameter(&quot;token&quot;) != null) {\r\n                token = httpServletRequest.getParameter(&quot;token&quot;);\r\n                System.out.println(&quot;Found token &#39;&quot; + token + &quot;&#39; in request parameters&quot;);\r\n            } else if (httpServletRequest.getHeader(&quot;Authentication-token&quot;) != null) {\r\n                token = httpServletRequest.getHeader(&quot;Authentication-token&quot;);\r\n                System.out.println(&quot;Found token &#39;&quot; + token + &quot;&#39; in request headers&quot;);\r\n            }\r\n\r\n            if (token != null) {\r\n                authenticateUser(httpServletRequest, user);\r\n            }\r\n\r\n            chain.doFilter(request, response);\r\n        }\r\n\r\n        private void authenticateUser(HttpServletRequest request, UserDetails user) {\r\n            ...\r\n\r\n            SecurityContext sc = securityContextProvider.getSecurityContext();\r\n            sc.setAuthentication(auth.authenticate(authentication));\r\n        }\r\n    }\r\n","title":"onAuthenticationSuccess of my Custom AuthenticationSuccessHandler is not called","body":"<p>I have a problem with configuring two Spring Security adapters. One will be using form login, and the other will be basic authentication. The problem is that I could not invoke the <code>onAuthenticationSuccess</code> method in my <code>CustomAuthenticationSuccessHandler</code> after successfully authenticated through the basic authentication.</p>\n\n<p>The following is my Java config. Thank you for your input.</p>\n\n<pre><code>@EnableWebSecurity\n\npublic class MultiHttpSecurityConfig {\n\n    ...\n\n    @Configuration\n    @Order(1)\n    public class ApiWebSecurityConfigurationAdapter extends WebSecurityConfigurerAdapter {\n        protected void configure(HttpSecurity http) throws Exception {\n            http\n                    .antMatcher(\"/auth/login\")\n                    .authorizeRequests()\n                        .anyRequest().authenticated()\n                    .and()\n                    .httpBasic()\n                    .authenticationEntryPoint(customAuthenticationEntryPoint)\n                    .and()\n                    .addFilterBefore(authenticationTokenProcessingFilter(), UsernamePasswordAuthenticationFilter.class)\n                    .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        }\n    }\n\n    @Configuration\n    public class FormLoginWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.authorizeRequests()\n                    .antMatchers(\"/admin\")\n                    .hasRole(\"ADMIN\")\n                    .antMatchers(\"/admin**\")\n                    .hasRole(\"ADMIN\")\n                    .antMatchers(\"/**\")\n                    .authenticated()\n                    .and()\n                        .formLogin()\n                            .successHandler(savedRequestAwareAuthenticationSuccessHandler)\n                            .loginPage(\"/login\")\n                            .permitAll()\n                            .failureUrl(\"/login?error\")\n                            .loginProcessingUrl(\"/auth/login_check\")\n                            .usernameParameter(\"username\")\n                            .passwordParameter(\"password\")\n                    .and()\n                        .logout()\n                            .logoutUrl(\"/logout\")\n                            .logoutSuccessUrl(\"/login?logout\")\n                            .deleteCookies(\"JSESSIONID\")\n                            .invalidateHttpSession(true)\n                    .and()\n                        .exceptionHandling().accessDeniedPage(\"/denied\")\n                    .and()\n                        .csrf()\n                    .and()\n                        .rememberMe().rememberMeServices(new PersistentTokenBasedRememberMeServices(internalSecretKey, userDetailsService, persistentTokenRepository))\n                        .key(internalSecretKey)\n                        .tokenValiditySeconds(1209600);\n        }\n    }\n\n    private AuthenticationTokenProcessingFilter authenticationTokenProcessingFilter(){\n\n        AuthenticationTokenProcessingFilter filter = new AuthenticationTokenProcessingFilter();\n        filter.setAuthenticationProvider(CustomAuthenticationProvider);\n        filter.setAuthenticationSuccessHandler(new CustomAuthenticationSuccessHandler());\n        filter.setAuthenticationFailureHandler(new CustomAuthenticationFailureHandler());\n        return filter;\n    }\n}\n</code></pre>\n\n<p>Here is my code for the custom filter.</p>\n\n<pre><code>public class AuthenticationTokenProcessingFilter extends UsernamePasswordAuthenticationFilter {\n\n    ...\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response,\n                     FilterChain chain) throws IOException, ServletException {\n\n        System.out.println(\"Checking headers and parameters for authentication token...\");\n\n        String token = null;\n\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n\n        if (httpServletRequest.getParameter(\"token\") != null) {\n            token = httpServletRequest.getParameter(\"token\");\n            System.out.println(\"Found token '\" + token + \"' in request parameters\");\n        } else if (httpServletRequest.getHeader(\"Authentication-token\") != null) {\n            token = httpServletRequest.getHeader(\"Authentication-token\");\n            System.out.println(\"Found token '\" + token + \"' in request headers\");\n        }\n\n        if (token != null) {\n            authenticateUser(httpServletRequest, user);\n        }\n\n        chain.doFilter(request, response);\n    }\n\n    private void authenticateUser(HttpServletRequest request, UserDetails user) {\n        ...\n\n        SecurityContext sc = securityContextProvider.getSecurityContext();\n        sc.setAuthentication(auth.authenticate(authentication));\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1648207121,"post_id":71616053,"comment_id":126571622,"body_markdown":"Please provide a [mcve]. We can&#39;t see the code that&#39;s causing the problem at the moment.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We can&#39;t see the code that&#39;s causing the problem at the moment."}],"answers":[{"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648209555,"creation_date":1648208454,"answer_id":71616398,"question_id":71616053,"body_markdown":"Please change your xml as below\r\n\r\n```\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;1&lt;/element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;2&lt;/element2&gt;\r\n     &lt;element2&gt;2&lt;/element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n```\r\n\r\n```\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;4&lt;/element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;5&lt;/element2&gt;\r\n     &lt;element2&gt;5&lt;/element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n```\r\n\r\nit seems you forgot the close the tags `element1` and `element2` to prevent reference of the previous document\r\n\r\nAnd write code using `.copy()` method\r\n\r\n```\r\nBuilder parser = new Builder();\r\n        \r\nBuilder builder = new Builder();\r\nDocument root = builder.build(&quot;&lt;root&gt;&lt;/root&gt;&quot;, null);\r\n        \r\nDocument doc = parser.build(&quot;aa.xml&quot;);\r\nroot.getRootElement().appendChild(doc.getRootElement().copy());\r\n        \r\ndoc = parser.build(&quot;aa2.xml&quot;);\r\nroot.getRootElement().appendChild(doc.getRootElement().copy());\r\n        \r\nSystem.out.println(root.toXML());\r\n```\r\n\r\nYou will get this output\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;root&gt;&lt;sqa&gt;\r\n  &lt;element1&gt;4&lt;/element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;5&lt;/element2&gt;\r\n     &lt;element2&gt;5&lt;/element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;&lt;sqa&gt;\r\n  &lt;element1&gt;1&lt;/element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;2&lt;/element2&gt;\r\n     &lt;element2&gt;2&lt;/element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;&lt;/root&gt;\r\n\r\n````\r\n","title":"adding two or more xml files which have same structure as a child to another root element","body":"<p>Please change your xml as below</p>\n<pre><code>&lt;sqa&gt;\n  &lt;element1&gt;1&lt;/element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;2&lt;/element2&gt;\n     &lt;element2&gt;2&lt;/element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n</code></pre>\n<pre><code>&lt;sqa&gt;\n  &lt;element1&gt;4&lt;/element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;5&lt;/element2&gt;\n     &lt;element2&gt;5&lt;/element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n</code></pre>\n<p>it seems you forgot the close the tags <code>element1</code> and <code>element2</code> to prevent reference of the previous document</p>\n<p>And write code using <code>.copy()</code> method</p>\n<pre><code>Builder parser = new Builder();\n        \nBuilder builder = new Builder();\nDocument root = builder.build(&quot;&lt;root&gt;&lt;/root&gt;&quot;, null);\n        \nDocument doc = parser.build(&quot;aa.xml&quot;);\nroot.getRootElement().appendChild(doc.getRootElement().copy());\n        \ndoc = parser.build(&quot;aa2.xml&quot;);\nroot.getRootElement().appendChild(doc.getRootElement().copy());\n        \nSystem.out.println(root.toXML());\n</code></pre>\n<p>You will get this output</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;root&gt;&lt;sqa&gt;\n  &lt;element1&gt;4&lt;/element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;5&lt;/element2&gt;\n     &lt;element2&gt;5&lt;/element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;&lt;sqa&gt;\n  &lt;element1&gt;1&lt;/element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;2&lt;/element2&gt;\n     &lt;element2&gt;2&lt;/element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;&lt;/root&gt;\n\n</code></pre>\n"}],"owner":{"account_id":5258901,"reputation":343,"user_id":4200960,"accept_rate":17,"display_name":"vrreddy1234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71616398,"answer_count":1,"score":0,"last_activity_date":1648209555,"creation_date":1648206987,"question_id":71616053,"body_markdown":"I am using nu.xom java library, when adding the first xml root node to &lt;root&gt; element, i am getting &quot;MultipleParentException&quot;. Can some one please provide solution, Thanks in advance.\r\n\r\nBelow are sample xml files:\r\n```\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;1&lt;element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;2&lt;element2&gt;\r\n     &lt;element2&gt;2&lt;element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n```\r\n\r\n```\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;4&lt;element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;5&lt;element2&gt;\r\n     &lt;element2&gt;5&lt;element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n```\r\n\r\noutput xml:\r\n\r\n```\r\n&lt;root&gt;\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;1&lt;element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;2&lt;element2&gt;\r\n     &lt;element2&gt;2&lt;element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n&lt;sqa&gt;\r\n  &lt;element1&gt;4&lt;element1&gt;\r\n  &lt;structelement&gt;\r\n     &lt;element2&gt;5&lt;element2&gt;\r\n     &lt;element2&gt;5&lt;element2&gt;\r\n  &lt;/structelement&gt;\r\n&lt;/sqa&gt;\r\n&lt;/root&gt;\r\n```","title":"adding two or more xml files which have same structure as a child to another root element","body":"<p>I am using nu.xom java library, when adding the first xml root node to  element, i am getting &quot;MultipleParentException&quot;. Can some one please provide solution, Thanks in advance.</p>\n<p>Below are sample xml files:</p>\n<pre><code>&lt;sqa&gt;\n  &lt;element1&gt;1&lt;element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;2&lt;element2&gt;\n     &lt;element2&gt;2&lt;element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n</code></pre>\n<pre><code>&lt;sqa&gt;\n  &lt;element1&gt;4&lt;element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;5&lt;element2&gt;\n     &lt;element2&gt;5&lt;element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n</code></pre>\n<p>output xml:</p>\n<pre><code>&lt;root&gt;\n&lt;sqa&gt;\n  &lt;element1&gt;1&lt;element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;2&lt;element2&gt;\n     &lt;element2&gt;2&lt;element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n&lt;sqa&gt;\n  &lt;element1&gt;4&lt;element1&gt;\n  &lt;structelement&gt;\n     &lt;element2&gt;5&lt;element2&gt;\n     &lt;element2&gt;5&lt;element2&gt;\n  &lt;/structelement&gt;\n&lt;/sqa&gt;\n&lt;/root&gt;\n</code></pre>\n"},{"tags":["java","windows","jenkins","jenkins-plugins","perforce"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1633593153,"post_id":69477334,"comment_id":122802084,"body_markdown":"&quot;Java&quot; doesn&#39;t do stuff like that. Some program written in Java does. Probably Jenkins, that seems like a reasonable guess in this scenario. Check the Jenkins logs. Jenkins tends to clean up workspaces that haven&#39;t been used in a bit. Do you expect the workspaces of Jenkins build to stay around forever? Then you may be mis-using Jenkins to do stuff that it&#39;s not meant to do. Though I vaguely remember that there is a bug where that &quot;old workspace cleanup&quot; sometimes actively acts on workspaces that are still used in a build.","body":"&quot;Java&quot; doesn&#39;t do stuff like that. Some program written in Java does. Probably Jenkins, that seems like a reasonable guess in this scenario. Check the Jenkins logs. Jenkins tends to clean up workspaces that haven&#39;t been used in a bit. Do you expect the workspaces of Jenkins build to stay around forever? Then you may be mis-using Jenkins to do stuff that it&#39;s not meant to do. Though I vaguely remember that there is a bug where that &quot;old workspace cleanup&quot; sometimes actively acts on workspaces that are still used in a build."},{"owner":{"account_id":21067214,"reputation":39,"user_id":15484159,"display_name":"diagramd 2020"},"score":0,"creation_date":1636523907,"post_id":69477334,"comment_id":123576930,"body_markdown":"@Joachim Sauer I could not get the information I needed from the jenkins logs, i don&#39;t understand what is wrong &#39;$ cat /var/log/jenkins/jenkins.log\nNov  9 00:30:03 iMac-Macuni newsyslog[22194]: logfile turned over&#39;","body":"@Joachim Sauer I could not get the information I needed from the jenkins logs, i don&#39;t understand what is wrong &#39;$ cat /var/log/jenkins/jenkins.log Nov  9 00:30:03 iMac-Macuni newsyslog[22194]: logfile turned over&#39;"},{"owner":{"account_id":21067214,"reputation":39,"user_id":15484159,"display_name":"diagramd 2020"},"score":0,"creation_date":1636524144,"post_id":69477334,"comment_id":123576967,"body_markdown":"@Joachim Sauer in my case, workspaces that are used daily are deleted, and only those that use the P4 plugin. Those workspaces that are used, for example, are not deleted.","body":"@Joachim Sauer in my case, workspaces that are used daily are deleted, and only those that use the P4 plugin. Those workspaces that are used, for example, are not deleted."},{"owner":{"account_id":21067214,"reputation":39,"user_id":15484159,"display_name":"diagramd 2020"},"score":0,"creation_date":1636524340,"post_id":69477334,"comment_id":123577006,"body_markdown":"@Joachim Sauer in this question, I indicated screen shots from the system logs, where you can see which application is deleting the file https://stackoverflow.com/questions/69894772/how-can-i-view-the-logs-or-set-up-java-log-records-where-java-was-doing-at-a-ce","body":"@Joachim Sauer in this question, I indicated screen shots from the system logs, where you can see which application is deleting the file <a href=\"https://stackoverflow.com/questions/69894772/how-can-i-view-the-logs-or-set-up-java-log-records-where-java-was-doing-at-a-ce\" title=\"how can i view the logs or set up java log records where java was doing at a ce\">stackoverflow.com/questions/69894772/&hellip;</a>"}],"owner":{"account_id":21067214,"reputation":39,"user_id":15484159,"display_name":"diagramd 2020"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1633593120,"answer_count":0,"score":0,"last_activity_date":1648209539,"creation_date":1633593020,"question_id":69477334,"body_markdown":"Trying to raise a discussion on this issue: https://stackoverflow.com/questions/69072026/how-to-stop-spontaneous-deletion-of-files-and-workspaces-created-through-jenkins?noredirect=1#comment122164248_69072026\r\nThe last time the workspaces were deleted, they could not see anything in the P4 logs. But I additionally enabled auditing of files on Windows for these workspaces. Yesterday, the workspaces on the Mac OS were deleted again, and today the workspaces on the Windows instance have already been deleted. I found out from the file audit logs that Java was deleting them (1.8.0_281). And java is used by Jenkins. I got a similar result with Mac OS. Why does java delete my files that were created by the Jenkins P4 plugin?\r\n\r\n\r\nI moved jenkins from mac os to linux. And I have repeated the situation with the removal. I launched an audit of files and folders on Windows, and the audit showed that it was Java. How can I now understand why java deletes this directory and all its files?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen they were deleted on the poppy, it was also noted there that it was Java\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow to understand with simple actions why Java does this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/laTVm.png\r\n  [2]: https://i.stack.imgur.com/g0iwo.png","title":"Why does java delete my files that were created by the Jenkins P4 plugin?","body":"<p>Trying to raise a discussion on this issue: <a href=\"https://stackoverflow.com/questions/69072026/how-to-stop-spontaneous-deletion-of-files-and-workspaces-created-through-jenkins?noredirect=1#comment122164248_69072026\">https://stackoverflow.com/questions/69072026/how-to-stop-spontaneous-deletion-of-files-and-workspaces-created-through-jenkins?noredirect=1#comment122164248_69072026</a>\nThe last time the workspaces were deleted, they could not see anything in the P4 logs. But I additionally enabled auditing of files on Windows for these workspaces. Yesterday, the workspaces on the Mac OS were deleted again, and today the workspaces on the Windows instance have already been deleted. I found out from the file audit logs that Java was deleting them (1.8.0_281). And java is used by Jenkins. I got a similar result with Mac OS. Why does java delete my files that were created by the Jenkins P4 plugin?</p>\n<p>I moved jenkins from mac os to linux. And I have repeated the situation with the removal. I launched an audit of files and folders on Windows, and the audit showed that it was Java. How can I now understand why java deletes this directory and all its files?</p>\n<p><a href=\"https://i.stack.imgur.com/laTVm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/laTVm.png\" alt=\"enter image description here\" /></a></p>\n<p>When they were deleted on the poppy, it was also noted there that it was Java</p>\n<p><a href=\"https://i.stack.imgur.com/g0iwo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g0iwo.png\" alt=\"enter image description here\" /></a></p>\n<p>How to understand with simple actions why Java does this?</p>\n"},{"tags":["java","floating-point","apache-spark-sql","double"],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648209505,"creation_date":1559899526,"answer_id":56491591,"question_id":56490711,"body_markdown":"Please try using the `floor` function, reference this link:\r\nhttps://spark.apache.org/docs/2.3.0/api/sql/index.html#floor","title":"How to round down Values in Spark sql","body":"<p>Please try using the <code>floor</code> function, reference this link:\n<a href=\"https://spark.apache.org/docs/2.3.0/api/sql/index.html#floor\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/2.3.0/api/sql/index.html#floor</a></p>\n"},{"tags":[],"owner":{"account_id":14933384,"reputation":10797,"user_id":10808674,"display_name":"Alain Merigot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1559899674,"creation_date":1559899674,"answer_id":56491641,"question_id":56490711,"body_markdown":"You can use the `floor()` function. It rounds down its argument.\r\n\r\nNote that `floor(x)` gives the largest integer &amp;le;x. So `floor(5.8)` returns 5, but `floor(-5.8)` return -6. If your values may be negative and you want to round them towards 0, you must test their sign and use either `floor()` or `ceil()` (that rounds to the upper value).\r\n\r\nAlso note that casting a float to an int with `int()` rounds it towards zero whatever its sign. Not sure of the actual behavior in spark-sql, but it may solve also your problem. ","title":"How to round down Values in Spark sql","body":"<p>You can use the <code>floor()</code> function. It rounds down its argument.</p>\n\n<p>Note that <code>floor(x)</code> gives the largest integer &le;x. So <code>floor(5.8)</code> returns 5, but <code>floor(-5.8)</code> return -6. If your values may be negative and you want to round them towards 0, you must test their sign and use either <code>floor()</code> or <code>ceil()</code> (that rounds to the upper value).</p>\n\n<p>Also note that casting a float to an int with <code>int()</code> rounds it towards zero whatever its sign. Not sure of the actual behavior in spark-sql, but it may solve also your problem. </p>\n"}],"owner":{"account_id":5612565,"reputation":465,"user_id":4444871,"display_name":"Jazz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56491641,"answer_count":2,"score":0,"last_activity_date":1648209505,"creation_date":1559896216,"question_id":56490711,"body_markdown":"I am querying a postgres sql using the following query. I need to ***round down*** the value of  `min(months_between(current_date,somedate))`\r\n\r\nfor ex: `13.83` should be`13` and not `14`, even `13.9` should be `13` as well. Is there any function that can round down this value in`sparksql`? Any help will be highly appreciated.","title":"How to round down Values in Spark sql","body":"<p>I am querying a postgres sql using the following query. I need to <strong><em>round down</em></strong> the value of  <code>min(months_between(current_date,somedate))</code></p>\n\n<p>for ex: <code>13.83</code> should be<code>13</code> and not <code>14</code>, even <code>13.9</code> should be <code>13</code> as well. Is there any function that can round down this value in<code>sparksql</code>? Any help will be highly appreciated.</p>\n"},{"tags":["java","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"score":0,"creation_date":1648210039,"post_id":71616618,"comment_id":126572588,"body_markdown":"Can you check the database logs together with the app logs to make sure that Postgres has finished creating the database when you try to connect to it?","body":"Can you check the database logs together with the app logs to make sure that Postgres has finished creating the database when you try to connect to it?"},{"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"score":0,"creation_date":1648211067,"post_id":71616618,"comment_id":126572964,"body_markdown":"@HansKilian firstly hello, thank your for command.\n\nWhen i run docker compose file, postgresql work wihtout any error. But studentdb is not created. Actually now, give me another errors. :D \n\nIf you want, you can check following link;\nCode(https://github.com/fsk/ktun-code-presentation)","body":"@HansKilian firstly hello, thank your for command.  When i run docker compose file, postgresql work wihtout any error. But studentdb is not created. Actually now, give me another errors. :D   If you want, you can check following link; Code(<a href=\"https://github.com/fsk/ktun-code-presentation\" rel=\"nofollow noreferrer\">github.com/fsk/ktun-code-presentation</a>)"}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648209464,"creation_date":1648209464,"question_id":71616618,"body_markdown":"I have a very simple crud application in Spring Boot. I want to dockerize this project. \r\n\r\nMy Dockerfile is follow code (Dockerfile is in ROOT folder)\r\n```\r\nFROM openjdk:11\r\nCOPY /target/crudapp-0.0.1-SNAPSHOT.jar /usr/app/\r\nWORKDIR /usr/app\r\nRUN sh -c &#39;touch basic-spring-boot-docker-0.0.1-SNAPSHOT.jar&#39;\r\nARG JAR_FILE=target/basic-spring-boot-docker-0.0.1-SNAPSHOT.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;crudapp-0.0.1-SNAPSHOT.jar&quot;]\r\n```\r\n\r\nAnd my docker-compose.yml file is follow code (docker-compose.yml file is in src/main/docker)\r\n```\r\nversion: &#39;2&#39;\r\n\r\nservices:\r\n  app:\r\n    image: &#39;crudapp:latest&#39;\r\n    build:\r\n      context: ../../.././\r\n    container_name: ktun-crudapp\r\n    depends_on:\r\n      - db\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/studentdb\r\n      - SPRING_DATASOURCE_USERNAME=postgres\r\n      - SPRING_DATASOURCE_PASSWORD=root\r\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\r\n\r\n  db:\r\n    image: &#39;postgres:13.1-alpine&#39;\r\n    container_name: db\r\n    environment:\r\n      - POSTGRES_DB=studentdb\r\n      - POSTGRES_USER=postgres\r\n      - POSTGRES_PASSWORD=root\r\n```\r\n\r\nmy proje structure is the following image\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd you can see my Dockerfile, my project jar file and my docker-compose.yml file.\r\n\r\nWhen i start my docker-compose.yml file with ```docker-compose up``` command, give me an error following image in cmd;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aLc6L.png\r\n  [2]: https://i.stack.imgur.com/J1BG0.png\r\n\r\nHow can i fix.?","title":"Docker - PostgreSQL - Spring Boot Error: db does not exist","body":"<p>I have a very simple crud application in Spring Boot. I want to dockerize this project.</p>\n<p>My Dockerfile is follow code (Dockerfile is in ROOT folder)</p>\n<pre><code>FROM openjdk:11\nCOPY /target/crudapp-0.0.1-SNAPSHOT.jar /usr/app/\nWORKDIR /usr/app\nRUN sh -c 'touch basic-spring-boot-docker-0.0.1-SNAPSHOT.jar'\nARG JAR_FILE=target/basic-spring-boot-docker-0.0.1-SNAPSHOT.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;crudapp-0.0.1-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>And my docker-compose.yml file is follow code (docker-compose.yml file is in src/main/docker)</p>\n<pre><code>version: '2'\n\nservices:\n  app:\n    image: 'crudapp:latest'\n    build:\n      context: ../../.././\n    container_name: ktun-crudapp\n    depends_on:\n      - db\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/studentdb\n      - SPRING_DATASOURCE_USERNAME=postgres\n      - SPRING_DATASOURCE_PASSWORD=root\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\n\n  db:\n    image: 'postgres:13.1-alpine'\n    container_name: db\n    environment:\n      - POSTGRES_DB=studentdb\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=root\n</code></pre>\n<p>my proje structure is the following image</p>\n<p><a href=\"https://i.stack.imgur.com/aLc6L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aLc6L.png\" alt=\"enter image description here\" /></a></p>\n<p>And you can see my Dockerfile, my project jar file and my docker-compose.yml file.</p>\n<p>When i start my docker-compose.yml file with <code>docker-compose up</code> command, give me an error following image in cmd;</p>\n<p><a href=\"https://i.stack.imgur.com/J1BG0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J1BG0.png\" alt=\"enter image description here\" /></a></p>\n<p>How can i fix.?</p>\n"},{"tags":["java","android","android-layout","android-fragments"],"comments":[{"owner":{"account_id":1943617,"reputation":1963,"user_id":1749223,"accept_rate":80,"display_name":"Binary Baba"},"score":0,"creation_date":1549800126,"post_id":54615543,"comment_id":96025316,"body_markdown":"Can you also post your xml files?","body":"Can you also post your xml files?"},{"owner":{"account_id":13386866,"reputation":321,"user_id":9660447,"display_name":"mrRobot"},"score":0,"creation_date":1549808186,"post_id":54615543,"comment_id":96027332,"body_markdown":"@RickSanchez yes, I updated my question with XML files.","body":"@RickSanchez yes, I updated my question with XML files."}],"answers":[{"tags":[],"owner":{"account_id":13386866,"reputation":321,"user_id":9660447,"display_name":"mrRobot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1549916327,"creation_date":1549916327,"answer_id":54638477,"question_id":54615543,"body_markdown":"I have solved this problem myself.\r\n\r\nI went through `TabLayout` in XML again, step by step and now it works. I did not analyze what I did different, but this is working XML `TabLayout`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.InsideActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/logo&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;74dp&quot;\r\n        android:contentDescription=&quot;Title&quot;\r\n        android:padding=&quot;8dp&quot;\r\n        app:srcCompat=&quot;@drawable/logo&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabs&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;65dp&quot;\r\n        android:background=&quot;@color/darkg&quot;\r\n        app:tabSelectedTextColor=&quot;@android:color/white&quot;\r\n        app:tabTextColor=&quot;@android:color/black&quot;&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:id=&quot;@+id/tabItem&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Watchlist&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:id=&quot;@+id/tabItem2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;ExBook&quot; /&gt;\r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;com.fre.book.NonSwipeableViewPager\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n","title":"Layout elements background color changes when app resumes after backpress","body":"<p>I have solved this problem myself.</p>\n\n<p>I went through <code>TabLayout</code> in XML again, step by step and now it works. I did not analyze what I did different, but this is working XML <code>TabLayout</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".InsideActivity\"&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=\"@+id/appbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@android:color/transparent\"&gt;\n\n&lt;ImageView\n    android:id=\"@+id/logo\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"74dp\"\n    android:contentDescription=\"Title\"\n    android:padding=\"8dp\"\n    app:srcCompat=\"@drawable/logo\" /&gt;\n\n&lt;com.google.android.material.tabs.TabLayout\n    android:id=\"@+id/tabs\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"65dp\"\n    android:background=\"@color/darkg\"\n    app:tabSelectedTextColor=\"@android:color/white\"\n    app:tabTextColor=\"@android:color/black\"&gt;\n\n    &lt;com.google.android.material.tabs.TabItem\n        android:id=\"@+id/tabItem\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Watchlist\" /&gt;\n\n    &lt;com.google.android.material.tabs.TabItem\n        android:id=\"@+id/tabItem2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"ExBook\" /&gt;\n&lt;/com.google.android.material.tabs.TabLayout&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;com.fre.book.NonSwipeableViewPager\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17923575,"reputation":21,"user_id":14233192,"display_name":"Sushmit Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648208720,"creation_date":1648208720,"answer_id":71616457,"question_id":54615543,"body_markdown":"Remove this In Your Tab Layout ** app:tabIndicator=&quot;@color/yourColor&quot;**","title":"Layout elements background color changes when app resumes after backpress","body":"<p>Remove this In Your Tab Layout ** app:tabIndicator=&quot;@color/yourColor&quot;**</p>\n"}],"owner":{"account_id":13386866,"reputation":321,"user_id":9660447,"display_name":"mrRobot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54638477,"answer_count":2,"score":1,"last_activity_date":1648208720,"creation_date":1549795106,"question_id":54615543,"body_markdown":"I have activity which has two fragments. Activity contains TabLayout only (2tabs) where these two fragments fill up the tabs body. \r\n\r\nEverything works when I first start the app, all colors are correctly loaded from `colors.xml`. When I press `backpress` button (tried in 2 emulators and also real device, API from 23 to 28), and I reopen the app, color `(#222222)` of the active tab and also color `(#222222)` of other elements everywhere in the fragment changes to the primary color which is `colorAccent: @color/green` in my case. And this `green` color is loaded normally. Other colors in the app do NOT change at all, they stay as they are defined. \r\n\r\nI spent 6 hours debugging this problem, I have no clue, why other colors stay as they should.\r\n\r\nI have experimented and added a new activity which starts when I click on button in the `fragment` and I set this activity `background color` to the same `#222222` which defined in my `colors.xml` as `&lt;color name=&quot;darkg&quot;&gt;#222222&lt;/color&gt;`.\r\n\r\nThe background in this activity is always `green`, even after I start the app normally (not resuming) while the active tab button is `darkg` color. \r\n\r\nThis is how I start my framgent from their parent activity:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_inside);\r\n\r\n        fm = getSupportFragmentManager();\r\n\r\n        // Create the adapter that will return a fragment for each of the three\r\n        // primary sections of the activity.\r\n        mSectionsPagerAdapter = new SectionsPagerAdapter(fm);\r\n\r\n        // Set up the ViewPager with the sections adapter.\r\n        mViewPager = findViewById(R.id.container);\r\n        mViewPager.setAdapter(mSectionsPagerAdapter);\r\n\r\n        TabLayout tabLayout = findViewById(R.id.tabs);\r\n\r\n        mViewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.ViewPagerOnTabSelectedListener(mViewPager));\r\n\r\n    }\r\n\r\n    public class SectionsPagerAdapter extends FragmentPagerAdapter {\r\n\r\n        public SectionsPagerAdapter(FragmentManager fm) {\r\n            super(fm);\r\n        }\r\n\r\n        @Override\r\n        public Fragment getItem(int position) {\r\n            switch (position){\r\n                case 0:\r\n                    return watchList;\r\n                case 1:\r\n\r\n                    return exbook;\r\n                default:\r\n                    return null;\r\n            }\r\n        }`\r\n\r\nI have tried to remove some dependencies which I thought can cause this problem, I have cleaned project enormous number of times, I have invalidated caches and restarted android studio, nothing ever helped. \r\n\r\nMy app is supported from Android 5.0, I tried to test it on emulator with API 23, tab color doesn&#39;t change there, only other elements in the fragment. On the other hand, I tested on emulator with API 28 and also real device API 28, and tab button changes to green also with other elements in fragment + that activity is always green.\r\n\r\nI should also mention, that in my fragment, I have `recyclerview` and I have `alternate rows` background color set like this (it is set in `Adapter.class`, and this color works always, never changes to green:\r\n\r\n    @Override\r\n    public void onBindViewHolder(ViewHolder holder, int position) {\r\n        //holder.textViewPos.setText(&quot;#&quot; + (position + 1));\r\n        holder.swipeLayout.setOffset(itemsOffset[position]);\r\n        //((RecyclerView.LayoutParams) holder.itemView.getLayoutParams()).height = 300;\r\n        if(position %2 == 1)\r\n        {\r\n            holder.itemView.setBackgroundColor(Color.parseColor(&quot;#222222&quot;));\r\n\r\n            //  holder.imageView.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;));\r\n        }\r\n        else\r\n        {\r\n            holder.itemView.setBackgroundColor(Color.parseColor(&quot;#2B2B2B&quot;));\r\n            //  holder.imageView.setBackgroundColor(Color.parseColor(&quot;#FFFAF8FD&quot;));\r\n        }\r\n    }\r\n\r\nXML file for activity, where I have `TabLayout`:\r\n   \r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/main_content&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:context=&quot;.InsideActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingTop=&quot;@dimen/appbar_padding_top&quot;\r\n        android:background=&quot;#fff&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageView2&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;52dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginBottom=&quot;15dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n                app:srcCompat=&quot;@drawable/logo&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabLayout\r\n            android:id=&quot;@+id/tabs&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;65dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:tabBackground=&quot;@drawable/tab_color_selector&quot;\r\n            app:tabIndicator=&quot;@color/darkg&quot;&gt;\r\n\r\n            &lt;com.google.android.material.tabs.TabItem\r\n                android:id=&quot;@+id/tabItem&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Watchlist&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.tabs.TabItem\r\n                android:id=&quot;@+id/tabItem2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Exbook&quot; /&gt;\r\n\r\n        &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;com.me.appka.NonSwipeableViewPager\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n    &lt;/com.me.appka.NonSwipeableViewPager&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nFragment XML:\r\n\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/addToWatchlist&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/darkg&quot;\r\n        android:fontFamily=&quot;sans-serif&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:includeFontPadding=&quot;true&quot;\r\n        android:onClick=&quot;onClickAddNewPerson&quot;\r\n        android:text=&quot;ADD NEW&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@color/details_text&quot;\r\n        android:textSize=&quot;20dp&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recycler_view&quot;\r\n        android:layout_below=&quot;@id/addToWatchlist&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\nActivity XML which is started in Fragment when I click on the button `addToWatchlist`:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.AddToWatchlistActivity&quot;\r\n    android:background=&quot;@color/darkg&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/watchlistTitle&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fontFamily=&quot;sans-serif&quot;\r\n        android:text=&quot;Add new person to you Watchlist&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@android:color/white&quot;\r\n        android:textSize=&quot;18dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/profile_image&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n**UPDATE:**\r\n\r\nI have checked LogCat in more detail and found some lines saying `Choreographer(abc): Skipped xx frames! The application may be doing too much work on its main thread.` So I went through my code again, I do not have anything that could cause too much work, but I have also checked resources, especially drawables and reduced 2 files (png) to smaller size, from `1MB` to about `80KB`and that `warnings` are gone and the color changing behaviour has also changed a little.\r\n\r\nWhen I pressed back button before, and got back into app, dark gray tab + button turned green. Now, when I get back into app right after I press back button, Tab color stays gray, only button in fragment changes to green. When I go out of app and get back again over and over fast enough, it stays that way, but if I wait like 2 seconds and then get back into app, also Tab color changes from gray to green. \r\n\r\nThis is super odd, I have no clue what is wrong.\r\n","title":"Layout elements background color changes when app resumes after backpress","body":"<p>I have activity which has two fragments. Activity contains TabLayout only (2tabs) where these two fragments fill up the tabs body. </p>\n\n<p>Everything works when I first start the app, all colors are correctly loaded from <code>colors.xml</code>. When I press <code>backpress</code> button (tried in 2 emulators and also real device, API from 23 to 28), and I reopen the app, color <code>(#222222)</code> of the active tab and also color <code>(#222222)</code> of other elements everywhere in the fragment changes to the primary color which is <code>colorAccent: @color/green</code> in my case. And this <code>green</code> color is loaded normally. Other colors in the app do NOT change at all, they stay as they are defined. </p>\n\n<p>I spent 6 hours debugging this problem, I have no clue, why other colors stay as they should.</p>\n\n<p>I have experimented and added a new activity which starts when I click on button in the <code>fragment</code> and I set this activity <code>background color</code> to the same <code>#222222</code> which defined in my <code>colors.xml</code> as <code>&lt;color name=\"darkg\"&gt;#222222&lt;/color&gt;</code>.</p>\n\n<p>The background in this activity is always <code>green</code>, even after I start the app normally (not resuming) while the active tab button is <code>darkg</code> color. </p>\n\n<p>This is how I start my framgent from their parent activity:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_inside);\n\n    fm = getSupportFragmentManager();\n\n    // Create the adapter that will return a fragment for each of the three\n    // primary sections of the activity.\n    mSectionsPagerAdapter = new SectionsPagerAdapter(fm);\n\n    // Set up the ViewPager with the sections adapter.\n    mViewPager = findViewById(R.id.container);\n    mViewPager.setAdapter(mSectionsPagerAdapter);\n\n    TabLayout tabLayout = findViewById(R.id.tabs);\n\n    mViewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\n    tabLayout.addOnTabSelectedListener(new TabLayout.ViewPagerOnTabSelectedListener(mViewPager));\n\n}\n\npublic class SectionsPagerAdapter extends FragmentPagerAdapter {\n\n    public SectionsPagerAdapter(FragmentManager fm) {\n        super(fm);\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n        switch (position){\n            case 0:\n                return watchList;\n            case 1:\n\n                return exbook;\n            default:\n                return null;\n        }\n    }`\n</code></pre>\n\n<p>I have tried to remove some dependencies which I thought can cause this problem, I have cleaned project enormous number of times, I have invalidated caches and restarted android studio, nothing ever helped. </p>\n\n<p>My app is supported from Android 5.0, I tried to test it on emulator with API 23, tab color doesn't change there, only other elements in the fragment. On the other hand, I tested on emulator with API 28 and also real device API 28, and tab button changes to green also with other elements in fragment + that activity is always green.</p>\n\n<p>I should also mention, that in my fragment, I have <code>recyclerview</code> and I have <code>alternate rows</code> background color set like this (it is set in <code>Adapter.class</code>, and this color works always, never changes to green:</p>\n\n<pre><code>@Override\npublic void onBindViewHolder(ViewHolder holder, int position) {\n    //holder.textViewPos.setText(\"#\" + (position + 1));\n    holder.swipeLayout.setOffset(itemsOffset[position]);\n    //((RecyclerView.LayoutParams) holder.itemView.getLayoutParams()).height = 300;\n    if(position %2 == 1)\n    {\n        holder.itemView.setBackgroundColor(Color.parseColor(\"#222222\"));\n\n        //  holder.imageView.setBackgroundColor(Color.parseColor(\"#FFFFFF\"));\n    }\n    else\n    {\n        holder.itemView.setBackgroundColor(Color.parseColor(\"#2B2B2B\"));\n        //  holder.imageView.setBackgroundColor(Color.parseColor(\"#FFFAF8FD\"));\n    }\n}\n</code></pre>\n\n<p>XML file for activity, where I have <code>TabLayout</code>:</p>\n\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/main_content\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:fitsSystemWindows=\"true\"\ntools:context=\".InsideActivity\"&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=\"@+id/appbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:paddingTop=\"@dimen/appbar_padding_top\"\n    android:background=\"#fff\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imageView2\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"52dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginBottom=\"15dp\"\n            android:layout_weight=\"1\"\n            app:layout_constraintVertical_bias=\"1.0\"\n            app:srcCompat=\"@drawable/logo\" /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=\"@+id/tabs\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"65dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:tabBackground=\"@drawable/tab_color_selector\"\n        app:tabIndicator=\"@color/darkg\"&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:id=\"@+id/tabItem\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Watchlist\" /&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:id=\"@+id/tabItem2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Exbook\" /&gt;\n\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;com.me.appka.NonSwipeableViewPager\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n&lt;/com.me.appka.NonSwipeableViewPager&gt;\n</code></pre>\n\n<p></p>\n\n<p>Fragment XML:</p>\n\n<pre><code>&lt;RelativeLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;Button\n    android:id=\"@+id/addToWatchlist\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/darkg\"\n    android:fontFamily=\"sans-serif\"\n    android:gravity=\"center_vertical\"\n    android:includeFontPadding=\"true\"\n    android:onClick=\"onClickAddNewPerson\"\n    android:text=\"ADD NEW\"\n    android:textAlignment=\"center\"\n    android:textColor=\"@color/details_text\"\n    android:textSize=\"20dp\" /&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=\"@+id/recycler_view\"\n    android:layout_below=\"@id/addToWatchlist\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Activity XML which is started in Fragment when I click on the button <code>addToWatchlist</code>:</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".AddToWatchlistActivity\"\nandroid:background=\"@color/darkg\"&gt;\n\n&lt;TextView\n    android:id=\"@+id/watchlistTitle\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:fontFamily=\"sans-serif\"\n    android:text=\"Add new person to you Watchlist\"\n    android:textAlignment=\"center\"\n    android:textColor=\"@android:color/white\"\n    android:textSize=\"18dp\"\n    app:layout_constraintBottom_toTopOf=\"@+id/profile_image\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.5\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have checked LogCat in more detail and found some lines saying <code>Choreographer(abc): Skipped xx frames! The application may be doing too much work on its main thread.</code> So I went through my code again, I do not have anything that could cause too much work, but I have also checked resources, especially drawables and reduced 2 files (png) to smaller size, from <code>1MB</code> to about <code>80KB</code>and that <code>warnings</code> are gone and the color changing behaviour has also changed a little.</p>\n\n<p>When I pressed back button before, and got back into app, dark gray tab + button turned green. Now, when I get back into app right after I press back button, Tab color stays gray, only button in fragment changes to green. When I go out of app and get back again over and over fast enough, it stays that way, but if I wait like 2 seconds and then get back into app, also Tab color changes from gray to green. </p>\n\n<p>This is super odd, I have no clue what is wrong.</p>\n"},{"tags":["java","json","spring-boot","microservices","application-design"],"answers":[{"tags":[],"owner":{"account_id":10596164,"reputation":41,"user_id":7804793,"display_name":"Ewan Arends"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648208539,"creation_date":1648208539,"answer_id":71616421,"question_id":71615886,"body_markdown":"One way to do this would be to store the same Object type as your child, so in this case you would get something like this; \r\n```java\r\n(...)\r\npublic class SampleObject {\r\n\r\n    String parent;\r\n\r\n    SampleObject[] children;\r\n\r\n    public SampleObject(String parent, SampleObject... children) {\r\n        this.parent = parent;\r\n        this.children = children;\r\n    }\r\n\r\n    public SampleObject() {\r\n        this(&quot;&quot;)\r\n    }\r\n(...)\r\n}\r\n```","title":"How to build model my application which adds child elements dynamically in spring boot","body":"<p>One way to do this would be to store the same Object type as your child, so in this case you would get something like this;</p>\n<pre class=\"lang-java prettyprint-override\"><code>(...)\npublic class SampleObject {\n\n    String parent;\n\n    SampleObject[] children;\n\n    public SampleObject(String parent, SampleObject... children) {\n        this.parent = parent;\n        this.children = children;\n    }\n\n    public SampleObject() {\n        this(&quot;&quot;)\n    }\n(...)\n}\n</code></pre>\n"}],"owner":{"account_id":11918591,"reputation":69,"user_id":8721872,"display_name":"Prabhakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648208539,"creation_date":1648206280,"question_id":71615886,"body_markdown":"I have to  build java objects with following json structure.\r\n\r\nsample:\r\n\r\n    {\r\n      &quot;parent&quot;:&quot;&quot;\r\n      &quot;children&quot;:[\r\n          {\r\n          &quot;parent&quot;:&quot;abc&quot;\r\n            &quot;children&quot;:[\r\n               parent:&quot;ccd&quot;{\r\n                  &quot;children&quot;:[]\r\n               }\r\n               \r\n             ]\r\n    \r\n          }\r\n           \r\n       }\r\n    }\r\n\r\nI have json like this where a parent can have child object and this child object act as parent to another child object and the chain can increase dynamically .\r\nHow can we model object so that I can form json object like above from my API.\r\n\r\nThanks in advance ","title":"How to build model my application which adds child elements dynamically in spring boot","body":"<p>I have to  build java objects with following json structure.</p>\n<p>sample:</p>\n<pre><code>{\n  &quot;parent&quot;:&quot;&quot;\n  &quot;children&quot;:[\n      {\n      &quot;parent&quot;:&quot;abc&quot;\n        &quot;children&quot;:[\n           parent:&quot;ccd&quot;{\n              &quot;children&quot;:[]\n           }\n           \n         ]\n\n      }\n       \n   }\n}\n</code></pre>\n<p>I have json like this where a parent can have child object and this child object act as parent to another child object and the chain can increase dynamically .\nHow can we model object so that I can form json object like above from my API.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-mvc-test"],"answers":[{"tags":[],"owner":{"account_id":14524496,"reputation":45,"user_id":10491248,"display_name":"M. Merim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648208438,"creation_date":1636068853,"answer_id":69847047,"question_id":69846828,"body_markdown":"Heh, after I started learning Spring Boot I tend to forget basic Java...\r\n\r\nThe solution I came up is that I @Autowire and @AutoConfigureMockMvc in the xControllerTest class and create an instance of AppMockMcv @BeforeAll tests, where I pass in MockMvc and ObjectMapper. \r\n\r\nThat way I can invoke my requests and only have the Mvc performing methods in one class.\r\n\r\nI will share my solution, but I would be very grateful if someone shared a beter solution, as **this is not how it should be done properly**.\r\n\r\n**AppMockMcv:**\r\n\r\n    public class AppMockMcv {\r\n      private static final String DISH_ENDPOINT = &quot;/dishes&quot;;\r\n      private static final String BASE_INGREDIENTS_ENDPOINT = &quot;/base-ingredients&quot;;\r\n    \r\n      private final MockMvc mockMvc;\r\n      private final ObjectMapper objectMapper;\r\n    \r\n      public AppMockMcv(MockMvc mockMvc, ObjectMapper objectMapper) {\r\n        this.mockMvc = mockMvc;\r\n        this.objectMapper = objectMapper;\r\n      }\r\n    \r\n      public List&lt;DishDto&gt; getMockDishes() throws Exception {\r\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders\r\n            .get(DISH_ENDPOINT)\r\n            .queryParam(&quot;custom&quot;, &quot;false&quot;))\r\n          .andExpect(status().isOk())\r\n          .andReturn();\r\n        String contentAsString = mvcResult.getResponse().getContentAsString();\r\n        return objectMapper.readValue(contentAsString, new TypeReference&lt;&gt;() {\r\n        });\r\n      }\r\n     }\r\n\r\n**DishControllerTest:**\r\n\r\n    @AutoConfigureMockMvc\r\n    @SpringBootTest\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    public class DishControllerTest {\r\n    \r\n      @Autowired\r\n      private MockMvc mockMvc;\r\n      @Autowired\r\n      private ObjectMapper objectMapper;\r\n    \r\n      private AppMockMcv appMockMcv;\r\n    \r\n      @BeforeAll\r\n      public void setup() {\r\n        appMockMcv = new AppMockMcv(mockMvc, objectMapper);\r\n      }\r\n    \r\n      @Test\r\n      void testGetDishes() throws Exception {\r\n        List&lt;DishDto&gt; dishes = appMockMcv.getMockDishes();\r\n        assertEquals(4, dishes.size());\r\n        assertNotNull(dishes);\r\n        DishAssertions.containsDish(dishes, &quot;Pasta Carbonara&quot;);\r\n      }\r\n     }\r\n","title":"How to create a general MockMvc class for multiple test classes?","body":"<p>Heh, after I started learning Spring Boot I tend to forget basic Java...</p>\n<p>The solution I came up is that I @Autowire and @AutoConfigureMockMvc in the xControllerTest class and create an instance of AppMockMcv @BeforeAll tests, where I pass in MockMvc and ObjectMapper.</p>\n<p>That way I can invoke my requests and only have the Mvc performing methods in one class.</p>\n<p>I will share my solution, but I would be very grateful if someone shared a beter solution, as <strong>this is not how it should be done properly</strong>.</p>\n<p><strong>AppMockMcv:</strong></p>\n<pre><code>public class AppMockMcv {\n  private static final String DISH_ENDPOINT = &quot;/dishes&quot;;\n  private static final String BASE_INGREDIENTS_ENDPOINT = &quot;/base-ingredients&quot;;\n\n  private final MockMvc mockMvc;\n  private final ObjectMapper objectMapper;\n\n  public AppMockMcv(MockMvc mockMvc, ObjectMapper objectMapper) {\n    this.mockMvc = mockMvc;\n    this.objectMapper = objectMapper;\n  }\n\n  public List&lt;DishDto&gt; getMockDishes() throws Exception {\n    MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders\n        .get(DISH_ENDPOINT)\n        .queryParam(&quot;custom&quot;, &quot;false&quot;))\n      .andExpect(status().isOk())\n      .andReturn();\n    String contentAsString = mvcResult.getResponse().getContentAsString();\n    return objectMapper.readValue(contentAsString, new TypeReference&lt;&gt;() {\n    });\n  }\n }\n</code></pre>\n<p><strong>DishControllerTest:</strong></p>\n<pre><code>@AutoConfigureMockMvc\n@SpringBootTest\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class DishControllerTest {\n\n  @Autowired\n  private MockMvc mockMvc;\n  @Autowired\n  private ObjectMapper objectMapper;\n\n  private AppMockMcv appMockMcv;\n\n  @BeforeAll\n  public void setup() {\n    appMockMcv = new AppMockMcv(mockMvc, objectMapper);\n  }\n\n  @Test\n  void testGetDishes() throws Exception {\n    List&lt;DishDto&gt; dishes = appMockMcv.getMockDishes();\n    assertEquals(4, dishes.size());\n    assertNotNull(dishes);\n    DishAssertions.containsDish(dishes, &quot;Pasta Carbonara&quot;);\n  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23243733,"reputation":26,"user_id":17332659,"display_name":"Honeyeater"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636081703,"creation_date":1636081703,"answer_id":69848271,"question_id":69846828,"body_markdown":"&gt; I did not find much information on how to create a bean for testing\r\n&gt; only, also on how to combine it with AutoConfigureMockMvc. Also, I\r\n&gt; tried to find a way on how to extend MockMvc without success.\r\n\r\nIf you create bean under /test/java, then it will only be used in tests(in most cases), even if the component annotation is used. Check the information here - https://docs.spring.io/spring-boot/docs/1.4.3.RELEASE/reference/html/boot-features-testing.html (40.3.2). \r\n\r\nAlso, I wrote little code for example, it works (Because you didn&#39;t provide configuration for Spring, I used only @SpringBootApplication):\r\n\r\npackage src:\r\n\r\n    @SpringBootApplication\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Main.class, args);\r\n        }\r\n    }\r\n\r\npackage src.test:\r\n\r\n    @Component\r\n    public class CustomMockMVc {\r\n        public MockMvc getMockMvc() {\r\n            return mockMvc;\r\n        }\r\n    \r\n        private final MockMvc mockMvc;\r\n    \r\n        public CustomMockMVc(MockMvc mockMvc) {\r\n            this.mockMvc = mockMvc;\r\n        }\r\n    }\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    public class TestComponent {\r\n        @Autowired\r\n        private CustomMockMVc customMockMVc;\r\n    \r\n        @Test\r\n        public void testMockMvc() {\r\n            System.out.println(customMockMVc.getMockMvc());\r\n        }\r\n    }\r\n\r\n","title":"How to create a general MockMvc class for multiple test classes?","body":"<blockquote>\n<p>I did not find much information on how to create a bean for testing\nonly, also on how to combine it with AutoConfigureMockMvc. Also, I\ntried to find a way on how to extend MockMvc without success.</p>\n</blockquote>\n<p>If you create bean under /test/java, then it will only be used in tests(in most cases), even if the component annotation is used. Check the information here - <a href=\"https://docs.spring.io/spring-boot/docs/1.4.3.RELEASE/reference/html/boot-features-testing.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.4.3.RELEASE/reference/html/boot-features-testing.html</a> (40.3.2).</p>\n<p>Also, I wrote little code for example, it works (Because you didn't provide configuration for Spring, I used only @SpringBootApplication):</p>\n<p>package src:</p>\n<pre><code>@SpringBootApplication\npublic class Main {\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n}\n</code></pre>\n<p>package src.test:</p>\n<pre><code>@Component\npublic class CustomMockMVc {\n    public MockMvc getMockMvc() {\n        return mockMvc;\n    }\n\n    private final MockMvc mockMvc;\n\n    public CustomMockMVc(MockMvc mockMvc) {\n        this.mockMvc = mockMvc;\n    }\n}\n\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class TestComponent {\n    @Autowired\n    private CustomMockMVc customMockMVc;\n\n    @Test\n    public void testMockMvc() {\n        System.out.println(customMockMVc.getMockMvc());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14524496,"reputation":45,"user_id":10491248,"display_name":"M. Merim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69848271,"answer_count":2,"score":1,"last_activity_date":1648208438,"creation_date":1636067019,"question_id":69846828,"body_markdown":"I am writing end to end tests for many different Spring Controllers. Right now, I am trying to write a general class for testing that contains MockMvc performing methods. I have endpoints that I need to call in different Controllers and I do not want to copy paste code around, and have a MockMvc and ObjectMapper in each test class.\r\n\r\n**Few examples of the methods:**\r\n\r\n  \r\n\r\n    public void saveMockDish(DishDto dishDto) throws Exception {\r\n        mockMvc.perform(\r\n            MockMvcRequestBuilders.post(DISH_ENDPOINT)\r\n              .contentType(MediaType.APPLICATION_JSON)\r\n              .content(objectMapper.writeValueAsString(dishDto)))\r\n          .andExpect(status().isCreated());\r\n      }\r\n    \r\n  \r\n    public DishDto getMockDish(Long id) throws Exception {\r\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders\r\n            .get(DISH_ENDPOINT + &quot;/{id}&quot;, id))\r\n          .andExpect(status().isOk())\r\n          .andReturn();\r\n        String contentAsString = mvcResult.getResponse().getContentAsString();\r\n        return objectMapper.readValue(contentAsString, new TypeReference&lt;&gt;() {\r\n        });\r\n      }\r\n\r\n**What I am trying to accomplish (a bean that I could autowire in another class, example in DishControllerTest class):**\r\n\r\n    @AutoConfigureMockMvc\r\n    @TestComponent\r\n    public class AppMockMcv {\r\n      private static final String DISH_ENDPOINT = &quot;/dishes&quot;;\r\n      private static final String BASE_INGREDIENTS_ENDPOINT = &quot;/base-ingredients&quot;;\r\n    \r\n      @Autowired\r\n      private MockMvc mockMvc;\r\n      @Autowired\r\n      private ObjectMapper objectMapper;\r\n    \r\n      public List&lt;DishDto&gt; getMockDishes() throws Exception {\r\n      ...\r\n\r\n**How I want to instantiate my test classes:**\r\n\r\n    @SpringBootTest\r\n    public class DishControllerTest {\r\n    \r\n      @Autowired\r\n      private AppMockMcv appMockMcv;\r\n    \r\n      @Test\r\n      void testGetDishes() throws Exception {\r\n        List&lt;DishDto&gt; dishes = appMockMcv.getMockDishes();\r\n        assertEquals(4, dishes.size());\r\n        assertNotNull(dishes);\r\n        DishAssertions.containsDish(dishes, &quot;Pasta Carbonara&quot;);\r\n      }\r\n\r\nRight now I am facing the issue that I can not use @AutoConfigureMockMvc together with @TestComponent, the bean is not found in autowiring. I also tried @Component, @TestConfiguration, @SpringBootTest annotations in the AppMockMcv class.\r\n\r\nCurrent error, although not very useful:\r\n\r\n    No qualifying bean of type &#39;mtv.restaurant.mock.AppMockMcv&#39; available: \r\n    expected at least 1bean which qualifies as autowire candidate. \r\n    Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\nI did not find much information on how to create a bean for testing only, also on how to combine it with AutoConfigureMockMvc. Also, I tried to find a way on how to extend MockMvc without success.\r\n\r\n**What is the right way to achieve what I am trying to accomplish?**\r\n\r\n- Spring boot 2.5.4","title":"How to create a general MockMvc class for multiple test classes?","body":"<p>I am writing end to end tests for many different Spring Controllers. Right now, I am trying to write a general class for testing that contains MockMvc performing methods. I have endpoints that I need to call in different Controllers and I do not want to copy paste code around, and have a MockMvc and ObjectMapper in each test class.</p>\n<p><strong>Few examples of the methods:</strong></p>\n<pre><code>public void saveMockDish(DishDto dishDto) throws Exception {\n    mockMvc.perform(\n        MockMvcRequestBuilders.post(DISH_ENDPOINT)\n          .contentType(MediaType.APPLICATION_JSON)\n          .content(objectMapper.writeValueAsString(dishDto)))\n      .andExpect(status().isCreated());\n  }\n\n\npublic DishDto getMockDish(Long id) throws Exception {\n    MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders\n        .get(DISH_ENDPOINT + &quot;/{id}&quot;, id))\n      .andExpect(status().isOk())\n      .andReturn();\n    String contentAsString = mvcResult.getResponse().getContentAsString();\n    return objectMapper.readValue(contentAsString, new TypeReference&lt;&gt;() {\n    });\n  }\n</code></pre>\n<p><strong>What I am trying to accomplish (a bean that I could autowire in another class, example in DishControllerTest class):</strong></p>\n<pre><code>@AutoConfigureMockMvc\n@TestComponent\npublic class AppMockMcv {\n  private static final String DISH_ENDPOINT = &quot;/dishes&quot;;\n  private static final String BASE_INGREDIENTS_ENDPOINT = &quot;/base-ingredients&quot;;\n\n  @Autowired\n  private MockMvc mockMvc;\n  @Autowired\n  private ObjectMapper objectMapper;\n\n  public List&lt;DishDto&gt; getMockDishes() throws Exception {\n  ...\n</code></pre>\n<p><strong>How I want to instantiate my test classes:</strong></p>\n<pre><code>@SpringBootTest\npublic class DishControllerTest {\n\n  @Autowired\n  private AppMockMcv appMockMcv;\n\n  @Test\n  void testGetDishes() throws Exception {\n    List&lt;DishDto&gt; dishes = appMockMcv.getMockDishes();\n    assertEquals(4, dishes.size());\n    assertNotNull(dishes);\n    DishAssertions.containsDish(dishes, &quot;Pasta Carbonara&quot;);\n  }\n</code></pre>\n<p>Right now I am facing the issue that I can not use @AutoConfigureMockMvc together with @TestComponent, the bean is not found in autowiring. I also tried @Component, @TestConfiguration, @SpringBootTest annotations in the AppMockMcv class.</p>\n<p>Current error, although not very useful:</p>\n<pre><code>No qualifying bean of type 'mtv.restaurant.mock.AppMockMcv' available: \nexpected at least 1bean which qualifies as autowire candidate. \nDependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)\n</code></pre>\n<p>I did not find much information on how to create a bean for testing only, also on how to combine it with AutoConfigureMockMvc. Also, I tried to find a way on how to extend MockMvc without success.</p>\n<p><strong>What is the right way to achieve what I am trying to accomplish?</strong></p>\n<ul>\n<li>Spring boot 2.5.4</li>\n</ul>\n"},{"tags":["java","jakarta-ee","wildfly","cdi","java-ee-8"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1648133513,"post_id":71482689,"comment_id":126551775,"body_markdown":"The problem here is that JSF &amp; EL cannot find the `loginBean` - not that the `LoginBean` cannot find the `UserDao`, right?","body":"The problem here is that JSF &amp; EL cannot find the <code>loginBean</code> - not that the <code>LoginBean</code> cannot find the <code>UserDao</code>, right?"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1648133849,"post_id":71482689,"comment_id":126551932,"body_markdown":"And, if so, have you tried the method from [this](https://stackoverflow.com/questions/45682309/changing-faces-config-xml-from-2-2-to-2-3-causes-javax-el-propertynotfoundexcept/47447140#47447140)?","body":"And, if so, have you tried the method from <a href=\"https://stackoverflow.com/questions/45682309/changing-faces-config-xml-from-2-2-to-2-3-causes-javax-el-propertynotfoundexcept/47447140#47447140\">this</a>?"},{"owner":{"account_id":3314485,"reputation":828,"user_id":2787159,"accept_rate":86,"display_name":"thatsIch"},"score":0,"creation_date":1648149530,"post_id":71482689,"comment_id":126558123,"body_markdown":"Could you provide the imports as well? Many times the wrong `@RequestScoped`-annotation is used for `@Named`.","body":"Could you provide the imports as well? Many times the wrong <code>@RequestScoped</code>-annotation is used for <code>@Named</code>."},{"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"score":0,"creation_date":1648208049,"post_id":71482689,"comment_id":126571942,"body_markdown":"Hi @NikosParaskevopoulos no loginBean works fine when I remove the Inject UserDAO so its not a problem with the LoginBean, I have managed to get it working now, see answer below...","body":"Hi @NikosParaskevopoulos no loginBean works fine when I remove the Inject UserDAO so its not a problem with the LoginBean, I have managed to get it working now, see answer below..."}],"answers":[{"tags":[],"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648208277,"creation_date":1648208277,"answer_id":71616353,"question_id":71482689,"body_markdown":"Eventually got this working by adding module dependancies to the EJB and Entity modules in jboss-deployment-structure.xml as below...\r\n\r\n    &lt;sub-deployment name=&quot;WebApp-web.war&quot;&gt;\r\n      \t&lt;dependencies&gt;\r\n    \t\t&lt;module name=&quot;deployment.WebApp.ear.WebApp-entities.jar&quot; /&gt;\r\n    \t\t&lt;module name=&quot;deployment.WebApp.ear.WebApp-ejb.jar&quot; /&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/sub-deployment&gt;\r\n\r\nInjection into the WAR now works ok, this was not required in the legacy EE 6 / JBoss 7 app so the class loading behaviour must have changed","title":"Unable to inject @Stateless EJB into CDI bean (multi-module) Jakarta EE 8","body":"<p>Eventually got this working by adding module dependancies to the EJB and Entity modules in jboss-deployment-structure.xml as below...</p>\n<pre><code>&lt;sub-deployment name=&quot;WebApp-web.war&quot;&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;deployment.WebApp.ear.WebApp-entities.jar&quot; /&gt;\n        &lt;module name=&quot;deployment.WebApp.ear.WebApp-ejb.jar&quot; /&gt;\n    &lt;/dependencies&gt;\n  &lt;/sub-deployment&gt;\n</code></pre>\n<p>Injection into the WAR now works ok, this was not required in the legacy EE 6 / JBoss 7 app so the class loading behaviour must have changed</p>\n"}],"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71616353,"answer_count":1,"score":3,"last_activity_date":1648208277,"creation_date":1647349091,"question_id":71482689,"body_markdown":"Migrating a legacy project to Jakarta EE 8 (Maven EAR build on Wildly 26) I am struggling to get the dependancy injection working from my Entities module (EJB packaging) to WAR module, the maven project structure is:\r\n\r\n    -WebApp.ear\r\n        -WebApp-entities.jar\r\n        -WebApp-ejb.jar\r\n        -WebApp-web.war\r\n        -WebApp-mobile.war\r\n        -WebApp-api.war\r\n\r\nThe structure was created based on the wildfly-jakartaee8-with-tools archetype \r\n\r\nMy DAO to be injected is a @Stateless bean that uses @LocalBean no-interface eg.\r\n\r\n    @Named\r\n    @LocalBean\r\n    @Stateless\r\n    @TransactionAttribute(TransactionAttributeType.REQUIRED)\r\n    public class UserDAO extends GenericDAOBean&lt;User,Long&gt; {\r\n    \r\n    \t@PersistenceContext(unitName=&quot;ReadOnlyDatabase&quot;)  private EntityManager readOnlyEntityManager;\r\n    \t\r\n    \t/**\r\n    \t * Default constructor\r\n    \t */\r\n    \tpublic UserDAO() {\r\n    \t\t//Super call to construct AbstractDAO\r\n    \t\tsuper();\r\n    \t}\r\n    \t\r\n    \tpublic User findNonDeletedByEmail(String email){\r\n    \t\tString s = &quot;from User where email = :email and disabled = false&quot;;\r\n    \t\tQuery query = this.getEntityManager().createQuery(s);\r\n    \t\tquery.setParameter(&quot;email&quot;, email);\r\n    \t\ttry{\r\n    \t\t\treturn (User)query.getSingleResult();\r\n    \t\t}catch(NoResultException nre){\r\n    \t\t\treturn null;\r\n    \t\t}catch(Exception e){\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\nMy CDI bean is a standard @RequestScoped bean in the WAR module that is attempting to inject the DAO to perform login\r\n\r\n    @Named\r\n    @RequestScoped\r\n    public class LoginBean implements Serializable {\r\n\r\n  \r\n\tprivate static final long serialVersionUID = 1504441323094295359L;\r\n\t\r\n\t@Inject private SecurityContext securityContext;\r\n    @Inject private UserDAO userDAO;\r\n    @Inject private FacesContext facesContext;\r\n    @Inject private ExternalContext externalContext;\r\n\r\n    private String username, password;\r\n  \r\n    public void login() throws IOException {\r\n      \r\n        Credential credential = new UsernamePasswordCredential(username, new Password(password));\r\n      \r\n        User user = userDAO.findByEmailForUserLogin(username);\r\n       AuthenticationStatus status = securityContext.authenticate(\r\n               getRequest(facesContext),\r\n               getResponse(facesContext),\r\n               AuthenticationParameters.withParams()\r\n                       .credential(credential));\r\n      \r\n       switch (status) {\r\n\t       case SEND_CONTINUE:\r\n\t           facesContext.responseComplete();\r\n\t           break;\r\n\t       case SEND_FAILURE:\r\n\t           facesContext.addMessage(null,\r\n\t                   new FacesMessage(FacesMessage.SEVERITY_ERROR, &quot;Login failed&quot;, null));\r\n\t           break;\r\n\t       case SUCCESS:\r\n\t           facesContext.addMessage(null,\r\n\t                   new FacesMessage(FacesMessage.SEVERITY_INFO, &quot;Login succeed&quot;, null));\r\n\t           externalContext.redirect(externalContext.getRequestContextPath() + &quot;/user/home.xhtml&quot;);\r\n\t           break;\r\n\t       case NOT_DONE:\r\n\t   }\r\n      \r\n    }\r\n   \r\n    private static HttpServletResponse getResponse(FacesContext context) {\r\n       return (HttpServletResponse) context\r\n           .getExternalContext()\r\n           .getResponse();\r\n    }\r\n  \r\n    private static HttpServletRequest getRequest(FacesContext context) {\r\n       return (HttpServletRequest) context\r\n           .getExternalContext()\r\n           .getRequest();\r\n    }\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\t\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n\t\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\t\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n   \r\n\r\n}\r\n\r\nWhen I call the login() method from JSF page I get the following error:\r\n\r\n    Target Unreachable, identifier &#39;loginBean&#39; resolved to null: javax.el.PropertyNotFoundException\r\n\r\nIf I comment out the userDAO injection the method calls ok so I know its the UserDAO causing the problem, there are no other errors\r\n\r\nIn the server startup logs I can see that UserDAO is registered ok eg:\r\n\r\n    \tjava:global/WebApp/Web-entities/UserDAO!com.webapp.dao.beans.UserDAO\r\n\tjava:app/Web-entities/UserDAO!com.webapp.dao.beans.UserDAO\r\n\tjava:module/UserDAO!com.webapp.dao.beans.UserDAO\r\n\tjava:global/WebApp/Web-entities/UserDAO\r\n\tjava:app/Web-entities/UserDAO\r\n\tjava:module/UserDAO\r\n\r\nI have beans.xml defined in /web-inf/beans.xml (war) and /meta-inf/beans.xml (jar) both with `bean-discovery-mode=&quot;annotated&quot;`\r\n\r\nMy EJB module is included as a maven dependancy in the WAR .pom with `&lt;scope&gt;provided&lt;/scope&gt;`\r\n\r\nI have also tried injecting using @EJB have the same error\r\n\r\nUPDATE:\r\n\r\nI found that by setting `&lt;ear-subdeployments-isolated&gt;false&lt;/ear-subdeployments-isolated&gt;` in boss-deployment-structure.xml allows injection to work however this then creates issues with dependancies being duplicated across modules and class-path errors so I don&#39;t think its the right solution (our legacy EE 6 project had EAR deployments isolated and the DI worked ok)","title":"Unable to inject @Stateless EJB into CDI bean (multi-module) Jakarta EE 8","body":"<p>Migrating a legacy project to Jakarta EE 8 (Maven EAR build on Wildly 26) I am struggling to get the dependancy injection working from my Entities module (EJB packaging) to WAR module, the maven project structure is:</p>\n<pre><code>-WebApp.ear\n    -WebApp-entities.jar\n    -WebApp-ejb.jar\n    -WebApp-web.war\n    -WebApp-mobile.war\n    -WebApp-api.war\n</code></pre>\n<p>The structure was created based on the wildfly-jakartaee8-with-tools archetype</p>\n<p>My DAO to be injected is a @Stateless bean that uses @LocalBean no-interface eg.</p>\n<pre><code>@Named\n@LocalBean\n@Stateless\n@TransactionAttribute(TransactionAttributeType.REQUIRED)\npublic class UserDAO extends GenericDAOBean&lt;User,Long&gt; {\n\n    @PersistenceContext(unitName=&quot;ReadOnlyDatabase&quot;)  private EntityManager readOnlyEntityManager;\n    \n    /**\n     * Default constructor\n     */\n    public UserDAO() {\n        //Super call to construct AbstractDAO\n        super();\n    }\n    \n    public User findNonDeletedByEmail(String email){\n        String s = &quot;from User where email = :email and disabled = false&quot;;\n        Query query = this.getEntityManager().createQuery(s);\n        query.setParameter(&quot;email&quot;, email);\n        try{\n            return (User)query.getSingleResult();\n        }catch(NoResultException nre){\n            return null;\n        }catch(Exception e){\n            return null;\n        }\n    }\n    \n}\n</code></pre>\n<p>My CDI bean is a standard @RequestScoped bean in the WAR module that is attempting to inject the DAO to perform login</p>\n<pre><code>@Named\n@RequestScoped\npublic class LoginBean implements Serializable {\n\n\nprivate static final long serialVersionUID = 1504441323094295359L;\n\n@Inject private SecurityContext securityContext;\n@Inject private UserDAO userDAO;\n@Inject private FacesContext facesContext;\n@Inject private ExternalContext externalContext;\n\nprivate String username, password;\n\npublic void login() throws IOException {\n  \n    Credential credential = new UsernamePasswordCredential(username, new Password(password));\n  \n    User user = userDAO.findByEmailForUserLogin(username);\n   AuthenticationStatus status = securityContext.authenticate(\n           getRequest(facesContext),\n           getResponse(facesContext),\n           AuthenticationParameters.withParams()\n                   .credential(credential));\n  \n   switch (status) {\n       case SEND_CONTINUE:\n           facesContext.responseComplete();\n           break;\n       case SEND_FAILURE:\n           facesContext.addMessage(null,\n                   new FacesMessage(FacesMessage.SEVERITY_ERROR, &quot;Login failed&quot;, null));\n           break;\n       case SUCCESS:\n           facesContext.addMessage(null,\n                   new FacesMessage(FacesMessage.SEVERITY_INFO, &quot;Login succeed&quot;, null));\n           externalContext.redirect(externalContext.getRequestContextPath() + &quot;/user/home.xhtml&quot;);\n           break;\n       case NOT_DONE:\n   }\n  \n}\n\nprivate static HttpServletResponse getResponse(FacesContext context) {\n   return (HttpServletResponse) context\n       .getExternalContext()\n       .getResponse();\n}\n\nprivate static HttpServletRequest getRequest(FacesContext context) {\n   return (HttpServletRequest) context\n       .getExternalContext()\n       .getRequest();\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n</code></pre>\n<p>}</p>\n<p>When I call the login() method from JSF page I get the following error:</p>\n<pre><code>Target Unreachable, identifier 'loginBean' resolved to null: javax.el.PropertyNotFoundException\n</code></pre>\n<p>If I comment out the userDAO injection the method calls ok so I know its the UserDAO causing the problem, there are no other errors</p>\n<p>In the server startup logs I can see that UserDAO is registered ok eg:</p>\n<pre><code>    java:global/WebApp/Web-entities/UserDAO!com.webapp.dao.beans.UserDAO\njava:app/Web-entities/UserDAO!com.webapp.dao.beans.UserDAO\njava:module/UserDAO!com.webapp.dao.beans.UserDAO\njava:global/WebApp/Web-entities/UserDAO\njava:app/Web-entities/UserDAO\njava:module/UserDAO\n</code></pre>\n<p>I have beans.xml defined in /web-inf/beans.xml (war) and /meta-inf/beans.xml (jar) both with <code>bean-discovery-mode=&quot;annotated&quot;</code></p>\n<p>My EJB module is included as a maven dependancy in the WAR .pom with <code>&lt;scope&gt;provided&lt;/scope&gt;</code></p>\n<p>I have also tried injecting using @EJB have the same error</p>\n<p>UPDATE:</p>\n<p>I found that by setting <code>&lt;ear-subdeployments-isolated&gt;false&lt;/ear-subdeployments-isolated&gt;</code> in boss-deployment-structure.xml allows injection to work however this then creates issues with dependancies being duplicated across modules and class-path errors so I don't think its the right solution (our legacy EE 6 project had EAR deployments isolated and the DI worked ok)</p>\n"},{"tags":["java","android","android-dark-theme"],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648208194,"creation_date":1648202897,"question_id":71615188,"body_markdown":"I don&#39;t want to know what is the current going on mode (dark or light) in my android device. I want to know if the mode was switched at the time my android activity was running. How do I put a check for it? Is there any in-built method for it? If not, then how to do it? I am using Java and I am a beginner.","title":"How do I check whether night mode was turned on or off","body":"<p>I don't want to know what is the current going on mode (dark or light) in my android device. I want to know if the mode was switched at the time my android activity was running. How do I put a check for it? Is there any in-built method for it? If not, then how to do it? I am using Java and I am a beginner.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":6,"creation_date":1447791583,"post_id":33766205,"comment_id":55300162,"body_markdown":"You do not need to `import` classes from the same package.","body":"You do not need to <code>import</code> classes from the same package."}],"answers":[{"tags":[],"owner":{"account_id":5872916,"reputation":2522,"user_id":4624683,"display_name":"DBug"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1447791599,"creation_date":1447791599,"answer_id":33766219,"question_id":33766205,"body_markdown":"If both classes are in same package, you don&#39;t have to import it.","title":"Importing class in the same package","body":"<p>If both classes are in same package, you don't have to import it.</p>\n"}],"owner":{"account_id":7269997,"reputation":183,"user_id":5543413,"accept_rate":100,"display_name":"Lobo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14558,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33766219,"answer_count":1,"score":8,"last_activity_date":1648207628,"creation_date":1447791532,"question_id":33766205,"body_markdown":"I went through some of topics, but didn&#39;t find a proper anser. I&#39;m trying to import class to other class, but I get _&quot;The import &quot;classname&quot; cannot be resolved&quot;_ error. Both classes are in the same package. What can cause the problem? I also tried to clean my project.","title":"Importing class in the same package","body":"<p>I went through some of topics, but didn't find a proper anser. I'm trying to import class to other class, but I get <em>&quot;The import &quot;classname&quot; cannot be resolved&quot;</em> error. Both classes are in the same package. What can cause the problem? I also tried to clean my project.</p>\n"},{"tags":["java","windows","java-9","java-11","java.nio.file"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1586527662,"post_id":61139440,"comment_id":108165935,"body_markdown":"I’m not a Windows expert.  Would it be accurate to say that any absolute path which either starts with two backslashes or starts with a drive letter mapped to a remote share meets your definition of a remote path?","body":"I’m not a Windows expert.  Would it be accurate to say that any absolute path which either starts with two backslashes or starts with a drive letter mapped to a remote share meets your definition of a remote path?"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1586528048,"post_id":61139440,"comment_id":108166110,"body_markdown":"On the other side of the things, you can evaluate [adding a `--add-exports` args](https://stackoverflow.com/questions/53801778/java-is-sun-awt-image-package-deprecated) to avoid the compilation failure.","body":"On the other side of the things, you can evaluate <a href=\"https://stackoverflow.com/questions/53801778/java-is-sun-awt-image-package-deprecated\">adding a <code>--add-exports</code> args</a> to avoid the compilation failure."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1586594548,"post_id":61139440,"comment_id":108187107,"body_markdown":"@VGR but how do you know if drive letter is mapped to a remote share ?","body":"@VGR but how do you know if drive letter is mapped to a remote share ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1586609242,"post_id":61139440,"comment_id":108191685,"body_markdown":"Personally, I would opt to parse the output of `net use` rather than relying on a third party library.  (You are seeing the risk now:  a lot of third party libraries blithely rely on inappropriate hacks like using undocumented, unsupported `sun.*` packages which Sun/Oracle have been saying for many years may be unavailable in future Java releases.  The compiler even emitted warnings about it in Java 8.)","body":"Personally, I would opt to parse the output of <code>net use</code> rather than relying on a third party library.  (You are seeing the risk now:  a lot of third party libraries blithely rely on inappropriate hacks like using undocumented, unsupported <code>sun.*</code> packages which Sun/Oracle have been saying for many years may be unavailable in future Java releases.  The compiler even emitted warnings about it in Java 8.)"},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1586678817,"post_id":61139440,"comment_id":108211120,"body_markdown":"@VGR of course I would prefer not to use these classes but why would relying on net use be any more reliable ?","body":"@VGR of course I would prefer not to use these classes but why would relying on net use be any more reliable ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1586703755,"post_id":61139440,"comment_id":108219627,"body_markdown":"I suppose there is no guarantee that the `net use` syntax or the format of its output is stable, but it has been around for a pretty long time.  So it’s been stable for quite a while, if nothing else.","body":"I suppose there is no guarantee that the <code>net use</code> syntax or the format of its output is stable, but it has been around for a pretty long time.  So it’s been stable for quite a while, if nothing else."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1586967785,"post_id":61139440,"comment_id":108326547,"body_markdown":"It’s hard to understand which information you are extracting as you are referring to constants you didn’t include in your code (and the titles seems to be subject to localization anyway), but apparently, one of the items can be extracted much easier and more reliable using the official API, i.e. `FileSystemView.getFileSystemView().getSystemTypeDescription(path.getRoot().toFile())`. (Referring to `javax.swing.filechooser.FileSystemView`, the actual front-end of the `ShellFolder` stuff)","body":"It’s hard to understand which information you are extracting as you are referring to constants you didn’t include in your code (and the titles seems to be subject to localization anyway), but apparently, one of the items can be extracted much easier and more reliable using the official API, i.e. <code>FileSystemView.getFileSystemView().getSystemTypeDescription(&zwnj;&#8203;path.getRoot().toFil&zwnj;&#8203;e())</code>. (Referring to <code>javax.swing.filechooser.FileSystemView</code>, the actual front-end of the <code>ShellFolder</code> stuff)"}],"answers":[{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648206970,"creation_date":1586767169,"answer_id":61184228,"question_id":61139440,"body_markdown":"There doesn&#39;t seem to be a replacement for the functionality I require in the standard Java API at the moment (identifying on Windows if a path is remote or local).\r\n\r\nSo the choice is between continuing to use a non public class that may not be around in the future or writing hacky code to interact with operating system command (`net`) that may change in the future. \r\n\r\nSo the pragmatic solution is for me to continue to use the non public class, and hope that something will be added to the public api, if it is not and the non public class is removed then I will have to write code to talk to net at that point.\r\n\r\n\r\nTo allow this nonpublic class to be accessed at compile time using Maven I added the following to the compiler plugin\r\n\r\n     &lt;compilerArgs&gt;\r\n         &lt;arg&gt;--add-exports=java.desktop/sun.awt.shell=ALL-UNNAMED&lt;/arg&gt;\r\n     &lt;/compilerArgs&gt;\r\n\r\n\r\ne.g\r\n\r\n       &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;compilerVersion&gt;11&lt;/compilerVersion&gt;\r\n                &lt;source&gt;11&lt;/source&gt;\r\n                &lt;target&gt;11&lt;/target&gt;\r\n                &lt;verbose&gt;true&lt;/verbose&gt;\r\n                &lt;fork&gt;true&lt;/fork&gt;\r\n                &lt;compilerArgs&gt;\r\n                    &lt;arg&gt;--add-exports=java.desktop/sun.awt.shell=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;/compilerArgs&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n**Unfortunately this solution fails with java 17 onwards I looked at the sun shell classes to see if I could just copy them, the sun.awt.shell are okay but the windows implemenation relies on a non java library**  \r\n\r\n    static {\r\n            // Load library here\r\n            sun.awt.windows.WToolkit.loadLibraries();\r\n        }\r\n\r\nso that is a problem.\r\n\r\nCreated something below, but just relies on guesswork is unreliable\r\n\r\n    public class WindowsFilesystemType\r\n    {\r\n    \r\n        public static final String WINDOWS_SHELL_ATTRIBUTES = &quot;Attributes&quot;;\r\n        public static final String   WINDOWS_SHELL_SIZE = &quot;Size&quot;;\r\n    \r\n        /**\r\n         * Is Windows NTFS or FAT32\r\n         *\r\n         * @param newPath\r\n         * @return\r\n         */\r\n        public static boolean isNTFSOrFAT32(String newPath)\r\n        {\r\n            Path root = Paths.get(newPath).getRoot();\r\n            if (root == null)\r\n            {\r\n                return false;\r\n            }\r\n            try\r\n            {\r\n                FileStore fs = Files.getFileStore(root);\r\n                if (fs.type().equals(WindowsFileSystem.NTFS)\r\n                        || fs.type().equals(WindowsFileSystem.FAT)\r\n                        || fs.type().equals(WindowsFileSystem.FAT32)\r\n                        || fs.type().equals(WindowsFileSystem.EX_FAT))\r\n                {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            catch (IOException ex)\r\n            {\r\n                MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\r\n                return false;\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        /**\r\n         * Is this a local drive, only works for Windows machine\r\n         *\r\n         * TODO unreliable since moved to Java 17\r\n         *\r\n         * @param newPath\r\n         *\r\n         * @return true if this a local drive\r\n         */\r\n        public static boolean isLocal(String newPath)\r\n        {\r\n            //If not a windows fs unlikely to be local drive\r\n            if(!isNTFSOrFAT32(newPath))\r\n            {\r\n                return false;\r\n            }\r\n    \r\n            //Mapped \\\\ must be network drive ?\r\n            Path root = Paths.get(newPath).getRoot();\r\n            if (root.toString().startsWith(&quot;\\\\&quot;))\r\n            {\r\n                return false;\r\n            }\r\n    \r\n            //Low drive letter assume local\r\n            root = Paths.get(newPath).getRoot();\r\n            if (\r\n                    (root.toString().equals(&quot;C:\\\\&quot;))||\r\n                    (root.toString().equals(&quot;D:\\\\&quot;))||\r\n                    (root.toString().equals(&quot;E:\\\\&quot;))||\r\n                    (root.toString().equals(&quot;F:\\\\&quot;))\r\n                )\r\n            {\r\n                return true;\r\n            }\r\n    \r\n            //Assume network then if higher drive letter\r\n            return false;\r\n        }\r\n    }\r\n\r\n","title":"Replacement or way of using ShellFolder.getShellFolder() on Java 11","body":"<p>There doesn't seem to be a replacement for the functionality I require in the standard Java API at the moment (identifying on Windows if a path is remote or local).</p>\n<p>So the choice is between continuing to use a non public class that may not be around in the future or writing hacky code to interact with operating system command (<code>net</code>) that may change in the future.</p>\n<p>So the pragmatic solution is for me to continue to use the non public class, and hope that something will be added to the public api, if it is not and the non public class is removed then I will have to write code to talk to net at that point.</p>\n<p>To allow this nonpublic class to be accessed at compile time using Maven I added the following to the compiler plugin</p>\n<pre><code> &lt;compilerArgs&gt;\n     &lt;arg&gt;--add-exports=java.desktop/sun.awt.shell=ALL-UNNAMED&lt;/arg&gt;\n &lt;/compilerArgs&gt;\n</code></pre>\n<p>e.g</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;compilerVersion&gt;11&lt;/compilerVersion&gt;\n            &lt;source&gt;11&lt;/source&gt;\n            &lt;target&gt;11&lt;/target&gt;\n            &lt;verbose&gt;true&lt;/verbose&gt;\n            &lt;fork&gt;true&lt;/fork&gt;\n            &lt;compilerArgs&gt;\n                &lt;arg&gt;--add-exports=java.desktop/sun.awt.shell=ALL-UNNAMED&lt;/arg&gt;\n            &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p><strong>Unfortunately this solution fails with java 17 onwards I looked at the sun shell classes to see if I could just copy them, the sun.awt.shell are okay but the windows implemenation relies on a non java library</strong></p>\n<pre><code>static {\n        // Load library here\n        sun.awt.windows.WToolkit.loadLibraries();\n    }\n</code></pre>\n<p>so that is a problem.</p>\n<p>Created something below, but just relies on guesswork is unreliable</p>\n<pre><code>public class WindowsFilesystemType\n{\n\n    public static final String WINDOWS_SHELL_ATTRIBUTES = &quot;Attributes&quot;;\n    public static final String   WINDOWS_SHELL_SIZE = &quot;Size&quot;;\n\n    /**\n     * Is Windows NTFS or FAT32\n     *\n     * @param newPath\n     * @return\n     */\n    public static boolean isNTFSOrFAT32(String newPath)\n    {\n        Path root = Paths.get(newPath).getRoot();\n        if (root == null)\n        {\n            return false;\n        }\n        try\n        {\n            FileStore fs = Files.getFileStore(root);\n            if (fs.type().equals(WindowsFileSystem.NTFS)\n                    || fs.type().equals(WindowsFileSystem.FAT)\n                    || fs.type().equals(WindowsFileSystem.FAT32)\n                    || fs.type().equals(WindowsFileSystem.EX_FAT))\n            {\n                return true;\n            }\n            return false;\n        }\n        catch (IOException ex)\n        {\n            MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\n            return false;\n        }\n    }\n\n\n\n    /**\n     * Is this a local drive, only works for Windows machine\n     *\n     * TODO unreliable since moved to Java 17\n     *\n     * @param newPath\n     *\n     * @return true if this a local drive\n     */\n    public static boolean isLocal(String newPath)\n    {\n        //If not a windows fs unlikely to be local drive\n        if(!isNTFSOrFAT32(newPath))\n        {\n            return false;\n        }\n\n        //Mapped \\\\ must be network drive ?\n        Path root = Paths.get(newPath).getRoot();\n        if (root.toString().startsWith(&quot;\\\\&quot;))\n        {\n            return false;\n        }\n\n        //Low drive letter assume local\n        root = Paths.get(newPath).getRoot();\n        if (\n                (root.toString().equals(&quot;C:\\\\&quot;))||\n                (root.toString().equals(&quot;D:\\\\&quot;))||\n                (root.toString().equals(&quot;E:\\\\&quot;))||\n                (root.toString().equals(&quot;F:\\\\&quot;))\n            )\n        {\n            return true;\n        }\n\n        //Assume network then if higher drive letter\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2094,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61184228,"answer_count":1,"score":0,"last_activity_date":1648206970,"creation_date":1586518487,"question_id":61139440,"body_markdown":"I&#39;m currently using *ShellFolder.getShellFolder()* to determine if a particular path is on a local drive (directly connected to Windows machine) or a remote drive. \r\n\r\n    package com.jthink.songkong.analyse.analyser;\r\n    \r\n    import com.jthink.songkong.analyse.filename.WindowsFileSystem;\r\n    import com.jthink.songkong.ui.MainWindow;\r\n    import sun.awt.shell.ShellFolder;\r\n    import sun.awt.shell.ShellFolderColumnInfo;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.FileStore;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.logging.Level;\r\n    \r\n    /**\r\n     * Only Windows can load these methods because of reliance on sun classes\r\n     *\r\n     */\r\n    public class WindowsFilesystemType\r\n    {\r\n    \r\n        public static final String WINDOWS_SHELL_ATTRIBUTES = &quot;Attributes&quot;;\r\n        public static final String WINDOWS_SHELL_ITEM_TYPE = &quot;Item type&quot;;\r\n        public static final String WINDOWS_SHELL_SIZE = &quot;Size&quot;;\r\n        /**\r\n         * Is Windows NTFS or FAT32\r\n         *\r\n         * @param newPath\r\n         * @return\r\n         */\r\n        public static boolean isNTFSOrFAT32(String newPath)\r\n        {\r\n            Path root = Paths.get(newPath).getRoot();\r\n            if (root == null)\r\n            {\r\n                return false;\r\n            }\r\n            try\r\n            {\r\n                FileStore fs = Files.getFileStore(root);\r\n                if (fs.type().equals(WindowsFileSystem.NTFS)\r\n                        || fs.type().equals(WindowsFileSystem.FAT)\r\n                        || fs.type().equals(WindowsFileSystem.FAT32)\r\n                        || fs.type().equals(WindowsFileSystem.EX_FAT))\r\n                {\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            catch (IOException ex)\r\n            {\r\n                MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Is this a remote drive, only works for Windows because relies on underlying Windows code\r\n         *\r\n         * @param newPath\r\n         *\r\n         * @return true if this a remote (Network) drive\r\n         */\r\n        public static boolean isRemote(String newPath)\r\n        {\r\n            try\r\n            {\r\n                Path root = Paths.get(newPath).getRoot();\r\n                ShellFolder shellFolder = ShellFolder.getShellFolder(root.toFile());\r\n                ShellFolderColumnInfo[] cols = shellFolder.getFolderColumns();\r\n                for (int i = 0; i &lt; cols.length; i++)\r\n                {\r\n                    if (cols[i].getTitle().equals(WINDOWS_SHELL_SIZE)\r\n                            &amp;&amp;  ((String) shellFolder.getFolderColumnValue(i)).startsWith(WindowsShellFileSystemType.NETWORK_DRIVE))\r\n                    {\r\n                        return true;\r\n                    }\r\n                    else if (cols[i].getTitle().equals(WINDOWS_SHELL_ATTRIBUTES)\r\n                            &amp;&amp;  ((String) shellFolder.getFolderColumnValue(i)).startsWith(&quot;\\\\&quot;))\r\n                    {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                return false;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        /**\r\n         * Is this a local drive, only works for Windows because relies on underlying Windows code\r\n         *\r\n         * @param newPath\r\n         *\r\n         * @return true if this a local drive\r\n         */\r\n        public static boolean isLocal(String newPath)\r\n        {\r\n            try\r\n            {\r\n                Path root = Paths.get(newPath).getRoot();\r\n                ShellFolder shellFolder = ShellFolder.getShellFolder(root.toFile());\r\n                ShellFolderColumnInfo[] cols = shellFolder.getFolderColumns();\r\n                for (int i = 0; i &lt; cols.length; i++)\r\n                {\r\n                    if (cols[i].getTitle().equals(WINDOWS_SHELL_SIZE)\r\n                            &amp;&amp;  ((String) shellFolder.getFolderColumnValue(i)).startsWith(WindowsShellFileSystemType.LOCAL_DISK))\r\n                    {\r\n                        return true;\r\n                    }\r\n                    else if (cols[i].getTitle().equals(WINDOWS_SHELL_ATTRIBUTES)\r\n                            &amp;&amp;  ((String) shellFolder.getFolderColumnValue(i)).startsWith(&quot;\\\\&quot;))\r\n                    {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                return true;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\nThis works fine on Java 8\r\n\r\nI am now moving to Java 11, I am using maven to compile the project and if I increase the *source* parameter for compiler from **8** to **9** (or above)\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                        &lt;compilerVersion&gt;11&lt;/compilerVersion&gt;\r\n                        &lt;source&gt;8&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                        &lt;verbose&gt;true&lt;/verbose&gt;\r\n                        &lt;fork&gt;true&lt;/fork&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\nI get compile failure (keeping at 8 and setting target to 11 is okay) because of the introduction of the module system\r\n\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] c:\\Code\\jthink\\SongKong\\src\\main\\java\\com\\jthink\\songkong\\analyse\\analyser\\WindowsFilesystemType.java:[5,14] error: package sun.awt.shell is not visible\r\n      (package sun.awt.shell is declared in module java.desktop, which does not export it)\r\n    [ERROR] c:\\Code\\jthink\\SongKong\\src\\main\\java\\com\\jthink\\songkong\\analyse\\analyser\\WindowsFilesystemType.java:[6,14] error: package sun.awt.shell is not visible\r\n      (package sun.awt.shell is declared in module java.desktop, which does not export it)\r\n    [INFO] 2 errors\r\n\r\nSo I am looking for an alternative way to this, either:\r\n\r\n1. Is there way a way to set src to 11 and allow compile by utilising some module option\r\n2. Preferably can I reliably detect if local or remote drive using standard java libs\r\n\r\nThe reason I need is isLocal() is my program renames files and there is an option for the user to restrict path length to 259 characters because longer lengths cause problems for Windows Explorer, but if they are modifying a remote drive then not usual to enforce this requirement, I will add more detail to question. \r\n\r\nFor example the application renames music files if they are on local drive to be used by Windows then they may want to enforce that limit. But if it is a networked drive they probably will not because quite often the files are stored on a Nas and they are only accessing the files via Windows because my application can run on Windows but not on the Nas.\r\n","title":"Replacement or way of using ShellFolder.getShellFolder() on Java 11","body":"<p>I'm currently using <em>ShellFolder.getShellFolder()</em> to determine if a particular path is on a local drive (directly connected to Windows machine) or a remote drive.</p>\n<pre><code>package com.jthink.songkong.analyse.analyser;\n\nimport com.jthink.songkong.analyse.filename.WindowsFileSystem;\nimport com.jthink.songkong.ui.MainWindow;\nimport sun.awt.shell.ShellFolder;\nimport sun.awt.shell.ShellFolderColumnInfo;\n\nimport java.io.IOException;\nimport java.nio.file.FileStore;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.logging.Level;\n\n/**\n * Only Windows can load these methods because of reliance on sun classes\n *\n */\npublic class WindowsFilesystemType\n{\n\n    public static final String WINDOWS_SHELL_ATTRIBUTES = &quot;Attributes&quot;;\n    public static final String WINDOWS_SHELL_ITEM_TYPE = &quot;Item type&quot;;\n    public static final String WINDOWS_SHELL_SIZE = &quot;Size&quot;;\n    /**\n     * Is Windows NTFS or FAT32\n     *\n     * @param newPath\n     * @return\n     */\n    public static boolean isNTFSOrFAT32(String newPath)\n    {\n        Path root = Paths.get(newPath).getRoot();\n        if (root == null)\n        {\n            return false;\n        }\n        try\n        {\n            FileStore fs = Files.getFileStore(root);\n            if (fs.type().equals(WindowsFileSystem.NTFS)\n                    || fs.type().equals(WindowsFileSystem.FAT)\n                    || fs.type().equals(WindowsFileSystem.FAT32)\n                    || fs.type().equals(WindowsFileSystem.EX_FAT))\n            {\n                return true;\n            }\n            return false;\n        }\n        catch (IOException ex)\n        {\n            MainWindow.logger.log(Level.SEVERE, ex.getMessage(), ex);\n            return false;\n        }\n    }\n\n    /**\n     * Is this a remote drive, only works for Windows because relies on underlying Windows code\n     *\n     * @param newPath\n     *\n     * @return true if this a remote (Network) drive\n     */\n    public static boolean isRemote(String newPath)\n    {\n        try\n        {\n            Path root = Paths.get(newPath).getRoot();\n            ShellFolder shellFolder = ShellFolder.getShellFolder(root.toFile());\n            ShellFolderColumnInfo[] cols = shellFolder.getFolderColumns();\n            for (int i = 0; i &lt; cols.length; i++)\n            {\n                if (cols[i].getTitle().equals(WINDOWS_SHELL_SIZE)\n                        &amp;&amp;  ((String) shellFolder.getFolderColumnValue(i)).startsWith(WindowsShellFileSystemType.NETWORK_DRIVE))\n                {\n                    return true;\n                }\n                else if (cols[i].getTitle().equals(WINDOWS_SHELL_ATTRIBUTES)\n                        &amp;&amp;  ((String) shellFolder.getFolderColumnValue(i)).startsWith(&quot;\\\\&quot;))\n                {\n                    return true;\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            return false;\n        }\n        return false;\n    }\n\n    /**\n     * Is this a local drive, only works for Windows because relies on underlying Windows code\n     *\n     * @param newPath\n     *\n     * @return true if this a local drive\n     */\n    public static boolean isLocal(String newPath)\n    {\n        try\n        {\n            Path root = Paths.get(newPath).getRoot();\n            ShellFolder shellFolder = ShellFolder.getShellFolder(root.toFile());\n            ShellFolderColumnInfo[] cols = shellFolder.getFolderColumns();\n            for (int i = 0; i &lt; cols.length; i++)\n            {\n                if (cols[i].getTitle().equals(WINDOWS_SHELL_SIZE)\n                        &amp;&amp;  ((String) shellFolder.getFolderColumnValue(i)).startsWith(WindowsShellFileSystemType.LOCAL_DISK))\n                {\n                    return true;\n                }\n                else if (cols[i].getTitle().equals(WINDOWS_SHELL_ATTRIBUTES)\n                        &amp;&amp;  ((String) shellFolder.getFolderColumnValue(i)).startsWith(&quot;\\\\&quot;))\n                {\n                    return false;\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            return true;\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>This works fine on Java 8</p>\n<p>I am now moving to Java 11, I am using maven to compile the project and if I increase the <em>source</em> parameter for compiler from <strong>8</strong> to <strong>9</strong> (or above)</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;compilerVersion&gt;11&lt;/compilerVersion&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I get compile failure (keeping at 8 and setting target to 11 is okay) because of the introduction of the module system</p>\n<pre><code>[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] c:\\Code\\jthink\\SongKong\\src\\main\\java\\com\\jthink\\songkong\\analyse\\analyser\\WindowsFilesystemType.java:[5,14] error: package sun.awt.shell is not visible\n  (package sun.awt.shell is declared in module java.desktop, which does not export it)\n[ERROR] c:\\Code\\jthink\\SongKong\\src\\main\\java\\com\\jthink\\songkong\\analyse\\analyser\\WindowsFilesystemType.java:[6,14] error: package sun.awt.shell is not visible\n  (package sun.awt.shell is declared in module java.desktop, which does not export it)\n[INFO] 2 errors\n</code></pre>\n<p>So I am looking for an alternative way to this, either:</p>\n<ol>\n<li>Is there way a way to set src to 11 and allow compile by utilising some module option</li>\n<li>Preferably can I reliably detect if local or remote drive using standard java libs</li>\n</ol>\n<p>The reason I need is isLocal() is my program renames files and there is an option for the user to restrict path length to 259 characters because longer lengths cause problems for Windows Explorer, but if they are modifying a remote drive then not usual to enforce this requirement, I will add more detail to question.</p>\n<p>For example the application renames music files if they are on local drive to be used by Windows then they may want to enforce that limit. But if it is a networked drive they probably will not because quite often the files are stored on a Nas and they are only accessing the files via Windows because my application can run on Windows but not on the Nas.</p>\n"},{"tags":["java","log4j2","jena"],"comments":[{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":1,"creation_date":1648233482,"post_id":71615972,"comment_id":126581217,"body_markdown":"Change the file `log4j2.properties` in $FUSEKI_HOME in the container. Otherwise please say which version you are using and show the start of the logging output.","body":"Change the file <code>log4j2.properties</code> in $FUSEKI_HOME in the container. Otherwise please say which version you are using and show the start of the logging output."},{"owner":{"account_id":12147159,"reputation":276,"user_id":8869003,"display_name":"Jaana"},"score":1,"creation_date":1648529478,"post_id":71615972,"comment_id":126640257,"body_markdown":"@AndyS Thanks, $FUSEKI_HOME was nout defined, but it was enough to change all occurrences of INFO to WARN in &lt;directory of fuseki-server&gt;/log4j2.properties-file with apache-jena-fuseki 3.17.","body":"@AndyS Thanks, $FUSEKI_HOME was nout defined, but it was enough to change all occurrences of INFO to WARN in &lt;directory of fuseki-server&gt;/log4j2.properties-file with apache-jena-fuseki 3.17."}],"owner":{"account_id":12147159,"reputation":276,"user_id":8869003,"display_name":"Jaana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648206621,"creation_date":1648206621,"question_id":71615972,"body_markdown":"There&#39;s quite little information on jena-fuseki logging on apache documentation, found just this: https://jena.apache.org/documentation/fuseki2/fuseki-logging.html \r\n\r\nMy jena-fuseki in running in rkt-container, started by command \r\n\r\n    ./fuseki-server ...\r\n\r\nI need to change the logging level from INFO to at least WARN or perhaps ERROR. \r\nI tried on test server (i.e. outside of rkt-container) by changing all occurrences of &quot;INFO&quot; to &quot;WARN&quot; 1st in file `&lt;directory of fuseki-server&gt;/webapp/log4j2.properties` and then in file `&lt;directory of fuseki-server&gt;/log4j2.properties` without help.\r\n\r\nSo, how should I change the logging level ?\r\n","title":"Change jena-fuseki logging level","body":"<p>There's quite little information on jena-fuseki logging on apache documentation, found just this: <a href=\"https://jena.apache.org/documentation/fuseki2/fuseki-logging.html\" rel=\"nofollow noreferrer\">https://jena.apache.org/documentation/fuseki2/fuseki-logging.html</a></p>\n<p>My jena-fuseki in running in rkt-container, started by command</p>\n<pre><code>./fuseki-server ...\n</code></pre>\n<p>I need to change the logging level from INFO to at least WARN or perhaps ERROR.\nI tried on test server (i.e. outside of rkt-container) by changing all occurrences of &quot;INFO&quot; to &quot;WARN&quot; 1st in file <code>&lt;directory of fuseki-server&gt;/webapp/log4j2.properties</code> and then in file <code>&lt;directory of fuseki-server&gt;/log4j2.properties</code> without help.</p>\n<p>So, how should I change the logging level ?</p>\n"},{"tags":["java","class","instance"],"comments":[{"owner":{"account_id":3967673,"reputation":1212,"user_id":3273107,"display_name":"brummfondel"},"score":0,"creation_date":1479573682,"post_id":40695262,"comment_id":68619971,"body_markdown":"Strange design. You should separate data from functionality. Login and create account separate from the user data.","body":"Strange design. You should separate data from functionality. Login and create account separate from the user data."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1479574141,"post_id":40695262,"comment_id":68620108,"body_markdown":"you should to store your data in a file or using a database @Johnm","body":"you should to store your data in a file or using a database @Johnm"},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1479580148,"post_id":40695262,"comment_id":68622247,"body_markdown":"@Johnm `I would like to be able to login without creating a new account every time.` Obviously you have to store the details of your newly created account somewhere right? Be it a file or a database.","body":"@Johnm <code>I would like to be able to login without creating a new account every time.</code> Obviously you have to store the details of your newly created account somewhere right? Be it a file or a database."},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1648201451,"post_id":40695262,"comment_id":126569628,"body_markdown":"Do you want to save the accounts across restarts of the app? or just during a single run of the app (ie have the ability to create an account, login, etc .. but if you restart then they are gone?)","body":"Do you want to save the accounts across restarts of the app? or just during a single run of the app (ie have the ability to create an account, login, etc .. but if you restart then they are gone?)"}],"answers":[{"tags":[],"owner":{"account_id":23939823,"reputation":1,"user_id":17933093,"display_name":"jaaaaaaaaaavid"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648201092,"creation_date":1648040460,"answer_id":71587694,"question_id":40695262,"body_markdown":" \r\n    public Account deposit(double amount) {\r\n\r\n       balance += amount;\r\n\r\n       return new Account(getID(), getCustomer(), getBalance());\r\n\r\n    }\r\n\r\n    public Account withdraw(double amount) {\r\n\r\n        if(balance &gt;= amount) {\r\n\r\n            balance -= amount;\r\n\r\n        }\r\n\r\n        return new Account(getID(), getCustomer(), getBalance());\r\n\r\n    }","title":"Create account and Login","body":"<pre><code>public Account deposit(double amount) {\n\n   balance += amount;\n\n   return new Account(getID(), getCustomer(), getBalance());\n\n}\n\npublic Account withdraw(double amount) {\n\n    if(balance &gt;= amount) {\n\n        balance -= amount;\n\n    }\n\n    return new Account(getID(), getCustomer(), getBalance());\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648206283,"creation_date":1648206283,"answer_id":71615887,"question_id":40695262,"body_markdown":"You should start by having an Account class that only contains the data of the account:\r\n\r\n```\r\nclass Account {\r\n    \r\n    private final int number;\r\n    private final int pin;\r\n\r\n    public Account(int number, int pin) {\r\n        this.number = number;\r\n        this.pin = pin;\r\n    }\r\n\r\n    public int getNumber() {\r\n        return number;\r\n    }\r\n\r\n    public int getPin() {\r\n        return pin;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThen implement the logic in another class. This class can maintain a list of the created accounts. That list will persist as long as you don&#39;t stop the program. (if you need persistence across restarts then you need some kind of storage, that is a file or a database). \r\nHere is an example where I tried to keep as much of your code as possible:\r\n\r\n```\r\npublic class Main {\r\n\r\n    private static final Map&lt;Integer, Account&gt; accounts = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n        while (true) {\r\n            System.out.println(&quot;Choose an option:&quot;);\r\n            System.out.println(&quot;1 - Create an account&quot;);\r\n            System.out.println(&quot;2 - Login into an account&quot;);\r\n            System.out.println(&quot;3 - List account numbers&quot;);\r\n            System.out.println(&quot;4 - Quit&quot;);\r\n            Scanner input = new Scanner(System.in);\r\n            int choice = input.nextInt();\r\n\r\n            if (choice == 1) {\r\n                createAccount();\r\n            } else if (choice == 2) {\r\n                login();\r\n            } else if (choice == 3) {\r\n                listAccountNumbers();\r\n            } else if (choice == 4) {\r\n                break;\r\n            } else {\r\n                System.out.println(&quot;Invalid choice&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private static void createAccount() {\r\n        System.out.println(&quot;create a six digit account number: &quot;);\r\n        Scanner input = new Scanner(System.in);\r\n        int accNum = input.nextInt();\r\n        System.out.println(&quot;create four digit pin: &quot;);\r\n        Scanner input2 = new Scanner(System.in);\r\n        int accPin = input2.nextInt();\r\n\r\n        Account account = new Account(accNum, accPin);\r\n\r\n        accounts.put(accNum, account);\r\n    }\r\n\r\n    private static void login() {\r\n        System.out.println(&quot;Enter account number: &quot;);\r\n        Scanner input1 = new Scanner(System.in);\r\n        int accNumberInput= input1.nextInt();\r\n        System.out.println(&quot;Enter account pin: &quot;);\r\n        Scanner input2= new Scanner(System.in);\r\n        int accPinInput = input2.nextInt();\r\n\r\n        Account account = accounts.get(accNumberInput);\r\n        if(account.getPin() == accPinInput) {\r\n            System.out.print(&quot;Valid credentials for account number &quot; + account.getNumber());\r\n        } else {\r\n            System.out.print(&quot;Invalid credentials for account number &quot; + account.getNumber());\r\n        }\r\n    }\r\n\r\n    private static void listAccountNumbers() {\r\n        accounts.keySet().forEach(System.out::println);\r\n    }\r\n\r\n}\r\n```","title":"Create account and Login","body":"<p>You should start by having an Account class that only contains the data of the account:</p>\n<pre><code>class Account {\n    \n    private final int number;\n    private final int pin;\n\n    public Account(int number, int pin) {\n        this.number = number;\n        this.pin = pin;\n    }\n\n    public int getNumber() {\n        return number;\n    }\n\n    public int getPin() {\n        return pin;\n    }\n\n}\n</code></pre>\n<p>Then implement the logic in another class. This class can maintain a list of the created accounts. That list will persist as long as you don't stop the program. (if you need persistence across restarts then you need some kind of storage, that is a file or a database).\nHere is an example where I tried to keep as much of your code as possible:</p>\n<pre><code>public class Main {\n\n    private static final Map&lt;Integer, Account&gt; accounts = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n\n        while (true) {\n            System.out.println(&quot;Choose an option:&quot;);\n            System.out.println(&quot;1 - Create an account&quot;);\n            System.out.println(&quot;2 - Login into an account&quot;);\n            System.out.println(&quot;3 - List account numbers&quot;);\n            System.out.println(&quot;4 - Quit&quot;);\n            Scanner input = new Scanner(System.in);\n            int choice = input.nextInt();\n\n            if (choice == 1) {\n                createAccount();\n            } else if (choice == 2) {\n                login();\n            } else if (choice == 3) {\n                listAccountNumbers();\n            } else if (choice == 4) {\n                break;\n            } else {\n                System.out.println(&quot;Invalid choice&quot;);\n            }\n        }\n\n    }\n\n    private static void createAccount() {\n        System.out.println(&quot;create a six digit account number: &quot;);\n        Scanner input = new Scanner(System.in);\n        int accNum = input.nextInt();\n        System.out.println(&quot;create four digit pin: &quot;);\n        Scanner input2 = new Scanner(System.in);\n        int accPin = input2.nextInt();\n\n        Account account = new Account(accNum, accPin);\n\n        accounts.put(accNum, account);\n    }\n\n    private static void login() {\n        System.out.println(&quot;Enter account number: &quot;);\n        Scanner input1 = new Scanner(System.in);\n        int accNumberInput= input1.nextInt();\n        System.out.println(&quot;Enter account pin: &quot;);\n        Scanner input2= new Scanner(System.in);\n        int accPinInput = input2.nextInt();\n\n        Account account = accounts.get(accNumberInput);\n        if(account.getPin() == accPinInput) {\n            System.out.print(&quot;Valid credentials for account number &quot; + account.getNumber());\n        } else {\n            System.out.print(&quot;Invalid credentials for account number &quot; + account.getNumber());\n        }\n    }\n\n    private static void listAccountNumbers() {\n        accounts.keySet().forEach(System.out::println);\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user7182799"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648206283,"creation_date":1479573134,"question_id":40695262,"body_markdown":"im having some trouble figuring out how i should approach this task. I would like to create an option to create an account and then have a login section. I am trying to figure out how to pass the information to the login class as i would like to be able to login without creating a new account every time. im not sure if this current code would allow for multiple accounts at the same time. I am open to suggestions if so on how to do that, but im fine with one account.\r\nHere is my code so far:\r\n\r\n**CreateAccount class**\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    public class CreateAccount{\r\n        public static void main(){\r\n           CreateAccount obj1 = new CreateAccount();\r\n           obj1.accountNumberPin();\r\n        }\r\n        public void accountNumberPin(){\r\n           System.out.println(&quot;create a six digit account number: &quot;);\r\n           Scanner input = new Scanner(System.in);\r\n           int accNum = input.nextInt();    \r\n           System.out.println(&quot;create four digit pin: &quot;);\r\n           Scanner input2 = new Scanner(System.in);\r\n           int accPin = input2.nextInt();\r\n        }\r\n        public int getAccNum(){\r\n            return accNum;\r\n        }\r\n        public int getAccPin(){\r\n            return accPin;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n**Login Class**\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    public class Login{\r\n        public void login(){\r\n            CreateAccount test= new CreateAccount();\r\n            int theaccNum = test.getAccNum();\r\n            int theaccPin = test.getAccPin();\r\n            System.out.println(&quot;Enter account number: &quot;);\r\n            Scanner input1 = new Scanner(System.in);\r\n            int accNumberInput= input1.nextInt();\r\n            System.out.println(&quot;Enter account pin: &quot;);\r\n            Scanner input2= new Scanner(System.in);\r\n            int accPinInput = input2.nextInt();\r\n            if(accNumberInput==theaccNum &amp;&amp; accPinInput == theaccPin){\r\n               System.out.print(&quot;1 2 1 2 this is just a test&quot;);\r\n            }               \r\n        }\r\n    }\r\n\r\n\r\nPS, i know there is an issue currently with the get methods","title":"Create account and Login","body":"<p>im having some trouble figuring out how i should approach this task. I would like to create an option to create an account and then have a login section. I am trying to figure out how to pass the information to the login class as i would like to be able to login without creating a new account every time. im not sure if this current code would allow for multiple accounts at the same time. I am open to suggestions if so on how to do that, but im fine with one account.\nHere is my code so far:</p>\n\n<p><strong>CreateAccount class</strong></p>\n\n<pre><code>import java.util.Scanner;\npublic class CreateAccount{\n    public static void main(){\n       CreateAccount obj1 = new CreateAccount();\n       obj1.accountNumberPin();\n    }\n    public void accountNumberPin(){\n       System.out.println(\"create a six digit account number: \");\n       Scanner input = new Scanner(System.in);\n       int accNum = input.nextInt();    \n       System.out.println(\"create four digit pin: \");\n       Scanner input2 = new Scanner(System.in);\n       int accPin = input2.nextInt();\n    }\n    public int getAccNum(){\n        return accNum;\n    }\n    public int getAccPin(){\n        return accPin;\n    }\n}\n</code></pre>\n\n<p><strong>Login Class</strong></p>\n\n<pre><code>import java.util.Scanner;\npublic class Login{\n    public void login(){\n        CreateAccount test= new CreateAccount();\n        int theaccNum = test.getAccNum();\n        int theaccPin = test.getAccPin();\n        System.out.println(\"Enter account number: \");\n        Scanner input1 = new Scanner(System.in);\n        int accNumberInput= input1.nextInt();\n        System.out.println(\"Enter account pin: \");\n        Scanner input2= new Scanner(System.in);\n        int accPinInput = input2.nextInt();\n        if(accNumberInput==theaccNum &amp;&amp; accPinInput == theaccPin){\n           System.out.print(\"1 2 1 2 this is just a test\");\n        }               \n    }\n}\n</code></pre>\n\n<p>PS, i know there is an issue currently with the get methods</p>\n"},{"tags":["java","inheritance","copy-constructor"],"comments":[{"owner":{"account_id":23003,"reputation":9760,"user_id":57318,"accept_rate":86,"display_name":"Xymostech"},"score":2,"creation_date":1354224684,"post_id":13635078,"comment_id":18703543,"body_markdown":"What didn&#39;t work when you used `super(clone)`?","body":"What didn&#39;t work when you used <code>super(clone)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1354224818,"creation_date":1354224818,"answer_id":13635135,"question_id":13635078,"body_markdown":"It would be better to make the &quot;full&quot; copy constructor for `Trainee` also take a `User`:\r\n\r\n    public Trainee(Trainee clone)\r\n    {\r\n        this(clone, clone.getOsai(), clone.getDateNaiss());\r\n    }\r\n\r\n    public Trainee(User clone, String osai, String dateNaiss)\r\n    {\r\n        super(clone);\r\n        this.osai = osai;\r\n        this.dateNaiss;\r\n    }\r\n\r\nAs far as possible, it&#39;s worth keeping to the pattern of having one &quot;master&quot; constructor in each class, which all other constructors chain to, directly or indirectly.\r\n\r\nNow, it isn&#39;t clear whether it makes sense to create a `Trainee` *without* specifying existing user information... or possibly specifying it in some other way. It *may* be that in this case you really *do* need to have two separate sets of constructors - one set for copy constructors, and one set for &quot;just give me all the values individually&quot; constructors. It really depends on your context - we can&#39;t tell just from this.\r\n\r\nIn that case, you would be breaking the &quot;one master constructor&quot; rule slightly, but you can think of there being *two* master constructors, one for each set of constructors for different purposes. Fundamentally, you&#39;re running into &quot;inheritance gets messy&quot; - which is all too common :(","title":"java copy constructor and inheritance","body":"<p>It would be better to make the \"full\" copy constructor for <code>Trainee</code> also take a <code>User</code>:</p>\n\n<pre><code>public Trainee(Trainee clone)\n{\n    this(clone, clone.getOsai(), clone.getDateNaiss());\n}\n\npublic Trainee(User clone, String osai, String dateNaiss)\n{\n    super(clone);\n    this.osai = osai;\n    this.dateNaiss;\n}\n</code></pre>\n\n<p>As far as possible, it's worth keeping to the pattern of having one \"master\" constructor in each class, which all other constructors chain to, directly or indirectly.</p>\n\n<p>Now, it isn't clear whether it makes sense to create a <code>Trainee</code> <em>without</em> specifying existing user information... or possibly specifying it in some other way. It <em>may</em> be that in this case you really <em>do</em> need to have two separate sets of constructors - one set for copy constructors, and one set for \"just give me all the values individually\" constructors. It really depends on your context - we can't tell just from this.</p>\n\n<p>In that case, you would be breaking the \"one master constructor\" rule slightly, but you can think of there being <em>two</em> master constructors, one for each set of constructors for different purposes. Fundamentally, you're running into \"inheritance gets messy\" - which is all too common :(</p>\n"},{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354224865,"creation_date":1354224865,"answer_id":13635150,"question_id":13635078,"body_markdown":"I would do:\r\n\r\n     public Trainee (User clone) // By specifying `User` you allow the use in your code\r\n     {\r\n        super (clone);\r\n        if (clone instanceof Trainee) {\r\n          this.osia = clone.getOsia();\r\n          this.dateNaiss = clone.getDateNaiss());\r\n        }\r\n     }\r\n","title":"java copy constructor and inheritance","body":"<p>I would do:</p>\n\n<pre><code> public Trainee (User clone) // By specifying `User` you allow the use in your code\n {\n    super (clone);\n    if (clone instanceof Trainee) {\n      this.osia = clone.getOsia();\n      this.dateNaiss = clone.getDateNaiss());\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648206065,"creation_date":1648206065,"answer_id":71615837,"question_id":13635078,"body_markdown":"A quick fix can be - just cast Trainee to User in super() call:\r\n\r\n    public Trainee (Trainee clone) {\r\n        super ((User)clone);\r\n        this (clone.getOsia(), clone.getDateNaiss());\r\n    }","title":"java copy constructor and inheritance","body":"<p>A quick fix can be - just cast Trainee to User in super() call:</p>\n<pre><code>public Trainee (Trainee clone) {\n    super ((User)clone);\n    this (clone.getOsia(), clone.getDateNaiss());\n}\n</code></pre>\n"}],"owner":{"account_id":2093453,"reputation":71,"user_id":1862737,"display_name":"ElpicFayl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11327,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1648206065,"creation_date":1354224545,"question_id":13635078,"body_markdown":"After some searching I didn&#39;t found any good answer to my question regarding copy constructor and inheritance.\r\nI have two classes: User and Trainee. Trainee inherits from User and two String parameters are added to Trainee.\r\nNow I managed to make a copy constructor of User but I am not satisfied with my copy constructor of Trainee.\r\nThe code of the User copy constructor is like this:\r\n\r\n    public User (User clone) {\r\n        this(clone.getId(), \r\n             clone.getCivilite(),\r\n             clone.getNom(), \r\n             clone.getPrenom(), \r\n             clone.getEmail(), \r\n             clone.getLogin(), \r\n             clone.getTel(), \r\n             clone.getPortable(), \r\n             clone.getInscription(), \r\n             clone.getPw()\r\n        );\r\n    }\r\n\r\nI tried to use super in my Trainee copy constructor:\r\n\r\n    public Trainee (Trainee clone) {\r\n        super (clone);\r\n        this (clone.getOsia(), clone.getDateNaiss());\r\n    }\r\n\r\nBut it didn&#39;t work and I was forced to code a full version of the copy constructor:\r\n\r\n    public Trainee (Trainee clone) {\r\n        this(clone.getId(), \r\n             clone.getCivilite(),\r\n             clone.getNom(),\r\n             clone.getPrenom(), \r\n             clone.getEmail(), \r\n             clone.getLogin(), \r\n             clone.getTel(), \r\n             clone.getPortable(), \r\n             clone.getInscription(), \r\n             clone.getPw(), \r\n             clone.getOsia(), \r\n             clone.getDateNaiss()\r\n        );\r\n    }\r\n\r\nBecause of the construction of my main I have to cast my new instance like this:\r\n\r\n      User train = new Trainee();\r\n      User train2 = new Trainee((Trainee) train);\r\n\r\nSo my question is: Is there a cleaner way to do this? Can&#39;t I use a super?\r\n\r\nThank you in advance for your answers and assistance.","title":"java copy constructor and inheritance","body":"<p>After some searching I didn't found any good answer to my question regarding copy constructor and inheritance.\nI have two classes: User and Trainee. Trainee inherits from User and two String parameters are added to Trainee.\nNow I managed to make a copy constructor of User but I am not satisfied with my copy constructor of Trainee.\nThe code of the User copy constructor is like this:</p>\n\n<pre><code>public User (User clone) {\n    this(clone.getId(), \n         clone.getCivilite(),\n         clone.getNom(), \n         clone.getPrenom(), \n         clone.getEmail(), \n         clone.getLogin(), \n         clone.getTel(), \n         clone.getPortable(), \n         clone.getInscription(), \n         clone.getPw()\n    );\n}\n</code></pre>\n\n<p>I tried to use super in my Trainee copy constructor:</p>\n\n<pre><code>public Trainee (Trainee clone) {\n    super (clone);\n    this (clone.getOsia(), clone.getDateNaiss());\n}\n</code></pre>\n\n<p>But it didn't work and I was forced to code a full version of the copy constructor:</p>\n\n<pre><code>public Trainee (Trainee clone) {\n    this(clone.getId(), \n         clone.getCivilite(),\n         clone.getNom(),\n         clone.getPrenom(), \n         clone.getEmail(), \n         clone.getLogin(), \n         clone.getTel(), \n         clone.getPortable(), \n         clone.getInscription(), \n         clone.getPw(), \n         clone.getOsia(), \n         clone.getDateNaiss()\n    );\n}\n</code></pre>\n\n<p>Because of the construction of my main I have to cast my new instance like this:</p>\n\n<pre><code>  User train = new Trainee();\n  User train2 = new Trainee((Trainee) train);\n</code></pre>\n\n<p>So my question is: Is there a cleaner way to do this? Can't I use a super?</p>\n\n<p>Thank you in advance for your answers and assistance.</p>\n"},{"tags":["java","selenium","nosuchelementexception"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1627929640,"creation_date":1627926406,"answer_id":68625957,"question_id":68625420,"body_markdown":"Selenium web driver fails finding element matching the locator you are using there, this is why `NoSuchElementException` Exception is thrown.  \r\n`isDisplayed()` method can be applied on web element returned by \r\n```\r\ndriver.findElement(By.cssSelector(&quot;.cancelButton&quot;))\r\n```\r\nor by\r\n```\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;.cancelButton&quot;)))\r\n```\r\nmethods.  \r\nBut this method is not involved since `NoSuchElementException` exception is thrown before that and the process flow is broken on that point.  \r\nTo wait for element presence you can use this method:\r\n```\r\npublic boolean waitForElementPresence(By element){\r\n    WebDriverWait wait = new WebDriverWait(driver);\r\n    try {\r\n        wait.until(ExpectedConditions.presenceOfElementLocated(element));\r\n        return true;\r\n    }catch (Throwable t){\r\n        return false;\r\n    }\r\n}\r\n```\r\nTo wait for element visibility:\r\n```\r\npublic boolean waitForElementVisibility(By element){\r\n    WebDriverWait wait = new WebDriverWait(driver);\r\n    try {\r\n        wait.until(ExpectedConditions.visibilityOfElementLocated(element));\r\n        return true;\r\n    }catch (Throwable t){\r\n        return false;\r\n    }\r\n}\r\n```\r\nFor more simply element presence validation:\r\n```\r\npublic boolean isElementFound(By element){\r\n    wait(300);\r\n    return !driver.findElements(element).isEmpty();\r\n}\r\n```\r\n**UPD**  \r\nTo use with `WebElement` as parameter:\r\n```\r\npublic boolean waitForElementVisibility(WebElement element){\r\n    WebDriverWait wait = new WebDriverWait(driver);\r\n    try {\r\n        wait.until(ExpectedConditions.visibilityOf(element));\r\n        return true;\r\n    }catch (Throwable t){\r\n        return false;\r\n    }\r\n}\r\n\r\n```","title":"Selenium checking isDisplayed equals false throws NoSuchElementException","body":"<p>Selenium web driver fails finding element matching the locator you are using there, this is why <code>NoSuchElementException</code> Exception is thrown.<br />\n<code>isDisplayed()</code> method can be applied on web element returned by</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;.cancelButton&quot;))\n</code></pre>\n<p>or by</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;.cancelButton&quot;)))\n</code></pre>\n<p>methods.<br />\nBut this method is not involved since <code>NoSuchElementException</code> exception is thrown before that and the process flow is broken on that point.<br />\nTo wait for element presence you can use this method:</p>\n<pre><code>public boolean waitForElementPresence(By element){\n    WebDriverWait wait = new WebDriverWait(driver);\n    try {\n        wait.until(ExpectedConditions.presenceOfElementLocated(element));\n        return true;\n    }catch (Throwable t){\n        return false;\n    }\n}\n</code></pre>\n<p>To wait for element visibility:</p>\n<pre><code>public boolean waitForElementVisibility(By element){\n    WebDriverWait wait = new WebDriverWait(driver);\n    try {\n        wait.until(ExpectedConditions.visibilityOfElementLocated(element));\n        return true;\n    }catch (Throwable t){\n        return false;\n    }\n}\n</code></pre>\n<p>For more simply element presence validation:</p>\n<pre><code>public boolean isElementFound(By element){\n    wait(300);\n    return !driver.findElements(element).isEmpty();\n}\n</code></pre>\n<p><strong>UPD</strong><br />\nTo use with <code>WebElement</code> as parameter:</p>\n<pre><code>public boolean waitForElementVisibility(WebElement element){\n    WebDriverWait wait = new WebDriverWait(driver);\n    try {\n        wait.until(ExpectedConditions.visibilityOf(element));\n        return true;\n    }catch (Throwable t){\n        return false;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":13869174,"reputation":166,"user_id":10012914,"display_name":"Zeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68625957,"answer_count":1,"score":1,"last_activity_date":1648205815,"creation_date":1627923550,"question_id":68625420,"body_markdown":"I am getting NoSuchElementException when I check for isDisplayed() equals false for an element. Here is my code:\r\n\r\n**XYZpage.java:**\r\n```\r\npublic WebElement cancelButton() { return driver.findElement(By.cssSelector(&quot;.cancelButton&quot;)); }\r\n```\r\n\r\n**XYZtest.java:**\r\n```\r\nsoftAssertions.assertThat(sellerVehicleEditPage.cancelButton().isDisplayed())\r\n\t\t\t.isEqualTo(false);\r\n```\r\n\r\nI am asserting here that an element is not displayed. I have seen other solutions on this website and other places where people are suggesting to try ExpectedConditions, among other things. But since the element doesn&#39;t exist even ExpectedConditions is eventually throwing NoSuchElementException. This is what I tried in XYZpage.java:\r\n```\r\nWebDriverWait wait = new WebDriverWait(driver, 5);\r\npublic WebElement cancelButton() { return wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;.cancelButton&quot;))); }\r\n```\r\n\r\nI have more than 1000 elements with each element used multiple times in different tests. So I do not want to pass By every time I need to call the element, as some of the solutions suggests. Is there a more elegant way to check conditions like .isDisplayed() equals false without getting NoSuchElementException?","title":"Selenium checking isDisplayed equals false throws NoSuchElementException","body":"<p>I am getting NoSuchElementException when I check for isDisplayed() equals false for an element. Here is my code:</p>\n<p><strong>XYZpage.java:</strong></p>\n<pre><code>public WebElement cancelButton() { return driver.findElement(By.cssSelector(&quot;.cancelButton&quot;)); }\n</code></pre>\n<p><strong>XYZtest.java:</strong></p>\n<pre><code>softAssertions.assertThat(sellerVehicleEditPage.cancelButton().isDisplayed())\n            .isEqualTo(false);\n</code></pre>\n<p>I am asserting here that an element is not displayed. I have seen other solutions on this website and other places where people are suggesting to try ExpectedConditions, among other things. But since the element doesn't exist even ExpectedConditions is eventually throwing NoSuchElementException. This is what I tried in XYZpage.java:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 5);\npublic WebElement cancelButton() { return wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;.cancelButton&quot;))); }\n</code></pre>\n<p>I have more than 1000 elements with each element used multiple times in different tests. So I do not want to pass By every time I need to call the element, as some of the solutions suggests. Is there a more elegant way to check conditions like .isDisplayed() equals false without getting NoSuchElementException?</p>\n"},{"tags":["java","polymorphism","downcast","late-binding"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1648146797,"post_id":71607645,"comment_id":126557219,"body_markdown":"What is your actual question?","body":"What is your actual question?"},{"owner":{"account_id":24677173,"reputation":31,"user_id":18571422,"display_name":"User_214534"},"score":0,"creation_date":1648146914,"post_id":71607645,"comment_id":126557259,"body_markdown":"Why downcasting is not possible in case parent and child are structurally the same?","body":"Why downcasting is not possible in case parent and child are structurally the same?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1648147869,"post_id":71607645,"comment_id":126557568,"body_markdown":"The terms you are looking for here are [structural type systems](https://en.wikipedia.org/wiki/Structural_type_system) and [nominal type systems](https://en.wikipedia.org/wiki/Nominal_type_system). It is not possible to cast `Animal` to `Dog` simply because Java&#39;s type system is designed to be nominal.","body":"The terms you are looking for here are <a href=\"https://en.wikipedia.org/wiki/Structural_type_system\" rel=\"nofollow noreferrer\">structural type systems</a> and <a href=\"https://en.wikipedia.org/wiki/Nominal_type_system\" rel=\"nofollow noreferrer\">nominal type systems</a>. It is not possible to cast <code>Animal</code> to <code>Dog</code> simply because Java&#39;s type system is designed to be nominal."},{"owner":{"account_id":24677173,"reputation":31,"user_id":18571422,"display_name":"User_214534"},"score":0,"creation_date":1648148052,"post_id":71607645,"comment_id":126557643,"body_markdown":"Sorry, I&#39;ve edited my question","body":"Sorry, I&#39;ve edited my question"},{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":1,"creation_date":1648148077,"post_id":71607645,"comment_id":126557650,"body_markdown":"You can cast explicitly (`Animal a = new Animal(); Dog dog = (Dog) a`) which will throw a runtime error if `a` is not in fact a dog, see https://www.geeksforgeeks.org/upcasting-vs-downcasting-in-java/ but the compiler won&#39;t automatically cast it for you","body":"You can cast explicitly (<code>Animal a = new Animal(); Dog dog = (Dog) a</code>) which will throw a runtime error if <code>a</code> is not in fact a dog, see <a href=\"https://www.geeksforgeeks.org/upcasting-vs-downcasting-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/upcasting-vs-downcasting-in-java</a> but the compiler won&#39;t automatically cast it for you"},{"owner":{"account_id":24677173,"reputation":31,"user_id":18571422,"display_name":"User_214534"},"score":0,"creation_date":1648148208,"post_id":71607645,"comment_id":126557689,"body_markdown":"Yeah, this will throw classcastexception","body":"Yeah, this will throw classcastexception"},{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":3,"creation_date":1648148332,"post_id":71607645,"comment_id":126557726,"body_markdown":"https://stackoverflow.com/questions/380813/downcasting-in-java","body":"<a href=\"https://stackoverflow.com/questions/380813/downcasting-in-java\">stackoverflow.com/questions/380813/downcasting-in-java</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1648149036,"post_id":71607645,"comment_id":126557966,"body_markdown":"The cast from Animal would work if the reference was concretely of type Dog, e.g. `Animal a = new Dog(); Dog d = (Dog) a;`.","body":"The cast from Animal would work if the reference was concretely of type Dog, e.g. <code>Animal a = new Dog(); Dog d = (Dog) a;</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1648150159,"post_id":71607645,"comment_id":126558342,"body_markdown":"Java will only allow objects that are in fact dogs (are instances of `Dog` or a subclass of `Dog`) to be cast to `Dog`. Which fields the class has (or hasn’t) is not taken into consideration. It reflects real life: in reality you cannot make an animal into a dog no matter how similar it is to a dog.","body":"Java will only allow objects that are in fact dogs (are instances of <code>Dog</code> or a subclass of <code>Dog</code>) to be cast to <code>Dog</code>. Which fields the class has (or hasn’t) is not taken into consideration. It reflects real life: in reality you cannot make an animal into a dog no matter how similar it is to a dog."},{"owner":{"account_id":24677173,"reputation":31,"user_id":18571422,"display_name":"User_214534"},"score":0,"creation_date":1648157086,"post_id":71607645,"comment_id":126560520,"body_markdown":"Actually, there are 3 checks. The first 2 checks performs the compiler and the last check JVM. When we write like this `Dog d = (Dog) new Animal()` it passes the first 2 checks of the compiler, but in the runtime, JVM recognizes that this cast is impossible, so in the 3rd check we get classcastexception.","body":"Actually, there are 3 checks. The first 2 checks performs the compiler and the last check JVM. When we write like this <code>Dog d = (Dog) new Animal()</code> it passes the first 2 checks of the compiler, but in the runtime, JVM recognizes that this cast is impossible, so in the 3rd check we get classcastexception."}],"answers":[{"tags":[],"owner":{"account_id":3901572,"reputation":85,"user_id":3229298,"accept_rate":60,"display_name":"ferzle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648150154,"creation_date":1648150154,"answer_id":71608385,"question_id":71607645,"body_markdown":"When the compiler sees that you are trying to cast the Animal object into a Dog, it &quot;knows&quot; that Dog is underneath Animal in the hierarchy, so it is possible that the animal is a dog, so it allows it. However, at runtime, it turns out that it is just an Animal, and is not a Dog, so the cast fails. \r\n\r\nThis is a weird case in which it is obvious in reading the program that the Animal is just an Animal and not a Dog because it was just created with &quot;new Animal()&quot;, but the compiler doesn&#39;t know that--it just knows that it is an Animal. Compilers are smart, but they can&#39;t know everything. I hope that makes sense.","title":"Why casting is not possible from child to parent","body":"<p>When the compiler sees that you are trying to cast the Animal object into a Dog, it &quot;knows&quot; that Dog is underneath Animal in the hierarchy, so it is possible that the animal is a dog, so it allows it. However, at runtime, it turns out that it is just an Animal, and is not a Dog, so the cast fails.</p>\n<p>This is a weird case in which it is obvious in reading the program that the Animal is just an Animal and not a Dog because it was just created with &quot;new Animal()&quot;, but the compiler doesn't know that--it just knows that it is an Animal. Compilers are smart, but they can't know everything. I hope that makes sense.</p>\n"}],"owner":{"account_id":24677173,"reputation":31,"user_id":18571422,"display_name":"User_214534"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648205810,"creation_date":1648146298,"question_id":71607645,"body_markdown":"I have a class Animal which has one child Dog.\r\n\r\n    class Animal {\r\n        public void makeSound() {\r\n            System.out.println(&quot;Animal sound&quot;);\r\n        }\r\n    }\r\n\r\n    class Dog extends Animal {\r\n        @Override\r\n        public void makeSound() {\r\n            super.makeSound();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Dog dog = (Dog) new Animal(); // It compiles, but throws runtime exception.\r\n        dog.makeSound();\r\n    }\r\n\r\nHere if we will cast child to parent, it will compile, but it will throw runtime exception - ClassCastException. Of course, there can be a case when the child will have a field or method which the parent doesn&#39;t. That&#39;s why we can&#39;t cast Dog to Animal. Also, there&#39;s no IS-A relationship. But why the cast is not possible, in case parent and child classes have only the same fields and methods?  \r\nI&#39;ve got asked this question in the interview)\r\n\r\nThank you.","title":"Why casting is not possible from child to parent","body":"<p>I have a class Animal which has one child Dog.</p>\n<pre><code>class Animal {\n    public void makeSound() {\n        System.out.println(&quot;Animal sound&quot;);\n    }\n}\n\nclass Dog extends Animal {\n    @Override\n    public void makeSound() {\n        super.makeSound();\n    }\n}\n\npublic static void main(String[] args) {\n    Dog dog = (Dog) new Animal(); // It compiles, but throws runtime exception.\n    dog.makeSound();\n}\n</code></pre>\n<p>Here if we will cast child to parent, it will compile, but it will throw runtime exception - ClassCastException. Of course, there can be a case when the child will have a field or method which the parent doesn't. That's why we can't cast Dog to Animal. Also, there's no IS-A relationship. But why the cast is not possible, in case parent and child classes have only the same fields and methods?<br />\nI've got asked this question in the interview)</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","cron","scheduler"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1648204677,"post_id":71615401,"comment_id":126570739,"body_markdown":"You could try to log or capture that otherwise right at the start of the job. That might be off a millisecond or 2 but would still be quite accurate.","body":"You could try to log or capture that otherwise right at the start of the job. That might be off a millisecond or 2 but would still be quite accurate."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648205694,"creation_date":1648205694,"answer_id":71615766,"question_id":71615401,"body_markdown":"The Spring guide of scheduler give a similar example , see the link : https://spring.io/guides/gs/scheduling-tasks/ .\r\n\r\nYou can log the time to a logFile but as Thomas mention the exact time of execution may be after some millisonconds (related with the machine and the thread scheduler and the time needed by the thread to do the task of log or print to the outputStream).\r\n\r\n    import java.time.LocalDateTime;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class ScheduledTasks {\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\r\n\r\n\t@Scheduled(fixedRate = 1000)\r\n\tpublic void reportCurrentTime() {\r\n\t\tlog.info(&quot;The time is now {}&quot;, LocalDateTime.now());\r\n        // System.out.println(LocalDateTime.now());\r\n\t}\r\n    }","title":"Can i get the time in milliseconds when the scheduler started in spring boot application","body":"<p>The Spring guide of scheduler give a similar example , see the link : <a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/scheduling-tasks/</a> .</p>\n<p>You can log the time to a logFile but as Thomas mention the exact time of execution may be after some millisonconds (related with the machine and the thread scheduler and the time needed by the thread to do the task of log or print to the outputStream).</p>\n<pre><code>import java.time.LocalDateTime;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ScheduledTasks {\n\nprivate static final Logger log = LoggerFactory.getLogger(ScheduledTasks.class);\n\n@Scheduled(fixedRate = 1000)\npublic void reportCurrentTime() {\n    log.info(&quot;The time is now {}&quot;, LocalDateTime.now());\n    // System.out.println(LocalDateTime.now());\n}\n}\n</code></pre>\n"}],"owner":{"account_id":10870463,"reputation":1,"user_id":7992534,"display_name":"reddySe7en"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648205694,"creation_date":1648203908,"question_id":71615401,"body_markdown":"I have a method which will be running at an interval of 2 hrs and is mentioned in cron of Scheduler in Spring boot application.\r\nNow my question is can I get the time in milliseconds when the scheduler ran?\r\n\r\nI tried to get the time but not able to fetch it when the scheduler ran.","title":"Can i get the time in milliseconds when the scheduler started in spring boot application","body":"<p>I have a method which will be running at an interval of 2 hrs and is mentioned in cron of Scheduler in Spring boot application.\nNow my question is can I get the time in milliseconds when the scheduler ran?</p>\n<p>I tried to get the time but not able to fetch it when the scheduler ran.</p>\n"},{"tags":["java","javafx","replit"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1648204961,"post_id":71615438,"comment_id":126570842,"body_markdown":"what&#39;s the problem _exactly_? sounds like you need to learn some java language basics like resource lookup plus which parameters the class you want to use needs ..","body":"what&#39;s the problem <i>exactly</i>? sounds like you need to learn some java language basics like resource lookup plus which parameters the class you want to use needs .."},{"owner":{"account_id":7074805,"reputation":1890,"user_id":5415234,"display_name":"Bernhard Stadler"},"score":0,"creation_date":1648229558,"post_id":71615438,"comment_id":126579997,"body_markdown":"Hello NewtonPearson, welcome to Stack Overflow! Before asking a question on Stack Overflow, please always try to do at least some minimal research by searching for existing questions in SO and, in a case like this, by looking at the API documentation of JavaFX: https://stackoverflow.com/search?q=javafx+audio+url and https://openjfx.io/javadoc/18/javafx.media/javafx/scene/media/AudioClip.html","body":"Hello NewtonPearson, welcome to Stack Overflow! Before asking a question on Stack Overflow, please always try to do at least some minimal research by searching for existing questions in SO and, in a case like this, by looking at the API documentation of JavaFX: <a href=\"https://stackoverflow.com/search?q=javafx+audio+url\">stackoverflow.com/search?q=javafx+audio+url</a> and <a href=\"https://openjfx.io/javadoc/18/javafx.media/javafx/scene/media/AudioClip.html\" rel=\"nofollow noreferrer\">openjfx.io/javadoc/18/javafx.media/javafx/scene/media/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648205505,"creation_date":1648205505,"answer_id":71615727,"question_id":71615438,"body_markdown":"You can try this\r\n\r\n    Media sound = new Media(&quot;https://yourURL/file.mp3&quot;);\r\n    MediaPlayer mediaPlayer = new MediaPlayer(sound);\r\n    mediaPlayer.play();","title":"How could I implement audio to my program in Replit (JavaFX) only via URL links?","body":"<p>You can try this</p>\n<pre><code>Media sound = new Media(&quot;https://yourURL/file.mp3&quot;);\nMediaPlayer mediaPlayer = new MediaPlayer(sound);\nmediaPlayer.play();\n</code></pre>\n"}],"owner":{"account_id":24647924,"reputation":1,"user_id":18545352,"display_name":"NewtonPearson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1648205505,"creation_date":1648204125,"question_id":71615438,"body_markdown":"I want to add audio to my JavaFX project in Replit. Is there a way to use a public accessible URL link that references an .mp3 file in order to play audio?\r\n\r\nFor example, the following allows me to include an image only using a URL without having to reference a file:\r\n\r\nImage image= new Image(&quot;https://cdn.discordapp.com/attachments/952426047645843537/954119846046629928/play3.png&quot;);\r\n\r\n\r\nIs something similar possible for audio files?\r\n","title":"How could I implement audio to my program in Replit (JavaFX) only via URL links?","body":"<p>I want to add audio to my JavaFX project in Replit. Is there a way to use a public accessible URL link that references an .mp3 file in order to play audio?</p>\n<p>For example, the following allows me to include an image only using a URL without having to reference a file:</p>\n<p>Image image= new Image(&quot;https://cdn.discordapp.com/attachments/952426047645843537/954119846046629928/play3.png&quot;);</p>\n<p>Is something similar possible for audio files?</p>\n"},{"tags":["java","spring-boot","threadpool","embedded-jetty","spring-websocket"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648205310,"creation_date":1648205310,"answer_id":71615691,"question_id":71611329,"body_markdown":"You have idle threads in a thread pool in that list.\r\n\r\nThose are waiting for tasks that need a thread, and are not blocked.\r\n\r\nExample 1: - a waiting reserved thread pool thread.\r\n\r\n```\r\n - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(long, java.util.concurrent.TimeUnit) @bci=97 (Compiled frame)\r\n - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.reservedWait() @bci=97, line=292 (Compiled frame)\r\n```\r\n\r\nExample 2: a QTP idle job poll.\r\n\r\n```\r\n - org.eclipse.jetty.util.BlockingArrayQueue.poll(long, java.util.concurrent.TimeUnit) @bci=57, line=392 (Compiled frame)\r\n - org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll() @bci=12, line=656 (Compiled frame)\r\n```\r\n\r\nDon&#39;t include those kinds of threads in your &quot;all threads in a blocked state&quot; concern.\r\n\r\nOf the the 7 threads in your copy/paste ...\r\n\r\n* 1 is active with networking behavior (don&#39;t know if it&#39;s client or server side)\r\n* 1 is active with spring websocket behavior (looks like client side)\r\n* 5 are idle in a thread pool and waiting for tasks to do something","title":"Spring Boot WebSocket Application Hangs with all threads in blocked State","body":"<p>You have idle threads in a thread pool in that list.</p>\n<p>Those are waiting for tasks that need a thread, and are not blocked.</p>\n<p>Example 1: - a waiting reserved thread pool thread.</p>\n<pre><code> - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(long, java.util.concurrent.TimeUnit) @bci=97 (Compiled frame)\n - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.reservedWait() @bci=97, line=292 (Compiled frame)\n</code></pre>\n<p>Example 2: a QTP idle job poll.</p>\n<pre><code> - org.eclipse.jetty.util.BlockingArrayQueue.poll(long, java.util.concurrent.TimeUnit) @bci=57, line=392 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll() @bci=12, line=656 (Compiled frame)\n</code></pre>\n<p>Don't include those kinds of threads in your &quot;all threads in a blocked state&quot; concern.</p>\n<p>Of the the 7 threads in your copy/paste ...</p>\n<ul>\n<li>1 is active with networking behavior (don't know if it's client or server side)</li>\n<li>1 is active with spring websocket behavior (looks like client side)</li>\n<li>5 are idle in a thread pool and waiting for tasks to do something</li>\n</ul>\n"}],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648205343,"creation_date":1648173363,"question_id":71611329,"body_markdown":"I am facing an issue where all the threads of my spring boot application went into a BLOCKED state. The server was running fine for a long time and it suddenly hung. Below is the thread dump:\r\n\r\n    Thread 227: (state = IN_NATIVE)\r\n     - sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(long, int, int[], int[], int[], long) @bci=0 (Compiled frame; information may be imprecise)\r\n     - sun.nio.ch.WindowsSelectorImpl$SubSelector.poll() @bci=43 (Compiled frame)\r\n     - sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(sun.nio.ch.WindowsSelectorImpl$SubSelector) @bci=1 (Compiled frame)\r\n     - sun.nio.ch.WindowsSelectorImpl.doSelect(long) @bci=63 (Compiled frame)\r\n     - sun.nio.ch.SelectorImpl.lockAndDoSelect(long) @bci=37 (Compiled frame)\r\n     - sun.nio.ch.SelectorImpl.select(long) @bci=30 (Compiled frame)\r\n     - sun.nio.ch.SelectorImpl.select() @bci=2 (Compiled frame)\r\n     - org.eclipse.jetty.io.ManagedSelector$SelectorProducer.select() @bci=64, line=422 (Compiled frame)\r\n     - org.eclipse.jetty.io.ManagedSelector$SelectorProducer.produce() @bci=20, line=359 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produceTask() @bci=4, line=357 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(boolean) @bci=1, line=181 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(boolean) @bci=134, line=168 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run() @bci=2, line=126 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run() @bci=203, line=366 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(java.lang.Runnable) @bci=1, line=765 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool$2.run() @bci=104, line=683 (Compiled frame)\r\n     - java.lang.Thread.run() @bci=11 (Compiled frame)\r\n    \r\n    \r\n    Thread 226: (state = BLOCKED)\r\n     - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\r\n     - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20 (Compiled frame)\r\n     - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(long, java.util.concurrent.TimeUnit) @bci=97 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.reservedWait() @bci=97, line=292 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run() @bci=188, line=357 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(java.lang.Runnable) @bci=1, line=765 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool$2.run() @bci=104, line=683 (Compiled frame)\r\n     - java.lang.Thread.run() @bci=11 (Compiled frame)\r\n    \r\n    \r\n    Thread 225: (state = BLOCKED)\r\n     - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\r\n     - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20 (Compiled frame)\r\n     - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) @bci=78 (Compiled frame)\r\n     - org.eclipse.jetty.util.BlockingArrayQueue.poll(long, java.util.concurrent.TimeUnit) @bci=57, line=392 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll() @bci=12, line=656 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool.access$800(org.eclipse.jetty.util.thread.QueuedThreadPool) @bci=1, line=49 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool$2.run() @bci=358, line=720 (Compiled frame)\r\n     - java.lang.Thread.run() @bci=11 (Compiled frame)\r\n    \r\n    \r\n    Thread 224: (state = BLOCKED)\r\n     - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\r\n     - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20 (Compiled frame)\r\n     - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) @bci=78 (Compiled frame)\r\n     - org.eclipse.jetty.util.BlockingArrayQueue.poll(long, java.util.concurrent.TimeUnit) @bci=57, line=392 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll() @bci=12, line=656 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool.access$800(org.eclipse.jetty.util.thread.QueuedThreadPool) @bci=1, line=49 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool$2.run() @bci=358, line=720 (Compiled frame)\r\n     - java.lang.Thread.run() @bci=11 (Compiled frame)\r\n    \r\n    \r\n    Thread 223: (state = BLOCKED)\r\n     - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\r\n     - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20 (Compiled frame)\r\n     - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(long, java.util.concurrent.TimeUnit) @bci=97 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.reservedWait() @bci=97, line=292 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run() @bci=188, line=357 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(java.lang.Runnable) @bci=1, line=765 (Compiled frame)\r\n     - org.eclipse.jetty.util.thread.QueuedThreadPool$2.run() @bci=104, line=683 (Compiled frame)\r\n     - java.lang.Thread.run() @bci=11 (Compiled frame)\r\n    \r\n    \r\n    Thread 221: (state = BLOCKED)\r\n     - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\r\n     - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20 (Compiled frame)\r\n     - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) @bci=78 (Compiled frame)\r\n     - java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take() @bci=124 (Compiled frame)\r\n     - java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take() @bci=1 (Compiled frame)\r\n     - java.util.concurrent.ThreadPoolExecutor.getTask() @bci=149 (Compiled frame)\r\n     - java.util.concurrent.ThreadPoolExecutor.runWorker(java.util.concurrent.ThreadPoolExecutor$Worker) @bci=26 (Interpreted frame)\r\n     - java.util.concurrent.ThreadPoolExecutor$Worker.run() @bci=5 (Interpreted frame)\r\n     - java.lang.Thread.run() @bci=11 (Interpreted frame)\r\n    \r\n    \r\n    Thread 1: (state = BLOCKED)\r\n    \r\n    \r\n    Thread 220: (state = BLOCKED)\r\n     - org.springframework.web.socket.adapter.AbstractWebSocketSession.checkNativeSessionInitialized() @bci=4, line=94 (Compiled frame)\r\n     - org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(org.springframework.web.socket.WebSocketMessage) @bci=1, line=99 (Compiled frame)\r\n     - com.example.SocketHandler.sendMessage(org.springframework.web.socket.WebSocketSession, java.lang.String, boolean) @bci=22, line=32 (Compiled frame)\r\n     - com.example.RequestProcessor.handleRequest(org.springframework.web.socket.WebSocketSession, org.springframework.web.socket.TextMessage) @bci=620, line=123 (Compiled frame)\r\n     - com.example.RequestProcessor.run() @bci=36, line=55 (Interpreted frame)\r\n     - java.util.concurrent.Executors$RunnableAdapter.call() @bci=4 (Interpreted frame)\r\n     - java.util.concurrent.FutureTask.run() @bci=42 (Compiled frame)\r\n     - java.util.concurrent.ThreadPoolExecutor.runWorker(java.util.concurrent.ThreadPoolExecutor$Worker) @bci=95 (Interpreted frame)\r\n     - java.util.concurrent.ThreadPoolExecutor$Worker.run() @bci=5 (Interpreted frame)\r\n     - java.lang.Thread.run() @bci=11 (Interpreted frame)\r\n\r\nI am using a jetty server in the Application with the default configuration. Any help will be appreciated.","title":"Spring Boot WebSocket Application Hangs with all threads in blocked State","body":"<p>I am facing an issue where all the threads of my spring boot application went into a BLOCKED state. The server was running fine for a long time and it suddenly hung. Below is the thread dump:</p>\n<pre><code>Thread 227: (state = IN_NATIVE)\n - sun.nio.ch.WindowsSelectorImpl$SubSelector.poll0(long, int, int[], int[], int[], long) @bci=0 (Compiled frame; information may be imprecise)\n - sun.nio.ch.WindowsSelectorImpl$SubSelector.poll() @bci=43 (Compiled frame)\n - sun.nio.ch.WindowsSelectorImpl$SubSelector.access$400(sun.nio.ch.WindowsSelectorImpl$SubSelector) @bci=1 (Compiled frame)\n - sun.nio.ch.WindowsSelectorImpl.doSelect(long) @bci=63 (Compiled frame)\n - sun.nio.ch.SelectorImpl.lockAndDoSelect(long) @bci=37 (Compiled frame)\n - sun.nio.ch.SelectorImpl.select(long) @bci=30 (Compiled frame)\n - sun.nio.ch.SelectorImpl.select() @bci=2 (Compiled frame)\n - org.eclipse.jetty.io.ManagedSelector$SelectorProducer.select() @bci=64, line=422 (Compiled frame)\n - org.eclipse.jetty.io.ManagedSelector$SelectorProducer.produce() @bci=20, line=359 (Compiled frame)\n - org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produceTask() @bci=4, line=357 (Compiled frame)\n - org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(boolean) @bci=1, line=181 (Compiled frame)\n - org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(boolean) @bci=134, line=168 (Compiled frame)\n - org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run() @bci=2, line=126 (Compiled frame)\n - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run() @bci=203, line=366 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(java.lang.Runnable) @bci=1, line=765 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool$2.run() @bci=104, line=683 (Compiled frame)\n - java.lang.Thread.run() @bci=11 (Compiled frame)\n\n\nThread 226: (state = BLOCKED)\n - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\n - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20 (Compiled frame)\n - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(long, java.util.concurrent.TimeUnit) @bci=97 (Compiled frame)\n - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.reservedWait() @bci=97, line=292 (Compiled frame)\n - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run() @bci=188, line=357 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(java.lang.Runnable) @bci=1, line=765 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool$2.run() @bci=104, line=683 (Compiled frame)\n - java.lang.Thread.run() @bci=11 (Compiled frame)\n\n\nThread 225: (state = BLOCKED)\n - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\n - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20 (Compiled frame)\n - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) @bci=78 (Compiled frame)\n - org.eclipse.jetty.util.BlockingArrayQueue.poll(long, java.util.concurrent.TimeUnit) @bci=57, line=392 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll() @bci=12, line=656 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool.access$800(org.eclipse.jetty.util.thread.QueuedThreadPool) @bci=1, line=49 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool$2.run() @bci=358, line=720 (Compiled frame)\n - java.lang.Thread.run() @bci=11 (Compiled frame)\n\n\nThread 224: (state = BLOCKED)\n - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\n - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20 (Compiled frame)\n - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) @bci=78 (Compiled frame)\n - org.eclipse.jetty.util.BlockingArrayQueue.poll(long, java.util.concurrent.TimeUnit) @bci=57, line=392 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll() @bci=12, line=656 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool.access$800(org.eclipse.jetty.util.thread.QueuedThreadPool) @bci=1, line=49 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool$2.run() @bci=358, line=720 (Compiled frame)\n - java.lang.Thread.run() @bci=11 (Compiled frame)\n\n\nThread 223: (state = BLOCKED)\n - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\n - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20 (Compiled frame)\n - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(long, java.util.concurrent.TimeUnit) @bci=97 (Compiled frame)\n - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.reservedWait() @bci=97, line=292 (Compiled frame)\n - org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run() @bci=188, line=357 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(java.lang.Runnable) @bci=1, line=765 (Compiled frame)\n - org.eclipse.jetty.util.thread.QueuedThreadPool$2.run() @bci=104, line=683 (Compiled frame)\n - java.lang.Thread.run() @bci=11 (Compiled frame)\n\n\nThread 221: (state = BLOCKED)\n - sun.misc.Unsafe.park(boolean, long) @bci=0 (Compiled frame; information may be imprecise)\n - java.util.concurrent.locks.LockSupport.parkNanos(java.lang.Object, long) @bci=20 (Compiled frame)\n - java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(long) @bci=78 (Compiled frame)\n - java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take() @bci=124 (Compiled frame)\n - java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take() @bci=1 (Compiled frame)\n - java.util.concurrent.ThreadPoolExecutor.getTask() @bci=149 (Compiled frame)\n - java.util.concurrent.ThreadPoolExecutor.runWorker(java.util.concurrent.ThreadPoolExecutor$Worker) @bci=26 (Interpreted frame)\n - java.util.concurrent.ThreadPoolExecutor$Worker.run() @bci=5 (Interpreted frame)\n - java.lang.Thread.run() @bci=11 (Interpreted frame)\n\n\nThread 1: (state = BLOCKED)\n\n\nThread 220: (state = BLOCKED)\n - org.springframework.web.socket.adapter.AbstractWebSocketSession.checkNativeSessionInitialized() @bci=4, line=94 (Compiled frame)\n - org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(org.springframework.web.socket.WebSocketMessage) @bci=1, line=99 (Compiled frame)\n - com.example.SocketHandler.sendMessage(org.springframework.web.socket.WebSocketSession, java.lang.String, boolean) @bci=22, line=32 (Compiled frame)\n - com.example.RequestProcessor.handleRequest(org.springframework.web.socket.WebSocketSession, org.springframework.web.socket.TextMessage) @bci=620, line=123 (Compiled frame)\n - com.example.RequestProcessor.run() @bci=36, line=55 (Interpreted frame)\n - java.util.concurrent.Executors$RunnableAdapter.call() @bci=4 (Interpreted frame)\n - java.util.concurrent.FutureTask.run() @bci=42 (Compiled frame)\n - java.util.concurrent.ThreadPoolExecutor.runWorker(java.util.concurrent.ThreadPoolExecutor$Worker) @bci=95 (Interpreted frame)\n - java.util.concurrent.ThreadPoolExecutor$Worker.run() @bci=5 (Interpreted frame)\n - java.lang.Thread.run() @bci=11 (Interpreted frame)\n</code></pre>\n<p>I am using a jetty server in the Application with the default configuration. Any help will be appreciated.</p>\n"},{"tags":["java","bazel"],"answers":[{"tags":[],"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1542715521,"creation_date":1542715521,"answer_id":53392649,"question_id":53392577,"body_markdown":"&gt; I do not want to install two javas in my mac. \r\n\r\nYou have to, or remove the version you currently have. Bazel needs java 8 and no other versions are supported as mentioned in the docs:\r\n\r\n&gt; You must install version 8 of the JDK. Versions other than 8 are not supported.","title":"problem about installing bazel with homebrew","body":"<blockquote>\n  <p>I do not want to install two javas in my mac. </p>\n</blockquote>\n\n<p>You have to, or remove the version you currently have. Bazel needs java 8 and no other versions are supported as mentioned in the docs:</p>\n\n<blockquote>\n  <p>You must install version 8 of the JDK. Versions other than 8 are not supported.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":219607,"reputation":166,"user_id":476610,"display_name":"mxi1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648205164,"creation_date":1648205164,"answer_id":71615663,"question_id":53392577,"body_markdown":"JDK is not mandatory. Please check bazel github release page: https://github.com/bazelbuild/bazel/releases","title":"problem about installing bazel with homebrew","body":"<p>JDK is not mandatory. Please check bazel github release page: <a href=\"https://github.com/bazelbuild/bazel/releases\" rel=\"nofollow noreferrer\">https://github.com/bazelbuild/bazel/releases</a></p>\n"}],"owner":{"account_id":11121361,"reputation":577,"user_id":8164113,"accept_rate":8,"display_name":"William Song"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53392649,"answer_count":2,"score":0,"last_activity_date":1648205164,"creation_date":1542715280,"question_id":53392577,"body_markdown":"When I installed **bazel** with homebrew, I got the following error.\r\n\r\n    Updating Homebrew... bazel: Java 1.8 is required to install this\r\n    formula. JavaRequirement unsatisfied! You can install with Homebrew\r\n    Cask:  brew cask install homebrew/cask-versions/java8 You can download\r\n    from: \r\n    https://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n    Error: An unsatisfied requirement failed this build.\r\n\r\nI installed (newest version) **Java** with homebrew.\r\n\r\nI do not want to install two versions of Java in my mac.\r\n\r\nHow do I install **bazel** based on the available Java?\r\n","title":"problem about installing bazel with homebrew","body":"<p>When I installed <strong>bazel</strong> with homebrew, I got the following error.</p>\n\n<pre><code>Updating Homebrew... bazel: Java 1.8 is required to install this\nformula. JavaRequirement unsatisfied! You can install with Homebrew\nCask:  brew cask install homebrew/cask-versions/java8 You can download\nfrom: \nhttps://www.oracle.com/technetwork/java/javase/downloads/index.html\nError: An unsatisfied requirement failed this build.\n</code></pre>\n\n<p>I installed (newest version) <strong>Java</strong> with homebrew.</p>\n\n<p>I do not want to install two versions of Java in my mac.</p>\n\n<p>How do I install <strong>bazel</strong> based on the available Java?</p>\n"},{"tags":["java","loops","swing","jbutton","actionlistener"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1544196193,"post_id":53672337,"comment_id":94202161,"body_markdown":"Why not make count ***not*** a field of the class but a local *final* int variable? e.g., `final int finalCount = i;`","body":"Why not make count <b><i>not</i></b> a field of the class but a local <i>final</i> int variable? e.g., <code>final int finalCount = i;</code>"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1544196511,"creation_date":1544196511,"answer_id":53672465,"question_id":53672337,"body_markdown":"In general you will want to avoid using static fields as you loose all benefits of object-oriented programming by this. There are specific places for use of static fields, but this is not one of them. In your situation you can&#39;t use the index of the loop, `i`, directly since it is not a final local variable, and non-final local variables cannot be used within anonymous inner classes. So a simple solution exists:\r\n\r\nMake count a final local variable and you should be able to use it within your anonymous inner class:\r\n\r\n\tfor(int i = 0; i &lt;= 9; i++) {\r\n\t\tfinal int finalCount = i;\r\n\t\tbtns.get(i).addActionListener(new ActionListener(){ \r\n\t\t\tpublic void actionPerformed(ActionEvent e){ \r\n\r\n\t\t\t\tnums.setText(nums.getText() + finalCount);\r\n\r\n\t\t\t}       \r\n\t\t});\r\n\t}","title":"JButton ActionListeners different variable in each loop","body":"<p>In general you will want to avoid using static fields as you loose all benefits of object-oriented programming by this. There are specific places for use of static fields, but this is not one of them. In your situation you can't use the index of the loop, <code>i</code>, directly since it is not a final local variable, and non-final local variables cannot be used within anonymous inner classes. So a simple solution exists:</p>\n\n<p>Make count a final local variable and you should be able to use it within your anonymous inner class:</p>\n\n<pre><code>for(int i = 0; i &lt;= 9; i++) {\n    final int finalCount = i;\n    btns.get(i).addActionListener(new ActionListener(){ \n        public void actionPerformed(ActionEvent e){ \n\n            nums.setText(nums.getText() + finalCount);\n\n        }       \n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544197551,"creation_date":1544197551,"answer_id":53672742,"question_id":53672337,"body_markdown":"Assuming the text for each button is simply the digit you wish to append, there is another way that lets you share the same ActionListener instance for every number button.\r\n\r\n    private ActionListener numberBtnListener = new ActionListener(){ \r\n        public void actionPerformed(ActionEvent e){ \r\n            JButton b = (JButton) e.getSource();\r\n            nums.setText(nums.getText() + b.getText());\r\n        }       \r\n    }\r\n\r\n\r\nThen just use the same listener instance for each button:\r\n\r\n\r\n    for(JButton b : btns) {\r\n        b.addActionListener(numberBtnListener);\r\n    }\r\n\r\n\r\nIf your button text is different for some reason, you can still use the same technique by using a client property on each button to hold the value that you wish to append. E.g.:\r\n\r\n  \r\n\r\n     b.putClientProperty(&quot;digit&quot;, i);  \r\n\r\nthen use \r\n\r\n   \r\n\r\n    nums.setText(nums.getText() + b.getClientProperty(&quot;digit&quot;));\r\n\r\n","title":"JButton ActionListeners different variable in each loop","body":"<p>Assuming the text for each button is simply the digit you wish to append, there is another way that lets you share the same ActionListener instance for every number button.</p>\n\n<pre><code>private ActionListener numberBtnListener = new ActionListener(){ \n    public void actionPerformed(ActionEvent e){ \n        JButton b = (JButton) e.getSource();\n        nums.setText(nums.getText() + b.getText());\n    }       \n}\n</code></pre>\n\n<p>Then just use the same listener instance for each button:</p>\n\n<pre><code>for(JButton b : btns) {\n    b.addActionListener(numberBtnListener);\n}\n</code></pre>\n\n<p>If your button text is different for some reason, you can still use the same technique by using a client property on each button to hold the value that you wish to append. E.g.:</p>\n\n<pre><code> b.putClientProperty(\"digit\", i);  \n</code></pre>\n\n<p>then use </p>\n\n<pre><code>nums.setText(nums.getText() + b.getClientProperty(\"digit\"));\n</code></pre>\n"}],"owner":{"account_id":8309787,"reputation":71,"user_id":6245396,"accept_rate":80,"display_name":"Maximus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53672465,"answer_count":2,"score":1,"last_activity_date":1648204633,"creation_date":1544195965,"question_id":53672337,"body_markdown":"I am making a simple calculator using a JFrame and JButtons. Before I made each button, 0 thru 9, with their own action listeners, now I have realized that this is super inefficient and I should use a loop to make each button and assign the ActionListeners. So the only thing that needs to happen in each ActionListener is to add whatever number the button is to a JTextField, called nums. Here is what I have now.\r\n\r\n    for(int i = 0; i &lt;=9; i++) {\r\n    \t\tcount = i;\r\n    \t\tbtns.get(i).addActionListener(new ActionListener(){ //makes action listeners for each button\r\n    \t        public void actionPerformed(ActionEvent e){ \r\n\r\n    \t        \t\tnums.setText(nums.getText()+ count);//IMPORTANT CODE\r\n    \t        \t\r\n    \t        }    \t\r\n    \t    });\r\n          }\r\nSo as you can see I used a terribly named variable named `count`. `count` is set to `i` in each iteration before the important code is used. I have to do this because an AL is it&#39;s own class and cannot access i. However count is public and static, so the ALs can use count. \r\n\r\nMy problem is that all the buttons print 9. This logically makes sense because what is happening is that the ALs in each button use the count variable, when the loop is done, count will be 9, which means each AL will essentially contain ` nums.setText(nums.getText()+ 9);`. Instead, I need button 1 to be ` nums.setText(nums.getText()+ 1);` 2 to be 2, ETC. \r\n\r\nI have tried to call the text of each button, however, because you need to use an index in the ArrayList get method, you need a variable, if you use count, the same problem occurs; after the for loops has terminated, count is 9, so all the buttons print the text of the 9 button.\r\n\r\nAny and all help is appreciated, Thanks in advance,\r\n-Max\r\n\r\nP.S. Just in case you don&#39;t understand why I&#39;m getting the text and then adding count, it is because in order to type the number 12. you need to type 1 and then concatenate the 2 to the one to et 12. getText gets the 1, and adding count concatenates the 2 to make 12.","title":"JButton ActionListeners different variable in each loop","body":"<p>I am making a simple calculator using a JFrame and JButtons. Before I made each button, 0 thru 9, with their own action listeners, now I have realized that this is super inefficient and I should use a loop to make each button and assign the ActionListeners. So the only thing that needs to happen in each ActionListener is to add whatever number the button is to a JTextField, called nums. Here is what I have now.</p>\n\n<pre><code>for(int i = 0; i &lt;=9; i++) {\n        count = i;\n        btns.get(i).addActionListener(new ActionListener(){ //makes action listeners for each button\n            public void actionPerformed(ActionEvent e){ \n\n                    nums.setText(nums.getText()+ count);//IMPORTANT CODE\n\n            }       \n        });\n      }\n</code></pre>\n\n<p>So as you can see I used a terribly named variable named <code>count</code>. <code>count</code> is set to <code>i</code> in each iteration before the important code is used. I have to do this because an AL is it's own class and cannot access i. However count is public and static, so the ALs can use count. </p>\n\n<p>My problem is that all the buttons print 9. This logically makes sense because what is happening is that the ALs in each button use the count variable, when the loop is done, count will be 9, which means each AL will essentially contain <code>nums.setText(nums.getText()+ 9);</code>. Instead, I need button 1 to be <code>nums.setText(nums.getText()+ 1);</code> 2 to be 2, ETC. </p>\n\n<p>I have tried to call the text of each button, however, because you need to use an index in the ArrayList get method, you need a variable, if you use count, the same problem occurs; after the for loops has terminated, count is 9, so all the buttons print the text of the 9 button.</p>\n\n<p>Any and all help is appreciated, Thanks in advance,\n-Max</p>\n\n<p>P.S. Just in case you don't understand why I'm getting the text and then adding count, it is because in order to type the number 12. you need to type 1 and then concatenate the 2 to the one to et 12. getText gets the 1, and adding count concatenates the 2 to make 12.</p>\n"},{"tags":["java","swing","jbutton","layout-manager"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1544299169,"post_id":53686414,"comment_id":94229282,"body_markdown":"Use a GridLayout and re-lay out components when/if one is removed. Fill the empty spots with empty JLabels. The details will depend on your code, and so you should consider posting a valid [mcve] with your question.","body":"Use a GridLayout and re-lay out components when/if one is removed. Fill the empty spots with empty JLabels. The details will depend on your code, and so you should consider posting a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your question."},{"owner":{"account_id":14764492,"reputation":55,"user_id":10662925,"display_name":"hampus toft"},"score":0,"creation_date":1544299949,"post_id":53686414,"comment_id":94229514,"body_markdown":"So I should do something like a for-loop to check all buttons in order to see if they are visible whit if (Button.isvisible()) and then add them to the grid layout if they are visible?\n\nbuttons represent Upgrades in an incremental game I&#39;m making (copycat of Cookie Clicker) so I need to check them each second and making me re-add them.\n\nOn second thought, I can redo the layout each time a button is toggled visible or invisible running the method to redo the GridLayout when I buy the upgrade and when I manage to achieve the requirement to unlock another.","body":"So I should do something like a for-loop to check all buttons in order to see if they are visible whit if (Button.isvisible()) and then add them to the grid layout if they are visible?  buttons represent Upgrades in an incremental game I&#39;m making (copycat of Cookie Clicker) so I need to check them each second and making me re-add them.  On second thought, I can redo the layout each time a button is toggled visible or invisible running the method to redo the GridLayout when I buy the upgrade and when I manage to achieve the requirement to unlock another."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1544300068,"post_id":53686414,"comment_id":94229554,"body_markdown":"I have no idea what *specifically* you should do. Again, please consider creating and posting a [mcve], a program that we can compile, and run and that shows your problem. This is not your whole program, but a new one created just to illustrate the problem for us, small enough to be posted as code-formatted text with your question.","body":"I have no idea what <i>specifically</i> you should do. Again, please consider creating and posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, a program that we can compile, and run and that shows your problem. This is not your whole program, but a new one created just to illustrate the problem for us, small enough to be posted as code-formatted text with your question."},{"owner":{"account_id":14764492,"reputation":55,"user_id":10662925,"display_name":"hampus toft"},"score":0,"creation_date":1544303405,"post_id":53686414,"comment_id":94230418,"body_markdown":"The GridLayout is pretty much all I needed but got a new problem. it is in the bottom of the panel which is inside of a scroll panel making me have to scroll thru emptiness to get to the buttons. is that why I should fill it whit labels empty JLables?","body":"The GridLayout is pretty much all I needed but got a new problem. it is in the bottom of the panel which is inside of a scroll panel making me have to scroll thru emptiness to get to the buttons. is that why I should fill it whit labels empty JLables?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1544307680,"post_id":53686414,"comment_id":94231545,"body_markdown":"Variable names should NOT start with an upper case character which makes your code hard to read since the forum highlights your variable names the same as class names. Some of your variable are correct, others are not. Be consistent and follow Java convention.","body":"Variable names should NOT start with an upper case character which makes your code hard to read since the forum highlights your variable names the same as class names. Some of your variable are correct, others are not. Be consistent and follow Java convention."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1544308416,"post_id":53686414,"comment_id":94231718,"body_markdown":"`got a new problem` - and yet you still haven&#39;t posted an &quot;MCVE&quot;, ` making me have to scroll thru emptiness to get to the buttons` - we have no idea why you have emptiness on your panel. The GridLayout will always position the buttons at the top of the panel. Without the &quot;MCVE&quot; we can&#39;t guess what you are doing. I also see a problem in that you are using a &quot;static&quot; method to layout your buttons. A static method like that is almost always a sign or improper program design.","body":"<code>got a new problem</code> - and yet you still haven&#39;t posted an &quot;MCVE&quot;, ` making me have to scroll thru emptiness to get to the buttons` - we have no idea why you have emptiness on your panel. The GridLayout will always position the buttons at the top of the panel. Without the &quot;MCVE&quot; we can&#39;t guess what you are doing. I also see a problem in that you are using a &quot;static&quot; method to layout your buttons. A static method like that is almost always a sign or improper program design."}],"answers":[{"tags":[],"owner":{"account_id":14764492,"reputation":55,"user_id":10662925,"display_name":"hampus toft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1544463206,"creation_date":1544463206,"answer_id":53710759,"question_id":53686414,"body_markdown":"The Answer to my Question was GridLayout.\r\nit put my buttons in the Grid that I wanted.\r\n\r\nThe solution to the grid being placed at the bottom was because a simple mistake by me adding the grid to the layout when it contained a lot of buttons being set to `.setvisible(false);` so the program placed it after all buttons. this was fixed by a simple `.removeAll();` removing all JComponents that were stored in it.\r\n\r\n**Note** that I stored all my JComponents in a JButton array as I only had buttons and later did a for loop running thru the array checking if it was visible or not and if it was it got added to the grid.","title":"How do i lay out my buttons so they will go from top left to bottom right (filling first row then second)","body":"<p>The Answer to my Question was GridLayout.\nit put my buttons in the Grid that I wanted.</p>\n\n<p>The solution to the grid being placed at the bottom was because a simple mistake by me adding the grid to the layout when it contained a lot of buttons being set to <code>.setvisible(false);</code> so the program placed it after all buttons. this was fixed by a simple <code>.removeAll();</code> removing all JComponents that were stored in it.</p>\n\n<p><strong>Note</strong> that I stored all my JComponents in a JButton array as I only had buttons and later did a for loop running thru the array checking if it was visible or not and if it was it got added to the grid.</p>\n"}],"owner":{"account_id":14764492,"reputation":55,"user_id":10662925,"display_name":"hampus toft"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53710759,"answer_count":1,"score":0,"last_activity_date":1648204576,"creation_date":1544299085,"question_id":53686414,"body_markdown":"So I have a JPanel filled whit JButtons and only Jbuttons:[![Like this][1]][1]\r\n\r\n\r\nHow do I make it so when only button 1 and button 20 are Visible so the button layout becomes [![Like this][2]][2]\r\nand if I were to have Jbuuton 15 Visible it would come in between JButton 1 and 20.\r\n\r\n\r\nI&#39;m trying to just make it anchor to the top and left and set the spacing to 0 but it does this:[![What is happening for me][3]][3]\r\n\r\nI can&#39;t really give a code as it is made in NetBeans generated code and the program setting buttons to visible are depending on a lot of other stuff so making it independent would take a lot of time.\r\n\r\nEdit:\r\nUsing a method to add the JButtons to a grid via a method\r\nin my case\r\n\r\n    public static void RedoGridLayout(){\r\n        GridLayout UpgradesLayout = new GridLayout(0,5);\r\n        CookieclickerGUI.Panel_Upgrade.setLayout(UpgradesLayout);\r\n        \r\n        for(int i = 0; i&lt;upgrades.size(); i++){\r\n            Upgrades upgrade = upgrades.get(i);\r\n            JButton Button = upgrade.getJButton();\r\n            if(Button.isVisible()){\r\n                CookieclickerGUI.Panel_Upgrade.add(Button);\r\n                System.out.println(&quot;Added...\\n&quot; + Button + &quot;\\nButton to the grid&quot;);\r\n            }\r\n        }\r\n    }\r\nthis how ever adds the button in a grid at the **Bottom** and not the top, so if you want to see the buttons you need to scroll down.\r\n\r\n**EDIT 2:***\r\nThe buttons got placed at the bottom as the other buttons were still in the panel (ofc they were) so by doing `.removeAll();` before placed the buttons at the top left but extended to fit the whole panel. that I fixed by adding all buttons that were `!.isvisible()` after making the button correct shape.\r\n\r\n  [1]: https://i.stack.imgur.com/Rdeye.png\r\n  [2]: https://i.stack.imgur.com/PrCud.png\r\n  [3]: https://i.stack.imgur.com/aVLSJ.png","title":"How do i lay out my buttons so they will go from top left to bottom right (filling first row then second)","body":"<p>So I have a JPanel filled whit JButtons and only Jbuttons:<a href=\"https://i.stack.imgur.com/Rdeye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rdeye.png\" alt=\"Like this\"></a></p>\n\n<p>How do I make it so when only button 1 and button 20 are Visible so the button layout becomes <a href=\"https://i.stack.imgur.com/PrCud.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PrCud.png\" alt=\"Like this\"></a>\nand if I were to have Jbuuton 15 Visible it would come in between JButton 1 and 20.</p>\n\n<p>I'm trying to just make it anchor to the top and left and set the spacing to 0 but it does this:<a href=\"https://i.stack.imgur.com/aVLSJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aVLSJ.png\" alt=\"What is happening for me\"></a></p>\n\n<p>I can't really give a code as it is made in NetBeans generated code and the program setting buttons to visible are depending on a lot of other stuff so making it independent would take a lot of time.</p>\n\n<p>Edit:\nUsing a method to add the JButtons to a grid via a method\nin my case</p>\n\n<pre><code>public static void RedoGridLayout(){\n    GridLayout UpgradesLayout = new GridLayout(0,5);\n    CookieclickerGUI.Panel_Upgrade.setLayout(UpgradesLayout);\n\n    for(int i = 0; i&lt;upgrades.size(); i++){\n        Upgrades upgrade = upgrades.get(i);\n        JButton Button = upgrade.getJButton();\n        if(Button.isVisible()){\n            CookieclickerGUI.Panel_Upgrade.add(Button);\n            System.out.println(\"Added...\\n\" + Button + \"\\nButton to the grid\");\n        }\n    }\n}\n</code></pre>\n\n<p>this how ever adds the button in a grid at the <strong>Bottom</strong> and not the top, so if you want to see the buttons you need to scroll down.</p>\n\n<p><strong>EDIT 2:*</strong>\nThe buttons got placed at the bottom as the other buttons were still in the panel (ofc they were) so by doing <code>.removeAll();</code> before placed the buttons at the top left but extended to fit the whole panel. that I fixed by adding all buttons that were <code>!.isvisible()</code> after making the button correct shape.</p>\n"},{"tags":["java","filenotfoundexception"],"comments":[{"owner":{"account_id":19382678,"reputation":774,"user_id":14173556,"display_name":"paladin"},"score":0,"creation_date":1648201705,"post_id":71614616,"comment_id":126569724,"body_markdown":"You need to use `&#39;\\\\&#39;` for `&#39;\\&#39;`. I.e. `&quot;C:\\\\Users\\\\me\\\\AndroidStudioProjects\\\\RecCenter\\\\&quot;`. You might also use `&#39;/&#39;` for `&#39;\\&#39;`, which is the better variant, cause it&#39;s OS independent. I.e. `&quot;C:/Users/me/AndroidStudioProjects/RecCenter/&quot;`.","body":"You need to use <code>&#39;\\\\&#39;</code> for <code>&#39;\\&#39;</code>. I.e. <code>&quot;C:\\\\Users\\\\me\\\\AndroidStudioProjects\\\\RecCenter\\\\&quot;</code>. You might also use <code>&#39;&#47;&#39;</code> for <code>&#39;\\&#39;</code>, which is the better variant, cause it&#39;s OS independent. I.e. <code>&quot;C:&#47;Users&#47;me&#47;AndroidStudioProjects&#47;RecCenter&#47;&quot;</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1648202668,"post_id":71614616,"comment_id":126570046,"body_markdown":"I suspect that the problem is that the current directory is different when you running the two versions of the class.  You don&#39;t show how you are doing that.  You also don&#39;t show us the stacktrace for the exception in the first version ... or the output from the 2nd version.  (And I would not that the first version that you showed us *won&#39;t compile* ... because the `FileInputStream` constructor is defined as throwing a checked exception that the code is neither catching or propagating.)","body":"I suspect that the problem is that the current directory is different when you running the two versions of the class.  You don&#39;t show how you are doing that.  You also don&#39;t show us the stacktrace for the exception in the first version ... or the output from the 2nd version.  (And I would not that the first version that you showed us <i>won&#39;t compile</i> ... because the <code>FileInputStream</code> constructor is defined as throwing a checked exception that the code is neither catching or propagating.)"},{"owner":{"account_id":21431030,"reputation":1,"user_id":15787444,"display_name":"Erin"},"score":0,"creation_date":1648203878,"post_id":71614616,"comment_id":126570440,"body_markdown":"How would the current directory be different? I thought my couple of test functions showed that it was indeed where my application.properties file was.","body":"How would the current directory be different? I thought my couple of test functions showed that it was indeed where my application.properties file was."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1648206070,"post_id":71614616,"comment_id":126571259,"body_markdown":"What happens if you add the` new FileInputStream(&quot;application.properties&quot;)` lines directly after the `System.out.println(file.isDirectory());` line?","body":"What happens if you add the` new FileInputStream(&quot;application.properties&quot;)` lines directly after the <code>System.out.println(file.isDirectory());</code> line?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1648209608,"post_id":71614616,"comment_id":126572455,"body_markdown":"*&quot;I thought my couple of test functions showed that it was indeed where my application.properties file was.&quot;* - Maybe it does, maybe it doesn&#39;t.  It depends on how the code is actually run, and we can&#39;t tell that from what you have shown us.  For instance, if one version is being run in a webapp, and the other from a simple command, then it is *likely* that they will be running in different current directories.  The only way to be sure is to combine it all into one class, run it and look at all of the output ... including the stacktrace","body":"<i>&quot;I thought my couple of test functions showed that it was indeed where my application.properties file was.&quot;</i> - Maybe it does, maybe it doesn&#39;t.  It depends on how the code is actually run, and we can&#39;t tell that from what you have shown us.  For instance, if one version is being run in a webapp, and the other from a simple command, then it is <i>likely</i> that they will be running in different current directories.  The only way to be sure is to combine it all into one class, run it and look at all of the output ... including the stacktrace"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1648209768,"post_id":71614616,"comment_id":126572507,"body_markdown":"The problem is that lots of people get confused by how relative paths actually work.  They say &quot;it is definitely there&quot; ... when actually they (or their program) is looking for the file in a different directory to what they expect.  Another thing you could try is repeating your experiments using the correct **absolute** path for the properties file.","body":"The problem is that lots of people get confused by how relative paths actually work.  They say &quot;it is definitely there&quot; ... when actually they (or their program) is looking for the file in a different directory to what they expect.  Another thing you could try is repeating your experiments using the correct <b>absolute</b> path for the properties file."},{"owner":{"account_id":21431030,"reputation":1,"user_id":15787444,"display_name":"Erin"},"score":0,"creation_date":1648247380,"post_id":71614616,"comment_id":126584778,"body_markdown":"@StephenC @k314159 I changed the definition for the DatabaseDriver constructor to: `public DatabaseDriver() throws Exception` and it works perfectly! Thanks for your responses. Scrapping most of what I had anyway now since it was badly written/not scalable and adding HikariCP connection pooling.","body":"@StephenC @k314159 I changed the definition for the DatabaseDriver constructor to: <code>public DatabaseDriver() throws Exception</code> and it works perfectly! Thanks for your responses. Scrapping most of what I had anyway now since it was badly written/not scalable and adding HikariCP connection pooling."}],"owner":{"account_id":21431030,"reputation":1,"user_id":15787444,"display_name":"Erin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648203769,"creation_date":1648200060,"question_id":71614616,"body_markdown":"I am encountering a weird FileNotFoundException with FileInputStream while working in Android Studio. Using [this post][1], I ran some checks, but still cannot find the issue.\r\n\r\nThis is my code:\r\n\r\n```\r\npackage com.mypackage;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.sql.*;\r\nimport java.util.*;\r\nimport java.util.logging.Logger;\r\nimport java.io.File;\r\n\r\npublic class DatabaseDriver {\r\n\r\n    public DatabaseDriver(){\r\n        Properties properties = new Properties();\r\n\r\n        // get credentials from application.properties file\r\n        FileInputStream in = new FileInputStream(&quot;application.properties&quot;);\r\n        properties.load(in);\r\n\r\n        String url = properties.getProperty(&quot;url&quot;);\r\n        String user = properties.getProperty(&quot;user&quot;);\r\n        String password = properties.getProperty(&quot;password&quot;);\r\n    }\r\n\r\n} \r\n\r\n```\r\n\r\nWith some of the tips from the above post, I ran the following code in a debugging attempt:\r\n```\r\npublic class DatabaseDriver {\r\n    public DatabaseDriver(){\r\n\r\n        File file = new File(&quot;application.properties&quot;);\r\n        System.out.println(new File(&quot;.&quot;).getAbsolutePath());\r\n        System.out.println(new File(&quot;application.properties&quot;).getAbsolutePath());\r\n        System.out.println(file.exists());\r\n        System.out.println(file.canRead());\r\n        System.out.println(file.isDirectory());\r\n    }\r\n}\r\n```\r\nAnd the output when I create a DatabaseDriver instance in a main:\r\n```\r\nC:\\Users\\erin\\AndroidStudioProjects\\RecCenter\\.\r\nC:\\Users\\erin\\AndroidStudioProjects\\RecCenter\\application.properties\r\ntrue\r\ntrue\r\nfalse\r\n```\r\n\r\nThat all seems fine, so I&#39;m a little lost. \r\n\r\n  [1]: https://stackoverflow.com/questions/19307622/java-says-filenotfoundexception-but-file-exists\r\n\r\n","title":"FileInputStream FileNotFoundException but file definitely exists","body":"<p>I am encountering a weird FileNotFoundException with FileInputStream while working in Android Studio. Using <a href=\"https://stackoverflow.com/questions/19307622/java-says-filenotfoundexception-but-file-exists\">this post</a>, I ran some checks, but still cannot find the issue.</p>\n<p>This is my code:</p>\n<pre><code>package com.mypackage;\n\nimport java.io.FileInputStream;\nimport java.sql.*;\nimport java.util.*;\nimport java.util.logging.Logger;\nimport java.io.File;\n\npublic class DatabaseDriver {\n\n    public DatabaseDriver(){\n        Properties properties = new Properties();\n\n        // get credentials from application.properties file\n        FileInputStream in = new FileInputStream(&quot;application.properties&quot;);\n        properties.load(in);\n\n        String url = properties.getProperty(&quot;url&quot;);\n        String user = properties.getProperty(&quot;user&quot;);\n        String password = properties.getProperty(&quot;password&quot;);\n    }\n\n} \n\n</code></pre>\n<p>With some of the tips from the above post, I ran the following code in a debugging attempt:</p>\n<pre><code>public class DatabaseDriver {\n    public DatabaseDriver(){\n\n        File file = new File(&quot;application.properties&quot;);\n        System.out.println(new File(&quot;.&quot;).getAbsolutePath());\n        System.out.println(new File(&quot;application.properties&quot;).getAbsolutePath());\n        System.out.println(file.exists());\n        System.out.println(file.canRead());\n        System.out.println(file.isDirectory());\n    }\n}\n</code></pre>\n<p>And the output when I create a DatabaseDriver instance in a main:</p>\n<pre><code>C:\\Users\\erin\\AndroidStudioProjects\\RecCenter\\.\nC:\\Users\\erin\\AndroidStudioProjects\\RecCenter\\application.properties\ntrue\ntrue\nfalse\n</code></pre>\n<p>That all seems fine, so I'm a little lost.</p>\n"},{"tags":["java","spring-boot","security","configuration","swagger"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1648152293,"post_id":71608271,"comment_id":126559004,"body_markdown":"`/*` is everything...","body":"<code>&#47;*</code> is everything..."}],"answers":[{"tags":[],"owner":{"account_id":24174386,"reputation":11,"user_id":18135998,"display_name":"giuliano scassaioli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648203443,"creation_date":1648203443,"answer_id":71615309,"question_id":71608271,"body_markdown":"i solved it with this configuration\r\n```\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\nhttp.authorizeRequests().antMatchers(&quot;/*&quot;,&quot;swagger-ui.html&quot;).permitAll();\r\n\r\nhttp.authorizeRequests().antMatchers(&quot;/web/**&quot;).authenticated().and()\r\n.formLogin();\r\n\r\n}\r\n```\r\nnow i have no authenticated access only to the index page and the swagger page. anything else needs authentication which is exactly what i wanted.","title":"Can i allow a user only to certain routes without logging in with spring boot?","body":"<p>i solved it with this configuration</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\nhttp.authorizeRequests().antMatchers(&quot;/*&quot;,&quot;swagger-ui.html&quot;).permitAll();\n\nhttp.authorizeRequests().antMatchers(&quot;/web/**&quot;).authenticated().and()\n.formLogin();\n\n}\n</code></pre>\n<p>now i have no authenticated access only to the index page and the swagger page. anything else needs authentication which is exactly what i wanted.</p>\n"}],"owner":{"account_id":24174386,"reputation":11,"user_id":18135998,"display_name":"giuliano scassaioli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648203443,"creation_date":1648149534,"question_id":71608271,"body_markdown":"Good evening!\r\nI would like to now how it could be possible to configure spring boot in my application to allow users to have access only to the index page of my web site and the page of the swagger documentation. any other route should redirected to the default spring boot login page.\r\ni tried this configuration:\r\n```\r\n@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\r\n\t   http.authorizeRequests().antMatchers(\r\n\t\t                &quot;/&quot;,\r\n\t\t                &quot;/swagger-ui.html&quot;\r\n        ).permitAll();\r\n\t   http.authorizeRequests().antMatchers(&quot;/*&quot;).permitAll().anyRequest().authenticated().and().formLogin();\r\n     \r\n\r\n\t}\r\n```\r\nand this:\r\n```\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\nhttp.authorizeRequests(authz -&gt; authz.antMatchers(&quot;/*&quot;, &quot;swagger-ui.html&quot;).permitAll().anyRequest().authenticated()).formLogin();\r\n\r\n\t}\r\n```\r\nbut none of them are working for my purpose.\r\nthank you for answering","title":"Can i allow a user only to certain routes without logging in with spring boot?","body":"<p>Good evening!\nI would like to now how it could be possible to configure spring boot in my application to allow users to have access only to the index page of my web site and the page of the swagger documentation. any other route should redirected to the default spring boot login page.\ni tried this configuration:</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n    \n       http.authorizeRequests().antMatchers(\n                        &quot;/&quot;,\n                        &quot;/swagger-ui.html&quot;\n        ).permitAll();\n       http.authorizeRequests().antMatchers(&quot;/*&quot;).permitAll().anyRequest().authenticated().and().formLogin();\n     \n\n    }\n</code></pre>\n<p>and this:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\nhttp.authorizeRequests(authz -&gt; authz.antMatchers(&quot;/*&quot;, &quot;swagger-ui.html&quot;).permitAll().anyRequest().authenticated()).formLogin();\n\n    }\n</code></pre>\n<p>but none of them are working for my purpose.\nthank you for answering</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1648204526,"post_id":71615272,"comment_id":126570674,"body_markdown":"Please make an example project... furthermore using modules in a profile is a very bad idea...","body":"Please make an example project... furthermore using modules in a profile is a very bad idea..."},{"owner":{"account_id":3583838,"reputation":149,"user_id":2991424,"accept_rate":0,"display_name":"goldenmaza"},"score":0,"creation_date":1648205075,"post_id":71615272,"comment_id":126570881,"body_markdown":"@khmarbaise I did not make this project, I&#39;m just updating it... How so?","body":"@khmarbaise I did not make this project, I&#39;m just updating it... How so?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1648211548,"post_id":71615272,"comment_id":126573139,"body_markdown":"What error do you get?","body":"What error do you get?"},{"owner":{"account_id":3583838,"reputation":149,"user_id":2991424,"accept_rate":0,"display_name":"goldenmaza"},"score":0,"creation_date":1648213667,"post_id":71615272,"comment_id":126573911,"body_markdown":"It states that certain domain classes (among others) can not be found... The terminal states: &quot;cannot find symbol&quot;, but if I click on the class, that it complains about, in the file in question, then Intellij jumps to the target class in the correct module, so it is not red like if you had missed adding the dependency... I&#39;m so confused...","body":"It states that certain domain classes (among others) can not be found... The terminal states: &quot;cannot find symbol&quot;, but if I click on the class, that it complains about, in the file in question, then Intellij jumps to the target class in the correct module, so it is not red like if you had missed adding the dependency... I&#39;m so confused..."}],"owner":{"account_id":3583838,"reputation":149,"user_id":2991424,"accept_rate":0,"display_name":"goldenmaza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648203417,"creation_date":1648203267,"question_id":71615272,"body_markdown":"This is a really confusing topic for me so I&#39;m asking here for more eyes on the problem. I have a project (work related, so I can not show any real details).\r\n\r\n1) The project contains four modules.\r\n2) The first module contains XSD sources, used for class generation.\r\n3) The second module contains the domain, service and rest classes as well as junit tests.\r\n4) The third module contains component tests.\r\n5) The fourth module contain helper classes.\r\n6) The first module has no purpose including the others.\r\n7) The second and third modules includes the first, as those require the generated classes.\r\n8) The third module includes both the second and the fourth, as it requires the domain &amp; service classes and the helper classes respectively. **Note:** By copying the required classes from both the second and the fourth modules, over to the third module, I can make the below command work but that is just so stupid in so many ways.\r\n9) The fourth module includes the second, as it requires the domain classes and the service classes.\r\n10) The main POM file do not include any of the modules as dependencies and the following profile fails, hence me asking this: **mvn clean install -P third**\r\n\r\n    ```\r\n    &lt;profile&gt;\r\n      &lt;id&gt;third&lt;/id&gt;\r\n      &lt;modules&gt;\r\n        &lt;module&gt;first&lt;/module&gt;\r\n        &lt;module&gt;second&lt;/module&gt;\r\n        &lt;module&gt;third&lt;/module&gt;\r\n        &lt;module&gt;fourth&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    &lt;/profile&gt;\r\n    ```\r\n\r\n11) Running the component tests through Intellij, instead of the mvn command above, is successful.\r\n\r\nThe component was not designed by us and I would like to improve it. Any ideas on how to fix this dependency issue?","title":"Maven dependency inclusions not working as I expect between modules","body":"<p>This is a really confusing topic for me so I'm asking here for more eyes on the problem. I have a project (work related, so I can not show any real details).</p>\n<ol>\n<li><p>The project contains four modules.</p>\n</li>\n<li><p>The first module contains XSD sources, used for class generation.</p>\n</li>\n<li><p>The second module contains the domain, service and rest classes as well as junit tests.</p>\n</li>\n<li><p>The third module contains component tests.</p>\n</li>\n<li><p>The fourth module contain helper classes.</p>\n</li>\n<li><p>The first module has no purpose including the others.</p>\n</li>\n<li><p>The second and third modules includes the first, as those require the generated classes.</p>\n</li>\n<li><p>The third module includes both the second and the fourth, as it requires the domain &amp; service classes and the helper classes respectively. <strong>Note:</strong> By copying the required classes from both the second and the fourth modules, over to the third module, I can make the below command work but that is just so stupid in so many ways.</p>\n</li>\n<li><p>The fourth module includes the second, as it requires the domain classes and the service classes.</p>\n</li>\n<li><p>The main POM file do not include any of the modules as dependencies and the following profile fails, hence me asking this: <strong>mvn clean install -P third</strong></p>\n<pre><code>&lt;profile&gt;\n  &lt;id&gt;third&lt;/id&gt;\n  &lt;modules&gt;\n    &lt;module&gt;first&lt;/module&gt;\n    &lt;module&gt;second&lt;/module&gt;\n    &lt;module&gt;third&lt;/module&gt;\n    &lt;module&gt;fourth&lt;/module&gt;\n  &lt;/modules&gt;\n&lt;/profile&gt;\n</code></pre>\n</li>\n<li><p>Running the component tests through Intellij, instead of the mvn command above, is successful.</p>\n</li>\n</ol>\n<p>The component was not designed by us and I would like to improve it. Any ideas on how to fix this dependency issue?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"answers":[{"tags":[],"owner":{"account_id":18406537,"reputation":370,"user_id":13408140,"display_name":"Eduard A"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1613054656,"creation_date":1613053950,"answer_id":66156729,"question_id":66156282,"body_markdown":"Change your **application.yml** as follow :\r\n\r\n```yaml\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include:\r\n          - refresh\r\n          - health\r\n```\r\n\r\n[Refresh Scope][1]\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-static/Greenwich.RELEASE/multi/multi__spring_cloud_context_application_context_services.html#refresh-scope","title":"RefreshEndpoint Bean not available with Spring Boot 2.4.2 and Spring Cloud 2020.0.1","body":"<p>Change your <strong>application.yml</strong> as follow :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>management:\n  endpoints:\n    web:\n      exposure:\n        include:\n          - refresh\n          - health\n</code></pre>\n<p><a href=\"https://cloud.spring.io/spring-cloud-static/Greenwich.RELEASE/multi/multi__spring_cloud_context_application_context_services.html#refresh-scope\" rel=\"noreferrer\">Refresh Scope</a></p>\n"},{"tags":[],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648203364,"creation_date":1648203364,"answer_id":71615295,"question_id":66156282,"body_markdown":"Additionally, you might need to enable JMX in your **application.yml**:\r\n```\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include:\r\n          - refresh\r\nspring:\r\n  jmx:\r\n    enabled: true\r\n```\r\nSee this conversation: https://github.com/spring-cloud/spring-cloud-commons/issues/710#issuecomment-598769493\r\n\r\nI had the same problem, and enabling JMX helped alone. ","title":"RefreshEndpoint Bean not available with Spring Boot 2.4.2 and Spring Cloud 2020.0.1","body":"<p>Additionally, you might need to enable JMX in your <strong>application.yml</strong>:</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include:\n          - refresh\nspring:\n  jmx:\n    enabled: true\n</code></pre>\n<p>See this conversation: <a href=\"https://github.com/spring-cloud/spring-cloud-commons/issues/710#issuecomment-598769493\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-commons/issues/710#issuecomment-598769493</a></p>\n<p>I had the same problem, and enabling JMX helped alone.</p>\n"}],"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2274,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":66156729,"answer_count":2,"score":5,"last_activity_date":1648203364,"creation_date":1613052384,"question_id":66156282,"body_markdown":"I have an application that we are migrating to the latest Spring Boot(2.4.2) and Spring Cloud(2020.0.1) versions. The application uses a Cloud Config Server to fetch the configurations and Refresh is done by a scheduled job which makes a call [`RefreshEndpoint.refresh()`][1].\r\n\r\nThis used to work perfectly fine, but with the version above, I cannot make it work.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    Parameter 0 of constructor in io.divinedragon.spring.boot2.ConfigRefreshJob required a bean of type\r\n    &#39;org.springframework.cloud.endpoint.RefreshEndpoint&#39; that could not be found.\r\n\r\n\r\n    Action:\r\n\r\n    Consider defining a bean of type &#39;org.springframework.cloud.endpoint.RefreshEndpoint&#39; in your configuration.\r\n\r\nHere is the project with below configuration.\r\n\r\n### `pom.xml`\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;io.divinedragon.spring-boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-2.4-and-spring-cloud-2020.01&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.2&lt;/version&gt;\r\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2020.0.1&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Spring --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Testing Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n### `application.yml`\r\n\r\n```yaml\r\nspring:\r\n  application:\r\n    name: sprint-boot-2.4-and-spring-cloud-2020.0.1\r\n\r\nmanagement:\r\n  endpoint:\r\n    health:\r\n      show-details: always\r\n  server:\r\n    port: 7979\r\n  endpoints:\r\n    web:\r\n      base-path: /\r\n      exposure:\r\n        include:\r\n          - health\r\n\r\nserver:\r\n  port: 8080\r\n```\r\n\r\n### `Application.java`\r\n\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\n\r\n@EnableScheduling\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n    public static void main(final String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\n### `ConfigRefreshJob.java`\r\n\r\n```java\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cloud.endpoint.RefreshEndpoint;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class ConfigRefreshJob {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(ConfigRefreshJob.class);\r\n\r\n    private static final int TEN_MINUTE = 10 * 60 * 1000;\r\n\r\n    private final RefreshEndpoint refreshEndpoint;\r\n\r\n    @Autowired\r\n    public ConfigRefreshJob(final RefreshEndpoint refreshEndpoint) {\r\n        this.refreshEndpoint = refreshEndpoint;\r\n    }\r\n\r\n    @Scheduled(fixedDelay = TEN_MINUTE)\r\n    public void refreshConfigs() {\r\n        LOG.info(&quot;Refreshing Configurations - {}&quot;, refreshEndpoint.refresh());\r\n    }\r\n}\r\n```\r\n\r\nCan somebody suggest how to fix this?\r\n\r\n [1]: https://github.com/spring-cloud/spring-cloud-commons/blob/master/spring-cloud-context/src/main/java/org/springframework/cloud/endpoint/RefreshEndpoint.java#L40","title":"RefreshEndpoint Bean not available with Spring Boot 2.4.2 and Spring Cloud 2020.0.1","body":"<p>I have an application that we are migrating to the latest Spring Boot(2.4.2) and Spring Cloud(2020.0.1) versions. The application uses a Cloud Config Server to fetch the configurations and Refresh is done by a scheduled job which makes a call <a href=\"https://github.com/spring-cloud/spring-cloud-commons/blob/master/spring-cloud-context/src/main/java/org/springframework/cloud/endpoint/RefreshEndpoint.java#L40\" rel=\"noreferrer\"><code>RefreshEndpoint.refresh()</code></a>.</p>\n<p>This used to work perfectly fine, but with the version above, I cannot make it work.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in io.divinedragon.spring.boot2.ConfigRefreshJob required a bean of type\n'org.springframework.cloud.endpoint.RefreshEndpoint' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.cloud.endpoint.RefreshEndpoint' in your configuration.\n</code></pre>\n<p>Here is the project with below configuration.</p>\n<h3><code>pom.xml</code></h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;io.divinedragon.spring-boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-2.4-and-spring-cloud-2020.01&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Testing Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h3><code>application.yml</code></h3>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  application:\n    name: sprint-boot-2.4-and-spring-cloud-2020.0.1\n\nmanagement:\n  endpoint:\n    health:\n      show-details: always\n  server:\n    port: 7979\n  endpoints:\n    web:\n      base-path: /\n      exposure:\n        include:\n          - health\n\nserver:\n  port: 8080\n</code></pre>\n<h3><code>Application.java</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@EnableScheduling\n@SpringBootApplication\npublic class Application {\n\n    public static void main(final String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<h3><code>ConfigRefreshJob.java</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.endpoint.RefreshEndpoint;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ConfigRefreshJob {\n\n    private static final Logger LOG = LoggerFactory.getLogger(ConfigRefreshJob.class);\n\n    private static final int TEN_MINUTE = 10 * 60 * 1000;\n\n    private final RefreshEndpoint refreshEndpoint;\n\n    @Autowired\n    public ConfigRefreshJob(final RefreshEndpoint refreshEndpoint) {\n        this.refreshEndpoint = refreshEndpoint;\n    }\n\n    @Scheduled(fixedDelay = TEN_MINUTE)\n    public void refreshConfigs() {\n        LOG.info(&quot;Refreshing Configurations - {}&quot;, refreshEndpoint.refresh());\n    }\n}\n</code></pre>\n<p>Can somebody suggest how to fix this?</p>\n"},{"tags":["java","cassandra"],"comments":[{"owner":{"account_id":13827185,"reputation":103,"user_id":9981151,"display_name":"Bushra Saifi"},"score":0,"creation_date":1622645110,"post_id":65502985,"comment_id":119852393,"body_markdown":"have you resolved this issue?","body":"have you resolved this issue?"}],"answers":[{"tags":[],"owner":{"account_id":1574718,"reputation":2054,"user_id":1461499,"accept_rate":81,"display_name":"Alex Tbk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609328207,"creation_date":1609328207,"answer_id":65506335,"question_id":65502985,"body_markdown":"I dont think java 15 is supported.\r\n\r\nCassandra 4 adds support for Java 11:\r\nhttps://cassandra.apache.org/doc/latest/new/java11.html","title":"Issue starting Cassandra. A fatal error has been detected by the Java Runtime Environment:","body":"<p>I dont think java 15 is supported.</p>\n<p>Cassandra 4 adds support for Java 11:\n<a href=\"https://cassandra.apache.org/doc/latest/new/java11.html\" rel=\"nofollow noreferrer\">https://cassandra.apache.org/doc/latest/new/java11.html</a></p>\n"},{"tags":[],"owner":{"account_id":4927076,"reputation":3234,"user_id":3968048,"accept_rate":22,"display_name":"Peter R"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1609328593,"creation_date":1609328593,"answer_id":65506413,"question_id":65502985,"body_markdown":"I eventually got it to work:\r\n\r\nUninstalled Cassandra\r\n\r\n```\r\n$ brew install --cask adoptopenjdk/openjdk/adoptopenjdk8\r\n\r\n$ /usr/libexec/java_home -V                             \r\nMatching Java Virtual Machines (2):\r\n    15.0.1, x86_64:\t&quot;Java SE 15.0.1&quot;\t/Library/Java/JavaVirtualMachines/jdk-15.0.1.jdk/Contents/Home\r\n    1.8.0_275, x86_64:\t&quot;AdoptOpenJDK 8&quot;\t/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n\r\n$ export JAVA_HOME=`/usr/libexec/java_home -v 1.8.0_275`\r\n$ brew install cassandra\r\n$ vim /usr/local/Cellar/cassandra/3.11.9_1/share/cassandra/cassandra.in.sh\r\n```\r\nChange JAVA_HOME to:\r\n```\r\nJAVA_HOME=`/usr/libexec/java_home -v 1.8.0_275`\r\n```\r\nThen finally, cross your fingers and run:\r\n```\r\nbrew services start cassandra\r\n```\r\n","title":"Issue starting Cassandra. A fatal error has been detected by the Java Runtime Environment:","body":"<p>I eventually got it to work:</p>\n<p>Uninstalled Cassandra</p>\n<pre><code>$ brew install --cask adoptopenjdk/openjdk/adoptopenjdk8\n\n$ /usr/libexec/java_home -V                             \nMatching Java Virtual Machines (2):\n    15.0.1, x86_64: &quot;Java SE 15.0.1&quot;    /Library/Java/JavaVirtualMachines/jdk-15.0.1.jdk/Contents/Home\n    1.8.0_275, x86_64:  &quot;AdoptOpenJDK 8&quot;    /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n\n$ export JAVA_HOME=`/usr/libexec/java_home -v 1.8.0_275`\n$ brew install cassandra\n$ vim /usr/local/Cellar/cassandra/3.11.9_1/share/cassandra/cassandra.in.sh\n</code></pre>\n<p>Change JAVA_HOME to:</p>\n<pre><code>JAVA_HOME=`/usr/libexec/java_home -v 1.8.0_275`\n</code></pre>\n<p>Then finally, cross your fingers and run:</p>\n<pre><code>brew services start cassandra\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18150299,"reputation":11,"user_id":15769712,"display_name":"dvegamar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648203336,"creation_date":1648201310,"answer_id":71614865,"question_id":65502985,"body_markdown":"Had a similar issue.\r\n\r\n1. make sure you have the right java version, not only installed, but as your environmental variables. \r\n\r\n2. make sure your cassandra version fits your java version\r\nhttps://cassandra.apache.org/doc/latest/cassandra/new/java11.html\r\n\r\n3. when I try to run cassandra with cassandra -f command I have this error messages\r\n\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x0000000109d8bb3c, pid=98066, tid=0x0000000000001b03\r\n#\r\n# JRE version: OpenJDK Runtime Environment (8.0_312) (build 1.8.0_312-bre_2022_01_01_23_04-b00)\r\n# Java VM: OpenJDK 64-Bit Server VM (25.312-b00 mixed mode bsd-amd64 compressed oops)\r\n# Problematic frame:\r\n# V  [libjvm.dylib+0x545b3c]\r\n#\r\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n# An error report file with more information is saved as:\r\n# /Users/dvegamar/hs_err_pid98066.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/Homebrew/homebrew-core/issues\r\n```\r\n    \r\nAnd of course, it wont connect\r\n\r\n```\r\n(base) MACPRO:~ dvegamar$ cqlsh\r\n/usr/local/Cellar/cassandra/4.0.3/libexec/bin/cqlsh.py:460: DeprecationWarning: Legacy execution parameters will be removed in 4.0. Consider using execution profiles.\r\nConnection error: (&#39;Unable to connect to any servers&#39;, {&#39;127.0.0.1:9042&#39;: ConnectionRefusedError(61, &quot;Tried connecting to [(&#39;127.0.0.1&#39;, 9042)]. Last error: Connection refused&quot;)})\r\n```\r\n\r\nbut in this same situation if I run with brew services start cassandra it works\r\n\r\n```\r\n(base) MACPRO:~ dvegamar$ brew services start cassandra\r\n==&gt; Successfully started `cassandra` (label: homebrew.mxcl.cassandra)\r\n(base) MACPRO:~ dvegamar$ cqlsh\r\n/usr/local/Cellar/cassandra/4.0.3/libexec/bin/cqlsh.py:460: DeprecationWarning: Legacy execution parameters will be removed in 4.0. Consider using execution profiles.\r\n/usr/local/Cellar/cassandra/4.0.3/libexec/bin/cqlsh.py:490: DeprecationWarning: Setting the consistency level at the session level will be removed in 4.0. Consider using execution profiles and setting the desired consitency level to the EXEC_PROFILE_DEFAULT profile.\r\nConnected to Test Cluster at 127.0.0.1:9042\r\n[cqlsh 6.0.0 | Cassandra 4.0.3 | CQL spec 3.4.5 | Native protocol v5]\r\nUse HELP for help.\r\ncqlsh&gt; \r\ncqlsh&gt;\r\nConnection closed by foreign host...\r\n```\r\n\r\n","title":"Issue starting Cassandra. A fatal error has been detected by the Java Runtime Environment:","body":"<p>Had a similar issue.</p>\n<ol>\n<li><p>make sure you have the right java version, not only installed, but as your environmental variables.</p>\n</li>\n<li><p>make sure your cassandra version fits your java version\n<a href=\"https://cassandra.apache.org/doc/latest/cassandra/new/java11.html\" rel=\"nofollow noreferrer\">https://cassandra.apache.org/doc/latest/cassandra/new/java11.html</a></p>\n</li>\n<li><p>when I try to run cassandra with cassandra -f command I have this error messages</p>\n</li>\n</ol>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x0000000109d8bb3c, pid=98066, tid=0x0000000000001b03\n#\n# JRE version: OpenJDK Runtime Environment (8.0_312) (build 1.8.0_312-bre_2022_01_01_23_04-b00)\n# Java VM: OpenJDK 64-Bit Server VM (25.312-b00 mixed mode bsd-amd64 compressed oops)\n# Problematic frame:\n# V  [libjvm.dylib+0x545b3c]\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# An error report file with more information is saved as:\n# /Users/dvegamar/hs_err_pid98066.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/Homebrew/homebrew-core/issues\n</code></pre>\n<p>And of course, it wont connect</p>\n<pre><code>(base) MACPRO:~ dvegamar$ cqlsh\n/usr/local/Cellar/cassandra/4.0.3/libexec/bin/cqlsh.py:460: DeprecationWarning: Legacy execution parameters will be removed in 4.0. Consider using execution profiles.\nConnection error: ('Unable to connect to any servers', {'127.0.0.1:9042': ConnectionRefusedError(61, &quot;Tried connecting to [('127.0.0.1', 9042)]. Last error: Connection refused&quot;)})\n</code></pre>\n<p>but in this same situation if I run with brew services start cassandra it works</p>\n<pre><code>(base) MACPRO:~ dvegamar$ brew services start cassandra\n==&gt; Successfully started `cassandra` (label: homebrew.mxcl.cassandra)\n(base) MACPRO:~ dvegamar$ cqlsh\n/usr/local/Cellar/cassandra/4.0.3/libexec/bin/cqlsh.py:460: DeprecationWarning: Legacy execution parameters will be removed in 4.0. Consider using execution profiles.\n/usr/local/Cellar/cassandra/4.0.3/libexec/bin/cqlsh.py:490: DeprecationWarning: Setting the consistency level at the session level will be removed in 4.0. Consider using execution profiles and setting the desired consitency level to the EXEC_PROFILE_DEFAULT profile.\nConnected to Test Cluster at 127.0.0.1:9042\n[cqlsh 6.0.0 | Cassandra 4.0.3 | CQL spec 3.4.5 | Native protocol v5]\nUse HELP for help.\ncqlsh&gt; \ncqlsh&gt;\nConnection closed by foreign host...\n</code></pre>\n"}],"owner":{"account_id":4927076,"reputation":3234,"user_id":3968048,"accept_rate":22,"display_name":"Peter R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5024,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65506413,"answer_count":3,"score":3,"last_activity_date":1648203336,"creation_date":1609309983,"question_id":65502985,"body_markdown":"I installed openjdk, and cassandra via brew. I got this error when I started cassandra with `cassandra -f`:\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x000000010df65ab8, pid=52667, tid=0x0000000000008603\r\n#\r\n# JRE version: OpenJDK Runtime Environment (8.0_275) (build 1.8.0_275-bre_2020_11_16_16_29-b00)\r\n# Java VM: OpenJDK 64-Bit Server VM (25.275-b00 mixed mode bsd-amd64 compressed oops)\r\n# Problematic frame:\r\n# V  [libjvm.dylib+0x565ab8]\r\n#\r\n# Core dump written. Default location: /cores/core or core.52667\r\n#\r\n# An error report file with more information is saved as:\r\n# /Users/my_laptop/hs_err_pid52667.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n#\r\n\r\n```\r\n\r\nAfter I saw that I tried uninstalling cassandra, and uninstalling openjdk. I installed regular java from oracle. When I run `java --version`, I now see this:\r\n```\r\njava 15.0.1 2020-10-20\r\nJava(TM) SE Runtime Environment (build 15.0.1+9-18)\r\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)\r\n```\r\n\r\nI compiled and ran a basic HelloWorld.java file to make sure my command line `java`/`javac` were working correctly. I then reinstalled cassandra via homebrew. But atlas I see the same error. If I start it with `brew services start cassandra` I get an error:\r\n\r\n```\r\n➜  ~ brew services list             \r\nName       Status  User          Plist\r\ncassandra  error     \r\n```\r\n\r\nAnd with `cassandra -f`, the exact same error:\r\n\r\n```\r\nOpenJDK 64-Bit Server VM warning: Cannot open file /usr/local/Cellar/cassandra/3.11.9_1/libexec/logs/gc.log due to No such file or directory\r\n\r\nCompilerOracle: dontinline org/apache/cassandra/db/Columns$Serializer.deserializeLargeSubset (Lorg/apache/cassandra/io/util/DataInputPlus;Lorg/apache/cassandra/db/Columns;I)Lorg/apache/cassandra/db/Columns;\r\nCompilerOracle: dontinline org/apache/cassandra/db/Columns$Serializer.serializeLargeSubset (Ljava/util/Collection;ILorg/apache/cassandra/db/Columns;ILorg/apache/cassandra/io/util/DataOutputPlus;)V\r\nCompilerOracle: dontinline org/apache/cassandra/db/Columns$Serializer.serializeLargeSubsetSize (Ljava/util/Collection;ILorg/apache/cassandra/db/Columns;I)I\r\nCompilerOracle: dontinline org/apache/cassandra/db/commitlog/AbstractCommitLogSegmentManager.advanceAllocatingFrom (Lorg/apache/cassandra/db/commitlog/CommitLogSegment;)V\r\nCompilerOracle: dontinline org/apache/cassandra/db/transform/BaseIterator.tryGetMoreContents ()Z\r\nCompilerOracle: dontinline org/apache/cassandra/db/transform/StoppingTransformation.stop ()V\r\nCompilerOracle: dontinline org/apache/cassandra/db/transform/StoppingTransformation.stopInPartition ()V\r\nCompilerOracle: dontinline org/apache/cassandra/io/util/BufferedDataOutputStreamPlus.doFlush (I)V\r\nCompilerOracle: dontinline org/apache/cassandra/io/util/BufferedDataOutputStreamPlus.writeExcessSlow ()V\r\nCompilerOracle: dontinline org/apache/cassandra/io/util/BufferedDataOutputStreamPlus.writeSlow (JI)V\r\nCompilerOracle: dontinline org/apache/cassandra/io/util/RebufferingInputStream.readPrimitiveSlowly (I)J\r\nCompilerOracle: inline org/apache/cassandra/db/rows/UnfilteredSerializer.serializeRowBody (Lorg/apache/cassandra/db/rows/Row;ILorg/apache/cassandra/db/SerializationHeader;Lorg/apache/cassandra/io/util/DataOutputPlus;)V\r\nCompilerOracle: inline org/apache/cassandra/io/util/Memory.checkBounds (JJ)V\r\nCompilerOracle: inline org/apache/cassandra/io/util/SafeMemory.checkBounds (JJ)V\r\nCompilerOracle: inline org/apache/cassandra/utils/AsymmetricOrdering.selectBoundary (Lorg/apache/cassandra/utils/AsymmetricOrdering/Op;II)I\r\nCompilerOracle: inline org/apache/cassandra/utils/AsymmetricOrdering.strictnessOfLessThan (Lorg/apache/cassandra/utils/AsymmetricOrdering/Op;)I\r\nCompilerOracle: inline org/apache/cassandra/utils/BloomFilter.indexes (Lorg/apache/cassandra/utils/IFilter/FilterKey;)[J\r\nCompilerOracle: inline org/apache/cassandra/utils/BloomFilter.setIndexes (JJIJ[J)V\r\nCompilerOracle: inline org/apache/cassandra/utils/ByteBufferUtil.compare (Ljava/nio/ByteBuffer;[B)I\r\nCompilerOracle: inline org/apache/cassandra/utils/ByteBufferUtil.compare ([BLjava/nio/ByteBuffer;)I\r\nCompilerOracle: inline org/apache/cassandra/utils/ByteBufferUtil.compareUnsigned (Ljava/nio/ByteBuffer;Ljava/nio/ByteBuffer;)I\r\nCompilerOracle: inline org/apache/cassandra/utils/FastByteOperations$UnsafeOperations.compareTo (Ljava/lang/Object;JILjava/lang/Object;JI)I\r\nCompilerOracle: inline org/apache/cassandra/utils/FastByteOperations$UnsafeOperations.compareTo (Ljava/lang/Object;JILjava/nio/ByteBuffer;)I\r\nCompilerOracle: inline org/apache/cassandra/utils/FastByteOperations$UnsafeOperations.compareTo (Ljava/nio/ByteBuffer;Ljava/nio/ByteBuffer;)I\r\nCompilerOracle: inline org/apache/cassandra/utils/vint/VIntCoding.encodeVInt (JI)[B\r\nINFO  [main] 2020-12-29 22:29:28,063 YamlConfigurationLoader.java:92 - Configuration location: file:/usr/local/etc/cassandra/cassandra.yaml\r\nINFO  [main] 2020-12-29 22:29:28,283 Config.java:536 - Node configuration:[allocate_tokens_for_keyspace=null; authenticator=AllowAllAuthenticator; authorizer=AllowAllAuthorizer; auto_bootstrap=true; auto_snapshot=true; back_pressure_enabled=false; back_pressure_strategy=org.apache.cassandra.net.RateBasedBackPressure{high_ratio=0.9, factor=5, flow=FAST}; batch_size_fail_threshold_in_kb=50; batch_size_warn_threshold_in_kb=5; batchlog_replay_throttle_in_kb=1024; broadcast_address=null; broadcast_rpc_address=null; buffer_pool_use_heap_if_exhausted=true; cas_contention_timeout_in_ms=1000; cdc_enabled=false; cdc_free_space_check_interval_ms=250; cdc_raw_directory=null; cdc_total_space_in_mb=0; check_for_duplicate_rows_during_compaction=true; check_for_duplicate_rows_during_reads=true; client_encryption_options=&lt;REDACTED&gt;; cluster_name=Test Cluster; column_index_cache_size_in_kb=2; column_index_size_in_kb=64; commit_failure_policy=stop; commitlog_compression=null; commitlog_directory=null; commitlog_max_compression_buffers_in_pool=3; commitlog_periodic_queue_size=-1; commitlog_segment_size_in_mb=32; commitlog_sync=periodic; commitlog_sync_batch_window_in_ms=NaN; commitlog_sync_period_in_ms=10000; commitlog_total_space_in_mb=null; compaction_large_partition_warning_threshold_mb=100; compaction_throughput_mb_per_sec=16; concurrent_compactors=null; concurrent_counter_writes=32; concurrent_materialized_view_writes=32; concurrent_reads=32; concurrent_replicates=null; concurrent_writes=32; counter_cache_keys_to_save=2147483647; counter_cache_save_period=7200; counter_cache_size_in_mb=null; counter_write_request_timeout_in_ms=5000; credentials_cache_max_entries=1000; credentials_update_interval_in_ms=-1; credentials_validity_in_ms=2000; cross_node_timeout=false; data_file_directories=[Ljava.lang.String;@2aa5fe93; disk_access_mode=auto; disk_failure_policy=stop; disk_optimization_estimate_percentile=0.95; disk_optimization_page_cross_chance=0.1; disk_optimization_strategy=ssd; dynamic_snitch=true; dynamic_snitch_badness_threshold=0.1; dynamic_snitch_reset_interval_in_ms=600000; dynamic_snitch_update_interval_in_ms=100; enable_materialized_views=true; enable_sasi_indexes=true; enable_scripted_user_defined_functions=false; enable_user_defined_functions=false; enable_user_defined_functions_threads=true; encryption_options=null; endpoint_snitch=SimpleSnitch; file_cache_round_up=null; file_cache_size_in_mb=null; gc_log_threshold_in_ms=200; gc_warn_threshold_in_ms=1000; hinted_handoff_disabled_datacenters=[]; hinted_handoff_enabled=true; hinted_handoff_throttle_in_kb=1024; hints_compression=null; hints_directory=null; hints_flush_period_in_ms=10000; incremental_backups=false; index_interval=null; index_summary_capacity_in_mb=null; index_summary_resize_interval_in_minutes=60; initial_token=null; inter_dc_stream_throughput_outbound_megabits_per_sec=200; inter_dc_tcp_nodelay=false; internode_authenticator=null; internode_compression=dc; internode_recv_buff_size_in_bytes=0; internode_send_buff_size_in_bytes=0; key_cache_keys_to_save=2147483647; key_cache_save_period=14400; key_cache_size_in_mb=null; listen_address=localhost; listen_interface=null; listen_interface_prefer_ipv6=false; listen_on_broadcast_address=false; max_hint_window_in_ms=10800000; max_hints_delivery_threads=2; max_hints_file_size_in_mb=128; max_mutation_size_in_kb=null; max_streaming_retries=3; max_value_size_in_mb=256; memtable_allocation_type=heap_buffers; memtable_cleanup_threshold=null; memtable_flush_writers=0; memtable_heap_space_in_mb=null; memtable_offheap_space_in_mb=null; min_free_space_per_drive_in_mb=50; native_transport_flush_in_batches_legacy=true; native_transport_max_concurrent_connections=-1; native_transport_max_concurrent_connections_per_ip=-1; native_transport_max_concurrent_requests_in_bytes=-1; native_transport_max_concurrent_requests_in_bytes_per_ip=-1; native_transport_max_frame_size_in_mb=256; native_transport_max_negotiable_protocol_version=-2147483648; native_transport_max_threads=128; native_transport_port=9042; native_transport_port_ssl=null; num_tokens=256; otc_backlog_expiration_interval_ms=200; otc_coalescing_enough_coalesced_messages=8; otc_coalescing_strategy=DISABLED; otc_coalescing_window_us=200; partitioner=org.apache.cassandra.dht.Murmur3Partitioner; permissions_cache_max_entries=1000; permissions_update_interval_in_ms=-1; permissions_validity_in_ms=2000; phi_convict_threshold=8.0; prepared_statements_cache_size_mb=null; range_request_timeout_in_ms=10000; read_request_timeout_in_ms=5000; repair_session_max_tree_depth=18; request_scheduler=org.apache.cassandra.scheduler.NoScheduler; request_scheduler_id=null; request_scheduler_options=null; request_timeout_in_ms=10000; role_manager=CassandraRoleManager; roles_cache_max_entries=1000; roles_update_interval_in_ms=-1; roles_validity_in_ms=2000; row_cache_class_name=org.apache.cassandra.cache.OHCProvider; row_cache_keys_to_save=2147483647; row_cache_save_period=0; row_cache_size_in_mb=0; rpc_address=localhost; rpc_interface=null; rpc_interface_prefer_ipv6=false; rpc_keepalive=true; rpc_listen_backlog=50; rpc_max_threads=2147483647; rpc_min_threads=16; rpc_port=9160; rpc_recv_buff_size_in_bytes=null; rpc_send_buff_size_in_bytes=null; rpc_server_type=sync; saved_caches_directory=null; seed_provider=org.apache.cassandra.locator.SimpleSeedProvider{seeds=127.0.0.1}; server_encryption_options=&lt;REDACTED&gt;; slow_query_log_timeout_in_ms=500; snapshot_before_compaction=false; snapshot_on_duplicate_row_detection=false; ssl_storage_port=7001; sstable_preemptive_open_interval_in_mb=50; start_native_transport=true; start_rpc=false; storage_port=7000; stream_throughput_outbound_megabits_per_sec=200; streaming_keep_alive_period_in_secs=300; streaming_socket_timeout_in_ms=86400000; thrift_framed_transport_size_in_mb=15; thrift_max_message_length_in_mb=16; thrift_prepared_statements_cache_size_mb=null; tombstone_failure_threshold=100000; tombstone_warn_threshold=1000; tracetype_query_ttl=86400; tracetype_repair_ttl=604800; transparent_data_encryption_options=org.apache.cassandra.config.TransparentDataEncryptionOptions@5c1a8622; trickle_fsync=false; trickle_fsync_interval_in_kb=10240; truncate_request_timeout_in_ms=60000; unlogged_batch_across_partitions_warn_threshold=10; user_defined_function_fail_timeout=1500; user_defined_function_warn_timeout=500; user_function_timeout_policy=die; windows_timer_interval=1; write_request_timeout_in_ms=2000]\r\nINFO  [main] 2020-12-29 22:29:28,284 DatabaseDescriptor.java:381 - DiskAccessMode &#39;auto&#39; determined to be mmap, indexAccessMode is mmap\r\nINFO  [main] 2020-12-29 22:29:28,284 DatabaseDescriptor.java:439 - Global memtable on-heap threshold is enabled at 998MB\r\nINFO  [main] 2020-12-29 22:29:28,284 DatabaseDescriptor.java:443 - Global memtable off-heap threshold is enabled at 998MB\r\nINFO  [main] 2020-12-29 22:29:28,470 RateBasedBackPressure.java:123 - Initialized back-pressure with high ratio: 0.9, factor: 5, flow: FAST, window size: 2000.\r\nINFO  [main] 2020-12-29 22:29:28,470 DatabaseDescriptor.java:773 - Back-pressure is disabled with strategy org.apache.cassandra.net.RateBasedBackPressure{high_ratio=0.9, factor=5, flow=FAST}.\r\nINFO  [main] 2020-12-29 22:29:28,669 JMXServerUtils.java:253 - Configured JMX server at: service:jmx:rmi://127.0.0.1/jndi/rmi://127.0.0.1:7199/jmxrmi\r\nINFO  [main] 2020-12-29 22:29:28,676 CassandraDaemon.java:490 - Hostname: Peters-Mac.hsd1.ca.comcast.net\r\nINFO  [main] 2020-12-29 22:29:28,676 CassandraDaemon.java:497 - JVM vendor/version: OpenJDK 64-Bit Server VM/1.8.0_275\r\nINFO  [main] 2020-12-29 22:29:28,677 CassandraDaemon.java:498 - Heap size: 3.900GiB/3.900GiB\r\nINFO  [main] 2020-12-29 22:29:28,678 CassandraDaemon.java:503 - Code Cache Non-heap memory: init = 2555904(2496K) used = 7167616(6999K) committed = 7208960(7040K) max = 251658240(245760K)\r\nINFO  [main] 2020-12-29 22:29:28,678 CassandraDaemon.java:503 - Metaspace Non-heap memory: init = 0(0K) used = 19574984(19116K) committed = 20054016(19584K) max = -1(-1K)\r\nINFO  [main] 2020-12-29 22:29:28,678 CassandraDaemon.java:503 - Compressed Class Space Non-heap memory: init = 0(0K) used = 2344344(2289K) committed = 2490368(2432K) max = 1073741824(1048576K)\r\nINFO  [main] 2020-12-29 22:29:28,679 CassandraDaemon.java:503 - Par Eden Space Heap memory: init = 859045888(838912K) used = 240576832(234938K) committed = 859045888(838912K) max = 859045888(838912K)\r\nINFO  [main] 2020-12-29 22:29:28,679 CassandraDaemon.java:503 - Par Survivor Space Heap memory: init = 107347968(104832K) used = 0(0K) committed = 107347968(104832K) max = 107347968(104832K)\r\nINFO  [main] 2020-12-29 22:29:28,679 CassandraDaemon.java:503 - CMS Old Gen Heap memory: init = 3221225472(3145728K) used = 0(0K) committed = 3221225472(3145728K) max = 3221225472(3145728K)\r\nINFO  [main] 2020-12-29 22:29:28,679 CassandraDaemon.java:505 - Classpath: /usr/local/etc/cassandra:/usr/local/Cellar/cassandra/3.11.9_1/libexec/build/classes/main:/usr/local/Cellar/cassandra/3.11.9_1/libexec/build/classes/thrift:/usr/local/Cellar/cassandra/3.11.9_1/libexec/HdrHistogram-2.1.9.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/ST4-4.0.8.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/airline-0.6.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/antlr-runtime-3.5.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/apache-cassandra-3.11.9.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/apache-cassandra-thrift-3.11.9.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/asm-5.0.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/caffeine-2.2.6.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/cassandra-driver-core-3.0.1-shaded.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/commons-cli-1.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/commons-codec-1.9.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/commons-lang3-3.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/commons-math3-3.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/compress-lzf-0.8.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/concurrent-trees-2.4.0.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/concurrentlinkedhashmap-lru-1.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/disruptor-3.0.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/ecj-4.4.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/guava-18.0.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/high-scale-lib-1.0.6.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/hppc-0.5.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jackson-annotations-2.9.10.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jackson-core-2.9.10.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jackson-databind-2.9.10.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jamm-0.3.0.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/javax.inject.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jbcrypt-0.3m.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jcl-over-slf4j-1.7.7.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jctools-core-1.2.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jflex-1.6.0.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jna-4.2.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/joda-time-2.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/json-simple-1.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jstackjunit-0.0.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/libthrift-0.9.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/log4j-over-slf4j-1.7.7.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/logback-classic-1.1.3.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/logback-core-1.1.3.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/lz4-1.3.0.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/metrics-core-3.1.5.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/metrics-jvm-3.1.5.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/metrics-logback-3.1.5.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/netty-all-4.0.44.Final.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/ohc-core-0.4.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/ohc-core-j8-0.4.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/reporter-config-base-3.0.3.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/reporter-config3-3.0.3.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/sigar-1.6.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/slf4j-api-1.7.7.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/snakeyaml-1.11.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/snappy-java-1.1.1.7.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/snowball-stemmer-1.3.0.581.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/stream-2.5.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/thrift-server-0.3.7.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/lib/jsr223/*/*.jar::/usr/local/Cellar/cassandra/3.11.9_1/libexec/jamm-0.3.0.jar\r\nINFO  [main] 2020-12-29 22:29:28,681 CassandraDaemon.java:507 - JVM Arguments: [-Xloggc:/usr/local/Cellar/cassandra/3.11.9_1/libexec/logs/gc.log, -ea, -XX:+UseThreadPriorities, -XX:ThreadPriorityPolicy=42, -XX:+HeapDumpOnOutOfMemoryError, -Xss256k, -XX:StringTableSize=1000003, -XX:+AlwaysPreTouch, -XX:-UseBiasedLocking, -XX:+UseTLAB, -XX:+ResizeTLAB, -XX:+UseNUMA, -XX:+PerfDisableSharedMem, -Djava.net.preferIPv4Stack=true, -XX:+UseParNewGC, -XX:+UseConcMarkSweepGC, -XX:+CMSParallelRemarkEnabled, -XX:SurvivorRatio=8, -XX:MaxTenuringThreshold=1, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -XX:CMSWaitDuration=10000, -XX:+CMSParallelInitialMarkEnabled, -XX:+CMSEdenChunksRecordAlways, -XX:+CMSClassUnloadingEnabled, -XX:+PrintGCDetails, -XX:+PrintGCDateStamps, -XX:+PrintHeapAtGC, -XX:+PrintTenuringDistribution, -XX:+PrintGCApplicationStoppedTime, -XX:+PrintPromotionFailure, -XX:+UseGCLogFileRotation, -XX:NumberOfGCLogFiles=10, -XX:GCLogFileSize=10M, -Xms4096M, -Xmx4096M, -Xmn1024M, -XX:+UseCondCardMark, -XX:CompileCommandFile=/usr/local/etc/cassandra/hotspot_compiler, -javaagent:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jamm-0.3.0.jar, -Dcassandra.jmx.local.port=7199, -Dcom.sun.management.jmxremote.authenticate=false, -Dcom.sun.management.jmxremote.password.file=/etc/cassandra/jmxremote.password, -Djava.library.path=/usr/local/Cellar/cassandra/3.11.9_1/libexec/sigar-bin, -Dcassandra.libjemalloc=/usr/local/lib/libjemalloc.dylib, -XX:OnOutOfMemoryError=kill -9 %p, -Dlogback.configurationFile=logback.xml, -Dcassandra.logdir=/usr/local/var/log/cassandra, -Dcassandra.storagedir=/usr/local/var/lib/cassandra, -Dcassandra-foreground=yes]\r\nINFO  [main] 2020-12-29 22:29:28,786 StartupChecks.java:140 - jemalloc seems to be preloaded from /usr/local/lib/libjemalloc.dylib\r\nWARN  [main] 2020-12-29 22:29:28,787 StartupChecks.java:169 - JMX is not enabled to receive remote connections. Please see cassandra-env.sh for more info.\r\nINFO  [main] 2020-12-29 22:29:28,789 SigarLibrary.java:44 - Initializing SIGAR library\r\nINFO  [main] 2020-12-29 22:29:28,809 SigarLibrary.java:57 - Could not initialize SIGAR library org.hyperic.sigar.Sigar.getFileSystemListNative()[Lorg/hyperic/sigar/FileSystem; \r\nINFO  [main] 2020-12-29 22:29:28,809 SigarLibrary.java:185 - Sigar could not be initialized, test for checking degraded mode omitted.\r\nINFO  [main] 2020-12-29 22:29:28,941 QueryProcessor.java:116 - Initialized prepared statement caches with 15 MB (native) and 15 MB (Thrift)\r\nINFO  [main] 2020-12-29 22:29:29,477 ColumnFamilyStore.java:427 - Initializing system.IndexInfo\r\nINFO  [main] 2020-12-29 22:29:29,931 ColumnFamilyStore.java:427 - Initializing system.batches\r\nINFO  [main] 2020-12-29 22:29:29,935 ColumnFamilyStore.java:427 - Initializing system.paxos\r\nINFO  [main] 2020-12-29 22:29:29,947 ColumnFamilyStore.java:427 - Initializing system.local\r\nINFO  [SSTableBatchOpen:6] 2020-12-29 22:29:29,978 BufferPool.java:234 - Global buffer pool is enabled, when pool is exhausted (max is 512.000MiB) it will allocate on heap\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x0000000107d65ab8, pid=53674, tid=0x0000000000008203\r\n#\r\n# JRE version: OpenJDK Runtime Environment (8.0_275) (build 1.8.0_275-bre_2020_11_16_16_29-b00)\r\n# Java VM: OpenJDK 64-Bit Server VM (25.275-b00 mixed mode bsd-amd64 compressed oops)\r\n# Problematic frame:\r\n# V  [libjvm.dylib+0x565ab8]\r\n#\r\n# Core dump written. Default location: /cores/core or core.53674\r\n#\r\n# An error report file with more information is saved as:\r\n# /Users/my_laptop/hs_err_pid53674.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n#\r\n\r\n```\r\n\r\nI honestly have very little knowledge of Java, or Cassandra, so I&#39;m not sure where the issue might be. I find it weird that the error has `OpenJDK 64-Bit Server VM warning: ...` at the beginning even after I uninstalled the openjdk via homebrew, and removed it with `rm -rf /Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk`.\r\n\r\nAny idea what I might try to get it working?","title":"Issue starting Cassandra. A fatal error has been detected by the Java Runtime Environment:","body":"<p>I installed openjdk, and cassandra via brew. I got this error when I started cassandra with <code>cassandra -f</code>:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x000000010df65ab8, pid=52667, tid=0x0000000000008603\n#\n# JRE version: OpenJDK Runtime Environment (8.0_275) (build 1.8.0_275-bre_2020_11_16_16_29-b00)\n# Java VM: OpenJDK 64-Bit Server VM (25.275-b00 mixed mode bsd-amd64 compressed oops)\n# Problematic frame:\n# V  [libjvm.dylib+0x565ab8]\n#\n# Core dump written. Default location: /cores/core or core.52667\n#\n# An error report file with more information is saved as:\n# /Users/my_laptop/hs_err_pid52667.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n#\n\n</code></pre>\n<p>After I saw that I tried uninstalling cassandra, and uninstalling openjdk. I installed regular java from oracle. When I run <code>java --version</code>, I now see this:</p>\n<pre><code>java 15.0.1 2020-10-20\nJava(TM) SE Runtime Environment (build 15.0.1+9-18)\nJava HotSpot(TM) 64-Bit Server VM (build 15.0.1+9-18, mixed mode, sharing)\n</code></pre>\n<p>I compiled and ran a basic HelloWorld.java file to make sure my command line <code>java</code>/<code>javac</code> were working correctly. I then reinstalled cassandra via homebrew. But atlas I see the same error. If I start it with <code>brew services start cassandra</code> I get an error:</p>\n<pre><code>➜  ~ brew services list             \nName       Status  User          Plist\ncassandra  error     \n</code></pre>\n<p>And with <code>cassandra -f</code>, the exact same error:</p>\n<pre><code>OpenJDK 64-Bit Server VM warning: Cannot open file /usr/local/Cellar/cassandra/3.11.9_1/libexec/logs/gc.log due to No such file or directory\n\nCompilerOracle: dontinline org/apache/cassandra/db/Columns$Serializer.deserializeLargeSubset (Lorg/apache/cassandra/io/util/DataInputPlus;Lorg/apache/cassandra/db/Columns;I)Lorg/apache/cassandra/db/Columns;\nCompilerOracle: dontinline org/apache/cassandra/db/Columns$Serializer.serializeLargeSubset (Ljava/util/Collection;ILorg/apache/cassandra/db/Columns;ILorg/apache/cassandra/io/util/DataOutputPlus;)V\nCompilerOracle: dontinline org/apache/cassandra/db/Columns$Serializer.serializeLargeSubsetSize (Ljava/util/Collection;ILorg/apache/cassandra/db/Columns;I)I\nCompilerOracle: dontinline org/apache/cassandra/db/commitlog/AbstractCommitLogSegmentManager.advanceAllocatingFrom (Lorg/apache/cassandra/db/commitlog/CommitLogSegment;)V\nCompilerOracle: dontinline org/apache/cassandra/db/transform/BaseIterator.tryGetMoreContents ()Z\nCompilerOracle: dontinline org/apache/cassandra/db/transform/StoppingTransformation.stop ()V\nCompilerOracle: dontinline org/apache/cassandra/db/transform/StoppingTransformation.stopInPartition ()V\nCompilerOracle: dontinline org/apache/cassandra/io/util/BufferedDataOutputStreamPlus.doFlush (I)V\nCompilerOracle: dontinline org/apache/cassandra/io/util/BufferedDataOutputStreamPlus.writeExcessSlow ()V\nCompilerOracle: dontinline org/apache/cassandra/io/util/BufferedDataOutputStreamPlus.writeSlow (JI)V\nCompilerOracle: dontinline org/apache/cassandra/io/util/RebufferingInputStream.readPrimitiveSlowly (I)J\nCompilerOracle: inline org/apache/cassandra/db/rows/UnfilteredSerializer.serializeRowBody (Lorg/apache/cassandra/db/rows/Row;ILorg/apache/cassandra/db/SerializationHeader;Lorg/apache/cassandra/io/util/DataOutputPlus;)V\nCompilerOracle: inline org/apache/cassandra/io/util/Memory.checkBounds (JJ)V\nCompilerOracle: inline org/apache/cassandra/io/util/SafeMemory.checkBounds (JJ)V\nCompilerOracle: inline org/apache/cassandra/utils/AsymmetricOrdering.selectBoundary (Lorg/apache/cassandra/utils/AsymmetricOrdering/Op;II)I\nCompilerOracle: inline org/apache/cassandra/utils/AsymmetricOrdering.strictnessOfLessThan (Lorg/apache/cassandra/utils/AsymmetricOrdering/Op;)I\nCompilerOracle: inline org/apache/cassandra/utils/BloomFilter.indexes (Lorg/apache/cassandra/utils/IFilter/FilterKey;)[J\nCompilerOracle: inline org/apache/cassandra/utils/BloomFilter.setIndexes (JJIJ[J)V\nCompilerOracle: inline org/apache/cassandra/utils/ByteBufferUtil.compare (Ljava/nio/ByteBuffer;[B)I\nCompilerOracle: inline org/apache/cassandra/utils/ByteBufferUtil.compare ([BLjava/nio/ByteBuffer;)I\nCompilerOracle: inline org/apache/cassandra/utils/ByteBufferUtil.compareUnsigned (Ljava/nio/ByteBuffer;Ljava/nio/ByteBuffer;)I\nCompilerOracle: inline org/apache/cassandra/utils/FastByteOperations$UnsafeOperations.compareTo (Ljava/lang/Object;JILjava/lang/Object;JI)I\nCompilerOracle: inline org/apache/cassandra/utils/FastByteOperations$UnsafeOperations.compareTo (Ljava/lang/Object;JILjava/nio/ByteBuffer;)I\nCompilerOracle: inline org/apache/cassandra/utils/FastByteOperations$UnsafeOperations.compareTo (Ljava/nio/ByteBuffer;Ljava/nio/ByteBuffer;)I\nCompilerOracle: inline org/apache/cassandra/utils/vint/VIntCoding.encodeVInt (JI)[B\nINFO  [main] 2020-12-29 22:29:28,063 YamlConfigurationLoader.java:92 - Configuration location: file:/usr/local/etc/cassandra/cassandra.yaml\nINFO  [main] 2020-12-29 22:29:28,283 Config.java:536 - Node configuration:[allocate_tokens_for_keyspace=null; authenticator=AllowAllAuthenticator; authorizer=AllowAllAuthorizer; auto_bootstrap=true; auto_snapshot=true; back_pressure_enabled=false; back_pressure_strategy=org.apache.cassandra.net.RateBasedBackPressure{high_ratio=0.9, factor=5, flow=FAST}; batch_size_fail_threshold_in_kb=50; batch_size_warn_threshold_in_kb=5; batchlog_replay_throttle_in_kb=1024; broadcast_address=null; broadcast_rpc_address=null; buffer_pool_use_heap_if_exhausted=true; cas_contention_timeout_in_ms=1000; cdc_enabled=false; cdc_free_space_check_interval_ms=250; cdc_raw_directory=null; cdc_total_space_in_mb=0; check_for_duplicate_rows_during_compaction=true; check_for_duplicate_rows_during_reads=true; client_encryption_options=&lt;REDACTED&gt;; cluster_name=Test Cluster; column_index_cache_size_in_kb=2; column_index_size_in_kb=64; commit_failure_policy=stop; commitlog_compression=null; commitlog_directory=null; commitlog_max_compression_buffers_in_pool=3; commitlog_periodic_queue_size=-1; commitlog_segment_size_in_mb=32; commitlog_sync=periodic; commitlog_sync_batch_window_in_ms=NaN; commitlog_sync_period_in_ms=10000; commitlog_total_space_in_mb=null; compaction_large_partition_warning_threshold_mb=100; compaction_throughput_mb_per_sec=16; concurrent_compactors=null; concurrent_counter_writes=32; concurrent_materialized_view_writes=32; concurrent_reads=32; concurrent_replicates=null; concurrent_writes=32; counter_cache_keys_to_save=2147483647; counter_cache_save_period=7200; counter_cache_size_in_mb=null; counter_write_request_timeout_in_ms=5000; credentials_cache_max_entries=1000; credentials_update_interval_in_ms=-1; credentials_validity_in_ms=2000; cross_node_timeout=false; data_file_directories=[Ljava.lang.String;@2aa5fe93; disk_access_mode=auto; disk_failure_policy=stop; disk_optimization_estimate_percentile=0.95; disk_optimization_page_cross_chance=0.1; disk_optimization_strategy=ssd; dynamic_snitch=true; dynamic_snitch_badness_threshold=0.1; dynamic_snitch_reset_interval_in_ms=600000; dynamic_snitch_update_interval_in_ms=100; enable_materialized_views=true; enable_sasi_indexes=true; enable_scripted_user_defined_functions=false; enable_user_defined_functions=false; enable_user_defined_functions_threads=true; encryption_options=null; endpoint_snitch=SimpleSnitch; file_cache_round_up=null; file_cache_size_in_mb=null; gc_log_threshold_in_ms=200; gc_warn_threshold_in_ms=1000; hinted_handoff_disabled_datacenters=[]; hinted_handoff_enabled=true; hinted_handoff_throttle_in_kb=1024; hints_compression=null; hints_directory=null; hints_flush_period_in_ms=10000; incremental_backups=false; index_interval=null; index_summary_capacity_in_mb=null; index_summary_resize_interval_in_minutes=60; initial_token=null; inter_dc_stream_throughput_outbound_megabits_per_sec=200; inter_dc_tcp_nodelay=false; internode_authenticator=null; internode_compression=dc; internode_recv_buff_size_in_bytes=0; internode_send_buff_size_in_bytes=0; key_cache_keys_to_save=2147483647; key_cache_save_period=14400; key_cache_size_in_mb=null; listen_address=localhost; listen_interface=null; listen_interface_prefer_ipv6=false; listen_on_broadcast_address=false; max_hint_window_in_ms=10800000; max_hints_delivery_threads=2; max_hints_file_size_in_mb=128; max_mutation_size_in_kb=null; max_streaming_retries=3; max_value_size_in_mb=256; memtable_allocation_type=heap_buffers; memtable_cleanup_threshold=null; memtable_flush_writers=0; memtable_heap_space_in_mb=null; memtable_offheap_space_in_mb=null; min_free_space_per_drive_in_mb=50; native_transport_flush_in_batches_legacy=true; native_transport_max_concurrent_connections=-1; native_transport_max_concurrent_connections_per_ip=-1; native_transport_max_concurrent_requests_in_bytes=-1; native_transport_max_concurrent_requests_in_bytes_per_ip=-1; native_transport_max_frame_size_in_mb=256; native_transport_max_negotiable_protocol_version=-2147483648; native_transport_max_threads=128; native_transport_port=9042; native_transport_port_ssl=null; num_tokens=256; otc_backlog_expiration_interval_ms=200; otc_coalescing_enough_coalesced_messages=8; otc_coalescing_strategy=DISABLED; otc_coalescing_window_us=200; partitioner=org.apache.cassandra.dht.Murmur3Partitioner; permissions_cache_max_entries=1000; permissions_update_interval_in_ms=-1; permissions_validity_in_ms=2000; phi_convict_threshold=8.0; prepared_statements_cache_size_mb=null; range_request_timeout_in_ms=10000; read_request_timeout_in_ms=5000; repair_session_max_tree_depth=18; request_scheduler=org.apache.cassandra.scheduler.NoScheduler; request_scheduler_id=null; request_scheduler_options=null; request_timeout_in_ms=10000; role_manager=CassandraRoleManager; roles_cache_max_entries=1000; roles_update_interval_in_ms=-1; roles_validity_in_ms=2000; row_cache_class_name=org.apache.cassandra.cache.OHCProvider; row_cache_keys_to_save=2147483647; row_cache_save_period=0; row_cache_size_in_mb=0; rpc_address=localhost; rpc_interface=null; rpc_interface_prefer_ipv6=false; rpc_keepalive=true; rpc_listen_backlog=50; rpc_max_threads=2147483647; rpc_min_threads=16; rpc_port=9160; rpc_recv_buff_size_in_bytes=null; rpc_send_buff_size_in_bytes=null; rpc_server_type=sync; saved_caches_directory=null; seed_provider=org.apache.cassandra.locator.SimpleSeedProvider{seeds=127.0.0.1}; server_encryption_options=&lt;REDACTED&gt;; slow_query_log_timeout_in_ms=500; snapshot_before_compaction=false; snapshot_on_duplicate_row_detection=false; ssl_storage_port=7001; sstable_preemptive_open_interval_in_mb=50; start_native_transport=true; start_rpc=false; storage_port=7000; stream_throughput_outbound_megabits_per_sec=200; streaming_keep_alive_period_in_secs=300; streaming_socket_timeout_in_ms=86400000; thrift_framed_transport_size_in_mb=15; thrift_max_message_length_in_mb=16; thrift_prepared_statements_cache_size_mb=null; tombstone_failure_threshold=100000; tombstone_warn_threshold=1000; tracetype_query_ttl=86400; tracetype_repair_ttl=604800; transparent_data_encryption_options=org.apache.cassandra.config.TransparentDataEncryptionOptions@5c1a8622; trickle_fsync=false; trickle_fsync_interval_in_kb=10240; truncate_request_timeout_in_ms=60000; unlogged_batch_across_partitions_warn_threshold=10; user_defined_function_fail_timeout=1500; user_defined_function_warn_timeout=500; user_function_timeout_policy=die; windows_timer_interval=1; write_request_timeout_in_ms=2000]\nINFO  [main] 2020-12-29 22:29:28,284 DatabaseDescriptor.java:381 - DiskAccessMode 'auto' determined to be mmap, indexAccessMode is mmap\nINFO  [main] 2020-12-29 22:29:28,284 DatabaseDescriptor.java:439 - Global memtable on-heap threshold is enabled at 998MB\nINFO  [main] 2020-12-29 22:29:28,284 DatabaseDescriptor.java:443 - Global memtable off-heap threshold is enabled at 998MB\nINFO  [main] 2020-12-29 22:29:28,470 RateBasedBackPressure.java:123 - Initialized back-pressure with high ratio: 0.9, factor: 5, flow: FAST, window size: 2000.\nINFO  [main] 2020-12-29 22:29:28,470 DatabaseDescriptor.java:773 - Back-pressure is disabled with strategy org.apache.cassandra.net.RateBasedBackPressure{high_ratio=0.9, factor=5, flow=FAST}.\nINFO  [main] 2020-12-29 22:29:28,669 JMXServerUtils.java:253 - Configured JMX server at: service:jmx:rmi://127.0.0.1/jndi/rmi://127.0.0.1:7199/jmxrmi\nINFO  [main] 2020-12-29 22:29:28,676 CassandraDaemon.java:490 - Hostname: Peters-Mac.hsd1.ca.comcast.net\nINFO  [main] 2020-12-29 22:29:28,676 CassandraDaemon.java:497 - JVM vendor/version: OpenJDK 64-Bit Server VM/1.8.0_275\nINFO  [main] 2020-12-29 22:29:28,677 CassandraDaemon.java:498 - Heap size: 3.900GiB/3.900GiB\nINFO  [main] 2020-12-29 22:29:28,678 CassandraDaemon.java:503 - Code Cache Non-heap memory: init = 2555904(2496K) used = 7167616(6999K) committed = 7208960(7040K) max = 251658240(245760K)\nINFO  [main] 2020-12-29 22:29:28,678 CassandraDaemon.java:503 - Metaspace Non-heap memory: init = 0(0K) used = 19574984(19116K) committed = 20054016(19584K) max = -1(-1K)\nINFO  [main] 2020-12-29 22:29:28,678 CassandraDaemon.java:503 - Compressed Class Space Non-heap memory: init = 0(0K) used = 2344344(2289K) committed = 2490368(2432K) max = 1073741824(1048576K)\nINFO  [main] 2020-12-29 22:29:28,679 CassandraDaemon.java:503 - Par Eden Space Heap memory: init = 859045888(838912K) used = 240576832(234938K) committed = 859045888(838912K) max = 859045888(838912K)\nINFO  [main] 2020-12-29 22:29:28,679 CassandraDaemon.java:503 - Par Survivor Space Heap memory: init = 107347968(104832K) used = 0(0K) committed = 107347968(104832K) max = 107347968(104832K)\nINFO  [main] 2020-12-29 22:29:28,679 CassandraDaemon.java:503 - CMS Old Gen Heap memory: init = 3221225472(3145728K) used = 0(0K) committed = 3221225472(3145728K) max = 3221225472(3145728K)\nINFO  [main] 2020-12-29 22:29:28,679 CassandraDaemon.java:505 - Classpath: /usr/local/etc/cassandra:/usr/local/Cellar/cassandra/3.11.9_1/libexec/build/classes/main:/usr/local/Cellar/cassandra/3.11.9_1/libexec/build/classes/thrift:/usr/local/Cellar/cassandra/3.11.9_1/libexec/HdrHistogram-2.1.9.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/ST4-4.0.8.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/airline-0.6.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/antlr-runtime-3.5.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/apache-cassandra-3.11.9.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/apache-cassandra-thrift-3.11.9.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/asm-5.0.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/caffeine-2.2.6.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/cassandra-driver-core-3.0.1-shaded.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/commons-cli-1.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/commons-codec-1.9.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/commons-lang3-3.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/commons-math3-3.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/compress-lzf-0.8.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/concurrent-trees-2.4.0.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/concurrentlinkedhashmap-lru-1.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/disruptor-3.0.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/ecj-4.4.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/guava-18.0.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/high-scale-lib-1.0.6.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/hppc-0.5.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jackson-annotations-2.9.10.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jackson-core-2.9.10.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jackson-databind-2.9.10.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jamm-0.3.0.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/javax.inject.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jbcrypt-0.3m.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jcl-over-slf4j-1.7.7.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jctools-core-1.2.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jflex-1.6.0.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jna-4.2.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/joda-time-2.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/json-simple-1.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jstackjunit-0.0.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/libthrift-0.9.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/log4j-over-slf4j-1.7.7.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/logback-classic-1.1.3.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/logback-core-1.1.3.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/lz4-1.3.0.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/metrics-core-3.1.5.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/metrics-jvm-3.1.5.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/metrics-logback-3.1.5.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/netty-all-4.0.44.Final.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/ohc-core-0.4.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/ohc-core-j8-0.4.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/reporter-config-base-3.0.3.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/reporter-config3-3.0.3.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/sigar-1.6.4.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/slf4j-api-1.7.7.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/snakeyaml-1.11.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/snappy-java-1.1.1.7.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/snowball-stemmer-1.3.0.581.1.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/stream-2.5.2.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/thrift-server-0.3.7.jar:/usr/local/Cellar/cassandra/3.11.9_1/libexec/lib/jsr223/*/*.jar::/usr/local/Cellar/cassandra/3.11.9_1/libexec/jamm-0.3.0.jar\nINFO  [main] 2020-12-29 22:29:28,681 CassandraDaemon.java:507 - JVM Arguments: [-Xloggc:/usr/local/Cellar/cassandra/3.11.9_1/libexec/logs/gc.log, -ea, -XX:+UseThreadPriorities, -XX:ThreadPriorityPolicy=42, -XX:+HeapDumpOnOutOfMemoryError, -Xss256k, -XX:StringTableSize=1000003, -XX:+AlwaysPreTouch, -XX:-UseBiasedLocking, -XX:+UseTLAB, -XX:+ResizeTLAB, -XX:+UseNUMA, -XX:+PerfDisableSharedMem, -Djava.net.preferIPv4Stack=true, -XX:+UseParNewGC, -XX:+UseConcMarkSweepGC, -XX:+CMSParallelRemarkEnabled, -XX:SurvivorRatio=8, -XX:MaxTenuringThreshold=1, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -XX:CMSWaitDuration=10000, -XX:+CMSParallelInitialMarkEnabled, -XX:+CMSEdenChunksRecordAlways, -XX:+CMSClassUnloadingEnabled, -XX:+PrintGCDetails, -XX:+PrintGCDateStamps, -XX:+PrintHeapAtGC, -XX:+PrintTenuringDistribution, -XX:+PrintGCApplicationStoppedTime, -XX:+PrintPromotionFailure, -XX:+UseGCLogFileRotation, -XX:NumberOfGCLogFiles=10, -XX:GCLogFileSize=10M, -Xms4096M, -Xmx4096M, -Xmn1024M, -XX:+UseCondCardMark, -XX:CompileCommandFile=/usr/local/etc/cassandra/hotspot_compiler, -javaagent:/usr/local/Cellar/cassandra/3.11.9_1/libexec/jamm-0.3.0.jar, -Dcassandra.jmx.local.port=7199, -Dcom.sun.management.jmxremote.authenticate=false, -Dcom.sun.management.jmxremote.password.file=/etc/cassandra/jmxremote.password, -Djava.library.path=/usr/local/Cellar/cassandra/3.11.9_1/libexec/sigar-bin, -Dcassandra.libjemalloc=/usr/local/lib/libjemalloc.dylib, -XX:OnOutOfMemoryError=kill -9 %p, -Dlogback.configurationFile=logback.xml, -Dcassandra.logdir=/usr/local/var/log/cassandra, -Dcassandra.storagedir=/usr/local/var/lib/cassandra, -Dcassandra-foreground=yes]\nINFO  [main] 2020-12-29 22:29:28,786 StartupChecks.java:140 - jemalloc seems to be preloaded from /usr/local/lib/libjemalloc.dylib\nWARN  [main] 2020-12-29 22:29:28,787 StartupChecks.java:169 - JMX is not enabled to receive remote connections. Please see cassandra-env.sh for more info.\nINFO  [main] 2020-12-29 22:29:28,789 SigarLibrary.java:44 - Initializing SIGAR library\nINFO  [main] 2020-12-29 22:29:28,809 SigarLibrary.java:57 - Could not initialize SIGAR library org.hyperic.sigar.Sigar.getFileSystemListNative()[Lorg/hyperic/sigar/FileSystem; \nINFO  [main] 2020-12-29 22:29:28,809 SigarLibrary.java:185 - Sigar could not be initialized, test for checking degraded mode omitted.\nINFO  [main] 2020-12-29 22:29:28,941 QueryProcessor.java:116 - Initialized prepared statement caches with 15 MB (native) and 15 MB (Thrift)\nINFO  [main] 2020-12-29 22:29:29,477 ColumnFamilyStore.java:427 - Initializing system.IndexInfo\nINFO  [main] 2020-12-29 22:29:29,931 ColumnFamilyStore.java:427 - Initializing system.batches\nINFO  [main] 2020-12-29 22:29:29,935 ColumnFamilyStore.java:427 - Initializing system.paxos\nINFO  [main] 2020-12-29 22:29:29,947 ColumnFamilyStore.java:427 - Initializing system.local\nINFO  [SSTableBatchOpen:6] 2020-12-29 22:29:29,978 BufferPool.java:234 - Global buffer pool is enabled, when pool is exhausted (max is 512.000MiB) it will allocate on heap\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x0000000107d65ab8, pid=53674, tid=0x0000000000008203\n#\n# JRE version: OpenJDK Runtime Environment (8.0_275) (build 1.8.0_275-bre_2020_11_16_16_29-b00)\n# Java VM: OpenJDK 64-Bit Server VM (25.275-b00 mixed mode bsd-amd64 compressed oops)\n# Problematic frame:\n# V  [libjvm.dylib+0x565ab8]\n#\n# Core dump written. Default location: /cores/core or core.53674\n#\n# An error report file with more information is saved as:\n# /Users/my_laptop/hs_err_pid53674.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n#\n\n</code></pre>\n<p>I honestly have very little knowledge of Java, or Cassandra, so I'm not sure where the issue might be. I find it weird that the error has <code>OpenJDK 64-Bit Server VM warning: ...</code> at the beginning even after I uninstalled the openjdk via homebrew, and removed it with <code>rm -rf /Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk</code>.</p>\n<p>Any idea what I might try to get it working?</p>\n"},{"tags":["java","android","notifications","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1648203649,"post_id":71615257,"comment_id":126570361,"body_markdown":"Please go through this link once : https://firebase.google.com/docs/cloud-messaging/android/client","body":"Please go through this link once : <a href=\"https://firebase.google.com/docs/cloud-messaging/android/client\" rel=\"nofollow noreferrer\">firebase.google.com/docs/cloud-messaging/android/client</a>"},{"owner":{"account_id":23992494,"reputation":68,"user_id":17978414,"display_name":"pandaman"},"score":0,"creation_date":1648205226,"post_id":71615257,"comment_id":126570946,"body_markdown":"yes and what? I have everything same in manifest","body":"yes and what? I have everything same in manifest"}],"owner":{"account_id":23992494,"reputation":68,"user_id":17978414,"display_name":"pandaman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648203203,"creation_date":1648203203,"question_id":71615257,"body_markdown":"so my notification system isn&#39;t working for no reason, I&#39;ve tried many stackoverflow solutions but none of them really worked. I have been thinking for many hours, so please help!\r\n\r\nhere is MessagingService.java class:\r\n```java\r\npublic final class MessagingService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n        User user = new User(\r\n                remoteMessage.getData().get(Constants.KEY_NAME),\r\n                &quot;&quot;,\r\n                &quot;&quot;,\r\n                remoteMessage.getData().get(Constants.KEY_FCM_TOKEN),\r\n                remoteMessage.getData().get(Constants.KEY_USER_ID)\r\n        );\r\n\r\n        String channelId = &quot;chat_message&quot;;\r\n\r\n        Intent intent = new Intent(this, ChatActivity.class);\r\n\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        intent.putExtra(Constants.KEY_USER, user);\r\n\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, 0);\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channelId);\r\n\r\n        builder.setSmallIcon(R.drawable.ic_notification);\r\n        builder.setContentTitle(user.getName());\r\n        builder.setContentText(remoteMessage.getData().get(Constants.KEY_MESSAGE));\r\n        builder.setStyle(new NotificationCompat.BigTextStyle()\r\n                .bigText(remoteMessage.getData().get(Constants.KEY_MESSAGE)));\r\n        builder.setPriority(NotificationCompat.PRIORITY_HIGH);\r\n        builder.setContentIntent(pendingIntent);\r\n        builder.setAutoCancel(true);\r\n        builder.addAction(R.drawable.ic_notification, &quot;eee&quot;, pendingIntent);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\r\n            CharSequence channelName = &quot;Chat Message&quot;;\r\n            String channelDescription = &quot;Used for message notifications&quot;;\r\n\r\n            NotificationChannel channel = new NotificationChannel(&quot;&quot;, &quot;&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            channel.setDescription(channelDescription);\r\n\r\n            NotificationManager notificationChannel = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            notificationChannel.createNotificationChannel(channel);\r\n        }\r\n\r\n        int id = ThreadLocalRandom.current().nextInt(100);\r\n\r\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(this);\r\n        notificationManagerCompat.notify(id, builder.build());\r\n    }\r\n}\r\n```\r\n\r\nand here&#39;s my AndroidManifest.xml:\r\n\r\n```xml\r\n        &lt;service\r\n            android:name=&quot;.firebase.MessagingService&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n```\r\n\r\n","title":"FCM notifications not showing","body":"<p>so my notification system isn't working for no reason, I've tried many stackoverflow solutions but none of them really worked. I have been thinking for many hours, so please help!</p>\n<p>here is MessagingService.java class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class MessagingService extends FirebaseMessagingService {\n\n    @Override\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);\n        User user = new User(\n                remoteMessage.getData().get(Constants.KEY_NAME),\n                &quot;&quot;,\n                &quot;&quot;,\n                remoteMessage.getData().get(Constants.KEY_FCM_TOKEN),\n                remoteMessage.getData().get(Constants.KEY_USER_ID)\n        );\n\n        String channelId = &quot;chat_message&quot;;\n\n        Intent intent = new Intent(this, ChatActivity.class);\n\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        intent.putExtra(Constants.KEY_USER, user);\n\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, 0);\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channelId);\n\n        builder.setSmallIcon(R.drawable.ic_notification);\n        builder.setContentTitle(user.getName());\n        builder.setContentText(remoteMessage.getData().get(Constants.KEY_MESSAGE));\n        builder.setStyle(new NotificationCompat.BigTextStyle()\n                .bigText(remoteMessage.getData().get(Constants.KEY_MESSAGE)));\n        builder.setPriority(NotificationCompat.PRIORITY_HIGH);\n        builder.setContentIntent(pendingIntent);\n        builder.setAutoCancel(true);\n        builder.addAction(R.drawable.ic_notification, &quot;eee&quot;, pendingIntent);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n            CharSequence channelName = &quot;Chat Message&quot;;\n            String channelDescription = &quot;Used for message notifications&quot;;\n\n            NotificationChannel channel = new NotificationChannel(&quot;&quot;, &quot;&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n            channel.setDescription(channelDescription);\n\n            NotificationManager notificationChannel = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n            notificationChannel.createNotificationChannel(channel);\n        }\n\n        int id = ThreadLocalRandom.current().nextInt(100);\n\n        NotificationManagerCompat notificationManagerCompat = NotificationManagerCompat.from(this);\n        notificationManagerCompat.notify(id, builder.build());\n    }\n}\n</code></pre>\n<p>and here's my AndroidManifest.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;service\n            android:name=&quot;.firebase.MessagingService&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":1721698,"reputation":3579,"user_id":1577363,"display_name":"erhun"},"score":0,"creation_date":1539857443,"post_id":52871589,"comment_id":92656927,"body_markdown":"Can you please share your generated sql(or jpql) for problematic cases? Total count and with group by field. If they don&#39;t have any where conditions they should be same, right?","body":"Can you please share your generated sql(or jpql) for problematic cases? Total count and with group by field. If they don&#39;t have any where conditions they should be same, right?"},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1539858505,"post_id":52871589,"comment_id":92657446,"body_markdown":"define the JPQL (or SQL) that you are trying to achieve, and the associated entities. PS The JPA API has no such thing as a &quot;Specification&quot;; that is Spring Data ... a totally different API","body":"define the JPQL (or SQL) that you are trying to achieve, and the associated entities. PS The JPA API has no such thing as a &quot;Specification&quot;; that is Spring Data ... a totally different API"},{"owner":{"account_id":14564191,"reputation":61,"user_id":10519461,"display_name":"Kepasnik"},"score":0,"creation_date":1539862834,"post_id":52871589,"comment_id":92659784,"body_markdown":"Thank you for your comments.\nOn count query execution I see next jpql query: `select count(generatedAlias0) from EntityClass as generatedAlias0 where 1=1 group by generatedAlias0.field`.\nI guess I&#39;m trying to achieve select count(`generatedAlias0.field`) from EntityClass as generatedAlias0 where 1=1 group by generatedAlias0.field.\n\nEntityClass consists from two fields - Integer id and  String field.","body":"Thank you for your comments. On count query execution I see next jpql query: <code>select count(generatedAlias0) from EntityClass as generatedAlias0 where 1=1 group by generatedAlias0.field</code>. I guess I&#39;m trying to achieve select count(<code>generatedAlias0.field</code>) from EntityClass as generatedAlias0 where 1=1 group by generatedAlias0.field.  EntityClass consists from two fields - Integer id and  String field."},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1539865565,"post_id":52871589,"comment_id":92661348,"body_markdown":"so why not post ALL of the JPA Criteria code? You say the problem is in the SELECT but dont post the JPA Criteria `select` call","body":"so why not post ALL of the JPA Criteria code? You say the problem is in the SELECT but dont post the JPA Criteria <code>select</code> call"},{"owner":{"account_id":14564191,"reputation":61,"user_id":10519461,"display_name":"Kepasnik"},"score":0,"creation_date":1539869328,"post_id":52871589,"comment_id":92663773,"body_markdown":"Right now I have sql like this `select count(id) from entity where 1 = 1 group by field;` but I want to have query like `select count(distinct field) from entity where 1 = 1 group by field;`","body":"Right now I have sql like this <code>select count(id) from entity where 1 = 1 group by field;</code> but I want to have query like <code>select count(distinct field) from entity where 1 = 1 group by field;</code>"},{"owner":{"account_id":10516977,"reputation":409,"user_id":7750784,"display_name":"Hoang Duc Nguyen"},"score":0,"creation_date":1542185467,"post_id":52871589,"comment_id":93473198,"body_markdown":"Currently looking for a way to make it `select count(distinct field)` instead of `select distinct count(distinct field)` as well. By the way, your issue regarding incorrect total elements value, check this out https://jira.spring.io/browse/DATAJPA-945","body":"Currently looking for a way to make it <code>select count(distinct field)</code> instead of <code>select distinct count(distinct field)</code> as well. By the way, your issue regarding incorrect total elements value, check this out <a href=\"https://jira.spring.io/browse/DATAJPA-945\" rel=\"nofollow noreferrer\">jira.spring.io/browse/DATAJPA-945</a>"},{"owner":{"account_id":6137795,"reputation":147,"user_id":4786058,"display_name":"Zolcsak Tamas"},"score":0,"creation_date":1583822290,"post_id":52871589,"comment_id":107234226,"body_markdown":"Did anyone solve this issue? I got the same problem.","body":"Did anyone solve this issue? I got the same problem."}],"answers":[{"tags":[],"owner":{"account_id":3413797,"reputation":43,"user_id":2863214,"display_name":"Rafael Gava"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564574941,"creation_date":1564574941,"answer_id":57290429,"question_id":52871589,"body_markdown":"I&#39;m using this approach:\r\n\r\n    @Override\r\n    public Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) \r\n    {\r\n\r\n        // Count Query?\r\n        if (query.getResultType().toString().contains(&quot;java.lang.Long&quot;)) {\r\n            root.join(&quot;&lt;MyJoinEntity&gt;&quot;);\r\n        } else {\r\n            root.fetch(&quot;&lt;MyJoinEntity&gt;&quot;);\r\n        }\r\n        ...\r\n    }\r\n\r\n","title":"How can I distinct count query by field in JPA specification?","body":"<p>I'm using this approach:</p>\n\n<pre><code>@Override\npublic Predicate toPredicate(Root&lt;T&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) \n{\n\n    // Count Query?\n    if (query.getResultType().toString().contains(\"java.lang.Long\")) {\n        root.join(\"&lt;MyJoinEntity&gt;\");\n    } else {\n        root.fetch(\"&lt;MyJoinEntity&gt;\");\n    }\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10853331,"reputation":327,"user_id":7980462,"display_name":"Дима Годиков"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648203086,"creation_date":1648203086,"answer_id":71615235,"question_id":52871589,"body_markdown":"M.b. it&#39;s a little better (based on @Rafael Gava answer):\r\n\r\n    private static boolean isCountQuery(CriteriaQuery&lt;?&gt; query) {\r\n        return query.getResultType().getAnnotation(Entity.class) == null;\r\n    }","title":"How can I distinct count query by field in JPA specification?","body":"<p>M.b. it's a little better (based on @Rafael Gava answer):</p>\n<pre><code>private static boolean isCountQuery(CriteriaQuery&lt;?&gt; query) {\n    return query.getResultType().getAnnotation(Entity.class) == null;\n}\n</code></pre>\n"}],"owner":{"account_id":14564191,"reputation":61,"user_id":10519461,"display_name":"Kepasnik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2599,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1648203086,"creation_date":1539856951,"question_id":52871589,"body_markdown":"I have Specification class which implements JPA Specification interface:\r\n`EntityClassSpecification implements Specification&lt;EntityClass&gt;`\r\n\r\nI have overridden `toPredicate` method that looks like this:\r\n\r\n    public Predicate toPredicate(Root&lt;EntityClass&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n        final Collection&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        if (isNullOrEmpty(soilEntryCriteria.getField())) {\r\n            query.groupBy(root.get(&quot;field&quot;));\r\n        }\r\n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\r\n    }\r\nThe problem is, when I&#39;m using this Specification for findAll(), which returns `Page&lt;EntityClass&gt;` result set, grouped by `field`, but when I get total count for pagination - it returns incorrect count, without grouping by `field`.\r\n\r\nI tried to use `.distinct(true)`, `.countDistinct(root.get(&quot;field&quot;))` and creating separate count query, which returns Long value, but every time jpql query for count doesn&#39;t change, and returns incorrect total value.\r\n\r\nI think its time to ask for some help. Could you please suggest any tips how I can change this total count query for pagination?\r\n\r\n\r\n","title":"How can I distinct count query by field in JPA specification?","body":"<p>I have Specification class which implements JPA Specification interface:\n<code>EntityClassSpecification implements Specification&lt;EntityClass&gt;</code></p>\n\n<p>I have overridden <code>toPredicate</code> method that looks like this:</p>\n\n<pre><code>public Predicate toPredicate(Root&lt;EntityClass&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n    final Collection&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n    if (isNullOrEmpty(soilEntryCriteria.getField())) {\n        query.groupBy(root.get(\"field\"));\n    }\n    return cb.and(predicates.toArray(new Predicate[predicates.size()]));\n}\n</code></pre>\n\n<p>The problem is, when I'm using this Specification for findAll(), which returns <code>Page&lt;EntityClass&gt;</code> result set, grouped by <code>field</code>, but when I get total count for pagination - it returns incorrect count, without grouping by <code>field</code>.</p>\n\n<p>I tried to use <code>.distinct(true)</code>, <code>.countDistinct(root.get(\"field\"))</code> and creating separate count query, which returns Long value, but every time jpql query for count doesn't change, and returns incorrect total value.</p>\n\n<p>I think its time to ask for some help. Could you please suggest any tips how I can change this total count query for pagination?</p>\n"},{"tags":["java","c#","android","xamarin.android","android-webview"],"comments":[{"owner":{"account_id":14544065,"reputation":12490,"user_id":10504796,"display_name":"Junior Jiang"},"score":0,"creation_date":1556262472,"post_id":55829446,"comment_id":98385205,"body_markdown":"Hi , thanks for sharing sample, have you solved this problem? I found a solution work for me.If need , I will update answer :)","body":"Hi , thanks for sharing sample, have you solved this problem? I found a solution work for me.If need , I will update answer :)"},{"owner":{"account_id":11674272,"reputation":423,"user_id":8548371,"display_name":"Gopal Awasthi"},"score":0,"creation_date":1556531158,"post_id":55829446,"comment_id":98457517,"body_markdown":"Thanks please update it. or you can also share the code if you want","body":"Thanks please update it. or you can also share the code if you want"},{"owner":{"account_id":14544065,"reputation":12490,"user_id":10504796,"display_name":"Junior Jiang"},"score":0,"creation_date":1556531541,"post_id":55829446,"comment_id":98457731,"body_markdown":"Okey, I will share the solution :)","body":"Okey, I will share the solution :)"},{"owner":{"account_id":10279781,"reputation":6290,"user_id":7585388,"display_name":"Bolt UIX"},"score":0,"creation_date":1620869158,"post_id":55829446,"comment_id":119331212,"body_markdown":"did u get the solution?","body":"did u get the solution?"},{"owner":{"account_id":11674272,"reputation":423,"user_id":8548371,"display_name":"Gopal Awasthi"},"score":1,"creation_date":1620883086,"post_id":55829446,"comment_id":119333557,"body_markdown":"@HariShankarS I have marked the correct answer upvote  you can try the answer of Michelangelo Pucci in the below answers that will work for you","body":"@HariShankarS I have marked the correct answer upvote  you can try the answer of Michelangelo Pucci in the below answers that will work for you"}],"answers":[{"tags":[],"owner":{"account_id":14544065,"reputation":12490,"user_id":10504796,"display_name":"Junior Jiang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556861160,"creation_date":1556174295,"answer_id":55843215,"question_id":55829446,"body_markdown":"After testing second PDF URL file, WebView seems like that can not load large PDF file.\r\n\r\n**Reason:**\r\n\r\nWebView display HTML. The fact that this works at all is by a hack- google will convert simple PDFs into HTML. It doesn&#39;t seem like they support anything that big. Even if they did, I would expect loading a large page PDF converted to HTML would be so large I highly doubt you&#39;d be able to load it without going OOM. Use an appropriate PDF library, make a real PDF rendering view, and make sure not to render more of the PDF at a time than you need (or else you&#39;ll go OOM anyway). In other words, don&#39;t rely on hacky solutions you never should have relied on in the first place.\r\n\r\n**Solution:**\r\n\r\nYou should try alternatives like [PDF.js][1] running locally in your device, instead of a service like Google Docs preview.(Or download PDF first to local file path)\r\n\r\nPut it in your assets folder and tweak the example:\r\n\r\n    wv.loadUrl(&quot;file:///android_asset/web/viewer.html&quot;);\r\n\r\nAlso,  you can have Out Of Memory situations. An alternative to try is a native viewer like [AndroidPdfViewer][2].\r\n\r\n\r\n  [1]: https://mozilla.github.io/pdf.js/getting_started/\r\n  [2]: https://github.com/barteksc/AndroidPdfViewer","title":"Android Webview cannot render the pdf sometimes and shows blank/white page instead","body":"<p>After testing second PDF URL file, WebView seems like that can not load large PDF file.</p>\n\n<p><strong>Reason:</strong></p>\n\n<p>WebView display HTML. The fact that this works at all is by a hack- google will convert simple PDFs into HTML. It doesn't seem like they support anything that big. Even if they did, I would expect loading a large page PDF converted to HTML would be so large I highly doubt you'd be able to load it without going OOM. Use an appropriate PDF library, make a real PDF rendering view, and make sure not to render more of the PDF at a time than you need (or else you'll go OOM anyway). In other words, don't rely on hacky solutions you never should have relied on in the first place.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>You should try alternatives like <a href=\"https://mozilla.github.io/pdf.js/getting_started/\" rel=\"nofollow noreferrer\">PDF.js</a> running locally in your device, instead of a service like Google Docs preview.(Or download PDF first to local file path)</p>\n\n<p>Put it in your assets folder and tweak the example:</p>\n\n<pre><code>wv.loadUrl(\"file:///android_asset/web/viewer.html\");\n</code></pre>\n\n<p>Also,  you can have Out Of Memory situations. An alternative to try is a native viewer like <a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">AndroidPdfViewer</a>.</p>\n"},{"tags":[],"owner":{"account_id":15036420,"reputation":479,"user_id":10852660,"display_name":"Michelangelo Pucci"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1566055870,"creation_date":1566053884,"answer_id":57537377,"question_id":55829446,"body_markdown":"You can reload the page until it displays the pdf in this way:\r\n\r\n    public void onPageFinished(WebView view, String url) {\r\n    if (view.getTitle().equals(&quot;&quot;))\r\n        view.reload();\r\n    }","title":"Android Webview cannot render the pdf sometimes and shows blank/white page instead","body":"<p>You can reload the page until it displays the pdf in this way:</p>\n\n<pre><code>public void onPageFinished(WebView view, String url) {\nif (view.getTitle().equals(\"\"))\n    view.reload();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11674272,"reputation":423,"user_id":8548371,"display_name":"Gopal Awasthi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586237855,"creation_date":1575888311,"answer_id":59247174,"question_id":55829446,"body_markdown":"We can solve the Problem in the two ways.\r\n 1. One is to use the Js.Pdf Plugin on the server end. It surely solve the problem but if we have multiple pdf&#39;s in the Fragment then it may cause the out of memory situations\r\nand app can crash.\r\n 2. Second option is we can recursively called the function to load webview. This will also cause the issue but with less frequency Below is the code:\r\n```\r\nprivate void showPdf(final String imageString) {\r\npdfView.invalidate();\r\npdfView.getSettings().setJavaScriptEnabled(true);\r\npdfView.getSettings().setSupportZoom(true);\r\npdfView.loadUrl(&quot;http://docs.google.com/gview?embedded=true&amp;url=&quot; + imageString);\r\npdfView.setWebViewClient(new WebViewClient() {\r\n    boolean checkhasOnPageStarted = false;\r\n\r\n    @Override\r\n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n        checkhasOnPageStarted = true;\r\n    }\r\n\r\n    @Override\r\n    public void onPageFinished(WebView view, String url) {\r\n        if (checkhasOnPageStarted ) {\r\n            pdfView.loadUrl(removePdfTopIcon);\r\n        } else {\r\n            showPdf(imageString);\r\n        }\r\n    }\r\n});\r\n}\r\n```\r\n    ","title":"Android Webview cannot render the pdf sometimes and shows blank/white page instead","body":"<p>We can solve the Problem in the two ways.\n 1. One is to use the Js.Pdf Plugin on the server end. It surely solve the problem but if we have multiple pdf's in the Fragment then it may cause the out of memory situations\nand app can crash.\n 2. Second option is we can recursively called the function to load webview. This will also cause the issue but with less frequency Below is the code:</p>\n\n<pre><code>private void showPdf(final String imageString) {\npdfView.invalidate();\npdfView.getSettings().setJavaScriptEnabled(true);\npdfView.getSettings().setSupportZoom(true);\npdfView.loadUrl(\"http://docs.google.com/gview?embedded=true&amp;url=\" + imageString);\npdfView.setWebViewClient(new WebViewClient() {\n    boolean checkhasOnPageStarted = false;\n\n    @Override\n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\n        checkhasOnPageStarted = true;\n    }\n\n    @Override\n    public void onPageFinished(WebView view, String url) {\n        if (checkhasOnPageStarted ) {\n            pdfView.loadUrl(removePdfTopIcon);\n        } else {\n            showPdf(imageString);\n        }\n    }\n});\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18391947,"reputation":309,"user_id":13397413,"display_name":"Michael Plischke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588662401,"creation_date":1588662401,"answer_id":61607590,"question_id":55829446,"body_markdown":"I was having the exact same issue and found that there was always a chance the WebView would not load on the first load attempt, especially if the pdf was on the larger side. The code I put together below works 100% of the time. From my beginner&#39;s understanding, it safely utilizes a separate thread to loop through and test the load status of the WebView, re-attempting a load of the view until successful. As this question was posted a year ago, I have generalized my solution to best benefit new viewers.\r\n\r\n    public class WebViewActivity extends AppCompatActivity {\r\n\r\n    String PDFView;\r\n    WebView webView;\r\n    String PDFBrowserView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //Get the intended &quot;PDFView&quot;\r\n        PDFView = getIntent().getExtras().get(&quot;PDFView&quot;).toString();\r\n        //Have to manually encode (?) the url to display it\r\n        try {\r\n            PDFView = URLEncoder.encode(PDFView, &quot;UTF-8&quot;);\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        //Full display url\r\n        PDFBrowserView = &quot;https://docs.google.com/gview?embedded=true&amp;url=&quot; + PDFView;\r\n        \r\n        //Initialize a new &quot;WebView&quot; instance\r\n        webView = new WebView(WebViewActivity.this);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setAllowFileAccessFromFileURLs(true);\r\n        webView.getSettings().setAllowUniversalAccessFromFileURLs(true);\r\n        webView.getSettings().setBuiltInZoomControls(true);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setPluginState(WebSettings.PluginState.ON);\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        webView.getSettings().setUseWideViewPort(true);\r\n        //This handles callbacks (?)\r\n        webView.setWebChromeClient(new WebChromeClient());\r\n\r\n        //Call this to load page if page is blank with pdf url until page is not blank\r\n        checkPageFinished();\r\n    }\r\n\r\n    public void checkPageFinished() {\r\n        //If view is blank:\r\n        if (webView.getContentHeight() == 0) {\r\n\r\n            //Run off main thread to control delay\r\n            webView.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //Load url into the &quot;WebView&quot;\r\n                    webView.loadUrl(PDFBrowserView);\r\n                }\r\n                //Set 1s delay to give the view a longer chance to load before \r\n                // setting the view (or more likely to display blank)\r\n            }, 1000);\r\n            //Set the view with the selected pdf\r\n            setContentView(webView);\r\n            \r\n            webView.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //If view is still blank:\r\n                    if (webView.getContentHeight() == 0) {\r\n                        //Loop until it works\r\n                        checkPageFinished();\r\n                    }\r\n                }\r\n                //Safely loop this function after 1.5s delay if page is not loaded\r\n            }, 1500);\r\n\r\n            }\r\n        }\r\n    }","title":"Android Webview cannot render the pdf sometimes and shows blank/white page instead","body":"<p>I was having the exact same issue and found that there was always a chance the WebView would not load on the first load attempt, especially if the pdf was on the larger side. The code I put together below works 100% of the time. From my beginner's understanding, it safely utilizes a separate thread to loop through and test the load status of the WebView, re-attempting a load of the view until successful. As this question was posted a year ago, I have generalized my solution to best benefit new viewers.</p>\n\n<pre><code>public class WebViewActivity extends AppCompatActivity {\n\nString PDFView;\nWebView webView;\nString PDFBrowserView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    //Get the intended \"PDFView\"\n    PDFView = getIntent().getExtras().get(\"PDFView\").toString();\n    //Have to manually encode (?) the url to display it\n    try {\n        PDFView = URLEncoder.encode(PDFView, \"UTF-8\");\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    }\n    //Full display url\n    PDFBrowserView = \"https://docs.google.com/gview?embedded=true&amp;url=\" + PDFView;\n\n    //Initialize a new \"WebView\" instance\n    webView = new WebView(WebViewActivity.this);\n    webView.getSettings().setJavaScriptEnabled(true);\n    webView.getSettings().setAllowFileAccessFromFileURLs(true);\n    webView.getSettings().setAllowUniversalAccessFromFileURLs(true);\n    webView.getSettings().setBuiltInZoomControls(true);\n    webView.getSettings().setJavaScriptEnabled(true);\n    webView.getSettings().setPluginState(WebSettings.PluginState.ON);\n    webView.getSettings().setDomStorageEnabled(true);\n    webView.getSettings().setLoadWithOverviewMode(true);\n    webView.getSettings().setUseWideViewPort(true);\n    //This handles callbacks (?)\n    webView.setWebChromeClient(new WebChromeClient());\n\n    //Call this to load page if page is blank with pdf url until page is not blank\n    checkPageFinished();\n}\n\npublic void checkPageFinished() {\n    //If view is blank:\n    if (webView.getContentHeight() == 0) {\n\n        //Run off main thread to control delay\n        webView.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                //Load url into the \"WebView\"\n                webView.loadUrl(PDFBrowserView);\n            }\n            //Set 1s delay to give the view a longer chance to load before \n            // setting the view (or more likely to display blank)\n        }, 1000);\n        //Set the view with the selected pdf\n        setContentView(webView);\n\n        webView.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                //If view is still blank:\n                if (webView.getContentHeight() == 0) {\n                    //Loop until it works\n                    checkPageFinished();\n                }\n            }\n            //Safely loop this function after 1.5s delay if page is not loaded\n        }, 1500);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11269651,"reputation":3686,"user_id":8265484,"display_name":"Mayur Dabhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600169216,"creation_date":1600169216,"answer_id":63900835,"question_id":55829446,"body_markdown":"Tested in multiple devices and working within API 29\r\n\r\nin Kotlin \r\n\r\n     val webSettings: WebSettings = webview.settings\r\n        webSettings.javaScriptEnabled = true\r\n        webSettings.useWideViewPort = true\r\n        webSettings.loadWithOverviewMode = true\r\n        webSettings.domStorageEnabled = true\r\n\r\n        webview.webViewClient = AppWebViewClients()\r\n    // val TERM_CONDITION_URL = &quot;http://docs.google.com/gview?embedded=true&amp;url=&quot;\r\n    //          + &quot;YOUR_DOC_URL_HERE&quot;\r\n\r\n       bindind?.webview?.loadUrl(TERM_CONDITION_URL) \r\n\r\nand here  ``AppWebViewClients``  class\r\n\r\n        class AppWebViewClients : WebViewClient() {\r\n        override fun shouldOverrideUrlLoading(view: WebView, url: String?): Boolean {\r\n            view.loadUrl(url)\r\n            return true\r\n        }\r\n\r\n        override fun onPageFinished(view: WebView?, url: String?) {\r\n            if (view?.contentHeight == 0)\r\n                view?.reload();\r\n            else {\r\n                super.onPageFinished(view, url)\r\n            }\r\n        }\r\n    }\r\n","title":"Android Webview cannot render the pdf sometimes and shows blank/white page instead","body":"<p>Tested in multiple devices and working within API 29</p>\n<p>in Kotlin</p>\n<pre><code> val webSettings: WebSettings = webview.settings\n    webSettings.javaScriptEnabled = true\n    webSettings.useWideViewPort = true\n    webSettings.loadWithOverviewMode = true\n    webSettings.domStorageEnabled = true\n\n    webview.webViewClient = AppWebViewClients()\n// val TERM_CONDITION_URL = &quot;http://docs.google.com/gview?embedded=true&amp;url=&quot;\n//          + &quot;YOUR_DOC_URL_HERE&quot;\n\n   bindind?.webview?.loadUrl(TERM_CONDITION_URL) \n</code></pre>\n<p>and here  <code>AppWebViewClients</code>  class</p>\n<pre><code>    class AppWebViewClients : WebViewClient() {\n    override fun shouldOverrideUrlLoading(view: WebView, url: String?): Boolean {\n        view.loadUrl(url)\n        return true\n    }\n\n    override fun onPageFinished(view: WebView?, url: String?) {\n        if (view?.contentHeight == 0)\n            view?.reload();\n        else {\n            super.onPageFinished(view, url)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5736687,"reputation":354,"user_id":4530614,"display_name":"alphaplus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635352157,"creation_date":1635352157,"answer_id":69742340,"question_id":55829446,"body_markdown":"I think you should do as below:\r\n\r\n    public void onPageFinished(WebView view, String url) {\r\n    \r\n        if (!view.getUrl().equals(url)) {\r\n           view.loadUrl(url);\r\n           return;\r\n        }\r\n    }","title":"Android Webview cannot render the pdf sometimes and shows blank/white page instead","body":"<p>I think you should do as below:</p>\n<pre><code>public void onPageFinished(WebView view, String url) {\n\n    if (!view.getUrl().equals(url)) {\n       view.loadUrl(url);\n       return;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7200491,"reputation":3987,"user_id":5497874,"display_name":"Nikunj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648202860,"creation_date":1648202860,"answer_id":71615181,"question_id":55829446,"body_markdown":"There are some ways through which we can identify **whether a Page/URL is loaded properly or not** from **`onPageFinished()`** method of the Webview and based on that **`reload()`** url.\r\n\r\n#### **Option 1 :** To check with **`contentHeight`** of the webview.\r\n\r\n    override fun onPageFinished(view: WebView?, url: String?) {\r\n        if(view?.contentHeight == 0){\r\n    \t\tview?.reload()\r\n    \t\treturn\r\n    \t}\r\n    \tsuper.onPageFinished(view, url)\r\n    }\r\n        \r\n#### **Option 2 :** To check with **`title`** of the webview.\r\n\r\n    override fun onPageFinished(view: WebView?, url: String?) {\r\n        if(view?.title.isNullOrEmpty()){\r\n    \t\tview?.reload()\r\n    \t\treturn\r\n    \t}\r\n    \tsuper.onPageFinished(view, url)\r\n    }","title":"Android Webview cannot render the pdf sometimes and shows blank/white page instead","body":"<p>There are some ways through which we can identify <strong>whether a Page/URL is loaded properly or not</strong> from <strong><code>onPageFinished()</code></strong> method of the Webview and based on that <strong><code>reload()</code></strong> url.</p>\n<h4><strong>Option 1 :</strong> To check with <strong><code>contentHeight</code></strong> of the webview.</h4>\n<pre><code>override fun onPageFinished(view: WebView?, url: String?) {\n    if(view?.contentHeight == 0){\n        view?.reload()\n        return\n    }\n    super.onPageFinished(view, url)\n}\n    \n</code></pre>\n<h4><strong>Option 2 :</strong> To check with <strong><code>title</code></strong> of the webview.</h4>\n<pre><code>override fun onPageFinished(view: WebView?, url: String?) {\n    if(view?.title.isNullOrEmpty()){\n        view?.reload()\n        return\n    }\n    super.onPageFinished(view, url)\n}\n</code></pre>\n"}],"owner":{"account_id":11674272,"reputation":423,"user_id":8548371,"display_name":"Gopal Awasthi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7236,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":7,"score":19,"last_activity_date":1648202860,"creation_date":1556106829,"question_id":55829446,"body_markdown":"- Open the pdf in the webview using google docs \r\n- Open the same pdf or different pdf again and again.\r\n- Sometimes it will show the blank/white page in the android untill we refresh the webpage again for 1 or 2 times.\r\n\r\nI have made the sample on the pdf. The link for the project is shown below:\r\n\r\nhttps://github.com/gopalawasthi123/PdfWebView\r\n\r\nHope this will help you Better.\r\n\r\n    public void SetWebView(WebView webview,string externalUrl){\r\n    \t\t\twebview.Tag = &quot;webview&quot;;\r\n    \t\t\twebview.Settings.JavaScriptEnabled = true;\r\n    \t\t\twebview.Settings.SupportZoom ();\r\n    \t\t\twebview.Settings.SetAppCacheEnabled(true);\r\n    \t\t\twebview.Settings.DomStorageEnabled = true;\r\n    \t\t\twebview.ZoomOut ();\r\n    \t\t\twebview.ZoomIn ();\r\n    \t\t\twebview.Settings.BuiltInZoomControls = true;\r\n    \t\t\twebview.Settings.LoadWithOverviewMode = true;\r\n    \t\t\twebview.Settings.UseWideViewPort = true;\r\n    \t\t\t//webview.Settings.SetSupportZoom (true);\r\n    \t\t\twebview.Settings.SetPluginState (WebSettings.PluginState.On);\r\n    \t\t\twebview.Settings.GetPluginState ();\r\n                if (externalUrl.StartsWith(&quot;http://&quot;) || externalUrl.StartsWith(&quot;https://&quot;))\r\n                    webview.LoadUrl (externalUrl);\r\n    \t\t\twebview.SetWebViewClient (new MonkeyWebViewClient (imgViewBack, imgViewForward, imgRefresh));\r\n    \t\t\twebview.SetWebChromeClient (new WebChromeClient ());\r\n    \t\t}","title":"Android Webview cannot render the pdf sometimes and shows blank/white page instead","body":"<ul>\n<li>Open the pdf in the webview using google docs </li>\n<li>Open the same pdf or different pdf again and again.</li>\n<li>Sometimes it will show the blank/white page in the android untill we refresh the webpage again for 1 or 2 times.</li>\n</ul>\n\n<p>I have made the sample on the pdf. The link for the project is shown below:</p>\n\n<p><a href=\"https://github.com/gopalawasthi123/PdfWebView\" rel=\"noreferrer\">https://github.com/gopalawasthi123/PdfWebView</a></p>\n\n<p>Hope this will help you Better.</p>\n\n<pre><code>public void SetWebView(WebView webview,string externalUrl){\n            webview.Tag = \"webview\";\n            webview.Settings.JavaScriptEnabled = true;\n            webview.Settings.SupportZoom ();\n            webview.Settings.SetAppCacheEnabled(true);\n            webview.Settings.DomStorageEnabled = true;\n            webview.ZoomOut ();\n            webview.ZoomIn ();\n            webview.Settings.BuiltInZoomControls = true;\n            webview.Settings.LoadWithOverviewMode = true;\n            webview.Settings.UseWideViewPort = true;\n            //webview.Settings.SetSupportZoom (true);\n            webview.Settings.SetPluginState (WebSettings.PluginState.On);\n            webview.Settings.GetPluginState ();\n            if (externalUrl.StartsWith(\"http://\") || externalUrl.StartsWith(\"https://\"))\n                webview.LoadUrl (externalUrl);\n            webview.SetWebViewClient (new MonkeyWebViewClient (imgViewBack, imgViewForward, imgRefresh));\n            webview.SetWebChromeClient (new WebChromeClient ());\n        }\n</code></pre>\n"},{"tags":["java","sql","database","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648202725,"creation_date":1648200076,"answer_id":71614620,"question_id":71612894,"body_markdown":"Have a look at [cascade types][1]. By adding a cascade type, you could save both objects with just 1 repository call.\r\n\r\n```java\r\n@Entity\r\npublic class Order {\r\n    // other fields...\r\n    @OneToMany(mappedBy = &quot;person&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;Order&gt; orders;\r\n}\r\n\r\n@Entity\r\npublic class Person {\r\n    // other fields...\r\n    @ManyToOne\r\n    private Person person;\r\n}\r\n\r\nOrder order = new Order();\r\nPerson person = new Person();\r\nperson.setOrders(List.of(order));\r\norder.setPerson(person);\r\npersonRepository.save(person); // &lt;--- since save action on person cascades, it will also save the order.\r\n```\r\n\r\nMake sure that the objects are linked to each other before saving (the 2 rows above the repository call in the example above)\r\n\r\n\r\n**Regarding fetching data**\r\nIf you call e.g. the personRepository and it has orders linked to it, you can either access them by configuring [eager fetch][2] (not recommended) or by wrapping your method in a Transactional annotation and access the orders programmatically instead.\r\n\r\n```java\r\n@Transactional\r\npublic void doSomething() {\r\n    Person person = personRepository.findById(1);\r\n    List&lt;Order&gt; orders = person.getOrders();\r\n}\r\n```\r\n\r\nNote that from a db perspective, in both scenarios with saving and fetching data, the same number of queries will be executed as when calling with separate repositories, but you reduce the code needed to do so and its a bit easier to work inside a transaction and only focus on the java object instead of having to call multiple repositories, especially as your db data model grows.\r\n\r\n  [1]: https://www.baeldung.com/jpa-cascade-types\r\n  [2]: https://www.baeldung.com/hibernate-lazy-eager-loading","title":"Adding and retrieving the data from relational database using spring data jpa","body":"<p>Have a look at <a href=\"https://www.baeldung.com/jpa-cascade-types\" rel=\"nofollow noreferrer\">cascade types</a>. By adding a cascade type, you could save both objects with just 1 repository call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Order {\n    // other fields...\n    @OneToMany(mappedBy = &quot;person&quot;, cascade = CascadeType.ALL)\n    private List&lt;Order&gt; orders;\n}\n\n@Entity\npublic class Person {\n    // other fields...\n    @ManyToOne\n    private Person person;\n}\n\nOrder order = new Order();\nPerson person = new Person();\nperson.setOrders(List.of(order));\norder.setPerson(person);\npersonRepository.save(person); // &lt;--- since save action on person cascades, it will also save the order.\n</code></pre>\n<p>Make sure that the objects are linked to each other before saving (the 2 rows above the repository call in the example above)</p>\n<p><strong>Regarding fetching data</strong>\nIf you call e.g. the personRepository and it has orders linked to it, you can either access them by configuring <a href=\"https://www.baeldung.com/hibernate-lazy-eager-loading\" rel=\"nofollow noreferrer\">eager fetch</a> (not recommended) or by wrapping your method in a Transactional annotation and access the orders programmatically instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void doSomething() {\n    Person person = personRepository.findById(1);\n    List&lt;Order&gt; orders = person.getOrders();\n}\n</code></pre>\n<p>Note that from a db perspective, in both scenarios with saving and fetching data, the same number of queries will be executed as when calling with separate repositories, but you reduce the code needed to do so and its a bit easier to work inside a transaction and only focus on the java object instead of having to call multiple repositories, especially as your db data model grows.</p>\n"}],"owner":{"account_id":22596504,"reputation":143,"user_id":16778721,"display_name":"Vishnupriya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648202725,"creation_date":1648189236,"question_id":71612894,"body_markdown":"I am using spring data jpa\r\n\r\nI have two tables person, order\r\n\r\nBoth have relationship like one to many from person to order \r\norder(person_id) -&gt; person(id)\r\n```\r\ncreate table person (id int primary key, name varchar(20));\r\ncreate table order (id int primary key, name varchar(20), person_id foreign key references person(id));\r\n```\r\nConsider i have schema in place for both tables and there is no data yet.\r\nI need to insert this data - \r\n```\r\nPerson  {name: &quot;person1&quot;}\r\nOrder {name: &quot;order1&quot;, person_id: &lt;corresponding to person1 record&gt;}\r\n```\r\nDoes inserting the data related by foreign key needs two calls to db?\r\n 1. saving the person\r\n 2. take the primary key from the saved person entity (step 1) then save Order?\r\n```\r\n    Person person = new Person(&quot;person1&quot;);\r\n    Person person = personRepository.save(person);\r\n    \r\n    Order order = new Order(&quot;order1&quot;);\r\n    order.setPersonId(person.getId());\r\n    orderRepository.save(order);\r\n```\r\nOr is there any alternative to save data to two tables using single call to db?\r\n\r\n**Retrieving the data**\r\nIf i need to retrieve the person along with orders, will spring data jpa give the result in single db call or need to extract data from two tables separately?\r\n```\r\nPerson person = personRepository.findByName(&quot;person1&quot;).get();   \\\\for eg: consider name is unique here\r\nList&lt;Order&gt; orders = orderRepository.findByPersonId(person.getId());\r\n```\r\nor any alternative in single db call?\r\n\r\nGiving clarity to these questions is really appreciated.\r\n\r\nThanks for the answers in advance.\r\n\r\n","title":"Adding and retrieving the data from relational database using spring data jpa","body":"<p>I am using spring data jpa</p>\n<p>I have two tables person, order</p>\n<p>Both have relationship like one to many from person to order\norder(person_id) -&gt; person(id)</p>\n<pre><code>create table person (id int primary key, name varchar(20));\ncreate table order (id int primary key, name varchar(20), person_id foreign key references person(id));\n</code></pre>\n<p>Consider i have schema in place for both tables and there is no data yet.\nI need to insert this data -</p>\n<pre><code>Person  {name: &quot;person1&quot;}\nOrder {name: &quot;order1&quot;, person_id: &lt;corresponding to person1 record&gt;}\n</code></pre>\n<p>Does inserting the data related by foreign key needs two calls to db?</p>\n<ol>\n<li>saving the person</li>\n<li>take the primary key from the saved person entity (step 1) then save Order?</li>\n</ol>\n<pre><code>    Person person = new Person(&quot;person1&quot;);\n    Person person = personRepository.save(person);\n    \n    Order order = new Order(&quot;order1&quot;);\n    order.setPersonId(person.getId());\n    orderRepository.save(order);\n</code></pre>\n<p>Or is there any alternative to save data to two tables using single call to db?</p>\n<p><strong>Retrieving the data</strong>\nIf i need to retrieve the person along with orders, will spring data jpa give the result in single db call or need to extract data from two tables separately?</p>\n<pre><code>Person person = personRepository.findByName(&quot;person1&quot;).get();   \\\\for eg: consider name is unique here\nList&lt;Order&gt; orders = orderRepository.findByPersonId(person.getId());\n</code></pre>\n<p>or any alternative in single db call?</p>\n<p>Giving clarity to these questions is really appreciated.</p>\n<p>Thanks for the answers in advance.</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":11178657,"reputation":145,"user_id":8424334,"display_name":"Abhishek C. Gidde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607097805,"creation_date":1607097805,"answer_id":65146822,"question_id":65121672,"body_markdown":"So after rummaging through the whole code I found out\r\n[&quot;new OnCompleteListener&lt;AuthResult&gt;()&quot; was grayed out][1] and the IDE suggested &quot;Anonymous new OnCompleteListener&lt;AuthResult&gt;() can be replaced with lambda&quot;,&lt;br&gt; So I replaced it with lambda &lt;br&gt;\r\nAnd surprisingly enough the app now works on actual device as well.&lt;br&gt;\r\n&lt;br&gt;\r\n[BEFORE THE LAMBDA][1] \r\n```\r\n mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {....\r\n```\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n[AFTER THE LAMBDA][2]\r\n\r\n```\r\n mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(this, task -&gt; {...\r\n```\r\n\r\nAlthough I am still confused on why in one project the &quot;new onCompleteListener...&quot; was not greyed out and worked fine but in another project it needed to be replaced with a lambda function.\r\n&lt;br&gt;&lt;br&gt;\r\nand now the question is why does the app works fine on the emulator regardless of the lambda functions presence and it needed lambda to work on an actual device.\r\n\r\n  [1]: https://i.stack.imgur.com/MebD2.png\r\n  [2]: https://i.stack.imgur.com/4dvBm.png","title":"Firebase Auth gives ViewPostIme pointer 1 While running on a physical device but work on Android Emulator ( Firebase works only on emulator )","body":"<p>So after rummaging through the whole code I found out\n<a href=\"https://i.stack.imgur.com/MebD2.png\" rel=\"nofollow noreferrer\">&quot;new OnCompleteListener()&quot; was grayed out</a> and the IDE suggested &quot;Anonymous new OnCompleteListener() can be replaced with lambda&quot;,<br> So I replaced it with lambda <br>\nAnd surprisingly enough the app now works on actual device as well.<br>\n<br>\n<a href=\"https://i.stack.imgur.com/MebD2.png\" rel=\"nofollow noreferrer\">BEFORE THE LAMBDA</a></p>\n<pre><code> mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {....\n</code></pre>\n<br>\n<br>\n<p><a href=\"https://i.stack.imgur.com/4dvBm.png\" rel=\"nofollow noreferrer\">AFTER THE LAMBDA</a></p>\n<pre><code> mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(this, task -&gt; {...\n</code></pre>\n<p>Although I am still confused on why in one project the &quot;new onCompleteListener...&quot; was not greyed out and worked fine but in another project it needed to be replaced with a lambda function.\n<br><br>\nand now the question is why does the app works fine on the emulator regardless of the lambda functions presence and it needed lambda to work on an actual device.</p>\n"}],"owner":{"account_id":11178657,"reputation":145,"user_id":8424334,"display_name":"Abhishek C. Gidde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648202388,"creation_date":1606981142,"question_id":65121672,"body_markdown":"&lt;b&gt;UPDATE:&lt;/b&gt; Any project that uses firebase is working only on emulator, I tried.&lt;br&gt;\r\n*THE APP WORKS AS INTENDED ONLY IN THE EMULATOR*\r\n\r\nWhen I test the app on a physical device, I get the following.\r\n[LogCat output screenshot][1]\r\n\r\nThis is the LogCat output evertime I click my login button\r\n&lt;br&gt;Here is my &lt;b&gt;MainActivity.java&lt;/b&gt; file\r\n```\r\npackage com.abg.logintest;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n    private FirebaseAuth mAuth;\r\n    TextInputEditText email,pass;\r\n    String emailText,password;\r\n    Button login;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        email = findViewById(R.id.email);\r\n        pass = findViewById(R.id.pass);\r\n\r\n        login = findViewById(R.id.button);\r\n        login.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        updateUI(currentUser);\r\n    }\r\n    private void loginUser(String email, String password){\r\n        mAuth.signInWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user&#39;s information\r\n                            Log.d(&quot;TAG&quot;, &quot;signInWithEmail:success&quot;);\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n                            updateUI(user);\r\n                        } else {\r\n                            // If sign in fails, display a message to the user.\r\n                            Log.w(&quot;TAG&quot;, &quot;signInWithEmail:failure&quot;, task.getException());\r\n                            Toast.makeText(MainActivity.this, &quot;Authentication failed.&quot;,\r\n                                    Toast.LENGTH_SHORT).show();\r\n                            updateUI(null);\r\n                        }\r\n\r\n                        // ...\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void updateUI(FirebaseUser currentUser) {\r\n        if(currentUser!=null)\r\n        Log.d(&quot;login&quot;,currentUser.getEmail());\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        emailText = email.getText().toString();\r\n        password = pass.getText().toString();\r\n        loginUser(emailText,password);\r\n    }\r\n}\r\n```\r\n&lt;br&gt;Here is the &lt;b&gt;Main Activity XML&lt;/b&gt;\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;email&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.265&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/email&quot;&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInputLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;password&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/pass&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Login&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\nI have included all dependencies that are required to run firebase\r\n\r\n[My Module level dependencies :APP][2]\r\n\r\n\r\n[Permissions I have mentioned in my Manifest file][3]\r\n&lt;br&gt;\r\nAny help would be appreciated, thank you.\r\n  [1]: https://i.stack.imgur.com/u8XY8.png\r\n  [2]: https://i.stack.imgur.com/lIm6a.png\r\n  [3]: https://i.stack.imgur.com/5kBVy.png","title":"Firebase Auth gives ViewPostIme pointer 1 While running on a physical device but work on Android Emulator ( Firebase works only on emulator )","body":"<p><b>UPDATE:</b> Any project that uses firebase is working only on emulator, I tried.<br>\n<em>THE APP WORKS AS INTENDED ONLY IN THE EMULATOR</em></p>\n<p>When I test the app on a physical device, I get the following.\n[LogCat output screenshot][1]</p>\n<p>This is the LogCat output evertime I click my login button\n<br>Here is my <b>MainActivity.java</b> file</p>\n<pre><code>package com.abg.logintest;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.textfield.TextInputEditText;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n    private FirebaseAuth mAuth;\n    TextInputEditText email,pass;\n    String emailText,password;\n    Button login;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mAuth = FirebaseAuth.getInstance();\n        email = findViewById(R.id.email);\n        pass = findViewById(R.id.pass);\n\n        login = findViewById(R.id.button);\n        login.setOnClickListener(this);\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        // Check if user is signed in (non-null) and update UI accordingly.\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        updateUI(currentUser);\n    }\n    private void loginUser(String email, String password){\n        mAuth.signInWithEmailAndPassword(email, password)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            // Sign in success, update UI with the signed-in user's information\n                            Log.d(&quot;TAG&quot;, &quot;signInWithEmail:success&quot;);\n                            FirebaseUser user = mAuth.getCurrentUser();\n                            updateUI(user);\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Log.w(&quot;TAG&quot;, &quot;signInWithEmail:failure&quot;, task.getException());\n                            Toast.makeText(MainActivity.this, &quot;Authentication failed.&quot;,\n                                    Toast.LENGTH_SHORT).show();\n                            updateUI(null);\n                        }\n\n                        // ...\n                    }\n                });\n    }\n\n    private void updateUI(FirebaseUser currentUser) {\n        if(currentUser!=null)\n        Log.d(&quot;login&quot;,currentUser.getEmail());\n    }\n\n    @Override\n    public void onClick(View v) {\n        emailText = email.getText().toString();\n        password = pass.getText().toString();\n        loginUser(emailText,password);\n    }\n}\n</code></pre>\n<p><br>Here is the <b>Main Activity XML</b></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;email&quot;\n        android:padding=&quot;10dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.265&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/email&quot;&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/textInputLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;password&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/pass&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;/com.google.android.material.textfield.TextInputEditText&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Login&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textInputLayout&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I have included all dependencies that are required to run firebase</p>\n<p>[My Module level dependencies :APP][2]</p>\n<p>[Permissions I have mentioned in my Manifest file][3]\n<br>\nAny help would be appreciated, thank you.\n[1]: https://i.stack.imgur.com/u8XY8.png\n[2]: https://i.stack.imgur.com/lIm6a.png\n[3]: https://i.stack.imgur.com/5kBVy.png</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1648203954,"post_id":71615077,"comment_id":126570463,"body_markdown":"Note that records are not *necessarily* deeply immutable. A record member can be a mutable `List`, for example. [AutoValue](https://github.com/google/auto/blob/master/value/userguide/index.md) and [Lombok](https://projectlombok.org/) are two different approaches to provide what you want, but both are external solutions, there&#39;s no language-level support for fully-mutable &quot;simply types&quot;. Personally I dislike Lombok, due to the way it&#39;s implemented, but AFAIK it&#39;s more popular than AutoValue.","body":"Note that records are not <i>necessarily</i> deeply immutable. A record member can be a mutable <code>List</code>, for example. <a href=\"https://github.com/google/auto/blob/master/value/userguide/index.md\" rel=\"nofollow noreferrer\">AutoValue</a> and <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> are two different approaches to provide what you want, but both are external solutions, there&#39;s no language-level support for fully-mutable &quot;simply types&quot;. Personally I dislike Lombok, due to the way it&#39;s implemented, but AFAIK it&#39;s more popular than AutoValue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648207597,"post_id":71615077,"comment_id":126571786,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24684133,"reputation":1,"user_id":18577552,"display_name":"Razor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648202382,"creation_date":1648202382,"question_id":71615077,"body_markdown":"Using a record seems like a very convenient way to create a basic class. However, it is immutable. Is there a similar keyword that creates a class that can be changed? \r\n\r\nIn other words, is there a way to create a basic class without typing it all out by hand? ","title":"The record keyword in java is convenient. What is the most similar mutable option to easily create a class?","body":"<p>Using a record seems like a very convenient way to create a basic class. However, it is immutable. Is there a similar keyword that creates a class that can be changed?</p>\n<p>In other words, is there a way to create a basic class without typing it all out by hand?</p>\n"},{"tags":["java","binary-search"],"comments":[{"owner":{"account_id":441231,"reputation":1314,"user_id":831211,"display_name":"John V"},"score":0,"creation_date":1648202477,"post_id":71615060,"comment_id":126569986,"body_markdown":"SO is not a homework solution service.","body":"SO is not a homework solution service."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1648202772,"post_id":71615060,"comment_id":126570076,"body_markdown":"Check your condition `if (start &gt; end)  return -1;`. Since you&#39;re incrementing `start` and `end` at each recursive call you&#39;ll also have a situation where `start == end`. In that case you could do the following: 1) check if the value at either of those indices (they are the same) is the target value 2) if it isn&#39;t the target value, check if the index is the first or last of the array and then either return that index +1 or -1. 3) If the index isn&#39;t first or last, check the values at index +/- 1 and return the index for the value whose absolute difference to the target is smallest.","body":"Check your condition <code>if (start &gt; end)  return -1;</code>. Since you&#39;re incrementing <code>start</code> and <code>end</code> at each recursive call you&#39;ll also have a situation where <code>start == end</code>. In that case you could do the following: 1) check if the value at either of those indices (they are the same) is the target value 2) if it isn&#39;t the target value, check if the index is the first or last of the array and then either return that index +1 or -1. 3) If the index isn&#39;t first or last, check the values at index +/- 1 and return the index for the value whose absolute difference to the target is smallest."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1648202840,"post_id":71615060,"comment_id":126570095,"body_markdown":"4) If both values have an equal absolute difference, as is the case with [5.7] and target 6, then decide whether to return the smaller or the larger index.","body":"4) If both values have an equal absolute difference, as is the case with [5.7] and target 6, then decide whether to return the smaller or the larger index."}],"owner":{"account_id":19124590,"reputation":13,"user_id":13967830,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648202268,"creation_date":1648202268,"question_id":71615060,"body_markdown":"say I have a sorted integer array:\r\nint\\[\\] array1 = {1, 3, 5, 7, 9};\r\nint target = 6; // so I am expecting it to return 7 instead of -1\r\n\r\n    public static int binarySearch(int[] array1, int start, int end, int target) {\r\n            if (start &gt; end) \r\n    \t\treturn -1;\r\n    \r\n    \tint m = (start + end) / 2;\r\n    \t\t\r\n    \tif (array[m] == target) \r\n    \t\treturn m;\r\n    \telse if (array[m] &gt; target)\r\n    \t\treturn binarySearch(array, start, m-1, target);\r\n    \telse \r\n    \t\treturn binarySearch(array, m+1, end, target);\r\n    }\r\n\r\nInstead of returning -1, I want to increase &quot;target&quot; value by 1, until there is a nearest larger matching value.\r\nI tried this, but got error...\r\n\r\n    if (start &gt; end) {\r\n          for (int i = end; i &lt; array1.length-end+1; i++) {\r\n               target += 1;\r\n               if (target == array1[i]) {\r\n                   break;}\r\n          }\r\n          return target;\r\n\r\nCan anyone suggest a correction please? Thanks!\r\n\r\nI tried the codes I wrote above, but I got error. Hopefully someone can point out the reasons.","title":"Binary Search Recursion return nearest value","body":"<p>say I have a sorted integer array:\nint[] array1 = {1, 3, 5, 7, 9};\nint target = 6; // so I am expecting it to return 7 instead of -1</p>\n<pre><code>public static int binarySearch(int[] array1, int start, int end, int target) {\n        if (start &gt; end) \n        return -1;\n\n    int m = (start + end) / 2;\n        \n    if (array[m] == target) \n        return m;\n    else if (array[m] &gt; target)\n        return binarySearch(array, start, m-1, target);\n    else \n        return binarySearch(array, m+1, end, target);\n}\n</code></pre>\n<p>Instead of returning -1, I want to increase &quot;target&quot; value by 1, until there is a nearest larger matching value.\nI tried this, but got error...</p>\n<pre><code>if (start &gt; end) {\n      for (int i = end; i &lt; array1.length-end+1; i++) {\n           target += 1;\n           if (target == array1[i]) {\n               break;}\n      }\n      return target;\n</code></pre>\n<p>Can anyone suggest a correction please? Thanks!</p>\n<p>I tried the codes I wrote above, but I got error. Hopefully someone can point out the reasons.</p>\n"},{"tags":["java","string","escaping"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1648198829,"post_id":71614303,"comment_id":126568693,"body_markdown":"If you&#39;re defining a string literal you need to escape the backslash there as well: `String s = &quot;abc\\\\def&quot;`. Then, since `replaceAll()` takes a regex, you need to escape the backslash in the regex too and since the regex would be added as a literal you&#39;d need double escaping: `replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;)` (`&quot;\\\\\\\\&quot;` to get the regex ``\\\\``).","body":"If you&#39;re defining a string literal you need to escape the backslash there as well: <code>String s = &quot;abc\\\\def&quot;</code>. Then, since <code>replaceAll()</code> takes a regex, you need to escape the backslash in the regex too and since the regex would be added as a literal you&#39;d need double escaping: <code>replaceAll(&quot;\\\\\\\\&quot;, &quot;&#47;&quot;)</code> (<code>&quot;\\\\\\\\&quot;</code> to get the regex <code>\\\\</code>)."},{"owner":{"account_id":16529042,"reputation":3,"user_id":11942869,"display_name":"MUSKAN RANI"},"score":0,"creation_date":1648199129,"post_id":71614303,"comment_id":126568808,"body_markdown":"but the thing is I can&#39;t change the string. The data is fetched from an excel sheet and I need the string in &quot;abc/def/&quot; format but currently it&#39;s in &quot;abc\\def\\&quot; format.","body":"but the thing is I can&#39;t change the string. The data is fetched from an excel sheet and I need the string in &quot;abc/def/&quot; format but currently it&#39;s in &quot;abc\\def\\&quot; format."},{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1648199221,"post_id":71614303,"comment_id":126568837,"body_markdown":"@MUSKANRANI If the string was fetched from an Excel sheet, you wouldn’t be getting the error message that you posted. That error message *specifically* refers to a literal string in your Java code.","body":"@MUSKANRANI If the string was fetched from an Excel sheet, you wouldn’t be getting the error message that you posted. That error message <i>specifically</i> refers to a literal string in your Java code."},{"owner":{"account_id":16529042,"reputation":3,"user_id":11942869,"display_name":"MUSKAN RANI"},"score":0,"creation_date":1648199424,"post_id":71614303,"comment_id":126568900,"body_markdown":"Yes Konrad I am getting this error because after fetching the data from excel I am storing it in String and then doing the process.\n\nString s = row.getCell(3).getStringCellValue();    // Like this","body":"Yes Konrad I am getting this error because after fetching the data from excel I am storing it in String and then doing the process.  String s = row.getCell(3).getStringCellValue();    // Like this"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1648200347,"post_id":71614303,"comment_id":126569221,"body_markdown":"`String s = row.getCell(3).getStringCellValue();` cannot result in `illegal escape character String s=&quot;abc\\def&quot;;`. That message specifically refers to literals and it already states the literal you&#39;ve used, i.e. `&quot;abc\\def&quot;`. Thus that error probably only occurs in your test code while your actual code probably results in a `PatternSyntaxException` due to the missing regex-escape of the backslash.","body":"<code>String s = row.getCell(3).getStringCellValue();</code> cannot result in <code>illegal escape character String s=&quot;abc\\def&quot;;</code>. That message specifically refers to literals and it already states the literal you&#39;ve used, i.e. <code>&quot;abc\\def&quot;</code>. Thus that error probably only occurs in your test code while your actual code probably results in a <code>PatternSyntaxException</code> due to the missing regex-escape of the backslash."},{"owner":{"account_id":16529042,"reputation":3,"user_id":11942869,"display_name":"MUSKAN RANI"},"score":0,"creation_date":1648200615,"post_id":71614303,"comment_id":126569312,"body_markdown":"Yes correct, Actually previously I was using replaceAll() and now I tried with replace, it is working fine. Thanks","body":"Yes correct, Actually previously I was using replaceAll() and now I tried with replace, it is working fine. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648201582,"creation_date":1648198762,"answer_id":71614354,"question_id":71614303,"body_markdown":"The issue is that Java uses `\\` as the string escape character, but also as the regex escape character, and `replaceAll` performs a regex search. So you need to *doubly escape* the backslash (once to make it a literal `\\` in the string, and once to make it a literal character in the regular expression):\r\n\r\n```\r\nresult = str.replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;);\r\n```\r\n\r\nAlternatively, you don’t actually need regular expressions here, so the following works as well:\r\n\r\n```\r\nresult = str.replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n```\r\n\r\nOr, indeed, using the single-char replacement version:\r\n\r\n```\r\nresult = str.replace(&#39;\\\\&#39;, &#39;/&#39;);\r\n```","title":"How to replace &quot;\\&quot; with &quot;/&quot; in java?","body":"<p>The issue is that Java uses <code>\\</code> as the string escape character, but also as the regex escape character, and <code>replaceAll</code> performs a regex search. So you need to <em>doubly escape</em> the backslash (once to make it a literal <code>\\</code> in the string, and once to make it a literal character in the regular expression):</p>\n<pre><code>result = str.replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;);\n</code></pre>\n<p>Alternatively, you don’t actually need regular expressions here, so the following works as well:</p>\n<pre><code>result = str.replace(&quot;\\\\&quot;, &quot;/&quot;);\n</code></pre>\n<p>Or, indeed, using the single-char replacement version:</p>\n<pre><code>result = str.replace('\\\\', '/');\n</code></pre>\n"}],"owner":{"account_id":16529042,"reputation":3,"user_id":11942869,"display_name":"MUSKAN RANI"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648198858,"accepted_answer_id":71614354,"answer_count":1,"score":0,"last_activity_date":1648201582,"creation_date":1648198502,"question_id":71614303,"body_markdown":"I have a string like s = &quot;abc\\def\\&quot; and I want to replace &quot;\\&quot; with &quot;/&quot; and makes the string like &quot;abc/def/&quot;. \r\n\r\n\r\nI tried `replaceAll(&quot;\\\\&quot;,&quot;/&quot;)` but the compiler is giving error for string \r\n\r\n\r\n&gt; error: illegal escape character\r\n&gt; \t\t String s=&quot;abc\\def\\&quot;; \r\n\r\n","title":"How to replace &quot;\\&quot; with &quot;/&quot; in java?","body":"<p>I have a string like s = &quot;abc\\def&quot; and I want to replace &quot;&quot; with &quot;/&quot; and makes the string like &quot;abc/def/&quot;.</p>\n<p>I tried <code>replaceAll(&quot;\\\\&quot;,&quot;/&quot;)</code> but the compiler is giving error for string</p>\n<blockquote>\n<p>error: illegal escape character\nString s=&quot;abc\\def&quot;;</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1577263654,"post_id":59476665,"comment_id":105130876,"body_markdown":"Java strings are implicitly UTF-16 if I recall correctly, and strings are themselves implemented by a `char[]`, so the answer to your question is probably no.","body":"Java strings are implicitly UTF-16 if I recall correctly, and strings are themselves implemented by a <code>char[]</code>, so the answer to your question is probably no."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1577263724,"post_id":59476665,"comment_id":105130893,"body_markdown":"Anything outside the Unicode [basic multilingual plane](https://en.wikipedia.org/wiki/Plane_(Unicode)) cannot be represented by a single `char`.","body":"Anything outside the Unicode <a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)\" rel=\"nofollow noreferrer\">basic multilingual plane</a> cannot be represented by a single <code>char</code>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1577263757,"post_id":59476665,"comment_id":105130901,"body_markdown":"Define “character”, because AFAIK all “characters” have a 16-bit char code, which means “no”.","body":"Define “character”, because AFAIK all “characters” have a 16-bit char code, which means “no”."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1577264646,"post_id":59476665,"comment_id":105131080,"body_markdown":"@TimBiegeleisen Not that it really matters but Java strings are either Latin-1 or UTF-16, they switch internally. And then they are `byte[]`, `toCharArray()` is not `O(1)`.","body":"@TimBiegeleisen Not that it really matters but Java strings are either Latin-1 or UTF-16, they switch internally. And then they are <code>byte[]</code>, <code>toCharArray()</code> is not <code>O(1)</code>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1577264814,"post_id":59476665,"comment_id":105131121,"body_markdown":"UTF-16 is a variable byte-length encoding. The character `中` needs more than a single `char` to be represented. It consists of `2`. See `System.out.println(&quot;中&quot;.length());` or `System.out.println(Arrays.toString(&quot;中&quot;.toCharArray()));`.","body":"UTF-16 is a variable byte-length encoding. The character <code>中</code> needs more than a single <code>char</code> to be represented. It consists of <code>2</code>. See <code>System.out.println(&quot;中&quot;.length());</code> or <code>System.out.println(Arrays.toString(&quot;中&quot;.toCharArray()));</code>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648201539,"creation_date":1577272771,"answer_id":59477885,"question_id":59476665,"body_markdown":"The terms &quot;character&quot; and &quot;symbol&quot; have overloaded meanings, and probably should be avoided if you are trying to be precise in your meaning.  It is better to talk about Unicode code-points.  (A code-point is a standard representation for a symbol.)\r\n\r\nThe G-clef symbol &#119070; has a Unicode code-point (U+1D12E) that cannot be expressed as a 16 bit character&lt;sup&gt;1&lt;/sup&gt;.  Two 16 bit character (i.e. `char`) values are used to represent this in UTF-16, which is what is the encoding *model* that is used by Java strings&lt;sup&gt;2&lt;/sup&gt;.  (In this case the characters are U+D834 and U+DD1E)\r\n\r\nEmojis are a more common example.\r\n\r\nIn general, any Unicode code-point outside of the Basic Multilingual Plane (BMP) range U+0000 to U+FFFF requires two `char` values to represent it.\r\n\r\nThe chinese ideograph 中 is code-point U+4E2D.  It is in the BMP and requires one 16-bit character.  \r\n\r\nIf you want example of CJK characters (ideographs) outside of the BMP, there are literally thousands of them in code planes 1 and 2.  Unfortunately, most of them don&#39;t have corresponding glyphs in typical fonts, so they won&#39;t *display* properly.  If you are looking for examples that have glyphs, I suggest that you search the Unicode &quot;code plane&quot; pages for:\r\n\r\n  - [Plane 1 - the Supplementary Multilingual Plane][1]\r\n  - [Plane 2 - the Supplementary Ideographic Plane][2]\r\n\r\nSince the characters shown in these pages will be rendered using *your* browser using *your* installed fonts, you should be able to see which ones render to recognizable characters on your computer.\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - I chose this as an example because it is widely used in western music notation, and likely to have a glyph in a typical font.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - Actually, the `String` class models text as either UTF-16 `char` values or Unicode codepoints.  The actual representation is even more nuanced, but this is beyond the scope of this Question.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Plane_(Unicode)#Supplementary_Multilingual_Plane\r\n  [2]: https://en.wikipedia.org/wiki/Plane_(Unicode)#Supplementary_Ideographic_Plane","title":"a character or symbol can not be represented by a char data type in java language","body":"<p>The terms &quot;character&quot; and &quot;symbol&quot; have overloaded meanings, and probably should be avoided if you are trying to be precise in your meaning.  It is better to talk about Unicode code-points.  (A code-point is a standard representation for a symbol.)</p>\n<p>The G-clef symbol 𝄞 has a Unicode code-point (U+1D12E) that cannot be expressed as a 16 bit character<sup>1</sup>.  Two 16 bit character (i.e. <code>char</code>) values are used to represent this in UTF-16, which is what is the encoding <em>model</em> that is used by Java strings<sup>2</sup>.  (In this case the characters are U+D834 and U+DD1E)</p>\n<p>Emojis are a more common example.</p>\n<p>In general, any Unicode code-point outside of the Basic Multilingual Plane (BMP) range U+0000 to U+FFFF requires two <code>char</code> values to represent it.</p>\n<p>The chinese ideograph 中 is code-point U+4E2D.  It is in the BMP and requires one 16-bit character.</p>\n<p>If you want example of CJK characters (ideographs) outside of the BMP, there are literally thousands of them in code planes 1 and 2.  Unfortunately, most of them don't have corresponding glyphs in typical fonts, so they won't <em>display</em> properly.  If you are looking for examples that have glyphs, I suggest that you search the Unicode &quot;code plane&quot; pages for:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)#Supplementary_Multilingual_Plane\" rel=\"nofollow noreferrer\">Plane 1 - the Supplementary Multilingual Plane</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)#Supplementary_Ideographic_Plane\" rel=\"nofollow noreferrer\">Plane 2 - the Supplementary Ideographic Plane</a></li>\n</ul>\n<p>Since the characters shown in these pages will be rendered using <em>your</em> browser using <em>your</em> installed fonts, you should be able to see which ones render to recognizable characters on your computer.</p>\n<hr />\n<p><sup>1 - I chose this as an example because it is widely used in western music notation, and likely to have a glyph in a typical font.</sup></p>\n<p><sup>2 - Actually, the <code>String</code> class models text as either UTF-16 <code>char</code> values or Unicode codepoints.  The actual representation is even more nuanced, but this is beyond the scope of this Question.</sup></p>\n"}],"owner":{"account_id":17382857,"reputation":11,"user_id":12594748,"display_name":"wangchen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1648201539,"creation_date":1577263483,"question_id":59476665,"body_markdown":"Is there a character or symbol that can not be represented using a java primitive **char** data type? \r\nplease show me an example and how to find those characters or symbols, thanks.\r\n\r\n[edit]\r\nis there a chinese character that can not be represented by a **char** type, like char c = &#39;中&#39; is ok.","title":"a character or symbol can not be represented by a char data type in java language","body":"<p>Is there a character or symbol that can not be represented using a java primitive <strong>char</strong> data type? \nplease show me an example and how to find those characters or symbols, thanks.</p>\n\n<p>[edit]\nis there a chinese character that can not be represented by a <strong>char</strong> type, like char c = '中' is ok.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10766816,"reputation":1303,"user_id":7921521,"display_name":"Mazen Embaby"},"score":0,"creation_date":1648201408,"post_id":71614648,"comment_id":126569613,"body_markdown":"The suspend() method of thread class puts the thread from running to waiting state. This method is used if you want to stop the thread execution and start it again when a certain event occurs. This method allows a thread to temporarily cease execution. The suspended thread can be resumed using the resume() method.","body":"The suspend() method of thread class puts the thread from running to waiting state. This method is used if you want to stop the thread execution and start it again when a certain event occurs. This method allows a thread to temporarily cease execution. The suspended thread can be resumed using the resume() method."}],"answers":[{"tags":[],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648200848,"creation_date":1648200848,"answer_id":71614768,"question_id":71614648,"body_markdown":"I won&#39;t say that this answer will be the best one but it shall definitely work in my opinion. Make a boolean variable (initial value false). Within onclicklistener, change the value to true. In for loop, do this\r\n\r\n    for (int count = 0; count &lt; 4; count++) {\r\n        if(boolean_variable){\r\n            count--;\r\n            continue;\r\n        }\r\n\r\nThis will lead to running of loop without performing the operations and without change in count variable as well. In onclicklistener, do like this:\r\n\r\n    boolean_variable = (boolean_variable) ? false : true;","title":"How to perform Pause and Resume inside a loop","body":"<p>I won't say that this answer will be the best one but it shall definitely work in my opinion. Make a boolean variable (initial value false). Within onclicklistener, change the value to true. In for loop, do this</p>\n<pre><code>for (int count = 0; count &lt; 4; count++) {\n    if(boolean_variable){\n        count--;\n        continue;\n    }\n</code></pre>\n<p>This will lead to running of loop without performing the operations and without change in count variable as well. In onclicklistener, do like this:</p>\n<pre><code>boolean_variable = (boolean_variable) ? false : true;\n</code></pre>\n"}],"owner":{"account_id":24683670,"reputation":1,"user_id":18577133,"display_name":"Amar Das"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648200848,"creation_date":1648200189,"question_id":71614648,"body_markdown":"    public void NumberCall() {\r\n\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 1; i &lt;= 4; i++) {\r\n            list.add(new Integer(i));\r\n        }\r\n        Collections.shuffle(list);\r\n        for (int count = 0; count &lt; 4; count++) {\r\n            int num = list.get(count);\r\n    \r\n    \r\n            mHandler = new Handler();\r\n            mHandler.postDelayed(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n    \r\n                    int first = list.get(0);\r\n    \r\n                        if (num == first) {\r\n                            String s = &quot;here is the numbert,&quot;;\r\n                            tts.speak(s, TextToSpeech.QUEUE_FLUSH, null);\r\n                        }\r\n    \r\n                        if (num == 1) {\r\n    \r\n                            String s1 = &quot;Single Number,&quot; + Integer.toString(num);\r\n                            tts.speak(s1, TextToSpeech.QUEUE_FLUSH, null);\r\n                            textpro.setText(String.valueOf(num));\r\n                            Num1Cal();\r\n    \r\n    \r\n                        }\r\n                        if (num == 2) {\r\n    \r\n    \r\n                            String s1 = &quot;Single Number,&quot; + Integer.toString(num);\r\n                            tts.speak(s1, TextToSpeech.QUEUE_FLUSH, null);\r\n                            textpro.setText(String.valueOf(num));\r\n                            Num2Cal();\r\n    \r\n                        }\r\n                        if (num == 3) {\r\n                            String s1 = &quot;Single Number,&quot; + Integer.toString(num);\r\n                            tts.speak(s1, TextToSpeech.QUEUE_FLUSH, null);\r\n                            textpro.setText(String.valueOf(num));\r\n                            b3.setBackgroundResource(R.drawable.round_button1);\r\n                            b3.setTextColor(getResources().getColor(R.color.white));\r\n                        }\r\n                       \r\n    \r\n                        int last = list.get(list.size() - 1);\r\n                        if (num == last) {\r\n                            reset.setEnabled(true);\r\n                            reset.setClickable(true);\r\n                            reset.setTextColor(getResources().getColor(R.color.text_shadow_white));\r\n                        }\r\n                    }\r\n    \r\n    \r\n            }, 3000 * count);\r\n        }\r\n\r\nI need to pause above function onClick event and again resume back it on another click event.","title":"How to perform Pause and Resume inside a loop","body":"<pre><code>public void NumberCall() {\n\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n    for (int i = 1; i &lt;= 4; i++) {\n        list.add(new Integer(i));\n    }\n    Collections.shuffle(list);\n    for (int count = 0; count &lt; 4; count++) {\n        int num = list.get(count);\n\n\n        mHandler = new Handler();\n        mHandler.postDelayed(new Runnable() {\n\n            @Override\n            public void run() {\n\n                int first = list.get(0);\n\n                    if (num == first) {\n                        String s = &quot;here is the numbert,&quot;;\n                        tts.speak(s, TextToSpeech.QUEUE_FLUSH, null);\n                    }\n\n                    if (num == 1) {\n\n                        String s1 = &quot;Single Number,&quot; + Integer.toString(num);\n                        tts.speak(s1, TextToSpeech.QUEUE_FLUSH, null);\n                        textpro.setText(String.valueOf(num));\n                        Num1Cal();\n\n\n                    }\n                    if (num == 2) {\n\n\n                        String s1 = &quot;Single Number,&quot; + Integer.toString(num);\n                        tts.speak(s1, TextToSpeech.QUEUE_FLUSH, null);\n                        textpro.setText(String.valueOf(num));\n                        Num2Cal();\n\n                    }\n                    if (num == 3) {\n                        String s1 = &quot;Single Number,&quot; + Integer.toString(num);\n                        tts.speak(s1, TextToSpeech.QUEUE_FLUSH, null);\n                        textpro.setText(String.valueOf(num));\n                        b3.setBackgroundResource(R.drawable.round_button1);\n                        b3.setTextColor(getResources().getColor(R.color.white));\n                    }\n                   \n\n                    int last = list.get(list.size() - 1);\n                    if (num == last) {\n                        reset.setEnabled(true);\n                        reset.setClickable(true);\n                        reset.setTextColor(getResources().getColor(R.color.text_shadow_white));\n                    }\n                }\n\n\n        }, 3000 * count);\n    }\n</code></pre>\n<p>I need to pause above function onClick event and again resume back it on another click event.</p>\n"},{"tags":["java","spring","spring-boot","java-8","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":8,"creation_date":1584006592,"post_id":60651339,"comment_id":107305195,"body_markdown":"make your lambda call the transactional method or use manual transaction managment. Generally multiline lambda&#39;s are a code smell.","body":"make your lambda call the transactional method or use manual transaction managment. Generally multiline lambda&#39;s are a code smell."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":2,"creation_date":1584006671,"post_id":60651339,"comment_id":107305234,"body_markdown":"Yes, you can&#39;t annotate a variable with this, look at its supported element type: method and type. What is the reason you want to do this? What to you actually get from making a &quot;transactional lambda&quot;?","body":"Yes, you can&#39;t annotate a variable with this, look at its supported element type: method and type. What is the reason you want to do this? What to you actually get from making a &quot;transactional lambda&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":17370380,"reputation":332,"user_id":12584642,"display_name":"Ankur Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584006833,"creation_date":1584006833,"answer_id":60651502,"question_id":60651339,"body_markdown":"@Transactional can be used with public functions only not on the variables. Lambda is not the function declaration. It is like variable declaration.","title":"@Transactional in Lambda Expressions","body":"<p>@Transactional can be used with public functions only not on the variables. Lambda is not the function declaration. It is like variable declaration.</p>\n"},{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584007011,"creation_date":1584007011,"answer_id":60651557,"question_id":60651339,"body_markdown":"`@Transactional` only applicable to methods. Your `saveTransaction` is field.\r\n\r\nTo achieve desired behavior you need:\r\n\r\n* Declare public method and put your code in it.\r\n* Initialize you field with reference to that method. Keep in mind that by default spring use proxy to implement `@Transactional`, so `this.myMethod` won&#39;t work.","title":"@Transactional in Lambda Expressions","body":"<p><code>@Transactional</code> only applicable to methods. Your <code>saveTransaction</code> is field.</p>\n\n<p>To achieve desired behavior you need:</p>\n\n<ul>\n<li>Declare public method and put your code in it.</li>\n<li>Initialize you field with reference to that method. Keep in mind that by default spring use proxy to implement <code>@Transactional</code>, so <code>this.myMethod</code> won't work.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648200799,"creation_date":1584021574,"answer_id":60655673,"question_id":60651339,"body_markdown":"You may use the [Programmatic transaction management](https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/transaction.html#transaction-programmatic) aproach.\r\n\r\n&gt; The Spring Framework provides two means of programmatic transaction\r\n&gt; management:\r\n&gt; \r\n&gt;   - Using the `TransactionTemplate`.\r\n&gt;   - Using a `PlatformTransactionManager` implementation directly. \r\n&gt; \r\n&gt; The Spring team generally recommends the `TransactionTemplate` for\r\n&gt; programmatic transaction management. The second approach is similar to\r\n&gt; using the JTA `UserTransaction` API, although exception handling is\r\n&gt; less cumbersome.\r\n\r\nFirstly inject the `TransactionTemplate` reference in your bean.\r\n\r\n```java\r\n  // single TransactionTemplate shared amongst all methods in this instance\r\n  private final TransactionTemplate transactionTemplate;\r\n```\r\n\r\n**Option 1**\r\n\r\nInitialize your `Consumer&lt;String&gt;` attribute within an initializer method annotated with `@PostConstruct`\r\n\r\n```java\r\n\r\n        @PostConstruct\r\n        public void init() {\r\n            saveTransaction = (uniqueId) -&gt; transactionTemplate.execute(new TransactionCallbackWithoutResult() {\r\n                protected void doInTransactionWithoutResult(TransactionStatus status) {\r\n                      Transaction transaction = new Transaction();\r\n                      transaction.setUniqueId(uniqueId);\r\n                      transactionRepository.save(transaction);\r\n                }\r\n            });\r\n        }\r\n\r\n```\r\n\r\n**Option 2**\r\n\r\nInitialize `Consumer&lt;String&gt;` attribute within constructor\r\n\r\n```java\r\n\r\nprivate final TransactionTemplate transactionTemplate;\r\nprivate final Consumer&lt;String&gt; saveTransaction;\r\n\r\nYourService(TransactionTemplate transactionTemplate) {\r\n    this.transactionTemplate = transactionTemplate;\r\n    saveTransaction = (uniqueId) -&gt; transactionTemplate.execute(new TransactionCallbackWithoutResult() {\r\n             protected void doInTransactionWithoutResult(TransactionStatus status) {\r\n                      Transaction transaction = new Transaction();\r\n                      transaction.setUniqueId(uniqueId);\r\n                      transactionRepository.save(transaction);\r\n                }\r\n            });\r\n}\r\n\r\n```\r\n\r\n\r\nAccording to Spring Docs:\r\n\r\n&gt; Programmatic transaction management is usually a good idea only if you\r\n&gt; have a small number of transactional operations. For example, if you\r\n&gt; have a web application that require transactions only for certain\r\n&gt; update operations, you may not want to set up transactional proxies\r\n&gt; using Spring or any other technology. In this case, using the\r\n&gt; TransactionTemplate may be a good approach. Being able to set the\r\n&gt; transaction name explicitly is also something that can only be done\r\n&gt; using the programmatic approach to transaction management.\r\n","title":"@Transactional in Lambda Expressions","body":"<p>You may use the <a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/transaction.html#transaction-programmatic\" rel=\"nofollow noreferrer\">Programmatic transaction management</a> aproach.</p>\n<blockquote>\n<p>The Spring Framework provides two means of programmatic transaction\nmanagement:</p>\n<ul>\n<li>Using the <code>TransactionTemplate</code>.</li>\n<li>Using a <code>PlatformTransactionManager</code> implementation directly.</li>\n</ul>\n<p>The Spring team generally recommends the <code>TransactionTemplate</code> for\nprogrammatic transaction management. The second approach is similar to\nusing the JTA <code>UserTransaction</code> API, although exception handling is\nless cumbersome.</p>\n</blockquote>\n<p>Firstly inject the <code>TransactionTemplate</code> reference in your bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  // single TransactionTemplate shared amongst all methods in this instance\n  private final TransactionTemplate transactionTemplate;\n</code></pre>\n<p><strong>Option 1</strong></p>\n<p>Initialize your <code>Consumer&lt;String&gt;</code> attribute within an initializer method annotated with <code>@PostConstruct</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        @PostConstruct\n        public void init() {\n            saveTransaction = (uniqueId) -&gt; transactionTemplate.execute(new TransactionCallbackWithoutResult() {\n                protected void doInTransactionWithoutResult(TransactionStatus status) {\n                      Transaction transaction = new Transaction();\n                      transaction.setUniqueId(uniqueId);\n                      transactionRepository.save(transaction);\n                }\n            });\n        }\n\n</code></pre>\n<p><strong>Option 2</strong></p>\n<p>Initialize <code>Consumer&lt;String&gt;</code> attribute within constructor</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate final TransactionTemplate transactionTemplate;\nprivate final Consumer&lt;String&gt; saveTransaction;\n\nYourService(TransactionTemplate transactionTemplate) {\n    this.transactionTemplate = transactionTemplate;\n    saveTransaction = (uniqueId) -&gt; transactionTemplate.execute(new TransactionCallbackWithoutResult() {\n             protected void doInTransactionWithoutResult(TransactionStatus status) {\n                      Transaction transaction = new Transaction();\n                      transaction.setUniqueId(uniqueId);\n                      transactionRepository.save(transaction);\n                }\n            });\n}\n\n</code></pre>\n<p>According to Spring Docs:</p>\n<blockquote>\n<p>Programmatic transaction management is usually a good idea only if you\nhave a small number of transactional operations. For example, if you\nhave a web application that require transactions only for certain\nupdate operations, you may not want to set up transactional proxies\nusing Spring or any other technology. In this case, using the\nTransactionTemplate may be a good approach. Being able to set the\ntransaction name explicitly is also something that can only be done\nusing the programmatic approach to transaction management.</p>\n</blockquote>\n"}],"owner":{"account_id":14234560,"reputation":131,"user_id":10282730,"display_name":"sanjay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5658,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1648200799,"creation_date":1584006295,"question_id":60651339,"body_markdown":"I use @transactional for DB update operations in normal functions.But in lambda expression @transactional in not allowed. How to handle this ? below is my code.\r\n \r\n   \r\n ```\r\n//normal function\r\n   @Transactional\r\n    void saveTransaction(String uniqueId) {\r\n        Transaction transaction = new Transaction();\r\n        transaction.setUniqueId(uniqueId);\r\n        transactionRepository.save(transaction);\r\n    }\r\n\r\n    **@Transactional**  //Error Message - @Transactional not applicable to this field\r\n    Consumer&lt;String&gt; saveTransaction = (uniqueId) -&gt;\r\n    {\r\n        Transaction transaction = new Transaction();\r\n        transaction.setUniqueId(uniqueId);\r\n        transactionRepository.save(transaction);\r\n    };\r\n```","title":"@Transactional in Lambda Expressions","body":"<p>I use @transactional for DB update operations in normal functions.But in lambda expression @transactional in not allowed. How to handle this ? below is my code.</p>\n\n<pre><code>//normal function\n  @Transactional\n   void saveTransaction(String uniqueId) {\n       Transaction transaction = new Transaction();\n       transaction.setUniqueId(uniqueId);\n       transactionRepository.save(transaction);\n   }\n\n   **@Transactional**  //Error Message - @Transactional not applicable to this field\n   Consumer&lt;String&gt; saveTransaction = (uniqueId) -&gt;\n   {\n       Transaction transaction = new Transaction();\n       transaction.setUniqueId(uniqueId);\n       transactionRepository.save(transaction);\n   };\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink","avro"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648153710,"creation_date":1648153710,"answer_id":71609035,"question_id":71608582,"body_markdown":"The clue is this entry from the logs:\r\n\r\n&gt; Caused by: java.lang.IllegalStateException: Failed to rollback to checkpoint/savepoint s3://rinc-ingestion-service/flink-savepoints/namespaces/default/deployments/e8f1afd0-9236-43c2-93cb-db16604da594/1a6716af-6357-4ae3-95da-dad0bdb1f7cc/savepoint-f101ee-feb4e8023b09. Cannot map checkpoint/savepoint state for operator 7df19f87deec5680128845fd9a6ca18d to the new program, because the operator is not available in the new program. If you want to allow to skip this, you can set the --allowNonRestoredState option on the CLI.\r\n\r\nYou&#39;ve made changes to the job since it was last run, and as a result there&#39;s state in a checkpoint or savepoint that cannot be restored.\r\n\r\nYou&#39;ll want to read this section from the documentation -- https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/ops/state/savepoints/#assigning-operator-ids -- which explains the role played by operator IDs, and the importance of setting explicit IDs so that you can evolve how your job uses state without running into problems like this.\r\n\r\nIf you don&#39;t mind starting over from scratch (and abandoning whatever state your job has), then the easiest way forward is to resubmit the job without having it try to restart from a checkpoint or savepoint. In your case the only state is in the KafkaSource, so hopefully dropping the state won&#39;t be painful.\r\n\r\n","title":"Not able to run flink application which deserializes avro data coming from a kafka topic","body":"<p>The clue is this entry from the logs:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalStateException: Failed to rollback to checkpoint/savepoint s3://rinc-ingestion-service/flink-savepoints/namespaces/default/deployments/e8f1afd0-9236-43c2-93cb-db16604da594/1a6716af-6357-4ae3-95da-dad0bdb1f7cc/savepoint-f101ee-feb4e8023b09. Cannot map checkpoint/savepoint state for operator 7df19f87deec5680128845fd9a6ca18d to the new program, because the operator is not available in the new program. If you want to allow to skip this, you can set the --allowNonRestoredState option on the CLI.</p>\n</blockquote>\n<p>You've made changes to the job since it was last run, and as a result there's state in a checkpoint or savepoint that cannot be restored.</p>\n<p>You'll want to read this section from the documentation -- <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/ops/state/savepoints/#assigning-operator-ids\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/ops/state/savepoints/#assigning-operator-ids</a> -- which explains the role played by operator IDs, and the importance of setting explicit IDs so that you can evolve how your job uses state without running into problems like this.</p>\n<p>If you don't mind starting over from scratch (and abandoning whatever state your job has), then the easiest way forward is to resubmit the job without having it try to restart from a checkpoint or savepoint. In your case the only state is in the KafkaSource, so hopefully dropping the state won't be painful.</p>\n"}],"owner":{"account_id":5866485,"reputation":1,"user_id":5210898,"display_name":"Ram Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648200475,"creation_date":1648151329,"question_id":71608582,"body_markdown":"Trying to read avro data from a kafka topic using a flink application. Getting the below error while running the flink app. This is my first time working with flink/kafka, and couldn&#39;t fix this from days.\r\n\r\n&gt; org.apache.flink.runtime.client.JobInitializationException: Could not start the JobMaster.\r\n\tat org.apache.flink.runtime.jobmaster.DefaultJobMasterServiceProcess.lambda$new$0(DefaultJobMasterServiceProcess.java:97)\r\n\tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)\r\n\tat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)\r\n\tat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1609)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.util.concurrent.CompletionException: java.lang.IllegalStateException: Failed to rollback to checkpoint/savepoint s3://rinc-ingestion-service/flink-savepoints/namespaces/default/deployments/e8f1afd0-9236-43c2-93cb-db16604da594/1a6716af-6357-4ae3-95da-dad0bdb1f7cc/savepoint-f101ee-feb4e8023b09. Cannot map checkpoint/savepoint state for operator 7df19f87deec5680128845fd9a6ca18d to the new program, because the operator is not available in the new program. If you want to allow to skip this, you can set the --allowNonRestoredState option on the CLI.\r\n\tat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\r\n\tat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1606)\r\n\t... 3 more\r\nCaused by: java.lang.IllegalStateException: Failed to rollback to checkpoint/savepoint s3://rinc-ingestion-service/flink-savepoints/namespaces/default/deployments/e8f1afd0-9236-43c2-93cb-db16604da594/1a6716af-6357-4ae3-95da-dad0bdb1f7cc/savepoint-f101ee-feb4e8023b09. Cannot map checkpoint/savepoint state for operator 7df19f87deec5680128845fd9a6ca18d to the new program, because the operator is not available in the new program. If you want to allow to skip this, you can set the --allowNonRestoredState option on the CLI.\r\n\tat org.apache.flink.runtime.checkpoint.Checkpoints.throwNonRestoredStateException(Checkpoints.java:230)\r\n\tat org.apache.flink.runtime.checkpoint.Checkpoints.loadAndValidateCheckpoint(Checkpoints.java:194)\r\n\tat org.apache.flink.runtime.checkpoint.CheckpointCoordinator.restoreSavepoint(CheckpointCoordinator.java:1648)\r\n\tat org.apache.flink.runtime.scheduler.DefaultExecutionGraphFactory.tryRestoreExecutionGraphFromSavepoint(DefaultExecutionGraphFactory.java:163)\r\n\tat org.apache.flink.runtime.scheduler.DefaultExecutionGraphFactory.createAndRestoreExecutionGraph(DefaultExecutionGraphFactory.java:138)\r\n\tat org.apache.flink.runtime.scheduler.SchedulerBase.createAndRestoreExecutionGraph(SchedulerBase.java:335)\r\n\tat org.apache.flink.runtime.scheduler.SchedulerBase.&lt;init&gt;(SchedulerBase.java:191)\r\n\tat org.apache.flink.runtime.scheduler.DefaultScheduler.&lt;init&gt;(DefaultScheduler.java:140)\r\n\tat org.apache.flink.runtime.scheduler.DefaultSchedulerFactory.createInstance(DefaultSchedulerFactory.java:134)\r\n\tat org.apache.flink.runtime.jobmaster.DefaultSlotPoolServiceSchedulerFactory.createScheduler(DefaultSlotPoolServiceSchedulerFactory.java:110)\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.createScheduler(JobMaster.java:346)\r\n\tat org.apache.flink.runtime.jobmaster.JobMaster.&lt;init&gt;(JobMaster.java:323)\r\n\tat org.apache.flink.runtime.jobmaster.factories.DefaultJobMasterServiceFactory.internalCreateJobMasterService(DefaultJobMasterServiceFactory.java:106)\r\n\tat org.apache.flink.runtime.jobmaster.factories.DefaultJobMasterServiceFactory.lambda$createJobMasterService$0(DefaultJobMasterServiceFactory.java:94)\r\n\tat org.apache.flink.util.function.FunctionUtils.lambda$uncheckedSupplier$4(FunctionUtils.java:112)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)\r\n\t... 3 more\r\n\r\nThe flink app code is below.\r\n\r\n```\r\nimport io.confluent.kafka.serializers.KafkaAvroDeserializerConfig;\r\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\r\nimport org.apache.flink.connector.kafka.source.KafkaSource;\r\nimport org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\r\nimport org.apache.flink.streaming.api.datastream.DataStreamSource;\r\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\nimport testRecord.DataRecordAvro;\r\npublic class KafkaAvroDeserialize {\r\n    public static void main(String[] args) throws Exception {\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        KafkaSource&lt;DataRecordAvro&gt; source = KafkaSource.&lt;DataRecordAvro&gt;builder()\r\n                .setBootstrapServers(&quot;pkc-2396y.us-east-1.aws.confluent.cloud:9092&quot;)\r\n                .setTopics(&quot;test&quot;)\r\n                .setGroupId(&quot;demo-consumer-avro-1&quot;)\r\n                .setProperty(KafkaAvroDeserializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;https://psrc-1wydj.us-east-2.aws.confluent.cloud&quot;)\r\n                .setProperty(&quot;basic.auth.credentials.source&quot;, &quot;USER_INFO&quot;)\r\n                .setProperty(&quot;basic.auth.user.info&quot;, &quot;5CDO5ZR4HDJSGOHT:v/YJxrw6iR+ASbIwMGefZN9SIzPccuyyTQC8EXFn8cOcJCeC1EASEfvHzFRflyXd&quot;)\r\n                .setProperty(&quot;advertised.host.name&quot;, &quot;pkc-2396y.us-east-1.aws.confluent.cloud:9092&quot;)\r\n                .setValueOnlyDeserializer(new AvroDeserializer&lt;&gt;(DataRecordAvro.class))\r\n                .setStartingOffsets(OffsetsInitializer.earliest())\r\n                .build();\r\n        DataStreamSource&lt;DataRecordAvro&gt; input = env.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;);\r\n        input.map(record -&gt; &quot;DESERIALIZED: &quot; + record.getMsgType() + &quot;-&quot; + record.get(0) + &quot;-&quot; + record.get(1) + &quot;-&quot; + record.get(2)).print();\r\n        env.execute(&quot;Printing the payload&quot;);\r\n    }\r\n}\r\n```\r\n","title":"Not able to run flink application which deserializes avro data coming from a kafka topic","body":"<p>Trying to read avro data from a kafka topic using a flink application. Getting the below error while running the flink app. This is my first time working with flink/kafka, and couldn't fix this from days.</p>\n<blockquote>\n<p>org.apache.flink.runtime.client.JobInitializationException: Could not start the JobMaster.\nat org.apache.flink.runtime.jobmaster.DefaultJobMasterServiceProcess.lambda$new$0(DefaultJobMasterServiceProcess.java:97)\nat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)\nat java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750)\nat java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)\nat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1609)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: java.util.concurrent.CompletionException: java.lang.IllegalStateException: Failed to rollback to checkpoint/savepoint s3://rinc-ingestion-service/flink-savepoints/namespaces/default/deployments/e8f1afd0-9236-43c2-93cb-db16604da594/1a6716af-6357-4ae3-95da-dad0bdb1f7cc/savepoint-f101ee-feb4e8023b09. Cannot map checkpoint/savepoint state for operator 7df19f87deec5680128845fd9a6ca18d to the new program, because the operator is not available in the new program. If you want to allow to skip this, you can set the --allowNonRestoredState option on the CLI.\nat java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)\nat java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:280)\nat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1606)\n... 3 more\nCaused by: java.lang.IllegalStateException: Failed to rollback to checkpoint/savepoint s3://rinc-ingestion-service/flink-savepoints/namespaces/default/deployments/e8f1afd0-9236-43c2-93cb-db16604da594/1a6716af-6357-4ae3-95da-dad0bdb1f7cc/savepoint-f101ee-feb4e8023b09. Cannot map checkpoint/savepoint state for operator 7df19f87deec5680128845fd9a6ca18d to the new program, because the operator is not available in the new program. If you want to allow to skip this, you can set the --allowNonRestoredState option on the CLI.\nat org.apache.flink.runtime.checkpoint.Checkpoints.throwNonRestoredStateException(Checkpoints.java:230)\nat org.apache.flink.runtime.checkpoint.Checkpoints.loadAndValidateCheckpoint(Checkpoints.java:194)\nat org.apache.flink.runtime.checkpoint.CheckpointCoordinator.restoreSavepoint(CheckpointCoordinator.java:1648)\nat org.apache.flink.runtime.scheduler.DefaultExecutionGraphFactory.tryRestoreExecutionGraphFromSavepoint(DefaultExecutionGraphFactory.java:163)\nat org.apache.flink.runtime.scheduler.DefaultExecutionGraphFactory.createAndRestoreExecutionGraph(DefaultExecutionGraphFactory.java:138)\nat org.apache.flink.runtime.scheduler.SchedulerBase.createAndRestoreExecutionGraph(SchedulerBase.java:335)\nat org.apache.flink.runtime.scheduler.SchedulerBase.(SchedulerBase.java:191)\nat org.apache.flink.runtime.scheduler.DefaultScheduler.(DefaultScheduler.java:140)\nat org.apache.flink.runtime.scheduler.DefaultSchedulerFactory.createInstance(DefaultSchedulerFactory.java:134)\nat org.apache.flink.runtime.jobmaster.DefaultSlotPoolServiceSchedulerFactory.createScheduler(DefaultSlotPoolServiceSchedulerFactory.java:110)\nat org.apache.flink.runtime.jobmaster.JobMaster.createScheduler(JobMaster.java:346)\nat org.apache.flink.runtime.jobmaster.JobMaster.(JobMaster.java:323)\nat org.apache.flink.runtime.jobmaster.factories.DefaultJobMasterServiceFactory.internalCreateJobMasterService(DefaultJobMasterServiceFactory.java:106)\nat org.apache.flink.runtime.jobmaster.factories.DefaultJobMasterServiceFactory.lambda$createJobMasterService$0(DefaultJobMasterServiceFactory.java:94)\nat org.apache.flink.util.function.FunctionUtils.lambda$uncheckedSupplier$4(FunctionUtils.java:112)\nat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)\n... 3 more</p>\n</blockquote>\n<p>The flink app code is below.</p>\n<pre><code>import io.confluent.kafka.serializers.KafkaAvroDeserializerConfig;\nimport org.apache.flink.api.common.eventtime.WatermarkStrategy;\nimport org.apache.flink.connector.kafka.source.KafkaSource;\nimport org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\nimport org.apache.flink.streaming.api.datastream.DataStreamSource;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport testRecord.DataRecordAvro;\npublic class KafkaAvroDeserialize {\n    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        KafkaSource&lt;DataRecordAvro&gt; source = KafkaSource.&lt;DataRecordAvro&gt;builder()\n                .setBootstrapServers(&quot;pkc-2396y.us-east-1.aws.confluent.cloud:9092&quot;)\n                .setTopics(&quot;test&quot;)\n                .setGroupId(&quot;demo-consumer-avro-1&quot;)\n                .setProperty(KafkaAvroDeserializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;https://psrc-1wydj.us-east-2.aws.confluent.cloud&quot;)\n                .setProperty(&quot;basic.auth.credentials.source&quot;, &quot;USER_INFO&quot;)\n                .setProperty(&quot;basic.auth.user.info&quot;, &quot;5CDO5ZR4HDJSGOHT:v/YJxrw6iR+ASbIwMGefZN9SIzPccuyyTQC8EXFn8cOcJCeC1EASEfvHzFRflyXd&quot;)\n                .setProperty(&quot;advertised.host.name&quot;, &quot;pkc-2396y.us-east-1.aws.confluent.cloud:9092&quot;)\n                .setValueOnlyDeserializer(new AvroDeserializer&lt;&gt;(DataRecordAvro.class))\n                .setStartingOffsets(OffsetsInitializer.earliest())\n                .build();\n        DataStreamSource&lt;DataRecordAvro&gt; input = env.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;);\n        input.map(record -&gt; &quot;DESERIALIZED: &quot; + record.getMsgType() + &quot;-&quot; + record.get(0) + &quot;-&quot; + record.get(1) + &quot;-&quot; + record.get(2)).print();\n        env.execute(&quot;Printing the payload&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","api","spring-mvc","endpoint","tomcat9"],"comments":[{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":0,"creation_date":1647709645,"post_id":71540218,"comment_id":126441169,"body_markdown":"does the new api endpoint respond with a 307 , 308, 301, or 302 redirect?  any of those might, and the first 2 would, mean that the POST was re-submitted","body":"does the new api endpoint respond with a 307 , 308, 301, or 302 redirect?  any of those might, and the first 2 would, mean that the POST was re-submitted"},{"owner":{"account_id":2682050,"reputation":545,"user_id":2317228,"accept_rate":12,"display_name":"Dimitrios Efthymiou"},"score":0,"creation_date":1647710663,"post_id":71540218,"comment_id":126441362,"body_markdown":"They both respond with 200 every time according to the tomcat logs. The browser makes only one API call and it gets 200. However, the back-end handles 2 identical ones. Only for that endpoint. I google-searched this problem and I found, like, 2 questions. One of them was never answered since 2017, and for the other people were asking the person if they have used @ResponseBody and produces and stuff. I have been using these things for years which is why those answers did not help. That&#39;s why I asked the question myself here. If this is not solved in a week, we will lose all of our clients","body":"They both respond with 200 every time according to the tomcat logs. The browser makes only one API call and it gets 200. However, the back-end handles 2 identical ones. Only for that endpoint. I google-searched this problem and I found, like, 2 questions. One of them was never answered since 2017, and for the other people were asking the person if they have used @ResponseBody and produces and stuff. I have been using these things for years which is why those answers did not help. That&#39;s why I asked the question myself here. If this is not solved in a week, we will lose all of our clients"},{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1647711037,"post_id":71540218,"comment_id":126441444,"body_markdown":"Is there any timeout and retry logic for the calling code? I suggest if it possible for you add the code which calls this endpoint and Spring security configurations to your question.","body":"Is there any timeout and retry logic for the calling code? I suggest if it possible for you add the code which calls this endpoint and Spring security configurations to your question."},{"owner":{"account_id":2682050,"reputation":545,"user_id":2317228,"accept_rate":12,"display_name":"Dimitrios Efthymiou"},"score":0,"creation_date":1647712385,"post_id":71540218,"comment_id":126441768,"body_markdown":"no. There is no timeout. In the network tab in the Chrome DevTools we see the OPTIONS call first and immediately after that the POST call. Then it says &quot;pending&quot; for 3-4 seconds (for the back-end to do its job) and then we see 200. One API call. No timeouts or repeated calls in the browser. Only in tomcat","body":"no. There is no timeout. In the network tab in the Chrome DevTools we see the OPTIONS call first and immediately after that the POST call. Then it says &quot;pending&quot; for 3-4 seconds (for the back-end to do its job) and then we see 200. One API call. No timeouts or repeated calls in the browser. Only in tomcat"},{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1647712999,"post_id":71540218,"comment_id":126441924,"body_markdown":"if you change `async : true` to `false` problem still exists?","body":"if you change <code>async : true</code> to <code>false</code> problem still exists?"},{"owner":{"account_id":2682050,"reputation":545,"user_id":2317228,"accept_rate":12,"display_name":"Dimitrios Efthymiou"},"score":0,"creation_date":1647713145,"post_id":71540218,"comment_id":126441967,"body_markdown":"We tried that, as well, yes. We made the whole ajax code to process only 1 API call at a time and reject any other calls while ajax is already processing. Same problem. I think it is tomcat or spring","body":"We tried that, as well, yes. We made the whole ajax code to process only 1 API call at a time and reject any other calls while ajax is already processing. Same problem. I think it is tomcat or spring"},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1647875228,"post_id":71540218,"comment_id":126474895,"body_markdown":"OPTIONS before POST sounds like CORS Preflight, so maybe look there. (I wrote up a bit with my experiences with WebSphere, Spring MVC, and CORS Preflight at https://dougbreaux.github.io/2021/01/12/cors-and-websphere.html )","body":"OPTIONS before POST sounds like CORS Preflight, so maybe look there. (I wrote up a bit with my experiences with WebSphere, Spring MVC, and CORS Preflight at <a href=\"https://dougbreaux.github.io/2021/01/12/cors-and-websphere.html\" rel=\"nofollow noreferrer\">dougbreaux.github.io/2021/01/12/cors-and-websphere.html</a> )"},{"owner":{"account_id":2682050,"reputation":545,"user_id":2317228,"accept_rate":12,"display_name":"Dimitrios Efthymiou"},"score":0,"creation_date":1647878699,"post_id":71540218,"comment_id":126476406,"body_markdown":"We know about the OPTIONS call and we have configured it for all 168 API endpoints and it always works. We receive 2 POST calls within a few milliseconds of each other","body":"We know about the OPTIONS call and we have configured it for all 168 API endpoints and it always works. We receive 2 POST calls within a few milliseconds of each other"}],"owner":{"account_id":2682050,"reputation":545,"user_id":2317228,"accept_rate":12,"display_name":"Dimitrios Efthymiou"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648200277,"creation_date":1647709275,"question_id":71540218,"body_markdown":"We have an eCommerce webapp with the front-end server and the API server being in separate EC2 Ubuntus. The API server exposes 168 API RESTFul endpoints using Spring MVC. Each class has the @RestController annotation. Now, 166 endpoints are called and work correctly except for 2 of them. This question is for one of these 2 which we added to the system 2 weeks ago.\r\n\r\nWhen this endpoint (which is a POST) is called by the front-end, we see in the Chrome DevTools (network tab) that first the OPTIONS call occur and right after the POST call. That call is supposed to place a shopping order. The problem is that this POST call is invoked twice within a second of each other. We see the results of both of them, because we see 2 new orders in the database with their own OrderID and we see the 2 calls in the tomcat access logs. The front-end makes only 1 API call.\r\n\r\n\r\nWe use OpenJDK 11.0.11+9, tomcat 9.0.59, Spring Framework 5.3.16, Spring Security 5.6.2, javaee-api 8.0.1 and servlet 4.0. This webapp has been working for 14 months, but when we added a new endpoint for the user to place orders, our clients see the duplicate orders and they have to cancel one of them which is very annoying to them. Here is the endpoint method:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/api/v1&quot;)\r\npublic class DeliveryCourierMultidropAPIService extends OrionWebService\r\n{\r\n    @PostMapping(value = &quot;/orders&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;OrderResponseBean&gt; placeOrder(@RequestBody OrderRequestBean requestBean, HttpServletRequest request, HttpServletResponse response, Model model)\r\n    {\r\n        try\r\n        {\r\n            return OrderService.placeOrder(requestBean, request, response);\r\n        }\r\n        catch(Throwable e)\r\n        {\r\n            return ResponseEntity.badRequest().body(OrderResponseBean.builder()\r\n                            .hasErrors(true)\r\n                            .build());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe tomcat server.xml (for the connectors) has:\r\n\r\n```\r\n&lt;Executor name=&quot;tomcatThreadPool&quot; namePrefix=&quot;tomcat9-thread-&quot; maxIdleTime=&quot;60000&quot;\r\nmaxThreads=&quot;50&quot; minSpareThreads=&quot;5&quot;/&gt;\r\n\r\n&lt;Connector executor=&quot;tomcatThreadPool&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot; maxConnections=&quot;100&quot; acceptCount=&quot;300&quot;/&gt;\r\n\r\n&lt;Connector executor=&quot;tomcatThreadPool&quot; SSLEnabled=&quot;true&quot; maxPostSize=&quot;5000000&quot; port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot; scheme=&quot;https&quot;\r\n    secure=&quot;true&quot; compression=&quot;on&quot; maxKeepAliveRequests=&quot;10&quot; connectionTimeout=&quot;60000&quot;\r\n    maxConnections=&quot;100&quot; acceptCount=&quot;300&quot; enableLookups=&quot;false&quot; connectionUploadTimeout=&quot;120000&quot; disableUploadTimeout=&quot;false&quot;&gt;\r\n    &lt;SSLHostConfig&gt;\r\n       &lt;Certificate certificateFile=&quot;conf/cert.pem&quot; certificateKeyFile=&quot;conf/privkey.pem&quot; certificateChainFile=&quot;conf/chain.pem&quot; /&gt;\r\n    &lt;/SSLHostConfig&gt;\r\n\r\n    &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; compression=&quot;on&quot; keepAliveTimeout=&quot;360000&quot;/&gt;\r\n&lt;/Connector&gt;\r\n```\r\n\r\nThis is the AJAX call (redacted), but it is a reusable piece of code. I included the endpoint and the method name manually here. This piece of code works for all the other 167 endpoints. It is the same reusable AJAX code:\r\n\r\n```\r\nsetTimeout(function()\r\n{\r\n    $.ajax(\r\n    {\r\n        type : &quot;POST&quot;,\r\n        url : &quot;https://awsec2.com/api/v1/orders&quot;,\r\n        contentType : &quot;application/json; charset=UTF-8&quot;,\r\n        data : parameters,\r\n        dataType : &quot;json&quot;,\r\n        async : true,\r\n        crossDomain: true,\r\n        headers: headers,\r\n        \r\n        success : function(ajaxResponseData)\r\n        {\r\n            navigation.hidePreloader();\r\n            \r\n            if(typeof ajaxResponseData === &quot;object&quot;)\r\n            {\r\n                alert(&quot;order placed&quot;);\r\n            }\r\n        },\r\n        \r\n        \r\n        error : function(jqXHR, text, errorThrown)\r\n        {\r\n            navigation.hidePreloader();\r\n            alert(&quot;error&quot;);\r\n        },\r\n\r\n\r\n        complete : function(jqXHR, textStatus)\r\n        {\r\n            navigation.hidePreloader();\r\n        }\r\n    });\r\n}, 300);\r\n```\r\n\r\nThis is the Spring Security config (redacted):\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@ComponentScan(basePackages = {&quot;package1&quot;, &quot;package2&quot;, &quot;package3&quot;})\r\npublic class OurCustomSpringSecurityConfiguration extends WebSecurityConfigurerAdapter\r\n{\r\n    ..........................\r\n    ..........................\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n        http = http.csrf().ignoringAntMatchers(URLPatternsThatDoNotNeedCSRFToken).and();\r\n        http = http\r\n                        .sessionManagement()\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                        .and();\r\n        http = http\r\n                        .exceptionHandling()\r\n                        .accessDeniedPage(&quot;/error&quot;)\r\n                        .and();\r\n        http = http.authorizeRequests()\r\n                        .requestMatchers(CorsUtils::isPreFlightRequest).permitAll()\r\n                        .antMatchers(&quot;/api/v1/drivers/**&quot;).hasAuthority(UserAuthority.Driver.get())\r\n                        .antMatchers(&quot;/api/v1/orders/**&quot;).hasAuthority(UserAuthority.Business.get())\r\n                        .antMatchers(&quot;/api/v1/**&quot;).authenticated()\r\n                        .anyRequest().denyAll()\r\n                        .and();\r\n        http = http.addFilterBefore(new JWTTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        http = http.addFilterBefore(new JavaThreadIDGeneratorFilter(), JWTTokenFilter.class);\r\n        http = http.headers().cacheControl().disable().and();\r\n        http = http.headers().contentSecurityPolicy(&quot;frame-src &#39;none&#39;&quot;).and().and();\r\n        http = http.headers().contentTypeOptions().and().and();\r\n        http = http.headers().frameOptions().sameOrigin().and();\r\n        http = http.headers().httpStrictTransportSecurity().includeSubDomains(true).preload(true).and().and();\r\n        http = http.headers().referrerPolicy(ReferrerPolicy.STRICT_ORIGIN)\r\n                        .policy(ReferrerPolicy.STRICT_ORIGIN).and().and();\r\n        http = http.headers().xssProtection().block(true).xssProtectionEnabled(true).and().and();\r\n    }\r\n}\r\n```\r\n\r\n**UPDATE**\r\nI &quot;solved&quot; the problem by implementing a GUID for that endpoint (generated by the front-end) and used HazelCast to handle a lockable cache of these GUIDs making sure that a duplicate GUID will not go through","title":"Duplicate API calls to Spring REST endpoint","body":"<p>We have an eCommerce webapp with the front-end server and the API server being in separate EC2 Ubuntus. The API server exposes 168 API RESTFul endpoints using Spring MVC. Each class has the @RestController annotation. Now, 166 endpoints are called and work correctly except for 2 of them. This question is for one of these 2 which we added to the system 2 weeks ago.</p>\n<p>When this endpoint (which is a POST) is called by the front-end, we see in the Chrome DevTools (network tab) that first the OPTIONS call occur and right after the POST call. That call is supposed to place a shopping order. The problem is that this POST call is invoked twice within a second of each other. We see the results of both of them, because we see 2 new orders in the database with their own OrderID and we see the 2 calls in the tomcat access logs. The front-end makes only 1 API call.</p>\n<p>We use OpenJDK 11.0.11+9, tomcat 9.0.59, Spring Framework 5.3.16, Spring Security 5.6.2, javaee-api 8.0.1 and servlet 4.0. This webapp has been working for 14 months, but when we added a new endpoint for the user to place orders, our clients see the duplicate orders and they have to cancel one of them which is very annoying to them. Here is the endpoint method:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/v1&quot;)\npublic class DeliveryCourierMultidropAPIService extends OrionWebService\n{\n    @PostMapping(value = &quot;/orders&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;OrderResponseBean&gt; placeOrder(@RequestBody OrderRequestBean requestBean, HttpServletRequest request, HttpServletResponse response, Model model)\n    {\n        try\n        {\n            return OrderService.placeOrder(requestBean, request, response);\n        }\n        catch(Throwable e)\n        {\n            return ResponseEntity.badRequest().body(OrderResponseBean.builder()\n                            .hasErrors(true)\n                            .build());\n        }\n    }\n}\n</code></pre>\n<p>The tomcat server.xml (for the connectors) has:</p>\n<pre><code>&lt;Executor name=&quot;tomcatThreadPool&quot; namePrefix=&quot;tomcat9-thread-&quot; maxIdleTime=&quot;60000&quot;\nmaxThreads=&quot;50&quot; minSpareThreads=&quot;5&quot;/&gt;\n\n&lt;Connector executor=&quot;tomcatThreadPool&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot; maxConnections=&quot;100&quot; acceptCount=&quot;300&quot;/&gt;\n\n&lt;Connector executor=&quot;tomcatThreadPool&quot; SSLEnabled=&quot;true&quot; maxPostSize=&quot;5000000&quot; port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot; scheme=&quot;https&quot;\n    secure=&quot;true&quot; compression=&quot;on&quot; maxKeepAliveRequests=&quot;10&quot; connectionTimeout=&quot;60000&quot;\n    maxConnections=&quot;100&quot; acceptCount=&quot;300&quot; enableLookups=&quot;false&quot; connectionUploadTimeout=&quot;120000&quot; disableUploadTimeout=&quot;false&quot;&gt;\n    &lt;SSLHostConfig&gt;\n       &lt;Certificate certificateFile=&quot;conf/cert.pem&quot; certificateKeyFile=&quot;conf/privkey.pem&quot; certificateChainFile=&quot;conf/chain.pem&quot; /&gt;\n    &lt;/SSLHostConfig&gt;\n\n    &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; compression=&quot;on&quot; keepAliveTimeout=&quot;360000&quot;/&gt;\n&lt;/Connector&gt;\n</code></pre>\n<p>This is the AJAX call (redacted), but it is a reusable piece of code. I included the endpoint and the method name manually here. This piece of code works for all the other 167 endpoints. It is the same reusable AJAX code:</p>\n<pre><code>setTimeout(function()\n{\n    $.ajax(\n    {\n        type : &quot;POST&quot;,\n        url : &quot;https://awsec2.com/api/v1/orders&quot;,\n        contentType : &quot;application/json; charset=UTF-8&quot;,\n        data : parameters,\n        dataType : &quot;json&quot;,\n        async : true,\n        crossDomain: true,\n        headers: headers,\n        \n        success : function(ajaxResponseData)\n        {\n            navigation.hidePreloader();\n            \n            if(typeof ajaxResponseData === &quot;object&quot;)\n            {\n                alert(&quot;order placed&quot;);\n            }\n        },\n        \n        \n        error : function(jqXHR, text, errorThrown)\n        {\n            navigation.hidePreloader();\n            alert(&quot;error&quot;);\n        },\n\n\n        complete : function(jqXHR, textStatus)\n        {\n            navigation.hidePreloader();\n        }\n    });\n}, 300);\n</code></pre>\n<p>This is the Spring Security config (redacted):</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@ComponentScan(basePackages = {&quot;package1&quot;, &quot;package2&quot;, &quot;package3&quot;})\npublic class OurCustomSpringSecurityConfiguration extends WebSecurityConfigurerAdapter\n{\n    ..........................\n    ..........................\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        http = http.csrf().ignoringAntMatchers(URLPatternsThatDoNotNeedCSRFToken).and();\n        http = http\n                        .sessionManagement()\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                        .and();\n        http = http\n                        .exceptionHandling()\n                        .accessDeniedPage(&quot;/error&quot;)\n                        .and();\n        http = http.authorizeRequests()\n                        .requestMatchers(CorsUtils::isPreFlightRequest).permitAll()\n                        .antMatchers(&quot;/api/v1/drivers/**&quot;).hasAuthority(UserAuthority.Driver.get())\n                        .antMatchers(&quot;/api/v1/orders/**&quot;).hasAuthority(UserAuthority.Business.get())\n                        .antMatchers(&quot;/api/v1/**&quot;).authenticated()\n                        .anyRequest().denyAll()\n                        .and();\n        http = http.addFilterBefore(new JWTTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n        http = http.addFilterBefore(new JavaThreadIDGeneratorFilter(), JWTTokenFilter.class);\n        http = http.headers().cacheControl().disable().and();\n        http = http.headers().contentSecurityPolicy(&quot;frame-src 'none'&quot;).and().and();\n        http = http.headers().contentTypeOptions().and().and();\n        http = http.headers().frameOptions().sameOrigin().and();\n        http = http.headers().httpStrictTransportSecurity().includeSubDomains(true).preload(true).and().and();\n        http = http.headers().referrerPolicy(ReferrerPolicy.STRICT_ORIGIN)\n                        .policy(ReferrerPolicy.STRICT_ORIGIN).and().and();\n        http = http.headers().xssProtection().block(true).xssProtectionEnabled(true).and().and();\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong>\nI &quot;solved&quot; the problem by implementing a GUID for that endpoint (generated by the front-end) and used HazelCast to handle a lockable cache of these GUIDs making sure that a duplicate GUID will not go through</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1613949437,"post_id":66307980,"comment_id":117226981,"body_markdown":"Please only use the `android-studio` tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the `android` tag.","body":"Please only use the <code>android-studio</code> tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the <code>android</code> tag."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1613949502,"post_id":66307980,"comment_id":117226992,"body_markdown":"Also check: https://stackoverflow.com/a/43560529/209103. &quot;Whenever you call push() Firebase generates a new unique ID.&quot;","body":"Also check: <a href=\"https://stackoverflow.com/a/43560529/209103\">stackoverflow.com/a/43560529/209103</a>. &quot;Whenever you call push() Firebase generates a new unique ID.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613950338,"creation_date":1613950338,"answer_id":66308284,"question_id":66307980,"body_markdown":"As said in the link I provided in comments &quot;&quot;. So to ensure you only get one new unique key, you should call `push()` only once:\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference().push()\r\n    ref.child(&quot;FYP&quot;).child(&quot;Name&quot;).setValue(name);\r\n    ref.child(&quot;FYP&quot;).child(&quot;Job&quot;).setValue(job);\r\n    ref.child(&quot;FYP&quot;).child(&quot;Number&quot;).setValue(number);\r\n\r\nOr (as a single operation:\r\n\r\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference().push()\r\n    Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;Name&quot;, name);\r\n    values.put(&quot;Job&quot;, job);\r\n    values.put(&quot;Number&quot;, number);\r\n    ref.setValue(values);\r\n\r\nThe advantage of the latter is that it&#39;s a single write operation, so writing all the properties will either succeed of fail as one.\r\n","title":"Multiple Values Together in one child - Firebase","body":"<p>As said in the link I provided in comments &quot;&quot;. So to ensure you only get one new unique key, you should call <code>push()</code> only once:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference().push()\nref.child(&quot;FYP&quot;).child(&quot;Name&quot;).setValue(name);\nref.child(&quot;FYP&quot;).child(&quot;Job&quot;).setValue(job);\nref.child(&quot;FYP&quot;).child(&quot;Number&quot;).setValue(number);\n</code></pre>\n<p>Or (as a single operation:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference().push()\nMap&lt;String, Object&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;Name&quot;, name);\nvalues.put(&quot;Job&quot;, job);\nvalues.put(&quot;Number&quot;, number);\nref.setValue(values);\n</code></pre>\n<p>The advantage of the latter is that it's a single write operation, so writing all the properties will either succeed of fail as one.</p>\n"},{"tags":[],"owner":{"account_id":24040798,"reputation":1,"user_id":18020503,"display_name":"Denis Tipelea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648199681,"creation_date":1648154540,"answer_id":71609192,"question_id":66307980,"body_markdown":"For Kotlin i used a hash map,i created a child and a push so each group of values got it&#39;s own personal id:The code looks like this :\r\n\r\n```\r\nval values= hashMapOf&lt;String,String&gt;()\r\nvalues.put(&quot;text&quot;,findViewById&lt;EditText&gt;(R.id.etPost).text.toString())\r\n\r\nvalues.put(&quot;image&quot;,downloadUrl!!)\r\n                  \r\nvalues.put(&quot;userUID&quot;,userUID!!)\r\n\r\nmyRef.child(&quot;post&quot;).push().setValue(values)\r\n```\r\n\r\nAnd this is the firebase output:\r\n-MyxdijM9aEUMbMmP59T -&gt; unique id for each push\r\n\r\nimage: \r\n&quot;some link&quot; -&gt;link of the image\r\n\r\ntext: \r\n&quot;what&#39;s up ?&quot; -&gt;text\r\n\r\nuserUID: \r\n&quot;U2z64GG7iPV2zCvhSicWpI1J&quot; -&gt;user id\r\n\r\n**All of them in the same child**\r\n","title":"Multiple Values Together in one child - Firebase","body":"<p>For Kotlin i used a hash map,i created a child and a push so each group of values got it's own personal id:The code looks like this :</p>\n<pre><code>val values= hashMapOf&lt;String,String&gt;()\nvalues.put(&quot;text&quot;,findViewById&lt;EditText&gt;(R.id.etPost).text.toString())\n\nvalues.put(&quot;image&quot;,downloadUrl!!)\n                  \nvalues.put(&quot;userUID&quot;,userUID!!)\n\nmyRef.child(&quot;post&quot;).push().setValue(values)\n</code></pre>\n<p>And this is the firebase output:\n-MyxdijM9aEUMbMmP59T -&gt; unique id for each push</p>\n<p>image:\n&quot;some link&quot; -&gt;link of the image</p>\n<p>text:\n&quot;what's up ?&quot; -&gt;text</p>\n<p>userUID:\n&quot;U2z64GG7iPV2zCvhSicWpI1J&quot; -&gt;user id</p>\n<p><strong>All of them in the same child</strong></p>\n"}],"owner":{"account_id":15884024,"reputation":9,"user_id":11460960,"display_name":"Andrew Lennox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66308284,"answer_count":2,"score":0,"last_activity_date":1648199681,"creation_date":1613947762,"question_id":66307980,"body_markdown":"I am trying to save user info together in realtime firebase database, but it is not working as I expected.\r\nThis is my code to save to the DB\r\n\r\n       FirebaseDatabase.getInstance().getReference().child(&quot;FYP&quot;).push().child(&quot;Name&quot;).setValue(name);\r\n        FirebaseDatabase.getInstance().getReference().child(&quot;FYP&quot;).push().child(&quot;Job&quot;).setValue(job);\r\n        FirebaseDatabase.getInstance().getReference().child(&quot;FYP&quot;).push().child(&quot;Number&quot;).setValue(number);\r\n\r\nIn return I get 3 &quot;unique&quot; childs that hold one piece of data. What I want is for one child to hold all 3 pieces of information. Sorry if not explained perfectly. Any help appreciated.\r\n\r\n","title":"Multiple Values Together in one child - Firebase","body":"<p>I am trying to save user info together in realtime firebase database, but it is not working as I expected.\nThis is my code to save to the DB</p>\n<pre><code>   FirebaseDatabase.getInstance().getReference().child(&quot;FYP&quot;).push().child(&quot;Name&quot;).setValue(name);\n    FirebaseDatabase.getInstance().getReference().child(&quot;FYP&quot;).push().child(&quot;Job&quot;).setValue(job);\n    FirebaseDatabase.getInstance().getReference().child(&quot;FYP&quot;).push().child(&quot;Number&quot;).setValue(number);\n</code></pre>\n<p>In return I get 3 &quot;unique&quot; childs that hold one piece of data. What I want is for one child to hold all 3 pieces of information. Sorry if not explained perfectly. Any help appreciated.</p>\n"},{"tags":["java","ignite"],"answers":[{"tags":[],"owner":{"account_id":11186352,"reputation":186,"user_id":8208555,"display_name":"Konstantin Sirotkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648199640,"creation_date":1648194093,"answer_id":71613545,"question_id":71607682,"body_markdown":"Try to inject ignite instance via `@IgniteInstanceResource` in order to use it in your remote filter.\r\n\r\n```java\r\nIgnitePredicate&lt;CacheEvent&gt; rmtLsnr = new IgnitePredicate&lt;CacheEvent&gt;() {\r\n    @IgniteInstanceResource\r\n    private IgniteEx ignite;                \r\n\r\n    @Override public boolean apply(CacheEvent evt) {\r\n        System.out.println(&quot;Cache event [name=&quot; + evt.name() + &quot;, key=&quot; + evt.key() + &#39;]&#39;);\r\n        ignite.affinity(&quot;ProductsCache&quot;).isPrimary(ignite.cluster().localNode(), key);\r\n        return true;\r\n    }\r\n};        \r\n```\r\n","title":"Apache Ignite event listener registration error","body":"<p>Try to inject ignite instance via <code>@IgniteInstanceResource</code> in order to use it in your remote filter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IgnitePredicate&lt;CacheEvent&gt; rmtLsnr = new IgnitePredicate&lt;CacheEvent&gt;() {\n    @IgniteInstanceResource\n    private IgniteEx ignite;                \n\n    @Override public boolean apply(CacheEvent evt) {\n        System.out.println(&quot;Cache event [name=&quot; + evt.name() + &quot;, key=&quot; + evt.key() + ']');\n        ignite.affinity(&quot;ProductsCache&quot;).isPrimary(ignite.cluster().localNode(), key);\n        return true;\n    }\n};        \n</code></pre>\n"}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71613545,"answer_count":1,"score":0,"last_activity_date":1648199640,"creation_date":1648146435,"question_id":71607682,"body_markdown":"On our production cluster we are seeing that some events are not getting inserted or updated. There is no error reported from applications.\r\n\r\nTo investigate this I want to listen cache put events from the Ignite cluster. I followed what was mentioned here https://ignite.apache.org/docs/latest/events/listening-to-events. Also took reference from this example here. https://github.com/apache/ignite/blob/master/examples/src/main/java/org/apache/ignite/examples/datagrid/CacheEventsExample.java\r\n\r\nI tried running exact same code as mentioned in example link. It is like below\r\n\r\n    try (Ignite ignite = Ignition.start(&quot;C:\\\\Users\\\\example\\\\ignite-client-config-local.xml&quot;)) {\r\n            System.out.println();\r\n            System.out.println(&quot;&gt;&gt;&gt; Cache events example started.&quot;);\r\n\r\n            EntityKey entityKey = new EntityKey(&quot;T123&quot;);\r\n\r\n            Entity entity = new Entity(entityKey);\r\n            entity.setProductType(&quot;prodct1&quot;);\r\n            entity.setSubProductType(&quot;subproduct1&quot;);\r\n\r\n            try (IgniteCache&lt;EntityKey,Entity&gt; cache = ignite.getOrCreateCache(&quot;ProductsCache&quot;)) {\r\n\r\n                IgniteBiPredicate&lt;UUID, CacheEvent&gt; locLsnr = new IgniteBiPredicate&lt;UUID, CacheEvent&gt;() {\r\n                    @Override public boolean apply(UUID uuid, CacheEvent evt) {\r\n                        System.out.println(&quot;Received event [evt=&quot; + evt.name() + &quot;, key=&quot; + evt.key() +\r\n                                &quot;, oldVal=&quot; + evt.oldValue() + &quot;, newVal=&quot; + evt.newValue());\r\n\r\n                        return true; // Continue listening.\r\n                    }\r\n                };\r\n\r\n\r\n                IgnitePredicate&lt;CacheEvent&gt; rmtLsnr = new IgnitePredicate&lt;CacheEvent&gt;() {\r\n                    @Override public boolean apply(CacheEvent evt) {\r\n                        System.out.println(&quot;Cache event [name=&quot; + evt.name() + &quot;, key=&quot; + evt.key() + &#39;]&#39;);\r\n                        ignite.affinity(&quot;ProductsCache&quot;).isPrimary(ignite.cluster().localNode(), key);\r\n                        return true;\r\n                    }\r\n                };\r\n\r\n               \r\n                ignite.events(ignite.cluster().forCacheNodes(&quot;ProductsCache&quot;)).remoteListen(locLsnr, rmtLsnr,\r\n                        EVT_CACHE_OBJECT_PUT);\r\n\r\n                // Generate cache events.\r\n                cache.put(entityKey,entity);\r\n\r\n                // Wait for a while while callback is notified about remaining puts.\r\n                Thread.sleep(2000);\r\n                System.out.println(cache.get(entityKey));\r\n            }\r\n            }\r\n\r\nBut listener functions don&#39;t work. Data gets pushed to the cache properly and gets read back too. This I am first trying on my local machine. I have also set `peerClassLoadingEnabled` to true in both server and client config xml. Also in both configs I have added CACHE_EVT_OBJECT_PUT. On Ignite server I can see below error.\r\n\r\n    [16:56:07,469][SEVERE][sys-#109%personal.local%][GridContinuousProcessor] Failed to unmarshal continuous routine handler [routineId=1c49245f-238c-49a0-ae48-c4da3085052a, srcNodeId=89b3117f-43aa-428d-a5cf-647a518d089e]\r\n    class org.apache.ignite.internal.IgniteDeploymentCheckedException: Failed to obtain deployment for class: com.igniteadmin.LocalIgniteEventFilter\r\n    \tat org.apache.ignite.internal.GridEventConsumeHandler.p2pUnmarshal(GridEventConsumeHandler.java:418)\r\n    \tat org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.lambda$null$2(GridContinuousProcessor.java:707)\r\n    \tat org.apache.ignite.internal.util.IgniteUtils.wrapThreadLoader(IgniteUtils.java:7133)\r\n    \tat org.apache.ignite.internal.processors.closure.GridClosureProcessor$1.body(GridClosureProcessor.java:827)\r\n    \tat org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    [16:56:07,481][SEVERE][sys-#108%personal.local%][] JVM will be halted immediately due to the failure: [failureCtx=FailureContext [type=CRITICAL_ERROR, err=class o.a.i.i.IgniteDeploymentCheckedException: Failed to obtain deployment for class: com.igniteadmin.LocalIgniteEventFilter]]\r\n\r\n\r\n\r\n","title":"Apache Ignite event listener registration error","body":"<p>On our production cluster we are seeing that some events are not getting inserted or updated. There is no error reported from applications.</p>\n<p>To investigate this I want to listen cache put events from the Ignite cluster. I followed what was mentioned here <a href=\"https://ignite.apache.org/docs/latest/events/listening-to-events\" rel=\"nofollow noreferrer\">https://ignite.apache.org/docs/latest/events/listening-to-events</a>. Also took reference from this example here. <a href=\"https://github.com/apache/ignite/blob/master/examples/src/main/java/org/apache/ignite/examples/datagrid/CacheEventsExample.java\" rel=\"nofollow noreferrer\">https://github.com/apache/ignite/blob/master/examples/src/main/java/org/apache/ignite/examples/datagrid/CacheEventsExample.java</a></p>\n<p>I tried running exact same code as mentioned in example link. It is like below</p>\n<pre><code>try (Ignite ignite = Ignition.start(&quot;C:\\\\Users\\\\example\\\\ignite-client-config-local.xml&quot;)) {\n        System.out.println();\n        System.out.println(&quot;&gt;&gt;&gt; Cache events example started.&quot;);\n\n        EntityKey entityKey = new EntityKey(&quot;T123&quot;);\n\n        Entity entity = new Entity(entityKey);\n        entity.setProductType(&quot;prodct1&quot;);\n        entity.setSubProductType(&quot;subproduct1&quot;);\n\n        try (IgniteCache&lt;EntityKey,Entity&gt; cache = ignite.getOrCreateCache(&quot;ProductsCache&quot;)) {\n\n            IgniteBiPredicate&lt;UUID, CacheEvent&gt; locLsnr = new IgniteBiPredicate&lt;UUID, CacheEvent&gt;() {\n                @Override public boolean apply(UUID uuid, CacheEvent evt) {\n                    System.out.println(&quot;Received event [evt=&quot; + evt.name() + &quot;, key=&quot; + evt.key() +\n                            &quot;, oldVal=&quot; + evt.oldValue() + &quot;, newVal=&quot; + evt.newValue());\n\n                    return true; // Continue listening.\n                }\n            };\n\n\n            IgnitePredicate&lt;CacheEvent&gt; rmtLsnr = new IgnitePredicate&lt;CacheEvent&gt;() {\n                @Override public boolean apply(CacheEvent evt) {\n                    System.out.println(&quot;Cache event [name=&quot; + evt.name() + &quot;, key=&quot; + evt.key() + ']');\n                    ignite.affinity(&quot;ProductsCache&quot;).isPrimary(ignite.cluster().localNode(), key);\n                    return true;\n                }\n            };\n\n           \n            ignite.events(ignite.cluster().forCacheNodes(&quot;ProductsCache&quot;)).remoteListen(locLsnr, rmtLsnr,\n                    EVT_CACHE_OBJECT_PUT);\n\n            // Generate cache events.\n            cache.put(entityKey,entity);\n\n            // Wait for a while while callback is notified about remaining puts.\n            Thread.sleep(2000);\n            System.out.println(cache.get(entityKey));\n        }\n        }\n</code></pre>\n<p>But listener functions don't work. Data gets pushed to the cache properly and gets read back too. This I am first trying on my local machine. I have also set <code>peerClassLoadingEnabled</code> to true in both server and client config xml. Also in both configs I have added CACHE_EVT_OBJECT_PUT. On Ignite server I can see below error.</p>\n<pre><code>[16:56:07,469][SEVERE][sys-#109%personal.local%][GridContinuousProcessor] Failed to unmarshal continuous routine handler [routineId=1c49245f-238c-49a0-ae48-c4da3085052a, srcNodeId=89b3117f-43aa-428d-a5cf-647a518d089e]\nclass org.apache.ignite.internal.IgniteDeploymentCheckedException: Failed to obtain deployment for class: com.igniteadmin.LocalIgniteEventFilter\n    at org.apache.ignite.internal.GridEventConsumeHandler.p2pUnmarshal(GridEventConsumeHandler.java:418)\n    at org.apache.ignite.internal.processors.continuous.GridContinuousProcessor.lambda$null$2(GridContinuousProcessor.java:707)\n    at org.apache.ignite.internal.util.IgniteUtils.wrapThreadLoader(IgniteUtils.java:7133)\n    at org.apache.ignite.internal.processors.closure.GridClosureProcessor$1.body(GridClosureProcessor.java:827)\n    at org.apache.ignite.internal.util.worker.GridWorker.run(GridWorker.java:120)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n[16:56:07,481][SEVERE][sys-#108%personal.local%][] JVM will be halted immediately due to the failure: [failureCtx=FailureContext [type=CRITICAL_ERROR, err=class o.a.i.i.IgniteDeploymentCheckedException: Failed to obtain deployment for class: com.igniteadmin.LocalIgniteEventFilter]]\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","get","lombok"],"comments":[{"owner":{"account_id":18020055,"reputation":481,"user_id":13097536,"display_name":"L&#234; Ho&#224;ng Dững"},"score":1,"creation_date":1594021681,"post_id":62751439,"comment_id":110969266,"body_markdown":"Does this answer your question? [Lombok annotations do not compile under Intellij idea](https://stackoverflow.com/questions/24006937/lombok-annotations-do-not-compile-under-intellij-idea)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24006937/lombok-annotations-do-not-compile-under-intellij-idea\">Lombok annotations do not compile under Intellij idea</a>"},{"owner":{"account_id":412068,"reputation":2363,"user_id":784929,"accept_rate":60,"display_name":"kaushik"},"score":0,"creation_date":1594028350,"post_id":62751439,"comment_id":110972251,"body_markdown":"Did you add these in your gradle file ? `dependencies {\n  compileOnly &#39;org.projectlombok:lombok&#39;  \n  annotationProcessor &#39;org.projectlombok:lombok&#39;\n}`","body":"Did you add these in your gradle file ? <code>dependencies {   compileOnly &#39;org.projectlombok:lombok&#39;     annotationProcessor &#39;org.projectlombok:lombok&#39; }</code>"},{"owner":{"account_id":412068,"reputation":2363,"user_id":784929,"accept_rate":60,"display_name":"kaushik"},"score":0,"creation_date":1594028415,"post_id":62751439,"comment_id":110972274,"body_markdown":"Its usually a good practice to share the gradle file along with the question and it will help others to answer your question","body":"Its usually a good practice to share the gradle file along with the question and it will help others to answer your question"},{"owner":{"account_id":13760891,"reputation":49,"user_id":9931641,"display_name":"Vadim Popov"},"score":0,"creation_date":1594037029,"post_id":62751439,"comment_id":110976497,"body_markdown":"@L&#234;Ho&#224;ngDững I&#39;ve tried, didn&#39;t help","body":"@L&#234;Ho&#224;ngDững I&#39;ve tried, didn&#39;t help"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1594110735,"post_id":62751439,"comment_id":111003725,"body_markdown":"Do you have &quot;Lombok&quot; plugin installed?","body":"Do you have &quot;Lombok&quot; plugin installed?"}],"answers":[{"tags":[],"owner":{"account_id":1999698,"reputation":148,"user_id":1920108,"display_name":"bladefist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648199510,"creation_date":1648199510,"answer_id":71614491,"question_id":62751439,"body_markdown":"In intellij, go to settings -&gt; Build, Execution, Deployment -&gt; Gradle \r\nAnd select `Intellij IDEA` for both `Build and run using:` and `Run tests using:`\r\nThat solved it for me.","title":"cannot find symbol method get/set in Gradle project Intellij Idea","body":"<p>In intellij, go to settings -&gt; Build, Execution, Deployment -&gt; Gradle\nAnd select <code>Intellij IDEA</code> for both <code>Build and run using:</code> and <code>Run tests using:</code>\nThat solved it for me.</p>\n"}],"owner":{"account_id":13760891,"reputation":49,"user_id":9931641,"display_name":"Vadim Popov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648199510,"creation_date":1594021463,"question_id":62751439,"body_markdown":"I have a Gradle project on Java with Lombok module installed. All fields have @Getter/@Setter annotation, and if I click on any of get/set methods, they will lead me to those fields. But whenever I try to run or build project I get an error &quot;cannot find symbol method get/set&quot;.\r\n\r\nI tried to invalidate cache, didn&#39;t help.\r\n\r\n![enter image description here](https://i.stack.imgur.com/lpEvt.png)","title":"cannot find symbol method get/set in Gradle project Intellij Idea","body":"<p>I have a Gradle project on Java with Lombok module installed. All fields have @Getter/@Setter annotation, and if I click on any of get/set methods, they will lead me to those fields. But whenever I try to run or build project I get an error &quot;cannot find symbol method get/set&quot;.</p>\n<p>I tried to invalidate cache, didn't help.</p>\n<p><img src=\"https://i.stack.imgur.com/lpEvt.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","git","command","git-clone","git-lfs"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648122282,"post_id":71601785,"comment_id":126546834,"body_markdown":"`git clone` produces both stdout and stderr, both of which you should be consuming or a hang is likely if not inevitable","body":"<code>git clone</code> produces both stdout and stderr, both of which you should be consuming or a hang is likely if not inevitable"},{"owner":{"account_id":2055805,"reputation":518,"user_id":1833601,"accept_rate":43,"display_name":"Sterpu Mihai"},"score":0,"creation_date":1648122503,"post_id":71601785,"comment_id":126546910,"body_markdown":"I do have this in my code but ie. BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream())); l1 = input.readLine(); but the readLine call hangs for both p.getInputStream() and p.getErrorStream()","body":"I do have this in my code but ie. BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream())); l1 = input.readLine(); but the readLine call hangs for both p.getInputStream() and p.getErrorStream()"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1648122602,"post_id":71601785,"comment_id":126546950,"body_markdown":"Why only reading one line? Better post that code please. Edit the question","body":"Why only reading one line? Better post that code please. Edit the question"},{"owner":{"account_id":2055805,"reputation":518,"user_id":1833601,"accept_rate":43,"display_name":"Sterpu Mihai"},"score":0,"creation_date":1648150064,"post_id":71601785,"comment_id":126558301,"body_markdown":"the code is basically a do-while loop that reads the process&#39; inputstream until the line which is read is null. but it doesn&#39;t matter it&#39;s one call or multiple calls because the first readLine hangs.","body":"the code is basically a do-while loop that reads the process&#39; inputstream until the line which is read is null. but it doesn&#39;t matter it&#39;s one call or multiple calls because the first readLine hangs."},{"owner":{"account_id":2055805,"reputation":518,"user_id":1833601,"accept_rate":43,"display_name":"Sterpu Mihai"},"score":0,"creation_date":1648199012,"post_id":71601785,"comment_id":126568770,"body_markdown":"ok found out the issue, see my comment below, thanks for the hint! However, I do have an issue now: how do you know what stream to consume at any time? Because consuming STDOUT in this situation brings you in a deadlock situation","body":"ok found out the issue, see my comment below, thanks for the hint! However, I do have an issue now: how do you know what stream to consume at any time? Because consuming STDOUT in this situation brings you in a deadlock situation"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648211163,"post_id":71601785,"comment_id":126573001,"body_markdown":"Best practice is to consume stderr and stdout in dedicated thread to avoid deadlocks. Searching on &#39;StreamGobbler&#39; would probably find you examples","body":"Best practice is to consume stderr and stdout in dedicated thread to avoid deadlocks. Searching on &#39;StreamGobbler&#39; would probably find you examples"},{"owner":{"account_id":2055805,"reputation":518,"user_id":1833601,"accept_rate":43,"display_name":"Sterpu Mihai"},"score":0,"creation_date":1648216302,"post_id":71601785,"comment_id":126574979,"body_markdown":"in the end this is exactly what I did, created a thread for each and then assume the one which isn&#39;t going to be consumed at all will eventually get a -1","body":"in the end this is exactly what I did, created a thread for each and then assume the one which isn&#39;t going to be consumed at all will eventually get a -1"}],"answers":[{"tags":[],"owner":{"account_id":2055805,"reputation":518,"user_id":1833601,"accept_rate":43,"display_name":"Sterpu Mihai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648198932,"creation_date":1648198932,"answer_id":71614387,"question_id":71601785,"body_markdown":"Ok I finally understood what&#39;s going on.\r\nFirst, git has a bug that prints its cloning progress in STDERR instead of STDOUT.\r\nMy Java code that consumed the process output was initially:\r\n```\r\nchar buffer[] = new char[1024];\r\nInputStreamReader isr = new InputStreamReader(p.getInputStream());\r\nint res;\r\ndo {\r\nres = isr.read(buffer);\r\n}while(res!=-1);\r\n```\r\nThis initial version couldn&#39;t possibly work because the is.read() call would hang as no data was written to STDOUT.\r\nThen I came up with:\r\n```\r\nchar buffer[] = new char[1024];\r\nInputStreamReader isr = new InputStreamReader(p.getInputStream());\r\nInputStreamReader isre = new InputStreamReader(p.getErrorStream());\r\nint res,rese;\r\ndo {\r\nrese = isre.read(buffer);\r\nres = isr.read(buffer);\r\n}while(res !=-1 || rese != -1);\r\n```\r\nThis was also bad because while it did do something it didn&#39;t do before it still got stuck at isr.read. The isre.read would first unblock, get some data but then the isr.read would bring everything to a halt.\r\n\r\nThe correct code needs to only read STDERR:\r\n```\r\nchar buffer[] = new char[1024];\r\nInputStreamReader isr = new InputStreamReader(p.getErrorStream());\r\nint rese;\r\ndo {\r\nrese = isr.read(buffer);\r\n}while(rese!=-1);\r\n```","title":"git (lfs) clone hanging for image files when executed from java application","body":"<p>Ok I finally understood what's going on.\nFirst, git has a bug that prints its cloning progress in STDERR instead of STDOUT.\nMy Java code that consumed the process output was initially:</p>\n<pre><code>char buffer[] = new char[1024];\nInputStreamReader isr = new InputStreamReader(p.getInputStream());\nint res;\ndo {\nres = isr.read(buffer);\n}while(res!=-1);\n</code></pre>\n<p>This initial version couldn't possibly work because the is.read() call would hang as no data was written to STDOUT.\nThen I came up with:</p>\n<pre><code>char buffer[] = new char[1024];\nInputStreamReader isr = new InputStreamReader(p.getInputStream());\nInputStreamReader isre = new InputStreamReader(p.getErrorStream());\nint res,rese;\ndo {\nrese = isre.read(buffer);\nres = isr.read(buffer);\n}while(res !=-1 || rese != -1);\n</code></pre>\n<p>This was also bad because while it did do something it didn't do before it still got stuck at isr.read. The isre.read would first unblock, get some data but then the isr.read would bring everything to a halt.</p>\n<p>The correct code needs to only read STDERR:</p>\n<pre><code>char buffer[] = new char[1024];\nInputStreamReader isr = new InputStreamReader(p.getErrorStream());\nint rese;\ndo {\nrese = isr.read(buffer);\n}while(rese!=-1);\n</code></pre>\n"}],"owner":{"account_id":2055805,"reputation":518,"user_id":1833601,"accept_rate":43,"display_name":"Sterpu Mihai"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648198932,"creation_date":1648121799,"question_id":71601785,"body_markdown":"In my Java application (running on Windows) I need to clone a git repository.\r\nMy command is:\r\n```\r\n&lt;path_to_git&gt;\\bin\\git.exe clone --depth 1 --branch &lt;branch&gt; &lt;path_to_git_repo&gt;.git &lt;destination&gt;\r\n```\r\nWhen I execute this command from cmd.exe everything is fine, git finishes and all my files are there.\r\nHowever, when I execute this command from my Java application ie.\r\n```\r\nString cmd = &lt;the above command&gt;;\r\nProcess p = Runtime.getRuntime().exec(command);\r\np.waitFor();\r\n```\r\nthe following happens:\r\n1. The download starts, I can see this in the task manager but also in the destination folder where most of the files are checked out\r\n2. Download finishes, there is no network activity, the p.waitFor() call doesn&#39;t return and I have processes git.exe and git-lfs.exe still running\r\n3. When using Procmon64.exe I see that git.exe and git-lfs.exe are working just as long I observer network activity, afterwards they don&#39;t do nothing at all.\r\n4. A comparison of the working copy resulted from running the git clone from cmd.exe and the Java aopplication reveals there are no image files downloaded using the Java application\r\n\r\n[![comparison][1]][1]\r\n\r\nI guess it&#39;s something related to LFS but I have no clue how to debug this further. Any help would be much appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/NW5pV.jpg","title":"git (lfs) clone hanging for image files when executed from java application","body":"<p>In my Java application (running on Windows) I need to clone a git repository.\nMy command is:</p>\n<pre><code>&lt;path_to_git&gt;\\bin\\git.exe clone --depth 1 --branch &lt;branch&gt; &lt;path_to_git_repo&gt;.git &lt;destination&gt;\n</code></pre>\n<p>When I execute this command from cmd.exe everything is fine, git finishes and all my files are there.\nHowever, when I execute this command from my Java application ie.</p>\n<pre><code>String cmd = &lt;the above command&gt;;\nProcess p = Runtime.getRuntime().exec(command);\np.waitFor();\n</code></pre>\n<p>the following happens:</p>\n<ol>\n<li>The download starts, I can see this in the task manager but also in the destination folder where most of the files are checked out</li>\n<li>Download finishes, there is no network activity, the p.waitFor() call doesn't return and I have processes git.exe and git-lfs.exe still running</li>\n<li>When using Procmon64.exe I see that git.exe and git-lfs.exe are working just as long I observer network activity, afterwards they don't do nothing at all.</li>\n<li>A comparison of the working copy resulted from running the git clone from cmd.exe and the Java aopplication reveals there are no image files downloaded using the Java application</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/NW5pV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NW5pV.jpg\" alt=\"comparison\" /></a></p>\n<p>I guess it's something related to LFS but I have no clue how to debug this further. Any help would be much appreciated.</p>\n"},{"tags":["java","open-source","riscv"],"answers":[{"tags":[],"owner":{"account_id":7118871,"reputation":531,"user_id":5444148,"display_name":"fsasm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470585780,"creation_date":1470585780,"answer_id":38815974,"question_id":38491929,"body_markdown":"AFAIK currently no open source JVM implementation supports RISC-V at the moment. Also most implementations are basically an interpreter and are using GNU Classpath or OpenJDK for the class libraries. \r\n\r\nFor a port to RISC-V one has to port the interpreter and the class library. As some are pure interpreters without JIT, a port could be easy. A popular implementation was JamVM. It was used in Ubuntu on ARM-CPUs as JVM. \r\n\r\nWikipedia has a [list][1] of known JVM implementations. \r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_Java_virtual_machines","title":"Java on RISC-V ISA","body":"<p>AFAIK currently no open source JVM implementation supports RISC-V at the moment. Also most implementations are basically an interpreter and are using GNU Classpath or OpenJDK for the class libraries. </p>\n\n<p>For a port to RISC-V one has to port the interpreter and the class library. As some are pure interpreters without JIT, a port could be easy. A popular implementation was JamVM. It was used in Ubuntu on ARM-CPUs as JVM. </p>\n\n<p>Wikipedia has a <a href=\"https://en.wikipedia.org/wiki/List_of_Java_virtual_machines\" rel=\"nofollow\">list</a> of known JVM implementations. </p>\n"},{"tags":[],"owner":{"account_id":2881106,"reputation":993,"user_id":2472001,"accept_rate":43,"display_name":"seanhalle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1473341957,"creation_date":1473341957,"answer_id":39392524,"question_id":38491929,"body_markdown":"\r\nMartin Maas at UC Berkeley is doing an open source project to implement a high performance JIT for Java on RISC-V.  They plan to use either the C2 JIT optimizer or potentially see if Graal can be adapted.  Anyone interested can contact him through the UC Berkeley website and get involved.\r\n\r\nhttps://people.eecs.berkeley.edu/~maas/\r\n\r\n","title":"Java on RISC-V ISA","body":"<p>Martin Maas at UC Berkeley is doing an open source project to implement a high performance JIT for Java on RISC-V.  They plan to use either the C2 JIT optimizer or potentially see if Graal can be adapted.  Anyone interested can contact him through the UC Berkeley website and get involved.</p>\n\n<p><a href=\"https://people.eecs.berkeley.edu/~maas/\" rel=\"nofollow\">https://people.eecs.berkeley.edu/~maas/</a></p>\n"},{"tags":[],"owner":{"account_id":24682786,"reputation":11,"user_id":18576310,"display_name":"Fei Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648198841,"creation_date":1648198479,"answer_id":71614294,"question_id":38491929,"body_markdown":"Latest update: \r\n\r\nWith the help of OpenJDK community, RISC-V port project lead by Huawei Technologies has been integrated and becomes a first class member of JDK 19. \r\n\r\nProject web page: https://openjdk.java.net/projects/riscv-port\r\n\r\nJEP: https://openjdk.java.net/jeps/422\r\n\r\nThis ported OpenJDK to a new platform: Linux/RISC-V, which supports the following subsystems:\r\n\r\n  1. The template interpreter\r\n\r\n  2. The C1 (client) JIT compiler\r\n\r\n  3. The C2 (server) JIT compiler\r\n\r\n  4. All current mainline GCs, including Z and Shenandoah.\r\n\r\nCurrently, this port only supports the RV64G configuration of RISC-V, which is the general-purpose 64-bit RISC-V ISA. In the future we may consider supporting other RISC-V configurations such as, for example, a general-purpose 32-bit configuration (RV32G).\r\n\r\nThis means that people will have an official free (as in beer) full-featured JDK 19 release for RISC-V in September 2022. ","title":"Java on RISC-V ISA","body":"<p>Latest update:</p>\n<p>With the help of OpenJDK community, RISC-V port project lead by Huawei Technologies has been integrated and becomes a first class member of JDK 19.</p>\n<p>Project web page: <a href=\"https://openjdk.java.net/projects/riscv-port\" rel=\"nofollow noreferrer\">https://openjdk.java.net/projects/riscv-port</a></p>\n<p>JEP: <a href=\"https://openjdk.java.net/jeps/422\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/422</a></p>\n<p>This ported OpenJDK to a new platform: Linux/RISC-V, which supports the following subsystems:</p>\n<ol>\n<li><p>The template interpreter</p>\n</li>\n<li><p>The C1 (client) JIT compiler</p>\n</li>\n<li><p>The C2 (server) JIT compiler</p>\n</li>\n<li><p>All current mainline GCs, including Z and Shenandoah.</p>\n</li>\n</ol>\n<p>Currently, this port only supports the RV64G configuration of RISC-V, which is the general-purpose 64-bit RISC-V ISA. In the future we may consider supporting other RISC-V configurations such as, for example, a general-purpose 32-bit configuration (RV32G).</p>\n<p>This means that people will have an official free (as in beer) full-featured JDK 19 release for RISC-V in September 2022.</p>\n"}],"owner":{"account_id":2881106,"reputation":993,"user_id":2472001,"accept_rate":43,"display_name":"seanhalle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2172,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":39392524,"answer_count":3,"score":3,"last_activity_date":1648198841,"creation_date":1469053824,"question_id":38491929,"body_markdown":"After much searching, I have not found a JVM that runs on the RISC-V ISA.  This seems critical for adoption.  It is difficult to see selling a RISC-V server, or tablet, or even a smart TV, without a working Java implementation.  It feels like something that the community should to come together and work on.  I am willing to pitch in.  \r\n\r\nDoes anyone know of an open source project to port a JVM implementation to RISC-V?","title":"Java on RISC-V ISA","body":"<p>After much searching, I have not found a JVM that runs on the RISC-V ISA.  This seems critical for adoption.  It is difficult to see selling a RISC-V server, or tablet, or even a smart TV, without a working Java implementation.  It feels like something that the community should to come together and work on.  I am willing to pitch in.  </p>\n\n<p>Does anyone know of an open source project to port a JVM implementation to RISC-V?</p>\n"},{"tags":["java","authentication","snmp","net-snmp","snmp4j"],"answers":[{"tags":[],"owner":{"display_name":"user12842282"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648139499,"creation_date":1648139499,"answer_id":71606101,"question_id":71605825,"body_markdown":"I&#39;m unfamiliar with SNMP4J, but this block of code may need to have the security level defined as `authPriv` or however SNMP4J refers to it:\r\n\r\n```\r\n      Target&lt;?&gt; target = targetBuilder\r\n              .user(&quot;v3_ro_user&quot;, targetEngineID)\r\n              .auth(TargetBuilder.AuthProtocol.hmac192sha256).authPassphrase(&quot;myAuthPw&quot;)\r\n              .priv(TargetBuilder.PrivProtocol.aes128).privPassphrase(&quot;myPrivPw&quot;)\r\n              .done()\r\n              .timeout(1500).retries(1)\r\n              .build();\r\n      target.setVersion(SnmpConstants.version3);\r\n```","title":"SNMPv3 Get Request authorization problem for SNMP4J although working via net-snmp","body":"<p>I'm unfamiliar with SNMP4J, but this block of code may need to have the security level defined as <code>authPriv</code> or however SNMP4J refers to it:</p>\n<pre><code>      Target&lt;?&gt; target = targetBuilder\n              .user(&quot;v3_ro_user&quot;, targetEngineID)\n              .auth(TargetBuilder.AuthProtocol.hmac192sha256).authPassphrase(&quot;myAuthPw&quot;)\n              .priv(TargetBuilder.PrivProtocol.aes128).privPassphrase(&quot;myPrivPw&quot;)\n              .done()\n              .timeout(1500).retries(1)\n              .build();\n      target.setVersion(SnmpConstants.version3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24675984,"reputation":11,"user_id":18570373,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648198004,"creation_date":1648198004,"answer_id":71614202,"question_id":71605825,"body_markdown":"I solved it, in the end it was a SHA version issue:\r\n\r\n*net-snmp* by default employs SHA-1, so I changed ```TargetBuilder.AuthProtocol.hmac192sha256``` to ```TargetBuilder.AuthProtocol.sha1```.\r\n\r\nHowever, execution now failed instantly with:\r\n```SNMP error Authorization error on index 0```\r\nAlso, the Net-SNMP daemon log was empty.\r\n\r\nAfter debugging the SNMP4J execution and reading its in-file documentation I discovered that the *SHA-1* protocol must be explicitly added to the Snmp instance since SNMP4J considers it to be unsafe.\r\nAdding ```.securityProtocols(SecurityProtocols.SecurityProtocolSet.maxCompatibility)``` before ```.v3()``` in the Snmp building chain now resolves everything.","title":"SNMPv3 Get Request authorization problem for SNMP4J although working via net-snmp","body":"<p>I solved it, in the end it was a SHA version issue:</p>\n<p><em>net-snmp</em> by default employs SHA-1, so I changed <code>TargetBuilder.AuthProtocol.hmac192sha256</code> to <code>TargetBuilder.AuthProtocol.sha1</code>.</p>\n<p>However, execution now failed instantly with:\n<code>SNMP error Authorization error on index 0</code>\nAlso, the Net-SNMP daemon log was empty.</p>\n<p>After debugging the SNMP4J execution and reading its in-file documentation I discovered that the <em>SHA-1</em> protocol must be explicitly added to the Snmp instance since SNMP4J considers it to be unsafe.\nAdding <code>.securityProtocols(SecurityProtocols.SecurityProtocolSet.maxCompatibility)</code> before <code>.v3()</code> in the Snmp building chain now resolves everything.</p>\n"}],"owner":{"account_id":24675984,"reputation":11,"user_id":18570373,"display_name":"Sebastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71614202,"answer_count":2,"score":1,"last_activity_date":1648198004,"creation_date":1648138306,"question_id":71605825,"body_markdown":"#### Problem\r\n\r\nI have some troubles configuring SNMP4J as SNMPv3 manager for a simple Get-Request.\r\nSNMPv2 is working properly, both using net-snmp and SNMP4J.\r\n\r\n#### Setup\r\n\r\nOn my local machine I have a running snmp daemon (via net-snmp).\r\n\r\n    zetts@zetts_x1_carbon~: cat /etc/snmp/snmpd.conf\r\n    rouser v3_ro_user priv .1\r\n    rocommunity start123\r\n    \r\n    #       sec.name  source          community\r\n    com2sec local     localhost       public\r\n    \r\n    group MyRWGroup    v1         local\r\n    group MyRWGroup    v2c        local\r\n    group MyRWGroup    usm        local\r\n    \r\n    view all    included  .1                               80\r\n    \r\n    access MyROGroup &quot;&quot;      any       noauth    exact  all    none   none\r\n    access MyRWGroup &quot;&quot;      any       noauth    exact  all    all    none\r\n\r\nA snmpget using net-snmp works as expected:\r\n\r\n    zetts@zetts_x1_carbon~: snmpget -v 3 -l authPriv -u v3_ro_user -a sha -A myAuthPw -x aes -X myPrivPw localhost .1.3.6.1.2.1.1.1.0\r\n    SNMPv2-MIB::sysDescr.0 = STRING: Linux zettsx1carbon 5.10.105-1-MANJARO #1 SMP PREEMPT Fri Mar 11 14:12:33 UTC 2022 x86_64\r\n\r\nMy SNMP4J implementation looks as follows:\r\n\r\n    public static void get() throws IOException {\r\n    \r\n    SnmpBuilder snmpBuilder = new SnmpBuilder();\r\n    Snmp snmp = snmpBuilder.udp().v3().usm().build();\r\n    \r\n    Address targetAddress = GenericAddress.parse(&quot;udp:127.0.0.1/161&quot;);\r\n    byte[] targetEngineID = snmp.discoverAuthoritativeEngineID(targetAddress, 1000);\r\n    \r\n    if (targetEngineID != null) {\r\n          System.out.println(&quot;Trying with &quot; + authPro.toString());\r\n          TargetBuilder&lt;?&gt; targetBuilder = snmpBuilder.target(targetAddress);\r\n    \r\n          Target&lt;?&gt; target = targetBuilder\r\n                  .user(&quot;v3_ro_user&quot;, targetEngineID)\r\n                  .auth(TargetBuilder.AuthProtocol.hmac192sha256).authPassphrase(&quot;myAuthPw&quot;)\r\n                  .priv(TargetBuilder.PrivProtocol.aes128).privPassphrase(&quot;myPrivPw&quot;)\r\n                  .done()\r\n                  .timeout(1500).retries(1)\r\n                  .build();\r\n          target.setVersion(SnmpConstants.version3);\r\n    \r\n          PDU pdu = targetBuilder.pdu().type(PDU.GET).contextName(&quot;&quot;).build();\r\n          pdu.add(new VariableBinding(new OID(&quot;.1.3.6.1.2.1.1.1.0&quot;)));\r\n    \r\n          SnmpCompletableFuture snmpRequestFuture = SnmpCompletableFuture.send(snmp, target, pdu);\r\n          try {\r\n              List&lt;VariableBinding&gt; vbs = snmpRequestFuture.get().getAll();\r\n              System.out.println(&quot;Received: &quot; + snmpRequestFuture.getResponseEvent().getResponse());\r\n          } catch (ExecutionException | InterruptedException ex) {\r\n              System.err.println(&quot;Request failed: &quot; + ex.getCause().getMessage());\r\n          }\r\n    } else {\r\n        System.err.println(&quot;Timeout on engine ID discovery for &quot; + targetAddress + &quot;, GET not sent.&quot;);\r\n    }\r\n    snmp.close();\r\n    }\r\n\r\nI sometimes used non-fluent syntax (e.g. ```target.setVersion()```) since the corresponding fluent method was not working.\r\n\r\n#### Analysis\r\n\r\nSNMP4J run result: ```Request failed: SNMP Request timed out```\r\n\r\nI captured the localhost UDP port 161 traffic using tcpdump. First 4 packets can be seen for snmpget from net-snmp (successful), then 4 packets for from SNMP4J.\r\nIt looks as if the EngineID discovery works as well for SNMP4J, but the msgAuthenticationParameters in the next packet are way longer than in the corresponding net-snmp request packet.\r\nThe SNMP4J request is then answered with a report with OID “1.3.6.1.6.3.15.1.1.5.0” (oidUsmStatsWrongDigests).\r\n\r\nSNMP daemon log:\r\n\r\n    zetts@zetts_x1_carbon~: cat snmpd.log\r\n    NET-SNMP version 5.9.1\r\n    Authentication failed for v3_ro_user\r\n\r\nSo it seems to be an authentication issue, but the username and password are definitely the same and correct. Is there something wrong with the authProtocol? Which version is net-snmp using when specifying only “SHA”?\r\n\r\nCan someone provide further hints where to look for the root cause?\r\n\r\nThank you and best regards,\r\nSebastian","title":"SNMPv3 Get Request authorization problem for SNMP4J although working via net-snmp","body":"<h4>Problem</h4>\n<p>I have some troubles configuring SNMP4J as SNMPv3 manager for a simple Get-Request.\nSNMPv2 is working properly, both using net-snmp and SNMP4J.</p>\n<h4>Setup</h4>\n<p>On my local machine I have a running snmp daemon (via net-snmp).</p>\n<pre><code>zetts@zetts_x1_carbon~: cat /etc/snmp/snmpd.conf\nrouser v3_ro_user priv .1\nrocommunity start123\n\n#       sec.name  source          community\ncom2sec local     localhost       public\n\ngroup MyRWGroup    v1         local\ngroup MyRWGroup    v2c        local\ngroup MyRWGroup    usm        local\n\nview all    included  .1                               80\n\naccess MyROGroup &quot;&quot;      any       noauth    exact  all    none   none\naccess MyRWGroup &quot;&quot;      any       noauth    exact  all    all    none\n</code></pre>\n<p>A snmpget using net-snmp works as expected:</p>\n<pre><code>zetts@zetts_x1_carbon~: snmpget -v 3 -l authPriv -u v3_ro_user -a sha -A myAuthPw -x aes -X myPrivPw localhost .1.3.6.1.2.1.1.1.0\nSNMPv2-MIB::sysDescr.0 = STRING: Linux zettsx1carbon 5.10.105-1-MANJARO #1 SMP PREEMPT Fri Mar 11 14:12:33 UTC 2022 x86_64\n</code></pre>\n<p>My SNMP4J implementation looks as follows:</p>\n<pre><code>public static void get() throws IOException {\n\nSnmpBuilder snmpBuilder = new SnmpBuilder();\nSnmp snmp = snmpBuilder.udp().v3().usm().build();\n\nAddress targetAddress = GenericAddress.parse(&quot;udp:127.0.0.1/161&quot;);\nbyte[] targetEngineID = snmp.discoverAuthoritativeEngineID(targetAddress, 1000);\n\nif (targetEngineID != null) {\n      System.out.println(&quot;Trying with &quot; + authPro.toString());\n      TargetBuilder&lt;?&gt; targetBuilder = snmpBuilder.target(targetAddress);\n\n      Target&lt;?&gt; target = targetBuilder\n              .user(&quot;v3_ro_user&quot;, targetEngineID)\n              .auth(TargetBuilder.AuthProtocol.hmac192sha256).authPassphrase(&quot;myAuthPw&quot;)\n              .priv(TargetBuilder.PrivProtocol.aes128).privPassphrase(&quot;myPrivPw&quot;)\n              .done()\n              .timeout(1500).retries(1)\n              .build();\n      target.setVersion(SnmpConstants.version3);\n\n      PDU pdu = targetBuilder.pdu().type(PDU.GET).contextName(&quot;&quot;).build();\n      pdu.add(new VariableBinding(new OID(&quot;.1.3.6.1.2.1.1.1.0&quot;)));\n\n      SnmpCompletableFuture snmpRequestFuture = SnmpCompletableFuture.send(snmp, target, pdu);\n      try {\n          List&lt;VariableBinding&gt; vbs = snmpRequestFuture.get().getAll();\n          System.out.println(&quot;Received: &quot; + snmpRequestFuture.getResponseEvent().getResponse());\n      } catch (ExecutionException | InterruptedException ex) {\n          System.err.println(&quot;Request failed: &quot; + ex.getCause().getMessage());\n      }\n} else {\n    System.err.println(&quot;Timeout on engine ID discovery for &quot; + targetAddress + &quot;, GET not sent.&quot;);\n}\nsnmp.close();\n}\n</code></pre>\n<p>I sometimes used non-fluent syntax (e.g. <code>target.setVersion()</code>) since the corresponding fluent method was not working.</p>\n<h4>Analysis</h4>\n<p>SNMP4J run result: <code>Request failed: SNMP Request timed out</code></p>\n<p>I captured the localhost UDP port 161 traffic using tcpdump. First 4 packets can be seen for snmpget from net-snmp (successful), then 4 packets for from SNMP4J.\nIt looks as if the EngineID discovery works as well for SNMP4J, but the msgAuthenticationParameters in the next packet are way longer than in the corresponding net-snmp request packet.\nThe SNMP4J request is then answered with a report with OID “1.3.6.1.6.3.15.1.1.5.0” (oidUsmStatsWrongDigests).</p>\n<p>SNMP daemon log:</p>\n<pre><code>zetts@zetts_x1_carbon~: cat snmpd.log\nNET-SNMP version 5.9.1\nAuthentication failed for v3_ro_user\n</code></pre>\n<p>So it seems to be an authentication issue, but the username and password are definitely the same and correct. Is there something wrong with the authProtocol? Which version is net-snmp using when specifying only “SHA”?</p>\n<p>Can someone provide further hints where to look for the root cause?</p>\n<p>Thank you and best regards,\nSebastian</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":12923839,"reputation":428,"user_id":9345287,"display_name":"Breakpoint"},"score":1,"creation_date":1648193578,"post_id":71613273,"comment_id":126567118,"body_markdown":"if you think like that then length of string is a very small number, 2000. All your program is o(1) then. What if your array had to accommodate &#39;m&#39; symbols where m is very large?","body":"if you think like that then length of string is a very small number, 2000. All your program is o(1) then. What if your array had to accommodate &#39;m&#39; symbols where m is very large?"},{"owner":{"account_id":19778685,"reputation":169,"user_id":14484121,"display_name":"Akshaya Amar"},"score":0,"creation_date":1648196022,"post_id":71613273,"comment_id":126567763,"body_markdown":"@Breakpoint - The time complexity for `n^2 + n` ~ `O(n^2)` because we neglect the smaller term. Keeping the same in mind, I asked if we can neglect `m`, if `m &lt; n`","body":"@Breakpoint - The time complexity for <code>n^2 + n</code> ~ <code>O(n^2)</code> because we neglect the smaller term. Keeping the same in mind, I asked if we can neglect <code>m</code>, if <code>m &lt; n</code>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648196090,"creation_date":1648195513,"answer_id":71613762,"question_id":71613273,"body_markdown":"A1.  Since `m` is a constant (58) in your first algorithm, this is `O(n)` time.  This `O(n + constant)` is the same as `O(n)`.\r\n\r\nA2.  Your second algorithm is also `O(n)` time.\r\n\r\n&gt; Using Map, the time complexity should be O(n + m), as m will vary for input string as it is dependent on the input size.\r\n\r\nYou haven&#39;t stated it explicitly, but in this case, `n` is the number of characters in `s`, and `m` is the number of distinct characters in `s`.\r\n\r\nThose variable variables `m` and `n` are not independent.  In fact `m` will always be less or equal to `n` than `n`.  \r\n\r\nBut `m + n` &lt;= `2n`, and `O(2n)` is the same as `O(n)`.  So `O(m + n)` is the same as `O(n)` in this case.\r\n\r\n----------------\r\n\r\n(The above isn&#39;t a rigorous proof ... but it should be sufficient to highlight the flaw in your reasoning.  If you want a rigorous proof, it is pretty straight forward, albeit tedious.)\r\n\r\n----------------\r\n\r\nAnd to answer your the question in the (corrected) title:\r\n\r\n&gt; Can we say O(n + m) is equivalent to O(n), when m is constant or when n &gt; m\r\n\r\nYes.  See above.\r\n\r\n----------------\r\n\r\nNote that the fact that both versions have the same (time) complexity doesn&#39;t mean that their performance will be equivalent.\r\n","title":"Can we say O(n + m) is equivalent to O(n), when m is constant or when n &gt; m","body":"<p>A1.  Since <code>m</code> is a constant (58) in your first algorithm, this is <code>O(n)</code> time.  This <code>O(n + constant)</code> is the same as <code>O(n)</code>.</p>\n<p>A2.  Your second algorithm is also <code>O(n)</code> time.</p>\n<blockquote>\n<p>Using Map, the time complexity should be O(n + m), as m will vary for input string as it is dependent on the input size.</p>\n</blockquote>\n<p>You haven't stated it explicitly, but in this case, <code>n</code> is the number of characters in <code>s</code>, and <code>m</code> is the number of distinct characters in <code>s</code>.</p>\n<p>Those variable variables <code>m</code> and <code>n</code> are not independent.  In fact <code>m</code> will always be less or equal to <code>n</code> than <code>n</code>.</p>\n<p>But <code>m + n</code> &lt;= <code>2n</code>, and <code>O(2n)</code> is the same as <code>O(n)</code>.  So <code>O(m + n)</code> is the same as <code>O(n)</code> in this case.</p>\n<hr />\n<p>(The above isn't a rigorous proof ... but it should be sufficient to highlight the flaw in your reasoning.  If you want a rigorous proof, it is pretty straight forward, albeit tedious.)</p>\n<hr />\n<p>And to answer your the question in the (corrected) title:</p>\n<blockquote>\n<p>Can we say O(n + m) is equivalent to O(n), when m is constant or when n &gt; m</p>\n</blockquote>\n<p>Yes.  See above.</p>\n<hr />\n<p>Note that the fact that both versions have the same (time) complexity doesn't mean that their performance will be equivalent.</p>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648197951,"creation_date":1648197951,"answer_id":71614196,"question_id":71613273,"body_markdown":"I fully agree with [Stephen&#39;s answer](https://stackoverflow.com/a/71613762/15472), but would go one step further. **Since there is an upper limit to the input size, both algorithms are `O(1)`** - because, for all valid inputs, there is a constant number of operations that neither algorithm will exceed.\r\n\r\nAsking whether the asymptotic worst-case time-complexity (aka Big-O) of the algorithm using arrays or maps is best makes little sense, unless the size of those maps can grow over a significant range.\r\n\r\nI really recommend attempting to plot out the differences in time that each algorithm needs to for a variety of (valid) inputs. You should find that, for such small inputs, both perform very similarly, and there is very little growth of time depending on input size. Due to the complexity of maps, I would expect the array-based one to be faster; but again, for such small problems, the difference will not be very notable in terms of raw millisecons.","title":"Can we say O(n + m) is equivalent to O(n), when m is constant or when n &gt; m","body":"<p>I fully agree with <a href=\"https://stackoverflow.com/a/71613762/15472\">Stephen's answer</a>, but would go one step further. <strong>Since there is an upper limit to the input size, both algorithms are <code>O(1)</code></strong> - because, for all valid inputs, there is a constant number of operations that neither algorithm will exceed.</p>\n<p>Asking whether the asymptotic worst-case time-complexity (aka Big-O) of the algorithm using arrays or maps is best makes little sense, unless the size of those maps can grow over a significant range.</p>\n<p>I really recommend attempting to plot out the differences in time that each algorithm needs to for a variety of (valid) inputs. You should find that, for such small inputs, both perform very similarly, and there is very little growth of time depending on input size. Due to the complexity of maps, I would expect the array-based one to be faster; but again, for such small problems, the difference will not be very notable in terms of raw millisecons.</p>\n"}],"owner":{"account_id":19778685,"reputation":169,"user_id":14484121,"display_name":"Akshaya Amar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71613762,"answer_count":2,"score":2,"last_activity_date":1648197951,"creation_date":1648192234,"question_id":71613273,"body_markdown":"I was solving one of the leetcode problems(Longest Palindrome), where I am \r\n- traversing the whole string(s) to count the frequency of each character \r\n- traversing the array(charFreq) to determine whether the frequency of character is odd and doing operations accordingly.\r\n\r\n**1. Implementing using array**\r\n    \r\n       public int longestPalindrome(String s) {\r\n    \r\n        int[] charFreq = new int[58];\r\n        for(char sChar : s.toCharArray()){\r\n          ++charFreq[sChar - &#39;A&#39;];\r\n        }\r\n    \r\n        int charsWithOddFreq = 0;\r\n        for(int freq : charFreq){\r\n          if((freq &amp; 1) != 0){\r\n            charsWithOddFreq++;\r\n          }\r\n        }\r\n    \r\n        int len = s.length();\r\n        return (charsWithOddFreq == 0) ? len : (len - charsWithOddFreq + 1);\r\n      }\r\n\r\nwhere, **`1 &lt;= s.length &lt;= 2000`**&lt;br&gt;\r\n**`s consists of lowercase and/or uppercase English letters only.`**&lt;br&gt;&lt;br&gt;\r\nBut, is it correct to say the time complexity of this above program is `O(n + m)`, here `n is the length of the given string(s)` and `m is the size of array taken to store frequency(charFreq)` or is it better to say just `O(n)` as we can neglect the constant factor(m), which is not dependent on the size of the input string and the iteration for each input will always be same(i.e. 58).&lt;br&gt;\r\n**In short, is `O(n + m) ~ O(n)` in this case?**\r\n\r\n**2. Implementing same using Map**\r\n\r\n    public int longestPalindrome(String s) {\r\n    \r\n        Map&lt;Character, Integer&gt; charFreq = new HashMap&lt;&gt;();\r\n        for(char sChar : s.toCharArray()) {\r\n          charFreq.put(sChar, charFreq.getOrDefault(sChar, 0) + 1);\r\n        }\r\n    \r\n        int charWithOddFreq = 0;\r\n        for(int val : charFreq.values()) {\r\n          if((val &amp; 1) != 0) {\r\n            ++charWithOddFreq;\r\n          }\r\n        }\r\n    \r\n        int len = s.length();\r\n        return (charWithOddFreq == 0) ? len : (len - charWithOddFreq + 1);\r\n      }\r\n\r\nUsing Map, the time complexity should be `O(n + m)`, as m will vary for input string as it is dependent on the input size. But, my question in this case(when using Map) is that can we say `O(n + m)` as `O(n)`, when `n &gt; m`? because according to constraints i.e. &lt;br&gt;**`1 &lt;= s.length &lt;= 2000`**&lt;br&gt; and **`s consists of lowercase and/or uppercase English letters only.`**&lt;br&gt;\r\nSo, length of string(n) &gt; number of lowercase and uppercase letters(m)\r\n**In short, is `O(n + m) ~ O(n)` in this case too?**","title":"Can we say O(n + m) is equivalent to O(n), when m is constant or when n &gt; m","body":"<p>I was solving one of the leetcode problems(Longest Palindrome), where I am</p>\n<ul>\n<li>traversing the whole string(s) to count the frequency of each character</li>\n<li>traversing the array(charFreq) to determine whether the frequency of character is odd and doing operations accordingly.</li>\n</ul>\n<p><strong>1. Implementing using array</strong></p>\n<pre><code>   public int longestPalindrome(String s) {\n\n    int[] charFreq = new int[58];\n    for(char sChar : s.toCharArray()){\n      ++charFreq[sChar - 'A'];\n    }\n\n    int charsWithOddFreq = 0;\n    for(int freq : charFreq){\n      if((freq &amp; 1) != 0){\n        charsWithOddFreq++;\n      }\n    }\n\n    int len = s.length();\n    return (charsWithOddFreq == 0) ? len : (len - charsWithOddFreq + 1);\n  }\n</code></pre>\n<p>where, <strong><code>1 &lt;= s.length &lt;= 2000</code></strong><br>\n<strong><code>s consists of lowercase and/or uppercase English letters only.</code></strong><br><br>\nBut, is it correct to say the time complexity of this above program is <code>O(n + m)</code>, here <code>n is the length of the given string(s)</code> and <code>m is the size of array taken to store frequency(charFreq)</code> or is it better to say just <code>O(n)</code> as we can neglect the constant factor(m), which is not dependent on the size of the input string and the iteration for each input will always be same(i.e. 58).<br>\n<strong>In short, is <code>O(n + m) ~ O(n)</code> in this case?</strong></p>\n<p><strong>2. Implementing same using Map</strong></p>\n<pre><code>public int longestPalindrome(String s) {\n\n    Map&lt;Character, Integer&gt; charFreq = new HashMap&lt;&gt;();\n    for(char sChar : s.toCharArray()) {\n      charFreq.put(sChar, charFreq.getOrDefault(sChar, 0) + 1);\n    }\n\n    int charWithOddFreq = 0;\n    for(int val : charFreq.values()) {\n      if((val &amp; 1) != 0) {\n        ++charWithOddFreq;\n      }\n    }\n\n    int len = s.length();\n    return (charWithOddFreq == 0) ? len : (len - charWithOddFreq + 1);\n  }\n</code></pre>\n<p>Using Map, the time complexity should be <code>O(n + m)</code>, as m will vary for input string as it is dependent on the input size. But, my question in this case(when using Map) is that can we say <code>O(n + m)</code> as <code>O(n)</code>, when <code>n &gt; m</code>? because according to constraints i.e. <br><strong><code>1 &lt;= s.length &lt;= 2000</code></strong><br> and <strong><code>s consists of lowercase and/or uppercase English letters only.</code></strong><br>\nSo, length of string(n) &gt; number of lowercase and uppercase letters(m)\n<strong>In short, is <code>O(n + m) ~ O(n)</code> in this case too?</strong></p>\n"},{"tags":["java","apache","tomcat","jaas"],"answers":[{"tags":[],"owner":{"account_id":317358,"reputation":5187,"user_id":634003,"accept_rate":73,"display_name":"constantlearner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1384176600,"creation_date":1384176600,"answer_id":19907606,"question_id":19907421,"body_markdown":"According to http://tomcat.apache.org/tomcat-7.0-doc/realm-howto.html#JAASRealm\r\n\r\nYou should set up a login.config file for Java and tell Tomcat where to find it by specifying its location to the JVM, for instance by setting the environment variable: `JAVA_OPTS=$JAVA_OPTS -Djava.security.auth.login.config=$CATALINA_BASE/conf/jaas.config`\r\n\r\nAdded\r\n\r\nFor Windows open startup.bat Add the following line: `set JAVA_OPTS=%JAVA_OPTS% -Djava.security.auth.login.config=%CATALINA_HOME%/conf/jaas.config after okHome`\r\n\r\ne.g.\r\n\r\n\r\n    set JAVA_OPTS=%JAVA_OPTS% -Djava.security.auth.login.config=%CATALINA_HOME%/conf/jaas.config\r\n    set &quot;EXECUTABLE=%CATALINA_HOME%\\bin\\catalina.bat&quot;","title":"Jaas Basic Authentication tomcat 7","body":"<p>According to <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/realm-howto.html#JAASRealm\" rel=\"nofollow\">http://tomcat.apache.org/tomcat-7.0-doc/realm-howto.html#JAASRealm</a></p>\n\n<p>You should set up a login.config file for Java and tell Tomcat where to find it by specifying its location to the JVM, for instance by setting the environment variable: <code>JAVA_OPTS=$JAVA_OPTS -Djava.security.auth.login.config=$CATALINA_BASE/conf/jaas.config</code></p>\n\n<p>Added</p>\n\n<p>For Windows open startup.bat Add the following line: <code>set JAVA_OPTS=%JAVA_OPTS% -Djava.security.auth.login.config=%CATALINA_HOME%/conf/jaas.config after okHome</code></p>\n\n<p>e.g.</p>\n\n<pre><code>set JAVA_OPTS=%JAVA_OPTS% -Djava.security.auth.login.config=%CATALINA_HOME%/conf/jaas.config\nset \"EXECUTABLE=%CATALINA_HOME%\\bin\\catalina.bat\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22269730,"reputation":11,"user_id":16499912,"display_name":"Paul_D_Edward"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648197768,"creation_date":1648190707,"answer_id":71613089,"question_id":19907421,"body_markdown":"Adding to the previous answer, you can also set the `JAVA_OPTS` in the `setenv.bat` file in the bin directory of tomcat home.\r\n\r\n```\r\nset &quot;JAVA_OPTS=%JAVA_OPTS% -Djava.security.auth.login.config=%CATALINA_HOME%/conf/jaasData.config&quot;\r\nexit /b 0\r\n```","title":"Jaas Basic Authentication tomcat 7","body":"<p>Adding to the previous answer, you can also set the <code>JAVA_OPTS</code> in the <code>setenv.bat</code> file in the bin directory of tomcat home.</p>\n<pre><code>set &quot;JAVA_OPTS=%JAVA_OPTS% -Djava.security.auth.login.config=%CATALINA_HOME%/conf/jaasData.config&quot;\nexit /b 0\n</code></pre>\n"}],"owner":{"account_id":3447320,"reputation":301,"user_id":2887817,"accept_rate":75,"display_name":"Lego_blocks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4695,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19907606,"answer_count":2,"score":1,"last_activity_date":1648197768,"creation_date":1384176006,"question_id":19907421,"body_markdown":"I keep on getting the same error, \r\nI have already changed the tomcat7w file that specifies the \r\njaas config file location\r\n    \r\n            javax.security.auth.login.LoginException: No LoginModules configured for    JaaSExample:\r\n            at javax.security.auth.login.LoginContext.init(LoginContext.java:273)\r\n    \tat javax.security.auth.login.LoginContext.&lt;init&gt;(LoginContext.java:514)\r\n    \tat org.apache.catalina.realm.JAASRealm.authenticate(JAASRealm.java:417)\r\n    \tat org.apache.catalina.realm.JAASRealm.authenticate(JAASRealm.java:356)\r\n    \tat org.apache.catalina.realm.CombinedRealm.authenticate(CombinedRealm.java:146)\r\n    \tat org.apache.catalina.realm.LockOutRealm.authenticate(LockOutRealm.java:180)\r\n    \tat    org.apache.catalina.authenticator.BasicAuthenticator.authenticate(BasicAuthenticator.java:166)\r\n    \tat  org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:574)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n    \tat   org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    \r\nI have already added this tom my tomcat7w.exe file.\r\n    \r\n        -Djava.security.auth.login.config=C:\\Program Files (x86)\\Apache Software                 Foundation\\Tomcat 7.0\\conf\\jaas.config\r\n    \r\nanother is that I also have this realm \r\n    \r\n        &lt;Realm className=&quot;org.apache.catalina.realm.JAASRealm&quot; \r\n        appName=&quot;JaaSExample&quot;\r\n        userClassNames=&quot;Security.UserPrincipal&quot; roleClassNames=&quot;Security.RolePrincipal&quot; /&gt;\r\n    \r\nso what am I missing? please help me,\r\n    \r\n    \r\nI am using netbeans, tomcat 7.0.47.\r\n    \r\n    thank you very much,\r\n\r\n\r\nI have resolved to using glassfish!","title":"Jaas Basic Authentication tomcat 7","body":"<p>I keep on getting the same error, \nI have already changed the tomcat7w file that specifies the \njaas config file location</p>\n\n<pre><code>        javax.security.auth.login.LoginException: No LoginModules configured for    JaaSExample:\n        at javax.security.auth.login.LoginContext.init(LoginContext.java:273)\n    at javax.security.auth.login.LoginContext.&lt;init&gt;(LoginContext.java:514)\n    at org.apache.catalina.realm.JAASRealm.authenticate(JAASRealm.java:417)\n    at org.apache.catalina.realm.JAASRealm.authenticate(JAASRealm.java:356)\n    at org.apache.catalina.realm.CombinedRealm.authenticate(CombinedRealm.java:146)\n    at org.apache.catalina.realm.LockOutRealm.authenticate(LockOutRealm.java:180)\n    at    org.apache.catalina.authenticator.BasicAuthenticator.authenticate(BasicAuthenticator.java:166)\n    at  org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:574)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at   org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>I have already added this tom my tomcat7w.exe file.</p>\n\n<pre><code>    -Djava.security.auth.login.config=C:\\Program Files (x86)\\Apache Software                 Foundation\\Tomcat 7.0\\conf\\jaas.config\n</code></pre>\n\n<p>another is that I also have this realm </p>\n\n<pre><code>    &lt;Realm className=\"org.apache.catalina.realm.JAASRealm\" \n    appName=\"JaaSExample\"\n    userClassNames=\"Security.UserPrincipal\" roleClassNames=\"Security.RolePrincipal\" /&gt;\n</code></pre>\n\n<p>so what am I missing? please help me,</p>\n\n<p>I am using netbeans, tomcat 7.0.47.</p>\n\n<pre><code>thank you very much,\n</code></pre>\n\n<p>I have resolved to using glassfish!</p>\n"},{"tags":["java","spring-boot","out-of-memory","apache-flink","mqtt"],"answers":[{"tags":[],"owner":{"account_id":1487443,"reputation":405,"user_id":1395361,"accept_rate":53,"display_name":"dominic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648197284,"creation_date":1648197284,"answer_id":71614089,"question_id":71492944,"body_markdown":"So I got fixed it. \r\n\r\nI don&#39;t know where the problem exactly was. \r\n\r\nI load a backup of my vm when all was working. Then I updated openjdk-11 to the latest version. After this the error appears again. \r\n\r\nSo it&#39;s really an problem with the update to openjdk-11-jdk 11.0.14. \r\n\r\nAfter deleting openjdk and make a clean reinstall all works fine again. \r\n\r\nMaybe this will help someone. ","title":"Direct Buffer Memory error when connecting mqtt","body":"<p>So I got fixed it.</p>\n<p>I don't know where the problem exactly was.</p>\n<p>I load a backup of my vm when all was working. Then I updated openjdk-11 to the latest version. After this the error appears again.</p>\n<p>So it's really an problem with the update to openjdk-11-jdk 11.0.14.</p>\n<p>After deleting openjdk and make a clean reinstall all works fine again.</p>\n<p>Maybe this will help someone.</p>\n"}],"owner":{"account_id":1487443,"reputation":405,"user_id":1395361,"accept_rate":53,"display_name":"dominic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71614089,"answer_count":1,"score":0,"last_activity_date":1648197284,"creation_date":1647414374,"question_id":71492944,"body_markdown":"we are running an Apache Beam Apllication on a Flink Cluster. \r\n\r\nSince a few days the application fails with the following error:\r\n\r\n        Caused by: javax.net.ssl.SSLException: failure when writing TLS control frames\r\n            at io.netty.handler.ssl.SslHandler.setHandshakeFailureTransportFailure(SslHandler.java:1870)\r\n            at io.netty.handler.ssl.SslHandler.access$600(SslHandler.java:167)\r\n            at io.netty.handler.ssl.SslHandler$2.operationComplete(SslHandler.java:985)\r\n            at io.netty.handler.ssl.SslHandler$2.operationComplete(SslHandler.java:980)\r\n            at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:577)\r\n            at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:551)\r\n            at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:490)\r\n            at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:183)\r\n            at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)\r\n            at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)\r\n            at io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:980)\r\n            at io.netty.handler.ssl.SslHandler.handshake(SslHandler.java:2046)\r\n            at io.netty.handler.ssl.SslHandler.startHandshakeProcessing(SslHandler.java:1966)\r\n            at io.netty.handler.ssl.SslHandler.channelActive(SslHandler.java:2101)\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:230)\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:216)\r\n            at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:209)\r\n            at io.netty.channel.DefaultChannelPipeline$HeadContext.channelActive(DefaultChannelPipeline.java:1398)\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:230)\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:216)\r\n            at io.netty.channel.DefaultChannelPipeline.fireChannelActive(DefaultChannelPipeline.java:895)\r\n            at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:305)\r\n            at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:335)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: java.lang.OutOfMemoryError: Direct buffer memory. The direct out-of-memory error has occurred. This can mean two things: either job(s) require(s) a larger size of JVM direct memory or there is a direct memory leak. The direct memory can be allocated by user code or some of its dependencies. In this case &#39;taskmanager.memory.task.off-heap.size&#39; configuration option should be increased. Flink framework and its dependencies also consume the direct memory, mostly for network communication. The most of network memory is managed by Flink and should not result in out-of-memory error. In certain special cases, in particular for jobs with high parallelism, the framework may require more direct memory which is not managed by Flink. In this case &#39;taskmanager.memory.framework.off-heap.size&#39; configuration option should be increased. If the error persists then there is probably a direct memory leak in user code or some of its dependencies which has to be investigated and fixed. The task executor has to be shutdown...\r\n\r\nThe connection is build up with the following method: \r\n \r\n\r\n    private Mqtt5AsyncClient setupClient() {\r\n        Mqtt5ClientBuilder mqttClientBuilder = Mqtt5Client.builder().identifier(&quot;beam-&quot;+UUID.randomUUID().toString())\r\n            .serverHost(properties.getServerHost()).serverPort(properties.getServerPort());\r\n        if (properties.getUsername() != null &amp;&amp; properties.getPassword() != null) {\r\n          mqttClientBuilder = mqttClientBuilder.simpleAuth().username(properties.getUsername())\r\n              .password(properties.getPassword().getBytes()).applySimpleAuth();\r\n        } else if (properties.getUsername() != null || properties.getPassword() != null) {\r\n          LoggerFactory.getLogger(getClass()).error(&quot;Both username and password must be provided!&quot;);\r\n        }\r\n    \r\n        if (properties.isSslEnabled()) { // Add ssl config if ssl is enabled\r\n          try {\r\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n            KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n            ks.load(new ByteArrayInputStream(truststore), properties.getTrustStorePassword().toCharArray());\r\n    \r\n            tmf.init(ks);\r\n    \r\n            if (properties.skipHostnameVerification()) { // Disable host name verification if required\r\n              mqttClientBuilder = mqttClientBuilder.sslConfig().trustManagerFactory(tmf)\r\n                  .hostnameVerifier(new NoopHostnameVerifier()).applySslConfig();\r\n            } else {\r\n              mqttClientBuilder = mqttClientBuilder.sslConfig().trustManagerFactory(tmf).applySslConfig();\r\n            }\r\n          } catch (NoSuchAlgorithmException | KeyStoreException | CertificateException | IOException e) {\r\n            LoggerFactory.getLogger(getClass()).error(&quot;Error while setting up ssl&quot;, e);\r\n          }\r\n        }\r\n    \r\n        Mqtt5BlockingClient newClient = mqttClientBuilder.buildBlocking();\r\n        newClient.connect();\r\n        \r\n        mqttClientCount.inc();\r\n        return newClient.toAsync();\r\n      }\r\n\r\n&gt; But it runs on my machine\r\nWhen I start the application from my eclipse project all works fine. So the error only happen in the Flink Cluster which makes debugging a little bit difficult. \r\n\r\nThe only thing that has changed on the server was an update to openjdk-11.0.14. Updating the java on my pc to the same version doesn&#39;t create the error at all. \r\n\r\nSo I&#39;m running out of ideas what could cause the error. \r\n\r\nSo I checked the following things\r\n\r\n - Is the SSL Zertificate valid --&gt; Yes \r\n - Is username and password correct --&gt; Yes \r\n - Is there any logging on the mqtt side --&gt; no\r\n\r\nIt seems the Java application fails before it could connect to the mqtt broker. Because there aren&#39;t any login attempts on the mqtt broker. \r\n\r\nWe are using spring-boot-2.1.18 and hivemq-mqtt-client:1.2.2. The Broker is an vernemq.\r\n\r\nAny suggestions are welcome. \r\n\r\nThanks in advance ","title":"Direct Buffer Memory error when connecting mqtt","body":"<p>we are running an Apache Beam Apllication on a Flink Cluster.</p>\n<p>Since a few days the application fails with the following error:</p>\n<pre><code>    Caused by: javax.net.ssl.SSLException: failure when writing TLS control frames\n        at io.netty.handler.ssl.SslHandler.setHandshakeFailureTransportFailure(SslHandler.java:1870)\n        at io.netty.handler.ssl.SslHandler.access$600(SslHandler.java:167)\n        at io.netty.handler.ssl.SslHandler$2.operationComplete(SslHandler.java:985)\n        at io.netty.handler.ssl.SslHandler$2.operationComplete(SslHandler.java:980)\n        at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:577)\n        at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:551)\n        at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:490)\n        at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:183)\n        at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)\n        at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)\n        at io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:980)\n        at io.netty.handler.ssl.SslHandler.handshake(SslHandler.java:2046)\n        at io.netty.handler.ssl.SslHandler.startHandshakeProcessing(SslHandler.java:1966)\n        at io.netty.handler.ssl.SslHandler.channelActive(SslHandler.java:2101)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:230)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:216)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:209)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelActive(DefaultChannelPipeline.java:1398)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:230)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:216)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelActive(DefaultChannelPipeline.java:895)\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:305)\n        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:335)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.OutOfMemoryError: Direct buffer memory. The direct out-of-memory error has occurred. This can mean two things: either job(s) require(s) a larger size of JVM direct memory or there is a direct memory leak. The direct memory can be allocated by user code or some of its dependencies. In this case 'taskmanager.memory.task.off-heap.size' configuration option should be increased. Flink framework and its dependencies also consume the direct memory, mostly for network communication. The most of network memory is managed by Flink and should not result in out-of-memory error. In certain special cases, in particular for jobs with high parallelism, the framework may require more direct memory which is not managed by Flink. In this case 'taskmanager.memory.framework.off-heap.size' configuration option should be increased. If the error persists then there is probably a direct memory leak in user code or some of its dependencies which has to be investigated and fixed. The task executor has to be shutdown...\n</code></pre>\n<p>The connection is build up with the following method:</p>\n<pre><code>private Mqtt5AsyncClient setupClient() {\n    Mqtt5ClientBuilder mqttClientBuilder = Mqtt5Client.builder().identifier(&quot;beam-&quot;+UUID.randomUUID().toString())\n        .serverHost(properties.getServerHost()).serverPort(properties.getServerPort());\n    if (properties.getUsername() != null &amp;&amp; properties.getPassword() != null) {\n      mqttClientBuilder = mqttClientBuilder.simpleAuth().username(properties.getUsername())\n          .password(properties.getPassword().getBytes()).applySimpleAuth();\n    } else if (properties.getUsername() != null || properties.getPassword() != null) {\n      LoggerFactory.getLogger(getClass()).error(&quot;Both username and password must be provided!&quot;);\n    }\n\n    if (properties.isSslEnabled()) { // Add ssl config if ssl is enabled\n      try {\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(new ByteArrayInputStream(truststore), properties.getTrustStorePassword().toCharArray());\n\n        tmf.init(ks);\n\n        if (properties.skipHostnameVerification()) { // Disable host name verification if required\n          mqttClientBuilder = mqttClientBuilder.sslConfig().trustManagerFactory(tmf)\n              .hostnameVerifier(new NoopHostnameVerifier()).applySslConfig();\n        } else {\n          mqttClientBuilder = mqttClientBuilder.sslConfig().trustManagerFactory(tmf).applySslConfig();\n        }\n      } catch (NoSuchAlgorithmException | KeyStoreException | CertificateException | IOException e) {\n        LoggerFactory.getLogger(getClass()).error(&quot;Error while setting up ssl&quot;, e);\n      }\n    }\n\n    Mqtt5BlockingClient newClient = mqttClientBuilder.buildBlocking();\n    newClient.connect();\n    \n    mqttClientCount.inc();\n    return newClient.toAsync();\n  }\n</code></pre>\n<blockquote>\n<p>But it runs on my machine\nWhen I start the application from my eclipse project all works fine. So the error only happen in the Flink Cluster which makes debugging a little bit difficult.</p>\n</blockquote>\n<p>The only thing that has changed on the server was an update to openjdk-11.0.14. Updating the java on my pc to the same version doesn't create the error at all.</p>\n<p>So I'm running out of ideas what could cause the error.</p>\n<p>So I checked the following things</p>\n<ul>\n<li>Is the SSL Zertificate valid --&gt; Yes</li>\n<li>Is username and password correct --&gt; Yes</li>\n<li>Is there any logging on the mqtt side --&gt; no</li>\n</ul>\n<p>It seems the Java application fails before it could connect to the mqtt broker. Because there aren't any login attempts on the mqtt broker.</p>\n<p>We are using spring-boot-2.1.18 and hivemq-mqtt-client:1.2.2. The Broker is an vernemq.</p>\n<p>Any suggestions are welcome.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","regex","kotlin"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":2,"creation_date":1631951253,"post_id":69232188,"comment_id":122366173,"body_markdown":"You don&#39;t need regex for this. Simple string replace is enough: `s.replace(&quot;\\\\/&quot;, &quot;/&quot;)`. Note that if &quot;/&quot; char is escaped then other similar chars may be escaped as well.","body":"You don&#39;t need regex for this. Simple string replace is enough: <code>s.replace(&quot;\\\\&#47;&quot;, &quot;&#47;&quot;)</code>. Note that if &quot;/&quot; char is escaped then other similar chars may be escaped as well."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631959494,"creation_date":1631959494,"answer_id":69233626,"question_id":69232188,"body_markdown":"You can use triple-quoted string literals (that act as raw string literals where backslashes are treated as literal chars and not part of string escape sequences) + [`kotlin.text.replace`][1]:\r\n```kotlin\r\nval text = &quot;&quot;&quot;http:/\\/books.google.com\\/books\\/content?id=0DwKEBD5ZBUC&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api&quot;&quot;&quot;\r\nprint(text.replace(&quot;&quot;&quot;\\/&quot;&quot;&quot;, &quot;/&quot;))\r\n```\r\nOutput:\r\n```\r\nhttp://books.google.com/books/content?id=0DwKEBD5ZBUC&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api\r\n```\r\nSee the [Kotlin demo][2].\r\n\r\n*NOTE*: you will need to double the backslashes in the regular string literal:\r\n```kotlin\r\nprint(text.replace(&quot;\\\\/&quot;, &quot;/&quot;))\r\n```\r\nIf you need to use this &quot;backslash + slash&quot; pattern in a regex you will need 2 backslashes in the triple-quoted string literal and 4 backslashes in a regular string literal:\r\n```kotlin\r\nprint(text.replace(&quot;&quot;&quot;\\\\/&quot;&quot;&quot;.toRegex(), &quot;/&quot;))\r\nprint(text.replace(&quot;\\\\\\\\/&quot;.toRegex(), &quot;/&quot;))\r\n```\r\n*NOTE*: There is no need to escape `/` forward slash in a Kotlin regex declaration as it is not a special regex metacharacter and Kotlin regexps are defined with string literals, not regex literals, and thus do not need regex delimiters (`/` is often used as a regex delimiter char in environments that support this notation).\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\r\n  [2]: https://ideone.com/TJBGHv","title":"Remove backslash before forward slash","body":"<p>You can use triple-quoted string literals (that act as raw string literals where backslashes are treated as literal chars and not part of string escape sequences) + <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\" rel=\"nofollow noreferrer\"><code>kotlin.text.replace</code></a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val text = &quot;&quot;&quot;http:/\\/books.google.com\\/books\\/content?id=0DwKEBD5ZBUC&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api&quot;&quot;&quot;\nprint(text.replace(&quot;&quot;&quot;\\/&quot;&quot;&quot;, &quot;/&quot;))\n</code></pre>\n<p>Output:</p>\n<pre><code>http://books.google.com/books/content?id=0DwKEBD5ZBUC&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api\n</code></pre>\n<p>See the <a href=\"https://ideone.com/TJBGHv\" rel=\"nofollow noreferrer\">Kotlin demo</a>.</p>\n<p><em>NOTE</em>: you will need to double the backslashes in the regular string literal:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>print(text.replace(&quot;\\\\/&quot;, &quot;/&quot;))\n</code></pre>\n<p>If you need to use this &quot;backslash + slash&quot; pattern in a regex you will need 2 backslashes in the triple-quoted string literal and 4 backslashes in a regular string literal:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>print(text.replace(&quot;&quot;&quot;\\\\/&quot;&quot;&quot;.toRegex(), &quot;/&quot;))\nprint(text.replace(&quot;\\\\\\\\/&quot;.toRegex(), &quot;/&quot;))\n</code></pre>\n<p><em>NOTE</em>: There is no need to escape <code>/</code> forward slash in a Kotlin regex declaration as it is not a special regex metacharacter and Kotlin regexps are defined with string literals, not regex literals, and thus do not need regex delimiters (<code>/</code> is often used as a regex delimiter char in environments that support this notation).</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631961578,"creation_date":1631961578,"answer_id":69233876,"question_id":69232188,"body_markdown":"You could match the protocol, and then replace the backslash followed by a forward slash by a forward slash only\r\n\r\n    https?:\\\\?/\\\\?/\\S+\r\n\r\nPattern in Java\r\n\r\n    String regex = &quot;https?:\\\\\\\\?/\\\\\\\\?/\\\\S+&quot;;\r\n\r\n[Java demo](https://ideone.com/uKPEp0) | [regex demo](https://regex101.com/r/g2ZWXQ/1)\r\n\r\nFor example in Java:\r\n\r\n    String regex = &quot;https?:\\\\\\\\?/\\\\\\\\?/\\\\S+&quot;; \r\n    String string = &quot;http:/\\\\/books.google.com\\\\/books\\\\/content?id=0DwKEBD5ZBUC&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api&quot;;\r\n      if(string.matches(regex)) {\r\n        System.out.println(string.replace(&quot;\\\\/&quot;, &quot;/&quot;));\r\n      }\r\n    }\r\n\r\n\r\nOutput\r\n\r\n    http://books.google.com/books/content?id=0DwKEBD5ZBUC&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api","title":"Remove backslash before forward slash","body":"<p>You could match the protocol, and then replace the backslash followed by a forward slash by a forward slash only</p>\n<pre><code>https?:\\\\?/\\\\?/\\S+\n</code></pre>\n<p>Pattern in Java</p>\n<pre><code>String regex = &quot;https?:\\\\\\\\?/\\\\\\\\?/\\\\S+&quot;;\n</code></pre>\n<p><a href=\"https://ideone.com/uKPEp0\" rel=\"nofollow noreferrer\">Java demo</a> | <a href=\"https://regex101.com/r/g2ZWXQ/1\" rel=\"nofollow noreferrer\">regex demo</a></p>\n<p>For example in Java:</p>\n<pre><code>String regex = &quot;https?:\\\\\\\\?/\\\\\\\\?/\\\\S+&quot;; \nString string = &quot;http:/\\\\/books.google.com\\\\/books\\\\/content?id=0DwKEBD5ZBUC&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api&quot;;\n  if(string.matches(regex)) {\n    System.out.println(string.replace(&quot;\\\\/&quot;, &quot;/&quot;));\n  }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>http://books.google.com/books/content?id=0DwKEBD5ZBUC&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663778,"reputation":10555,"user_id":1564065,"accept_rate":44,"display_name":"Pir Fahim Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648197266,"creation_date":1648197266,"answer_id":71614083,"question_id":69232188,"body_markdown":"I had same problem and my url was:\r\n\r\n    String url=&quot;https:\\\\/\\\\/www.dailymotion.com\\\\/cdn\\\\/H264-320x240\\\\/video\\\\/x83iqpl.mp4?sec=zaJEh8Q2ahOorzbKJTOI7b5FX3QT8OXSbnjpCAnNyUWNHl1kqXq0D9F8iLMFJ0ocg120B-dMbEE5kDQJN4hYIA&quot;;\r\n\r\nI solved it with this code:\t\t\r\n            \r\n     replace(&quot;\\\\/&quot;, &quot;/&quot;);\r\n\r\n","title":"Remove backslash before forward slash","body":"<p>I had same problem and my url was:</p>\n<pre><code>String url=&quot;https:\\\\/\\\\/www.dailymotion.com\\\\/cdn\\\\/H264-320x240\\\\/video\\\\/x83iqpl.mp4?sec=zaJEh8Q2ahOorzbKJTOI7b5FX3QT8OXSbnjpCAnNyUWNHl1kqXq0D9F8iLMFJ0ocg120B-dMbEE5kDQJN4hYIA&quot;;\n</code></pre>\n<p>I solved it with this code:</p>\n<pre><code> replace(&quot;\\\\/&quot;, &quot;/&quot;);\n</code></pre>\n"}],"owner":{"account_id":20231397,"reputation":97,"user_id":14837848,"display_name":"MakeTheErrorDie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69233626,"answer_count":3,"score":1,"last_activity_date":1648197266,"creation_date":1631946640,"question_id":69232188,"body_markdown":"Context:  [GoogleBooks API returing unexpected thumbnail url](https://stackoverflow.com/questions/69226805/google-books-api-returning-unexpected-thumbnail-url)\r\n\r\n\r\nOk so i found the reason for the problem i had in [that](https://stackoverflow.com/questions/69226805/google-books-api-returning-unexpected-thumbnail-url) question\r\n\r\nwhat i found was the returned url from the googlebooks api was something like this:\r\n```\r\nhttp:/\\/books.google.com\\/books\\/content?id=0DwKEBD5ZBUC&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api\r\n```\r\n\r\nGoing to that url would return a error, but if i replaced the &quot;\\ /&quot;s with &quot;/&quot; it would return the proper url  \r\n\r\nis there something like a java/kotlin regex that would change this `http:/\\/books.google.com\\/` to this `http://books.google.com/`\r\n(i know a bit of regex in python but I&#39;m clueless in java/kotlin)\r\n\r\nthank you","title":"Remove backslash before forward slash","body":"<p>Context:  <a href=\"https://stackoverflow.com/questions/69226805/google-books-api-returning-unexpected-thumbnail-url\">GoogleBooks API returing unexpected thumbnail url</a></p>\n<p>Ok so i found the reason for the problem i had in <a href=\"https://stackoverflow.com/questions/69226805/google-books-api-returning-unexpected-thumbnail-url\">that</a> question</p>\n<p>what i found was the returned url from the googlebooks api was something like this:</p>\n<pre><code>http:/\\/books.google.com\\/books\\/content?id=0DwKEBD5ZBUC&amp;printsec=frontcover&amp;img=1&amp;zoom=5&amp;source=gbs_api\n</code></pre>\n<p>Going to that url would return a error, but if i replaced the &quot;\\ /&quot;s with &quot;/&quot; it would return the proper url</p>\n<p>is there something like a java/kotlin regex that would change this <code>http:/\\/books.google.com\\/</code> to this <code>http://books.google.com/</code>\n(i know a bit of regex in python but I'm clueless in java/kotlin)</p>\n<p>thank you</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644395949,"creation_date":1644395949,"answer_id":71046337,"question_id":70981421,"body_markdown":"Could you try to install the extension of [Prettier - Code formatter][1], and set it as the default formatter of javascript?\r\n\r\n      &quot;[javascript]&quot;: {\r\n        &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;\r\n      },\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode","title":"VS Code default JS formatter not removing empty spaces","body":"<p>Could you try to install the extension of <a href=\"https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode\" rel=\"nofollow noreferrer\">Prettier - Code formatter</a>, and set it as the default formatter of javascript?</p>\n<pre><code>  &quot;[javascript]&quot;: {\n    &quot;editor.defaultFormatter&quot;: &quot;esbenp.prettier-vscode&quot;\n  },\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24347399,"reputation":101,"user_id":18283743,"display_name":"1y0una"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648197182,"creation_date":1646371910,"answer_id":71346999,"question_id":70981421,"body_markdown":"A few extensions can do this such as Prettier 、Eslint、Vetur and so on. You can download it according to the function you want, and then set them in `settings.json`. You can modify it during the usage of the extension you have inatalled. Besides, you can also do some change accroding to this :[enter link description here][1]\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/editor/codebasics#_formatting","title":"VS Code default JS formatter not removing empty spaces","body":"<p>A few extensions can do this such as Prettier 、Eslint、Vetur and so on. You can download it according to the function you want, and then set them in <code>settings.json</code>. You can modify it during the usage of the extension you have inatalled. Besides, you can also do some change accroding to this :<a href=\"https://code.visualstudio.com/docs/editor/codebasics#_formatting\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}],"owner":{"account_id":22319245,"reputation":41,"user_id":16542113,"display_name":"Ankit Biswas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648197182,"creation_date":1643948990,"question_id":70981421,"body_markdown":"How to make VS Code default JS formatter to remove empty white spaces? \r\n\r\nI want the following code:\r\n```\r\nfunction Greetings()\r\n{\r\n  return &lt;h1&gt;Hello World&lt;/h1&gt;;\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nto look like:\r\n```\r\nfunction Greetings()\r\n{\r\n  return &lt;h1&gt;Hello World&lt;/h1&gt;;\r\n}\r\n```","title":"VS Code default JS formatter not removing empty spaces","body":"<p>How to make VS Code default JS formatter to remove empty white spaces?</p>\n<p>I want the following code:</p>\n<pre><code>function Greetings()\n{\n  return &lt;h1&gt;Hello World&lt;/h1&gt;;\n\n\n\n\n}\n\n</code></pre>\n<p>to look like:</p>\n<pre><code>function Greetings()\n{\n  return &lt;h1&gt;Hello World&lt;/h1&gt;;\n}\n</code></pre>\n"},{"tags":["java","dependency-injection","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648196160,"creation_date":1648137103,"answer_id":71605554,"question_id":71604760,"body_markdown":"[As stated into the documentation that you are referring to][1], you need to add the next dependency to your project:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n    &lt;artifactId&gt;camel-componentdsl&lt;/artifactId&gt;\r\n    &lt;version&gt;x.x.x&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWhere `x.x.x` is the same version as the version of Camel that you use\r\n\r\nIf you don&#39;t use any build tool like maven, gradle..., you can download the jar file [directly from the repository][1] and add it to your classpath.\r\n\r\n---\r\n\r\nDon&#39;t forget to properly manage your property placeholders `{{kafka.host}}` and `{{kafka.port}}` as described [here][2] or replace `&quot;{{kafka.host}}:{{kafka.port}}&quot;` with your target broker hostname and port. \r\n\r\n\r\n  [1]: https://search.maven.org/artifact/org.apache.camel/camel-componentdsl\r\n  [2]: https://camel.apache.org/manual/using-propertyplaceholder.html#_property_placeholders_referring_to_other_properties","title":"ComponentsBuilderFactory cannot be resolved","body":"<p><a href=\"https://search.maven.org/artifact/org.apache.camel/camel-componentdsl\" rel=\"nofollow noreferrer\">As stated into the documentation that you are referring to</a>, you need to add the next dependency to your project:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-componentdsl&lt;/artifactId&gt;\n    &lt;version&gt;x.x.x&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Where <code>x.x.x</code> is the same version as the version of Camel that you use</p>\n<p>If you don't use any build tool like maven, gradle..., you can download the jar file <a href=\"https://search.maven.org/artifact/org.apache.camel/camel-componentdsl\" rel=\"nofollow noreferrer\">directly from the repository</a> and add it to your classpath.</p>\n<hr />\n<p>Don't forget to properly manage your property placeholders <code>{{kafka.host}}</code> and <code>{{kafka.port}}</code> as described <a href=\"https://camel.apache.org/manual/using-propertyplaceholder.html#_property_placeholders_referring_to_other_properties\" rel=\"nofollow noreferrer\">here</a> or replace <code>&quot;{{kafka.host}}:{{kafka.port}}&quot;</code> with your target broker hostname and port.</p>\n"}],"owner":{"account_id":18210444,"reputation":184,"user_id":13253079,"display_name":"theerrormagnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71605554,"answer_count":1,"score":0,"last_activity_date":1648196160,"creation_date":1648133807,"question_id":71604760,"body_markdown":"Following the official documentation (https://camel.apache.org/manual/component-dsl.html#_using_component_dsl) I created this code:\r\n\r\n```\r\npackage mygroupid.standalone;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.impl.DefaultCamelContext;\r\n\r\npublic class MyMain {\r\n    public static void main(String[] args) throws Exception {\r\n        CamelContext context = new DefaultCamelContext();\r\n        context.start();\r\n\r\n        ComponentsBuilderFactory.kafka()\r\n                        .brokers(&quot;{{kafka.host}}:{{kafka.port}}&quot;)\r\n                        .register(camelContext, &quot;kafka&quot;);\r\n\r\n        context.close();\r\n    }\r\n}\r\n```\r\nBut the `Red Hat Language Server` in `VSCode` tells me:\\\r\n`ComponentsBuilderFactory cannot be resolved`\r\n\r\nAnd the `quick fix` feature in `VSCode` doesn&#39;t propose an import of a corresponding library.\r\n\r\nCan someone point me to the right direction?&lt;br&gt;\r\nDo I have to understand the concept of `dependency injection` to do this?","title":"ComponentsBuilderFactory cannot be resolved","body":"<p>Following the official documentation (<a href=\"https://camel.apache.org/manual/component-dsl.html#_using_component_dsl\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/component-dsl.html#_using_component_dsl</a>) I created this code:</p>\n<pre><code>package mygroupid.standalone;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.impl.DefaultCamelContext;\n\npublic class MyMain {\n    public static void main(String[] args) throws Exception {\n        CamelContext context = new DefaultCamelContext();\n        context.start();\n\n        ComponentsBuilderFactory.kafka()\n                        .brokers(&quot;{{kafka.host}}:{{kafka.port}}&quot;)\n                        .register(camelContext, &quot;kafka&quot;);\n\n        context.close();\n    }\n}\n</code></pre>\n<p>But the <code>Red Hat Language Server</code> in <code>VSCode</code> tells me:<br />\n<code>ComponentsBuilderFactory cannot be resolved</code></p>\n<p>And the <code>quick fix</code> feature in <code>VSCode</code> doesn't propose an import of a corresponding library.</p>\n<p>Can someone point me to the right direction?<br>\nDo I have to understand the concept of <code>dependency injection</code> to do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":4,"creation_date":1648192949,"post_id":71613336,"comment_id":126566954,"body_markdown":"`public class Object{` won&#39;t compile, but can you please clarify what output you&#39;re expecting? Are you trying to group the user&#39;s hobbies by their names? If so, what&#39;s wrong with a Map object?","body":"<code>public class Object{</code> won&#39;t compile, but can you please clarify what output you&#39;re expecting? Are you trying to group the user&#39;s hobbies by their names? If so, what&#39;s wrong with a Map object?"},{"owner":{"account_id":14837517,"reputation":172,"user_id":10715144,"display_name":"P Mittal"},"score":0,"creation_date":1648194373,"post_id":71613336,"comment_id":126567324,"body_markdown":"Your question is not clear as to what is expected in the output. Your class name is HobbySortedByUserName so it should have two variables - String hobby and List&lt;String&gt; userNames. Can you please recheck your question and confirm.","body":"Your question is not clear as to what is expected in the output. Your class name is HobbySortedByUserName so it should have two variables - String hobby and List&lt;String&gt; userNames. Can you please recheck your question and confirm."}],"answers":[{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648195686,"creation_date":1648193109,"answer_id":71613403,"question_id":71613336,"body_markdown":"You want to (1) group `User` objects by name, which internally utilizes `Map`, as well as you want to (2) present `Map`-like data as `List`. I am afraid the Stream API is not so powerful to satisfy both your requirements using single stream. \r\n\r\nYou can directly create result object (BTW please rename your custom class to something specific, the name `Object` attracts downvotes to otherwise good question) in downstream collector of `groupingBy` but still you need extra stream to flatten map entry values into result list:\r\n\r\n```java\r\nlistOfUsers.stream()\r\n        .collect(groupingBy(User::getName, collectingAndThen(toList(), l -&gt; new YourObject(l.get(0).getName(), l.stream().map(User::getHobby).collect(toList())))))\r\n        .values().stream()\r\n        .collect(toList());\r\n```\r\n\r\nwhich is code I definitely don&#39;t want to get for code review.\r\n\r\n\r\n---\r\n**Original answer (no longer valid, thanks to @shmosel):**\r\n\r\nJust transform map entries:\r\n\r\n```java\r\nlistOfUsers.stream()\r\n\t\t.collect(groupingBy(User::getName, mapping(User::getHobby, toList())))\r\n\t\t// you are here now ^\r\n\t\t.entrySet().stream()\r\n\t\t.map(entry -&gt; new YourObject(entry.getKey(), entry.getValue()))\r\n\t\t.collect(toList());\r\n```\r\n","title":"Can I obtaine a List of objects with a stream?","body":"<p>You want to (1) group <code>User</code> objects by name, which internally utilizes <code>Map</code>, as well as you want to (2) present <code>Map</code>-like data as <code>List</code>. I am afraid the Stream API is not so powerful to satisfy both your requirements using single stream.</p>\n<p>You can directly create result object (BTW please rename your custom class to something specific, the name <code>Object</code> attracts downvotes to otherwise good question) in downstream collector of <code>groupingBy</code> but still you need extra stream to flatten map entry values into result list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>listOfUsers.stream()\n        .collect(groupingBy(User::getName, collectingAndThen(toList(), l -&gt; new YourObject(l.get(0).getName(), l.stream().map(User::getHobby).collect(toList())))))\n        .values().stream()\n        .collect(toList());\n</code></pre>\n<p>which is code I definitely don't want to get for code review.</p>\n<hr />\n<p><strong>Original answer (no longer valid, thanks to @shmosel):</strong></p>\n<p>Just transform map entries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>listOfUsers.stream()\n        .collect(groupingBy(User::getName, mapping(User::getHobby, toList())))\n        // you are here now ^\n        .entrySet().stream()\n        .map(entry -&gt; new YourObject(entry.getKey(), entry.getValue()))\n        .collect(toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648193191,"creation_date":1648193191,"answer_id":71613414,"question_id":71613336,"body_markdown":"You can convert your map to list with `Map` api like\r\n\r\n    map.entrySet()\r\n                .stream().map(e -&gt; new YourDesiredObject&lt;&gt;(e.getKey(), e.getValue()))\r\n                .collect(Collectors.toList());","title":"Can I obtaine a List of objects with a stream?","body":"<p>You can convert your map to list with <code>Map</code> api like</p>\n<pre><code>map.entrySet()\n            .stream().map(e -&gt; new YourDesiredObject&lt;&gt;(e.getKey(), e.getValue()))\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648194991,"creation_date":1648194991,"answer_id":71613684,"question_id":71613336,"body_markdown":"You could do something like this:\r\n\r\n    List&lt;UserHobbies&gt; grouped = users.stream()\r\n            .sorted(Comparator.comparing(User::getName))\r\n            .collect(LinkedList::new,\r\n                    (list, user) -&gt; {\r\n                        if (list.isEmpty() || !list.getLast().getName().equals(user.getName())) {\r\n                            list.add(new UserHobbies(user.getName()));\r\n                        }\r\n                        list.getLast().addHobby(user.getHobby());\r\n                    },\r\n                    (list1, list2) -&gt; {\r\n                        if (list1.size() &gt; 0 &amp;&amp; list2.size() &gt; 0\r\n                                &amp;&amp; list1.getLast().getName().equals(list2.getFirst().getName())) {\r\n                            list1.getLast().getHobbies().addAll(list2.removeFirst().getHobbies());\r\n                        }\r\n                        list1.addAll(list2);\r\n                    });\r\n\r\nBut honestly, using a map, or even a simple loop, would be much cleaner and probably more efficient.","title":"Can I obtaine a List of objects with a stream?","body":"<p>You could do something like this:</p>\n<pre><code>List&lt;UserHobbies&gt; grouped = users.stream()\n        .sorted(Comparator.comparing(User::getName))\n        .collect(LinkedList::new,\n                (list, user) -&gt; {\n                    if (list.isEmpty() || !list.getLast().getName().equals(user.getName())) {\n                        list.add(new UserHobbies(user.getName()));\n                    }\n                    list.getLast().addHobby(user.getHobby());\n                },\n                (list1, list2) -&gt; {\n                    if (list1.size() &gt; 0 &amp;&amp; list2.size() &gt; 0\n                            &amp;&amp; list1.getLast().getName().equals(list2.getFirst().getName())) {\n                        list1.getLast().getHobbies().addAll(list2.removeFirst().getHobbies());\n                    }\n                    list1.addAll(list2);\n                });\n</code></pre>\n<p>But honestly, using a map, or even a simple loop, would be much cleaner and probably more efficient.</p>\n"}],"owner":{"account_id":4281989,"reputation":1435,"user_id":4252339,"accept_rate":46,"display_name":"anubis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1648195686,"creation_date":1648192681,"question_id":71613336,"body_markdown":"I have a list of objects:\r\n\r\n    public class User{\r\n    String name;\r\n    String hobby;\r\n    }\r\nAnd concrete\r\n\r\n    User1 = { name1, hobby1 }\r\n    User2 = { name1, hobby2 }\r\n    User3 = { name2, hobby1 }\r\n    User4 = { name1, hobby3 }\r\n\r\nI want to obtain now an object containing :\r\n\r\n    public class HobbySortedByUserName{\r\n    String name;\r\n    List&lt;String&gt; hobbys;\r\n    }\r\n\r\nResult will be:\r\n\r\n    List&lt;HobbySortedByUserName&gt; list;\r\n    First element:\r\n    { &quot;name1&quot;, [ &quot;hobby1&quot;, &quot;hobby2&quot;, &quot;hobby3&quot;]}\r\n    Seconde element:\r\n    { &quot;name2&quot;, [ &quot;hobby1&quot; ])\r\n\r\nIf I use streams, I can obtain this as a Map&lt;String, List &lt; String &gt; &gt; . But I want to have a List of Objects and not a map.\r\n\r\nI can do a new Stream from the map, and map each value in the object, but I don&#39;t think that a good practise, as I do 2 times a Stream.\r\n\r\nHow can I achieve them?","title":"Can I obtaine a List of objects with a stream?","body":"<p>I have a list of objects:</p>\n<pre><code>public class User{\nString name;\nString hobby;\n}\n</code></pre>\n<p>And concrete</p>\n<pre><code>User1 = { name1, hobby1 }\nUser2 = { name1, hobby2 }\nUser3 = { name2, hobby1 }\nUser4 = { name1, hobby3 }\n</code></pre>\n<p>I want to obtain now an object containing :</p>\n<pre><code>public class HobbySortedByUserName{\nString name;\nList&lt;String&gt; hobbys;\n}\n</code></pre>\n<p>Result will be:</p>\n<pre><code>List&lt;HobbySortedByUserName&gt; list;\nFirst element:\n{ &quot;name1&quot;, [ &quot;hobby1&quot;, &quot;hobby2&quot;, &quot;hobby3&quot;]}\nSeconde element:\n{ &quot;name2&quot;, [ &quot;hobby1&quot; ])\n</code></pre>\n<p>If I use streams, I can obtain this as a Map&lt;String, List &lt; String &gt; &gt; . But I want to have a List of Objects and not a map.</p>\n<p>I can do a new Stream from the map, and map each value in the object, but I don't think that a good practise, as I do 2 times a Stream.</p>\n<p>How can I achieve them?</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1611085204,"creation_date":1534521470,"answer_id":51899116,"question_id":51898966,"body_markdown":"Maybe [delegated properties](https://kotlinlang.org/docs/reference/delegated-properties.html) is something for you. That way you can also just adapt the map. That however also allows adding keys and values which aren&#39;t 1:1 mappable to your class properties, e.g.:\r\n\r\n    class YourData { \r\n      val backedMap = mutableMapOf&lt;String, String&gt;()\r\n      var someProp by backedMap\r\n    }\r\n    \r\n    val obj = YourData().apply {\r\n        someProp = &quot;value&quot;\r\n    }\r\n\r\nNow if `backedMap` is visible, then the following can also be added, even though there does not exist any such property:\r\n\r\n    obj.backedMap[&quot;unknown prop&quot;] = &quot;some other value&quot;\r\n\r\nOn the other hand however the same map can be used to automatically fill up your fields:\r\n\r\n    val sourceMap = mutableMapOf(&quot;someProp&quot; to &quot;newValue&quot;) // the map you want to use to automatically fill up your data class\r\n    sourceMap.forEach { key, newValue -&gt; obj.backedMap[key] = newValue }\r\n\r\nAnother way is to &quot;just&quot; use reflection. That way you omit the backing map and rather just scan the properties instead, e.g.:\r\n\r\n```\r\nYourData::class.memberProperties.asSequence()\r\n                                .filterIsInstance&lt;KMutableProperty&lt;*&gt;&gt;()\r\n                                .filter { it.name in sourceMap.keys }\r\n                                .forEach { prop -&gt;\r\n                                  prop.setter.call(obj, sourceMap[prop.name])\r\n                                }\r\n```","title":"Convert a Map to a Data Class","body":"<p>Maybe <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegated properties</a> is something for you. That way you can also just adapt the map. That however also allows adding keys and values which aren't 1:1 mappable to your class properties, e.g.:</p>\n<pre><code>class YourData { \n  val backedMap = mutableMapOf&lt;String, String&gt;()\n  var someProp by backedMap\n}\n\nval obj = YourData().apply {\n    someProp = &quot;value&quot;\n}\n</code></pre>\n<p>Now if <code>backedMap</code> is visible, then the following can also be added, even though there does not exist any such property:</p>\n<pre><code>obj.backedMap[&quot;unknown prop&quot;] = &quot;some other value&quot;\n</code></pre>\n<p>On the other hand however the same map can be used to automatically fill up your fields:</p>\n<pre><code>val sourceMap = mutableMapOf(&quot;someProp&quot; to &quot;newValue&quot;) // the map you want to use to automatically fill up your data class\nsourceMap.forEach { key, newValue -&gt; obj.backedMap[key] = newValue }\n</code></pre>\n<p>Another way is to &quot;just&quot; use reflection. That way you omit the backing map and rather just scan the properties instead, e.g.:</p>\n<pre><code>YourData::class.memberProperties.asSequence()\n                                .filterIsInstance&lt;KMutableProperty&lt;*&gt;&gt;()\n                                .filter { it.name in sourceMap.keys }\n                                .forEach { prop -&gt;\n                                  prop.setter.call(obj, sourceMap[prop.name])\n                                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2232270,"reputation":3813,"user_id":2351110,"display_name":"mattmess1221"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1589032484,"creation_date":1534521479,"answer_id":51899118,"question_id":51898966,"body_markdown":"Why not just use a map delegate?\r\n\r\n    class MyData(val map: Map&lt;String, String&gt;) {\r\n        val foo by map\r\n        val bar by map\r\n    }\r\n\r\nOr you can wrap it using a companion object and call it using `MyData.from(mymap)`\r\n\r\n    data class MyData(val foo: String, val bar: String) {\r\n        companion object {\r\n            fun from(map: Map&lt;String, String&gt;) = object {\r\n                val foo by map\r\n                val bar by map\r\n\r\n                val data = MyData(foo, bar)\r\n            }.data\r\n        }","title":"Convert a Map to a Data Class","body":"<p>Why not just use a map delegate?</p>\n\n<pre><code>class MyData(val map: Map&lt;String, String&gt;) {\n    val foo by map\n    val bar by map\n}\n</code></pre>\n\n<p>Or you can wrap it using a companion object and call it using <code>MyData.from(mymap)</code></p>\n\n<pre><code>data class MyData(val foo: String, val bar: String) {\n    companion object {\n        fun from(map: Map&lt;String, String&gt;) = object {\n            val foo by map\n            val bar by map\n\n            val data = MyData(foo, bar)\n        }.data\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12016455,"reputation":1936,"user_id":8791436,"display_name":"mindlid"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1620625087,"creation_date":1620513100,"answer_id":67452722,"question_id":51898966,"body_markdown":"using kotlin reflection to map constructor parameters to map values\r\nthis generic function will work for any class that receives field data in the primary constructor\r\n\r\nWorks well with JSON dbs like firebase and was tested with Map objects from Firebase DocumentSnapshot.data\r\n\r\n    fun &lt;T : Any&gt; mapToObject(map: Map&lt;String, Any&gt;, clazz: KClass&lt;T&gt;) : T {\r\n        //Get default constructor\r\n        val constructor = clazz.constructors.first()\r\n        \r\n        //Map constructor parameters to map values\r\n        val args = constructor\r\n        .parameters\r\n        .map { it to map.get(it.name) }\r\n        .toMap()\r\n       \r\n        //return object from constructor call\r\n        return constructor.callBy(args)\r\n    }\r\n\r\nwith some class\r\n\r\n    data class Person(val firs: String, val last: String)\r\n\r\nuse like this\r\n\r\n    mapToObject(map, Person::class)","title":"Convert a Map to a Data Class","body":"<p>using kotlin reflection to map constructor parameters to map values\nthis generic function will work for any class that receives field data in the primary constructor</p>\n<p>Works well with JSON dbs like firebase and was tested with Map objects from Firebase DocumentSnapshot.data</p>\n<pre><code>fun &lt;T : Any&gt; mapToObject(map: Map&lt;String, Any&gt;, clazz: KClass&lt;T&gt;) : T {\n    //Get default constructor\n    val constructor = clazz.constructors.first()\n    \n    //Map constructor parameters to map values\n    val args = constructor\n    .parameters\n    .map { it to map.get(it.name) }\n    .toMap()\n   \n    //return object from constructor call\n    return constructor.callBy(args)\n}\n</code></pre>\n<p>with some class</p>\n<pre><code>data class Person(val firs: String, val last: String)\n</code></pre>\n<p>use like this</p>\n<pre><code>mapToObject(map, Person::class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9029850,"reputation":115,"user_id":13645162,"display_name":"Onwuka Daniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648195518,"creation_date":1648195518,"answer_id":71613765,"question_id":51898966,"body_markdown":"Though this is coming late, but it may help someone like it just helped me.\r\n\r\nI reviewed @killjoy &#39;s comment and immediately I was mind struck that my honest answer had being on my lap since.\r\n\r\nAnswer:\r\nUsing any Json libary e.g GSON() or JSon Kotlin serilization Libary, this problem can  be solved.\r\n\r\nThis is a generic example:\r\n\r\n    \r\n        allUploadsLiveData.observe(viewLifecycleOwner, {\r\n            val userUploads = ((it.value as HashMap&lt;*, *&gt;).values.toList())\r\n            for (upload in userUploads){\r\n                val product = ((upload as HashMap&lt;*, *&gt;).values.toList()[0] as HashMap&lt;*, *&gt;)\r\n                \r\n                // Use Gson() to convert to Json format \r\n                val json = Gson().toJson(product)\r\n                try {\r\n                    //Use Gson() to convert to Your custom class. For me here is ProductData\r\n                    val data = Gson().fromJson(json, ProductData::class.java)\r\n                    println(&quot;This is all the new data *********************************** ${data.productImageUrl}&quot;)\r\n                } catch (e: Exception){\r\n                    println(&quot;Exception *************** $${e.printStackTrace()}&quot;)\r\n                }\r\n            }\r\n        })\r\n\r\nDon&#39;t forget to add Gson() dependency\r\nversion 2.9.0 is the most resent version at this time of my response.\r\nReplace the version with the most rest from [Google Gson][1]\r\n\r\n\r\n    \r\n    implementation &quot;com.google.code.gson:gson:2.8.8&quot;\r\n\r\n\r\n  [1]: https://github.com/google/gson","title":"Convert a Map to a Data Class","body":"<p>Though this is coming late, but it may help someone like it just helped me.</p>\n<p>I reviewed @killjoy 's comment and immediately I was mind struck that my honest answer had being on my lap since.</p>\n<p>Answer:\nUsing any Json libary e.g GSON() or JSon Kotlin serilization Libary, this problem can  be solved.</p>\n<p>This is a generic example:</p>\n<pre><code>    allUploadsLiveData.observe(viewLifecycleOwner, {\n        val userUploads = ((it.value as HashMap&lt;*, *&gt;).values.toList())\n        for (upload in userUploads){\n            val product = ((upload as HashMap&lt;*, *&gt;).values.toList()[0] as HashMap&lt;*, *&gt;)\n            \n            // Use Gson() to convert to Json format \n            val json = Gson().toJson(product)\n            try {\n                //Use Gson() to convert to Your custom class. For me here is ProductData\n                val data = Gson().fromJson(json, ProductData::class.java)\n                println(&quot;This is all the new data *********************************** ${data.productImageUrl}&quot;)\n            } catch (e: Exception){\n                println(&quot;Exception *************** $${e.printStackTrace()}&quot;)\n            }\n        }\n    })\n</code></pre>\n<p>Don't forget to add Gson() dependency\nversion 2.9.0 is the most resent version at this time of my response.\nReplace the version with the most rest from <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Google Gson</a></p>\n<pre><code>implementation &quot;com.google.code.gson:gson:2.8.8&quot;\n</code></pre>\n"}],"owner":{"account_id":1314657,"reputation":25646,"user_id":1261825,"accept_rate":74,"display_name":"samanime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16572,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":51899118,"answer_count":4,"score":13,"last_activity_date":1648195518,"creation_date":1534520987,"question_id":51898966,"body_markdown":"Is there an easy method in Kotlin to allow me to convert a Map to an arbitrary data class?\r\n\r\nThe Map I&#39;m trying to convert has all of the keys of the required fields of the data class.\r\n\r\nI&#39;ve hunted around, but haven&#39;t been able to find anything that seems to talk about doing this in a very generic way.\r\n\r\nI know that I can use `ObjectMapper`, but that requires an extra library. Looking for something that is available just with Kotlin.","title":"Convert a Map to a Data Class","body":"<p>Is there an easy method in Kotlin to allow me to convert a Map to an arbitrary data class?</p>\n\n<p>The Map I'm trying to convert has all of the keys of the required fields of the data class.</p>\n\n<p>I've hunted around, but haven't been able to find anything that seems to talk about doing this in a very generic way.</p>\n\n<p>I know that I can use <code>ObjectMapper</code>, but that requires an extra library. Looking for something that is available just with Kotlin.</p>\n"},{"tags":["java","c#","json",".net","jil"],"comments":[{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":0,"creation_date":1648190185,"post_id":71612993,"comment_id":126566273,"body_markdown":"_&quot;In C# DateTime serialization return Unix format like this&quot;_ - I haven&#39;t seen that as the default for any JSON serializer I&#39;ve used. Which one are you using?","body":"<i>&quot;In C# DateTime serialization return Unix format like this&quot;</i> - I haven&#39;t seen that as the default for any JSON serializer I&#39;ve used. Which one are you using?"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1648190198,"post_id":71612993,"comment_id":126566275,"body_markdown":"&quot;In C# DateTime serialization return Unix format like this&quot; - I think you mean that&#39;s the default of Jil. It&#39;s not the default of any of the serialization libraries I&#39;ve used. Please provide a [mcve] so that it&#39;s easier to help you. (You might also want to consider whether you *have* to stick with Jil. The fact that the last stable release was in three years ago isn&#39;t encouraging.)","body":"&quot;In C# DateTime serialization return Unix format like this&quot; - I think you mean that&#39;s the default of Jil. It&#39;s not the default of any of the serialization libraries I&#39;ve used. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so that it&#39;s easier to help you. (You might also want to consider whether you <i>have</i> to stick with Jil. The fact that the last stable release was in three years ago isn&#39;t encouraging.)"},{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":2,"creation_date":1648190680,"post_id":71612993,"comment_id":126566367,"body_markdown":"Mandatory https://xkcd.com/1179/. You really should use standard date time format (ISO 8601), especially if you are looking for interoperability between languages/platforms. Even if you have to convert DateTime to string yourself you save yourself a lot of headache. (Clearly this note is not an answer and not even suitable for comment as it is not asking for clarification. Looks like it is unkind trolling and should be flagged as such)","body":"Mandatory <a href=\"https://xkcd.com/1179/\" rel=\"nofollow noreferrer\">xkcd.com/1179</a>. You really should use standard date time format (ISO 8601), especially if you are looking for interoperability between languages/platforms. Even if you have to convert DateTime to string yourself you save yourself a lot of headache. (Clearly this note is not an answer and not even suitable for comment as it is not asking for clarification. Looks like it is unkind trolling and should be flagged as such)"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1648190769,"post_id":71612993,"comment_id":126566386,"body_markdown":"Yup, I&#39;d suggest changing both the Java *and* the C# code to ISO-8601 - your first timestamp would be &quot;2022-03-25T06:45:23Z&quot; for example.","body":"Yup, I&#39;d suggest changing both the Java <i>and</i> the C# code to ISO-8601 - your first timestamp would be &quot;2022-03-25T06:45:23Z&quot; for example."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1648193024,"post_id":71612993,"comment_id":126566976,"body_markdown":"looking at its source code, Jil seems can be told to use iso-8601 using `Jil.JSON.Serialize&lt;MyObject&gt;(myObject, Jil.Options.ISO8601)`. also, though technically json doesnt specify the date time format - back before .net 4.5 even NewtonsoftJSON library also outputs unix time. nowadays, we all agree to use that particular iso standard.","body":"looking at its source code, Jil seems can be told to use iso-8601 using <code>Jil.JSON.Serialize&lt;MyObject&gt;(myObject, Jil.Options.ISO8601)</code>. also, though technically json doesnt specify the date time format - back before .net 4.5 even NewtonsoftJSON library also outputs unix time. nowadays, we all agree to use that particular iso standard."}],"answers":[{"tags":[],"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648195323,"creation_date":1648195323,"answer_id":71613742,"question_id":71612993,"body_markdown":"`Jil` do support another `DateTime` format, namely the [ISO-8601][1]. Unfortunately, the developer specifically said [they wont add more date formats][2]. It can be used roughly the following way:\r\n\r\n    Jil.JSON.Serialize&lt;MyObject&gt;(myObject, Jil.Options.ISO8601)\r\n\r\nHowever, if you are wiling to switch to `Newtonsoft.Json`, you can keep your current date format (`Feb 20, 2022, 1:43:23 AM`) using `JsonConverter` attribute to tell the serializer to spew the date time in any format you want.\r\n\r\nFirst step to do that after installing `Newtonsoft.Json`, you should implement your own converter:\r\n\r\n    public class MyDateTimeConverter : IsoDateTimeConverter\r\n    {\r\n       public MyDateTimeConverter()\r\n       {\r\n          base.DateTimeFormat = &quot;MMM dd, yyyy, H:m:s tt&quot;;\r\n       }\r\n    }\r\n\r\nThe next step is to apply the `JsonConvert` attribute to the your class:\r\n\r\n    class MyObject\r\n    {\r\n      [JsonConvert(typeof(MyDateTimeConverter))]\r\n      public DateTime date;\r\n      public MyObject(DateTime date)\r\n      {\r\n        this.date = date;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://github.com/kevin-montrose/Jil/issues/319","title":"How to convert java timestamp time format to C# DateTime time format in JSON (C# Jil and Java gson)","body":"<p><code>Jil</code> do support another <code>DateTime</code> format, namely the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO-8601</a>. Unfortunately, the developer specifically said <a href=\"https://github.com/kevin-montrose/Jil/issues/319\" rel=\"nofollow noreferrer\">they wont add more date formats</a>. It can be used roughly the following way:</p>\n<pre><code>Jil.JSON.Serialize&lt;MyObject&gt;(myObject, Jil.Options.ISO8601)\n</code></pre>\n<p>However, if you are wiling to switch to <code>Newtonsoft.Json</code>, you can keep your current date format (<code>Feb 20, 2022, 1:43:23 AM</code>) using <code>JsonConverter</code> attribute to tell the serializer to spew the date time in any format you want.</p>\n<p>First step to do that after installing <code>Newtonsoft.Json</code>, you should implement your own converter:</p>\n<pre><code>public class MyDateTimeConverter : IsoDateTimeConverter\n{\n   public MyDateTimeConverter()\n   {\n      base.DateTimeFormat = &quot;MMM dd, yyyy, H:m:s tt&quot;;\n   }\n}\n</code></pre>\n<p>The next step is to apply the <code>JsonConvert</code> attribute to the your class:</p>\n<pre><code>class MyObject\n{\n  [JsonConvert(typeof(MyDateTimeConverter))]\n  public DateTime date;\n  public MyObject(DateTime date)\n  {\n    this.date = date;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19328912,"reputation":15,"user_id":15128912,"display_name":"Mancitiss"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648195323,"creation_date":1648189931,"question_id":71612993,"body_markdown":"I have a C# and java code that serializes an object into a JSON string to send between clients and the server. In C# I use Jil to serialize and deserialize objects. In java I use gson. Everything works fine until I work with C# DateTime object and Java Timestamp object. In C# DateTime serialization return Unix format like this: \r\n \r\n{&quot;timesent&quot;:&quot;\\\\/Date(1645856979963)\\\\/&quot;}  \r\n  \r\nminimal reproducible example code:\r\n  \r\n```\r\n        class MyObject\r\n        {\r\n            public DateTime date;\r\n            public MyObject(DateTime date)\r\n            {\r\n                this.date = date;\r\n            }\r\n        }\r\n        static void Main(string[] args)\r\n        {\r\n            DateTime now = DateTime.Now;\r\n            MyObject myObject = new MyObject(now);\r\n            String json = Jil.JSON.Serialize&lt;MyObject&gt;(myObject);\r\n            Console.WriteLine(json);\r\n            //{&quot;date&quot;:&quot;\\/Date(1648191236905)\\/&quot;}\r\n        }\r\n```\r\n  \r\nmeanwhile in Java Timestamp return format like this:\r\n  \r\n{&quot;timesent&quot;:&quot;Feb 20, 2022, 1:43:23 AM&quot;}\r\n  \r\nPS: They are 2 different timestamps, I just want to say that the formats are different and cannot be deserialized by the other language\r\n  \r\nI tried converting Java Timestamp to Unix format with .getTime() and making it return a string like \r\n  \r\n&quot;\\\\\\\\/Date(&quot; + sql.getTimestamp(&quot;timesent&quot;).getTime() + &quot;)\\\\\\\\/&quot; \r\n  \r\nbut it doesn&#39;t work because Jil throws an error:\r\n  \r\n Jil.DeserializationException: Expected character: &#39;/&#39;\r\n  \r\nbut I can&#39;t just give it one \\\\ because it is an escape character, so I have to give 2, but it doesn&#39;t take 2 and requires a / after a \\\\\r\n  \r\nSo how can I make Java gson serialization serializes Timestamp in Unix format so that the C# Jil can read it? \r\n  \r\nEdited: added reproducible code, I keep using Jil because it currently works for the app in C# and now I am just rewriting the app in Java but the client side is still in C#, I will try the suggestions!","title":"How to convert java timestamp time format to C# DateTime time format in JSON (C# Jil and Java gson)","body":"<p>I have a C# and java code that serializes an object into a JSON string to send between clients and the server. In C# I use Jil to serialize and deserialize objects. In java I use gson. Everything works fine until I work with C# DateTime object and Java Timestamp object. In C# DateTime serialization return Unix format like this:</p>\n<p>{&quot;timesent&quot;:&quot;\\/Date(1645856979963)\\/&quot;}</p>\n<p>minimal reproducible example code:</p>\n<pre><code>        class MyObject\n        {\n            public DateTime date;\n            public MyObject(DateTime date)\n            {\n                this.date = date;\n            }\n        }\n        static void Main(string[] args)\n        {\n            DateTime now = DateTime.Now;\n            MyObject myObject = new MyObject(now);\n            String json = Jil.JSON.Serialize&lt;MyObject&gt;(myObject);\n            Console.WriteLine(json);\n            //{&quot;date&quot;:&quot;\\/Date(1648191236905)\\/&quot;}\n        }\n</code></pre>\n<p>meanwhile in Java Timestamp return format like this:</p>\n<p>{&quot;timesent&quot;:&quot;Feb 20, 2022, 1:43:23 AM&quot;}</p>\n<p>PS: They are 2 different timestamps, I just want to say that the formats are different and cannot be deserialized by the other language</p>\n<p>I tried converting Java Timestamp to Unix format with .getTime() and making it return a string like</p>\n<p>&quot;\\\\/Date(&quot; + sql.getTimestamp(&quot;timesent&quot;).getTime() + &quot;)\\\\/&quot;</p>\n<p>but it doesn't work because Jil throws an error:</p>\n<p>Jil.DeserializationException: Expected character: '/'</p>\n<p>but I can't just give it one \\ because it is an escape character, so I have to give 2, but it doesn't take 2 and requires a / after a \\</p>\n<p>So how can I make Java gson serialization serializes Timestamp in Unix format so that the C# Jil can read it?</p>\n<p>Edited: added reproducible code, I keep using Jil because it currently works for the app in C# and now I am just rewriting the app in Java but the client side is still in C#, I will try the suggestions!</p>\n"},{"tags":["java","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"score":0,"creation_date":1560169338,"post_id":56526131,"comment_id":99636232,"body_markdown":"Possible duplicate of [#1071 - Specified key was too long; max key length is 1000 bytes](https://stackoverflow.com/questions/8746207/1071-specified-key-was-too-long-max-key-length-is-1000-bytes)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/8746207/1071-specified-key-was-too-long-max-key-length-is-1000-bytes\">#1071 - Specified key was too long; max key length is 1000 bytes</a>"},{"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"score":0,"creation_date":1560169407,"post_id":56526131,"comment_id":99636260,"body_markdown":"Please do a search before - https://stackoverflow.com/questions/8746207/1071-specified-key-was-too-long-max-key-length-is-1000-bytes . Just limit the length of ingredientName field.","body":"Please do a search before - <a href=\"https://stackoverflow.com/questions/8746207/1071-specified-key-was-too-long-max-key-length-is-1000-bytes\" title=\"1071 specified key was too long max key length is 1000 bytes\">stackoverflow.com/questions/8746207/&hellip;</a> . Just limit the length of ingredientName field."},{"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"score":0,"creation_date":1560172444,"post_id":56526131,"comment_id":99637767,"body_markdown":"Possible duplicate of [Error: #1071 - Specified key was too long; max key length is 1000 bytes - mysql 5.0.91](https://stackoverflow.com/questions/10642429/error-1071-specified-key-was-too-long-max-key-length-is-1000-bytes-mysql)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/10642429/error-1071-specified-key-was-too-long-max-key-length-is-1000-bytes-mysql\">Error: #1071 - Specified key was too long; max key length is 1000 bytes - mysql 5.0.91</a>"},{"owner":{"account_id":10186405,"reputation":296,"user_id":7521174,"display_name":"P H"},"score":0,"creation_date":1560178972,"post_id":56526131,"comment_id":99641083,"body_markdown":"I have gone through other answers and none of those solutions helped me. They have given solutions for MySQL which I didn&#39;t require.  I finally figured it was because of the length attribute in @Column. This solution is not present in any of the questions which you have sent.","body":"I have gone through other answers and none of those solutions helped me. They have given solutions for MySQL which I didn&#39;t require.  I finally figured it was because of the length attribute in @Column. This solution is not present in any of the questions which you have sent."}],"answers":[{"tags":[],"owner":{"account_id":13578509,"reputation":681,"user_id":9795231,"display_name":"user06062019"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572180888,"creation_date":1560171559,"answer_id":56526908,"question_id":56526131,"body_markdown":"Could you remove \r\n````\r\n,unique = true\r\n\r\n````\r\n\r\nfrom @Column annotation and try, it seems there is an hibernate bug .When using unique true it does not obey the naming strategy.\r\n\r\nFor more information look at this post\r\n\r\nhttps://stackoverflow.com/questions/15372654/uniqueconstraint-and-columnunique-true-in-hibernate-annotation\r\n\r\nand this one\r\n\r\nhttps://hibernate.atlassian.net/browse/HHH-11586\r\n\r\nAfter removing the unique=true I am able to generate the unique constraint with the specified name that is &#39;uk_ingredient_name&#39;.Since it is already specified in the @Table annotation.\r\n\r\n\r\nThe error you are getting is because hibernate is generating a unique constraint name which is hitting the allowed limit and it is not taking into the account the constraint name you have declared.\r\n\r\n\r\n\r\n\r\n","title":"Why &#39;unique = true&#39; is not working in hibernate entity?","body":"<p>Could you remove </p>\n\n<pre><code>,unique = true\n\n</code></pre>\n\n<p>from @Column annotation and try, it seems there is an hibernate bug .When using unique true it does not obey the naming strategy.</p>\n\n<p>For more information look at this post</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15372654/uniqueconstraint-and-columnunique-true-in-hibernate-annotation\">@UniqueConstraint and @Column(unique = true) in hibernate annotation</a></p>\n\n<p>and this one</p>\n\n<p><a href=\"https://hibernate.atlassian.net/browse/HHH-11586\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-11586</a></p>\n\n<p>After removing the unique=true I am able to generate the unique constraint with the specified name that is 'uk_ingredient_name'.Since it is already specified in the @Table annotation.</p>\n\n<p>The error you are getting is because hibernate is generating a unique constraint name which is hitting the allowed limit and it is not taking into the account the constraint name you have declared.</p>\n"},{"tags":[],"owner":{"account_id":10186405,"reputation":296,"user_id":7521174,"display_name":"P H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560178722,"creation_date":1560178722,"answer_id":56528819,"question_id":56526131,"body_markdown":"I tried adding length = 20 in the @column. \r\nIt works completely fine without any error. ","title":"Why &#39;unique = true&#39; is not working in hibernate entity?","body":"<p>I tried adding length = 20 in the @column. \nIt works completely fine without any error. </p>\n"},{"tags":[],"owner":{"account_id":21029082,"reputation":11,"user_id":15453861,"display_name":"Wissal El Aagueb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648195036,"creation_date":1647951255,"answer_id":71571895,"question_id":56526131,"body_markdown":"    @Column(name=&quot;username&quot;, length=8, unique=true)\r\n\r\nworked fine for me.","title":"Why &#39;unique = true&#39; is not working in hibernate entity?","body":"<pre><code>@Column(name=&quot;username&quot;, length=8, unique=true)\n</code></pre>\n<p>worked fine for me.</p>\n"}],"owner":{"account_id":10186405,"reputation":296,"user_id":7521174,"display_name":"P H"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3529,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1648195036,"creation_date":1560168544,"question_id":56526131,"body_markdown":"I have created an entity with table name and column names. \r\nI have also added the uniquekey constraint for a column name. But when I run,  it shows the following error ;\r\n\r\n&gt; org.hibernate.tool.schema.spi.CommandAcceptanceException: Error\r\n&gt; executing DDL &quot;alter table ingredient add constraint\r\n&gt; UK_co7ro6kyijhfik027h0y4d3n3 unique (ingredient_name). \r\n&gt; \r\n&gt;  java.sql.SQLSyntaxErrorException: Specified key was too long; max key\r\n&gt; length is 1000 bytes\r\n\r\n\r\n\r\n1. After I run the spring boot application, I have tried to add the unique constraint manually in MySQL workbench. - DOES NOT WORK\r\n\r\n2. I have added the below code - DOES NOT WORK\r\n```\r\n    @Table(name = &quot;ingredient&quot;, uniqueConstraints=@UniqueConstraint(name=&quot;uk_ingredient_name&quot;,columnNames=&quot;ingredient_name&quot;))\r\n    \r\n    @Column(name = &quot;ingredient_name&quot; ,unique = true)\r\n    private String ingredientName;\r\n```\r\n3. Tried to create a table manually in Mysql workbench and tried to alter the column name with unique key later. THIS WORKS. But I want hibernate to do this for me. \r\n\r\n \r\n```\r\n    @Entity\r\n    @Table(name = &quot;ingredient&quot;)\r\n    public class Ingredient {\r\n    \r\n    @Id\r\n    @Column(name=&quot;ingredient_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    \r\n    @Column(name = &quot;ingredient_name&quot; ,unique = true)\r\n    private String ingredientName; \r\n```\r\n\r\nI want to save the ingredients without any repetitions. I do not want duplicate entries.\r\nI have gone through other answers and none of those solutions helped me. \r\n","title":"Why &#39;unique = true&#39; is not working in hibernate entity?","body":"<p>I have created an entity with table name and column names. \nI have also added the uniquekey constraint for a column name. But when I run,  it shows the following error ;</p>\n\n<blockquote>\n  <p>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error\n  executing DDL \"alter table ingredient add constraint\n  UK_co7ro6kyijhfik027h0y4d3n3 unique (ingredient_name). </p>\n  \n  <p>java.sql.SQLSyntaxErrorException: Specified key was too long; max key\n  length is 1000 bytes</p>\n</blockquote>\n\n<ol>\n<li><p>After I run the spring boot application, I have tried to add the unique constraint manually in MySQL workbench. - DOES NOT WORK</p></li>\n<li><p>I have added the below code - DOES NOT WORK</p></li>\n</ol>\n\n<pre><code>    @Table(name = \"ingredient\", uniqueConstraints=@UniqueConstraint(name=\"uk_ingredient_name\",columnNames=\"ingredient_name\"))\n\n    @Column(name = \"ingredient_name\" ,unique = true)\n    private String ingredientName;\n</code></pre>\n\n<ol start=\"3\">\n<li>Tried to create a table manually in Mysql workbench and tried to alter the column name with unique key later. THIS WORKS. But I want hibernate to do this for me. </li>\n</ol>\n\n<pre><code>    @Entity\n    @Table(name = \"ingredient\")\n    public class Ingredient {\n\n    @Id\n    @Column(name=\"ingredient_id\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = \"ingredient_name\" ,unique = true)\n    private String ingredientName; \n</code></pre>\n\n<p>I want to save the ingredients without any repetitions. I do not want duplicate entries.\nI have gone through other answers and none of those solutions helped me. </p>\n"},{"tags":["java","spring","multithreading","spring-boot","runnable"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1648195656,"post_id":71613685,"comment_id":126567643,"body_markdown":"Well, `CdmMonitorService` is still annotated as a service and has a scheduled method so Spring will pick it up and execute that method regularly. That also means starting an explicit thread in your main class is not the way to handle things like this.","body":"Well, <code>CdmMonitorService</code> is still annotated as a service and has a scheduled method so Spring will pick it up and execute that method regularly. That also means starting an explicit thread in your main class is not the way to handle things like this."},{"owner":{"account_id":10579735,"reputation":1203,"user_id":7794032,"accept_rate":50,"display_name":"Asma Rahim Ali Jafri"},"score":0,"creation_date":1648195916,"post_id":71613685,"comment_id":126567725,"body_markdown":"Interesting, runs even though its not Autowired for usage. What is the best way to to multi-thread from main? I mean, what implicit methods are there?","body":"Interesting, runs even though its not Autowired for usage. What is the best way to to multi-thread from main? I mean, what implicit methods are there?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1648196359,"post_id":71613685,"comment_id":126567873,"body_markdown":"In a Spring application you let the container (i.e. Spring) handle threading so you basically just annotate methods you want to be executed at certain times, i.e. scheduled, at startup, when certain events happen etc. - Autowiring is meant to get a reference to the component/service and doesn&#39;t mean that component has to be autowired somewhere in your code for it to be run.","body":"In a Spring application you let the container (i.e. Spring) handle threading so you basically just annotate methods you want to be executed at certain times, i.e. scheduled, at startup, when certain events happen etc. - Autowiring is meant to get a reference to the component/service and doesn&#39;t mean that component has to be autowired somewhere in your code for it to be run."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1648196890,"post_id":71613685,"comment_id":126568051,"body_markdown":"On another note, the way `CdmMonitorService.run()` would be executed with a gap of 2 minutes in between which seems to indicate a couple of errors: 1) you should not add `Thread.sleep()` here since the thread that executes the task would then be blocked to do something else and those 10 seconds you have there add to the delay of the next execution ...","body":"On another note, the way <code>CdmMonitorService.run()</code> would be executed with a gap of 2 minutes in between which seems to indicate a couple of errors: 1) you should not add <code>Thread.sleep()</code> here since the thread that executes the task would then be blocked to do something else and those 10 seconds you have there add to the delay of the next execution ..."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1648196969,"post_id":71613685,"comment_id":126568074,"body_markdown":"... 2) a monitoring service is normally executed regularly, i.e. it would seem you want yours to run every 2 minutes. However, that would require you to use `fixedRate`. `fixedDelay` is the time between the end of the last execution and the start of the next, i.e. with your code each execution would take at least 10 seconds (due to the sleep) so the 2nd run would start at least 2:10 after the 1st (start of next execution = length of previous execution + fixed delay).","body":"... 2) a monitoring service is normally executed regularly, i.e. it would seem you want yours to run every 2 minutes. However, that would require you to use <code>fixedRate</code>. <code>fixedDelay</code> is the time between the end of the last execution and the start of the next, i.e. with your code each execution would take at least 10 seconds (due to the sleep) so the 2nd run would start at least 2:10 after the 1st (start of next execution = length of previous execution + fixed delay)."},{"owner":{"account_id":10579735,"reputation":1203,"user_id":7794032,"accept_rate":50,"display_name":"Asma Rahim Ali Jafri"},"score":0,"creation_date":1648198242,"post_id":71613685,"comment_id":126568499,"body_markdown":"Thank you for your response 1) This blocking was intentional so as to avoid a race conditon that might arise when persisting data to the DB.","body":"Thank you for your response 1) This blocking was intentional so as to avoid a race conditon that might arise when persisting data to the DB."},{"owner":{"account_id":10579735,"reputation":1203,"user_id":7794032,"accept_rate":50,"display_name":"Asma Rahim Ali Jafri"},"score":0,"creation_date":1648198377,"post_id":71613685,"comment_id":126568546,"body_markdown":"2) is very much valid. But the time delay isn&#39;t a big of a concern here since the service is to be run periodically - what matters that it runs in intervals no matter how spaced those intervals be","body":"2) is very much valid. But the time delay isn&#39;t a big of a concern here since the service is to be run periodically - what matters that it runs in intervals no matter how spaced those intervals be"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1648198640,"post_id":71613685,"comment_id":126568636,"body_markdown":"Tbh, throwing a delay into some code in order to avoid a race condition looks like a design smell to me. You probably might want to rethink your approach here, e.g. if you need to wait until some other service added some data then that service could publish an event when the data has been added and have your monitoring service listen to it. Here&#39;s a nice entry tutorial to Spring events: https://www.baeldung.com/spring-events","body":"Tbh, throwing a delay into some code in order to avoid a race condition looks like a design smell to me. You probably might want to rethink your approach here, e.g. if you need to wait until some other service added some data then that service could publish an event when the data has been added and have your monitoring service listen to it. Here&#39;s a nice entry tutorial to Spring events: <a href=\"https://www.baeldung.com/spring-events\" rel=\"nofollow noreferrer\">baeldung.com/spring-events</a>"}],"owner":{"account_id":10579735,"reputation":1203,"user_id":7794032,"accept_rate":50,"display_name":"Asma Rahim Ali Jafri"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648194996,"creation_date":1648194996,"question_id":71613685,"body_markdown":"I have encountered an interesting yet a terrifying situation. My application has two features namely, `OtpListener` and `CdmMonitor` running on two separate threads. For now, only the `OtpListener` feature was required so I commented out `CdmMonitor` in the main class.\r\n\r\nHowever, I still see the logs for the commented out class `CdmMonitorService`. This service was running (when it shouldn&#39;t as it was commented)\r\n\r\nDo threads implemented from the `Runnable` class operate this way? I did not find anything of the sort in its documentation.\r\n\r\n**Main Class**: `OtpTrackerApp.java` \r\n\r\n    package dev.xfoil.otpTracker;\r\n    \r\n    import dev.xfoil.otpTracker.service.CdmMonitorService;\r\n    import dev.xfoil.otpTracker.service.OTPListener;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;dev.xfoil.otpTracker.*&quot;,&quot;dev.xfoil.shared.*&quot;, &quot;dev.xfoil.shared.dal.repositories.springdata.*&quot;, &quot;dev.xfoil.shared.dal.entities.*&quot;,&quot;dev.xfoil.shared.dal.cache.*&quot;})\r\n    public class OtpTrackerApp implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        public OTPListener otpListener;\r\n    \r\n    //    @Autowired\r\n    //    public CdmMonitorService cdmMonitorService;\r\n    \r\n        public static void main(String[] args){\r\n            SpringApplication.run(OtpTrackerApp.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n    //        Thread monitoringThread = new Thread(cdmMonitorService);\r\n    //        monitoringThread.start();\r\n            otpListener.startListening();\r\n        }\r\n    }\r\n\r\n**CdmMonitorService.java**\r\n\r\n    package dev.xfoil.otpTracker.service;\r\n    \r\n    import com.google.common.flogger.FluentLogger;\r\n    import dev.xfoil.otpTracker.firebase.FirestoreManager;\r\n    import dev.xfoil.shared.dal.repositories.springdata.MachineMonitorRepo;\r\n    import dev.xfoil.shared.dal.repositories.springdata.MachineOperationsHistoryRepo;\r\n    import dev.xfoil.shared.dal.repositories.springdata.MachinesRepo;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    \r\n    @Service\r\n    public class CdmMonitorService implements Runnable {\r\n        FluentLogger logger = FluentLogger.forEnclosingClass();\r\n    \r\n        @Autowired\r\n        MachineMonitorRepo machineMonitorRepo;\r\n    \r\n        @Autowired\r\n        MachineOperationsHistoryRepo machineOperationsHistoryRepo;\r\n    \r\n        @Autowired\r\n        MachinesRepo machinesRepo;\r\n    \r\n        @Autowired\r\n        FirestoreManager firestoreManager;\r\n    \r\n        public CdmMonitorService() {\r\n        }\r\n        \r\n        @Override\r\n        @Scheduled(fixedDelay = 120000l)\r\n        public void run() {\r\n            try {\r\n                // code removed for brevity\r\n                Thread.sleep(10000);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                logger.atWarning().log(&quot;Exception in CDM Monitor Thread &quot; + e);\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n**OtpListener.java**\r\n\r\n    package dev.xfoil.otpTracker.service;\r\n    \r\n    import com.google.common.flogger.FluentLogger;\r\n    import dev.xfoil.shared.dal.entities.AccountLedger;\r\n    import dev.xfoil.shared.dal.models.OTP;\r\n    import dev.xfoil.shared.dal.repositories.springdata.LedgerRepo;\r\n    import dev.xfoil.shared.dal.repositories.springdata.NoteCountRepo;\r\n    import dev.xfoil.shared.dal.repositories.springdata.UtilRepo;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    @Service\r\n    public class OTPListener {\r\n        private static final FluentLogger logger = FluentLogger.forEnclosingClass();\r\n        @Autowired\r\n        UtilRepo utilRepo;\r\n    \r\n        @Autowired\r\n        ThirdPartyApiCalls discordServer;\r\n    \r\n        @Autowired\r\n        NoteCountRepo noteCountRepo;\r\n    \r\n        private static LocalDateTime latestOTPTime;\r\n    \r\n    \r\n        @Value(&quot;#{${webhooks}}&quot;)\r\n        HashMap&lt;String, String&gt; discordLink = new HashMap&lt;String, String&gt;();\r\n    \r\n        @PostConstruct\r\n        public LocalDateTime getLatestOTPTimestamp() {\r\n            latestOTPTime = utilRepo.getTimeOfLatestOTP();\r\n            return latestOTPTime;\r\n        }\r\n        \r\n        public void startListening() throws InterruptedException {\r\n            logger.atInfo().log(&quot;Current in-mem links:&quot;);\r\n            try {\r\n            // code commented for brevity\r\n                    Thread.sleep(5 * 60 * 1000);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Java Spring Boot: Runnable Thread Class running despite being commented","body":"<p>I have encountered an interesting yet a terrifying situation. My application has two features namely, <code>OtpListener</code> and <code>CdmMonitor</code> running on two separate threads. For now, only the <code>OtpListener</code> feature was required so I commented out <code>CdmMonitor</code> in the main class.</p>\n<p>However, I still see the logs for the commented out class <code>CdmMonitorService</code>. This service was running (when it shouldn't as it was commented)</p>\n<p>Do threads implemented from the <code>Runnable</code> class operate this way? I did not find anything of the sort in its documentation.</p>\n<p><strong>Main Class</strong>: <code>OtpTrackerApp.java</code></p>\n<pre><code>package dev.xfoil.otpTracker;\n\nimport dev.xfoil.otpTracker.service.CdmMonitorService;\nimport dev.xfoil.otpTracker.service.OTPListener;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan({&quot;dev.xfoil.otpTracker.*&quot;,&quot;dev.xfoil.shared.*&quot;, &quot;dev.xfoil.shared.dal.repositories.springdata.*&quot;, &quot;dev.xfoil.shared.dal.entities.*&quot;,&quot;dev.xfoil.shared.dal.cache.*&quot;})\npublic class OtpTrackerApp implements CommandLineRunner {\n\n    @Autowired\n    public OTPListener otpListener;\n\n//    @Autowired\n//    public CdmMonitorService cdmMonitorService;\n\n    public static void main(String[] args){\n        SpringApplication.run(OtpTrackerApp.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n//        Thread monitoringThread = new Thread(cdmMonitorService);\n//        monitoringThread.start();\n        otpListener.startListening();\n    }\n}\n</code></pre>\n<p><strong>CdmMonitorService.java</strong></p>\n<pre><code>package dev.xfoil.otpTracker.service;\n\nimport com.google.common.flogger.FluentLogger;\nimport dev.xfoil.otpTracker.firebase.FirestoreManager;\nimport dev.xfoil.shared.dal.repositories.springdata.MachineMonitorRepo;\nimport dev.xfoil.shared.dal.repositories.springdata.MachineOperationsHistoryRepo;\nimport dev.xfoil.shared.dal.repositories.springdata.MachinesRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Service;\n\n\n@Service\npublic class CdmMonitorService implements Runnable {\n    FluentLogger logger = FluentLogger.forEnclosingClass();\n\n    @Autowired\n    MachineMonitorRepo machineMonitorRepo;\n\n    @Autowired\n    MachineOperationsHistoryRepo machineOperationsHistoryRepo;\n\n    @Autowired\n    MachinesRepo machinesRepo;\n\n    @Autowired\n    FirestoreManager firestoreManager;\n\n    public CdmMonitorService() {\n    }\n    \n    @Override\n    @Scheduled(fixedDelay = 120000l)\n    public void run() {\n        try {\n            // code removed for brevity\n            Thread.sleep(10000);\n        } catch (Exception e) {\n            e.printStackTrace();\n            logger.atWarning().log(&quot;Exception in CDM Monitor Thread &quot; + e);\n        }\n    }\n\n\n}\n</code></pre>\n<p><strong>OtpListener.java</strong></p>\n<pre><code>package dev.xfoil.otpTracker.service;\n\nimport com.google.common.flogger.FluentLogger;\nimport dev.xfoil.shared.dal.entities.AccountLedger;\nimport dev.xfoil.shared.dal.models.OTP;\nimport dev.xfoil.shared.dal.repositories.springdata.LedgerRepo;\nimport dev.xfoil.shared.dal.repositories.springdata.NoteCountRepo;\nimport dev.xfoil.shared.dal.repositories.springdata.UtilRepo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.PostConstruct;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.HashMap;\nimport java.util.List;\n@Service\npublic class OTPListener {\n    private static final FluentLogger logger = FluentLogger.forEnclosingClass();\n    @Autowired\n    UtilRepo utilRepo;\n\n    @Autowired\n    ThirdPartyApiCalls discordServer;\n\n    @Autowired\n    NoteCountRepo noteCountRepo;\n\n    private static LocalDateTime latestOTPTime;\n\n\n    @Value(&quot;#{${webhooks}}&quot;)\n    HashMap&lt;String, String&gt; discordLink = new HashMap&lt;String, String&gt;();\n\n    @PostConstruct\n    public LocalDateTime getLatestOTPTimestamp() {\n        latestOTPTime = utilRepo.getTimeOfLatestOTP();\n        return latestOTPTime;\n    }\n    \n    public void startListening() throws InterruptedException {\n        logger.atInfo().log(&quot;Current in-mem links:&quot;);\n        try {\n        // code commented for brevity\n                Thread.sleep(5 * 60 * 1000);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito","junit5"],"comments":[{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1648191513,"post_id":71612466,"comment_id":126566555,"body_markdown":"I think you cannot use `captor` object -&gt; `lambdaCaptor.capture()` inside a `Mockito.when()`","body":"I think you cannot use <code>captor</code> object -&gt; <code>lambdaCaptor.capture()</code> inside a <code>Mockito.when()</code>"},{"owner":{"account_id":16017482,"reputation":300,"user_id":11559775,"display_name":"Abhinav Mani"},"score":0,"creation_date":1648192118,"post_id":71612466,"comment_id":126566713,"body_markdown":"@Felipe how can I Mock it then?","body":"@Felipe how can I Mock it then?"}],"answers":[{"tags":[],"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648194879,"creation_date":1648194879,"answer_id":71613666,"question_id":71612466,"body_markdown":"The error\r\n&gt; ERROR - org.mockito.exceptions.misusing.UnfinishedStubbingException: Unfinished stubbing detected here\r\n\r\nhappens because some of these cases:\r\n1. missing thenReturn()\r\n2. you are trying to stub a final method, you naughty developer!\r\n3. you are stubbing the behaviour of another mock inside before &#39;thenReturn&#39; instruction if completed \r\n\r\nI think that your example is close to the third item. You cannot use `captor` object -&gt; `lambdaCaptor.capture()` inside a `Mockito.when()`.\r\n\r\nBasically, you need to find a way to mock [HttpComponentsClientHttpRequestFactory][1]. There might be multiple ways to do it. I would start looking at how to mock the interface that it implements: [ClientHttpRequestFactory][2]. [Here on the official source code][3] there are some examples. This [answer also looks very close][4] to what you need.\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/ClientHttpRequestFactory.html\r\n  [3]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/client/RestTemplateBuilderTests.java#L419-L433\r\n  [4]: https://stackoverflow.com/a/67475875/2096986\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/client/MockRestServiceServer.html","title":"Mockito UnfinishedStubbingException in LamdaFunction","body":"<p>The error</p>\n<blockquote>\n<p>ERROR - org.mockito.exceptions.misusing.UnfinishedStubbingException: Unfinished stubbing detected here</p>\n</blockquote>\n<p>happens because some of these cases:</p>\n<ol>\n<li>missing thenReturn()</li>\n<li>you are trying to stub a final method, you naughty developer!</li>\n<li>you are stubbing the behaviour of another mock inside before 'thenReturn' instruction if completed</li>\n</ol>\n<p>I think that your example is close to the third item. You cannot use <code>captor</code> object -&gt; <code>lambdaCaptor.capture()</code> inside a <code>Mockito.when()</code>.</p>\n<p>Basically, you need to find a way to mock <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.html\" rel=\"nofollow noreferrer\">HttpComponentsClientHttpRequestFactory</a>. There might be multiple ways to do it. I would start looking at how to mock the interface that it implements: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/client/ClientHttpRequestFactory.html\" rel=\"nofollow noreferrer\">ClientHttpRequestFactory</a>. <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/test/java/org/springframework/boot/web/client/RestTemplateBuilderTests.java#L419-L433\" rel=\"nofollow noreferrer\">Here on the official source code</a> there are some examples. This <a href=\"https://stackoverflow.com/a/67475875/2096986\">answer also looks very close</a> to what you need.</p>\n"}],"owner":{"account_id":16017482,"reputation":300,"user_id":11559775,"display_name":"Abhinav Mani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648194879,"creation_date":1648185397,"question_id":71612466,"body_markdown":"I am trying to mock \r\n\r\n```java\r\nthis.restTemplate =\r\nrestTemplateBuilder\r\n\t.messageConverters(converter)\r\n\t.requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\r\n\t.build();\r\n```\r\nI am using following code \r\n\r\n```java\r\ndoReturn(restTemplateBuilder).when(restTemplateBuilder).messageConverters(any(MappingJackson2HttpMessageConverter.class);\r\ndoReturn(restTemplateBuilder).when(restTemplateBuilder).requestFactory(lambdaCaptor.capture());\r\ndoReturn(restTemplate).when(restTemplateBuilder).build();\r\n```\r\n\r\nThe `requestFactory` part is giving error\r\n```\r\norg.mockito.exceptions.misusing.UnfinishedStubbingException: \r\nUnfinished stubbing detected here:\r\n```","title":"Mockito UnfinishedStubbingException in LamdaFunction","body":"<p>I am trying to mock</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.restTemplate =\nrestTemplateBuilder\n    .messageConverters(converter)\n    .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\n    .build();\n</code></pre>\n<p>I am using following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>doReturn(restTemplateBuilder).when(restTemplateBuilder).messageConverters(any(MappingJackson2HttpMessageConverter.class);\ndoReturn(restTemplateBuilder).when(restTemplateBuilder).requestFactory(lambdaCaptor.capture());\ndoReturn(restTemplate).when(restTemplateBuilder).build();\n</code></pre>\n<p>The <code>requestFactory</code> part is giving error</p>\n<pre><code>org.mockito.exceptions.misusing.UnfinishedStubbingException: \nUnfinished stubbing detected here:\n</code></pre>\n"},{"tags":["java","oracle","spring-boot","jdbc"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1648195351,"post_id":71613615,"comment_id":126567566,"body_markdown":"Hard to say.  How are you configuring access towards both schemas in your Springboot App.  Have you attempted to restart the Spring-boot app to see if it was a connection problem?","body":"Hard to say.  How are you configuring access towards both schemas in your Springboot App.  Have you attempted to restart the Spring-boot app to see if it was a connection problem?"},{"owner":{"account_id":12826119,"reputation":109,"user_id":9279083,"display_name":"Abhale Amol"},"score":0,"creation_date":1648195641,"post_id":71613615,"comment_id":126567638,"body_markdown":"try to execute all these operations under single transactional boundary","body":"try to execute all these operations under single transactional boundary"},{"owner":{"account_id":11603643,"reputation":410,"user_id":8500049,"display_name":"User8500049"},"score":0,"creation_date":1648277375,"post_id":71613615,"comment_id":126588348,"body_markdown":"@SMA I started app but still get same error. I’m using spring default configuration settings.","body":"@SMA I started app but still get same error. I’m using spring default configuration settings."}],"owner":{"account_id":11603643,"reputation":410,"user_id":8500049,"display_name":"User8500049"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648194547,"creation_date":1648194547,"question_id":71613615,"body_markdown":"I have two application on server one of them spring mvc app and the other one spring boot application run for background tasks like reading data from excel. Two days ago my background app suddenly get this error. The query normally works with milliseconds.\r\n\r\n    2022-03-23 02:07:50,845 INFO  method started\r\n    2022-03-23 02:23:39,818 INFO  error : \r\n    java.sql.SQLRecoverableException: IO Error: Connection timed out (Read failed)\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:792)\r\n    \tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:897)\r\n    \tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1034)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3820)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3867)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1502)\r\n\r\n\r\nAfter this error all connections are closed and get this error when try to select from application. When I use sqldeveloper, everything works properly.\r\n\r\n    2022-03-24 08:30:01,540 INFO [Quartz] -  : error:\r\n    \r\n    java.sql.SQLRecoverableException: Closed Connection\r\n    \tat oracle.jdbc.driver.PhysicalConnection.prepareStatementInternal(PhysicalConnection.java:4079)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.prepareStatement(PhysicalConnection.java:4045)\r\n    \tat oracle.jdbc.driver.PhysicalConnection.prepareStatement(PhysicalConnection.java:3951)\r\n    \tat sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)\r\n    \tat org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\r\n    \tat org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)\r\n    \tat com.sun.proxy.$Proxy63.prepareStatement(Unknown Source)\r\n\r\nIn background application I&#39;m connected different schemas in same database. I can work with primary schema&#39;s properly. But when try to access second schema always get error above. Spring mvc \r\n app access both schema&#39;s without error.","title":"java.sql.SQLRecoverableException: Closed Connection Exception","body":"<p>I have two application on server one of them spring mvc app and the other one spring boot application run for background tasks like reading data from excel. Two days ago my background app suddenly get this error. The query normally works with milliseconds.</p>\n<pre><code>2022-03-23 02:07:50,845 INFO  method started\n2022-03-23 02:23:39,818 INFO  error : \njava.sql.SQLRecoverableException: IO Error: Connection timed out (Read failed)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:792)\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:897)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1034)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3820)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3867)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1502)\n</code></pre>\n<p>After this error all connections are closed and get this error when try to select from application. When I use sqldeveloper, everything works properly.</p>\n<pre><code>2022-03-24 08:30:01,540 INFO [Quartz] -  : error:\n\njava.sql.SQLRecoverableException: Closed Connection\n    at oracle.jdbc.driver.PhysicalConnection.prepareStatementInternal(PhysicalConnection.java:4079)\n    at oracle.jdbc.driver.PhysicalConnection.prepareStatement(PhysicalConnection.java:4045)\n    at oracle.jdbc.driver.PhysicalConnection.prepareStatement(PhysicalConnection.java:3951)\n    at sun.reflect.GeneratedMethodAccessor46.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)\n    at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\n    at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)\n    at com.sun.proxy.$Proxy63.prepareStatement(Unknown Source)\n</code></pre>\n<p>In background application I'm connected different schemas in same database. I can work with primary schema's properly. But when try to access second schema always get error above. Spring mvc\napp access both schema's without error.</p>\n"},{"tags":["java","spring-boot","hibernate","graphql","netflix-dgs"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1631369937,"post_id":69143733,"comment_id":122206241,"body_markdown":"You need to open a new session and reattach the detached entity. For example by calling `update`.","body":"You need to open a new session and reattach the detached entity. For example by calling <code>update</code>."},{"owner":{"account_id":22722104,"reputation":41,"user_id":16886455,"display_name":"Adil Waqar"},"score":0,"creation_date":1631376074,"post_id":69143733,"comment_id":122207609,"body_markdown":"Doing this just instantly resolves all the relations in the entity without me specifying which one I want to resolve, even before calling `Hibernate.initialize(...)`. I don&#39;t want this. I want to explicitly specify what I want to resolve.","body":"Doing this just instantly resolves all the relations in the entity without me specifying which one I want to resolve, even before calling <code>Hibernate.initialize(...)</code>. I don&#39;t want this. I want to explicitly specify what I want to resolve."}],"answers":[{"tags":[],"owner":{"account_id":16841230,"reputation":107,"user_id":12176589,"display_name":"user12176589"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1631389591,"creation_date":1631389269,"answer_id":69146203,"question_id":69143733,"body_markdown":"Please note this answers assumes that Spring Data JPA can be used. \r\n\r\nHelpful can be [full dynamic usage of EntityGraphs](https://github.com/Cosium/spring-data-jpa-entity-graph)  \r\n\r\n&gt;Entity Graphs give us a possibility to define fetch plans and declare which \r\nrelations (attributes) have to be queried from the database.\r\n\r\nAccording to the [documentation](https://github.com/Cosium/spring-data-jpa-entity-graph/blob/master/doc/MAIN.md)\r\n\r\nYou can do something similar to this\r\n\r\n```\r\nproductRepository.findById(1L, EntityGraphUtils.fromAttributePaths(“article, “comments”));\r\n```\r\n\r\nAnd pass all necessary params (relations) based on user selection to the ```EntityGraphUtils.fromAttributePaths``` method. \r\nThis give us possibility to fetch only necessary data.\r\n\r\nAdditional resources:\r\n\r\n 1. [Sample project](https://github.com/Cosium/spring-data-jpa-entity-graph-sample)\r\n 2. [Spring Blog mentioned this extension](https://spring.io/blog/2021/01/05/this-week-in-spring-january-5th-2020-10th-anniversary-edition)\r\n 3. [JPA EntityGraph](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph)\r\n 4. [EntityGraph](https://softwarehut.com/blog/tech/no-lazyinitializationexception-use-jpa-2-1-entity-graph)\r\n\r\n","title":"How to initialize a lazy loaded collection outside of the transaction it was fetched in the right way?","body":"<p>Please note this answers assumes that Spring Data JPA can be used.</p>\n<p>Helpful can be <a href=\"https://github.com/Cosium/spring-data-jpa-entity-graph\" rel=\"nofollow noreferrer\">full dynamic usage of EntityGraphs</a></p>\n<blockquote>\n<p>Entity Graphs give us a possibility to define fetch plans and declare which\nrelations (attributes) have to be queried from the database.</p>\n</blockquote>\n<p>According to the <a href=\"https://github.com/Cosium/spring-data-jpa-entity-graph/blob/master/doc/MAIN.md\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>You can do something similar to this</p>\n<pre><code>productRepository.findById(1L, EntityGraphUtils.fromAttributePaths(“article, “comments”));\n</code></pre>\n<p>And pass all necessary params (relations) based on user selection to the <code>EntityGraphUtils.fromAttributePaths</code> method.\nThis give us possibility to fetch only necessary data.</p>\n<p>Additional resources:</p>\n<ol>\n<li><a href=\"https://github.com/Cosium/spring-data-jpa-entity-graph-sample\" rel=\"nofollow noreferrer\">Sample project</a></li>\n<li><a href=\"https://spring.io/blog/2021/01/05/this-week-in-spring-january-5th-2020-10th-anniversary-edition\" rel=\"nofollow noreferrer\">Spring Blog mentioned this extension</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\" rel=\"nofollow noreferrer\">JPA EntityGraph</a></li>\n<li><a href=\"https://softwarehut.com/blog/tech/no-lazyinitializationexception-use-jpa-2-1-entity-graph\" rel=\"nofollow noreferrer\">EntityGraph</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648194279,"creation_date":1648194279,"answer_id":71613565,"question_id":69143733,"body_markdown":"Another workaround I&#39;ve used is to skip any child resolver and just load additional entities conditionally in the base resolver.\r\n\r\n```\r\n@DgsQuery\r\npublic User getUserById(@InputArgument UUID id) {\r\n    var user = userService.findById(id);\r\n    if (dfe.getSelectionSet().contains(&quot;articles&quot;) {\r\n        Hibernate.initialize(user.getArticles());\r\n    }\r\n    return user;\r\n}\r\n```","title":"How to initialize a lazy loaded collection outside of the transaction it was fetched in the right way?","body":"<p>Another workaround I've used is to skip any child resolver and just load additional entities conditionally in the base resolver.</p>\n<pre><code>@DgsQuery\npublic User getUserById(@InputArgument UUID id) {\n    var user = userService.findById(id);\n    if (dfe.getSelectionSet().contains(&quot;articles&quot;) {\n        Hibernate.initialize(user.getArticles());\n    }\n    return user;\n}\n</code></pre>\n"}],"owner":{"account_id":22722104,"reputation":41,"user_id":16886455,"display_name":"Adil Waqar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2514,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1648194279,"creation_date":1631369256,"question_id":69143733,"body_markdown":"I&#39;ve a spring boot application which uses Hibernate as an ORM and [DGS framework](https://netflix.github.io/dgs/) as the graphql engine. I&#39;ve been struggling with finding ways to initialize a lazy loaded collection, the proper way. I&#39;ve the following scenario:\r\n\r\n```\r\napplication.properties\r\n# The below has been set to false to get rid of the anti-pattern stuff it introduces\r\nspring.jpa.open-in-view=false\r\n...\r\n```\r\n```java\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID id;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Article&gt; articles;\r\n\r\n    ...\r\n\r\n}\r\n```\r\n```java\r\n@Entity\r\npublic class Article {\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID id;\r\n\r\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n    private User user;\r\n\r\n    ...\r\n}\r\n```\r\n\r\nMy `User` data fetcher looks something like this:\r\n\r\n```java\r\n@DgsComponent\r\npublic class UserDataFetcher {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @DgsQuery\r\n    public User getUserById(@InputArgument UUID id) {\r\n        return userService.findById(id);\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nMy `UserService` looks something like this:\r\n\r\n```java\r\n@Service\r\npublic class UserServiceImpl implements UserService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public User findById(UUID id) {\r\n        return userRepository.findById(id).orElseThrow(DgsEntityNotFoundException::new);\r\n    }\r\n    ...\r\n}\r\n\r\n```\r\n\r\nNow, I only want to initialize/load my articles collections from the DB when the user asks for it in the graphql query. For that purpose I created a child resolver for my articles which only executes when a user asks for the article in the query. My `UserDataFetcher` started looking like this: \r\n\r\n```java\r\n@DgsComponent\r\npublic class UserDataFetcher {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @DgsQuery\r\n    public User getUserById(@InputArgument UUID id) {\r\n        return userService.findById(id);\r\n    }\r\n\r\n    @DgsData(parentType = &quot;User&quot;, field = &quot;articles&quot;)\r\n    public List&lt;Article&gt; getArticle(DgsDataFetchingEnvironment dfe) {\r\n        User user = dfe.getSource();\r\n        Hibernate.initialize(user.getArticles());\r\n        return user.getArticles();\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nBut, the above started throwing exceptions telling me that Hibernate couldn&#39;t find an open session for the above request. Which made sense because there wasn&#39;t any so I put a `@Transactional` on top of my child resolver and it started looking like this:\r\n\r\n```java\r\n@DgsComponent\r\npublic class UserDataFetcher {\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @DgsQuery\r\n    public User getUserById(@InputArgument UUID id) {\r\n        return userService.findById(id);\r\n    }\r\n\r\n    @DgsData(parentType = &quot;User&quot;, field = &quot;articles&quot;)\r\n    @Transactional\r\n    public List&lt;Article&gt; getArticle(DgsDataFetchingEnvironment dfe) {\r\n        User user = dfe.getSource();\r\n        Hibernate.initialize(user.getArticles());\r\n        return user.getArticles();\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nHowever, the above didn&#39;t work either. I tried moving this `@Transactional` into my service layer as well but even then it didn&#39;t work and it throwed the same exception. After much deliberation, I founded out that (maybe) `Hibernate.initialize(...)` only works if I call it in the initial transaction, the one which fetched me my user in the first place. Meaning, it&#39;s of no use to me since my use-case is very user-driven. I ONLY want to get this when my user asks for it, and this is always going to be in some other part of my application outside of the parent transaction.\r\n\r\nI am looking for solutions other than the following:\r\n\r\n1. Changing the child resolver to something like this:\r\n\r\n```java\r\n    @DgsData(parentType = &quot;User&quot;, field = &quot;articles&quot;)\r\n    @Transactional\r\n    public List&lt;Article&gt; getArticle(DgsDataFetchingEnvironment dfe) {\r\n        User user = dfe.getSource();\r\n        List&lt;Article&gt; articles = articlesRepository.getArticlesByUserId(user.getUserId);\r\n        return articles;\r\n    }\r\n```\r\nI am not in the favor of the above solution since I feel this is under-utilizing the ORM itself by trying to resolve the relation yourself rather than letting hibernate itself do it. (Correct me if I wrong thinking this way)\r\n\r\n2. Changing my `User` entity to use `FetchMode.JOIN`. \r\n```java\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID id;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n    @Fetch(FetchMode.JOIN)\r\n    private List&lt;Article&gt; articles;\r\n    ...\r\n\r\n}\r\n```\r\nThis is the same as telling hibernate to eagerly load the below collection no matter what. I don&#39;t want this either.\r\n\r\n3. Setting `spring.jpa.open-in-view=false` to `spring.jpa.open-in-view=true`. Not in the favor of this either since this is just a band aid for `LazyInitializationExceptions`.\r\n\r\n4. Any other solutions that just makes your forget about `LazyInitializationException` by keeping the session open throughout the lifecycle of the request. ","title":"How to initialize a lazy loaded collection outside of the transaction it was fetched in the right way?","body":"<p>I've a spring boot application which uses Hibernate as an ORM and <a href=\"https://netflix.github.io/dgs/\" rel=\"nofollow noreferrer\">DGS framework</a> as the graphql engine. I've been struggling with finding ways to initialize a lazy loaded collection, the proper way. I've the following scenario:</p>\n<pre><code>application.properties\n# The below has been set to false to get rid of the anti-pattern stuff it introduces\nspring.jpa.open-in-view=false\n...\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n    @Id\n    @GeneratedValue\n    private UUID id;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List&lt;Article&gt; articles;\n\n    ...\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Article {\n    @Id\n    @GeneratedValue\n    private UUID id;\n\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    private User user;\n\n    ...\n}\n</code></pre>\n<p>My <code>User</code> data fetcher looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DgsComponent\npublic class UserDataFetcher {\n    @Autowired\n    private UserService userService;\n\n    @DgsQuery\n    public User getUserById(@InputArgument UUID id) {\n        return userService.findById(id);\n    }\n    ...\n}\n</code></pre>\n<p>My <code>UserService</code> looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserServiceImpl implements UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public User findById(UUID id) {\n        return userRepository.findById(id).orElseThrow(DgsEntityNotFoundException::new);\n    }\n    ...\n}\n\n</code></pre>\n<p>Now, I only want to initialize/load my articles collections from the DB when the user asks for it in the graphql query. For that purpose I created a child resolver for my articles which only executes when a user asks for the article in the query. My <code>UserDataFetcher</code> started looking like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DgsComponent\npublic class UserDataFetcher {\n    @Autowired\n    private UserService userService;\n\n    @DgsQuery\n    public User getUserById(@InputArgument UUID id) {\n        return userService.findById(id);\n    }\n\n    @DgsData(parentType = &quot;User&quot;, field = &quot;articles&quot;)\n    public List&lt;Article&gt; getArticle(DgsDataFetchingEnvironment dfe) {\n        User user = dfe.getSource();\n        Hibernate.initialize(user.getArticles());\n        return user.getArticles();\n    }\n    ...\n}\n</code></pre>\n<p>But, the above started throwing exceptions telling me that Hibernate couldn't find an open session for the above request. Which made sense because there wasn't any so I put a <code>@Transactional</code> on top of my child resolver and it started looking like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DgsComponent\npublic class UserDataFetcher {\n    @Autowired\n    private UserService userService;\n\n    @DgsQuery\n    public User getUserById(@InputArgument UUID id) {\n        return userService.findById(id);\n    }\n\n    @DgsData(parentType = &quot;User&quot;, field = &quot;articles&quot;)\n    @Transactional\n    public List&lt;Article&gt; getArticle(DgsDataFetchingEnvironment dfe) {\n        User user = dfe.getSource();\n        Hibernate.initialize(user.getArticles());\n        return user.getArticles();\n    }\n    ...\n}\n</code></pre>\n<p>However, the above didn't work either. I tried moving this <code>@Transactional</code> into my service layer as well but even then it didn't work and it throwed the same exception. After much deliberation, I founded out that (maybe) <code>Hibernate.initialize(...)</code> only works if I call it in the initial transaction, the one which fetched me my user in the first place. Meaning, it's of no use to me since my use-case is very user-driven. I ONLY want to get this when my user asks for it, and this is always going to be in some other part of my application outside of the parent transaction.</p>\n<p>I am looking for solutions other than the following:</p>\n<ol>\n<li>Changing the child resolver to something like this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    @DgsData(parentType = &quot;User&quot;, field = &quot;articles&quot;)\n    @Transactional\n    public List&lt;Article&gt; getArticle(DgsDataFetchingEnvironment dfe) {\n        User user = dfe.getSource();\n        List&lt;Article&gt; articles = articlesRepository.getArticlesByUserId(user.getUserId);\n        return articles;\n    }\n</code></pre>\n<p>I am not in the favor of the above solution since I feel this is under-utilizing the ORM itself by trying to resolve the relation yourself rather than letting hibernate itself do it. (Correct me if I wrong thinking this way)</p>\n<ol start=\"2\">\n<li>Changing my <code>User</code> entity to use <code>FetchMode.JOIN</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n    @Id\n    @GeneratedValue\n    private UUID id;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    @Fetch(FetchMode.JOIN)\n    private List&lt;Article&gt; articles;\n    ...\n\n}\n</code></pre>\n<p>This is the same as telling hibernate to eagerly load the below collection no matter what. I don't want this either.</p>\n<ol start=\"3\">\n<li><p>Setting <code>spring.jpa.open-in-view=false</code> to <code>spring.jpa.open-in-view=true</code>. Not in the favor of this either since this is just a band aid for <code>LazyInitializationExceptions</code>.</p>\n</li>\n<li><p>Any other solutions that just makes your forget about <code>LazyInitializationException</code> by keeping the session open throughout the lifecycle of the request.</p>\n</li>\n</ol>\n"},{"tags":["java","performance","hsqldb","hypersql"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1648194169,"post_id":71613520,"comment_id":126567273,"body_markdown":"So your computer has 8 cores and you are surprised that running 500 queries in parallel is slower than running 15?","body":"So your computer has 8 cores and you are surprised that running 500 queries in parallel is slower than running 15?"},{"owner":{"account_id":1440463,"reputation":369,"user_id":1360760,"accept_rate":89,"display_name":"Lokesh Kumar P"},"score":0,"creation_date":1648196992,"post_id":71613520,"comment_id":126568080,"body_markdown":"Sorry a correction, this behavior is present even on a 32 core server.","body":"Sorry a correction, this behavior is present even on a 32 core server."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1648197023,"post_id":71613520,"comment_id":126568098,"body_markdown":"Same problem: you are running way more threads that the system has cores.","body":"Same problem: you are running way more threads that the system has cores."},{"owner":{"account_id":1440463,"reputation":369,"user_id":1360760,"accept_rate":89,"display_name":"Lokesh Kumar P"},"score":0,"creation_date":1648199509,"post_id":71613520,"comment_id":126568930,"body_markdown":"The question is, why does it have an impact on the query response times ?","body":"The question is, why does it have an impact on the query response times ?"},{"owner":{"account_id":1440463,"reputation":369,"user_id":1360760,"accept_rate":89,"display_name":"Lokesh Kumar P"},"score":0,"creation_date":1648212324,"post_id":71613520,"comment_id":126573410,"body_markdown":"Is it because the DB Server not getting enough CPU to process the query, since it is busy serving the requests ?","body":"Is it because the DB Server not getting enough CPU to process the query, since it is busy serving the requests ?"},{"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"score":0,"creation_date":1648223979,"post_id":71613520,"comment_id":126578090,"body_markdown":"Not related to the number of concurrent queries, you could improve the actual query speed by using an indexable condition such as `e=val` that uses an index. In its present form it doesn&#39;t, therefore all 413000 rows are checked during query execution.","body":"Not related to the number of concurrent queries, you could improve the actual query speed by using an indexable condition such as <code>e=val</code> that uses an index. In its present form it doesn&#39;t, therefore all 413000 rows are checked during query execution."},{"owner":{"account_id":1440463,"reputation":369,"user_id":1360760,"accept_rate":89,"display_name":"Lokesh Kumar P"},"score":0,"creation_date":1648261949,"post_id":71613520,"comment_id":126586717,"body_markdown":"In the SQL mentioned in question except the col b in where clause cols c and d are indexed.","body":"In the SQL mentioned in question except the col b in where clause cols c and d are indexed."},{"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"score":0,"creation_date":1648401679,"post_id":71613520,"comment_id":126609262,"body_markdown":"The condition `c != &#39;val&#39;` is not indexable, only `x=&#39;val&#39;` is. The `d is not null` uses an index but probably most of the values in d are not null, so it doesn&#39;t help much.","body":"The condition <code>c != &#39;val&#39;</code> is not indexable, only <code>x=&#39;val&#39;</code> is. The <code>d is not null</code> uses an index but probably most of the values in d are not null, so it doesn&#39;t help much."}],"owner":{"account_id":1440463,"reputation":369,"user_id":1360760,"accept_rate":89,"display_name":"Lokesh Kumar P"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648194101,"creation_date":1648193934,"question_id":71613520,"body_markdown":"Harware setup:\r\n\r\nCPU: Intel i5-8 core machine&lt;br&gt;\r\nMemory: 16 GB&lt;br&gt;\r\nDisk: SSD\r\n\r\nDB: HyperSQL 2.6.0 (JDK 8)&lt;br&gt;\r\n(Running HyperSQL as a docker container with no extra config, running default config)\r\n\r\nTest scenario:&lt;br&gt;\r\nIn-Memory Table with 40 cols and 413,000 rows with index on 4 cols (not combined)\r\n\r\nRunning a java client which simulates 1200 queries executing in a fixed thread pool of size 120. So 1 thread executing 120 requests in a loop OR 120 queries executing in parallel.&lt;br&gt;\r\nType of queries: &lt;br&gt;\r\n```\r\nselect x,y,sum(z),count(distinct a) \r\nfrom table \r\nwhere b like &#39;%val%&#39; \r\n  and c != &#39;val&#39; \r\n  and d is not null \r\ngroup by x,y \r\norder by sum(z) desc \r\nlimit 100\r\n```\r\n\r\nThe avg response time is measured at the end of execution and this metric is dependent on the number of connections present in the connection pool. The readings are given in the below table.&lt;br&gt;Here the Avg is mean not median\r\n\r\n|Connection pool size|Avg Response time per query|Avg pool wait time for connection|\r\n|--------------------|---------------------------|---------------------------------|\r\n|500                 |14 secs                    |0.3 secs                         |\r\n|50                  |10 secs                    |9 secs                           |\r\n|25                  |2.8 secs                   |5.7 secs                         |\r\n|20                  |2.3 secs                   |6.1 secs                         |\r\n|15                  |2 secs                     |7.2 secs                         |\r\n\r\nBut in the HyperSQL [documentation](http://hsqldb.org/web/hsqlPerformance.html), there is a statement where it says that the performance should not be dependent on the number of parallel connections\r\n\r\n**HyperSQL is fully multi threaded. If the vast majority of operations are read operations, then performance is very high in all transaction models. Multiple processes, each running in a different thread, can access the same tables or rows at the same time and return the results independently to the user&#39;s application(s).**\r\n\r\nCan someone please explain this behavior and ways to improve the query performance even when there are higher number of connections to the HyperSQL DB.\r\n\r\n","title":"HyperSQL performance in relation with number of parallel connections","body":"<p>Harware setup:</p>\n<p>CPU: Intel i5-8 core machine<br>\nMemory: 16 GB<br>\nDisk: SSD</p>\n<p>DB: HyperSQL 2.6.0 (JDK 8)<br>\n(Running HyperSQL as a docker container with no extra config, running default config)</p>\n<p>Test scenario:<br>\nIn-Memory Table with 40 cols and 413,000 rows with index on 4 cols (not combined)</p>\n<p>Running a java client which simulates 1200 queries executing in a fixed thread pool of size 120. So 1 thread executing 120 requests in a loop OR 120 queries executing in parallel.<br>\nType of queries: <br></p>\n<pre><code>select x,y,sum(z),count(distinct a) \nfrom table \nwhere b like '%val%' \n  and c != 'val' \n  and d is not null \ngroup by x,y \norder by sum(z) desc \nlimit 100\n</code></pre>\n<p>The avg response time is measured at the end of execution and this metric is dependent on the number of connections present in the connection pool. The readings are given in the below table.<br>Here the Avg is mean not median</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Connection pool size</th>\n<th>Avg Response time per query</th>\n<th>Avg pool wait time for connection</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>500</td>\n<td>14 secs</td>\n<td>0.3 secs</td>\n</tr>\n<tr>\n<td>50</td>\n<td>10 secs</td>\n<td>9 secs</td>\n</tr>\n<tr>\n<td>25</td>\n<td>2.8 secs</td>\n<td>5.7 secs</td>\n</tr>\n<tr>\n<td>20</td>\n<td>2.3 secs</td>\n<td>6.1 secs</td>\n</tr>\n<tr>\n<td>15</td>\n<td>2 secs</td>\n<td>7.2 secs</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>But in the HyperSQL <a href=\"http://hsqldb.org/web/hsqlPerformance.html\" rel=\"nofollow noreferrer\">documentation</a>, there is a statement where it says that the performance should not be dependent on the number of parallel connections</p>\n<p><strong>HyperSQL is fully multi threaded. If the vast majority of operations are read operations, then performance is very high in all transaction models. Multiple processes, each running in a different thread, can access the same tables or rows at the same time and return the results independently to the user's application(s).</strong></p>\n<p>Can someone please explain this behavior and ways to improve the query performance even when there are higher number of connections to the HyperSQL DB.</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648193417,"post_id":71613377,"comment_id":126567081,"body_markdown":"In particular for dependencies I recommend to define the dependency in a dependencyManagement in the parent of your multi module project...than you don&#39;t need a property in the childs...because you can omit the version tag in the childs...","body":"In particular for dependencies I recommend to define the dependency in a dependencyManagement in the parent of your multi module project...than you don&#39;t need a property in the childs...because you can omit the version tag in the childs..."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648194052,"creation_date":1648193698,"answer_id":71613494,"question_id":71613377,"body_markdown":"Properties are inherited, in your child pom with current implementation you are overwriting the property  `dev.version` and with calling the property you will get the overwritten value, so one practice could be change the property name in you reactor (parent) pom and access it with new name(pointer) in child pom&#39;s.\r\n\r\n - Is there other way to not overwrite ?\r\n\r\n[No][1], you can&#39;t. The idea is that if it shouldn&#39;t be possible to override a value, don&#39;t use a property.\r\n\r\n\r\n  [1]: https://maven.apache.org/enforcer/enforcer-rules/requireProperty.html","title":"How to use pom.xml properties from different pom.xml","body":"<p>Properties are inherited, in your child pom with current implementation you are overwriting the property  <code>dev.version</code> and with calling the property you will get the overwritten value, so one practice could be change the property name in you reactor (parent) pom and access it with new name(pointer) in child pom's.</p>\n<ul>\n<li>Is there other way to not overwrite ?</li>\n</ul>\n<p><a href=\"https://maven.apache.org/enforcer/enforcer-rules/requireProperty.html\" rel=\"nofollow noreferrer\">No</a>, you can't. The idea is that if it shouldn't be possible to override a value, don't use a property.</p>\n"}],"owner":{"account_id":16276241,"reputation":17,"user_id":16187547,"display_name":"Aleksey Bakharev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71613494,"answer_count":1,"score":0,"last_activity_date":1648194052,"creation_date":1648192946,"question_id":71613377,"body_markdown":"I have multi-module project with parent pom.xml\r\nI want to use properties not from the parent pom\r\n\r\nparent:\r\n\r\n    &lt;properties&gt; \r\n       &lt;dev.version&gt;1.1&lt;dev.version/&gt;  \r\n    &lt;/properties&gt;\r\n\r\n  different module:\r\n\r\n    &lt;properties&gt;    \r\n       &lt;dev.version&gt;1.2&lt;dev.version/&gt;  \r\n    &lt;/properties&gt;\r\n\r\nhow to get properties not from the parent?\r\n\r\n\r\nmy module:\r\n\r\n    &lt;properties&gt;\r\n       &lt;dev.version&gt;${different_module.dev.version}&lt;dev.version/&gt;\r\n    &lt;/properties&gt;\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;...&lt;/groupId&gt;\r\n        &lt;artifactId&gt;...&lt;/artifactId&gt;\r\n        &lt;version&gt;${dev.version}&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\ni tried used to mojohaus properties-maven-plugin but apparently it needs a file with properties and not pom","title":"How to use pom.xml properties from different pom.xml","body":"<p>I have multi-module project with parent pom.xml\nI want to use properties not from the parent pom</p>\n<p>parent:</p>\n<pre><code>&lt;properties&gt; \n   &lt;dev.version&gt;1.1&lt;dev.version/&gt;  \n&lt;/properties&gt;\n</code></pre>\n<p>different module:</p>\n<pre><code>&lt;properties&gt;    \n   &lt;dev.version&gt;1.2&lt;dev.version/&gt;  \n&lt;/properties&gt;\n</code></pre>\n<p>how to get properties not from the parent?</p>\n<p>my module:</p>\n<pre><code>&lt;properties&gt;\n   &lt;dev.version&gt;${different_module.dev.version}&lt;dev.version/&gt;\n&lt;/properties&gt;\n\n &lt;dependency&gt;\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;artifactId&gt;...&lt;/artifactId&gt;\n    &lt;version&gt;${dev.version}&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>i tried used to mojohaus properties-maven-plugin but apparently it needs a file with properties and not pom</p>\n"},{"tags":["java","kotlin","command-line-interface","graphql","micronaut"],"answers":[{"tags":[],"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549987362,"creation_date":1549987362,"answer_id":54654129,"question_id":54610727,"body_markdown":"Currently no. The current GraphQL support does not have a corresponding feature in the CLI. https://github.com/micronaut-projects/micronaut-graphql","title":"Micronaut cli graphql setup","body":"<p>Currently no. The current GraphQL support does not have a corresponding feature in the CLI. <a href=\"https://github.com/micronaut-projects/micronaut-graphql\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-graphql</a></p>\n"}],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54654129,"answer_count":1,"score":1,"last_activity_date":1648193916,"creation_date":1549746274,"question_id":54610727,"body_markdown":"Is it possible to pass a feature to micronaut cli to integrate a new application with graphQL, for example like this:\r\n\r\n    mn create-app -f grephql name","title":"Micronaut cli graphql setup","body":"<p>Is it possible to pass a feature to micronaut cli to integrate a new application with graphQL, for example like this:</p>\n\n<pre><code>mn create-app -f grephql name\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648158285,"post_id":71603346,"comment_id":126560833,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":17735557,"reputation":337,"user_id":12877007,"display_name":"Mubashir Murtaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648193847,"creation_date":1648193847,"answer_id":71613514,"question_id":71603346,"body_markdown":"The is how we create single instance \r\n\r\n    MediaPlayer mediaPlayer;\r\n    \r\n    public MediaPlayer getMediaPlayerInstance(){\r\n    \r\n    if(mediaPlayer == null){\r\n    return mediaPlayer = new MediaPlayer();\r\n    }\r\n    else return mediaPlayer;\r\n    \r\n    }\r\nhow to use is simple\r\n\r\n\r\n    mediaPlayer = getMediaPlayerInstance()\r\n\r\n\r\n","title":"Android &quot;mediaplayer&quot; one instance","body":"<p>The is how we create single instance</p>\n<pre><code>MediaPlayer mediaPlayer;\n\npublic MediaPlayer getMediaPlayerInstance(){\n\nif(mediaPlayer == null){\nreturn mediaPlayer = new MediaPlayer();\n}\nelse return mediaPlayer;\n\n}\n</code></pre>\n<p>how to use is simple</p>\n<pre><code>mediaPlayer = getMediaPlayerInstance()\n</code></pre>\n"}],"owner":{"account_id":3650979,"reputation":3,"user_id":3043181,"display_name":"Desavil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648193847,"creation_date":1648128325,"question_id":71603346,"body_markdown":"I have a problem with the player. How can I make it so that only one instance of the player can run?\r\nI need this because the stop function is not working.\r\n\r\n```java\r\npublic class MyJavaScriptInterface {\r\n\r\n    Context mContext;\r\n    MediaPlayer mediaPlayer;\r\n\r\n    MyJavaScriptInterface(Context c) {\r\n        mContext = c;\r\n    }\r\n\r\n    public void native_player(int action, String streamurl) {\r\n        mediaPlayer = new MediaPlayer();\r\n        if (action == 1) {\r\n            try {\r\n                mediaPlayer.setDataSource(streamurl);\r\n                mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n                mediaPlayer.setVolume(1,1);\r\n                mediaPlayer.setWakeMode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);\r\n                mediaPlayer.setLooping(true);\r\n                mediaPlayer.prepare();\r\n                mediaPlayer.start();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            mediaPlayer.stop();\r\n            mediaPlayer.reset();\r\n            mediaPlayer.release();\r\n        }\r\n    }\r\n\r\n    [...]\r\n}\r\n```\r\n\r\nI tried to look for a solution on the Internet, but was unable to fix it myself.","title":"Android &quot;mediaplayer&quot; one instance","body":"<p>I have a problem with the player. How can I make it so that only one instance of the player can run?\nI need this because the stop function is not working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyJavaScriptInterface {\n\n    Context mContext;\n    MediaPlayer mediaPlayer;\n\n    MyJavaScriptInterface(Context c) {\n        mContext = c;\n    }\n\n    public void native_player(int action, String streamurl) {\n        mediaPlayer = new MediaPlayer();\n        if (action == 1) {\n            try {\n                mediaPlayer.setDataSource(streamurl);\n                mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n                mediaPlayer.setVolume(1,1);\n                mediaPlayer.setWakeMode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);\n                mediaPlayer.setLooping(true);\n                mediaPlayer.prepare();\n                mediaPlayer.start();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } else {\n            mediaPlayer.stop();\n            mediaPlayer.reset();\n            mediaPlayer.release();\n        }\n    }\n\n    [...]\n}\n</code></pre>\n<p>I tried to look for a solution on the Internet, but was unable to fix it myself.</p>\n"},{"tags":["java","arrays","concatenation"],"answers":[{"tags":[],"owner":{"account_id":183857,"reputation":15364,"user_id":419516,"accept_rate":87,"display_name":"user219882"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507108774,"creation_date":1354708292,"answer_id":13722657,"question_id":13722538,"body_markdown":"You could use Apache Commons Library - [ArrayUtils][1]. Change only the index for second dimension and merge the whole lines.     \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ArrayUtils.html#addAll-boolean:A-boolean...-","title":"How to concatenate two-dimensional arrays in Java","body":"<p>You could use Apache Commons Library - <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ArrayUtils.html#addAll-boolean:A-boolean...-\" rel=\"nofollow noreferrer\">ArrayUtils</a>. Change only the index for second dimension and merge the whole lines.     </p>\n"},{"tags":[],"owner":{"account_id":1126038,"reputation":156,"user_id":1113312,"display_name":"Sergio Nakanishi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1354708705,"creation_date":1354708705,"answer_id":13722781,"question_id":13722538,"body_markdown":"You could try\r\n\r\n    Object[][] result = new Object[a1.length + a2.length][];\r\n    \t\t\r\n    System.arraycopy(a1, 0, result, 0, a1.length);\r\n    System.arraycopy(a2, 0, result, a1.length, a2.length);","title":"How to concatenate two-dimensional arrays in Java","body":"<p>You could try</p>\n\n<pre><code>Object[][] result = new Object[a1.length + a2.length][];\n\nSystem.arraycopy(a1, 0, result, 0, a1.length);\nSystem.arraycopy(a2, 0, result, a1.length, a2.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5658021,"reputation":2263,"user_id":4476484,"accept_rate":75,"display_name":"nullromo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486430990,"creation_date":1486430990,"answer_id":42080173,"question_id":13722538,"body_markdown":"Here is the method I use for 2D array concatenation. It partly uses Sergio Nakanishi&#39;s answer, but adds the ability to concatenate in both directions.\r\n\r\n    /*\r\n\t * Define directions for array concatenation\r\n\t */\r\n\tpublic static final byte ARRAY_CONCAT_HORIZ = 0, ARRAY_CONCAT_VERT = 1;\r\n\t\r\n\t/*\r\n\t * Concatenates 2 2D arrays\r\n\t */\r\n\tpublic static Object[][] arrayConcat(Object[][] a, Object[][] b, byte concatDirection)\r\n\t{\r\n\t\tif(concatDirection == ARRAY_CONCAT_HORIZ &amp;&amp; a[0].length == b[0].length)\r\n\t\t{\r\n\t\t\treturn Arrays.stream(arrayConcat(a, b)).map(Object[].class::cast)\r\n\t\t\t\t\t\t.toArray(Object[][]::new);\r\n\t\t}\r\n\t\telse if(concatDirection == ARRAY_CONCAT_VERT &amp;&amp; a.length == b.length)\r\n\t\t{\r\n\t\t\tObject[][] arr = new Object[a.length][a[0].length + b[0].length];\r\n\t\t\tfor(int i=0; i&lt;a.length; i++)\r\n\t\t\t{\r\n\t\t\t\tarr[i] = arrayConcat(a[i], b[i]);\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t\telse\r\n\t\t\tthrow new RuntimeException(&quot;Attempted to concatenate arrays of incompatible sizes.&quot;);\r\n\t}\r\n\t\r\n\t/*\r\n\t * Concatenates 2 1D arrays\r\n\t */\r\n\tpublic static Object[] arrayConcat(Object[] a, Object[] b)\r\n\t{\r\n\t\tObject[] arr = new Object[a.length + b.length];\r\n\t\tSystem.arraycopy(a, 0, arr, 0, a.length);\r\n\t\tSystem.arraycopy(b, 0, arr, a.length, b.length);\r\n\t\treturn arr;\r\n\t}","title":"How to concatenate two-dimensional arrays in Java","body":"<p>Here is the method I use for 2D array concatenation. It partly uses Sergio Nakanishi's answer, but adds the ability to concatenate in both directions.</p>\n\n<pre><code>/*\n * Define directions for array concatenation\n */\npublic static final byte ARRAY_CONCAT_HORIZ = 0, ARRAY_CONCAT_VERT = 1;\n\n/*\n * Concatenates 2 2D arrays\n */\npublic static Object[][] arrayConcat(Object[][] a, Object[][] b, byte concatDirection)\n{\n    if(concatDirection == ARRAY_CONCAT_HORIZ &amp;&amp; a[0].length == b[0].length)\n    {\n        return Arrays.stream(arrayConcat(a, b)).map(Object[].class::cast)\n                    .toArray(Object[][]::new);\n    }\n    else if(concatDirection == ARRAY_CONCAT_VERT &amp;&amp; a.length == b.length)\n    {\n        Object[][] arr = new Object[a.length][a[0].length + b[0].length];\n        for(int i=0; i&lt;a.length; i++)\n        {\n            arr[i] = arrayConcat(a[i], b[i]);\n        }\n        return arr;\n    }\n    else\n        throw new RuntimeException(\"Attempted to concatenate arrays of incompatible sizes.\");\n}\n\n/*\n * Concatenates 2 1D arrays\n */\npublic static Object[] arrayConcat(Object[] a, Object[] b)\n{\n    Object[] arr = new Object[a.length + b.length];\n    System.arraycopy(a, 0, arr, 0, a.length);\n    System.arraycopy(b, 0, arr, a.length, b.length);\n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22330570,"reputation":17,"user_id":16551887,"display_name":"Anand Jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648193554,"creation_date":1648193554,"answer_id":71613469,"question_id":13722538,"body_markdown":"Logical Way-\r\n\r\n        for(int j = 0; j &lt; a.length+b.length; j++){\r\n            if(j &lt; a.length){\r\n                ans[j] = a[j];\r\n            }else{\r\n                ans[j] = b[j-(a.length)];\r\n            }\r\n        }","title":"How to concatenate two-dimensional arrays in Java","body":"<p>Logical Way-</p>\n<pre><code>    for(int j = 0; j &lt; a.length+b.length; j++){\n        if(j &lt; a.length){\n            ans[j] = a[j];\n        }else{\n            ans[j] = b[j-(a.length)];\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1943643,"reputation":746,"user_id":1749247,"accept_rate":80,"display_name":"Urs Beeli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12257,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":13722781,"answer_count":4,"score":6,"last_activity_date":1648193554,"creation_date":1354707888,"question_id":13722538,"body_markdown":"I have a situation where I need to concatenate two two-dimensional arrays.\r\n\r\n    Object[][] getMergedResults() {\r\n        Object[][] a1 = getDataFromSource1();\r\n        Object[][] a2 = getDataFromSource2();\r\n        // I can guarantee that the second dimension of a1 and a2 are the same\r\n        // as I have some control over the two getDataFromSourceX() methods\r\n        \r\n        // concat the two arrays\r\n        List&lt;Object[]&gt; result = new ArrayList&lt;Object[]&gt;();\r\n        for(Object[] entry: a1) {\r\n            result.add(entry);\r\n        }\r\n        for(Object[] entry: a2) {\r\n            result.add(entry);\r\n        }\r\n        Object[][] resultType = {};\r\n        \r\n        return result.toArray(resultType);\r\n    }\r\n\r\nI have looked at the solutions for the concatenation of 1-dimensional arrays in [this post][1] but have been unable to make it work for my two-dimensional arrays.\r\n\r\nSo far, the solution I have come up with is to iterate over both arrays and adding each member to a ArrayList&lt;Object&gt; and then returning toArray() of that array list. I&#39;m sure there must be an easier solution, but have so far been unable to come with one.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/80476/how-to-concatenate-two-arrays-in-java","title":"How to concatenate two-dimensional arrays in Java","body":"<p>I have a situation where I need to concatenate two two-dimensional arrays.</p>\n\n<pre><code>Object[][] getMergedResults() {\n    Object[][] a1 = getDataFromSource1();\n    Object[][] a2 = getDataFromSource2();\n    // I can guarantee that the second dimension of a1 and a2 are the same\n    // as I have some control over the two getDataFromSourceX() methods\n\n    // concat the two arrays\n    List&lt;Object[]&gt; result = new ArrayList&lt;Object[]&gt;();\n    for(Object[] entry: a1) {\n        result.add(entry);\n    }\n    for(Object[] entry: a2) {\n        result.add(entry);\n    }\n    Object[][] resultType = {};\n\n    return result.toArray(resultType);\n}\n</code></pre>\n\n<p>I have looked at the solutions for the concatenation of 1-dimensional arrays in <a href=\"https://stackoverflow.com/questions/80476/how-to-concatenate-two-arrays-in-java\">this post</a> but have been unable to make it work for my two-dimensional arrays.</p>\n\n<p>So far, the solution I have come up with is to iterate over both arrays and adding each member to a ArrayList and then returning toArray() of that array list. I'm sure there must be an easier solution, but have so far been unable to come with one.</p>\n"},{"tags":["java","spring","uri"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":3,"creation_date":1501075251,"post_id":45328058,"comment_id":77618022,"body_markdown":"Encoding is nog for urls! Its for parameter values. Remove this line: `String urlEncoded = URLEncoder.encode(url, UTF_8);`","body":"Encoding is nog for urls! Its for parameter values. Remove this line: <code>String urlEncoded = URLEncoder.encode(url, UTF_8);</code>"},{"owner":{"account_id":6324620,"reputation":4412,"user_id":4911434,"accept_rate":100,"display_name":"Alessandro"},"score":0,"creation_date":1501144816,"post_id":45328058,"comment_id":77652298,"body_markdown":"Ok, I removed the encode, but anyway I need to specify a relative url, is that possible? Thanks","body":"Ok, I removed the encode, but anyway I need to specify a relative url, is that possible? Thanks"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1501149262,"post_id":45328058,"comment_id":77655666,"body_markdown":"Relative to what? Without any context, an application doesn&#39;t know how it was externally accessed. If you have access to the HttpServletRequest, you can see what that object thinks that your application was accessed at, but even that doesn&#39;t need to be perfect if there are reverse proxies in front of your own Java application server. Making a relative request is easy for javascript code running in a browser, but really hard for a serverside application.","body":"Relative to what? Without any context, an application doesn&#39;t know how it was externally accessed. If you have access to the HttpServletRequest, you can see what that object thinks that your application was accessed at, but even that doesn&#39;t need to be perfect if there are reverse proxies in front of your own Java application server. Making a relative request is easy for javascript code running in a browser, but really hard for a serverside application."},{"owner":{"account_id":6324620,"reputation":4412,"user_id":4911434,"accept_rate":100,"display_name":"Alessandro"},"score":0,"creation_date":1501150547,"post_id":45328058,"comment_id":77656675,"body_markdown":"@ErwinBolwidt Relative to current request, I&#39;ve updated my question, what&#39;s about my current code? Thanks","body":"@ErwinBolwidt Relative to current request, I&#39;ve updated my question, what&#39;s about my current code? Thanks"},{"owner":{"account_id":3442780,"reputation":4961,"user_id":2884309,"accept_rate":73,"display_name":"Ivan Aracki"},"score":0,"creation_date":1508334579,"post_id":45328058,"comment_id":80570647,"body_markdown":"probably you forgot Url&#39;s hostname (e.g. localhost:8080)...","body":"probably you forgot Url&#39;s hostname (e.g. localhost:8080)..."}],"answers":[{"tags":[],"owner":{"account_id":136743,"reputation":959,"user_id":340456,"accept_rate":92,"display_name":"banncee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1517408469,"creation_date":1517408469,"answer_id":48544408,"question_id":45328058,"body_markdown":"You cannot do it as your code in the first snippet; the URI must FULLY identify the resource you are trying to get to. Your second snippet is the pretty much the only way you can do what you&#39;re trying to do. There may be other ways, but I can&#39;t think of any off the top of my head. \r\n\r\nOf course, with your approach, you are dictating your system architecture and deployment model ***in code***, which is almost never a good idea.","title":"Spring RestTemplate: URI is not absolute","body":"<p>You cannot do it as your code in the first snippet; the URI must FULLY identify the resource you are trying to get to. Your second snippet is the pretty much the only way you can do what you're trying to do. There may be other ways, but I can't think of any off the top of my head. </p>\n\n<p>Of course, with your approach, you are dictating your system architecture and deployment model <strong><em>in code</em></strong>, which is almost never a good idea.</p>\n"},{"tags":[],"owner":{"account_id":10024548,"reputation":729,"user_id":7413086,"display_name":"kushal Baldev"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1566389033,"creation_date":1519636753,"answer_id":48985011,"question_id":45328058,"body_markdown":"Your URL `app2/myservice?par=1` is not complete if your service running on another web app or the same server. \r\n\r\nYou have to complete the path by giving base URL means `localhost:8080/yourApp/app2/myservice?par=1` then the things might work for you.\r\n\r\nAlso, check the Package access.","title":"Spring RestTemplate: URI is not absolute","body":"<p>Your URL <code>app2/myservice?par=1</code> is not complete if your service running on another web app or the same server. </p>\n\n<p>You have to complete the path by giving base URL means <code>localhost:8080/yourApp/app2/myservice?par=1</code> then the things might work for you.</p>\n\n<p>Also, check the Package access.</p>\n"},{"tags":[],"owner":{"account_id":1659301,"reputation":29,"user_id":1527893,"display_name":"user1527893"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575898199,"creation_date":1575898199,"answer_id":59249959,"question_id":45328058,"body_markdown":"Provide a full path like **http://localhost:8080/app2/myservice?par=1**.\r\nHope this helps.","title":"Spring RestTemplate: URI is not absolute","body":"<p>Provide a full path like <strong><a href=\"http://localhost:8080/app2/myservice?par=1\" rel=\"nofollow noreferrer\">http://localhost:8080/app2/myservice?par=1</a></strong>.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":14693400,"reputation":21,"user_id":10611401,"display_name":"pranav patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648193364,"creation_date":1648193364,"answer_id":71613449,"question_id":45328058,"body_markdown":"If you are using service discovery by using the Netflix Eureka discovery server. You need to provide a full path like http://app2/myservice?par=1.","title":"Spring RestTemplate: URI is not absolute","body":"<p>If you are using service discovery by using the Netflix Eureka discovery server. You need to provide a full path like http://app2/myservice?par=1.</p>\n"}],"owner":{"account_id":6324620,"reputation":4412,"user_id":4911434,"accept_rate":100,"display_name":"Alessandro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81452,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":48544408,"answer_count":4,"score":18,"last_activity_date":1648193364,"creation_date":1501074700,"question_id":45328058,"body_markdown":"I&#39;m trying to connect to a *Spring RESTful service* on the same server where my webapp is running.\r\n\r\nI&#39;d like to use a &quot;relative&quot; path because it could be installed on several environments (localhost, test, production) but I get the error message: `URI is not absolute`.\r\n\r\nHow can I call a service running on another webapp on the same server?\r\n\r\nMy code is like following:\r\n\r\n    final RestTemplate restTemplate = new RestTemplate();\r\n    URI uri;\r\n    try {\r\n        String url = &quot;app2/myservice?par=1&quot;;\r\n    \turi = new URI(url);\r\n    \tString result = restTemplate.getForObject(uri, String.class);\r\n    \tSystem.out.println(result);\r\n    } catch (URISyntaxException e) {\r\n    \tlogger.error(e.getMessage());\r\n    }\r\n\r\nThanks.\r\n\r\n**Update:**\r\n\r\nI solved it by getting the host, port, etc... from the `request`, could it be a right and elegant solution? This&#39;s my actual simplified code:\r\n\r\n    String scheme = request.getScheme();\r\n    String userInfo = request.getRemoteUser();\r\n    String host = request.getLocalAddr();\r\n    int port = request.getLocalPort();\r\n    String path = &quot;/app2/myservice&quot;;\r\n    String query = &quot;par=1&quot;;\r\n    URI uri = new URI(scheme, userInfo, host, port, path, query, null);\r\n    boolean isOK = restTemplate.getForObject(uri, Boolean.class);\r\n    if (isOK) {\r\n    \tSystem.out.println(&quot;Is OK&quot;);\r\n    }","title":"Spring RestTemplate: URI is not absolute","body":"<p>I'm trying to connect to a <em>Spring RESTful service</em> on the same server where my webapp is running.</p>\n\n<p>I'd like to use a \"relative\" path because it could be installed on several environments (localhost, test, production) but I get the error message: <code>URI is not absolute</code>.</p>\n\n<p>How can I call a service running on another webapp on the same server?</p>\n\n<p>My code is like following:</p>\n\n<pre><code>final RestTemplate restTemplate = new RestTemplate();\nURI uri;\ntry {\n    String url = \"app2/myservice?par=1\";\n    uri = new URI(url);\n    String result = restTemplate.getForObject(uri, String.class);\n    System.out.println(result);\n} catch (URISyntaxException e) {\n    logger.error(e.getMessage());\n}\n</code></pre>\n\n<p>Thanks.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I solved it by getting the host, port, etc... from the <code>request</code>, could it be a right and elegant solution? This's my actual simplified code:</p>\n\n<pre><code>String scheme = request.getScheme();\nString userInfo = request.getRemoteUser();\nString host = request.getLocalAddr();\nint port = request.getLocalPort();\nString path = \"/app2/myservice\";\nString query = \"par=1\";\nURI uri = new URI(scheme, userInfo, host, port, path, query, null);\nboolean isOK = restTemplate.getForObject(uri, Boolean.class);\nif (isOK) {\n    System.out.println(\"Is OK\");\n}\n</code></pre>\n"},{"tags":["java","primes"],"comments":[{"owner":{"account_id":476395,"reputation":2065,"user_id":887290,"accept_rate":88,"display_name":"ThomasEdwin"},"score":0,"creation_date":1514171395,"post_id":47965404,"comment_id":82900643,"body_markdown":"perhaps `break;` might be useful?","body":"perhaps <code>break;</code> might be useful?"},{"owner":{"account_id":11303714,"reputation":1376,"user_id":8288930,"accept_rate":60,"display_name":"BlueJapan"},"score":0,"creation_date":1514171543,"post_id":47965404,"comment_id":82900662,"body_markdown":"@ThomasEdwin I added after isPrime = false, works better, but not for &quot;3&quot;,&quot;5&quot;, works for &quot;17&quot;.","body":"@ThomasEdwin I added after isPrime = false, works better, but not for &quot;3&quot;,&quot;5&quot;, works for &quot;17&quot;."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":2,"creation_date":1590108402,"post_id":47965404,"comment_id":109563019,"body_markdown":"I&#39;ve run your code and it seems to work.","body":"I&#39;ve run your code and it seems to work."},{"owner":{"account_id":11303714,"reputation":1376,"user_id":8288930,"accept_rate":60,"display_name":"BlueJapan"},"score":0,"creation_date":1590109279,"post_id":47965404,"comment_id":109563213,"body_markdown":"@NomadMaker the first part will not work. The new updated yes is working/","body":"@NomadMaker the first part will not work. The new updated yes is working/"}],"answers":[{"tags":[],"owner":{"account_id":7440043,"reputation":441,"user_id":5658349,"display_name":"pjpj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514171443,"creation_date":1514171443,"answer_id":47965420,"question_id":47965404,"body_markdown":"In your code\r\n\r\n    for(int divisor = 2; divisor &lt; num / 2; divisor++) {\r\n        if(num % divisor == 0)\r\n        {\r\n\r\n            isPrime = false;\r\n        }\r\n        isPrime = true;\r\n    }\r\n\r\n**If isPrime = false, then you make it true again!**\r\n\r\nYou can consider this:\r\n\r\n        isPrime = true;\r\n        for(int divisor = 2; divisor &lt; num / 2; divisor++) {\r\n            if(num % divisor == 0)\r\n            {\r\n                isPrime = false;\r\n                break;\r\n            }\r\n        }","title":"Checking if a number is prime, not working by using extra isPrime flag","body":"<p>In your code</p>\n\n<pre><code>for(int divisor = 2; divisor &lt; num / 2; divisor++) {\n    if(num % divisor == 0)\n    {\n\n        isPrime = false;\n    }\n    isPrime = true;\n}\n</code></pre>\n\n<p><strong>If isPrime = false, then you make it true again!</strong></p>\n\n<p>You can consider this:</p>\n\n<pre><code>    isPrime = true;\n    for(int divisor = 2; divisor &lt; num / 2; divisor++) {\n        if(num % divisor == 0)\n        {\n            isPrime = false;\n            break;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1585903362,"creation_date":1514171498,"answer_id":47965422,"question_id":47965404,"body_markdown":"The main issue here is that you overwrite the value of `isPrime` in every iteration, so if the last divisor you check does not divide `num`, you interpret it as a prime. \r\n\r\nA better approach would be to assume a number is a prime until proven otherwise (i.e., until you find a divisor for it). Once you&#39;ve found such a divisor, you can `break` out of the loop - the number isn&#39;t a prime, and there&#39;s no reason to keep on checking it:\r\n\r\n    isPrime = true;\r\n    for(int divisor = 2; divisor &lt;= num / 2; divisor++) {\r\n        if (num % divisor == 0) {\r\n            isPrime = false;\r\n            break; // num is not a prime, no reason to continue checking\r\n        }\r\n    }","title":"Checking if a number is prime, not working by using extra isPrime flag","body":"<p>The main issue here is that you overwrite the value of <code>isPrime</code> in every iteration, so if the last divisor you check does not divide <code>num</code>, you interpret it as a prime. </p>\n\n<p>A better approach would be to assume a number is a prime until proven otherwise (i.e., until you find a divisor for it). Once you've found such a divisor, you can <code>break</code> out of the loop - the number isn't a prime, and there's no reason to keep on checking it:</p>\n\n<pre><code>isPrime = true;\nfor(int divisor = 2; divisor &lt;= num / 2; divisor++) {\n    if (num % divisor == 0) {\n        isPrime = false;\n        break; // num is not a prime, no reason to continue checking\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7740340,"reputation":11,"user_id":5860347,"display_name":"CapLuo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1514172395,"creation_date":1514172395,"answer_id":47965472,"question_id":47965404,"body_markdown":"public class PrimeNum {\r\n\r\n\tprivate static boolean isPrime;\r\n\tprivate static Scanner input;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tinput = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter a number ( you think ) : &quot;);\r\n\t\tString ch = input.next();\r\n\r\n\t\tif (isNumeric(ch)) {\r\n\t\t\tint num = Integer.parseInt(ch);\r\n\t\t\tisPrime = true;\r\n\t\t\tif (num &gt; 1) {\r\n\t\t\t\tfor (int divisor = 2; divisor * divisor &lt;= num; divisor++) {\r\n\t\t\t\t\tif (num % divisor == 0) {\r\n\t\t\t\t\t\tisPrime = false;\r\n                        break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tisPrime = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (isPrime) {\r\n\t\t\t\tSystem.out.println(&quot;Prime&quot;);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Not a prime&quot;);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Should input a number&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static boolean isNumeric(String str) {\r\n\t\tPattern pattern = Pattern.compile(&quot;[0-9]*|\\\\-[0-9]*&quot;);\r\n\t\tMatcher isNum = pattern.matcher(str);\r\n\t\tif (!isNum.matches()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}","title":"Checking if a number is prime, not working by using extra isPrime flag","body":"<p>public class PrimeNum {</p>\n\n<pre><code>private static boolean isPrime;\nprivate static Scanner input;\n\npublic static void main(String[] args) {\n    input = new Scanner(System.in);\n    System.out.println(\"Enter a number ( you think ) : \");\n    String ch = input.next();\n\n    if (isNumeric(ch)) {\n        int num = Integer.parseInt(ch);\n        isPrime = true;\n        if (num &gt; 1) {\n            for (int divisor = 2; divisor * divisor &lt;= num; divisor++) {\n                if (num % divisor == 0) {\n                    isPrime = false;\n                    break;\n                }\n            }\n        } else {\n            isPrime = false;\n        }\n\n        if (isPrime) {\n            System.out.println(\"Prime\");\n\n        } else {\n            System.out.println(\"Not a prime\");\n        }\n    } else {\n        System.out.println(\"Should input a number\");\n    }\n}\n\npublic static boolean isNumeric(String str) {\n    Pattern pattern = Pattern.compile(\"[0-9]*|\\\\-[0-9]*\");\n    Matcher isNum = pattern.matcher(str);\n    if (!isNum.matches()) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10223536,"reputation":70,"user_id":7546984,"display_name":"amk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1525501645,"creation_date":1521110578,"answer_id":49297342,"question_id":47965404,"body_markdown":"Try with this:    \r\n\r\n    public class prime{\r\n    public static void main (String args[]){\r\n    int n1=100, n2=1000;\r\n    int c=0;\r\n    for(int i=n1; i&lt;=n2; i++)\r\n    \tif(isPrime(i)==true)\r\n    \t\tc++;\r\n    \tSystem.out.print(c);\r\n    }\r\n    public static boolean isPrime(int number)\r\n    {\r\n    \t\r\n    \tfor(int j=2; j&lt;number; j++) //u go from number+1 to number to check \r\n                                    //if it can be divided by any other value.\r\n    \t\tif(number % j ==0) //if there is 1 other number that divides it then\r\n                               //it returns false.\r\n    \t\t\treturn false;\r\n    \t\t\r\n    \t\treturn true; //else it returns true.\r\n    }\r\n    }","title":"Checking if a number is prime, not working by using extra isPrime flag","body":"<p>Try with this:    </p>\n\n<pre><code>public class prime{\npublic static void main (String args[]){\nint n1=100, n2=1000;\nint c=0;\nfor(int i=n1; i&lt;=n2; i++)\n    if(isPrime(i)==true)\n        c++;\n    System.out.print(c);\n}\npublic static boolean isPrime(int number)\n{\n\n    for(int j=2; j&lt;number; j++) //u go from number+1 to number to check \n                                //if it can be divided by any other value.\n        if(number % j ==0) //if there is 1 other number that divides it then\n                           //it returns false.\n            return false;\n\n        return true; //else it returns true.\n}\n}\n</code></pre>\n"}],"owner":{"account_id":11303714,"reputation":1376,"user_id":8288930,"accept_rate":60,"display_name":"BlueJapan"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18749,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"closed_date":1530912289,"accepted_answer_id":47965422,"answer_count":4,"score":-2,"last_activity_date":1648193079,"creation_date":1514171177,"question_id":47965404,"body_markdown":"(1) Original question with problematic solution: \r\nThis question is checking the number is prime or not.\r\n``` \r\n    \tpublic static void main(String[] args) {\r\n    \t\tinput = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter a prime number ( you think ) : &quot;);\r\n    \t\tint num = input.nextInt();\r\n    \t\t\r\n    \t\tisPrime = false;\r\n    \t\tfor(int divisor = 2; divisor &lt; num / 2; divisor++) {\r\n    \t\t\tif(num % divisor == 0){\r\n    \t\t\t\t\r\n    \t\t\t\tisPrime = false;\r\n    \t\t\t}\r\n    \t\t\tisPrime = true;\r\n    \t\t}\r\n    \t\tif(isPrime) {\r\n    \t\t\tSystem.out.println(&quot;Prime&quot;);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;Not a prime&quot;);\r\n    \t\t}\r\n    \t}\r\n```  \r\n\r\n(2) ###Updated:\r\nThe main reason is not working is the flag caused the issue: isPrime = true;\r\n\r\n```java\r\n           isPrime = false;\r\n           for(int divisor = 2; divisor &lt; num / 2; divisor++) {\r\n    \t\t\tif(num % divisor == 0)\r\n    \t\t\t{\r\n    \t\t\t\t\r\n    \t\t\t\tisPrime = false;\r\n    \t\t\t}\r\n    \t\t\tisPrime = true; // May 2020: no matter what num, it will become true here.\r\n    \t\t}\r\n```\r\n\r\n(3)  ###Updated: The working solution with a method: \r\n```\r\nclass Prime {\r\n    public static void main(String[] args){\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a prime number ( you think ) : &quot;);\r\n        int num = input.nextInt();\r\n        if(ifPrime(num)) {\r\n        \t System.out.println(num + &quot; is a prime number&quot;);\r\n        }\r\n        else {\r\n        \tSystem.out.println(num + &quot; is a NOT prime number&quot;);\r\n        }\r\n    }\r\n    private static boolean ifPrime(int num) {\r\n    \t\r\n        for(int divisor = 2; divisor &lt; num; divisor++) {\r\n            if( num != divisor &amp;&amp; num % divisor == 0){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}","title":"Checking if a number is prime, not working by using extra isPrime flag","body":"<p>(1) Original question with problematic solution:\nThis question is checking the number is prime or not.</p>\n<pre><code>        public static void main(String[] args) {\n            input = new Scanner(System.in);\n            System.out.println(&quot;Enter a prime number ( you think ) : &quot;);\n            int num = input.nextInt();\n            \n            isPrime = false;\n            for(int divisor = 2; divisor &lt; num / 2; divisor++) {\n                if(num % divisor == 0){\n                    \n                    isPrime = false;\n                }\n                isPrime = true;\n            }\n            if(isPrime) {\n                System.out.println(&quot;Prime&quot;);\n                \n            }\n            else {\n                System.out.println(&quot;Not a prime&quot;);\n            }\n        }\n</code></pre>\n<p>(2) ###Updated:\nThe main reason is not working is the flag caused the issue: isPrime = true;</p>\n<pre class=\"lang-java prettyprint-override\"><code>           isPrime = false;\n           for(int divisor = 2; divisor &lt; num / 2; divisor++) {\n                if(num % divisor == 0)\n                {\n                    \n                    isPrime = false;\n                }\n                isPrime = true; // May 2020: no matter what num, it will become true here.\n            }\n</code></pre>\n<p>(3)  ###Updated: The working solution with a method:</p>\n<pre><code>class Prime {\n    public static void main(String[] args){\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Enter a prime number ( you think ) : &quot;);\n        int num = input.nextInt();\n        if(ifPrime(num)) {\n             System.out.println(num + &quot; is a prime number&quot;);\n        }\n        else {\n            System.out.println(num + &quot; is a NOT prime number&quot;);\n        }\n    }\n    private static boolean ifPrime(int num) {\n        \n        for(int divisor = 2; divisor &lt; num; divisor++) {\n            if( num != divisor &amp;&amp; num % divisor == 0){\n                return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-poi","powerpoint","ecma"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1614886452,"post_id":66480082,"comment_id":117529740,"body_markdown":"Not provided a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example), so no answer possible. But I guess it would must be `ctGeomGuide.setName(&quot;adj1&quot;);`.","body":"Not provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>, so no answer possible. But I guess it would must be <code>ctGeomGuide.setName(&quot;adj1&quot;);</code>."},{"owner":{"account_id":19907419,"reputation":21,"user_id":14586148,"display_name":"Lorin"},"score":0,"creation_date":1614926324,"post_id":66480082,"comment_id":117539392,"body_markdown":"Thanks, i didn&#39;t write this but i tried with this param name and still didin&#39;t work. I will update my answer to be reproducible.","body":"Thanks, i didn&#39;t write this but i tried with this param name and still didin&#39;t work. I will update my answer to be reproducible."},{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1614929844,"post_id":66480082,"comment_id":117540452,"body_markdown":"Please [edit] your question: provide the complete code (properly formatted) and clarify your current issue. We need to see what is missing to your goal. Means `set the curved connectors midpoint in a different values` you want 2 curves that are both having same connection-points to the 2 rectangles, but __with different [&quot;curvatures&quot;](https://www.csegrecorder.com/assets/images/articles/2007-11-seismic-curvature-fig01.jpg)__ = one is positive and bending upwards, the other negative and bending downwards. Isn&#39;t this issue related to the _formula_ set with `fmla` attribute ?","body":"Please <a href=\"https://stackoverflow.com/posts/66480082/edit\">edit</a> your question: provide the complete code (properly formatted) and clarify your current issue. We need to see what is missing to your goal. Means <code>set the curved connectors midpoint in a different values</code> you want 2 curves that are both having same connection-points to the 2 rectangles, but <b>with different <a href=\"https://www.csegrecorder.com/assets/images/articles/2007-11-seismic-curvature-fig01.jpg\" rel=\"nofollow noreferrer\">&quot;curvatures&quot;</a></b> = one is positive and bending upwards, the other negative and bending downwards. Isn&#39;t this issue related to the <i>formula</i> set with <code>fmla</code> attribute ?"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614929593,"creation_date":1614927420,"answer_id":66488083,"question_id":66480082,"body_markdown":"Your provided code snippet is not complete. So it is not clear whether this is the one and only problem. But `ctGeomGuide.setName(&quot;adj&quot;);` is wrong in any case. The adjust handles are numbered and there is no adjust handle called `adj` only. It would must be `ctGeomGuide.setName(&quot;adj1&quot;);`.\r\n\r\nFolowing code is a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) which works and creates your wanted result.\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.sl.usermodel.*;\r\n    import org.openxmlformats.schemas.presentationml.x2006.main.*;\r\n    import org.openxmlformats.schemas.drawingml.x2006.main.*;\r\n    \r\n    import java.awt.Rectangle;\r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.Color;\r\n    \r\n    public class CreatePPTXConnectorShapes {\r\n    \t\r\n     private static XSLFConnectorShape createConnector(XSLFSlide slide, XSLFAutoShape shape1, XSLFAutoShape shape2) {\r\n      XSLFConnectorShape connector = slide.createConnector();\r\n      connector.setShapeType(ShapeType.CURVED_CONNECTOR_3);\r\n      connector.setAnchor(new Rectangle2D.Double( //connector is diagonal in a rectangle\r\n       shape1.getAnchor().getMaxX(), // top left x of that rectangle is x position of right edge of shape1\r\n       shape2.getAnchor().getCenterY(), // top left y of that rectangle is center y of shape2 as shape2 is above shape1\r\n       shape2.getAnchor().getX()-shape1.getAnchor().getMaxX(), // width of that rectanle is x of shape2 minus x position of right edge of shape1 as shape2 is right of shape1\r\n       shape1.getAnchor().getCenterY()-shape2.getAnchor().getCenterY() // height of that rectanle is center y of shape1 minus center y of shape2 as shape2 is above shape1\r\n       ));\r\n      connector.setFlipVertical(true); // the rectangle needs to be flipped vertically as the connector shall be diagonal from bottom left to top right\r\n    \r\n      CTConnector ctConnector = (CTConnector)connector.getXmlObject();\r\n      CTNonVisualConnectorProperties cx = ctConnector.getNvCxnSpPr().getCNvCxnSpPr();\r\n      CTConnection start = cx.addNewStCxn();\r\n      start.setId(shape1.getShapeId());\r\n      start.setIdx(3); // connecting point 3 is center of right edge\r\n      CTConnection end = cx.addNewEndCxn();\r\n      end.setId(shape2.getShapeId());\r\n      end.setIdx(1); // connecting point 1 is center of left edge\r\n      return connector;  \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XMLSlideShow slideShow = new XMLSlideShow();\r\n    \r\n      XSLFSlide slide = slideShow.createSlide();\r\n    \r\n      XSLFAutoShape shape1 = slide.createAutoShape();\r\n      shape1.setShapeType(ShapeType.RECT);\r\n      shape1.setFillColor(Color.GREEN);\r\n      shape1.setAnchor(new Rectangle(50, 150, 150, 100));\r\n      \r\n      XSLFAutoShape shape2 = slide.createAutoShape();\r\n      shape2.setShapeType(ShapeType.RECT);\r\n      shape2.setFillColor(Color.GREEN);\r\n      shape2.setAnchor(new Rectangle(500, 50, 150, 100));\r\n      \r\n      // first connector \r\n      XSLFConnectorShape connector1 = createConnector(slide, shape1, shape2);\r\n      CTConnector ctConnector = (CTConnector)connector1.getXmlObject(); \r\n      CTGeomGuideList ctGeomGuideList = ctConnector.getSpPr().getPrstGeom().getAvLst();\r\n      CTGeomGuide ctGeomGuide = ctGeomGuideList.addNewGd();\r\n      ctGeomGuide.setName(&quot;adj1&quot;);\r\n      ctGeomGuide.setFmla(&quot;val 45000&quot;);\r\n      \r\n      //second connector\r\n      XSLFConnectorShape connector2 = createConnector(slide, shape1, shape2);\r\n      ctConnector = (CTConnector)connector2.getXmlObject();  \r\n      ctGeomGuideList = ctConnector.getSpPr().getPrstGeom().getAvLst();\r\n      ctGeomGuide = ctGeomGuideList.addNewGd();\r\n      ctGeomGuide.setName(&quot;adj1&quot;);\r\n      ctGeomGuide.setFmla(&quot;val 57365&quot;);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreatePPTXConnectorShapes.pptx&quot;);\r\n      slideShow.write(out);\r\n      out.close();\r\n     }\r\n    }\r\n\r\nResult:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pV0wq.png\r\n","title":"Multiple connectors between Apache POI shapes","body":"<p>Your provided code snippet is not complete. So it is not clear whether this is the one and only problem. But <code>ctGeomGuide.setName(&quot;adj&quot;);</code> is wrong in any case. The adjust handles are numbered and there is no adjust handle called <code>adj</code> only. It would must be <code>ctGeomGuide.setName(&quot;adj1&quot;);</code>.</p>\n<p>Folowing code is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a> which works and creates your wanted result.</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.sl.usermodel.*;\nimport org.openxmlformats.schemas.presentationml.x2006.main.*;\nimport org.openxmlformats.schemas.drawingml.x2006.main.*;\n\nimport java.awt.Rectangle;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.Color;\n\npublic class CreatePPTXConnectorShapes {\n    \n private static XSLFConnectorShape createConnector(XSLFSlide slide, XSLFAutoShape shape1, XSLFAutoShape shape2) {\n  XSLFConnectorShape connector = slide.createConnector();\n  connector.setShapeType(ShapeType.CURVED_CONNECTOR_3);\n  connector.setAnchor(new Rectangle2D.Double( //connector is diagonal in a rectangle\n   shape1.getAnchor().getMaxX(), // top left x of that rectangle is x position of right edge of shape1\n   shape2.getAnchor().getCenterY(), // top left y of that rectangle is center y of shape2 as shape2 is above shape1\n   shape2.getAnchor().getX()-shape1.getAnchor().getMaxX(), // width of that rectanle is x of shape2 minus x position of right edge of shape1 as shape2 is right of shape1\n   shape1.getAnchor().getCenterY()-shape2.getAnchor().getCenterY() // height of that rectanle is center y of shape1 minus center y of shape2 as shape2 is above shape1\n   ));\n  connector.setFlipVertical(true); // the rectangle needs to be flipped vertically as the connector shall be diagonal from bottom left to top right\n\n  CTConnector ctConnector = (CTConnector)connector.getXmlObject();\n  CTNonVisualConnectorProperties cx = ctConnector.getNvCxnSpPr().getCNvCxnSpPr();\n  CTConnection start = cx.addNewStCxn();\n  start.setId(shape1.getShapeId());\n  start.setIdx(3); // connecting point 3 is center of right edge\n  CTConnection end = cx.addNewEndCxn();\n  end.setId(shape2.getShapeId());\n  end.setIdx(1); // connecting point 1 is center of left edge\n  return connector;  \n }\n\n public static void main(String[] args) throws Exception {\n\n  XMLSlideShow slideShow = new XMLSlideShow();\n\n  XSLFSlide slide = slideShow.createSlide();\n\n  XSLFAutoShape shape1 = slide.createAutoShape();\n  shape1.setShapeType(ShapeType.RECT);\n  shape1.setFillColor(Color.GREEN);\n  shape1.setAnchor(new Rectangle(50, 150, 150, 100));\n  \n  XSLFAutoShape shape2 = slide.createAutoShape();\n  shape2.setShapeType(ShapeType.RECT);\n  shape2.setFillColor(Color.GREEN);\n  shape2.setAnchor(new Rectangle(500, 50, 150, 100));\n  \n  // first connector \n  XSLFConnectorShape connector1 = createConnector(slide, shape1, shape2);\n  CTConnector ctConnector = (CTConnector)connector1.getXmlObject(); \n  CTGeomGuideList ctGeomGuideList = ctConnector.getSpPr().getPrstGeom().getAvLst();\n  CTGeomGuide ctGeomGuide = ctGeomGuideList.addNewGd();\n  ctGeomGuide.setName(&quot;adj1&quot;);\n  ctGeomGuide.setFmla(&quot;val 45000&quot;);\n  \n  //second connector\n  XSLFConnectorShape connector2 = createConnector(slide, shape1, shape2);\n  ctConnector = (CTConnector)connector2.getXmlObject();  \n  ctGeomGuideList = ctConnector.getSpPr().getPrstGeom().getAvLst();\n  ctGeomGuide = ctGeomGuideList.addNewGd();\n  ctGeomGuide.setName(&quot;adj1&quot;);\n  ctGeomGuide.setFmla(&quot;val 57365&quot;);\n\n  FileOutputStream out = new FileOutputStream(&quot;CreatePPTXConnectorShapes.pptx&quot;);\n  slideShow.write(out);\n  out.close();\n }\n}\n</code></pre>\n<p>Result:\n<a href=\"https://i.stack.imgur.com/pV0wq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pV0wq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19907419,"reputation":21,"user_id":14586148,"display_name":"Lorin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648192317,"creation_date":1614879012,"question_id":66480082,"body_markdown":"Recently i am working with Apache POI with Spring Boot and i am facing an issue. I want to represent database connections between entities, and i have a problem with visualizing multiple connections.  \r\nSo the basic problem of mine is separating connections. \r\n\r\nHere is my starting: [1]\r\n\r\nYou can&#39;t see but there is multiple connections between this two rectangles, but because of the same start and end point, they are uncover each others. \r\n\r\nThe generated XML-code is the following: \r\n ```\r\n&lt;p:cxnSp&gt;\r\n\t&lt;p:nvCxnSpPr&gt;\r\n\t\t&lt;p:cNvPr name=&quot;Connector 7&quot; id=&quot;7&quot; /&gt;\r\n\t\t&lt;p:cNvCxnSpPr&gt;\r\n\t\t\t&lt;a:stCxn id=&quot;2&quot; idx=&quot;3&quot; /&gt;\r\n\t\t\t&lt;a:endCxn id=&quot;3&quot; idx=&quot;1&quot; /&gt;\r\n\t\t&lt;/p:cNvCxnSpPr&gt;\r\n\t\t&lt;p:nvPr /&gt;\r\n\t&lt;/p:nvCxnSpPr&gt;\r\n\t&lt;p:spPr&gt;\r\n\t\t&lt;a:xfrm flipV=&quot;1&quot;&gt;\r\n\t\t\t&lt;a:off y=&quot;2199409&quot; x=&quot;2616200&quot; /&gt;\r\n\t\t\t&lt;a:ext cy=&quot;1318491&quot; cx=&quot;2413000&quot; /&gt;\r\n\t\t&lt;/a:xfrm&gt;\r\n\t\t&lt;a:prstGeom prst=&quot;curvedConnector3&quot;&gt;\r\n\t\t\t&lt;a:avLst /&gt;\r\n\t\t&lt;/a:prstGeom&gt;\r\n\t\t&lt;a:ln w=&quot;9525&quot;&gt;\r\n\t\t\t&lt;a:solidFill&gt;\r\n\t\t\t\t&lt;a:srgbClr val=&quot;000000&quot; /&gt;\r\n\t\t\t&lt;/a:solidFill&gt;\r\n\t\t&lt;/a:ln&gt;\r\n\t&lt;/p:spPr&gt;\r\n&lt;/p:cxnSp&gt; \r\n```\r\n\r\nSo what i want to do is set the curved conectors midpoint in a different values, like in this image (i do this manually for the example):\r\n[2] \r\n\r\nI try to add some other GeomGuide element to the connector but the result is an unstable pptx file with this: \r\n```\r\n&lt;a:prstGeom prst=&quot;curvedConnector3&quot;&gt;\r\n\t&lt;a:avLst&gt;\r\n\t\t&lt;a:gd name=&quot;adj1&quot; fmla=&quot;val 57365&quot; /&gt;\r\n\t&lt;/a:avLst&gt;\r\n&lt;/a:prstGeom&gt;\r\n```\r\n\r\nRelevant java code snippet for this: \r\n\r\n``` \r\nXSLFConnectorShape connector1 = slide.createConnector();\r\nCTNonVisualConnectorProperties cx = ctConnector.getNvCxnSpPr().getCNvCxnSpPr();\r\n\t\tCTConnection start = cx.addNewStCxn();\r\n\t\tstart.setId(shapeIdStart);\r\n\t\tstart.setIdx(rel.getStartSide());\r\n\r\n\t\tCTConnection end = cx.addNewEndCxn();\r\n\t\tend.setId(shapeIdEnd);\r\n\t\tend.setIdx(rel.getEndSide());\r\n\r\n\r\n\t\t CTGeomGuideList ctGeomGuideList = ctConnector.getSpPr().getPrstGeom().getAvLst();\r\n\t\t CTGeomGuide ctGeomGuide = ctGeomGuideList.addNewGd();\r\n\t\t ctGeomGuide.setName(&quot;adj&quot;);\r\n\t\t ctGeomGuide.setFmla(&quot;val 45000&quot;);\r\n\r\n``` \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tWiq9.png\r\n  [2]: https://i.stack.imgur.com/vccjh.png","title":"Multiple connectors between Apache POI shapes","body":"<p>Recently i am working with Apache POI with Spring Boot and i am facing an issue. I want to represent database connections between entities, and i have a problem with visualizing multiple connections.<br />\nSo the basic problem of mine is separating connections.</p>\n<p>Here is my starting: <a href=\"https://i.stack.imgur.com/tWiq9.png\" rel=\"nofollow noreferrer\">1</a></p>\n<p>You can't see but there is multiple connections between this two rectangles, but because of the same start and end point, they are uncover each others.</p>\n<p>The generated XML-code is the following:</p>\n<pre><code>&lt;p:cxnSp&gt;\n   &lt;p:nvCxnSpPr&gt;\n       &lt;p:cNvPr name=&quot;Connector 7&quot; id=&quot;7&quot; /&gt;\n       &lt;p:cNvCxnSpPr&gt;\n           &lt;a:stCxn id=&quot;2&quot; idx=&quot;3&quot; /&gt;\n           &lt;a:endCxn id=&quot;3&quot; idx=&quot;1&quot; /&gt;\n       &lt;/p:cNvCxnSpPr&gt;\n       &lt;p:nvPr /&gt;\n   &lt;/p:nvCxnSpPr&gt;\n   &lt;p:spPr&gt;\n       &lt;a:xfrm flipV=&quot;1&quot;&gt;\n           &lt;a:off y=&quot;2199409&quot; x=&quot;2616200&quot; /&gt;\n           &lt;a:ext cy=&quot;1318491&quot; cx=&quot;2413000&quot; /&gt;\n       &lt;/a:xfrm&gt;\n       &lt;a:prstGeom prst=&quot;curvedConnector3&quot;&gt;\n           &lt;a:avLst /&gt;\n       &lt;/a:prstGeom&gt;\n       &lt;a:ln w=&quot;9525&quot;&gt;\n           &lt;a:solidFill&gt;\n               &lt;a:srgbClr val=&quot;000000&quot; /&gt;\n           &lt;/a:solidFill&gt;\n       &lt;/a:ln&gt;\n   &lt;/p:spPr&gt;\n&lt;/p:cxnSp&gt; \n</code></pre>\n<p>So what i want to do is set the curved conectors midpoint in a different values, like in this image (i do this manually for the example):\n<a href=\"https://i.stack.imgur.com/vccjh.png\" rel=\"nofollow noreferrer\">2</a></p>\n<p>I try to add some other GeomGuide element to the connector but the result is an unstable pptx file with this:</p>\n<pre><code>&lt;a:prstGeom prst=&quot;curvedConnector3&quot;&gt;\n    &lt;a:avLst&gt;\n        &lt;a:gd name=&quot;adj1&quot; fmla=&quot;val 57365&quot; /&gt;\n    &lt;/a:avLst&gt;\n&lt;/a:prstGeom&gt;\n</code></pre>\n<p>Relevant java code snippet for this:</p>\n<pre><code>XSLFConnectorShape connector1 = slide.createConnector();\nCTNonVisualConnectorProperties cx = ctConnector.getNvCxnSpPr().getCNvCxnSpPr();\n        CTConnection start = cx.addNewStCxn();\n        start.setId(shapeIdStart);\n        start.setIdx(rel.getStartSide());\n\n        CTConnection end = cx.addNewEndCxn();\n        end.setId(shapeIdEnd);\n        end.setIdx(rel.getEndSide());\n\n\n         CTGeomGuideList ctGeomGuideList = ctConnector.getSpPr().getPrstGeom().getAvLst();\n         CTGeomGuide ctGeomGuide = ctGeomGuideList.addNewGd();\n         ctGeomGuide.setName(&quot;adj&quot;);\n         ctGeomGuide.setFmla(&quot;val 45000&quot;);\n\n</code></pre>\n"},{"tags":["java","list","arraylist"],"comments":[{"owner":{"account_id":84677,"reputation":16500,"user_id":236528,"accept_rate":100,"display_name":"mjuarez"},"score":0,"creation_date":1542144378,"post_id":53289687,"comment_id":93461188,"body_markdown":"There&#39;s a very complete answer over here already: https://stackoverflow.com/a/47288158/236528","body":"There&#39;s a very complete answer over here already: <a href=\"https://stackoverflow.com/a/47288158/236528\">stackoverflow.com/a/47288158/236528</a>"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1542144589,"post_id":53289687,"comment_id":93461286,"body_markdown":"What do you want to initialise it to?","body":"What do you want to initialise it to?"}],"answers":[{"tags":[],"owner":{"account_id":13518723,"reputation":79,"user_id":9752598,"display_name":"Liad Saubron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542182957,"creation_date":1542144566,"answer_id":53289769,"question_id":53289687,"body_markdown":"    List&lt;List&lt;Integer&gt;&gt; list = \r\n        Arrays.asList(Arrays.asList(1,2,3), Arrays.asList(4,5,6));","title":"How to initialize List Of List in one line","body":"<pre><code>List&lt;List&lt;Integer&gt;&gt; list = \n    Arrays.asList(Arrays.asList(1,2,3), Arrays.asList(4,5,6));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3862105,"reputation":29203,"user_id":3199595,"accept_rate":84,"display_name":"Malt"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1629230364,"creation_date":1542146606,"answer_id":53290189,"question_id":53289687,"body_markdown":"    List&lt;List&lt;Integer&gt;&gt; list = Arrays.asList(Arrays.asList(1,2), Arrays.asList(3,4));\r\n\r\nIn Java 9+ you can replace `Arrays.asList()` with `List.of()`:\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; list = List.of(List.of(1,2), List.of(3,4));\r\n","title":"How to initialize List Of List in one line","body":"<pre><code>List&lt;List&lt;Integer&gt;&gt; list = Arrays.asList(Arrays.asList(1,2), Arrays.asList(3,4));\n</code></pre>\n<p>In Java 9+ you can replace <code>Arrays.asList()</code> with <code>List.of()</code>:</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = List.of(List.of(1,2), List.of(3,4));\n</code></pre>\n"}],"owner":{"account_id":5043672,"reputation":1360,"user_id":4050340,"accept_rate":57,"display_name":"CHARAFI Saad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26253,"favorite_count":0,"down_vote_count":5,"up_vote_count":6,"closed_date":1542162707,"accepted_answer_id":53290189,"answer_count":2,"score":1,"last_activity_date":1648192221,"creation_date":1542144160,"question_id":53289687,"body_markdown":"How can I initialize a `List` Of `Lists` in one line?\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; list = .....;","title":"How to initialize List Of List in one line","body":"<p>How can I initialize a <code>List</code> Of <code>Lists</code> in one line?</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = .....;\n</code></pre>\n"},{"tags":["java","jackson","swagger","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":17917100,"reputation":311,"user_id":13033499,"display_name":"Michael Decker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648191939,"creation_date":1648191939,"answer_id":71613235,"question_id":71482287,"body_markdown":"Sound similar to the issues reported at\r\n\r\n* https://github.com/swagger-api/swagger-core/issues/2944\r\n\r\nwe solved it by applying in our code these mixins:\r\n\r\n```java\r\n\t\tmapper.addMixIn(RefModel.class, IgnoreOriginalRefMixin.class);\r\n\t\tmapper.addMixIn(RefProperty.class, IgnoreOriginalRefMixin.class);\r\n\t\tmapper.addMixIn(RefPath.class, IgnoreOriginalRefMixin.class);\r\n\t\tmapper.addMixIn(RefParameter.class, IgnoreOriginalRefMixin.class);\r\n\t\tmapper.addMixIn(RefResponse.class, IgnoreOriginalRefMixin.class);\r\n\t\tmapper.addMixIn(Operation.class, OperationResponseMixin.class);\r\n\t\tmapper.addMixIn(Response.class, ResponseSchemaMixin.class);\r\n```","title":"swagger-parser 1.0.57 provided additional responsesObject field to the parsed swagger definition","body":"<p>Sound similar to the issues reported at</p>\n<ul>\n<li><a href=\"https://github.com/swagger-api/swagger-core/issues/2944\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/issues/2944</a></li>\n</ul>\n<p>we solved it by applying in our code these mixins:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        mapper.addMixIn(RefModel.class, IgnoreOriginalRefMixin.class);\n        mapper.addMixIn(RefProperty.class, IgnoreOriginalRefMixin.class);\n        mapper.addMixIn(RefPath.class, IgnoreOriginalRefMixin.class);\n        mapper.addMixIn(RefParameter.class, IgnoreOriginalRefMixin.class);\n        mapper.addMixIn(RefResponse.class, IgnoreOriginalRefMixin.class);\n        mapper.addMixIn(Operation.class, OperationResponseMixin.class);\n        mapper.addMixIn(Response.class, ResponseSchemaMixin.class);\n</code></pre>\n"}],"owner":{"account_id":8262944,"reputation":677,"user_id":6213626,"display_name":"chashikajw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648191939,"creation_date":1647347550,"question_id":71482287,"body_markdown":"I&#39;m using swagger-parser 1.0.57 version and when I&#39;m inputting swagger2 definition to the parser,the output of [swagger][1] after being parsed gives the following.\r\n\r\n    /pets/{petId}:\r\n    get:\r\n      summary: Info for a specific pet\r\n      operationId: showPetById\r\n      tags:\r\n        - pets\r\n      parameters:\r\n        - name: petId\r\n          in: path\r\n          required: true\r\n          description: The id of the pet to retrieve\r\n          type: string\r\n      responses:\r\n        &quot;200&quot;:\r\n          description: Expected response to a valid request\r\n          schema:\r\n            $ref: &#39;#/definitions/Pets&#39;\r\n        default:\r\n          description: unexpected error\r\n          schema:\r\n            $ref: &#39;#/definitions/Error&#39;\r\n      responsesObject:\r\n        &quot;200&quot;:\r\n          description: Expected response to a valid request\r\n          schema:\r\n            $ref: &#39;#/definitions/Pets&#39;\r\n        default:\r\n          description: unexpected error\r\n          schema:\r\n            $ref: &#39;#/definitions/Error&#39;\r\n\r\nAbove content provides issue in swagger-editor since repsponsesObject. \r\n[![enter image description here][2]][2]\r\n\r\nTo remove the reposesObject as a workaround I wrote following code with the swagger parser.\r\n\r\n    SwaggerParser parser = new SwaggerParser();\r\n        SwaggerDeserializationResult parseAttemptForV2 = parser.readWithInfo(oasDefinition);\r\n        if (CollectionUtils.isNotEmpty(parseAttemptForV2.getMessages())) {\r\n            log.debug(&quot;Errors found when parsing OAS definition&quot;);\r\n        }\r\n        parseAttemptForV2.setSwagger(removeResponsesObject(parseAttemptForV2.getSwagger()));\r\n        return parseAttemptForV2.getSwagger();\r\n\r\n    private Swagger removeResponsesObject(Swagger swagger) {\r\n        Swagger modifiedSwagger = swagger;\r\n        if (modifiedSwagger != null &amp;&amp; modifiedSwagger.getPaths() != null) {\r\n            Map&lt;String, Path&gt; pathMap = modifiedSwagger.getPaths();\r\n            for (String pathKey : modifiedSwagger.getPaths().keySet()) {\r\n                Path path = modifiedSwagger.getPath(pathKey);\r\n                Map&lt;HttpMethod, Operation&gt; operationMap = path.getOperationMap();\r\n                for (Map.Entry&lt;HttpMethod, Operation&gt; entry : operationMap.entrySet()) {\r\n                    Operation operation = entry.getValue();\r\n                    if (operation.getResponses() == null) {\r\n                        operation.setResponses(operation.getResponsesObject());\r\n                    }\r\n                    if (operation.getResponsesObject() != null) {\r\n                        operation.setResponsesObject(null);\r\n                        path.set(entry.getKey().name(), operation);\r\n                    }\r\n\r\n                }\r\n\r\n                pathMap.put(pathKey, path);\r\n            }\r\n            modifiedSwagger.setPaths(pathMap);\r\n            return modifiedSwagger;\r\n        }\r\n        return swagger;\r\n    }\r\n\r\n\r\nWhen I debugging it  reponsesObject is setting as null, but after that it will again appears. I&#39;m not sure this process is having a default multithread envorionment. Any suggetsions to imrprove the code to remove responsesObject?\r\n\r\n\r\n  [1]: https://raw.githubusercontent.com/OAI/OpenAPI-Specification/master/examples/v2.0/yaml/petstore.yaml\r\n  [2]: https://i.stack.imgur.com/Yzg4Y.png","title":"swagger-parser 1.0.57 provided additional responsesObject field to the parsed swagger definition","body":"<p>I'm using swagger-parser 1.0.57 version and when I'm inputting swagger2 definition to the parser,the output of <a href=\"https://raw.githubusercontent.com/OAI/OpenAPI-Specification/master/examples/v2.0/yaml/petstore.yaml\" rel=\"nofollow noreferrer\">swagger</a> after being parsed gives the following.</p>\n<pre><code>/pets/{petId}:\nget:\n  summary: Info for a specific pet\n  operationId: showPetById\n  tags:\n    - pets\n  parameters:\n    - name: petId\n      in: path\n      required: true\n      description: The id of the pet to retrieve\n      type: string\n  responses:\n    &quot;200&quot;:\n      description: Expected response to a valid request\n      schema:\n        $ref: '#/definitions/Pets'\n    default:\n      description: unexpected error\n      schema:\n        $ref: '#/definitions/Error'\n  responsesObject:\n    &quot;200&quot;:\n      description: Expected response to a valid request\n      schema:\n        $ref: '#/definitions/Pets'\n    default:\n      description: unexpected error\n      schema:\n        $ref: '#/definitions/Error'\n</code></pre>\n<p>Above content provides issue in swagger-editor since repsponsesObject.\n<a href=\"https://i.stack.imgur.com/Yzg4Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yzg4Y.png\" alt=\"enter image description here\" /></a></p>\n<p>To remove the reposesObject as a workaround I wrote following code with the swagger parser.</p>\n<pre><code>SwaggerParser parser = new SwaggerParser();\n    SwaggerDeserializationResult parseAttemptForV2 = parser.readWithInfo(oasDefinition);\n    if (CollectionUtils.isNotEmpty(parseAttemptForV2.getMessages())) {\n        log.debug(&quot;Errors found when parsing OAS definition&quot;);\n    }\n    parseAttemptForV2.setSwagger(removeResponsesObject(parseAttemptForV2.getSwagger()));\n    return parseAttemptForV2.getSwagger();\n\nprivate Swagger removeResponsesObject(Swagger swagger) {\n    Swagger modifiedSwagger = swagger;\n    if (modifiedSwagger != null &amp;&amp; modifiedSwagger.getPaths() != null) {\n        Map&lt;String, Path&gt; pathMap = modifiedSwagger.getPaths();\n        for (String pathKey : modifiedSwagger.getPaths().keySet()) {\n            Path path = modifiedSwagger.getPath(pathKey);\n            Map&lt;HttpMethod, Operation&gt; operationMap = path.getOperationMap();\n            for (Map.Entry&lt;HttpMethod, Operation&gt; entry : operationMap.entrySet()) {\n                Operation operation = entry.getValue();\n                if (operation.getResponses() == null) {\n                    operation.setResponses(operation.getResponsesObject());\n                }\n                if (operation.getResponsesObject() != null) {\n                    operation.setResponsesObject(null);\n                    path.set(entry.getKey().name(), operation);\n                }\n\n            }\n\n            pathMap.put(pathKey, path);\n        }\n        modifiedSwagger.setPaths(pathMap);\n        return modifiedSwagger;\n    }\n    return swagger;\n}\n</code></pre>\n<p>When I debugging it  reponsesObject is setting as null, but after that it will again appears. I'm not sure this process is having a default multithread envorionment. Any suggetsions to imrprove the code to remove responsesObject?</p>\n"},{"tags":["java","maven","maven-install-plugin","maven-package"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1402946195,"post_id":24250345,"comment_id":37459001,"body_markdown":"What is that Weblogic plugin supposed to be doing?","body":"What is that Weblogic plugin supposed to be doing?"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402945183,"creation_date":1402945183,"answer_id":24250357,"question_id":24250345,"body_markdown":"package phase is called before in maven&#39;s lifecycle just before `install`, so if you ask to invoke particular phase it invokes all the phases upto that phase by default\r\n\r\n\r\nskipping package phase is effectively don&#39;t run plugins which are binded to run at package phase (usually jar plugin) you can find all these plugins by `mvn help:effective-pom` and then create another build profile and skip their execution","title":"Why during the install phase of maven cycle, package phase is called as well?","body":"<p>package phase is called before in maven's lifecycle just before <code>install</code>, so if you ask to invoke particular phase it invokes all the phases upto that phase by default</p>\n\n<p>skipping package phase is effectively don't run plugins which are binded to run at package phase (usually jar plugin) you can find all these plugins by <code>mvn help:effective-pom</code> and then create another build profile and skip their execution</p>\n"},{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402946044,"creation_date":1402945379,"answer_id":24250409,"question_id":24250345,"body_markdown":"The Maven build lifecycle is composed of a sequence of phases. When you execute a certain phase, all phases prior to it in the lifecycle will be called in order until the phase you invoked. The default build lifecycle starts with the `validate` phase and ends with the `deploy` phase, and in between, the `package` phase comes prior to `install`.\r\n\r\nMore information can be obtained [here](http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html).","title":"Why during the install phase of maven cycle, package phase is called as well?","body":"<p>The Maven build lifecycle is composed of a sequence of phases. When you execute a certain phase, all phases prior to it in the lifecycle will be called in order until the phase you invoked. The default build lifecycle starts with the <code>validate</code> phase and ends with the <code>deploy</code> phase, and in between, the <code>package</code> phase comes prior to <code>install</code>.</p>\n\n<p>More information can be obtained <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1402945531,"creation_date":1402945531,"answer_id":24250444,"question_id":24250345,"body_markdown":"The `install` goal tells Maven to *install* the artifact(s) produced by the project or module in question. Maven has to *package* them into a jar or other suitable artifacts in order to have anything to install.\r\n\r\nYou really shouldn&#39;t be manually twiddling plugins like this. Instead, you should declare a proper Maven dependency on that Weblogic plugin, if it&#39;s actually even necessary.","title":"Why during the install phase of maven cycle, package phase is called as well?","body":"<p>The <code>install</code> goal tells Maven to <em>install</em> the artifact(s) produced by the project or module in question. Maven has to <em>package</em> them into a jar or other suitable artifacts in order to have anything to install.</p>\n\n<p>You really shouldn't be manually twiddling plugins like this. Instead, you should declare a proper Maven dependency on that Weblogic plugin, if it's actually even necessary.</p>\n"},{"tags":[],"owner":{"account_id":15699222,"reputation":370,"user_id":11327766,"display_name":"Hai Mai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648191629,"creation_date":1648191629,"answer_id":71613196,"question_id":24250345,"body_markdown":"I found this https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#usual-command-line-calls\r\n\r\nYou should select the phase that matches your outcome. If you want your jar, run package. If you want to run the unit tests, run test.\r\n\r\nIf you are uncertain what you want, the preferred phase to call is\r\n\r\n    mvn verify\r\n    \r\nThis command executes each default lifecycle phase in order (validate, compile, package, etc.), before executing verify. You only need to call the last build phase to be executed, in this case, verify. In most cases the effect is the same as package. However, in case there are integration-tests, these will be executed as well. And during the verify phase some additional checks can be done, e.g. if your code written according to the predefined checkstyle rules.","title":"Why during the install phase of maven cycle, package phase is called as well?","body":"<p>I found this <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#usual-command-line-calls\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#usual-command-line-calls</a></p>\n<p>You should select the phase that matches your outcome. If you want your jar, run package. If you want to run the unit tests, run test.</p>\n<p>If you are uncertain what you want, the preferred phase to call is</p>\n<pre><code>mvn verify\n</code></pre>\n<p>This command executes each default lifecycle phase in order (validate, compile, package, etc.), before executing verify. You only need to call the last build phase to be executed, in this case, verify. In most cases the effect is the same as package. However, in case there are integration-tests, these will be executed as well. And during the verify phase some additional checks can be done, e.g. if your code written according to the predefined checkstyle rules.</p>\n"}],"owner":{"account_id":2502767,"reputation":2131,"user_id":2177410,"accept_rate":72,"display_name":"Oleksandr Papchenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1054,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24250444,"answer_count":4,"score":2,"last_activity_date":1648191629,"creation_date":1402945111,"question_id":24250345,"body_markdown":"I have in my pom.xml a section\r\n\r\n    &lt;plugin&gt;\r\n      \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n    \t  &lt;pomFile&gt;./lib/pom.xml&lt;/pomFile&gt;\r\n    \t  &lt;file&gt;./lib/wls-maven-plugin.jar&lt;/file&gt;\r\n      \t&lt;/configuration&gt;\r\n      \t&lt;executions&gt;\r\n           &lt;execution&gt; \r\n            &lt;phase&gt;install&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;install-file&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n           &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n   &lt;/plugin&gt;\r\nwhere i want to install the Weblogic plugin to my local repository. Note i indicated that i want this to be done in install phase. Then i want to use this plugin but in package and deploy phases. However when i try to run `mvn install` the package phase is invoked as well and i get error because my weblogic plugin is not installed yet. So why this is happening? I want my plugin to be installed first and then used. Sorry fo poor English.","title":"Why during the install phase of maven cycle, package phase is called as well?","body":"<p>I have in my pom.xml a section</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;pomFile&gt;./lib/pom.xml&lt;/pomFile&gt;\n      &lt;file&gt;./lib/wls-maven-plugin.jar&lt;/file&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n       &lt;execution&gt; \n        &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n       &lt;/execution&gt;\n     &lt;/executions&gt;\n</code></pre>\n\n<p>\nwhere i want to install the Weblogic plugin to my local repository. Note i indicated that i want this to be done in install phase. Then i want to use this plugin but in package and deploy phases. However when i try to run <code>mvn install</code> the package phase is invoked as well and i get error because my weblogic plugin is not installed yet. So why this is happening? I want my plugin to be installed first and then used. Sorry fo poor English.</p>\n"},{"tags":["java","sql","spring","mybatis","ibatis"],"comments":[{"owner":{"account_id":1584056,"reputation":2191,"user_id":1468803,"accept_rate":57,"display_name":"cporte"},"score":0,"creation_date":1351253307,"post_id":13085631,"comment_id":17780966,"body_markdown":"Don&#39;t know if it&#39;s related, but why all your columns are &quot;&lt;id&gt;&quot; and not &lt;result&gt; ?","body":"Don&#39;t know if it&#39;s related, but why all your columns are &quot;&lt;id&gt;&quot; and not &lt;result&gt; ?"},{"owner":{"account_id":2137644,"reputation":17159,"user_id":1897010,"display_name":"Sameer Kazi"},"score":0,"creation_date":1448105970,"post_id":13085631,"comment_id":55450183,"body_markdown":"the nice question Same problem with me, I found this solution in my way. Please check","body":"the nice question Same problem with me, I found this solution in my way. Please check"}],"answers":[{"tags":[],"owner":{"account_id":1999961,"reputation":69,"user_id":1791251,"display_name":"Jeongdae Kim"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1351770901,"creation_date":1351770901,"answer_id":13176528,"question_id":13085631,"body_markdown":"I had the same problem as you have. \r\nThe reason for returning null is that ChildMap have a column prefix &#39;c_&#39; and ToyMap&#39;s prefix is &#39;t_&#39;, but ChildMap includes ToyMap by collection attribute. So, Actually in this case, all columns in Toy table must have a prefix &#39;c_t_&#39;.\r\n\r\n    &lt;sql id=&quot;Toy_Column_List&quot;&gt;\r\n        t.Id as c_t_Id, t.Name as c_t_Name, t.Color as c_t_Color\r\n    &lt;/sql&gt;  \r\n\r\n","title":"Mybatis nested collection doesn&#39;t work correctly with column prefix","body":"<p>I had the same problem as you have. \nThe reason for returning null is that ChildMap have a column prefix 'c_' and ToyMap's prefix is 't_', but ChildMap includes ToyMap by collection attribute. So, Actually in this case, all columns in Toy table must have a prefix 'c_t_'.</p>\n\n<pre><code>&lt;sql id=\"Toy_Column_List\"&gt;\n    t.Id as c_t_Id, t.Name as c_t_Name, t.Color as c_t_Color\n&lt;/sql&gt;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2137644,"reputation":17159,"user_id":1897010,"display_name":"Sameer Kazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453538007,"creation_date":1448104265,"answer_id":33842619,"question_id":13085631,"body_markdown":"This is my working example  \r\n\r\n    &lt;resultMap id=&quot;categoryPreferenceValueMap&quot; type=&quot;SyncCategoryPreferenceValueModel&quot;&gt;\r\n\t\t\r\n\t\t\t &lt;id property=&quot;preferenceTypeId&quot; column=&quot;preference_type_id&quot; /&gt;\r\n\t\t\t &lt;result property=&quot;title&quot; column=&quot;title&quot;/&gt;\r\n\t\t\t &lt;result property=&quot;index&quot; column=&quot;type_index&quot;/&gt;\r\n\t\t\t  &lt;result property=&quot;updatedAt&quot; column=&quot;category_updated_at&quot; /&gt;\r\n\t\t\t  \r\n\t\t\t  \r\n\t\t\t  &lt;collection property=&quot;preferences&quot; column=&quot;p_preference_id&quot; ofType=&quot;SyncPreferenceModel&quot; &gt;\r\n\t\t\t  \t&lt;id property=&quot;preferenceId&quot; column=&quot;p_preference_id&quot; /&gt;\r\n\t\t\t\t&lt;result property=&quot;title&quot; column=&quot;p_preference_title&quot; /&gt;\r\n\t\t\t\t&lt;result property=&quot;index&quot; column=&quot;preference_index&quot; /&gt;\r\n\t\t\t\t&lt;result property=&quot;updatedAt&quot; column=&quot;preference_updated_at&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t&lt;collection property=&quot;preferenceValues&quot; column=&quot;p_v_preference_value_id&quot;  ofType=&quot;SyncPreferenceValueModel&quot;  &gt;\r\n\t\t\t\t\t&lt;id property=&quot;preferenceValueId&quot; column=&quot;p_v_preference_value_id&quot; /&gt;\r\n\t\t\t\t\t&lt;result property=&quot;preferenceValue&quot; column=&quot;p_v_preference_value&quot; /&gt;\r\n\t\t\t\t\t&lt;result property=&quot;updatedAt&quot; column=&quot;preference_value_updated_at&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;/collection&gt;  \r\n\t\t\t &lt;/collection&gt;\r\n\t\t&lt;/resultMap&gt;\r\n\r\nThis is my query \r\n\r\n    &lt;select id=&quot;getPrefersenceWithValues&quot; resultMap=&quot;categoryPreferenceValueMap&quot;&gt;\r\n    \tSELECT  \r\n    \t\tPT.preference_type_id, PT.title, PT.type_index,PT.updated_at as\t category_updated_at,\r\n    \t\tP.preference_id as p_preference_id , P.title as p_preference_title  ,P.index as preference_index,\r\n    \t\t\r\n    \t\tP.updated_at as preference_updated_at,\r\n    \t\t\r\n    \t\tPV.preference_value_id as p_v_preference_value_id ,PV.preference_value as p_v_preference_value  \r\n    \r\n    \tFROM preference_types PT\r\n    \tINNER JOIN preferences P ON PT.preference_type_id=P.preference_type_id \r\n    \t\tINNER JOIN preference_values PV ON P.preference_id=PV.preference_id \r\n    \t\r\n    \tORDER BY type_index\r\n    \r\n    &lt;/select&gt;\r\n\r\nANd OUT put is \r\n\r\n     [\r\n        {\r\n          &quot;preferenceTypeId&quot;: &quot;1&quot;,\r\n          &quot;title&quot;: &quot;abc BASICS&quot;,\r\n          &quot;index&quot;: &quot;1&quot;,\r\n          &quot;updatedAt&quot;: 1,\r\n          &quot;preferences&quot;: [\r\n            {\r\n              &quot;preferenceId&quot;: &quot;1&quot;,\r\n              &quot;title&quot;: &quot;xyz xyz&quot;,\r\n              &quot;preferenceTypeId&quot;: null,\r\n              &quot;gender&quot;: null,\r\n              &quot;index&quot;: 1,\r\n              &quot;updatedAt&quot;: 1,\r\n              &quot;preferenceValues&quot;: [\r\n                {\r\n                  &quot;preferenceId&quot;: null,\r\n                  &quot;preferenceValueId&quot;: &quot;2&quot;,\r\n                  &quot;preferenceValue&quot;: &quot;30-60&quot;,\r\n                  &quot;gender&quot;: null,\r\n                  &quot;updatedAt&quot;: 0\r\n                },\r\n                {\r\n                  &quot;preferenceId&quot;: null,\r\n                  &quot;preferenceValueId&quot;: &quot;1&quot;,\r\n                  &quot;preferenceValue&quot;: &quot;0-30&quot;,\r\n                  &quot;gender&quot;: null,\r\n                  &quot;updatedAt&quot;: 0\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n\r\n","title":"Mybatis nested collection doesn&#39;t work correctly with column prefix","body":"<p>This is my working example  </p>\n\n<pre><code>&lt;resultMap id=\"categoryPreferenceValueMap\" type=\"SyncCategoryPreferenceValueModel\"&gt;\n\n         &lt;id property=\"preferenceTypeId\" column=\"preference_type_id\" /&gt;\n         &lt;result property=\"title\" column=\"title\"/&gt;\n         &lt;result property=\"index\" column=\"type_index\"/&gt;\n          &lt;result property=\"updatedAt\" column=\"category_updated_at\" /&gt;\n\n\n          &lt;collection property=\"preferences\" column=\"p_preference_id\" ofType=\"SyncPreferenceModel\" &gt;\n            &lt;id property=\"preferenceId\" column=\"p_preference_id\" /&gt;\n            &lt;result property=\"title\" column=\"p_preference_title\" /&gt;\n            &lt;result property=\"index\" column=\"preference_index\" /&gt;\n            &lt;result property=\"updatedAt\" column=\"preference_updated_at\" /&gt;\n\n\n            &lt;collection property=\"preferenceValues\" column=\"p_v_preference_value_id\"  ofType=\"SyncPreferenceValueModel\"  &gt;\n                &lt;id property=\"preferenceValueId\" column=\"p_v_preference_value_id\" /&gt;\n                &lt;result property=\"preferenceValue\" column=\"p_v_preference_value\" /&gt;\n                &lt;result property=\"updatedAt\" column=\"preference_value_updated_at\" /&gt;\n\n            &lt;/collection&gt;  \n         &lt;/collection&gt;\n    &lt;/resultMap&gt;\n</code></pre>\n\n<p>This is my query </p>\n\n<pre><code>&lt;select id=\"getPrefersenceWithValues\" resultMap=\"categoryPreferenceValueMap\"&gt;\n    SELECT  \n        PT.preference_type_id, PT.title, PT.type_index,PT.updated_at as  category_updated_at,\n        P.preference_id as p_preference_id , P.title as p_preference_title  ,P.index as preference_index,\n\n        P.updated_at as preference_updated_at,\n\n        PV.preference_value_id as p_v_preference_value_id ,PV.preference_value as p_v_preference_value  \n\n    FROM preference_types PT\n    INNER JOIN preferences P ON PT.preference_type_id=P.preference_type_id \n        INNER JOIN preference_values PV ON P.preference_id=PV.preference_id \n\n    ORDER BY type_index\n\n&lt;/select&gt;\n</code></pre>\n\n<p>ANd OUT put is </p>\n\n<pre><code> [\n    {\n      \"preferenceTypeId\": \"1\",\n      \"title\": \"abc BASICS\",\n      \"index\": \"1\",\n      \"updatedAt\": 1,\n      \"preferences\": [\n        {\n          \"preferenceId\": \"1\",\n          \"title\": \"xyz xyz\",\n          \"preferenceTypeId\": null,\n          \"gender\": null,\n          \"index\": 1,\n          \"updatedAt\": 1,\n          \"preferenceValues\": [\n            {\n              \"preferenceId\": null,\n              \"preferenceValueId\": \"2\",\n              \"preferenceValue\": \"30-60\",\n              \"gender\": null,\n              \"updatedAt\": 0\n            },\n            {\n              \"preferenceId\": null,\n              \"preferenceValueId\": \"1\",\n              \"preferenceValue\": \"0-30\",\n              \"gender\": null,\n              \"updatedAt\": 0\n            }\n          ]\n        }\n      ]\n    }\n  ]\n</code></pre>\n"}],"owner":{"account_id":239737,"reputation":3347,"user_id":509550,"accept_rate":41,"display_name":"Shikarn-O"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13419,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1648191263,"creation_date":1351249097,"question_id":13085631,"body_markdown":"I need to set collection for object in another collection using mybatis mappings.\r\n\r\nIt works for me w/o using columnPrefix, but I need it since there are a lot of repeteable columns.\r\n\r\n         &lt;resultMap id=&quot;ParentMap&quot; type=&quot;org.example.mybatis.Parent&quot;&gt;\r\n\t        &lt;id column=&quot;Id&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;id&quot; /&gt;\r\n\t        &lt;result column=&quot;Name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;name&quot; /&gt;\r\n            &lt;result column=&quot;SurName&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;surName&quot; /&gt;\r\n    \r\n\t        &lt;collection property=&quot;childs&quot;\r\n\t\t\tjavaType=&quot;ArrayList&quot; ofType=&quot;org.example.mybatis.Child&quot;\r\n\t\t\tresultMap=&quot;ChildMap&quot; columnPrefix=&quot;c_&quot;/&gt;\t   \r\n        &lt;/resultMap&gt;\r\n  \r\n    &lt;resultMap id=&quot;ChildMap&quot; type=&quot;org.example.mybatis.Parent&quot;&gt;\r\n\t\t&lt;id column=&quot;Id&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;id&quot; /&gt;\r\n\t\t&lt;result column=&quot;ParentId&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;parentId&quot; /&gt;\r\n\t\t&lt;result column=&quot;Name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;name&quot; /&gt;\r\n\t\t&lt;result column=&quot;SurName&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;surName&quot; /&gt;\r\n\t\t&lt;result column=&quot;Age&quot; jdbcType=&quot;INTEGER&quot; property=&quot;age&quot; /&gt;\r\n\t\t\r\n\t\t&lt;collection property=&quot;toys&quot;\r\n\t\t\tjavaType=&quot;ArrayList&quot; ofType=&quot;org.example.mybatis.Toy&quot;\r\n\t\t\tresultMap=&quot;ToyMap&quot; columnPrefix=&quot;t_&quot;/&gt;\t \r\n\t&lt;/resultMap&gt;\r\n\t\r\n\t&lt;resultMap id=&quot;ToyMap&quot; type=&quot;org.example.mybatis.Toy&quot;&gt;\r\n\t\t&lt;id column=&quot;Id&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;id&quot; /&gt;\r\n\t\t&lt;result column=&quot;ChildId&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;childId&quot; /&gt;\r\n\t\t&lt;result column=&quot;Name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;name&quot; /&gt;\r\n\t\t&lt;result column=&quot;Color&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;color&quot; /&gt;\r\n\t&lt;/resultMap&gt;\r\n  \r\n\t&lt;sql id=&quot;Parent_Column_List&quot;&gt;\r\n\t\tp.Id, p.Name, p.SurName,\r\n\t&lt;/sql&gt;  \r\n    \r\n\t&lt;sql id=&quot;Child_Column_List&quot;&gt;\r\n\t\tc.Id as c_Id, c.ParentId as c_ParentId, c.Name as c_Name, c.SurName as c_Surname, c.Age as c_Age,\r\n\t&lt;/sql&gt;\r\n\r\n\t&lt;sql id=&quot;Toy_Column_List&quot;&gt;\r\n\t\tt.Id as t_Id, t.Name as t_Name, t.Color as t_Color\r\n\t&lt;/sql&gt; \t\r\n  \r\n\t&lt;select id=&quot;getParent&quot; parameterType=&quot;java.lang.String&quot; resultMap=&quot;ParentMap&quot; &gt;\r\n\t\tselect \r\n\t\t&lt;include refid=&quot;Parent_Column_List&quot;/&gt;\r\n\t\t&lt;include refid=&quot;Child_Column_List&quot; /&gt;\r\n\t\t&lt;include refid=&quot;Toy_Column_List&quot; /&gt;\r\n\t\tfrom Parent p\r\n\r\n\t\tleft outer join Child c on p.Id = c.ParentId\r\n\t\tleft outer join Toy t on c.Id = t.ChildId\r\n\t\twhere p.id = #{id,jdbcType=VARCHAR}\r\n  &lt;/select&gt;\r\n\r\nWith columnPrefix all works fine, but nested toys collection is empty.\r\nSql query on database works correctly and all toys are joined.\r\n\r\nMay be i missed something or this is bug with mybatis?","title":"Mybatis nested collection doesn&#39;t work correctly with column prefix","body":"<p>I need to set collection for object in another collection using mybatis mappings.</p>\n\n<p>It works for me w/o using columnPrefix, but I need it since there are a lot of repeteable columns.</p>\n\n<pre><code>     &lt;resultMap id=\"ParentMap\" type=\"org.example.mybatis.Parent\"&gt;\n        &lt;id column=\"Id\" jdbcType=\"VARCHAR\" property=\"id\" /&gt;\n        &lt;result column=\"Name\" jdbcType=\"VARCHAR\" property=\"name\" /&gt;\n        &lt;result column=\"SurName\" jdbcType=\"VARCHAR\" property=\"surName\" /&gt;\n\n        &lt;collection property=\"childs\"\n        javaType=\"ArrayList\" ofType=\"org.example.mybatis.Child\"\n        resultMap=\"ChildMap\" columnPrefix=\"c_\"/&gt;       \n    &lt;/resultMap&gt;\n\n&lt;resultMap id=\"ChildMap\" type=\"org.example.mybatis.Parent\"&gt;\n    &lt;id column=\"Id\" jdbcType=\"VARCHAR\" property=\"id\" /&gt;\n    &lt;result column=\"ParentId\" jdbcType=\"VARCHAR\" property=\"parentId\" /&gt;\n    &lt;result column=\"Name\" jdbcType=\"VARCHAR\" property=\"name\" /&gt;\n    &lt;result column=\"SurName\" jdbcType=\"VARCHAR\" property=\"surName\" /&gt;\n    &lt;result column=\"Age\" jdbcType=\"INTEGER\" property=\"age\" /&gt;\n\n    &lt;collection property=\"toys\"\n        javaType=\"ArrayList\" ofType=\"org.example.mybatis.Toy\"\n        resultMap=\"ToyMap\" columnPrefix=\"t_\"/&gt;   \n&lt;/resultMap&gt;\n\n&lt;resultMap id=\"ToyMap\" type=\"org.example.mybatis.Toy\"&gt;\n    &lt;id column=\"Id\" jdbcType=\"VARCHAR\" property=\"id\" /&gt;\n    &lt;result column=\"ChildId\" jdbcType=\"VARCHAR\" property=\"childId\" /&gt;\n    &lt;result column=\"Name\" jdbcType=\"VARCHAR\" property=\"name\" /&gt;\n    &lt;result column=\"Color\" jdbcType=\"VARCHAR\" property=\"color\" /&gt;\n&lt;/resultMap&gt;\n\n&lt;sql id=\"Parent_Column_List\"&gt;\n    p.Id, p.Name, p.SurName,\n&lt;/sql&gt;  \n\n&lt;sql id=\"Child_Column_List\"&gt;\n    c.Id as c_Id, c.ParentId as c_ParentId, c.Name as c_Name, c.SurName as c_Surname, c.Age as c_Age,\n&lt;/sql&gt;\n\n&lt;sql id=\"Toy_Column_List\"&gt;\n    t.Id as t_Id, t.Name as t_Name, t.Color as t_Color\n&lt;/sql&gt;  \n\n&lt;select id=\"getParent\" parameterType=\"java.lang.String\" resultMap=\"ParentMap\" &gt;\n    select \n    &lt;include refid=\"Parent_Column_List\"/&gt;\n    &lt;include refid=\"Child_Column_List\" /&gt;\n    &lt;include refid=\"Toy_Column_List\" /&gt;\n    from Parent p\n\n    left outer join Child c on p.Id = c.ParentId\n    left outer join Toy t on c.Id = t.ChildId\n    where p.id = #{id,jdbcType=VARCHAR}\n</code></pre>\n\n<p></p>\n\n<p>With columnPrefix all works fine, but nested toys collection is empty.\nSql query on database works correctly and all toys are joined.</p>\n\n<p>May be i missed something or this is bug with mybatis?</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"score":0,"creation_date":1648173718,"post_id":71610749,"comment_id":126563658,"body_markdown":"Your model response is not list so that you can&#39;t turn it into list","body":"Your model response is not list so that you can&#39;t turn it into list"},{"owner":{"account_id":24679607,"reputation":1,"user_id":18573529,"display_name":"user18573529"},"score":0,"creation_date":1648192604,"post_id":71610749,"comment_id":126566855,"body_markdown":"i understand. what should i change in order to turn it into list? because i want to display a list of playlist cardview","body":"i understand. what should i change in order to turn it into list? because i want to display a list of playlist cardview"},{"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"score":0,"creation_date":1648194483,"post_id":71610749,"comment_id":126567353,"body_markdown":"That&#39;s weird because your list count is always 1.","body":"That&#39;s weird because your list count is always 1."},{"owner":{"account_id":24679607,"reputation":1,"user_id":18573529,"display_name":"user18573529"},"score":0,"creation_date":1648194974,"post_id":71610749,"comment_id":126567466,"body_markdown":"does it mean that i cannot display list?","body":"does it mean that i cannot display list?"},{"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"score":0,"creation_date":1648195635,"post_id":71610749,"comment_id":126567637,"body_markdown":"You can get it as a object and put it into list.","body":"You can get it as a object and put it into list."},{"owner":{"account_id":24679607,"reputation":1,"user_id":18573529,"display_name":"user18573529"},"score":0,"creation_date":1648268945,"post_id":71610749,"comment_id":126587328,"body_markdown":"i&#39;m sorry @GHH but how should i do that? i just learnt kotlin and i didn&#39;t sure how to get it as a object and display it in a list","body":"i&#39;m sorry @GHH but how should i do that? i just learnt kotlin and i didn&#39;t sure how to get it as a object and display it in a list"}],"answers":[{"tags":[],"owner":{"account_id":16801616,"reputation":544,"user_id":12936324,"display_name":"Jayesh Dankhara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648191106,"creation_date":1648191106,"answer_id":71613133,"question_id":71610749,"body_markdown":"    data class LoginResponse(\r\n    var status: Boolean = false,\r\n    var data: LoginData? = null,\r\n    var message: String = &quot;&quot;\r\n    )\r\n\r\n    data class LoginData(\r\n    var id: Int? = null,\r\n    var uuid: String = &quot;&quot;,\r\n    var name: String = &quot;&quot;,\r\n    var email: String = &quot;&quot;,\r\n    var email_verified_at: String = &quot;&quot;,\r\n    var api_token: String = &quot;&quot;,\r\n    var created_at: String = &quot;&quot;,\r\n    var updated_at: String = &quot;&quot;\r\n    )\r\n\r\nCreate Class Like This ","title":"Kotlin: my logs showing java.lang.ClassCastException: com.example.playlist.model.PlaylistResponse cannot be cast to java.util.List error","body":"<pre><code>data class LoginResponse(\nvar status: Boolean = false,\nvar data: LoginData? = null,\nvar message: String = &quot;&quot;\n)\n\ndata class LoginData(\nvar id: Int? = null,\nvar uuid: String = &quot;&quot;,\nvar name: String = &quot;&quot;,\nvar email: String = &quot;&quot;,\nvar email_verified_at: String = &quot;&quot;,\nvar api_token: String = &quot;&quot;,\nvar created_at: String = &quot;&quot;,\nvar updated_at: String = &quot;&quot;\n)\n</code></pre>\n<p>Create Class Like This</p>\n"}],"owner":{"account_id":24679607,"reputation":1,"user_id":18573529,"display_name":"user18573529"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648191106,"creation_date":1648166455,"question_id":71610749,"body_markdown":"my model response is an object that contains another object and list in it. Example:\r\n\r\n    {\r\n        &quot;name&quot;: &quot; &quot;,\r\n        &quot;tracks&quot;: {\r\n            &quot;title&quot;: &quot; &quot;\r\n            &quot;artists&quot;: {\r\n                &quot;name&quot;: &quot; &quot;\r\n            }\r\n            &quot;images&quot;: {\r\n                &quot;poster&quot;: {\r\n                &quot;url&quot;: &quot; &quot;\r\n            }\r\n          }\r\n        }\r\n    } \r\n\r\ntherefore this is my model data class:\r\npackage com.example.playlist.model\r\n\r\n    import com.google.gson.annotations.SerializedName\r\n    \r\n    data class PlaylistResponse(\r\n        @SerializedName(&quot;name&quot;)\r\n        val name: String,\r\n        @SerializedName(&quot;tracks&quot;)\r\n        val tracks: List&lt;Track&gt;,\r\n    )\r\n\r\ni used adapter to bind my class with my data:\r\npackage com.example.playlist.Adapter\r\n\r\n    import android.content.Context\r\n    import android.view.LayoutInflater\r\n    import android.view.View\r\n    import android.view.ViewGroup\r\n    import android.widget.ImageView\r\n    import android.widget.TextView\r\n    import androidx.recyclerview.widget.RecyclerView\r\n    import com.example.playlist.R\r\n    import com.example.playlist.model.PlaylistResponse\r\n    import com.squareup.picasso.Picasso\r\n    import kotlinx.android.synthetic.main.playlist_item.view.*\r\n    \r\n    \r\n    class PlaylistAdapter(private val context: Context, private val playList: List&lt;PlaylistResponse&gt;):\r\n        RecyclerView.Adapter&lt;PlaylistAdapter.ViewHolder&gt;() {\r\n    \r\n        class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n            var trackImage : ImageView\r\n            var trackName : TextView\r\n            var artistName : TextView\r\n    \r\n            init{\r\n                trackImage = itemView.image_track\r\n                trackName = itemView.name_track\r\n                artistName = itemView.name_artist\r\n            }\r\n        }\r\n    \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n            var itemView = LayoutInflater.from(context).inflate(R.layout.playlist_item, parent, false)\r\n            return ViewHolder(itemView)\r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n            Picasso.get().load(playList[position].tracks[position].images.poster.url).into(holder.trackImage)\r\n            holder.trackName.text = playList[position].tracks[position].title\r\n            holder.artistName.text = playList[position].tracks[position].artists[position].name\r\n    \r\n        }\r\n    \r\n        override fun getItemCount(): Int {\r\n            return playList.size\r\n        }\r\n    }\r\n\r\nand i used the adapter in my playListActivity class:\r\n\r\n    package com.example.playlist\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import androidx.recyclerview.widget.LinearLayoutManager\r\n    import com.example.playlist.Adapter.PlaylistAdapter\r\n    import com.example.playlist.model.PlaylistResponse\r\n    import com.example.playlist.network.ApiClient\r\n    import com.example.playlist.network.PrefService\r\n    import kotlinx.android.synthetic.main.activity_playlist.*\r\n    import retrofit2.Call\r\n    import retrofit2.Callback\r\n    import retrofit2.Response\r\n    \r\n    \r\n    class PlaylistActivity : AppCompatActivity() {\r\n        private lateinit var prefService: PrefService\r\n        private lateinit var apiClient: ApiClient\r\n        lateinit var layoutManager: LinearLayoutManager\r\n        lateinit var adapter : PlaylistAdapter\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_playlist)\r\n    \r\n            apiClient = ApiClient()\r\n            prefService = PrefService(this)\r\n    \r\n            recyclerPlaylist.setHasFixedSize(true)\r\n            layoutManager = LinearLayoutManager(this)\r\n            recyclerPlaylist.layoutManager = layoutManager\r\n    \r\n            fetchPlaylist()\r\n    \r\n        }\r\n    \r\n        private fun fetchPlaylist() {\r\n    \r\n            apiClient.getApiService(this).fetchPlaylist(token = &quot;Bearer ${prefService.fetchAuthToken()}&quot;)\r\n                .enqueue(object : Callback&lt;PlaylistResponse&gt; {\r\n                    override fun onFailure(call: Call&lt;PlaylistResponse&gt;, t: Throwable) {\r\n    \r\n                    }\r\n    \r\n                    override fun onResponse(call: Call&lt;PlaylistResponse&gt;, response: Response&lt;PlaylistResponse&gt;) {\r\n                        adapter = PlaylistAdapter(baseContext, response.body() as List&lt;PlaylistResponse&gt;)\r\n                        recyclerPlaylist.adapter = adapter\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\ni knew the error is caused by this line :\r\n\r\n    adapter = PlaylistAdapter(baseContext, response.body() as List&lt;PlaylistResponse&gt;)\r\n\r\nbut i didn&#39;t know how to turn the object into a list. i have watch &amp; read countless of videos and articles but still failed to understand how to solved my problem. i&#39;m very new to kotlin therefore any solutions and helps are highly appreciated.","title":"Kotlin: my logs showing java.lang.ClassCastException: com.example.playlist.model.PlaylistResponse cannot be cast to java.util.List error","body":"<p>my model response is an object that contains another object and list in it. Example:</p>\n<pre><code>{\n    &quot;name&quot;: &quot; &quot;,\n    &quot;tracks&quot;: {\n        &quot;title&quot;: &quot; &quot;\n        &quot;artists&quot;: {\n            &quot;name&quot;: &quot; &quot;\n        }\n        &quot;images&quot;: {\n            &quot;poster&quot;: {\n            &quot;url&quot;: &quot; &quot;\n        }\n      }\n    }\n} \n</code></pre>\n<p>therefore this is my model data class:\npackage com.example.playlist.model</p>\n<pre><code>import com.google.gson.annotations.SerializedName\n\ndata class PlaylistResponse(\n    @SerializedName(&quot;name&quot;)\n    val name: String,\n    @SerializedName(&quot;tracks&quot;)\n    val tracks: List&lt;Track&gt;,\n)\n</code></pre>\n<p>i used adapter to bind my class with my data:\npackage com.example.playlist.Adapter</p>\n<pre><code>import android.content.Context\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.ImageView\nimport android.widget.TextView\nimport androidx.recyclerview.widget.RecyclerView\nimport com.example.playlist.R\nimport com.example.playlist.model.PlaylistResponse\nimport com.squareup.picasso.Picasso\nimport kotlinx.android.synthetic.main.playlist_item.view.*\n\n\nclass PlaylistAdapter(private val context: Context, private val playList: List&lt;PlaylistResponse&gt;):\n    RecyclerView.Adapter&lt;PlaylistAdapter.ViewHolder&gt;() {\n\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        var trackImage : ImageView\n        var trackName : TextView\n        var artistName : TextView\n\n        init{\n            trackImage = itemView.image_track\n            trackName = itemView.name_track\n            artistName = itemView.name_artist\n        }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        var itemView = LayoutInflater.from(context).inflate(R.layout.playlist_item, parent, false)\n        return ViewHolder(itemView)\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        Picasso.get().load(playList[position].tracks[position].images.poster.url).into(holder.trackImage)\n        holder.trackName.text = playList[position].tracks[position].title\n        holder.artistName.text = playList[position].tracks[position].artists[position].name\n\n    }\n\n    override fun getItemCount(): Int {\n        return playList.size\n    }\n}\n</code></pre>\n<p>and i used the adapter in my playListActivity class:</p>\n<pre><code>package com.example.playlist\n\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport com.example.playlist.Adapter.PlaylistAdapter\nimport com.example.playlist.model.PlaylistResponse\nimport com.example.playlist.network.ApiClient\nimport com.example.playlist.network.PrefService\nimport kotlinx.android.synthetic.main.activity_playlist.*\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Response\n\n\nclass PlaylistActivity : AppCompatActivity() {\n    private lateinit var prefService: PrefService\n    private lateinit var apiClient: ApiClient\n    lateinit var layoutManager: LinearLayoutManager\n    lateinit var adapter : PlaylistAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_playlist)\n\n        apiClient = ApiClient()\n        prefService = PrefService(this)\n\n        recyclerPlaylist.setHasFixedSize(true)\n        layoutManager = LinearLayoutManager(this)\n        recyclerPlaylist.layoutManager = layoutManager\n\n        fetchPlaylist()\n\n    }\n\n    private fun fetchPlaylist() {\n\n        apiClient.getApiService(this).fetchPlaylist(token = &quot;Bearer ${prefService.fetchAuthToken()}&quot;)\n            .enqueue(object : Callback&lt;PlaylistResponse&gt; {\n                override fun onFailure(call: Call&lt;PlaylistResponse&gt;, t: Throwable) {\n\n                }\n\n                override fun onResponse(call: Call&lt;PlaylistResponse&gt;, response: Response&lt;PlaylistResponse&gt;) {\n                    adapter = PlaylistAdapter(baseContext, response.body() as List&lt;PlaylistResponse&gt;)\n                    recyclerPlaylist.adapter = adapter\n                }\n            })\n    }\n}\n</code></pre>\n<p>i knew the error is caused by this line :</p>\n<pre><code>adapter = PlaylistAdapter(baseContext, response.body() as List&lt;PlaylistResponse&gt;)\n</code></pre>\n<p>but i didn't know how to turn the object into a list. i have watch &amp; read countless of videos and articles but still failed to understand how to solved my problem. i'm very new to kotlin therefore any solutions and helps are highly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":10435634,"reputation":220,"user_id":7694025,"display_name":"Bessem Manita"},"score":0,"creation_date":1647961412,"post_id":71574177,"comment_id":126499760,"body_markdown":"Please put a screen shot of exception details.","body":"Please put a screen shot of exception details."},{"owner":{"account_id":10455387,"reputation":1093,"user_id":8387076,"display_name":"Wrichik Basu"},"score":0,"creation_date":1647972089,"post_id":71574177,"comment_id":126504274,"body_markdown":"Please post the details of the exception raised, but paste as text instead of image.","body":"Please post the details of the exception raised, but paste as text instead of image."},{"owner":{"account_id":16299201,"reputation":11,"user_id":11770735,"display_name":"Pankaj Pahuja"},"score":0,"creation_date":1647973889,"post_id":71574177,"comment_id":126504844,"body_markdown":"Added the Exception as Text as discussed in comments","body":"Added the Exception as Text as discussed in comments"},{"owner":{"account_id":2522425,"reputation":577,"user_id":2192527,"accept_rate":61,"display_name":"Dave"},"score":0,"creation_date":1648136566,"post_id":71574177,"comment_id":126553176,"body_markdown":"is there any reason why you have used \\&lt; an in your /&gt; in your Custom Repository ? Is it just a typo or something else ?","body":"is there any reason why you have used \\&lt; an in your /&gt; in your Custom Repository ? Is it just a typo or something else ?"},{"owner":{"account_id":16299201,"reputation":11,"user_id":11770735,"display_name":"Pankaj Pahuja"},"score":0,"creation_date":1648139034,"post_id":71574177,"comment_id":126554252,"body_markdown":"That escape character was added while copying it in stackoverflow that’s not in code ..it’s a typo","body":"That escape character was added while copying it in stackoverflow that’s not in code ..it’s a typo"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1648190104,"post_id":71574177,"comment_id":126566257,"body_markdown":"@BessemManita Please don&#39;t ask people to post screenshots of textual data. Exception stacktraces, code, etc should all be posted as code-formatted *text*, not as screenshots.","body":"@BessemManita Please don&#39;t ask people to post screenshots of textual data. Exception stacktraces, code, etc should all be posted as code-formatted <i>text</i>, not as screenshots."}],"answers":[{"tags":[],"owner":{"account_id":14620814,"reputation":1,"user_id":10559560,"display_name":"Shubham Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648134084,"creation_date":1648134084,"answer_id":71604840,"question_id":71574177,"body_markdown":"Add component scan for repository package","title":"[SpringBoot Exception]: Consider defining a bean of type Repository","body":"<p>Add component scan for repository package</p>\n"}],"owner":{"account_id":16299201,"reputation":11,"user_id":11770735,"display_name":"Pankaj Pahuja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648190161,"creation_date":1647960649,"question_id":71574177,"body_markdown":"Main Repository File\r\n\r\n    @Repository\r\n    public interface myRepository extends JpaRepository&lt;myRepoEntity, Integer&gt;,myRepositoryCustom\r\n\r\n============================================\r\nCustom Repository\r\n\r\n    public interface myRepositoryCustom {\r\n    @Modifying\r\n    @Transactional\r\n    void updateSomething(SomeDTO someDTO);\r\n    \r\n    }\r\n\r\n============================================\r\n\r\nImplementation for Custom repo method\r\n\r\n    @Repository\r\n    public class myRepositoryImpl implements myRepositoryCustom {\r\n    @Autowired\r\n    private EntityManager entityManager;\r\n    \r\n    @SuppressWarnings({&quot;unchecked&quot;, &quot;deprecation&quot;})\r\n    @Override\r\n    public void updateSomething(SomeDTO someDTO) {\r\n        /**\r\n        */some logic\r\n        **/\r\n    \r\n    }\r\n    }\r\n\r\n=====================================================\r\n\r\nService class\r\n\r\n    @Service\r\n    public class SomeServiceClass\r\n    {\r\n    @Autowired\r\n    private myRepository myRepository;\r\n    \r\n    }\r\n\r\nGetting Exception on myRepository\r\nConsider defining a bean of type myRepository and it&#39;s not occuring on every startup it occurs out of blue.\r\n\r\nI tried Running multiple times faced issue with replication it on test servers This is is not consistent\r\nTried adding componentScan although my project is in single root directory.\r\nTried creating Setter with Autowired annotation to define Bean\r\n\r\nExpecting a possible scenerio where bean can throw this error &amp;&amp; which is not consistent\r\n\r\n    [2022-03-25 10:42:19.221] [] [] [] [fa060258] [WARN] \r\n    [SpringBootAPPNAME] \r\n    [o.s.c.a.AnnotationConfigApplicationContext.refresh] - Exception \r\n    encountered during context initialization - cancelling refresh \r\n    attempt: \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException:     \r\n    Error creating bean with name &#39;ribbonClientConfiguration&#39;: \r\n    Unsatisfied dependency expressed through field \r\n    &#39;propertiesFactory&#39;; nested exception is \r\n    :org.springframework.beans.factory.\r\n    BeanCreationNotAllowedException: \r\n    Error creating bean with name &#39;propertiesFactory&#39;: Singleton bean \r\n    creation not allowed while singletons of this factory are in \r\n    destruction (Do not request a bean from a BeanFactory in a \r\n    destroy method implementation!) \r\n\r\n\r\n\r\n    `***************************\r\n     APPLICATION FAILED TO START\r\n     ***************************\r\n\r\n     Description:\r\n\r\n     Field myRepository in com.myapp.Service.SomeServiceClass \r\n     required a bean of type &#39;com.myapp.repository.myRepository&#39; that \r\n     could not be found.\r\n\r\n\r\n     Action:\r\n\r\n     Consider defining a bean of type \r\n     &#39;com.myapp.repository.myRepository&#39; in your configuration.\r\n","title":"[SpringBoot Exception]: Consider defining a bean of type Repository","body":"<p>Main Repository File</p>\n<pre><code>@Repository\npublic interface myRepository extends JpaRepository&lt;myRepoEntity, Integer&gt;,myRepositoryCustom\n</code></pre>\n<p>============================================\nCustom Repository</p>\n<pre><code>public interface myRepositoryCustom {\n@Modifying\n@Transactional\nvoid updateSomething(SomeDTO someDTO);\n\n}\n</code></pre>\n<p>============================================</p>\n<p>Implementation for Custom repo method</p>\n<pre><code>@Repository\npublic class myRepositoryImpl implements myRepositoryCustom {\n@Autowired\nprivate EntityManager entityManager;\n\n@SuppressWarnings({&quot;unchecked&quot;, &quot;deprecation&quot;})\n@Override\npublic void updateSomething(SomeDTO someDTO) {\n    /**\n    */some logic\n    **/\n\n}\n}\n</code></pre>\n<p>=====================================================</p>\n<p>Service class</p>\n<pre><code>@Service\npublic class SomeServiceClass\n{\n@Autowired\nprivate myRepository myRepository;\n\n}\n</code></pre>\n<p>Getting Exception on myRepository\nConsider defining a bean of type myRepository and it's not occuring on every startup it occurs out of blue.</p>\n<p>I tried Running multiple times faced issue with replication it on test servers This is is not consistent\nTried adding componentScan although my project is in single root directory.\nTried creating Setter with Autowired annotation to define Bean</p>\n<p>Expecting a possible scenerio where bean can throw this error &amp;&amp; which is not consistent</p>\n<pre><code>[2022-03-25 10:42:19.221] [] [] [] [fa060258] [WARN] \n[SpringBootAPPNAME] \n[o.s.c.a.AnnotationConfigApplicationContext.refresh] - Exception \nencountered during context initialization - cancelling refresh \nattempt: \norg.springframework.beans.factory.UnsatisfiedDependencyException:     \nError creating bean with name 'ribbonClientConfiguration': \nUnsatisfied dependency expressed through field \n'propertiesFactory'; nested exception is \n:org.springframework.beans.factory.\nBeanCreationNotAllowedException: \nError creating bean with name 'propertiesFactory': Singleton bean \ncreation not allowed while singletons of this factory are in \ndestruction (Do not request a bean from a BeanFactory in a \ndestroy method implementation!) \n\n\n\n`***************************\n APPLICATION FAILED TO START\n ***************************\n\n Description:\n\n Field myRepository in com.myapp.Service.SomeServiceClass \n required a bean of type 'com.myapp.repository.myRepository' that \n could not be found.\n\n\n Action:\n\n Consider defining a bean of type \n 'com.myapp.repository.myRepository' in your configuration.\n</code></pre>\n"},{"tags":["java","bash","docker","sh"],"comments":[{"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"score":1,"creation_date":1648035024,"post_id":71584816,"comment_id":126520536,"body_markdown":"If you look at the Jabba install script that you fetch with curl, you can see that the error message is printed in line 56 when the JABBA_VERSION environment variable isn&#39;t valid. So you need to set JABBA_VERSION to something valid.","body":"If you look at the Jabba install script that you fetch with curl, you can see that the error message is printed in line 56 when the JABBA_VERSION environment variable isn&#39;t valid. So you need to set JABBA_VERSION to something valid."},{"owner":{"account_id":16553581,"reputation":59,"user_id":11961257,"display_name":"rebi"},"score":0,"creation_date":1648189675,"post_id":71584816,"comment_id":126566162,"body_markdown":"@HansKilian Thank you for your comment. I have checked the [sh](https://github.com/shyiko/jabba/blob/689a165f1fd1dcc64a798b6d4542030234941ff6/install.sh#L56) file and added JABBA_VERSION. Then I have confirmed a downloading work well.","body":"@HansKilian Thank you for your comment. I have checked the <a href=\"https://github.com/shyiko/jabba/blob/689a165f1fd1dcc64a798b6d4542030234941ff6/install.sh#L56\" rel=\"nofollow noreferrer\">sh</a> file and added JABBA_VERSION. Then I have confirmed a downloading work well."}],"owner":{"account_id":16553581,"reputation":59,"user_id":11961257,"display_name":"rebi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648190122,"creation_date":1648027926,"question_id":71584816,"body_markdown":"I want to install JDK in the docker container by using [jabba](https://github.com/shyiko/jabba).\r\n\r\nFirst of all, I try to do as a sample, which is written in the [README.md](https://github.com/shyiko/jabba#docker).\r\n\r\nThe Dockerfile is following.\r\n\r\n```\r\nFROM buildpack-deps:jessie-curl\r\n\r\nRUN curl -sL https://github.com/shyiko/jabba/raw/master/install.sh | \\\r\n    JABBA_COMMAND=&quot;install 1.15.0 -o /jdk&quot; bash\r\n\r\nENV JAVA_HOME /jdk\r\nENV PATH $JAVA_HOME/bin:$PATH\r\n```\r\n\r\nThen, I execute the following command.\r\n\r\n```\r\n$ docker build --no-cache --progress=plain -t jdk-test:v1.0.0 .\r\n```\r\n\r\nIts result is failure and error messages are following.\r\n```\r\n#5 [2/2] RUN curl -sL https://github.com/shyiko/jabba/raw/master/install.sh |     JABBA_COMMAND=&quot;install 1.15.0 -o /jdk&quot; bash\r\n#5 sha256:de9e035c255d031d62ca71d047ed77c48b9d0c44a10ea052f4df6edf0e9f6e2f\r\n#5 1.383 &#39;&#39; is not a valid version.\r\n#5 ERROR: executor failed running [/bin/sh -c curl -sL https://github.com/shyiko/jabba/raw/master/install.sh |     JABBA_COMMAND=&quot;install 1.15.0 -o /jdk&quot; bash]: exit code: 1\r\n```\r\n\r\nIt seems that invalid argument(&#39;&#39;) is passed but I have no idea what the cause is because I only copy the [README.md](https://github.com/shyiko/jabba#docker).\r\n\r\nDo you know what the cause is?\r\n\r\nP.S.\r\nMy docker version is following.\r\n\r\n```\r\nDocker version 20.10.13, build a224086\r\n```","title":"Failed to install jdk on docker with exit code: 1","body":"<p>I want to install JDK in the docker container by using <a href=\"https://github.com/shyiko/jabba\" rel=\"nofollow noreferrer\">jabba</a>.</p>\n<p>First of all, I try to do as a sample, which is written in the <a href=\"https://github.com/shyiko/jabba#docker\" rel=\"nofollow noreferrer\">README.md</a>.</p>\n<p>The Dockerfile is following.</p>\n<pre><code>FROM buildpack-deps:jessie-curl\n\nRUN curl -sL https://github.com/shyiko/jabba/raw/master/install.sh | \\\n    JABBA_COMMAND=&quot;install 1.15.0 -o /jdk&quot; bash\n\nENV JAVA_HOME /jdk\nENV PATH $JAVA_HOME/bin:$PATH\n</code></pre>\n<p>Then, I execute the following command.</p>\n<pre><code>$ docker build --no-cache --progress=plain -t jdk-test:v1.0.0 .\n</code></pre>\n<p>Its result is failure and error messages are following.</p>\n<pre><code>#5 [2/2] RUN curl -sL https://github.com/shyiko/jabba/raw/master/install.sh |     JABBA_COMMAND=&quot;install 1.15.0 -o /jdk&quot; bash\n#5 sha256:de9e035c255d031d62ca71d047ed77c48b9d0c44a10ea052f4df6edf0e9f6e2f\n#5 1.383 '' is not a valid version.\n#5 ERROR: executor failed running [/bin/sh -c curl -sL https://github.com/shyiko/jabba/raw/master/install.sh |     JABBA_COMMAND=&quot;install 1.15.0 -o /jdk&quot; bash]: exit code: 1\n</code></pre>\n<p>It seems that invalid argument('') is passed but I have no idea what the cause is because I only copy the <a href=\"https://github.com/shyiko/jabba#docker\" rel=\"nofollow noreferrer\">README.md</a>.</p>\n<p>Do you know what the cause is?</p>\n<p>P.S.\nMy docker version is following.</p>\n<pre><code>Docker version 20.10.13, build a224086\n</code></pre>\n"},{"tags":["java","oracle","jdbc","plsql"],"answers":[{"tags":[],"owner":{"account_id":6228,"reputation":228269,"user_id":10397,"display_name":"Justin Cave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648190103,"creation_date":1648190103,"answer_id":71613011,"question_id":71609447,"body_markdown":"`all_statements` is populated by PL/Scope.  By default, SQL Developer enables PL/Scope.  By default, most other connections do not.\r\n\r\nWithin your JDBC session, you can enable PL/Scope\r\n\r\n    ALTER SESSION SET PLSCOPE_SETTINGS=&#39;IDENTIFIERS:ALL&#39;;\r\n\r\nIf you do so, compiling the procedure will cause `all_statements` to be populated.\r\n\r\nHere is a [dbfiddle][1] that shows an example where I create a trivial function, show that neither creating nor compiling it populates `all_statements`, then enable PL/Scope, recompile it, and `all_statements` is populated.\r\n\r\n\r\n  [1]: https://dbfiddle.uk/?rdbms=oracle_21&amp;fiddle=9280da55b7e7f688baa772dd5b156d93","title":"Compiling a function or procedure using JDBC removes all records from all_statements view","body":"<p><code>all_statements</code> is populated by PL/Scope.  By default, SQL Developer enables PL/Scope.  By default, most other connections do not.</p>\n<p>Within your JDBC session, you can enable PL/Scope</p>\n<pre><code>ALTER SESSION SET PLSCOPE_SETTINGS='IDENTIFIERS:ALL';\n</code></pre>\n<p>If you do so, compiling the procedure will cause <code>all_statements</code> to be populated.</p>\n<p>Here is a <a href=\"https://dbfiddle.uk/?rdbms=oracle_21&amp;fiddle=9280da55b7e7f688baa772dd5b156d93\" rel=\"nofollow noreferrer\">dbfiddle</a> that shows an example where I create a trivial function, show that neither creating nor compiling it populates <code>all_statements</code>, then enable PL/Scope, recompile it, and <code>all_statements</code> is populated.</p>\n"}],"owner":{"account_id":4330979,"reputation":743,"user_id":3536523,"accept_rate":83,"display_name":"user538578964"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71613011,"answer_count":1,"score":1,"last_activity_date":1648190103,"creation_date":1648156133,"question_id":71609447,"body_markdown":"After I execute/compile a stored procedure/function, I query the `all_statements` view to extract the statements that were in the stored procedure/function like below:\r\n\r\n    select * from all_statements where owner = &#39;MY_USER&#39; and object_name=&#39;MY_FUNCTION&#39; and object_type=&#39;FUNCTION&#39; order by line asc;\r\n\r\nHowever, one of my applications run the following code:\r\n\r\n        try (Connection con = DriverManager.getConnection(url,username,password); Statement statement = con.createStatement();) {\r\n            statement.execute(&quot;ALTER FUNCTION MY_FUNCTION COMPILE&quot;);\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;error while executing query: {}&quot;, query, e);\r\n        }\r\n\r\nWhenever this code is run, the `all_statements` view is cleared. Even if I execute this same function like below:\r\n\r\n        try (Connection con = DriverManager.getConnection(url,username,password); Statement statement = con.createStatement();) {\r\n            statement.execute(&quot;SELECT MY_FUNCTION(123) FROM DUAL&quot;);\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;error while executing query: {}&quot;, query, e);\r\n        }\r\n\r\nThere are no new entries in `all_statements` showing the statements that were within my `MY_FUNCTION` function\r\n\r\nI need to log into SQL Developer and compile the function manually, for this to start working again.\r\n\r\nWhat is the cause for this?\r\n\r\nAny reason for this?","title":"Compiling a function or procedure using JDBC removes all records from all_statements view","body":"<p>After I execute/compile a stored procedure/function, I query the <code>all_statements</code> view to extract the statements that were in the stored procedure/function like below:</p>\n<pre><code>select * from all_statements where owner = 'MY_USER' and object_name='MY_FUNCTION' and object_type='FUNCTION' order by line asc;\n</code></pre>\n<p>However, one of my applications run the following code:</p>\n<pre><code>    try (Connection con = DriverManager.getConnection(url,username,password); Statement statement = con.createStatement();) {\n        statement.execute(&quot;ALTER FUNCTION MY_FUNCTION COMPILE&quot;);\n    } catch (Exception e) {\n        LOGGER.error(&quot;error while executing query: {}&quot;, query, e);\n    }\n</code></pre>\n<p>Whenever this code is run, the <code>all_statements</code> view is cleared. Even if I execute this same function like below:</p>\n<pre><code>    try (Connection con = DriverManager.getConnection(url,username,password); Statement statement = con.createStatement();) {\n        statement.execute(&quot;SELECT MY_FUNCTION(123) FROM DUAL&quot;);\n    } catch (Exception e) {\n        LOGGER.error(&quot;error while executing query: {}&quot;, query, e);\n    }\n</code></pre>\n<p>There are no new entries in <code>all_statements</code> showing the statements that were within my <code>MY_FUNCTION</code> function</p>\n<p>I need to log into SQL Developer and compile the function manually, for this to start working again.</p>\n<p>What is the cause for this?</p>\n<p>Any reason for this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1648189254,"post_id":71612816,"comment_id":126566081,"body_markdown":"@KarthikeyanVaithilingam It does not. The issue the OP is facing is that the JDK classes do not have `FloatStream` the OP would like it to have.","body":"@KarthikeyanVaithilingam It does not. The issue the OP is facing is that the JDK classes do not have <code>FloatStream</code> the OP would like it to have."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1648189480,"post_id":71612816,"comment_id":126566129,"body_markdown":"It might be implemented like this: `IntStream.range(0, array.length).mapToObj(i -&gt; array[i]).collect(Collectors.toUnmodifiableList())` (as suggested by Brian Goetz https://stackoverflow.com/a/23556852/12232870 )","body":"It might be implemented like this: <code>IntStream.range(0, array.length).mapToObj(i -&gt; array[i]).collect(Collectors.toUnmodifiableList())</code> (as suggested by Brian Goetz <a href=\"https://stackoverflow.com/a/23556852/12232870\">stackoverflow.com/a/23556852/12232870</a> )"},{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1648191647,"post_id":71612816,"comment_id":126566599,"body_markdown":"Arrays.stream() has methods for Arrays.stream(int[]) : IntStream, Arrays.stream(long[]) : LongStream, Arrays.stream(double[]) : DoubleStream. But, Arrays.stream() did not have FloatStream. Is this useful for you- https://microeducate.tech/how-to-get-a-stream-from-a-float/ ??","body":"Arrays.stream() has methods for Arrays.stream(int[]) : IntStream, Arrays.stream(long[]) : LongStream, Arrays.stream(double[]) : DoubleStream. But, Arrays.stream() did not have FloatStream. Is this useful for you- <a href=\"https://microeducate.tech/how-to-get-a-stream-from-a-float/\" rel=\"nofollow noreferrer\">microeducate.tech/how-to-get-a-stream-from-a-float</a> ??"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1648190422,"answer_count":0,"score":3,"last_activity_date":1648189832,"creation_date":1648188521,"question_id":71612816,"body_markdown":"`Arrays.stream` does not accept primitive type float data. Is there a method to convert from `float[]` to `List&lt;Float&gt;`? ","title":"how to convert from float array to Float List in java","body":"<p><code>Arrays.stream</code> does not accept primitive type float data. Is there a method to convert from <code>float[]</code> to <code>List&lt;Float&gt;</code>?</p>\n"},{"tags":["java","ip"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648189592,"post_id":71612743,"comment_id":126566150,"body_markdown":"`InetAddress.getByName(&quot;abc.example.com&quot;)` would be somewhat simpler.","body":"<code>InetAddress.getByName(&quot;abc.example.com&quot;)</code> would be somewhat simpler."}],"answers":[{"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648189647,"creation_date":1648188877,"answer_id":71612857,"question_id":71612743,"body_markdown":"You can use [`InetAddress.getAllByName(String host)`](https://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getAllByName(java.lang.String)) to get array of all IPs for the given host name.\r\n\r\n*From JavaDoc*\r\n\r\n&gt;Given the name of a host, returns an array of its IP addresses, based on the configured name service on the system.\r\n&gt;\r\n&gt;The host name can either be a machine name, such as &quot;java.sun.com&quot;, or a textual representation of its IP address. If a literal IP address is supplied, only the validity of the address format is checked.\r\n&gt;\r\n&gt;For host specified in literal IPv6 address, either the form defined in RFC 2732 or the literal IPv6 address format defined in RFC 2373 is accepted. A literal IPv6 address may also be qualified by appending a scoped zone identifier or scope_id. The syntax and usage of scope_ids is described here.\r\n&gt;\r\n&gt;If the host is null then an InetAddress representing an address of the loopback interface is returned. See RFC 3330 section 2 and RFC 2373 section 2.5.3.\r\n&gt;\r\n&gt;If there is a security manager and host is not null and `host.length()` is not equal to zero, the security manager&#39;s checkConnect method is called with the hostname and -1 as its arguments to see if the operation is allowed.\r\n&gt;\r\n&gt;**Parameters:**\r\n&gt;\r\n&gt;`host` - the name of the host, or null.\r\n&gt;\r\n&gt;**Returns:**\r\n&gt;\r\n&gt;an array of all the IP addresses for a given host name.\r\n&gt;\r\n&gt;**Throws:**\r\n&gt;\r\n&gt;`UnknownHostException` - if no IP address for the host could be found, or if a scope_id was specified for a global IPv6 address.\r\n&gt;\r\n&gt;`SecurityException` - if a security manager exists and its checkConnect method doesn&#39;t allow the operation.\r\n","title":"How can I fetch the IP address of two different nodes having same URL","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getAllByName(java.lang.String)\" rel=\"nofollow noreferrer\"><code>InetAddress.getAllByName(String host)</code></a> to get array of all IPs for the given host name.</p>\n<p><em>From JavaDoc</em></p>\n<blockquote>\n<p>Given the name of a host, returns an array of its IP addresses, based on the configured name service on the system.</p>\n<p>The host name can either be a machine name, such as &quot;java.sun.com&quot;, or a textual representation of its IP address. If a literal IP address is supplied, only the validity of the address format is checked.</p>\n<p>For host specified in literal IPv6 address, either the form defined in RFC 2732 or the literal IPv6 address format defined in RFC 2373 is accepted. A literal IPv6 address may also be qualified by appending a scoped zone identifier or scope_id. The syntax and usage of scope_ids is described here.</p>\n<p>If the host is null then an InetAddress representing an address of the loopback interface is returned. See RFC 3330 section 2 and RFC 2373 section 2.5.3.</p>\n<p>If there is a security manager and host is not null and <code>host.length()</code> is not equal to zero, the security manager's checkConnect method is called with the hostname and -1 as its arguments to see if the operation is allowed.</p>\n<p><strong>Parameters:</strong></p>\n<p><code>host</code> - the name of the host, or null.</p>\n<p><strong>Returns:</strong></p>\n<p>an array of all the IP addresses for a given host name.</p>\n<p><strong>Throws:</strong></p>\n<p><code>UnknownHostException</code> - if no IP address for the host could be found, or if a scope_id was specified for a global IPv6 address.</p>\n<p><code>SecurityException</code> - if a security manager exists and its checkConnect method doesn't allow the operation.</p>\n</blockquote>\n"}],"owner":{"account_id":12951911,"reputation":11,"user_id":9363918,"display_name":"VISHAL DHAMDE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648189647,"creation_date":1648187821,"question_id":71612743,"body_markdown":"We are having one server (e.g: https://abc.example.com) which has 2 different nodes (having 2 different IPs) just to balance the load for a requests. I want to fetch the IP address of these 2 nodes, so how can I fetch that?\r\n\r\nWhen I am trying to fetch the IP of the server by passing the URL using InetAddress Java API (refer below code) it is giving me the public IP address, but I want to fetch the IP of the 2 different nodes which are there for load balancing.\r\n\r\n```\r\nInetAddress ip = InetAddress.getByName(new URL(&quot;https://abc.example.com&quot;).getHost());\r\n```\r\n\r\nSo can anyone please help me to achieve this?","title":"How can I fetch the IP address of two different nodes having same URL","body":"<p>We are having one server (e.g: <a href=\"https://abc.example.com\" rel=\"nofollow noreferrer\">https://abc.example.com</a>) which has 2 different nodes (having 2 different IPs) just to balance the load for a requests. I want to fetch the IP address of these 2 nodes, so how can I fetch that?</p>\n<p>When I am trying to fetch the IP of the server by passing the URL using InetAddress Java API (refer below code) it is giving me the public IP address, but I want to fetch the IP of the 2 different nodes which are there for load balancing.</p>\n<pre><code>InetAddress ip = InetAddress.getByName(new URL(&quot;https://abc.example.com&quot;).getHost());\n</code></pre>\n<p>So can anyone please help me to achieve this?</p>\n"},{"tags":["java","arrays","casting","arraylist","autoboxing"],"comments":[{"owner":{"account_id":76597,"reputation":60197,"user_id":219159,"accept_rate":75,"display_name":"Seva Alekseyev"},"score":1,"creation_date":1296313765,"post_id":4837568,"comment_id":5369621,"body_markdown":"The inverse of this: http://stackoverflow.com/questions/2585907/is-there-a-native-java-method-to-box-an-array","body":"The inverse of this: <a href=\"http://stackoverflow.com/questions/2585907/is-there-a-native-java-method-to-box-an-array\" title=\"is there a native java method to box an array\">stackoverflow.com/questions/2585907/&hellip;</a>"},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1296313873,"post_id":4837568,"comment_id":5369637,"body_markdown":"`int s=list.size(); float[] a = new float[s]; for (int i=0;i&lt;s;i++) a[i]=list.get(i);`","body":"<code>int s=list.size(); float[] a = new float[s]; for (int i=0;i&lt;s;i++) a[i]=list.get(i);</code>"},{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":0,"creation_date":1296593483,"post_id":4837568,"comment_id":5410847,"body_markdown":"Different primitive type, but essentially the same question: [Creating a byte\\[\\] from a List&lt;Byte&gt;](http://stackoverflow.com/questions/1565483/creating-a-byte-from-a-listbyte)","body":"Different primitive type, but essentially the same question: <a href=\"http://stackoverflow.com/questions/1565483/creating-a-byte-from-a-listbyte\">Creating a byte&#91;&#93; from a List&lt;Byte&gt;</a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":2,"up_vote_count":46,"is_accepted":true,"score":44,"last_activity_date":1460827169,"creation_date":1296313817,"answer_id":4837580,"question_id":4837568,"body_markdown":"Loop over it yourself.\r\n\r\n    List&lt;Float&gt; floatList = getItSomehow();\r\n    float[] floatArray = new float[floatList.size()];\r\n    int i = 0;\r\n\r\n    for (Float f : floatList) {\r\n        floatArray[i++] = (f != null ? f : Float.NaN); // Or whatever default you want.\r\n    }\r\n\r\nThe nullcheck is mandatory to avoid `NullPointerException` because a `Float` (an object) can be `null` while a `float` (a primitive) cannot be `null` at all.\r\n\r\nIn case you&#39;re on Java 8 already and it&#39;s no problem to end up with `double[]` instead of `float[]`, consider [`Stream#mapToDouble()`][1] (no there&#39;s no such method as `mapToFloat()`).\r\n\r\n    List&lt;Float&gt; floatList = getItSomehow();\r\n    double[] doubleArray = floatList.stream()\r\n        .mapToDouble(f -&gt; f != null ? f : Float.NaN) // Or whatever default you want.\r\n        .toArray();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToDouble-java.util.function.ToDoubleFunction-","title":"Java convert Arraylist&lt;Float&gt; to float[]","body":"<p>Loop over it yourself.</p>\n\n<pre><code>List&lt;Float&gt; floatList = getItSomehow();\nfloat[] floatArray = new float[floatList.size()];\nint i = 0;\n\nfor (Float f : floatList) {\n    floatArray[i++] = (f != null ? f : Float.NaN); // Or whatever default you want.\n}\n</code></pre>\n\n<p>The nullcheck is mandatory to avoid <code>NullPointerException</code> because a <code>Float</code> (an object) can be <code>null</code> while a <code>float</code> (a primitive) cannot be <code>null</code> at all.</p>\n\n<p>In case you're on Java 8 already and it's no problem to end up with <code>double[]</code> instead of <code>float[]</code>, consider <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToDouble-java.util.function.ToDoubleFunction-\" rel=\"noreferrer\"><code>Stream#mapToDouble()</code></a> (no there's no such method as <code>mapToFloat()</code>).</p>\n\n<pre><code>List&lt;Float&gt; floatList = getItSomehow();\ndouble[] doubleArray = floatList.stream()\n    .mapToDouble(f -&gt; f != null ? f : Float.NaN) // Or whatever default you want.\n    .toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1412114194,"creation_date":1296313906,"answer_id":4837594,"question_id":4837568,"body_markdown":"[Apache Commons Lang to the rescue][1]. \r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#toPrimitive%28java.lang.Float[]%29","title":"Java convert Arraylist&lt;Float&gt; to float[]","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#toPrimitive%28java.lang.Float[]%29\" rel=\"nofollow\">Apache Commons Lang to the rescue</a>. </p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1296314132,"creation_date":1296314132,"answer_id":4837618,"question_id":4837568,"body_markdown":"You can use Apache Commons [`ArrayUtils.toPrimitive()`][1]:\r\n\r\n    List&lt;Float&gt; list = new ArrayList&lt;Float&gt;();\r\n    float[] floatArray = ArrayUtils.toPrimitive(list.toArray(new Float[0]), 0.0F);\r\n\r\n\r\n[1]: http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/ArrayUtils.html#toPrimitive%28java.lang.Float[],%20float%29","title":"Java convert Arraylist&lt;Float&gt; to float[]","body":"<p>You can use Apache Commons <a href=\"http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/ArrayUtils.html#toPrimitive%28java.lang.Float[],%20float%29\" rel=\"noreferrer\"><code>ArrayUtils.toPrimitive()</code></a>:</p>\n\n<pre><code>List&lt;Float&gt; list = new ArrayList&lt;Float&gt;();\nfloat[] floatArray = ArrayUtils.toPrimitive(list.toArray(new Float[0]), 0.0F);\n</code></pre>\n"}],"owner":{"account_id":216976,"reputation":13968,"user_id":472537,"accept_rate":84,"display_name":"lacas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85403,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":4837580,"answer_count":3,"score":52,"last_activity_date":1648189627,"creation_date":1296313652,"question_id":4837568,"body_markdown":"How I can do that?\r\n\r\nI have an arraylist, with float elements. `(Arraylist &lt;Float&gt;)`\r\n\r\n    (float[]) Floats_arraylist.toArray()\r\n\r\nit is not working. \r\n\r\n&gt; cannot cast from Object[] to float[]\r\n\r\n","title":"Java convert Arraylist&lt;Float&gt; to float[]","body":"<p>How I can do that?</p>\n\n<p>I have an arraylist, with float elements. <code>(Arraylist &lt;Float&gt;)</code></p>\n\n<pre><code>(float[]) Floats_arraylist.toArray()\n</code></pre>\n\n<p>it is not working. </p>\n\n<blockquote>\n  <p>cannot cast from Object[] to float[]</p>\n</blockquote>\n"},{"tags":["java","language-lawyer","autoboxing"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1648192471,"post_id":71612495,"comment_id":126566821,"body_markdown":"You are right, you should (probably) use `Comparator.comparingInt()` to avoid the needless boxing.","body":"You are right, you should (probably) use <code>Comparator.comparingInt()</code> to avoid the needless boxing."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648187313,"creation_date":1648187313,"answer_id":71612678,"question_id":71612495,"body_markdown":"I&#39;ll leave as an exercise for the reader that the resolution process for `Person::age` identifies the _potentially-applicable method_ `int age()` as an _exact method reference expression_. Having identified the target method, from [JLS 15.13.2](https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.13.2):\r\n\r\n&gt; A method reference expression is _congruent_ with a function type if both of the following are true:\r\n&gt; - The function type identifies a single compile-time declaration corresponding to the reference.\r\n&gt; -  One of the following is true: […]\r\n&gt;    -  The result of the function type is R, and the result of applying capture conversion (&#167;5.1.10) to the return type of the invocation type (&#167;15.12.2.6) of the chosen compile-time declaration is R&#39; (where R is the target type that may be used to infer R&#39;), and neither R nor R&#39; is void, and R&#39; is compatible with R in an assignment context.\r\n\r\nThe function type here is `Function&lt;? super T, ? extends U&gt;`. `T` is clearly `Person`, and the signature of `comparing` requires some `U extends Comparable&lt;? super U&gt;`.\r\n\r\nThe type `int` is _compatible with `Integer` in an assignment context_ and then subsequently also compatible with `Comparable&lt;Integer&gt;` ([JLS 5.2](https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.2)):\r\n\r\n&gt; Assignment contexts allow the use of one of the following: […]\r\n&gt; - a boxing conversion followed by a widening reference conversion","title":"Why exactly does a `Comparator` using a primitive `int` work in this code? If auto-boxing, at what point does that happen?","body":"<p>I'll leave as an exercise for the reader that the resolution process for <code>Person::age</code> identifies the <em>potentially-applicable method</em> <code>int age()</code> as an <em>exact method reference expression</em>. Having identified the target method, from <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.13.2\" rel=\"nofollow noreferrer\">JLS 15.13.2</a>:</p>\n<blockquote>\n<p>A method reference expression is <em>congruent</em> with a function type if both of the following are true:</p>\n<ul>\n<li>The function type identifies a single compile-time declaration corresponding to the reference.</li>\n<li>One of the following is true: […]\n<ul>\n<li>The result of the function type is R, and the result of applying capture conversion (§5.1.10) to the return type of the invocation type (§15.12.2.6) of the chosen compile-time declaration is R' (where R is the target type that may be used to infer R'), and neither R nor R' is void, and R' is compatible with R in an assignment context.</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>The function type here is <code>Function&lt;? super T, ? extends U&gt;</code>. <code>T</code> is clearly <code>Person</code>, and the signature of <code>comparing</code> requires some <code>U extends Comparable&lt;? super U&gt;</code>.</p>\n<p>The type <code>int</code> is <em>compatible with <code>Integer</code> in an assignment context</em> and then subsequently also compatible with <code>Comparable&lt;Integer&gt;</code> (<a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-5.html#jls-5.2\" rel=\"nofollow noreferrer\">JLS 5.2</a>):</p>\n<blockquote>\n<p>Assignment contexts allow the use of one of the following: […]</p>\n<ul>\n<li>a boxing conversion followed by a widening reference conversion</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1648188688,"creation_date":1648185635,"question_id":71612495,"body_markdown":"I wrote this code as a [solution on another Question][1]:\r\n\r\n```java\r\nrecord Person( String name , int age ) { }\r\nList &lt; Person &gt; persons =\r\n        List.of(\r\n                new Person( &quot;Alice&quot; , 52 ) ,\r\n                new Person( &quot;Bob&quot; , 23 ) ,\r\n                new Person( &quot;Carol&quot; , 39 )\r\n        );\r\n\r\nList &lt; Person &gt; sorted =\r\n        persons\r\n                .stream()\r\n                .sorted( Comparator.comparing( Person :: age ) )\r\n                .toList();\r\n```\r\n\r\nThis code runs successfully on [Java 17][2].\r\n\r\n&gt;persons.toString() = [Person[name=Alice, age=52], Person[name=Bob, age=23], Person[name=Carol, age=39]]\r\n&gt;\r\n&gt;sorted.toString() = [Person[name=Bob, age=23], Person[name=Carol, age=39], Person[name=Alice, age=52]]\r\n\r\nUpon further thought, I am surprised this code works. I pass a method reference for the accessor method (“getter”) on the [record][3] to [`Comparator.comparing`][4] call.\r\n\r\n    Comparator.comparing( Person :: age )\r\n\r\n… but `age` member field, and the return type of this method, are both `int` primitive, not an object. \r\n\r\n&#128073; This leaves me puzzled as to why this works, because I would think the comparator requires objects, not primitives.\r\n\r\nIs there some [auto-boxing][5] at play here? If so, exactly where? What triggers the compiler or runtime to perform auto-boxing in this code?\r\n\r\nI am hoping for a narrow and precise answer rather than same hand-waving. The hand-waving was already done when I authored the code! So, now, I am *not* asking out of practicality, as clearly the code is intuitive and the code works. The `language-lawyer` tag is indeed appropriate here, as I am asking about the “intricacies of formal or authoritative specifications of programming languages”. \r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71606829/642706\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history#Java_17\r\n  [3]: https://openjdk.java.net/jeps/395\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\r\n  [5]: https://en.wikipedia.org/wiki/Object_type_(object-oriented_programming)#Autoboxing","title":"Why exactly does a `Comparator` using a primitive `int` work in this code? If auto-boxing, at what point does that happen?","body":"<p>I wrote this code as a <a href=\"https://stackoverflow.com/a/71606829/642706\">solution on another Question</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person( String name , int age ) { }\nList &lt; Person &gt; persons =\n        List.of(\n                new Person( &quot;Alice&quot; , 52 ) ,\n                new Person( &quot;Bob&quot; , 23 ) ,\n                new Person( &quot;Carol&quot; , 39 )\n        );\n\nList &lt; Person &gt; sorted =\n        persons\n                .stream()\n                .sorted( Comparator.comparing( Person :: age ) )\n                .toList();\n</code></pre>\n<p>This code runs successfully on <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_17\" rel=\"nofollow noreferrer\">Java 17</a>.</p>\n<blockquote>\n<p>persons.toString() = [Person[name=Alice, age=52], Person[name=Bob, age=23], Person[name=Carol, age=39]]</p>\n<p>sorted.toString() = [Person[name=Bob, age=23], Person[name=Carol, age=39], Person[name=Alice, age=52]]</p>\n</blockquote>\n<p>Upon further thought, I am surprised this code works. I pass a method reference for the accessor method (“getter”) on the <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a> to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Comparator.comparing</code></a> call.</p>\n<pre><code>Comparator.comparing( Person :: age )\n</code></pre>\n<p>… but <code>age</code> member field, and the return type of this method, are both <code>int</code> primitive, not an object.</p>\n<p>👉 This leaves me puzzled as to why this works, because I would think the comparator requires objects, not primitives.</p>\n<p>Is there some <a href=\"https://en.wikipedia.org/wiki/Object_type_(object-oriented_programming)#Autoboxing\" rel=\"nofollow noreferrer\">auto-boxing</a> at play here? If so, exactly where? What triggers the compiler or runtime to perform auto-boxing in this code?</p>\n<p>I am hoping for a narrow and precise answer rather than same hand-waving. The hand-waving was already done when I authored the code! So, now, I am <em>not</em> asking out of practicality, as clearly the code is intuitive and the code works. The <code>language-lawyer</code> tag is indeed appropriate here, as I am asking about the “intricacies of formal or authoritative specifications of programming languages”.</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1575620006,"post_id":59208947,"comment_id":104635369,"body_markdown":"What DBMS do you use?","body":"What DBMS do you use?"},{"owner":{"account_id":15570856,"reputation":123,"user_id":11233353,"display_name":"Mohan kumar"},"score":0,"creation_date":1575624970,"post_id":59208947,"comment_id":104637551,"body_markdown":"hey sory i dint see, iam using mysql","body":"hey sory i dint see, iam using mysql"},{"owner":{"account_id":15570856,"reputation":123,"user_id":11233353,"display_name":"Mohan kumar"},"score":0,"creation_date":1576268313,"post_id":59208947,"comment_id":104857913,"body_markdown":"Hai, can you please help me out for this query.","body":"Hai, can you please help me out for this query."}],"answers":[{"tags":[],"owner":{"account_id":10142598,"reputation":1495,"user_id":7491845,"display_name":"Andrii Chertok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575624971,"creation_date":1575622839,"answer_id":59209887,"question_id":59208947,"body_markdown":"If you&#39;re using Spring Boot 2.0 or higher, try to delete &lt;code&gt;\\n#pageable\\n&lt;/code&gt; section.\r\n\r\nIf you use PostgreSql and MySql change the value &lt;code&gt;\\n#pageable\\n&lt;/code&gt; to\r\n&lt;code&gt;?#{#pageable}&lt;/code&gt;\r\n\r\nIf it still doesn&#39;t work you can enable logging of SQL statements using &lt;code&gt;spring.jpa.show-sql=true&lt;/code&gt; in your &lt;code&gt;application.properties&lt;/code&gt;\r\n","title":"Native query is returning all the records for the #pageable in spring boot","body":"<p>If you're using Spring Boot 2.0 or higher, try to delete <code>\\n#pageable\\n</code> section.</p>\n\n<p>If you use PostgreSql and MySql change the value <code>\\n#pageable\\n</code> to\n<code>?#{#pageable}</code></p>\n\n<p>If it still doesn't work you can enable logging of SQL statements using <code>spring.jpa.show-sql=true</code> in your <code>application.properties</code></p>\n"},{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575626347,"creation_date":1575624669,"answer_id":59210329,"question_id":59208947,"body_markdown":"I had similar issue.\r\nIf you are using Spring Data prior to 2.0.4, then you can try to replace \r\n\r\n`\\n#pageable\\n`\r\n\r\nwith\r\n\r\n`\\n /* --#pageable */ \\n`\r\n\r\nThis works for Postgres and Oracle.\r\n\r\nP.S. In Spring Data 2.0.4+ you can completely remove this pageable token from query as it&#39;s not required anymore (https://jira.spring.io/browse/DATAJPA-928)\r\n\r\nSee also https://stackoverflow.com/q/38349930/2224047","title":"Native query is returning all the records for the #pageable in spring boot","body":"<p>I had similar issue.\nIf you are using Spring Data prior to 2.0.4, then you can try to replace </p>\n\n<p><code>\\n#pageable\\n</code></p>\n\n<p>with</p>\n\n<p><code>\\n /* --#pageable */ \\n</code></p>\n\n<p>This works for Postgres and Oracle.</p>\n\n<p>P.S. In Spring Data 2.0.4+ you can completely remove this pageable token from query as it's not required anymore (<a href=\"https://jira.spring.io/browse/DATAJPA-928\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATAJPA-928</a>)</p>\n\n<p>See also <a href=\"https://stackoverflow.com/q/38349930/2224047\">Spring Data and Native Query with pagination</a></p>\n"},{"tags":[],"owner":{"account_id":18528975,"reputation":1,"user_id":13500217,"display_name":"Orifjon Yunusjanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648186605,"creation_date":1648185955,"answer_id":71612536,"question_id":59208947,"body_markdown":"I have fixed in oracle. My way is:\r\n\r\n&gt; 1-&gt; write  ```order by created_date OFFSET :offset ROWS FETCH NEXT :pageSize ROWS ONLY```\r\n&gt; to your main query\r\n&gt; \r\n&gt;   2-&gt; create count query for your main query\r\n&gt; \r\n&gt; 3-&gt; and you can unit your datas with ```new PageIml&lt;&gt;(mainQueryResult, PageRequest.of(page,size), countQueryResult);```\r\n\r\nit works for all dbs","title":"Native query is returning all the records for the #pageable in spring boot","body":"<p>I have fixed in oracle. My way is:</p>\n<blockquote>\n<p>1-&gt; write  <code>order by created_date OFFSET :offset ROWS FETCH NEXT :pageSize ROWS ONLY</code>\nto your main query</p>\n<p>2-&gt; create count query for your main query</p>\n<p>3-&gt; and you can unit your datas with <code>new PageIml&lt;&gt;(mainQueryResult, PageRequest.of(page,size), countQueryResult);</code></p>\n</blockquote>\n<p>it works for all dbs</p>\n"}],"owner":{"account_id":15570856,"reputation":123,"user_id":11233353,"display_name":"Mohan kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1648186605,"creation_date":1575618360,"question_id":59208947,"body_markdown":"I gone through this in stackoverflow for the pagination in native queries, No error while returning records. It is giving all records instead of taking parameter value in pageable ex: iam passing these pageSize(5 or 4) and pageNo(0) to pageable parameter.\r\n\r\n``` java\t\r\n@Query(value = &quot;select * from job_post where comp_addr_ref_id not in&quot;\r\n\t\t\t+ &quot;(select mapping_id from company_address where ref_company_id in&quot;\r\n\t\t\t+ &quot;(select mapping_id from  company where mapping_id in&quot;\r\n\t\t\t+ &quot;(select comp_ref_id from comp_visibility where is_comp_visible=0 and login_ref_id=:mappingId)))&quot;\r\n\t\t\t+ &quot; order by created_date desc  \\n#pageable\\n&quot;, nativeQuery = true)\r\n\tpublic List&lt;JobPost&gt; findUserBlockedCompanies(String mappingId, Pageable pageable);\r\n```","title":"Native query is returning all the records for the #pageable in spring boot","body":"<p>I gone through this in stackoverflow for the pagination in native queries, No error while returning records. It is giving all records instead of taking parameter value in pageable ex: iam passing these pageSize(5 or 4) and pageNo(0) to pageable parameter.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = \"select * from job_post where comp_addr_ref_id not in\"\n            + \"(select mapping_id from company_address where ref_company_id in\"\n            + \"(select mapping_id from  company where mapping_id in\"\n            + \"(select comp_ref_id from comp_visibility where is_comp_visible=0 and login_ref_id=:mappingId)))\"\n            + \" order by created_date desc  \\n#pageable\\n\", nativeQuery = true)\n    public List&lt;JobPost&gt; findUserBlockedCompanies(String mappingId, Pageable pageable);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1630747040,"post_id":69053787,"comment_id":122044218,"body_markdown":"when setting a similar environment locally on your machine does it run as expected?","body":"when setting a similar environment locally on your machine does it run as expected?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1630747625,"post_id":69053787,"comment_id":122044346,"body_markdown":"Isn&#39;t the env var is `_JAVA_OPTS` instead of `JAVA_OPTS`","body":"Isn&#39;t the env var is <code>_JAVA_OPTS</code> instead of <code>JAVA_OPTS</code>"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1630754803,"post_id":69053787,"comment_id":122045598,"body_markdown":"Your final image (starting from the last `FROM` line onwards) doesn&#39;t set any `ENV` variables at all.","body":"Your final image (starting from the last <code>FROM</code> line onwards) doesn&#39;t set any <code>ENV</code> variables at all."},{"owner":{"account_id":26448,"reputation":5911,"user_id":68759,"accept_rate":79,"display_name":"His"},"score":0,"creation_date":1648185534,"post_id":69053787,"comment_id":126565434,"body_markdown":"Hi, did you ever get the answer for this?  Curious about this as well.","body":"Hi, did you ever get the answer for this?  Curious about this as well."}],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648186471,"creation_date":1630745432,"question_id":69053787,"body_markdown":"I try using a new feature of Spring Boot that crafts a Docker image as of [Spring Boot 2.3.0.M1][1]. I work with Java 16 using preview features and Spring Boot `2.5.1-SNAPSHOT` supporting this feature. \r\n\r\nThis is my plugin configuration in `pom.xml` assuming `layers.xml` exists and is picked up correctly:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t&lt;layers&gt;\r\n\t\t\t&lt;configuration&gt;${project.basedir}/src/main/layers.xml&lt;/configuration&gt;\r\n\t\t&lt;/layers&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nAn here is `Dockerfile`:\r\n\r\n```\r\nFROM openjdk:16-jdk-slim AS builder\r\nWORKDIR source\r\nARG JAR_FILE=target/whatever-name-of-the-application.jar\r\nCOPY ${JAR_FILE} application.jar\r\nRUN --env JAVA_OPTS=&quot;--enable-preview&quot;\r\nRUN java -Djarmode=layertools -jar application.jar extract\r\n\r\nFROM openjdk:16-jdk-slim\r\nWORKDIR application\r\nCOPY --from=builder source/dependencies/ ./\r\nCOPY --from=builder source/spring-boot-loader/ ./\r\nCOPY --from=builder source/snapshot-dependencies/ ./\r\nCOPY --from=builder source/application/ ./\r\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n```\r\n\r\nNow comes time to run `mvn spring-boot:build-image` and the image is created, so I run the application through `docker run &lt;hash&gt;`. The run fails because the preview mode is not enabled.\r\n\r\n&gt; ```\r\n&gt; Setting Active Processor Count to 8\r\n&gt; Calculating JVM memory based on 11470756K available memory\r\n&gt; Calculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx11069703K -XX:MaxMetaspaceSize=93852K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 11470756K, Thread &gt; Count: 50, Loaded Class Count: 14156, Headroom: 0%)\r\n&gt; Adding 129 container CA certificates to JVM truststore\r\n&gt; Spring Cloud Bindings Enabled\r\n&gt; Picked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=8 -XX:MaxDirectMemorySize=10M -Xmx11069703K -XX:MaxMetaspaceSize=93852K -XX:ReservedCodeCacheSize=240M -Xss1M -Dorg.springframework.cloud.bindings.boot.enable=true\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Preview features are not enabled for com/nikolascharalambidis/sandbox/springboot/reactivestack/ReactiveStackApplication (class file version 60.65535). Try running with &#39;--enable-preview&#39;\r\n&gt;         at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n&gt;         at java.base/java.lang.ClassLoader.defineClass(Unknown Source)\r\n&gt;         ...\r\n&gt; ```\r\n\r\nHow to enable preview using Spring Boot Maven plugin for layered Docker images? To extend the question: **How to provide runtime JVM arguments?**\r\n\r\n  [1]: https://spring.io/blog/2020/01/27/creating-docker-images-with-spring-boot-2-3-0-m1","title":"How to provide runtime JVM arguments to created layered image using Spring Boot?","body":"<p>I try using a new feature of Spring Boot that crafts a Docker image as of <a href=\"https://spring.io/blog/2020/01/27/creating-docker-images-with-spring-boot-2-3-0-m1\" rel=\"nofollow noreferrer\">Spring Boot 2.3.0.M1</a>. I work with Java 16 using preview features and Spring Boot <code>2.5.1-SNAPSHOT</code> supporting this feature.</p>\n<p>This is my plugin configuration in <code>pom.xml</code> assuming <code>layers.xml</code> exists and is picked up correctly:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n        &lt;layers&gt;\n            &lt;configuration&gt;${project.basedir}/src/main/layers.xml&lt;/configuration&gt;\n        &lt;/layers&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>An here is <code>Dockerfile</code>:</p>\n<pre><code>FROM openjdk:16-jdk-slim AS builder\nWORKDIR source\nARG JAR_FILE=target/whatever-name-of-the-application.jar\nCOPY ${JAR_FILE} application.jar\nRUN --env JAVA_OPTS=&quot;--enable-preview&quot;\nRUN java -Djarmode=layertools -jar application.jar extract\n\nFROM openjdk:16-jdk-slim\nWORKDIR application\nCOPY --from=builder source/dependencies/ ./\nCOPY --from=builder source/spring-boot-loader/ ./\nCOPY --from=builder source/snapshot-dependencies/ ./\nCOPY --from=builder source/application/ ./\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n</code></pre>\n<p>Now comes time to run <code>mvn spring-boot:build-image</code> and the image is created, so I run the application through <code>docker run &lt;hash&gt;</code>. The run fails because the preview mode is not enabled.</p>\n<blockquote>\n<pre><code>Setting Active Processor Count to 8\nCalculating JVM memory based on 11470756K available memory\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx11069703K -XX:MaxMetaspaceSize=93852K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 11470756K, Thread &gt; Count: 50, Loaded Class Count: 14156, Headroom: 0%)\nAdding 129 container CA certificates to JVM truststore\nSpring Cloud Bindings Enabled\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=8 -XX:MaxDirectMemorySize=10M -Xmx11069703K -XX:MaxMetaspaceSize=93852K -XX:ReservedCodeCacheSize=240M -Xss1M -Dorg.springframework.cloud.bindings.boot.enable=true\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Preview features are not enabled for com/nikolascharalambidis/sandbox/springboot/reactivestack/ReactiveStackApplication (class file version 60.65535). Try running with '--enable-preview'\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(Unknown Source)\n        ...\n</code></pre>\n</blockquote>\n<p>How to enable preview using Spring Boot Maven plugin for layered Docker images? To extend the question: <strong>How to provide runtime JVM arguments?</strong></p>\n"},{"tags":["java","unit-testing","cdi"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1648234521,"post_id":71612318,"comment_id":126581487,"body_markdown":"There is [CDI-Unit](http://cdi-unit.github.io/cdi-unit/) and [Weld JUnit](https://github.com/weld/weld-junit), if it helps.","body":"There is <a href=\"http://cdi-unit.github.io/cdi-unit/\" rel=\"nofollow noreferrer\">CDI-Unit</a> and <a href=\"https://github.com/weld/weld-junit\" rel=\"nofollow noreferrer\">Weld JUnit</a>, if it helps."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1648287032,"post_id":71612318,"comment_id":126589791,"body_markdown":"Unittests verify the behaviro of **your** code. The Injection is behavior of the *injection framework* and therefore not subject to Unittests. For this we set up Integration tests.","body":"Unittests verify the behaviro of <b>your</b> code. The Injection is behavior of the <i>injection framework</i> and therefore not subject to Unittests. For this we set up Integration tests."}],"owner":{"account_id":24681499,"reputation":1,"user_id":18575165,"display_name":"Thanh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648185802,"creation_date":1648184061,"question_id":71612318,"body_markdown":"I would like to write unit test for this class as below. I have no idea to mock or do any thing to get all implements of interface ConnectDatabase:\r\n```\r\n  @Inject\r\n  @Any\r\n  private Instance&lt;ConnectDatabase&gt; allConnectType;\r\n\r\n\r\n    public class DAOUtils {\r\n  public DAOUtils() {\r\n    System.out.println(&quot;Constructor...&quot;);\r\n  }\r\n  @Inject\r\n  @Any\r\n  private Instance&lt;ConnectDatabase&gt; allConnectType;\r\n  @PostConstruct\r\n  public void init() {\r\n    System.out.println(&quot;PostConstruct...&quot;);\r\n  }\r\n  @PreDestroy\r\n  public void destroy() {\r\n    System.out.println(&quot;Destroy!&quot;);\r\n  }\r\n  public void query() {\r\n    for (ConnectDatabase conn : allConnectType) {\r\n      conn.connect();\r\n    }\r\n    System.out.println(&quot;query database...&quot;);\r\n  }\r\n}\r\n```\r\ninterface:\r\n\r\n    public interface ConnectDatabase {\r\n       public void connect();\r\n    }\r\n\r\nDoes anyone has any ideas? Thank you ","title":"How to test CDI injection contains @inject and @any in unit test","body":"<p>I would like to write unit test for this class as below. I have no idea to mock or do any thing to get all implements of interface ConnectDatabase:</p>\n<pre><code>  @Inject\n  @Any\n  private Instance&lt;ConnectDatabase&gt; allConnectType;\n\n\n    public class DAOUtils {\n  public DAOUtils() {\n    System.out.println(&quot;Constructor...&quot;);\n  }\n  @Inject\n  @Any\n  private Instance&lt;ConnectDatabase&gt; allConnectType;\n  @PostConstruct\n  public void init() {\n    System.out.println(&quot;PostConstruct...&quot;);\n  }\n  @PreDestroy\n  public void destroy() {\n    System.out.println(&quot;Destroy!&quot;);\n  }\n  public void query() {\n    for (ConnectDatabase conn : allConnectType) {\n      conn.connect();\n    }\n    System.out.println(&quot;query database...&quot;);\n  }\n}\n</code></pre>\n<p>interface:</p>\n<pre><code>public interface ConnectDatabase {\n   public void connect();\n}\n</code></pre>\n<p>Does anyone has any ideas? Thank you</p>\n"},{"tags":["java","apache-kafka","offset","kafka-topic"],"comments":[{"owner":{"account_id":9605621,"reputation":37107,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":0,"creation_date":1540362190,"post_id":52961751,"comment_id":92831047,"body_markdown":"See https://stackoverflow.com/questions/28586008/delete-message-after-consuming-it-in-kafka","body":"See <a href=\"https://stackoverflow.com/questions/28586008/delete-message-after-consuming-it-in-kafka\" title=\"delete message after consuming it in kafka\">stackoverflow.com/questions/28586008/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1540365863,"post_id":52961751,"comment_id":92832959,"body_markdown":"@Gio most of the answers there were before there existed an AdminClient to delete records...","body":"@Gio most of the answers there were before there existed an AdminClient to delete records..."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1540365916,"post_id":52961751,"comment_id":92832993,"body_markdown":"What if *other consumers* want that data? It shouldn&#39;t be up to the client to delete offsets, that&#39;s a server side configuration","body":"What if <i>other consumers</i> want that data? It shouldn&#39;t be up to the client to delete offsets, that&#39;s a server side configuration"},{"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"score":0,"creation_date":1540366027,"post_id":52961751,"comment_id":92833049,"body_markdown":"There is a separate topic for each consumer. That&#39;s why there&#39;s no problem with client side. \nI can also delete offsets.My problem is that the size of the log file does not decrease when I delete the offset. Because my log file is not shrinking, the disk fills up soon.","body":"There is a separate topic for each consumer. That&#39;s why there&#39;s no problem with client side.  I can also delete offsets.My problem is that the size of the log file does not decrease when I delete the offset. Because my log file is not shrinking, the disk fills up soon."},{"owner":{"account_id":51809,"reputation":1837,"user_id":154805,"accept_rate":67,"display_name":"trix"},"score":0,"creation_date":1545302711,"post_id":52961751,"comment_id":94581332,"body_markdown":"Possible duplicate of [Kafka: How to delete records from a topic using Java API?](https://stackoverflow.com/questions/51283736/kafka-how-to-delete-records-from-a-topic-using-java-api)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/51283736/kafka-how-to-delete-records-from-a-topic-using-java-api\">Kafka: How to delete records from a topic using Java API?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3235421,"reputation":306,"user_id":2729769,"display_name":"sowieso-fruehling"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545083736,"creation_date":1540399152,"answer_id":52974083,"question_id":52961751,"body_markdown":"You didn&#39;t do anything wrong. The code you provided works and I&#39;ve tested it. Just in case I&#39;ve overlooked something in your code, mine is:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public void deleteMessages(String topicName, int partitionIndex, int beforeIndex) {\r\n        TopicPartition topicPartition = new TopicPartition(topicName, partitionIndex);\r\n        Map&lt;TopicPartition, RecordsToDelete&gt; deleteMap = new HashMap&lt;&gt;();\r\n        deleteMap.put(topicPartition, RecordsToDelete.beforeOffset(beforeIndex));\r\n        kafkaAdminClient.deleteRecords(deleteMap);\r\n    }\r\n\r\n I&#39;ve used group: &#39;org.apache.kafka&#39;, name: &#39;kafka-clients&#39;, version: &#39;2.0.0&#39;\r\n\r\nSo check if you are targeting right partition ( 0 for the first one)\r\n\r\nCheck your broker version: https://kafka.apache.org/20/javadoc/index.html?org/apache/kafka/clients/admin/AdminClient.html says: \r\n\r\n&gt; This operation is supported by brokers with version 0.11.0.0 \r\n\r\nProduce the messages from the same application, to be sure you&#39;re connected properly.\r\n\r\nThere is one more option you can consider. Using **cleanup.policy=compact** If your message keys are repeating you could benefit from it. Not just because older messages for that key will be automatically deleted but you can use the fact that message with null payload deletes all the messages for that key. Just don&#39;t forget to set **delete.retention.ms** and **min.compaction.lag.ms** to values small enough. In that case you can consume a message and than produce null payload for the same key ( but be cautious with this approach since this way you can delete messages ( with that key) you didn&#39;t consume)\r\n\r\n\r\n\r\n","title":"How to delete data which already been consumed by consumer? Kafka","body":"<p>You didn't do anything wrong. The code you provided works and I've tested it. Just in case I've overlooked something in your code, mine is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void deleteMessages(String topicName, int partitionIndex, int beforeIndex) {\n    TopicPartition topicPartition = new TopicPartition(topicName, partitionIndex);\n    Map&lt;TopicPartition, RecordsToDelete&gt; deleteMap = new HashMap&lt;&gt;();\n    deleteMap.put(topicPartition, RecordsToDelete.beforeOffset(beforeIndex));\n    kafkaAdminClient.deleteRecords(deleteMap);\n}\n</code></pre>\n\n<p>I've used group: 'org.apache.kafka', name: 'kafka-clients', version: '2.0.0'</p>\n\n<p>So check if you are targeting right partition ( 0 for the first one)</p>\n\n<p>Check your broker version: <a href=\"https://kafka.apache.org/20/javadoc/index.html?org/apache/kafka/clients/admin/AdminClient.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/20/javadoc/index.html?org/apache/kafka/clients/admin/AdminClient.html</a> says: </p>\n\n<blockquote>\n  <p>This operation is supported by brokers with version 0.11.0.0 </p>\n</blockquote>\n\n<p>Produce the messages from the same application, to be sure you're connected properly.</p>\n\n<p>There is one more option you can consider. Using <strong>cleanup.policy=compact</strong> If your message keys are repeating you could benefit from it. Not just because older messages for that key will be automatically deleted but you can use the fact that message with null payload deletes all the messages for that key. Just don't forget to set <strong>delete.retention.ms</strong> and <strong>min.compaction.lag.ms</strong> to values small enough. In that case you can consume a message and than produce null payload for the same key ( but be cautious with this approach since this way you can delete messages ( with that key) you didn't consume)</p>\n"},{"tags":[],"owner":{"account_id":51809,"reputation":1837,"user_id":154805,"accept_rate":67,"display_name":"trix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545365513,"creation_date":1545290667,"answer_id":53864093,"question_id":52961751,"body_markdown":"Try this\r\n\r\n    DeleteRecordsResult result = adminClient.deleteRecords(recordsToDelete);\r\n\tMap&lt;TopicPartition, KafkaFuture&lt;DeletedRecords&gt;&gt; lowWatermarks = result.lowWatermarks();\r\n\ttry {\r\n\t\tfor (Map.Entry&lt;TopicPartition, KafkaFuture&lt;DeletedRecords&gt;&gt; entry : lowWatermarks.entrySet()) {\r\n\t\t\tSystem.out.println(entry.getKey().topic() + &quot; &quot; + entry.getKey().partition() + &quot; &quot; + entry.getValue().get().lowWatermark());\r\n\t\t}\r\n\t} catch (InterruptedException | ExecutionException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\tadminClient.close();\r\n\r\nIn this code, you need to call `entry.getValue().get().lowWatermark()`, because adminClient.deleteRecords(recordsToDelete) returns a map of Futures, you need to wait for the Future to run by calling get()","title":"How to delete data which already been consumed by consumer? Kafka","body":"<p>Try this</p>\n\n<pre><code>DeleteRecordsResult result = adminClient.deleteRecords(recordsToDelete);\nMap&lt;TopicPartition, KafkaFuture&lt;DeletedRecords&gt;&gt; lowWatermarks = result.lowWatermarks();\ntry {\n    for (Map.Entry&lt;TopicPartition, KafkaFuture&lt;DeletedRecords&gt;&gt; entry : lowWatermarks.entrySet()) {\n        System.out.println(entry.getKey().topic() + \" \" + entry.getKey().partition() + \" \" + entry.getValue().get().lowWatermark());\n    }\n} catch (InterruptedException | ExecutionException e) {\n    e.printStackTrace();\n}\nadminClient.close();\n</code></pre>\n\n<p>In this code, you need to call <code>entry.getValue().get().lowWatermark()</code>, because adminClient.deleteRecords(recordsToDelete) returns a map of Futures, you need to wait for the Future to run by calling get()</p>\n"},{"tags":[],"owner":{"account_id":5924948,"reputation":23,"user_id":17096723,"display_name":"Aky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648185557,"creation_date":1648185557,"answer_id":71612486,"question_id":52961751,"body_markdown":"This code will only work if the cleanup policy is &quot;delete&quot; or &quot;compact, delete&quot; else the code will throw a Policy Violation exception.\r\n","title":"How to delete data which already been consumed by consumer? Kafka","body":"<p>This code will only work if the cleanup policy is &quot;delete&quot; or &quot;compact, delete&quot; else the code will throw a Policy Violation exception.</p>\n"}],"owner":{"account_id":11728551,"reputation":585,"user_id":8584914,"display_name":"omerstack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3321,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1648185557,"creation_date":1540359759,"question_id":52961751,"body_markdown":"I am doing data replication in kafka. But, the size of kafka log file is increases very quickly. The size reaches 5 gb in a day. As a solution of this problem, ı want to delete processed data immediately. I am using delete record method in AdminClient to delete offset. But when I look at the log file, data corresponding to that offset is not deleted.\r\n\r\n    RecordsToDelete recordsToDelete = RedcordsToDelete.beforeOffset(offset);\r\n    TopicPartition topicPartition = new TopicPartition(topicName,partition);\r\n    Map&lt;TopicPartition,RecordsToDelete&gt; deleteConf = new HashMap&lt;&gt;();\r\n    deleteConf.put(topicPartition,recordsToDelete);\r\n    adminClient.deleteRecords(deleteConf);\r\n\r\n\r\n\r\nI don&#39;t want suggestions like **(log.retention.hours , log.retention.bytes , log.segment.bytes ,  log.cleanup.policy=delete)**\r\n\r\nBecause I just want to delete data consumed by the consumer. In this solution, I also deleted the data that is not consumed.\r\n\r\nWhat are your suggestions? \r\n","title":"How to delete data which already been consumed by consumer? Kafka","body":"<p>I am doing data replication in kafka. But, the size of kafka log file is increases very quickly. The size reaches 5 gb in a day. As a solution of this problem, ı want to delete processed data immediately. I am using delete record method in AdminClient to delete offset. But when I look at the log file, data corresponding to that offset is not deleted.</p>\n\n<pre><code>RecordsToDelete recordsToDelete = RedcordsToDelete.beforeOffset(offset);\nTopicPartition topicPartition = new TopicPartition(topicName,partition);\nMap&lt;TopicPartition,RecordsToDelete&gt; deleteConf = new HashMap&lt;&gt;();\ndeleteConf.put(topicPartition,recordsToDelete);\nadminClient.deleteRecords(deleteConf);\n</code></pre>\n\n<p>I don't want suggestions like <strong>(log.retention.hours , log.retention.bytes , log.segment.bytes ,  log.cleanup.policy=delete)</strong></p>\n\n<p>Because I just want to delete data consumed by the consumer. In this solution, I also deleted the data that is not consumed.</p>\n\n<p>What are your suggestions? </p>\n"},{"tags":["java","serialization","deserialization"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1648185792,"post_id":71612484,"comment_id":126565489,"body_markdown":"Not sure what you mean by &quot;default serialization format&quot; but Java does support binary serialization out of the box: https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html","body":"Not sure what you mean by &quot;default serialization format&quot; but Java does support binary serialization out of the box: <a href=\"https://docs.oracle.com/javase/tutorial/jndi/objects/serial.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jndi/objects/serial.html</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1648189427,"post_id":71612484,"comment_id":126566120,"body_markdown":"1. Yes. 2. Yes.","body":"1. Yes. 2. Yes."},{"owner":{"account_id":20589048,"reputation":9,"user_id":15113201,"display_name":"Code with Tony"},"score":0,"creation_date":1648190308,"post_id":71612484,"comment_id":126566289,"body_markdown":"@shmosel  I mean there are other formats such as JSON and XML, how are they different from the binary serialization formats specifically when using Java.","body":"@shmosel  I mean there are other formats such as JSON and XML, how are they different from the binary serialization formats specifically when using Java."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1648193061,"post_id":71612484,"comment_id":126566986,"body_markdown":"They have nothing in common.","body":"They have nothing in common."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1648217030,"post_id":71612484,"comment_id":126575285,"body_markdown":"It also depends on the context in which you want to use serialization. You should definitely avoid default Java serialization for data which might be in any way controlled by an external user, see [Secure Coding Guidelines for Java SE](https://www.oracle.com/java/technologies/javase/seccodeguide.html#8). (Also note that Java serialization is not very efficient in some cases, especially for some JDK classes where the JDK tries to remain backward compatible by serializing redundant data.)","body":"It also depends on the context in which you want to use serialization. You should definitely avoid default Java serialization for data which might be in any way controlled by an external user, see <a href=\"https://www.oracle.com/java/technologies/javase/seccodeguide.html#8\" rel=\"nofollow noreferrer\">Secure Coding Guidelines for Java SE</a>. (Also note that Java serialization is not very efficient in some cases, especially for some JDK classes where the JDK tries to remain backward compatible by serializing redundant data.)"}],"owner":{"account_id":20589048,"reputation":9,"user_id":15113201,"display_name":"Code with Tony"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648185554,"creation_date":1648185554,"question_id":71612484,"body_markdown":"Is the binary format the default deserialization format in Java ? If so does that mean that we do not need any library in order to serialize/deserialize?","title":"Is the binary format the default java serialization format?","body":"<p>Is the binary format the default deserialization format in Java ? If so does that mean that we do not need any library in order to serialize/deserialize?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1648141025,"post_id":71606456,"comment_id":126555071,"body_markdown":"I think you should point out one specific interface and describe what exactly you find lacking.  Your question as it is rather general and doesn&#39;t really tell me how to answer your question.","body":"I think you should point out one specific interface and describe what exactly you find lacking.  Your question as it is rather general and doesn&#39;t really tell me how to answer your question."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1648141099,"post_id":71606456,"comment_id":126555108,"body_markdown":"There is at least some documentation &quot;how streams work&quot; on the `Stream` interface itself: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Stream.html","body":"There is at least some documentation &quot;how streams work&quot; on the <code>Stream</code> interface itself: <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/16/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1648141209,"post_id":71606456,"comment_id":126555155,"body_markdown":"Besides the documentation on classes, there is also package documentation.  You should always try to read the relevant package docs if you&#39;re confused, they often contain important information: https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/package-summary.html","body":"Besides the documentation on classes, there is also package documentation.  You should always try to read the relevant package docs if you&#39;re confused, they often contain important information: <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/16/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1648142811,"post_id":71606456,"comment_id":126555830,"body_markdown":"Related: [What does it mean to program to an interface?](https://stackoverflow.com/questions/1413543/what-does-it-mean-to-program-to-a-interface)","body":"Related: <a href=\"https://stackoverflow.com/questions/1413543/what-does-it-mean-to-program-to-a-interface\">What does it mean to program to an interface?</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1648185275,"creation_date":1648142482,"answer_id":71606829,"question_id":71606456,"body_markdown":"When you called `ArrayList#stream()`, you got back what looks like a [`Stream`][1] but is actually an object of some **unspecified concrete class** that implements the `Stream` interface. \r\n\r\nThis is part of the beauty of [OOP][2]: We don’t know what unspecified concrete class is actually used under the hood, nor do we care. All we care about is that the mystery concrete class (or a superclass) fulfills the contract promised by the interface, the `Stream` interface in this case. \r\n\r\n&gt; functional interfaces like the one containing the sorted method has no sorting code\r\n\r\nThat unspecified concrete class has the sorting mechanism implemented, implementing the `sorted` method as required by the `Stream` interface. \r\n\r\n&gt; just describes the lambda function passed\r\n\r\nThat lambda you pass is actual code that will be executed as part of the sorting mechanism. \r\n\r\n\r\n----------\r\n\r\n\r\nIf you are still curious about that mystery concrete class, you could browse the open source code for `ArrayList#stream` found on the [*OpenJDK*][3] project. Start [here][4]. You’ll likely need to comb through the source code for super-classes as well. \r\n\r\nAnd, you could interrogate the `Stream` object for its concrete class. Every object in Java is a subclass of [`Object`][5] class, so all have a method [`getClass`][6]. Using the [`Class`][7] class, you can get a name for the class.\r\n\r\n    persons.stream().getClass().getCanonicalName()\r\n\r\nWhen I run this with my copy of Java 17.0.2 implementation named *Zulu* by [Azul Systems][8], I get:\r\n\r\n&gt;java.util.stream.ReferencePipeline.Head\r\n\r\nI do not find any such class in [the Java 17 API][9]. So that class must be internally defined within whatever implementation of Java I am currently using. Other implementations may differ, as might past and future versions. \r\n\r\nNowadays, most implementations of Java are based largely on the codebase at OpenJDK. This includes *Zulu*. So looking at OpenJDK, I do find that nested `Head` class in [the source code][10] for `ReferencePipeline`. \r\n\r\n\r\n----------\r\n\r\nBy the way, your code could be simplified to something like this.\r\n\r\n```java\r\nrecord Person( String name , int age ) { }\r\n\r\nList &lt; Person &gt; persons =\r\n        new ArrayList &lt;&gt;(\r\n                List.of(\r\n                        new Person( &quot;Alice&quot; , 52 ) ,\r\n                        new Person( &quot;Bob&quot; , 23 ) ,\r\n                        new Person( &quot;Carol&quot; , 39 )\r\n                )\r\n        );\r\n\r\nList &lt; Person &gt; sorted =\r\n        persons\r\n                .stream()\r\n                .sorted( Comparator.comparing( Person :: age ) )\r\n                .toList();\r\n```\r\n\r\n&gt;persons.toString() = [Person[name=Alice, age=52], Person[name=Bob, age=23], Person[name=Carol, age=39]]\r\n&gt;\r\n&gt;sorted.toString() = [Person[name=Bob, age=23], Person[name=Carol, age=39], Person[name=Alice, age=52]]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\r\n  [2]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [3]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [4]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html\r\n  [8]: https://www.azul.com/\r\n  [9]: https://docs.oracle.com/en/java/javase/17/docs/api/index.html\r\n  [10]: https://github.com/openjdk/jdk/blob/dc5a65ab378f0780f7760965f2b52cbbd7c62aad/src/java.base/share/classes/java/util/stream/ReferencePipeline.java#L714","title":"How do Java stream methods operate?","body":"<p>When you called <code>ArrayList#stream()</code>, you got back what looks like a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code></a> but is actually an object of some <strong>unspecified concrete class</strong> that implements the <code>Stream</code> interface.</p>\n<p>This is part of the beauty of <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">OOP</a>: We don’t know what unspecified concrete class is actually used under the hood, nor do we care. All we care about is that the mystery concrete class (or a superclass) fulfills the contract promised by the interface, the <code>Stream</code> interface in this case.</p>\n<blockquote>\n<p>functional interfaces like the one containing the sorted method has no sorting code</p>\n</blockquote>\n<p>That unspecified concrete class has the sorting mechanism implemented, implementing the <code>sorted</code> method as required by the <code>Stream</code> interface.</p>\n<blockquote>\n<p>just describes the lambda function passed</p>\n</blockquote>\n<p>That lambda you pass is actual code that will be executed as part of the sorting mechanism.</p>\n<hr />\n<p>If you are still curious about that mystery concrete class, you could browse the open source code for <code>ArrayList#stream</code> found on the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\"><em>OpenJDK</em></a> project. Start <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\">here</a>. You’ll likely need to comb through the source code for super-classes as well.</p>\n<p>And, you could interrogate the <code>Stream</code> object for its concrete class. Every object in Java is a subclass of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html\" rel=\"nofollow noreferrer\"><code>Object</code></a> class, so all have a method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()\" rel=\"nofollow noreferrer\"><code>getClass</code></a>. Using the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>Class</code></a> class, you can get a name for the class.</p>\n<pre><code>persons.stream().getClass().getCanonicalName()\n</code></pre>\n<p>When I run this with my copy of Java 17.0.2 implementation named <em>Zulu</em> by <a href=\"https://www.azul.com/\" rel=\"nofollow noreferrer\">Azul Systems</a>, I get:</p>\n<blockquote>\n<p>java.util.stream.ReferencePipeline.Head</p>\n</blockquote>\n<p>I do not find any such class in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/index.html\" rel=\"nofollow noreferrer\">the Java 17 API</a>. So that class must be internally defined within whatever implementation of Java I am currently using. Other implementations may differ, as might past and future versions.</p>\n<p>Nowadays, most implementations of Java are based largely on the codebase at OpenJDK. This includes <em>Zulu</em>. So looking at OpenJDK, I do find that nested <code>Head</code> class in <a href=\"https://github.com/openjdk/jdk/blob/dc5a65ab378f0780f7760965f2b52cbbd7c62aad/src/java.base/share/classes/java/util/stream/ReferencePipeline.java#L714\" rel=\"nofollow noreferrer\">the source code</a> for <code>ReferencePipeline</code>.</p>\n<hr />\n<p>By the way, your code could be simplified to something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person( String name , int age ) { }\n\nList &lt; Person &gt; persons =\n        new ArrayList &lt;&gt;(\n                List.of(\n                        new Person( &quot;Alice&quot; , 52 ) ,\n                        new Person( &quot;Bob&quot; , 23 ) ,\n                        new Person( &quot;Carol&quot; , 39 )\n                )\n        );\n\nList &lt; Person &gt; sorted =\n        persons\n                .stream()\n                .sorted( Comparator.comparing( Person :: age ) )\n                .toList();\n</code></pre>\n<blockquote>\n<p>persons.toString() = [Person[name=Alice, age=52], Person[name=Bob, age=23], Person[name=Carol, age=39]]</p>\n<p>sorted.toString() = [Person[name=Bob, age=23], Person[name=Carol, age=39], Person[name=Alice, age=52]]</p>\n</blockquote>\n"}],"owner":{"account_id":21059158,"reputation":13,"user_id":15477891,"display_name":"Ben Williams"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71606829,"answer_count":1,"score":0,"last_activity_date":1648185275,"creation_date":1648140897,"question_id":71606456,"body_markdown":"I just about understand Java streams. One can create a stream by calling .stream() on a Collection, and then you can operate on that stream with methods as described by the [docs](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html).\r\n\r\nWhat I don&#39;t understand is where the process actually occurs. What I mean by that is sure I can create a stream of Person objects with an age attribute and sort it like so:\r\n\r\n    Person john = new Person(30);\r\n    Person anne = new Person(25);\r\n    Person bill = new Person(52);\r\n    \r\n    ArrayList&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\r\n    people.add(john);\r\n    people.add(anne);\r\n    people.add(bill);\r\n    \r\n    ArrayList&lt;Person&gt; sortedPeople = people\r\n    .stream()\r\n    .sorted(Comparators.comparing(person -&gt; person.getAge()))\r\n    .collect(ArrayList::new, ArrayList::add, ArrayList::addAll);\r\n\r\nBut in the docs and the source code I have found, functional interfaces like the one containing the sorted method has no sorting code and just describes the lambda function passed to it.\r\nHave I massively misunderstood something here?","title":"How do Java stream methods operate?","body":"<p>I just about understand Java streams. One can create a stream by calling .stream() on a Collection, and then you can operate on that stream with methods as described by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>What I don't understand is where the process actually occurs. What I mean by that is sure I can create a stream of Person objects with an age attribute and sort it like so:</p>\n<pre><code>Person john = new Person(30);\nPerson anne = new Person(25);\nPerson bill = new Person(52);\n\nArrayList&lt;Person&gt; people = new ArrayList&lt;Person&gt;();\npeople.add(john);\npeople.add(anne);\npeople.add(bill);\n\nArrayList&lt;Person&gt; sortedPeople = people\n.stream()\n.sorted(Comparators.comparing(person -&gt; person.getAge()))\n.collect(ArrayList::new, ArrayList::add, ArrayList::addAll);\n</code></pre>\n<p>But in the docs and the source code I have found, functional interfaces like the one containing the sorted method has no sorting code and just describes the lambda function passed to it.\nHave I massively misunderstood something here?</p>\n"},{"tags":["java","csv","file"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1632814761,"post_id":69357566,"comment_id":122587989,"body_markdown":"Can&#39;t you get the job done in the database directly?","body":"Can&#39;t you get the job done in the database directly?"},{"owner":{"account_id":3254895,"reputation":67,"user_id":2744282,"display_name":"Juerrrgen"},"score":3,"creation_date":1632814912,"post_id":69357566,"comment_id":122588046,"body_markdown":"Is the data in the csv files sorted? That would be very beneficial.","body":"Is the data in the csv files sorted? That would be very beneficial."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":2,"creation_date":1632815080,"post_id":69357566,"comment_id":122588109,"body_markdown":"I don&#39;t see any commas, why do you call it a CSV file?","body":"I don&#39;t see any commas, why do you call it a CSV file?"},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":2,"creation_date":1632815367,"post_id":69357566,"comment_id":122588229,"body_markdown":"Basically you need to make an index of the IDs for quick search and keep only manageable subset in the memory. Databases are already doing that. 10M properly indexed lines is not so much. Many databases even provide native CSV import (even MongoDB).","body":"Basically you need to make an index of the IDs for quick search and keep only manageable subset in the memory. Databases are already doing that. 10M properly indexed lines is not so much. Many databases even provide native CSV import (even MongoDB)."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1632815996,"post_id":69357566,"comment_id":122588474,"body_markdown":"Re-post of https://stackoverflow.com/questions/69352996/how-to-compare-and-find-differences-two-large-csv-file-in-java ?","body":"Re-post of <a href=\"https://stackoverflow.com/questions/69352996/how-to-compare-and-find-differences-two-large-csv-file-in-java\" title=\"how to compare and find differences two large csv file in java\">stackoverflow.com/questions/69352996/&hellip;</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1632815811,"creation_date":1632815380,"answer_id":69357726,"question_id":69357566,"body_markdown":"If you need to manage the data in java you can use a [`Set`][1] as basic data structure to hold your data:\r\n\r\n&gt; A collection that contains no duplicate elements\r\n\r\nin particular in your case the best will to use an [`HashSet`][2] of strings because:\r\n\r\n&gt; This class offers **constant time performance for the basic operations** (add, remove, contains and size)\r\n\r\nit means that adding and removing items from an `HashSet` is not dependent on the number of items present in the `HashSet`.\r\nHolding 10.000.000 or strings of 24 characters can be done with about half giga of ram, so you can hold all in memory, but consider that 10.000.000 is your upper limit if you are limited by half giga of ram.\r\n\r\nThe code can be something like\r\n\r\n    Set&lt;String&gt; items = new HashSet&lt;&gt;();\r\n    \r\n    ...\r\n    // For each item in the first file (may be a loop or stream)\r\n    items.add(item);\r\n    ...\r\n    // For each item in the second file (may be a loop or stream)\r\n    items.remove(item);\r\n    ...\r\n    // Here the set contains all items of the first csv without items present also \r\n    // in the second csv\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html","title":"How to Compare two large CSV file in java","body":"<p>If you need to manage the data in java you can use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> as basic data structure to hold your data:</p>\n<blockquote>\n<p>A collection that contains no duplicate elements</p>\n</blockquote>\n<p>in particular in your case the best will to use an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a> of strings because:</p>\n<blockquote>\n<p>This class offers <strong>constant time performance for the basic operations</strong> (add, remove, contains and size)</p>\n</blockquote>\n<p>it means that adding and removing items from an <code>HashSet</code> is not dependent on the number of items present in the <code>HashSet</code>.\nHolding 10.000.000 or strings of 24 characters can be done with about half giga of ram, so you can hold all in memory, but consider that 10.000.000 is your upper limit if you are limited by half giga of ram.</p>\n<p>The code can be something like</p>\n<pre><code>Set&lt;String&gt; items = new HashSet&lt;&gt;();\n\n...\n// For each item in the first file (may be a loop or stream)\nitems.add(item);\n...\n// For each item in the second file (may be a loop or stream)\nitems.remove(item);\n...\n// Here the set contains all items of the first csv without items present also \n// in the second csv\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632820029,"creation_date":1632820029,"answer_id":69358807,"question_id":69357566,"body_markdown":"For performance reasons, you should keep a representation of the second file in memory, so you can loop through the first file, check whether the entry is contained in the second one, and if not, insert the entry into MongoDB.\r\n\r\nThe representation of the second file should:\r\n- be compact not to consume too much memory,\r\n- allow for a fast &quot;contains&quot; check.\r\n\r\nYour data entries all seem to consist of exactly 24 hex digits. If that&#39;s true, you can represent them as 96-bit numbers instead of Strings. The most straightforward approach is\r\n\r\n    String entry = ...\r\n    BigInteger value = new BigInteger(entry,16);\r\n\r\nThen, you use a `Set&lt;BigInteger&gt;` instead of a `Set&lt;String&gt;`, with considerably lower memory consumption. I&#39;d try both `HashSet` and `TreeSet`, but I&#39;m concerned that their memory overhead per entry might still be too much.\r\n\r\nSo, it might be necessary to create your own data structure, e.g. using the first (highest) 16 bits as an index into a size-65536 array where each element is a `List` of the file-two `BigInteger`s starting with that 16-bit value. This should give a low memory overhead, a decent `contains()` performance, and need at most 50 lines of code.","title":"How to Compare two large CSV file in java","body":"<p>For performance reasons, you should keep a representation of the second file in memory, so you can loop through the first file, check whether the entry is contained in the second one, and if not, insert the entry into MongoDB.</p>\n<p>The representation of the second file should:</p>\n<ul>\n<li>be compact not to consume too much memory,</li>\n<li>allow for a fast &quot;contains&quot; check.</li>\n</ul>\n<p>Your data entries all seem to consist of exactly 24 hex digits. If that's true, you can represent them as 96-bit numbers instead of Strings. The most straightforward approach is</p>\n<pre><code>String entry = ...\nBigInteger value = new BigInteger(entry,16);\n</code></pre>\n<p>Then, you use a <code>Set&lt;BigInteger&gt;</code> instead of a <code>Set&lt;String&gt;</code>, with considerably lower memory consumption. I'd try both <code>HashSet</code> and <code>TreeSet</code>, but I'm concerned that their memory overhead per entry might still be too much.</p>\n<p>So, it might be necessary to create your own data structure, e.g. using the first (highest) 16 bits as an index into a size-65536 array where each element is a <code>List</code> of the file-two <code>BigInteger</code>s starting with that 16-bit value. This should give a low memory overhead, a decent <code>contains()</code> performance, and need at most 50 lines of code.</p>\n"},{"tags":[],"owner":{"account_id":24654390,"reputation":1,"user_id":18551203,"display_name":"JinJune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648183817,"creation_date":1648183817,"answer_id":71612296,"question_id":69357566,"body_markdown":"You need to delete data from the first CSV file that also exist in the second CSV file. As both CSVs are very large, they cannot be wholly loaded into the memory. Java will produce a very long piece of code to do this.\r\n\r\nIt is rather simple to get this done in SPL, the open-source Java package. Only one line of code is sufficient:\r\n\r\n| |A|\r\n|:-|:-|\r\n|1|=file(&quot;result.csv&quot;).export([file(&quot;csv1.csv&quot;).cursor@i().sortx(~),file(&quot;csv2.csv&quot;).cursor@i().sortx(~)].mergex@d())|\r\n\r\n&#160;\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as diff.splx and invoke it in Java as you call a stored procedure:\r\n\r\n    …    \r\n    Class.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);    \r\n    con= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);    \r\n    st=con.prepareCall(&quot;call diff()&quot;);    \r\n    st.execute();    \r\n    …\r\n\r\nOr execute the SPL string within a Java program as we execute a SQL statement:\r\n\r\n    …\r\n    st = con.prepareStatement(&quot;==file(\\&quot;result.csv\\&quot;).     \r\n         export([file(\\&quot;csv1.csv\\&quot;).cursor@i().sortx(~),file(\\&quot;csv2.csv\\&quot;)\r\n        .cursor@i().sortx(~)].mergex@d&#160;())&quot;);\r\n    \r\n    st.execute();\r\n    …\r\n","title":"How to Compare two large CSV file in java","body":"<p>You need to delete data from the first CSV file that also exist in the second CSV file. As both CSVs are very large, they cannot be wholly loaded into the memory. Java will produce a very long piece of code to do this.</p>\n<p>It is rather simple to get this done in SPL, the open-source Java package. Only one line of code is sufficient:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\">A</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">=file(&quot;result.csv&quot;).export([file(&quot;csv1.csv&quot;).cursor@i().sortx(~),file(&quot;csv2.csv&quot;).cursor@i().sortx(~)].mergex@d())</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p> </p>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as diff.splx and invoke it in Java as you call a stored procedure:</p>\n<pre><code>…    \nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);    \ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);    \nst=con.prepareCall(&quot;call diff()&quot;);    \nst.execute();    \n…\n</code></pre>\n<p>Or execute the SPL string within a Java program as we execute a SQL statement:</p>\n<pre><code>…\nst = con.prepareStatement(&quot;==file(\\&quot;result.csv\\&quot;).     \n     export([file(\\&quot;csv1.csv\\&quot;).cursor@i().sortx(~),file(\\&quot;csv2.csv\\&quot;)\n    .cursor@i().sortx(~)].mergex@d ())&quot;);\n\nst.execute();\n…\n</code></pre>\n"}],"owner":{"account_id":15241357,"reputation":99,"user_id":10997544,"display_name":"Sefas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1648183817,"creation_date":1632814684,"question_id":69357566,"body_markdown":"I need compare two large csv files and find differences.\r\n\r\nFirst CSV file will be like:\r\n```\r\nc71f55b6c18248b8915d8a26\r\n64b7d2d4eab74d7999a967c0\r\nceb792ad21054fe0a27ec410\r\n95319566f9424c57ba2145f9\r\n682a4fe26c154050b8f5c6f1\r\n88e0209e2af74049ad9bf2bd\r\n5c462b42763d41d7bb67029f\r\n0ee74c227fc84e39a9ecc1da\r\n66f7ab6f56374ba08d2fb92d\r\n3ed793e35f9441b58562c9ba\r\nbaad81ac8ba54188afe63fb8\r\n...\r\n```\r\nEach row has just one id, and total row count is approximately 5 Millions.\r\nSecond CSV file will be like First one with total row count 3 Millions.\r\n\r\nI need to remove ids of the second csv from the first csv and put them into a MongoDb. When i take all lines into memory then compare both CSVs file, I got out of memory error. I have 512Mb memory space and I will get at least 30 request in a day. \r\nRows of CSV is changing 1Million-10Million. I can receive two request at same time and do same things simultaneously.\r\n\r\nIs there any other way on this?\r\n\r\nThanks.","title":"How to Compare two large CSV file in java","body":"<p>I need compare two large csv files and find differences.</p>\n<p>First CSV file will be like:</p>\n<pre><code>c71f55b6c18248b8915d8a26\n64b7d2d4eab74d7999a967c0\nceb792ad21054fe0a27ec410\n95319566f9424c57ba2145f9\n682a4fe26c154050b8f5c6f1\n88e0209e2af74049ad9bf2bd\n5c462b42763d41d7bb67029f\n0ee74c227fc84e39a9ecc1da\n66f7ab6f56374ba08d2fb92d\n3ed793e35f9441b58562c9ba\nbaad81ac8ba54188afe63fb8\n...\n</code></pre>\n<p>Each row has just one id, and total row count is approximately 5 Millions.\nSecond CSV file will be like First one with total row count 3 Millions.</p>\n<p>I need to remove ids of the second csv from the first csv and put them into a MongoDb. When i take all lines into memory then compare both CSVs file, I got out of memory error. I have 512Mb memory space and I will get at least 30 request in a day.\nRows of CSV is changing 1Million-10Million. I can receive two request at same time and do same things simultaneously.</p>\n<p>Is there any other way on this?</p>\n<p>Thanks.</p>\n"},{"tags":["java","binary-tree","binary-search-tree","tree-traversal","postorder"],"answers":[{"tags":[],"owner":{"account_id":2554077,"reputation":338,"user_id":2216478,"accept_rate":50,"display_name":"jshariar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648183538,"creation_date":1648183538,"answer_id":71612268,"question_id":71611970,"body_markdown":"Usually you would change the tree back after the traversal.\r\n\r\nLook at the detailed answer here: https://stackoverflow.com/questions/36384599/can-we-use-morris-traversal-for-postorder\r\n\r\nIt has a great code example. Just might save you some headache.","title":"Can a Binary Tree be recovered after performing Morris Postorder Traversal?","body":"<p>Usually you would change the tree back after the traversal.</p>\n<p>Look at the detailed answer here: <a href=\"https://stackoverflow.com/questions/36384599/can-we-use-morris-traversal-for-postorder\">Can we use Morris traversal for postorder?</a></p>\n<p>It has a great code example. Just might save you some headache.</p>\n"}],"owner":{"account_id":18287208,"reputation":23,"user_id":13314829,"display_name":"IkhideIfidon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71612268,"answer_count":1,"score":1,"last_activity_date":1648183538,"creation_date":1648180085,"question_id":71611970,"body_markdown":"Morris Postorder Traversal alters the Binary Tree. Is it possible to recover the initial tree after the traversal?","title":"Can a Binary Tree be recovered after performing Morris Postorder Traversal?","body":"<p>Morris Postorder Traversal alters the Binary Tree. Is it possible to recover the initial tree after the traversal?</p>\n"},{"tags":["java","byte","token","readability"],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526255270,"creation_date":1526255270,"answer_id":50321615,"question_id":50321569,"body_markdown":"It&#39;s not specific to Java. There is such a thing as a &#39;term&#39; in Java, and you will find it in the JLS, but that&#39;s not what they&#39;re talking about. They are talking about tokens *or* bytes, in general terms, not language-specific. and in one place tokens *and* bytes, which appears to be a mistake. \r\n\r\n&gt; The *terms* here can be bytes *or* tokens, and we use both in this paper. [emphasis added]","title":"What is a term in Java?","body":"<p>It's not specific to Java. There is such a thing as a 'term' in Java, and you will find it in the JLS, but that's not what they're talking about. They are talking about tokens <em>or</em> bytes, in general terms, not language-specific. and in one place tokens <em>and</em> bytes, which appears to be a mistake. </p>\n\n<blockquote>\n  <p>The <em>terms</em> here can be bytes <em>or</em> tokens, and we use both in this paper. [emphasis added]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13282467,"reputation":6102,"user_id":9589593,"display_name":"k_ssb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1526255895,"creation_date":1526255895,"answer_id":50321662,"question_id":50321569,"body_markdown":"You&#39;re confusing different usages of the word &quot;term&quot;. Two relevant definitions are:\r\n\r\n - _A word/phrase that has a special meaning in a particular context._ A biology teacher might say &quot;make sure to study the _terms_ from Chapter 14 for the quiz tomorrow&quot;. This is the usage of &quot;term&quot; in your list of &quot;useful Java terms&quot;.\r\n - _One element in a sequence of things._ For instance, if you have a sequence of characters `qwerty`, then `w` is a _term_ because it&#39;s one of those characters. This is the definition used in the entropy calculation. Specifically, &quot;term&quot; can mean an individual character (byte) in the source code, or a &quot;token&quot; in Java, which means any part of the code that means one thing in the Java syntax (`int foo = bar-3;` contains the tokens `int`, `foo`, `=`, `bar`, `-`, `3`, and `;`).\r\n\r\nNote: When dealing with programming, a _byte_ is sometimes synonymous with a _character_ because characters are stored with one byte of memory.","title":"What is a term in Java?","body":"<p>You're confusing different usages of the word \"term\". Two relevant definitions are:</p>\n\n<ul>\n<li><em>A word/phrase that has a special meaning in a particular context.</em> A biology teacher might say \"make sure to study the <em>terms</em> from Chapter 14 for the quiz tomorrow\". This is the usage of \"term\" in your list of \"useful Java terms\".</li>\n<li><em>One element in a sequence of things.</em> For instance, if you have a sequence of characters <code>qwerty</code>, then <code>w</code> is a <em>term</em> because it's one of those characters. This is the definition used in the entropy calculation. Specifically, \"term\" can mean an individual character (byte) in the source code, or a \"token\" in Java, which means any part of the code that means one thing in the Java syntax (<code>int foo = bar-3;</code> contains the tokens <code>int</code>, <code>foo</code>, <code>=</code>, <code>bar</code>, <code>-</code>, <code>3</code>, and <code>;</code>).</li>\n</ul>\n\n<p>Note: When dealing with programming, a <em>byte</em> is sometimes synonymous with a <em>character</em> because characters are stored with one byte of memory.</p>\n"}],"owner":{"account_id":4918036,"reputation":185,"user_id":3961436,"accept_rate":71,"display_name":"Jo&#227;o Alves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1950,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50321662,"answer_count":2,"score":3,"last_activity_date":1648182651,"creation_date":1526254749,"question_id":50321569,"body_markdown":"I am implementing a application that calculated the readability of Java files with the readability formula proposed by Posnett, Hindle and Devanbu ([here][1]).\r\n\r\nThe formula is: `z = 8.87 - 0.033 * Volume + 0.40 * Lines - 1.5 * Entropy`\r\n\r\nThey say that `Entropy` is calculated from the counts of terms (tokens\r\nor bytes) as well as the number of unique terms and bytes.\r\n\r\nI made some research, but couldn&#39;t find a definition of a term in Java. The only thing that I found was [this][2], that list some &quot;useful Java terms&quot;, but I don&#39;t think that these are the only terms in Java.\r\n\r\nSo, what should I consider as Java terms? Can anyone give me an exaplanation?\r\n\r\n\r\n  [1]: http://softwareprocess.es/pubs/posnett2011MSR-readability.pdf\r\n  [2]: http://web.mit.edu/1.00/www/definitions.htm","title":"What is a term in Java?","body":"<p>I am implementing a application that calculated the readability of Java files with the readability formula proposed by Posnett, Hindle and Devanbu (<a href=\"http://softwareprocess.es/pubs/posnett2011MSR-readability.pdf\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>The formula is: <code>z = 8.87 - 0.033 * Volume + 0.40 * Lines - 1.5 * Entropy</code></p>\n\n<p>They say that <code>Entropy</code> is calculated from the counts of terms (tokens\nor bytes) as well as the number of unique terms and bytes.</p>\n\n<p>I made some research, but couldn't find a definition of a term in Java. The only thing that I found was <a href=\"http://web.mit.edu/1.00/www/definitions.htm\" rel=\"nofollow noreferrer\">this</a>, that list some \"useful Java terms\", but I don't think that these are the only terms in Java.</p>\n\n<p>So, what should I consider as Java terms? Can anyone give me an exaplanation?</p>\n"},{"tags":["java","file","java.util.scanner"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1648180339,"post_id":71611928,"comment_id":126564710,"body_markdown":"what is the contents of the file you are trying to read?","body":"what is the contents of the file you are trying to read?"},{"owner":{"account_id":14738,"reputation":1687,"user_id":30581,"accept_rate":67,"display_name":"Emrah Diril"},"score":0,"creation_date":1648180379,"post_id":71611928,"comment_id":126564722,"body_markdown":"You said &quot;The code below works fine the first time, but seems to have issues with reading from the text file a second time for the new starting String&quot;. What kind of issues is it having, can you please elaborate?","body":"You said &quot;The code below works fine the first time, but seems to have issues with reading from the text file a second time for the new starting String&quot;. What kind of issues is it having, can you please elaborate?"},{"owner":{"account_id":24681065,"reputation":33,"user_id":18574788,"display_name":"ih8mondays1"},"score":0,"creation_date":1648180664,"post_id":71611928,"comment_id":126564758,"body_markdown":"@hfontanez The contents should be whatever was written into the file during the previous time the code ran. So if the code had previously written &quot;1;1;0;0;0;0;0;&quot; into the file, it should grab that same String back from the file. However, it seems to always just continue with the default String of &quot;0;0;0;0;0;0;0;&quot;.","body":"@hfontanez The contents should be whatever was written into the file during the previous time the code ran. So if the code had previously written &quot;1;1;0;0;0;0;0;&quot; into the file, it should grab that same String back from the file. However, it seems to always just continue with the default String of &quot;0;0;0;0;0;0;0;&quot;."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648180706,"post_id":71611928,"comment_id":126564766,"body_markdown":"What does [tag:class] have to do with it? Don&#39;t tag indiscriminately.","body":"What does <a href=\"https://stackoverflow.com/questions/tagged/class\">class</a> have to do with it? Don&#39;t tag indiscriminately."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1648180725,"post_id":71611928,"comment_id":126564769,"body_markdown":"Consider what happens on this line if the file is blank for some reason `if (scan.hasNextLine())`, you will get the default temp value of `String temp = &quot;0;0;0;0;0;0;0;&quot;;`. Change that to be `String temp = &quot;&quot;;` so that you know if the file is broken, of not.","body":"Consider what happens on this line if the file is blank for some reason <code>if (scan.hasNextLine())</code>, you will get the default temp value of <code>String temp = &quot;0;0;0;0;0;0;0;&quot;;</code>. Change that to be <code>String temp = &quot;&quot;;</code> so that you know if the file is broken, of not."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1648180803,"post_id":71611928,"comment_id":126564777,"body_markdown":"You need to create the `Scanner` first, do the reading, close it, then create the `FileWriter`, do the writing, and close that. At present you are always reading from a new empty file.","body":"You need to create the <code>Scanner</code> first, do the reading, close it, then create the <code>FileWriter</code>, do the writing, and close that. At present you are always reading from a new empty file."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1648180828,"post_id":71611928,"comment_id":126564780,"body_markdown":"@sorifiend you were getting my point....","body":"@sorifiend you were getting my point...."},{"owner":{"account_id":24681065,"reputation":33,"user_id":18574788,"display_name":"ih8mondays1"},"score":0,"creation_date":1648180907,"post_id":71611928,"comment_id":126564788,"body_markdown":"@EmrahDiril The issue is that it just doesn&#39;t seem to grab the text from the file at all. The goal is to have the code write a String into the file (which is does successfully), then the next time it runs take that same String and increment certain parts of it by 1. The if statement at the start is meant to check if the file has a String, and if it does use that as the base. However, every time the class is ran it ends up using the default String of &quot;0;0;0;0;0;0;0;&quot; to start with rather than the String previously contained within the file.","body":"@EmrahDiril The issue is that it just doesn&#39;t seem to grab the text from the file at all. The goal is to have the code write a String into the file (which is does successfully), then the next time it runs take that same String and increment certain parts of it by 1. The if statement at the start is meant to check if the file has a String, and if it does use that as the base. However, every time the class is ran it ends up using the default String of &quot;0;0;0;0;0;0;0;&quot; to start with rather than the String previously contained within the file."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1648181155,"post_id":71611928,"comment_id":126564820,"body_markdown":"@ih8mondays1 if I am not mistaken, if the file denoted in the _filepath_ doesn&#39;t exist, `FileWriter` will create a blank file. Then, you open a `Scanner` to the same (potentially empty) file. So, when you get to the... I just saw what user207421 wrote. My thoughts exactly.","body":"@ih8mondays1 if I am not mistaken, if the file denoted in the <i>filepath</i> doesn&#39;t exist, <code>FileWriter</code> will create a blank file. Then, you open a <code>Scanner</code> to the same (potentially empty) file. So, when you get to the... I just saw what user207421 wrote. My thoughts exactly."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648181940,"creation_date":1648181940,"answer_id":71612131,"question_id":71611928,"body_markdown":"Consider the [JavaDoc][1] which states &quot;*Whether or not a file is available or may be created depends upon the underlying platform.*&quot;. So what is happening here, is that when you use `new FileWriter(*filepath*)` the file is being locked/created blank, so when you use `new Scanner(new File(*filepath*));` and `scan.hasNextLine()` you get a null/empty value.\r\n\r\nThe easy solution is to simply move the FileWriter further down in your code, and only open it after the scanner has been closed. Also add an `else` to your `if` statement so you know if there is an issue with reading from the scanner:\r\n\r\n    //Move the below line to be later in the code\r\n    //FileWriter writer = new FileWriter(*filepath*);\r\n    Scanner scan = new Scanner(new File(*filepath*));\r\n    String temp = &quot;0;0;0;0;0;0;0;&quot;;\r\n    if (scan.hasNextLine()) {\r\n        temp = scan.nextLine();\r\n    }\r\n    //Add some debugging\r\n    else{\r\n        System.out.println(&quot;ERROR no data could be read&quot;);\r\n    }\r\n    String[] statsArr = temp.split(&quot;;&quot;);\r\n    scan.close();\r\n    statsArr[0] = Integer.toString(Integer.parseInt(statsArr[0]) + 1);\r\n    statsArr[numGuesses] = Integer.toString(Integer.parseInt(statsArr[numGuesses]) + 1);\r\n    \r\n    //Create the flie writer here instead\r\n    FileWriter writer = new FileWriter(*filepath*);\r\n    for (int i = 0; i &lt; statsArr.length; i++) {\r\n        writer.append(statsArr[i] + &quot;;&quot;);\r\n    }\r\n    writer.close();\r\n\r\nNow assuming the file exists and can be edited, and where `numGuesses = 3`, then for the following contents:\r\n\r\n&gt; 1;2;3;4;5;6;7;\r\n\r\nThe output of running the code is as expected (+1 to the 0 and 3rd index)\r\n\r\n&gt; 2;2;3;5;5;6;7;\r\n\r\nThe reason you only saw `0;0;0;0;0;0;0;` was because the code was failing to read from the scanner, and always using the temp value from this line `String temp = &quot;0;0;0;0;0;0;0;&quot;;`. By adding the `else` check above we can see when it fails.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/FileWriter.html#%3Cinit%3E(java.lang.String)","title":"Having problems scanning a String from a file in Java","body":"<p>Consider the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/FileWriter.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">JavaDoc</a> which states &quot;<em>Whether or not a file is available or may be created depends upon the underlying platform.</em>&quot;. So what is happening here, is that when you use <code>new FileWriter(*filepath*)</code> the file is being locked/created blank, so when you use <code>new Scanner(new File(*filepath*));</code> and <code>scan.hasNextLine()</code> you get a null/empty value.</p>\n<p>The easy solution is to simply move the FileWriter further down in your code, and only open it after the scanner has been closed. Also add an <code>else</code> to your <code>if</code> statement so you know if there is an issue with reading from the scanner:</p>\n<pre><code>//Move the below line to be later in the code\n//FileWriter writer = new FileWriter(*filepath*);\nScanner scan = new Scanner(new File(*filepath*));\nString temp = &quot;0;0;0;0;0;0;0;&quot;;\nif (scan.hasNextLine()) {\n    temp = scan.nextLine();\n}\n//Add some debugging\nelse{\n    System.out.println(&quot;ERROR no data could be read&quot;);\n}\nString[] statsArr = temp.split(&quot;;&quot;);\nscan.close();\nstatsArr[0] = Integer.toString(Integer.parseInt(statsArr[0]) + 1);\nstatsArr[numGuesses] = Integer.toString(Integer.parseInt(statsArr[numGuesses]) + 1);\n\n//Create the flie writer here instead\nFileWriter writer = new FileWriter(*filepath*);\nfor (int i = 0; i &lt; statsArr.length; i++) {\n    writer.append(statsArr[i] + &quot;;&quot;);\n}\nwriter.close();\n</code></pre>\n<p>Now assuming the file exists and can be edited, and where <code>numGuesses = 3</code>, then for the following contents:</p>\n<blockquote>\n<p>1;2;3;4;5;6;7;</p>\n</blockquote>\n<p>The output of running the code is as expected (+1 to the 0 and 3rd index)</p>\n<blockquote>\n<p>2;2;3;5;5;6;7;</p>\n</blockquote>\n<p>The reason you only saw <code>0;0;0;0;0;0;0;</code> was because the code was failing to read from the scanner, and always using the temp value from this line <code>String temp = &quot;0;0;0;0;0;0;0;&quot;;</code>. By adding the <code>else</code> check above we can see when it fails.</p>\n"},{"tags":[],"owner":{"account_id":14738,"reputation":1687,"user_id":30581,"accept_rate":67,"display_name":"Emrah Diril"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648182048,"creation_date":1648182048,"answer_id":71612138,"question_id":71611928,"body_markdown":"`FileWriter writer = new FileWriter(*filepath*);` clears the contents of the file you are trying to read from. You need to move this line after `scan.close();`","title":"Having problems scanning a String from a file in Java","body":"<p><code>FileWriter writer = new FileWriter(*filepath*);</code> clears the contents of the file you are trying to read from. You need to move this line after <code>scan.close();</code></p>\n"}],"owner":{"account_id":24681065,"reputation":33,"user_id":18574788,"display_name":"ih8mondays1"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71612131,"answer_count":2,"score":0,"last_activity_date":1648182048,"creation_date":1648179615,"question_id":71611928,"body_markdown":"I&#39;m trying to scan a line of text from a .txt file, split it up into seven numbers, change two of the numbers, and then write the new numbers back into the .txt file. The code below works fine the first time, but seems to have issues with reading from the text file a second time for the new starting String. I&#39;ve done very similar things multiple times and had no issues, so I&#39;m really not sure why I&#39;m having problems this time around. The code I currently have is:\r\n\r\n    public void addWin(int numGuesses) throws IOException {\r\n        FileWriter writer = new FileWriter(*filepath*);\r\n        Scanner scan = new Scanner(new File(*filepath*));\r\n        String temp = &quot;0;0;0;0;0;0;0;&quot;;\r\n        if (scan.hasNextLine()) {\r\n            temp = scan.nextLine();\r\n        }\r\n        String[] statsArr = temp.split(&quot;;&quot;);\r\n        scan.close();\r\n        statsArr[0] = Integer.toString(Integer.parseInt(statsArr[0]) + 1);\r\n        statsArr[numGuesses] = Integer.toString(Integer.parseInt(statsArr[numGuesses]) + 1);\r\n        for (int i = 0; i &lt; statsArr.length; i++) {\r\n            writer.append(statsArr[i] + &quot;;&quot;);\r\n        }\r\n        writer.close();\r\n    }\r\n\r\nSome extra context if needed, this is essentially for a Wordle clone sort of thing for a Discord bot I have. *numGuesses* is the number of guesses it took to get the word correct. The String being written in and being read is 7 numbers divided up by a semicolon, the first number is the current win streak, the second number is number of times you&#39;ve won in 1 guess, and so on. The testing I&#39;ve done seems to place the error somewhere before the scanner closes. A first run through will correctly write the numbers, so if the word was guessed in 3 attempts the file will contain &quot;1;0;0;1;0;0;0;&quot;, but the next time the method is called it essentially starts from scratch. Checking the *temp* variable just after the if statement on a second run through just shows &quot;0;0;0;0;0;0;0;&quot;. Sorry for the long-windedness, just trying to provide all possibly helpful details. Thank you in advance!\r\n\r\n - ","title":"Having problems scanning a String from a file in Java","body":"<p>I'm trying to scan a line of text from a .txt file, split it up into seven numbers, change two of the numbers, and then write the new numbers back into the .txt file. The code below works fine the first time, but seems to have issues with reading from the text file a second time for the new starting String. I've done very similar things multiple times and had no issues, so I'm really not sure why I'm having problems this time around. The code I currently have is:</p>\n<pre><code>public void addWin(int numGuesses) throws IOException {\n    FileWriter writer = new FileWriter(*filepath*);\n    Scanner scan = new Scanner(new File(*filepath*));\n    String temp = &quot;0;0;0;0;0;0;0;&quot;;\n    if (scan.hasNextLine()) {\n        temp = scan.nextLine();\n    }\n    String[] statsArr = temp.split(&quot;;&quot;);\n    scan.close();\n    statsArr[0] = Integer.toString(Integer.parseInt(statsArr[0]) + 1);\n    statsArr[numGuesses] = Integer.toString(Integer.parseInt(statsArr[numGuesses]) + 1);\n    for (int i = 0; i &lt; statsArr.length; i++) {\n        writer.append(statsArr[i] + &quot;;&quot;);\n    }\n    writer.close();\n}\n</code></pre>\n<p>Some extra context if needed, this is essentially for a Wordle clone sort of thing for a Discord bot I have. <em>numGuesses</em> is the number of guesses it took to get the word correct. The String being written in and being read is 7 numbers divided up by a semicolon, the first number is the current win streak, the second number is number of times you've won in 1 guess, and so on. The testing I've done seems to place the error somewhere before the scanner closes. A first run through will correctly write the numbers, so if the word was guessed in 3 attempts the file will contain &quot;1;0;0;1;0;0;0;&quot;, but the next time the method is called it essentially starts from scratch. Checking the <em>temp</em> variable just after the if statement on a second run through just shows &quot;0;0;0;0;0;0;0;&quot;. Sorry for the long-windedness, just trying to provide all possibly helpful details. Thank you in advance!</p>\n<p>-</p>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1418058235,"post_id":27362742,"comment_id":43177994,"body_markdown":"It doesn&#39;t look like it would be backward compatible.","body":"It doesn&#39;t look like it would be backward compatible."}],"answers":[{"tags":[],"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1418074799,"creation_date":1418074799,"answer_id":27367469,"question_id":27362742,"body_markdown":"**No it would not be backward compatible**. Protcol Buffers stores data roughly like\r\n\r\n    Code1 + wire-type1 + {Data1}\r\n    Code2 + wire-type2 + {Data2}\r\n    Code3 + wire-type3 + {Data3}\r\n\r\nSo the first old format would be stored like\r\n\r\n    1 + wire-type {Wifi-Data}\r\n    2 + wire-type {Wifi-Code-Data}\r\n\r\nThe new message would be stored like\r\n\r\n    1 + wire-type { \r\n                   1 + wire-type {Wifi-Data}\r\n                   2 + wire-type {Wifi-Code-Data}\r\n    }    \r\n\r\n          ","title":"changing data type for a field in protocol buffer","body":"<p><strong>No it would not be backward compatible</strong>. Protcol Buffers stores data roughly like</p>\n\n<pre><code>Code1 + wire-type1 + {Data1}\nCode2 + wire-type2 + {Data2}\nCode3 + wire-type3 + {Data3}\n</code></pre>\n\n<p>So the first old format would be stored like</p>\n\n<pre><code>1 + wire-type {Wifi-Data}\n2 + wire-type {Wifi-Code-Data}\n</code></pre>\n\n<p>The new message would be stored like</p>\n\n<pre><code>1 + wire-type { \n               1 + wire-type {Wifi-Data}\n               2 + wire-type {Wifi-Code-Data}\n}    \n</code></pre>\n"}],"owner":{"account_id":659270,"reputation":4466,"user_id":901798,"accept_rate":67,"display_name":"Ankit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648181205,"creation_date":1418057238,"question_id":27362742,"body_markdown":"Hi is it Okay to change the data type of a field in protocol buffer, in order to maintain backward compatibility. for example \r\n\r\n**Old message:**\r\n\r\n    message Connection{\r\n           optional string wifi = 1;\r\n           optional int32 wifiCode = 2;\r\n    }\r\n    \r\n**New message:** \r\n    \r\n    message Connection{\r\n         message wifiConnection{\r\n             optional string name = 1;\r\n             optional int32 code = 2;\r\n         }\r\n    \r\n         optional wifiConnection wifi = 1;\r\n    }\r\n\r\nSo basically I have not changed the tag number for the field nor renamed it, but I have changed the data type. So would this be backward compatible ? If a get an old proto object created with previous schema, can it be parsed through object created by this new schema ?","title":"changing data type for a field in protocol buffer","body":"<p>Hi is it Okay to change the data type of a field in protocol buffer, in order to maintain backward compatibility. for example</p>\n<p><strong>Old message:</strong></p>\n<pre><code>message Connection{\n       optional string wifi = 1;\n       optional int32 wifiCode = 2;\n}\n</code></pre>\n<p><strong>New message:</strong></p>\n<pre><code>message Connection{\n     message wifiConnection{\n         optional string name = 1;\n         optional int32 code = 2;\n     }\n\n     optional wifiConnection wifi = 1;\n}\n</code></pre>\n<p>So basically I have not changed the tag number for the field nor renamed it, but I have changed the data type. So would this be backward compatible ? If a get an old proto object created with previous schema, can it be parsed through object created by this new schema ?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","mockito"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648169331,"creation_date":1648169331,"answer_id":71610999,"question_id":71610876,"body_markdown":"If you want to test Spring MVC controllers, don&#39;t use unit tests; you need to ensure that everything works correctly including mappings, validation, and serialization. Use MockMvc (in regular, not standalone mode), and if you like you can use Mockito to mock service dependencies.","title":"How to write JUnit test for status code of Controller?","body":"<p>If you want to test Spring MVC controllers, don't use unit tests; you need to ensure that everything works correctly including mappings, validation, and serialization. Use MockMvc (in regular, not standalone mode), and if you like you can use Mockito to mock service dependencies.</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648180136,"creation_date":1648180136,"answer_id":71611972,"question_id":71610876,"body_markdown":"If you want to test your controller, you have two categories of test:\r\n1. Unit test by using `spring` [test slice][1].\r\n\r\n2. [Integration test][2]\r\n\r\nRead this [post][3] also for more understanding.\r\n\r\n\r\n  [1]: https://rieckpil.de/spring-boot-test-slices-overview-and-usage/\r\n  [2]: https://www.baeldung.com/integration-testing-in-spring\r\n  [3]: https://stackoverflow.com/questions/56712707/springboottest-vs-contextconfiguration-vs-import-in-spring-boot-unit-test/70601994#70601994","title":"How to write JUnit test for status code of Controller?","body":"<p>If you want to test your controller, you have two categories of test:</p>\n<ol>\n<li><p>Unit test by using <code>spring</code> <a href=\"https://rieckpil.de/spring-boot-test-slices-overview-and-usage/\" rel=\"nofollow noreferrer\">test slice</a>.</p>\n</li>\n<li><p><a href=\"https://www.baeldung.com/integration-testing-in-spring\" rel=\"nofollow noreferrer\">Integration test</a></p>\n</li>\n</ol>\n<p>Read this <a href=\"https://stackoverflow.com/questions/56712707/springboottest-vs-contextconfiguration-vs-import-in-spring-boot-unit-test/70601994#70601994\">post</a> also for more understanding.</p>\n"}],"owner":{"display_name":"user18310619"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648180136,"creation_date":1648167899,"question_id":71610876,"body_markdown":"I want to test the response of my request.\r\n\r\nI have a controller like this,\r\n\r\n        @RequestMapping(&quot;/user&quot;)    \r\n        public class StandardController(@RequestBody Object body) {\r\n                @PostMapping(path=/info&quot;)\r\n                public ResponseEntity&lt;String&gt; getUserInfo(@Validated @RequestBody CustomDTO customDTO) throws customException {\r\n                  try {\r\n                    //process something with customDTO\r\n                  } catch (Exception e) {\r\n                    //throw exception\r\n                  }\r\n            }\r\n        }\r\n\r\nNow I have made one of the properties of `CustomDTO` as `@NotNull`. When I test the endpoint through Postman I will successfully get 400 as expected if I supply the required field as null value. But how do I test this scenario with Mockito?","title":"How to write JUnit test for status code of Controller?","body":"<p>I want to test the response of my request.</p>\n<p>I have a controller like this,</p>\n<pre><code>    @RequestMapping(&quot;/user&quot;)    \n    public class StandardController(@RequestBody Object body) {\n            @PostMapping(path=/info&quot;)\n            public ResponseEntity&lt;String&gt; getUserInfo(@Validated @RequestBody CustomDTO customDTO) throws customException {\n              try {\n                //process something with customDTO\n              } catch (Exception e) {\n                //throw exception\n              }\n        }\n    }\n</code></pre>\n<p>Now I have made one of the properties of <code>CustomDTO</code> as <code>@NotNull</code>. When I test the endpoint through Postman I will successfully get 400 as expected if I supply the required field as null value. But how do I test this scenario with Mockito?</p>\n"},{"tags":["java","for-loop","if-statement","random"],"comments":[{"owner":{"account_id":24680855,"reputation":1,"user_id":18574619,"display_name":"Kyotiq"},"score":0,"creation_date":1648177483,"post_id":71611679,"comment_id":126564218,"body_markdown":"I teach myself to code, so this is probably really not efficient by the way!","body":"I teach myself to code, so this is probably really not efficient by the way!"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1648179845,"post_id":71611679,"comment_id":126564642,"body_markdown":"You have to consider Upper Case characters as well **unless** you ignore letter case in your code during character comparisons for equality. Remove punctuation, special characters, or numerical digits if not desired in User&#39;s input. You don&#39;t need the two `if` statements: `if(finall.equals(words)) {` and `if(!finall.equals(words)) {`. If it can find a whitespace it just wont process it anyways. No sense duplicating code. Don&#39;t declare and initialize `alpha` in each iteration of the `for` loop, do that once before the `for` loop.","body":"You have to consider Upper Case characters as well <b>unless</b> you ignore letter case in your code during character comparisons for equality. Remove punctuation, special characters, or numerical digits if not desired in User&#39;s input. You don&#39;t need the two <code>if</code> statements: <code>if(finall.equals(words)) {</code> and <code>if(!finall.equals(words)) {</code>. If it can find a whitespace it just wont process it anyways. No sense duplicating code. Don&#39;t declare and initialize <code>alpha</code> in each iteration of the <code>for</code> loop, do that once before the <code>for</code> loop."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648180051,"creation_date":1648180051,"answer_id":71611964,"question_id":71611679,"body_markdown":"You have to create the random `String` using two different methods.  The first method creates the initial random `String`.  The second method compares the input words with the previous random `String`.\r\n\r\nHere&#39;s a test I ran that shows the guesses.  Use a two or three letter word or else you&#39;ll generate a long output.\r\n\r\n    The computer will randomly guess your words.\r\n    Enter one or more words.  Just press enter to quit.\r\n    but\r\n    Guess 1 is: ist\r\n    Guess 2 is: wgt\r\n    Guess 3 is: v t\r\n    Guess 4 is: cnt\r\n    Guess 5 is: eut\r\n    Guess 6 is: nut\r\n    Guess 7 is: eut\r\n    Guess 8 is:  ut\r\n    Guess 9 is: gut\r\n    Guess 10 is: sut\r\n    Guess 11 is: tut\r\n    Guess 12 is: eut\r\n    Guess 13 is: hut\r\n    Guess 14 is:  ut\r\n    Guess 15 is: aut\r\n    Guess 16 is: mut\r\n    Guess 17 is: aut\r\n    Guess 18 is: uut\r\n    Guess 19 is: wut\r\n    Guess 20 is: tut\r\n    Guess 21 is: yut\r\n    Guess 22 is: gut\r\n    Guess 23 is: but\r\n    The computer will randomly guess your words.\r\n    Enter one or more words.  Just press enter to quit.\r\n    \r\nI wrote this code one method at a time.  By breaking the code up into methods, I could test each method individually.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class RandomWords {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tRandomWords rw = new RandomWords();\r\n    \t\tScanner scanner = new Scanner(System.in);\r\n    \t\trw.processWords(scanner);\r\n    \t\tscanner.close();\r\n    \t}\r\n    \t\r\n    \tprivate Random random;\r\n    \t\r\n    \tpublic void processWords(Scanner scanner) {\r\n    \t\tthis.random = new Random();\r\n    \t\tString line;\r\n    \t\tdo {\r\n    \t\t\tSystem.out.println(&quot;The computer will randomly guess your words.&quot;);\r\n    \t\t\tSystem.out.println(&quot;Enter one or more words.  Just press enter to quit.&quot;);\r\n    \t\t\tline = scanner.nextLine().trim().toLowerCase();\r\n    \t\t\tif (!line.isEmpty()) {\r\n    \t\t\t\tprocessGuesses(line);\r\n    \t\t\t}\r\n    \t\t} while (!line.isEmpty());\r\n    \t}\r\n    \t\r\n    \tprivate void processGuesses(String line) {\r\n    \t\tint count = 0;\r\n    \t\tString randomString = generateRandomString(line);\r\n    \t\t\r\n    \t\twhile (!randomString.equals(line)) {\r\n    \t\t\tSystem.out.println(&quot;Guess &quot; + ++count + &quot; is: &quot; + randomString);\r\n    \t\t\tif (!randomString.equals(line)) {\r\n    \t\t\t\trandomString = generateRandomString(line, randomString);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Guess &quot; + ++count + &quot; is: &quot; + randomString);\r\n    \t}\r\n    \t\r\n    \tprivate String generateRandomString(String line, String randomString) {\r\n    \t\tchar[] alphabet = generateAlphabet();\r\n    \t\tString output = &quot;&quot;;\r\n    \t\t\r\n    \t\tchar[] lineCharacters = line.toCharArray();\r\n    \t\tchar[] randomCharacters = randomString.toCharArray();\r\n    \t\t\r\n    \t\tfor (int index = 0; index &lt; line.length(); index++) {\r\n    \t\t\tif (lineCharacters[index] == randomCharacters[index]) {\r\n    \t\t\t\toutput += lineCharacters[index];\r\n    \t\t\t} else {\r\n    \t\t\t\tint sub = random.nextInt(alphabet.length);\r\n    \t\t\t\toutput += alphabet[sub];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn output;\r\n    \t}\r\n    \t\r\n    \tprivate String generateRandomString(String line) {\r\n    \t\tchar[] alphabet = generateAlphabet();\r\n    \t\tString output = &quot;&quot;;\r\n    \t\t\r\n    \t\tfor (int index = 0; index &lt; line.length(); index++) {\r\n    \t\t\tint sub = random.nextInt(alphabet.length);\r\n    \t\t\toutput += alphabet[sub];\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn output;\r\n    \t}\r\n    \r\n    \tprivate char[] generateAlphabet() {\r\n    \t\treturn &quot; abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How would one be able to randomly print 10 strings with &#39;n&#39; letters, but each string has the same first letter","body":"<p>You have to create the random <code>String</code> using two different methods.  The first method creates the initial random <code>String</code>.  The second method compares the input words with the previous random <code>String</code>.</p>\n<p>Here's a test I ran that shows the guesses.  Use a two or three letter word or else you'll generate a long output.</p>\n<pre><code>The computer will randomly guess your words.\nEnter one or more words.  Just press enter to quit.\nbut\nGuess 1 is: ist\nGuess 2 is: wgt\nGuess 3 is: v t\nGuess 4 is: cnt\nGuess 5 is: eut\nGuess 6 is: nut\nGuess 7 is: eut\nGuess 8 is:  ut\nGuess 9 is: gut\nGuess 10 is: sut\nGuess 11 is: tut\nGuess 12 is: eut\nGuess 13 is: hut\nGuess 14 is:  ut\nGuess 15 is: aut\nGuess 16 is: mut\nGuess 17 is: aut\nGuess 18 is: uut\nGuess 19 is: wut\nGuess 20 is: tut\nGuess 21 is: yut\nGuess 22 is: gut\nGuess 23 is: but\nThe computer will randomly guess your words.\nEnter one or more words.  Just press enter to quit.\n</code></pre>\n<p>I wrote this code one method at a time.  By breaking the code up into methods, I could test each method individually.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class RandomWords {\n\n    public static void main(String[] args) {\n        RandomWords rw = new RandomWords();\n        Scanner scanner = new Scanner(System.in);\n        rw.processWords(scanner);\n        scanner.close();\n    }\n    \n    private Random random;\n    \n    public void processWords(Scanner scanner) {\n        this.random = new Random();\n        String line;\n        do {\n            System.out.println(&quot;The computer will randomly guess your words.&quot;);\n            System.out.println(&quot;Enter one or more words.  Just press enter to quit.&quot;);\n            line = scanner.nextLine().trim().toLowerCase();\n            if (!line.isEmpty()) {\n                processGuesses(line);\n            }\n        } while (!line.isEmpty());\n    }\n    \n    private void processGuesses(String line) {\n        int count = 0;\n        String randomString = generateRandomString(line);\n        \n        while (!randomString.equals(line)) {\n            System.out.println(&quot;Guess &quot; + ++count + &quot; is: &quot; + randomString);\n            if (!randomString.equals(line)) {\n                randomString = generateRandomString(line, randomString);\n            }\n        }\n        \n        System.out.println(&quot;Guess &quot; + ++count + &quot; is: &quot; + randomString);\n    }\n    \n    private String generateRandomString(String line, String randomString) {\n        char[] alphabet = generateAlphabet();\n        String output = &quot;&quot;;\n        \n        char[] lineCharacters = line.toCharArray();\n        char[] randomCharacters = randomString.toCharArray();\n        \n        for (int index = 0; index &lt; line.length(); index++) {\n            if (lineCharacters[index] == randomCharacters[index]) {\n                output += lineCharacters[index];\n            } else {\n                int sub = random.nextInt(alphabet.length);\n                output += alphabet[sub];\n            }\n        }\n        \n        return output;\n    }\n    \n    private String generateRandomString(String line) {\n        char[] alphabet = generateAlphabet();\n        String output = &quot;&quot;;\n        \n        for (int index = 0; index &lt; line.length(); index++) {\n            int sub = random.nextInt(alphabet.length);\n            output += alphabet[sub];\n        }\n        \n        return output;\n    }\n\n    private char[] generateAlphabet() {\n        return &quot; abcdefghijklmnopqrstuvwxyz&quot;.toCharArray();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24680855,"reputation":1,"user_id":18574619,"display_name":"Kyotiq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648180051,"creation_date":1648177101,"question_id":71611679,"body_markdown":"I am trying to make a code that will put random inputs until it finds the correct word inputted by the user.  So far, I have the following: (I am really new to coding).\r\n\r\n    import java.util.*;\r\n\r\n    public class RandomeWords {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    Scanner scanner1 = new Scanner(System.in);\r\n\t\t    System.out.println(&quot;Enter Words&quot;);\r\n\t\t    String words = scanner1.nextLine();\r\n\t\t    int letters = words.length();\r\n\t\t\r\n\t\t    for(int i1 = 1; i1 &gt; 0; i1++) {\r\n    \t\t\tif(words.contains(&quot; &quot;)) {\r\n \t\t\t\t    String[] alpha = &quot; abcdefghijklmnopqrstuvwxyz&quot;.split(&quot;&quot;);\r\n\t\t\t\r\n\t\t\t\t    StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n\t\t\t\t    for (int i3 = 0; i3 &lt; letters; i3++) {\r\n\t\t\t\t        sb.append(alpha[(int)(Math.random()*27)]);\r\n\t\t\t\t    }\r\n\t\t\t\t\r\n\t\t\t\t    String finall = sb.toString();\r\n\t\t\t\t\r\n\t\t\t\t    if(!finall.equals(words)) {\r\n\t\t\t\t\t    System.out.println(finall);\r\n\t\t\t\t    }\r\n\t\t\t\t\r\n\t\t\t\t    if(finall.equals(words)) {\r\n\t\t\t\t\t    System.out.println(finall);\r\n\t\t\t\t\t    System.out.println(i1);\r\n\t\t\t\t\t    System.out.println(&quot;it took &quot; +i1 + &quot; tries to randomly find the word.&quot;);\r\n\t\t\t\t\t    System.out.println(&quot;It should have taken &quot; +Math.pow((int) 27, letters) +&quot; times, statistacally&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\t    System.out.println(&quot;The difference of statistically, and with the simulation is &quot; +(int)Math.abs((int)i1 - (int)Math.pow(27, letters)));\r\n\t\t\t\t\t    System.exit(0);\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tif(!words.contains(&quot; &quot;)){\r\n\t\t\t\t\tString[] alpha1 = &quot;abcdefghijklmnopqrstuvwxyz&quot;.split(&quot;&quot;);\r\n\t\t\t\t\tStringBuilder sb1 = new StringBuilder(&quot;&quot;);\r\n\t\t\t\t\tfor(int i2 = 0; i2 &lt; letters; i2++) {\r\n\t\t\t\t\t\tsb1.append(alpha1[(int)(Math.random()*26)]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tString finall1 = sb1.toString();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!finall1.equals(words))\r\n\t\t\t\t\t\tSystem.out.println(finall1);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(finall1.equals(words)) {\r\n\t\t\t\t\t\tSystem.out.println(finall1);\r\n\t\t\t\t\t\tSystem.out.println(i1);\r\n\t\t\t\t\t\tSystem.out.println(&quot;it took &quot; +i1 + &quot; tries to randomly find the word.&quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;It should have taken &quot; +Math.pow((int) 26, letters) +&quot; times, statistacally&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(&quot;The difference of statistically, and with the simulation is &quot; +Math.abs((int)i1 - (int)Math.pow(26, letters)));\r\n\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n    \t\t\t}\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nThere is one difficulty that I can&#39;t get past.  I would like to have this code be more efficient.  Once it randomly runs the first string, I would like it to save the correct letters.  The next time it prints a string, I would like the letters to be in the same spot. \r\n    EX: The word is HELLO.     the first string the computer inputs is fstli.  As you can see, the second to last letter matches up.  In the next string the code prints, I would like to have that l be in the same spot.  If the next word is Hplli, I would like the H, L, and L to stay in the correct spot.\r\n\r\nThank You\r\n\r\n\r\n","title":"How would one be able to randomly print 10 strings with &#39;n&#39; letters, but each string has the same first letter","body":"<p>I am trying to make a code that will put random inputs until it finds the correct word inputted by the user.  So far, I have the following: (I am really new to coding).</p>\n<pre><code>import java.util.*;\n\npublic class RandomeWords {\n\n    public static void main(String[] args) {\n        Scanner scanner1 = new Scanner(System.in);\n        System.out.println(&quot;Enter Words&quot;);\n        String words = scanner1.nextLine();\n        int letters = words.length();\n    \n        for(int i1 = 1; i1 &gt; 0; i1++) {\n            if(words.contains(&quot; &quot;)) {\n                String[] alpha = &quot; abcdefghijklmnopqrstuvwxyz&quot;.split(&quot;&quot;);\n        \n                StringBuilder sb = new StringBuilder(&quot;&quot;);\n                for (int i3 = 0; i3 &lt; letters; i3++) {\n                    sb.append(alpha[(int)(Math.random()*27)]);\n                }\n            \n                String finall = sb.toString();\n            \n                if(!finall.equals(words)) {\n                    System.out.println(finall);\n                }\n            \n                if(finall.equals(words)) {\n                    System.out.println(finall);\n                    System.out.println(i1);\n                    System.out.println(&quot;it took &quot; +i1 + &quot; tries to randomly find the word.&quot;);\n                    System.out.println(&quot;It should have taken &quot; +Math.pow((int) 27, letters) +&quot; times, statistacally&quot;);\n                \n                    System.out.println(&quot;The difference of statistically, and with the simulation is &quot; +(int)Math.abs((int)i1 - (int)Math.pow(27, letters)));\n                    System.exit(0);\n                }\n            }\n                            \n            if(!words.contains(&quot; &quot;)){\n                String[] alpha1 = &quot;abcdefghijklmnopqrstuvwxyz&quot;.split(&quot;&quot;);\n                StringBuilder sb1 = new StringBuilder(&quot;&quot;);\n                for(int i2 = 0; i2 &lt; letters; i2++) {\n                    sb1.append(alpha1[(int)(Math.random()*26)]);\n                }\n                String finall1 = sb1.toString();\n                \n                if(!finall1.equals(words))\n                    System.out.println(finall1);\n                \n                if(finall1.equals(words)) {\n                    System.out.println(finall1);\n                    System.out.println(i1);\n                    System.out.println(&quot;it took &quot; +i1 + &quot; tries to randomly find the word.&quot;);\n                    System.out.println(&quot;It should have taken &quot; +Math.pow((int) 26, letters) +&quot; times, statistacally&quot;);\n                    \n                    System.out.println(&quot;The difference of statistically, and with the simulation is &quot; +Math.abs((int)i1 - (int)Math.pow(26, letters)));\n                    System.exit(0);\n                    \n                }\n                \n            }\n        }\n    }\n}\n</code></pre>\n<p>There is one difficulty that I can't get past.  I would like to have this code be more efficient.  Once it randomly runs the first string, I would like it to save the correct letters.  The next time it prints a string, I would like the letters to be in the same spot.\nEX: The word is HELLO.     the first string the computer inputs is fstli.  As you can see, the second to last letter matches up.  In the next string the code prints, I would like to have that l be in the same spot.  If the next word is Hplli, I would like the H, L, and L to stay in the correct spot.</p>\n<p>Thank You</p>\n"},{"tags":["java","android","android-layout","mp4","live-streaming"],"comments":[{"owner":{"account_id":1120625,"reputation":124223,"user_id":1109017,"display_name":"llogan"},"score":0,"creation_date":1539022795,"post_id":11523797,"comment_id":92342267,"body_markdown":"Possible duplicate of [Post processing in ffmpeg to move &#39;moov atom&#39; in MP4 files (qt-faststart)](https://stackoverflow.com/questions/8061798/post-processing-in-ffmpeg-to-move-moov-atom-in-mp4-files-qt-faststart)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/8061798/post-processing-in-ffmpeg-to-move-moov-atom-in-mp4-files-qt-faststart\">Post processing in ffmpeg to move &#39;moov atom&#39; in MP4 files (qt-faststart)</a>"},{"owner":{"account_id":45583,"reputation":119,"user_id":134426,"accept_rate":0,"display_name":"markum"},"score":0,"creation_date":1609230764,"post_id":11523797,"comment_id":115782050,"body_markdown":"Can I use ffmpeg to resolve a problem I am having playing TV series on Plex.  The logs indicate:","body":"Can I use ffmpeg to resolve a problem I am having playing TV series on Plex.  The logs indicate:"},{"owner":{"account_id":45583,"reputation":119,"user_id":134426,"accept_rate":0,"display_name":"markum"},"score":0,"creation_date":1609231876,"post_id":11523797,"comment_id":115782416,"body_markdown":"For more clarification i am running my plex and nas servers on raspberry pi 4.  I am using &#39;MacX DVD Ripper Pro&#39; to rip the videos.  I moved to the newest version of plex (1.21.1.3830) which should allow a new scanner","body":"For more clarification i am running my plex and nas servers on raspberry pi 4.  I am using &#39;MacX DVD Ripper Pro&#39; to rip the videos.  I moved to the newest version of plex (1.21.1.3830) which should allow a new scanner"}],"answers":[{"tags":[],"owner":{"account_id":1560692,"reputation":2007,"user_id":1450622,"accept_rate":83,"display_name":"d33pika"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1342601843,"creation_date":1342601843,"answer_id":11537703,"question_id":11523797,"body_markdown":"Run qt_faststart to move the moov atom to the beginning of the stream.\r\n\r\n    qt-faststart in.mp4 out.mp4","title":"How to add a MOOV atom in a mp4 video file","body":"<p>Run qt_faststart to move the moov atom to the beginning of the stream.</p>\n\n<pre><code>qt-faststart in.mp4 out.mp4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439892,"reputation":2468,"user_id":829133,"display_name":"Sebastian Annies"},"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1342652263,"creation_date":1342652263,"answer_id":11551573,"question_id":11523797,"body_markdown":"You got a problem. The &#39;moov&#39; box is a kind of table of contents. If not all content is there you can&#39;t have a complete table of contents. Ouch!\r\n\r\nIf you want to stick with MP4 and if you are writing the file by yourself you could write the file as so called fragmented MP4 file. A fragmented MP4 file contains multiple self-contained small pieces of the video - each with its own table of contents. It would enable you to play the file before the complete recording has finished.\r\n\r\nIf you don&#39;t need to stick with MP4 an option would be to write the raw h264 stream to the server. Then you don&#39;t have that kind of table of content. VLC can play raw h264 streams.","title":"How to add a MOOV atom in a mp4 video file","body":"<p>You got a problem. The 'moov' box is a kind of table of contents. If not all content is there you can't have a complete table of contents. Ouch!</p>\n\n<p>If you want to stick with MP4 and if you are writing the file by yourself you could write the file as so called fragmented MP4 file. A fragmented MP4 file contains multiple self-contained small pieces of the video - each with its own table of contents. It would enable you to play the file before the complete recording has finished.</p>\n\n<p>If you don't need to stick with MP4 an option would be to write the raw h264 stream to the server. Then you don't have that kind of table of content. VLC can play raw h264 streams.</p>\n"},{"tags":[],"owner":{"account_id":2131025,"reputation":181,"user_id":1891863,"display_name":"Hemant"},"down_vote_count":5,"up_vote_count":6,"is_accepted":false,"score":1,"last_activity_date":1355183022,"creation_date":1355149048,"answer_id":13802718,"question_id":11523797,"body_markdown":"Use MP4Box to move MOOV atom at begening of file and interleaving to stream in chunk. \r\n\r\n\r\n    MP4Box test.mp4 test.mp4","title":"How to add a MOOV atom in a mp4 video file","body":"<p>Use MP4Box to move MOOV atom at begening of file and interleaving to stream in chunk. </p>\n\n<pre><code>MP4Box test.mp4 test.mp4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6160407,"reputation":479,"user_id":4802189,"accept_rate":73,"display_name":"Tunahan Bayındır"},"down_vote_count":8,"up_vote_count":2,"is_accepted":false,"score":-6,"last_activity_date":1471916830,"creation_date":1471916830,"answer_id":39091115,"question_id":11523797,"body_markdown":"Add to your gradle this lib: **compile &#39;net.ypresto.qtfaststartjava:qtfaststart:0.1.0&#39;**\r\nand then\r\n\r\n    File input = new File(path + &quot;/input.mp4&quot;); // Your input file\r\n    File output = new File(path + &quot;/output.mp4&quot;); // Your output file\r\n    try{\r\n        if(!output.exists()) // if there is no output file we&#39;ll create one\r\n            output.createNewFile();\r\n        }\r\n    }catch (IOException e){\r\n        Log.e(&quot;TAG&quot;, e.toString());\r\n    }\r\n\r\n    try{\r\n        QtFastStart.fastStart(input, output); // Adds moov to your input\r\n                                              // Now your output file is ready to stream!\r\n    }catch (QtFastStart.MalformedFileException m){\r\n        Log.e(&quot;QT&quot;, m.toString());\r\n    }catch (QtFastStart.UnsupportedFileException q){\r\n        Log.e(&quot;QT&quot;, q.toString());\r\n    }catch (IOException i){\r\n        Log.e(&quot;QT&quot;, i.toString());\r\n    }\r\nHere that&#39;s all","title":"How to add a MOOV atom in a mp4 video file","body":"<p>Add to your gradle this lib: <strong>compile 'net.ypresto.qtfaststartjava:qtfaststart:0.1.0'</strong>\nand then</p>\n\n<pre><code>File input = new File(path + \"/input.mp4\"); // Your input file\nFile output = new File(path + \"/output.mp4\"); // Your output file\ntry{\n    if(!output.exists()) // if there is no output file we'll create one\n        output.createNewFile();\n    }\n}catch (IOException e){\n    Log.e(\"TAG\", e.toString());\n}\n\ntry{\n    QtFastStart.fastStart(input, output); // Adds moov to your input\n                                          // Now your output file is ready to stream!\n}catch (QtFastStart.MalformedFileException m){\n    Log.e(\"QT\", m.toString());\n}catch (QtFastStart.UnsupportedFileException q){\n    Log.e(\"QT\", q.toString());\n}catch (IOException i){\n    Log.e(\"QT\", i.toString());\n}\n</code></pre>\n\n<p>Here that's all</p>\n"},{"tags":[],"owner":{"account_id":8191170,"reputation":871,"user_id":6180077,"display_name":"Abdullah Farweez"},"down_vote_count":8,"up_vote_count":22,"is_accepted":false,"score":14,"last_activity_date":1565721423,"creation_date":1496226151,"answer_id":44282151,"question_id":11523797,"body_markdown":"It is possible to move the moov atom to the begining of the video file using FFMpeg.\r\n\r\n    ffmpeg -i input_video_file.mp4 -vcodec copy -acodec copy -movflags faststart output_video_file.mp4","title":"How to add a MOOV atom in a mp4 video file","body":"<p>It is possible to move the moov atom to the begining of the video file using FFMpeg.</p>\n\n<pre><code>ffmpeg -i input_video_file.mp4 -vcodec copy -acodec copy -movflags faststart output_video_file.mp4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121386,"reputation":1314,"user_id":314437,"accept_rate":100,"display_name":"k3a"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1582753453,"creation_date":1582753453,"answer_id":60423050,"question_id":11523797,"body_markdown":"There is a tool [untrunc][1] which claims to repair unfinished (truncated) mp4, m4v, mov, 3gp video. I haven&#39;t tested it myself but it may be worth a try.\r\n\r\n\r\n  [1]: https://github.com/ponchio/untrunc","title":"How to add a MOOV atom in a mp4 video file","body":"<p>There is a tool <a href=\"https://github.com/ponchio/untrunc\" rel=\"noreferrer\">untrunc</a> which claims to repair unfinished (truncated) mp4, m4v, mov, 3gp video. I haven't tested it myself but it may be worth a try.</p>\n"},{"tags":[],"owner":{"account_id":1249838,"reputation":1612,"user_id":1210463,"accept_rate":0,"display_name":"Cristian Sepulveda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617684906,"creation_date":1601041286,"answer_id":64065331,"question_id":11523797,"body_markdown":"the mp4 format needs the moov atom information to play the video, and to generate the moov atom the video must be finished, you can&#39;t play a mp4 file while it is recording because you still don&#39;t have all the information to create the moov atom part.\r\n\r\nWhat you want to do is some kind of real-time-streaming (play while is recroding) so you need to use another format. HLS streaming and mpeg-dash stores the video in tiny chunks (2 seconds to 10 seconds) and send to the users, this way the users plays many finished files one after the other.\r\n\r\nas @Sebastian Annies   suggested, to create many tiny mp4 files and concatenate is the same approach: to have tiny finished files and play as a list, here you could get more information [https://stackoverflow.com/questions/35177797/what-exactly-is-fragmented-mp4fmp4-how-is-it-different-from-normal-mp4][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35177797/what-exactly-is-fragmented-mp4fmp4-how-is-it-different-from-normal-mp4","title":"How to add a MOOV atom in a mp4 video file","body":"<p>the mp4 format needs the moov atom information to play the video, and to generate the moov atom the video must be finished, you can't play a mp4 file while it is recording because you still don't have all the information to create the moov atom part.</p>\n<p>What you want to do is some kind of real-time-streaming (play while is recroding) so you need to use another format. HLS streaming and mpeg-dash stores the video in tiny chunks (2 seconds to 10 seconds) and send to the users, this way the users plays many finished files one after the other.</p>\n<p>as @Sebastian Annies   suggested, to create many tiny mp4 files and concatenate is the same approach: to have tiny finished files and play as a list, here you could get more information <a href=\"https://stackoverflow.com/questions/35177797/what-exactly-is-fragmented-mp4fmp4-how-is-it-different-from-normal-mp4\">What exactly is Fragmented mp4(fMP4)? How is it different from normal mp4?</a></p>\n"}],"owner":{"account_id":1342098,"reputation":539,"user_id":1283589,"display_name":"Ravinder "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134210,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"closed_date":1648179872,"answer_count":7,"score":53,"last_activity_date":1648179767,"creation_date":1342532562,"question_id":11523797,"body_markdown":"I am working on live device to server streaming in android. I am able to send data in bytes on server but when I play that file during recording on server **VLC** say that **MOOV** atom not found. After a lot of workaround I found that **MOOV** atom of a mp4 file generates in the end. But I have to play that file on server while recording means live. I go through the source code of **SPYDROID** and **SIPDROID** but non of them is working. I tried to add `moov` atom on serverside using **FFMPEG** but didn&#39;t get any success. Anyone has an idea on how can I achieve this?\r\n","title":"How to add a MOOV atom in a mp4 video file","body":"<p>I am working on live device to server streaming in android. I am able to send data in bytes on server but when I play that file during recording on server <strong>VLC</strong> say that <strong>MOOV</strong> atom not found. After a lot of workaround I found that <strong>MOOV</strong> atom of a mp4 file generates in the end. But I have to play that file on server while recording means live. I go through the source code of <strong>SPYDROID</strong> and <strong>SIPDROID</strong> but non of them is working. I tried to add <code>moov</code> atom on serverside using <strong>FFMPEG</strong> but didn't get any success. Anyone has an idea on how can I achieve this?</p>\n"},{"tags":["java","csv","java-8","opencsv"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1626458111,"post_id":68413018,"comment_id":120907551,"body_markdown":"That isn&#39;t legal &quot;standard CSV&quot; format, so you will need to find a parser for it, or write your own.  If you know the embedded JSON is always (and only) in the third field, a simple string splitter that can find the leading `,{` and trailing `},` followed by a number should work.  Then remove the JSON and parse the rest with OpenCSV.","body":"That isn&#39;t legal &quot;standard CSV&quot; format, so you will need to find a parser for it, or write your own.  If you know the embedded JSON is always (and only) in the third field, a simple string splitter that can find the leading <code>,{</code> and trailing <code>},</code> followed by a number should work.  Then remove the JSON and parse the rest with OpenCSV."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1648179174,"post_id":68413018,"comment_id":126564525,"body_markdown":"But a better solution is to fix whatever generated that input to generate **valid** CSV; e.g. using OpenCSV rather some [crufty](https://en.wiktionary.org/wiki/crufty) hand written code or script.","body":"But a better solution is to fix whatever generated that input to generate <b>valid</b> CSV; e.g. using OpenCSV rather some <a href=\"https://en.wiktionary.org/wiki/crufty\" rel=\"nofollow noreferrer\">crufty</a> hand written code or script."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626460942,"creation_date":1626460942,"answer_id":68413908,"question_id":68413018,"body_markdown":"If you want to parse input strings as the ones you supplied as examples then you **could** use methods similar to the ones below:\r\n\r\n    /**\r\n     * By default this method with split a String based on the supplied delimiter \r\n     * ignoring that delimiter within parentheses. If you want to ignore splitting \r\n     * within other bracket types then supply those bracket types within the optional \r\n     * &lt;b&gt;bracketTypes&lt;/b&gt; parameter.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * Works against the following bracket types:&lt;pre&gt;\r\n     * \r\n     *     {@code ( ), { }, [ ], &lt; &gt; }&lt;/pre&gt;\r\n     * \r\n     * @param inputString (String) The string to split.&lt;br&gt;\r\n     * \r\n     * @param delimiter (String) The delimiter to split the String by.&lt;br&gt;\r\n     * \r\n     * @param bracketTypes (String) Each bracket type supplied must be the open bracket \r\n     * and close bracket [ie: &quot;{}&quot;  or &quot;{}&quot;, &quot;()&quot; ].&lt;br&gt;\r\n     * \r\n     * @return (String[] Array)\r\n     */\r\n    public static String[] splitExceptInBrackets(String inputString, String delimiter,\r\n                                                 String... bracketTypes) {\r\n        // *** This method will not take care of Nested Brackets!\r\n        // Based on the following RegEx:  &quot;,(?![^\\[\\(]*[$\\]\\)])&quot; which\r\n        // is modified and built depending upon which bracket or bracket \r\n        // types are supplied.\r\n\r\n        String[] exceptions = {&quot;()&quot;};\r\n        if (bracketTypes.length &gt; 0) {\r\n            \r\n            exceptions = Arrays.copyOf(bracketTypes, bracketTypes.length);\r\n        }\r\n\r\n        // Create the regex for split() method\r\n        String splitExpression = delimiter + &quot;(?![^&quot;;\r\n        String sStrg = &quot;&quot;, eStrg = &quot;&quot;;\r\n        for (int i = 0; i &lt; exceptions.length; i++) {\r\n            String ob = exceptions[i].trim().substring(0, 1);\r\n            sStrg += &quot;\\\\&quot; + ob;\r\n            // Make sure this particular Bracket Type is properly paired.\r\n            if (!areBracketsBalanced(inputString, ob)) {\r\n                throw new IllegalArgumentException(&quot;\\nsplitExceptInBrackets() Method Error!\\n&quot;\r\n                        + &quot;A broken pair of &quot; + exceptions[i] + &quot; brackets detected in String!\\n&quot;);\r\n            }\r\n            eStrg += &quot;\\\\&quot; + exceptions[i].trim().substring(1, 2);\r\n        }\r\n        splitExpression += sStrg + &quot;]*[$&quot; + eStrg + &quot;])&quot;;\r\n        return inputString.split(splitExpression);\r\n    }\r\n\r\nThe following method is used by the **splitExceptInBrackets()** method so to ensure brackets within the supplied input string are properly balanced.\r\n\r\n    /**\r\n     * This method will return either true of false if the supplied bracket type\r\n     * is balanced (contains a Open Bracket and a related Close Bracket). If no\r\n     * optional Bracket Type is supplied then the default Parentheses is\r\n     * assumed.&lt;br&gt;&lt;br&gt;\r\n     * &lt;p&gt;\r\n     * There can be any number of the same brackets within the supplied input\r\n     * string.&lt;br&gt;\r\n     *\r\n     * @param inputString (String) The string to process.&lt;br&gt;\r\n     *\r\n     * @param bracketType (Optional - String - Default is Parentheses ()) Only\r\n     *                    one of four bracket types can be supplied to this\r\n     *                    parameter and you are only required to supply one half\r\n     *                    of the set, either the Open Bracket or the Close\r\n     *                    Bracket. There is no requirement to supply both. The\r\n     *                    four different types of brackets that can be supplied are:&lt;pre&gt;\r\n     *\r\n     *      ()  Parentheses or Round Brackets\r\n     *      []  Square or Box Brackets\r\n     *      {}  Braces or Curly Brackets\r\n     *     {@code &lt;&gt;}  Angle or Chevron Brackets&lt;/pre&gt;\r\n     *\r\n     * @return (Boolean) This method will return either true of false if the\r\n     *         supplied bracket type is balanced.\r\n     */\r\n    public static boolean areBracketsBalanced(String inputString, String... bracketType) {\r\n        boolean matched = false;\r\n        String openBracket = &quot;(&quot;;\r\n        String closeBracket = &quot;)&quot;;\r\n        String bType = openBracket;\r\n        if (bracketType.length &gt; 0) {\r\n            bType = bracketType[0].substring(0, 1);\r\n        }\r\n\r\n        switch (bType) {\r\n            case &quot;(&quot;:\r\n            case &quot;)&quot;:\r\n                openBracket = &quot;(&quot;;\r\n                closeBracket = &quot;)&quot;;\r\n                break;\r\n            case &quot;[&quot;:\r\n            case &quot;]&quot;:\r\n                openBracket = &quot;[&quot;;\r\n                closeBracket = &quot;]&quot;;\r\n                break;\r\n            case &quot;{&quot;:\r\n            case &quot;}&quot;:\r\n                openBracket = &quot;{&quot;;\r\n                closeBracket = &quot;}&quot;;\r\n                break;\r\n            case &quot;&lt;&quot;:\r\n            case &quot;&gt;&quot;:\r\n                openBracket = &quot;&lt;&quot;;\r\n                closeBracket = &quot;&gt;&quot;;\r\n                break;\r\n            default:\r\n        }\r\n\r\n        // See if there are equal pairs of brackets\r\n        // within the supplied input string...\r\n        int oBrackets = 0;\r\n        int cBrackets = 0;\r\n        if (openBracket.equals(&quot;[&quot;)) {\r\n            oBrackets = inputString.replaceAll(&quot;[^\\\\&quot; + openBracket + &quot;]&quot;, &quot;&quot;).length();\r\n            cBrackets = inputString.replaceAll(&quot;[^\\\\&quot; + closeBracket + &quot;]&quot;, &quot;&quot;).length();\r\n        }\r\n        else {\r\n            oBrackets = inputString.replaceAll(&quot;[^&quot; + openBracket + &quot;]&quot;, &quot;&quot;).length();\r\n            cBrackets = inputString.replaceAll(&quot;[^&quot; + closeBracket + &quot;]&quot;, &quot;&quot;).length();\r\n        }\r\n        if (oBrackets == cBrackets) {\r\n            matched = true;\r\n        }\r\n        return matched;\r\n    }\r\n\r\nBoth methods make use of [Regular Expressions](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html) (RegEx). You can use [RegEx101](https://regex101.com/) to see what these expressions do.\r\n\r\nHow you might use the **splitExceptInBrackets()** method:\r\n\r\n    String fileLine = &quot;P7-3001,JOHN,{\\&quot;head_dep\\&quot;:\\&quot;[{\\&quot;dep\\&quot;:\\&quot;CS\\&quot;,\\&quot;update_time\\&quot;:\\&quot;2021-06-17T07:29:40.800Z\\&quot;}]\\&quot;,\\&quot;LN\\&quot;:false},009988&quot;;\r\n    String[] lineParts = splitExceptInBrackets(fileLine, &quot;,&quot;, &quot;{}&quot;);\r\n    for (String parts : lineParts) {\r\n        System.out.println(parts);\r\n    }\r\n\r\nThe output to console window would be:\r\n\r\n    P7-3001\r\n    JOHN\r\n    {&quot;head_dep&quot;:&quot;[{&quot;dep&quot;:&quot;CS&quot;,&quot;update_time&quot;:&quot;2021-06-17T07:29:40.800Z&quot;}]&quot;,&quot;LN&quot;:false}\r\n    009988","title":"How can we ignore the comma&#39;s inside barces while converting csv into bean or string array in java","body":"<p>If you want to parse input strings as the ones you supplied as examples then you <strong>could</strong> use methods similar to the ones below:</p>\n<pre><code>/**\n * By default this method with split a String based on the supplied delimiter \n * ignoring that delimiter within parentheses. If you want to ignore splitting \n * within other bracket types then supply those bracket types within the optional \n * &lt;b&gt;bracketTypes&lt;/b&gt; parameter.&lt;br&gt;&lt;br&gt;\n * \n * Works against the following bracket types:&lt;pre&gt;\n * \n *     {@code ( ), { }, [ ], &lt; &gt; }&lt;/pre&gt;\n * \n * @param inputString (String) The string to split.&lt;br&gt;\n * \n * @param delimiter (String) The delimiter to split the String by.&lt;br&gt;\n * \n * @param bracketTypes (String) Each bracket type supplied must be the open bracket \n * and close bracket [ie: &quot;{}&quot;  or &quot;{}&quot;, &quot;()&quot; ].&lt;br&gt;\n * \n * @return (String[] Array)\n */\npublic static String[] splitExceptInBrackets(String inputString, String delimiter,\n                                             String... bracketTypes) {\n    // *** This method will not take care of Nested Brackets!\n    // Based on the following RegEx:  &quot;,(?![^\\[\\(]*[$\\]\\)])&quot; which\n    // is modified and built depending upon which bracket or bracket \n    // types are supplied.\n\n    String[] exceptions = {&quot;()&quot;};\n    if (bracketTypes.length &gt; 0) {\n        \n        exceptions = Arrays.copyOf(bracketTypes, bracketTypes.length);\n    }\n\n    // Create the regex for split() method\n    String splitExpression = delimiter + &quot;(?![^&quot;;\n    String sStrg = &quot;&quot;, eStrg = &quot;&quot;;\n    for (int i = 0; i &lt; exceptions.length; i++) {\n        String ob = exceptions[i].trim().substring(0, 1);\n        sStrg += &quot;\\\\&quot; + ob;\n        // Make sure this particular Bracket Type is properly paired.\n        if (!areBracketsBalanced(inputString, ob)) {\n            throw new IllegalArgumentException(&quot;\\nsplitExceptInBrackets() Method Error!\\n&quot;\n                    + &quot;A broken pair of &quot; + exceptions[i] + &quot; brackets detected in String!\\n&quot;);\n        }\n        eStrg += &quot;\\\\&quot; + exceptions[i].trim().substring(1, 2);\n    }\n    splitExpression += sStrg + &quot;]*[$&quot; + eStrg + &quot;])&quot;;\n    return inputString.split(splitExpression);\n}\n</code></pre>\n<p>The following method is used by the <strong>splitExceptInBrackets()</strong> method so to ensure brackets within the supplied input string are properly balanced.</p>\n<pre><code>/**\n * This method will return either true of false if the supplied bracket type\n * is balanced (contains a Open Bracket and a related Close Bracket). If no\n * optional Bracket Type is supplied then the default Parentheses is\n * assumed.&lt;br&gt;&lt;br&gt;\n * &lt;p&gt;\n * There can be any number of the same brackets within the supplied input\n * string.&lt;br&gt;\n *\n * @param inputString (String) The string to process.&lt;br&gt;\n *\n * @param bracketType (Optional - String - Default is Parentheses ()) Only\n *                    one of four bracket types can be supplied to this\n *                    parameter and you are only required to supply one half\n *                    of the set, either the Open Bracket or the Close\n *                    Bracket. There is no requirement to supply both. The\n *                    four different types of brackets that can be supplied are:&lt;pre&gt;\n *\n *      ()  Parentheses or Round Brackets\n *      []  Square or Box Brackets\n *      {}  Braces or Curly Brackets\n *     {@code &lt;&gt;}  Angle or Chevron Brackets&lt;/pre&gt;\n *\n * @return (Boolean) This method will return either true of false if the\n *         supplied bracket type is balanced.\n */\npublic static boolean areBracketsBalanced(String inputString, String... bracketType) {\n    boolean matched = false;\n    String openBracket = &quot;(&quot;;\n    String closeBracket = &quot;)&quot;;\n    String bType = openBracket;\n    if (bracketType.length &gt; 0) {\n        bType = bracketType[0].substring(0, 1);\n    }\n\n    switch (bType) {\n        case &quot;(&quot;:\n        case &quot;)&quot;:\n            openBracket = &quot;(&quot;;\n            closeBracket = &quot;)&quot;;\n            break;\n        case &quot;[&quot;:\n        case &quot;]&quot;:\n            openBracket = &quot;[&quot;;\n            closeBracket = &quot;]&quot;;\n            break;\n        case &quot;{&quot;:\n        case &quot;}&quot;:\n            openBracket = &quot;{&quot;;\n            closeBracket = &quot;}&quot;;\n            break;\n        case &quot;&lt;&quot;:\n        case &quot;&gt;&quot;:\n            openBracket = &quot;&lt;&quot;;\n            closeBracket = &quot;&gt;&quot;;\n            break;\n        default:\n    }\n\n    // See if there are equal pairs of brackets\n    // within the supplied input string...\n    int oBrackets = 0;\n    int cBrackets = 0;\n    if (openBracket.equals(&quot;[&quot;)) {\n        oBrackets = inputString.replaceAll(&quot;[^\\\\&quot; + openBracket + &quot;]&quot;, &quot;&quot;).length();\n        cBrackets = inputString.replaceAll(&quot;[^\\\\&quot; + closeBracket + &quot;]&quot;, &quot;&quot;).length();\n    }\n    else {\n        oBrackets = inputString.replaceAll(&quot;[^&quot; + openBracket + &quot;]&quot;, &quot;&quot;).length();\n        cBrackets = inputString.replaceAll(&quot;[^&quot; + closeBracket + &quot;]&quot;, &quot;&quot;).length();\n    }\n    if (oBrackets == cBrackets) {\n        matched = true;\n    }\n    return matched;\n}\n</code></pre>\n<p>Both methods make use of <a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">Regular Expressions</a> (RegEx). You can use <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">RegEx101</a> to see what these expressions do.</p>\n<p>How you might use the <strong>splitExceptInBrackets()</strong> method:</p>\n<pre><code>String fileLine = &quot;P7-3001,JOHN,{\\&quot;head_dep\\&quot;:\\&quot;[{\\&quot;dep\\&quot;:\\&quot;CS\\&quot;,\\&quot;update_time\\&quot;:\\&quot;2021-06-17T07:29:40.800Z\\&quot;}]\\&quot;,\\&quot;LN\\&quot;:false},009988&quot;;\nString[] lineParts = splitExceptInBrackets(fileLine, &quot;,&quot;, &quot;{}&quot;);\nfor (String parts : lineParts) {\n    System.out.println(parts);\n}\n</code></pre>\n<p>The output to console window would be:</p>\n<pre><code>P7-3001\nJOHN\n{&quot;head_dep&quot;:&quot;[{&quot;dep&quot;:&quot;CS&quot;,&quot;update_time&quot;:&quot;2021-06-17T07:29:40.800Z&quot;}]&quot;,&quot;LN&quot;:false}\n009988\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24654390,"reputation":1,"user_id":18551203,"display_name":"JinJune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648178788,"creation_date":1648178788,"answer_id":71611845,"question_id":68413018,"body_markdown":"Let me describe your need again. You want to parse each JSON string containing commas in a non-standard-format CSV file into a whole string. It is rather long to do the parsing in Java.\r\n\r\nIt is simple to get the job done in SPL, the open-source Java package. Only one line of code is enough:\r\n\r\n|+|1|\r\n|:-|:-|\r\n| |=file(&quot;json.csv&quot;).import@cpt(ID,NAME,DEP_DETAILS:string,REG_NO)|\r\n\r\nSPL offers JDBC driver to be invoked by Java. Just store the above SPL script as parseCsv.splx and invoke it in Java as you call a stored procedure:\r\n\r\n    …    \r\n    Class.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);   \r\n    con= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);    \r\n    st=con.prepareCall(&quot;call parseCsv ()&quot;);    \r\n    st.execute();    \r\n    …\r\n\r\nOr execute the SPL string within a Java program in the way of executing a SQL statement:\r\n\r\n    …    \r\n    st = con.prepareStatement(&quot;==file(\\&quot;json.csv\\&quot;).import@cpt(ID,NAME,\r\n         DEP_DETAILS:string,REG_NO)&quot;);\r\n    st.execute();    \r\n    …\r\n\r\n","title":"How can we ignore the comma&#39;s inside barces while converting csv into bean or string array in java","body":"<p>Let me describe your need again. You want to parse each JSON string containing commas in a non-standard-format CSV file into a whole string. It is rather long to do the parsing in Java.</p>\n<p>It is simple to get the job done in SPL, the open-source Java package. Only one line of code is enough:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">+</th>\n<th style=\"text-align: left;\">1</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">=file(&quot;json.csv&quot;).import@cpt(ID,NAME,DEP_DETAILS:string,REG_NO)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>SPL offers JDBC driver to be invoked by Java. Just store the above SPL script as parseCsv.splx and invoke it in Java as you call a stored procedure:</p>\n<pre><code>…    \nClass.forName(&quot;com.esproc.jdbc.InternalDriver&quot;);   \ncon= DriverManager.getConnection(&quot;jdbc:esproc:local://&quot;);    \nst=con.prepareCall(&quot;call parseCsv ()&quot;);    \nst.execute();    \n…\n</code></pre>\n<p>Or execute the SPL string within a Java program in the way of executing a SQL statement:</p>\n<pre><code>…    \nst = con.prepareStatement(&quot;==file(\\&quot;json.csv\\&quot;).import@cpt(ID,NAME,\n     DEP_DETAILS:string,REG_NO)&quot;);\nst.execute();    \n…\n</code></pre>\n"}],"owner":{"account_id":9000224,"reputation":73,"user_id":6709124,"display_name":"Sooriya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648178788,"creation_date":1626456184,"question_id":68413018,"body_markdown":"Below is the sample CSV file, Im trying to convert to java bean/string[],\r\n\r\n    ID,NAME,DEP_DETAILS,REG_NO\r\n    P7-3001,JOHN,{&quot;head_dep&quot;:&quot;[{\\&quot;dep\\&quot;:\\&quot;CS\\&quot;,\\&quot;update_time\\&quot;:\\&quot;2021-06-17T07:29:40.800Z\\&quot;}]&quot;,&quot;LN&quot;:false},009988\r\n    RT-9008,RIK,{&quot;head_dep&quot;:&quot;OPEN&quot;,&quot;dep_type&quot;:&quot;S7&quot;},889912\r\n\r\nIn the sample data, I want to read DEP_DETAILS in whole by ignoring comma&#39;s inside braces,\r\n  \r\n DEP_DETAILS is {&quot;head_dep&quot;:&quot;[{\\&quot;dep\\&quot;:\\&quot;CS\\&quot;,\\&quot;update_time\\&quot;:\\&quot;2021-06-17T07:29:40.800Z\\&quot;}]&quot;,&quot;LN&quot;:false} in 1st row and {&quot;head_dep&quot;:&quot;OPEN&quot;,&quot;dep_type&quot;:&quot;S7&quot;} in 2nd row \r\n\r\nso for example expected output of the 1st row will be,\r\n\r\n    - [0] = P7-3001,JOHN\r\n    - [1] = JOHN\r\n    - [2] = {&quot;head_dep&quot;:&quot;[{\\&quot;dep\\&quot;:\\&quot;CS\\&quot;,\\&quot;update_time\\&quot;:\\&quot;2021-06-17T07:29:40.800Z\\&quot;}]&quot;,&quot;LN&quot;:false}\r\n    - [3] = 889912\r\n\r\n\r\nhow can I ignore the comma&#39;s inside the brace and take whole as string.\r\n\r\nIs there any possibilities using openCsv or any?\r\n","title":"How can we ignore the comma&#39;s inside barces while converting csv into bean or string array in java","body":"<p>Below is the sample CSV file, Im trying to convert to java bean/string[],</p>\n<pre><code>ID,NAME,DEP_DETAILS,REG_NO\nP7-3001,JOHN,{&quot;head_dep&quot;:&quot;[{\\&quot;dep\\&quot;:\\&quot;CS\\&quot;,\\&quot;update_time\\&quot;:\\&quot;2021-06-17T07:29:40.800Z\\&quot;}]&quot;,&quot;LN&quot;:false},009988\nRT-9008,RIK,{&quot;head_dep&quot;:&quot;OPEN&quot;,&quot;dep_type&quot;:&quot;S7&quot;},889912\n</code></pre>\n<p>In the sample data, I want to read DEP_DETAILS in whole by ignoring comma's inside braces,</p>\n<p>DEP_DETAILS is {&quot;head_dep&quot;:&quot;[{&quot;dep&quot;:&quot;CS&quot;,&quot;update_time&quot;:&quot;2021-06-17T07:29:40.800Z&quot;}]&quot;,&quot;LN&quot;:false} in 1st row and {&quot;head_dep&quot;:&quot;OPEN&quot;,&quot;dep_type&quot;:&quot;S7&quot;} in 2nd row</p>\n<p>so for example expected output of the 1st row will be,</p>\n<pre><code>- [0] = P7-3001,JOHN\n- [1] = JOHN\n- [2] = {&quot;head_dep&quot;:&quot;[{\\&quot;dep\\&quot;:\\&quot;CS\\&quot;,\\&quot;update_time\\&quot;:\\&quot;2021-06-17T07:29:40.800Z\\&quot;}]&quot;,&quot;LN&quot;:false}\n- [3] = 889912\n</code></pre>\n<p>how can I ignore the comma's inside the brace and take whole as string.</p>\n<p>Is there any possibilities using openCsv or any?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8505,"page":1487,"page_size":100}
