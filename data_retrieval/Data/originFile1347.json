{"items":[{"tags":["java","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":9726758,"reputation":357,"user_id":7213421,"display_name":"ByteBat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652622715,"creation_date":1652622715,"answer_id":72248885,"question_id":72239598,"body_markdown":"Your problem seems to be that have in your Base class the option READ_ONLY (only for serialization), when it should be WRITE_ONLY if only want to take this property into account in the deserialization.\r\n\r\n&gt; READ_ONLY: Access setting that means that the property may only be read\r\n&gt; for serialization, but not written (set) during deserialization.\r\n&gt; \r\n&gt; WRITE_ONLY: Access setting that means that the property may only be\r\n&gt; written (set) for deserialization, but will not be read (get) on\r\n&gt; serialization, that is, the value of the property is not included in\r\n&gt; serialization.\r\n\r\n    \r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import lombok.Data;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @RestController\r\n    public class API {\r\n    \t\r\n    \t@Data\r\n    \tpublic static class Organization {\r\n    \t    private String name;\r\n    \t}\r\n    \r\n    \t@Data\r\n    \tpublic static class Base {\r\n            @JsonProperty(access = Access.WRITE_ONLY)\r\n    \t    private Organization org;\r\n    \t}\r\n    \t\r\n    \t@Getter @Setter\r\n    \tpublic static class Car extends Base {\r\n    \t\tprivate String prop1;\r\n    \t};\r\n    \t\r\n    \t@Getter @Setter\r\n    \tpublic static class FlattenCar extends Car { \r\n    \t\tprivate String prop2;\r\n    \t};\r\n    \t\r\n    \t@PostMapping(&quot;/car&quot;)\r\n    \tpublic Car deserializeCar(@RequestBody Car car) {\r\n    \t\tSystem.out.println(&quot;Car: &quot; + car);\r\n    \t\treturn car;\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/flatten_car&quot;)\r\n    \tpublic FlattenCar deserializeFlattenCar(@RequestBody FlattenCar flattenCar) {\r\n    \t\tSystem.out.println(&quot;Flatten: &quot; + flattenCar);\r\n    \t\treturn flattenCar;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nOuput:\r\n\r\n    Flatten: API.Base(org=API.Organization(name=Org. Test))\r\n    Car: API.Base(org=API.Organization(name=Org. Test))\r\n\r\nRemember that Car/CarFlatten class&#39;s to_string method has been inherit of Base class in this example.","title":"Deserialize parent/child classes with different config with Jackson","body":"<p>Your problem seems to be that have in your Base class the option READ_ONLY (only for serialization), when it should be WRITE_ONLY if only want to take this property into account in the deserialization.</p>\n<blockquote>\n<p>READ_ONLY: Access setting that means that the property may only be read\nfor serialization, but not written (set) during deserialization.</p>\n<p>WRITE_ONLY: Access setting that means that the property may only be\nwritten (set) for deserialization, but will not be read (get) on\nserialization, that is, the value of the property is not included in\nserialization.</p>\n</blockquote>\n<pre><code>import org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@RestController\npublic class API {\n    \n    @Data\n    public static class Organization {\n        private String name;\n    }\n\n    @Data\n    public static class Base {\n        @JsonProperty(access = Access.WRITE_ONLY)\n        private Organization org;\n    }\n    \n    @Getter @Setter\n    public static class Car extends Base {\n        private String prop1;\n    };\n    \n    @Getter @Setter\n    public static class FlattenCar extends Car { \n        private String prop2;\n    };\n    \n    @PostMapping(&quot;/car&quot;)\n    public Car deserializeCar(@RequestBody Car car) {\n        System.out.println(&quot;Car: &quot; + car);\n        return car;\n    }\n    \n    @PostMapping(&quot;/flatten_car&quot;)\n    public FlattenCar deserializeFlattenCar(@RequestBody FlattenCar flattenCar) {\n        System.out.println(&quot;Flatten: &quot; + flattenCar);\n        return flattenCar;\n    }\n    \n}\n</code></pre>\n<p>Ouput:</p>\n<pre><code>Flatten: API.Base(org=API.Organization(name=Org. Test))\nCar: API.Base(org=API.Organization(name=Org. Test))\n</code></pre>\n<p>Remember that Car/CarFlatten class's to_string method has been inherit of Base class in this example.</p>\n"}],"owner":{"account_id":193230,"reputation":1874,"user_id":1581075,"display_name":"vahid kh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652622715,"creation_date":1652526250,"question_id":72239598,"body_markdown":"I&#39;m working on a Restful application with Spring Boot and I&#39;ve defined my classes as below:\r\n```\r\nclass Organization {\r\n    String name;\r\n}\r\n\r\nclass Base {\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    Organization org;\r\n}\r\n\r\nclass Car extends Base{\r\n  //other members\r\n}\r\n\r\nclass FlattenCar extends Car {\r\n    @JsonUnwrapped(prefix = &quot;org_&quot;)\r\n    Organization org;\r\n}\r\n```\r\nNow what happened is, deserializing the org object depends on the first time call. It means, if I deserialize Car at the first time, next calls on deserializing FlattenCar doesn&#39;t unwrap org and vice versa.\r\nI know that I hid org member, but it seems the first time deserializing is cached!\r\nWho knows where is the problem and how can I resolve it?","title":"Deserialize parent/child classes with different config with Jackson","body":"<p>I'm working on a Restful application with Spring Boot and I've defined my classes as below:</p>\n<pre><code>class Organization {\n    String name;\n}\n\nclass Base {\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    Organization org;\n}\n\nclass Car extends Base{\n  //other members\n}\n\nclass FlattenCar extends Car {\n    @JsonUnwrapped(prefix = &quot;org_&quot;)\n    Organization org;\n}\n</code></pre>\n<p>Now what happened is, deserializing the org object depends on the first time call. It means, if I deserialize Car at the first time, next calls on deserializing FlattenCar doesn't unwrap org and vice versa.\nI know that I hid org member, but it seems the first time deserializing is cached!\nWho knows where is the problem and how can I resolve it?</p>\n"},{"tags":["java","stringbuffer"],"comments":[{"owner":{"account_id":918082,"reputation":54574,"user_id":950427,"accept_rate":91,"display_name":"Jared Burrows"},"score":0,"creation_date":1424878348,"post_id":28722920,"comment_id":45732647,"body_markdown":"What is your question? I don&#39;t see a `StringBuffer`?","body":"What is your question? I don&#39;t see a <code>StringBuffer</code>?"},{"owner":{"account_id":4149669,"reputation":405,"user_id":3402502,"accept_rate":80,"display_name":"underwater ranged weapon"},"score":0,"creation_date":1424879111,"post_id":28722920,"comment_id":45733263,"body_markdown":"use recursion. Turing Machine","body":"use recursion. Turing Machine"},{"owner":{"account_id":5760258,"reputation":1,"user_id":4546917,"display_name":"ubaby123"},"score":0,"creation_date":1424908978,"post_id":28722920,"comment_id":45750179,"body_markdown":"@JaredBurrows I want to convert my code to where it uses a StringBuffer","body":"@JaredBurrows I want to convert my code to where it uses a StringBuffer"}],"answers":[{"tags":[],"owner":{"account_id":3177168,"reputation":33,"user_id":2684723,"display_name":"cynobody"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432217961,"creation_date":1432217638,"answer_id":30376368,"question_id":28722920,"body_markdown":"    public String plusOut(String str, String word) {\r\n          String result = &quot;&quot;;\r\n          int i = 0 ;\r\n    \r\n          while(i &lt; str.length() ) {\r\n             if (str.substring(i).startsWith(word)) {\r\n                result = result + word;\r\n                i = i + word.length();\r\n             } else {\r\n                result = result + &quot;+&quot; ;\r\n                i++;\r\n             }\r\n          }\r\n          \r\n          return result ;\r\n    }\r\n\r\n//StringBuilder\r\n\r\n    public String plusOut(String str, String word) {\r\n        StringBuilder strBuilder = new StringBuilder();\r\n        int i = 0 ;\r\n    \r\n          while(i &lt; str.length() ) {\r\n             if (str.substring(i).startsWith(word)) {\r\n                strBuilder.append(word);\r\n                i = i + word.length();\r\n             } else {\r\n                strBuilder.append(&quot;+&quot;);\r\n                i++;\r\n             }\r\n          }\r\n          \r\n          return strBuilder.toString();\r\n    \r\n    }","title":"Codingbat plusOut - StringBuffer Trouble","body":"<pre><code>public String plusOut(String str, String word) {\n      String result = \"\";\n      int i = 0 ;\n\n      while(i &lt; str.length() ) {\n         if (str.substring(i).startsWith(word)) {\n            result = result + word;\n            i = i + word.length();\n         } else {\n            result = result + \"+\" ;\n            i++;\n         }\n      }\n\n      return result ;\n}\n</code></pre>\n\n<p>//StringBuilder</p>\n\n<pre><code>public String plusOut(String str, String word) {\n    StringBuilder strBuilder = new StringBuilder();\n    int i = 0 ;\n\n      while(i &lt; str.length() ) {\n         if (str.substring(i).startsWith(word)) {\n            strBuilder.append(word);\n            i = i + word.length();\n         } else {\n            strBuilder.append(\"+\");\n            i++;\n         }\n      }\n\n      return strBuilder.toString();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9847595,"reputation":11,"user_id":7294604,"display_name":"LinuxHaxxor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482108153,"creation_date":1482108153,"answer_id":41214407,"question_id":28722920,"body_markdown":"Here&#39;s what I came up with:\r\n\r\n      public String plusOut(String str, String word) \r\n      {\r\n        //Create a blank string.\r\n        String out = &quot;&quot;;\r\n        //Create a counter to get the end amount.\r\n        int endAmt = 0;\r\n        //We can only manipulate from 0 to str.length() - word.length() in this for loop, because\r\n        //when searching for word in str, we can&#39;t go beyond the bounds.\r\n        for (int i = 0; i &lt; str.length() - word.length(); i++)\r\n        {\r\n          //If we find word in str,\r\n            if (str.substring(i, i + word.length()).equals(word))\r\n            {\r\n              //We append word and increment 2 times further.\r\n              out = out + str.substring(i, i + word.length());\r\n              //increment i by 2 (one here, and one at the  end)\r\n              i += word.length() - 1;\r\n              //We set the endAmt equal to the next iteration for future use when getting the rest\r\n              //of the amount later.\r\n              endAmt = i + 1;\r\n            }\r\n            //if it doesn&#39;t match, we change the character to a &#39;+&#39;\r\n            else\r\n            {\r\n              out = out.substring(0,i) + &#39;+&#39;;\r\n            }\r\n        }\r\n        //Now, we finish the string after the searching for word in str.\r\n        //If the last substring is word, we add word to the mix.\r\n        if (str.substring(str.length() - word.length()).equals(word))\r\n        {\r\n          out = out + word;\r\n        }\r\n        //If it&#39;s not, then we refactor the string to after then last instance of word\r\n        else\r\n        {\r\n          out = out.substring(0, endAmt);\r\n          //and then we add the remaining amount of +&#39;s\r\n          for (int i = 0; i &lt; str.length() - endAmt; i++)\r\n          {\r\n            out = out + &quot;+&quot;;\r\n          }\r\n        }\r\n        //finally, we return the string.\r\n        return out;\r\n      }","title":"Codingbat plusOut - StringBuffer Trouble","body":"<p>Here's what I came up with:</p>\n\n<pre><code>  public String plusOut(String str, String word) \n  {\n    //Create a blank string.\n    String out = \"\";\n    //Create a counter to get the end amount.\n    int endAmt = 0;\n    //We can only manipulate from 0 to str.length() - word.length() in this for loop, because\n    //when searching for word in str, we can't go beyond the bounds.\n    for (int i = 0; i &lt; str.length() - word.length(); i++)\n    {\n      //If we find word in str,\n        if (str.substring(i, i + word.length()).equals(word))\n        {\n          //We append word and increment 2 times further.\n          out = out + str.substring(i, i + word.length());\n          //increment i by 2 (one here, and one at the  end)\n          i += word.length() - 1;\n          //We set the endAmt equal to the next iteration for future use when getting the rest\n          //of the amount later.\n          endAmt = i + 1;\n        }\n        //if it doesn't match, we change the character to a '+'\n        else\n        {\n          out = out.substring(0,i) + '+';\n        }\n    }\n    //Now, we finish the string after the searching for word in str.\n    //If the last substring is word, we add word to the mix.\n    if (str.substring(str.length() - word.length()).equals(word))\n    {\n      out = out + word;\n    }\n    //If it's not, then we refactor the string to after then last instance of word\n    else\n    {\n      out = out.substring(0, endAmt);\n      //and then we add the remaining amount of +'s\n      for (int i = 0; i &lt; str.length() - endAmt; i++)\n      {\n        out = out + \"+\";\n      }\n    }\n    //finally, we return the string.\n    return out;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10382709,"reputation":71,"user_id":7656887,"display_name":"intvprep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489403261,"creation_date":1489403261,"answer_id":42762109,"question_id":28722920,"body_markdown":"Here&#39;s a very simplified and easy to understand code\r\n\r\n\tpublic static String plusOut(String str,String word){\r\n\t\tStringBuffer b = new StringBuffer();\r\n\t\tint indexOfWord = str.indexOf(word, 0);\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tif(i==indexOfWord){\r\n\t\t\t\tb.append(word);\r\n\t\t\t\ti=i+word.length()-1;//move index by word length \r\n                //get next index for the word\r\n\t\t\t\tindexOfWord = str.indexOf(word,indexOfWord+word.length());\r\n\t\t\t}else{\r\n\t\t\t\tb.append(&quot;+&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn b.toString();\r\n\t}","title":"Codingbat plusOut - StringBuffer Trouble","body":"<p>Here's a very simplified and easy to understand code</p>\n\n<pre><code>public static String plusOut(String str,String word){\n    StringBuffer b = new StringBuffer();\n    int indexOfWord = str.indexOf(word, 0);\n    for (int i = 0; i &lt; str.length(); i++) {\n        if(i==indexOfWord){\n            b.append(word);\n            i=i+word.length()-1;//move index by word length \n            //get next index for the word\n            indexOfWord = str.indexOf(word,indexOfWord+word.length());\n        }else{\n            b.append(\"+\");\n        }\n    }\n    return b.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18280156,"reputation":1,"user_id":13309121,"display_name":"user13309121"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586852123,"creation_date":1586852123,"answer_id":61203353,"question_id":28722920,"body_markdown":"    public String plusOut(String str, String word) {\r\n      String temp = str.replace(word, &quot;+&quot;);\r\n      String newStr = &quot;&quot;;\r\n  \r\n      for (int i=0; i&lt;temp.length(); i++)\r\n      {\r\n        if (temp.charAt(i) == &#39;+&#39;)\r\n        {\r\n          newStr += word;\r\n        }\r\n        else\r\n        {\r\n          newStr += &quot;+&quot;;\r\n        }\r\n      }\r\n  \r\n      return newStr;\r\n    }","title":"Codingbat plusOut - StringBuffer Trouble","body":"<pre><code>public String plusOut(String str, String word) {\n  String temp = str.replace(word, \"+\");\n  String newStr = \"\";\n\n  for (int i=0; i&lt;temp.length(); i++)\n  {\n    if (temp.charAt(i) == '+')\n    {\n      newStr += word;\n    }\n    else\n    {\n      newStr += \"+\";\n    }\n  }\n\n  return newStr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18977058,"reputation":1,"user_id":13849297,"display_name":"Elzara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593631582,"creation_date":1593631214,"answer_id":62683979,"question_id":28722920,"body_markdown":"    public String plusOut(String str, String word) {\r\n      \r\n      String result = &quot;&quot;;\r\n      \r\n      for (int i = 0; i &lt; str.length(); i++){\r\n        if (str.substring(i).length() &gt;= word.length() \r\n        &amp;&amp; str.substring(i, i + word.length()).equals(word)) {\r\n          \r\n        result += word;\r\n        i += word.length() - 1;\r\n        }\r\n        else if (str.length() &lt; word.length() \r\n        || str.substring(i).length() &lt; word.length())\r\n          result += &#39;+&#39;;\r\n        else\r\n        result += &#39;+&#39;;\r\n      }\r\n      \r\n    return result;\r\n    }","title":"Codingbat plusOut - StringBuffer Trouble","body":"<pre><code>public String plusOut(String str, String word) {\n  \n  String result = &quot;&quot;;\n  \n  for (int i = 0; i &lt; str.length(); i++){\n    if (str.substring(i).length() &gt;= word.length() \n    &amp;&amp; str.substring(i, i + word.length()).equals(word)) {\n      \n    result += word;\n    i += word.length() - 1;\n    }\n    else if (str.length() &lt; word.length() \n    || str.substring(i).length() &lt; word.length())\n      result += '+';\n    else\n    result += '+';\n  }\n  \nreturn result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19083817,"reputation":1,"user_id":13935501,"display_name":"justNate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594815362,"creation_date":1594815362,"answer_id":62914642,"question_id":28722920,"body_markdown":"    public String plusOut(String str, String word) {\r\n      String newStr = &quot;&quot;;\r\n      int sLength = str.length();\r\n      int wLength = word.length();\r\n      \r\n      for (int i = 0; i &lt; sLength; i++){\r\n        if (i &lt;= (sLength-wLength) &amp;&amp; str.substring(i, i+wLength).equals(word)){\r\n          newStr += word;\r\n          i += (wLength-1);\r\n          continue;\r\n        }\r\n        newStr += &quot;+&quot;;\r\n      }\r\n      return newStr;\r\n    }","title":"Codingbat plusOut - StringBuffer Trouble","body":"<pre><code>public String plusOut(String str, String word) {\n  String newStr = &quot;&quot;;\n  int sLength = str.length();\n  int wLength = word.length();\n  \n  for (int i = 0; i &lt; sLength; i++){\n    if (i &lt;= (sLength-wLength) &amp;&amp; str.substring(i, i+wLength).equals(word)){\n      newStr += word;\n      i += (wLength-1);\n      continue;\n    }\n    newStr += &quot;+&quot;;\n  }\n  return newStr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652622109,"creation_date":1652620896,"answer_id":72248646,"question_id":28722920,"body_markdown":"Solution with regular expression:\r\n\r\n    public String plusOut(String str, String word) {\r\n      String regex = &quot;(?&lt;!(?=word).{0,M}).&quot;;\r\n      \r\n      return str.replaceAll(\r\n                  regex\r\n                  .replace(&quot;word&quot;, java.util.regex.Pattern.quote(word))\r\n                  .replace(&quot;M&quot;, String.valueOf(word.length() - 1)), &quot;+&quot;);\r\n    }\r\n\r\nExplanation:\r\n**Negative Lookbehind** (?&lt;!(?=word).{0,M})  - Assert that the Regex below does not match\r\n\r\n**Positive Lookahead** (?=word) - Assert that the Regex below matches\r\n\r\nWord matches the characters word literally (case sensitive)\r\n\r\n**.** matches any character (except for line terminators)\r\n\r\n**{0,M}** matches the characters {0,M} literally (case sensitive)\r\n\r\n**.** matches any character (except for line terminators)\r\n\r\n[![All the tests on Codingbat are passed:][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uwnVw.png","title":"Codingbat plusOut - StringBuffer Trouble","body":"<p>Solution with regular expression:</p>\n<pre><code>public String plusOut(String str, String word) {\n  String regex = &quot;(?&lt;!(?=word).{0,M}).&quot;;\n  \n  return str.replaceAll(\n              regex\n              .replace(&quot;word&quot;, java.util.regex.Pattern.quote(word))\n              .replace(&quot;M&quot;, String.valueOf(word.length() - 1)), &quot;+&quot;);\n}\n</code></pre>\n<p>Explanation:\n<strong>Negative Lookbehind</strong> (?&lt;!(?=word).{0,M})  - Assert that the Regex below does not match</p>\n<p><strong>Positive Lookahead</strong> (?=word) - Assert that the Regex below matches</p>\n<p>Word matches the characters word literally (case sensitive)</p>\n<p><strong>.</strong> matches any character (except for line terminators)</p>\n<p><strong>{0,M}</strong> matches the characters {0,M} literally (case sensitive)</p>\n<p><strong>.</strong> matches any character (except for line terminators)</p>\n<p><a href=\"https://i.stack.imgur.com/uwnVw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uwnVw.png\" alt=\"All the tests on Codingbat are passed:\" /></a></p>\n"}],"owner":{"account_id":5760258,"reputation":1,"user_id":4546917,"display_name":"ubaby123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":7,"score":0,"last_activity_date":1652622109,"creation_date":1424878123,"question_id":28722920,"body_markdown":"Given a string and a non-empty word string, return a version of the original String where all chars have been replaced by pluses (&quot;+&quot;), except for appearances of the word string which are preserved unchanged.\r\n\r\n    plusOut(&quot;12xy34&quot;, &quot;xy&quot;) → &quot;++xy++&quot;\r\n    plusOut(&quot;12xy34&quot;, &quot;1&quot;) → &quot;1+++++&quot;\r\n    plusOut(&quot;12xy34xyabcxy&quot;, &quot;xy&quot;) → &quot;++xy++xy+++xy&quot;\r\n\r\nI am having trouble trying to code a StringBuffer solution to this problem.\r\nThis is the original code to this:\r\n\r\n    public static String plusOut(String str, String word) {\r\n        int i = 0; \r\n        String str2 = &quot;&quot;;\r\n        while (i &lt; str.length() - word.length()+1) \r\n            if (!str.substring(i,i+word.length()).equals(word)) {\r\n                str2 += &quot;+&quot;;\r\n                i++;\r\n            }\r\n            else {\r\n                str2 += word;\r\n                i += word.length(); //found pattern - skip\r\n            }\r\n        //if any remaining chars at end (guaranteed not to be pattern) replace    \r\n        //with +s\r\n        if (i &lt; str.length() &amp;&amp; !str.substring(i).equals(word.substring(1))) {\r\n            for (int j = 0; j &lt; word.length()-1; j++) str2 += &quot;+&quot;;\r\n        }\r\n        return str2;\r\n    }","title":"Codingbat plusOut - StringBuffer Trouble","body":"<p>Given a string and a non-empty word string, return a version of the original String where all chars have been replaced by pluses (\"+\"), except for appearances of the word string which are preserved unchanged.</p>\n\n<pre><code>plusOut(\"12xy34\", \"xy\") → \"++xy++\"\nplusOut(\"12xy34\", \"1\") → \"1+++++\"\nplusOut(\"12xy34xyabcxy\", \"xy\") → \"++xy++xy+++xy\"\n</code></pre>\n\n<p>I am having trouble trying to code a StringBuffer solution to this problem.\nThis is the original code to this:</p>\n\n<pre><code>public static String plusOut(String str, String word) {\n    int i = 0; \n    String str2 = \"\";\n    while (i &lt; str.length() - word.length()+1) \n        if (!str.substring(i,i+word.length()).equals(word)) {\n            str2 += \"+\";\n            i++;\n        }\n        else {\n            str2 += word;\n            i += word.length(); //found pattern - skip\n        }\n    //if any remaining chars at end (guaranteed not to be pattern) replace    \n    //with +s\n    if (i &lt; str.length() &amp;&amp; !str.substring(i).equals(word.substring(1))) {\n        for (int j = 0; j &lt; word.length()-1; j++) str2 += \"+\";\n    }\n    return str2;\n}\n</code></pre>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"score":3,"creation_date":1652615224,"post_id":72247896,"comment_id":127643911,"body_markdown":"move `getIntent()` etc inside `onCreate()` and check if bundle != null before you get the string out of it","body":"move <code>getIntent()</code> etc inside <code>onCreate()</code> and check if bundle != null before you get the string out of it"}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652622028,"creation_date":1652622028,"answer_id":72248766,"question_id":72247896,"body_markdown":"If you want to handle the case of a missing bundle, just check if it (and the string extracted from it) is null before using it.\r\n\r\n```java\r\npublic class LoadIntentActivity extends AppCompatActivity {\r\n\r\n    private TextView textView;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_load_intent);\r\n        textView = findViewById(R.id.textView);\r\n        \r\n        Bundle bundle = getIntent().getExtras();\r\n        if( bundle != null ) {\r\n            String bText = bundle.getString(&quot;text&quot;);\r\n            if( bText != null ) {\r\n                textView.setText(bText);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAlternately, if you need to save the text as a class member still you could do something like this:\r\n\r\n\r\n```java\r\npublic class LoadIntentActivity extends AppCompatActivity {\r\n\r\n    private TextView textView;\r\n    private String text = &quot;&quot;;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_load_intent);\r\n        textView = findViewById(R.id.textView);\r\n        \r\n        Bundle bundle = getIntent().getExtras();\r\n        if( bundle != null ) {\r\n            String bText = bundle.getString(&quot;text&quot;);\r\n            if( bText != null ) {\r\n                text = bText;\r\n            }\r\n        }\r\n\r\n        textView.setText(text);\r\n    }\r\n}\r\n```\r\n\r\nYou could also save a similar class member boolean to indicate whether the activity had been started with a bundle or not (in case it affects the actions taken later in the activity).","title":"How do I use Intent.putExtra dynamically?","body":"<p>If you want to handle the case of a missing bundle, just check if it (and the string extracted from it) is null before using it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoadIntentActivity extends AppCompatActivity {\n\n    private TextView textView;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_load_intent);\n        textView = findViewById(R.id.textView);\n        \n        Bundle bundle = getIntent().getExtras();\n        if( bundle != null ) {\n            String bText = bundle.getString(&quot;text&quot;);\n            if( bText != null ) {\n                textView.setText(bText);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Alternately, if you need to save the text as a class member still you could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoadIntentActivity extends AppCompatActivity {\n\n    private TextView textView;\n    private String text = &quot;&quot;;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_load_intent);\n        textView = findViewById(R.id.textView);\n        \n        Bundle bundle = getIntent().getExtras();\n        if( bundle != null ) {\n            String bText = bundle.getString(&quot;text&quot;);\n            if( bText != null ) {\n                text = bText;\n            }\n        }\n\n        textView.setText(text);\n    }\n}\n</code></pre>\n<p>You could also save a similar class member boolean to indicate whether the activity had been started with a bundle or not (in case it affects the actions taken later in the activity).</p>\n"}],"owner":{"account_id":23462084,"reputation":31,"user_id":17516799,"display_name":"pilog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652622028,"creation_date":1652614600,"question_id":72247896,"body_markdown":"I have 2 Activities which are (`MainActivity`, `LoadIntentActivity`). I know how to `putExtra()` from `MainActivity` and receive the value in `LoadIntentActivity` with `getIntent().getExtra()`. However, I want to start `LoadIntentActivity` with 2 method: 1 is with the `putExtra()` and the other is without `putExtra()`. But the `LoadIntentActivity` already have a `getIntent().getExtra()` that will result `NullPointerException` if i trying to start `LoadIntentActivity` without `putExtra()`.\r\n\r\nThis is my code:\r\n\r\n**`activity_main.xml`**:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btnGotoIA&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Go to IntentActivity&quot;/&gt;\r\n        &lt;ListView\r\n            android:id=&quot;@+id/lvList&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n    \r\n    &lt;/LinearLayout&gt;\r\n```\r\n\r\n`**MainActivity.java**`:\r\n```\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button btnGotoIA;\r\n        ListView lvList;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            btnGotoIA = findViewById(R.id.btnGotoIA);\r\n            lvList = findViewById(R.id.lvList);\r\n    \r\n            String[] items = {&quot;1&quot;, &quot;4&quot;, &quot;53&quot;, &quot;3&quot;, &quot;99&quot;};\r\n    \r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, items);\r\n            lvList.setAdapter(adapter);\r\n    \r\n            btnGotoIA.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent = new Intent(MainActivity.this, LoadIntentActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            lvList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                    Intent intent = new Intent(MainActivity.this, LoadIntentActivity.class);\r\n                    intent.putExtra(&quot;text&quot;, adapter.getItem(i));\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n    }\r\n```\r\n\r\n`**activity_load_intent.xml**`:\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.LoadIntentActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;TextView&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**`LoadIntentActivity.java`**:\r\n```\r\n    public class LoadIntentActivity extends AppCompatActivity {\r\n    \r\n        TextView textView;\r\n        Bundle bundle = getIntent().getExtras();\r\n        String text = bundle.getString(&quot;text&quot;);\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_load_intent);\r\n            textView = findViewById(R.id.textView);\r\n            // if i start this Activity without putExtra the TextView should be empty\r\n            textView.setText(text);\r\n        }\r\n    }\r\n```","title":"How do I use Intent.putExtra dynamically?","body":"<p>I have 2 Activities which are (<code>MainActivity</code>, <code>LoadIntentActivity</code>). I know how to <code>putExtra()</code> from <code>MainActivity</code> and receive the value in <code>LoadIntentActivity</code> with <code>getIntent().getExtra()</code>. However, I want to start <code>LoadIntentActivity</code> with 2 method: 1 is with the <code>putExtra()</code> and the other is without <code>putExtra()</code>. But the <code>LoadIntentActivity</code> already have a <code>getIntent().getExtra()</code> that will result <code>NullPointerException</code> if i trying to start <code>LoadIntentActivity</code> without <code>putExtra()</code>.</p>\n<p>This is my code:</p>\n<p><strong><code>activity_main.xml</code></strong>:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        tools:context=&quot;.MainActivity&quot;&gt;\n    \n        &lt;Button\n            android:id=&quot;@+id/btnGotoIA&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Go to IntentActivity&quot;/&gt;\n        &lt;ListView\n            android:id=&quot;@+id/lvList&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;/&gt;\n    \n    \n    &lt;/LinearLayout&gt;\n</code></pre>\n<p><code>**MainActivity.java**</code>:</p>\n<pre><code>    public class MainActivity extends AppCompatActivity {\n    \n        Button btnGotoIA;\n        ListView lvList;\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n    \n            btnGotoIA = findViewById(R.id.btnGotoIA);\n            lvList = findViewById(R.id.lvList);\n    \n            String[] items = {&quot;1&quot;, &quot;4&quot;, &quot;53&quot;, &quot;3&quot;, &quot;99&quot;};\n    \n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, items);\n            lvList.setAdapter(adapter);\n    \n            btnGotoIA.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    Intent intent = new Intent(MainActivity.this, LoadIntentActivity.class);\n                    startActivity(intent);\n                }\n            });\n    \n            lvList.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n                @Override\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                    Intent intent = new Intent(MainActivity.this, LoadIntentActivity.class);\n                    intent.putExtra(&quot;text&quot;, adapter.getItem(i));\n                    startActivity(intent);\n                }\n            });\n        }\n    }\n</code></pre>\n<p><code>**activity_load_intent.xml**</code>:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:context=&quot;.LoadIntentActivity&quot;&gt;\n    \n        &lt;TextView\n            android:id=&quot;@+id/textView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;TextView&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong><code>LoadIntentActivity.java</code></strong>:</p>\n<pre><code>    public class LoadIntentActivity extends AppCompatActivity {\n    \n        TextView textView;\n        Bundle bundle = getIntent().getExtras();\n        String text = bundle.getString(&quot;text&quot;);\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_load_intent);\n            textView = findViewById(R.id.textView);\n            // if i start this Activity without putExtra the TextView should be empty\n            textView.setText(text);\n        }\n    }\n</code></pre>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1652615981,"post_id":72247975,"comment_id":127644068,"body_markdown":"&quot;the answer differs&quot; from what? &quot;when I put the parenthesis&quot; Which pair? There are two. Please make two separate [mre], of both versions of your code which you want to discuss. Also please show the results you get in contrast to those you expect please.","body":"&quot;the answer differs&quot; from what? &quot;when I put the parenthesis&quot; Which pair? There are two. Please make two separate <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, of both versions of your code which you want to discuss. Also please show the results you get in contrast to those you expect please."},{"owner":{"account_id":22714313,"reputation":5,"user_id":16879825,"display_name":"Anshul Jyoti"},"score":0,"creation_date":1652616511,"post_id":72247975,"comment_id":127644161,"body_markdown":"I added the output part. Apologies.","body":"I added the output part. Apologies."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1652616617,"post_id":72247975,"comment_id":127644189,"body_markdown":"Subtracting the sum of two things is not the same as subtracting the first and adding the second. I do not see why you expect this to have the same result. I&#39;d only expect the same result with and without the outer pair, but the inner pair is obviously necessary. Please explain the math you expect with examples of `total` and `mid` values.","body":"Subtracting the sum of two things is not the same as subtracting the first and adding the second. I do not see why you expect this to have the same result. I&#39;d only expect the same result with and without the outer pair, but the inner pair is obviously necessary. Please explain the math you expect with examples of <code>total</code> and <code>mid</code> values."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652616729,"creation_date":1652616729,"answer_id":72248142,"question_id":72247975,"body_markdown":"This is happening because if you use parenthesis, java will decide which expression you want to evaluate first. If you don&#39;t use parenthesis then everything goes executed from left to right.\r\nExample:\r\n\r\n    int total=1;\r\n    int total1=1;\r\n    int total2=1;\r\n    total+=total1-total2+1;\r\n    System.out.println(total); \r\n\r\nOutput : 2 \r\n\r\nThe reason is here, expression got evaluated as total=total+total1-total2+1;\r\ni.e. total=1+1-1+1=2;\r\n\r\nFor parenthesis based expression, it gets evaluated first &amp; then others:- \r\n\r\n    int total=1;\r\n    int total1=1;\r\n    int total2=1;\r\n    total+=(total1-(total2+1));\r\n    System.out.println(total);\r\n\r\nOutput : 0 ,  evaluation will happen like below :- \r\n\r\n    total=total+(1-(1+1));\r\n    total=1+(1-(2));\r\n    total=1+(-1);\r\n    total=0;\r\n\r\nReference : https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html","title":"I am trying out to do the &quot;Count Reverse Pairs&quot; and I can&#39;t understand why parentesis() are necessary on this line","body":"<p>This is happening because if you use parenthesis, java will decide which expression you want to evaluate first. If you don't use parenthesis then everything goes executed from left to right.\nExample:</p>\n<pre><code>int total=1;\nint total1=1;\nint total2=1;\ntotal+=total1-total2+1;\nSystem.out.println(total); \n</code></pre>\n<p>Output : 2</p>\n<p>The reason is here, expression got evaluated as total=total+total1-total2+1;\ni.e. total=1+1-1+1=2;</p>\n<p>For parenthesis based expression, it gets evaluated first &amp; then others:-</p>\n<pre><code>int total=1;\nint total1=1;\nint total2=1;\ntotal+=(total1-(total2+1));\nSystem.out.println(total);\n</code></pre>\n<p>Output : 0 ,  evaluation will happen like below :-</p>\n<pre><code>total=total+(1-(1+1));\ntotal=1+(1-(2));\ntotal=1+(-1);\ntotal=0;\n</code></pre>\n<p>Reference : <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html</a></p>\n"}],"owner":{"account_id":22714313,"reputation":5,"user_id":16879825,"display_name":"Anshul Jyoti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72248142,"answer_count":1,"score":0,"last_activity_date":1652621173,"creation_date":1652615326,"question_id":72247975,"body_markdown":"I know that addition is commutative therefore I want to perform a storing operation with shorthand operation `+=` at line 46 but the answer differs only when I put the parenthesis, also when when I don&#39;t put parenthesis I get wrong answer. \r\n\r\nThe line is in the merge function.\r\n\r\nCODE:\r\n\r\n```java\r\npublic class ProblemA {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tArrayList&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt; (Arrays.asList(1, 3, 2, 3, 1));\r\n\t\tint n = arr.size();\r\n\t\t//calling mergesort \r\n\t\tint total = countPair(arr, n);\r\n\t\tSystem.out.println(total);\r\n\t}\r\n\r\n\tpublic static int countPair(ArrayList&lt;Integer&gt; arr, int n) {\r\n\t\tint total = mergeSort(arr, 0, n - 1);\r\n\t\treturn total;\r\n\t}\r\n\r\n\tpublic static int mergeSort(ArrayList&lt;Integer&gt; arr, int low, int high) {\r\n\t\t//termination condition\r\n\t\tif (low &gt;= high) return 0;\r\n\t\t//firstly we&#39;ll disassociate the elements of array on elementary level\r\n\t\tint mid = (low + high) / 2;\r\n\t\t//we&#39;ll store our count value inside the counter variable \r\n\t\tint inv = mergeSort(arr, low, mid);\r\n\t\tinv += mergeSort(arr, mid + 1, high);\r\n\t\tinv += merge(arr, low, mid, high);\r\n\t\treturn inv;\r\n\t}\r\n\tpublic static int merge(ArrayList&lt;Integer&gt; arr, int low, int mid, int high) {\r\n\t\t//AIM: make a double loop and traverse through the elements and increase the right side pointer\r\n\t\t//whenever condition (arr[i]&gt;2*arr[j] is satisfied)\r\n\t\t//int i = 0;\r\n\t\tint total = 0;\r\n\t\tint j = mid + 1;\r\n\t\tfor (int i = low; i&lt;= mid; i++) {\r\n\t\t\t//looping till we run out the right hand side or condition is not satisfied\r\n\t\t\twhile (j&lt;= high &amp;&amp; arr.get(i) &gt; 2 * arr.get(j)) {\r\n\t\t\t\tj++;\r\n\t\t\t} **\r\n\t\t\t* total += (j - (mid + 1)); ** * //parenthesis error here\r\n\t\t}\r\n\r\n\t\t//Now we can move to merging part\r\n\t\tArrayList&lt;Integer&gt; temp = new ArrayList&lt;Integer&gt; ();\r\n\t\tint left = low, right = mid + 1;\r\n\t\twhile (left&lt;= mid &amp;&amp; right&lt;= high) {\r\n\t\t\tif (arr.get(left)&lt;= arr.get(right)) {\r\n\t\t\t\ttemp.add(arr.get(left++));\r\n\t\t\t} else {\r\n\t\t\t\ttemp.add(arr.get(right++));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//for the last right or left remaining element \r\n\t\twhile (left&lt;= mid) {\r\n\t\t\ttemp.add(arr.get(left++));\r\n\t\t}\r\n\t\twhile (right&lt;= high) {\r\n\t\t\ttemp.add(arr.get(right++));\r\n\t\t}\r\n\r\n\t\t//now we can copy the remaining elements from temp list to arr\r\n\t\tfor (int i = low, k = 0; i&lt;= high; i++) {\r\n\t\t\tarr.set(i, temp.get(k++));\r\n\t\t}\r\n\t\treturn total;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nOUTPUT(with parenthesis) &quot;total += (j-(mid+1))&quot;:\r\n```\r\n2\r\n```\r\n\r\nOUTPUT(without parenthesis) &quot;total += j-mid+1&quot;:\r\n\r\n```\r\n16\r\n```","title":"I am trying out to do the &quot;Count Reverse Pairs&quot; and I can&#39;t understand why parentesis() are necessary on this line","body":"<p>I know that addition is commutative therefore I want to perform a storing operation with shorthand operation <code>+=</code> at line 46 but the answer differs only when I put the parenthesis, also when when I don't put parenthesis I get wrong answer.</p>\n<p>The line is in the merge function.</p>\n<p>CODE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProblemA {\n\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;Integer&gt; (Arrays.asList(1, 3, 2, 3, 1));\n        int n = arr.size();\n        //calling mergesort \n        int total = countPair(arr, n);\n        System.out.println(total);\n    }\n\n    public static int countPair(ArrayList&lt;Integer&gt; arr, int n) {\n        int total = mergeSort(arr, 0, n - 1);\n        return total;\n    }\n\n    public static int mergeSort(ArrayList&lt;Integer&gt; arr, int low, int high) {\n        //termination condition\n        if (low &gt;= high) return 0;\n        //firstly we'll disassociate the elements of array on elementary level\n        int mid = (low + high) / 2;\n        //we'll store our count value inside the counter variable \n        int inv = mergeSort(arr, low, mid);\n        inv += mergeSort(arr, mid + 1, high);\n        inv += merge(arr, low, mid, high);\n        return inv;\n    }\n    public static int merge(ArrayList&lt;Integer&gt; arr, int low, int mid, int high) {\n        //AIM: make a double loop and traverse through the elements and increase the right side pointer\n        //whenever condition (arr[i]&gt;2*arr[j] is satisfied)\n        //int i = 0;\n        int total = 0;\n        int j = mid + 1;\n        for (int i = low; i&lt;= mid; i++) {\n            //looping till we run out the right hand side or condition is not satisfied\n            while (j&lt;= high &amp;&amp; arr.get(i) &gt; 2 * arr.get(j)) {\n                j++;\n            } **\n            * total += (j - (mid + 1)); ** * //parenthesis error here\n        }\n\n        //Now we can move to merging part\n        ArrayList&lt;Integer&gt; temp = new ArrayList&lt;Integer&gt; ();\n        int left = low, right = mid + 1;\n        while (left&lt;= mid &amp;&amp; right&lt;= high) {\n            if (arr.get(left)&lt;= arr.get(right)) {\n                temp.add(arr.get(left++));\n            } else {\n                temp.add(arr.get(right++));\n            }\n        }\n\n        //for the last right or left remaining element \n        while (left&lt;= mid) {\n            temp.add(arr.get(left++));\n        }\n        while (right&lt;= high) {\n            temp.add(arr.get(right++));\n        }\n\n        //now we can copy the remaining elements from temp list to arr\n        for (int i = low, k = 0; i&lt;= high; i++) {\n            arr.set(i, temp.get(k++));\n        }\n        return total;\n    }\n}\n</code></pre>\n<p>OUTPUT(with parenthesis) &quot;total += (j-(mid+1))&quot;:</p>\n<pre><code>2\n</code></pre>\n<p>OUTPUT(without parenthesis) &quot;total += j-mid+1&quot;:</p>\n<pre><code>16\n</code></pre>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1652539875,"post_id":72241161,"comment_id":127633153,"body_markdown":"`HttpClient` provides you with the raw response of the web server. if you need to parse json, there are [many ways](https://stackoverflow.com/q/2591098/4648586) to do it.","body":"<code>HttpClient</code> provides you with the raw response of the web server. if you need to parse json, there are <a href=\"https://stackoverflow.com/q/2591098/4648586\">many ways</a> to do it."}],"answers":[{"tags":[],"owner":{"account_id":300083,"reputation":25180,"user_id":607033,"accept_rate":94,"display_name":"inf3rno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652619733,"creation_date":1652619733,"answer_id":72248510,"question_id":72241161,"body_markdown":"All you need is a JSON parser for the entity after checking the content type header. https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/HttpEntity.html#getContentType()\r\n\r\nFor example you can use JSONObject from org.json to convert string to json. https://developer.android.com/reference/org/json/JSONObject#JSONObject(java.lang.String)\r\n\r\n    JSONObject o = new JSONObject(EntityUtils.toString(responseEntity));\r\n","title":"How to get response in Map in httpClient?","body":"<p>All you need is a JSON parser for the entity after checking the content type header. <a href=\"https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/HttpEntity.html#getContentType()\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/HttpEntity.html#getContentType()</a></p>\n<p>For example you can use JSONObject from org.json to convert string to json. <a href=\"https://developer.android.com/reference/org/json/JSONObject#JSONObject(java.lang.String)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/org/json/JSONObject#JSONObject(java.lang.String)</a></p>\n<pre><code>JSONObject o = new JSONObject(EntityUtils.toString(responseEntity));\n</code></pre>\n"}],"owner":{"account_id":24556135,"reputation":1,"user_id":18789958,"display_name":"Богдан Харашук"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652619733,"creation_date":1652538780,"question_id":72241161,"body_markdown":"I&#39;m making a request to my server, but the response is given in String, and I need to get data from there, for example, the if response: {&quot;response&quot;:{&quot;balance&quot;:85976,&quot;adres&quot;:&quot;pasaharpsuk@gmail.com&quot;}}\r\nand need to get a balance\r\n\r\n\r\nCODE:\r\n\r\n    public class test {\r\n    public static void main(String[] args) {\r\n\r\n\r\n        CloseableHttpClient httpClient = HttpClientBuilder.create().build();\r\n        // Создать запрос на получение\r\n        HttpGet httpGet = new HttpGet(&quot;http://localhost:8080/api/bank/my_wallet&quot;);\r\n        httpGet.setHeader(&quot;Authorization&quot;, &quot;eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJwYXNhaGFycHN1a0BnbWFpbC5jb20iLCJyb2xlIjoiVVNFUiIsImlhdCI6MTY1MjUzNzQ3NSwiZXhwIjoxNjUzNTM3NDc1fQ.zYQqgXA0aeZAMm7JGhv4gOQEtks2iyQqGoqOOrdxy5g&quot;);\r\n        // модель ответа\r\n        CloseableHttpResponse response = null;\r\n        try {\r\n            // Выполнить (отправить) запрос Get от клиента\r\n            response = httpClient.execute(httpGet);\r\n            // Получить объект ответа из модели ответа\r\n            HttpEntity responseEntity = response.getEntity();\r\n            if (responseEntity != null) {\r\n                \r\n                System.out.println(EntityUtils.toString(responseEntity));\r\n            }\r\n        } catch (ParseException | IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                // освободить ресурсы\r\n                if (httpClient != null) {\r\n                    httpClient.close();\r\n                }\r\n                if (response != null) {\r\n                    response.close();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n&#39;&#39;&#39;","title":"How to get response in Map in httpClient?","body":"<p>I'm making a request to my server, but the response is given in String, and I need to get data from there, for example, the if response: {&quot;response&quot;:{&quot;balance&quot;:85976,&quot;adres&quot;:&quot;pasaharpsuk@gmail.com&quot;}}\nand need to get a balance</p>\n<p>CODE:</p>\n<pre><code>public class test {\npublic static void main(String[] args) {\n\n\n    CloseableHttpClient httpClient = HttpClientBuilder.create().build();\n    // Создать запрос на получение\n    HttpGet httpGet = new HttpGet(&quot;http://localhost:8080/api/bank/my_wallet&quot;);\n    httpGet.setHeader(&quot;Authorization&quot;, &quot;eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJwYXNhaGFycHN1a0BnbWFpbC5jb20iLCJyb2xlIjoiVVNFUiIsImlhdCI6MTY1MjUzNzQ3NSwiZXhwIjoxNjUzNTM3NDc1fQ.zYQqgXA0aeZAMm7JGhv4gOQEtks2iyQqGoqOOrdxy5g&quot;);\n    // модель ответа\n    CloseableHttpResponse response = null;\n    try {\n        // Выполнить (отправить) запрос Get от клиента\n        response = httpClient.execute(httpGet);\n        // Получить объект ответа из модели ответа\n        HttpEntity responseEntity = response.getEntity();\n        if (responseEntity != null) {\n            \n            System.out.println(EntityUtils.toString(responseEntity));\n        }\n    } catch (ParseException | IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            // освободить ресурсы\n            if (httpClient != null) {\n                httpClient.close();\n            }\n            if (response != null) {\n                response.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>'''</p>\n"},{"tags":["java","ubuntu"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":1,"creation_date":1652622043,"post_id":72248496,"comment_id":127645382,"body_markdown":"curious question, is `com.mysql.jdbc.Driver` installed already? its in classpath? ubuntu community has a note on installing [mysql jdbc driver](https://help.ubuntu.com/community/JDBCAndMySQL). you can also install it manually through [package](https://askubuntu.com/a/1339372) or [zip](https://stackoverflow.com/a/5307060).","body":"curious question, is <code>com.mysql.jdbc.Driver</code> installed already? its in classpath? ubuntu community has a note on installing <a href=\"https://help.ubuntu.com/community/JDBCAndMySQL\" rel=\"nofollow noreferrer\">mysql jdbc driver</a>. you can also install it manually through <a href=\"https://askubuntu.com/a/1339372\">package</a> or <a href=\"https://stackoverflow.com/a/5307060\">zip</a>."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1652623140,"post_id":72248496,"comment_id":127645618,"body_markdown":"Driver is probably not on classpath","body":"Driver is probably not on classpath"}],"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652619604,"creation_date":1652619604,"question_id":72248496,"body_markdown":"    import mysql.connector\r\n    from pyspark.sql import SparkSession\r\n    \r\n    \r\n    spark = SparkSession.builder.config(&quot;spark.jars&quot;, &quot;/usr/share/java/mysql-connector-java-8.0.29.jar&quot;)\\\r\n            .master(&quot;local&quot;).appName(&quot;Integrated_ca2&quot;).getOrCreate()\r\n    \r\n    \r\n    \r\n    connection = mysql.connector.connect(user=&#39;root&#39;, database=&#39;tweets&#39;,\r\n                                         password=&#39;password&#39;,host=&#39;localhost&#39;\r\n                                         ,auth_plugin=&#39;mysql_native_password&#39;)\r\n    cursor = connection.cursor()\r\n    \r\n    cursor.execute(&quot;USE tweets;&quot;)\r\n    \r\n    f = spark.read.format(&quot;jdbc&quot;).option(&quot;url&quot;, &quot;jdbc:mysql://localhost:8888/tweets&quot;) \\\r\n        .option(&quot;driver&quot;, &quot;com.mysql.jdbc.Driver&quot;).option(&quot;dbtable&quot;,&quot;tweets_ca2&quot;).option(&quot;user&quot;, &quot;root&quot;).option(&quot;password&quot;,&quot;password&quot;).load()\r\n    \r\n    cursor.execute(&#39;select * from tweets_ca2;&#39;)\r\n\r\n\r\n\r\nthe error is Py4JJavaError: An error occurred while calling o321.load.\r\n: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver\r\n","title":"Encountering a JDBC error on ubuntu linux and notebooks","body":"<pre><code>import mysql.connector\nfrom pyspark.sql import SparkSession\n\n\nspark = SparkSession.builder.config(&quot;spark.jars&quot;, &quot;/usr/share/java/mysql-connector-java-8.0.29.jar&quot;)\\\n        .master(&quot;local&quot;).appName(&quot;Integrated_ca2&quot;).getOrCreate()\n\n\n\nconnection = mysql.connector.connect(user='root', database='tweets',\n                                     password='password',host='localhost'\n                                     ,auth_plugin='mysql_native_password')\ncursor = connection.cursor()\n\ncursor.execute(&quot;USE tweets;&quot;)\n\nf = spark.read.format(&quot;jdbc&quot;).option(&quot;url&quot;, &quot;jdbc:mysql://localhost:8888/tweets&quot;) \\\n    .option(&quot;driver&quot;, &quot;com.mysql.jdbc.Driver&quot;).option(&quot;dbtable&quot;,&quot;tweets_ca2&quot;).option(&quot;user&quot;, &quot;root&quot;).option(&quot;password&quot;,&quot;password&quot;).load()\n\ncursor.execute('select * from tweets_ca2;')\n</code></pre>\n<p>the error is Py4JJavaError: An error occurred while calling o321.load.\n: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</p>\n"},{"tags":["java","database","filter","nosql","aerospike"],"answers":[{"tags":[],"owner":{"account_id":2163589,"reputation":5165,"user_id":1917187,"display_name":"pgupta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1652619571,"creation_date":1652550371,"answer_id":72242648,"question_id":72242328,"body_markdown":"If bin names Field1 and Field2 contain boolean values then your expression should be constructed in this fashion (whatever the desired logic is):\r\n\r\n    Exp.eq(Exp.boolBin(&quot;Field1&quot;), Exp.val(false))\r\n\r\nI tested the construct below, seems to work for me:\r\n\r\n    WritePolicy wPolicy = new WritePolicy();\r\n    \r\n    Bin b1 = new Bin(&quot;Field1&quot;, Value.get(0));\r\n    Bin b2 = new Bin(&quot;Field2&quot;, Value.get(0));\r\n    Bin b3 = new Bin(&quot;Data&quot;, Value.get(&quot;data&quot;));\r\n    \r\n    wPolicy.recordExistsAction = RecordExistsAction.REPLACE;\r\n    \r\n    client.put(wPolicy, key, b1, b2, b3);\r\n    \r\n    //client.put(wPolicy, key, b1, b3);\r\n    \r\n    Exp condFilter = Exp.and( \r\n    Exp.eq(Exp.intBin(&quot;Field1&quot;),Exp.val(0) ),\r\n    Exp.eq(Exp.intBin(&quot;Field2&quot;),Exp.val(0) )\r\n    );\r\n    \r\n    Policy policy = new Policy();\r\n    \r\n    policy.filterExp = Exp.build(condFilter);\r\n    Record record = client.get(policy, key);\r\n    System.out.println(&quot;Read back the record.&quot;);\r\n    \r\n    System.out.println(&quot;Record values are:&quot;);\r\n    System.out.println(record);\r\n\r\n    //Get record without filter condition\r\n    record = client.get(null, key);\r\n    System.out.println(record);\r\n\r\nValid condition:\r\n\r\n    Read back the record.\r\n    Record values are:\r\n    (gen:18),(exp:0),(bins:(Field1:0),(Field2:0),(Data:data))\r\n    (gen:18),(exp:0),(bins:(Field1:0),(Field2:0),(Data:data))\r\n\r\nInvalid Condition (no Field2 bin):\r\n\r\n    Read back the record.\r\n    Record values are:\r\n    null\r\n    (gen:19),(exp:0),(bins:(Field1:0),(Data:data))\r\n\r\n","title":"Aerospike filter expression on boolean fields not working","body":"<p>If bin names Field1 and Field2 contain boolean values then your expression should be constructed in this fashion (whatever the desired logic is):</p>\n<pre><code>Exp.eq(Exp.boolBin(&quot;Field1&quot;), Exp.val(false))\n</code></pre>\n<p>I tested the construct below, seems to work for me:</p>\n<pre><code>WritePolicy wPolicy = new WritePolicy();\n\nBin b1 = new Bin(&quot;Field1&quot;, Value.get(0));\nBin b2 = new Bin(&quot;Field2&quot;, Value.get(0));\nBin b3 = new Bin(&quot;Data&quot;, Value.get(&quot;data&quot;));\n\nwPolicy.recordExistsAction = RecordExistsAction.REPLACE;\n\nclient.put(wPolicy, key, b1, b2, b3);\n\n//client.put(wPolicy, key, b1, b3);\n\nExp condFilter = Exp.and( \nExp.eq(Exp.intBin(&quot;Field1&quot;),Exp.val(0) ),\nExp.eq(Exp.intBin(&quot;Field2&quot;),Exp.val(0) )\n);\n\nPolicy policy = new Policy();\n\npolicy.filterExp = Exp.build(condFilter);\nRecord record = client.get(policy, key);\nSystem.out.println(&quot;Read back the record.&quot;);\n\nSystem.out.println(&quot;Record values are:&quot;);\nSystem.out.println(record);\n\n//Get record without filter condition\nrecord = client.get(null, key);\nSystem.out.println(record);\n</code></pre>\n<p>Valid condition:</p>\n<pre><code>Read back the record.\nRecord values are:\n(gen:18),(exp:0),(bins:(Field1:0),(Field2:0),(Data:data))\n(gen:18),(exp:0),(bins:(Field1:0),(Field2:0),(Data:data))\n</code></pre>\n<p>Invalid Condition (no Field2 bin):</p>\n<pre><code>Read back the record.\nRecord values are:\nnull\n(gen:19),(exp:0),(bins:(Field1:0),(Data:data))\n</code></pre>\n"}],"owner":{"account_id":21046038,"reputation":55,"user_id":15467350,"display_name":"TeaSea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72242648,"answer_count":1,"score":2,"last_activity_date":1652619571,"creation_date":1652547460,"question_id":72242328,"body_markdown":"I&#39;ve written the following Aerospike filter in Java. Both `Field1` and `Field2` are booleans. For some reason, the &quot;filterByField.ValidBoth&quot; condition does not yield true, although the record matches the criteria.\r\n\r\nSince it&#39;s a boolean, I&#39;m using 1 for true and 0 for false.\r\n\r\nAm I missing something?\r\n\r\n```\r\npublic Exp getFilterByFieldFilter(FilterByField filterByField) {\r\n    if (filterByField == null || &quot;&quot;.equals(filterByField)) {\r\n        return Exp.val(true);\r\n    }\r\n    if (filterByField == filterByField.All) {\r\n        return Exp.val(true);\r\n    } else if (filterByField == filterByField.ValidBoth) {\r\n        return Exp.and(Exp.eq(Exp.intBin(&quot;Field1&quot;), Exp.val(0)),\r\n                Exp.eq(Exp.intBin(&quot;Field2&quot;), Exp.val(0)));\r\n    }\r\n}\r\n```\r\n\r\nFrom what I can see from database results through AQL, those which are not set to true are not reflected in the result set. \r\n\r\nShould I write my filter is a different way to check this condition? If so what would that condition look like?\r\n\r\nI tried checking for Exp.val(NULL) but got error. \r\n\r\nHere&#39;s my database result set through AQL\r\n\r\n```\r\n [\r\n        {\r\n          &quot;PK&quot;: &quot;1&quot;,\r\n          &quot;Name&quot;: &quot;ABC&quot;,\r\n          &quot;Field1&quot;: 1,\r\n          &quot;Field2&quot;: 1\r\n        },\r\n        {\r\n          &quot;PK&quot;: &quot;2&quot;,\r\n          &quot;Name&quot;: &quot;EFG&quot;,\r\n          &quot;Field1&quot;: 1\r\n        },\r\n        {\r\n          &quot;PK&quot;: &quot;3&quot;,\r\n          &quot;Name&quot;: &quot;XYZ&quot;,\r\n        }\r\n        \r\n    ]\r\n```","title":"Aerospike filter expression on boolean fields not working","body":"<p>I've written the following Aerospike filter in Java. Both <code>Field1</code> and <code>Field2</code> are booleans. For some reason, the &quot;filterByField.ValidBoth&quot; condition does not yield true, although the record matches the criteria.</p>\n<p>Since it's a boolean, I'm using 1 for true and 0 for false.</p>\n<p>Am I missing something?</p>\n<pre><code>public Exp getFilterByFieldFilter(FilterByField filterByField) {\n    if (filterByField == null || &quot;&quot;.equals(filterByField)) {\n        return Exp.val(true);\n    }\n    if (filterByField == filterByField.All) {\n        return Exp.val(true);\n    } else if (filterByField == filterByField.ValidBoth) {\n        return Exp.and(Exp.eq(Exp.intBin(&quot;Field1&quot;), Exp.val(0)),\n                Exp.eq(Exp.intBin(&quot;Field2&quot;), Exp.val(0)));\n    }\n}\n</code></pre>\n<p>From what I can see from database results through AQL, those which are not set to true are not reflected in the result set.</p>\n<p>Should I write my filter is a different way to check this condition? If so what would that condition look like?</p>\n<p>I tried checking for Exp.val(NULL) but got error.</p>\n<p>Here's my database result set through AQL</p>\n<pre><code> [\n        {\n          &quot;PK&quot;: &quot;1&quot;,\n          &quot;Name&quot;: &quot;ABC&quot;,\n          &quot;Field1&quot;: 1,\n          &quot;Field2&quot;: 1\n        },\n        {\n          &quot;PK&quot;: &quot;2&quot;,\n          &quot;Name&quot;: &quot;EFG&quot;,\n          &quot;Field1&quot;: 1\n        },\n        {\n          &quot;PK&quot;: &quot;3&quot;,\n          &quot;Name&quot;: &quot;XYZ&quot;,\n        }\n        \n    ]\n</code></pre>\n"},{"tags":["java","android-studio","onclicklistener"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1652609651,"post_id":72247247,"comment_id":127642927,"body_markdown":"`public void onClick9(View view) {` should be `public void onClick(View view) {`","body":"<code>public void onClick9(View view) {</code> should be <code>public void onClick(View view) {</code>"},{"owner":{"account_id":3498253,"reputation":977,"user_id":2925716,"display_name":"user2925716"},"score":0,"creation_date":1652617674,"post_id":72247247,"comment_id":127644415,"body_markdown":"@StephenC I did what you&#39;ve written , the error disappeared but the Label of the button hasn&#39;t changed upon clicking to &quot;OK&quot;. Why ?","body":"@StephenC I did what you&#39;ve written , the error disappeared but the Label of the button hasn&#39;t changed upon clicking to &quot;OK&quot;. Why ?"}],"answers":[{"tags":[],"owner":{"account_id":19075915,"reputation":803,"user_id":13929206,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652610707,"creation_date":1652610707,"answer_id":72247448,"question_id":72247247,"body_markdown":"When you pass an anonymous class to method, you have to implements all of **its** abstract/interface inherited method.\r\n\r\nIn your code, you wrote new method called onClick9, and didn&#39;t override the abstract method onClick as needed, so it gives new an error.\r\n\r\nYou should rename your method or override on click separately. ","title":"setOnClickListener has not been written well, it gives an error","body":"<p>When you pass an anonymous class to method, you have to implements all of <strong>its</strong> abstract/interface inherited method.</p>\n<p>In your code, you wrote new method called onClick9, and didn't override the abstract method onClick as needed, so it gives new an error.</p>\n<p>You should rename your method or override on click separately.</p>\n"}],"owner":{"account_id":3498253,"reputation":977,"user_id":2925716,"display_name":"user2925716"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72247448,"answer_count":1,"score":0,"last_activity_date":1652619565,"creation_date":1652608876,"question_id":72247247,"body_markdown":"I&#39;m trying to rewrite my code from `android:onClick9&quot; to `setOnClickListener`\r\nsince that crashes, bu I&#39;m getting an error. **Code**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Button button9=findViewById(R.id.button9);\r\n\r\n        button9.setOnClickListener(\r\n                new Button.OnClickListener() {\r\n                    public void onClick9(View view) {\r\n                    button9.setText(&quot;OK&quot;);\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    **ERROR**\r\n    error: &lt;anonymous com.example.tablelayout6.MainActivity$1&gt; is not\r\n    abstract and does not override abstract method onClick(View) \r\n    in OnClickListener new Button.OnClickListener() {\r\n\r\n\r\n**EDIT**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pvmxi.jpg\r\n\r\n\r\n**EDIT 2** I have tried `button9` but still the label of button9 doesn&#39;t change and `new Button.OnClickListener() ` is shadowed.\r\n\r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Button button9=findViewById(R.id.button9);\r\n    \r\n            button9.setOnClickListener(\r\n                    new Button.OnClickListener() {\r\n                        public void onClick(View view) {\r\n                            TextView status=findViewById(R.id.button9);\r\n    \r\n                        button9.setText(&quot;OK&quot;);\r\n                        }\r\n                    }\r\n    \r\n    \r\n            );\r\n    \r\n    \r\n            }\r\n\r\n","title":"setOnClickListener has not been written well, it gives an error","body":"<p>I'm trying to rewrite my code from <code>android:onClick9&quot; to </code>setOnClickListener`\nsince that crashes, bu I'm getting an error. <strong>Code</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Button button9=findViewById(R.id.button9);\n\n    button9.setOnClickListener(\n            new Button.OnClickListener() {\n                public void onClick9(View view) {\n                button9.setText(&quot;OK&quot;);\n                }\n            }\n    );\n}\n\n**ERROR**\nerror: &lt;anonymous com.example.tablelayout6.MainActivity$1&gt; is not\nabstract and does not override abstract method onClick(View) \nin OnClickListener new Button.OnClickListener() {\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p><a href=\"https://i.stack.imgur.com/pvmxi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pvmxi.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT 2</strong> I have tried <code>button9</code> but still the label of button9 doesn't change and <code>new Button.OnClickListener() </code> is shadowed.</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Button button9=findViewById(R.id.button9);\n\n        button9.setOnClickListener(\n                new Button.OnClickListener() {\n                    public void onClick(View view) {\n                        TextView status=findViewById(R.id.button9);\n\n                    button9.setText(&quot;OK&quot;);\n                    }\n                }\n\n\n        );\n\n\n        }\n</code></pre>\n"},{"tags":["java","user-interface","javafx","fxml","scenebuilder"],"comments":[{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":0,"creation_date":1567455891,"post_id":57761224,"comment_id":101960635,"body_markdown":"Please [edit] your question and include your complete FXML document.","body":"Please <a href=\"https://stackoverflow.com/posts/57761224/edit\">edit</a> your question and include your complete FXML document."},{"owner":{"account_id":3852814,"reputation":357,"user_id":3192484,"accept_rate":60,"display_name":"Riv"},"score":0,"creation_date":1567456464,"post_id":57761224,"comment_id":101960765,"body_markdown":"@Zephyr I have added the FXML.","body":"@Zephyr I have added the FXML."}],"owner":{"account_id":3852814,"reputation":357,"user_id":3192484,"accept_rate":60,"display_name":"Riv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652619225,"creation_date":1567447971,"question_id":57761224,"body_markdown":"I am trying to create a responsive layout using JavaFX FlowPlane. Inside a FlowPane I have placed two other Panes with text in them. Each Pane has a minWidth of 200px. prefWidth of 500px and maxWidth of 750px.\r\n\r\nI would imagine that FlowPane could automagically resize the Pane inside it using the width values provided so that when I resize the window, the space in the FlowPane will be utilized in a best way. \r\n\r\nInstead, it seems that the FlowPane only looks at the prefWidth property while it ignores minWidth and maxWidth. See the picture below:\r\n\r\n[![Example of the issue with the FlowPlane not respectin the minWidth property of inside StackPane][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xWCA9.png\r\n\r\n\r\nIs there a way to have the blue StackPane stay in the top row, next to the red StackPane, shrink as the windows width decreases and only jump down to the second row when its width becomes less that its minWidth property?\r\n\r\nEdit: Add FXML\r\n----\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.FlowPane?&gt;\r\n    &lt;?import javafx.scene.layout.StackPane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    \r\n    &lt;FlowPane \r\n    \tcacheShape=&quot;false&quot; \r\n    \tcenterShape=&quot;false&quot; \r\n    \tminWidth=&quot;500.0&quot; \r\n    \tnodeOrientation=&quot;LEFT_TO_RIGHT&quot; \r\n    \tprefHeight=&quot;150.0&quot; \r\n    \tprefWidth=&quot;1000.0&quot; \r\n    \tprefWrapLength=&quot;250.0&quot; \r\n    \trowValignment=&quot;TOP&quot; \r\n    \tscaleShape=&quot;false&quot; \r\n    \tstyle=&quot;-fx-background-color: white;&quot; \r\n    \txmlns=&quot;http://javafx.com/javafx/8.0.171&quot; \r\n    \txmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n    &gt;\r\n       &lt;children&gt;\r\n          &lt;StackPane \r\n          \tcenterShape=&quot;false&quot; \r\n          \tmaxWidth=&quot;750.0&quot; \r\n          \tminWidth=&quot;200.0&quot;\r\n          \tprefWidth=&quot;500.0&quot; \r\n          \tscaleShape=&quot;false&quot; \r\n          \tstyle=&quot;-fx-background-color: #ddaaaa;\r\n          \t&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;Label \r\n                \talignment=&quot;TOP_LEFT&quot; \r\n                \ttext=&quot;I am a red StackPane. If you shrink this window, the blue panel will be below me! Min-width=200px, Pref-width=500px, Max-width=750px.&quot; \r\n                \ttextOverrun=&quot;CENTER_WORD_ELLIPSIS&quot; \r\n                \twrapText=&quot;true&quot;\r\n                &gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font size=&quot;14.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n             &lt;/children&gt;\r\n          &lt;/StackPane&gt;\r\n          &lt;StackPane \r\n          \talignment=&quot;TOP_LEFT&quot; \r\n          \tcacheShape=&quot;false&quot; \r\n          \tcenterShape=&quot;false&quot; \r\n          \tmaxWidth=&quot;750.0&quot; \r\n          \tminWidth=&quot;200.0&quot; \r\n          \tprefWidth=&quot;500.0&quot; \r\n          \tscaleShape=&quot;false&quot;\r\n          &gt;\r\n             &lt;children&gt;\r\n                &lt;Label \r\n                \talignment=&quot;TOP_LEFT&quot; \r\n                \tcacheShape=&quot;false&quot; \r\n                \tcenterShape=&quot;false&quot; \r\n                \tscaleShape=&quot;false&quot; \r\n                \tstyle=&quot;-fx-background-color: #dadaff;&quot; \r\n                \ttext=&quot;My min width is set to 200px; I should be able to handle some shrinking, but I don&#39;t ;( Min-width=200px, Pref-width=500px, Max-width=750px.&quot; \r\n                \ttextOverrun=&quot;CENTER_WORD_ELLIPSIS&quot; \r\n                \twrapText=&quot;true&quot; \r\n                \tStackPane.alignment=&quot;TOP_LEFT&quot;\r\n                &gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font size=&quot;14.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n             &lt;/children&gt;\r\n          &lt;/StackPane&gt;\r\n       &lt;/children&gt;\r\n    &lt;/FlowPane&gt;\r\n\r\n","title":"Javafx: Responsive design using a FlowPane","body":"<p>I am trying to create a responsive layout using JavaFX FlowPlane. Inside a FlowPane I have placed two other Panes with text in them. Each Pane has a minWidth of 200px. prefWidth of 500px and maxWidth of 750px.</p>\n\n<p>I would imagine that FlowPane could automagically resize the Pane inside it using the width values provided so that when I resize the window, the space in the FlowPane will be utilized in a best way. </p>\n\n<p>Instead, it seems that the FlowPane only looks at the prefWidth property while it ignores minWidth and maxWidth. See the picture below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xWCA9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xWCA9.png\" alt=\"Example of the issue with the FlowPlane not respectin the minWidth property of inside StackPane\"></a></p>\n\n<p>Is there a way to have the blue StackPane stay in the top row, next to the red StackPane, shrink as the windows width decreases and only jump down to the second row when its width becomes less that its minWidth property?</p>\n\n<h2>Edit: Add FXML</h2>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.FlowPane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n\n&lt;FlowPane \n    cacheShape=\"false\" \n    centerShape=\"false\" \n    minWidth=\"500.0\" \n    nodeOrientation=\"LEFT_TO_RIGHT\" \n    prefHeight=\"150.0\" \n    prefWidth=\"1000.0\" \n    prefWrapLength=\"250.0\" \n    rowValignment=\"TOP\" \n    scaleShape=\"false\" \n    style=\"-fx-background-color: white;\" \n    xmlns=\"http://javafx.com/javafx/8.0.171\" \n    xmlns:fx=\"http://javafx.com/fxml/1\"\n&gt;\n   &lt;children&gt;\n      &lt;StackPane \n        centerShape=\"false\" \n        maxWidth=\"750.0\" \n        minWidth=\"200.0\"\n        prefWidth=\"500.0\" \n        scaleShape=\"false\" \n        style=\"-fx-background-color: #ddaaaa;\n        \"&gt;\n         &lt;children&gt;\n            &lt;Label \n                alignment=\"TOP_LEFT\" \n                text=\"I am a red StackPane. If you shrink this window, the blue panel will be below me! Min-width=200px, Pref-width=500px, Max-width=750px.\" \n                textOverrun=\"CENTER_WORD_ELLIPSIS\" \n                wrapText=\"true\"\n            &gt;\n               &lt;font&gt;\n                  &lt;Font size=\"14.0\" /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n         &lt;/children&gt;\n      &lt;/StackPane&gt;\n      &lt;StackPane \n        alignment=\"TOP_LEFT\" \n        cacheShape=\"false\" \n        centerShape=\"false\" \n        maxWidth=\"750.0\" \n        minWidth=\"200.0\" \n        prefWidth=\"500.0\" \n        scaleShape=\"false\"\n      &gt;\n         &lt;children&gt;\n            &lt;Label \n                alignment=\"TOP_LEFT\" \n                cacheShape=\"false\" \n                centerShape=\"false\" \n                scaleShape=\"false\" \n                style=\"-fx-background-color: #dadaff;\" \n                text=\"My min width is set to 200px; I should be able to handle some shrinking, but I don't ;( Min-width=200px, Pref-width=500px, Max-width=750px.\" \n                textOverrun=\"CENTER_WORD_ELLIPSIS\" \n                wrapText=\"true\" \n                StackPane.alignment=\"TOP_LEFT\"\n            &gt;\n               &lt;font&gt;\n                  &lt;Font size=\"14.0\" /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n         &lt;/children&gt;\n      &lt;/StackPane&gt;\n   &lt;/children&gt;\n&lt;/FlowPane&gt;\n</code></pre>\n"},{"tags":["java","processing","pde"],"answers":[{"tags":[],"owner":{"account_id":18071704,"reputation":26,"user_id":13136192,"display_name":"Saksham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652612193,"creation_date":1652612193,"answer_id":72247603,"question_id":72247449,"body_markdown":"You can override `toString` in your Ball class and print the instance data \r\nyourself.\r\n\r\nOr you can use reflection https://stackoverflow.com/questions/15112590/get-the-class-instance-variables-and-print-their-values-using-reflection to get \r\nall the fields data and print it","title":"How to print the contents of an instance in java or pde?","body":"<p>You can override <code>toString</code> in your Ball class and print the instance data\nyourself.</p>\n<p>Or you can use reflection <a href=\"https://stackoverflow.com/questions/15112590/get-the-class-instance-variables-and-print-their-values-using-reflection\">Get the class instance variables and print their values using reflection</a> to get\nall the fields data and print it</p>\n"},{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652619190,"creation_date":1652617902,"answer_id":72248282,"question_id":72247449,"body_markdown":"As Saksham(+1) points you, one option is to override `toString()`: this is manual, but it doesn&#39;t have the overhead of reflection.\r\n\r\nYou can also use [java.lang.reflect.*;][1] which you could use for a utilty function in a superclass, then all your subclasses will inherit this trait (no need to manually override `toString()` for each subclass), however you will spend a bit of CPU time reflecting.\r\n\r\nHere&#39;s a very rough example demonstrating both:\r\n\r\n```java\r\n// option 2: reflect\r\nimport java.lang.reflect.*;\r\n\r\nclass BouncingBall{\r\n\r\n  float bounce;\r\n  float window;\r\n  float position;\r\n    \r\n  BouncingBall(float bounce, float window, float position){\r\n    this.bounce = bounce;\r\n    this.window = window;\r\n    this.position = position;\r\n  }\r\n  // option 1: override toString() (manual)\r\n  String toString(){\r\n    return String.format(&quot;[BouncingBall bounce=%.2f window=%.2f position=%.2f]&quot;, \r\n                                        bounce, window, position);\r\n  }\r\n}\r\n\r\nvoid setup(){\r\n  BouncingBall ball = new BouncingBall(0.35, 1.5, 0.75);\r\n  println(&quot;ball properties and values via toString()&quot;);\r\n  println(ball);\r\n  println();\r\n  \r\n  println(&quot;ball properties and values via reflection&quot;);\r\n  // reflect instance fields\r\n  try{\r\n    for(Field field : BouncingBall.class.getDeclaredFields()){\r\n      println(field.getName(), field.get(ball));\r\n    } \r\n  }catch(IllegalAccessException e){\r\n    e.printStackTrace();\r\n  }\r\n}\r\n```\r\n\r\n**Update**\r\nIn Python, it&#39;s nice you get a `dict` back which you can use further.\r\nIn Java, in theory you could return a `HashMap` (or similar Map structure), however you can only associate keys of the same type.\r\nIn this case, since all properties are float that would work, however you might have situations where the properties would be booleans, floats, ints, etc.\r\nA workaround for this could be using [JSONObject][2]: a nice side effect of this option is you could easily serialize/save the data to disk via [`saveJSONObject()`][3]:\r\n\r\n```java\r\nimport java.lang.reflect.Field;\r\n\r\nclass BouncingBall{\r\n\r\n  float bounce;\r\n  float window;\r\n  float position;\r\n    \r\n  BouncingBall(float bounce, float window, float position){\r\n    this.bounce = bounce;\r\n    this.window = window;\r\n    this.position = position;\r\n  }\r\n  \r\n  // option 1: override toString() (manual)\r\n  String toString(){\r\n    return String.format(&quot;{\\&quot;bounce\\&quot;:%.2f, \\&quot;window\\&quot;:%.2f, \\&quot;position\\&quot;:%.2f}&quot;, \r\n                             bounce, window, position);\r\n  }\r\n  // option 2: reflect\r\n  JSONObject toJSON(){\r\n    JSONObject result = new JSONObject();\r\n    try{\r\n      for(Field field : BouncingBall.class.getDeclaredFields()){\r\n        // handle floats for demo purposes\r\n        if(field.getType() == float.class){\r\n          result.setFloat(field.getName(), (float)field.get(this));\r\n        }\r\n      } \r\n    }catch(IllegalAccessException e){\r\n      e.printStackTrace();\r\n    }\r\n    return result;\r\n  }\r\n}\r\n\r\nvoid setup(){\r\n  BouncingBall ball = new BouncingBall(0.35, 1.5, 0.75);\r\n  println(&quot;ball properties and values via toString()&quot;);\r\n  println(ball);\r\n  println();\r\n  \r\n  println(&quot;ball properties and values via reflection&quot;);\r\n  println(ball.toJSON());\r\n  \r\n  // save JSON data\r\n  saveJSONObject(ball.toJSON(), &quot;ball.json&quot;);\r\n}\r\n```\r\n(Notice the manual option of formatting toString() so the data is valid JSON also works (an can be saved to disk via [`saveStrings()`][4])\r\n\r\nSimilarly you could use reflection to map loaded JSON data to instance properties should you need to.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-reflection\r\n  [2]: https://processing.org/reference/JSONObject.html\r\n  [3]: https://processing.org/reference/saveJSONObject_.html\r\n  [4]: https://processing.org/reference/saveStrings_.html","title":"How to print the contents of an instance in java or pde?","body":"<p>As Saksham(+1) points you, one option is to override <code>toString()</code>: this is manual, but it doesn't have the overhead of reflection.</p>\n<p>You can also use <a href=\"https://www.baeldung.com/java-reflection\" rel=\"nofollow noreferrer\">java.lang.reflect.*;</a> which you could use for a utilty function in a superclass, then all your subclasses will inherit this trait (no need to manually override <code>toString()</code> for each subclass), however you will spend a bit of CPU time reflecting.</p>\n<p>Here's a very rough example demonstrating both:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// option 2: reflect\nimport java.lang.reflect.*;\n\nclass BouncingBall{\n\n  float bounce;\n  float window;\n  float position;\n    \n  BouncingBall(float bounce, float window, float position){\n    this.bounce = bounce;\n    this.window = window;\n    this.position = position;\n  }\n  // option 1: override toString() (manual)\n  String toString(){\n    return String.format(&quot;[BouncingBall bounce=%.2f window=%.2f position=%.2f]&quot;, \n                                        bounce, window, position);\n  }\n}\n\nvoid setup(){\n  BouncingBall ball = new BouncingBall(0.35, 1.5, 0.75);\n  println(&quot;ball properties and values via toString()&quot;);\n  println(ball);\n  println();\n  \n  println(&quot;ball properties and values via reflection&quot;);\n  // reflect instance fields\n  try{\n    for(Field field : BouncingBall.class.getDeclaredFields()){\n      println(field.getName(), field.get(ball));\n    } \n  }catch(IllegalAccessException e){\n    e.printStackTrace();\n  }\n}\n</code></pre>\n<p><strong>Update</strong>\nIn Python, it's nice you get a <code>dict</code> back which you can use further.\nIn Java, in theory you could return a <code>HashMap</code> (or similar Map structure), however you can only associate keys of the same type.\nIn this case, since all properties are float that would work, however you might have situations where the properties would be booleans, floats, ints, etc.\nA workaround for this could be using <a href=\"https://processing.org/reference/JSONObject.html\" rel=\"nofollow noreferrer\">JSONObject</a>: a nice side effect of this option is you could easily serialize/save the data to disk via <a href=\"https://processing.org/reference/saveJSONObject_.html\" rel=\"nofollow noreferrer\"><code>saveJSONObject()</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\n\nclass BouncingBall{\n\n  float bounce;\n  float window;\n  float position;\n    \n  BouncingBall(float bounce, float window, float position){\n    this.bounce = bounce;\n    this.window = window;\n    this.position = position;\n  }\n  \n  // option 1: override toString() (manual)\n  String toString(){\n    return String.format(&quot;{\\&quot;bounce\\&quot;:%.2f, \\&quot;window\\&quot;:%.2f, \\&quot;position\\&quot;:%.2f}&quot;, \n                             bounce, window, position);\n  }\n  // option 2: reflect\n  JSONObject toJSON(){\n    JSONObject result = new JSONObject();\n    try{\n      for(Field field : BouncingBall.class.getDeclaredFields()){\n        // handle floats for demo purposes\n        if(field.getType() == float.class){\n          result.setFloat(field.getName(), (float)field.get(this));\n        }\n      } \n    }catch(IllegalAccessException e){\n      e.printStackTrace();\n    }\n    return result;\n  }\n}\n\nvoid setup(){\n  BouncingBall ball = new BouncingBall(0.35, 1.5, 0.75);\n  println(&quot;ball properties and values via toString()&quot;);\n  println(ball);\n  println();\n  \n  println(&quot;ball properties and values via reflection&quot;);\n  println(ball.toJSON());\n  \n  // save JSON data\n  saveJSONObject(ball.toJSON(), &quot;ball.json&quot;);\n}\n</code></pre>\n<p>(Notice the manual option of formatting toString() so the data is valid JSON also works (an can be saved to disk via <a href=\"https://processing.org/reference/saveStrings_.html\" rel=\"nofollow noreferrer\"><code>saveStrings()</code></a>)</p>\n<p>Similarly you could use reflection to map loaded JSON data to instance properties should you need to.</p>\n"}],"owner":{"account_id":10262900,"reputation":2041,"user_id":7573706,"display_name":"Gunty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72248282,"answer_count":2,"score":1,"last_activity_date":1652619190,"creation_date":1652610722,"question_id":72247449,"body_markdown":"```py\r\nclass bouncingBall():\r\n    def __init__(self, bounce, window, position):\r\n        self.bounce = bounce\r\n        self.window = window\r\n        self.position = position\r\n\r\nball = bouncingBall(0.35, 1.5, 0.75)\r\nprint(ball) # &lt;__main__.bouncingBall object at 0x0000025980427D60&gt;\r\nprint(ball.__dict__) # {&#39;bounce&#39;: 0.35, &#39;window&#39;: 1.5, &#39;position&#39;: 0.75}\r\n```\r\n\r\n\r\nIn python we can inspect the insides of an instance by using `object.__dict__` \r\n\r\nHow do we accomplish this in `.java` or `.pde`?","title":"How to print the contents of an instance in java or pde?","body":"<pre class=\"lang-py prettyprint-override\"><code>class bouncingBall():\n    def __init__(self, bounce, window, position):\n        self.bounce = bounce\n        self.window = window\n        self.position = position\n\nball = bouncingBall(0.35, 1.5, 0.75)\nprint(ball) # &lt;__main__.bouncingBall object at 0x0000025980427D60&gt;\nprint(ball.__dict__) # {'bounce': 0.35, 'window': 1.5, 'position': 0.75}\n</code></pre>\n<p>In python we can inspect the insides of an instance by using <code>object.__dict__</code></p>\n<p>How do we accomplish this in <code>.java</code> or <code>.pde</code>?</p>\n"},{"tags":["java","stdout","stdin","stddraw"],"comments":[{"owner":{"account_id":24253484,"reputation":1,"user_id":18261045,"display_name":"Jaya"},"score":0,"creation_date":1652617872,"post_id":72248265,"comment_id":127644450,"body_markdown":"Sorry for the weird indentation, idk what happened","body":"Sorry for the weird indentation, idk what happened"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1652628518,"post_id":72248265,"comment_id":127646775,"body_markdown":"I think we might need to see more of your code to know what&#39;s going on.","body":"I think we might need to see more of your code to know what&#39;s going on."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1652628885,"post_id":72248265,"comment_id":127646867,"body_markdown":"Just out of curiosity, what is the point of code like this:\n\n`if (columnSelect == 0)   {  columnSelect = 0;   }     else    { ... `\n\nWhy not just have `if (columnSelect != 0) { ... ` ?","body":"Just out of curiosity, what is the point of code like this:  <code>if (columnSelect == 0)   {  columnSelect = 0;   }     else    { ... </code>  Why not just have <code>if (columnSelect != 0) { ... </code> ?"}],"owner":{"account_id":24253484,"reputation":1,"user_id":18261045,"display_name":"Jaya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652617741,"creation_date":1652617741,"question_id":72248265,"body_markdown":"So my project requires me to only use StdIn, StdOut and StdDraw. I have got code to detect when certain keys are pressed but it doesn&#39;t stop moving until the boundary is hit. I need it to only move 1 space but it moves across the entire the board and I cant figure out why???\r\n\r\nI&#39;m not allowed to use JFrame, ActionListener or anything besides StdIn, StdOut and StdDraw.\r\n\r\n```\r\nif (GUIenabled)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif (StdDraw.isKeyPressed(81)) //Check if Q key is pressed\r\n        \t\t\t\t{\r\n        \t\t\t\t\tStdOut.println(&quot;Termination: User terminated game!&quot;);\r\n        \t\t\t\t\tEndGame(moveCounter, m, moveCounterScore);\r\n        \t\t\t\t}\r\n        \t\t\t\t\r\n    \t\t\t\t\tif (StdDraw.isKeyPressed(87)) //Check if W key is pressed\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (rowSelect == 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trowSelect = 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trowSelect--;\r\n\t\t\t\t\t\t\t\tStdDraw.setPenColor(StdDraw.ORANGE);\r\n\t\t\t\t\t\t\t\tStdDraw.filledSquare(columnSelect + 0.5, m - rowSelect + 1.5, 0.2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n  \t\t\t\t      \r\n\t\t\t\t\t\tif (StdDraw.isKeyPressed(83)) //Check if S key is pressed\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (rowSelect == m)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trowSelect = m;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trowSelect++;\r\n\t\t\t\t\t\t\t\tStdDraw.setPenColor(StdDraw.ORANGE);\r\n\t\t\t\t\t\t\t\tStdDraw.filledSquare(columnSelect + 0.5, m - rowSelect + 1.5, 0.2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t      \r\n\t\t\t\t\t\tif (StdDraw.isKeyPressed(65)) //Check if A key is pressed\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (columnSelect == 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcolumnSelect = 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcolumnSelect--;\r\n\t\t\t\t\t\t\t\tStdDraw.setPenColor(StdDraw.ORANGE);\r\n\t\t\t\t\t\t\t\tStdDraw.filledSquare(columnSelect + 0.5, m - rowSelect + 1.5, 0.2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t      \r\n\t\t\t\t\t\tif (StdDraw.isKeyPressed(68)) //Check if D key is pressed\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (columnSelect == m)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcolumnSelect = m;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcolumnSelect++;\r\n\t\t\t\t\t\t\t\tStdDraw.setPenColor(StdDraw.ORANGE);\r\n\t\t\t\t\t\t\t\tStdDraw.filledSquare(columnSelect + 0.5, m - rowSelect + 1.5, 0.2);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n}\r\n```\r\n\r\nIf there is anyone that can shed light on this it would be greatly appreciated. \r\n\r\n","title":"My code detects Key Presses in Java but does detect when the key is lifted in StdDraw?","body":"<p>So my project requires me to only use StdIn, StdOut and StdDraw. I have got code to detect when certain keys are pressed but it doesn't stop moving until the boundary is hit. I need it to only move 1 space but it moves across the entire the board and I cant figure out why???</p>\n<p>I'm not allowed to use JFrame, ActionListener or anything besides StdIn, StdOut and StdDraw.</p>\n<pre><code>if (GUIenabled)\n                    {\n                        if (StdDraw.isKeyPressed(81)) //Check if Q key is pressed\n                        {\n                            StdOut.println(&quot;Termination: User terminated game!&quot;);\n                            EndGame(moveCounter, m, moveCounterScore);\n                        }\n                        \n                        if (StdDraw.isKeyPressed(87)) //Check if W key is pressed\n                        {\n                            if (rowSelect == 0)\n                            {\n                                rowSelect = 0;\n                            }\n                            else \n                            {\n                                rowSelect--;\n                                StdDraw.setPenColor(StdDraw.ORANGE);\n                                StdDraw.filledSquare(columnSelect + 0.5, m - rowSelect + 1.5, 0.2);\n                            }\n                        }\n                      \n                        if (StdDraw.isKeyPressed(83)) //Check if S key is pressed\n                        {\n                            if (rowSelect == m)\n                            {\n                                rowSelect = m;\n                            }\n                            else \n                            {\n                                rowSelect++;\n                                StdDraw.setPenColor(StdDraw.ORANGE);\n                                StdDraw.filledSquare(columnSelect + 0.5, m - rowSelect + 1.5, 0.2);\n                            }\n                        }\n              \n                        if (StdDraw.isKeyPressed(65)) //Check if A key is pressed\n                        {\n                            if (columnSelect == 0)\n                            {\n                                columnSelect = 0;\n                            }\n                            else \n                            {\n                                columnSelect--;\n                                StdDraw.setPenColor(StdDraw.ORANGE);\n                                StdDraw.filledSquare(columnSelect + 0.5, m - rowSelect + 1.5, 0.2);\n                            }\n                        }\n              \n                        if (StdDraw.isKeyPressed(68)) //Check if D key is pressed\n                        {\n                            if (columnSelect == m)\n                            {\n                                columnSelect = m;\n                            }\n                            else \n                            {\n                                columnSelect++;\n                                StdDraw.setPenColor(StdDraw.ORANGE);\n                                StdDraw.filledSquare(columnSelect + 0.5, m - rowSelect + 1.5, 0.2);\n                            }\n                        }\n}\n</code></pre>\n<p>If there is anyone that can shed light on this it would be greatly appreciated.</p>\n"},{"tags":["java","swing","actionlistener"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1652614313,"post_id":72247839,"comment_id":127643753,"body_markdown":"it&#39;s a method like any other. How can one invoke a method? Just create the listener in another class, not in an anonymous implementation","body":"it&#39;s a method like any other. How can one invoke a method? Just create the listener in another class, not in an anonymous implementation"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652617577,"creation_date":1652614294,"answer_id":72247856,"question_id":72247839,"body_markdown":"You can:\r\n\r\n* Call `.doClick()` on the button\r\n* Simply call `actionPerformed(null)` on the method ... difficult if the method is in an anonymous class\r\n* Call `getActionListeners()` on the JButton and iterate through the `ActionListener[]` array that is returned, calling each listener&#39;s actionPerformed method\r\n* Or have the listener itself call a method that the main program can call (my preferred way):\r\n\r\n```\r\npublic void someMethod() {\r\n\t// has code that the listener needs done\r\n}\r\n```\r\n\r\n```\r\nbutton.addActionListener(new ActionListener() {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        someMethod();  // call it here in the listener\r\n    }  \r\n});\r\n```\r\n```\r\n// in another part of the code, call the same method\r\nsomeMethod();\r\n```","title":"How to manually invoke actionPerformed in Java?","body":"<p>You can:</p>\n<ul>\n<li>Call <code>.doClick()</code> on the button</li>\n<li>Simply call <code>actionPerformed(null)</code> on the method ... difficult if the method is in an anonymous class</li>\n<li>Call <code>getActionListeners()</code> on the JButton and iterate through the <code>ActionListener[]</code> array that is returned, calling each listener's actionPerformed method</li>\n<li>Or have the listener itself call a method that the main program can call (my preferred way):</li>\n</ul>\n<pre><code>public void someMethod() {\n    // has code that the listener needs done\n}\n</code></pre>\n<pre><code>button.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        someMethod();  // call it here in the listener\n    }  \n});\n</code></pre>\n<pre><code>// in another part of the code, call the same method\nsomeMethod();\n</code></pre>\n"}],"owner":{"account_id":20569044,"reputation":13,"user_id":15097769,"display_name":"محمد"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72247856,"answer_count":1,"score":0,"last_activity_date":1652617577,"creation_date":1652614173,"question_id":72247839,"body_markdown":"The method ```actionPerformed``` of class ```ActionListener``` is invoked when we **click** on a (let say) JButton. I want to run this method manually in a program. Is it possible?\r\nHere is an example:\r\n```\r\nbutton.addActionListener(new ActionListener() {\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        // do something\r\n    }  \r\n});\r\n```\r\nThis ```actionPerformed``` is invoked when I click on ```button```. Is there another way to call it manually using a line(s) of code in my program?","title":"How to manually invoke actionPerformed in Java?","body":"<p>The method <code>actionPerformed</code> of class <code>ActionListener</code> is invoked when we <strong>click</strong> on a (let say) JButton. I want to run this method manually in a program. Is it possible?\nHere is an example:</p>\n<pre><code>button.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // do something\n    }  \n});\n</code></pre>\n<p>This <code>actionPerformed</code> is invoked when I click on <code>button</code>. Is there another way to call it manually using a line(s) of code in my program?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":20822782,"reputation":68,"user_id":15293962,"display_name":"block king"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652617466,"creation_date":1652617075,"answer_id":72248193,"question_id":72191174,"body_markdown":"I tried running your code. it is working fine for me (progress bar showing).\r\npossible fix\r\n\r\n - Rebuild gradle project\r\n \r\n - Clean project and rebuild instead\r\n\r\nand change this code:-\r\n\r\n - find progress bar view in onCreate\r\n - use `pb.getVisibility()!=View.VISIBLE` in if condition\r\n\r\n````\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        pb = (ProgressBar) findViewById(R.id.progressBar);\r\n    \r\n    }\r\n    \r\n    public void handleText(View v){\r\n        if(pb.getVisibility() != View.VISIBLE) {\r\n            pb.setVisibility(View.VISIBLE);\r\n        }\r\n      }\r\n    }\r\n\r\n````\r\n\r\nif nothing works then it must be the glitch of android studio.\r\nother possible fixes i do in this kind of situation:-\r\n\r\n - Try changing progress bar&#39;s id in xml\r\n - Try changing width, height or styles\r\n - Finally create a new activity or app and copy the code in that\r\n\r\nthis things can help a lot when problem is related to IDE\r\n","title":"Why is my progress bar not turning visible in Android Studio","body":"<p>I tried running your code. it is working fine for me (progress bar showing).\npossible fix</p>\n<ul>\n<li><p>Rebuild gradle project</p>\n</li>\n<li><p>Clean project and rebuild instead</p>\n</li>\n</ul>\n<p>and change this code:-</p>\n<ul>\n<li>find progress bar view in onCreate</li>\n<li>use <code>pb.getVisibility()!=View.VISIBLE</code> in if condition</li>\n</ul>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        pb = (ProgressBar) findViewById(R.id.progressBar);\n    \n    }\n    \n    public void handleText(View v){\n        if(pb.getVisibility() != View.VISIBLE) {\n            pb.setVisibility(View.VISIBLE);\n        }\n      }\n    }\n\n</code></pre>\n<p>if nothing works then it must be the glitch of android studio.\nother possible fixes i do in this kind of situation:-</p>\n<ul>\n<li>Try changing progress bar's id in xml</li>\n<li>Try changing width, height or styles</li>\n<li>Finally create a new activity or app and copy the code in that</li>\n</ul>\n<p>this things can help a lot when problem is related to IDE</p>\n"}],"owner":{"account_id":19069058,"reputation":41,"user_id":13923628,"display_name":"Lenard Decarpicorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1652617466,"creation_date":1652206284,"question_id":72191174,"body_markdown":"I am attempting to build an app that displays a &quot;ladder&quot; between two different words of the same length. While my program is finding the ladder between these two words, I&#39;d like to display a progress bar to give the illusion of a the app loading. However, whenever I try to change the progressBar&#39;s visibility from &quot;invisible&quot; to &quot;visible&quot;, it never appears (although it does appear if I just leave the progresBar&#39;s visibility as &quot;visible&quot;), and I am attempting to figure out why. I&#39;ve read several other forum posts that as similar questions to mine, but none of their solutions are working for me. \r\n\r\nHere is the code in my BuilderActivity.java file, which takes the two words, finds the ladder between them, and displays it to the screen:\r\n\r\n```package com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.view.View;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.Collection;\r\n\r\npublic class BuilderActivity extends AppCompatActivity {\r\n    ProgressBar pb = null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.builder_activity);\r\n    }\r\n\r\n\r\n    public void handleText(View v){\r\n        pb = (ProgressBar) findViewById(R.id.progressBar);\r\n        if(pb.getVisibility() == View.INVISIBLE) {\r\n            pb.setVisibility(View.VISIBLE);\r\n        }\r\n\r\n        TextView start = findViewById(R.id.startingWord);//Gets the starting word input from the application\r\n        String startInput = start.getText().toString();\r\n\r\n        TextView end = findViewById(R.id.endingWord);//Gets the ending word input from the application\r\n        String endInput = end.getText().toString();\r\n\r\n        //generateLadder(startInput, endInput);\r\n        buildLadder(startInput, endInput);\r\n    }\r\n\r\n\r\n    public void buildLadder(String startingWord, String endingWord) {\r\n        InputStream is = getFile(&quot;dictionary&quot;);\r\n        DictionaryBuilder d1 = new DictionaryBuilder(is);\r\n        Collection&lt;String&gt; listOfWordsLength = null;\r\n\r\n        try {\r\n            listOfWordsLength = d1.getWordsOfLength(startingWord.length());\r\n        } catch (IOException ex) {\r\n            ex.getMessage();\r\n        }\r\n        LadderBuilder ladder = new LadderBuilder(listOfWordsLength);\r\n\r\n        try {\r\n            Deque&lt;String&gt; finalLadder = ladder.buildLadder(startingWord, endingWord);\r\n\r\n            if (finalLadder == null) {//There is no ladder between the two words\r\n                textToScreen(&quot;Error: There is no link between the words &quot; + startingWord + &quot; and &quot;\r\n                        + endingWord + &quot;.&quot;);\r\n            } else {\r\n                textToScreen(finalLadder.toString());\r\n            }\r\n         }catch (IllegalArgumentException ex){//The words are not of the same length.\r\n            textToScreen(&quot;Error: The words &quot; + startingWord + &quot; and &quot; + endingWord + &quot; are not &quot;\r\n                    + &quot;the same length.&quot;);\r\n        }\r\n    }\r\n\r\n    public void textToScreen(String text){\r\n        TextView textView = (TextView) findViewById(R.id.textView);\r\n        textView.setText(text);\r\n        pb = (ProgressBar) findViewById(R.id.progressBar);\r\n        pb.setVisibility(View.INVISIBLE);\r\n        textView.setVisibility(View.VISIBLE);\r\n    }\r\n\r\n    private InputStream getFile(String fileName){\r\n        InputStream file = null;\r\n        try {\r\n            file = getAssets().open(fileName);\r\n        }catch (IOException ex) {\r\n            ex.getMessage();\r\n        }\r\n        return file;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd here is my XLM code for the builder activity:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/layout&quot;\r\n    style=&quot;@style/layout&quot;\r\n    tools:context=&quot;.BuilderActivity&quot;&gt;\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progressBar&quot;\r\n        style=&quot;?android:attr/progressBarStyle&quot;\r\n        android:layout_width=&quot;55dp&quot;\r\n        android:layout_height=&quot;59dp&quot;\r\n        android:secondaryProgress=&quot;100&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.116&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/generateButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;148dp&quot;\r\n        android:onClick=&quot;handleText&quot;\r\n        android:text=&quot;Generate Ladder&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/startingWord&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;108dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:text=&quot;stack&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/generateButton&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/endingWord&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:text=&quot;stave&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/generateButton&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/startingWord&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.349&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fontFamily=&quot;sans-serif&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/startingWord&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.258&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;```\r\n\r\n\r\n\r\n","title":"Why is my progress bar not turning visible in Android Studio","body":"<p>I am attempting to build an app that displays a &quot;ladder&quot; between two different words of the same length. While my program is finding the ladder between these two words, I'd like to display a progress bar to give the illusion of a the app loading. However, whenever I try to change the progressBar's visibility from &quot;invisible&quot; to &quot;visible&quot;, it never appears (although it does appear if I just leave the progresBar's visibility as &quot;visible&quot;), and I am attempting to figure out why. I've read several other forum posts that as similar questions to mine, but none of their solutions are working for me.</p>\n<p>Here is the code in my BuilderActivity.java file, which takes the two words, finds the ladder between them, and displays it to the screen:</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.view.View;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Collection;\n\npublic class BuilderActivity extends AppCompatActivity {\n    ProgressBar pb = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.builder_activity);\n    }\n\n\n    public void handleText(View v){\n        pb = (ProgressBar) findViewById(R.id.progressBar);\n        if(pb.getVisibility() == View.INVISIBLE) {\n            pb.setVisibility(View.VISIBLE);\n        }\n\n        TextView start = findViewById(R.id.startingWord);//Gets the starting word input from the application\n        String startInput = start.getText().toString();\n\n        TextView end = findViewById(R.id.endingWord);//Gets the ending word input from the application\n        String endInput = end.getText().toString();\n\n        //generateLadder(startInput, endInput);\n        buildLadder(startInput, endInput);\n    }\n\n\n    public void buildLadder(String startingWord, String endingWord) {\n        InputStream is = getFile(&quot;dictionary&quot;);\n        DictionaryBuilder d1 = new DictionaryBuilder(is);\n        Collection&lt;String&gt; listOfWordsLength = null;\n\n        try {\n            listOfWordsLength = d1.getWordsOfLength(startingWord.length());\n        } catch (IOException ex) {\n            ex.getMessage();\n        }\n        LadderBuilder ladder = new LadderBuilder(listOfWordsLength);\n\n        try {\n            Deque&lt;String&gt; finalLadder = ladder.buildLadder(startingWord, endingWord);\n\n            if (finalLadder == null) {//There is no ladder between the two words\n                textToScreen(&quot;Error: There is no link between the words &quot; + startingWord + &quot; and &quot;\n                        + endingWord + &quot;.&quot;);\n            } else {\n                textToScreen(finalLadder.toString());\n            }\n         }catch (IllegalArgumentException ex){//The words are not of the same length.\n            textToScreen(&quot;Error: The words &quot; + startingWord + &quot; and &quot; + endingWord + &quot; are not &quot;\n                    + &quot;the same length.&quot;);\n        }\n    }\n\n    public void textToScreen(String text){\n        TextView textView = (TextView) findViewById(R.id.textView);\n        textView.setText(text);\n        pb = (ProgressBar) findViewById(R.id.progressBar);\n        pb.setVisibility(View.INVISIBLE);\n        textView.setVisibility(View.VISIBLE);\n    }\n\n    private InputStream getFile(String fileName){\n        InputStream file = null;\n        try {\n            file = getAssets().open(fileName);\n        }catch (IOException ex) {\n            ex.getMessage();\n        }\n        return file;\n    }\n\n}\n</code></pre>\n<p>And here is my XLM code for the builder activity:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/layout&quot;\n    style=&quot;@style/layout&quot;\n    tools:context=&quot;.BuilderActivity&quot;&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        style=&quot;?android:attr/progressBarStyle&quot;\n        android:layout_width=&quot;55dp&quot;\n        android:layout_height=&quot;59dp&quot;\n        android:secondaryProgress=&quot;100&quot;\n        android:visibility=&quot;invisible&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.116&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/generateButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;148dp&quot;\n        android:onClick=&quot;handleText&quot;\n        android:text=&quot;Generate Ladder&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/startingWord&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;108dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;stack&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/generateButton&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/endingWord&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:text=&quot;stave&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/generateButton&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/startingWord&quot;\n        app:layout_constraintVertical_bias=&quot;0.349&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fontFamily=&quot;sans-serif&quot;\n        android:text=&quot;TextView&quot;\n        android:textSize=&quot;18sp&quot;\n        android:visibility=&quot;invisible&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/startingWord&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.258&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;```\n\n\n\n</code></pre>\n"},{"tags":["java","user-interface","events"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1652617603,"post_id":72248215,"comment_id":127644403,"body_markdown":"Typo. Remove `;` at the end of `else if(event.getSource() == quitButton);`","body":"Typo. Remove <code>;</code> at the end of <code>else if(event.getSource() == quitButton);</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1652617786,"post_id":72248215,"comment_id":127644431,"body_markdown":"Also, if that tutorial has you using null layouts, then ditch it asap and find a better one","body":"Also, if that tutorial has you using null layouts, then ditch it asap and find a better one"},{"owner":{"account_id":24705898,"reputation":1,"user_id":18596717,"display_name":"Alan Farrell"},"score":0,"creation_date":1652617950,"post_id":72248215,"comment_id":127644472,"body_markdown":"@ Hovercraft Full Of Eels It&#39;s a college course I&#39;m doing, a beginners one. It&#39;s the final class so I&#39;ll see where I go from here then, thanks :)","body":"@ Hovercraft Full Of Eels It&#39;s a college course I&#39;m doing, a beginners one. It&#39;s the final class so I&#39;ll see where I go from here then, thanks :)"}],"owner":{"account_id":24705898,"reputation":1,"user_id":18596717,"display_name":"Alan Farrell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652617639,"answer_count":0,"score":0,"last_activity_date":1652617329,"creation_date":1652617329,"question_id":72248215,"body_markdown":"I&#39;m just working through an online course and I have replicated a GUI program up to this point, two text fields and six buttons. We are at a point where we are assigning event responses to each button. I have assigned responses to both the Clear button and the Quit button but now all buttons are quitting the program and I&#39;m not sure why. Can anyone help?\r\n\r\n\r\n    import javax.swing.JFrame;\r\n    \r\n    public class CalcTest \r\n    {\r\n        public static void main(String[] args) \r\n        {\r\n            Calc application = new Calc();\r\n            application.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);//ensures program ends when you close the jframe\r\n            application.setSize(400 , 400);\r\n            application.setVisible(true);\r\n        }\r\n    }\r\n\r\nSecond \r\n\r\n    import java.awt.Color;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JPanel;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionListener;//needed for detecting when a user has pressed Enter\r\n    import java.awt.event.ActionEvent;\r\n    \r\n    \r\n    public class Calc extends JFrame\r\n    {\r\n        private JLabel firstNumberLabel; //use to display text that a user cannot edit\r\n        private JTextField firstNumberField;\r\n        \r\n        private JLabel secondNumberLabel; \r\n        private JTextField secondNumberField;\r\n        \r\n        private JTextField resultField;\r\n        private JPanel buttonPanel = new JPanel();//example of button panel being created outside of constructor\r\n        private JButton addButton = new JButton(&quot;Add&quot;);\r\n        private JButton subtractButton = new JButton(&quot;Subtract&quot;);\r\n        private JButton multiplyButton = new JButton(&quot;Multiply&quot;);\r\n        private JButton divideButton = new JButton(&quot;Divide&quot;);\r\n        private JButton clearButton = new JButton(&quot;Clear&quot;);\r\n        private JButton quitButton = new JButton(&quot;Quit&quot;);\r\n        \r\n        public Calc()\r\n        {\r\n            setLayout(null);//turn off Layout Manager to manually change layout\r\n            firstNumberLabel = new JLabel(&quot;Enter First Number: &quot;);//Label used to display text that cannot be edited\r\n            firstNumberLabel.setBounds(10, 10, 150, 25);//set location in the frame\r\n            add(firstNumberLabel);//this &quot;add&quot; method is inherited from class JFrame\r\n            \r\n            firstNumberField = new JTextField(&quot;0.00&quot;);//Field used to display text that can be edited \r\n            firstNumberField.setBounds(170 , 10 , 150 , 25 );\r\n            add(firstNumberField);\r\n            \r\n            secondNumberLabel = new JLabel(&quot;Enter Second Number: &quot;);\r\n            secondNumberLabel.setBounds(10, 45 , 150, 25);//set location in the frame\r\n            add(secondNumberLabel);\r\n            \r\n            secondNumberField = new JTextField(&quot;0.00&quot;);\r\n            secondNumberField.setBounds(170 , 45 , 150 , 25 );\r\n            add(secondNumberField);\r\n            \r\n            resultField = new JTextField(&quot;0.00&quot;);//result of calculation box in centre of frame\r\n            resultField.setBounds(100 , 90 , 200 , 50);\r\n            resultField.setEditable(false);//ensure the user cannot edit this box\r\n            add(resultField);\r\n            \r\n            buttonPanel.setBounds(100 , 160 , 200 , 150);\r\n            buttonPanel.setBackground(Color.red); //set colour to make it stand out from the grey\r\n            add(buttonPanel);//&quot;add&quot; adds to the JFrame\r\n            \r\n            buttonPanel.setLayout(new GridLayout (3,2));//GridLayout automatically sorts in rows and columns\r\n            JButton[] buttons = {addButton , subtractButton , multiplyButton , \r\n                                divideButton , clearButton , quitButton};\r\n            ButtonHandler handler = new ButtonHandler();\r\n            \r\n            for(JButton button : buttons)\r\n            {    \r\n                buttonPanel.add(button);\r\n                button.addActionListener(handler);\r\n            }//end for\r\n         }//end of constructor for class Calc \r\n        \r\n        private class ButtonHandler implements ActionListener\r\n        {\r\n           public void actionPerformed(ActionEvent event) \r\n           {\r\n                    if(event.getSource() == clearButton)\r\n                    {\r\n                        firstNumberField.setText(&quot;0.00&quot;);\r\n                        secondNumberField.setText(&quot;0.00&quot;);\r\n    \r\n                    }\r\n                    else if(event.getSource() == quitButton);\r\n                    {\r\n                        System.exit(0);\r\n                    }\r\n           }\r\n        }//end of inner class ButtonHandler\r\n            \r\n    }//end class Calc\r\n\r\n\r\n\r\n","title":"Java - GUI Query, all buttons are quitting the program?","body":"<p>I'm just working through an online course and I have replicated a GUI program up to this point, two text fields and six buttons. We are at a point where we are assigning event responses to each button. I have assigned responses to both the Clear button and the Quit button but now all buttons are quitting the program and I'm not sure why. Can anyone help?</p>\n<pre><code>import javax.swing.JFrame;\n\npublic class CalcTest \n{\n    public static void main(String[] args) \n    {\n        Calc application = new Calc();\n        application.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);//ensures program ends when you close the jframe\n        application.setSize(400 , 400);\n        application.setVisible(true);\n    }\n}\n</code></pre>\n<p>Second</p>\n<pre><code>import java.awt.Color;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JTextField;\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionListener;//needed for detecting when a user has pressed Enter\nimport java.awt.event.ActionEvent;\n\n\npublic class Calc extends JFrame\n{\n    private JLabel firstNumberLabel; //use to display text that a user cannot edit\n    private JTextField firstNumberField;\n    \n    private JLabel secondNumberLabel; \n    private JTextField secondNumberField;\n    \n    private JTextField resultField;\n    private JPanel buttonPanel = new JPanel();//example of button panel being created outside of constructor\n    private JButton addButton = new JButton(&quot;Add&quot;);\n    private JButton subtractButton = new JButton(&quot;Subtract&quot;);\n    private JButton multiplyButton = new JButton(&quot;Multiply&quot;);\n    private JButton divideButton = new JButton(&quot;Divide&quot;);\n    private JButton clearButton = new JButton(&quot;Clear&quot;);\n    private JButton quitButton = new JButton(&quot;Quit&quot;);\n    \n    public Calc()\n    {\n        setLayout(null);//turn off Layout Manager to manually change layout\n        firstNumberLabel = new JLabel(&quot;Enter First Number: &quot;);//Label used to display text that cannot be edited\n        firstNumberLabel.setBounds(10, 10, 150, 25);//set location in the frame\n        add(firstNumberLabel);//this &quot;add&quot; method is inherited from class JFrame\n        \n        firstNumberField = new JTextField(&quot;0.00&quot;);//Field used to display text that can be edited \n        firstNumberField.setBounds(170 , 10 , 150 , 25 );\n        add(firstNumberField);\n        \n        secondNumberLabel = new JLabel(&quot;Enter Second Number: &quot;);\n        secondNumberLabel.setBounds(10, 45 , 150, 25);//set location in the frame\n        add(secondNumberLabel);\n        \n        secondNumberField = new JTextField(&quot;0.00&quot;);\n        secondNumberField.setBounds(170 , 45 , 150 , 25 );\n        add(secondNumberField);\n        \n        resultField = new JTextField(&quot;0.00&quot;);//result of calculation box in centre of frame\n        resultField.setBounds(100 , 90 , 200 , 50);\n        resultField.setEditable(false);//ensure the user cannot edit this box\n        add(resultField);\n        \n        buttonPanel.setBounds(100 , 160 , 200 , 150);\n        buttonPanel.setBackground(Color.red); //set colour to make it stand out from the grey\n        add(buttonPanel);//&quot;add&quot; adds to the JFrame\n        \n        buttonPanel.setLayout(new GridLayout (3,2));//GridLayout automatically sorts in rows and columns\n        JButton[] buttons = {addButton , subtractButton , multiplyButton , \n                            divideButton , clearButton , quitButton};\n        ButtonHandler handler = new ButtonHandler();\n        \n        for(JButton button : buttons)\n        {    \n            buttonPanel.add(button);\n            button.addActionListener(handler);\n        }//end for\n     }//end of constructor for class Calc \n    \n    private class ButtonHandler implements ActionListener\n    {\n       public void actionPerformed(ActionEvent event) \n       {\n                if(event.getSource() == clearButton)\n                {\n                    firstNumberField.setText(&quot;0.00&quot;);\n                    secondNumberField.setText(&quot;0.00&quot;);\n\n                }\n                else if(event.getSource() == quitButton);\n                {\n                    System.exit(0);\n                }\n       }\n    }//end of inner class ButtonHandler\n        \n}//end class Calc\n</code></pre>\n"},{"tags":["java","spring-boot","redis","jedis","http-caching"],"comments":[{"owner":{"account_id":14848248,"reputation":2797,"user_id":10946202,"display_name":"Harshank Bansal"},"score":0,"creation_date":1652616222,"post_id":72247833,"comment_id":127644107,"body_markdown":"Which redis client are you using to talk to the redis server?","body":"Which redis client are you using to talk to the redis server?"},{"owner":{"account_id":12561356,"reputation":11,"user_id":9139008,"display_name":"Shivansh shandilya"},"score":0,"creation_date":1652617006,"post_id":72247833,"comment_id":127644274,"body_markdown":"@HarshankBansal I am using jedis","body":"@HarshankBansal I am using jedis"},{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1652618162,"post_id":72247833,"comment_id":127644513,"body_markdown":"Afaik jedis is a synchronous client, so why don&#39;t you wait for your post request to finish (at that point the key will be present due to the sync client) before sending the get request?","body":"Afaik jedis is a synchronous client, so why don&#39;t you wait for your post request to finish (at that point the key will be present due to the sync client) before sending the get request?"},{"owner":{"account_id":8937054,"reputation":1080,"user_id":6667539,"display_name":"Paplusc"},"score":0,"creation_date":1652618675,"post_id":72247833,"comment_id":127644617,"body_markdown":"Maybe you can configure a `@Retryable` with a delay in case you get a null.","body":"Maybe you can configure a <code>@Retryable</code> with a delay in case you get a null."}],"owner":{"account_id":12561356,"reputation":11,"user_id":9139008,"display_name":"Shivansh shandilya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652617155,"creation_date":1652614112,"question_id":72247833,"body_markdown":"I have two REST end-points \r\n1) POST request, this request does some long running task and fills the key-value pair in the cache.\r\n2) GET request this gets the data from the cache corresponding to a particular key.\r\n\r\nNow sometimes Spring-boot server gets the GET request even before the post request has finished processing, so I want some way such that the GET request waits for the key to get cached in the server. If within 1-second the key does not get cached null is returned from the GET end point.\r\n\r\nCan anyone please help me with some solution or a way to solve this problem.","title":"Redis wait for key to be cached in GET request","body":"<p>I have two REST end-points</p>\n<ol>\n<li>POST request, this request does some long running task and fills the key-value pair in the cache.</li>\n<li>GET request this gets the data from the cache corresponding to a particular key.</li>\n</ol>\n<p>Now sometimes Spring-boot server gets the GET request even before the post request has finished processing, so I want some way such that the GET request waits for the key to get cached in the server. If within 1-second the key does not get cached null is returned from the GET end point.</p>\n<p>Can anyone please help me with some solution or a way to solve this problem.</p>\n"},{"tags":["java","http","post","upload"],"comments":[{"owner":{"account_id":1985212,"reputation":11943,"user_id":2277817,"accept_rate":57,"display_name":"Gowtham"},"score":0,"creation_date":1417441968,"post_id":17173435,"comment_id":42936766,"body_markdown":"Think you should add the parameter `Content-Transfer-Encoding: binary`, since the uploading should be handled in binary form.","body":"Think you should add the parameter <code>Content-Transfer-Encoding: binary</code>, since the uploading should be handled in binary form."},{"owner":{"account_id":6053160,"reputation":196,"user_id":6643960,"accept_rate":44,"display_name":"nick"},"score":0,"creation_date":1469695479,"post_id":17173435,"comment_id":64646402,"body_markdown":"Maybe problem was because you are using BufferedReader.readLine() to get image?? You of course find image &quot;buggy&quot; because you need to use just InputStream.read(bytes, 0, bytes.length) and then outputStream.write(bytes) where outputStream is connection.getOutputStream();","body":"Maybe problem was because you are using BufferedReader.readLine() to get image?? You of course find image &quot;buggy&quot; because you need to use just InputStream.read(bytes, 0, bytes.length) and then outputStream.write(bytes) where outputStream is connection.getOutputStream();"}],"answers":[{"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1652400465,"creation_date":1371573248,"answer_id":17174260,"question_id":17173435,"body_markdown":"    import java.io.File;\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.HttpVersion;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.mime.MultipartEntity;\r\n    import org.apache.http.entity.mime.content.ContentBody;\r\n    import org.apache.http.entity.mime.content.FileBody;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.apache.http.params.CoreProtocolPNames;\r\n    import org.apache.http.util.EntityUtils;\r\n    \r\n    \r\n    public class PostFile {\r\n      public static void main(String[] args) throws Exception {\r\n        HttpClient httpclient = new DefaultHttpClient();\r\n        httpclient.getParams().setParameter(CoreProtocolPNames.PROTOCOL_VERSION, HttpVersion.HTTP_1_1);\r\n    \r\n        HttpPost httppost = new HttpPost(&quot;http://localhost:9000/upload&quot;);\r\n        File file = new File(&quot;C:\\\\Users\\\\joao\\\\Pictures\\\\bla.jpg&quot;);\r\n    \r\n        MultipartEntity mpEntity = new MultipartEntity();\r\n        ContentBody cbFile = new FileBody(file, &quot;image/jpeg&quot;);\r\n        mpEntity.addPart(&quot;userfile&quot;, cbFile);\r\n    \r\n    \r\n        httppost.setEntity(mpEntity);\r\n        System.out.println(&quot;executing request &quot; + httppost.getRequestLine());\r\n        HttpResponse response = httpclient.execute(httppost);\r\n        HttpEntity resEntity = response.getEntity();\r\n    \r\n        System.out.println(response.getStatusLine());\r\n        if (resEntity != null) {\r\n          System.out.println(EntityUtils.toString(resEntity));\r\n        }\r\n        if (resEntity != null) {\r\n          resEntity.consumeContent();\r\n        }\r\n    \r\n        httpclient.getConnectionManager().shutdown();\r\n      }\r\n    }\r\n\r\nUse [HttpClient][1] to work out this code. Its always better to use stable libraries other than handling from scratch, unless there is something to be handled in custom way.\r\n\r\n\r\n\r\n  [1]: http://hc.apache.org/downloads.cgi","title":"Send image file using java HTTP POST connections","body":"<pre><code>import java.io.File;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.mime.MultipartEntity;\nimport org.apache.http.entity.mime.content.ContentBody;\nimport org.apache.http.entity.mime.content.FileBody;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.apache.http.params.CoreProtocolPNames;\nimport org.apache.http.util.EntityUtils;\n\n\npublic class PostFile {\n  public static void main(String[] args) throws Exception {\n    HttpClient httpclient = new DefaultHttpClient();\n    httpclient.getParams().setParameter(CoreProtocolPNames.PROTOCOL_VERSION, HttpVersion.HTTP_1_1);\n\n    HttpPost httppost = new HttpPost(&quot;http://localhost:9000/upload&quot;);\n    File file = new File(&quot;C:\\\\Users\\\\joao\\\\Pictures\\\\bla.jpg&quot;);\n\n    MultipartEntity mpEntity = new MultipartEntity();\n    ContentBody cbFile = new FileBody(file, &quot;image/jpeg&quot;);\n    mpEntity.addPart(&quot;userfile&quot;, cbFile);\n\n\n    httppost.setEntity(mpEntity);\n    System.out.println(&quot;executing request &quot; + httppost.getRequestLine());\n    HttpResponse response = httpclient.execute(httppost);\n    HttpEntity resEntity = response.getEntity();\n\n    System.out.println(response.getStatusLine());\n    if (resEntity != null) {\n      System.out.println(EntityUtils.toString(resEntity));\n    }\n    if (resEntity != null) {\n      resEntity.consumeContent();\n    }\n\n    httpclient.getConnectionManager().shutdown();\n  }\n}\n</code></pre>\n<p>Use <a href=\"http://hc.apache.org/downloads.cgi\" rel=\"nofollow noreferrer\">HttpClient</a> to work out this code. Its always better to use stable libraries other than handling from scratch, unless there is something to be handled in custom way.</p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396300178,"creation_date":1386173365,"answer_id":20380256,"question_id":17173435,"body_markdown":"Reader/Writer classes are designed to handle text data, while images are binary. You need to interpret your files as binary:\r\n\r\n    FileChannel         in  = new FileInputStream(fileToUpload).getChannel();\r\n    WritableByteChannel out = Channels.newChannel(connection.getOutputStream());\r\n    \r\n    in.transferTo(0, fileToUpload.size(), out)\r\n\r\nOf course, you still need to close all opened resources. ","title":"Send image file using java HTTP POST connections","body":"<p>Reader/Writer classes are designed to handle text data, while images are binary. You need to interpret your files as binary:</p>\n\n<pre><code>FileChannel         in  = new FileInputStream(fileToUpload).getChannel();\nWritableByteChannel out = Channels.newChannel(connection.getOutputStream());\n\nin.transferTo(0, fileToUpload.size(), out)\n</code></pre>\n\n<p>Of course, you still need to close all opened resources. </p>\n"},{"tags":[],"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402662010,"creation_date":1402662010,"answer_id":24205147,"question_id":17173435,"body_markdown":"Try that:\r\n\r\n    private DefaultHttpClient mHttpClient;\r\n    Context context;\r\n    public String error = &quot;&quot;;\r\n\r\n    //Contrutor para que metodos possam ser usados fora de uma activity\r\n    public HTTPconector(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n\r\n    public HTTPconector() {\r\n        HttpParams params = new BasicHttpParams();\r\n        params.setParameter(CoreProtocolPNames.PROTOCOL_VERSION, HttpVersion.HTTP_1_1);\r\n        mHttpClient = new DefaultHttpClient(params);\r\n    }\r\n\r\n\r\n    public void FileClientPost(String txtUrl, File file){\r\n        try\r\n        {\r\n            error = &quot;&quot;;\r\n            HttpPost httppost = new HttpPost(txtUrl);\r\n            MultipartEntity multipartEntity = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE);\r\n            multipartEntity.addPart(&quot;Image&quot;, new FileBody(file));\r\n            httppost.setEntity(multipartEntity);\r\n            mHttpClient.execute(httppost, new PhotoUploadResponseHandler());\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            Log.e(HTTPconector.class.getName(), e.getLocalizedMessage(), e);\r\n            e.getStackTrace();\r\n            error = e.getMessage();\r\n        }\r\n    }\r\n\r\n    //Verifica se a rede esta dispon&#237;vel\r\n    public boolean isNetworkAvailable() {\r\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo networkInfo = cm.getActiveNetworkInfo();\r\n        // if no network is available networkInfo will be null\r\n        // otherwise check if we are connected\r\n        if (networkInfo != null &amp;&amp; networkInfo.isConnected()) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public String Get(String txtUrl){\r\n        try {\r\n            URL url = new URL(txtUrl);\r\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n            con.setReadTimeout(10000);\r\n            con.setConnectTimeout(15000);\r\n            con.setRequestMethod(&quot;GET&quot;);\r\n            con.setDoInput(true);\r\n            con.connect();\r\n\r\n            return readStream(con.getInputStream());\r\n\r\n        }  catch (ProtocolException e) {\r\n            e.printStackTrace();\r\n            return &quot;ERRO: &quot;+e.getMessage();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return &quot;ERRO: &quot;+e.getMessage();\r\n        }\r\n    }\r\n\r\n\r\n    public String Post(String txtUrl){\r\n        File image;\r\n\r\n        try {\r\n            URL url = new URL(txtUrl);\r\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            con.setDoInput(true);\r\n            con.setDoOutput(true);\r\n            con.connect();\r\n\r\n            //con.getOutputStream().write( (&quot;name=&quot; + &quot;aa&quot;).getBytes());\r\n\r\n            return readStream(con.getInputStream());\r\n        } catch (ProtocolException e) {\r\n            e.printStackTrace();\r\n            return &quot;ERRO: &quot;+e.getMessage();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return &quot;ERRO: &quot;+e.getMessage();\r\n        }\r\n    }\r\n\r\n\r\n    //Usado para fazer conex&#227;o com a internet\r\n    public String conectar(String u){\r\n        String resultServer = &quot;&quot;;\r\n        try {\r\n            URL url = new URL(u);\r\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n            resultServer = readStream(con.getInputStream());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            resultServer = &quot;ERRO: &quot;+ e.getMessage();\r\n        }\r\n\r\n        Log.i(&quot;HTTPMANAGER: &quot;, resultServer);\r\n        return resultServer;\r\n    }\r\n\r\n    //L&#234; o resultado da conex&#227;o\r\n    private String readStream(InputStream in) {\r\n        String serverResult = &quot;&quot;;\r\n        BufferedReader reader = null;\r\n        try {\r\n            reader = new BufferedReader(new InputStreamReader(in));\r\n            String line = &quot;&quot;;\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n\r\n            serverResult = reader.toString();\r\n        }   catch (IOException e) {\r\n            e.printStackTrace();\r\n            serverResult = &quot;ERRO: &quot;+ e.getMessage();\r\n        } finally {\r\n            if (reader != null) {\r\n                try {\r\n                    reader.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                    serverResult = &quot;ERRO: &quot;+ e.getMessage();\r\n                }\r\n            }\r\n        }\r\n        return  serverResult;\r\n    }\r\n\r\n    private class PhotoUploadResponseHandler implements ResponseHandler&lt;Object&gt;\r\n    {\r\n        @Override\r\n        public Object handleResponse(HttpResponse response)throws ClientProtocolException, IOException {\r\n\r\n            HttpEntity r_entity = response.getEntity();\r\n            String responseString = EntityUtils.toString(r_entity);\r\n            Log.d(&quot;UPLOAD&quot;, responseString);\r\n            return null;\r\n        }\r\n    }\r\n","title":"Send image file using java HTTP POST connections","body":"<p>Try that:</p>\n\n<pre><code>private DefaultHttpClient mHttpClient;\nContext context;\npublic String error = \"\";\n\n//Contrutor para que metodos possam ser usados fora de uma activity\npublic HTTPconector(Context context) {\n    this.context = context;\n}\n\n\npublic HTTPconector() {\n    HttpParams params = new BasicHttpParams();\n    params.setParameter(CoreProtocolPNames.PROTOCOL_VERSION, HttpVersion.HTTP_1_1);\n    mHttpClient = new DefaultHttpClient(params);\n}\n\n\npublic void FileClientPost(String txtUrl, File file){\n    try\n    {\n        error = \"\";\n        HttpPost httppost = new HttpPost(txtUrl);\n        MultipartEntity multipartEntity = new MultipartEntity(HttpMultipartMode.BROWSER_COMPATIBLE);\n        multipartEntity.addPart(\"Image\", new FileBody(file));\n        httppost.setEntity(multipartEntity);\n        mHttpClient.execute(httppost, new PhotoUploadResponseHandler());\n    }\n    catch (Exception e)\n    {\n        Log.e(HTTPconector.class.getName(), e.getLocalizedMessage(), e);\n        e.getStackTrace();\n        error = e.getMessage();\n    }\n}\n\n//Verifica se a rede esta disponível\npublic boolean isNetworkAvailable() {\n    ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkInfo networkInfo = cm.getActiveNetworkInfo();\n    // if no network is available networkInfo will be null\n    // otherwise check if we are connected\n    if (networkInfo != null &amp;&amp; networkInfo.isConnected()) {\n        return true;\n    }\n    return false;\n}\n\npublic String Get(String txtUrl){\n    try {\n        URL url = new URL(txtUrl);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setReadTimeout(10000);\n        con.setConnectTimeout(15000);\n        con.setRequestMethod(\"GET\");\n        con.setDoInput(true);\n        con.connect();\n\n        return readStream(con.getInputStream());\n\n    }  catch (ProtocolException e) {\n        e.printStackTrace();\n        return \"ERRO: \"+e.getMessage();\n    } catch (IOException e) {\n        e.printStackTrace();\n        return \"ERRO: \"+e.getMessage();\n    }\n}\n\n\npublic String Post(String txtUrl){\n    File image;\n\n    try {\n        URL url = new URL(txtUrl);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setRequestMethod(\"POST\");\n        con.setDoInput(true);\n        con.setDoOutput(true);\n        con.connect();\n\n        //con.getOutputStream().write( (\"name=\" + \"aa\").getBytes());\n\n        return readStream(con.getInputStream());\n    } catch (ProtocolException e) {\n        e.printStackTrace();\n        return \"ERRO: \"+e.getMessage();\n    } catch (IOException e) {\n        e.printStackTrace();\n        return \"ERRO: \"+e.getMessage();\n    }\n}\n\n\n//Usado para fazer conexão com a internet\npublic String conectar(String u){\n    String resultServer = \"\";\n    try {\n        URL url = new URL(u);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        resultServer = readStream(con.getInputStream());\n    } catch (Exception e) {\n        e.printStackTrace();\n        resultServer = \"ERRO: \"+ e.getMessage();\n    }\n\n    Log.i(\"HTTPMANAGER: \", resultServer);\n    return resultServer;\n}\n\n//Lê o resultado da conexão\nprivate String readStream(InputStream in) {\n    String serverResult = \"\";\n    BufferedReader reader = null;\n    try {\n        reader = new BufferedReader(new InputStreamReader(in));\n        String line = \"\";\n        while ((line = reader.readLine()) != null) {\n            System.out.println(line);\n        }\n\n        serverResult = reader.toString();\n    }   catch (IOException e) {\n        e.printStackTrace();\n        serverResult = \"ERRO: \"+ e.getMessage();\n    } finally {\n        if (reader != null) {\n            try {\n                reader.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n                serverResult = \"ERRO: \"+ e.getMessage();\n            }\n        }\n    }\n    return  serverResult;\n}\n\nprivate class PhotoUploadResponseHandler implements ResponseHandler&lt;Object&gt;\n{\n    @Override\n    public Object handleResponse(HttpResponse response)throws ClientProtocolException, IOException {\n\n        HttpEntity r_entity = response.getEntity();\n        String responseString = EntityUtils.toString(r_entity);\n        Log.d(\"UPLOAD\", responseString);\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6645038,"reputation":337,"user_id":5129488,"display_name":"whati001"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546802881,"creation_date":1546800589,"answer_id":54064776,"question_id":17173435,"body_markdown":"Today I run into the same issue, I wrote a little [nodejs][1] server supports just two routes, upload and download images.\r\n\r\nClient should be a java class which sends a images payload via [HTTP POST multipart/form-data][2] standard to the server.\r\n\r\nIf you would like to know why [HTTP POST multipart/form-data][2], please check out the answer from Ciro Santilli from this post: https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean\r\n\r\nLuckily I found this nice and really good example code:\r\n\r\nhttps://www.techcoil.com/blog/how-to-upload-a-file-via-a-http-multipart-request-in-java-without-using-any-external-libraries/\r\n\r\nIt shows how we can build up the payload of an multipart http body manuelly without any external lib, only little limitation from my perspective is, that it only handle a mulitpart body with one file.\r\n\r\n-------------------------------------------------------------\r\nBecause I had no HTML page to sniff the generated POST payload, I used [python][3] to generate it and sniff it via [wireshark][4].\r\n\r\nPython3 code:\r\n\r\n    import requests\r\n    posturl = &#39;http://&lt;server&gt;:&lt;port&gt;/&lt;path&gt;&#39;\r\n    files = {&#39;image&#39; : open(&#39;&lt;file&gt;&#39;, &#39;rb&#39;)}\r\n    r = requests.post(posturl, files = files)\r\n\r\nJust for note: if we define the parameter **files** from the requests lib with an dict, it generates an mulipart/form-data content. \r\nhttp://docs.python-requests.org/en/master/user/advanced/#post-multiple-multipart-encoded-files\r\n\r\nWireshark shows everything very clear and finally I ended up with this for sending java:\r\n\r\n    HttpURLConnection conn =\r\n            (HttpURLConnection) new URL(&quot;http://&lt;server&gt;:&lt;port&gt;/&lt;path&gt;&quot;)).openConnection();\r\n    \r\n    // some arbitrary text for multitext boundary\r\n    // only 7-bit US-ASCII digits max length 70\r\n    String boundary_string = &quot;some radom/arbitrary text&quot;;\r\n    \r\n    // we want to write out\r\n    conn.setDoOutput(true);\r\n    conn.setRequestMethod(&quot;POST&quot;);\r\n    conn.addRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot; + boundary_string);\r\n    \r\n    // now we write out the multipart to the body\r\n    OutputStream conn_out = conn.getOutputStream();\r\n    BufferedWriter conn_out_writer = new BufferedWriter(new OutputStreamWriter(conn_out));\r\n    // write out multitext body based on w3 standard\r\n    // https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html\r\n    conn_out_writer.write(&quot;\\r\\n--&quot; + boundary_string + &quot;\\r\\n&quot;);\r\n    conn_out_writer.write(&quot;Content-Disposition: form-data; &quot; +\r\n            &quot;name=\\&quot;image\\&quot;; &quot; +\r\n            &quot;filename=\\&quot;&quot;+ &lt;File class instance&gt;.getName() +&quot;\\&quot;&quot; +\r\n            &quot;\\r\\n\\r\\n&quot;);\r\n    conn_out_writer.flush();\r\n    \r\n    // payload from the file\r\n    FileInputStream file_stream = new FileInputStream(&lt;File class instance&gt;);\r\n    // write direct to outputstream instance, because we write now bytes and not strings\r\n    int read_bytes;\r\n    byte[] buffer = new byte[1024];\r\n    while((read_bytes = file_stream.read(buffer)) != -1) {\r\n    conn_out.write(buffer, 0, read_bytes);\r\n    }\r\n    conn_out.flush();\r\n    // close multipart body\r\n    conn_out_writer.write(&quot;\\r\\n--&quot; + boundary_string + &quot;--\\r\\n&quot;);\r\n    conn_out_writer.flush();\r\n    \r\n    // close all the streams\r\n    conn_out_writer.close();\r\n    conn_out.close();\r\n    file_stream.close();\r\n    // execute and get response code\r\n    conn.getResponseCode();\r\n\r\n\r\n\r\nTo get the response from the POST just read the input stream accessed via getInputStream(), code snipped in the link.\r\n\r\n\r\n  [1]: https://nodejs.org/en/\r\n  [2]: https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html\r\n  [3]: https://www.python.org/\r\n  [4]: https://www.wireshark.org/","title":"Send image file using java HTTP POST connections","body":"<p>Today I run into the same issue, I wrote a little <a href=\"https://nodejs.org/en/\" rel=\"nofollow noreferrer\">nodejs</a> server supports just two routes, upload and download images.</p>\n\n<p>Client should be a java class which sends a images payload via <a href=\"https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html\" rel=\"nofollow noreferrer\">HTTP POST multipart/form-data</a> standard to the server.</p>\n\n<p>If you would like to know why <a href=\"https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html\" rel=\"nofollow noreferrer\">HTTP POST multipart/form-data</a>, please check out the answer from Ciro Santilli from this post: <a href=\"https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean\">What does enctype=&#39;multipart/form-data&#39; mean?</a></p>\n\n<p>Luckily I found this nice and really good example code:</p>\n\n<p><a href=\"https://www.techcoil.com/blog/how-to-upload-a-file-via-a-http-multipart-request-in-java-without-using-any-external-libraries/\" rel=\"nofollow noreferrer\">https://www.techcoil.com/blog/how-to-upload-a-file-via-a-http-multipart-request-in-java-without-using-any-external-libraries/</a></p>\n\n<p>It shows how we can build up the payload of an multipart http body manuelly without any external lib, only little limitation from my perspective is, that it only handle a mulitpart body with one file.</p>\n\n<hr>\n\n<p>Because I had no HTML page to sniff the generated POST payload, I used <a href=\"https://www.python.org/\" rel=\"nofollow noreferrer\">python</a> to generate it and sniff it via <a href=\"https://www.wireshark.org/\" rel=\"nofollow noreferrer\">wireshark</a>.</p>\n\n<p>Python3 code:</p>\n\n<pre><code>import requests\nposturl = 'http://&lt;server&gt;:&lt;port&gt;/&lt;path&gt;'\nfiles = {'image' : open('&lt;file&gt;', 'rb')}\nr = requests.post(posturl, files = files)\n</code></pre>\n\n<p>Just for note: if we define the parameter <strong>files</strong> from the requests lib with an dict, it generates an mulipart/form-data content. \n<a href=\"http://docs.python-requests.org/en/master/user/advanced/#post-multiple-multipart-encoded-files\" rel=\"nofollow noreferrer\">http://docs.python-requests.org/en/master/user/advanced/#post-multiple-multipart-encoded-files</a></p>\n\n<p>Wireshark shows everything very clear and finally I ended up with this for sending java:</p>\n\n<pre><code>HttpURLConnection conn =\n        (HttpURLConnection) new URL(\"http://&lt;server&gt;:&lt;port&gt;/&lt;path&gt;\")).openConnection();\n\n// some arbitrary text for multitext boundary\n// only 7-bit US-ASCII digits max length 70\nString boundary_string = \"some radom/arbitrary text\";\n\n// we want to write out\nconn.setDoOutput(true);\nconn.setRequestMethod(\"POST\");\nconn.addRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=\" + boundary_string);\n\n// now we write out the multipart to the body\nOutputStream conn_out = conn.getOutputStream();\nBufferedWriter conn_out_writer = new BufferedWriter(new OutputStreamWriter(conn_out));\n// write out multitext body based on w3 standard\n// https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html\nconn_out_writer.write(\"\\r\\n--\" + boundary_string + \"\\r\\n\");\nconn_out_writer.write(\"Content-Disposition: form-data; \" +\n        \"name=\\\"image\\\"; \" +\n        \"filename=\\\"\"+ &lt;File class instance&gt;.getName() +\"\\\"\" +\n        \"\\r\\n\\r\\n\");\nconn_out_writer.flush();\n\n// payload from the file\nFileInputStream file_stream = new FileInputStream(&lt;File class instance&gt;);\n// write direct to outputstream instance, because we write now bytes and not strings\nint read_bytes;\nbyte[] buffer = new byte[1024];\nwhile((read_bytes = file_stream.read(buffer)) != -1) {\nconn_out.write(buffer, 0, read_bytes);\n}\nconn_out.flush();\n// close multipart body\nconn_out_writer.write(\"\\r\\n--\" + boundary_string + \"--\\r\\n\");\nconn_out_writer.flush();\n\n// close all the streams\nconn_out_writer.close();\nconn_out.close();\nfile_stream.close();\n// execute and get response code\nconn.getResponseCode();\n</code></pre>\n\n<p>To get the response from the POST just read the input stream accessed via getInputStream(), code snipped in the link.</p>\n"},{"tags":[],"owner":{"account_id":21047140,"reputation":1,"user_id":15468246,"display_name":"Țoncu Ion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652617101,"creation_date":1647889007,"answer_id":71562758,"question_id":17173435,"body_markdown":"    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.protocol.BasicHttpContext;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.entity.mime.MultipartEntityBuilder;\r\n    import org.apache.http.entity.mime.HttpMultipartMode;\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n       \r\n       public void fileClientPost(){\r\n            HttpClient httpClient = HttpClientBuilder.create().build();\r\n            BasicHttpContext localContext = new BasicHttpContext();\r\n            \r\n            HttpPost httpPost = new HttpPost(url);\r\n            httpPost.setHeader(&quot;...&quot;, &quot;...&quot;);\r\n    \r\n            MultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n            builder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\r\n            HttpEntity entity = (HttpEntity) builder.addPart(&quot;file&quot;, new FileBody(new File(&quot;image.jpg&quot;)));\r\n            httpPost.setEntity(entity);\r\n    \r\n            HttpResponse response = httpClient.execute(httpPost, localContext);\r\n        }","title":"Send image file using java HTTP POST connections","body":"<pre><code>import org.apache.http.client.HttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.protocol.BasicHttpContext;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.mime.MultipartEntityBuilder;\nimport org.apache.http.entity.mime.HttpMultipartMode;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\n   \n   public void fileClientPost(){\n        HttpClient httpClient = HttpClientBuilder.create().build();\n        BasicHttpContext localContext = new BasicHttpContext();\n        \n        HttpPost httpPost = new HttpPost(url);\n        httpPost.setHeader(&quot;...&quot;, &quot;...&quot;);\n\n        MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n        builder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\n        HttpEntity entity = (HttpEntity) builder.addPart(&quot;file&quot;, new FileBody(new File(&quot;image.jpg&quot;)));\n        httpPost.setEntity(entity);\n\n        HttpResponse response = httpClient.execute(httpPost, localContext);\n    }\n</code></pre>\n"}],"owner":{"account_id":2264718,"reputation":203,"user_id":1993757,"accept_rate":20,"display_name":"asdt11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92831,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":5,"score":20,"last_activity_date":1652617101,"creation_date":1371570742,"question_id":17173435,"body_markdown":"I&#39;m trying to send an image to a website using Java HTTP POST requests.\r\n\r\nI&#39;m using the base code used here https://stackoverflow.com/questions/2469451/upload-files-with-java:\r\n\r\nThis is my modification:\r\n\r\n    String urlToConnect = &quot;http://localhost:9000/upload&quot;;\r\n    File fileToUpload = new File(&quot;C:\\\\Users\\\\joao\\\\Pictures\\\\bla.jpg&quot;);\r\n    String boundary = Long.toHexString(System.currentTimeMillis()); // Just generate some unique random value.\r\n\r\n    URLConnection connection = new URL(urlToConnect).openConnection();\r\n    connection.setDoOutput(true); // This sets request method to POST.\r\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot; + boundary);\r\n    PrintWriter writer = null;\r\n    try {\r\n        writer = new PrintWriter(new OutputStreamWriter(connection.getOutputStream()));\r\n        writer.println(&quot;--&quot; + boundary);\r\n        writer.println(&quot;Content-Disposition: form-data; name=\\&quot;picture\\&quot;; filename=\\&quot;bla.jpg\\&quot;&quot;);\r\n        writer.println(&quot;Content-Type: image/jpeg&quot;);\r\n        writer.println();\r\n        BufferedReader reader = null;\r\n        try {\r\n            reader = new BufferedReader(new InputStreamReader(new FileInputStream(fileToUpload)));\r\n            for (String line; (line = reader.readLine()) != null;) {\r\n                writer.println(line);\r\n            }\r\n        } finally {\r\n            if (reader != null) try { reader.close(); } catch (IOException logOrIgnore) {}\r\n        }\r\n        writer.println(&quot;--&quot; + boundary + &quot;--&quot;);\r\n    } finally {\r\n        if (writer != null) writer.close();\r\n    }\r\n\r\n    // Connection is lazily executed whenever you request any status.\r\n    int responseCode = ((HttpURLConnection) connection).getResponseCode();\r\n    System.out.println(responseCode); // Should be 200\r\n\r\nI get a 200 response code in the end, but the image is buggy, as in, random colors, which make me think it&#39;s an error in character encoding. I tried using UTF-8 as in the original example, but that just creates a corrupt image.\r\n\r\nI am also 100% sure it&#39;s not a serverside problem, because I can use rest clients such as Advanced Rest Client/Postman and they can send an image with no problems.\r\n\r\nCan you help me pinpoint what&#39;s wrong? Thank you.\r\n","title":"Send image file using java HTTP POST connections","body":"<p>I'm trying to send an image to a website using Java HTTP POST requests.</p>\n\n<p>I'm using the base code used here <a href=\"https://stackoverflow.com/questions/2469451/upload-files-with-java\">Upload files from Java client to a HTTP server</a>:</p>\n\n<p>This is my modification:</p>\n\n<pre><code>String urlToConnect = \"http://localhost:9000/upload\";\nFile fileToUpload = new File(\"C:\\\\Users\\\\joao\\\\Pictures\\\\bla.jpg\");\nString boundary = Long.toHexString(System.currentTimeMillis()); // Just generate some unique random value.\n\nURLConnection connection = new URL(urlToConnect).openConnection();\nconnection.setDoOutput(true); // This sets request method to POST.\nconnection.setRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=\" + boundary);\nPrintWriter writer = null;\ntry {\n    writer = new PrintWriter(new OutputStreamWriter(connection.getOutputStream()));\n    writer.println(\"--\" + boundary);\n    writer.println(\"Content-Disposition: form-data; name=\\\"picture\\\"; filename=\\\"bla.jpg\\\"\");\n    writer.println(\"Content-Type: image/jpeg\");\n    writer.println();\n    BufferedReader reader = null;\n    try {\n        reader = new BufferedReader(new InputStreamReader(new FileInputStream(fileToUpload)));\n        for (String line; (line = reader.readLine()) != null;) {\n            writer.println(line);\n        }\n    } finally {\n        if (reader != null) try { reader.close(); } catch (IOException logOrIgnore) {}\n    }\n    writer.println(\"--\" + boundary + \"--\");\n} finally {\n    if (writer != null) writer.close();\n}\n\n// Connection is lazily executed whenever you request any status.\nint responseCode = ((HttpURLConnection) connection).getResponseCode();\nSystem.out.println(responseCode); // Should be 200\n</code></pre>\n\n<p>I get a 200 response code in the end, but the image is buggy, as in, random colors, which make me think it's an error in character encoding. I tried using UTF-8 as in the original example, but that just creates a corrupt image.</p>\n\n<p>I am also 100% sure it's not a serverside problem, because I can use rest clients such as Advanced Rest Client/Postman and they can send an image with no problems.</p>\n\n<p>Can you help me pinpoint what's wrong? Thank you.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1652552764,"post_id":72242884,"comment_id":127635857,"body_markdown":"Please read [JDBC vs Web Service for Android](https://stackoverflow.com/q/15853367/295004)","body":"Please read <a href=\"https://stackoverflow.com/q/15853367/295004\">JDBC vs Web Service for Android</a>"},{"owner":{"account_id":25291408,"reputation":35,"user_id":19117418,"display_name":"Lila"},"score":0,"creation_date":1652553412,"post_id":72242884,"comment_id":127635961,"body_markdown":"I know that JDBC is not correct option, but I want to make it with JDBC and I know that this is possible, but I dont know where is my mistake","body":"I know that JDBC is not correct option, but I want to make it with JDBC and I know that this is possible, but I dont know where is my mistake"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1652557376,"post_id":72242884,"comment_id":127636657,"body_markdown":"While you&#39;ve added a `net.sourceforge.jtds.jdbc.Driver` to your `build.gradle` you didn&#39;t mention what version as Android supports an old version of Java. Related: [Java.lang.ClassNotFoundException: net.sourceforge.jtds.jdbc.Driver On Android](https://stackoverflow.com/q/12295264/295004)","body":"While you&#39;ve added a <code>net.sourceforge.jtds.jdbc.Driver</code> to your <code>build.gradle</code> you didn&#39;t mention what version as Android supports an old version of Java. Related: <a href=\"https://stackoverflow.com/q/12295264/295004\">Java.lang.ClassNotFoundException: net.sourceforge.jtds.jdbc.Driver On Android</a>"}],"answers":[{"tags":[],"owner":{"account_id":17166697,"reputation":119,"user_id":12424845,"display_name":"Svetoslav Panteleev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652616935,"creation_date":1652616935,"answer_id":72248173,"question_id":72242884,"body_markdown":"You try to import wrong library. Try to add this in dependencies in your build.gradle - implementation &#39;net.sourceforge.jtds:jtds:1.3.1&#39;","title":"Android project can&#39;t find net.sourceforge.jtds.jdbc.Driver","body":"<p>You try to import wrong library. Try to add this in dependencies in your build.gradle - implementation 'net.sourceforge.jtds:jtds:1.3.1'</p>\n"}],"owner":{"account_id":25291408,"reputation":35,"user_id":19117418,"display_name":"Lila"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72248173,"answer_count":1,"score":1,"last_activity_date":1652616935,"creation_date":1652552485,"question_id":72242884,"body_markdown":"I want to connect database to android project using android studio and sql server management studio. I add dependencie in build.gradle, but when I try to login into my application give me this error\r\n```\r\nW/System.err: java.lang.ClassNotFoundException: net.sourceforge.jtds.jdbc.Driver\r\n        at java.lang.Class.classForName(Native Method)\r\n        at java.lang.Class.forName(Class.java:454)\r\n        at java.lang.Class.forName(Class.java:379)\r\n        at com.example.warehousewithstocks.MainActivity.login(MainActivity.java:45)\r\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\n```\r\n\r\nThis is my MainActivity class\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private String ip = &quot;192.168.31.203&quot;;\r\n    private String port = &quot;1433&quot;;\r\n    private String classs = &quot;net.sourceforge.jtds.jdbc.Driver&quot;;\r\n    private String db = &quot;Warehouse&quot;;\r\n    private String un = &quot;mssqllogin&quot;;\r\n    private String password = &quot;mssqllogin$&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void login(View v) {\r\n        EditText usernameUser = (EditText) findViewById(R.id.username);\r\n        EditText passwordUser = (EditText) findViewById(R.id.password);\r\n\r\n        String strUsernameUser = usernameUser.getText().toString();\r\n        String strPasswordUser = passwordUser.getText().toString();\r\n\r\n\r\n        Connection conn = null;\r\n        String ConnURL = null;\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n        try {\r\n            Class.forName(classs);\r\n            ConnURL = &quot;jdbc:jtds:sqlserver://&quot; + ip + &quot;:&quot; + port + &quot;;&quot;\r\n                    + &quot;databaseName=&quot; + db + &quot;;user=&quot; + un + &quot;;password=&quot;\r\n                    + password + &quot;;&quot;;\r\n            conn = DriverManager.getConnection(ConnURL);\r\n            Statement statement = conn.createStatement();\r\n            ResultSet resultat = statement.executeQuery(&quot;select * from Accounts where Username_DB = &#39;&quot; + strUsernameUser + &quot;&#39; and Password_DB = &#39;&quot; + strPasswordUser + &quot;&#39;&quot;);\r\n            String IdAccount = &quot;&quot;;\r\n            if (resultat.next()) {\r\n                IdAccount = resultat.getString(&quot;ID_DB&quot;);\r\n                System.out.println(&quot;zzz &quot; + IdAccount);\r\n            } else {\r\n                System.out.println(&quot;zzz &quot; + IdAccount);\r\n            }\r\n            resultat.close();\r\n\r\n            statement.close();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is my activity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/gradient&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView2&quot;\r\n        android:layout_width=&quot;120dp&quot;\r\n        android:layout_height=&quot;150dp&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginStart=&quot;145dp&quot;\r\n        android:layout_marginEnd=&quot;146dp&quot;\r\n        android:layout_marginBottom=&quot;363dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:contentDescription=&quot;TODO&quot;\r\n        app:srcCompat=&quot;@drawable/logo&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/username&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginStart=&quot;111dp&quot;\r\n        android:layout_marginEnd=&quot;110dp&quot;\r\n        android:layout_marginBottom=&quot;270dp&quot;\r\n        android:background=&quot;#11000000&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Потребителско име&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:textSize=&quot;16dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginStart=&quot;110dp&quot;\r\n        android:layout_marginEnd=&quot;111dp&quot;\r\n        android:layout_marginBottom=&quot;202dp&quot;\r\n        android:background=&quot;#11000000&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Парола&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:inputType=&quot;textPassword&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;54dp&quot;\r\n        android:layout_marginEnd=&quot;56dp&quot;\r\n        android:layout_marginBottom=&quot;105dp&quot;\r\n        android:background=&quot;@drawable/button_background&quot;\r\n        android:onClick=&quot;login&quot;\r\n        android:shadowRadius=&quot;@android:integer/config_mediumAnimTime&quot;\r\n        android:text=&quot;Вход&quot; /&gt;\r\n\r\n\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nThis is my build.gradle\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.warehousewithstocks&quot;\r\n        minSdkVersion 23\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation files(&#39;net.sourceforge.jtds.jdbc.Driver&#39;)\r\n}\r\n```\r\n\r\nAnd this is my AndoridManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.warehousewithstocks&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.WarehouseWithStocks&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot; android:exported = &quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nCan you tell me what I missing?","title":"Android project can&#39;t find net.sourceforge.jtds.jdbc.Driver","body":"<p>I want to connect database to android project using android studio and sql server management studio. I add dependencie in build.gradle, but when I try to login into my application give me this error</p>\n<pre><code>W/System.err: java.lang.ClassNotFoundException: net.sourceforge.jtds.jdbc.Driver\n        at java.lang.Class.classForName(Native Method)\n        at java.lang.Class.forName(Class.java:454)\n        at java.lang.Class.forName(Class.java:379)\n        at com.example.warehousewithstocks.MainActivity.login(MainActivity.java:45)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n</code></pre>\n<p>This is my MainActivity class</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private String ip = &quot;192.168.31.203&quot;;\n    private String port = &quot;1433&quot;;\n    private String classs = &quot;net.sourceforge.jtds.jdbc.Driver&quot;;\n    private String db = &quot;Warehouse&quot;;\n    private String un = &quot;mssqllogin&quot;;\n    private String password = &quot;mssqllogin$&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void login(View v) {\n        EditText usernameUser = (EditText) findViewById(R.id.username);\n        EditText passwordUser = (EditText) findViewById(R.id.password);\n\n        String strUsernameUser = usernameUser.getText().toString();\n        String strPasswordUser = passwordUser.getText().toString();\n\n\n        Connection conn = null;\n        String ConnURL = null;\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n        StrictMode.setThreadPolicy(policy);\n        try {\n            Class.forName(classs);\n            ConnURL = &quot;jdbc:jtds:sqlserver://&quot; + ip + &quot;:&quot; + port + &quot;;&quot;\n                    + &quot;databaseName=&quot; + db + &quot;;user=&quot; + un + &quot;;password=&quot;\n                    + password + &quot;;&quot;;\n            conn = DriverManager.getConnection(ConnURL);\n            Statement statement = conn.createStatement();\n            ResultSet resultat = statement.executeQuery(&quot;select * from Accounts where Username_DB = '&quot; + strUsernameUser + &quot;' and Password_DB = '&quot; + strPasswordUser + &quot;'&quot;);\n            String IdAccount = &quot;&quot;;\n            if (resultat.next()) {\n                IdAccount = resultat.getString(&quot;ID_DB&quot;);\n                System.out.println(&quot;zzz &quot; + IdAccount);\n            } else {\n                System.out.println(&quot;zzz &quot; + IdAccount);\n            }\n            resultat.close();\n\n            statement.close();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is my activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/gradient&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView2&quot;\n        android:layout_width=&quot;120dp&quot;\n        android:layout_height=&quot;150dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;145dp&quot;\n        android:layout_marginEnd=&quot;146dp&quot;\n        android:layout_marginBottom=&quot;363dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:contentDescription=&quot;TODO&quot;\n        app:srcCompat=&quot;@drawable/logo&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/username&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;111dp&quot;\n        android:layout_marginEnd=&quot;110dp&quot;\n        android:layout_marginBottom=&quot;270dp&quot;\n        android:background=&quot;#11000000&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Потребителско име&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:textSize=&quot;16dp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/password&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginStart=&quot;110dp&quot;\n        android:layout_marginEnd=&quot;111dp&quot;\n        android:layout_marginBottom=&quot;202dp&quot;\n        android:background=&quot;#11000000&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Парола&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:inputType=&quot;textPassword&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;54dp&quot;\n        android:layout_marginEnd=&quot;56dp&quot;\n        android:layout_marginBottom=&quot;105dp&quot;\n        android:background=&quot;@drawable/button_background&quot;\n        android:onClick=&quot;login&quot;\n        android:shadowRadius=&quot;@android:integer/config_mediumAnimTime&quot;\n        android:text=&quot;Вход&quot; /&gt;\n\n\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>This is my build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 31\n\n    defaultConfig {\n        applicationId &quot;com.example.warehousewithstocks&quot;\n        minSdkVersion 23\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation files('net.sourceforge.jtds.jdbc.Driver')\n}\n</code></pre>\n<p>And this is my AndoridManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.warehousewithstocks&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.WarehouseWithStocks&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot; android:exported = &quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Can you tell me what I missing?</p>\n"},{"tags":["java","android","soap"],"answers":[{"tags":[],"owner":{"account_id":5993122,"reputation":1883,"user_id":4708665,"accept_rate":60,"display_name":"Sandeep dhiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1575029186,"creation_date":1575029186,"answer_id":59104461,"question_id":59104155,"body_markdown":"Please change your code like this &lt;br&gt;\r\n \r\n\r\n    public void addItem() {\r\n        String url=&quot;https://www.aspiresoft.ke/Wt/webtask.asmx&quot;;\r\n        String soap_action=&quot;http://tempuri.org/AddItem&quot;;\r\n        String method_name=&quot;AddItem&quot;;\r\n        String nameSpace=&quot;http://tempuri.org&quot;;\r\n    \r\n        SoapObject soapObject=new SoapObject(nameSpace,method_name);\r\n        soapObject.addProperty(&quot;UserName&quot;,strName);\r\n        soapObject.addProperty(&quot;ItemCode&quot;,strItemCode);\r\n        soapObject.addProperty(&quot;Description&quot;,strDescription);\r\n        soapObject.addProperty(&quot;Packaging&quot;,strPackage);\r\n        soapObject.addProperty(&quot;Unit&quot;,strUnits);\r\n        soapObject.addProperty(&quot;Photo&quot;,strPhoto);\r\n    \r\n        //configuring soap version\r\n        SoapSerializationEnvelope envelope=new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n        //specify true when you are calling dotnet WS(.asmx)\r\n        envelope.dotNet=true;\r\n        envelope.setOutputSoapObject(soapObject);\r\n    \r\n        //setting soap header\r\n        envelope.headerOut = new Element[1];\r\n        envelope.headerOut[0] = buildAuthHeader(nameSpace);\r\n    \r\n    \r\n        //transfer request over the network\r\n        HttpTransportSE httpsTranSE=new HttpTransportSE(url);\r\n        try{\r\n            httpsTranSE.call(soap_action,envelope);\r\n            envelope.getResponse();\r\n            SoapObject object=(SoapObject) envelope.bodyIn;\r\n            String response=object.getProperty(0).toString();\r\n            System.out.println(response);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    //Header\r\n    private Element buildAuthHeader(String nameSpace) {\r\n            Element h = new Element().createElement(nameSpace, &quot;AuthHeader&quot;);\r\n            Element username = new Element().createElement(nameSpace, &quot;userName&quot;);\r\n            username.addChild(Node.TEXT, &quot;1234&quot;);\r\n            h.addChild(Node.ELEMENT, username);\r\n            Element pass = new Element().createElement(nameSpace, &quot;password&quot;);\r\n            pass.addChild(Node.TEXT, &quot;4321&quot;);\r\n            h.addChild(Node.ELEMENT, pass);\r\n            return h;\r\n        }","title":"Android Cannot serialize: org.ksoap2.serialization.SoapSerializationEnvelope when using SOAP","body":"<p>Please change your code like this <br></p>\n\n<pre><code>public void addItem() {\n    String url=\"https://www.aspiresoft.ke/Wt/webtask.asmx\";\n    String soap_action=\"http://tempuri.org/AddItem\";\n    String method_name=\"AddItem\";\n    String nameSpace=\"http://tempuri.org\";\n\n    SoapObject soapObject=new SoapObject(nameSpace,method_name);\n    soapObject.addProperty(\"UserName\",strName);\n    soapObject.addProperty(\"ItemCode\",strItemCode);\n    soapObject.addProperty(\"Description\",strDescription);\n    soapObject.addProperty(\"Packaging\",strPackage);\n    soapObject.addProperty(\"Unit\",strUnits);\n    soapObject.addProperty(\"Photo\",strPhoto);\n\n    //configuring soap version\n    SoapSerializationEnvelope envelope=new SoapSerializationEnvelope(SoapEnvelope.VER11);\n    //specify true when you are calling dotnet WS(.asmx)\n    envelope.dotNet=true;\n    envelope.setOutputSoapObject(soapObject);\n\n    //setting soap header\n    envelope.headerOut = new Element[1];\n    envelope.headerOut[0] = buildAuthHeader(nameSpace);\n\n\n    //transfer request over the network\n    HttpTransportSE httpsTranSE=new HttpTransportSE(url);\n    try{\n        httpsTranSE.call(soap_action,envelope);\n        envelope.getResponse();\n        SoapObject object=(SoapObject) envelope.bodyIn;\n        String response=object.getProperty(0).toString();\n        System.out.println(response);\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n}\n\n//Header\nprivate Element buildAuthHeader(String nameSpace) {\n        Element h = new Element().createElement(nameSpace, \"AuthHeader\");\n        Element username = new Element().createElement(nameSpace, \"userName\");\n        username.addChild(Node.TEXT, \"1234\");\n        h.addChild(Node.ELEMENT, username);\n        Element pass = new Element().createElement(nameSpace, \"password\");\n        pass.addChild(Node.TEXT, \"4321\");\n        h.addChild(Node.ELEMENT, pass);\n        return h;\n    }\n</code></pre>\n"}],"owner":{"account_id":11293948,"reputation":1337,"user_id":8281996,"display_name":"Vishali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":59104461,"answer_count":1,"score":-1,"last_activity_date":1652616654,"creation_date":1575027852,"question_id":59104155,"body_markdown":"    public void addItem() {\r\n        String url=&quot;https://www.aspiresoft.ke/Wt/webtask.asmx&quot;;\r\n        String soap_action=&quot;http://tempuri.org/AddItem&quot;;\r\n        String method_name=&quot;AddItem&quot;;\r\n        String nameSpace=&quot;http://tempuri.org&quot;;\r\n\r\n        SoapObject soapObject=new SoapObject(nameSpace,method_name);\r\n        soapObject.addProperty(&quot;UserName&quot;,strName);\r\n        soapObject.addProperty(&quot;ItemCode&quot;,strItemCode);\r\n        soapObject.addProperty(&quot;Description&quot;,strDescription);\r\n        soapObject.addProperty(&quot;Packaging&quot;,strPackage);\r\n        soapObject.addProperty(&quot;Unit&quot;,strUnits);\r\n        soapObject.addProperty(&quot;Photo&quot;,strPhoto);\r\n\r\n        //configuring soap version\r\n        SoapSerializationEnvelope envelope=new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n        //specify true when you are calling dotnet WS(.asmx)\r\n        envelope.dotNet=true;\r\n        envelope.setOutputSoapObject(envelope);\r\n\r\n        //setting soap header\r\n        envelope.headerOut = new Element[1];\r\n        envelope.headerOut[0] = buildAuthHeader(nameSpace);\r\n\r\n\r\n        //transfer request over the network\r\n        HttpTransportSE httpsTranSE=new HttpTransportSE(url);\r\n        try{\r\n            httpsTranSE.call(soap_action,envelope);\r\n            envelope.getResponse();\r\n            SoapObject object=(SoapObject) envelope.bodyIn;\r\n            String response=object.getProperty(0).toString();\r\n            System.out.println(response);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    //Header\r\n    private Element buildAuthHeader(String nameSpace) {\r\n            Element h = new Element().createElement(nameSpace, &quot;AuthHeader&quot;);\r\n            Element username = new Element().createElement(nameSpace, &quot;userName&quot;);\r\n            username.addChild(Node.TEXT, &quot;1234&quot;);\r\n            h.addChild(Node.ELEMENT, username);\r\n            Element pass = new Element().createElement(nameSpace, &quot;password&quot;);\r\n            pass.addChild(Node.TEXT, &quot;4321&quot;);\r\n            h.addChild(Node.ELEMENT, pass);\r\n            return h;\r\n        }\r\n\r\nI am using SOAP API in my application. I haven&#39;t used this before. When I try to execute I am getting &quot;cannot serialize&quot; error. I have checked this API in Postman, and it&#39;s working.\r\n","title":"Android Cannot serialize: org.ksoap2.serialization.SoapSerializationEnvelope when using SOAP","body":"<pre><code>public void addItem() {\n    String url=&quot;https://www.aspiresoft.ke/Wt/webtask.asmx&quot;;\n    String soap_action=&quot;http://tempuri.org/AddItem&quot;;\n    String method_name=&quot;AddItem&quot;;\n    String nameSpace=&quot;http://tempuri.org&quot;;\n\n    SoapObject soapObject=new SoapObject(nameSpace,method_name);\n    soapObject.addProperty(&quot;UserName&quot;,strName);\n    soapObject.addProperty(&quot;ItemCode&quot;,strItemCode);\n    soapObject.addProperty(&quot;Description&quot;,strDescription);\n    soapObject.addProperty(&quot;Packaging&quot;,strPackage);\n    soapObject.addProperty(&quot;Unit&quot;,strUnits);\n    soapObject.addProperty(&quot;Photo&quot;,strPhoto);\n\n    //configuring soap version\n    SoapSerializationEnvelope envelope=new SoapSerializationEnvelope(SoapEnvelope.VER11);\n    //specify true when you are calling dotnet WS(.asmx)\n    envelope.dotNet=true;\n    envelope.setOutputSoapObject(envelope);\n\n    //setting soap header\n    envelope.headerOut = new Element[1];\n    envelope.headerOut[0] = buildAuthHeader(nameSpace);\n\n\n    //transfer request over the network\n    HttpTransportSE httpsTranSE=new HttpTransportSE(url);\n    try{\n        httpsTranSE.call(soap_action,envelope);\n        envelope.getResponse();\n        SoapObject object=(SoapObject) envelope.bodyIn;\n        String response=object.getProperty(0).toString();\n        System.out.println(response);\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n}\n\n//Header\nprivate Element buildAuthHeader(String nameSpace) {\n        Element h = new Element().createElement(nameSpace, &quot;AuthHeader&quot;);\n        Element username = new Element().createElement(nameSpace, &quot;userName&quot;);\n        username.addChild(Node.TEXT, &quot;1234&quot;);\n        h.addChild(Node.ELEMENT, username);\n        Element pass = new Element().createElement(nameSpace, &quot;password&quot;);\n        pass.addChild(Node.TEXT, &quot;4321&quot;);\n        h.addChild(Node.ELEMENT, pass);\n        return h;\n    }\n</code></pre>\n<p>I am using SOAP API in my application. I haven't used this before. When I try to execute I am getting &quot;cannot serialize&quot; error. I have checked this API in Postman, and it's working.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1652566808,"post_id":72238627,"comment_id":127638113,"body_markdown":"How do you generate the target table in this code?  Could you dump the DDL of table: Book in h2 database. \nI assume the result also depends on the target table, especially the sequence definition.","body":"How do you generate the target table in this code?  Could you dump the DDL of table: Book in h2 database.  I assume the result also depends on the target table, especially the sequence definition."}],"owner":{"account_id":19480151,"reputation":31,"user_id":14250670,"display_name":"omid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652616368,"creation_date":1652517790,"question_id":72238627,"body_markdown":"I&#39;m trying different hibernate id generation strategies and I&#39;ve noticed that it seems like hibernate ignores `allocationSize`.\r\n\r\nI have the following entity class:\r\n\r\n```\r\n@Entity\r\n@TableGenerator(name = &quot;id_gen&quot;, allocationSize = 100)\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;id_gen&quot;)\r\n    private long id;\r\n    private String title;\r\n}\r\n```\r\n\r\nWhen I run the following code:\r\n\r\n```\r\nem.persist(book); //id is 0\r\nem.persist(book1); // id is 0\r\n\r\n```\r\n\r\nThis is what gets logged:\r\n\r\n```\r\nHibernate: \r\n    select\r\n        tbl.next_val \r\n    from\r\n        id_gen tbl \r\n    where\r\n        tbl.sequence_name=? for update\r\nHibernate: \r\n    update\r\n        id_gen \r\n    set\r\n        next_val=?  \r\n    where\r\n        next_val=? \r\n        and sequence_name=?\r\nHibernate: \r\n    select\r\n        tbl.next_val \r\n    from\r\n        id_gen tbl \r\n    where\r\n        tbl.sequence_name=? for update\r\nHibernate: \r\n    update\r\n        id_gen \r\n    set\r\n        next_val=?  \r\n    where\r\n        next_val=? \r\n        and sequence_name=?\r\n```\r\nIn my entity class the `allocationSize` is set to 100, but as you can see in the logs hibernate executes a sql query to get the next id every time.\r\n\r\nNow I don&#39;t understand what is going on exactly. Am I doing something wrong? do I need more config? or maybe this log does not really get executed in the database. could someone please clarify this?\r\n\r\nBy the way, I&#39;m using h2 database.\r\n\r\n\r\n**Edit**\r\n\r\npersistence.xml:\r\n```\r\n&lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:h2:~/library;DB_CLOSE_ON_EXIT=FALSE&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value = &quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/properties&gt;\r\n```\r\n\r\nDDL Logs:\r\n```\r\nHibernate: \r\n    \r\n    drop table if exists Book cascade \r\nHibernate: \r\n    \r\n    drop table if exists id_gen cascade \r\nHibernate: \r\n    \r\n    create table Book (\r\n       id bigint not null,\r\n        title varchar(255),\r\n        primary key (id)\r\n    )\r\n\r\nHibernate: \r\n    \r\n    create table id_gen (\r\n       sequence_name varchar(255) not null,\r\n        next_val bigint,\r\n        primary key (sequence_name)\r\n    )\r\nHibernate: \r\n    \r\n    insert into id_gen(sequence_name, next_val) values (&#39;Book&#39;,0)\r\n```\r\n\r\nH2 tables:\r\n\r\n[![book table][1]][1]\r\n[![id_gen table][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HRWKY.png\r\n  [2]: https://i.stack.imgur.com/7S79P.png","title":"It&#39;s seems hibernate ignores allocationSize","body":"<p>I'm trying different hibernate id generation strategies and I've noticed that it seems like hibernate ignores <code>allocationSize</code>.</p>\n<p>I have the following entity class:</p>\n<pre><code>@Entity\n@TableGenerator(name = &quot;id_gen&quot;, allocationSize = 100)\npublic class Book {\n    @Id\n    @GeneratedValue(generator = &quot;id_gen&quot;)\n    private long id;\n    private String title;\n}\n</code></pre>\n<p>When I run the following code:</p>\n<pre><code>em.persist(book); //id is 0\nem.persist(book1); // id is 0\n\n</code></pre>\n<p>This is what gets logged:</p>\n<pre><code>Hibernate: \n    select\n        tbl.next_val \n    from\n        id_gen tbl \n    where\n        tbl.sequence_name=? for update\nHibernate: \n    update\n        id_gen \n    set\n        next_val=?  \n    where\n        next_val=? \n        and sequence_name=?\nHibernate: \n    select\n        tbl.next_val \n    from\n        id_gen tbl \n    where\n        tbl.sequence_name=? for update\nHibernate: \n    update\n        id_gen \n    set\n        next_val=?  \n    where\n        next_val=? \n        and sequence_name=?\n</code></pre>\n<p>In my entity class the <code>allocationSize</code> is set to 100, but as you can see in the logs hibernate executes a sql query to get the next id every time.</p>\n<p>Now I don't understand what is going on exactly. Am I doing something wrong? do I need more config? or maybe this log does not really get executed in the database. could someone please clarify this?</p>\n<p>By the way, I'm using h2 database.</p>\n<p><strong>Edit</strong></p>\n<p>persistence.xml:</p>\n<pre><code>&lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;org.h2.Driver&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:h2:~/library;DB_CLOSE_ON_EXIT=FALSE&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value = &quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n        &lt;/properties&gt;\n</code></pre>\n<p>DDL Logs:</p>\n<pre><code>Hibernate: \n    \n    drop table if exists Book cascade \nHibernate: \n    \n    drop table if exists id_gen cascade \nHibernate: \n    \n    create table Book (\n       id bigint not null,\n        title varchar(255),\n        primary key (id)\n    )\n\nHibernate: \n    \n    create table id_gen (\n       sequence_name varchar(255) not null,\n        next_val bigint,\n        primary key (sequence_name)\n    )\nHibernate: \n    \n    insert into id_gen(sequence_name, next_val) values ('Book',0)\n</code></pre>\n<p>H2 tables:</p>\n<p><a href=\"https://i.stack.imgur.com/HRWKY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HRWKY.png\" alt=\"book table\" /></a>\n<a href=\"https://i.stack.imgur.com/7S79P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7S79P.png\" alt=\"id_gen table\" /></a></p>\n"},{"tags":["java","spring-boot","web-services","httprequest"],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652615309,"creation_date":1652615309,"answer_id":72247974,"question_id":72238004,"body_markdown":"You can inject a [TaskScheduler](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/TaskScheduler.html) into a configuration class of your application. Assuming that all schedule-related records of (endpoint, frequency) are already (or can be) read from the database, you can translate each of these records to a calls to `TaskScheduler.scheduleAtFixedRate` (converting the frequency to interval of type `Duration`).\r\n\r\nFor example, a skeleton would be:\r\n\r\n```java\r\n@Configuration\r\n@EnableScheduling\r\npublic class Question72238004Config\r\n{\r\n    // represents the database repository for tasks FooTask\r\n    @Autowired \r\n    FooTaskRepository fooTaskRepository;\r\n    \r\n    @Bean\r\n    public TaskScheduler taskScheduler() {\r\n        final ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n        // configure task scheduler ...\r\n        scheduler.setPoolSize(2);\r\n        return scheduler;\r\n    }\r\n    \r\n    @PostConstruct\r\n    void setup()\r\n    {\r\n        final TaskScheduler scheduler = this.taskScheduler();\r\n        // Read records of (endpoint,freq) from fooTaskRepository\r\n        for (FooTaskEntity t: fooTaskRepository.findAll()) {\r\n            // extract endpoint from t, build a Runnable from it\r\n            Runnable r = ... ;\r\n            // extract frequency and transform to Duration\r\n            Duration d = Duration.ofMinutes(...);\r\n            // Schedule\r\n            scheduler.scheduleAtFixedRate(r, d);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n  ","title":"Java springboot application I have to create in which I have to send requests to multiple endpoint with their schedule time at once","body":"<p>You can inject a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/TaskScheduler.html\" rel=\"nofollow noreferrer\">TaskScheduler</a> into a configuration class of your application. Assuming that all schedule-related records of (endpoint, frequency) are already (or can be) read from the database, you can translate each of these records to a calls to <code>TaskScheduler.scheduleAtFixedRate</code> (converting the frequency to interval of type <code>Duration</code>).</p>\n<p>For example, a skeleton would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableScheduling\npublic class Question72238004Config\n{\n    // represents the database repository for tasks FooTask\n    @Autowired \n    FooTaskRepository fooTaskRepository;\n    \n    @Bean\n    public TaskScheduler taskScheduler() {\n        final ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\n        // configure task scheduler ...\n        scheduler.setPoolSize(2);\n        return scheduler;\n    }\n    \n    @PostConstruct\n    void setup()\n    {\n        final TaskScheduler scheduler = this.taskScheduler();\n        // Read records of (endpoint,freq) from fooTaskRepository\n        for (FooTaskEntity t: fooTaskRepository.findAll()) {\n            // extract endpoint from t, build a Runnable from it\n            Runnable r = ... ;\n            // extract frequency and transform to Duration\n            Duration d = Duration.ofMinutes(...);\n            // Schedule\n            scheduler.scheduleAtFixedRate(r, d);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3745974,"reputation":1,"user_id":3114629,"display_name":"user3114629"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652615309,"creation_date":1652511415,"question_id":72238004,"body_markdown":"**Explanation - I have IP address/port and thier time frequency saved in DB.**\r\n\r\nI have to create service or job that will run on scheduled time. It will read endpoints from db and send request to each endpoint at same time.\r\n\r\nExample data:\r\n``` \r\n10.20.30.111/8890 and time frequency 5 min\r\n10.30.40.112/6764 and time frequency 2 min\r\n```\r\nMeans that i have to create service that will send request to `10.20.30.111/8890` every 5 min and `10.30.40.112/6764` to every 2 min. \r\n\r\nHow can I create that Service that will run based on different time frequency and send request to multiple endpoints at same time.","title":"Java springboot application I have to create in which I have to send requests to multiple endpoint with their schedule time at once","body":"<p><strong>Explanation - I have IP address/port and thier time frequency saved in DB.</strong></p>\n<p>I have to create service or job that will run on scheduled time. It will read endpoints from db and send request to each endpoint at same time.</p>\n<p>Example data:</p>\n<pre><code>10.20.30.111/8890 and time frequency 5 min\n10.30.40.112/6764 and time frequency 2 min\n</code></pre>\n<p>Means that i have to create service that will send request to <code>10.20.30.111/8890</code> every 5 min and <code>10.30.40.112/6764</code> to every 2 min.</p>\n<p>How can I create that Service that will run based on different time frequency and send request to multiple endpoints at same time.</p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1652615222,"post_id":72247931,"comment_id":127643909,"body_markdown":"Can you show your `build.gradle` file?","body":"Can you show your <code>build.gradle</code> file?"},{"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"score":0,"creation_date":1652615245,"post_id":72247931,"comment_id":127643916,"body_markdown":"@Sweeper sure, posted","body":"@Sweeper sure, posted"}],"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652615279,"creation_date":1652614902,"question_id":72247931,"body_markdown":"I really don&#39;t get how intelliJ is able to run my project... I was willing to run it on a normal terminal, and I can&#39;t find a way to run it\r\n\r\nWhat I tried:\r\n - create a Jar file and run it (doesn&#39;t work because I have external dependency that are not inside the jar)\r\n - create a fat-Jar (doesn&#39;t work because it has more than 65535 entries)\r\n - using `apply plugin: &#39;application&#39;` (doesn&#39;t work because  *Unsupported class file major version 62*)\r\n\r\nI mean, what am I supposed to do just to run a simple project from CLI without IntelliJ\r\n\r\n\r\n\r\n`build.gradle`:\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.github.jengelman.gradle.plugins:shadow:2.0.1&#39;\r\n    }\r\n}\r\n\r\napply plugin: &#39;com.github.johnrengelman.shadow&#39;\r\n\r\n// Apply the java plugin to add support for Java\r\napply plugin: &#39;java&#39;\r\n\r\n// In this section you declare where to find the dependencies of your project\r\nrepositories {\r\n    // Use jcenter for resolving your dependencies.\r\n    // You can declare any Maven/Ivy/file repository here.\r\n  jcenter()\r\n}\r\n\r\ncompileJava   {\r\n  sourceCompatibility = &#39;1.8&#39;\r\n  targetCompatibility = &#39;1.8&#39;\r\n}\r\n\r\nconfigurations {\r\n    sparkCompile // Configuration for Spark: should be included in the local\r\n                 // class path both at compilation and at runtime, but should\r\n                 // be excluded from the fat jar\r\n    shadowCompile // Configuration for things that should be included in the shadow jar.\r\n}\r\n\r\ndependencies {\r\n    sparkCompile &#39;org.apache.spark:spark-core_2.11:2.2.0&#39;\r\n    sparkCompile &#39;org.apache.spark:spark-mllib_2.11:2.2.0&#39;\r\n    sparkCompile &#39;org.apache.hadoop:hadoop-client:2.7.2&#39;\r\n    shadowCompile &#39;com.beust:jcommander:1.72&#39;\r\n}\r\n\r\nconfigurations.implementation.extendsFrom configurations.sparkCompile\r\nconfigurations.implementation.extendsFrom configurations.shadowCompile\r\n\r\nshadowJar {\r\n    zip64 true\r\n    configurations = [project.configurations.shadowCompile] // Exclude runtime-only path\r\n}\r\n\r\n\r\napply plugin: &#39;application&#39;\r\nmainClassName = &#39;com.bdc.MyClass&#39;\r\n```","title":"How does IntelliJ run a gradle project","body":"<p>I really don't get how intelliJ is able to run my project... I was willing to run it on a normal terminal, and I can't find a way to run it</p>\n<p>What I tried:</p>\n<ul>\n<li>create a Jar file and run it (doesn't work because I have external dependency that are not inside the jar)</li>\n<li>create a fat-Jar (doesn't work because it has more than 65535 entries)</li>\n<li>using <code>apply plugin: 'application'</code> (doesn't work because  <em>Unsupported class file major version 62</em>)</li>\n</ul>\n<p>I mean, what am I supposed to do just to run a simple project from CLI without IntelliJ</p>\n<p><code>build.gradle</code>:</p>\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.1'\n    }\n}\n\napply plugin: 'com.github.johnrengelman.shadow'\n\n// Apply the java plugin to add support for Java\napply plugin: 'java'\n\n// In this section you declare where to find the dependencies of your project\nrepositories {\n    // Use jcenter for resolving your dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n  jcenter()\n}\n\ncompileJava   {\n  sourceCompatibility = '1.8'\n  targetCompatibility = '1.8'\n}\n\nconfigurations {\n    sparkCompile // Configuration for Spark: should be included in the local\n                 // class path both at compilation and at runtime, but should\n                 // be excluded from the fat jar\n    shadowCompile // Configuration for things that should be included in the shadow jar.\n}\n\ndependencies {\n    sparkCompile 'org.apache.spark:spark-core_2.11:2.2.0'\n    sparkCompile 'org.apache.spark:spark-mllib_2.11:2.2.0'\n    sparkCompile 'org.apache.hadoop:hadoop-client:2.7.2'\n    shadowCompile 'com.beust:jcommander:1.72'\n}\n\nconfigurations.implementation.extendsFrom configurations.sparkCompile\nconfigurations.implementation.extendsFrom configurations.shadowCompile\n\nshadowJar {\n    zip64 true\n    configurations = [project.configurations.shadowCompile] // Exclude runtime-only path\n}\n\n\napply plugin: 'application'\nmainClassName = 'com.bdc.MyClass'\n</code></pre>\n"},{"tags":["java","swing","nullpointerexception","jcombobox"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652594605,"post_id":72245741,"comment_id":127640642,"body_markdown":"You have declared comboBox twice, once as instance field and once as a local variable. Remove the local declaration","body":"You have declared comboBox twice, once as instance field and once as a local variable. Remove the local declaration"}],"answers":[{"tags":[],"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652595164,"creation_date":1652593790,"answer_id":72245818,"question_id":72245741,"body_markdown":"You have created two combo box objects. Please remove the ComboBox declaration on the top or `JComboBox comboBox_1 =` to `comboBox_1 =` in the constructor.\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport javax.swing.border.BevelBorder;\r\npublic class admin extends javax.swing.JFrame {\r\n    private static final long serialVersionUID=1L;\r\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    admin(){\r\n//setResizable(false);\r\n        JFrame newFrame=new JFrame(&quot;Admin&quot;);\r\n        newFrame.getContentPane().setForeground(new Color(0, 0, 0));\r\n        newFrame.getContentPane().setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 15));\r\n        newFrame.getContentPane().setBackground(new Color(0, 191, 255));\r\n        newFrame.setSize(1000,600);\r\n        newFrame.setVisible(true);\r\n        newFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        JLabel lblNewLabel = new JLabel(&quot;Welcome Admin&quot;);\r\n        lblNewLabel.setBounds(416, 75, 185, 28);\r\n        lblNewLabel.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 18));\r\n        newFrame.getContentPane().setLayout(null);\r\n        newFrame.getContentPane().add(lblNewLabel);\r\n        JComboBox comboBox_1 = new JComboBox();\r\n        comboBox_1.setBorder(new BevelBorder(BevelBorder.LOWERED, new Color(0, 0, 255), null, new\r\n                Color(0, 0, 255), null));\r\n        comboBox_1.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 14));\r\n        comboBox_1.setModel(new DefaultComboBoxModel(new String[] {&quot;Student&quot;, &quot;Teacher&quot;, &quot;Parent&quot;}));\r\n\r\n        comboBox_1.setBounds(359, 179, 291, 80);\r\n        JButton btnNewButton = new JButton(&quot;Go&quot;);\r\n        btnNewButton.setBorder(new BevelBorder(BevelBorder.RAISED, new Color(0, 0, 255), null,\r\n                Color.BLUE, null));\r\n        btnNewButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 13));\r\n        btnNewButton.setBounds(471, 343, 85, 35);\r\n        btnNewButton.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                if(comboBox_1.getSelectedItem().toString().equals(&quot;Student&quot;))\r\n                {\r\n\r\n                    JOptionPane.showMessageDialog(null, &quot;You can  Login !&quot;,&quot;&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    //new Register_Student().setVisible(true);\r\n                }\r\n            }\r\n        });\r\n        newFrame.getContentPane().add(btnNewButton);\r\n\r\n        newFrame.getContentPane().add(comboBox_1);\r\n        pack();\r\n    }\r\n    public static void main(String args[]) {\r\n\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new admin().setVisible(true);\r\n\r\n            }\r\n        });\r\n    }\r\n    private javax.swing.JComboBox&lt;String&gt; comboBox_1;\r\n}\r\n``` ","title":"NullPointerException: Cannot invoke &quot;JComboBox.getSelectedIndex()&quot; because &quot;this.this$0.comboBox_1&quot; is null","body":"<p>You have created two combo box objects. Please remove the ComboBox declaration on the top or <code>JComboBox comboBox_1 =</code> to <code>comboBox_1 =</code> in the constructor.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.BevelBorder;\npublic class admin extends javax.swing.JFrame {\n    private static final long serialVersionUID=1L;\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\n    admin(){\n//setResizable(false);\n        JFrame newFrame=new JFrame(&quot;Admin&quot;);\n        newFrame.getContentPane().setForeground(new Color(0, 0, 0));\n        newFrame.getContentPane().setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 15));\n        newFrame.getContentPane().setBackground(new Color(0, 191, 255));\n        newFrame.setSize(1000,600);\n        newFrame.setVisible(true);\n        newFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel lblNewLabel = new JLabel(&quot;Welcome Admin&quot;);\n        lblNewLabel.setBounds(416, 75, 185, 28);\n        lblNewLabel.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 18));\n        newFrame.getContentPane().setLayout(null);\n        newFrame.getContentPane().add(lblNewLabel);\n        JComboBox comboBox_1 = new JComboBox();\n        comboBox_1.setBorder(new BevelBorder(BevelBorder.LOWERED, new Color(0, 0, 255), null, new\n                Color(0, 0, 255), null));\n        comboBox_1.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 14));\n        comboBox_1.setModel(new DefaultComboBoxModel(new String[] {&quot;Student&quot;, &quot;Teacher&quot;, &quot;Parent&quot;}));\n\n        comboBox_1.setBounds(359, 179, 291, 80);\n        JButton btnNewButton = new JButton(&quot;Go&quot;);\n        btnNewButton.setBorder(new BevelBorder(BevelBorder.RAISED, new Color(0, 0, 255), null,\n                Color.BLUE, null));\n        btnNewButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 13));\n        btnNewButton.setBounds(471, 343, 85, 35);\n        btnNewButton.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                if(comboBox_1.getSelectedItem().toString().equals(&quot;Student&quot;))\n                {\n\n                    JOptionPane.showMessageDialog(null, &quot;You can  Login !&quot;,&quot;&quot;, JOptionPane.ERROR_MESSAGE);\n                    //new Register_Student().setVisible(true);\n                }\n            }\n        });\n        newFrame.getContentPane().add(btnNewButton);\n\n        newFrame.getContentPane().add(comboBox_1);\n        pack();\n    }\n    public static void main(String args[]) {\n\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new admin().setVisible(true);\n\n            }\n        });\n    }\n    private javax.swing.JComboBox&lt;String&gt; comboBox_1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652595446,"creation_date":1652595446,"answer_id":72245950,"question_id":72245741,"body_markdown":"You&#39;re shadowing your variables.  That is, you&#39;ve declared `comboBox_1` twice, once as an instance field and once as a local variable...\r\n\r\n    public class admin extends javax.swing.JFrame {\r\n        admin() {\r\n            //...\r\n            JComboBox comboBox_1 = new JComboBox();\r\n            //...\r\n        }\r\n        //...\r\n        private javax.swing.JComboBox&lt;String&gt; comboBox_1;\r\n    }\r\n\r\nGet rid of the local decleration\r\n\r\n    public class admin extends javax.swing.JFrame {\r\n        admin() {\r\n            //...\r\n            comboBox_1 = new JComboBox();\r\n            //...\r\n        }\r\n\r\nNow, having said that, you have another issue.  `admin` extends from `JFrame`...\r\n\r\n    public class admin extends javax.swing.JFrame {\r\n\r\nBut then you create a second `JFrame` in the constructor...\r\n\r\n    public class admin extends javax.swing.JFrame {\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;})\r\n        admin() {\r\n            JFrame newFrame = new JFrame(&quot;Admin&quot;);\r\n\r\n\r\nSo, when I do `new admin().setVisble(true)` which frame is getting displayed? \r\n\r\nAs a general recommendation, you should avoid extending directly from top level containers like `JFrame`, you&#39;re not adding any new functionality to the class and you&#39;re restricting yourself to a single use case.\r\n\r\nAnd, you really, really, really want to learn how to use layout managers, see [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) for more details\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import javax.swing.JFrame;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import javax.swing.DefaultComboBoxModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.BevelBorder;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new Admin());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Admin extends JPanel {\r\n            private static final long serialVersionUID = 1L;\r\n\r\n            @SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;})\r\n            Admin() {\r\n                setForeground(new Color(0, 0, 0));\r\n                setBackground(new Color(0, 191, 255));\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                gbc.insets = new Insets(50, 0, 50, 0);\r\n\r\n                JLabel lblNewLabel = new JLabel(&quot;Welcome Admin&quot;);\r\n                lblNewLabel.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 18));\r\n                add(lblNewLabel, gbc);\r\n\r\n                comboBox_1 = new JComboBox();\r\n                comboBox_1.setBorder(new BevelBorder(BevelBorder.LOWERED, new Color(0, 0, 255), null, new Color(0, 0, 255), null));\r\n                comboBox_1.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 14));\r\n                comboBox_1.setModel(new DefaultComboBoxModel(new String[]{&quot;Student&quot;, &quot;Teacher&quot;, &quot;Parent&quot;}));\r\n                gbc.ipady = 100;\r\n                gbc.insets = new Insets(0, 0, 0, 0);\r\n                add(comboBox_1, gbc);\r\n\r\n                JButton btnNewButton = new JButton(&quot;Go&quot;);\r\n                btnNewButton.setBorder(new BevelBorder(BevelBorder.RAISED, new Color(0, 0, 255), null, Color.BLUE, null));\r\n                btnNewButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 13));\r\n                btnNewButton.addActionListener(new java.awt.event.ActionListener() {\r\n                    public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                        if (comboBox_1.getSelectedItem().toString().equals(&quot;Student&quot;)) {\r\n\r\n                            JOptionPane.showMessageDialog(null, &quot;You can  Login !&quot;, &quot;&quot;, JOptionPane.ERROR_MESSAGE);\r\n                            //new Register_Student().setVisible(true); \r\n                        }\r\n                    }\r\n                });\r\n                gbc.insets = new Insets(50, 0, 50, 0);\r\n                gbc.ipady = 0;\r\n                add(btnNewButton, gbc);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(1000, 600);\r\n            }\r\n\r\n            private javax.swing.JComboBox&lt;String&gt; comboBox_1;\r\n        }\r\n    }\r\n","title":"NullPointerException: Cannot invoke &quot;JComboBox.getSelectedIndex()&quot; because &quot;this.this$0.comboBox_1&quot; is null","body":"<p>You're shadowing your variables.  That is, you've declared <code>comboBox_1</code> twice, once as an instance field and once as a local variable...</p>\n<pre><code>public class admin extends javax.swing.JFrame {\n    admin() {\n        //...\n        JComboBox comboBox_1 = new JComboBox();\n        //...\n    }\n    //...\n    private javax.swing.JComboBox&lt;String&gt; comboBox_1;\n}\n</code></pre>\n<p>Get rid of the local decleration</p>\n<pre><code>public class admin extends javax.swing.JFrame {\n    admin() {\n        //...\n        comboBox_1 = new JComboBox();\n        //...\n    }\n</code></pre>\n<p>Now, having said that, you have another issue.  <code>admin</code> extends from <code>JFrame</code>...</p>\n<pre><code>public class admin extends javax.swing.JFrame {\n</code></pre>\n<p>But then you create a second <code>JFrame</code> in the constructor...</p>\n<pre><code>public class admin extends javax.swing.JFrame {\n    private static final long serialVersionUID = 1L;\n\n    @SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;})\n    admin() {\n        JFrame newFrame = new JFrame(&quot;Admin&quot;);\n</code></pre>\n<p>So, when I do <code>new admin().setVisble(true)</code> which frame is getting displayed?</p>\n<p>As a general recommendation, you should avoid extending directly from top level containers like <code>JFrame</code>, you're not adding any new functionality to the class and you're restricting yourself to a single use case.</p>\n<p>And, you really, really, really want to learn how to use layout managers, see <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> for more details</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport javax.swing.JFrame;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport javax.swing.DefaultComboBoxModel;\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.border.BevelBorder;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new Admin());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class Admin extends JPanel {\n        private static final long serialVersionUID = 1L;\n\n        @SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;})\n        Admin() {\n            setForeground(new Color(0, 0, 0));\n            setBackground(new Color(0, 191, 255));\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            gbc.insets = new Insets(50, 0, 50, 0);\n\n            JLabel lblNewLabel = new JLabel(&quot;Welcome Admin&quot;);\n            lblNewLabel.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 18));\n            add(lblNewLabel, gbc);\n\n            comboBox_1 = new JComboBox();\n            comboBox_1.setBorder(new BevelBorder(BevelBorder.LOWERED, new Color(0, 0, 255), null, new Color(0, 0, 255), null));\n            comboBox_1.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 14));\n            comboBox_1.setModel(new DefaultComboBoxModel(new String[]{&quot;Student&quot;, &quot;Teacher&quot;, &quot;Parent&quot;}));\n            gbc.ipady = 100;\n            gbc.insets = new Insets(0, 0, 0, 0);\n            add(comboBox_1, gbc);\n\n            JButton btnNewButton = new JButton(&quot;Go&quot;);\n            btnNewButton.setBorder(new BevelBorder(BevelBorder.RAISED, new Color(0, 0, 255), null, Color.BLUE, null));\n            btnNewButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 13));\n            btnNewButton.addActionListener(new java.awt.event.ActionListener() {\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\n                    if (comboBox_1.getSelectedItem().toString().equals(&quot;Student&quot;)) {\n\n                        JOptionPane.showMessageDialog(null, &quot;You can  Login !&quot;, &quot;&quot;, JOptionPane.ERROR_MESSAGE);\n                        //new Register_Student().setVisible(true); \n                    }\n                }\n            });\n            gbc.insets = new Insets(50, 0, 50, 0);\n            gbc.ipady = 0;\n            add(btnNewButton, gbc);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(1000, 600);\n        }\n\n        private javax.swing.JComboBox&lt;String&gt; comboBox_1;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23764664,"reputation":39,"user_id":17779565,"display_name":"Belle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72245818,"answer_count":2,"score":0,"last_activity_date":1652614674,"creation_date":1652592688,"question_id":72245741,"body_markdown":"My combo box always returns null value. In my Project &quot;Attendance Management System&quot;, I need to validate the selected item in the combo box, but it returns null. How can I get it to return the item selected from the combo box?\r\n\r\nI use Eclipse IDE to run my project. \r\n\r\nHere is my code:\r\n\r\n```java\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport javax.swing.border.BevelBorder;\r\n\r\npublic class admin extends javax.swing.JFrame {\r\n\tprivate static final long serialVersionUID=1L;\r\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    admin(){\r\n    //setResizable(false);\t\r\n    JFrame newFrame=new JFrame(&quot;Admin&quot;);\r\n    newFrame.getContentPane().setForeground(new Color(0, 0, 0));\r\n    newFrame.getContentPane().setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 15));\r\n    newFrame.getContentPane().setBackground(new Color(0, 191, 255));\r\n    newFrame.setSize(1000,600);\r\n    newFrame.setVisible(true);\r\n    newFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n    JLabel lblNewLabel = new JLabel(&quot;Welcome Admin&quot;);\r\n    lblNewLabel.setBounds(416, 75, 185, 28);\r\n    lblNewLabel.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 18));\r\n    newFrame.getContentPane().setLayout(null);\r\n    newFrame.getContentPane().add(lblNewLabel);\r\n    JButton btnNewButton = new JButton(&quot;Go&quot;);\r\n    btnNewButton.setBorder(new BevelBorder(BevelBorder.RAISED, new Color(0, 0, 255), null, \r\n    Color.BLUE, null));\r\n    btnNewButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 13));\r\n    btnNewButton.setBounds(471, 343, 85, 35);\r\n    btnNewButton.addActionListener(new java.awt.event.ActionListener() {\r\n    public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n    \tif(comboBox_1.getSelectedItem().toString().equals(&quot;Student&quot;))\r\n        {\r\n   \t\r\n       JOptionPane.showMessageDialog(null, &quot;You can  Login !&quot;,&quot;&quot;, JOptionPane.ERROR_MESSAGE);\r\n       //new Register_Student().setVisible(true); \r\n       }\r\n    }\r\n    });\r\n    newFrame.getContentPane().add(btnNewButton);\r\n    JComboBox comboBox_1 = new JComboBox();\r\n    comboBox_1.setBorder(new BevelBorder(BevelBorder.LOWERED, new Color(0, 0, 255), null, new \r\n     Color(0, 0, 255), null));\r\n     comboBox_1.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 14));\r\n     comboBox_1.setModel(new DefaultComboBoxModel(new String[] {&quot;Student&quot;, &quot;Teacher&quot;, &quot;Parent&quot;}));\r\n\r\n     comboBox_1.setBounds(359, 179, 291, 80);\r\n     newFrame.getContentPane().add(comboBox_1);\r\n      pack();\r\n      }\r\n    public static void main(String args[]) {\r\n  \r\n    try {\r\n        for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                break;\r\n            }\r\n        }\r\n    } catch (ClassNotFoundException ex) {\r\n        java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n    } catch (InstantiationException ex) {\r\n        java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n    } catch (IllegalAccessException ex) {\r\n        java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n    } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n        java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n    }\r\n    \r\n    java.awt.EventQueue.invokeLater(new Runnable() {\r\n        public void run() {\r\n            new admin().setVisible(true);\r\n            \r\n        }\r\n    });\r\n    }\r\n     private javax.swing.JComboBox&lt;String&gt; comboBox_1;\r\n}\r\n```","title":"NullPointerException: Cannot invoke &quot;JComboBox.getSelectedIndex()&quot; because &quot;this.this$0.comboBox_1&quot; is null","body":"<p>My combo box always returns null value. In my Project &quot;Attendance Management System&quot;, I need to validate the selected item in the combo box, but it returns null. How can I get it to return the item selected from the combo box?</p>\n<p>I use Eclipse IDE to run my project.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.BevelBorder;\n\npublic class admin extends javax.swing.JFrame {\n    private static final long serialVersionUID=1L;\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\n    admin(){\n    //setResizable(false);  \n    JFrame newFrame=new JFrame(&quot;Admin&quot;);\n    newFrame.getContentPane().setForeground(new Color(0, 0, 0));\n    newFrame.getContentPane().setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 15));\n    newFrame.getContentPane().setBackground(new Color(0, 191, 255));\n    newFrame.setSize(1000,600);\n    newFrame.setVisible(true);\n    newFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    JLabel lblNewLabel = new JLabel(&quot;Welcome Admin&quot;);\n    lblNewLabel.setBounds(416, 75, 185, 28);\n    lblNewLabel.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 18));\n    newFrame.getContentPane().setLayout(null);\n    newFrame.getContentPane().add(lblNewLabel);\n    JButton btnNewButton = new JButton(&quot;Go&quot;);\n    btnNewButton.setBorder(new BevelBorder(BevelBorder.RAISED, new Color(0, 0, 255), null, \n    Color.BLUE, null));\n    btnNewButton.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 13));\n    btnNewButton.setBounds(471, 343, 85, 35);\n    btnNewButton.addActionListener(new java.awt.event.ActionListener() {\n    public void actionPerformed(java.awt.event.ActionEvent evt) {\n        if(comboBox_1.getSelectedItem().toString().equals(&quot;Student&quot;))\n        {\n    \n       JOptionPane.showMessageDialog(null, &quot;You can  Login !&quot;,&quot;&quot;, JOptionPane.ERROR_MESSAGE);\n       //new Register_Student().setVisible(true); \n       }\n    }\n    });\n    newFrame.getContentPane().add(btnNewButton);\n    JComboBox comboBox_1 = new JComboBox();\n    comboBox_1.setBorder(new BevelBorder(BevelBorder.LOWERED, new Color(0, 0, 255), null, new \n     Color(0, 0, 255), null));\n     comboBox_1.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 14));\n     comboBox_1.setModel(new DefaultComboBoxModel(new String[] {&quot;Student&quot;, &quot;Teacher&quot;, &quot;Parent&quot;}));\n\n     comboBox_1.setBounds(359, 179, 291, 80);\n     newFrame.getContentPane().add(comboBox_1);\n      pack();\n      }\n    public static void main(String args[]) {\n  \n    try {\n        for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n            if (&quot;Nimbus&quot;.equals(info.getName())) {\n                javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                break;\n            }\n        }\n    } catch (ClassNotFoundException ex) {\n        java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n    } catch (InstantiationException ex) {\n        java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n    } catch (IllegalAccessException ex) {\n        java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n    } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n        java.util.logging.Logger.getLogger(admin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n    }\n    \n    java.awt.EventQueue.invokeLater(new Runnable() {\n        public void run() {\n            new admin().setVisible(true);\n            \n        }\n    });\n    }\n     private javax.swing.JComboBox&lt;String&gt; comboBox_1;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-edittext","android-animation"],"answers":[{"tags":[],"owner":{"account_id":20822782,"reputation":68,"user_id":15293962,"display_name":"block king"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652614428,"creation_date":1652614291,"answer_id":72247855,"question_id":72231871,"body_markdown":"if you want to show it only once when the user starts typing then use a bool to do so\r\n\r\n    boolean is_show = false;\r\n    text_send.addTextChangedListener(new TextWatcher() {\r\n                @Override\r\n                public void afterTextChanged(Editable s) {}\r\n    \r\n                @Override\r\n                public void beforeTextChanged(CharSequence s, int start,\r\n                                              int count, int after) {\r\n    \r\n                 \r\n                }\r\n    \r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start,\r\n                                          int before, int count) {\r\n    \r\n                    if(s.length() != 0) {\r\n    \r\n    \r\n                        if(!is_show){\r\n                            is_show = true;\r\n                            YoYo.with(Techniques.SlideInUp)\r\n                                .duration(300)\r\n                                .repeat(0)\r\n                                .\r\n                                        playOn(btn_send);\r\n                          }\r\n    \r\n    \r\n    \r\n    \r\n                        btn_send.setImageResource(R.drawable.ic_send);\r\n\r\nor you asking something else?","title":"Animation yoyo keep run when typing Edittext","body":"<p>if you want to show it only once when the user starts typing then use a bool to do so</p>\n<pre><code>boolean is_show = false;\ntext_send.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void afterTextChanged(Editable s) {}\n\n            @Override\n            public void beforeTextChanged(CharSequence s, int start,\n                                          int count, int after) {\n\n             \n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start,\n                                      int before, int count) {\n\n                if(s.length() != 0) {\n\n\n                    if(!is_show){\n                        is_show = true;\n                        YoYo.with(Techniques.SlideInUp)\n                            .duration(300)\n                            .repeat(0)\n                            .\n                                    playOn(btn_send);\n                      }\n\n\n\n\n                    btn_send.setImageResource(R.drawable.ic_send);\n</code></pre>\n<p>or you asking something else?</p>\n"}],"owner":{"account_id":25150358,"reputation":33,"user_id":18995724,"display_name":"hamza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72247855,"answer_count":1,"score":0,"last_activity_date":1652614428,"creation_date":1652454975,"question_id":72231871,"body_markdown":"**when typing edit text yoyo animation keep run how to keep typing show animation Once ?**\r\n\r\n\r\n\r\n\r\n   \r\n\r\n    text_send.addTextChangedListener(new TextWatcher() {\r\n                    @Override\r\n                    public void afterTextChanged(Editable s) {}\r\n        \r\n                    @Override\r\n                    public void beforeTextChanged(CharSequence s, int start,\r\n                                                  int count, int after) {\r\n        \r\n                     \r\n                    }\r\n        \r\n                    @Override\r\n                    public void onTextChanged(CharSequence s, int start,\r\n                                              int before, int count) {\r\n        \r\n                        if(s.length() != 0) {\r\n        \r\n        \r\n                            YoYo.with(Techniques.SlideInUp)\r\n                                    .duration(300)\r\n                                    .repeat(0)\r\n                                    .\r\n                                            playOn(btn_send);\r\n        \r\n        \r\n        \r\n        \r\n                            btn_send.setImageResource(R.drawable.ic_send);\r\n\r\n\r\n**when typing edit text yoyo animation keep run how to keep typing show animation Once ?**\r\n","title":"Animation yoyo keep run when typing Edittext","body":"<p><strong>when typing edit text yoyo animation keep run how to keep typing show animation Once ?</strong></p>\n<pre><code>text_send.addTextChangedListener(new TextWatcher() {\n                @Override\n                public void afterTextChanged(Editable s) {}\n    \n                @Override\n                public void beforeTextChanged(CharSequence s, int start,\n                                              int count, int after) {\n    \n                 \n                }\n    \n                @Override\n                public void onTextChanged(CharSequence s, int start,\n                                          int before, int count) {\n    \n                    if(s.length() != 0) {\n    \n    \n                        YoYo.with(Techniques.SlideInUp)\n                                .duration(300)\n                                .repeat(0)\n                                .\n                                        playOn(btn_send);\n    \n    \n    \n    \n                        btn_send.setImageResource(R.drawable.ic_send);\n</code></pre>\n<p><strong>when typing edit text yoyo animation keep run how to keep typing show animation Once ?</strong></p>\n"},{"tags":["java","mysql","sql","redis"],"comments":[{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1540238343,"post_id":52936802,"comment_id":92782938,"body_markdown":"A may consider B a friend, while B considers A just an acquaintance. Do you want to consider this (i.e. each user can choose their friends) or do you only store pairs (A-B = B-A)?","body":"A may consider B a friend, while B considers A just an acquaintance. Do you want to consider this (i.e. each user can choose their friends) or do you only store pairs (A-B = B-A)?"},{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":0,"creation_date":1540238763,"post_id":52936802,"comment_id":92783117,"body_markdown":"I would not use a name as the primary key. What happens when two people named John Smith join?  Create a unique ID for each user use that as your primary key. You would then need another table that stores both userIDs as one record to show the relationship.","body":"I would not use a name as the primary key. What happens when two people named John Smith join?  Create a unique ID for each user use that as your primary key. You would then need another table that stores both userIDs as one record to show the relationship."},{"owner":{"account_id":14168904,"reputation":153,"user_id":10236088,"display_name":"Archie"},"score":0,"creation_date":1540238796,"post_id":52936802,"comment_id":92783139,"body_markdown":"@ThorstenKettner B has to accept A&#39;s friendship in order to be put into the database, basically, each person needs a list of friends. Not sure how to put that into the database, this is what I came up with.","body":"@ThorstenKettner B has to accept A&#39;s friendship in order to be put into the database, basically, each person needs a list of friends. Not sure how to put that into the database, this is what I came up with."},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1540238992,"post_id":52936802,"comment_id":92783238,"body_markdown":"But could B accept A&#39;s friendship, but reject C&#39;s friendship? And if B rejected C&#39;s friendship, could C call B still a friend? This is something you must decide on. Shall A|B have another meaning as B|A or not?","body":"But could B accept A&#39;s friendship, but reject C&#39;s friendship? And if B rejected C&#39;s friendship, could C call B still a friend? This is something you must decide on. Shall A|B have another meaning as B|A or not?"},{"owner":{"account_id":7304036,"reputation":223,"user_id":5565602,"display_name":"tempEngineer"},"score":0,"creation_date":1540239018,"post_id":52936802,"comment_id":92783248,"body_markdown":"This is similar to what you need.\nHope it helps. https://stackoverflow.com/questions/379236/database-design-best-table-structure-for-capturing-the-user-friend-relationship","body":"This is similar to what you need. Hope it helps. <a href=\"https://stackoverflow.com/questions/379236/database-design-best-table-structure-for-capturing-the-user-friend-relationship\" title=\"database design best table structure for capturing the user friend relationship\">stackoverflow.com/questions/379236/&hellip;</a>"},{"owner":{"account_id":14168904,"reputation":153,"user_id":10236088,"display_name":"Archie"},"score":0,"creation_date":1540239246,"post_id":52936802,"comment_id":92783335,"body_markdown":"@Zephyr in actual fact it&#39;s UUID, but I kept simplicity by using name. Sorry. Thorsten, if he rejects C&#39;s friendship, they are not friends.","body":"@Zephyr in actual fact it&#39;s UUID, but I kept simplicity by using name. Sorry. Thorsten, if he rejects C&#39;s friendship, they are not friends."},{"owner":{"account_id":14168904,"reputation":153,"user_id":10236088,"display_name":"Archie"},"score":0,"creation_date":1540239328,"post_id":52936802,"comment_id":92783368,"body_markdown":"@hellWarrior he basically has the same setup.","body":"@hellWarrior he basically has the same setup."},{"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"score":0,"creation_date":1540240525,"post_id":52936802,"comment_id":92783881,"body_markdown":"I had this request re-opened, because linked request is not a real duplicate, because there a relationsship has a direction, which yours has not.","body":"I had this request re-opened, because linked request is not a real duplicate, because there a relationsship has a direction, which yours has not."},{"owner":{"account_id":14168904,"reputation":153,"user_id":10236088,"display_name":"Archie"},"score":0,"creation_date":1540240580,"post_id":52936802,"comment_id":92783913,"body_markdown":"@ThorstenKettner thank you, shame that it&#39;s been closed as genuinely need help with this.","body":"@ThorstenKettner thank you, shame that it&#39;s been closed as genuinely need help with this."}],"answers":[{"tags":[],"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1652614150,"creation_date":1540240545,"answer_id":52937404,"question_id":52936802,"body_markdown":"The task is quite common. You want to store pairs where A|B has the same meaning as B|A. As a table has columns, one of the two will be stored in the first column and the other in the second, but who to store first and who second and why?\r\n\r\nOne solution is to always store the lesser ID first and the greater ID second:\r\n\r\n&lt;pre&gt;\r\nuserid1 | userid2\r\n--------+--------\r\n1       | 2\r\n2       | 5\r\n2       | 6\r\n4       | 5\r\n&lt;/pre&gt;\r\n\r\nThis has the advantage that you store each pair only once, as feels natural, but has the disadvantage that you must look up a person in both coumns and find their friend sometimes in the first and sometimes in the second column. That may make queries kind of clumsy.\r\n\r\nAnother method is to store the pairs redundantly (by using a trigger typically):\r\n\r\n&lt;pre&gt;\r\nuserid1 | userid2\r\n--------+--------\r\n1       | 2\r\n2       | 1\r\n2       | 5\r\n2       | 6\r\n4       | 5\r\n5       | 2\r\n5       | 4\r\n6       | 2\r\n&lt;/pre&gt;\r\n\r\nHere querying is easier: Look the person up in one column and find their friends in the other. However, it looks kind of weird to have all pairs duplicated. And you rely on a trigger, which some people don&#39;t like.\r\n\r\nA third method is to store numbered friendships:\r\n\r\n&lt;pre&gt;\r\nfriendship | user_id\r\n-----------+--------\r\n1          | 1\r\n1          | 2\r\n2          | 2\r\n2          | 5\r\n3          | 2\r\n3          | 6\r\n4          | 4\r\n4          | 5\r\n&lt;/pre&gt;\r\n\r\nThis gives both users in the pair equal value. But in order to find friends, you need two passes: find the friendships for a user, find the friends in these friendships. However, the design is very clear and even extensible, i.e. you could have friendships of three four or more users.\r\n\r\nNo method is really much better than the other.","title":"Best way to implement friends list into a database? MySQL","body":"<p>The task is quite common. You want to store pairs where A|B has the same meaning as B|A. As a table has columns, one of the two will be stored in the first column and the other in the second, but who to store first and who second and why?</p>\n<p>One solution is to always store the lesser ID first and the greater ID second:</p>\n<pre>\nuserid1 | userid2\n--------+--------\n1       | 2\n2       | 5\n2       | 6\n4       | 5\n</pre>\n<p>This has the advantage that you store each pair only once, as feels natural, but has the disadvantage that you must look up a person in both coumns and find their friend sometimes in the first and sometimes in the second column. That may make queries kind of clumsy.</p>\n<p>Another method is to store the pairs redundantly (by using a trigger typically):</p>\n<pre>\nuserid1 | userid2\n--------+--------\n1       | 2\n2       | 1\n2       | 5\n2       | 6\n4       | 5\n5       | 2\n5       | 4\n6       | 2\n</pre>\n<p>Here querying is easier: Look the person up in one column and find their friends in the other. However, it looks kind of weird to have all pairs duplicated. And you rely on a trigger, which some people don't like.</p>\n<p>A third method is to store numbered friendships:</p>\n<pre>\nfriendship | user_id\n-----------+--------\n1          | 1\n1          | 2\n2          | 2\n2          | 5\n3          | 2\n3          | 6\n4          | 4\n4          | 5\n</pre>\n<p>This gives both users in the pair equal value. But in order to find friends, you need two passes: find the friendships for a user, find the friends in these friendships. However, the design is very clear and even extensible, i.e. you could have friendships of three four or more users.</p>\n<p>No method is really much better than the other.</p>\n"}],"owner":{"account_id":14168904,"reputation":153,"user_id":10236088,"display_name":"Archie"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52937404,"answer_count":1,"score":0,"last_activity_date":1652614150,"creation_date":1540237754,"question_id":52936802,"body_markdown":"So my project has a &quot;friends list&quot; and in the MySQL database I have created a table:\r\n\r\nnameA\r\n\r\nnameB\r\n\r\nPrimary Key (nameA, nameB)\r\n\r\nThis will lead to a lot of entries, but to ensure that my database is normalised I&#39;m not sure how else to achieve this?\r\n\r\nMy project also uses Redis.. I could store them there. \r\n\r\nWhen a person joins the server, I would then have to search for all of the entries to see if their name is nameA or nameB, and then put those two names together as friends, this may also be inefficient.\r\n\r\nCheers.","title":"Best way to implement friends list into a database? MySQL","body":"<p>So my project has a \"friends list\" and in the MySQL database I have created a table:</p>\n\n<p>nameA</p>\n\n<p>nameB</p>\n\n<p>Primary Key (nameA, nameB)</p>\n\n<p>This will lead to a lot of entries, but to ensure that my database is normalised I'm not sure how else to achieve this?</p>\n\n<p>My project also uses Redis.. I could store them there. </p>\n\n<p>When a person joins the server, I would then have to search for all of the entries to see if their name is nameA or nameB, and then put those two names together as friends, this may also be inefficient.</p>\n\n<p>Cheers.</p>\n"},{"tags":["java","json","regex"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1652600335,"post_id":72246353,"comment_id":127641419,"body_markdown":"is that the exact regex ? because that doesn&#39;t match any of your lines at all, the first closing square bracket needs to be escaped, for now it ends the list of values, and it ends by `]+` so multiple bracket","body":"is that the exact regex ? because that doesn&#39;t match any of your lines at all, the first closing square bracket needs to be escaped, for now it ends the list of values, and it ends by <code>]+</code> so multiple bracket"},{"owner":{"account_id":24243382,"reputation":21,"user_id":18195443,"display_name":"Nursd"},"score":0,"creation_date":1652601714,"post_id":72246353,"comment_id":127641616,"body_markdown":"@user16320675 Can u please show how it should look ?) I&#39;m just new at Regular Expressions","body":"@user16320675 Can u please show how it should look ?) I&#39;m just new at Regular Expressions"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1652601809,"post_id":72246353,"comment_id":127641633,"body_markdown":"Do you want a regex that matches valid json? If so, do you want the only match sensible key names - ie ones that are letters only and camel case?","body":"Do you want a regex that matches valid json? If so, do you want the only match sensible key names - ie ones that are letters only and camel case?"},{"owner":{"account_id":24243382,"reputation":21,"user_id":18195443,"display_name":"Nursd"},"score":0,"creation_date":1652602073,"post_id":72246353,"comment_id":127641687,"body_markdown":"@Bohemian Validate for valid json would be just perfect) and simple strings are also acceptable","body":"@Bohemian Validate for valid json would be just perfect) and simple strings are also acceptable"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1652603327,"post_id":72246353,"comment_id":127641879,"body_markdown":"`&quot;[a-zA-Z0-9\\&quot;\\\\s\\\\{\\\\}:\\\\[\\\\]]+&quot;`","body":"<code>&quot;[a-zA-Z0-9\\&quot;\\\\s\\\\{\\\\}:\\\\[\\\\]]+&quot;</code>"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1652604246,"post_id":72246353,"comment_id":127642035,"body_markdown":"Welcome to Stack Overflow. &quot;The rule should not allow invalid characters except json&#39;s (&quot;{}&quot;, &quot;[]&quot;, &quot;:&quot;).&quot; I can&#39;t understand the problem. What is an invalid character? What is the rule that tells you so? Why are those JSON characters invalid, and why should we accept them anyway?","body":"Welcome to Stack Overflow. &quot;The rule should not allow invalid characters except json&#39;s (&quot;{}&quot;, &quot;[]&quot;, &quot;:&quot;).&quot; I can&#39;t understand the problem. What is an invalid character? What is the rule that tells you so? Why are those JSON characters invalid, and why should we accept them anyway?"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652612994,"creation_date":1652603504,"answer_id":72246693,"question_id":72246353,"body_markdown":"You could achieve your check by negating the logic. Instead of looking for the characters allowed, you could look for any character which is not allowed. If your regex finds any match then the json is not consistent.\r\n\r\nThis regex looks for anything that is not a word character (letter or number), a white space or a json&#39;s symbol ([, ], {, }, :, &quot; or a comma)\r\n\r\n```\r\n[^\\w\\s\\{\\}\\[\\]\\:\\&quot;,]\r\n```\r\n\r\nHere there is a link to test the regex.\r\n\r\nhttps://regex101.com/r/7pn2FD/2","title":"Regex to not accept invalid characters except JSON braces and colon","body":"<p>You could achieve your check by negating the logic. Instead of looking for the characters allowed, you could look for any character which is not allowed. If your regex finds any match then the json is not consistent.</p>\n<p>This regex looks for anything that is not a word character (letter or number), a white space or a json's symbol ([, ], {, }, :, &quot; or a comma)</p>\n<pre><code>[^\\w\\s\\{\\}\\[\\]\\:\\&quot;,]\n</code></pre>\n<p>Here there is a link to test the regex.</p>\n<p><a href=\"https://regex101.com/r/7pn2FD/2\" rel=\"nofollow noreferrer\">https://regex101.com/r/7pn2FD/2</a></p>\n"}],"owner":{"account_id":24243382,"reputation":21,"user_id":18195443,"display_name":"Nursd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1652617876,"accepted_answer_id":72246693,"answer_count":1,"score":0,"last_activity_date":1652612994,"creation_date":1652600052,"question_id":72246353,"body_markdown":"I need to set up a validation rule for request params using RegEx. The rule should not allow invalid characters except json&#39;s (&quot;{}&quot;, &quot;[]&quot;, &quot;:&quot;).\r\n\r\nFor example:\r\n\r\n```\r\n    &quot;Piece&quot; -&gt; correct\r\n    \r\n    &quot;Piece$%&quot; -&gt; incorrect\r\n    \r\n    {&quot;labelName&quot;: &quot;myName&quot;} -&gt; correct\r\n```\r\n\r\nHowever, my RegEx does not pass json format inputs.\r\n\r\n```\r\n    [a-zA-Z0-9\\s{}:\\[]]+\r\n```","title":"Regex to not accept invalid characters except JSON braces and colon","body":"<p>I need to set up a validation rule for request params using RegEx. The rule should not allow invalid characters except json's (&quot;{}&quot;, &quot;[]&quot;, &quot;:&quot;).</p>\n<p>For example:</p>\n<pre><code>    &quot;Piece&quot; -&gt; correct\n    \n    &quot;Piece$%&quot; -&gt; incorrect\n    \n    {&quot;labelName&quot;: &quot;myName&quot;} -&gt; correct\n</code></pre>\n<p>However, my RegEx does not pass json format inputs.</p>\n<pre><code>    [a-zA-Z0-9\\s{}:\\[]]+\n</code></pre>\n"},{"tags":["java","maven","version","pom.xml","java-11"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1576841207,"post_id":59424527,"comment_id":105035048,"body_markdown":"You can perform `mvn -v` to check what version of Java is your Maven configured (`~/.mvnrc`) with. Also, note `release` as a flag would only be identified by Java-9 (value 9) and above. Besides which Java-8 is supposed to be `1.8` and not `8`.","body":"You can perform <code>mvn -v</code> to check what version of Java is your Maven configured (<code>~&#47;.mvnrc</code>) with. Also, note <code>release</code> as a flag would only be identified by Java-9 (value 9) and above. Besides which Java-8 is supposed to be <code>1.8</code> and not <code>8</code>."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1576842909,"post_id":59424527,"comment_id":105035756,"body_markdown":"I am not sure whether you know this: The JDK with which you build and the Java version you build for can be different. It is perfectly possible to build _for_ Java 8 _with_ JDK 11.","body":"I am not sure whether you know this: The JDK with which you build and the Java version you build for can be different. It is perfectly possible to build <i>for</i> Java 8 <i>with</i> JDK 11."}],"answers":[{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1576843363,"creation_date":1576842734,"answer_id":59424854,"question_id":59424527,"body_markdown":"You can explicitly change the java version on the go for the particular project so that it gets compliled with the version you want.\r\n\r\n**Use** : `JAVA_HOME=/path/to/jdk1.8/ mvn build`\r\n\r\n\r\nBeside above you can explicitly set the version in your pom.\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;","title":"Setting the Java Version in Maven with system Java version as 11.0","body":"<p>You can explicitly change the java version on the go for the particular project so that it gets compliled with the version you want.</p>\n\n<p><strong>Use</strong> : <code>JAVA_HOME=/path/to/jdk1.8/ mvn build</code></p>\n\n<p>Beside above you can explicitly set the version in your pom.</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1576843660,"creation_date":1576843209,"answer_id":59424932,"question_id":59424527,"body_markdown":"Setting `java.version` in the POM `&lt;properties&gt;` section does not change the Java version used to compile with the `maven-compiler-plugin`. It is instead used by Spring Boot (see https://stackoverflow.com/questions/38882080/specifying-java-version-in-maven-differences-between-properties-and-compiler-p for a related discussion).\r\n\r\nYour build is still using the JDK 11 installed on your machine (this is reflected by the manifest attribute `Build-Jdk: 11.0.2`), however, **your code is actually compiled with source and target of Java 8**. JDK 11 knows how to compile against earlier versions like JDK 8, so your build is working fine as expected.","title":"Setting the Java Version in Maven with system Java version as 11.0","body":"<p>Setting <code>java.version</code> in the POM <code>&lt;properties&gt;</code> section does not change the Java version used to compile with the <code>maven-compiler-plugin</code>. It is instead used by Spring Boot (see <a href=\"https://stackoverflow.com/questions/38882080/specifying-java-version-in-maven-differences-between-properties-and-compiler-p\">Specifying java version in maven - differences between properties and compiler plugin</a> for a related discussion).</p>\n\n<p>Your build is still using the JDK 11 installed on your machine (this is reflected by the manifest attribute <code>Build-Jdk: 11.0.2</code>), however, <strong>your code is actually compiled with source and target of Java 8</strong>. JDK 11 knows how to compile against earlier versions like JDK 8, so your build is working fine as expected.</p>\n"},{"tags":[],"owner":{"account_id":13208523,"reputation":47,"user_id":9539502,"display_name":"sajeeth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652612916,"creation_date":1652612916,"answer_id":72247688,"question_id":59424527,"body_markdown":"set fist of all JAVA_HOME then execute the mvn clean install\r\n\r\n    export JAVA_HOME=&quot;C:/Program Files/Java/jdk-11.0.15&quot;\r\nThen excute maven commands\r\n\r\n    mvn clean install\r\n\r\nNote: export command will not work on CMD  use gitbash for this command.","title":"Setting the Java Version in Maven with system Java version as 11.0","body":"<p>set fist of all JAVA_HOME then execute the mvn clean install</p>\n<pre><code>export JAVA_HOME=&quot;C:/Program Files/Java/jdk-11.0.15&quot;\n</code></pre>\n<p>Then excute maven commands</p>\n<pre><code>mvn clean install\n</code></pre>\n<p>Note: export command will not work on CMD  use gitbash for this command.</p>\n"}],"owner":{"account_id":9138820,"reputation":41,"user_id":6797478,"display_name":"mangu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9613,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":59424932,"answer_count":3,"score":2,"last_activity_date":1652612916,"creation_date":1576841123,"question_id":59424527,"body_markdown":"I am currently using jdk version as 11 in my local machine, Set using JAVA_HOME.\r\n\r\nI need to run a maven project with java_version as 9. \r\nfor doing the same took reference from https://www.baeldung.com/maven-java-version\r\n\r\nhere is my pom.xml file\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;8&lt;/java.version&gt;\r\n        &lt;maven.compiler.plugin.version&gt;3.8.0&lt;/maven.compiler.plugin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;8&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen i ran the command &quot;mvn clean install&quot; and the jar file generated is having java-version as 11 in its manifest file.\r\nhere is the snippet of Manifest file of the gemnerated jar\r\n\r\n    Manifest-Version: 1.0\r\n    Archiver-Version: Plexus Archiver\r\n    Created-By: Apache Maven 3.5.0\r\n    Built-By: test\r\n    Build-Jdk: 11.0.2\r\n\r\nWhy it is still picking java version as 11, why not 8?\r\n\r\n","title":"Setting the Java Version in Maven with system Java version as 11.0","body":"<p>I am currently using jdk version as 11 in my local machine, Set using JAVA_HOME.</p>\n\n<p>I need to run a maven project with java_version as 9. \nfor doing the same took reference from <a href=\"https://www.baeldung.com/maven-java-version\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-java-version</a></p>\n\n<p>here is my pom.xml file</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;maven.compiler.plugin.version&gt;3.8.0&lt;/maven.compiler.plugin.version&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;8&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Then i ran the command \"mvn clean install\" and the jar file generated is having java-version as 11 in its manifest file.\nhere is the snippet of Manifest file of the gemnerated jar</p>\n\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven 3.5.0\nBuilt-By: test\nBuild-Jdk: 11.0.2\n</code></pre>\n\n<p>Why it is still picking java version as 11, why not 8?</p>\n"},{"tags":["java","jsp","url","servlets"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1307478012,"post_id":6271075,"comment_id":7318134,"body_markdown":"there are many ways. Why exactly do you need it?","body":"there are many ways. Why exactly do you need it?"},{"owner":{"account_id":96799,"reputation":2730,"user_id":262914,"accept_rate":72,"display_name":"Maverick"},"score":0,"creation_date":1307478167,"post_id":6271075,"comment_id":7318185,"body_markdown":"I have some requirement for which I need the url of the web container. So, I need a path till http://localhost:8080/my_web_container.","body":"I have some requirement for which I need the url of the web container. So, I need a path till <a href=\"http://localhost:8080/my_web_container\" rel=\"nofollow noreferrer\">localhost:8080/my_web_container</a>."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1307478256,"post_id":6271075,"comment_id":7318210,"body_markdown":"this is now &quot;web container&quot;, but &quot;context&quot;. And do you need it absolute, or relative (to the host)","body":"this is now &quot;web container&quot;, but &quot;context&quot;. And do you need it absolute, or relative (to the host)"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1307478074,"creation_date":1307478074,"answer_id":6271142,"question_id":6271075,"body_markdown":"    new URL(request.getScheme(), \r\n            request.getServerName(), \r\n            request.getServerPort(), \r\n            request.getContextPath());","title":"how to get the base url from jsp request object?","body":"<pre><code>new URL(request.getScheme(), \n        request.getServerName(), \n        request.getServerPort(), \n        request.getContextPath());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1382091236,"creation_date":1307478659,"answer_id":6271253,"question_id":6271075,"body_markdown":"So, you want the *base URL*? You can get it in a servlet as follows:\n\n    String url = request.getRequestURL().toString();\n    String baseURL = url.substring(0, url.length() - request.getRequestURI().length()) + request.getContextPath() + &quot;/&quot;;\n    // ...\n\nOr in a JSP, as `&lt;base&gt;`, with little help of JSTL:\n\n&lt;!-- language: xml --&gt;\n\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n    &lt;%@taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt;\n    &lt;c:set var=&quot;req&quot; value=&quot;${pageContext.request}&quot; /&gt;\n    &lt;c:set var=&quot;url&quot;&gt;${req.requestURL}&lt;/c:set&gt;\n    &lt;c:set var=&quot;uri&quot; value=&quot;${req.requestURI}&quot; /&gt;\n    ...\n    &lt;head&gt;\n        &lt;base href=&quot;${fn:substring(url, 0, fn:length(url) - fn:length(uri))}${req.contextPath}/&quot; /&gt;\n    &lt;/head&gt;\n\n\nNote that this does not include the port number when it&#39;s already the default port number, such as 80. The `java.net.URL` doesn&#39;t take this into account.\n\n### See also:\n\n- https://stackoverflow.com/questions/3655316/servlets-browser-cant-access-css-images-when-doing-a-forward-to-a-jsp/3658735#3658735","title":"how to get the base url from jsp request object?","body":"<p>So, you want the <em>base URL</em>? You can get it in a servlet as follows:</p>\n<pre><code>String url = request.getRequestURL().toString();\nString baseURL = url.substring(0, url.length() - request.getRequestURI().length()) + request.getContextPath() + &quot;/&quot;;\n// ...\n</code></pre>\n<p>Or in a JSP, as <code>&lt;base&gt;</code>, with little help of JSTL:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt;\n&lt;c:set var=&quot;req&quot; value=&quot;${pageContext.request}&quot; /&gt;\n&lt;c:set var=&quot;url&quot;&gt;${req.requestURL}&lt;/c:set&gt;\n&lt;c:set var=&quot;uri&quot; value=&quot;${req.requestURI}&quot; /&gt;\n...\n&lt;head&gt;\n    &lt;base href=&quot;${fn:substring(url, 0, fn:length(url) - fn:length(uri))}${req.contextPath}/&quot; /&gt;\n&lt;/head&gt;\n</code></pre>\n<p>Note that this does not include the port number when it's already the default port number, such as 80. The <code>java.net.URL</code> doesn't take this into account.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3655316/servlets-browser-cant-access-css-images-when-doing-a-forward-to-a-jsp/3658735#3658735\">Browser can&#39;t access/find relative resources like CSS, images and links when calling a Servlet which forwards to a JSP</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":312833,"reputation":3843,"user_id":627132,"accept_rate":79,"display_name":"Quinton Pike"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1328025972,"creation_date":1328025972,"answer_id":9082774,"question_id":6271075,"body_markdown":"Instead of doing all of that, just do this:\r\n\r\n    request.getServerName().toString()","title":"how to get the base url from jsp request object?","body":"<p>Instead of doing all of that, just do this:</p>\n\n<pre><code>request.getServerName().toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2643847,"reputation":1,"user_id":2286965,"display_name":"prakie"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1366123228,"creation_date":1366123228,"answer_id":16039995,"question_id":6271075,"body_markdown":"just use isSecure()\r\n\r\n{&lt;%=request.isSecure()?&quot;https&quot;:&quot;http:&quot;%&gt;}\r\n","title":"how to get the base url from jsp request object?","body":"<p>just use isSecure()</p>\n\n<p>{&lt;%=request.isSecure()?\"https\":\"http:\"%>}</p>\n"},{"tags":[],"owner":{"account_id":192468,"reputation":1446,"user_id":433626,"display_name":"hfmanson"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1652612863,"creation_date":1369223110,"answer_id":16690893,"question_id":6271075,"body_markdown":"JSP variant of [Bozho&#39;s][1] answer:\r\n\r\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;c:set var=&quot;req&quot; value=&quot;${pageContext.request}&quot; /&gt;\r\n    &lt;c:set var=&quot;baseURL&quot; value=&quot;${req.scheme}://${req.serverName}:${req.serverPort}${req.contextPath}&quot; /&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6271142/433626","title":"how to get the base url from jsp request object?","body":"<p>JSP variant of <a href=\"https://stackoverflow.com/a/6271142/433626\">Bozho's</a> answer:</p>\n<pre><code>&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;c:set var=&quot;req&quot; value=&quot;${pageContext.request}&quot; /&gt;\n&lt;c:set var=&quot;baseURL&quot; value=&quot;${req.scheme}://${req.serverName}:${req.serverPort}${req.contextPath}&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":432946,"reputation":607,"user_id":818006,"display_name":"Boss Man"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1393534580,"creation_date":1378940352,"answer_id":18752694,"question_id":6271075,"body_markdown":"There is one major flaw in @BalusC accepted answer though. Substring should start from 0 and not 1. Instead of \r\n\r\n    &lt;base href=&quot;${fn:replace(req.requestURL, fn:substring(uri, 1, fn:length(uri)), req.contextPath)}&quot; /&gt;\r\n\r\nit should be\r\n\r\n    &lt;base href=&quot;${fn:replace(req.requestURL, fn:substring(uri, 0, fn:length(uri)), req.contextPath)}&quot; /&gt;\r\n\r\nWith 1 you get double forward slash: `http://localhost:8080//appcontext/`\r\nWith 0 you get, `http://localhost:21080/appcontext/`\r\n\r\nIn my application, request.getSession(false) always returned null when it was ending in double slash!!!\r\n","title":"how to get the base url from jsp request object?","body":"<p>There is one major flaw in @BalusC accepted answer though. Substring should start from 0 and not 1. Instead of </p>\n\n<pre><code>&lt;base href=\"${fn:replace(req.requestURL, fn:substring(uri, 1, fn:length(uri)), req.contextPath)}\" /&gt;\n</code></pre>\n\n<p>it should be</p>\n\n<pre><code>&lt;base href=\"${fn:replace(req.requestURL, fn:substring(uri, 0, fn:length(uri)), req.contextPath)}\" /&gt;\n</code></pre>\n\n<p>With 1 you get double forward slash: <code>http://localhost:8080//appcontext/</code>\nWith 0 you get, <code>http://localhost:21080/appcontext/</code></p>\n\n<p>In my application, request.getSession(false) always returned null when it was ending in double slash!!!</p>\n"}],"owner":{"account_id":96799,"reputation":2730,"user_id":262914,"accept_rate":72,"display_name":"Maverick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99551,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":6271253,"answer_count":6,"score":32,"last_activity_date":1652612863,"creation_date":1307477749,"question_id":6271075,"body_markdown":"How to get the base url from the jsp request object? \r\nhttp://localhost:8080/SOMETHING/index.jsp, but I want the part till index.jsp, how is it possible in jsp?","title":"how to get the base url from jsp request object?","body":"<p>How to get the base url from the jsp request object? \n<a href=\"http://localhost:8080/SOMETHING/index.jsp\">http://localhost:8080/SOMETHING/index.jsp</a>, but I want the part till index.jsp, how is it possible in jsp?</p>\n"},{"tags":["java","class"],"comments":[{"owner":{"account_id":479759,"reputation":24867,"user_id":892629,"accept_rate":81,"display_name":"Liftoff"},"score":2,"creation_date":1652252519,"post_id":72196658,"comment_id":127558370,"body_markdown":"`validateName` has a `String` parameter, and `validateAge` has two `double` parameters. You passed 0 parameters to both calls. Looking at the preceding lines, surely you intended `validator.validateName(name);` and `validator.validateAge(age, height);`","body":"<code>validateName</code> has a <code>String</code> parameter, and <code>validateAge</code> has two <code>double</code> parameters. You passed 0 parameters to both calls. Looking at the preceding lines, surely you intended <code>validator.validateName(name);</code> and <code>validator.validateAge(age, height);</code>"},{"owner":{"account_id":25241166,"reputation":3,"user_id":19075024,"display_name":"EurekaII"},"score":0,"creation_date":1652262823,"post_id":72196658,"comment_id":127561997,"body_markdown":"Main.java:6: error: illegal start of type\n    } else","body":"Main.java:6: error: illegal start of type     } else"},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1652418851,"post_id":72196658,"comment_id":127606015,"body_markdown":"You haven&#39;t closed the braces`{` properly in `UserValidator` class","body":"You haven&#39;t closed the braces<code>{</code> properly in <code>UserValidator</code> class"},{"owner":{"account_id":25241166,"reputation":3,"user_id":19075024,"display_name":"EurekaII"},"score":0,"creation_date":1652421809,"post_id":72196658,"comment_id":127606560,"body_markdown":"i changed byt now i have \nError: Main method not found in class UserValidator, please define the main method as:\n   public static void main(String[] args) oO ?","body":"i changed byt now i have  Error: Main method not found in class UserValidator, please define the main method as:    public static void main(String[] args) oO ?"},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1652423017,"post_id":72196658,"comment_id":127606850,"body_markdown":"@EurekaII all these code goes in a same File?","body":"@EurekaII all these code goes in a same File?"},{"owner":{"account_id":25241166,"reputation":3,"user_id":19075024,"display_name":"EurekaII"},"score":0,"creation_date":1652423660,"post_id":72196658,"comment_id":127607009,"body_markdown":"yes they are in the same code","body":"yes they are in the same code"},{"owner":{"account_id":2583877,"reputation":427,"user_id":2240009,"display_name":"Joan"},"score":0,"creation_date":1652614122,"post_id":72196658,"comment_id":127643715,"body_markdown":"Application Class is declared inside UserValidator Class. Static methods must be in top level class o in a static class.  As you put the main method inside Application you should declare it in his own file.","body":"Application Class is declared inside UserValidator Class. Static methods must be in top level class o in a static class.  As you put the main method inside Application you should declare it in his own file."}],"answers":[{"tags":[],"owner":{"account_id":20023255,"reputation":75,"user_id":14677697,"display_name":"molfo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652252721,"creation_date":1652252721,"answer_id":72196746,"question_id":72196658,"body_markdown":"I see two errors in your code. First, in your validateName you are performing the wrong check, if name IS NULL then you should set the name otherwise you should print it, your code does the opposite. The correct method is the following:\r\n\r\n    public  void validateName(String name) {\r\n    if (name == null)\r\n        System.out.println(&quot;Set your name&quot;);\r\n    } else {\r\n        System.out.println(&quot;User name: &quot; + name);\r\n    }\r\n\r\nThe second error is that you are not passing any variable to your methods. validateName requires a string as input parameter, but you are not passing any value, therefore the error. You have to pass the variables in this way:\r\n\r\n    validator.validateName(name);\r\n    validator.validateAge(age, height);","title":"method validateAge in class UserValidator cannot be applied to given types; validator.validateAge();","body":"<p>I see two errors in your code. First, in your validateName you are performing the wrong check, if name IS NULL then you should set the name otherwise you should print it, your code does the opposite. The correct method is the following:</p>\n<pre><code>public  void validateName(String name) {\nif (name == null)\n    System.out.println(&quot;Set your name&quot;);\n} else {\n    System.out.println(&quot;User name: &quot; + name);\n}\n</code></pre>\n<p>The second error is that you are not passing any variable to your methods. validateName requires a string as input parameter, but you are not passing any value, therefore the error. You have to pass the variables in this way:</p>\n<pre><code>validator.validateName(name);\nvalidator.validateAge(age, height);\n</code></pre>\n"}],"owner":{"account_id":25241166,"reputation":3,"user_id":19075024,"display_name":"EurekaII"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1652612636,"creation_date":1652252218,"question_id":72196658,"body_markdown":"I need some explanation about what have I done wrong and how to do it better. Sometimes it&#39;s difficult for me to understand everything.\r\n\r\n```java \r\npublic class UserValidator {\r\n\r\n    public void validateName(String name) {\r\n        if (name == null)\r\n            System.out.println(&quot;Set your name&quot;);\r\n        else {\r\n            System.out.println(&quot;User name: &quot; + name);\r\n        }\r\n    }\r\n\r\n    public void validateAge(double age, double height) {\r\n        if (age &gt; 30 &amp;&amp; height &gt; 160) {\r\n            System.out.println(&quot;User is older than 30 and higher ten 160cm&quot;);\r\n        } else {\r\n            System.out.println(&quot;User is younger than 30 or lower than 160&quot;);\r\n        }\r\n    }\r\n\r\n    public class Application {\r\n        public static void main(String[] args) throws java.lang.Exception {\r\n            System.out.println(&quot;Starting&quot;);\r\n\r\n            String name = &quot;Adam&quot;;\r\n            double age = 40.5;\r\n            double height = 178;\r\n\r\n            UserValidator validator = new UserValidator();\r\n            validator.validateName(name);\r\n            validator.validateAge(age, height);\r\n\r\n            System.out.println(&quot;Finishing&quot;);\r\n\r\n\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\n&gt;    :19:5 java: illegal start of expression :45 java: class,\r\n&gt; interface, enum, or record expected**\r\n&gt;                       \r\n&gt;  ^\r\n\r\n\r\nThe examples give me little understanding, but with my own work it is much harder if someone could explain it to me on the example of my mistakes for a better understanding of the issue.\r\n\r\n\r\n","title":"method validateAge in class UserValidator cannot be applied to given types; validator.validateAge();","body":"<p>I need some explanation about what have I done wrong and how to do it better. Sometimes it's difficult for me to understand everything.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserValidator {\n\n    public void validateName(String name) {\n        if (name == null)\n            System.out.println(&quot;Set your name&quot;);\n        else {\n            System.out.println(&quot;User name: &quot; + name);\n        }\n    }\n\n    public void validateAge(double age, double height) {\n        if (age &gt; 30 &amp;&amp; height &gt; 160) {\n            System.out.println(&quot;User is older than 30 and higher ten 160cm&quot;);\n        } else {\n            System.out.println(&quot;User is younger than 30 or lower than 160&quot;);\n        }\n    }\n\n    public class Application {\n        public static void main(String[] args) throws java.lang.Exception {\n            System.out.println(&quot;Starting&quot;);\n\n            String name = &quot;Adam&quot;;\n            double age = 40.5;\n            double height = 178;\n\n            UserValidator validator = new UserValidator();\n            validator.validateName(name);\n            validator.validateAge(age, height);\n\n            System.out.println(&quot;Finishing&quot;);\n\n\n        }\n      }\n    }\n</code></pre>\n<blockquote>\n<p>:19:5 java: illegal start of expression :45 java: class,\ninterface, enum, or record expected**</p>\n<p>^</p>\n</blockquote>\n<p>The examples give me little understanding, but with my own work it is much harder if someone could explain it to me on the example of my mistakes for a better understanding of the issue.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652611321,"creation_date":1652611321,"answer_id":72247511,"question_id":72247474,"body_markdown":"If I understand your question correctly,  you want to throw exception when the input is empty.\r\n\r\n    boolean checkPass(String password) throws Exception {\r\n       if (password == null || password.isEmpty()) {\r\n           throw new Exception(&quot;password should not be empty.&quot;);\r\n       }\r\n       if (password.length() &gt; 2 &amp;&amp; password.charAt(4) != &#39; &#39;) return true;\r\n       else return false;\r\n    }","title":"How to make compiliation exception in this Java code","body":"<p>If I understand your question correctly,  you want to throw exception when the input is empty.</p>\n<pre><code>boolean checkPass(String password) throws Exception {\n   if (password == null || password.isEmpty()) {\n       throw new Exception(&quot;password should not be empty.&quot;);\n   }\n   if (password.length() &gt; 2 &amp;&amp; password.charAt(4) != ' ') return true;\n   else return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652612190,"creation_date":1652612190,"answer_id":72247602,"question_id":72247474,"body_markdown":"Do you mean to make compilation fail when it encounters code like `checkPass(&quot;&quot;)`? \r\n\r\nI dont think that Java has static assertions, i.e assertions computed at compile time. Probably, the closest thing you can get is to use a tool like [Findbugs](http://findbugs.sourceforge.net/) to statically analyze your code.\r\n\r\nOf course, you can also use unit tests, but these are actually runtime checks (which are run just after the compilation phase, but before deploying the code to a production site). ","title":"How to make compiliation exception in this Java code","body":"<p>Do you mean to make compilation fail when it encounters code like <code>checkPass(&quot;&quot;)</code>?</p>\n<p>I dont think that Java has static assertions, i.e assertions computed at compile time. Probably, the closest thing you can get is to use a tool like <a href=\"http://findbugs.sourceforge.net/\" rel=\"nofollow noreferrer\">Findbugs</a> to statically analyze your code.</p>\n<p>Of course, you can also use unit tests, but these are actually runtime checks (which are run just after the compilation phase, but before deploying the code to a production site).</p>\n"},{"tags":[],"owner":{"account_id":23968828,"reputation":104,"user_id":17957852,"display_name":"Debanjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652612474,"creation_date":1652612474,"answer_id":72247633,"question_id":72247474,"body_markdown":"You can change the method return type to `void` from `boolean` and throw an `Exception` in case your condition is not satisfied.\r\n```\r\nvoid checkPass(String password) throws Exception{\r\n   if (password.length() &gt; 2 &amp;&amp; password.charAt(4) != &#39; &#39;) {\r\n   //do nothing\r\n   } else {\r\n     throw new Exception(&quot;check pass failed&quot;);\r\n   }\r\n}\r\n```\r\n\r\nYou can then use `checkPass(&quot;&quot;);` method to create an Exception.","title":"How to make compiliation exception in this Java code","body":"<p>You can change the method return type to <code>void</code> from <code>boolean</code> and throw an <code>Exception</code> in case your condition is not satisfied.</p>\n<pre><code>void checkPass(String password) throws Exception{\n   if (password.length() &gt; 2 &amp;&amp; password.charAt(4) != ' ') {\n   //do nothing\n   } else {\n     throw new Exception(&quot;check pass failed&quot;);\n   }\n}\n</code></pre>\n<p>You can then use <code>checkPass(&quot;&quot;);</code> method to create an Exception.</p>\n"}],"owner":{"account_id":24891622,"reputation":11,"user_id":19033919,"display_name":"art_egor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1652612474,"creation_date":1652610980,"question_id":72247474,"body_markdown":"Here is checkPass method.\r\n```\r\nboolean checkPass(String password){\r\n   if (password.length() &gt; 2 &amp;&amp; password.charAt(4) != &#39; &#39;) return true;\r\n   else return false;\r\n}\r\n```\r\npassword value must create exception\r\n```\r\nboolean password = checkPass(&quot;&quot;);\r\n```","title":"How to make compiliation exception in this Java code","body":"<p>Here is checkPass method.</p>\n<pre><code>boolean checkPass(String password){\n   if (password.length() &gt; 2 &amp;&amp; password.charAt(4) != ' ') return true;\n   else return false;\n}\n</code></pre>\n<p>password value must create exception</p>\n<pre><code>boolean password = checkPass(&quot;&quot;);\n</code></pre>\n"},{"tags":["java","unicode","char","printwriter","bytestream"],"comments":[{"owner":{"account_id":23611897,"reputation":334,"user_id":17646774,"display_name":"Marco Balo"},"score":3,"creation_date":1652135621,"post_id":72178848,"comment_id":127528532,"body_markdown":"Which OS and terminal emulator are you using?","body":"Which OS and terminal emulator are you using?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":6,"creation_date":1652136372,"post_id":72178848,"comment_id":127528654,"body_markdown":"The characters are being written correctly by your code. The problem is the terminal in which the output is being displayed is probably not configured for UTF8, and/or the font you&#39;re using doesn&#39;t contain those characters.","body":"The characters are being written correctly by your code. The problem is the terminal in which the output is being displayed is probably not configured for UTF8, and/or the font you&#39;re using doesn&#39;t contain those characters."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1652146435,"post_id":72178848,"comment_id":127530115,"body_markdown":"If you want to guarantee that it is displayed correctly on any PC then you need to use a GUI (Swing/JavaFX) so that you have full control of the font and encoding/characterset. However, if you are using windows command prompt to start your application then first use `chcp 65001` in the console to change the character set to one that hopefully supports your characters, then launch your app, but that is still no guarantee that it will work. See here for some more details: https://stackoverflow.com/questions/67085339/java-with-maven-netbeans","body":"If you want to guarantee that it is displayed correctly on any PC then you need to use a GUI (Swing/JavaFX) so that you have full control of the font and encoding/characterset. However, if you are using windows command prompt to start your application then first use <code>chcp 65001</code> in the console to change the character set to one that hopefully supports your characters, then launch your app, but that is still no guarantee that it will work. See here for some more details: <a href=\"https://stackoverflow.com/questions/67085339/java-with-maven-netbeans\" title=\"java with maven netbeans\">stackoverflow.com/questions/67085339/java-with-maven-netbean&zwnj;&#8203;s</a>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1652162793,"post_id":72178848,"comment_id":127532710,"body_markdown":"@JimGarrison An additional possibility is that the **PrintStream** used by **System.out** is not configured to use UTF-8 encoding. It may not be on Windows, by default. Using an appropriate font, and configuring the console for UTF-8 are both necessary, but ensuring that the **PrintStream** is using the proper encoding also matters.","body":"@JimGarrison An additional possibility is that the <b>PrintStream</b> used by <b>System.out</b> is not configured to use UTF-8 encoding. It may not be on Windows, by default. Using an appropriate font, and configuring the console for UTF-8 are both necessary, but ensuring that the <b>PrintStream</b> is using the proper encoding also matters."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1652162957,"post_id":72178848,"comment_id":127532754,"body_markdown":"More information is needed. Update your question with all of the following: Your O/S, the version of Java you are using, the font you are using, and the form of terminal/console you are using (e.g Linux terminal, Windows command line, IDE console, etc.).","body":"More information is needed. Update your question with all of the following: Your O/S, the version of Java you are using, the font you are using, and the form of terminal/console you are using (e.g Linux terminal, Windows command line, IDE console, etc.)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652203414,"creation_date":1652166505,"answer_id":72182014,"question_id":72178848,"body_markdown":"# Glyph\r\n\r\nAs commented, you should check that your `System.out` and console are set to UTF-8, and that a font is available containing glyphs for those characters. \r\n\r\nYou neglected to mention your operating system, but I’ll guess it is Microsoft Windows. If so, this Question might help: [*Java, UTF-8, and Windows console*][1]. \r\n\r\nWe can simplify your code. Java source code supports UTF-8, so you can use the actual suit characters directly rather then use the Unicode code point escapes. \r\n\r\nHere are the four [French-suited][2] characters, in “black” and in “white”. \r\n\r\n    System.out.println( &quot;♠️♥️♣️♦️&quot; ) ; \r\n    System.out.println( &quot;♤♡♧♢&quot; ) ; \r\n\r\nSee this [code run successfully at Ideone.com][3].\r\n\r\n# Enum\r\n\r\nBy the way, you can embed knowledge of the emoji character within your enum. No need to maintain this separate method as shown in your Question.\r\n\r\n```java\r\nenum Suit {\r\n    SPADES( &quot;♠️&quot; , &quot;♤&quot; ), HEARTS( &quot;♥️&quot; , &quot;♡&quot; ), CLUBS( &quot;♣️&quot; , &quot;♧&quot; ), DIAMONDS( &quot;♦️&quot; , &quot;♢&quot; );\r\n    private final String emojiBlack, emojiWhite ;\r\n    Suit( String emojiBlack , String emojiWhite ) {  // Constructor.\r\n        this.emojiBlack = emojiBlack ;\r\n        this.emojiWhite= emojiWhite ;\r\n    }\r\n    String emojiBlack() {  // Accessor (getter).\r\n        return this.emojiBlack ;\r\n    }\r\n    String emojiWhite() {  // Accessor (getter).\r\n        return this.emojiWhite ;\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n    System.out.println(\r\n        Suit.HEARTS.emojiBlack() \r\n    );\r\n\r\n&gt;♥️\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/54952/642706\r\n  [2]: https://en.wikipedia.org/wiki/French-suited_playing_cards\r\n  [3]: https://ideone.com/ErVOr9","title":"Printing Unicode Characters in Java - PrintWriter","body":"<h1>Glyph</h1>\n<p>As commented, you should check that your <code>System.out</code> and console are set to UTF-8, and that a font is available containing glyphs for those characters.</p>\n<p>You neglected to mention your operating system, but I’ll guess it is Microsoft Windows. If so, this Question might help: <a href=\"https://stackoverflow.com/q/54952/642706\"><em>Java, UTF-8, and Windows console</em></a>.</p>\n<p>We can simplify your code. Java source code supports UTF-8, so you can use the actual suit characters directly rather then use the Unicode code point escapes.</p>\n<p>Here are the four <a href=\"https://en.wikipedia.org/wiki/French-suited_playing_cards\" rel=\"nofollow noreferrer\">French-suited</a> characters, in “black” and in “white”.</p>\n<pre><code>System.out.println( &quot;♠️♥️♣️♦️&quot; ) ; \nSystem.out.println( &quot;♤♡♧♢&quot; ) ; \n</code></pre>\n<p>See this <a href=\"https://ideone.com/ErVOr9\" rel=\"nofollow noreferrer\">code run successfully at Ideone.com</a>.</p>\n<h1>Enum</h1>\n<p>By the way, you can embed knowledge of the emoji character within your enum. No need to maintain this separate method as shown in your Question.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Suit {\n    SPADES( &quot;♠️&quot; , &quot;♤&quot; ), HEARTS( &quot;♥️&quot; , &quot;♡&quot; ), CLUBS( &quot;♣️&quot; , &quot;♧&quot; ), DIAMONDS( &quot;♦️&quot; , &quot;♢&quot; );\n    private final String emojiBlack, emojiWhite ;\n    Suit( String emojiBlack , String emojiWhite ) {  // Constructor.\n        this.emojiBlack = emojiBlack ;\n        this.emojiWhite= emojiWhite ;\n    }\n    String emojiBlack() {  // Accessor (getter).\n        return this.emojiBlack ;\n    }\n    String emojiWhite() {  // Accessor (getter).\n        return this.emojiWhite ;\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>System.out.println(\n    Suit.HEARTS.emojiBlack() \n);\n</code></pre>\n<blockquote>\n<p>♥️</p>\n</blockquote>\n"}],"owner":{"account_id":24228529,"reputation":1,"user_id":18182643,"display_name":"DustinBaker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1652612467,"creation_date":1652135506,"question_id":72178848,"body_markdown":"I am developing a card game in Java and I am currently using a command line to interact and display outputs of the game. I have been representing each card suit with A letter (H - Hearts, S - Spades etc.)\r\n\r\nI came up with the idea of using the Unicode values rather than letters to show each suit\r\n\r\n    public String toSymbol(Suit suit){\r\n        switch(suit){\r\n            case SPADE:\r\n                return &quot;\\u2664&quot;;\r\n            case DIAMOND:\r\n                return &quot;\\u2662&quot;;\r\n            case CLUB:\r\n                return &quot;\\u2667&quot;;\r\n            case HEART:\r\n                return &quot;\\u2661&quot;;\r\n            default:\r\n                return &quot;null&quot;;\r\n        }\r\n    }\r\n\r\nMy issue is that when trying to print these symbols they simply display our favourite Unknown Character &#39;?&#39;. I read that this could be due to the byte stream System.out.println() uses something too short? Instead I should use a Print Writer.\r\n\r\nI tried this and still no results. Could it be to do with the format my commandline uses?\r\n\r\n\r\n","title":"Printing Unicode Characters in Java - PrintWriter","body":"<p>I am developing a card game in Java and I am currently using a command line to interact and display outputs of the game. I have been representing each card suit with A letter (H - Hearts, S - Spades etc.)</p>\n<p>I came up with the idea of using the Unicode values rather than letters to show each suit</p>\n<pre><code>public String toSymbol(Suit suit){\n    switch(suit){\n        case SPADE:\n            return &quot;\\u2664&quot;;\n        case DIAMOND:\n            return &quot;\\u2662&quot;;\n        case CLUB:\n            return &quot;\\u2667&quot;;\n        case HEART:\n            return &quot;\\u2661&quot;;\n        default:\n            return &quot;null&quot;;\n    }\n}\n</code></pre>\n<p>My issue is that when trying to print these symbols they simply display our favourite Unknown Character '?'. I read that this could be due to the byte stream System.out.println() uses something too short? Instead I should use a Print Writer.</p>\n<p>I tried this and still no results. Could it be to do with the format my commandline uses?</p>\n"},{"tags":["java","user-interface","canvas","line"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652633696,"post_id":72247608,"comment_id":127647943,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25295099,"reputation":11,"user_id":19120397,"display_name":"Wawan Firgiawan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652612384,"creation_date":1652612228,"question_id":72247608,"body_markdown":"**How to make lines on Grid using canvas in JavaFX?**\r\n\r\nHow to make lines on Grid using canvas in JavaFX. Where I have a case study as follows:\r\n\r\nI have a 10 x 10 grid, where each line will be formed according to the grid point, for example the starting point ([0, 0], [1, 0], [2, 0], [i, j])).\r\n\r\nExample output:\r\n\r\n[Example Output][1]\r\n\r\nAlso, I need to work on Canvas.\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bYKAe.jpg","title":"How to make lines on Grid using canvas in JavaFX?","body":"<p><strong>How to make lines on Grid using canvas in JavaFX?</strong></p>\n<p>How to make lines on Grid using canvas in JavaFX. Where I have a case study as follows:</p>\n<p>I have a 10 x 10 grid, where each line will be formed according to the grid point, for example the starting point ([0, 0], [1, 0], [2, 0], [i, j])).</p>\n<p>Example output:</p>\n<p><a href=\"https://i.stack.imgur.com/bYKAe.jpg\" rel=\"nofollow noreferrer\">Example Output</a></p>\n<p>Also, I need to work on Canvas.</p>\n<p>Thank you.</p>\n"},{"tags":["javascript","java","inputstream"],"comments":[{"owner":{"account_id":3270033,"reputation":193,"user_id":2753620,"display_name":"Kenneth Ong"},"score":0,"creation_date":1650642989,"post_id":71971328,"comment_id":127175501,"body_markdown":"Not too bad as a new Java programmer, few tips here: 1. never use double, use BigDecimal instead, you will run into precision problems. 2. don&#39;t forget about your empty string check and null pointer check. 3. try not to reinvent the wheel and use common libraries to manipulate csv instead e.g. [Apache Common CSV](https://commons.apache.org/proper/commons-csv/)","body":"Not too bad as a new Java programmer, few tips here: 1. never use double, use BigDecimal instead, you will run into precision problems. 2. don&#39;t forget about your empty string check and null pointer check. 3. try not to reinvent the wheel and use common libraries to manipulate csv instead e.g. <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Common CSV</a>"},{"owner":{"account_id":25054038,"reputation":61,"user_id":18909694,"display_name":"Imaginewagons"},"score":1,"creation_date":1652536780,"post_id":71971328,"comment_id":127632507,"body_markdown":"Heyo!! this may be a little bit late but I just recently unlocked the comment privilege. I just wanted to say thank you for the tips!","body":"Heyo!! this may be a little bit late but I just recently unlocked the comment privilege. I just wanted to say thank you for the tips!"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650646765,"creation_date":1650646356,"answer_id":71972202,"question_id":71971328,"body_markdown":"Assume your content of `Grades.csv` is as below\r\n```\r\n35,91,24\r\n53,63,73\r\n13,23,33\r\n```\r\n \r\nSome tips \r\n\r\n1. Use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) statement to ensure that BufferedReader is closed at the end of the statement.\r\n\r\n2. Java uses zero-based indexing, so you should use `row[0]` to read the first score.\r\n\r\n3. Use a [logger](https://logging.apache.org/log4j/2.x/) or `e.printStackTrace()` to help you debugging.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    try (BufferedReader br = new BufferedReader(new FileReader(new File(&quot;Grades.csv&quot;)))) {\r\n        String allLines;\r\n        while ((allLines = br.readLine()) != null) {\r\n            String[] row = allLines.split(&quot;,&quot;);\r\n            double finalGrade =\r\n                (Double.parseDouble(row[0]) * .30) + (Double.parseDouble(row[1]) * .30) + (Double.parseDouble(row[2]) * .40);\r\n            System.out.println(finalGrade);\r\n        }\r\n    } catch (IOException e) {\r\n        System.err.println(&quot;some error message&quot;);\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nThe output will be \r\n```\r\n47.4\r\n64.0\r\n24.0\r\n```\r\n","title":"How do I manipulate a CSV file?","body":"<p>Assume your content of <code>Grades.csv</code> is as below</p>\n<pre><code>35,91,24\n53,63,73\n13,23,33\n</code></pre>\n<p>Some tips</p>\n<ol>\n<li><p>Use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> statement to ensure that BufferedReader is closed at the end of the statement.</p>\n</li>\n<li><p>Java uses zero-based indexing, so you should use <code>row[0]</code> to read the first score.</p>\n</li>\n<li><p>Use a <a href=\"https://logging.apache.org/log4j/2.x/\" rel=\"nofollow noreferrer\">logger</a> or <code>e.printStackTrace()</code> to help you debugging.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    try (BufferedReader br = new BufferedReader(new FileReader(new File(&quot;Grades.csv&quot;)))) {\n        String allLines;\n        while ((allLines = br.readLine()) != null) {\n            String[] row = allLines.split(&quot;,&quot;);\n            double finalGrade =\n                (Double.parseDouble(row[0]) * .30) + (Double.parseDouble(row[1]) * .30) + (Double.parseDouble(row[2]) * .40);\n            System.out.println(finalGrade);\n        }\n    } catch (IOException e) {\n        System.err.println(&quot;some error message&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>The output will be</p>\n<pre><code>47.4\n64.0\n24.0\n</code></pre>\n"}],"owner":{"account_id":25054038,"reputation":61,"user_id":18909694,"display_name":"Imaginewagons"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652612282,"creation_date":1650642064,"question_id":71971328,"body_markdown":"Create a program in Java that will read the CSV file and compute the Final Grade of the student using the computation below:\r\nLab Exercise * 30% + Long Quiz * 30% + Alternative Assessment * 40% = Final Grade\r\nThen, display the final grade of each student.\r\n\r\nWe will be using the java.io package and so far this is what I come up with\r\n\r\n    import java.io.*;\r\n    public class ReadingFile {\r\n    public static void main (String[]args){\r\n\r\n        try{\r\n\r\n            File myFile = new File(&quot;Grades.csv&quot;);\r\n            BufferedReader br = new BufferedReader(new FileReader(myFile));\r\n            String allLines = &quot;&quot;;\r\n\r\n            while((allLines = br.readLine()) != null){\r\n                String row [] = allLines.split(&quot;,&quot;);\r\n                double finalGrade = (Double.parseDouble(row[1])*.30) + (Double.parseDouble(row[2])*.30) + (Double.parseDouble(row[3])*.40);\r\n\r\n            }\r\n\r\n        }\r\n        catch(IOException err){\r\n            System.err.println(&quot;File not found.&quot;);\r\n            \r\n        }\r\n    }\r\n    }\r\n\r\n\r\nI know that there are a lot of missing code but this is all what I can do with the best of my knowledge and abilities.","title":"How do I manipulate a CSV file?","body":"<p>Create a program in Java that will read the CSV file and compute the Final Grade of the student using the computation below:\nLab Exercise * 30% + Long Quiz * 30% + Alternative Assessment * 40% = Final Grade\nThen, display the final grade of each student.</p>\n<p>We will be using the java.io package and so far this is what I come up with</p>\n<pre><code>import java.io.*;\npublic class ReadingFile {\npublic static void main (String[]args){\n\n    try{\n\n        File myFile = new File(&quot;Grades.csv&quot;);\n        BufferedReader br = new BufferedReader(new FileReader(myFile));\n        String allLines = &quot;&quot;;\n\n        while((allLines = br.readLine()) != null){\n            String row [] = allLines.split(&quot;,&quot;);\n            double finalGrade = (Double.parseDouble(row[1])*.30) + (Double.parseDouble(row[2])*.30) + (Double.parseDouble(row[3])*.40);\n\n        }\n\n    }\n    catch(IOException err){\n        System.err.println(&quot;File not found.&quot;);\n        \n    }\n}\n}\n</code></pre>\n<p>I know that there are a lot of missing code but this is all what I can do with the best of my knowledge and abilities.</p>\n"},{"tags":["java","date","java-8","jodatime"],"comments":[{"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"score":2,"creation_date":1652612033,"post_id":72247489,"comment_id":127643311,"body_markdown":"not an answer but these days we only use the java LocalDate and LocalDateTime and skip the joda ones. The java ones are just a bit cleaner.","body":"not an answer but these days we only use the java LocalDate and LocalDateTime and skip the joda ones. The java ones are just a bit cleaner."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652612103,"post_id":72247489,"comment_id":127643328,"body_markdown":"In which time zone do you want your Joda-Time `DateTime`? (I understand why you would not want a Joda-Time `LocalDateTime`.)","body":"In which time zone do you want your Joda-Time <code>DateTime</code>? (I understand why you would not want a Joda-Time <code>LocalDateTime</code>.)"},{"owner":{"account_id":17846667,"reputation":126,"user_id":12963307,"display_name":"Yasmine Daly"},"score":1,"creation_date":1652613493,"post_id":72247489,"comment_id":127643579,"body_markdown":"@OleV.V. CET or UTC +1","body":"@OleV.V. CET or UTC +1"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1652614453,"post_id":72247489,"comment_id":127643772,"body_markdown":"I could easily be tempted to convert to a `java.time.ZonedDateTime` first and then to `DateTime`. Get the `ZonedDateTime` from `yourLocalDate.atTime(yourLocalTime).atZone(ZoneId.of(&quot;Africa/Tunis&quot;))`. The the `DateTime` from `new DateTime(yourZonedDateTime.toInstant().toEpochMilli(), DateTimeZone.forID(&quot;Africa/Tunis&quot;))`. Advantages are you do most of the conversion work using the modern java.time API and you pass only two arguments to the `DateTime` constructor, greatly enhancing clarity over using a constructor with 6 or 8 arguments.","body":"I could easily be tempted to convert to a <code>java.time.ZonedDateTime</code> first and then to <code>DateTime</code>. Get the <code>ZonedDateTime</code> from <code>yourLocalDate.atTime(yourLocalTime).atZone(ZoneId.of(&quot;Africa&zwnj;&#8203;&#47;Tunis&quot;))</code>. The the <code>DateTime</code> from <code>new DateTime(yourZonedDateTime.toInstant().toEpochMilli(), DateTimeZone.forID(&quot;Africa&#47;Tunis&quot;))</code>. Advantages are you do most of the conversion work using the modern java.time API and you pass only two arguments to the <code>DateTime</code> constructor, greatly enhancing clarity over using a constructor with 6 or 8 arguments."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1652614730,"post_id":72247489,"comment_id":127643815,"body_markdown":"If you use a library check if it has a newer version","body":"If you use a library check if it has a newer version"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652615116,"post_id":72247489,"comment_id":127643887,"body_markdown":"@Thorbj&#248;rnRavnAndersen Always a good idea. However in this case java.time replaced Joda-Time by Java 8, so Joda-Time mostly exists for folks who haven’t upgraded to Java 8 yet, so can’t be directly integrated with the java.time classes (`LocalDate` and `LocalTime`). So in this situation a newer version does not help us. If the OP can abandon Joda-Time completely and use java.time throughout, it will simplify her situation considerably, of course.","body":"@Thorbj&#248;rnRavnAndersen Always a good idea. However in this case java.time replaced Joda-Time by Java 8, so Joda-Time mostly exists for folks who haven’t upgraded to Java 8 yet, so can’t be directly integrated with the java.time classes (<code>LocalDate</code> and <code>LocalTime</code>). So in this situation a newer version does not help us. If the OP can abandon Joda-Time completely and use java.time throughout, it will simplify her situation considerably, of course."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1652615289,"post_id":72247489,"comment_id":127643927,"body_markdown":"@OleV.V. yes.  The idea was that a newer version of the library explicitly targeting java.time would be a better long term solution.  These days joda is only for pre-Java8 legacy projects.","body":"@OleV.V. yes.  The idea was that a newer version of the library explicitly targeting java.time would be a better long term solution.  These days joda is only for pre-Java8 legacy projects."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1652615671,"post_id":72247489,"comment_id":127644003,"body_markdown":"So to be clear, @Thorbj&#248;rnRavnAndersen, you meant a newer version of whatever API the OP (currently) needs the Joda-Time `DateTime` for.","body":"So to be clear, @Thorbj&#248;rnRavnAndersen, you meant a newer version of whatever API the OP (currently) needs the Joda-Time <code>DateTime</code> for."}],"answers":[{"tags":[],"owner":{"account_id":25211815,"reputation":54,"user_id":19049412,"display_name":"sj221"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652611860,"creation_date":1652611860,"answer_id":72247570,"question_id":72247489,"body_markdown":"As per official documentation https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\nyou can use \r\n**DateTime(int year, int monthOfYear, int dayOfMonth, int hourOfDay, int minuteOfHour, int secondOfMinute, int millisOfSecond)**\r\nConstructs an instance from datetime field values using ISOChronology in the default time zone.\r\nThe values for the constructor can be obtained from LocalDate and Localtime object\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Build org.joda.time.DateTime with java.time.LocalDate and java.time.LocalTime or java.time.LocalDateTime","body":"<p>As per official documentation <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"nofollow noreferrer\">https://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html</a>\nyou can use\n<strong>DateTime(int year, int monthOfYear, int dayOfMonth, int hourOfDay, int minuteOfHour, int secondOfMinute, int millisOfSecond)</strong>\nConstructs an instance from datetime field values using ISOChronology in the default time zone.\nThe values for the constructor can be obtained from LocalDate and Localtime object\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html</a>\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html</a></p>\n"}],"owner":{"account_id":17846667,"reputation":126,"user_id":12963307,"display_name":"Yasmine Daly"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72247570,"answer_count":1,"score":0,"last_activity_date":1652611860,"creation_date":1652611089,"question_id":72247489,"body_markdown":"So basically I have a DatePicker and TimePicker which will respectively give me a LocalDate and LocalTime. Now I want to use these values to make a org.joda.time.DateTime variable.\r\n\r\nI&#39;m not sure how to do that. I looked everywhere but I can&#39;t find a good answer to this all the answers I&#39;ve found were for JPA which I&#39;m not using.","title":"Build org.joda.time.DateTime with java.time.LocalDate and java.time.LocalTime or java.time.LocalDateTime","body":"<p>So basically I have a DatePicker and TimePicker which will respectively give me a LocalDate and LocalTime. Now I want to use these values to make a org.joda.time.DateTime variable.</p>\n<p>I'm not sure how to do that. I looked everywhere but I can't find a good answer to this all the answers I've found were for JPA which I'm not using.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":4,"creation_date":1651559800,"post_id":72095466,"comment_id":127386351,"body_markdown":"Current versions of Eclipse require at least Java 11, many of the downloads include a suitable Java as part of the download. Go to https://www.eclipse.org/downloads/ and try just using the installer. Note that you can still develop code for older versions of Java even though Eclipse itself needs a newer version.","body":"Current versions of Eclipse require at least Java 11, many of the downloads include a suitable Java as part of the download. Go to <a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">eclipse.org/downloads</a> and try just using the installer. Note that you can still develop code for older versions of Java even though Eclipse itself needs a newer version."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1651561272,"post_id":72095466,"comment_id":127386719,"body_markdown":"I believe that you can still *develop for* Java 8 with the newest Eclipse. You don’t need to run the programs you write on the same Java version as the version Eclipse itself runs on.","body":"I believe that you can still <i>develop for</i> Java 8 with the newest Eclipse. You don’t need to run the programs you write on the same Java version as the version Eclipse itself runs on."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652585850,"post_id":72095466,"comment_id":127639883,"body_markdown":"Current versions means Eclipse 4.17 (2020-09) and later; see https://wiki.eclipse.org/Eclipse/Installation","body":"Current versions means Eclipse 4.17 (2020-09) and later; see <a href=\"https://wiki.eclipse.org/Eclipse/Installation\" rel=\"nofollow noreferrer\">wiki.eclipse.org/Eclipse/Installation</a>"},{"owner":{"account_id":20485417,"reputation":4847,"user_id":15032688,"display_name":"Sercan"},"score":0,"creation_date":1652611645,"post_id":72095466,"comment_id":127643248,"body_markdown":"Does this answer your question? [Eclipse - &quot;Incompatible JVM. Version 1.8.0\\_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;](https://stackoverflow.com/questions/63996047/eclipse-incompatible-jvm-version-1-8-0-261-of-the-jvm-is-not-suitable-for-th)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63996047/eclipse-incompatible-jvm-version-1-8-0-261-of-the-jvm-is-not-suitable-for-th\">Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20485417,"reputation":4847,"user_id":15032688,"display_name":"Sercan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652611631,"creation_date":1652582329,"answer_id":72245191,"question_id":72095466,"body_markdown":"1. Go to the directory where the **Eclipse IDE** is installed and open the **eclipse.ini** file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2. Go to the directory where **JDK** is installed and copy the path to the **javaw.exe** file in the **..\\bin** directory.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3. Add the `-vm` option above the `-vmargs` option in the **eclipse.ini** file as follows:\r\n\r\n```\r\n-vm\r\nC:\\Program Files\\Java\\jdk-18.0.1.1\\bin\\javaw.exe\r\n```\r\n\r\n&gt; The `-vm` option must occur after the other Eclipse-specific options (such as `-product`, `--launcher.*`, etc), but before the `-vmargs` option, since everything after `-vmargs` is passed directly to the JVM.\r\n\r\n4. Save the change in the **eclipse.ini** file and run the **eclipse.exe** file.\r\n\r\n&lt;hr&gt; \r\n\r\n##### References\r\n\r\n- [eclipse.ini](https://wiki.eclipse.org/index.php?title=Eclipse.ini&amp;redirect=no)\r\n- [Eclipse Community Forum](https://www.eclipse.org/forums/index.php/t/1105435/)\r\n- [Stack Overflow - Related Post](https://stackoverflow.com/questions/63996047/eclipse-incompatible-jvm-version-1-8-0-261-of-the-jvm-is-not-suitable-for-th)\r\n\r\n  [1]: https://i.stack.imgur.com/bmX7F.png\r\n  [2]: https://i.stack.imgur.com/ajpJF.png\r\n  [3]: https://i.stack.imgur.com/TEb1d.png","title":"Eclipse not compatible with version 1.8.0_333 of the JVM","body":"<ol>\n<li>Go to the directory where the <strong>Eclipse IDE</strong> is installed and open the <strong>eclipse.ini</strong> file.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/bmX7F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bmX7F.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Go to the directory where <strong>JDK</strong> is installed and copy the path to the <strong>javaw.exe</strong> file in the <strong>..\\bin</strong> directory.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ajpJF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ajpJF.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>Add the <code>-vm</code> option above the <code>-vmargs</code> option in the <strong>eclipse.ini</strong> file as follows:</li>\n</ol>\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk-18.0.1.1\\bin\\javaw.exe\n</code></pre>\n<blockquote>\n<p>The <code>-vm</code> option must occur after the other Eclipse-specific options (such as <code>-product</code>, <code>--launcher.*</code>, etc), but before the <code>-vmargs</code> option, since everything after <code>-vmargs</code> is passed directly to the JVM.</p>\n</blockquote>\n<ol start=\"4\">\n<li>Save the change in the <strong>eclipse.ini</strong> file and run the <strong>eclipse.exe</strong> file.</li>\n</ol>\n<hr> \n<h5>References</h5>\n<ul>\n<li><a href=\"https://wiki.eclipse.org/index.php?title=Eclipse.ini&amp;redirect=no\" rel=\"nofollow noreferrer\">eclipse.ini</a></li>\n<li><a href=\"https://www.eclipse.org/forums/index.php/t/1105435/\" rel=\"nofollow noreferrer\">Eclipse Community Forum</a></li>\n<li><a href=\"https://stackoverflow.com/questions/63996047/eclipse-incompatible-jvm-version-1-8-0-261-of-the-jvm-is-not-suitable-for-th\">Stack Overflow - Related Post</a></li>\n</ul>\n"}],"owner":{"account_id":25180016,"reputation":21,"user_id":19021622,"display_name":"Kazuma Satou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6236,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1652611631,"creation_date":1651558649,"question_id":72095466,"body_markdown":"I downloaded Eclipse IDE to learn how to code, but it only says that it isn&#39;t compatible with such version, I tried other methods mentioned in previous questions but nothing worked so far.","title":"Eclipse not compatible with version 1.8.0_333 of the JVM","body":"<p>I downloaded Eclipse IDE to learn how to code, but it only says that it isn't compatible with such version, I tried other methods mentioned in previous questions but nothing worked so far.</p>\n"},{"tags":["java","javafx","javafx-8","tile"],"comments":[{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":1,"creation_date":1652592595,"post_id":72245651,"comment_id":127640447,"body_markdown":"You can get any child of tilepane with getChildren().get() you need its index as argument. Other way is getting a reference like any other object","body":"You can get any child of tilepane with getChildren().get() you need its index as argument. Other way is getting a reference like any other object"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1652597823,"post_id":72245651,"comment_id":127641095,"body_markdown":"Yes, you can do this.","body":"Yes, you can do this."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1652598880,"post_id":72245651,"comment_id":127641241,"body_markdown":"If you&#39;re wondering if you can change the style of a tile _without a child `Node`_, then no. The `TilePane` layout doesn&#39;t really have &quot;physical&quot; tiles. It takes its list of children and arranges them into a tiled layout as best it can. So, if you want to change the style of a &quot;tile&quot;, then you need to place a child `Node` in the `TilePane`, then style said `Node`. This is true of most, if not all, layouts (e.g., `GridPane`).","body":"If you&#39;re wondering if you can change the style of a tile <i>without a child <code>Node</code></i>, then no. The <code>TilePane</code> layout doesn&#39;t really have &quot;physical&quot; tiles. It takes its list of children and arranges them into a tiled layout as best it can. So, if you want to change the style of a &quot;tile&quot;, then you need to place a child <code>Node</code> in the <code>TilePane</code>, then style said <code>Node</code>. This is true of most, if not all, layouts (e.g., <code>GridPane</code>)."}],"owner":{"account_id":21802117,"reputation":1,"user_id":16100788,"display_name":"Crustyyllama"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652611483,"creation_date":1652591445,"question_id":72245651,"body_markdown":"Is there a way in JavaFX to get/change the properties of a single tile in the tilePane layout? More specifically, I am looking to change the color of a single tile.\r\n\r\nIf this isn&#39;t possible, what are some alternatives I could try?\r\n","title":"Is it possible to edit the properties of a single tile in JavaFX tilepane?","body":"<p>Is there a way in JavaFX to get/change the properties of a single tile in the tilePane layout? More specifically, I am looking to change the color of a single tile.</p>\n<p>If this isn't possible, what are some alternatives I could try?</p>\n"},{"tags":["java","spring","spring-boot","annotations","lombok"],"comments":[{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1652605129,"post_id":72246798,"comment_id":127642184,"body_markdown":"I just saw you have already used @Data ,\nit will automatically include the standard setter and getter for the entity class.\n\nIs the error happening during you edit the code?  I don&#39;t it can cause compiling issue there.","body":"I just saw you have already used @Data , it will automatically include the standard setter and getter for the entity class.  Is the error happening during you edit the code?  I don&#39;t it can cause compiling issue there."},{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1652605222,"post_id":72246798,"comment_id":127642197,"body_markdown":"Maybe you can only evaluate the value of payments.get(0) first.\nIt also can show the member value of it during debugging.","body":"Maybe you can only evaluate the value of payments.get(0) first. It also can show the member value of it during debugging."},{"owner":{"account_id":22903879,"reputation":1893,"user_id":17042216,"display_name":"Himanshu Singh"},"score":0,"creation_date":1652607070,"post_id":72246798,"comment_id":127642520,"body_markdown":"Hey @SeanH, payments.get(0) is working fine. I already checked it and it is working fine. I was earlier doing it using streams and getting the same error then switched to the iterative method from where I get this issue. Can&#39;t understand why this is happening as it suggests the getter to be a member function but when running it gives such an error.","body":"Hey @SeanH, payments.get(0) is working fine. I already checked it and it is working fine. I was earlier doing it using streams and getting the same error then switched to the iterative method from where I get this issue. Can&#39;t understand why this is happening as it suggests the getter to be a member function but when running it gives such an error."},{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1652607476,"post_id":72246798,"comment_id":127642575,"body_markdown":"Thanks for your information.  Possibly this can be a bug of lombok plugin in ideaJ environment.  Perhaps you can try the latest version of lombok?","body":"Thanks for your information.  Possibly this can be a bug of lombok plugin in ideaJ environment.  Perhaps you can try the latest version of lombok?"},{"owner":{"account_id":22903879,"reputation":1893,"user_id":17042216,"display_name":"Himanshu Singh"},"score":0,"creation_date":1652607967,"post_id":72246798,"comment_id":127642653,"body_markdown":"Okay, will see it.","body":"Okay, will see it."}],"answers":[{"tags":[],"owner":{"account_id":23968828,"reputation":104,"user_id":17957852,"display_name":"Debanjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652608057,"creation_date":1652608057,"answer_id":72247170,"question_id":72246798,"body_markdown":"This seems to be an issue with intelliJ + lombok.\r\n\r\nYou can refer to the discussion here: https://stackoverflow.com/questions/21487219/intellij-no-such-instance-method","title":"Showing member function as &quot;Not an instance method&quot;","body":"<p>This seems to be an issue with intelliJ + lombok.</p>\n<p>You can refer to the discussion here: <a href=\"https://stackoverflow.com/questions/21487219/intellij-no-such-instance-method\">IntelliJ - No such instance method</a></p>\n"}],"owner":{"account_id":22903879,"reputation":1893,"user_id":17042216,"display_name":"Himanshu Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1652610500,"answer_count":1,"score":1,"last_activity_date":1652610677,"creation_date":1652604425,"question_id":72246798,"body_markdown":"I am working with Sprinboot and tried to access the getter function of the object to get the value. It is showing `function name` in suggestions \r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut when using it it is giving the error `Not an instance method`\r\n[![enter image description here][2]][2]\r\n\r\nCan someone suggest, what am I missing here?\r\n\r\nHere is the Structure of the class that I am using.\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\r\npublic class paymentDetails {\r\n    private String paymentId;\r\n\r\n    private Double amount;\r\n\r\n    private String paymentType;\r\n\r\n    private String utr;\r\n\r\n    private OffsetDateTime paymentDate;\r\n\r\n    private OffsetDateTime approvalDate;\r\n\r\n}\r\n```\r\n\r\n**Note**: For debugging, I am using `Evaluate Expression` here in ***Intellij Idea***.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q5sZv.png\r\n  [2]: https://i.stack.imgur.com/Lvh5i.png","title":"Showing member function as &quot;Not an instance method&quot;","body":"<p>I am working with Sprinboot and tried to access the getter function of the object to get the value. It is showing <code>function name</code> in suggestions</p>\n<p><a href=\"https://i.stack.imgur.com/q5sZv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q5sZv.png\" alt=\"enter image description here\" /></a></p>\n<p>but when using it it is giving the error <code>Not an instance method</code>\n<a href=\"https://i.stack.imgur.com/Lvh5i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lvh5i.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone suggest, what am I missing here?</p>\n<p>Here is the Structure of the class that I am using.</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@JsonNaming(PropertyNamingStrategies.SnakeCaseStrategy.class)\npublic class paymentDetails {\n    private String paymentId;\n\n    private Double amount;\n\n    private String paymentType;\n\n    private String utr;\n\n    private OffsetDateTime paymentDate;\n\n    private OffsetDateTime approvalDate;\n\n}\n</code></pre>\n<p><strong>Note</strong>: For debugging, I am using <code>Evaluate Expression</code> here in <em><strong>Intellij Idea</strong></em>.</p>\n"},{"tags":["java","scala","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1391193959,"creation_date":1391192427,"answer_id":21487275,"question_id":21487219,"body_markdown":"**EDIT**\r\n\r\nMy answer is no longer valid after OP modified question (i.e. moved where the breakpoint actual is).. \r\n\r\n\r\n&lt;strike&gt;A breakpoint is hit before the line is executed. So in this case `foo` has not yet been declared or instantiated (i.e. the `Foo` constructor has not yet been called). You&#39;ll need to put the breakpoint at the next line (or step over the current line) if you want to evaluate `foo`.&lt;/strike&gt;","title":"IntelliJ - No such instance method","body":"<p><strong>EDIT</strong></p>\n\n<p>My answer is no longer valid after OP modified question (i.e. moved where the breakpoint actual is).. </p>\n\n<p><strike>A breakpoint is hit before the line is executed. So in this case <code>foo</code> has not yet been declared or instantiated (i.e. the <code>Foo</code> constructor has not yet been called). You'll need to put the breakpoint at the next line (or step over the current line) if you want to evaluate <code>foo</code>.</strike></p>\n"},{"tags":[],"owner":{"account_id":1428736,"reputation":847,"user_id":1351639,"accept_rate":67,"display_name":"moralejaSinCuentoNiProverbio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652610569,"creation_date":1513952432,"answer_id":47943016,"question_id":21487219,"body_markdown":"I have the same exception message In IntelliJ 2017.1.3 at debugging time.\r\n\r\nThat happens to me when I tried to access an nonexistent method for the instance, not for the class.\r\n\r\nCommon example: If you forget to deploy your code to the server and your class have a new method when you are debugging you can&#39;t watch new members nor evaluate new methods.\r\n\r\n\r\n","title":"IntelliJ - No such instance method","body":"<p>I have the same exception message In IntelliJ 2017.1.3 at debugging time.</p>\n<p>That happens to me when I tried to access an nonexistent method for the instance, not for the class.</p>\n<p>Common example: If you forget to deploy your code to the server and your class have a new method when you are debugging you can't watch new members nor evaluate new methods.</p>\n"},{"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570005051,"creation_date":1570005051,"answer_id":58197933,"question_id":21487219,"body_markdown":"I ran into that issue trying to call `org.jdbi.v3.core.result.ResultIterable#one` in the **Evaluate expression** window during a debugging session.\r\nIntelliJ showed the following error message\r\n&gt;No such instance method: &#39;one&#39;\r\n\r\nwhile the code was just running fine when I did not have a debugger attached.\r\n\r\nIt turned out that my **Project language level** in IntelliJ was no set properly (can be set under Project settings -&gt; Project).\r\n\r\nThe `one` method is implemented as a [`default` method][1] in an interface.\r\nMy `JAVA_HOME` was properly set to a JDK 12 but the Project language level was set to 6.\r\nAfter adjusting the Project language level to 12 the error was gone and I could step through the method.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html","title":"IntelliJ - No such instance method","body":"<p>I ran into that issue trying to call <code>org.jdbi.v3.core.result.ResultIterable#one</code> in the <strong>Evaluate expression</strong> window during a debugging session.\nIntelliJ showed the following error message</p>\n\n<blockquote>\n  <p>No such instance method: 'one'</p>\n</blockquote>\n\n<p>while the code was just running fine when I did not have a debugger attached.</p>\n\n<p>It turned out that my <strong>Project language level</strong> in IntelliJ was no set properly (can be set under Project settings -> Project).</p>\n\n<p>The <code>one</code> method is implemented as a <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\"><code>default</code> method</a> in an interface.\nMy <code>JAVA_HOME</code> was properly set to a JDK 12 but the Project language level was set to 6.\nAfter adjusting the Project language level to 12 the error was gone and I could step through the method.</p>\n"}],"owner":{"account_id":178183,"reputation":41234,"user_id":409976,"accept_rate":68,"display_name":"Kevin Meredith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23290,"favorite_count":0,"down_vote_count":3,"up_vote_count":7,"answer_count":3,"score":4,"last_activity_date":1652610569,"creation_date":1391192238,"question_id":21487219,"body_markdown":"Using IntelliJ&#39;s 12 Ultimate, I&#39;m running the following code in the Debugger:\r\n\r\n**Java**\r\n\r\n    import play.api.libs.json.JsValue;\r\n    public class Foo { \r\n     ...\r\n     public JsValue toJson() { ... }\r\n\r\n    public class FooExample {\r\n    ...\r\n      Foo foo = new Foo(); \r\n      System.out.println(&quot;...); //&lt;-- breakpoint\r\n\r\n\r\nAt the breakpoint, I right-clicked my source code and picked &quot;Evaluate Expression,&quot; typing in:\r\n\r\n`foo.toJson()`.\r\n\r\nBut the following error showed up:\r\n\r\n`No such instance method: play.api.libs.json.JsValue$class.com.foo.Foo.toJson ()`\r\n\r\nAm I doing something wrong? `Foo#toJson` calls Scala code, if that matters.\r\n\r\n**EDIT** I actually had the breakpoint after the instantiation of `Foo.` To those who downvoted it, I deserved it.\r\n\r\n\r\n\r\n","title":"IntelliJ - No such instance method","body":"<p>Using IntelliJ's 12 Ultimate, I'm running the following code in the Debugger:</p>\n\n<p><strong>Java</strong></p>\n\n<pre><code>import play.api.libs.json.JsValue;\npublic class Foo { \n ...\n public JsValue toJson() { ... }\n\npublic class FooExample {\n...\n  Foo foo = new Foo(); \n  System.out.println(\"...); //&lt;-- breakpoint\n</code></pre>\n\n<p>At the breakpoint, I right-clicked my source code and picked \"Evaluate Expression,\" typing in:</p>\n\n<p><code>foo.toJson()</code>.</p>\n\n<p>But the following error showed up:</p>\n\n<p><code>No such instance method: play.api.libs.json.JsValue$class.com.foo.Foo.toJson ()</code></p>\n\n<p>Am I doing something wrong? <code>Foo#toJson</code> calls Scala code, if that matters.</p>\n\n<p><strong>EDIT</strong> I actually had the breakpoint after the instantiation of <code>Foo.</code> To those who downvoted it, I deserved it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8273106,"reputation":1428,"user_id":6220223,"display_name":"Beshambher Chaukhwan"},"score":0,"creation_date":1614424107,"post_id":66398069,"comment_id":117384628,"body_markdown":"Try checking for enter button press also i.e., `bytes[i]==13`","body":"Try checking for enter button press also i.e., <code>bytes[i]==13</code>"},{"owner":{"account_id":20823324,"reputation":9,"user_id":15294393,"display_name":"Pajet"},"score":0,"creation_date":1614425113,"post_id":66398069,"comment_id":117384872,"body_markdown":"another text- \nFailed test #2 of 3. Wrong answer","body":"another text-  Failed test #2 of 3. Wrong answer"}],"answers":[{"tags":[],"owner":{"account_id":20689108,"reputation":17580,"user_id":15273968,"display_name":"the Hutt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1614426461,"creation_date":1614425395,"answer_id":66398360,"question_id":66398069,"body_markdown":"\tInputStream inputStream = System.in;\r\n\t//create advanced stream to read line, instead of bytes\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\r\n    String line = br.readLine();\r\n\r\n    //get all the characters in the String\r\n    char[] chars = line.toCharArray();\r\n\r\n    for (int i =0; i&lt;chars.length; i++){\r\n        //use Integer.valueOf to get character&#39;s ACII value\r\n        System.out.print(Integer.valueOf(chars[i]));\r\n    }\r\n\r\nOr in your original code check for 0 value. `if(bytes[i] == 0)`","title":"Input streams- Convert to bytes","body":"<pre><code>InputStream inputStream = System.in;\n//create advanced stream to read line, instead of bytes\nBufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\nString line = br.readLine();\n\n//get all the characters in the String\nchar[] chars = line.toCharArray();\n\nfor (int i =0; i&lt;chars.length; i++){\n    //use Integer.valueOf to get character's ACII value\n    System.out.print(Integer.valueOf(chars[i]));\n}\n</code></pre>\n<p>Or in your original code check for 0 value. <code>if(bytes[i] == 0)</code></p>\n"},{"tags":[],"owner":{"account_id":25295021,"reputation":1,"user_id":19120336,"display_name":"Iwannis Balaouras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652610248,"creation_date":1652610248,"answer_id":72247401,"question_id":66398069,"body_markdown":"    import java.io.InputStream;\r\n\r\n    class Main {\r\n        public static void main(String[] args) throws Exception {\r\n            InputStream inputStream = System.in;\r\n\r\n            byte[] bytes = new byte[50];\r\n            int read = inputStream.read(bytes);\r\n            for (int i = 0; i &lt; read; i++) {\r\n                if (bytes[i] == 10) {\r\n                break;\r\n                }\r\n                System.out.print(bytes[i]);\r\n            }\r\n            inputStream.close();\r\n        }\r\n    }","title":"Input streams- Convert to bytes","body":"<pre><code>import java.io.InputStream;\n\nclass Main {\n    public static void main(String[] args) throws Exception {\n        InputStream inputStream = System.in;\n\n        byte[] bytes = new byte[50];\n        int read = inputStream.read(bytes);\n        for (int i = 0; i &lt; read; i++) {\n            if (bytes[i] == 10) {\n            break;\n            }\n            System.out.print(bytes[i]);\n        }\n        inputStream.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20823324,"reputation":9,"user_id":15294393,"display_name":"Pajet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66398360,"answer_count":2,"score":0,"last_activity_date":1652610248,"creation_date":1614423326,"question_id":66398069,"body_markdown":"I need to read an input text from the console and print it as a sequence of bytes. Use `System.in` as input stream directly. Avoid using `Scanner`.\r\n\r\nSample Input 1:\r\n\r\n    abc\r\nSample Output 1:\r\n\r\n    979899\r\n\r\nThis is my code:\r\n\r\n    import java.io.InputStream;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) throws Exception {\r\n            InputStream inputStream = System.in;\r\n            byte[] bytes = new byte[50];\r\n            int read = inputStream.read(bytes);\r\n            for (int i =0; i&lt;bytes.length; i++){\r\n                if(bytes[i] == 10) {\r\n                    break;\r\n                }\r\n                System.out.print(bytes[i]);\r\n            }\r\n            inputStream.close();\r\n        }\r\n    }\r\nYour code output:\r\n97989900000000000000000000000000000000000000000000000\r\n\r\nWhat is wrong with my code. `break;`?","title":"Input streams- Convert to bytes","body":"<p>I need to read an input text from the console and print it as a sequence of bytes. Use <code>System.in</code> as input stream directly. Avoid using <code>Scanner</code>.</p>\n<p>Sample Input 1:</p>\n<pre><code>abc\n</code></pre>\n<p>Sample Output 1:</p>\n<pre><code>979899\n</code></pre>\n<p>This is my code:</p>\n<pre><code>import java.io.InputStream;\n\nclass Main {\n    public static void main(String[] args) throws Exception {\n        InputStream inputStream = System.in;\n        byte[] bytes = new byte[50];\n        int read = inputStream.read(bytes);\n        for (int i =0; i&lt;bytes.length; i++){\n            if(bytes[i] == 10) {\n                break;\n            }\n            System.out.print(bytes[i]);\n        }\n        inputStream.close();\n    }\n}\n</code></pre>\n<p>Your code output:\n97989900000000000000000000000000000000000000000000000</p>\n<p>What is wrong with my code. <code>break;</code>?</p>\n"},{"tags":["java","android","sqlite","relational-database","android-room"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652572069,"post_id":72244579,"comment_id":127638701,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652609910,"creation_date":1652609910,"answer_id":72247360,"question_id":72244579,"body_markdown":"You could \r\n\r\n- use an AFTER DELETE TRIGGER, or\r\n- use a FOREIGN KEY definition with the onDelete action as CASCADE, or\r\n- do the deletion programmatically (perhaps via a single function that invokes both deletions (the primary being the parent, the other being deletion of the children).\r\n\r\n\r\nRoom doesn&#39;t support TRIGGERS via annotation so you would have to create the TRIGGER(s) via code, probably using a CallBack with either, or perhaps both the onCreate or onOpen methods/functions overridden (if in onOpen then you should use `CREATE TRIGGER IF NOT EXSITS ....` so that if the trigger already exists that it doesn&#39;t fail but ignores the creation).\r\n\r\nYou may wish to refer to https://sqlite.org/lang_createtrigger.html for more information regarding Triggers. \r\nFor Foreign Keys you may wish to refer to https://developer.android.com/reference/androidx/room/ForeignKey\r\n\r\n","title":"How to link deletion in room data","body":"<p>You could</p>\n<ul>\n<li>use an AFTER DELETE TRIGGER, or</li>\n<li>use a FOREIGN KEY definition with the onDelete action as CASCADE, or</li>\n<li>do the deletion programmatically (perhaps via a single function that invokes both deletions (the primary being the parent, the other being deletion of the children).</li>\n</ul>\n<p>Room doesn't support TRIGGERS via annotation so you would have to create the TRIGGER(s) via code, probably using a CallBack with either, or perhaps both the onCreate or onOpen methods/functions overridden (if in onOpen then you should use <code>CREATE TRIGGER IF NOT EXSITS ....</code> so that if the trigger already exists that it doesn't fail but ignores the creation).</p>\n<p>You may wish to refer to <a href=\"https://sqlite.org/lang_createtrigger.html\" rel=\"nofollow noreferrer\">https://sqlite.org/lang_createtrigger.html</a> for more information regarding Triggers.\nFor Foreign Keys you may wish to refer to <a href=\"https://developer.android.com/reference/androidx/room/ForeignKey\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/room/ForeignKey</a></p>\n"}],"owner":{"account_id":20011425,"reputation":9,"user_id":14668365,"display_name":"Moataz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1652609910,"creation_date":1652571903,"question_id":72244579,"body_markdown":"I have two data base or two tables ex:one for matches and one for chat jn event section in match note that the all messages is inserted in one table mean that every chat of every match is inserted in the same table \r\nMy target is when I delete a group of matches I need to automatically delete all chats  of those match with ","title":"How to link deletion in room data","body":"<p>I have two data base or two tables ex:one for matches and one for chat jn event section in match note that the all messages is inserted in one table mean that every chat of every match is inserted in the same table\nMy target is when I delete a group of matches I need to automatically delete all chats  of those match with</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1652597209,"post_id":72245985,"comment_id":127641003,"body_markdown":"this code is not generating a permutation of the input values; it is apparently overwriting some values and repeating others","body":"this code is not generating a permutation of the input values; it is apparently overwriting some values and repeating others"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1652604030,"post_id":72245985,"comment_id":127642005,"body_markdown":"Run it through a debugger to see why.","body":"Run it through a debugger to see why."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1652655060,"post_id":72245985,"comment_id":127652209,"body_markdown":"It is likely that this problem can be solved by doing basic debugging. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming.  Further reading: **[How to debug small programs](http://ericlippert.com/2014/03/05/how-to-debug-small-programs/)**  If the issue persists, please edit the question and add the information.","body":"It is likely that this problem can be solved by doing basic debugging. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming.  Further reading: <b><a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a></b>  If the issue persists, please edit the question and add the information."}],"answers":[{"tags":[],"owner":{"account_id":25133794,"reputation":1340,"user_id":18980756,"display_name":"Franck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652608769,"creation_date":1652607448,"answer_id":72247098,"question_id":72245985,"body_markdown":"`(int)Math.random()*10;` is always `0` and not a value in the interval [0, n-1].\r\nTherefore, your sorting did not get started.\r\n\r\nThe increment of `k` was just outside the loop it should be in.\r\n\r\nYou also need not to check for equality in order to identify which elements to switch.\r\n\r\n\r\n    package practice;\r\n    import java.util.*;\r\n    class bogosort\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.println(&quot;Caution this sorting could take hours if used more than 4 Numbers&quot;);\r\n            System.out.print(&quot;Enter the length to Sort: &quot;);\r\n            int n;\r\n            n=sc.nextInt();\r\n            int a[]=new int[n],b[]=new int[n],i,j,f=0,p=0,k=0;\r\n            for (i=0;i&lt;n;i++)\r\n            {\r\n                System.out.print(&quot;Enter the number &quot; + (i+1) + &quot;: &quot;);\r\n                a[i]=sc.nextInt();\r\n                b[i]=-1;\r\n            }\r\n            while (p==0)\r\n            {\r\n                Random rand = new Random();\r\n                for (i=0;i&lt;n;i++)\r\n                {\r\n                    b[i]= rand.nextInt(n);// (int)Math.random()*10;\r\n                    System.out.println(&quot;i: &quot; + i + &quot; b[&quot; + i + &quot;]: &quot; + b[i]);\r\n                    for (j=0;j&lt;n;j++)\r\n                    {\r\n                        if (b[i]&lt;b[j] &amp;&amp; i!=j) // do check for equality here\r\n                        {\r\n                             // already in correct order\r\n                            i--;\r\n                            f=1;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (f==1)\r\n                    {\r\n                        f=0;\r\n                        continue;\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;swap element at &quot; + i + &quot; with element at &quot; + b[i]);\r\n                        // swap elements\r\n                        int tmp = a[i];\r\n                        a[i]=a[b[i]];\r\n                        a[b[i]] = tmp;\r\n                    }\r\n                    k++;\r\n                }\r\n                p=1;\r\n                for (i=0;i&lt;n-1;i++)\r\n                {\r\n                    if (a[i]&gt;a[i+1])\r\n                    {\r\n                        // not sorted yet\r\n                        p=0;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;Sorted Array&quot;);\r\n            for (i=0;i&lt;n;i++)\r\n            {\r\n                System.out.println(a[i]);\r\n            }\r\n            System.out.println(&quot;It took &quot; + k + &quot; turns&quot;);\r\n        }\r\n    }\r\n\r\n```none\r\n$ java bogosort.java\r\nCaution this sorting could take hours if used more than 4 Numbers\r\nEnter the length to Sort: 3\r\nEnter the number 1: 3\r\nEnter the number 2: 2\r\nEnter the number 3: 1\r\ni: 0 b[0]: 0\r\nswap element at 0 with element at 0\r\ni: 1 b[1]: 0\r\nswap element at 1 with element at 0\r\ni: 2 b[2]: 2\r\nswap element at 2 with element at 2\r\ni: 0 b[0]: 0\r\ni: 0 b[0]: 1\r\ni: 0 b[0]: 1\r\ni: 0 b[0]: 2\r\nswap element at 0 with element at 2\r\ni: 1 b[1]: 2\r\nswap element at 1 with element at 2\r\ni: 2 b[2]: 0\r\ni: 2 b[2]: 1\r\ni: 2 b[2]: 0\r\ni: 2 b[2]: 2\r\nswap element at 2 with element at 2\r\nSorted Array\r\n1\r\n2\r\n3\r\nIt took 6 turns\r\n$  \r\n```","title":"Why is my bogo sort not running, Whats the error?","body":"<p><code>(int)Math.random()*10;</code> is always <code>0</code> and not a value in the interval [0, n-1].\nTherefore, your sorting did not get started.</p>\n<p>The increment of <code>k</code> was just outside the loop it should be in.</p>\n<p>You also need not to check for equality in order to identify which elements to switch.</p>\n<pre><code>package practice;\nimport java.util.*;\nclass bogosort\n{\n    public static void main(String args[])\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Caution this sorting could take hours if used more than 4 Numbers&quot;);\n        System.out.print(&quot;Enter the length to Sort: &quot;);\n        int n;\n        n=sc.nextInt();\n        int a[]=new int[n],b[]=new int[n],i,j,f=0,p=0,k=0;\n        for (i=0;i&lt;n;i++)\n        {\n            System.out.print(&quot;Enter the number &quot; + (i+1) + &quot;: &quot;);\n            a[i]=sc.nextInt();\n            b[i]=-1;\n        }\n        while (p==0)\n        {\n            Random rand = new Random();\n            for (i=0;i&lt;n;i++)\n            {\n                b[i]= rand.nextInt(n);// (int)Math.random()*10;\n                System.out.println(&quot;i: &quot; + i + &quot; b[&quot; + i + &quot;]: &quot; + b[i]);\n                for (j=0;j&lt;n;j++)\n                {\n                    if (b[i]&lt;b[j] &amp;&amp; i!=j) // do check for equality here\n                    {\n                         // already in correct order\n                        i--;\n                        f=1;\n                        break;\n                    }\n                }\n                if (f==1)\n                {\n                    f=0;\n                    continue;\n                }\n                else {\n                    System.out.println(&quot;swap element at &quot; + i + &quot; with element at &quot; + b[i]);\n                    // swap elements\n                    int tmp = a[i];\n                    a[i]=a[b[i]];\n                    a[b[i]] = tmp;\n                }\n                k++;\n            }\n            p=1;\n            for (i=0;i&lt;n-1;i++)\n            {\n                if (a[i]&gt;a[i+1])\n                {\n                    // not sorted yet\n                    p=0;\n                    break;\n                }\n            }\n        }\n        System.out.println(&quot;Sorted Array&quot;);\n        for (i=0;i&lt;n;i++)\n        {\n            System.out.println(a[i]);\n        }\n        System.out.println(&quot;It took &quot; + k + &quot; turns&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>$ java bogosort.java\nCaution this sorting could take hours if used more than 4 Numbers\nEnter the length to Sort: 3\nEnter the number 1: 3\nEnter the number 2: 2\nEnter the number 3: 1\ni: 0 b[0]: 0\nswap element at 0 with element at 0\ni: 1 b[1]: 0\nswap element at 1 with element at 0\ni: 2 b[2]: 2\nswap element at 2 with element at 2\ni: 0 b[0]: 0\ni: 0 b[0]: 1\ni: 0 b[0]: 1\ni: 0 b[0]: 2\nswap element at 0 with element at 2\ni: 1 b[1]: 2\nswap element at 1 with element at 2\ni: 2 b[2]: 0\ni: 2 b[2]: 1\ni: 2 b[2]: 0\ni: 2 b[2]: 2\nswap element at 2 with element at 2\nSorted Array\n1\n2\n3\nIt took 6 turns\n$  \n</code></pre>\n"}],"owner":{"account_id":24816765,"reputation":11,"user_id":18697523,"display_name":"Rhythm Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72247098,"answer_count":1,"score":0,"last_activity_date":1652608769,"creation_date":1652595888,"question_id":72245985,"body_markdown":"It doesn&#39;t output anything even after 2 numbers.\r\nIt is a Bogo sort program I am doing for improving skill but in blue J it seems to get stuck after Input so what&#39;s the issue here?\r\nI tried to store random numbers in array b[] and check if that number is not repeated and then used that index to store a number.\r\n```\r\npackage practice;\r\nimport java.util.*;\r\nclass bogosort\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.println(&quot;Enter the length to Sort&quot;);\r\n        System.out.println(&quot;Caution this sorting could take hours if used more than 4 Numbers&quot;);\r\n        int n;\r\n        n=sc.nextInt();\r\n        int a[]=new int[n],b[]=new int[n],i,j,f=0,p=0,k=0;\r\n        System.out.println(&quot;Enter the numbers&quot;);\r\n        for (i=0;i&lt;n;i++)\r\n        {\r\n             a[i]=sc.nextInt();\r\n             b[i]=-1;\r\n        }\r\n        while (p==0)\r\n        {\r\n            for (i=0;i&lt;n;i++)\r\n            {\r\n                b[i]=(int)Math.random()*10;\r\n                for (j=0;j&lt;n;j++)\r\n                {\r\n                    if (b[i]==b[j] &amp;&amp; i!=j)\r\n                    {\r\n                        i--;\r\n                        f=1;\r\n                        break;\r\n                    }\r\n                }\r\n                if (f==1)\r\n                {\r\n                    f=0;\r\n                    continue;\r\n                }\r\n                else\r\n                a[i]=a[b[i]];\r\n            }\r\n            k++;\r\n            for (i=0;i&lt;n-1;i++)\r\n            {\r\n                if (a[i]&gt;a[i+1])\r\n                {\r\n                    p=0;\r\n                    break;\r\n                }\r\n                else\r\n                p=1;\r\n            }\r\n        }\r\n        System.out.println(&quot;Sorted Array&quot;);\r\n        for (i=0;i&lt;n;i++)\r\n        {\r\n            System.out.println(a[i]);\r\n        }\r\n        System.out.println(&quot;It took &quot; + k + &quot;turns&quot;);\r\n    }\r\n}```\r\n\r\n    \r\n","title":"Why is my bogo sort not running, Whats the error?","body":"<p>It doesn't output anything even after 2 numbers.\nIt is a Bogo sort program I am doing for improving skill but in blue J it seems to get stuck after Input so what's the issue here?\nI tried to store random numbers in array b[] and check if that number is not repeated and then used that index to store a number.</p>\n<pre><code>package practice;\nimport java.util.*;\nclass bogosort\n{\n    public static void main(String args[])\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter the length to Sort&quot;);\n        System.out.println(&quot;Caution this sorting could take hours if used more than 4 Numbers&quot;);\n        int n;\n        n=sc.nextInt();\n        int a[]=new int[n],b[]=new int[n],i,j,f=0,p=0,k=0;\n        System.out.println(&quot;Enter the numbers&quot;);\n        for (i=0;i&lt;n;i++)\n        {\n             a[i]=sc.nextInt();\n             b[i]=-1;\n        }\n        while (p==0)\n        {\n            for (i=0;i&lt;n;i++)\n            {\n                b[i]=(int)Math.random()*10;\n                for (j=0;j&lt;n;j++)\n                {\n                    if (b[i]==b[j] &amp;&amp; i!=j)\n                    {\n                        i--;\n                        f=1;\n                        break;\n                    }\n                }\n                if (f==1)\n                {\n                    f=0;\n                    continue;\n                }\n                else\n                a[i]=a[b[i]];\n            }\n            k++;\n            for (i=0;i&lt;n-1;i++)\n            {\n                if (a[i]&gt;a[i+1])\n                {\n                    p=0;\n                    break;\n                }\n                else\n                p=1;\n            }\n        }\n        System.out.println(&quot;Sorted Array&quot;);\n        for (i=0;i&lt;n;i++)\n        {\n            System.out.println(a[i]);\n        }\n        System.out.println(&quot;It took &quot; + k + &quot;turns&quot;);\n    }\n}```\n\n    \n</code></pre>\n"},{"tags":["java","spring","gradle","spring-security","multi-module"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":3,"creation_date":1652609259,"post_id":72247185,"comment_id":127642858,"body_markdown":"I guess, scanning for beans and configurations is the problem. Show the package where the main application lives, and the packages of your beans and configurations, especially your security config class.","body":"I guess, scanning for beans and configurations is the problem. Show the package where the main application lives, and the packages of your beans and configurations, especially your security config class."},{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1652609274,"post_id":72247185,"comment_id":127642861,"body_markdown":"Add  &quot;@Import(YourSecurityConfig.class)&quot; to your main class &amp; try.","body":"Add  &quot;@Import(YourSecurityConfig.class)&quot; to your main class &amp; try."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1652609544,"post_id":72247185,"comment_id":127642904,"body_markdown":"Well ... a better suggestion would be to put the main application class into a package that is a parent of all other packages in the whole project.","body":"Well ... a better suggestion would be to put the main application class into a package that is a parent of all other packages in the whole project."},{"owner":{"account_id":14595600,"reputation":37,"user_id":10541454,"display_name":"Kaights"},"score":0,"creation_date":1652610778,"post_id":72247185,"comment_id":127643117,"body_markdown":"@Seelenvirtuose you are the best!!! THANK YOU SO MUCH, I will post an answer with your comment, you saved me so much time and sanity.","body":"@Seelenvirtuose you are the best!!! THANK YOU SO MUCH, I will post an answer with your comment, you saved me so much time and sanity."}],"owner":{"account_id":14595600,"reputation":37,"user_id":10541454,"display_name":"Kaights"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652608733,"creation_date":1652608195,"question_id":72247185,"body_markdown":"I&#39;m trying to create a **Gradle multi-module** project following the *hexagonal architecture*. \r\n\r\nCurrently, my project looks like this when executing `./gradlew -q projects`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAll is working except for **Spring Security**, my idea was to keep all Spring Security configurations in a **different module**.\r\n\r\nBut when keeping the **WebSecurityConfiguration** in a module that is **not** the **BOOT module** (*which is the one that contains the actual main class*), it throws **401** always.\r\n\r\n***This is the summary:***\r\n\r\n 1. When WebSecurityConfiguration class stays in the BOOT module it works like a charm ✅\r\n\r\n[![This works!][3]][3]\r\n\r\n 2. When WebSecurityConfiguration is moved to a different module all rest calls to the controllers return 401 ❌\r\n\r\n[![This doesn&#39;t work...][2]][2]\r\n\r\n***Things to keep in mind:***\r\n\r\n 1. Application.yaml is ok since the application works with spring security when option 1.\r\n 2. WebSecurityConfiguration code is ok since the application works with spring security when option 1.\r\n 3. See this thread and the **comment** on the answer, I&#39;m facing the same problem https://stackoverflow.com/a/58656278\r\n 4. All modules **except BOOT** are configured with `jarEnabled = true`, so they are not bootable.\r\n\r\nAny help will be welcomed because I am going crazy with this. &#128591;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VPFZU.png\r\n  [2]: https://i.stack.imgur.com/BiWbb.png\r\n  [3]: https://i.stack.imgur.com/ToalI.png","title":"Why Spring Security throws 401 when placed in a different module?","body":"<p>I'm trying to create a <strong>Gradle multi-module</strong> project following the <em>hexagonal architecture</em>.</p>\n<p>Currently, my project looks like this when executing <code>./gradlew -q projects</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/VPFZU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VPFZU.png\" alt=\"enter image description here\" /></a></p>\n<p>All is working except for <strong>Spring Security</strong>, my idea was to keep all Spring Security configurations in a <strong>different module</strong>.</p>\n<p>But when keeping the <strong>WebSecurityConfiguration</strong> in a module that is <strong>not</strong> the <strong>BOOT module</strong> (<em>which is the one that contains the actual main class</em>), it throws <strong>401</strong> always.</p>\n<p><em><strong>This is the summary:</strong></em></p>\n<ol>\n<li>When WebSecurityConfiguration class stays in the BOOT module it works like a charm ✅</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ToalI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ToalI.png\" alt=\"This works!\" /></a></p>\n<ol start=\"2\">\n<li>When WebSecurityConfiguration is moved to a different module all rest calls to the controllers return 401 ❌</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/BiWbb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BiWbb.png\" alt=\"This doesn't work...\" /></a></p>\n<p><em><strong>Things to keep in mind:</strong></em></p>\n<ol>\n<li>Application.yaml is ok since the application works with spring security when option 1.</li>\n<li>WebSecurityConfiguration code is ok since the application works with spring security when option 1.</li>\n<li>See this thread and the <strong>comment</strong> on the answer, I'm facing the same problem <a href=\"https://stackoverflow.com/a/58656278\">https://stackoverflow.com/a/58656278</a></li>\n<li>All modules <strong>except BOOT</strong> are configured with <code>jarEnabled = true</code>, so they are not bootable.</li>\n</ol>\n<p>Any help will be welcomed because I am going crazy with this. 🙏</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":430678,"reputation":29540,"user_id":814253,"accept_rate":63,"display_name":"DonCallisto"},"score":0,"creation_date":1336468857,"post_id":10495810,"comment_id":13566636,"body_markdown":"Take a look http://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java","body":"Take a look <a href=\"http://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\" title=\"how do i copy an object in java\">stackoverflow.com/questions/869033/&hellip;</a>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1336469161,"post_id":10495810,"comment_id":13566741,"body_markdown":"Do you mean that your new list should not change if items are added/removed in the original list? Or do you also want to make sure that items in your list can&#39;t be modified?","body":"Do you mean that your new list should not change if items are added/removed in the original list? Or do you also want to make sure that items in your list can&#39;t be modified?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652609450,"post_id":10495810,"comment_id":127642890,"body_markdown":"Why copy anything? I&#39;ve been programming Java for 25 years and never copied a list. Rethink.","body":"Why copy anything? I&#39;ve been programming Java for 25 years and never copied a list. Rethink."}],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336468867,"creation_date":1336468867,"answer_id":10495882,"question_id":10495810,"body_markdown":"You need to create a new `List` and then add a clone of each element of the original list to it.\r\n\r\n    List&lt;Object&gt; copy = new ArrayList&lt;Object&gt;(inputList.size());\r\n    for (Object item : inputList) {\r\n       copy.add(item.clone());\r\n    }\r\n\r\nObviously, you need to check that the objects in your list are [`Cloneable`][1] otherwise they won&#39;t be copied correctly.\r\n\r\n[1]:http://docs.oracle.com/javase/7/docs/api/java/lang/Cloneable.html","title":"Copying List of objects by value in Java","body":"<p>You need to create a new <code>List</code> and then add a clone of each element of the original list to it.</p>\n\n<pre><code>List&lt;Object&gt; copy = new ArrayList&lt;Object&gt;(inputList.size());\nfor (Object item : inputList) {\n   copy.add(item.clone());\n}\n</code></pre>\n\n<p>Obviously, you need to check that the objects in your list are <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Cloneable.html\" rel=\"nofollow\"><code>Cloneable</code></a> otherwise they won't be copied correctly.</p>\n"},{"tags":[],"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336468999,"creation_date":1336468999,"answer_id":10495931,"question_id":10495810,"body_markdown":"Iterate through the passed list and crone its content to create a new List which can then be used without altering the original List.\r\n\r\n    private List&lt;Object&gt; clone;\r\n    public Foo(List&lt;Object&gt; original)\r\n    {\r\n      this.clone = new ArrayList&lt;Object&gt;(list.size());\r\n      for(Object item: original)\r\n      { \r\n       clone.add(item.clone());\r\n      }\r\n    }\r\n\r\n","title":"Copying List of objects by value in Java","body":"<p>Iterate through the passed list and crone its content to create a new List which can then be used without altering the original List.</p>\n\n<pre><code>private List&lt;Object&gt; clone;\npublic Foo(List&lt;Object&gt; original)\n{\n  this.clone = new ArrayList&lt;Object&gt;(list.size());\n  for(Object item: original)\n  { \n   clone.add(item.clone());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":182324,"reputation":398,"user_id":416932,"display_name":"Wojtek Mlodzianowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336469197,"creation_date":1336469197,"answer_id":10495979,"question_id":10495810,"body_markdown":" Collections.copy(b,a);\r\n\r\nhere&#39;s the doc:\r\nhttp://docs.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#copy%28java.util.List,%20java.util.List%29\r\n","title":"Copying List of objects by value in Java","body":"<p>Collections.copy(b,a);</p>\n\n<p>here's the doc:\n<a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#copy%28java.util.List,%20java.util.List%29\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Collections.html#copy%28java.util.List,%20java.util.List%29</a></p>\n"},{"tags":[],"owner":{"account_id":1100688,"reputation":138,"user_id":1093148,"display_name":"linuxlsx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336469258,"creation_date":1336469258,"answer_id":10496000,"question_id":10495810,"body_markdown":"If your object don’t contain any other reference of other object, you can use Object.clone(), but if not so, you need to make a deep clone.","title":"Copying List of objects by value in Java","body":"<p>If your object don’t contain any other reference of other object, you can use Object.clone(), but if not so, you need to make a deep clone.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336479216,"creation_date":1336469295,"answer_id":10496010,"question_id":10495810,"body_markdown":"Your question is not clear.\r\n\r\n  - If you want a shallow copy (i.e. a copy of the list that will contain references to the objects in the original list, then the `clone` method will do the job, as will a copy constructor on a `List` implementation class.\r\n\r\n  - If you want a deep copy (i.e. a copy of the list containing copies of the original objects) then your best bet is to create a new list and populate it with clones of the original list elements.  However, there is a catch.  The `clone` method is not provided by default.  A lot of common utility classes are cloneable, by custom classes are not ... unless you&#39;ve implemented it.  If your list contains any non-cloneable object, you will get exceptions at runtime.  \r\n\r\nThere are other deep-copying alternatives to `clone`, but just like cloning they don&#39;t work with all classes.  And really, that&#39;s the crux of the problem if your solution has to be generic.","title":"Copying List of objects by value in Java","body":"<p>Your question is not clear.</p>\n\n<ul>\n<li><p>If you want a shallow copy (i.e. a copy of the list that will contain references to the objects in the original list, then the <code>clone</code> method will do the job, as will a copy constructor on a <code>List</code> implementation class.</p></li>\n<li><p>If you want a deep copy (i.e. a copy of the list containing copies of the original objects) then your best bet is to create a new list and populate it with clones of the original list elements.  However, there is a catch.  The <code>clone</code> method is not provided by default.  A lot of common utility classes are cloneable, by custom classes are not ... unless you've implemented it.  If your list contains any non-cloneable object, you will get exceptions at runtime.  </p></li>\n</ul>\n\n<p>There are other deep-copying alternatives to <code>clone</code>, but just like cloning they don't work with all classes.  And really, that's the crux of the problem if your solution has to be generic.</p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336471106,"creation_date":1336469566,"answer_id":10496062,"question_id":10495810,"body_markdown":"In these types of situations, there are three common solutions:\r\n\r\n(1) If you know that the individual elements have **clone()** methods that work as you intend, create a new array and fill it with the clone() of each corresponding element. As a rule of thumb, &quot;basic&quot; objects from JDK such as Strings, number representations etc should be fine. A disadvantage of clone() is that it&#39;s a bit of a &#39;loose cannon&#39;: you don&#39;t know a priori exactly how deep the &#39;clone&#39; will be if the method has been overridden for a particular class and what references might potentially get re-used or not. It also has a particular **danger that subclasses of cloneable objects which rely on logic in their constructor are liable not to work**. But as I say, simple JDK objects should be fine.\r\n\r\n(2) **Serialise** the list to an ObjectOutputStream wrapped around a ByteArrayOutputStream. Then take the resulting byte array, and wrap a ByteArrayInputStream and ObjectInputStream around it and read in from it a new, deep copy of the list.\r\n\r\n(3) In an ideal world, create a new list, filling it with **explicitly created** &quot;copies&quot; of the objects in question. Where it&#39;s not too cumbersome to code, this is the ideal solution because you &#39;know what&#39;s actually going on&#39;: there&#39;ll be no hidden surprises in terms of objects accidentally re-referenced rather than re-created because e.g. a clone() method didn&#39;t work as you expected.\r\n\r\nAs you have a simple container object (an array list) whose structure you can easily re-create, then (2) may be overkill. It can be handy for re-creating more complex structures.\r\n\r\nRe (1), you should be **particularly suspicious of cloning objects from third party libraries**  where the objects weren&#39;t specifically designed with clone() in mind. The problem is that it&#39;s easy for people to either subclass a JDK (cloneable) class or else a token clone() method without actually thinking about it in detail-- in my experience, clone() has some subtleties that many developers aren&#39;t aware of (e.g. that the constructor doesn&#39;t get called on the new object) which can lead to unanticipated problems. So if you can&#39;t actually see reliable source code to be sure that clone() will be safe, I would avoid it.","title":"Copying List of objects by value in Java","body":"<p>In these types of situations, there are three common solutions:</p>\n\n<p>(1) If you know that the individual elements have <strong>clone()</strong> methods that work as you intend, create a new array and fill it with the clone() of each corresponding element. As a rule of thumb, \"basic\" objects from JDK such as Strings, number representations etc should be fine. A disadvantage of clone() is that it's a bit of a 'loose cannon': you don't know a priori exactly how deep the 'clone' will be if the method has been overridden for a particular class and what references might potentially get re-used or not. It also has a particular <strong>danger that subclasses of cloneable objects which rely on logic in their constructor are liable not to work</strong>. But as I say, simple JDK objects should be fine.</p>\n\n<p>(2) <strong>Serialise</strong> the list to an ObjectOutputStream wrapped around a ByteArrayOutputStream. Then take the resulting byte array, and wrap a ByteArrayInputStream and ObjectInputStream around it and read in from it a new, deep copy of the list.</p>\n\n<p>(3) In an ideal world, create a new list, filling it with <strong>explicitly created</strong> \"copies\" of the objects in question. Where it's not too cumbersome to code, this is the ideal solution because you 'know what's actually going on': there'll be no hidden surprises in terms of objects accidentally re-referenced rather than re-created because e.g. a clone() method didn't work as you expected.</p>\n\n<p>As you have a simple container object (an array list) whose structure you can easily re-create, then (2) may be overkill. It can be handy for re-creating more complex structures.</p>\n\n<p>Re (1), you should be <strong>particularly suspicious of cloning objects from third party libraries</strong>  where the objects weren't specifically designed with clone() in mind. The problem is that it's easy for people to either subclass a JDK (cloneable) class or else a token clone() method without actually thinking about it in detail-- in my experience, clone() has some subtleties that many developers aren't aware of (e.g. that the constructor doesn't get called on the new object) which can lead to unanticipated problems. So if you can't actually see reliable source code to be sure that clone() will be safe, I would avoid it.</p>\n"}],"owner":{"account_id":151664,"reputation":1175,"user_id":365688,"accept_rate":76,"display_name":"Dvora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5987,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1652608480,"creation_date":1336468579,"question_id":10495810,"body_markdown":"I have a class that gets in its constructor a list of objects, `List&lt;Object&gt;`. Each time the list could be made out of elements from a **different type**. It&#39;s something generic, and I don&#39;t know what their class type will be.\r\n\r\nI want to save my self a copy of that list, before letting the user change its values. But since the copy is done by reference, both lists (original and copy) are being changed...\r\n\r\nHow can I copy my list by value?\r\n\r\n","title":"Copying List of objects by value in Java","body":"<p>I have a class that gets in its constructor a list of objects, <code>List&lt;Object&gt;</code>. Each time the list could be made out of elements from a <strong>different type</strong>. It's something generic, and I don't know what their class type will be.</p>\n<p>I want to save my self a copy of that list, before letting the user change its values. But since the copy is done by reference, both lists (original and copy) are being changed...</p>\n<p>How can I copy my list by value?</p>\n"},{"tags":["java","memory-management","collections","linked-list"],"answers":[{"tags":[],"owner":{"account_id":23968828,"reputation":104,"user_id":17957852,"display_name":"Debanjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652607424,"creation_date":1652607424,"answer_id":72247095,"question_id":72247036,"body_markdown":"Yes, if you change the original object it does change the object inside the Collection.\r\n\r\nYou can read a similar question here which talks about java being a pass by reference: https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","title":"how does java collections saves an element (shallow or deep)","body":"<p>Yes, if you change the original object it does change the object inside the Collection.</p>\n<p>You can read a similar question here which talks about java being a pass by reference: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652608126,"creation_date":1652607722,"answer_id":72247120,"question_id":72247036,"body_markdown":"&gt; In the java collections (Array , LinkedList , Set) when an object is added does it saves a copy of the reference or copy the entire object to the collection. \r\n\r\nIt saves a reference.  It does not copy the object.\r\n\r\nThis can be inferred from the [javadoc][1] for the `Collection.add` method:\r\n\r\n&gt; `boolean add(E e)`\r\n&gt; \r\n&gt; *Ensures that this collection contains the specified element. Returns true if this collection changed as a result of the call.*\r\n\r\nNotice that it says that the collection will contain the specified element ... not a **copy** of the specified element.\r\n\r\n\r\n&gt; If i change the original object does it effect the collection&#39;s object?\r\n\r\nYes.  They are the same object.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#add-E-","title":"how does java collections saves an element (shallow or deep)","body":"<blockquote>\n<p>In the java collections (Array , LinkedList , Set) when an object is added does it saves a copy of the reference or copy the entire object to the collection.</p>\n</blockquote>\n<p>It saves a reference.  It does not copy the object.</p>\n<p>This can be inferred from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#add-E-\" rel=\"nofollow noreferrer\">javadoc</a> for the <code>Collection.add</code> method:</p>\n<blockquote>\n<p><code>boolean add(E e)</code></p>\n<p><em>Ensures that this collection contains the specified element. Returns true if this collection changed as a result of the call.</em></p>\n</blockquote>\n<p>Notice that it says that the collection will contain the specified element ... not a <strong>copy</strong> of the specified element.</p>\n<blockquote>\n<p>If i change the original object does it effect the collection's object?</p>\n</blockquote>\n<p>Yes.  They are the same object.</p>\n"}],"owner":{"account_id":25294706,"reputation":1,"user_id":19120061,"display_name":"udu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652608425,"creation_date":1652606847,"question_id":72247036,"body_markdown":"In the Java collections (array, LinkedList, Set), when an object is added, does it saves a copy of the reference or copy the entire object to the collection. And if I change the original object does it effect the collection&#39;s object? ","title":"how does java collections saves an element (shallow or deep)","body":"<p>In the Java collections (array, LinkedList, Set), when an object is added, does it saves a copy of the reference or copy the entire object to the collection. And if I change the original object does it effect the collection's object?</p>\n"},{"tags":["java","oracle","spring-boot","spring-data-jpa","h2"],"answers":[{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652608312,"creation_date":1652608312,"answer_id":72247196,"question_id":72131178,"body_markdown":"The sql in your call stack shows:\r\n\r\n\t\r\n\r\n    MERGE INTO USER \r\n    \tTARGET \r\n    \tUSING (SELECT ? AS USER_ID, ? CLNT_ID, ? WPI, ? U_TYPE_CD, ? ENBL_SW, ? TRD FROM DUAL ) \r\n    \tSOURCE \r\n    \tON(TARGET.TRD = SOURCE.TRD AND TARGET.CLNT_ID = SOURCE.CLNT_ID AND TARGET.USER_ID = SOURCE.USER_ID ) \r\n    \tWHEN MATCHED THEN UPDATE SET TARGET.WPI = SOURCE.WPI, TARGET.U_TYPE_CD = SOURCE.U_TYPE_CD, TARGET.ENBL_SW = SOURCE.ENBL_SW \r\n    \tWHEN NOT MATCHED THEN INSERT (USER_ID, USER_ID , CLNT_ID, WPI, U_TYPE_CD, ENBL_SW, TRD) \r\n    \tVALUES (11001 , ? , ?, ?, ?, ?, ?)\r\n\r\nYou need check the above SQL executing result in your H2 database.\r\nThe better is that you can provide the whole reproducing code line for a check.\r\nDifferent DBMS can have different result. Not all the same.\r\n","title":"Merge query in H2 database giving &quot;Unknown data type:&quot; error","body":"<p>The sql in your call stack shows:</p>\n<pre><code>MERGE INTO USER \n    TARGET \n    USING (SELECT ? AS USER_ID, ? CLNT_ID, ? WPI, ? U_TYPE_CD, ? ENBL_SW, ? TRD FROM DUAL ) \n    SOURCE \n    ON(TARGET.TRD = SOURCE.TRD AND TARGET.CLNT_ID = SOURCE.CLNT_ID AND TARGET.USER_ID = SOURCE.USER_ID ) \n    WHEN MATCHED THEN UPDATE SET TARGET.WPI = SOURCE.WPI, TARGET.U_TYPE_CD = SOURCE.U_TYPE_CD, TARGET.ENBL_SW = SOURCE.ENBL_SW \n    WHEN NOT MATCHED THEN INSERT (USER_ID, USER_ID , CLNT_ID, WPI, U_TYPE_CD, ENBL_SW, TRD) \n    VALUES (11001 , ? , ?, ?, ?, ?, ?)\n</code></pre>\n<p>You need check the above SQL executing result in your H2 database.\nThe better is that you can provide the whole reproducing code line for a check.\nDifferent DBMS can have different result. Not all the same.</p>\n"}],"owner":{"account_id":5811540,"reputation":305,"user_id":4582425,"accept_rate":50,"display_name":"Jagrut Dalwadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652608312,"creation_date":1651770907,"question_id":72131178,"body_markdown":"when merge native query is used using JPA, it is resulting into following error:\r\n\r\n&gt; {&quot;ts&quot;:&quot;2022-05-05T17:03:12.124+0000&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;message&quot;:&quot;SQL Error: 50004, SQLState: HY004 Unknown data type: \\&quot;SYS_USER_ID\\&quot;; SQL statement:\\nMERGE INTO USER TARGET USING (SELECT ? AS USER_ID, ? CLNT_ID,  ? WPI, ? U_TYPE_CD, ? ENBL_SW, ? TRD FROM DUAL ) SOURCE  ON(TARGET.TRD = SOURCE.TRD AND TARGET.CLNT_ID = SOURCE.CLNT_ID AND TARGET.USER_ID = SOURCE.USER_ID )  WHEN MATCHED THEN  UPDATE SET TARGET.WPI = SOURCE.WPI,  TARGET.U_TYPE_CD = SOURCE.U_TYPE_CD,  TARGET.ENBL_SW = SOURCE.ENBL_SW WHEN NOT MATCHED THEN INSERT (USER_ID, USER_ID , CLNT_ID, WPI, U_TYPE_CD, ENBL_SW, TRD) VALUES (11001 , ? , ?, ?, ?, ?, ?) \r\n\r\nAbove query is working very well with Oracle db - not working in H2 database. ","title":"Merge query in H2 database giving &quot;Unknown data type:&quot; error","body":"<p>when merge native query is used using JPA, it is resulting into following error:</p>\n<blockquote>\n<p>{&quot;ts&quot;:&quot;2022-05-05T17:03:12.124+0000&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;message&quot;:&quot;SQL Error: 50004, SQLState: HY004 Unknown data type: &quot;SYS_USER_ID&quot;; SQL statement:\\nMERGE INTO USER TARGET USING (SELECT ? AS USER_ID, ? CLNT_ID,  ? WPI, ? U_TYPE_CD, ? ENBL_SW, ? TRD FROM DUAL ) SOURCE  ON(TARGET.TRD = SOURCE.TRD AND TARGET.CLNT_ID = SOURCE.CLNT_ID AND TARGET.USER_ID = SOURCE.USER_ID )  WHEN MATCHED THEN  UPDATE SET TARGET.WPI = SOURCE.WPI,  TARGET.U_TYPE_CD = SOURCE.U_TYPE_CD,  TARGET.ENBL_SW = SOURCE.ENBL_SW WHEN NOT MATCHED THEN INSERT (USER_ID, USER_ID , CLNT_ID, WPI, U_TYPE_CD, ENBL_SW, TRD) VALUES (11001 , ? , ?, ?, ?, ?, ?)</p>\n</blockquote>\n<p>Above query is working very well with Oracle db - not working in H2 database.</p>\n"},{"tags":["java","spring-boot","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652608263,"creation_date":1652607873,"answer_id":72247140,"question_id":72247113,"body_markdown":"I am not sure about the approach to solve the issue but after the changes the application started and working as expected.\r\n\r\nThe solution is to remove the `AsyncConfigurer`\r\n\r\nHere is the code:\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class ApplicationAsynchConfig {\r\n        \r\n        @Bean(name = &quot;threadPoolTaskExecutor&quot;)\r\n        public Executor threadPoolTaskExecutor() {\r\n            ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            //set some properties\r\n            return executor;\r\n        }\r\n      }\r\n\r\n","title":"Spring Boot 2.6.6 Failed to create asynch executor instance : Failed to instantiate [java.util.concurrent.Executor]: Illegal arguments","body":"<p>I am not sure about the approach to solve the issue but after the changes the application started and working as expected.</p>\n<p>The solution is to remove the <code>AsyncConfigurer</code></p>\n<p>Here is the code:</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class ApplicationAsynchConfig {\n    \n    @Bean(name = &quot;threadPoolTaskExecutor&quot;)\n    public Executor threadPoolTaskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        //set some properties\n        return executor;\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72247140,"answer_count":1,"score":1,"last_activity_date":1652608263,"creation_date":1652607652,"question_id":72247113,"body_markdown":"I am upgrading Spring Boot version from 2.4.6 to 2.6.6\r\n\r\nAfter upgrade, one of the class failed to load and giving an error like below:\r\n\r\n\r\n&gt; Failed to instantiate [java.util.concurrent.Executor]: Illegal\r\n&gt; arguments to factory method &#39;threadPoolTaskExecutor&#39;; args: ; nested\r\n&gt; exception is java.lang.IllegalArgumentException: object is not an\r\n&gt; instance of declaring class\r\n\r\nIt failed to create a instance of executor service class.\r\n\r\nThis is the code:\r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class ApplicationAsynchConfig  implements AsyncConfigurer{\r\n    \t\r\n    \t@Bean(name = &quot;threadPoolTaskExecutor&quot;)\r\n        public Executor threadPoolTaskExecutor() {\r\n    \t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            //set some properties\r\n            return executor;\r\n        }\r\n      }\r\n\r\nAny idea what is going wrong with the new Spring Boot version for this?\r\n\r\n","title":"Spring Boot 2.6.6 Failed to create asynch executor instance : Failed to instantiate [java.util.concurrent.Executor]: Illegal arguments","body":"<p>I am upgrading Spring Boot version from 2.4.6 to 2.6.6</p>\n<p>After upgrade, one of the class failed to load and giving an error like below:</p>\n<blockquote>\n<p>Failed to instantiate [java.util.concurrent.Executor]: Illegal\narguments to factory method 'threadPoolTaskExecutor'; args: ; nested\nexception is java.lang.IllegalArgumentException: object is not an\ninstance of declaring class</p>\n</blockquote>\n<p>It failed to create a instance of executor service class.</p>\n<p>This is the code:</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class ApplicationAsynchConfig  implements AsyncConfigurer{\n    \n    @Bean(name = &quot;threadPoolTaskExecutor&quot;)\n    public Executor threadPoolTaskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        //set some properties\n        return executor;\n    }\n  }\n</code></pre>\n<p>Any idea what is going wrong with the new Spring Boot version for this?</p>\n"},{"tags":["java","threadpool","forkjoinpool","watchservice","recursivetask"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652607549,"creation_date":1652556962,"answer_id":72243362,"question_id":72241588,"body_markdown":"You only need a new `WatchService` per filesystem, not per directory, and only one polling loop / thread to handle each `WatchService`.  \r\n\r\nAs you have it now you have setup a `WatchService` and polling loop per folder which would be very difficult to scale for 50,000 folders (- without LOOM virtual threads). A fixed size thread pool is unsuitable. \r\n\r\nInstead keep track of `Filesystem` to `WatchService` mapping and register new folders to its corresponding filesystem&#39;s single `WatchService`.\r\n\r\nStart a new service / polling thread for every new `WatchService` which will handle however many folders you register from the same filesystem.\r\n\r\nFor many applications a single pairing of `WatchService`+polling thread can handle all folders of same filesystem. The poll events from each `WatchService` will be for changes to many folders - and the events tell you which folder. \r\n\r\nFor simplicity you might consider extra `WatchService`+thread pairs to dedicate to particular subtrees - but never as much as one WatchService+thread per folder as this means 1,000s of threads. \r\n\r\nNote that however many `WatchService` and threads you decide to setup, the event polling loop is very verbose so you should always collate actions to perform later. Treat it like a JavaFx/Swing/AWT UI event handler - record the task to deal with for action outside the polling loop. See this example of [collating watch events][1].\r\n\r\n  [1]: https://stackoverflow.com/questions/65223686/java-watchservice-perform-action-on-event-using-threads/65251819#65251819","title":"WatchService large number of directory (recursive)","body":"<p>You only need a new <code>WatchService</code> per filesystem, not per directory, and only one polling loop / thread to handle each <code>WatchService</code>.</p>\n<p>As you have it now you have setup a <code>WatchService</code> and polling loop per folder which would be very difficult to scale for 50,000 folders (- without LOOM virtual threads). A fixed size thread pool is unsuitable.</p>\n<p>Instead keep track of <code>Filesystem</code> to <code>WatchService</code> mapping and register new folders to its corresponding filesystem's single <code>WatchService</code>.</p>\n<p>Start a new service / polling thread for every new <code>WatchService</code> which will handle however many folders you register from the same filesystem.</p>\n<p>For many applications a single pairing of <code>WatchService</code>+polling thread can handle all folders of same filesystem. The poll events from each <code>WatchService</code> will be for changes to many folders - and the events tell you which folder.</p>\n<p>For simplicity you might consider extra <code>WatchService</code>+thread pairs to dedicate to particular subtrees - but never as much as one WatchService+thread per folder as this means 1,000s of threads.</p>\n<p>Note that however many <code>WatchService</code> and threads you decide to setup, the event polling loop is very verbose so you should always collate actions to perform later. Treat it like a JavaFx/Swing/AWT UI event handler - record the task to deal with for action outside the polling loop. See this example of <a href=\"https://stackoverflow.com/questions/65223686/java-watchservice-perform-action-on-event-using-threads/65251819#65251819\">collating watch events</a>.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652607549,"creation_date":1652541700,"question_id":72241588,"body_markdown":"I want to detect changes inside a directory, so I implement by using WatchService\r\n\r\n    public class DirWatcher implements Runnable {\r\n    \r\n        private Path path;\r\n        private ExecutorService exe;\r\n    \r\n        public DirWatcher(Path path, ExecutorService exe) {\r\n            this.path = path;\r\n            this.exe = exe;\r\n        }\r\n    \r\n        public void start() throws Exception {\r\n            WatchService watchService = FileSystems.getDefault().newWatchService();\r\n            path.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE, StandardWatchEventKinds.ENTRY_MODIFY);\r\n            WatchKey key;\r\n            while ((key = watchService.take()) != null) {\r\n                for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n                    if(isFileEvent(event)) {\r\n                        // do stuff with file\r\n                    } else if(isNewDirCreated(event)) {\r\n                        Path dir = getPath(event, path);\r\n                        DirWatcher newWatcher = new DirWatcher(dir, exe);\r\n                        exe.execute(newWatcher);\r\n                    }\r\n                }\r\n                key.reset();\r\n            }\r\n    \r\n            watchService.close();\r\n        }\r\n\r\n        public void run() {\r\n            try {\r\n                start();\r\n            } catch(Exception e) {\r\n            }\r\n        }\r\n\r\n        //Other methods\r\n    }\r\n\r\nHere is main method\r\n\r\n    public class DirectoryWatcherExample {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Path root = getRootPath();\r\n            ExecutorService exe = Executors.newFixedThreadPool(//HOW BIG THE POOL SHOULD I INIT? THE NUMBER OF DIRECTORIES IS LARGE (&gt; 50000))\r\n            DirWatcher watcher = new DirWatcher(root, exe);\r\n            exe.execute(watcher);\r\n            List&lt;Path&gt; paths = listRecrursive(root);\r\n            paths.stream().map(p -&gt; new DirWatcher(p, exe)).forEach(exe::execute);\r\n        }\r\n    }\r\nMy question is: How should I initialize the thread pool? Since the number of task is huge (&gt; 50000). Does it impact to the server (64 Gb of RAM)?\r\n\r\n\r\nIs ForkJoinPool and RecursiveTask useful in this case? If yes could you provide pseudo code? If no, is there any optimized solution? Thank you","title":"WatchService large number of directory (recursive)","body":"<p>I want to detect changes inside a directory, so I implement by using WatchService</p>\n<pre><code>public class DirWatcher implements Runnable {\n\n    private Path path;\n    private ExecutorService exe;\n\n    public DirWatcher(Path path, ExecutorService exe) {\n        this.path = path;\n        this.exe = exe;\n    }\n\n    public void start() throws Exception {\n        WatchService watchService = FileSystems.getDefault().newWatchService();\n        path.register(watchService, StandardWatchEventKinds.ENTRY_CREATE, StandardWatchEventKinds.ENTRY_DELETE, StandardWatchEventKinds.ENTRY_MODIFY);\n        WatchKey key;\n        while ((key = watchService.take()) != null) {\n            for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                if(isFileEvent(event)) {\n                    // do stuff with file\n                } else if(isNewDirCreated(event)) {\n                    Path dir = getPath(event, path);\n                    DirWatcher newWatcher = new DirWatcher(dir, exe);\n                    exe.execute(newWatcher);\n                }\n            }\n            key.reset();\n        }\n\n        watchService.close();\n    }\n\n    public void run() {\n        try {\n            start();\n        } catch(Exception e) {\n        }\n    }\n\n    //Other methods\n}\n</code></pre>\n<p>Here is main method</p>\n<pre><code>public class DirectoryWatcherExample {\n\n    public static void main(String[] args) throws Exception {\n        Path root = getRootPath();\n        ExecutorService exe = Executors.newFixedThreadPool(//HOW BIG THE POOL SHOULD I INIT? THE NUMBER OF DIRECTORIES IS LARGE (&gt; 50000))\n        DirWatcher watcher = new DirWatcher(root, exe);\n        exe.execute(watcher);\n        List&lt;Path&gt; paths = listRecrursive(root);\n        paths.stream().map(p -&gt; new DirWatcher(p, exe)).forEach(exe::execute);\n    }\n}\n</code></pre>\n<p>My question is: How should I initialize the thread pool? Since the number of task is huge (&gt; 50000). Does it impact to the server (64 Gb of RAM)?</p>\n<p>Is ForkJoinPool and RecursiveTask useful in this case? If yes could you provide pseudo code? If no, is there any optimized solution? Thank you</p>\n"},{"tags":["java","spring","spring-boot","cron","scheduler"],"answers":[{"tags":[],"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652607300,"creation_date":1652538070,"answer_id":72241076,"question_id":72237148,"body_markdown":"You can define your 2 components for the scheduler job.\r\n\r\n    @Component    \r\n    public class Job1 {\r\n        @Scheduled(cron = &quot;${job1.cron.expression:0 2 1 * * ?}&quot;)\r\n        public void running() {\r\n            // implementation\r\n        }\r\n    }\r\n    \r\n    @Component    \r\n    public class Job2 {\r\n        @Scheduled(cron = &quot;${job2.cron.expression:0 1 1 * * ?}&quot;)\r\n        public void running() {\r\n            // implementation\r\n        }\r\n    }\r\n\r\nSpring boot will automatically scheduled the related components as a job to run.\r\n\r\nAnd in the above cron expression,  it can e customized in your deploy.yaml file to specify them.\r\n\r\ndeploy.yaml:\r\n\r\n    ......\r\n    applications:\r\n      env:\r\n        job2.cron.expression: &#39;0 2 1 * * ?&#39;\r\n        job1.cron.expression: &#39;0 1 1 * * ?&#39;\r\n    .......\r\n\r\nPlease try it.\r\n\r\n\r\n\r\n","title":"How to call scheduler from Main Class","body":"<p>You can define your 2 components for the scheduler job.</p>\n<pre><code>@Component    \npublic class Job1 {\n    @Scheduled(cron = &quot;${job1.cron.expression:0 2 1 * * ?}&quot;)\n    public void running() {\n        // implementation\n    }\n}\n\n@Component    \npublic class Job2 {\n    @Scheduled(cron = &quot;${job2.cron.expression:0 1 1 * * ?}&quot;)\n    public void running() {\n        // implementation\n    }\n}\n</code></pre>\n<p>Spring boot will automatically scheduled the related components as a job to run.</p>\n<p>And in the above cron expression,  it can e customized in your deploy.yaml file to specify them.</p>\n<p>deploy.yaml:</p>\n<pre><code>......\napplications:\n  env:\n    job2.cron.expression: '0 2 1 * * ?'\n    job1.cron.expression: '0 1 1 * * ?'\n.......\n</code></pre>\n<p>Please try it.</p>\n"}],"owner":{"account_id":25002767,"reputation":7,"user_id":18863025,"display_name":"Arshu."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1652607300,"creation_date":1652499238,"question_id":72237148,"body_markdown":"My application  have two schedulers one runs every day at a particular time and another scheduler every day at and interval of 1 hour.\r\nI have added the cron expression in deploy.Yaml without using the scheduler tag.I am calling the first scheduler from App.java..But now I am confused about the second scheduler how can I call the second scheduler in App.java.I am planning to implement with a switch.can someone help me on this please.What I am trying is to route to the scheduler using Java configuration without using XML Configuration\r\n\r\n    Deploy.yaml`spec: scheduler:* * * * * *`\r\n\r\n    Public class job2 {Public void job2function() {}`}`}`\r\n\r\n    Public class job1 { `public void job1fun(){}`}`}`\r\n\r\n\r\n","title":"How to call scheduler from Main Class","body":"<p>My application  have two schedulers one runs every day at a particular time and another scheduler every day at and interval of 1 hour.\nI have added the cron expression in deploy.Yaml without using the scheduler tag.I am calling the first scheduler from App.java..But now I am confused about the second scheduler how can I call the second scheduler in App.java.I am planning to implement with a switch.can someone help me on this please.What I am trying is to route to the scheduler using Java configuration without using XML Configuration</p>\n<pre><code>Deploy.yaml`spec: scheduler:* * * * * *`\n\nPublic class job2 {Public void job2function() {}`}`}`\n\nPublic class job1 { `public void job1fun(){}`}`}`\n</code></pre>\n"},{"tags":["java","list","hashmap","java-stream"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1652452798,"post_id":72231281,"comment_id":127617165,"body_markdown":"You mean something like this? `List&lt;UserCount&gt; list = valuesList.stream().map(it -&gt; new UserCount(it.getKey(), valuesMap.computeIfAbsent(it.getKey(), k -&gt; 0L))).collect(Collectors.toList())` (assuming `UserCount` has a constructor `UserCount(String key, long count)`","body":"You mean something like this? <code>List&lt;UserCount&gt; list = valuesList.stream().map(it -&gt; new UserCount(it.getKey(), valuesMap.computeIfAbsent(it.getKey(), k -&gt; 0L))).collect(Collectors.toList())</code> (assuming <code>UserCount</code> has a constructor <code>UserCount(String key, long count)</code>"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1652452822,"post_id":72231281,"comment_id":127617176,"body_markdown":"`valuesList` is the `List&lt;String&gt;` and `valuesMap` is the `Map&lt;User, Long&gt;` right? Then where does `it.getKey()` come from? `it` should be a `String` and does not have a `getKey` method.","body":"<code>valuesList</code> is the <code>List&lt;String&gt;</code> and <code>valuesMap</code> is the <code>Map&lt;User, Long&gt;</code> right? Then where does <code>it.getKey()</code> come from? <code>it</code> should be a <code>String</code> and does not have a <code>getKey</code> method."}],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652607197,"creation_date":1652452985,"answer_id":72231415,"question_id":72231281,"body_markdown":"```java\r\nfinal Map&lt;User,Long&gt; valuesMap = ...\r\n\r\n// First, map keys to counts (assuming keys are unique for each user) \r\nfinal Map&lt;String,Long&gt; keyToCountMap = valuesMap.entrySet().stream()\r\n    .collect(Collectors.toMap(e -&gt; e.getKey().key, e -&gt; e.getValue()));\r\n\r\nfinal List&lt;UserCount&gt; list = valuesList.stream()\r\n  .map(key -&gt; new UserCount (key, keyToCountMap.getOrDefault(key, 0L)))\r\n  .collect(Collectors.toList());\r\n```","title":"How to use Map.computeIfAbsent() in a stream?","body":"<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;User,Long&gt; valuesMap = ...\n\n// First, map keys to counts (assuming keys are unique for each user) \nfinal Map&lt;String,Long&gt; keyToCountMap = valuesMap.entrySet().stream()\n    .collect(Collectors.toMap(e -&gt; e.getKey().key, e -&gt; e.getValue()));\n\nfinal List&lt;UserCount&gt; list = valuesList.stream()\n  .map(key -&gt; new UserCount (key, keyToCountMap.getOrDefault(key, 0L)))\n  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652455567,"creation_date":1652453670,"answer_id":72231571,"question_id":72231281,"body_markdown":"You can create an auxiliary `Map&lt;String, Long&gt;` which will associate each *string key* with the *count* and then generate a list of `UserCount` based on it.\r\n\r\n*Example:*\r\n\r\n    public record User(String name, String key) {}\r\n    public record UserCount(String key, long count) {}\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; keys = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n        \r\n        Map&lt;User, Long&gt; countByUser =\r\n            Map.of(new User(&quot;Annie&quot;, &quot;A&quot;), 23L,\r\n                   new User(&quot;Paul&quot;, &quot;C&quot;), 16L));\r\n        \r\n        Map&lt;String, Long&gt; countByKey = countByUser.entrySet().stream()\r\n            .collect(Collectors.groupingBy(entry -&gt; entry.getKey().key(), \r\n                Collectors.summingLong(Map.Entry::getValue)));\r\n    \r\n        List&lt;UserCount&gt; userCounts = keys.stream()\r\n            .map(key -&gt; new UserCount(key, countByKey.getOrDefault(key, 0L)))\r\n            .collect(Collectors.toList());\r\n    \r\n        System.out.println(userCounts);\r\n    }\r\n\r\n*Output*\r\n```\r\n[UserCount[key=A, count=23], UserCount[key=B, count=0], UserCount[key=C, count=16]]\r\n```\r\n\r\nRegarding the idea of utilizing `computeIfAbsent()` with stream - this approach is wrong and discouraged by the [documentation of the Stream API](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects).\r\n\r\nSure, you can use `computeIfAbsent()` to solve this problem, but not in conjunction with streams. It&#39;s not a good idea to create a stream that operates via side effects (*at least without compelling reason*).\r\n\r\nAnd I guess you even don&#39;t need Java 8 `computeIfAbsent()`, plain and simple `putIfAbsent()` will be sufficient. \r\n\r\nThe following code will produce the same result:\r\n```\r\nMap&lt;String, Long&gt; countByKey = new HashMap&lt;&gt;();\r\n\r\ncountByUser.forEach((k, v) -&gt; countByKey.merge(k.key(), v, Long::sum));\r\nkeys.forEach(k -&gt; countByKey.putIfAbsent(k, 0L));\r\n\r\nList&lt;UserCount&gt; userCounts = keys.stream()\r\n            .map(key -&gt; new UserCount(key, countByKey.getOrDefault(key, 0L)))\r\n            .collect(Collectors.toList());\r\n```\r\n\r\nAnd instead of applying `forEach()` on a *map* and *list*, you can create two enhanced `for` loops if this options looks convoluted.","title":"How to use Map.computeIfAbsent() in a stream?","body":"<p>You can create an auxiliary <code>Map&lt;String, Long&gt;</code> which will associate each <em>string key</em> with the <em>count</em> and then generate a list of <code>UserCount</code> based on it.</p>\n<p><em>Example:</em></p>\n<pre><code>public record User(String name, String key) {}\npublic record UserCount(String key, long count) {}\n\npublic static void main(String[] args) {\n    List&lt;String&gt; keys = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n    \n    Map&lt;User, Long&gt; countByUser =\n        Map.of(new User(&quot;Annie&quot;, &quot;A&quot;), 23L,\n               new User(&quot;Paul&quot;, &quot;C&quot;), 16L));\n    \n    Map&lt;String, Long&gt; countByKey = countByUser.entrySet().stream()\n        .collect(Collectors.groupingBy(entry -&gt; entry.getKey().key(), \n            Collectors.summingLong(Map.Entry::getValue)));\n\n    List&lt;UserCount&gt; userCounts = keys.stream()\n        .map(key -&gt; new UserCount(key, countByKey.getOrDefault(key, 0L)))\n        .collect(Collectors.toList());\n\n    System.out.println(userCounts);\n}\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>[UserCount[key=A, count=23], UserCount[key=B, count=0], UserCount[key=C, count=16]]\n</code></pre>\n<p>Regarding the idea of utilizing <code>computeIfAbsent()</code> with stream - this approach is wrong and discouraged by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">documentation of the Stream API</a>.</p>\n<p>Sure, you can use <code>computeIfAbsent()</code> to solve this problem, but not in conjunction with streams. It's not a good idea to create a stream that operates via side effects (<em>at least without compelling reason</em>).</p>\n<p>And I guess you even don't need Java 8 <code>computeIfAbsent()</code>, plain and simple <code>putIfAbsent()</code> will be sufficient.</p>\n<p>The following code will produce the same result:</p>\n<pre><code>Map&lt;String, Long&gt; countByKey = new HashMap&lt;&gt;();\n\ncountByUser.forEach((k, v) -&gt; countByKey.merge(k.key(), v, Long::sum));\nkeys.forEach(k -&gt; countByKey.putIfAbsent(k, 0L));\n\nList&lt;UserCount&gt; userCounts = keys.stream()\n            .map(key -&gt; new UserCount(key, countByKey.getOrDefault(key, 0L)))\n            .collect(Collectors.toList());\n</code></pre>\n<p>And instead of applying <code>forEach()</code> on a <em>map</em> and <em>list</em>, you can create two enhanced <code>for</code> loops if this options looks convoluted.</p>\n"},{"tags":[],"owner":{"account_id":9193430,"reputation":1,"user_id":9331986,"display_name":"AlinVM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652515863,"creation_date":1652515159,"answer_id":72238360,"question_id":72231281,"body_markdown":"Another educational and parallel friendly version would be to gather the logic in one place and build your own custom accumulator and combiner for the Collector\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Map&lt;User, Long&gt; countByUser =\r\n                Map.of(new User(&quot;Alice&quot;, &quot;A&quot;), 23L,\r\n                        new User(&quot;Bob&quot;, &quot;C&quot;), 16L);\r\n\r\n        List&lt;String&gt; keys = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n\r\n        UserCountAggregator userCountAggregator =\r\n                countByUser.entrySet()\r\n                        .parallelStream()\r\n                        .collect(UserCountAggregator::new,\r\n                                UserCountAggregator::accumulator,\r\n                                UserCountAggregator::combiner);\r\n\r\n        List&lt;UserCount&gt; userCounts = userCountAggregator.getUserCounts(keys);\r\n        System.out.println(userCounts);\r\n    }\r\n\r\nOutput\r\n\r\n    [UserCount(key=A, count=23), UserCount(key=B, count=0), UserCount(key=C, count=16)]\r\n\r\nUser and UserCount classes with Lombok&#39;s @Value\r\n\r\n    @Value\r\n    class User {\r\n        private String name;\r\n        private String key;\r\n    }\r\n\r\n    @Value\r\n    class UserCount {\r\n        private String key;\r\n        private long count;\r\n    }\r\n\r\nAnd the UserCountAggregator which contains your custom accumulator and combiner\r\n\r\n    class UserCountAggregator {\r\n        private Map&lt;String, Long&gt; keyCounts = new HashMap&lt;&gt;();\r\n    \r\n        public void accumulator(Map.Entry&lt;User, Long&gt; userLongEntry) {\r\n            keyCounts.put(userLongEntry.getKey().getKey(),\r\n                    keyCounts.getOrDefault(userLongEntry.getKey().getKey(), 0L) \r\n                            + userLongEntry.getValue());\r\n        }\r\n    \r\n        public void combiner(UserCountAggregator other) {\r\n            other.keyCounts\r\n                    .forEach((key, value) -&gt; keyCounts.merge(key, value, Long::sum));\r\n        }\r\n    \r\n        public List&lt;UserCount&gt; getUserCounts(List&lt;String&gt; keys) {\r\n            return keys.stream()\r\n                    .map(key -&gt; new UserCount(key, keyCounts.getOrDefault(key, 0L)))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }","title":"How to use Map.computeIfAbsent() in a stream?","body":"<p>Another educational and parallel friendly version would be to gather the logic in one place and build your own custom accumulator and combiner for the Collector</p>\n<pre><code>public static void main(String[] args) {\n\n    Map&lt;User, Long&gt; countByUser =\n            Map.of(new User(&quot;Alice&quot;, &quot;A&quot;), 23L,\n                    new User(&quot;Bob&quot;, &quot;C&quot;), 16L);\n\n    List&lt;String&gt; keys = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n\n    UserCountAggregator userCountAggregator =\n            countByUser.entrySet()\n                    .parallelStream()\n                    .collect(UserCountAggregator::new,\n                            UserCountAggregator::accumulator,\n                            UserCountAggregator::combiner);\n\n    List&lt;UserCount&gt; userCounts = userCountAggregator.getUserCounts(keys);\n    System.out.println(userCounts);\n}\n</code></pre>\n<p>Output</p>\n<pre><code>[UserCount(key=A, count=23), UserCount(key=B, count=0), UserCount(key=C, count=16)]\n</code></pre>\n<p>User and UserCount classes with Lombok's @Value</p>\n<pre><code>@Value\nclass User {\n    private String name;\n    private String key;\n}\n\n@Value\nclass UserCount {\n    private String key;\n    private long count;\n}\n</code></pre>\n<p>And the UserCountAggregator which contains your custom accumulator and combiner</p>\n<pre><code>class UserCountAggregator {\n    private Map&lt;String, Long&gt; keyCounts = new HashMap&lt;&gt;();\n\n    public void accumulator(Map.Entry&lt;User, Long&gt; userLongEntry) {\n        keyCounts.put(userLongEntry.getKey().getKey(),\n                keyCounts.getOrDefault(userLongEntry.getKey().getKey(), 0L) \n                        + userLongEntry.getValue());\n    }\n\n    public void combiner(UserCountAggregator other) {\n        other.keyCounts\n                .forEach((key, value) -&gt; keyCounts.merge(key, value, Long::sum));\n    }\n\n    public List&lt;UserCount&gt; getUserCounts(List&lt;String&gt; keys) {\n        return keys.stream()\n                .map(key -&gt; new UserCount(key, keyCounts.getOrDefault(key, 0L)))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1828043,"reputation":1717,"user_id":1660256,"accept_rate":79,"display_name":"CNDyson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72231571,"answer_count":3,"score":1,"last_activity_date":1652607197,"creation_date":1652452449,"question_id":72231281,"body_markdown":"I have a fun puzzler. Say I have a list of `String` values:\r\n\r\n    [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]\r\n\r\nThen I have to query another system for a `Map&lt;User, Long&gt;` of *users* with an attribute that corresponds to those values in the *list* with a *count*:\r\n\r\n    {name=&quot;Annie&quot;, key=&quot;A&quot;} -&gt; 23\r\n    {name=&quot;Paul&quot;, key=&quot;C&quot;} -&gt; 16\r\n\r\nI need to return a new `List&lt;UserCount&gt;` with a count of each *key*. So I expect:\r\n\r\n     {key=&quot;A&quot;, count=23},\r\n     {key=&quot;B&quot;, count=0},\r\n     {key=&quot;C&quot;, count=16}\r\n\r\n\r\nBut I&#39;m having a hard time computing when one of my `User` objects has no corresponding `count` in the *map*. \r\n\r\nI know that `map.computeIfAbsent()` does what I need, but how can I apply it based on *what&#39;s on the contents of the original list*? \r\n\r\nI think I need to stream the over the original list, then apply compute? So I have:\r\n\r\n    valuesList.stream()\r\n     .map(it -&gt; valuesMap.computeIfAbsent(it.getKey(), k-&gt; OL))\r\n     ...\r\n\r\nBut here&#39;s where I get stuck. Can anyone provide any insight as to how I accomplish what I need?","title":"How to use Map.computeIfAbsent() in a stream?","body":"<p>I have a fun puzzler. Say I have a list of <code>String</code> values:</p>\n<pre><code>[&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]\n</code></pre>\n<p>Then I have to query another system for a <code>Map&lt;User, Long&gt;</code> of <em>users</em> with an attribute that corresponds to those values in the <em>list</em> with a <em>count</em>:</p>\n<pre><code>{name=&quot;Annie&quot;, key=&quot;A&quot;} -&gt; 23\n{name=&quot;Paul&quot;, key=&quot;C&quot;} -&gt; 16\n</code></pre>\n<p>I need to return a new <code>List&lt;UserCount&gt;</code> with a count of each <em>key</em>. So I expect:</p>\n<pre><code> {key=&quot;A&quot;, count=23},\n {key=&quot;B&quot;, count=0},\n {key=&quot;C&quot;, count=16}\n</code></pre>\n<p>But I'm having a hard time computing when one of my <code>User</code> objects has no corresponding <code>count</code> in the <em>map</em>.</p>\n<p>I know that <code>map.computeIfAbsent()</code> does what I need, but how can I apply it based on <em>what's on the contents of the original list</em>?</p>\n<p>I think I need to stream the over the original list, then apply compute? So I have:</p>\n<pre><code>valuesList.stream()\n .map(it -&gt; valuesMap.computeIfAbsent(it.getKey(), k-&gt; OL))\n ...\n</code></pre>\n<p>But here's where I get stuck. Can anyone provide any insight as to how I accomplish what I need?</p>\n"},{"tags":["java","casting","junit4","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":23968828,"reputation":104,"user_id":17957852,"display_name":"Debanjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652607172,"creation_date":1652607172,"answer_id":72247068,"question_id":72246830,"body_markdown":"The last mock in your `beforeEach` method `when(modelMapper.map(any(), ArgumentMatchers.&lt;Class&lt;ProductResponseDto&gt;&gt;any())).thenReturn(resultProductDto);` seems to be causing the issue.&lt;br&gt;\r\nAs the stack trace shows, the returned object from the mocked stub is of type `class com.example.demo.dto.responses.product.ProductResponseDto$MockitoMock$737533970`.\r\nYou can verify it is the same object as the one created at `resultProductDto = mock(ProductResponseDto.class);` by checking the hashcodes.\r\n&lt;br&gt;&lt;br&gt;\r\nAs a fix, in order to mock the behaviour of `modelMapper.map(productEntity, ProductResponseDto.class);`, you should try using `when(modelMapper.map(any(ProductEntity.class)...`","title":"Mock object cannot be cast to Entity object using ModelMapper in unit test","body":"<p>The last mock in your <code>beforeEach</code> method <code>when(modelMapper.map(any(), ArgumentMatchers.&lt;Class&lt;ProductResponseDto&gt;&gt;any())).thenReturn(resultProductDto);</code> seems to be causing the issue.<br>\nAs the stack trace shows, the returned object from the mocked stub is of type <code>class com.example.demo.dto.responses.product.ProductResponseDto$MockitoMock$737533970</code>.\nYou can verify it is the same object as the one created at <code>resultProductDto = mock(ProductResponseDto.class);</code> by checking the hashcodes.\n<br><br>\nAs a fix, in order to mock the behaviour of <code>modelMapper.map(productEntity, ProductResponseDto.class);</code>, you should try using <code>when(modelMapper.map(any(ProductEntity.class)...</code></p>\n"}],"owner":{"account_id":15004176,"reputation":65,"user_id":13990174,"display_name":"Trọng Nghĩa L&#234; Đ&#236;nh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72247068,"answer_count":1,"score":0,"last_activity_date":1652607172,"creation_date":1652604698,"question_id":72246830,"body_markdown":"I am unit testing a service method ```create product```. This method takes in a Dto object and then transfers the Dto object to a ```ProductEntity``` object using ```ModelMapper```. This method works fine but when I unit test it, I mock the ```modelMapper``` and stub it like this ```when(modelMapper.map(createProductRequestDto, ProductEntity.class)).thenReturn(expectedProduct)``` with ```expectedProduct``` is a ```ProductEntity``` instance, it throws ```java.lang.ClassCastException```\r\n\r\nStackTrace:\r\n```\r\njava.lang.ClassCastException: class com.example.demo.dto.responses.product.ProductResponseDto$MockitoMock$737533970 cannot be cast to class com.example.demo.entities.ProductEntity (com.example.demo.dto.responses.product.ProductResponseDto$MockitoMock$737533970 and com.example.demo.entities.ProductEntity are in unnamed module of loader &#39;app&#39;)\r\n\r\n\tat com.example.demo.services.implementations.product.ProductCrudServiceImpl.createProduct(ProductCrudServiceImpl.java:78)\r\n\tat com.example.demo.services.product.ProductCrudServiceImplTest.createProduct_ShouldReturnProductResponseDto(ProductCrudServiceImplTest.java:136)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\ncreateProduct service method:\r\n```\r\n@Override\r\n    public ProductResponseDto createProduct(CreateProductRequestDto createProductRequestDTO) {\r\n        Long genderId = createProductRequestDTO.getGenderId();\r\n        Long sportId = createProductRequestDTO.getSportId();\r\n        List&lt;Long&gt; categoryIds = createProductRequestDTO.getCategoryIds();\r\n        List&lt;Long&gt; technologyIds = createProductRequestDTO.getTechnologyIds();\r\n\r\n        GenderEntity genderEntity = genderCrudService.findById(genderId);\r\n        SportEntity sportEntity = sportCrudService.findById(sportId);\r\n        List&lt;CategoryEntity&gt; categoryEntities = categoryCrudService.findByIds(categoryIds);\r\n        List&lt;TechnologyEntity&gt; technologyEntities = technologyService.findByIds(technologyIds);\r\n        Set&lt;TechnologyEntity&gt; technologyEntitySet = technologyEntities.stream().collect(Collectors.toSet());\r\n        Set&lt;CategoryEntity&gt; categoryEntitySet = categoryEntities.stream().collect(Collectors.toSet());\r\n\r\n        ProductEntity productEntity = modelMapper.map(createProductRequestDTO, ProductEntity.class);\r\n        productEntity.setTechnologies(technologyEntitySet);\r\n        productEntity.setCategories(categoryEntitySet);\r\n        productEntity.setGender(genderEntity);\r\n        productEntity.setSport(sportEntity);\r\n\r\n        productEntity = productRepository.save(productEntity);\r\n\r\n        AddSizeToProductRequestDto requestDto = addSizeToProductRequestDtoFactory.createAddSizeToRequestDto(productEntity.getId(), createProductRequestDTO.getProductSizeDtoList());\r\n        productEntity = productSizeService.addSizeToProduct(requestDto);\r\n\r\n        return modelMapper.map(productEntity, ProductResponseDto.class);\r\n    }\r\n```\r\n\r\nUnit test class:\r\n```\r\npublic class ProductCrudServiceImplTest {\r\n    ModelMapper modelMapper;\r\n    ProductCrudServiceImpl productCrudServiceImpl;\r\n    GenderCrudService genderCrudService;\r\n    SportCrudService sportCrudService;\r\n    CategoryCrudService categoryCrudService;\r\n    ProductRepository productRepository;\r\n    TechnologyService technologyService;\r\n    ProductSizeService productSizeService;\r\n    CreateProductRequestDto createProductRequestDTO;\r\n    List&lt;Long&gt; categoryIds;\r\n    List&lt;Long&gt; technologyIds;\r\n    GenderEntity genderEntity;\r\n    SportEntity sportEntity;\r\n    List&lt;CategoryEntity&gt; categoryEntities;\r\n    List&lt;TechnologyEntity&gt; technologyEntities;\r\n    Set&lt;TechnologyEntity&gt; technologyEntitiesSet;\r\n    Set&lt;CategoryEntity&gt; categoryEntitiesSet;\r\n    List&lt;ProductSizeDto&gt; productSizeDtoList;\r\n    ProductEntity initProduct;\r\n    ProductEntity expectedProduct;\r\n    AddSizeToProductRequestDto addSizeToProductRequestDto;\r\n    AddSizeToProductRequestDtoFactory addSizeToProductRequestDtoFactory;\r\n    ProductResponseDto resultProductDto;\r\n\r\n    @BeforeEach\r\n    public void beforeEach() {\r\n        modelMapper = mock(ModelMapper.class);\r\n        genderCrudService = mock(GenderCrudService.class);\r\n        sportCrudService = mock(SportCrudService.class);\r\n        categoryCrudService = mock(CategoryCrudService.class);\r\n        productRepository = mock(ProductRepository.class);\r\n        technologyService = mock(TechnologyService.class);\r\n        productSizeService = mock(ProductSizeService.class);\r\n        addSizeToProductRequestDto = mock(AddSizeToProductRequestDto.class);\r\n        addSizeToProductRequestDtoFactory = mock(AddSizeToProductRequestDtoFactory.class);\r\n        productCrudServiceImpl = new ProductCrudServiceImpl(\r\n                modelMapper,\r\n                genderCrudService,\r\n                sportCrudService,\r\n                categoryCrudService,\r\n                productRepository,\r\n                technologyService,\r\n                productSizeService,\r\n                addSizeToProductRequestDtoFactory\r\n        );\r\n\r\n        createProductRequestDTO = mock(CreateProductRequestDto.class);\r\n        genderEntity = mock(GenderEntity.class);\r\n        sportEntity = mock(SportEntity.class);\r\n        categoryIds = mock(List.class);\r\n        technologyIds = mock(List.class);\r\n        categoryEntities = Arrays.asList(CategoryEntity.builder().id(1L).name(&quot;category&quot;).description(&quot;description&quot;).build());\r\n        categoryEntitiesSet = categoryEntities.stream().collect(Collectors.toSet());\r\n        technologyEntities = Arrays.asList(TechnologyEntity.builder().id(1L).name(&quot;technology&quot;).description(&quot;description&quot;).build());\r\n        technologyEntitiesSet = technologyEntities.stream().collect(Collectors.toSet());\r\n        expectedProduct = ProductEntity.builder()\r\n                .id(1L)\r\n                .name(&quot;product&quot;)\r\n                .price(1)\r\n                .year(2022)\r\n                .thumbnail(&quot;thumbnail&quot;)\r\n                .sport(sportEntity)\r\n                .gender(genderEntity)\r\n                .technologies(technologyEntitiesSet)\r\n                .categories(categoryEntitiesSet)\r\n                .description(&quot;description&quot;)\r\n                .build();\r\n        productSizeDtoList = mock(List.class);\r\n        addSizeToProductRequestDto = mock(AddSizeToProductRequestDto.class);\r\n        addSizeToProductRequestDtoFactory = mock(AddSizeToProductRequestDtoFactory.class);\r\n        resultProductDto = mock(ProductResponseDto.class);\r\n\r\n        when(createProductRequestDTO.getGenderId()).thenReturn(1L);\r\n        when(createProductRequestDTO.getSportId()).thenReturn(2L);\r\n        when(createProductRequestDTO.getCategoryIds()).thenReturn(categoryIds);\r\n        when(createProductRequestDTO.getTechnologyIds()).thenReturn(technologyIds);\r\n\r\n        when(genderCrudService.findById(1L)).thenReturn(genderEntity);\r\n        when(sportCrudService.findById(1L)).thenReturn(sportEntity);\r\n        when(categoryCrudService.findByIds(categoryIds)).thenReturn(categoryEntities);\r\n        when(technologyService.findByIds(technologyIds)).thenReturn(technologyEntities);\r\n\r\n        when(modelMapper.map(createProductRequestDTO, ProductEntity.class)).thenReturn(expectedProduct);\r\n        when(productRepository.save(any())).thenReturn(expectedProduct);\r\n\r\n        when(createProductRequestDTO.getProductSizeDtoList()).thenReturn(productSizeDtoList);\r\n        when(addSizeToProductRequestDtoFactory.createAddSizeToRequestDto(1L, productSizeDtoList)).thenReturn(addSizeToProductRequestDto);\r\n        when(productSizeService.addSizeToProduct(addSizeToProductRequestDto)).thenReturn(expectedProduct);\r\n        when(modelMapper.map(any(), ArgumentMatchers.&lt;Class&lt;ProductResponseDto&gt;&gt;any())).thenReturn(resultProductDto);\r\n    }\r\n\r\n    @Test\r\n    public void createProduct_ShouldReturnProductResponseDto() {\r\n        ProductResponseDto result = productCrudServiceImpl.createProduct(createProductRequestDTO);\r\n\r\n        ArgumentCaptor&lt;ProductEntity&gt; productCaptor = ArgumentCaptor.forClass(ProductEntity.class);\r\n        verify(productRepository).save(productCaptor.capture());\r\n        ProductEntity savedProduct = productCaptor.getValue();\r\n        verify(modelMapper).map(productCaptor.capture(), ProductEntity.class);\r\n        ProductEntity mappedProduct = productCaptor.getValue();\r\n//\r\n        assertEquals(savedProduct, expectedProduct);\r\n        assertEquals(mappedProduct, expectedProduct);\r\n        assertThat(result, is(resultProductDto));\r\n    }\r\n```\r\n\r\nI did some research on this but I can&#39;t identify the root cause and I have no idea how this could happen. Could you please help me with this?\r\n\r\nThank you very much for your precious time.\r\n","title":"Mock object cannot be cast to Entity object using ModelMapper in unit test","body":"<p>I am unit testing a service method <code>create product</code>. This method takes in a Dto object and then transfers the Dto object to a <code>ProductEntity</code> object using <code>ModelMapper</code>. This method works fine but when I unit test it, I mock the <code>modelMapper</code> and stub it like this <code>when(modelMapper.map(createProductRequestDto, ProductEntity.class)).thenReturn(expectedProduct)</code> with <code>expectedProduct</code> is a <code>ProductEntity</code> instance, it throws <code>java.lang.ClassCastException</code></p>\n<p>StackTrace:</p>\n<pre><code>java.lang.ClassCastException: class com.example.demo.dto.responses.product.ProductResponseDto$MockitoMock$737533970 cannot be cast to class com.example.demo.entities.ProductEntity (com.example.demo.dto.responses.product.ProductResponseDto$MockitoMock$737533970 and com.example.demo.entities.ProductEntity are in unnamed module of loader 'app')\n\n    at com.example.demo.services.implementations.product.ProductCrudServiceImpl.createProduct(ProductCrudServiceImpl.java:78)\n    at com.example.demo.services.product.ProductCrudServiceImplTest.createProduct_ShouldReturnProductResponseDto(ProductCrudServiceImplTest.java:136)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>createProduct service method:</p>\n<pre><code>@Override\n    public ProductResponseDto createProduct(CreateProductRequestDto createProductRequestDTO) {\n        Long genderId = createProductRequestDTO.getGenderId();\n        Long sportId = createProductRequestDTO.getSportId();\n        List&lt;Long&gt; categoryIds = createProductRequestDTO.getCategoryIds();\n        List&lt;Long&gt; technologyIds = createProductRequestDTO.getTechnologyIds();\n\n        GenderEntity genderEntity = genderCrudService.findById(genderId);\n        SportEntity sportEntity = sportCrudService.findById(sportId);\n        List&lt;CategoryEntity&gt; categoryEntities = categoryCrudService.findByIds(categoryIds);\n        List&lt;TechnologyEntity&gt; technologyEntities = technologyService.findByIds(technologyIds);\n        Set&lt;TechnologyEntity&gt; technologyEntitySet = technologyEntities.stream().collect(Collectors.toSet());\n        Set&lt;CategoryEntity&gt; categoryEntitySet = categoryEntities.stream().collect(Collectors.toSet());\n\n        ProductEntity productEntity = modelMapper.map(createProductRequestDTO, ProductEntity.class);\n        productEntity.setTechnologies(technologyEntitySet);\n        productEntity.setCategories(categoryEntitySet);\n        productEntity.setGender(genderEntity);\n        productEntity.setSport(sportEntity);\n\n        productEntity = productRepository.save(productEntity);\n\n        AddSizeToProductRequestDto requestDto = addSizeToProductRequestDtoFactory.createAddSizeToRequestDto(productEntity.getId(), createProductRequestDTO.getProductSizeDtoList());\n        productEntity = productSizeService.addSizeToProduct(requestDto);\n\n        return modelMapper.map(productEntity, ProductResponseDto.class);\n    }\n</code></pre>\n<p>Unit test class:</p>\n<pre><code>public class ProductCrudServiceImplTest {\n    ModelMapper modelMapper;\n    ProductCrudServiceImpl productCrudServiceImpl;\n    GenderCrudService genderCrudService;\n    SportCrudService sportCrudService;\n    CategoryCrudService categoryCrudService;\n    ProductRepository productRepository;\n    TechnologyService technologyService;\n    ProductSizeService productSizeService;\n    CreateProductRequestDto createProductRequestDTO;\n    List&lt;Long&gt; categoryIds;\n    List&lt;Long&gt; technologyIds;\n    GenderEntity genderEntity;\n    SportEntity sportEntity;\n    List&lt;CategoryEntity&gt; categoryEntities;\n    List&lt;TechnologyEntity&gt; technologyEntities;\n    Set&lt;TechnologyEntity&gt; technologyEntitiesSet;\n    Set&lt;CategoryEntity&gt; categoryEntitiesSet;\n    List&lt;ProductSizeDto&gt; productSizeDtoList;\n    ProductEntity initProduct;\n    ProductEntity expectedProduct;\n    AddSizeToProductRequestDto addSizeToProductRequestDto;\n    AddSizeToProductRequestDtoFactory addSizeToProductRequestDtoFactory;\n    ProductResponseDto resultProductDto;\n\n    @BeforeEach\n    public void beforeEach() {\n        modelMapper = mock(ModelMapper.class);\n        genderCrudService = mock(GenderCrudService.class);\n        sportCrudService = mock(SportCrudService.class);\n        categoryCrudService = mock(CategoryCrudService.class);\n        productRepository = mock(ProductRepository.class);\n        technologyService = mock(TechnologyService.class);\n        productSizeService = mock(ProductSizeService.class);\n        addSizeToProductRequestDto = mock(AddSizeToProductRequestDto.class);\n        addSizeToProductRequestDtoFactory = mock(AddSizeToProductRequestDtoFactory.class);\n        productCrudServiceImpl = new ProductCrudServiceImpl(\n                modelMapper,\n                genderCrudService,\n                sportCrudService,\n                categoryCrudService,\n                productRepository,\n                technologyService,\n                productSizeService,\n                addSizeToProductRequestDtoFactory\n        );\n\n        createProductRequestDTO = mock(CreateProductRequestDto.class);\n        genderEntity = mock(GenderEntity.class);\n        sportEntity = mock(SportEntity.class);\n        categoryIds = mock(List.class);\n        technologyIds = mock(List.class);\n        categoryEntities = Arrays.asList(CategoryEntity.builder().id(1L).name(&quot;category&quot;).description(&quot;description&quot;).build());\n        categoryEntitiesSet = categoryEntities.stream().collect(Collectors.toSet());\n        technologyEntities = Arrays.asList(TechnologyEntity.builder().id(1L).name(&quot;technology&quot;).description(&quot;description&quot;).build());\n        technologyEntitiesSet = technologyEntities.stream().collect(Collectors.toSet());\n        expectedProduct = ProductEntity.builder()\n                .id(1L)\n                .name(&quot;product&quot;)\n                .price(1)\n                .year(2022)\n                .thumbnail(&quot;thumbnail&quot;)\n                .sport(sportEntity)\n                .gender(genderEntity)\n                .technologies(technologyEntitiesSet)\n                .categories(categoryEntitiesSet)\n                .description(&quot;description&quot;)\n                .build();\n        productSizeDtoList = mock(List.class);\n        addSizeToProductRequestDto = mock(AddSizeToProductRequestDto.class);\n        addSizeToProductRequestDtoFactory = mock(AddSizeToProductRequestDtoFactory.class);\n        resultProductDto = mock(ProductResponseDto.class);\n\n        when(createProductRequestDTO.getGenderId()).thenReturn(1L);\n        when(createProductRequestDTO.getSportId()).thenReturn(2L);\n        when(createProductRequestDTO.getCategoryIds()).thenReturn(categoryIds);\n        when(createProductRequestDTO.getTechnologyIds()).thenReturn(technologyIds);\n\n        when(genderCrudService.findById(1L)).thenReturn(genderEntity);\n        when(sportCrudService.findById(1L)).thenReturn(sportEntity);\n        when(categoryCrudService.findByIds(categoryIds)).thenReturn(categoryEntities);\n        when(technologyService.findByIds(technologyIds)).thenReturn(technologyEntities);\n\n        when(modelMapper.map(createProductRequestDTO, ProductEntity.class)).thenReturn(expectedProduct);\n        when(productRepository.save(any())).thenReturn(expectedProduct);\n\n        when(createProductRequestDTO.getProductSizeDtoList()).thenReturn(productSizeDtoList);\n        when(addSizeToProductRequestDtoFactory.createAddSizeToRequestDto(1L, productSizeDtoList)).thenReturn(addSizeToProductRequestDto);\n        when(productSizeService.addSizeToProduct(addSizeToProductRequestDto)).thenReturn(expectedProduct);\n        when(modelMapper.map(any(), ArgumentMatchers.&lt;Class&lt;ProductResponseDto&gt;&gt;any())).thenReturn(resultProductDto);\n    }\n\n    @Test\n    public void createProduct_ShouldReturnProductResponseDto() {\n        ProductResponseDto result = productCrudServiceImpl.createProduct(createProductRequestDTO);\n\n        ArgumentCaptor&lt;ProductEntity&gt; productCaptor = ArgumentCaptor.forClass(ProductEntity.class);\n        verify(productRepository).save(productCaptor.capture());\n        ProductEntity savedProduct = productCaptor.getValue();\n        verify(modelMapper).map(productCaptor.capture(), ProductEntity.class);\n        ProductEntity mappedProduct = productCaptor.getValue();\n//\n        assertEquals(savedProduct, expectedProduct);\n        assertEquals(mappedProduct, expectedProduct);\n        assertThat(result, is(resultProductDto));\n    }\n</code></pre>\n<p>I did some research on this but I can't identify the root cause and I have no idea how this could happen. Could you please help me with this?</p>\n<p>Thank you very much for your precious time.</p>\n"},{"tags":["java","user-interface","events"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1652624455,"post_id":72245898,"comment_id":127645858,"body_markdown":"*I want them to be able to manually click in and out of the Text Field as they please* -I have no idea what that means since a user can already do that. The user can tab from field to field and focus changes in a logical order. Or the user can manually click on any component to give the focus component. Also **Don&#39;t use a null layout**. Swing was designed to be used with layout managers. Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)","body":"<i>I want them to be able to manually click in and out of the Text Field as they please</i> -I have no idea what that means since a user can already do that. The user can tab from field to field and focus changes in a logical order. Or the user can manually click on any component to give the focus component. Also <b>Don&#39;t use a null layout</b>. Swing was designed to be used with layout managers. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a>"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652606258,"creation_date":1652605657,"answer_id":72246926,"question_id":72245898,"body_markdown":"Some people (including myself) call this sort of thing a *Field Watermark*. You need to add some conditions within your `if` statements contained in both the `focusGained` and `focusLost` events, for example:\r\n\r\n    @Override\r\n    public void focusGained(FocusEvent e) {\r\n        if (e.getSource() == txtNewUsername &amp;&amp; txtNewUsername.getText().equals(&quot;Username&quot;)) {\r\n            txtNewUsername.setForeground(Color.black);\r\n            txtNewUsername.setText(&quot;&quot;);\r\n        }\r\n        else if (e.getSource() == txtNewPassword &amp;&amp; txtNewPassword.getText().equals(&quot;Password&quot;)) {\r\n            txtNewPassword.setForeground(Color.black);\r\n            txtNewPassword.setText(&quot;&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void focusLost(FocusEvent e) {\r\n        if (e.getSource() == txtNewUsername &amp;&amp; txtNewUsername.getText().trim().isEmpty()) {\r\n            txtNewUsername.setForeground(Color.lightGray);\r\n            txtNewUsername.setText(&quot;Username&quot;);\r\n        }\r\n        else if (e.getSource() == txtNewPassword &amp;&amp; txtNewPassword.getText().trim().isEmpty()) {\r\n            txtNewPassword.setForeground(Color.lightGray);\r\n            txtNewPassword.setText(&quot;Password&quot;);\r\n        }\r\n    }\r\n\r\nAnd during your components initialization:\r\n   \r\n    txtNewUsername = new JTextField(&quot;Username&quot;);\r\n    txtNewUsername.setForeground(Color.lightGray);  // ****\r\n    txtNewPassword = new JTextField(&quot;Password&quot;);\r\n    txtNewPassword.setForeground(Color.lightGray);  // ****","title":"How to simulate a mouse click in a JTextField?","body":"<p>Some people (including myself) call this sort of thing a <em>Field Watermark</em>. You need to add some conditions within your <code>if</code> statements contained in both the <code>focusGained</code> and <code>focusLost</code> events, for example:</p>\n<pre><code>@Override\npublic void focusGained(FocusEvent e) {\n    if (e.getSource() == txtNewUsername &amp;&amp; txtNewUsername.getText().equals(&quot;Username&quot;)) {\n        txtNewUsername.setForeground(Color.black);\n        txtNewUsername.setText(&quot;&quot;);\n    }\n    else if (e.getSource() == txtNewPassword &amp;&amp; txtNewPassword.getText().equals(&quot;Password&quot;)) {\n        txtNewPassword.setForeground(Color.black);\n        txtNewPassword.setText(&quot;&quot;);\n    }\n}\n\n@Override\npublic void focusLost(FocusEvent e) {\n    if (e.getSource() == txtNewUsername &amp;&amp; txtNewUsername.getText().trim().isEmpty()) {\n        txtNewUsername.setForeground(Color.lightGray);\n        txtNewUsername.setText(&quot;Username&quot;);\n    }\n    else if (e.getSource() == txtNewPassword &amp;&amp; txtNewPassword.getText().trim().isEmpty()) {\n        txtNewPassword.setForeground(Color.lightGray);\n        txtNewPassword.setText(&quot;Password&quot;);\n    }\n}\n</code></pre>\n<p>And during your components initialization:</p>\n<pre><code>txtNewUsername = new JTextField(&quot;Username&quot;);\ntxtNewUsername.setForeground(Color.lightGray);  // ****\ntxtNewPassword = new JTextField(&quot;Password&quot;);\ntxtNewPassword.setForeground(Color.lightGray);  // ****\n</code></pre>\n"}],"owner":{"account_id":25054038,"reputation":61,"user_id":18909694,"display_name":"Imaginewagons"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652606258,"creation_date":1652594743,"question_id":72245898,"body_markdown":"I&#39;ve been practicing creating a simple registration form GUI and lately I&#39;ve discovered about Focus Listener. I&#39;ve implemented it to my program in order to further refine it and somehow I made it work. While it does indeed work how I intended it to be, my next goal is to instead of allowing users to automatically input in the JTextField, I want them to be able to manually click in and out of the Text Field as they please. The problem is I have a hard time thinking on how can implement this.\r\n\r\ncurrently this is my code:\r\n\r\n    package com.main;\r\n    import java.awt.event.*;\r\n    import java.io.*;\r\n    import javax.swing.*;\r\n\r\n    public class RegisterScreen extends JFrame implements ActionListener, FocusListener{\r\n    \r\n    JLabel lblCreateUser, lblCreatePassword, lblHeader; \r\n    JTextField txtNewUsername, txtNewPassword;\r\n    JButton btnCreateAccount, btnReturnBack;\r\n    public RegisterScreen(){\r\n        super(&quot;Create new User&quot;);\r\n        setLayout(null);\r\n\r\n        lblCreateUser = new JLabel(&quot;Please enter your Email Address&quot;);\r\n        lblCreatePassword = new JLabel(&quot;Please enter your Password&quot;);\r\n        lblHeader = new JLabel(&quot;Create new account&quot;);\r\n        txtNewUsername = new JTextField(&quot;Username&quot;);\r\n        txtNewPassword = new JTextField(&quot;Password&quot;);\r\n        btnCreateAccount = new JButton(&quot;Create account&quot;);\r\n        btnReturnBack = new JButton(&quot;Back&quot;);\r\n     \r\n        lblHeader.setBounds(130, 50, 300,40);\r\n        lblCreateUser.setBounds(50,115, 300,40);\r\n        lblCreatePassword.setBounds(50, 200, 300, 40);\r\n        txtNewUsername.setBounds(50, 150, 300,  40);\r\n        txtNewPassword.setBounds(50, 230, 300, 40);\r\n        btnCreateAccount.setBounds(50, 280,125, 40);\r\n        btnReturnBack.setBounds(223, 280,125, 40);\r\n        \r\n        btnReturnBack.addActionListener(this);\r\n        btnCreateAccount.addActionListener(this);\r\n        txtNewUsername.addFocusListener(this);\r\n        txtNewPassword.addFocusListener(this);\r\n   \r\n        add(lblHeader);\r\n        add(lblCreateUser);\r\n        add(txtNewUsername);\r\n        add(lblCreatePassword);\r\n        add(txtNewPassword);\r\n        add(btnCreateAccount);\r\n        add(btnReturnBack);\r\n\r\n        addWindowListener(new WindowAdapter(){\r\n            public void windowClosing(WindowEvent exit){\r\n                System.exit(0);\r\n            }\r\n        });\r\n        setSize(400,600);\r\n        setVisible(true);\r\n        setResizable(false);\r\n\r\n    }\r\n    public static void main (String []args){\r\n        RegisterScreen register = new RegisterScreen();\r\n    }\r\n    public void actionPerformed(ActionEvent e) {\r\n        File user = new File(&quot;Usernames.txt&quot;);\r\n        File pass = new File(&quot;Passwords.txt&quot;);\r\n       \r\n        if (e.getSource() == btnCreateAccount) {\r\n\r\n            try (BufferedWriter addUser = new BufferedWriter(new FileWriter(user, true)); BufferedWriter addPass = new BufferedWriter(new FileWriter(pass, true))) {\r\n                if(txtNewUsername.getText().isEmpty() &amp;&amp; txtNewPassword.getText().isEmpty()){\r\n                    JOptionPane.showMessageDialog(null, &quot;Username or Password must not be blank&quot;, &quot;Error&quot;, 0);\r\n                }\r\n                else{\r\n                    addUser.write(txtNewUsername.getText());\r\n                    addUser.newLine();\r\n                    addPass.write(txtNewPassword.getText());\r\n                    addPass.newLine();\r\n                     JOptionPane.showMessageDialog(null, &quot;Account Successfully Created&quot;, &quot;Success&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                    }\r\n                }\r\n            catch (IOException exp) {\r\n                JOptionPane.showMessageDialog(this, &quot;Account creation failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n    }\r\n        else if(e.getSource() == btnReturnBack){\r\n            LoginScreen login = new LoginScreen();\r\n            dispose();\r\n        }\r\n     }\r\n       public void focusGained(FocusEvent e) {\r\n       if (e.getSource() == txtNewUsername){\r\n           txtNewUsername.setText(&quot;&quot;);\r\n       }\r\n       if (e.getSource() == txtNewPassword){\r\n           txtNewPassword.setText(&quot;&quot;);\r\n    }\r\n    }\r\n    public void focusLost(FocusEvent e) {\r\n        if (e.getSource() == txtNewUsername){\r\n            txtNewUsername.setText(&quot;Username&quot;);\r\n        }\r\n        if (e.getSource() == txtNewPassword){\r\n         txtNewPassword.setText(&quot;Password&quot;);\r\n    }\r\n    }\r\n    } \r\n\r\nI am still a beginner at programming and sorry if you find my code a bit too long but any help is much appreciated!","title":"How to simulate a mouse click in a JTextField?","body":"<p>I've been practicing creating a simple registration form GUI and lately I've discovered about Focus Listener. I've implemented it to my program in order to further refine it and somehow I made it work. While it does indeed work how I intended it to be, my next goal is to instead of allowing users to automatically input in the JTextField, I want them to be able to manually click in and out of the Text Field as they please. The problem is I have a hard time thinking on how can implement this.</p>\n<p>currently this is my code:</p>\n<pre><code>package com.main;\nimport java.awt.event.*;\nimport java.io.*;\nimport javax.swing.*;\n\npublic class RegisterScreen extends JFrame implements ActionListener, FocusListener{\n\nJLabel lblCreateUser, lblCreatePassword, lblHeader; \nJTextField txtNewUsername, txtNewPassword;\nJButton btnCreateAccount, btnReturnBack;\npublic RegisterScreen(){\n    super(&quot;Create new User&quot;);\n    setLayout(null);\n\n    lblCreateUser = new JLabel(&quot;Please enter your Email Address&quot;);\n    lblCreatePassword = new JLabel(&quot;Please enter your Password&quot;);\n    lblHeader = new JLabel(&quot;Create new account&quot;);\n    txtNewUsername = new JTextField(&quot;Username&quot;);\n    txtNewPassword = new JTextField(&quot;Password&quot;);\n    btnCreateAccount = new JButton(&quot;Create account&quot;);\n    btnReturnBack = new JButton(&quot;Back&quot;);\n \n    lblHeader.setBounds(130, 50, 300,40);\n    lblCreateUser.setBounds(50,115, 300,40);\n    lblCreatePassword.setBounds(50, 200, 300, 40);\n    txtNewUsername.setBounds(50, 150, 300,  40);\n    txtNewPassword.setBounds(50, 230, 300, 40);\n    btnCreateAccount.setBounds(50, 280,125, 40);\n    btnReturnBack.setBounds(223, 280,125, 40);\n    \n    btnReturnBack.addActionListener(this);\n    btnCreateAccount.addActionListener(this);\n    txtNewUsername.addFocusListener(this);\n    txtNewPassword.addFocusListener(this);\n\n    add(lblHeader);\n    add(lblCreateUser);\n    add(txtNewUsername);\n    add(lblCreatePassword);\n    add(txtNewPassword);\n    add(btnCreateAccount);\n    add(btnReturnBack);\n\n    addWindowListener(new WindowAdapter(){\n        public void windowClosing(WindowEvent exit){\n            System.exit(0);\n        }\n    });\n    setSize(400,600);\n    setVisible(true);\n    setResizable(false);\n\n}\npublic static void main (String []args){\n    RegisterScreen register = new RegisterScreen();\n}\npublic void actionPerformed(ActionEvent e) {\n    File user = new File(&quot;Usernames.txt&quot;);\n    File pass = new File(&quot;Passwords.txt&quot;);\n   \n    if (e.getSource() == btnCreateAccount) {\n\n        try (BufferedWriter addUser = new BufferedWriter(new FileWriter(user, true)); BufferedWriter addPass = new BufferedWriter(new FileWriter(pass, true))) {\n            if(txtNewUsername.getText().isEmpty() &amp;&amp; txtNewPassword.getText().isEmpty()){\n                JOptionPane.showMessageDialog(null, &quot;Username or Password must not be blank&quot;, &quot;Error&quot;, 0);\n            }\n            else{\n                addUser.write(txtNewUsername.getText());\n                addUser.newLine();\n                addPass.write(txtNewPassword.getText());\n                addPass.newLine();\n                 JOptionPane.showMessageDialog(null, &quot;Account Successfully Created&quot;, &quot;Success&quot;, JOptionPane.INFORMATION_MESSAGE);\n                }\n            }\n        catch (IOException exp) {\n            JOptionPane.showMessageDialog(this, &quot;Account creation failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n}\n    else if(e.getSource() == btnReturnBack){\n        LoginScreen login = new LoginScreen();\n        dispose();\n    }\n }\n   public void focusGained(FocusEvent e) {\n   if (e.getSource() == txtNewUsername){\n       txtNewUsername.setText(&quot;&quot;);\n   }\n   if (e.getSource() == txtNewPassword){\n       txtNewPassword.setText(&quot;&quot;);\n}\n}\npublic void focusLost(FocusEvent e) {\n    if (e.getSource() == txtNewUsername){\n        txtNewUsername.setText(&quot;Username&quot;);\n    }\n    if (e.getSource() == txtNewPassword){\n     txtNewPassword.setText(&quot;Password&quot;);\n}\n}\n} \n</code></pre>\n<p>I am still a beginner at programming and sorry if you find my code a bit too long but any help is much appreciated!</p>\n"},{"tags":["java","user-interface","swing","zooming","scale"],"comments":[{"owner":{"account_id":131131,"reputation":4248,"user_id":330913,"accept_rate":87,"display_name":"NoozNooz42"},"score":0,"creation_date":1275320460,"post_id":2944442,"comment_id":3000397,"body_markdown":"scaling already rendered components containing things like anti-aliased fonts will give shitty results, especially if those fonts are using RGB-decimation/sub-pixel anti-aliasing.","body":"scaling already rendered components containing things like anti-aliased fonts will give shitty results, especially if those fonts are using RGB-decimation/sub-pixel anti-aliasing."}],"answers":[{"tags":[],"owner":{"account_id":43420,"reputation":4725,"user_id":126945,"accept_rate":85,"display_name":"Gnoupi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1275319792,"creation_date":1275319792,"answer_id":2944490,"question_id":2944442,"body_markdown":"You could give a try to the [JXLayer library][1].\r\n\r\nThere are several tools in it, which could help you to make a zoom. Check the examples [shown here][2]. I would recommend you to read more about the TransformUI, from this library. From the example, it seems like it could help solving your problem.\r\n\r\n\r\n  [1]: https://jxlayer.dev.java.net/\r\n  [2]: http://www.pbjar.org/blogs/jxlayer/jxlayer40/","title":"Zoom in Java Swing application","body":"<p>You could give a try to the <a href=\"https://jxlayer.dev.java.net/\" rel=\"noreferrer\">JXLayer library</a>.</p>\n\n<p>There are several tools in it, which could help you to make a zoom. Check the examples <a href=\"http://www.pbjar.org/blogs/jxlayer/jxlayer40/\" rel=\"noreferrer\">shown here</a>. I would recommend you to read more about the TransformUI, from this library. From the example, it seems like it could help solving your problem.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1275324727,"creation_date":1275324727,"answer_id":2944915,"question_id":2944442,"body_markdown":"Scaling the view is easy enough; transforming mouse coordinates is only slightly more difficult. Here&#39;s an elementary [example][1]. I&#39;d keep `JComponent`s out, although it might make sense to develop an analogous `ScaledComponent` that knows about the geometry. That&#39;s where @Gnoupi&#39;s suggestion of using a library comes in.\r\n\r\n[1]:http://sites.google.com/site/drjohnbmatthews/scaledview","title":"Zoom in Java Swing application","body":"<p>Scaling the view is easy enough; transforming mouse coordinates is only slightly more difficult. Here's an elementary <a href=\"http://sites.google.com/site/drjohnbmatthews/scaledview\" rel=\"noreferrer\">example</a>. I'd keep <code>JComponent</code>s out, although it might make sense to develop an analogous <code>ScaledComponent</code> that knows about the geometry. That's where @Gnoupi's suggestion of using a library comes in.</p>\n"},{"tags":[],"owner":{"account_id":1041677,"reputation":21,"user_id":1047586,"display_name":"DjRocks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1321361545,"creation_date":1321361545,"answer_id":8136601,"question_id":2944442,"body_markdown":"hey you can try this if you want to zoom a image like any other image viewer the use a JPanel draw an image using drawImage() method now create a button and when you click the button increase the size of the panel on the frame it appears as if the image is being viewed in Zoom\r\n  ","title":"Zoom in Java Swing application","body":"<p>hey you can try this if you want to zoom a image like any other image viewer the use a JPanel draw an image using drawImage() method now create a button and when you click the button increase the size of the panel on the frame it appears as if the image is being viewed in Zoom</p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348700596,"creation_date":1348700596,"answer_id":12611748,"question_id":2944442,"body_markdown":"You might find Piccolo2D.java API useful:  http://code.google.com/p/piccolo2d/\r\n\r\nIt is very simple.\r\n\r\nIt touts in particular its smooth zooming.  You essentially make a &quot;canvas&quot; that can contain various elements, and can then zoom by just holding right-click and panning the mouse back and forth.\r\n\r\nI worked on a team that used it to create this:  http://sourceforge.net/apps/mediawiki/guitar/index.php?title=WebGuitar#EFG.2FGUI_Visualizer\r\n\r\nThe nodes you see there are clickable links themselves.","title":"Zoom in Java Swing application","body":"<p>You might find Piccolo2D.java API useful:  <a href=\"http://code.google.com/p/piccolo2d/\" rel=\"nofollow\">http://code.google.com/p/piccolo2d/</a></p>\n\n<p>It is very simple.</p>\n\n<p>It touts in particular its smooth zooming.  You essentially make a \"canvas\" that can contain various elements, and can then zoom by just holding right-click and panning the mouse back and forth.</p>\n\n<p>I worked on a team that used it to create this:  <a href=\"http://sourceforge.net/apps/mediawiki/guitar/index.php?title=WebGuitar#EFG.2FGUI_Visualizer\" rel=\"nofollow\">http://sourceforge.net/apps/mediawiki/guitar/index.php?title=WebGuitar#EFG.2FGUI_Visualizer</a></p>\n\n<p>The nodes you see there are clickable links themselves.</p>\n"},{"tags":[],"owner":{"account_id":11211298,"reputation":180,"user_id":8225290,"display_name":"wknauf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652606148,"creation_date":1652606148,"answer_id":72246973,"question_id":2944442,"body_markdown":"Since Java 9, there are VM arguments (actually meant to be used for high dpi scaling) that can render a application with a higher scaling factor:\r\n\r\n    java -Dsun.java2d.uiScale=2.0 -jar MyApplication.jar\r\n\r\nOr:\r\n\r\n    java -Dsun.java2d.win.uiScaleX=2.0 -Dsun.java2d.win.uiScaleY=2.0 -jar MyApplication.jar","title":"Zoom in Java Swing application","body":"<p>Since Java 9, there are VM arguments (actually meant to be used for high dpi scaling) that can render a application with a higher scaling factor:</p>\n<pre><code>java -Dsun.java2d.uiScale=2.0 -jar MyApplication.jar\n</code></pre>\n<p>Or:</p>\n<pre><code>java -Dsun.java2d.win.uiScaleX=2.0 -Dsun.java2d.win.uiScaleY=2.0 -jar MyApplication.jar\n</code></pre>\n"}],"owner":{"account_id":145105,"reputation":347,"user_id":354672,"accept_rate":83,"display_name":"Shirky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20181,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":2944490,"answer_count":5,"score":13,"last_activity_date":1652606148,"creation_date":1275319229,"question_id":2944442,"body_markdown":"I am looking for ways to zoom in a Java Swing application. That means that I would like to resize all components in a given JPanel by a given factor as if I would take an screenshot of the UI and just applied an &quot;Image scale&quot; operation. The font size as well as the size of checkboxes, textboxes, cursors etc. has to be adjusted.\r\nIt is possible to scale a component by applying transforms to a graphics object:\r\n\r\n     protected Graphics getComponentGraphics(Graphics g) {\r\n      Graphics2D g2d=(Graphics2D)g;\r\n    \r\n      g2d.scale(2, 2);\r\n      \r\n      return super.getComponentGraphics(g2d);\r\n     }\r\n\r\nThat works as long as you don&#39;t care about self-updating components. If you have a textbox in your application this approach ceases to work since the textbox updates itself every second to show the (blinking) cursor. And since it doesn&#39;t use the modified graphics object this time the component appears at the old location. Is there a possibility to change a components graphics object permanently? There is also a problem with the mouse click event handlers.\r\nThe other possibility would be to resize all child components of the JPanel (setPreferredSize) to a new size. That doesn&#39;t work for checkboxes since the displayed picture of the checkbox doesn&#39;t change its size.\r\nI also thought of programming my own layout manager but I don&#39;t think that this will work since layout managers only change the position (and size) of objects but are not able to zoom into checkboxes (see previous paragraph). Or am I wrong with this hypothesis?\r\nDo you have any ideas how one could achieve a zoomable Swing GUI without programming custom components? I looked for rotatable user interfaces because the problem seems familiar but I also didn&#39;t find any satisfying solution to this problem.\r\n\r\nThanks for your help,\r\nChris","title":"Zoom in Java Swing application","body":"<p>I am looking for ways to zoom in a Java Swing application. That means that I would like to resize all components in a given JPanel by a given factor as if I would take an screenshot of the UI and just applied an \"Image scale\" operation. The font size as well as the size of checkboxes, textboxes, cursors etc. has to be adjusted.\nIt is possible to scale a component by applying transforms to a graphics object:</p>\n\n<pre><code> protected Graphics getComponentGraphics(Graphics g) {\n  Graphics2D g2d=(Graphics2D)g;\n\n  g2d.scale(2, 2);\n\n  return super.getComponentGraphics(g2d);\n }\n</code></pre>\n\n<p>That works as long as you don't care about self-updating components. If you have a textbox in your application this approach ceases to work since the textbox updates itself every second to show the (blinking) cursor. And since it doesn't use the modified graphics object this time the component appears at the old location. Is there a possibility to change a components graphics object permanently? There is also a problem with the mouse click event handlers.\nThe other possibility would be to resize all child components of the JPanel (setPreferredSize) to a new size. That doesn't work for checkboxes since the displayed picture of the checkbox doesn't change its size.\nI also thought of programming my own layout manager but I don't think that this will work since layout managers only change the position (and size) of objects but are not able to zoom into checkboxes (see previous paragraph). Or am I wrong with this hypothesis?\nDo you have any ideas how one could achieve a zoomable Swing GUI without programming custom components? I looked for rotatable user interfaces because the problem seems familiar but I also didn't find any satisfying solution to this problem.</p>\n\n<p>Thanks for your help,\nChris</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652605739,"creation_date":1652605739,"answer_id":72246936,"question_id":72246763,"body_markdown":"Errors like `java.lang.UnsatisfiedLinkError` arise when (at runtime) the JVM cannot link to an external native library. In your case, you try to link to a library named `lwjgl64`.\r\n\r\nIf this library exists, you should point to its directory (at runtime, also) using the `-Djava.library.path=DIR` system property. All main IDEs (Intellijdea, Eclipse etc) provide ways to set this option. For Intelijdea specifically see this [relevant question](https://stackoverflow.com/questions/19308010/how-to-set-the-java-library-path-in-intellij-idea)\r\n","title":"intellij idea build java aplication finished with non-zero exit value 1","body":"<p>Errors like <code>java.lang.UnsatisfiedLinkError</code> arise when (at runtime) the JVM cannot link to an external native library. In your case, you try to link to a library named <code>lwjgl64</code>.</p>\n<p>If this library exists, you should point to its directory (at runtime, also) using the <code>-Djava.library.path=DIR</code> system property. All main IDEs (Intellijdea, Eclipse etc) provide ways to set this option. For Intelijdea specifically see this <a href=\"https://stackoverflow.com/questions/19308010/how-to-set-the-java-library-path-in-intellij-idea\">relevant question</a></p>\n"}],"owner":{"account_id":25294494,"reputation":1,"user_id":19119892,"display_name":"Snaks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72246936,"answer_count":1,"score":0,"last_activity_date":1652605739,"creation_date":1652604197,"question_id":72246763,"body_markdown":"and so on when i run java application in my project\r\nI have an error (code below)\r\n```\r\n    &gt; Task :Start.main()\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lwjgl64 in java.library.path\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1860)\r\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:871)\r\n\tat java.lang.System.loadLibrary(System.java:1124)\r\n\tat org.lwjgl.Sys$1.run(Sys.java:72)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.lwjgl.Sys.doLoadLibrary(Sys.java:66)\r\n\tat org.lwjgl.Sys.loadLibrary(Sys.java:87)\r\n\tat org.lwjgl.Sys.&lt;clinit&gt;(Sys.java:117)\r\n\tat net.minecraft.client.Minecraft.getSystemTime(Minecraft.java:2837)\r\n\tat net.minecraft.client.main.Main.main(Main.java:37)\r\n\tat Start.main(Start.java:7)\r\n\r\n&gt; Task :Start.main() FAILED\r\n\r\nExecution failed for task &#39;:Start.main()&#39;.\r\n&gt; Process &#39;command &#39;C:/Users/kostia_admin/.jdks/corretto-1.8.0_332/bin/java.exe&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n```\r\n\r\nrecreating the project does not help\r\n\r\n","title":"intellij idea build java aplication finished with non-zero exit value 1","body":"<p>and so on when i run java application in my project\nI have an error (code below)</p>\n<pre><code>    &gt; Task :Start.main()\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lwjgl64 in java.library.path\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1860)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:871)\n    at java.lang.System.loadLibrary(System.java:1124)\n    at org.lwjgl.Sys$1.run(Sys.java:72)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.lwjgl.Sys.doLoadLibrary(Sys.java:66)\n    at org.lwjgl.Sys.loadLibrary(Sys.java:87)\n    at org.lwjgl.Sys.&lt;clinit&gt;(Sys.java:117)\n    at net.minecraft.client.Minecraft.getSystemTime(Minecraft.java:2837)\n    at net.minecraft.client.main.Main.main(Main.java:37)\n    at Start.main(Start.java:7)\n\n&gt; Task :Start.main() FAILED\n\nExecution failed for task ':Start.main()'.\n&gt; Process 'command 'C:/Users/kostia_admin/.jdks/corretto-1.8.0_332/bin/java.exe'' finished with non-zero exit value 1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n</code></pre>\n<p>recreating the project does not help</p>\n"},{"tags":["java","android","websocket","netty","okhttp"],"answers":[{"tags":[],"owner":{"account_id":25293542,"reputation":1,"user_id":19119105,"display_name":"kan chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652605550,"creation_date":1652605516,"answer_id":72246916,"question_id":72245639,"body_markdown":"DefaultFullHttpResponse cannot use with ChunkedWriteHandler...So in this situation, i should use DefaultHttpResponse instead of DefaultFullHttpResponse ","title":"okhttpClient requset download file fail,Server is built by Netty","body":"<p>DefaultFullHttpResponse cannot use with ChunkedWriteHandler...So in this situation, i should use DefaultHttpResponse instead of DefaultFullHttpResponse</p>\n"}],"owner":{"account_id":25293542,"reputation":1,"user_id":19119105,"display_name":"kan chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652605550,"creation_date":1652591311,"question_id":72245639,"body_markdown":"Now,i build nettyServer and use okHttp request download, but okhttp response not has dataiostream, could someone help me solve the problem?\r\n\r\n\r\n``` code ```\r\nServer by Netty\r\n\r\n        mServerBootstrap.group(mBossGroup, mWorkerGroup)\r\n                .channel(NioServerSocketChannel.class)\r\n                .handler(new LoggingHandler(LogLevel.INFO))\r\n                .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n                    @Override\r\n                    protected void initChannel(SocketChannel ch) throws Exception {\r\n                        ChannelPipeline pipeline = ch.pipeline();\r\n                        SSLEngine engine = WebSocketUtils.createSslContext().createSSLEngine();\r\n                        engine.setUseClientMode(false);\r\n                        pipeline.addLast(new SslHandler(engine));\r\n                        pipeline.addLast(new HttpServerCodec(4096, 8192, ArchiveStream.BUFFER_SIZE));\r\n                        pipeline.addLast(new HttpObjectAggregator(65536));\r\n                        pipeline.addLast(new LoggingHandler());\r\n\r\n                        pipeline.addLast(new ChunkedWriteHandler());\r\n                        pipeline.addLast(new SimpleChannelInboundHandler&lt;Object&gt;() {\r\n                            @Override                                       /////216\r\n                            protected void channelRead0(ChannelHandlerContext ctx, Object msg) throws Exception {\r\n                                FullHttpRequest fullHttpRequest = (FullHttpRequest) msg;\r\n                                handleDownload(ctx, fullHttpRequest);\r\n                                \r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n        void handleDownload(ChannelHandlerContext ctx, FullHttpRequest fullHttpRequest) {\r\n        final ParcelFileDescriptor[] pipes = ParcelFileDescriptor.createPipe();\r\n        final InputStream pipeIn = new BufferedInputStream(new FileInputStream(pipes[0].getFileDescriptor()));\r\n        final OutputStream pipeOut = new BufferedOutputStream(new FileOutputStream(pipes[1].getFileDescriptor()));\r\n        mExecutor.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                InputStream is = null;\r\n\r\n                String path = Environment.getExternalStorageDirectory().getPath() + File.separator + Environment.DIRECTORY_DOWNLOADS;\r\n                File file = new File(path + File.separator + &quot;a.txt&quot;);\r\n                is = new FileInputStream(file);\r\n                byte[] buffer = new byte[ArchiveStream.BUFFER_SIZE];            /////623\r\n\r\n                int N;\r\n                while (true) {\r\n                    try {\r\n                        N = is.read(buffer);\r\n                        if (N &lt; 0) break;\r\n                        pipeOut.write(buffer, 0, N);\r\n                    } catch (Exception e) {\r\n                        Log.d(TAG, &quot;read exception&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        DefaultFullHttpResponse response = new DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.OK);\r\n        response.headers().set(HttpHeaderNames.TRANSFER_ENCODING, HttpHeaderValues.CHUNKED);\r\n        ctx.write(response);\r\n        ctx.writeAndFlush(new HttpChunkedInput(new ChunkedStream(pipeIn)));\r\n    }\r\n        \r\n\r\n\r\nand client okhttp request download\r\n\r\n        \r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://&quot; + &quot;10.20.0.148&quot; + &quot;:&quot; + &quot;50000&quot; +&quot;/download?taskId=&quot; + &quot;15802749896&quot;)\r\n                .get().build();\r\n        Log.d(TAG, &quot;download request :&quot; + request);\r\n\r\n        mOkHttp.newCall(request).enqueue(new Callback() {\r\n            @Override\r\n            public void onFailure(Call call, IOException e) {\r\n                Log.e(TAG, &quot;onFailure call= &quot; + call , e);\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(Call call, Response response) throws IOException {\r\n                Log.d(TAG, &quot;onResponse call=&quot; + call + &quot;, reponse=&quot; + response);\r\n                try {\r\n                    final InputStream is = response.body().byteStream();\r\n\r\n                    if (is == null) {\r\n                        System.out.println(&quot;is null&quot;);\r\n                        return;\r\n                    }\r\n                    String path = Environment.getExternalStorageDirectory().getPath() +  File.separator + Environment.DIRECTORY_DOWNLOADS;\r\n                    File file = new File(path + File.separator + &quot;a.txt&quot;);\r\n\r\n                    byte[] buffer = new byte[ArchiveStream.BUFFER_SIZE];\r\n                    try (OutputStream os = new FileOutputStream(file)){\r\n                        while (true) {\r\n                            int N = -1;\r\n                            N = is.read(buffer);\r\n                            System.out.println(&quot;read N=&quot; + N);\r\n                            if ( N &lt; 0) break;\r\n                            os.write(buffer, 0, N);\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    } finally {\r\n                        try {\r\n                            is.close();\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                } finally {\r\n                    response.close();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\nThe reason is: clent can receiver repoonse log,but read buffer is error\r\n\r\n&gt; onResponse call=okhttp3.RealCall@86ad38b, response=Response{protocol=http/1.1, code=200, message=OK, url=https://10.20.0.148:50000/download?taskId=15802749896}\r\n&gt; read N=-1\r\n\r\n\r\n\r\n\r\n\r\nCould someone tell me how to solve this??  Thanks\r\n\r\n\r\n\r\n","title":"okhttpClient requset download file fail,Server is built by Netty","body":"<p>Now,i build nettyServer and use okHttp request download, but okhttp response not has dataiostream, could someone help me solve the problem?</p>\n<p><code>code</code>\nServer by Netty</p>\n<pre><code>    mServerBootstrap.group(mBossGroup, mWorkerGroup)\n            .channel(NioServerSocketChannel.class)\n            .handler(new LoggingHandler(LogLevel.INFO))\n            .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n                @Override\n                protected void initChannel(SocketChannel ch) throws Exception {\n                    ChannelPipeline pipeline = ch.pipeline();\n                    SSLEngine engine = WebSocketUtils.createSslContext().createSSLEngine();\n                    engine.setUseClientMode(false);\n                    pipeline.addLast(new SslHandler(engine));\n                    pipeline.addLast(new HttpServerCodec(4096, 8192, ArchiveStream.BUFFER_SIZE));\n                    pipeline.addLast(new HttpObjectAggregator(65536));\n                    pipeline.addLast(new LoggingHandler());\n\n                    pipeline.addLast(new ChunkedWriteHandler());\n                    pipeline.addLast(new SimpleChannelInboundHandler&lt;Object&gt;() {\n                        @Override                                       /////216\n                        protected void channelRead0(ChannelHandlerContext ctx, Object msg) throws Exception {\n                            FullHttpRequest fullHttpRequest = (FullHttpRequest) msg;\n                            handleDownload(ctx, fullHttpRequest);\n                            \n                        }\n                    });\n                }\n            });\n    void handleDownload(ChannelHandlerContext ctx, FullHttpRequest fullHttpRequest) {\n    final ParcelFileDescriptor[] pipes = ParcelFileDescriptor.createPipe();\n    final InputStream pipeIn = new BufferedInputStream(new FileInputStream(pipes[0].getFileDescriptor()));\n    final OutputStream pipeOut = new BufferedOutputStream(new FileOutputStream(pipes[1].getFileDescriptor()));\n    mExecutor.execute(new Runnable() {\n        @Override\n        public void run() {\n            InputStream is = null;\n\n            String path = Environment.getExternalStorageDirectory().getPath() + File.separator + Environment.DIRECTORY_DOWNLOADS;\n            File file = new File(path + File.separator + &quot;a.txt&quot;);\n            is = new FileInputStream(file);\n            byte[] buffer = new byte[ArchiveStream.BUFFER_SIZE];            /////623\n\n            int N;\n            while (true) {\n                try {\n                    N = is.read(buffer);\n                    if (N &lt; 0) break;\n                    pipeOut.write(buffer, 0, N);\n                } catch (Exception e) {\n                    Log.d(TAG, &quot;read exception&quot;);\n                    break;\n                }\n            }\n        }\n    });\n    DefaultFullHttpResponse response = new DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.OK);\n    response.headers().set(HttpHeaderNames.TRANSFER_ENCODING, HttpHeaderValues.CHUNKED);\n    ctx.write(response);\n    ctx.writeAndFlush(new HttpChunkedInput(new ChunkedStream(pipeIn)));\n}\n    \n</code></pre>\n<p>and client okhttp request download</p>\n<pre><code>    Request request = new Request.Builder()\n            .url(&quot;https://&quot; + &quot;10.20.0.148&quot; + &quot;:&quot; + &quot;50000&quot; +&quot;/download?taskId=&quot; + &quot;15802749896&quot;)\n            .get().build();\n    Log.d(TAG, &quot;download request :&quot; + request);\n\n    mOkHttp.newCall(request).enqueue(new Callback() {\n        @Override\n        public void onFailure(Call call, IOException e) {\n            Log.e(TAG, &quot;onFailure call= &quot; + call , e);\n        }\n\n        @Override\n        public void onResponse(Call call, Response response) throws IOException {\n            Log.d(TAG, &quot;onResponse call=&quot; + call + &quot;, reponse=&quot; + response);\n            try {\n                final InputStream is = response.body().byteStream();\n\n                if (is == null) {\n                    System.out.println(&quot;is null&quot;);\n                    return;\n                }\n                String path = Environment.getExternalStorageDirectory().getPath() +  File.separator + Environment.DIRECTORY_DOWNLOADS;\n                File file = new File(path + File.separator + &quot;a.txt&quot;);\n\n                byte[] buffer = new byte[ArchiveStream.BUFFER_SIZE];\n                try (OutputStream os = new FileOutputStream(file)){\n                    while (true) {\n                        int N = -1;\n                        N = is.read(buffer);\n                        System.out.println(&quot;read N=&quot; + N);\n                        if ( N &lt; 0) break;\n                        os.write(buffer, 0, N);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                } finally {\n                    try {\n                        is.close();\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            } finally {\n                response.close();\n            }\n        }\n    });\n}\n</code></pre>\n<p>The reason is: clent can receiver repoonse log,but read buffer is error</p>\n<blockquote>\n<p>onResponse call=okhttp3.RealCall@86ad38b, response=Response{protocol=http/1.1, code=200, message=OK, url=https://10.20.0.148:50000/download?taskId=15802749896}\nread N=-1</p>\n</blockquote>\n<p>Could someone tell me how to solve this??  Thanks</p>\n"},{"tags":["java","api","audio"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1432621771,"post_id":30450990,"comment_id":48983270,"body_markdown":"Make `targetDataLine` a instance field variable which can the be accessed from `stop`...","body":"Make <code>targetDataLine</code> a instance field variable which can the be accessed from <code>stop</code>..."},{"owner":{"account_id":6364841,"reputation":21,"user_id":4939113,"display_name":"Tejas Nikhar"},"score":0,"creation_date":1432622402,"post_id":30450990,"comment_id":48983573,"body_markdown":"I tried doing that but I am getting targetline using  below code snippet and in my capture method I m using targetline in an inner class hence it has to be declared as final.And so is the reason cant make it instance variable .  AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 8, 2, 4, 44100, false);\n\t\t\t DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n\t\t\t try{\n\t\t\t\t  targetDataLine = (TargetDataLine)AudioSystem.getLine(info) ;\n\t\t\t }\n\t\t\tcatch(LineUnavailableException e){\n\t\t\t\te.printStackTrace();\n\t\t\t}","body":"I tried doing that but I am getting targetline using  below code snippet and in my capture method I m using targetline in an inner class hence it has to be declared as final.And so is the reason cant make it instance variable .  AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 8, 2, 4, 44100, false); \t\t\t DataLine.Info info = new DataLine.Info(TargetDataLine.class, format); \t\t\t try{ \t\t\t\t  targetDataLine = (TargetDataLine)AudioSystem.getLine(info) ; \t\t\t } \t\t\tcatch(LineUnavailableException e){ \t\t\t\te.printStackTrace(); \t\t\t}"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1432622715,"post_id":30450990,"comment_id":48983729,"body_markdown":"So?  Move `targetDataLine` out of the method and declare it as a class/instance field, then both methods can access it","body":"So?  Move <code>targetDataLine</code> out of the method and declare it as a class/instance field, then both methods can access it"},{"owner":{"account_id":6364841,"reputation":21,"user_id":4939113,"display_name":"Tejas Nikhar"},"score":0,"creation_date":1432626914,"post_id":30450990,"comment_id":48986274,"body_markdown":"AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 22050, 16, 2, 4, 22050, false);\n\t  DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n\t  private final TargetDataLine targetDataLine  = (TargetDataLine)AudioSystem.getLine(info) ;                                                             I made it instance variable like above , now &quot;  private final TargetDataLine targetDataLine  = (TargetDataLine)AudioSystem.getLine(info) &quot; shows unhandled Exception for LineUnavailableException. how do I catch this exception at class level declaration.","body":"AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 22050, 16, 2, 4, 22050, false); \t  DataLine.Info info = new DataLine.Info(TargetDataLine.class, format); \t  private final TargetDataLine targetDataLine  = (TargetDataLine)AudioSystem.getLine(info) ;                                                             I made it instance variable like above , now &quot;  private final TargetDataLine targetDataLine  = (TargetDataLine)AudioSystem.getLine(info) &quot; shows unhandled Exception for LineUnavailableException. how do I catch this exception at class level declaration."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1432630009,"post_id":30450990,"comment_id":48988261,"body_markdown":"Don&#39;t create it, just declare it","body":"Don&#39;t create it, just declare it"},{"owner":{"account_id":6364841,"reputation":21,"user_id":4939113,"display_name":"Tejas Nikhar"},"score":0,"creation_date":1432634879,"post_id":30450990,"comment_id":48991644,"body_markdown":"I declared it at class level using below code snippet and now it throws Nullpointer in stop method. and the recording doesnt stop.      AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 5512, 16, 2, 4, 5512, false);\n      DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n\t  TargetDataLine targetDataLine ;                                                             targetDataline is getting created in capture method.I am calling capture method before calling stop.","body":"I declared it at class level using below code snippet and now it throws Nullpointer in stop method. and the recording doesnt stop.      AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 5512, 16, 2, 4, 5512, false);       DataLine.Info info = new DataLine.Info(TargetDataLine.class, format); \t  TargetDataLine targetDataLine ;                                                             targetDataline is getting created in capture method.I am calling capture method before calling stop."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1432635179,"post_id":30450990,"comment_id":48991827,"body_markdown":"My &quot;guess&quot; you&#39;re shadowing your variables","body":"My &quot;guess&quot; you&#39;re shadowing your variables"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652604941,"creation_date":1432635157,"answer_id":30455595,"question_id":30450990,"body_markdown":"\r\n\tprivate TargetDataLine targetDataLine;\r\n\r\n\tpublic void capture() {\r\n\r\n\t\tif (targetDataLine == null) {\r\n\r\n\t\t\ttry {\r\n\t\t\t\tAudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\r\n\t\t\t\tDataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\r\n\t\t\t\tif (!AudioSystem.isLineSupported(info)) {\r\n\t\t\t\t\tSystem.out.println(&quot;Line not supported&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttargetDataLine = (TargetDataLine) AudioSystem.getLine(info);\r\n\r\n\t\t\t\ttargetDataLine.open();\r\n\t\t\t\ttargetDataLine.start();\r\n\t\t\t\tThread thread = new Thread() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\tAudioInputStream audioStream = new AudioInputStream(targetDataLine);\r\n\t\t\t\t\t\tFile audioFile = new File(fileName);\r\n\r\n\t\t\t\t\t\tSystem.out.println(&quot;Recording is going to get saved in path :::: &quot; + audioFile.getAbsolutePath());\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tAudioSystem.write(audioStream, AudioFileFormat.Type.WAVE, audioFile);\r\n\t\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tSystem.out.println(&quot;Stopped Recording&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n                thread.start();\r\n\t\t\t} catch (LineUnavailableException e) {\r\n\t\t\t\tSystem.err.println(&quot;Line unavailable: &quot; + e);\r\n\t\t\t\tSystem.exit(-2);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void stop() {\r\n\t\tif (targetDataLine != null) {\r\n\t\t\tSystem.out.println(&quot;stop :: in stop&quot;);\r\n\t\t\ttargetDataLine.stop();\r\n\t\t\ttargetDataLine.close();\r\n\t\t\ttargetDataLine = null;\r\n\t\t}\r\n\t}\r\n","title":"Java Sound API unable to stop recording on a button click from UI of a web Application","body":"<pre><code>private TargetDataLine targetDataLine;\n\npublic void capture() {\n\n    if (targetDataLine == null) {\n\n        try {\n            AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\n            DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n            if (!AudioSystem.isLineSupported(info)) {\n                System.out.println(&quot;Line not supported&quot;);\n            }\n\n            targetDataLine = (TargetDataLine) AudioSystem.getLine(info);\n\n            targetDataLine.open();\n            targetDataLine.start();\n            Thread thread = new Thread() {\n                @Override\n                public void run() {\n                    AudioInputStream audioStream = new AudioInputStream(targetDataLine);\n                    File audioFile = new File(fileName);\n\n                    System.out.println(&quot;Recording is going to get saved in path :::: &quot; + audioFile.getAbsolutePath());\n                    try {\n                        AudioSystem.write(audioStream, AudioFileFormat.Type.WAVE, audioFile);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    System.out.println(&quot;Stopped Recording&quot;);\n                }\n            };\n            thread.start();\n        } catch (LineUnavailableException e) {\n            System.err.println(&quot;Line unavailable: &quot; + e);\n            System.exit(-2);\n        }\n    }\n}\n\npublic void stop() {\n    if (targetDataLine != null) {\n        System.out.println(&quot;stop :: in stop&quot;);\n        targetDataLine.stop();\n        targetDataLine.close();\n        targetDataLine = null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6364841,"reputation":21,"user_id":4939113,"display_name":"Tejas Nikhar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652604941,"creation_date":1432621671,"question_id":30450990,"body_markdown":"I am using Java Sound API for creating a Web Application .User Interface(UI) has a button which on click starts recording the speech ,the recorded audio is saved in an audio file (.wav ext) .UI also has a play button which accesses the same audio file and plays the recording back.\r\nCurrently I am recording the audio for a specified duration which is hardcoded in my application or getting passed from UI as a parameter while the recording starts.But now the requirement is to stop the recording on click of a button on UI.\r\n\r\nNow the issue is while capturing the audio I am opening a targetline using below code :\r\n***************************************************************************\r\n public void capture(int record_time)\r\n{\r\n\r\n\t\t\ttry {\r\n\t\t\t AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\r\n\t\t\t DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\r\n\t\t\t if(!AudioSystem.isLineSupported(info))\r\n\t\t\t {\r\n\t\t\t\t System.out.println(&quot;Line not supported&quot;);}\r\n\t\t\t \r\n\t\t\t final TargetDataLine targetDataLine =        (TargetDataLine)AudioSystem.getLine(info);\r\n\t\t\t\r\n\t\t\t targetDataLine.open();\r\n              targetDataLine.start();\r\n\t\t\t Thread thread = new Thread()\r\n\t\t\t {\r\n\t\t\t\t @Override public void run() \r\n\t\t\t\t \r\n\t\t\t\t {\r\n\t\t\t\t\t AudioInputStream audioStream = new AudioInputStream(targetDataLine);\r\n\t\t\t\t\t File audioFile = new File(fileName);\r\n\t\t\t\t\t \r\n\t\t\t\t\tSystem.out.println(&quot;Recording is going to get saved in path :::: &quot;+ audioFile.getAbsolutePath());\r\n\t\t\t\t\t try{\r\n\t\t\t\t\t\t AudioSystem.write(audioStream, AudioFileFormat.Type.WAVE, audioFile);\r\n\t\t\t\t\t }\r\n\t\t\t\t\t catch (IOException e){\r\n\t\t\t\t\t\t e.printStackTrace();\r\n\t\t\t\t\t }\r\n\t\t\t\t\t System.out.println(&quot;Stopped Recording&quot;);\r\n\t\t\t\t }\r\n\t\t\t };\r\n\t\t\t thread.start();\r\n             Thread.sleep(record_time*1000); \r\n\t\t\t targetDataLine.stop();\r\n\t\t\t targetDataLine.close();\r\n            System.out.println(&quot;Ended recording test&quot;);\r\n\t\t    } catch (LineUnavailableException e) {\r\n\t\t      System.err.println(&quot;Line unavailable: &quot; + e);\r\n\t\t      System.exit(-2);\r\n\t\t    } catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n}\r\n\r\n*****************************************************************************\r\n\r\nAbove code will stop recording once the record time is elapsed.\r\n\r\nBut I want another method like below which when invoked from jsp (stop button click) should be able to get the same targetline object which is responsible for current recording and stop the current recording.\r\n\r\n\r\nBelow code does not work for me and recording goes on \r\n*****************************************************************************\r\n\tpublic void stop(){\r\n\t\ttry{\r\n\t\t\tSystem.out.println(&quot;stop :: in stop&quot;);\r\n\t\t\t AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\r\n\t\t\t DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\r\n\t\t\t if(!AudioSystem.isLineSupported(info))\r\n\t\t\t {\r\n\t\t\t\t System.out.println(&quot;Line not supported&quot;);}\r\n\t\t\t \r\n\t\t\t final TargetDataLine targetDataLine = (TargetDataLine)AudioSystem.getLine(info);\r\n\t\t\t System.out.println(&quot;stop Recording....&quot;);\r\n\t\t\t \r\n\t\t\t System.out.println(&quot;targetDataLine.getLineInfo() in stop:::::::&quot;+targetDataLine.getLineInfo());\r\n\t\t\t System.out.println(&quot;targetDataLine.isActive() in stop:::::::&quot;+targetDataLine.isActive());\r\n\t\t\t System.out.println(&quot;targetDataLine.isOpen() in stop:::::::&quot;+targetDataLine.isOpen());\r\n\t\t\t \r\n\t\t\t targetDataLine.stop();\r\n\t\t\t targetDataLine.close();\r\n\t\t}\r\n\t\t catch (Exception e) {\r\n\t\t      System.err.println(&quot;Line unavailable: &quot; + e);\r\n\t\t }\r\n\t}\r\n*****************************************************************************\r\nPlease suggest some resolution.\r\n\r\nOne more thing that might ..not sure but might has some role to play is the way I am calling these methods from my servlet ..below is the code....\r\n\r\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\r\n\t\tString action = request.getParameter(&quot;buttonName&quot;);\r\n\t\tString record_time = request.getParameter(&quot;time&quot;);\r\n\t\tSystem.out.println(&quot;action:::&quot;+action +&quot;time in minutes:::&quot;+ record_time);\r\n\t\tint record_time_int =(Integer.parseInt(record_time));\r\n\t\tString fileName = &quot;studentXYZ.wav&quot;;\r\n\r\n\t\tSystem.out.println(&quot;action:::&quot;+action +&quot;----wavfile:::&quot;+fileName+&quot;time in minutes:::&quot;+ record_time);\r\n\r\n\t\tRecorder01 record = new Recorder01();\r\n\t\t\r\n\t\t\r\n\t\tif (action != null &amp;&amp; (action.equalsIgnoreCase(&quot;Capture&quot;)) ){\r\n\t\t\t\r\n\t\t\trecord.capture(fileName, action,record_time_int);\r\n\t                request.setAttribute(&quot;fileName&quot;, fileName);\r\n\t                request.getRequestDispatcher(&quot;/recordAudio.jsp&quot;).forward(request, response);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse if (action != null &amp;&amp; action.equalsIgnoreCase(&quot;play&quot;)) {\r\n\t\t\tRecorder01 playsound = new Recorder01();\r\n\t\t\tplaysound.play(fileName);\r\n\t\t\tSystem.out.println(&quot;finished playing recording&quot;);\r\n\t\t\trequest.setAttribute(&quot;fileName&quot;, fileName);\r\n\t\t        request.getRequestDispatcher(&quot;/recordAudio.jsp&quot;).forward(request, response);\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\telse if(action!=null &amp;&amp; action.equalsIgnoreCase(&quot;Stop&quot;)){\r\n\t\t\tSystem.out.println(&quot;stop recording called&quot;);\r\n\t\t\trecord.stop();\r\n\t\t        request.getRequestDispatcher(&quot;/recordAudio.jsp&quot;).forward(request, response);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n","title":"Java Sound API unable to stop recording on a button click from UI of a web Application","body":"<p>I am using Java Sound API for creating a Web Application .User Interface(UI) has a button which on click starts recording the speech ,the recorded audio is saved in an audio file (.wav ext) .UI also has a play button which accesses the same audio file and plays the recording back.\nCurrently I am recording the audio for a specified duration which is hardcoded in my application or getting passed from UI as a parameter while the recording starts.But now the requirement is to stop the recording on click of a button on UI.</p>\n\n<p>Now the issue is while capturing the audio I am opening a targetline using below code :</p>\n\n<hr>\n\n<p>public void capture(int record_time)\n{</p>\n\n<pre><code>        try {\n         AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\n         DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n         if(!AudioSystem.isLineSupported(info))\n         {\n             System.out.println(\"Line not supported\");}\n\n         final TargetDataLine targetDataLine =        (TargetDataLine)AudioSystem.getLine(info);\n\n         targetDataLine.open();\n          targetDataLine.start();\n         Thread thread = new Thread()\n         {\n             @Override public void run() \n\n             {\n                 AudioInputStream audioStream = new AudioInputStream(targetDataLine);\n                 File audioFile = new File(fileName);\n\n                System.out.println(\"Recording is going to get saved in path :::: \"+ audioFile.getAbsolutePath());\n                 try{\n                     AudioSystem.write(audioStream, AudioFileFormat.Type.WAVE, audioFile);\n                 }\n                 catch (IOException e){\n                     e.printStackTrace();\n                 }\n                 System.out.println(\"Stopped Recording\");\n             }\n         };\n         thread.start();\n         Thread.sleep(record_time*1000); \n         targetDataLine.stop();\n         targetDataLine.close();\n        System.out.println(\"Ended recording test\");\n        } catch (LineUnavailableException e) {\n          System.err.println(\"Line unavailable: \" + e);\n          System.exit(-2);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>}</p>\n\n<hr>\n\n<p>Above code will stop recording once the record time is elapsed.</p>\n\n<p>But I want another method like below which when invoked from jsp (stop button click) should be able to get the same targetline object which is responsible for current recording and stop the current recording.</p>\n\n<p>Below code does not work for me and recording goes on </p>\n\n<hr>\n\n<pre><code>public void stop(){\n    try{\n        System.out.println(\"stop :: in stop\");\n         AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\n         DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n         if(!AudioSystem.isLineSupported(info))\n         {\n             System.out.println(\"Line not supported\");}\n\n         final TargetDataLine targetDataLine = (TargetDataLine)AudioSystem.getLine(info);\n         System.out.println(\"stop Recording....\");\n\n         System.out.println(\"targetDataLine.getLineInfo() in stop:::::::\"+targetDataLine.getLineInfo());\n         System.out.println(\"targetDataLine.isActive() in stop:::::::\"+targetDataLine.isActive());\n         System.out.println(\"targetDataLine.isOpen() in stop:::::::\"+targetDataLine.isOpen());\n\n         targetDataLine.stop();\n         targetDataLine.close();\n    }\n     catch (Exception e) {\n          System.err.println(\"Line unavailable: \" + e);\n     }\n}\n</code></pre>\n\n<hr>\n\n<p>Please suggest some resolution.</p>\n\n<p>One more thing that might ..not sure but might has some role to play is the way I am calling these methods from my servlet ..below is the code....</p>\n\n<p>protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {</p>\n\n<pre><code>    String action = request.getParameter(\"buttonName\");\n    String record_time = request.getParameter(\"time\");\n    System.out.println(\"action:::\"+action +\"time in minutes:::\"+ record_time);\n    int record_time_int =(Integer.parseInt(record_time));\n    String fileName = \"studentXYZ.wav\";\n\n    System.out.println(\"action:::\"+action +\"----wavfile:::\"+fileName+\"time in minutes:::\"+ record_time);\n\n    Recorder01 record = new Recorder01();\n\n\n    if (action != null &amp;&amp; (action.equalsIgnoreCase(\"Capture\")) ){\n\n        record.capture(fileName, action,record_time_int);\n                request.setAttribute(\"fileName\", fileName);\n                request.getRequestDispatcher(\"/recordAudio.jsp\").forward(request, response);\n\n    }\n\n    else if (action != null &amp;&amp; action.equalsIgnoreCase(\"play\")) {\n        Recorder01 playsound = new Recorder01();\n        playsound.play(fileName);\n        System.out.println(\"finished playing recording\");\n        request.setAttribute(\"fileName\", fileName);\n            request.getRequestDispatcher(\"/recordAudio.jsp\").forward(request, response);\n\n    }\n\n    else if(action!=null &amp;&amp; action.equalsIgnoreCase(\"Stop\")){\n        System.out.println(\"stop recording called\");\n        record.stop();\n            request.getRequestDispatcher(\"/recordAudio.jsp\").forward(request, response);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","sqlite","jdbc"],"answers":[{"tags":[],"owner":{"account_id":20264645,"reputation":41,"user_id":14862158,"display_name":"Stonezarcon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652361095,"creation_date":1652361095,"answer_id":72216218,"question_id":72216003,"body_markdown":"In the picture you included your file likely isn&#39;t in the working directory. On most IDE&#39;s in the &quot;Run Configurations&quot; menu you will be able to see what your working directory is. Usually it&#39;s going to be the root folder for your project.\r\n\r\n[![Example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Dmx79.png\r\n\r\nIf you put your sqlite.db folder into the working directory you should be able to reference it as shown in your code.","title":"SQL error coming while trying to access SQLite.db","body":"<p>In the picture you included your file likely isn't in the working directory. On most IDE's in the &quot;Run Configurations&quot; menu you will be able to see what your working directory is. Usually it's going to be the root folder for your project.</p>\n<p><a href=\"https://i.stack.imgur.com/Dmx79.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dmx79.png\" alt=\"Example\" /></a></p>\n<p>If you put your sqlite.db folder into the working directory you should be able to reference it as shown in your code.</p>\n"},{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652361674,"creation_date":1652361674,"answer_id":72216388,"question_id":72216003,"body_markdown":"A SQLite database cannot reside inside a package (I assume you actually mean inside a jar file) because it would not be writable. You can distribute an initial database inside a jar but then you first have to copy it out of the jar into some location where it is writable when you lauch the application for the first time.","title":"SQL error coming while trying to access SQLite.db","body":"<p>A SQLite database cannot reside inside a package (I assume you actually mean inside a jar file) because it would not be writable. You can distribute an initial database inside a jar but then you first have to copy it out of the jar into some location where it is writable when you lauch the application for the first time.</p>\n"},{"tags":[],"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652604641,"creation_date":1652604641,"answer_id":72246820,"question_id":72216003,"body_markdown":"My problem is resolved. I had put my SQLite.DB file inside the src folder. So whenever I put a URL like this `&quot;jdbc:sqlite:SQLite.db&quot;` then it was checking it on the `C:\\Users\\absasahu\\Documents\\GitHub\\CollegeProject` directory, and it has also an SQLite.db but without any table. So, the compiler was checking this directory first, so it was showing this error. \r\nWhat did I do?\r\nI replaced this empty DB with a filled DB, and then this problem was resolved.","title":"SQL error coming while trying to access SQLite.db","body":"<p>My problem is resolved. I had put my SQLite.DB file inside the src folder. So whenever I put a URL like this <code>&quot;jdbc:sqlite:SQLite.db&quot;</code> then it was checking it on the <code>C:\\Users\\absasahu\\Documents\\GitHub\\CollegeProject</code> directory, and it has also an SQLite.db but without any table. So, the compiler was checking this directory first, so it was showing this error.\nWhat did I do?\nI replaced this empty DB with a filled DB, and then this problem was resolved.</p>\n"}],"owner":{"account_id":25061098,"reputation":39,"user_id":18915975,"display_name":"abhishek kr sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1652604641,"creation_date":1652360237,"question_id":72216003,"body_markdown":"I am trying to access my SQLite database which is in a Java package.\r\nWhen I am giving it&#39;s absolute path then it&#39;s OK, but when I am putting my db file inside java package then it isn&#39;t working. \r\nError:\r\n\r\n&gt; [SQLITE_ERROR] SQL error or missing database (no such table:\r\n&gt; FinalProjectDemo)\r\n\r\nPicture of directory is as in this picture here.\r\n https://i.stack.imgur.com/kH82o.png\r\n\r\nMy code to db connection is given below:\r\n```java\r\npackage operalogsapp;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\npublic class databaseConnection {\r\n    public static Connection con;\r\n    public static Connection getDBConnection(String username, String password, Integer portNumber, String serviceName){\t\r\n        try {\r\n            //Register the JDBC driver\r\n           System.out.println(&quot;before className&quot;); \r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n            System.out.println(con==null);\r\n            System.out.println(&quot;Registered to the JDBC driver&quot;);\r\n            \r\n            //Open the connection\r\n//            if(&quot;V50700_HOTEL&quot;.equals(username) &amp;&amp; &quot;V50700_HOTEL&quot;.equals(password) &amp;&amp; portNumber==1521 &amp;&amp; &quot;opera&quot;.equals(serviceName)){\r\n//                con=DriverManager.getConnection(&quot;jdbc:sqlite:C:\\\\Users\\\\absasahu\\\\Documents\\\\db\\\\sqlite.db&quot;);\r\n                   con=DriverManager.getConnection(&quot;jdbc:sqlite:SQLite.db&quot;);\r\n// here in this line i am going wrong.\r\n                System.out.println(&quot;DriverManager connected to db&quot;);\r\n//            }\r\n\r\n        } catch (ClassNotFoundException | SQLException ex) {\r\n            System.out.println(&quot;Exception : &quot;+ex);\r\n            //Logger.getLogger(dbCoonectionCode.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        System.out.println(&quot;DFHUDSBFSDF&quot;);\r\n        return con;  \r\n    }   \r\n}\r\n\r\n```\r\nI tried these ways but they don&#39;t work.\r\n```\r\n&quot;jdbc:sqlite:C:\\\\Users\\\\absasahu\\\\Documents\\\\db\\\\sqlite.db&quot;\r\n// this works only when my db file is in this location\r\n```\r\nNote: \r\nI want my project to export in the jar file. So, want to include DB inside. Please help me out with suggestions.\r\n\r\n  \r\n\r\n\r\n  \r\n\r\n\r\n  ","title":"SQL error coming while trying to access SQLite.db","body":"<p>I am trying to access my SQLite database which is in a Java package.\nWhen I am giving it's absolute path then it's OK, but when I am putting my db file inside java package then it isn't working.\nError:</p>\n<blockquote>\n<p>[SQLITE_ERROR] SQL error or missing database (no such table:\nFinalProjectDemo)</p>\n</blockquote>\n<p>Picture of directory is as in this picture here.\n<a href=\"https://i.stack.imgur.com/kH82o.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/kH82o.png</a></p>\n<p>My code to db connection is given below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package operalogsapp;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\npublic class databaseConnection {\n    public static Connection con;\n    public static Connection getDBConnection(String username, String password, Integer portNumber, String serviceName){ \n        try {\n            //Register the JDBC driver\n           System.out.println(&quot;before className&quot;); \n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n            System.out.println(con==null);\n            System.out.println(&quot;Registered to the JDBC driver&quot;);\n            \n            //Open the connection\n//            if(&quot;V50700_HOTEL&quot;.equals(username) &amp;&amp; &quot;V50700_HOTEL&quot;.equals(password) &amp;&amp; portNumber==1521 &amp;&amp; &quot;opera&quot;.equals(serviceName)){\n//                con=DriverManager.getConnection(&quot;jdbc:sqlite:C:\\\\Users\\\\absasahu\\\\Documents\\\\db\\\\sqlite.db&quot;);\n                   con=DriverManager.getConnection(&quot;jdbc:sqlite:SQLite.db&quot;);\n// here in this line i am going wrong.\n                System.out.println(&quot;DriverManager connected to db&quot;);\n//            }\n\n        } catch (ClassNotFoundException | SQLException ex) {\n            System.out.println(&quot;Exception : &quot;+ex);\n            //Logger.getLogger(dbCoonectionCode.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        System.out.println(&quot;DFHUDSBFSDF&quot;);\n        return con;  \n    }   \n}\n\n</code></pre>\n<p>I tried these ways but they don't work.</p>\n<pre><code>&quot;jdbc:sqlite:C:\\\\Users\\\\absasahu\\\\Documents\\\\db\\\\sqlite.db&quot;\n// this works only when my db file is in this location\n</code></pre>\n<p>Note:\nI want my project to export in the jar file. So, want to include DB inside. Please help me out with suggestions.</p>\n"},{"tags":["java","controller","aop"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1651895369,"post_id":72141348,"comment_id":127479246,"body_markdown":"It would be better if an [MCVE](https://stackoverflow.com/help/minimal-reproducible-example) could be shared . I would recommend you separate out the aspect code from the controller class. The code shared is a mix-up of a lot of unrelated annotations which itself makes it hard to read and understand the cause. Do share a minimal code which reproduces the issue .","body":"It would be better if an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a> could be shared . I would recommend you separate out the aspect code from the controller class. The code shared is a mix-up of a lot of unrelated annotations which itself makes it hard to read and understand the cause. Do share a minimal code which reproduces the issue ."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1652019432,"post_id":72141348,"comment_id":127499425,"body_markdown":"Your code is a mash-up of things which ought to be separated. For instance, your class `Aspect` has no `@Aspect` or `@Component` annotations and does not do anything even remotely resembling an aspect. What is its purpose? Please also rename it, so as not to confuse the class name with the `@Aspect` annotation. Even worse, `CommonController` is 3 things at once: a controller, an aspect and a configuration class. Those 3 should be separate. Also, a response body is not a pointcut and an aspect advice at the same time. This is just total chaos, with all due respect.","body":"Your code is a mash-up of things which ought to be separated. For instance, your class <code>Aspect</code> has no <code>@Aspect</code> or <code>@Component</code> annotations and does not do anything even remotely resembling an aspect. What is its purpose? Please also rename it, so as not to confuse the class name with the <code>@Aspect</code> annotation. Even worse, <code>CommonController</code> is 3 things at once: a controller, an aspect and a configuration class. Those 3 should be separate. Also, a response body is not a pointcut and an aspect advice at the same time. This is just total chaos, with all due respect."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1652519201,"post_id":72141348,"comment_id":127629372,"body_markdown":"Please be polite enough to reply, if other community members spend time, commenting on your question, trying to help you. If you do not answer any questions, how can we know if your problem is solved or you have any follow-up problems when adjusting the code according to our hints? The question will remain open forever, which is not helpful to anyone.","body":"Please be polite enough to reply, if other community members spend time, commenting on your question, trying to help you. If you do not answer any questions, how can we know if your problem is solved or you have any follow-up problems when adjusting the code according to our hints? The question will remain open forever, which is not helpful to anyone."},{"owner":{"account_id":17496824,"reputation":1070,"user_id":12687879,"display_name":"Dulani Maheshi"},"score":0,"creation_date":1652591519,"post_id":72141348,"comment_id":127640343,"body_markdown":"Extremely sorry @kriegaex. Previous couple of days, I was not active in this platform. I have added the answer for my issue. Thanks for your advice and the support.","body":"Extremely sorry @kriegaex. Previous couple of days, I was not active in this platform. I have added the answer for my issue. Thanks for your advice and the support."}],"answers":[{"tags":[],"owner":{"account_id":17496824,"reputation":1070,"user_id":12687879,"display_name":"Dulani Maheshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652604522,"creation_date":1652591393,"answer_id":72245645,"question_id":72141348,"body_markdown":"I solved my issue. There was an issue with my Aspect class. I didn&#39;t add relevant annotations to that class. I was able to solve the issue after adding those annotations to the Aspect class and removing unwanted annotations from controller class. \r\n       \r\n    \r\n     package com.intervest.medical.aggregator;\r\n        \r\n        import org.slf4j.Logger;\r\n        import org.slf4j.LoggerFactory;\r\n        \r\n        @org.aspectj.lang.annotation.Aspect\r\n        @Component\r\n        public class Aspect {\r\n            private Logger logger = LoggerFactory.getLogger(this.getClass());\r\n        \r\n            public void aspect() {\r\n                logger.info(&quot;FFFFFFFFFFFFF {} | request {} | registerParam {}&quot;, &quot;RETURNVALUE&quot;, &quot;request&quot;, &quot;registerParam&quot;);\r\n          \r\n    \r\n      }\r\n    }","title":"Error creating bean with name &#39;org.springframework.transaction.annotation. error at ::0 formal unbound in pointcut Spring AOP","body":"<p>I solved my issue. There was an issue with my Aspect class. I didn't add relevant annotations to that class. I was able to solve the issue after adding those annotations to the Aspect class and removing unwanted annotations from controller class.</p>\n<pre><code> package com.intervest.medical.aggregator;\n    \n    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    \n    @org.aspectj.lang.annotation.Aspect\n    @Component\n    public class Aspect {\n        private Logger logger = LoggerFactory.getLogger(this.getClass());\n    \n        public void aspect() {\n            logger.info(&quot;FFFFFFFFFFFFF {} | request {} | registerParam {}&quot;, &quot;RETURNVALUE&quot;, &quot;request&quot;, &quot;registerParam&quot;);\n      \n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":17496824,"reputation":1070,"user_id":12687879,"display_name":"Dulani Maheshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5553,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1652604522,"creation_date":1651839415,"question_id":72141348,"body_markdown":"I&#39;m facing an error that mentioned below, related to Spring Aspect Oriented Programming. \r\n\r\n\r\n    2022-05-06 17:26:44 ERROR org.springframework.boot.SpringApplication.java Line 826: Application run failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;projectingArgumentResolverBeanPostProcessor&#39; defined in class path resource [org/springframework/data/web/config/ProjectingArgumentResolverRegistrar.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut \r\n\r\nPreviously I used applicationContext.xml file. But after I added @Configuration annotation to the CommonController class and removed applicationContext.xml file. I just search some solutions and apply to my code, but still didn&#39;t clear my issue.  Hope your support and attach my code below, thank you.\r\n\r\nAspect.java\r\n\r\n    package com.intervest.medical.aggregator;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class Aspect {\r\n        private Logger logger = LoggerFactory.getLogger(this.getClass());\r\n    \r\n        public void aspect() {\r\n            logger.info(&quot;FFFFFFFFFFFFF {} | request {} | registerParam {}&quot;, &quot;RETURNVALUE&quot;, &quot;request&quot;, &quot;registerParam&quot;);\r\n        }\r\n    }\r\n\r\nCommonController.java\r\n\r\n        package com.intervest.medical.aggregator.controller;\r\n        \r\n        import com.healix.blackboxdirect.ArrayOfString;\r\n        import com.healix.blackboxdirect.DirectServiceSoap;\r\n        import com.intervest.medical.engine.domain.*;\r\n        import com.intervest.medical.engine.service.*;\r\n        import com.intervest.medical.engine.util.*;\r\n        import com.intervest.medical.engine.constants.RegisterError;\r\n        import com.intervest.medical.engine.constants.RegisterState;\r\n        import com.intervest.medical.engine.dto.ValidationDTO;\r\n        import com.intervest.medical.engine.dto.XmlResultDTO;\r\n        import com.intervest.medical.engine.enums.Stub;\r\n        import org.apache.commons.lang.StringUtils;\r\n        import org.aspectj.lang.annotation.After;\r\n        import org.aspectj.lang.annotation.Aspect;\r\n        import org.aspectj.lang.annotation.Before;\r\n        import org.aspectj.lang.annotation.Pointcut;\r\n        import org.slf4j.Logger;\r\n        import org.slf4j.LoggerFactory;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.context.annotation.Configuration;\r\n        import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n        import org.springframework.stereotype.Controller;\r\n        import org.springframework.web.bind.annotation.*;\r\n        \r\n        import javax.servlet.http.HttpServletRequest;\r\n        import java.util.*;\r\n        \r\n        @Controller\r\n        @Aspect\r\n        @Configuration\r\n        public class CommonController {\r\n        \r\n            private static final Logger LOG = LoggerFactory.getLogger(CommonController.class);\r\n        \r\n            @Autowired\r\n            ScreeningProxyService screeningProxyService;\r\n        \r\n            @Autowired\r\n            MedicalDataKeeperService medicalDataKeeperService;\r\n        \r\n            @Autowired\r\n            private MedicalUrlService medicalUrlService;\r\n        \r\n            @Autowired\r\n            private MedicalConstantsService medicalConstantsService;\r\n        \r\n            @Autowired\r\n            private MedicalConfigService medicalConfigService;\r\n        \r\n            @ResponseBody\r\n            @Pointcut(&quot;within(com.intervest.medical.aggregator.Aspect.*)&quot;)\r\n            @Before(&quot;reScreenAndGetXmls(@RequestBody RegisterParam registerParam)&quot;)\r\n            @RequestMapping(value = &quot;/medical/screeningData/register&quot;, method = RequestMethod.POST)\r\n            public RegisterResult doScreen(HttpServletRequest request, @RequestBody RegisterParam registerParam) {\r\n        \r\n                ValidationDTO intiValidationDTO = screeningProxyService.initialValidation(registerParam, false);\r\n                if (!intiValidationDTO.isSuccess()) {\r\n                    return new RegisterResult(null, intiValidationDTO.getErrMsg());\r\n                }\r\n        \r\n                 ........................\r\n    }\r\n\r\nApplication.java\r\n\r\n      public static void main(String[] args) throws Exception {\r\n            SpringApplication springApplication = new SpringApplication(Application.class);\r\n            springApplication.setBannerMode(Banner.Mode.OFF);\r\n            Environment environment = springApplication.run(args).getEnvironment();\r\n            ApplicationContext applicationContext = SpringApplication.run(Application.class, args);\r\n            Aspect e = (Aspect) applicationContext.getBean(&quot;Aspect&quot;);\r\n            e.aspect();\r\n    \r\n    }\r\n\r\n  ","title":"Error creating bean with name &#39;org.springframework.transaction.annotation. error at ::0 formal unbound in pointcut Spring AOP","body":"<p>I'm facing an error that mentioned below, related to Spring Aspect Oriented Programming.</p>\n<pre><code>2022-05-06 17:26:44 ERROR org.springframework.boot.SpringApplication.java Line 826: Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectingArgumentResolverBeanPostProcessor' defined in class path resource [org/springframework/data/web/config/ProjectingArgumentResolverRegistrar.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut \n</code></pre>\n<p>Previously I used applicationContext.xml file. But after I added @Configuration annotation to the CommonController class and removed applicationContext.xml file. I just search some solutions and apply to my code, but still didn't clear my issue.  Hope your support and attach my code below, thank you.</p>\n<p>Aspect.java</p>\n<pre><code>package com.intervest.medical.aggregator;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Aspect {\n    private Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    public void aspect() {\n        logger.info(&quot;FFFFFFFFFFFFF {} | request {} | registerParam {}&quot;, &quot;RETURNVALUE&quot;, &quot;request&quot;, &quot;registerParam&quot;);\n    }\n}\n</code></pre>\n<p>CommonController.java</p>\n<pre><code>    package com.intervest.medical.aggregator.controller;\n    \n    import com.healix.blackboxdirect.ArrayOfString;\n    import com.healix.blackboxdirect.DirectServiceSoap;\n    import com.intervest.medical.engine.domain.*;\n    import com.intervest.medical.engine.service.*;\n    import com.intervest.medical.engine.util.*;\n    import com.intervest.medical.engine.constants.RegisterError;\n    import com.intervest.medical.engine.constants.RegisterState;\n    import com.intervest.medical.engine.dto.ValidationDTO;\n    import com.intervest.medical.engine.dto.XmlResultDTO;\n    import com.intervest.medical.engine.enums.Stub;\n    import org.apache.commons.lang.StringUtils;\n    import org.aspectj.lang.annotation.After;\n    import org.aspectj.lang.annotation.Aspect;\n    import org.aspectj.lang.annotation.Before;\n    import org.aspectj.lang.annotation.Pointcut;\n    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\n    import org.springframework.stereotype.Controller;\n    import org.springframework.web.bind.annotation.*;\n    \n    import javax.servlet.http.HttpServletRequest;\n    import java.util.*;\n    \n    @Controller\n    @Aspect\n    @Configuration\n    public class CommonController {\n    \n        private static final Logger LOG = LoggerFactory.getLogger(CommonController.class);\n    \n        @Autowired\n        ScreeningProxyService screeningProxyService;\n    \n        @Autowired\n        MedicalDataKeeperService medicalDataKeeperService;\n    \n        @Autowired\n        private MedicalUrlService medicalUrlService;\n    \n        @Autowired\n        private MedicalConstantsService medicalConstantsService;\n    \n        @Autowired\n        private MedicalConfigService medicalConfigService;\n    \n        @ResponseBody\n        @Pointcut(&quot;within(com.intervest.medical.aggregator.Aspect.*)&quot;)\n        @Before(&quot;reScreenAndGetXmls(@RequestBody RegisterParam registerParam)&quot;)\n        @RequestMapping(value = &quot;/medical/screeningData/register&quot;, method = RequestMethod.POST)\n        public RegisterResult doScreen(HttpServletRequest request, @RequestBody RegisterParam registerParam) {\n    \n            ValidationDTO intiValidationDTO = screeningProxyService.initialValidation(registerParam, false);\n            if (!intiValidationDTO.isSuccess()) {\n                return new RegisterResult(null, intiValidationDTO.getErrMsg());\n            }\n    \n             ........................\n}\n</code></pre>\n<p>Application.java</p>\n<pre><code>  public static void main(String[] args) throws Exception {\n        SpringApplication springApplication = new SpringApplication(Application.class);\n        springApplication.setBannerMode(Banner.Mode.OFF);\n        Environment environment = springApplication.run(args).getEnvironment();\n        ApplicationContext applicationContext = SpringApplication.run(Application.class, args);\n        Aspect e = (Aspect) applicationContext.getBean(&quot;Aspect&quot;);\n        e.aspect();\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest","httpclient"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1652374189,"post_id":72219395,"comment_id":127596457,"body_markdown":"please show some code &amp; where does issue comes","body":"please show some code &amp; where does issue comes"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652394340,"post_id":72219395,"comment_id":127602459,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25275229,"reputation":1,"user_id":19103983,"display_name":"Srijith M"},"score":0,"creation_date":1652602164,"post_id":72219395,"comment_id":127641698,"body_markdown":"@AshishPatil sure will do that","body":"@AshishPatil sure will do that"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652604262,"creation_date":1652604262,"answer_id":72246777,"question_id":72219395,"body_markdown":"`setServiceUnavailabilityRetryStrategy` needs `ServiceUnavailableRetryStrategy` instance. I am not seeing you have set it correctly. You might need to do following inside `newClient` :\r\n\r\n\r\n    return HttpClients.custom()\r\n       .disableAutomaticRetries().setServiceUnavailabilityRetryStrategy(new ServiceUnavailableRetryStrategy() {\t\t\t\t\t\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic boolean retryRequest(HttpResponse response, int executionCount, HttpContext context) {\r\n    \t\t\t\t\t\treturn executionCount &lt; = maxRetryCount &amp;&amp; resp.getStatusLine().getStatusCode() == HttpStatus.TOO_MANY_REQUESTS.value();;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic long getRetryInterval() {\r\n    \t\t\t\t\t\treturn 0; //you can set intervanl based on your need\r\n    \t\t\t\t\t}\t\t\t\t\t\r\n    \t\t\t\t}).setConnectionManager().setKeepAliveStrategy()\r\n       .build();\r\n\r\n\r\nMoreover, by this way, you don&#39;t really need to define `HttpServiceUnavailabilityStrategy ` class.","title":"Retryrequest() of httpClient method not invoked during Rest API call","body":"<p><code>setServiceUnavailabilityRetryStrategy</code> needs <code>ServiceUnavailableRetryStrategy</code> instance. I am not seeing you have set it correctly. You might need to do following inside <code>newClient</code> :</p>\n<pre><code>return HttpClients.custom()\n   .disableAutomaticRetries().setServiceUnavailabilityRetryStrategy(new ServiceUnavailableRetryStrategy() {                 \n                    @Override\n                    public boolean retryRequest(HttpResponse response, int executionCount, HttpContext context) {\n                        return executionCount &lt; = maxRetryCount &amp;&amp; resp.getStatusLine().getStatusCode() == HttpStatus.TOO_MANY_REQUESTS.value();;\n                    }\n                    @Override\n                    public long getRetryInterval() {\n                        return 0; //you can set intervanl based on your need\n                    }                   \n                }).setConnectionManager().setKeepAliveStrategy()\n   .build();\n</code></pre>\n<p>Moreover, by this way, you don't really need to define <code>HttpServiceUnavailabilityStrategy </code> class.</p>\n"}],"owner":{"account_id":25275229,"reputation":1,"user_id":19103983,"display_name":"Srijith M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652604262,"creation_date":1652374113,"question_id":72219395,"body_markdown":"The Rest API responds with 429 error code and the retry has to trigger 3 times .But the control isn&#39;t reaching the retryrequestethod of HttpRequestretryHandler class. Any specific reason for this ? Pseudo code below:-\r\n\r\n    @Override protected CloseableHttpClient newClient() {\r\n     return HttpClients.custom()\r\n       .disableAutomaticRetries().setServiceUnavailabilityRetryStrategy(retryCount,retryIntervalinMillis).setConnectionManager().setKeepAliveStrategy()\r\n       .build();\r\n    }\r\n\r\n    @Bean\r\n    public RestTemplate resttemplate(){\r\n       return new ResttemplateBuilder().requestFactory(this::clientHttpRequestFactory).build();\r\n    }\r\n\r\n        private static Class HttpServiceUnavailabilityStrategy implements ServiceUnavailabilityStrategy{\r\n    @Override\r\n    public boolean retryrequest(HttpResponse resp,int executionCount,HttpContext){\r\n    return executionCount &lt; = maxRetryCount &amp;&amp; resp.getStatusLine().getStatusCode() == HttpStatus.TOO_MANY_REQUESTS.value();\r\n    \r\n        }\r\n\r\n\r\n","title":"Retryrequest() of httpClient method not invoked during Rest API call","body":"<p>The Rest API responds with 429 error code and the retry has to trigger 3 times .But the control isn't reaching the retryrequestethod of HttpRequestretryHandler class. Any specific reason for this ? Pseudo code below:-</p>\n<pre><code>@Override protected CloseableHttpClient newClient() {\n return HttpClients.custom()\n   .disableAutomaticRetries().setServiceUnavailabilityRetryStrategy(retryCount,retryIntervalinMillis).setConnectionManager().setKeepAliveStrategy()\n   .build();\n}\n\n@Bean\npublic RestTemplate resttemplate(){\n   return new ResttemplateBuilder().requestFactory(this::clientHttpRequestFactory).build();\n}\n\n    private static Class HttpServiceUnavailabilityStrategy implements ServiceUnavailabilityStrategy{\n@Override\npublic boolean retryrequest(HttpResponse resp,int executionCount,HttpContext){\nreturn executionCount &lt; = maxRetryCount &amp;&amp; resp.getStatusLine().getStatusCode() == HttpStatus.TOO_MANY_REQUESTS.value();\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":263968,"reputation":6799,"user_id":549913,"accept_rate":79,"display_name":"renanleandrof"},"score":0,"creation_date":1652461849,"post_id":72230836,"comment_id":127620393,"body_markdown":"Can you add your Spring Security config?","body":"Can you add your Spring Security config?"},{"owner":{"account_id":263968,"reputation":6799,"user_id":549913,"accept_rate":79,"display_name":"renanleandrof"},"score":0,"creation_date":1652461871,"post_id":72230836,"comment_id":127620400,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":22125140,"reputation":11,"user_id":18964995,"display_name":"Yan Zaitsau"},"score":0,"creation_date":1652521116,"post_id":72230836,"comment_id":127629666,"body_markdown":"added secure config","body":"added secure config"}],"answers":[{"tags":[],"owner":{"account_id":22125140,"reputation":11,"user_id":18964995,"display_name":"Yan Zaitsau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652604201,"creation_date":1652604201,"answer_id":72246764,"question_id":72230836,"body_markdown":"I saw how I made controller User(method home()) and remade for a method showCart() in ShoppingCartController\r\n\r\n    @GetMapping(&quot;/cart&quot;)\r\n    public String showCart(Model model){\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        User user = userService.findUserByEmail(auth.getName());\r\n        if(user==null) System.out.println(&quot;User is null&quot;);\r\n        List&lt;CartItem&gt; cartItemList=cartService.cartItemList(user);\r\n        model.addAttribute(&quot;cartItems&quot;,cartItemList);\r\n        return &quot;user/cart&quot;;\r\n    }\r\n\r\nNow the /cart link displays the product link for the current user\r\n(Sorry for my English)","title":"How to get an object of current user in Spring Boot+JPA","body":"<p>I saw how I made controller User(method home()) and remade for a method showCart() in ShoppingCartController</p>\n<pre><code>@GetMapping(&quot;/cart&quot;)\npublic String showCart(Model model){\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n    User user = userService.findUserByEmail(auth.getName());\n    if(user==null) System.out.println(&quot;User is null&quot;);\n    List&lt;CartItem&gt; cartItemList=cartService.cartItemList(user);\n    model.addAttribute(&quot;cartItems&quot;,cartItemList);\n    return &quot;user/cart&quot;;\n}\n</code></pre>\n<p>Now the /cart link displays the product link for the current user\n(Sorry for my English)</p>\n"}],"owner":{"account_id":22125140,"reputation":11,"user_id":18964995,"display_name":"Yan Zaitsau"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72246764,"answer_count":1,"score":0,"last_activity_date":1652604201,"creation_date":1652450498,"question_id":72230836,"body_markdown":"I need to create shopping cart. I have a model CartItem:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;cart_items&quot;)\r\n    public class CartItem {\r\n     @Id\r\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n     private int id;\r\n\r\n     @ManyToOne\r\n     @JoinColumn(name = &quot;tour_id&quot;)\r\n     private Tour tour;\r\n\r\n     @ManyToOne\r\n     @JoinColumn(name = &quot;user_id&quot;)\r\n     private User user;\r\n\r\n     @Column(name = &quot;order_date&quot;)\r\n     private Date date=new Date();\r\n     //getters and setters\r\n    }\r\n\r\nModel User:\r\n\r\n    package com.zaitsava.springboot_touristsite.entity;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.Set;\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n        @Column(name = &quot;firstname&quot;)\r\n        private String firstname;\r\n    \r\n        @Column(name = &quot;lastname&quot;)\r\n        private String lastname;\r\n    \r\n        @Column(name = &quot;patronymic&quot;)\r\n        private String patronymic;\r\n    \r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n    \r\n        @Column(name = &quot;phone&quot;)\r\n        private String phone;\r\n    \r\n        @Column(name = &quot;password&quot;)\r\n        private String password;\r\n    \r\n        @Column(name = &quot;active&quot;)\r\n        private int active;\r\n    \r\n        @ManyToMany(cascade=CascadeType.ALL)\r\n        @JoinTable(name=&quot;user_role&quot;, joinColumns=@JoinColumn(name=&quot;user_id&quot;),\r\n                inverseJoinColumns=@JoinColumn(name=&quot;role_id&quot;))\r\n        private Set&lt;Role&gt; roles;\r\n        //gettes and setters\r\n    }\r\n\r\n\r\nRepository:\r\n\r\n\r\n    public interface CartItemRepository extends JpaRepository&lt;CartItem,Integer&gt; {\r\n        public List&lt;CartItem&gt; findByUser(User user);\r\n    }\r\n\r\n    @Service\r\n    public class ShoppingCartService {\r\n        @Autowired\r\n        private CartItemRepository cartItemRepository;\r\n    \r\n        public List&lt;CartItem&gt; cartItemList(User user){\r\n            return cartItemRepository.findByUser(user);\r\n        };}\r\n\r\nNow I&#39;m trying to get the user and pass it to view:\r\n\r\n     @GetMapping(&quot;/cart&quot;)\r\n        public String showCart(Model model,@AuthenticationPrincipal User user){\r\n            //User user = (User) auth.getPrincipal();  try 2\r\n            //User user=(User) SecurityContextHolder.getContext().getAuthentication().getPrincipal(); try 3\r\n            if(user==null) System.out.println(&quot;User is null&quot;);\r\n    \r\n            List&lt;CartItem&gt; cartItemList=cartService.cartItemList(user);\r\n            model.addAttribute(&quot;cartItems&quot;,cartItemList);\r\n            return &quot;user/cart&quot;;\r\n        }\r\n\r\nIn the first case I get null value, in case 2 and 3:\r\n&gt; java.lang.ClassCastException: class\r\n&gt; org.springframework.security.core.userdetails.User cannot be cast to\r\n&gt; class com.zaitsava.springboot_touristsite.entity.User\r\n&gt; (org.springframework.security.core.userdetails.User and\r\n&gt; com.zaitsava.springboot_touristsite.entity.User are in unnamed module\r\n&gt; of loader &#39;app&#39;)-\r\n\r\nI know that I should register AuthenticationPrincipalArgumentResolver, but how do it in Spring Boot? And is it need?\r\n\r\n**Update** \r\nconfiguration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        @Autowired\r\n        private DataSource dataSource;\r\n    \r\n        private final String USERS_QUERY = &quot;select email, password, active from user where email=?&quot;;\r\n        private final String ROLES_QUERY = &quot;select u.email, r.role from user u inner join user_role ur on (u.id = ur.user_id) inner join role r on (ur.role_id=r.role_id) where u.email=?&quot;;\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.jdbcAuthentication()\r\n                    .usersByUsernameQuery(USERS_QUERY)\r\n                    .authoritiesByUsernameQuery(ROLES_QUERY)\r\n                    .dataSource(dataSource)\r\n                    .passwordEncoder(bCryptPasswordEncoder);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                    .antMatchers(&quot;/&quot;).permitAll()\r\n                    .antMatchers(&quot;/user/cart&quot;).authenticated()\r\n                    .antMatchers(&quot;/login&quot;).permitAll()\r\n                    .antMatchers(&quot;/signup&quot;).permitAll()\r\n                    .antMatchers(&quot;favicon.ico&quot;).permitAll()\r\n                   /* .antMatchers(&quot;/admin/**&quot;).access(&quot;hasRole(&#39;ADMIN&#39;)&quot;)*/\r\n                    .antMatchers(&quot;/main/**&quot;).hasAuthority(&quot;ADMIN&quot;).anyRequest()\r\n                    .authenticated().and().csrf().disable()\r\n                    .formLogin().loginPage(&quot;/login&quot;).permitAll().failureUrl(&quot;/login?error=true&quot;)\r\n                    .defaultSuccessUrl(&quot;/&quot;)\r\n                    .usernameParameter(&quot;email&quot;)\r\n                    .passwordParameter(&quot;password&quot;)\r\n                    .and().logout()\r\n                    .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                    .logoutSuccessUrl(&quot;/&quot;)\r\n                    .and().rememberMe()\r\n                    .tokenRepository(persistentTokenRepository())\r\n                    .tokenValiditySeconds(60 * 60)\r\n                    .and().exceptionHandling().accessDeniedPage(&quot;/access_denied&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void configure(WebSecurity web) throws Exception {\r\n            web.ignoring()\r\n                    .antMatchers(&quot;/images/**&quot;)\r\n                    .antMatchers(&quot;/fonts/**&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public PersistentTokenRepository persistentTokenRepository() {\r\n            JdbcTokenRepositoryImpl db = new JdbcTokenRepositoryImpl();\r\n            db.setDataSource(dataSource);\r\n    \r\n            return db;\r\n        }\r\n    }\r\nUser Controller:\r\n\r\n    package com.zaitsava.springboot_touristsite.controller;\r\n    \r\n    \r\n    import javax.validation.Valid;\r\n    \r\n    import com.zaitsava.springboot_touristsite.entity.User;\r\n    import com.zaitsava.springboot_touristsite.service.UserService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @GetMapping(&quot;/signup&quot;)\r\n        public ModelAndView signup() {\r\n            ModelAndView model = new ModelAndView();\r\n            User user = new User();\r\n            model.addObject(&quot;user&quot;, user);\r\n            model.setViewName(&quot;user/signup&quot;);\r\n            return model;\r\n        }\r\n    \r\n        @PostMapping(&quot;/signup&quot;)\r\n        public ModelAndView createUser(@Valid User user, BindingResult bindingResult) {\r\n            ModelAndView model = new ModelAndView();\r\n            User userExists = userService.findUserByEmail(user.getEmail());\r\n    \r\n            if(userExists != null) {\r\n                bindingResult.rejectValue(&quot;email&quot;, &quot;error.user&quot;, &quot;User with this email exists&quot;);\r\n            }\r\n            if(bindingResult.hasErrors()) {\r\n                model.setViewName(&quot;user/signup&quot;);\r\n            } else {\r\n                userService.saveUser(user);\r\n                model.addObject(&quot;msg&quot;, &quot;User succesful register!&quot;);\r\n                model.addObject(&quot;user&quot;, new User());\r\n                model.setViewName(&quot;redirect:home/main&quot;);\r\n            }\r\n    \r\n            return model;\r\n        }\r\n    \r\n    \r\n    \r\n        @GetMapping(&quot;/home/main&quot;)\r\n        public ModelAndView home() {\r\n            ModelAndView model = new ModelAndView();\r\n            Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n            User user = userService.findUserByEmail(auth.getName());\r\n    \r\n            model.addObject(&quot;userName&quot;, &quot;Hello,&quot;+user.getFirstname() + &quot; &quot; + user.getLastname()+&quot; &quot;+user.getPatronymic());\r\n            model.setViewName(&quot;redirect:/&quot;);\r\n            return model;\r\n        }\r\n    \r\n        @GetMapping(&quot;/access_denied&quot;)\r\n        public ModelAndView accessDenied() {\r\n            ModelAndView model = new ModelAndView();\r\n            model.setViewName(&quot;errors/access_denied&quot;);\r\n            return model;\r\n        }\r\n    }","title":"How to get an object of current user in Spring Boot+JPA","body":"<p>I need to create shopping cart. I have a model CartItem:</p>\n<pre><code>@Entity\n@Table(name = &quot;cart_items&quot;)\npublic class CartItem {\n @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private int id;\n\n @ManyToOne\n @JoinColumn(name = &quot;tour_id&quot;)\n private Tour tour;\n\n @ManyToOne\n @JoinColumn(name = &quot;user_id&quot;)\n private User user;\n\n @Column(name = &quot;order_date&quot;)\n private Date date=new Date();\n //getters and setters\n}\n</code></pre>\n<p>Model User:</p>\n<pre><code>package com.zaitsava.springboot_touristsite.entity;\n\nimport javax.persistence.*;\nimport java.util.Set;\n\n\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @Column(name = &quot;firstname&quot;)\n    private String firstname;\n\n    @Column(name = &quot;lastname&quot;)\n    private String lastname;\n\n    @Column(name = &quot;patronymic&quot;)\n    private String patronymic;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;phone&quot;)\n    private String phone;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;active&quot;)\n    private int active;\n\n    @ManyToMany(cascade=CascadeType.ALL)\n    @JoinTable(name=&quot;user_role&quot;, joinColumns=@JoinColumn(name=&quot;user_id&quot;),\n            inverseJoinColumns=@JoinColumn(name=&quot;role_id&quot;))\n    private Set&lt;Role&gt; roles;\n    //gettes and setters\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface CartItemRepository extends JpaRepository&lt;CartItem,Integer&gt; {\n    public List&lt;CartItem&gt; findByUser(User user);\n}\n\n@Service\npublic class ShoppingCartService {\n    @Autowired\n    private CartItemRepository cartItemRepository;\n\n    public List&lt;CartItem&gt; cartItemList(User user){\n        return cartItemRepository.findByUser(user);\n    };}\n</code></pre>\n<p>Now I'm trying to get the user and pass it to view:</p>\n<pre><code> @GetMapping(&quot;/cart&quot;)\n    public String showCart(Model model,@AuthenticationPrincipal User user){\n        //User user = (User) auth.getPrincipal();  try 2\n        //User user=(User) SecurityContextHolder.getContext().getAuthentication().getPrincipal(); try 3\n        if(user==null) System.out.println(&quot;User is null&quot;);\n\n        List&lt;CartItem&gt; cartItemList=cartService.cartItemList(user);\n        model.addAttribute(&quot;cartItems&quot;,cartItemList);\n        return &quot;user/cart&quot;;\n    }\n</code></pre>\n<p>In the first case I get null value, in case 2 and 3:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class\norg.springframework.security.core.userdetails.User cannot be cast to\nclass com.zaitsava.springboot_touristsite.entity.User\n(org.springframework.security.core.userdetails.User and\ncom.zaitsava.springboot_touristsite.entity.User are in unnamed module\nof loader 'app')-</p>\n</blockquote>\n<p>I know that I should register AuthenticationPrincipalArgumentResolver, but how do it in Spring Boot? And is it need?</p>\n<p><strong>Update</strong>\nconfiguration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    private DataSource dataSource;\n\n    private final String USERS_QUERY = &quot;select email, password, active from user where email=?&quot;;\n    private final String ROLES_QUERY = &quot;select u.email, r.role from user u inner join user_role ur on (u.id = ur.user_id) inner join role r on (ur.role_id=r.role_id) where u.email=?&quot;;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.jdbcAuthentication()\n                .usersByUsernameQuery(USERS_QUERY)\n                .authoritiesByUsernameQuery(ROLES_QUERY)\n                .dataSource(dataSource)\n                .passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .antMatchers(&quot;/user/cart&quot;).authenticated()\n                .antMatchers(&quot;/login&quot;).permitAll()\n                .antMatchers(&quot;/signup&quot;).permitAll()\n                .antMatchers(&quot;favicon.ico&quot;).permitAll()\n               /* .antMatchers(&quot;/admin/**&quot;).access(&quot;hasRole('ADMIN')&quot;)*/\n                .antMatchers(&quot;/main/**&quot;).hasAuthority(&quot;ADMIN&quot;).anyRequest()\n                .authenticated().and().csrf().disable()\n                .formLogin().loginPage(&quot;/login&quot;).permitAll().failureUrl(&quot;/login?error=true&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .and().logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/&quot;)\n                .and().rememberMe()\n                .tokenRepository(persistentTokenRepository())\n                .tokenValiditySeconds(60 * 60)\n                .and().exceptionHandling().accessDeniedPage(&quot;/access_denied&quot;);\n\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring()\n                .antMatchers(&quot;/images/**&quot;)\n                .antMatchers(&quot;/fonts/**&quot;);\n    }\n\n    @Bean\n    public PersistentTokenRepository persistentTokenRepository() {\n        JdbcTokenRepositoryImpl db = new JdbcTokenRepositoryImpl();\n        db.setDataSource(dataSource);\n\n        return db;\n    }\n}\n</code></pre>\n<p>User Controller:</p>\n<pre><code>package com.zaitsava.springboot_touristsite.controller;\n\n\nimport javax.validation.Valid;\n\nimport com.zaitsava.springboot_touristsite.entity.User;\nimport com.zaitsava.springboot_touristsite.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/signup&quot;)\n    public ModelAndView signup() {\n        ModelAndView model = new ModelAndView();\n        User user = new User();\n        model.addObject(&quot;user&quot;, user);\n        model.setViewName(&quot;user/signup&quot;);\n        return model;\n    }\n\n    @PostMapping(&quot;/signup&quot;)\n    public ModelAndView createUser(@Valid User user, BindingResult bindingResult) {\n        ModelAndView model = new ModelAndView();\n        User userExists = userService.findUserByEmail(user.getEmail());\n\n        if(userExists != null) {\n            bindingResult.rejectValue(&quot;email&quot;, &quot;error.user&quot;, &quot;User with this email exists&quot;);\n        }\n        if(bindingResult.hasErrors()) {\n            model.setViewName(&quot;user/signup&quot;);\n        } else {\n            userService.saveUser(user);\n            model.addObject(&quot;msg&quot;, &quot;User succesful register!&quot;);\n            model.addObject(&quot;user&quot;, new User());\n            model.setViewName(&quot;redirect:home/main&quot;);\n        }\n\n        return model;\n    }\n\n\n\n    @GetMapping(&quot;/home/main&quot;)\n    public ModelAndView home() {\n        ModelAndView model = new ModelAndView();\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        User user = userService.findUserByEmail(auth.getName());\n\n        model.addObject(&quot;userName&quot;, &quot;Hello,&quot;+user.getFirstname() + &quot; &quot; + user.getLastname()+&quot; &quot;+user.getPatronymic());\n        model.setViewName(&quot;redirect:/&quot;);\n        return model;\n    }\n\n    @GetMapping(&quot;/access_denied&quot;)\n    public ModelAndView accessDenied() {\n        ModelAndView model = new ModelAndView();\n        model.setViewName(&quot;errors/access_denied&quot;);\n        return model;\n    }\n}\n</code></pre>\n"},{"tags":["java","session","jwt","authorization","microservices"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1652602196,"post_id":72246555,"comment_id":127641704,"body_markdown":"Actually, the JWT pattern is intended to largely eliminate the need to maintain any sort of session state.  As a simplification, you may view the JWT as a passport which exists independent of any microservice.","body":"Actually, the JWT pattern is intended to largely eliminate the need to maintain any sort of session state.  As a simplification, you may view the JWT as a passport which exists independent of any microservice."},{"owner":{"account_id":12058100,"reputation":317,"user_id":8818110,"accept_rate":40,"display_name":"ScorprocS"},"score":1,"creation_date":1652606566,"post_id":72246555,"comment_id":127642432,"body_markdown":"If all your microservices are running in only one server or running in a private network you could just manage the JWT token in one gateway or inside user mangement micro service and use the user id in other micorservices rest endpoint or events messages to react to loggedin user actions that&#39;s what we have done in the company i&#39;m working for.\nIf your micro services are reachable from the outside you could use a micro service to generate and check the validity and sources of the JWT and on each request on microservice you could check the validity of the JWT but it would decrease your perfs","body":"If all your microservices are running in only one server or running in a private network you could just manage the JWT token in one gateway or inside user mangement micro service and use the user id in other micorservices rest endpoint or events messages to react to loggedin user actions that&#39;s what we have done in the company i&#39;m working for. If your micro services are reachable from the outside you could use a micro service to generate and check the validity and sources of the JWT and on each request on microservice you could check the validity of the JWT but it would decrease your perfs"},{"owner":{"account_id":12058100,"reputation":317,"user_id":8818110,"accept_rate":40,"display_name":"ScorprocS"},"score":0,"creation_date":1652606877,"post_id":72246555,"comment_id":127642480,"body_markdown":"There is an other way that will not decrease performance is to share the JWT secret on each micro services and each micro service will be able to check the token but only one could be able to generate one. The issue with that approche is to spread the JWT secret everywhere.","body":"There is an other way that will not decrease performance is to share the JWT secret on each micro services and each micro service will be able to check the token but only one could be able to generate one. The issue with that approche is to spread the JWT secret everywhere."},{"owner":{"account_id":4838196,"reputation":101,"user_id":9715520,"display_name":"Rahul"},"score":0,"creation_date":1652607720,"post_id":72246555,"comment_id":127642616,"body_markdown":"@ScorprocS does that mean if manage the JWT token in one gateway, we need to pass the userId to the other microservices as one of the request parameters?","body":"@ScorprocS does that mean if manage the JWT token in one gateway, we need to pass the userId to the other microservices as one of the request parameters?"},{"owner":{"account_id":12058100,"reputation":317,"user_id":8818110,"accept_rate":40,"display_name":"ScorprocS"},"score":0,"creation_date":1652608010,"post_id":72246555,"comment_id":127642658,"body_markdown":"Yes you could pass the user id in request param, url param or body param that&#39;s up to you.","body":"Yes you could pass the user id in request param, url param or body param that&#39;s up to you."},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1653630725,"post_id":72246555,"comment_id":127901881,"body_markdown":"Yes as per the links you mentioned, you can see that JWT tokens are nothing but a result of an authenticated entity (in simple terms a user) , Hence, authentication can be done at a central level and for API authorization, you must pass JWT token ( Which is divided in 3 parts) in the header of API request. Non secure APIs can omit this functionality !","body":"Yes as per the links you mentioned, you can see that JWT tokens are nothing but a result of an authenticated entity (in simple terms a user) , Hence, authentication can be done at a central level and for API authorization, you must pass JWT token ( Which is divided in 3 parts) in the header of API request. Non secure APIs can omit this functionality !"}],"owner":{"account_id":4838196,"reputation":101,"user_id":9715520,"display_name":"Rahul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652603406,"creation_date":1652602080,"question_id":72246555,"body_markdown":"What I have understood so far is that managing session across microservices can be implemented using JWT which can be verifies at the API gateway level.\r\n\r\nTo some extend this https://stackoverflow.com/questions/59656650/microservices-session-managin \r\n and https://stackoverflow.com/questions/38099204/session-management-using-json-web-tokens-in-microservices clears the doubts\r\n\r\nHowever, do one needs to propagate the JWT across microservices to maintain the session. I mean let&#39;s say microservice A handles profiles and microservice B handles payments(or some other functionality). Does the token need to be propagated explicitly from A to B? \r\n\r\nHow is the session maintained across microservices?\r\n\r\n\r\n","title":"How is session management done in microservices in java?","body":"<p>What I have understood so far is that managing session across microservices can be implemented using JWT which can be verifies at the API gateway level.</p>\n<p>To some extend this <a href=\"https://stackoverflow.com/questions/59656650/microservices-session-managin\">microservices session managing</a>\nand <a href=\"https://stackoverflow.com/questions/38099204/session-management-using-json-web-tokens-in-microservices\">Session management using json web tokens in microservices</a> clears the doubts</p>\n<p>However, do one needs to propagate the JWT across microservices to maintain the session. I mean let's say microservice A handles profiles and microservice B handles payments(or some other functionality). Does the token need to be propagated explicitly from A to B?</p>\n<p>How is the session maintained across microservices?</p>\n"},{"tags":["java","pdf"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1652603066,"post_id":72246633,"comment_id":127641845,"body_markdown":"Why do you think just concatenating byte arrays would somehow merge the PDF files into one? I don&#39;t know much about PDF, but I&#39;m pretty sure the PDF format defines where it ends, so it will not read beyond the content of the first file (as an aside, in your code you&#39;re not actually doing that, you&#39;re only creating an empty array of the size of the other two arrays)","body":"Why do you think just concatenating byte arrays would somehow merge the PDF files into one? I don&#39;t know much about PDF, but I&#39;m pretty sure the PDF format defines where it ends, so it will not read beyond the content of the first file (as an aside, in your code you&#39;re not actually doing that, you&#39;re only creating an empty array of the size of the other two arrays)"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1652603474,"post_id":72246633,"comment_id":127641906,"body_markdown":"PDF has a complex structure, so you need a dedicated library to do that.","body":"PDF has a complex structure, so you need a dedicated library to do that."}],"owner":{"account_id":24201654,"reputation":71,"user_id":18159400,"display_name":"Teja K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652603210,"answer_count":0,"score":0,"last_activity_date":1652603162,"creation_date":1652602742,"question_id":72246633,"body_markdown":"Below are my two byte arrays and am concating or merging two byte array but am always getting pdf1 as a output file merge is not happening.\r\n\r\n    byte[] pdfData = this.service.generatePdf1(Id, countryid, extno,language);;\r\n    byte[] pdfData1 = this.service.generatePdf2(templateType, qe.getProductId(), countryid,language);;\r\n    \r\n    byte[] pdf= new byte[pdfData.length + pdfData1.length];","title":"How to merge or concat to byte [ ] arrays of PDF&#39;s type in java but am getting pdf1 as output","body":"<p>Below are my two byte arrays and am concating or merging two byte array but am always getting pdf1 as a output file merge is not happening.</p>\n<pre><code>byte[] pdfData = this.service.generatePdf1(Id, countryid, extno,language);;\nbyte[] pdfData1 = this.service.generatePdf2(templateType, qe.getProductId(), countryid,language);;\n\nbyte[] pdf= new byte[pdfData.length + pdfData1.length];\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1652602886,"creation_date":1359728165,"answer_id":14648250,"question_id":14648224,"body_markdown":"Change your `List` such that it accepts a **Person object** instead of a `String`.\r\n\r\n    List&lt;Person&gt; customer = new ArrayList&lt;Person&gt;();\r\n    Person person = ......;\r\n    customer.add(person);\r\n","title":"How do I store an object in ArrayList?","body":"<p>Change your <code>List</code> such that it accepts a <strong>Person object</strong> instead of a <code>String</code>.</p>\n<pre><code>List&lt;Person&gt; customer = new ArrayList&lt;Person&gt;();\nPerson person = ......;\ncustomer.add(person);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1596371"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359728175,"creation_date":1359728175,"answer_id":14648252,"question_id":14648224,"body_markdown":"In that case you need to use `ArrayList&lt;Person&gt;`","title":"How do I store an object in ArrayList?","body":"<p>In that case you need to use <code>ArrayList&lt;Person&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359728248,"creation_date":1359728248,"answer_id":14648273,"question_id":14648224,"body_markdown":"You need to use a `List` with a different generic type.  Since the generic type specified on your current `List` is `String` it will only allow you to add objects of type `String` into the list.\r\n\r\n    List&lt;Person&gt; customer = new ArrayList&lt;Person&gt;();\r\n\r\nI would also recommend using the `List` interface in case the need would arise to switch to a different implementation such as `LinkedList`.","title":"How do I store an object in ArrayList?","body":"<p>You need to use a <code>List</code> with a different generic type.  Since the generic type specified on your current <code>List</code> is <code>String</code> it will only allow you to add objects of type <code>String</code> into the list.</p>\n\n<pre><code>List&lt;Person&gt; customer = new ArrayList&lt;Person&gt;();\n</code></pre>\n\n<p>I would also recommend using the <code>List</code> interface in case the need would arise to switch to a different implementation such as <code>LinkedList</code>.</p>\n"},{"tags":[],"owner":{"account_id":55050,"reputation":190509,"user_id":164835,"accept_rate":80,"display_name":"Kent"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359728278,"creation_date":1359728278,"answer_id":14648283,"question_id":14648224,"body_markdown":"    ArrayList&lt;String&gt; customer = new ArrayList&lt;String&gt;();\r\n\r\nin this way you defined that the arrayList `customer` accept type `String` only.\r\n\r\n    ArrayList&lt;Person&gt; customer = new ArrayList&lt;Person&gt;(); \r\n\r\nthis will only accept object with `Person` type (and subType of Person).","title":"How do I store an object in ArrayList?","body":"<pre><code>ArrayList&lt;String&gt; customer = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>in this way you defined that the arrayList <code>customer</code> accept type <code>String</code> only.</p>\n\n<pre><code>ArrayList&lt;Person&gt; customer = new ArrayList&lt;Person&gt;(); \n</code></pre>\n\n<p>this will only accept object with <code>Person</code> type (and subType of Person).</p>\n"},{"tags":[],"owner":{"account_id":2315671,"reputation":1,"user_id":2032798,"display_name":"user2032798"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359728281,"creation_date":1359728281,"answer_id":14648284,"question_id":14648224,"body_markdown":"If you want to add an object to an array list you would have to reference that object in the list type. IE: `ArrayList&lt;Person&gt; customer = new ArrayList&lt;Person&gt;();`","title":"How do I store an object in ArrayList?","body":"<p>If you want to add an object to an array list you would have to reference that object in the list type. IE: <code>ArrayList&lt;Person&gt; customer = new ArrayList&lt;Person&gt;();</code></p>\n"},{"tags":[],"owner":{"account_id":2141983,"reputation":4309,"user_id":1900417,"accept_rate":75,"display_name":"Donato Szilagyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359728656,"creation_date":1359728290,"answer_id":14648289,"question_id":14648224,"body_markdown":"Alternatively, if you insist on `ArrayList&lt;String&gt; customer`, then implement a `toString()` method in your Person class.\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Person[name=&quot; + name + &quot;,pNr=&quot; + pNr +&quot;]&quot;;\r\n    }\r\n\r\nThen you can use:\r\n\r\n    customer.add(person.toString())","title":"How do I store an object in ArrayList?","body":"<p>Alternatively, if you insist on <code>ArrayList&lt;String&gt; customer</code>, then implement a <code>toString()</code> method in your Person class.</p>\n\n<pre><code>@Override\npublic String toString() {\n    return \"Person[name=\" + name + \",pNr=\" + pNr +\"]\";\n}\n</code></pre>\n\n<p>Then you can use:</p>\n\n<pre><code>customer.add(person.toString())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1344349,"reputation":141,"user_id":1285369,"display_name":"Ste"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359728483,"creation_date":1359728483,"answer_id":14648352,"question_id":14648224,"body_markdown":"define a class Person\r\n\r\n    public class Person(){\r\n\t\tprivate String name;\r\n\t\tprivate long pNr;\r\n\t\tpublic String getName(){\r\n\t\t\treturn name;\r\n\t\t}\r\n\t\tpublic void setName(String name){\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t\tpublic long getPNR(){\r\n\t\t\treturn pNr;\r\n\t\t}\r\n\t\tpublic void setPNR(long pNr){\r\n\t\t\tthis.pNr = pNr;\r\n\t\t}\r\n\t}\r\n\r\nthen you use a:\r\n\r\n    ArrayList&lt;Person&gt; customer = new ArrayList&lt;Person&gt;();","title":"How do I store an object in ArrayList?","body":"<p>define a class Person</p>\n\n<pre><code>public class Person(){\n    private String name;\n    private long pNr;\n    public String getName(){\n        return name;\n    }\n    public void setName(String name){\n        this.name = name;\n    }\n    public long getPNR(){\n        return pNr;\n    }\n    public void setPNR(long pNr){\n        this.pNr = pNr;\n    }\n}\n</code></pre>\n\n<p>then you use a:</p>\n\n<pre><code>ArrayList&lt;Person&gt; customer = new ArrayList&lt;Person&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1702915,"reputation":11261,"user_id":1562558,"accept_rate":60,"display_name":"Festus Tamakloe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359728747,"creation_date":1359728747,"answer_id":14648446,"question_id":14648224,"body_markdown":"Look at this\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Tester4 {\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \r\n    \t\tList&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\r\n    \r\n    \t\tPerson person = new Person();\r\n    \t\tperson.setName(&quot;Tester&quot;);\r\n    \t\tperson.setPersonNr(1245L);\r\n    \t\tpersons.add(person);\r\n    \r\n    \t\tperson = new Person();\r\n    \t\tperson.setName(&quot;Tester 2&quot;);\r\n    \t\tperson.setPersonNr(1299L);\r\n    \t\tpersons.add(person);\r\n    \t}\r\n    }\r\n    \r\n    class Person {\r\n    \r\n    \tprivate String name;\r\n    \r\n    \tprivate Long personNr;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic Long getPersonNr() {\r\n    \t\treturn personNr;\r\n    \t}\r\n    \r\n    \tpublic void setPersonNr(Long personNr) {\r\n    \t\tthis.personNr = personNr;\r\n    \t}\r\n    \r\n    }","title":"How do I store an object in ArrayList?","body":"<p>Look at this</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Tester4 {\n\n    public static void main(String args[]) {\n\n        List&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\n\n        Person person = new Person();\n        person.setName(\"Tester\");\n        person.setPersonNr(1245L);\n        persons.add(person);\n\n        person = new Person();\n        person.setName(\"Tester 2\");\n        person.setPersonNr(1299L);\n        persons.add(person);\n    }\n}\n\nclass Person {\n\n    private String name;\n\n    private Long personNr;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Long getPersonNr() {\n        return personNr;\n    }\n\n    public void setPersonNr(Long personNr) {\n        this.personNr = personNr;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1500194,"reputation":3358,"user_id":1405120,"display_name":"ThePCWizard"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1497579930,"creation_date":1359728783,"answer_id":14648459,"question_id":14648224,"body_markdown":"Person Class\r\n\r\n    public class Person {\t\t\r\n        String name;\r\n        long pNr;    \r\n   \r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public long getPNR() {\r\n            return pNr;\r\n        }\r\n\t\r\n\t    public void setPNR(long pNr) {\r\n            this.pNr = pNr;\r\n        }\t\r\n    }\r\n\r\nCreating a Person Object\r\n\t\r\n\tPerson person = new Person();\r\n\tperson.setName(&quot;Name&quot;);\r\n\tperson.setPNR(pNr);\r\n\r\nAdding to ArrayList\r\n\t\r\n\tArrayList&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\r\n\tpersonList.add(person);\r\n\r\nRetrieving Data\r\n\r\n\tString selectedName = personList.get(i).getName();","title":"How do I store an object in ArrayList?","body":"<p>Person Class</p>\n\n<pre><code>public class Person {       \n    String name;\n    long pNr;    \n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public long getPNR() {\n        return pNr;\n    }\n\n    public void setPNR(long pNr) {\n        this.pNr = pNr;\n    }   \n}\n</code></pre>\n\n<p>Creating a Person Object</p>\n\n<pre><code>Person person = new Person();\nperson.setName(\"Name\");\nperson.setPNR(pNr);\n</code></pre>\n\n<p>Adding to ArrayList</p>\n\n<pre><code>ArrayList&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\npersonList.add(person);\n</code></pre>\n\n<p>Retrieving Data</p>\n\n<pre><code>String selectedName = personList.get(i).getName();\n</code></pre>\n"}],"owner":{"account_id":1505073,"reputation":139,"user_id":1408645,"display_name":"tssmid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87935,"favorite_count":0,"down_vote_count":3,"up_vote_count":9,"closed_date":1359766963,"accepted_answer_id":14648250,"answer_count":9,"score":6,"last_activity_date":1652602886,"creation_date":1359728107,"question_id":14648224,"body_markdown":"I&#39;m trying to store an object person in an ArrayList.\r\n\r\nI have an `ArrayList&lt;String&gt; customer = new ArrayList&lt;String&gt;();`\r\n\r\nThe object &#39;person&#39; has two variables: name (String) and pNr (long).\r\nI have tried to simply add it: `customer.add(person)` but that doesn&#39;t seem to work.\r\n\r\nTo clarify: I don&#39;t want to store the variables individually. I want to store the entire object person in the ArrayList.\r\n\r\nI simply can&#39;t figure out how to engage this problem or even if it can be done.\r\n\r\nCan someone point me in the right direction?","title":"How do I store an object in ArrayList?","body":"<p>I'm trying to store an object person in an ArrayList.</p>\n\n<p>I have an <code>ArrayList&lt;String&gt; customer = new ArrayList&lt;String&gt;();</code></p>\n\n<p>The object 'person' has two variables: name (String) and pNr (long).\nI have tried to simply add it: <code>customer.add(person)</code> but that doesn't seem to work.</p>\n\n<p>To clarify: I don't want to store the variables individually. I want to store the entire object person in the ArrayList.</p>\n\n<p>I simply can't figure out how to engage this problem or even if it can be done.</p>\n\n<p>Can someone point me in the right direction?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1563651866,"post_id":57128017,"comment_id":100772610,"body_markdown":"&quot;*will it make any difference?*&quot; - Yes. --- &quot;*why?*&quot; - If the return value is not stored, no stack memory is allocated on the calling side.","body":"&quot;<i>will it make any difference?</i>&quot; - Yes. --- &quot;<i>why?</i>&quot; - If the return value is not stored, no stack memory is allocated on the calling side."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1563652058,"post_id":57128017,"comment_id":100772641,"body_markdown":"If you don&#39;t want the value returned by the method, what would be the purpose of calling `dummy()`?","body":"If you don&#39;t want the value returned by the method, what would be the purpose of calling <code>dummy()</code>?"},{"owner":{"account_id":3417238,"reputation":2089,"user_id":2865757,"display_name":"Zefick"},"score":3,"creation_date":1563652186,"post_id":57128017,"comment_id":100772663,"body_markdown":"It doesn&#39;t make any difference in results. It&#39;s a common practice to ignore values returned from functions like `List.remove`, `Map.put` etc.","body":"It doesn&#39;t make any difference in results. It&#39;s a common practice to ignore values returned from functions like <code>List.remove</code>, <code>Map.put</code> etc."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1563654299,"post_id":57128017,"comment_id":100773045,"body_markdown":"&quot;*Is it necessary to store...*&quot; if you don&#39;t need it, you do not need to store it","body":"&quot;<i>Is it necessary to store...</i>&quot; if you don&#39;t need it, you do not need to store it"}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1563654145,"creation_date":1563652220,"answer_id":57128074,"question_id":57128017,"body_markdown":"It will still compile, but (assuming that the method is just called in isolation) it&#39;ll be pointless, since you can never use the value returned. (At a deeper level, and depending on implementation, it&#39;s possible the JVM may optimise away the method call entirely.)\r\n\r\nIf however you do `int a  = dummy();`, then you can later reference that variable, eg. `System.out.println(a);` will print out its value.\r\n\r\nIf your method had another side effect other than returning a value, such as:\r\n\r\n    public int dummy(){\r\n        System.out.println(&quot;hello&quot;);\r\n        return 1;\r\n    }\r\n\r\n...then calling it without assigning its result to a variable wouldn&#39;t be pointless, since the side effect would still occur (printing &quot;hello&quot; in this case). While some argue this is poor design, this sometimes occurs in practice in the Java libraries - you could call `createnewFile()` on a `File` object for instance and ignore its returned boolean value (which will tell you whether the file was created or not.)","title":"Is it necessary to store a value from a method which is returning a value in java?","body":"<p>It will still compile, but (assuming that the method is just called in isolation) it'll be pointless, since you can never use the value returned. (At a deeper level, and depending on implementation, it's possible the JVM may optimise away the method call entirely.)</p>\n\n<p>If however you do <code>int a  = dummy();</code>, then you can later reference that variable, eg. <code>System.out.println(a);</code> will print out its value.</p>\n\n<p>If your method had another side effect other than returning a value, such as:</p>\n\n<pre><code>public int dummy(){\n    System.out.println(\"hello\");\n    return 1;\n}\n</code></pre>\n\n<p>...then calling it without assigning its result to a variable wouldn't be pointless, since the side effect would still occur (printing \"hello\" in this case). While some argue this is poor design, this sometimes occurs in practice in the Java libraries - you could call <code>createnewFile()</code> on a <code>File</code> object for instance and ignore its returned boolean value (which will tell you whether the file was created or not.)</p>\n"},{"tags":[],"owner":{"account_id":16264823,"reputation":170,"user_id":11745225,"display_name":"Batuhan Tosyalı"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563653554,"creation_date":1563653554,"answer_id":57128219,"question_id":57128017,"body_markdown":"These two are both true statements, but the difference is, when you use \r\n\r\n    dummy()\r\nthis will call the function in the program, but since you are returning a value, it is pointless ( considering you will keep the value )\r\n\r\nWhen you use \r\n\r\n    int a = dummy()\r\nYou will create an integer named a in order to store the output ( return value ) of the function, which you can reuse any time.","title":"Is it necessary to store a value from a method which is returning a value in java?","body":"<p>These two are both true statements, but the difference is, when you use </p>\n\n<pre><code>dummy()\n</code></pre>\n\n<p>this will call the function in the program, but since you are returning a value, it is pointless ( considering you will keep the value )</p>\n\n<p>When you use </p>\n\n<pre><code>int a = dummy()\n</code></pre>\n\n<p>You will create an integer named a in order to store the output ( return value ) of the function, which you can reuse any time.</p>\n"},{"tags":[],"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1563655061,"creation_date":1563655061,"answer_id":57128404,"question_id":57128017,"body_markdown":"No, it wouldn&#39;t make any difference. We call a ton of methods from the JDK ignoring their outputs - List&#39;s `.remove(int index)` removes the element at a given index, and returns what element was removed. It is normal to ignore it and move ahead.\r\n","title":"Is it necessary to store a value from a method which is returning a value in java?","body":"<p>No, it wouldn't make any difference. We call a ton of methods from the JDK ignoring their outputs - List's <code>.remove(int index)</code> removes the element at a given index, and returns what element was removed. It is normal to ignore it and move ahead.</p>\n"}],"owner":{"account_id":8642582,"reputation":111,"user_id":6470829,"display_name":"Prakhar Khandelwal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1664,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":57128404,"answer_count":3,"score":5,"last_activity_date":1652602821,"creation_date":1563651751,"question_id":57128017,"body_markdown":"Let suppose I have a method \r\n\r\n    public int dummy(){\r\n      return 1;\r\n    }\r\n\r\nand if I call this method by \r\n\r\n    dummy();\r\n\r\n\r\nnot \r\n\r\n    int a  = dummy();\r\n\r\n\r\nwill it make any difference? why?","title":"Is it necessary to store a value from a method which is returning a value in java?","body":"<p>Let suppose I have a method</p>\n<pre><code>public int dummy(){\n  return 1;\n}\n</code></pre>\n<p>and if I call this method by</p>\n<pre><code>dummy();\n</code></pre>\n<p>not</p>\n<pre><code>int a  = dummy();\n</code></pre>\n<p>will it make any difference? why?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":4,"creation_date":1567962453,"post_id":57843982,"comment_id":102115335,"body_markdown":"Your problem description is contradicting itself. When your code throws an exception (and I dont see how it could do that) ... how can you **also** have something being printed?! Especially given the fact ... that there is NO print statement in your code. So: please read [mcve] and update your question accordingly. And either drop the exception part, or include the exact stack trace you got, telling us which line it supposedly comes from.","body":"Your problem description is contradicting itself. When your code throws an exception (and I dont see how it could do that) ... how can you <b>also</b> have something being printed?! Especially given the fact ... that there is NO print statement in your code. So: please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and update your question accordingly. And either drop the exception part, or include the exact stack trace you got, telling us which line it supposedly comes from."},{"owner":{"account_id":16016366,"reputation":11,"user_id":11558986,"display_name":"Synda S"},"score":0,"creation_date":1567962752,"post_id":57843982,"comment_id":102115401,"body_markdown":"alright, chill out","body":"alright, chill out"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1567962846,"post_id":57843982,"comment_id":102115426,"body_markdown":"Just saying: when you want our help, you need to be precise about your problem. The &quot;better&quot; your input the easier it is to help you, and the faster you will receive helpful feedback.","body":"Just saying: when you want our help, you need to be precise about your problem. The &quot;better&quot; your input the easier it is to help you, and the faster you will receive helpful feedback."}],"answers":[{"tags":[],"owner":{"account_id":7981456,"reputation":567,"user_id":6022626,"display_name":"Suraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567967512,"creation_date":1567967512,"answer_id":57844706,"question_id":57843982,"body_markdown":"You are calling `scnr.nextDouble();` six times in your main function. Make sure you provide six arguments of type **double** when running your program. Currently, you are passing less that six arguments and `scnr.nextDouble();` is throwing the exception as it could not find the next argument of type double.","title":"2 method Exception in thread &quot;main&quot; java.util.NoSuchElementException","body":"<p>You are calling <code>scnr.nextDouble();</code> six times in your main function. Make sure you provide six arguments of type <strong>double</strong> when running your program. Currently, you are passing less that six arguments and <code>scnr.nextDouble();</code> is throwing the exception as it could not find the next argument of type double.</p>\n"},{"tags":[],"owner":{"account_id":18893846,"reputation":21,"user_id":13783491,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593049877,"creation_date":1593046306,"answer_id":62566211,"question_id":57843982,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class LabProgram {\r\n       \r\n       /* Define your method here */\r\n       public static double drivingCost(double drivenMiles, double milesPerGallon, double dollarsPerGallon) {\r\n          double totalCost = (dollarsPerGallon * drivenMiles / milesPerGallon);\r\n          return totalCost;\r\n    }\r\n       \r\n       public static void main(String[] args) {\r\n          /* Type your code here. */\r\n          Scanner scnr = new Scanner(System.in);\r\n          double milesPerGallon = scnr.nextDouble();\r\n          double dollarsPerGallon = scnr.nextDouble();\r\n          double drivenMiles = 1;\r\n          System.out.printf(&quot;%.2f &quot;, drivingCost(drivenMiles, milesPerGallon, dollarsPerGallon) * 10);\r\n          System.out.printf(&quot;%.2f &quot;, drivingCost(drivenMiles, milesPerGallon, dollarsPerGallon) * 50);\r\n          System.out.printf(&quot;%.2f\\n&quot;, drivingCost(drivenMiles, milesPerGallon, dollarsPerGallon) * 400);\r\n       }\r\n    }","title":"2 method Exception in thread &quot;main&quot; java.util.NoSuchElementException","body":"<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   \n   /* Define your method here */\n   public static double drivingCost(double drivenMiles, double milesPerGallon, double dollarsPerGallon) {\n      double totalCost = (dollarsPerGallon * drivenMiles / milesPerGallon);\n      return totalCost;\n}\n   \n   public static void main(String[] args) {\n      /* Type your code here. */\n      Scanner scnr = new Scanner(System.in);\n      double milesPerGallon = scnr.nextDouble();\n      double dollarsPerGallon = scnr.nextDouble();\n      double drivenMiles = 1;\n      System.out.printf(&quot;%.2f &quot;, drivingCost(drivenMiles, milesPerGallon, dollarsPerGallon) * 10);\n      System.out.printf(&quot;%.2f &quot;, drivingCost(drivenMiles, milesPerGallon, dollarsPerGallon) * 50);\n      System.out.printf(&quot;%.2f\\n&quot;, drivingCost(drivenMiles, milesPerGallon, dollarsPerGallon) * 400);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24150062,"reputation":1,"user_id":18115062,"display_name":"Anne Tidwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646877743,"creation_date":1646877743,"answer_id":71418019,"question_id":57843982,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class LabProgram {\r\n       public static double drivingCost(double milesPerGallon, double dollarsPerGallon, double drivenMiles) {\r\n      return (drivenMiles / milesPerGallon) * dollarsPerGallon;\r\n    }\r\n   \r\n    public static void main(String[] args) {\r\n      Scanner input = new Scanner(System.in);\r\n      double milesPerGallon, dollarsPerGallon;\r\n      \r\n      milesPerGallon = input.nextDouble();\r\n      dollarsPerGallon = input.nextDouble();\r\n      \r\n      System.out.printf(&quot;%.2f &quot;, drivingCost(milesPerGallon, dollarsPerGallon, 10));\r\n      System.out.printf(&quot;%.2f &quot;, drivingCost(milesPerGallon, dollarsPerGallon, 50));\r\n      System.out.printf(&quot;%.2f\\n&quot;, drivingCost(milesPerGallon, dollarsPerGallon, 400));\r\n      \r\n        }\r\n    }","title":"2 method Exception in thread &quot;main&quot; java.util.NoSuchElementException","body":"<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   public static double drivingCost(double milesPerGallon, double dollarsPerGallon, double drivenMiles) {\n  return (drivenMiles / milesPerGallon) * dollarsPerGallon;\n}\n\npublic static void main(String[] args) {\n  Scanner input = new Scanner(System.in);\n  double milesPerGallon, dollarsPerGallon;\n  \n  milesPerGallon = input.nextDouble();\n  dollarsPerGallon = input.nextDouble();\n  \n  System.out.printf(&quot;%.2f &quot;, drivingCost(milesPerGallon, dollarsPerGallon, 10));\n  System.out.printf(&quot;%.2f &quot;, drivingCost(milesPerGallon, dollarsPerGallon, 50));\n  System.out.printf(&quot;%.2f\\n&quot;, drivingCost(milesPerGallon, dollarsPerGallon, 400));\n  \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19018387,"reputation":27,"user_id":13882912,"display_name":"Derek Pruitt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652600563,"creation_date":1652469099,"answer_id":72234433,"question_id":57843982,"body_markdown":"drivenMiles divided by milesPerGallon then multiplying by dollarsPerGallon will give you the price of gas per mile driven.\r\nNote: drivenMiles just needs to be passed to drivingCost in this case. That is why the integers 10, 50 and 400 are added to call.\r\n\r\nsince drivingCost has the parameters milesPerGallon, dollarsPerGallon and drivenMiles in that order, you have to call the method with the same order of the parameters.\r\n\r\n&quot;%.2f&quot; will get two decimals to the right. Adding \\n will start a new line afterward.\r\n \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n   \r\n   public static double drivingCost(double milesPerGallon, double dollarsPerGallon, double drivenMiles) {\r\n      // calcuating the cost of gas\r\n      double totalCost = (drivenMiles / milesPerGallon) * dollarsPerGallon;\r\n      return totalCost;\r\n    \r\n   }\r\n   \r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      double milesPerGallon;\r\n      double dollarsPerGallon;\r\n      milesPerGallon = scnr.nextDouble();\r\n      dollarsPerGallon = scnr.nextDouble();\r\n      // order of the call to the method is important, printing cost of gas for 10, 50, and 400 miles\r\n      System.out.printf(&quot;%.2f &quot;,drivingCost(milesPerGallon, dollarsPerGallon, 10));\r\n      System.out.printf(&quot;%.2f &quot;,drivingCost(milesPerGallon, dollarsPerGallon, 50));\r\n      System.out.printf(&quot;%.2f\\n&quot;,drivingCost(milesPerGallon, dollarsPerGallon, 400));\r\n   }\r\n}\r\n\r\n```","title":"2 method Exception in thread &quot;main&quot; java.util.NoSuchElementException","body":"<p>drivenMiles divided by milesPerGallon then multiplying by dollarsPerGallon will give you the price of gas per mile driven.\nNote: drivenMiles just needs to be passed to drivingCost in this case. That is why the integers 10, 50 and 400 are added to call.</p>\n<p>since drivingCost has the parameters milesPerGallon, dollarsPerGallon and drivenMiles in that order, you have to call the method with the same order of the parameters.</p>\n<p>&quot;%.2f&quot; will get two decimals to the right. Adding \\n will start a new line afterward.</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   \n   public static double drivingCost(double milesPerGallon, double dollarsPerGallon, double drivenMiles) {\n      // calcuating the cost of gas\n      double totalCost = (drivenMiles / milesPerGallon) * dollarsPerGallon;\n      return totalCost;\n    \n   }\n   \n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      double milesPerGallon;\n      double dollarsPerGallon;\n      milesPerGallon = scnr.nextDouble();\n      dollarsPerGallon = scnr.nextDouble();\n      // order of the call to the method is important, printing cost of gas for 10, 50, and 400 miles\n      System.out.printf(&quot;%.2f &quot;,drivingCost(milesPerGallon, dollarsPerGallon, 10));\n      System.out.printf(&quot;%.2f &quot;,drivingCost(milesPerGallon, dollarsPerGallon, 50));\n      System.out.printf(&quot;%.2f\\n&quot;,drivingCost(milesPerGallon, dollarsPerGallon, 400));\n   }\n}\n\n</code></pre>\n"}],"owner":{"account_id":16016366,"reputation":11,"user_id":11558986,"display_name":"Synda S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6332,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1652600563,"creation_date":1567962016,"question_id":57843982,"body_markdown":"I keep getting the Exception in thread &quot;main&quot; java.util.NoSuchElementException error message. I have tried switching stuff around, but I keep having this problem\r\n\r\nI have tried declaring the variables in different methods, but nothing is seeming to work. \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n\r\n    public static double drivingCost(double drivenMiles, double milesPerGallon, double dollarsPerGallon) {\r\n        double totalCost = (drivenMiles / milesPerGallon) * dollarsPerGallon;\r\n        return totalCost;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        double milesG;\r\n        double dollarsG;\r\n        Scanner scnr = new Scanner(System.in);\r\n        milesG = scnr.nextDouble();\r\n        dollarsG = scnr.nextDouble();\r\n        drivingCost(10.0, milesG, dollarsG);\r\n        milesG = scnr.nextDouble();\r\n        dollarsG = scnr.nextDouble();\r\n        drivingCost(50.0, milesG, dollarsG);\r\n        milesG = scnr.nextDouble();\r\n        dollarsG = scnr.nextDouble();\r\n        drivingCost(400.0, milesG, dollarsG);\r\n    }\r\n}\r\n```\r\n\r\nThe problem is:\r\n\r\nWrite a method drivingCost() with input parameters drivenMiles, milesPerGallon, and dollarsPerGallon, that returns the dollar cost to drive those miles. All items are of type double. If the method is called with 50 20.0 3.1599, the method returns 7.89975. \r\n\r\nDefine that method in a program whose inputs are the car&#39;s miles/gallon and the gas dollars/gallon (both doubles). Output the gas cost for 10 miles, 50 miles, and 400 miles, by calling your drivingCost() method three times. \r\nOutput each floating-point value with two digits after the decimal point.\r\n\r\nThe input is: 20.0 3.1599\r\n\r\nExpected output: 1.58 7.90 63.20","title":"2 method Exception in thread &quot;main&quot; java.util.NoSuchElementException","body":"<p>I keep getting the Exception in thread \"main\" java.util.NoSuchElementException error message. I have tried switching stuff around, but I keep having this problem</p>\n\n<p>I have tried declaring the variables in different methods, but nothing is seeming to work. </p>\n\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n\n    public static double drivingCost(double drivenMiles, double milesPerGallon, double dollarsPerGallon) {\n        double totalCost = (drivenMiles / milesPerGallon) * dollarsPerGallon;\n        return totalCost;\n    }\n\n    public static void main(String[] args) {\n        double milesG;\n        double dollarsG;\n        Scanner scnr = new Scanner(System.in);\n        milesG = scnr.nextDouble();\n        dollarsG = scnr.nextDouble();\n        drivingCost(10.0, milesG, dollarsG);\n        milesG = scnr.nextDouble();\n        dollarsG = scnr.nextDouble();\n        drivingCost(50.0, milesG, dollarsG);\n        milesG = scnr.nextDouble();\n        dollarsG = scnr.nextDouble();\n        drivingCost(400.0, milesG, dollarsG);\n    }\n}\n</code></pre>\n\n<p>The problem is:</p>\n\n<p>Write a method drivingCost() with input parameters drivenMiles, milesPerGallon, and dollarsPerGallon, that returns the dollar cost to drive those miles. All items are of type double. If the method is called with 50 20.0 3.1599, the method returns 7.89975. </p>\n\n<p>Define that method in a program whose inputs are the car's miles/gallon and the gas dollars/gallon (both doubles). Output the gas cost for 10 miles, 50 miles, and 400 miles, by calling your drivingCost() method three times. \nOutput each floating-point value with two digits after the decimal point.</p>\n\n<p>The input is: 20.0 3.1599</p>\n\n<p>Expected output: 1.58 7.90 63.20</p>\n"},{"tags":["java","spring","apache","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1429947497,"creation_date":1429947497,"answer_id":29862415,"question_id":29850665,"body_markdown":"Create a `Car` object or something with a `model` and a `year` property. Then create something like this\r\n\r\n    @ConfigurationProperties(&quot;foo&quot;)\r\n    public class CarProperties {\r\n   \r\n        private Map&lt;String,Car&gt; cars;\r\n\r\n        // Getters/Setters\r\n    }\r\n\r\nAdd add `@EnableConfigurationProperties(CarProperties.class)` in your main configuration class.\r\n\r\nThen you can inject that config as follows:\r\n\r\n    foo.cars.Fiat.model=pet\r\n    foo.cars.Fiat.year=1996\r\n    foo.cars.Honda.model=dis\r\n    foo.cars.Honda.year=2000\r\n\r\nThere is more info in the doc.","title":"How to load nested key value pairs from a properties file in SpringBoot","body":"<p>Create a <code>Car</code> object or something with a <code>model</code> and a <code>year</code> property. Then create something like this</p>\n\n<pre><code>@ConfigurationProperties(\"foo\")\npublic class CarProperties {\n\n    private Map&lt;String,Car&gt; cars;\n\n    // Getters/Setters\n}\n</code></pre>\n\n<p>Add add <code>@EnableConfigurationProperties(CarProperties.class)</code> in your main configuration class.</p>\n\n<p>Then you can inject that config as follows:</p>\n\n<pre><code>foo.cars.Fiat.model=pet\nfoo.cars.Fiat.year=1996\nfoo.cars.Honda.model=dis\nfoo.cars.Honda.year=2000\n</code></pre>\n\n<p>There is more info in the doc.</p>\n"},{"tags":[],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1429947767,"creation_date":1429947767,"answer_id":29862454,"question_id":29850665,"body_markdown":"You can use yaml files with spring as well:\r\n\r\nhttp://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-yaml\r\n\r\nThis way, you can work with\r\n\r\n    Fiat:\r\n      model: pet\r\n      year: 1996\r\n    Honda:\r\n      model: dis\r\n      year: 2000\r\n\r\n","title":"How to load nested key value pairs from a properties file in SpringBoot","body":"<p>You can use yaml files with spring as well:</p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-yaml\" rel=\"nofollow\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-yaml</a></p>\n\n<p>This way, you can work with</p>\n\n<pre><code>Fiat:\n  model: pet\n  year: 1996\nHonda:\n  model: dis\n  year: 2000\n</code></pre>\n"}],"owner":{"account_id":1423833,"reputation":1379,"user_id":1347872,"accept_rate":41,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11429,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":29862454,"answer_count":2,"score":5,"last_activity_date":1652599613,"creation_date":1429887090,"question_id":29850665,"body_markdown":"Is there a better manner to implement properties file having key-value pairs as value using Spring/Spring Boot?\r\nI want to create a property file where the key contains a couple of key-value pair as value.\r\n\r\nI tried below implementation:- \r\n\r\nProperties file:-\r\n\r\n    Fiat=model:pet,year:1996\r\n    Honda=model:dis,year:2000\r\nAnd i have below class trying to read the properties file. \r\n\r\n    @Component\r\n    @PropertySources(@PropertySource(&quot;classpath:sample.properties&quot;))\r\n    public class PropertiesExtractor {\r\n    \r\n    \t@Autowired\r\n    \tprivate Environment env;\r\n    \t\r\n    \tpublic String pullValue(String node) {\r\n\r\n\t\tString value = env.getProperty(node);\r\n\t\tSystem.out.println(value);//for Fiat, i get syso as **model:pet,year:1996**\r\n\t}\r\n}\r\n\r\nI need to parse the values using java, to get the individual value. Is this the only way out to implement this. \r\n\r\nIs there a better way to use nested property files in Java?\r\n  ","title":"How to load nested key value pairs from a properties file in SpringBoot","body":"<p>Is there a better manner to implement properties file having key-value pairs as value using Spring/Spring Boot?\nI want to create a property file where the key contains a couple of key-value pair as value.</p>\n\n<p>I tried below implementation:- </p>\n\n<p>Properties file:-</p>\n\n<pre><code>Fiat=model:pet,year:1996\nHonda=model:dis,year:2000\n</code></pre>\n\n<p>And i have below class trying to read the properties file. </p>\n\n<pre><code>@Component\n@PropertySources(@PropertySource(\"classpath:sample.properties\"))\npublic class PropertiesExtractor {\n\n    @Autowired\n    private Environment env;\n\n    public String pullValue(String node) {\n\n    String value = env.getProperty(node);\n    System.out.println(value);//for Fiat, i get syso as **model:pet,year:1996**\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I need to parse the values using java, to get the individual value. Is this the only way out to implement this. </p>\n\n<p>Is there a better way to use nested property files in Java?</p>\n"},{"tags":["java","eclipse","replace","bufferedreader","filewriter"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":2,"creation_date":1652588523,"post_id":72245475,"comment_id":127640108,"body_markdown":"Get rid of the `writer.close()` within the `for` loop.  You need to do that outside the loop. Declare the FileWriter outside the loop as well.","body":"Get rid of the <code>writer.close()</code> within the <code>for</code> loop.  You need to do that outside the loop. Declare the FileWriter outside the loop as well."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1652600268,"post_id":72245475,"comment_id":127641406,"body_markdown":"Also...You can not read and write to the same file at the same time. The Reader will need to be closed before the Writer can write to the same file. You can however read from one file and write to another file of a different name all at the same time.","body":"Also...You can not read and write to the same file at the same time. The Reader will need to be closed before the Writer can write to the same file. You can however read from one file and write to another file of a different name all at the same time."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652599222,"creation_date":1652599222,"answer_id":72246280,"question_id":72245475,"body_markdown":"There are a number of ways to do this but to carry on with the way you are attempting it then it could be something like this this (read all the comments in code):\r\n\r\n    /****************************************************\r\n     *            BEFORE RUNNING THIS CODE,             *\r\n     *     MAKE A BACKUP OF YOUR ORIGINAL DATA FILE     *\r\n     ****************************************************/\r\n    public static void changeDescriptionOfAnItem() throws java.io.IOException {\r\n        String errMSG = &quot;Invalid Entry! You must supply an item description&quot; + LS \r\n                      + &quot;of at least 3 characters in length or &#39;c&#39; to cancel!&quot; + LS;\r\n        String cancelMSG = &quot;Item Description Change - CANCELED!&quot; + LS;\r\n        String oldDescription = &quot;&quot;;\r\n        String newDescription = &quot;&quot;;\r\n        \r\n        while (oldDescription.isEmpty()) {\r\n            System.out.print(&quot;Retail Item Description to change (c to cancel): &quot;);\r\n            oldDescription = keyboard.nextLine().trim();\r\n            if (oldDescription.equalsIgnoreCase(&quot;c&quot;)) {\r\n                System.out.println(cancelMSG);\r\n                return;\r\n            }\r\n            // Validation...\r\n            if (oldDescription.isEmpty() || oldDescription.length() &lt; 3) {\r\n                System.out.println(errMSG);\r\n                oldDescription = &quot;&quot;;\r\n            }\r\n        }\r\n        \r\n        \r\n        while (newDescription.isEmpty()) {\r\n            System.out.print(&quot;Enter NEW Retail Item Description (c to cancel): &quot;);\r\n            newDescription = keyboard.nextLine().trim();\r\n            if (newDescription.equalsIgnoreCase(&quot;c&quot;)) {\r\n                System.out.println(cancelMSG);\r\n                return;\r\n            }\r\n            // Validation...\r\n            if (newDescription.isEmpty() || newDescription.length() &lt; 3) {\r\n                System.out.println(errMSG);\r\n                newDescription = &quot;&quot;;\r\n            }\r\n        }\r\n        // ALL USER INPUT HAS BEEN RECEIVED\r\n        \r\n        // The original Data file\r\n        File file = new File(&quot;RetailItemDatabase.txt&quot;); \r\n        // A temp data file where the changes will be stored.\r\n        File tmpFile = new File(&quot;RetailItemDatabase_tmp.txt&quot;);\r\n        \r\n        /* &#39;Try With Resouces&#39; used here for both reader and writer\r\n           so as to automatically close them and free resources.        */\r\n        try (java.io.FileWriter writer = new java.io.FileWriter(tmpFile);\r\n                java.io.BufferedReader reader = new java.io.BufferedReader(new java.io.FileReader(file))) {\r\n            String oldtext = oldDescription;\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                line = line.trim();\r\n                /* To speed things up we make sure the line actually \r\n                   contains the item we&#39;re looking for.           */\r\n                if (line.toLowerCase().contains(oldtext.toLowerCase())) {\r\n                    /* Seemed to have found a line where our item is located\r\n                       but there is no quarantee it&#39;s not just part of another\r\n                       item like &quot;DressJacket&quot; instead of just &quot;Dress&quot;, so we\r\n                       break the line up into its individual data components as \r\n                       a String[] Array and then just compare the first one part \r\n                       of the string. We&#39;re ignoreing letter case so that the \r\n                       User doesn&#39;t have to be overly accurate.           */\r\n                    String[] lineParts = line.split(&quot;\\\\s+&quot;);\r\n                    if (lineParts[0].equalsIgnoreCase(oldtext)) {\r\n                        // Yup...this seems to be the line alright. \r\n                        // Let&#39;s rebuild the new line...\r\n                        line = newDescription;\r\n                        for (int i = 1; i &lt; lineParts.length; i++) {\r\n                            line += &quot; &quot; + lineParts[i];\r\n                        }\r\n                        \r\n                        /* Note: You can not break out of the loop at this point\r\n                           just because you found the item and made the line change.\r\n                           You have to let this process carry through the entire \r\n                           data file so that ALL original data is writen to the temp\r\n                           data file.                     */\r\n                    }\r\n                }\r\n                // Write the line to the tmp file (&quot;RetailItemDatabase_tmp.txt&quot;)\r\n                writer.write(line + System.lineSeparator());\r\n                writer.flush();  // Write immediately.\r\n            }\r\n        }\r\n        // FILE READING/WRITING HAS COMPLETED!\r\n        \r\n        /* Delete Original File (&quot;RetailItemDatabase.txt&quot;)    AND\r\n           Rename the Temp file (&quot;RetailItemDatabase_tmp.txt&quot;) to what \r\n           the Original file name was named (&quot;RetailItemDatabase.txt&quot;).\r\n           Because both the File#delete() and File#renameTo() methods \r\n           return boolean true if they are successful, we can use them \r\n           within the `if` statement as we do below.           */\r\n        if (file.delete() &amp;&amp; tmpFile.renameTo(file)) {\r\n            System.out.println(&quot;Item changed from &#39;&quot; + oldDescription + &quot;&#39; to &quot;\r\n                             + &quot;&#39;&quot; + newDescription + &quot;&#39; - SUCCESSFULLY!&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Item change from &#39;&quot; + oldDescription + &quot;&#39; to &quot;\r\n                             + &quot;&#39;&quot; + newDescription + &quot;&#39; - FAILED!&quot;);\r\n        }\r\n    }\r\n    \r\nI had gotten rid of the `RetailItem[] tempVal` parameter from your method&#39;s signature since there is no indication as to what it might be for. One of the major problems you had was you were closing the writer within the `for` loop. This would happen upon the very first iteration, so, yes, only one write. You only close the *reader* **and** *writer* **after** you have actually carried out **all** the necessary *reading* **and** *writing*.\r\n\r\nYou should make your Scanner object a static class member so that it can be easily accessed by all methods that may be in your class. No need to open one for every method you want to use it in:\r\n\r\n```\r\npublic class MyClassName {\r\n\r\n    /* The line separator (newLine) used for the \r\n       specific system running this application.  */  \r\n    private final static String LS = System.lineSeparator();\r\n    \r\n    /* Declare as class member so that is can be used \r\n       anywhere in class.    */\r\n    private final static Scanner keyboard = new Scanner(System.in);\r\n\r\n    public static void main(String args[]) {\r\n\r\n    // ----------- The rest of the class code ------------\r\n\r\n}\r\n```\r\n\r\nI have also added validation to the User prompts within the `changeDescriptionOfAnItem()` method. This always helps to reduce possible errors or other nuisances. This also gives the User the opportunity to enter valid data. It simply provides a cleaner User experience...well in my opinion.\r\n\r\nIf you remove all the comments within the method, it really isn&#39;t all that much code. Keep in mind...this is only one way of doing things but it is effective.","title":"Trouble with replacing a variable in a txt file with user input - using java in eclipse","body":"<p>There are a number of ways to do this but to carry on with the way you are attempting it then it could be something like this this (read all the comments in code):</p>\n<pre><code>/****************************************************\n *            BEFORE RUNNING THIS CODE,             *\n *     MAKE A BACKUP OF YOUR ORIGINAL DATA FILE     *\n ****************************************************/\npublic static void changeDescriptionOfAnItem() throws java.io.IOException {\n    String errMSG = &quot;Invalid Entry! You must supply an item description&quot; + LS \n                  + &quot;of at least 3 characters in length or 'c' to cancel!&quot; + LS;\n    String cancelMSG = &quot;Item Description Change - CANCELED!&quot; + LS;\n    String oldDescription = &quot;&quot;;\n    String newDescription = &quot;&quot;;\n    \n    while (oldDescription.isEmpty()) {\n        System.out.print(&quot;Retail Item Description to change (c to cancel): &quot;);\n        oldDescription = keyboard.nextLine().trim();\n        if (oldDescription.equalsIgnoreCase(&quot;c&quot;)) {\n            System.out.println(cancelMSG);\n            return;\n        }\n        // Validation...\n        if (oldDescription.isEmpty() || oldDescription.length() &lt; 3) {\n            System.out.println(errMSG);\n            oldDescription = &quot;&quot;;\n        }\n    }\n    \n    \n    while (newDescription.isEmpty()) {\n        System.out.print(&quot;Enter NEW Retail Item Description (c to cancel): &quot;);\n        newDescription = keyboard.nextLine().trim();\n        if (newDescription.equalsIgnoreCase(&quot;c&quot;)) {\n            System.out.println(cancelMSG);\n            return;\n        }\n        // Validation...\n        if (newDescription.isEmpty() || newDescription.length() &lt; 3) {\n            System.out.println(errMSG);\n            newDescription = &quot;&quot;;\n        }\n    }\n    // ALL USER INPUT HAS BEEN RECEIVED\n    \n    // The original Data file\n    File file = new File(&quot;RetailItemDatabase.txt&quot;); \n    // A temp data file where the changes will be stored.\n    File tmpFile = new File(&quot;RetailItemDatabase_tmp.txt&quot;);\n    \n    /* 'Try With Resouces' used here for both reader and writer\n       so as to automatically close them and free resources.        */\n    try (java.io.FileWriter writer = new java.io.FileWriter(tmpFile);\n            java.io.BufferedReader reader = new java.io.BufferedReader(new java.io.FileReader(file))) {\n        String oldtext = oldDescription;\n        String line;\n        while ((line = reader.readLine()) != null) {\n            line = line.trim();\n            /* To speed things up we make sure the line actually \n               contains the item we're looking for.           */\n            if (line.toLowerCase().contains(oldtext.toLowerCase())) {\n                /* Seemed to have found a line where our item is located\n                   but there is no quarantee it's not just part of another\n                   item like &quot;DressJacket&quot; instead of just &quot;Dress&quot;, so we\n                   break the line up into its individual data components as \n                   a String[] Array and then just compare the first one part \n                   of the string. We're ignoreing letter case so that the \n                   User doesn't have to be overly accurate.           */\n                String[] lineParts = line.split(&quot;\\\\s+&quot;);\n                if (lineParts[0].equalsIgnoreCase(oldtext)) {\n                    // Yup...this seems to be the line alright. \n                    // Let's rebuild the new line...\n                    line = newDescription;\n                    for (int i = 1; i &lt; lineParts.length; i++) {\n                        line += &quot; &quot; + lineParts[i];\n                    }\n                    \n                    /* Note: You can not break out of the loop at this point\n                       just because you found the item and made the line change.\n                       You have to let this process carry through the entire \n                       data file so that ALL original data is writen to the temp\n                       data file.                     */\n                }\n            }\n            // Write the line to the tmp file (&quot;RetailItemDatabase_tmp.txt&quot;)\n            writer.write(line + System.lineSeparator());\n            writer.flush();  // Write immediately.\n        }\n    }\n    // FILE READING/WRITING HAS COMPLETED!\n    \n    /* Delete Original File (&quot;RetailItemDatabase.txt&quot;)    AND\n       Rename the Temp file (&quot;RetailItemDatabase_tmp.txt&quot;) to what \n       the Original file name was named (&quot;RetailItemDatabase.txt&quot;).\n       Because both the File#delete() and File#renameTo() methods \n       return boolean true if they are successful, we can use them \n       within the `if` statement as we do below.           */\n    if (file.delete() &amp;&amp; tmpFile.renameTo(file)) {\n        System.out.println(&quot;Item changed from '&quot; + oldDescription + &quot;' to &quot;\n                         + &quot;'&quot; + newDescription + &quot;' - SUCCESSFULLY!&quot;);\n    }\n    else {\n        System.out.println(&quot;Item change from '&quot; + oldDescription + &quot;' to &quot;\n                         + &quot;'&quot; + newDescription + &quot;' - FAILED!&quot;);\n    }\n}\n</code></pre>\n<p>I had gotten rid of the <code>RetailItem[] tempVal</code> parameter from your method's signature since there is no indication as to what it might be for. One of the major problems you had was you were closing the writer within the <code>for</code> loop. This would happen upon the very first iteration, so, yes, only one write. You only close the <em>reader</em> <strong>and</strong> <em>writer</em> <strong>after</strong> you have actually carried out <strong>all</strong> the necessary <em>reading</em> <strong>and</strong> <em>writing</em>.</p>\n<p>You should make your Scanner object a static class member so that it can be easily accessed by all methods that may be in your class. No need to open one for every method you want to use it in:</p>\n<pre><code>public class MyClassName {\n\n    /* The line separator (newLine) used for the \n       specific system running this application.  */  \n    private final static String LS = System.lineSeparator();\n    \n    /* Declare as class member so that is can be used \n       anywhere in class.    */\n    private final static Scanner keyboard = new Scanner(System.in);\n\n    public static void main(String args[]) {\n\n    // ----------- The rest of the class code ------------\n\n}\n</code></pre>\n<p>I have also added validation to the User prompts within the <code>changeDescriptionOfAnItem()</code> method. This always helps to reduce possible errors or other nuisances. This also gives the User the opportunity to enter valid data. It simply provides a cleaner User experience...well in my opinion.</p>\n<p>If you remove all the comments within the method, it really isn't all that much code. Keep in mind...this is only one way of doing things but it is effective.</p>\n"}],"owner":{"account_id":25149901,"reputation":11,"user_id":18995292,"display_name":"SirenVon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652599222,"creation_date":1652588191,"question_id":72245475,"body_markdown":"I am trying to replace one word in a txt file with a new one from user input (Using Java in Eclipse IDE).\r\nFor example:\r\n\r\n\r\n\r\nMy txt file is as follows: \r\n```\r\nJacket 12 59.95\r\nDesignerJeans 40 34.95\r\nShirt 20 24.95\r\n```\r\nAfter entering in &quot;Shirt&quot; to be replaced with &quot;Dress&quot;,\r\nmy expected output is as follows:\r\n```\r\nJacket 12 59.95\r\nDesignerJeans 40 34.95\r\nDress 20 24.95\r\n```\r\nBut my actual output with my current code is:\r\n```\r\nDress 20 24.95\r\n```\r\nI got it to replace the desired word, however it also deleted the rest of my txt file.\r\nI&#39;m posting the part of my code this occurs in below. Any insight on where my problem lies would be greatly appreciated. I&#39;m still fairly new with java and I&#39;ve been working on this for a while now.\r\n\r\n\r\n```\r\npublic static void changeDescriptionOfAnItem(RetailItem[] tempVal) throws IOException {\r\n\t\t\r\n\t\tSystem.out.print(&quot;Retail Item Description to change: &quot;);\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n        String userInput;\r\n        String newDescription;\r\n        userInput = keyboard.nextLine();\r\n        System.out.println(&quot;Enter NEW Retail Item Description: &quot;);\r\n        newDescription = keyboard.nextLine();\r\n\r\n        File file = new File(&quot;RetailItemDatabase.txt&quot;);\r\n        BufferedReader reader = new BufferedReader(new FileReader(file));\r\n        String oldtext = userInput;\r\n        for (String line; (line = reader.readLine()) != null;) {\r\n        \tline = line.replace(oldtext, newDescription);\r\n        \tFileWriter writer = new FileWriter(&quot;RetailItemDatabase.txt&quot;);\r\n            writer.write(line);\r\n            writer.close();\r\n        }\r\n        reader.close();\r\n\r\n      }\r\n```","title":"Trouble with replacing a variable in a txt file with user input - using java in eclipse","body":"<p>I am trying to replace one word in a txt file with a new one from user input (Using Java in Eclipse IDE).\nFor example:</p>\n<p>My txt file is as follows:</p>\n<pre><code>Jacket 12 59.95\nDesignerJeans 40 34.95\nShirt 20 24.95\n</code></pre>\n<p>After entering in &quot;Shirt&quot; to be replaced with &quot;Dress&quot;,\nmy expected output is as follows:</p>\n<pre><code>Jacket 12 59.95\nDesignerJeans 40 34.95\nDress 20 24.95\n</code></pre>\n<p>But my actual output with my current code is:</p>\n<pre><code>Dress 20 24.95\n</code></pre>\n<p>I got it to replace the desired word, however it also deleted the rest of my txt file.\nI'm posting the part of my code this occurs in below. Any insight on where my problem lies would be greatly appreciated. I'm still fairly new with java and I've been working on this for a while now.</p>\n<pre><code>public static void changeDescriptionOfAnItem(RetailItem[] tempVal) throws IOException {\n        \n        System.out.print(&quot;Retail Item Description to change: &quot;);\n        Scanner keyboard = new Scanner(System.in);\n        String userInput;\n        String newDescription;\n        userInput = keyboard.nextLine();\n        System.out.println(&quot;Enter NEW Retail Item Description: &quot;);\n        newDescription = keyboard.nextLine();\n\n        File file = new File(&quot;RetailItemDatabase.txt&quot;);\n        BufferedReader reader = new BufferedReader(new FileReader(file));\n        String oldtext = userInput;\n        for (String line; (line = reader.readLine()) != null;) {\n            line = line.replace(oldtext, newDescription);\n            FileWriter writer = new FileWriter(&quot;RetailItemDatabase.txt&quot;);\n            writer.write(line);\n            writer.close();\n        }\n        reader.close();\n\n      }\n</code></pre>\n"},{"tags":["java","macos","rest","rest-assured","spring-tool-suite"],"comments":[{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":1,"creation_date":1652862877,"post_id":72246274,"comment_id":127706772,"body_markdown":"What happens if you run the build of the project from the command line? The PKIX error is usually related to certificates not being in the keystone of the JDK that you use, but those certificates are needed to verify the connection to the URL. Maybe your local JDK install has those certs already in the keystone, so running the build locally from the command line could help.","body":"What happens if you run the build of the project from the command line? The PKIX error is usually related to certificates not being in the keystone of the JDK that you use, but those certificates are needed to verify the connection to the URL. Maybe your local JDK install has those certs already in the keystone, so running the build locally from the command line could help."},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":0,"creation_date":1652862935,"post_id":72246274,"comment_id":127706794,"body_markdown":"In case that works, you can adjust the JDK that is used to run the IDE to use the same JDK that you use on the command line (by modifying the SpringToolSuite4.ini file).","body":"In case that works, you can adjust the JDK that is used to run the IDE to use the same JDK that you use on the command line (by modifying the SpringToolSuite4.ini file)."},{"owner":{"account_id":17077476,"reputation":175,"user_id":12356755,"display_name":"JeyanthiRanjit"},"score":0,"creation_date":1653210095,"post_id":72246274,"comment_id":127791529,"body_markdown":"Thanks it worked after I copy the certificate from local to my JRE folder.","body":"Thanks it worked after I copy the certificate from local to my JRE folder."}],"owner":{"account_id":17077476,"reputation":175,"user_id":12356755,"display_name":"JeyanthiRanjit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652599170,"creation_date":1652599170,"question_id":72246274,"body_markdown":"I am trying to compile my first project in Spring tool suite4, but getting the following error -  The following artifacts could not be resolved: commons-\r\n\t io:commons-io:jar:2.6, org.codehaus.plexus:plexus-component-annotations:jar:2.0.0: Could not transfer artifact commons-io:commons-io:jar:2.6 from/to central \r\n\t (https://artifacts.apple.com/plugins-release): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification \r\n\t path to requested target ...Also the error is pointing to the following code block in pom.xml\r\n    \r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    ","title":"I am getting the error - unable to find valid certification path&quot; in my Springtoolsuite 4(in Mac)","body":"<p>I am trying to compile my first project in Spring tool suite4, but getting the following error -  The following artifacts could not be resolved: commons-\nio:commons-io:jar:2.6, org.codehaus.plexus:plexus-component-annotations:jar:2.0.0: Could not transfer artifact commons-io:commons-io:jar:2.6 from/to central\n(<a href=\"https://artifacts.apple.com/plugins-release\" rel=\"nofollow noreferrer\">https://artifacts.apple.com/plugins-release</a>): PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification\npath to requested target ...Also the error is pointing to the following code block in pom.xml</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1652602957,"post_id":72246209,"comment_id":127641827,"body_markdown":"Why not using `startAt()` method?","body":"Why not using <code>startAt()</code> method?"},{"owner":{"account_id":24864268,"reputation":45,"user_id":18739589,"display_name":"osas divine"},"score":0,"creation_date":1652603949,"post_id":72246209,"comment_id":127641992,"body_markdown":"I am using Collection.Shuffle(list) so it will mix both the data from 2 days ago and 4 days ago, whereas i want to have post from two days ago, shuffled at the top, and at the end of that list and on same recyclerview the remaining data will be post from 4 days ago also shuffled","body":"I am using Collection.Shuffle(list) so it will mix both the data from 2 days ago and 4 days ago, whereas i want to have post from two days ago, shuffled at the top, and at the end of that list and on same recyclerview the remaining data will be post from 4 days ago also shuffled"}],"owner":{"account_id":24864268,"reputation":45,"user_id":18739589,"display_name":"osas divine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652598509,"creation_date":1652598509,"question_id":72246209,"body_markdown":"I want to sort the firebase and populate both data retrieved in one recyclerview. I want to query the database twice by showing at the top all the item that was added 2 days ago plus I want to show items added 4 days ago.\r\n\r\nWhat i am doing.\r\n\r\nI wrote the code to query my Database using order by \r\n```\r\ndatabaseReference.child(&quot;Posts&quot;).orderByChild(&quot;date&quot;).addValueEventListener(new ValueEventListener() { @Override public void onDataChange(@NonNull DataSnapshot snapshot) { if (snapshot.exists()){.....\r\n```\r\n\r\nI am able to successfully retieve the data from this query into recyclerview with the first data showing all the post created in the last two days.\r\n\r\nI have been confused about how i can some like &quot;also show data that was created in the last 4 days&quot; into that same recyclewview without clearing the first on.\r\n\r\nWhat i tried\r\n\r\nI created another Database reference and queried the database with the second order by post created in the last four days and also added the retrieved data into the recylerview, the result cleared the first data retrieved.","title":"Retrieve data from firebase using two queries into Recylerview without clearing the first query","body":"<p>I want to sort the firebase and populate both data retrieved in one recyclerview. I want to query the database twice by showing at the top all the item that was added 2 days ago plus I want to show items added 4 days ago.</p>\n<p>What i am doing.</p>\n<p>I wrote the code to query my Database using order by</p>\n<pre><code>databaseReference.child(&quot;Posts&quot;).orderByChild(&quot;date&quot;).addValueEventListener(new ValueEventListener() { @Override public void onDataChange(@NonNull DataSnapshot snapshot) { if (snapshot.exists()){.....\n</code></pre>\n<p>I am able to successfully retieve the data from this query into recyclerview with the first data showing all the post created in the last two days.</p>\n<p>I have been confused about how i can some like &quot;also show data that was created in the last 4 days&quot; into that same recyclewview without clearing the first on.</p>\n<p>What i tried</p>\n<p>I created another Database reference and queried the database with the second order by post created in the last four days and also added the retrieved data into the recylerview, the result cleared the first data retrieved.</p>\n"},{"tags":["java","native","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1652678624,"post_id":72246201,"comment_id":127655106,"body_markdown":"How much memory do you have on your machine? Furthemore, are you on a Mac or Windows? If so, how much memory have you given to docker?","body":"How much memory do you have on your machine? Furthemore, are you on a Mac or Windows? If so, how much memory have you given to docker?"},{"owner":{"account_id":6984565,"reputation":109,"user_id":5356062,"display_name":"ahmed galal"},"score":0,"creation_date":1652738300,"post_id":72246201,"comment_id":127674381,"body_markdown":"@geoand\nI have 16G ram on my local machine, using linux, podman running on runc.\nSo, I guess it runs in native mode and won&#39;t use a VM.\nfor running the the native build i provided 3G, sometime 4G, \n`quarkus.native.native-image-xmx=3G` \nI remember using more sometimes caused linux to freeze.\n\nI ran the build on github CI, which used 6G ram and debian as I remember, wanted to test if it will work if i left it long enough, but it still freezed on the CI server after 6 hours.","body":"@geoand I have 16G ram on my local machine, using linux, podman running on runc. So, I guess it runs in native mode and won&#39;t use a VM. for running the the native build i provided 3G, sometime 4G,  <code>quarkus.native.native-image-xmx=3G</code>  I remember using more sometimes caused linux to freeze.  I ran the build on github CI, which used 6G ram and debian as I remember, wanted to test if it will work if i left it long enough, but it still freezed on the CI server after 6 hours."}],"owner":{"account_id":6984565,"reputation":109,"user_id":5356062,"display_name":"ahmed galal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652598454,"creation_date":1652598454,"question_id":72246201,"body_markdown":"I using quarkus 8.3.Final , gradle\r\nNative build always get stucked at \r\n\r\n```\r\nBuilding native image source jar: /home/runner/work/qu-queue-service/qu-queue-service/build/qu-queue-service-1.0.0-SNAPSHOT-native-image-source-jar/qu-queue-service-1.0.0-SNAPSHOT-runner.jar\r\nBuilding native image from /home/runner/work/qu-queue-service/qu-queue-service/build/qu-queue-service-1.0.0-SNAPSHOT-native-image-source-jar/qu-queue-service-1.0.0-SNAPSHOT-runner.jar\r\nUsing docker to run the native image builder\r\nChecking image status quay.io/quarkus/ubi-quarkus-mandrel:22.0.0.2-Final-java17\r\n22.0.0.2-Final-java17: Pulling from quarkus/ubi-quarkus-mandrel\r\n54e56e6f8572: Pulling fs layer\r\n4f8ddd7f5a75: Pulling fs layer\r\n20939a5b3d59: Pulling fs layer\r\n4f8ddd7f5a75: Verifying Checksum\r\n4f8ddd7f5a75: Download complete\r\n54e56e6f8572: Verifying Checksum\r\n54e56e6f8572: Download complete\r\n54e56e6f8572: Pull complete\r\n20939a5b3d59: Verifying Checksum\r\n20939a5b3d59: Download complete\r\n4f8ddd7f5a75: Pull complete\r\n20939a5b3d59: Pull complete\r\nDigest: sha256:7751b408ac408d6f91a95c864a2b8d85129987c8d5c1fc5356e9940c8e330837\r\nStatus: Downloaded newer image for quay.io/quarkus/ubi-quarkus-mandrel:22.0.0.2-Final-java17\r\nquay.io/quarkus/ubi-quarkus-mandrel:22.0.0.2-Final-java17\r\nRunning Quarkus native-image plugin on native-image 22.0.0.2-Final Mandrel Distribution (Java Version 17.0.2+8)\r\ndocker run --env LANG=C --rm --user 1001:121 -v /home/runner/work/qu-queue-service/qu-queue-service/build/qu-queue-service-1.0.0-SNAPSHOT-native-image-source-jar:/project:z --name build-native-clyaI quay.io/quarkus/ubi-quarkus-mandrel:22.0.0.2-Final-java17 -J-Dsun.nio.ch.maxUpdateArraySize=100 -J-Djava.util.logging.manager=org.jboss.logmanager.LogManager -J-DCoordinatorEnvironmentBean.transactionStatusManagerEnable=false -J-Dcom.sun.xml.bind.v2.bytecode.ClassTailor.noOptimize=true -J-Dvertx.logger-delegate-factory-class-name=io.quarkus.vertx.core.runtime.VertxLogDelegateFactory -J-Dvertx.disableDnsResolver=true -J-Dio.netty.leakDetection.level=DISABLED -J-Dio.netty.allocator.maxOrder=3 -J-Duser.language=en -J-Dfile.encoding=UTF-8 -H:-ParseOnce -J--add-exports=java.security.jgss/sun.security.krb5=ALL-UNNAMED -J--add-opens=java.base/java.text=ALL-UNNAMED -H:InitialCollectionPolicy=com.oracle.svm.core.genscavenge.CollectionPolicy\\$BySpaceAndTime -H:+JNI -H:+AllowFoldMethods -J-Djava.awt.headless=true -H:FallbackThreshold=0 -H:+ReportExceptionStackTraces -J-Xmx3G -H:-AddAllCharsets -H:EnableURLProtocols=http,https -H:-UseServiceLoaderFeature -H:+StackTrace qu-queue-service-1.0.0-SNAPSHOT-runner -jar qu-queue-service-1.0.0-SNAPSHOT-runner.jar\r\n========================================================================================================================\r\nGraalVM Native Image: Generating &#39;qu-queue-service-1.0.0-SNAPSHOT-runner&#39;...\r\n========================================================================================================================\r\n[1/7] Initializing...                                                                                   (13.1s @ 0.22GB)\r\n Version info: &#39;GraalVM 22.0.0.2-Final Java 17 Mandrel Distribution&#39;\r\n 8 user-provided feature(s)\r\n  - io.quarkus.caffeine.runtime.graal.CacheConstructorsAutofeature\r\n  - io.quarkus.hibernate.orm.runtime.graal.DisableLoggingAutoFeature\r\n  - io.quarkus.jdbc.postgresql.runtime.graal.SQLXMLFeature\r\n  - io.quarkus.runner.AutoFeature\r\n  - io.quarkus.runtime.graal.DisableLoggingAutoFeature\r\n  - io.quarkus.runtime.graal.ResourcesFeature\r\n  - org.hibernate.graalvm.internal.GraalVMStaticAutofeature\r\n  - org.hibernate.graalvm.internal.QueryParsingSupport\r\n[2/7] Performing analysis...  [**********]                                                             (191.2s @ 2.47GB)\r\n  26,471 (96.76%) of 27,356 classes reachable\r\n  45,531 (68.17%) of 66,791 fields reachable\r\n 143,995 (80.30%) of 179,318 methods reachable\r\n   1,537 classes, 1,795 fields, and 10,535 methods registered for reflection\r\n      65 classes,    77 fields, and    55 methods registered for JNI access\r\n[3/7] Building universe...                                                                               (7.2s @ 2.60GB)\r\n[4/7] Parsing methods...      [******]                                                                  (36.8s @ 2.34GB)\r\n```\r\n\r\nThe last build took 6h on github CI, on my local machine it also stop there while grinding the CPU\r\n\r\nIs there any leads I can follow?","title":"quarkus native build is stuck","body":"<p>I using quarkus 8.3.Final , gradle\nNative build always get stucked at</p>\n<pre><code>Building native image source jar: /home/runner/work/qu-queue-service/qu-queue-service/build/qu-queue-service-1.0.0-SNAPSHOT-native-image-source-jar/qu-queue-service-1.0.0-SNAPSHOT-runner.jar\nBuilding native image from /home/runner/work/qu-queue-service/qu-queue-service/build/qu-queue-service-1.0.0-SNAPSHOT-native-image-source-jar/qu-queue-service-1.0.0-SNAPSHOT-runner.jar\nUsing docker to run the native image builder\nChecking image status quay.io/quarkus/ubi-quarkus-mandrel:22.0.0.2-Final-java17\n22.0.0.2-Final-java17: Pulling from quarkus/ubi-quarkus-mandrel\n54e56e6f8572: Pulling fs layer\n4f8ddd7f5a75: Pulling fs layer\n20939a5b3d59: Pulling fs layer\n4f8ddd7f5a75: Verifying Checksum\n4f8ddd7f5a75: Download complete\n54e56e6f8572: Verifying Checksum\n54e56e6f8572: Download complete\n54e56e6f8572: Pull complete\n20939a5b3d59: Verifying Checksum\n20939a5b3d59: Download complete\n4f8ddd7f5a75: Pull complete\n20939a5b3d59: Pull complete\nDigest: sha256:7751b408ac408d6f91a95c864a2b8d85129987c8d5c1fc5356e9940c8e330837\nStatus: Downloaded newer image for quay.io/quarkus/ubi-quarkus-mandrel:22.0.0.2-Final-java17\nquay.io/quarkus/ubi-quarkus-mandrel:22.0.0.2-Final-java17\nRunning Quarkus native-image plugin on native-image 22.0.0.2-Final Mandrel Distribution (Java Version 17.0.2+8)\ndocker run --env LANG=C --rm --user 1001:121 -v /home/runner/work/qu-queue-service/qu-queue-service/build/qu-queue-service-1.0.0-SNAPSHOT-native-image-source-jar:/project:z --name build-native-clyaI quay.io/quarkus/ubi-quarkus-mandrel:22.0.0.2-Final-java17 -J-Dsun.nio.ch.maxUpdateArraySize=100 -J-Djava.util.logging.manager=org.jboss.logmanager.LogManager -J-DCoordinatorEnvironmentBean.transactionStatusManagerEnable=false -J-Dcom.sun.xml.bind.v2.bytecode.ClassTailor.noOptimize=true -J-Dvertx.logger-delegate-factory-class-name=io.quarkus.vertx.core.runtime.VertxLogDelegateFactory -J-Dvertx.disableDnsResolver=true -J-Dio.netty.leakDetection.level=DISABLED -J-Dio.netty.allocator.maxOrder=3 -J-Duser.language=en -J-Dfile.encoding=UTF-8 -H:-ParseOnce -J--add-exports=java.security.jgss/sun.security.krb5=ALL-UNNAMED -J--add-opens=java.base/java.text=ALL-UNNAMED -H:InitialCollectionPolicy=com.oracle.svm.core.genscavenge.CollectionPolicy\\$BySpaceAndTime -H:+JNI -H:+AllowFoldMethods -J-Djava.awt.headless=true -H:FallbackThreshold=0 -H:+ReportExceptionStackTraces -J-Xmx3G -H:-AddAllCharsets -H:EnableURLProtocols=http,https -H:-UseServiceLoaderFeature -H:+StackTrace qu-queue-service-1.0.0-SNAPSHOT-runner -jar qu-queue-service-1.0.0-SNAPSHOT-runner.jar\n========================================================================================================================\nGraalVM Native Image: Generating 'qu-queue-service-1.0.0-SNAPSHOT-runner'...\n========================================================================================================================\n[1/7] Initializing...                                                                                   (13.1s @ 0.22GB)\n Version info: 'GraalVM 22.0.0.2-Final Java 17 Mandrel Distribution'\n 8 user-provided feature(s)\n  - io.quarkus.caffeine.runtime.graal.CacheConstructorsAutofeature\n  - io.quarkus.hibernate.orm.runtime.graal.DisableLoggingAutoFeature\n  - io.quarkus.jdbc.postgresql.runtime.graal.SQLXMLFeature\n  - io.quarkus.runner.AutoFeature\n  - io.quarkus.runtime.graal.DisableLoggingAutoFeature\n  - io.quarkus.runtime.graal.ResourcesFeature\n  - org.hibernate.graalvm.internal.GraalVMStaticAutofeature\n  - org.hibernate.graalvm.internal.QueryParsingSupport\n[2/7] Performing analysis...  [**********]                                                             (191.2s @ 2.47GB)\n  26,471 (96.76%) of 27,356 classes reachable\n  45,531 (68.17%) of 66,791 fields reachable\n 143,995 (80.30%) of 179,318 methods reachable\n   1,537 classes, 1,795 fields, and 10,535 methods registered for reflection\n      65 classes,    77 fields, and    55 methods registered for JNI access\n[3/7] Building universe...                                                                               (7.2s @ 2.60GB)\n[4/7] Parsing methods...      [******]                                                                  (36.8s @ 2.34GB)\n</code></pre>\n<p>The last build took 6h on github CI, on my local machine it also stop there while grinding the CPU</p>\n<p>Is there any leads I can follow?</p>\n"},{"tags":["java","multithreading","javafx","task","call"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1652584770,"post_id":72245231,"comment_id":127639798,"body_markdown":"The duplicates will answer why the `Task` will not execute more than once and give you solutions. Beyond that, I recommend you do **not** have your FXML controller class extend from `Task` (or `Service`), but instead create a separate class (top-level, nested, or anonymous) for the implementation.","body":"The duplicates will answer why the <code>Task</code> will not execute more than once and give you solutions. Beyond that, I recommend you do <b>not</b> have your FXML controller class extend from <code>Task</code> (or <code>Service</code>), but instead create a separate class (top-level, nested, or anonymous) for the implementation."},{"owner":{"account_id":24954661,"reputation":33,"user_id":18819130,"display_name":"Talib3ilm"},"score":1,"creation_date":1652613563,"post_id":72245231,"comment_id":127643589,"body_markdown":"thank you; my problem is fixed folowing your advice.","body":"thank you; my problem is fixed folowing your advice."}],"owner":{"account_id":24954661,"reputation":33,"user_id":18819130,"display_name":"Talib3ilm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1652584665,"answer_count":0,"score":0,"last_activity_date":1652598044,"creation_date":1652583047,"question_id":72245231,"body_markdown":"I have an FXML files (update.fxml) that contains excel path in textfield and progressBar.\r\n\r\nIn update.java controller I have:\r\n\r\n    public class Update extends Task&lt;Integer&gt;{\r\n    //----------------------------------------------------------------------\r\n        @FXML\r\n       void mImport(ActionEvent event) throws InterruptedException {\r\n     \t   Thread thread1 =new Thread(this);\r\n    \t   sPath=&quot;C:\\\\MyData\\\\test.xlsx&quot;; //=path in the textfield (4000 rows)\r\n    \t       \tthread1.setDaemon(true);\r\n    \t    \t   thread1.start();\r\n    }//end of mImport method\r\n    //----------------------------------------------------------------------\r\n        @Override\r\n\t    protected Integer call() throws Exception {\r\n    //lines of code..\r\n        for (Row row : sheet) { //to read excel rows\r\n    //lines of code..\r\n        updateProgress(count, NbrRows); // to update progressBar to show progress of reading rows\r\n    //lines of code..\r\n    return null;\r\n    }\r\n    }//end of call method\r\n    //----------------------------------------------------------------------&#39;\r\n\t    @FXML // This method is called by the FXMLLoader when initialization is complete\r\n        void initialize() {\t\r\n    \t    progressBar.progressProperty().bind(this.progressProperty());\t\r\n        }\r\n\r\nMy question is:\r\n\r\nWhen I click my button that call import method it works first time, but if I click again nothing happens.\r\n\r\nI know the problem is in the thread or task because it&#39;s running at first click, and I don&#39;t know how to stop it or make it at first statut\r\n","title":"recall method contains Thread in javafx","body":"<p>I have an FXML files (update.fxml) that contains excel path in textfield and progressBar.</p>\n<p>In update.java controller I have:</p>\n<pre><code>public class Update extends Task&lt;Integer&gt;{\n//----------------------------------------------------------------------\n    @FXML\n   void mImport(ActionEvent event) throws InterruptedException {\n       Thread thread1 =new Thread(this);\n       sPath=&quot;C:\\\\MyData\\\\test.xlsx&quot;; //=path in the textfield (4000 rows)\n            thread1.setDaemon(true);\n               thread1.start();\n}//end of mImport method\n//----------------------------------------------------------------------\n    @Override\n    protected Integer call() throws Exception {\n//lines of code..\n    for (Row row : sheet) { //to read excel rows\n//lines of code..\n    updateProgress(count, NbrRows); // to update progressBar to show progress of reading rows\n//lines of code..\nreturn null;\n}\n}//end of call method\n//----------------------------------------------------------------------'\n    @FXML // This method is called by the FXMLLoader when initialization is complete\n    void initialize() { \n        progressBar.progressProperty().bind(this.progressProperty());   \n    }\n</code></pre>\n<p>My question is:</p>\n<p>When I click my button that call import method it works first time, but if I click again nothing happens.</p>\n<p>I know the problem is in the thread or task because it's running at first click, and I don't know how to stop it or make it at first statut</p>\n"},{"tags":["java","spring-boot","springdoc","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":2333795,"reputation":865,"user_id":2046584,"accept_rate":100,"display_name":"vzhemevko"},"score":0,"creation_date":1652379931,"post_id":72220140,"comment_id":127598435,"body_markdown":"are you able to get some content when you got to /base-url/v3/api-docs/my-application this is URL where your definition  should be generated based on your config?","body":"are you able to get some content when you got to /base-url/v3/api-docs/my-application this is URL where your definition  should be generated based on your config?"},{"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"score":0,"creation_date":1652390905,"post_id":72220140,"comment_id":127601654,"body_markdown":"Does the package named `com.myapp.base` supplied to `packagesToScan()`  actually exist in your application and contain at least one `@RestController` ?","body":"Does the package named <code>com.myapp.base</code> supplied to <code>packagesToScan()</code>  actually exist in your application and contain at least one <code>@RestController</code> ?"},{"owner":{"account_id":1663241,"reputation":7957,"user_id":1531130,"accept_rate":45,"display_name":"hamed"},"score":0,"creation_date":1652412524,"post_id":72220140,"comment_id":127605087,"body_markdown":"@vzhemevko The `.../v3/api-docs/...` returns json object that contains valid controllers data.","body":"@vzhemevko The <code>...&#47;v3&#47;api-docs&#47;...</code> returns json object that contains valid controllers data."},{"owner":{"account_id":1663241,"reputation":7957,"user_id":1531130,"accept_rate":45,"display_name":"hamed"},"score":0,"creation_date":1652412637,"post_id":72220140,"comment_id":127605107,"body_markdown":"@dekkard Yes, the package exists and I have a `@RestController` inside the package. Also `.../v3/api-docs` returns valid json value contains that controller data.","body":"@dekkard Yes, the package exists and I have a <code>@RestController</code> inside the package. Also <code>...&#47;v3&#47;api-docs</code> returns valid json value contains that controller data."},{"owner":{"account_id":2333795,"reputation":865,"user_id":2046584,"accept_rate":100,"display_name":"vzhemevko"},"score":0,"creation_date":1652444069,"post_id":72220140,"comment_id":127613771,"body_markdown":"@hamed as a suggestion try to remove the bean and just add the following props to your application props \n\nspringdoc.packagesToScan=com.myapp.base\nspringdoc.api-docs.path=/api/api-docs\nspringdoc.swagger-ui.path=/api/swagger-ui\n\nthen go to /base-url/api/swagger-ui in browser","body":"@hamed as a suggestion try to remove the bean and just add the following props to your application props   springdoc.packagesToScan=com.myapp.base springdoc.api-docs.path=/api/api-docs springdoc.swagger-ui.path=/api/swagger-ui  then go to /base-url/api/swagger-ui in browser"}],"answers":[{"tags":[],"owner":{"account_id":12810928,"reputation":2458,"user_id":9269177,"display_name":"Debargha Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652597953,"creation_date":1652597953,"answer_id":72246156,"question_id":72220140,"body_markdown":"You bean looks okay to me but you&#39;re probably not hitting the right endpoint for the Swagger-UI. \r\n\r\nThe URL `/base-url/swagger-ui/index.html` points to the Swagger-UI provided by the Swagger Core library and there&#39;s not a lot you can do about it. \r\n\r\nSpringdoc has a transitive dependency on Swagger Core and as such the page is available. But the URL at which Springdoc exposes it&#39;s Swagger-UI is `/base-url/swagger-ui.html`. \r\n\r\nRefer to the answer [here](https://stackoverflow.com/a/65848200/9269177) for an explanation on why is it so and the ways to update it. ","title":"spring boot - springdoc open api: No api definiation provided error","body":"<p>You bean looks okay to me but you're probably not hitting the right endpoint for the Swagger-UI.</p>\n<p>The URL <code>/base-url/swagger-ui/index.html</code> points to the Swagger-UI provided by the Swagger Core library and there's not a lot you can do about it.</p>\n<p>Springdoc has a transitive dependency on Swagger Core and as such the page is available. But the URL at which Springdoc exposes it's Swagger-UI is <code>/base-url/swagger-ui.html</code>.</p>\n<p>Refer to the answer <a href=\"https://stackoverflow.com/a/65848200/9269177\">here</a> for an explanation on why is it so and the ways to update it.</p>\n"}],"owner":{"account_id":1663241,"reputation":7957,"user_id":1531130,"accept_rate":45,"display_name":"hamed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2369,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1652597953,"creation_date":1652377955,"question_id":72220140,"body_markdown":"I need to document my **spring boot** application&#39;s rest apis with [SpringDoc OpenApi][1]. So, I added this dependency in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd here is my config class:\r\n\r\n    @Configuration\r\n    public class SwaggerConfig {\r\n\r\n        @Bean\r\n        public GroupedOpenApi apis() {\r\n            return GroupedOpenApi.builder()\r\n                .group(&quot;my-application&quot;)\r\n                .packagesToScan(&quot;com.myapp.base&quot;)\r\n                .pathsToMatch(&quot;/**&quot;)\r\n                .build();\r\n        }\r\n    }\r\n\r\nWhen I want to use swagger-ui in `/base-url/swagger-ui/index.html`, the result is as below image:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat&#39;s wrong in my configuration?\r\n\r\nI use spring boot 2.6.6.\r\n\r\nNote: I don&#39;t see any problem to load swagger resources in browser console(401, 404). Also I have disabled spring security in app, there is not any problem related to security or loading swagger resources.\r\n\r\n\r\n  [1]: https://springdoc.org/\r\n  [2]: https://i.stack.imgur.com/QR2u3.jpg","title":"spring boot - springdoc open api: No api definiation provided error","body":"<p>I need to document my <strong>spring boot</strong> application's rest apis with <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">SpringDoc OpenApi</a>. So, I added this dependency in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And here is my config class:</p>\n<pre><code>@Configuration\npublic class SwaggerConfig {\n\n    @Bean\n    public GroupedOpenApi apis() {\n        return GroupedOpenApi.builder()\n            .group(&quot;my-application&quot;)\n            .packagesToScan(&quot;com.myapp.base&quot;)\n            .pathsToMatch(&quot;/**&quot;)\n            .build();\n    }\n}\n</code></pre>\n<p>When I want to use swagger-ui in <code>/base-url/swagger-ui/index.html</code>, the result is as below image:</p>\n<p><a href=\"https://i.stack.imgur.com/QR2u3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QR2u3.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What's wrong in my configuration?</p>\n<p>I use spring boot 2.6.6.</p>\n<p>Note: I don't see any problem to load swagger resources in browser console(401, 404). Also I have disabled spring security in app, there is not any problem related to security or loading swagger resources.</p>\n"},{"tags":["java","session","tomcat","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1237554702,"creation_date":1237554702,"answer_id":666072,"question_id":665941,"body_markdown":"You should not share HttpSession; but you can share other objects. For example, you can [register an object via JNDI][1] and access the same object in all your apps (databases use this to pool connections).\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-5.5-doc/jndi-resources-howto.html","title":"Any way to share session state between different applications in tomcat?","body":"<p>You should not share HttpSession; but you can share other objects. For example, you can <a href=\"http://tomcat.apache.org/tomcat-5.5-doc/jndi-resources-howto.html\" rel=\"noreferrer\">register an object via JNDI</a> and access the same object in all your apps (databases use this to pool connections).</p>\n"},{"tags":[],"owner":{"account_id":27776,"reputation":14436,"user_id":73652,"accept_rate":88,"display_name":"Kris"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1591112195,"creation_date":1237559014,"answer_id":666354,"question_id":665941,"body_markdown":"If the two webapps are so closely coupled that they need to share objects, why are you splitting it in two? Even if you manage them somewhat independently any decent build management system should be able to create a single WAR file for deployment.\r\n\r\nA solution like Aaron suggest with JNDI will work, but only if both webapps are running on the same server. If the units are tightly coupled and you are going to be running it on the same server anyway ... might as well have a single WAR.\r\n\r\nIf you really do want them to stand independently I&#39;d seriously examine the data exchange between the two. Ideally you&#39;d want them to only share relevant data with one another. This data could be passed back and forth via POST (or GET if more appropriate) parameters, you might even consider using cookies.  ","title":"Any way to share session state between different applications in tomcat?","body":"<p>If the two webapps are so closely coupled that they need to share objects, why are you splitting it in two? Even if you manage them somewhat independently any decent build management system should be able to create a single WAR file for deployment.</p>\n\n<p>A solution like Aaron suggest with JNDI will work, but only if both webapps are running on the same server. If the units are tightly coupled and you are going to be running it on the same server anyway ... might as well have a single WAR.</p>\n\n<p>If you really do want them to stand independently I'd seriously examine the data exchange between the two. Ideally you'd want them to only share relevant data with one another. This data could be passed back and forth via POST (or GET if more appropriate) parameters, you might even consider using cookies.  </p>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1237690498,"creation_date":1237690498,"answer_id":670479,"question_id":665941,"body_markdown":"One thing to be aware of is that two web apps will use different classloaders.  If you want to share objects, they need to use the same version of the class from the same classloader (or else you will get LinkageErrors).  That means either putting them in a classloader shared by both web apps (system classpath for example) OR using serialization to effectively drain and reconstitute the object in the right classloader with the correct version of the class.  ","title":"Any way to share session state between different applications in tomcat?","body":"<p>One thing to be aware of is that two web apps will use different classloaders.  If you want to share objects, they need to use the same version of the class from the same classloader (or else you will get LinkageErrors).  That means either putting them in a classloader shared by both web apps (system classpath for example) OR using serialization to effectively drain and reconstitute the object in the right classloader with the correct version of the class.  </p>\n"},{"tags":[],"owner":{"account_id":27445,"reputation":31727,"user_id":72478,"accept_rate":76,"display_name":"cherouvim"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1237693479,"creation_date":1237693479,"answer_id":670522,"question_id":665941,"body_markdown":"You should not split your app that way in order by have high availability. You could deploy the whole app on many tomcat instances.","title":"Any way to share session state between different applications in tomcat?","body":"<p>You should not split your app that way in order by have high availability. You could deploy the whole app on many tomcat instances.</p>\n"},{"tags":[],"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1510608754,"creation_date":1318865209,"answer_id":7795974,"question_id":665941,"body_markdown":"One way of doing this is described in this blog post: [Session sharing in Apache Tomcat][1]\r\n\r\nSummary: Add emptySessionPath to the Connector configuration and crossContext to the Context\r\n\r\n&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; emptySessionPath=&quot;true&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt;\r\n\r\n  [1]: http://lukaszbudnik.blogspot.com/2009/06/session-sharing-in-apache-tomcat.html","title":"Any way to share session state between different applications in tomcat?","body":"<p>One way of doing this is described in this blog post: <a href=\"http://lukaszbudnik.blogspot.com/2009/06/session-sharing-in-apache-tomcat.html\" rel=\"nofollow noreferrer\">Session sharing in Apache Tomcat</a></p>\n\n<p>Summary: Add emptySessionPath to the Connector configuration and crossContext to the Context</p>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":2387808,"reputation":132,"user_id":2088395,"accept_rate":40,"display_name":"Qazi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1367333356,"creation_date":1367332271,"answer_id":16302414,"question_id":665941,"body_markdown":"You can do by taking servlet context by your context root.\r\n\r\nFor retrieving variable.\r\n\r\n    request.getSession().getServletContext().getContext(&quot;/{applicationContextRoot}&quot;).getAttribute(variableName)\r\n\r\nFor setting variable:\r\n\r\n    request.getSession().getServletContext().getContext(&quot;/{applicationContextRoot}&quot;).setAttribute(variableName,variableValue)\r\n\r\n**Note:**  Both the applications should deployed in the same server.\r\n\r\nPls let me know if you find any problem","title":"Any way to share session state between different applications in tomcat?","body":"<p>You can do by taking servlet context by your context root.</p>\n\n<p>For retrieving variable.</p>\n\n<pre><code>request.getSession().getServletContext().getContext(\"/{applicationContextRoot}\").getAttribute(variableName)\n</code></pre>\n\n<p>For setting variable:</p>\n\n<pre><code>request.getSession().getServletContext().getContext(\"/{applicationContextRoot}\").setAttribute(variableName,variableValue)\n</code></pre>\n\n<p><strong>Note:</strong>  Both the applications should deployed in the same server.</p>\n\n<p>Pls let me know if you find any problem</p>\n"},{"tags":[],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1423485033,"creation_date":1421320785,"answer_id":27962242,"question_id":665941,"body_markdown":"If you want to use Spring, there&#39;s a project called **[Spring Session][1]**:\r\nhttps://github.com/spring-projects/spring-session\r\n\r\nQuoting: **&quot;HttpSession - allows replacing the HttpSession in an application container (i.e. Tomcat) neutral way&quot;**\r\n\r\n\r\n  [1]: http://projects.spring.io/spring-session/","title":"Any way to share session state between different applications in tomcat?","body":"<p>If you want to use Spring, there's a project called <strong><a href=\"http://projects.spring.io/spring-session/\" rel=\"noreferrer\">Spring Session</a></strong>:\n<a href=\"https://github.com/spring-projects/spring-session\" rel=\"noreferrer\">https://github.com/spring-projects/spring-session</a></p>\n\n<p>Quoting: <strong>\"HttpSession - allows replacing the HttpSession in an application container (i.e. Tomcat) neutral way\"</strong></p>\n"},{"tags":[],"owner":{"account_id":1136732,"reputation":743,"user_id":1121659,"accept_rate":50,"display_name":"rohith"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1498530313,"creation_date":1498530313,"answer_id":44771412,"question_id":665941,"body_markdown":"Tomcat 8 : \r\ni had to do : `&lt;Context crossContext=&quot;true&quot;  sessionCookiePath=&quot;/&quot;&gt;` in conf/context.xml\r\n\r\nmore details on config attributes [here][1]\r\n\r\nand then to set the value(like @Qazi&#39;s answer):\r\n\r\n    ServletContext servletContext =request.getSession().getServletContext().getContext(&quot;contextPath&quot;)\r\n    servletContext.setAttribute(variableName,variableValue)\r\n\r\n\r\nto get the value:\r\n\r\n    ServletContext servletContext =request.getSession().getServletContext().getContext(&quot;contextPath&quot;)\r\n    servletContext.getAttribute(&quot;user&quot;); \r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/config/context.html","title":"Any way to share session state between different applications in tomcat?","body":"<p>Tomcat 8 : \ni had to do : <code>&lt;Context crossContext=\"true\"  sessionCookiePath=\"/\"&gt;</code> in conf/context.xml</p>\n\n<p>more details on config attributes <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/context.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>and then to set the value(like @Qazi's answer):</p>\n\n<pre><code>ServletContext servletContext =request.getSession().getServletContext().getContext(\"contextPath\")\nservletContext.setAttribute(variableName,variableValue)\n</code></pre>\n\n<p>to get the value:</p>\n\n<pre><code>ServletContext servletContext =request.getSession().getServletContext().getContext(\"contextPath\")\nservletContext.getAttribute(\"user\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528105466,"creation_date":1528105466,"answer_id":50677671,"question_id":665941,"body_markdown":"I developed [session state server](https://github.com/rover886/tomcat-pysession-server) for tomcat using python.\r\n\r\nDue to this I don&#39;t need to change the code already written for creating/accessing and destroying session. Also as there is separate server/service which is handling and storing session so not master cluster is needed. There is no session replication (as in tomcat clustering) in this case, rather this is session sharing between web farming.","title":"Any way to share session state between different applications in tomcat?","body":"<p>I developed <a href=\"https://github.com/rover886/tomcat-pysession-server\" rel=\"nofollow noreferrer\">session state server</a> for tomcat using python.</p>\n\n<p>Due to this I don't need to change the code already written for creating/accessing and destroying session. Also as there is separate server/service which is handling and storing session so not master cluster is needed. There is no session replication (as in tomcat clustering) in this case, rather this is session sharing between web farming.</p>\n"},{"tags":[],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556298254,"creation_date":1556171719,"answer_id":55842640,"question_id":665941,"body_markdown":"For Tomcat 8 I use the following configuration to share a session across 2 webapps:\r\n\r\n**conf/context.xml** \r\n\r\n\t&lt;Context sessionCookiePath=&quot;/&quot;&gt;\r\n\t\t&lt;Valve className=&quot;org.apache.catalina.valves.PersistentValve&quot;/&gt;\r\n\t\t&lt;Manager className=&quot;org.apache.catalina.session.PersistentManager&quot;&gt;\r\n\t\t\t&lt;Store className=&quot;org.apache.catalina.session.FileStore&quot; directory=&quot;${catalina.base}/temp/sessions&quot;/&gt;\r\n\t\t&lt;/Manager&gt;\r\n\t\t...\r\n\t&lt;/Context&gt;\r\n\r\nI deploy the same simple webapp twice **log.war** and **log2.war**: \r\n\r\n\r\n    /log\r\n    /log2\r\n\r\nI can now log-in to `/log` and have the user displayed in `/log2`, this does not work with the tomcat default configuration.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe session value is set and read:\r\n\r\n    HttpSession session=request.getSession();  \r\n    session.setAttribute(&quot;name&quot;,name);\r\n\r\n    HttpSession session=request.getSession(false);  \r\n    String name=(String)session.getAttribute(&quot;name&quot;);  \r\n\r\nI used this project as example: https://www.javatpoint.com/servlet-http-session-login-and-logout-example\r\n\r\nMost examples/solutions use a in-memory database which requires more setup work:\r\n\r\n- [redis][2]\r\n- [hazelcast][3] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7baeC.jpg\r\n  [2]: https://redis.io/\r\n  [3]: https://hazelcast.com/","title":"Any way to share session state between different applications in tomcat?","body":"<p>For Tomcat 8 I use the following configuration to share a session across 2 webapps:</p>\n\n<p><strong>conf/context.xml</strong> </p>\n\n<pre><code>&lt;Context sessionCookiePath=\"/\"&gt;\n    &lt;Valve className=\"org.apache.catalina.valves.PersistentValve\"/&gt;\n    &lt;Manager className=\"org.apache.catalina.session.PersistentManager\"&gt;\n        &lt;Store className=\"org.apache.catalina.session.FileStore\" directory=\"${catalina.base}/temp/sessions\"/&gt;\n    &lt;/Manager&gt;\n    ...\n&lt;/Context&gt;\n</code></pre>\n\n<p>I deploy the same simple webapp twice <strong>log.war</strong> and <strong>log2.war</strong>: </p>\n\n<pre><code>/log\n/log2\n</code></pre>\n\n<p>I can now log-in to <code>/log</code> and have the user displayed in <code>/log2</code>, this does not work with the tomcat default configuration.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7baeC.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7baeC.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The session value is set and read:</p>\n\n<pre><code>HttpSession session=request.getSession();  \nsession.setAttribute(\"name\",name);\n\nHttpSession session=request.getSession(false);  \nString name=(String)session.getAttribute(\"name\");  \n</code></pre>\n\n<p>I used this project as example: <a href=\"https://www.javatpoint.com/servlet-http-session-login-and-logout-example\" rel=\"noreferrer\">https://www.javatpoint.com/servlet-http-session-login-and-logout-example</a></p>\n\n<p>Most examples/solutions use a in-memory database which requires more setup work:</p>\n\n<ul>\n<li><a href=\"https://redis.io/\" rel=\"noreferrer\">redis</a></li>\n<li><a href=\"https://hazelcast.com/\" rel=\"noreferrer\">hazelcast</a> </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652597905,"creation_date":1621500442,"answer_id":67616996,"question_id":665941,"body_markdown":"_**redison [download](https://github.com/redisson/redisson)**_\r\n\r\n**conf/context.xml**\r\n\r\n    &lt;Context sessionCookiePath=&quot;/&quot;&gt;\r\n      ...\r\n      &lt;Manager className=&quot;org.redisson.tomcat.RedissonSessionManager&quot;\r\n                   configPath=&quot;${catalina.base}/conf/redisson.yaml&quot;\r\n                   readMode=&quot;REDIS&quot; /&gt;\r\n    &lt;/Context&gt;\r\n\r\n**conf/redisson.yaml**\r\n\r\n    singleServerConfig:\r\n      address: &quot;redis://&lt;host&gt;:6379&quot;\r\n\r\n`sessionCookiePath=&quot;/&quot;` makes Tomcat use the same session id for different web apps.\r\n`RedissonSessionManager` makes session to be persisted in &#39;shared space&#39;\r\n\r\n---\r\n\r\nI was not able to achieve desired result with `org.apache.catalina.session.FileStore` `PersistentManager` in shared context.xml, I faced issues with session deserialization in background expiration monitor thread. It failed to deseriazile the session because it was using common classloader without webapp serializable models in classpath. Theoretically `PersistentManager` could be configured for each web app separately (to have proper classpath) in WEB-INF/context.xml but I failed to make it work.\r\n\r\n`org.apache.catalina.session.JDBCStore` `PersistentManage` was promising because it expose `last_access` column for the session so it is not required to deserialize `session_data`, but it was saving `app_name` all the time causing same session id to be written as different rows for diffrent web apps. Thus session data was not stored in the shared place.\r\n\r\nSpring Session has it`s own way to create session id. I was not able to find solution to force Spring Session to create same session id for different web apps.\r\n\r\nSolution with core tomcat session id generation (with ability to generate the same for different web apps and `RedissonSessionManager`, which store data using session id as the only key and has it&#39;s own expiration mechanism) finally worked for me. The solution works perfectly with `@SessionScope` spring beans.","title":"Any way to share session state between different applications in tomcat?","body":"<p><em><strong>redison <a href=\"https://github.com/redisson/redisson\" rel=\"nofollow noreferrer\">download</a></strong></em></p>\n<p><strong>conf/context.xml</strong></p>\n<pre><code>&lt;Context sessionCookiePath=&quot;/&quot;&gt;\n  ...\n  &lt;Manager className=&quot;org.redisson.tomcat.RedissonSessionManager&quot;\n               configPath=&quot;${catalina.base}/conf/redisson.yaml&quot;\n               readMode=&quot;REDIS&quot; /&gt;\n&lt;/Context&gt;\n</code></pre>\n<p><strong>conf/redisson.yaml</strong></p>\n<pre><code>singleServerConfig:\n  address: &quot;redis://&lt;host&gt;:6379&quot;\n</code></pre>\n<p><code>sessionCookiePath=&quot;/&quot;</code> makes Tomcat use the same session id for different web apps.\n<code>RedissonSessionManager</code> makes session to be persisted in 'shared space'</p>\n<hr />\n<p>I was not able to achieve desired result with <code>org.apache.catalina.session.FileStore</code> <code>PersistentManager</code> in shared context.xml, I faced issues with session deserialization in background expiration monitor thread. It failed to deseriazile the session because it was using common classloader without webapp serializable models in classpath. Theoretically <code>PersistentManager</code> could be configured for each web app separately (to have proper classpath) in WEB-INF/context.xml but I failed to make it work.</p>\n<p><code>org.apache.catalina.session.JDBCStore</code> <code>PersistentManage</code> was promising because it expose <code>last_access</code> column for the session so it is not required to deserialize <code>session_data</code>, but it was saving <code>app_name</code> all the time causing same session id to be written as different rows for diffrent web apps. Thus session data was not stored in the shared place.</p>\n<p>Spring Session has it`s own way to create session id. I was not able to find solution to force Spring Session to create same session id for different web apps.</p>\n<p>Solution with core tomcat session id generation (with ability to generate the same for different web apps and <code>RedissonSessionManager</code>, which store data using session id as the only key and has it's own expiration mechanism) finally worked for me. The solution works perfectly with <code>@SessionScope</code> spring beans.</p>\n"}],"owner":{"account_id":15880,"reputation":6679,"user_id":34009,"accept_rate":92,"display_name":"Serxipc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58722,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":666072,"answer_count":11,"score":53,"last_activity_date":1652597905,"creation_date":1237552338,"question_id":665941,"body_markdown":"We want to split a working application in two different `.war` files in order to be able to update one app without affecting the other. Each webapp will have different a UI, different users and different deploy schedule. \r\n\r\nThe easiest path seems to be sharing the same session, so if app A set `session.setAttribute(&quot;foo&quot;, &quot;bar&quot;)` app B will be able to see it.\r\n\r\nIs there a way to share the `HttpSession` state for both apps in the same Tomcat instance?\r\n\r\nOur app is running on a dedicated Tomcat 5.5, there are no other apps running on the same tomcat instance, so any security concerns regarding the session sharing are not a problem. We&#39;re running multiple Tomcat instances, but the balancer is using sticky sessions.\r\n\r\nIf it&#39;s not possible or this &lt;em&gt;session sharing&lt;/em&gt; is a really bad idea please leave a comment.","title":"Any way to share session state between different applications in tomcat?","body":"<p>We want to split a working application in two different <code>.war</code> files in order to be able to update one app without affecting the other. Each webapp will have different a UI, different users and different deploy schedule. </p>\n\n<p>The easiest path seems to be sharing the same session, so if app A set <code>session.setAttribute(\"foo\", \"bar\")</code> app B will be able to see it.</p>\n\n<p>Is there a way to share the <code>HttpSession</code> state for both apps in the same Tomcat instance?</p>\n\n<p>Our app is running on a dedicated Tomcat 5.5, there are no other apps running on the same tomcat instance, so any security concerns regarding the session sharing are not a problem. We're running multiple Tomcat instances, but the balancer is using sticky sessions.</p>\n\n<p>If it's not possible or this <em>session sharing</em> is a really bad idea please leave a comment.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"score":0,"creation_date":1652595531,"post_id":72245877,"comment_id":127640753,"body_markdown":"What is the purpose of this line? `String[] popTwonSizeContents = fileScanner.nextLine().trim().split(&quot;&quot;);` If you want to split the string in space, try &quot; &quot; or &quot;\\s&quot;. `String[] popTwonSizeContents = fileScanner.nextLine().trim().split(&quot;\\s&quot;);`","body":"What is the purpose of this line? <code>String[] popTwonSizeContents = fileScanner.nextLine().trim().split(&quot;&quot;);</code> If you want to split the string in space, try &quot; &quot; or &quot;\\s&quot;. <code>String[] popTwonSizeContents = fileScanner.nextLine().trim().split(&quot;\\s&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":8110312,"reputation":54,"user_id":14123402,"display_name":"pvs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652596326,"creation_date":1652595753,"answer_id":72245974,"question_id":72245877,"body_markdown":"`java.lang.NumberFormatException: For input string: &quot;&quot;` means you are trying to parse a number that isn&#39;t a valid number. In your case, you are trying to convert an empty string to an integer. \r\n\r\nYou are running into this problem because **population** and **townSize** numbers have one or more spaces in your text file. Just using `split(&quot; &quot;)` will not be sufficient, you will have to use `split(&quot;\\\\s+)` to split on one or more spaces.\r\n\r\nBlueville&#39;s numbers have two spaces, whereas Indigo Village&#39;s numbers have one space.\r\n\r\n","title":"Error message when I attach a textfile to my code","body":"<p><code>java.lang.NumberFormatException: For input string: &quot;&quot;</code> means you are trying to parse a number that isn't a valid number. In your case, you are trying to convert an empty string to an integer.</p>\n<p>You are running into this problem because <strong>population</strong> and <strong>townSize</strong> numbers have one or more spaces in your text file. Just using <code>split(&quot; &quot;)</code> will not be sufficient, you will have to use <code>split(&quot;\\\\s+)</code> to split on one or more spaces.</p>\n<p>Blueville's numbers have two spaces, whereas Indigo Village's numbers have one space.</p>\n"}],"owner":{"account_id":25292874,"reputation":23,"user_id":19118573,"display_name":"EugeneTawer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72245974,"answer_count":1,"score":2,"last_activity_date":1652596326,"creation_date":1652594541,"question_id":72245877,"body_markdown":"I need to create program to offer the user the ability to produce the report as show about in alphabetical order by \r\ntownship name or in size order by township square mile. \r\n\r\nBut I get error message when I run the text file with the code.\r\n\r\nWithout the text file, my code works, but when I try to use the text file with the code, I get this error.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n       at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n       at java.base/java.lang.Integer.parseInt(Integer.java:678)\r\n       at java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n       at Main.main(Mice.java:76)\r\n\r\nMy code: \r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    // create mice class\r\n    \r\n    class Mice {\r\n    \r\n        private final double micepopulation;\r\n        private final int sizetown;\r\n        private final String town;\r\n    \r\n    \r\n        // =-=-=-=-=-=-=-=-=--==-=\r\n    \r\n    \r\n        public Mice(double population, int sizetown, String town) {\r\n    \r\n            this.town = town;\r\n            this.micepopulation = population;\r\n            this.sizetown = sizetown;\r\n        }\r\n    \r\n    \r\n    // --==--=-=-=-=-=-=-=-=-=--=\r\n    \r\n        public String miceelseif() {\r\n            if (micepopulation &gt; 75) {\r\n                return &quot;Blue&quot;;\r\n            } else if (micepopulation &gt; 65) {\r\n                return &quot;Green&quot;;\r\n            } else if (micepopulation &gt; 50) {\r\n                return &quot;Yellow&quot;;\r\n            } else if (micepopulation &gt; 35) {\r\n                return &quot;Orange&quot;;\r\n            } else {\r\n                return &quot;Red&quot;;\r\n            }\r\n    \r\n            // -=-=-=-=-=-=-=-=-=-=-=-=-\r\n        }\r\n        public String getTOWN() {\r\n            return town;\r\n        }\r\n    \r\n        public String toString() {\r\n            return String.format(&quot;%-25s%-20.2f%-20d%-20s&quot;, town, micepopulation, sizetown, miceelseif());\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int numRecords = getNumRecords();\r\n            String[] township = new String[numRecords];\r\n            double[] population = new double[numRecords];\r\n            int[] townsize = new int[numRecords];\r\n    \r\n            try {\r\n                Scanner fileScanner = new Scanner(new File(&quot;Micepopulation.txt&quot;));\r\n                int index = 0;\r\n                while (fileScanner.hasNextLine()) {\r\n                    township[index] = fileScanner.nextLine();\r\n                    String[] popTwonSizeContents = fileScanner.nextLine().trim().split(&quot;&quot;);\r\n                    population[index] = Double.parseDouble(popTwonSizeContents[0]);\r\n                    townsize[index] = Integer.parseInt(popTwonSizeContents[1]);\r\n                    // increment the index\r\n                    index++;\r\n                }\r\n                fileScanner.close();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            Mice[] micePop = new Mice[numRecords];\r\n    \r\n            for (int index = 0; index &lt; micePop.length; index++) {\r\n                micePop[index] = new Mice(population[index], townsize[index], township[index]);\r\n            }\r\n    \r\n            Scanner scanner = new Scanner(System.in);\r\n            int choice;\r\n            do {\r\n                System.out.println(&quot;1: Mice by Town&quot;);\r\n                System.out.println(&quot;2: Mice by size&quot;);\r\n                System.out.println(&quot;3- Town name&quot;);\r\n                System.out.println(&quot;0- Exit&quot;);\r\n                System.out.print(&quot; Please enter your choice: &quot;);\r\n                choice = scanner.nextInt();\r\n                scanner.nextLine();\r\n    \r\n                switch (choice) {\r\n                    case 0 -&gt; System.out.println(&quot;thank you, have a good day&quot;);\r\n                    case 1, 2 -&gt; bytown(micePop);\r\n                    case 3 -&gt; {\r\n                        System.out.print(&quot;please enter town &quot;);\r\n                        String town = scanner.nextLine();\r\n                        int foundIndex = townLookUp(micePop, town);\r\n                        if (foundIndex == -1) {\r\n                            System.out.println(&quot;no town&quot;);\r\n                        } else {\r\n                            System.out.printf(&quot;%-25s%-20s%-20s%-20s\\n&quot;, &quot;Town&quot;, &quot;Mice Population&quot;, &quot;Town Size&quot;,\r\n                                    &quot;Alerts&quot;);\r\n                            System.out.println(micePop[foundIndex].toString());\r\n                        }\r\n                    }\r\n                    default -&gt; System.out.println(&quot;Invalid choice&quot;);\r\n                }\r\n                System.out.println();\r\n            } while (choice != 0);\r\n            scanner.close();\r\n        }\r\n    \r\n        // ==-=-=-===--==-=-=-=-=-=-=-=-=-=--==-\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        private static void bytown(Mice[] micePop) {\r\n            for (int index = 0; index &lt; micePop.length; index++) {\r\n                for (int innerIndex = 0; innerIndex &lt; micePop.length - index - 1; innerIndex++) {\r\n                    if (micePop[innerIndex].getTOWN().compareTo(micePop[innerIndex + 1].getTOWN()) &gt; 0) {\r\n                        Mice temp = micePop[innerIndex];\r\n                        micePop[innerIndex] = micePop[innerIndex + 1];\r\n                        micePop[innerIndex + 1] = temp;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;\\nREPORT BY TOWN&quot;);\r\n            printMicePopulation(micePop);\r\n        }\r\n    \r\n        // -=-===-=-=-=--==-=-=--==-=-\r\n    \r\n    \r\n        // =-=--=-==-=-=-=--==-=-=-=-=-=-=--==-=-=--\r\n        private static int townLookUp(Mice[] micePop, String township) {\r\n            for (int index = 0; index &lt; micePop.length; index++) {\r\n                if (micePop[index].getTOWN().equalsIgnoreCase(township)) {\r\n                    return index;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    \r\n        // -=-==-=-=-=--==--==-=-==-=-=-=-=-=-=--==-=-=-----=\r\n    \r\n        private static void printMicePopulation(Mice[] micePop) {\r\n            System.out.printf(&quot;%-25s%-20s%-20s%-20s\\n&quot;, &quot;Town&quot;, &quot;Mice Population&quot;, &quot;Town Size&quot;, &quot;Threat Alert&quot;);\r\n            for (Mice mice : micePop) System.out.println(mice.toString());\r\n    \r\n        }\r\n    \r\n        // -=-==--==--==-==-=-=-===-=-=-=-=-=-=-=-\r\n    \r\n        public static int getNumRecords() {\r\n            try {\r\n                Scanner scanner = new Scanner(new File(&quot;Micepopulation.txt&quot;));\r\n                int numRecords = 0;\r\n    \r\n                while (scanner.hasNextLine()) {\r\n                    numRecords++;\r\n                    scanner.nextLine();\r\n                }\r\n                scanner.close();\r\n                return numRecords / 2;\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nText File I&#39;m trying to attach\r\n\r\n\r\n    City of Red\r\n    70.81  2137\r\n    Boro of Orange\r\n    101.77 71\r\n    Yellow City\r\n    83.13  1034\r\n    Green Town\r\n    54.79  1819\r\n    Blueville\r\n    45.71  1514\r\n    Indigo Village\r\n    4.15 1442\r\n    Violeton \r\n    119.27 2225\r\n    Redburg\r\n    7.46 977\r\n    Orange Park\r\n    16.72  133\r\n    Yellow Falls\r\n    94.5  4556\r\n    Green Haven\r\n    326.12 1105242\r\n    Blue City\r\n    44.69 1979\r\n    Indigo Township\r\n    113.56 365\r\n    Violet Point\r\n    35.27 4161\r\n\r\n","title":"Error message when I attach a textfile to my code","body":"<p>I need to create program to offer the user the ability to produce the report as show about in alphabetical order by\ntownship name or in size order by township square mile.</p>\n<p>But I get error message when I run the text file with the code.</p>\n<p>Without the text file, my code works, but when I try to use the text file with the code, I get this error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\n   at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n   at java.base/java.lang.Integer.parseInt(Integer.java:678)\n   at java.base/java.lang.Integer.parseInt(Integer.java:786)\n   at Main.main(Mice.java:76)\n</code></pre>\n<p>My code:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\n\n// create mice class\n\nclass Mice {\n\n    private final double micepopulation;\n    private final int sizetown;\n    private final String town;\n\n\n    // =-=-=-=-=-=-=-=-=--==-=\n\n\n    public Mice(double population, int sizetown, String town) {\n\n        this.town = town;\n        this.micepopulation = population;\n        this.sizetown = sizetown;\n    }\n\n\n// --==--=-=-=-=-=-=-=-=-=--=\n\n    public String miceelseif() {\n        if (micepopulation &gt; 75) {\n            return &quot;Blue&quot;;\n        } else if (micepopulation &gt; 65) {\n            return &quot;Green&quot;;\n        } else if (micepopulation &gt; 50) {\n            return &quot;Yellow&quot;;\n        } else if (micepopulation &gt; 35) {\n            return &quot;Orange&quot;;\n        } else {\n            return &quot;Red&quot;;\n        }\n\n        // -=-=-=-=-=-=-=-=-=-=-=-=-\n    }\n    public String getTOWN() {\n        return town;\n    }\n\n    public String toString() {\n        return String.format(&quot;%-25s%-20.2f%-20d%-20s&quot;, town, micepopulation, sizetown, miceelseif());\n    }\n}\n\n\npublic class Main {\n    public static void main(String[] args) {\n        int numRecords = getNumRecords();\n        String[] township = new String[numRecords];\n        double[] population = new double[numRecords];\n        int[] townsize = new int[numRecords];\n\n        try {\n            Scanner fileScanner = new Scanner(new File(&quot;Micepopulation.txt&quot;));\n            int index = 0;\n            while (fileScanner.hasNextLine()) {\n                township[index] = fileScanner.nextLine();\n                String[] popTwonSizeContents = fileScanner.nextLine().trim().split(&quot;&quot;);\n                population[index] = Double.parseDouble(popTwonSizeContents[0]);\n                townsize[index] = Integer.parseInt(popTwonSizeContents[1]);\n                // increment the index\n                index++;\n            }\n            fileScanner.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        Mice[] micePop = new Mice[numRecords];\n\n        for (int index = 0; index &lt; micePop.length; index++) {\n            micePop[index] = new Mice(population[index], townsize[index], township[index]);\n        }\n\n        Scanner scanner = new Scanner(System.in);\n        int choice;\n        do {\n            System.out.println(&quot;1: Mice by Town&quot;);\n            System.out.println(&quot;2: Mice by size&quot;);\n            System.out.println(&quot;3- Town name&quot;);\n            System.out.println(&quot;0- Exit&quot;);\n            System.out.print(&quot; Please enter your choice: &quot;);\n            choice = scanner.nextInt();\n            scanner.nextLine();\n\n            switch (choice) {\n                case 0 -&gt; System.out.println(&quot;thank you, have a good day&quot;);\n                case 1, 2 -&gt; bytown(micePop);\n                case 3 -&gt; {\n                    System.out.print(&quot;please enter town &quot;);\n                    String town = scanner.nextLine();\n                    int foundIndex = townLookUp(micePop, town);\n                    if (foundIndex == -1) {\n                        System.out.println(&quot;no town&quot;);\n                    } else {\n                        System.out.printf(&quot;%-25s%-20s%-20s%-20s\\n&quot;, &quot;Town&quot;, &quot;Mice Population&quot;, &quot;Town Size&quot;,\n                                &quot;Alerts&quot;);\n                        System.out.println(micePop[foundIndex].toString());\n                    }\n                }\n                default -&gt; System.out.println(&quot;Invalid choice&quot;);\n            }\n            System.out.println();\n        } while (choice != 0);\n        scanner.close();\n    }\n\n    // ==-=-=-===--==-=-=-=-=-=-=-=-=-=--==-\n\n\n\n\n\n    private static void bytown(Mice[] micePop) {\n        for (int index = 0; index &lt; micePop.length; index++) {\n            for (int innerIndex = 0; innerIndex &lt; micePop.length - index - 1; innerIndex++) {\n                if (micePop[innerIndex].getTOWN().compareTo(micePop[innerIndex + 1].getTOWN()) &gt; 0) {\n                    Mice temp = micePop[innerIndex];\n                    micePop[innerIndex] = micePop[innerIndex + 1];\n                    micePop[innerIndex + 1] = temp;\n                }\n            }\n        }\n        System.out.println(&quot;\\nREPORT BY TOWN&quot;);\n        printMicePopulation(micePop);\n    }\n\n    // -=-===-=-=-=--==-=-=--==-=-\n\n\n    // =-=--=-==-=-=-=--==-=-=-=-=-=-=--==-=-=--\n    private static int townLookUp(Mice[] micePop, String township) {\n        for (int index = 0; index &lt; micePop.length; index++) {\n            if (micePop[index].getTOWN().equalsIgnoreCase(township)) {\n                return index;\n            }\n        }\n        return -1;\n    }\n\n    // -=-==-=-=-=--==--==-=-==-=-=-=-=-=-=--==-=-=-----=\n\n    private static void printMicePopulation(Mice[] micePop) {\n        System.out.printf(&quot;%-25s%-20s%-20s%-20s\\n&quot;, &quot;Town&quot;, &quot;Mice Population&quot;, &quot;Town Size&quot;, &quot;Threat Alert&quot;);\n        for (Mice mice : micePop) System.out.println(mice.toString());\n\n    }\n\n    // -=-==--==--==-==-=-=-===-=-=-=-=-=-=-=-\n\n    public static int getNumRecords() {\n        try {\n            Scanner scanner = new Scanner(new File(&quot;Micepopulation.txt&quot;));\n            int numRecords = 0;\n\n            while (scanner.hasNextLine()) {\n                numRecords++;\n                scanner.nextLine();\n            }\n            scanner.close();\n            return numRecords / 2;\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        return 0;\n    }\n\n}\n</code></pre>\n<p>Text File I'm trying to attach</p>\n<pre><code>City of Red\n70.81  2137\nBoro of Orange\n101.77 71\nYellow City\n83.13  1034\nGreen Town\n54.79  1819\nBlueville\n45.71  1514\nIndigo Village\n4.15 1442\nVioleton \n119.27 2225\nRedburg\n7.46 977\nOrange Park\n16.72  133\nYellow Falls\n94.5  4556\nGreen Haven\n326.12 1105242\nBlue City\n44.69 1979\nIndigo Township\n113.56 365\nViolet Point\n35.27 4161\n</code></pre>\n"},{"tags":["java","android","scoped-storage"],"comments":[{"owner":{"account_id":6388241,"reputation":457,"user_id":4955383,"display_name":"Bharat Kumar"},"score":0,"creation_date":1653189926,"post_id":72245580,"comment_id":127788842,"body_markdown":"anyone with suggestion ?","body":"anyone with suggestion ?"},{"owner":{"account_id":4571218,"reputation":12646,"user_id":3710865,"accept_rate":54,"display_name":"sasikumar"},"score":0,"creation_date":1663844972,"post_id":72245580,"comment_id":130337424,"body_markdown":"Got any solutions?","body":"Got any solutions?"},{"owner":{"account_id":431636,"reputation":4711,"user_id":815837,"accept_rate":62,"display_name":"Martin"},"score":0,"creation_date":1673559455,"post_id":72245580,"comment_id":132533089,"body_markdown":"if the permission is not granted, trying to give yourself another, higher level permission won&#39;t likely work. The docs say, if permission isn&#39;t granted, it simply doesn&#39;t work","body":"if the permission is not granted, trying to give yourself another, higher level permission won&#39;t likely work. The docs say, if permission isn&#39;t granted, it simply doesn&#39;t work"}],"owner":{"account_id":6388241,"reputation":457,"user_id":4955383,"display_name":"Bharat Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":911,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652595773,"creation_date":1652590325,"question_id":72245580,"body_markdown":"I have an app that download specific pdf files using streamig Retrofit. I am upgrading my app targeting android 11. I have gone through many online documents and stackoverflow solutions and got it working. The files gets downloaded to Downloads folder.\r\n\r\nWith Scope Storage, do i need to ask for specific permission to read/write for 29 and above, as this folder is shared folder? I already have these in manifest.\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\nI am using this to check if permission is granted\r\n\r\n```\r\npublic static boolean isPermissionGranted(Context context){\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\r\n            return Environment.isExternalStorageManager();\r\n        } else {\r\n            int readExtStorage = ContextCompat.checkSelfPermission(context, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n            int writeExtStorage = ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n            return readExtStorage == PackageManager.PERMISSION_GRANTED &amp;&amp; writeExtStorage == PackageManager.PERMISSION_GRANTED;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nDo I need to use this also in manifest, and if so how do i handle if permission not granted?\r\n\r\n```\r\n &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\nI was thinking of using below, but i guess Playstore will reject my app with this absurd permission request.\r\n\r\n```\r\nIntent intent = new Intent(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n            Uri uri = Uri.fromParts(&quot;package&quot;,getPackageName(),null);\r\n            intent.setData(uri);\r\n            permissionActivityResultLauncher.launch(intent);\r\n```\r\n","title":"Android Scoped Storage Permission for Download Folder to Download PDF","body":"<p>I have an app that download specific pdf files using streamig Retrofit. I am upgrading my app targeting android 11. I have gone through many online documents and stackoverflow solutions and got it working. The files gets downloaded to Downloads folder.</p>\n<p>With Scope Storage, do i need to ask for specific permission to read/write for 29 and above, as this folder is shared folder? I already have these in manifest.</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; android:maxSdkVersion=&quot;28&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>I am using this to check if permission is granted</p>\n<pre><code>public static boolean isPermissionGranted(Context context){\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\n            return Environment.isExternalStorageManager();\n        } else {\n            int readExtStorage = ContextCompat.checkSelfPermission(context, Manifest.permission.READ_EXTERNAL_STORAGE);\n            int writeExtStorage = ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n            return readExtStorage == PackageManager.PERMISSION_GRANTED &amp;&amp; writeExtStorage == PackageManager.PERMISSION_GRANTED;\n        }\n    }\n\n</code></pre>\n<p>Do I need to use this also in manifest, and if so how do i handle if permission not granted?</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>I was thinking of using below, but i guess Playstore will reject my app with this absurd permission request.</p>\n<pre><code>Intent intent = new Intent(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n            Uri uri = Uri.fromParts(&quot;package&quot;,getPackageName(),null);\n            intent.setData(uri);\n            permissionActivityResultLauncher.launch(intent);\n</code></pre>\n"},{"tags":["java","arrays","image-processing","processing","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":7717241,"reputation":3149,"user_id":5844572,"display_name":"laancelot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652594169,"creation_date":1652594169,"answer_id":72245850,"question_id":72245203,"body_markdown":"Chars aren&#39;t exactly the best way to keep track of a score, which can make for some headache at times. I strongly suggest that you keep track of the score with an integer number unless you really have no choice on the matter.\r\n\r\nNow, to translate an integer into a bunch of index numbers associated with images of said numbers, things can also become complicated, but I got your back! In fact, you can use MATH and solve this quite easily. Are you familiar with the [modulo](https://en.wikipedia.org/wiki/Modulo_operation) operator? If you&#39;re not, read about it because it&#39;s a programmer&#39;s best friend. Long story short, it&#39;s a division that returns only the leftover numbers after the division. As an example, if I write:\r\n\r\n```\r\n10 / 3 == 3.333333 // as a division this makes sense\r\n10 % 3 == 1        // modulo only keeps what&#39;s left when the division stops being an integer\r\nbecause: 10 == [3+3+3] + 1\r\n```\r\n\r\nOk, you probably already knew this, but if you didn&#39;t, now you do. Here&#39;s how I use this knowledge to simplify your issue with a commented example:\r\n\r\n```\r\nPImage[] digits = new PImage[10];\r\nint score = 4780; // you can change this number for whatever integer number\r\n\r\nvoid setup () {\r\n  size(200, 200);\r\n  \r\n  for (int i = 0; i &lt; digits.length; i++) {\r\n    digits[i] = loadImage(i + &quot;.png&quot;); // these 10 images are 10x10 pixels for easier handling\r\n  }\r\n}\r\n\r\nvoid draw () {\r\n  int i=1;\r\n  int j = 160; // arbitrary number: this is where i start drawing the score (the rightest number)\r\n  \r\n  // oooh! This is a good opportunity to use a do...while(); loop! I don&#39;t have that many of those.\r\n  // This is because we have to show at least ONE digit even if the score is zero, but I coded this so you can have a score higher than 99 without issue\r\n  do {\r\n    i*=10; // using multiples of 10 with the modulo operator\r\n           // as we use base 10 in real life, multiples of 10 help isolate digits of interests\r\n    \r\n    image(digits[(score%i)/(i/10)], j, 90); // j is the x coordinate of the current digit, 90 is an arbitrary y coordinate\r\n    // &#39;digits[(score%i)/(i/10)]&#39; deserves an explanation:\r\n    //  &#39;score%i&#39; removes every unit besides the current digit of interests, as an example if we&#39;re looking for the hundreds digit of 3456 it&#39;ll be 400\r\n    //  &#39;/(i/10)&#39; removes the unwanted zero (in the 3456 example it would leave only the number 4 instead of 400)\r\n    \r\n    j-=10; // updating j for the next digit\r\n  } while(i&lt;score);\r\n}\r\n```\r\n\r\n[![Example sketch with score][1]][1]\r\n\r\nI know I didn&#39;t tell you why you get `ArrayIndexOutOfBoundsException` and it&#39;s kinda on purpose: this is a very common error and although I have no trouble guessing why you get it, it&#39;s just more efficient to fix by improving the method than by meddling with the code. There are many articles on SO about why this error happens and I encourage you to read at least one, as it&#39;ll be something that you&#39;ll see again in the future. Yet, for now, you can just avoid it by switching to this method.\r\n\r\nI hope this helps. Have fun!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/79Mja.png","title":"ArrayIndexOutOfBoundsException - Scoreboard with images","body":"<p>Chars aren't exactly the best way to keep track of a score, which can make for some headache at times. I strongly suggest that you keep track of the score with an integer number unless you really have no choice on the matter.</p>\n<p>Now, to translate an integer into a bunch of index numbers associated with images of said numbers, things can also become complicated, but I got your back! In fact, you can use MATH and solve this quite easily. Are you familiar with the <a href=\"https://en.wikipedia.org/wiki/Modulo_operation\" rel=\"nofollow noreferrer\">modulo</a> operator? If you're not, read about it because it's a programmer's best friend. Long story short, it's a division that returns only the leftover numbers after the division. As an example, if I write:</p>\n<pre><code>10 / 3 == 3.333333 // as a division this makes sense\n10 % 3 == 1        // modulo only keeps what's left when the division stops being an integer\nbecause: 10 == [3+3+3] + 1\n</code></pre>\n<p>Ok, you probably already knew this, but if you didn't, now you do. Here's how I use this knowledge to simplify your issue with a commented example:</p>\n<pre><code>PImage[] digits = new PImage[10];\nint score = 4780; // you can change this number for whatever integer number\n\nvoid setup () {\n  size(200, 200);\n  \n  for (int i = 0; i &lt; digits.length; i++) {\n    digits[i] = loadImage(i + &quot;.png&quot;); // these 10 images are 10x10 pixels for easier handling\n  }\n}\n\nvoid draw () {\n  int i=1;\n  int j = 160; // arbitrary number: this is where i start drawing the score (the rightest number)\n  \n  // oooh! This is a good opportunity to use a do...while(); loop! I don't have that many of those.\n  // This is because we have to show at least ONE digit even if the score is zero, but I coded this so you can have a score higher than 99 without issue\n  do {\n    i*=10; // using multiples of 10 with the modulo operator\n           // as we use base 10 in real life, multiples of 10 help isolate digits of interests\n    \n    image(digits[(score%i)/(i/10)], j, 90); // j is the x coordinate of the current digit, 90 is an arbitrary y coordinate\n    // 'digits[(score%i)/(i/10)]' deserves an explanation:\n    //  'score%i' removes every unit besides the current digit of interests, as an example if we're looking for the hundreds digit of 3456 it'll be 400\n    //  '/(i/10)' removes the unwanted zero (in the 3456 example it would leave only the number 4 instead of 400)\n    \n    j-=10; // updating j for the next digit\n  } while(i&lt;score);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/79Mja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/79Mja.png\" alt=\"Example sketch with score\" /></a></p>\n<p>I know I didn't tell you why you get <code>ArrayIndexOutOfBoundsException</code> and it's kinda on purpose: this is a very common error and although I have no trouble guessing why you get it, it's just more efficient to fix by improving the method than by meddling with the code. There are many articles on SO about why this error happens and I encourage you to read at least one, as it'll be something that you'll see again in the future. Yet, for now, you can just avoid it by switching to this method.</p>\n<p>I hope this helps. Have fun!</p>\n"}],"owner":{"account_id":22115250,"reputation":27,"user_id":18731410,"display_name":"YahelDaOng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1652594169,"creation_date":1652582603,"question_id":72245203,"body_markdown":"I am trying to make a scoreboard with images in processing, with images from 0 to 9, but any number greater than 9 does not make changes\r\nIt should be something like this: 10, 11, 12, ..., 99\r\nbut it only changes the number on the left, try using a counter, converting it to a String and then to a Char[] to get the first digit of two numbers; for example: 25, it would have to be 2\r\nwhen passing that number to the array, it sends &quot;ArrayIndexOutOfBoundsException&quot;\r\n\r\n``` String count;\r\nchar[] digits;\r\n\r\nPImage [] prueba = new PImage[10];\r\n\r\nint contadorPrueba2 = 0;\r\nint aa = 0;\r\n\r\nvoid setup () {\r\n  size (781, 470);\r\n  tablero = loadImage(&quot;tablero.png&quot;);\r\n  flechaRight = loadImage(&quot;flechaRight.png&quot;);\r\n  flechaLeft = loadImage(&quot;flechaLeft.png&quot;);\r\n\r\n\r\n  for (int i = 0; i &lt; prueba.length; i++) {\r\n    prueba[i] = loadImage(&quot;numero_&quot; + i + &quot;.jpg&quot;);\r\n  }\r\n}\r\n\r\nvoid draw () {\r\n  //flechas\r\n  image(flechaRight, x, y);\r\n  image(flechaLeft, x2, y);\r\n\r\n  image(prueba[0], x3, 50);\r\n\r\n  //cambiar de numeros\r\n  image(prueba[contadorPrueba2], x4, 50);\r\n  image(prueba[aa], x3, 50);\r\n}\r\n\r\nboolean isMouseOver (int x, int y, int w, int h) {\r\n  if (mouseX&gt;x &amp;&amp; mouseX &lt;x+w &amp;&amp; mouseY&gt;y &amp;&amp; mouseY &lt;y+h) {\r\n    return true;\r\n  } \r\n  return false;\r\n}\r\n\r\nvoid mousePressed () {\r\n  if (isMouseOver (x, y, w, h) == true) {\r\n    contadorPrueba2++;\r\n    //image(uno, x3, 50);\r\n  } else if (isMouseOver (x2, y, w, h) == true) {\r\n    contadorPrueba2--;\r\n  }\r\n  \r\n  if (contadorPrueba2 &gt;= prueba.length)\r\n    contadorPrueba2 = 0;\r\n  \r\n  count = String.valueOf(contadorPrueba2);\r\n  digits = count.toCharArray();\r\n  \r\n  for (int i = 0; i &lt; digits.length; i++) {\r\n    if (contadorPrueba2 &gt;= 10) {\r\n      //aa = digits[0];\r\n      println(digits[i]);\r\n      aa = digits[i];\r\n      //aa = digits[i];\r\n      //print(&quot;pp&quot; + aa);\r\n      \r\n      if (i == 0) {\r\n        print(&quot;ksk&quot; + digits[i]);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n","title":"ArrayIndexOutOfBoundsException - Scoreboard with images","body":"<p>I am trying to make a scoreboard with images in processing, with images from 0 to 9, but any number greater than 9 does not make changes\nIt should be something like this: 10, 11, 12, ..., 99\nbut it only changes the number on the left, try using a counter, converting it to a String and then to a Char[] to get the first digit of two numbers; for example: 25, it would have to be 2\nwhen passing that number to the array, it sends &quot;ArrayIndexOutOfBoundsException&quot;</p>\n<pre><code>char[] digits;\n\nPImage [] prueba = new PImage[10];\n\nint contadorPrueba2 = 0;\nint aa = 0;\n\nvoid setup () {\n  size (781, 470);\n  tablero = loadImage(&quot;tablero.png&quot;);\n  flechaRight = loadImage(&quot;flechaRight.png&quot;);\n  flechaLeft = loadImage(&quot;flechaLeft.png&quot;);\n\n\n  for (int i = 0; i &lt; prueba.length; i++) {\n    prueba[i] = loadImage(&quot;numero_&quot; + i + &quot;.jpg&quot;);\n  }\n}\n\nvoid draw () {\n  //flechas\n  image(flechaRight, x, y);\n  image(flechaLeft, x2, y);\n\n  image(prueba[0], x3, 50);\n\n  //cambiar de numeros\n  image(prueba[contadorPrueba2], x4, 50);\n  image(prueba[aa], x3, 50);\n}\n\nboolean isMouseOver (int x, int y, int w, int h) {\n  if (mouseX&gt;x &amp;&amp; mouseX &lt;x+w &amp;&amp; mouseY&gt;y &amp;&amp; mouseY &lt;y+h) {\n    return true;\n  } \n  return false;\n}\n\nvoid mousePressed () {\n  if (isMouseOver (x, y, w, h) == true) {\n    contadorPrueba2++;\n    //image(uno, x3, 50);\n  } else if (isMouseOver (x2, y, w, h) == true) {\n    contadorPrueba2--;\n  }\n  \n  if (contadorPrueba2 &gt;= prueba.length)\n    contadorPrueba2 = 0;\n  \n  count = String.valueOf(contadorPrueba2);\n  digits = count.toCharArray();\n  \n  for (int i = 0; i &lt; digits.length; i++) {\n    if (contadorPrueba2 &gt;= 10) {\n      //aa = digits[0];\n      println(digits[i]);\n      aa = digits[i];\n      //aa = digits[i];\n      //print(&quot;pp&quot; + aa);\n      \n      if (i == 0) {\n        print(&quot;ksk&quot; + digits[i]);\n      }\n    }\n  }\n}\n\n</code></pre>\n"},{"tags":["java","unit-testing","kotlin","junit","concurrency"],"comments":[{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":1,"creation_date":1482232068,"post_id":41240505,"comment_id":69681267,"body_markdown":"Why don&#39;t you just implement that `Concurrently` class yourself? You already have the code that it is supposed to execute, it&#39;s now just a matter of refactoring. And the result will have about 30 lines of code.","body":"Why don&#39;t you just implement that <code>Concurrently</code> class yourself? You already have the code that it is supposed to execute, it&#39;s now just a matter of refactoring. And the result will have about 30 lines of code."}],"answers":[{"tags":[],"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1482231777,"creation_date":1482231261,"answer_id":41240628,"question_id":41240505,"body_markdown":"Using [TestNG][1] is the easiest way as for me:\r\n\r\n     @Test(threadPoolSize = 10, invocationCount = 15, timeOut = 1000)\r\n     public void testPut(){\r\n         out.put(&quot;Hello&quot;);\r\n     }\r\n\r\nThis test will run 15 times in 10 threads and should take no longer than 1000 ms.\r\n\r\nAlso you can create tests which depends on other test\r\n\r\n    @Test(dependsOnMethods = &quot;testPut&quot;)\r\n    public void testGetAfterPut{\r\n        String taken = out.take();\r\n    \r\n        assertThat(taken).isEqualTo(&quot;Hello&quot;);\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://testng.org/doc/documentation-main.html","title":"How to write concurrent unit tests","body":"<p>Using <a href=\"http://testng.org/doc/documentation-main.html\" rel=\"nofollow noreferrer\">TestNG</a> is the easiest way as for me:</p>\n\n<pre><code> @Test(threadPoolSize = 10, invocationCount = 15, timeOut = 1000)\n public void testPut(){\n     out.put(\"Hello\");\n }\n</code></pre>\n\n<p>This test will run 15 times in 10 threads and should take no longer than 1000 ms.</p>\n\n<p>Also you can create tests which depends on other test</p>\n\n<pre><code>@Test(dependsOnMethods = \"testPut\")\npublic void testGetAfterPut{\n    String taken = out.take();\n\n    assertThat(taken).isEqualTo(\"Hello\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6120309,"reputation":3055,"user_id":4774054,"accept_rate":0,"display_name":"Frank Neblung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573822911,"creation_date":1573822911,"answer_id":58877640,"question_id":41240505,"body_markdown":"By now I&#39;m writing all my tests in kotlin. And with kotlin testing this is easy peasy and fun!\r\n\r\nWorth mentioning when testing with threads is [JUnit&#39;s @Timeout Annotation](https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Timeout.html), which prevents false tests from running infinitely.\r\n\r\n    import org.assertj.core.api.Assertions.assertThat\r\n    import org.junit.jupiter.api.Test\r\n    import org.junit.jupiter.api.Timeout\r\n    import java.util.concurrent.LinkedBlockingQueue\r\n    import kotlin.concurrent.thread\r\n    \r\n    class BlockingQueueKotlinTests {\r\n        // objectUnderTest\r\n        private val out = LinkedBlockingQueue&lt;String&gt;()\r\n    \r\n        @Test\r\n        fun `put then get`() {\r\n            // that&#39;s easy because it can be done in one thread\r\n            out.put(&quot;Hello&quot;)\r\n    \r\n            val taken = out.take()\r\n    \r\n            assertThat(taken).isEqualTo(&quot;Hello&quot;)\r\n        }\r\n    \r\n        @Test\r\n        @Timeout(1)\r\n        fun `get before put`() {\r\n            // thanks to kotlin it&#39;s really easy to do that in another thread\r\n            thread {\r\n                Thread.sleep(100)\r\n                out.put(&quot;kotlin is great!&quot;)\r\n            }\r\n    \r\n            val taken = out.take()\r\n    \r\n            assertThat(taken).isEqualTo(&quot;kotlin is great!&quot;)\r\n        }\r\n    }","title":"How to write concurrent unit tests","body":"<p>By now I'm writing all my tests in kotlin. And with kotlin testing this is easy peasy and fun!</p>\n\n<p>Worth mentioning when testing with threads is <a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Timeout.html\" rel=\"nofollow noreferrer\">JUnit's @Timeout Annotation</a>, which prevents false tests from running infinitely.</p>\n\n<pre><code>import org.assertj.core.api.Assertions.assertThat\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.Timeout\nimport java.util.concurrent.LinkedBlockingQueue\nimport kotlin.concurrent.thread\n\nclass BlockingQueueKotlinTests {\n    // objectUnderTest\n    private val out = LinkedBlockingQueue&lt;String&gt;()\n\n    @Test\n    fun `put then get`() {\n        // that's easy because it can be done in one thread\n        out.put(\"Hello\")\n\n        val taken = out.take()\n\n        assertThat(taken).isEqualTo(\"Hello\")\n    }\n\n    @Test\n    @Timeout(1)\n    fun `get before put`() {\n        // thanks to kotlin it's really easy to do that in another thread\n        thread {\n            Thread.sleep(100)\n            out.put(\"kotlin is great!\")\n        }\n\n        val taken = out.take()\n\n        assertThat(taken).isEqualTo(\"kotlin is great!\")\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":341845,"reputation":19091,"user_id":672689,"accept_rate":82,"display_name":"Roee Gavirel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652593833,"creation_date":1652593833,"answer_id":72245823,"question_id":41240505,"body_markdown":"(A) you can just use Thread without the need of an ExecutorService\r\n\r\n    @Test\r\n    public void getBeforePutWithThread() throws InterruptedException {\r\n        new Thread(() -&gt; {\r\n            Thread.sleep(100);\r\n            out.put(&quot;Hello&quot;);\r\n        }).run();\r\n\r\n        String taken = out.take();\r\n\r\n        assertThat(taken).isEqualTo(&quot;Hello&quot;);\r\n    }\r\n\r\n(B) You can take this all functionality to a simple function and avoid dependency on external lib\r\n\r\n    private void runWithDelay(long delay, Runnable action) {\r\n        new Thread(() -&gt; {\r\n            try {\r\n                Thread.sleep(delay);\r\n                action.run();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).run();     \r\n    }\r\n\r\n    @Test\r\n    public void getBeforePutWithFunction() {\r\n        runWithDelay(100, () -&gt; out.put(&quot;Hello&quot;));\r\n\r\n        String taken = out.take();\r\n\r\n        assertThat(taken).isEqualTo(&quot;Hello&quot;);\r\n    }","title":"How to write concurrent unit tests","body":"<p>(A) you can just use Thread without the need of an ExecutorService</p>\n<pre><code>@Test\npublic void getBeforePutWithThread() throws InterruptedException {\n    new Thread(() -&gt; {\n        Thread.sleep(100);\n        out.put(&quot;Hello&quot;);\n    }).run();\n\n    String taken = out.take();\n\n    assertThat(taken).isEqualTo(&quot;Hello&quot;);\n}\n</code></pre>\n<p>(B) You can take this all functionality to a simple function and avoid dependency on external lib</p>\n<pre><code>private void runWithDelay(long delay, Runnable action) {\n    new Thread(() -&gt; {\n        try {\n            Thread.sleep(delay);\n            action.run();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }).run();     \n}\n\n@Test\npublic void getBeforePutWithFunction() {\n    runWithDelay(100, () -&gt; out.put(&quot;Hello&quot;));\n\n    String taken = out.take();\n\n    assertThat(taken).isEqualTo(&quot;Hello&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":6120309,"reputation":3055,"user_id":4774054,"accept_rate":0,"display_name":"Frank Neblung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3631,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1652593833,"creation_date":1482230860,"question_id":41240505,"body_markdown":"[Awaitility](https://github.com/awaitility/awaitility) is a great tool to unit-test concurrent production code.\r\n\r\nQuestion: Is there a tool to ease writing concurrent test code?\r\n\r\nSuppose I wanted to test `java.util.concurrent.LinkedBlockingQueue`.\r\n\r\n    public class BlockingQueueTest {\r\n        private LinkedBlockingQueue&lt;String&gt; out;\r\n\r\n        @Before\r\n        public void setUp() {\r\n            out = new LinkedBlockingQueue&lt;&gt;();\r\n        }\r\n\r\n        @Test\r\n        public void putThenGet() throws InterruptedException {\r\n            // that&#39;s easy because it can be done in one thread\r\n            out.put(&quot;Hello&quot;);\r\n\r\n            String taken = out.take();\r\n\r\n            assertThat(taken).isEqualTo(&quot;Hello&quot;);\r\n        }\r\n\r\n        @Test\r\n        public void getBeforePut() throws InterruptedException {\r\n            // that&#39;s more tricky because it can&#39;t be done with one thread\r\n            ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n            executorService.submit(() -&gt; {\r\n                Thread.sleep(100);\r\n                out.put(&quot;Hello&quot;);\r\n                return null;\r\n            });\r\n            executorService.shutdown();\r\n\r\n            String taken = out.take();\r\n\r\n            assertThat(taken).isEqualTo(&quot;Hello&quot;);\r\n        }\r\n    }\r\n\r\n`getBeforePut()` is no fun to code. Is there a way to make it less hard and more readable, like so?\r\n\r\n    @Test\r\n    public void getBeforePut2() throws InterruptedException {\r\n        // Wanted: DSL for concurrent test-code\r\n        Concurrently.sleep(100, TimeUnit.MILLISECONDS).andThen(() -&gt; out.put(&quot;Hello&quot;));\r\n\r\n        String taken = out.take();\r\n\r\n        assertThat(taken).isEqualTo(&quot;Hello&quot;);\r\n    }\r\n","title":"How to write concurrent unit tests","body":"<p><a href=\"https://github.com/awaitility/awaitility\" rel=\"nofollow noreferrer\">Awaitility</a> is a great tool to unit-test concurrent production code.</p>\n\n<p>Question: Is there a tool to ease writing concurrent test code?</p>\n\n<p>Suppose I wanted to test <code>java.util.concurrent.LinkedBlockingQueue</code>.</p>\n\n<pre><code>public class BlockingQueueTest {\n    private LinkedBlockingQueue&lt;String&gt; out;\n\n    @Before\n    public void setUp() {\n        out = new LinkedBlockingQueue&lt;&gt;();\n    }\n\n    @Test\n    public void putThenGet() throws InterruptedException {\n        // that's easy because it can be done in one thread\n        out.put(\"Hello\");\n\n        String taken = out.take();\n\n        assertThat(taken).isEqualTo(\"Hello\");\n    }\n\n    @Test\n    public void getBeforePut() throws InterruptedException {\n        // that's more tricky because it can't be done with one thread\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\n        executorService.submit(() -&gt; {\n            Thread.sleep(100);\n            out.put(\"Hello\");\n            return null;\n        });\n        executorService.shutdown();\n\n        String taken = out.take();\n\n        assertThat(taken).isEqualTo(\"Hello\");\n    }\n}\n</code></pre>\n\n<p><code>getBeforePut()</code> is no fun to code. Is there a way to make it less hard and more readable, like so?</p>\n\n<pre><code>@Test\npublic void getBeforePut2() throws InterruptedException {\n    // Wanted: DSL for concurrent test-code\n    Concurrently.sleep(100, TimeUnit.MILLISECONDS).andThen(() -&gt; out.put(\"Hello\"));\n\n    String taken = out.take();\n\n    assertThat(taken).isEqualTo(\"Hello\");\n}\n</code></pre>\n"},{"tags":["java","concurrency","mvcc"],"comments":[{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1472163868,"post_id":39155387,"comment_id":65654737,"body_markdown":"MVCC is not worth much outside of a transactional context (like a database). The idea is that your writes don&#39;t replace the existing data, they create a copy and make the changes there, so reads in concurrent transactions see the old data.","body":"MVCC is not worth much outside of a transactional context (like a database). The idea is that your writes don&#39;t replace the existing data, they create a copy and make the changes there, so reads in concurrent transactions see the old data."},{"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"score":0,"creation_date":1472167949,"post_id":39155387,"comment_id":65655985,"body_markdown":"@cHao: Thanks for your comments. I understand that reads might see old data. I want to understand how to implement this in code.","body":"@cHao: Thanks for your comments. I understand that reads might see old data. I want to understand how to implement this in code."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1472172287,"post_id":39155387,"comment_id":65657050,"body_markdown":"That&#39;s the thing.  Not might.  _Do_. This is one of the design goals of MVCC: that transactions already in progress before the write see the data as it was before it was written, especially if the transaction that&#39;s modifying the data hasn&#39;t been committed yet. You&#39;re nowhere close to MVCC while you&#39;re modifying data in-place.","body":"That&#39;s the thing.  Not might.  <i>Do</i>. This is one of the design goals of MVCC: that transactions already in progress before the write see the data as it was before it was written, especially if the transaction that&#39;s modifying the data hasn&#39;t been committed yet. You&#39;re nowhere close to MVCC while you&#39;re modifying data in-place."},{"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"score":0,"creation_date":1472200829,"post_id":39155387,"comment_id":65666971,"body_markdown":"do you mean..having a setter method like in my above code is not how MVCC should be implemented? Is there any sample code or implementation which I can refer as an example?","body":"do you mean..having a setter method like in my above code is not how MVCC should be implemented? Is there any sample code or implementation which I can refer as an example?"},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1472219669,"post_id":39155387,"comment_id":65678286,"body_markdown":"Sure, there&#39;s implementations out there. In PostgreSQL, for example. But you don&#39;t want database-specific explanations, and i can&#39;t think of a toy implementation like the one you apparently want. MVCC is quite a bit more complex than you think it is, and if anyone goes through the effort of covering it in any significant detail in a post on SO, i&#39;ll be very surprised.","body":"Sure, there&#39;s implementations out there. In PostgreSQL, for example. But you don&#39;t want database-specific explanations, and i can&#39;t think of a toy implementation like the one you apparently want. MVCC is quite a bit more complex than you think it is, and if anyone goes through the effort of covering it in any significant detail in a post on SO, i&#39;ll be very surprised."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1472220064,"post_id":39155387,"comment_id":65678564,"body_markdown":"Take a look at https://en.wikipedia.org/wiki/Multiversion_concurrency_control for more info and some links to resources.","body":"Take a look at <a href=\"https://en.wikipedia.org/wiki/Multiversion_concurrency_control\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Multiversion_concurrency_control</a> for more info and some links to resources."}],"answers":[{"tags":[],"owner":{"account_id":9371025,"reputation":141,"user_id":10662977,"display_name":"Samuel Squire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652593794,"creation_date":1624380692,"answer_id":68087743,"question_id":39155387,"body_markdown":"I wrote a [multiversion concurrency implementation in a simulation][1]. [See the simulation runner.][2] My simulation simulates 100 threads all trying to read and write two numbers, A and B. They want to increment the number by 1. We set A to 1 and B to 2 at the beginning of the simulation.\r\n\r\nThe desired outcome is that A and B should be set to 101 and 102 at the end of the simulation. This can only happen if there is locking or serialization due to multiversion concurrency control. If you didn&#39;t have concurrency control or locking, this number will be less than 101 and 102 due to data races.\r\n\r\nWhen a thread reads A or B we iterate over versions of key A or B to see if there is a version that is &lt;= transaction.getTimestamp() and committed.get(key) == that version. If successful, it sets the read timestamp of that value as the transaction that last read that value. rts.put(&quot;A&quot;, transaction)\r\n\r\nAt commit time, we check that the [rts.get(&quot;A&quot;).getTimestamp() != committingTransaction.getTimestamp()][3]. If this check is true, we abort the transaction and try again.\r\n\r\nWe also check if [someone committed since the transaction began][4] - we don&#39;t want to overwrite their commit.\r\n\r\nWe also check for each write that the **other** writing transaction is younger than us then we abort. The if statement is in a method called shouldRestart and this is called on reads and at commit time and on all transactions that touched a value.\r\n\r\n    public boolean shouldRestart(Transaction transaction, Transaction peek) {\r\n        boolean defeated =  (((peek.getTimestamp() &lt; transaction.getTimestamp() ||\r\n                (transaction.getNumberOfAttempts() &lt; peek.getNumberOfAttempts())) &amp;&amp; peek.getPrecommit()) ||\r\n                peek.getPrecommit() &amp;&amp; (peek.getTimestamp() &gt; transaction.getTimestamp() ||\r\n                        (peek.getNumberOfAttempts() &gt; transaction.getNumberOfAttempts() &amp;&amp; peek.getPrecommit())\r\n                        &amp;&amp; !peek.getRestart()));\r\n\r\n        return defeated;\r\n    }\r\n\r\n[see the code here][5] The or &amp;&amp; peek.getPrecommit() means that a younger transaction can abort if a later transaction gets ahead and the later transaction hasn&#39;t been restarted (aborted) Precommit occurs at the beginning of a commit.\r\n\r\nDuring a read of a key we check the RTS to see if it is lower than the reading than our transaction. If so, we abort the transaction and restart - someone is ahead of us in the queue and they need to commit.\r\n\r\nOn average, the system reaches 101 and 102 after around &lt; 300 transaction aborts. With many runs finishing well below 200 attempts.\r\n\r\nEDIT: I changed the formula for calculating which transactions wins. So if another transactions is younger or the other transactions has a higher number of attempts, the current transactions aborts. This reduces the number of attempts.\r\n\r\nEDIT: the reason there was high abort counts was that a committing thread would be starved by reading threads that would abort restart due to the committing thread. I added a Thread.yield when a read fails due to an ahead transaction, this reduces restart counts to &lt;200.\r\n\r\n\r\n  [1]: https://github.com/samsquire/multiversion-concurrency-control\r\n  [2]: https://github.com/samsquire/multiversion-concurrency-control/blob/main/src/main/java/main/Runner.java\r\n  [3]: https://github.com/samsquire/multiversion-concurrency-control/blob/c8a33f82258c3456d500a1e11095f56a927d469c/src/main/java/main/MVCC.java#L286\r\n  [4]: https://github.com/samsquire/multiversion-concurrency-control/blob/c8a33f82258c3456d500a1e11095f56a927d469c/src/main/java/main/MVCC.java#L305\r\n[5]: https://github.com/samsquire/multiversion-concurrency-control/blob/9b4c1a79eee100231db02fcfa2c5d9a0a42c3564/src/main/java/main/MVCC.java#L280","title":"How to implement simple MVCC datastructure","body":"<p>I wrote a <a href=\"https://github.com/samsquire/multiversion-concurrency-control\" rel=\"nofollow noreferrer\">multiversion concurrency implementation in a simulation</a>. <a href=\"https://github.com/samsquire/multiversion-concurrency-control/blob/main/src/main/java/main/Runner.java\" rel=\"nofollow noreferrer\">See the simulation runner.</a> My simulation simulates 100 threads all trying to read and write two numbers, A and B. They want to increment the number by 1. We set A to 1 and B to 2 at the beginning of the simulation.</p>\n<p>The desired outcome is that A and B should be set to 101 and 102 at the end of the simulation. This can only happen if there is locking or serialization due to multiversion concurrency control. If you didn't have concurrency control or locking, this number will be less than 101 and 102 due to data races.</p>\n<p>When a thread reads A or B we iterate over versions of key A or B to see if there is a version that is &lt;= transaction.getTimestamp() and committed.get(key) == that version. If successful, it sets the read timestamp of that value as the transaction that last read that value. rts.put(&quot;A&quot;, transaction)</p>\n<p>At commit time, we check that the <a href=\"https://github.com/samsquire/multiversion-concurrency-control/blob/c8a33f82258c3456d500a1e11095f56a927d469c/src/main/java/main/MVCC.java#L286\" rel=\"nofollow noreferrer\">rts.get(&quot;A&quot;).getTimestamp() != committingTransaction.getTimestamp()</a>. If this check is true, we abort the transaction and try again.</p>\n<p>We also check if <a href=\"https://github.com/samsquire/multiversion-concurrency-control/blob/c8a33f82258c3456d500a1e11095f56a927d469c/src/main/java/main/MVCC.java#L305\" rel=\"nofollow noreferrer\">someone committed since the transaction began</a> - we don't want to overwrite their commit.</p>\n<p>We also check for each write that the <strong>other</strong> writing transaction is younger than us then we abort. The if statement is in a method called shouldRestart and this is called on reads and at commit time and on all transactions that touched a value.</p>\n<pre><code>public boolean shouldRestart(Transaction transaction, Transaction peek) {\n    boolean defeated =  (((peek.getTimestamp() &lt; transaction.getTimestamp() ||\n            (transaction.getNumberOfAttempts() &lt; peek.getNumberOfAttempts())) &amp;&amp; peek.getPrecommit()) ||\n            peek.getPrecommit() &amp;&amp; (peek.getTimestamp() &gt; transaction.getTimestamp() ||\n                    (peek.getNumberOfAttempts() &gt; transaction.getNumberOfAttempts() &amp;&amp; peek.getPrecommit())\n                    &amp;&amp; !peek.getRestart()));\n\n    return defeated;\n}\n</code></pre>\n<p><a href=\"https://github.com/samsquire/multiversion-concurrency-control/blob/9b4c1a79eee100231db02fcfa2c5d9a0a42c3564/src/main/java/main/MVCC.java#L280\" rel=\"nofollow noreferrer\">see the code here</a> The or &amp;&amp; peek.getPrecommit() means that a younger transaction can abort if a later transaction gets ahead and the later transaction hasn't been restarted (aborted) Precommit occurs at the beginning of a commit.</p>\n<p>During a read of a key we check the RTS to see if it is lower than the reading than our transaction. If so, we abort the transaction and restart - someone is ahead of us in the queue and they need to commit.</p>\n<p>On average, the system reaches 101 and 102 after around &lt; 300 transaction aborts. With many runs finishing well below 200 attempts.</p>\n<p>EDIT: I changed the formula for calculating which transactions wins. So if another transactions is younger or the other transactions has a higher number of attempts, the current transactions aborts. This reduces the number of attempts.</p>\n<p>EDIT: the reason there was high abort counts was that a committing thread would be starved by reading threads that would abort restart due to the committing thread. I added a Thread.yield when a read fails due to an ahead transaction, this reduces restart counts to &lt;200.</p>\n"}],"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652593794,"creation_date":1472162423,"question_id":39155387,"body_markdown":"I am reading about different concurrency models and different features of concurrency, but no text talks about how to implement a simple MVCC data structure. Let us say I have to implement a simple Array based data structure which provided MVCC based concurrency. How should my code look like?\r\n\r\nI understand that MVCC basically means: (Multiversion concurrency control)\r\n\r\n1) Read isolation - your writes should not block reads\r\n\r\n2) Timestamp based ordering for establishing happens-before relation/ordering.\r\n\r\nDo I need to keep in mind any other aspects? \r\n\r\nAlso, my below code handles 1st requirement, but how to implement timestamp ordering?\r\n\r\n    class MVCCArray{\r\n    \t\r\n    \tprivate int[] arr;\r\n    \r\n    \tMVCCArray(int n){\r\n    \t\tarr = new int[n];\r\n    \t}\r\n    \r\n    \r\n    \t//unblocking reads\r\n    \tpublic int getItem(int index){\r\n    \t\treturn arr[index];\r\n    \t}\r\n    \r\n    \t//blocking writes\r\n    \tpublic synchronized void setItem(int index, int value){\r\n    \t\tarr[index]=value;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n&lt;br&gt;\r\n\r\nPS : I want to understand how it is implemented in a generic way. Please refrain from explaining how it is implemented in a particular database.\r\n  ","title":"How to implement simple MVCC datastructure","body":"<p>I am reading about different concurrency models and different features of concurrency, but no text talks about how to implement a simple MVCC data structure. Let us say I have to implement a simple Array based data structure which provided MVCC based concurrency. How should my code look like?</p>\n\n<p>I understand that MVCC basically means: (Multiversion concurrency control)</p>\n\n<p>1) Read isolation - your writes should not block reads</p>\n\n<p>2) Timestamp based ordering for establishing happens-before relation/ordering.</p>\n\n<p>Do I need to keep in mind any other aspects? </p>\n\n<p>Also, my below code handles 1st requirement, but how to implement timestamp ordering?</p>\n\n<pre><code>class MVCCArray{\n\n    private int[] arr;\n\n    MVCCArray(int n){\n        arr = new int[n];\n    }\n\n\n    //unblocking reads\n    public int getItem(int index){\n        return arr[index];\n    }\n\n    //blocking writes\n    public synchronized void setItem(int index, int value){\n        arr[index]=value;\n    }\n\n}\n</code></pre>\n\n<p><br></p>\n\n<p>PS : I want to understand how it is implemented in a generic way. Please refrain from explaining how it is implemented in a particular database.</p>\n"},{"tags":["java","securityexception"],"comments":[{"owner":{"account_id":1110848,"reputation":3563,"user_id":1101332,"accept_rate":67,"display_name":"sasankad"},"score":0,"creation_date":1393895165,"post_id":22160780,"comment_id":33631579,"body_markdown":"try adding following line to the java.security file security.provider.9=org.bouncycastle.jce.provider.BouncyCastleProvider","body":"try adding following line to the java.security file security.provider.9=org.bouncycastle.jce.provider.BouncyCast&zwnj;&#8203;leProvider"},{"owner":{"account_id":1185351,"reputation":470,"user_id":1159444,"accept_rate":82,"display_name":"Spencer H"},"score":0,"creation_date":1393895561,"post_id":22160780,"comment_id":33631707,"body_markdown":"will that make it work on other people&#39;s computers? Or just mine? I&#39;m trying to make a release jarfile","body":"will that make it work on other people&#39;s computers? Or just mine? I&#39;m trying to make a release jarfile"}],"answers":[{"tags":[],"owner":{"account_id":2682926,"reputation":2686,"user_id":2317875,"display_name":"unigeek"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1393897865,"creation_date":1393897362,"answer_id":22161270,"question_id":22160780,"body_markdown":"You probably want to register the cryptographic service provider at runtime to ensure the configuration will work for everyone. You can use either of the Security.addProvider() or Security.insertProviderAt() methods. See documentation linked below under &quot;Managing Providers&quot;.\r\n\r\n - http://docs.oracle.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html#Provider\r\n\r\nJust use addProvider() unless the order of providers is somehow important for you. I saw one contributor commented that you might slot it in at entry #9, but I didn&#39;t see evidence that this is right for your configuration, so probably just an extraneous detail from his/her config file. Obviously, if I missed something about your configuration and you do need it there, then go for insertProviderAt().","title":"Java JCE cannot authenticate provider BC in jarsplice created jar","body":"<p>You probably want to register the cryptographic service provider at runtime to ensure the configuration will work for everyone. You can use either of the Security.addProvider() or Security.insertProviderAt() methods. See documentation linked below under \"Managing Providers\".</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html#Provider\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/technotes/guides/security/crypto/CryptoSpec.html#Provider</a></li>\n</ul>\n\n<p>Just use addProvider() unless the order of providers is somehow important for you. I saw one contributor commented that you might slot it in at entry #9, but I didn't see evidence that this is right for your configuration, so probably just an extraneous detail from his/her config file. Obviously, if I missed something about your configuration and you do need it there, then go for insertProviderAt().</p>\n"},{"tags":[],"owner":{"account_id":3248244,"reputation":646,"user_id":2739201,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647004524,"creation_date":1647004524,"answer_id":71439110,"question_id":22160780,"body_markdown":"I&#39;m a Android developer, got this error when I upgraded the compile and build tool to Android 12 (31), I tried lots of ways to fix it and finally I found the only way that works is changing the JDK to the version of 11.0.14.1 (x86_64), I worked on Mac M1, the downloading link of this version is: https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html","title":"Java JCE cannot authenticate provider BC in jarsplice created jar","body":"<p>I'm a Android developer, got this error when I upgraded the compile and build tool to Android 12 (31), I tried lots of ways to fix it and finally I found the only way that works is changing the JDK to the version of 11.0.14.1 (x86_64), I worked on Mac M1, the downloading link of this version is: <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/corretto/latest/corretto-11-ug/downloads-list.html</a></p>\n"}],"owner":{"account_id":1185351,"reputation":470,"user_id":1159444,"accept_rate":82,"display_name":"Spencer H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17473,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":22161270,"answer_count":2,"score":6,"last_activity_date":1652593377,"creation_date":1393894547,"question_id":22160780,"body_markdown":"I am working on a game and I am using the Slick2D library. I am also using bouncycastle for encryption. Then I use jarsplice to package everything together in a nice executable. And it runs fine until it needs to encrypt something. It gives me a `java.lang.SecurityException: JCE cannot authenticate the provider BC` And I am using a signed jarfile (http://www.bouncycastle.org/download/bcprov-jdk15on-150.jar)\r\n\r\nHere is the stack trace\r\n\r\n   \r\n\r\n     java.lang.SecurityException: JCE cannot authenticate the provider BC\r\n    \tat javax.crypto.Cipher.getInstance(Cipher.java:642)\r\n    \tat javax.crypto.Cipher.getInstance(Cipher.java:580)\r\n    \tat net.matrixstudios.zenerith.networking.ZenerithLogin.encryptLogin(ZenerithLogin.java:159)\r\n    \tat net.matrixstudios.zenerith.networking.ZenerithLogin.&lt;init&gt;(ZenerithLogin.java:112)\r\n    \tat net.matrixstudios.zenerith.MultiplayerMenu$1.performAction(MultiplayerMenu.java:90)\r\n    \tat net.matrixstudios.zenerith.gui.menu.MenuGameState.clickButton(MenuGameState.java:83)\r\n    \tat net.matrixstudios.zenerith.gui.menu.MenuGameState.checkForButtonClicks(MenuGameState.java:75)\r\n    \tat net.matrixstudios.zenerith.gui.menu.MenuGameState.update(MenuGameState.java:51)\r\n    \tat net.matrixstudios.zenerith.gui.menu.AbstractGameState.update(AbstractGameState.java:47)\r\n    \tat org.newdawn.slick.state.StateBasedGame.update(StateBasedGame.java:266)\r\n    \tat org.newdawn.slick.GameContainer.updateAndRender(GameContainer.java:663)\r\n    \tat org.newdawn.slick.AppGameContainer.gameLoop(AppGameContainer.java:411)\r\n    \tat org.newdawn.slick.AppGameContainer.start(AppGameContainer.java:321)\r\n    \tat net.matrixstudios.zenerith.gui.Window.&lt;init&gt;(Window.java:28)\r\n    \tat net.matrixstudios.Main.main(Main.java:28)\r\n    Caused by: java.util.jar.JarException: file:/C:/Users/M4trixSh4d0w/Desktop/Zenerith_Alpha.0.2.1.5.jar has unsigned entries - org/bouncycastle/LICENSE.class\r\n    \tat javax.crypto.JarVerifier.verifySingleJar(JarVerifier.java:462)\r\n    \tat javax.crypto.JarVerifier.verifyJars(JarVerifier.java:322)\r\n    \tat javax.crypto.JarVerifier.verify(JarVerifier.java:250)\r\n    \tat javax.crypto.JceSecurity.verifyProviderJar(JceSecurity.java:161)\r\n    \tat javax.crypto.JceSecurity.getVerificationResult(JceSecurity.java:187)\r\n    \tat javax.crypto.Cipher.getInstance(Cipher.java:638)\r\n    \t... 14 more\r\n\r\nSo how do I authenticate the jarfile to run?\r\nThis is a standalone executable jarfile.","title":"Java JCE cannot authenticate provider BC in jarsplice created jar","body":"<p>I am working on a game and I am using the Slick2D library. I am also using bouncycastle for encryption. Then I use jarsplice to package everything together in a nice executable. And it runs fine until it needs to encrypt something. It gives me a <code>java.lang.SecurityException: JCE cannot authenticate the provider BC</code> And I am using a signed jarfile (<a href=\"http://www.bouncycastle.org/download/bcprov-jdk15on-150.jar\" rel=\"noreferrer\">http://www.bouncycastle.org/download/bcprov-jdk15on-150.jar</a>)</p>\n\n<p>Here is the stack trace</p>\n\n<pre><code> java.lang.SecurityException: JCE cannot authenticate the provider BC\n    at javax.crypto.Cipher.getInstance(Cipher.java:642)\n    at javax.crypto.Cipher.getInstance(Cipher.java:580)\n    at net.matrixstudios.zenerith.networking.ZenerithLogin.encryptLogin(ZenerithLogin.java:159)\n    at net.matrixstudios.zenerith.networking.ZenerithLogin.&lt;init&gt;(ZenerithLogin.java:112)\n    at net.matrixstudios.zenerith.MultiplayerMenu$1.performAction(MultiplayerMenu.java:90)\n    at net.matrixstudios.zenerith.gui.menu.MenuGameState.clickButton(MenuGameState.java:83)\n    at net.matrixstudios.zenerith.gui.menu.MenuGameState.checkForButtonClicks(MenuGameState.java:75)\n    at net.matrixstudios.zenerith.gui.menu.MenuGameState.update(MenuGameState.java:51)\n    at net.matrixstudios.zenerith.gui.menu.AbstractGameState.update(AbstractGameState.java:47)\n    at org.newdawn.slick.state.StateBasedGame.update(StateBasedGame.java:266)\n    at org.newdawn.slick.GameContainer.updateAndRender(GameContainer.java:663)\n    at org.newdawn.slick.AppGameContainer.gameLoop(AppGameContainer.java:411)\n    at org.newdawn.slick.AppGameContainer.start(AppGameContainer.java:321)\n    at net.matrixstudios.zenerith.gui.Window.&lt;init&gt;(Window.java:28)\n    at net.matrixstudios.Main.main(Main.java:28)\nCaused by: java.util.jar.JarException: file:/C:/Users/M4trixSh4d0w/Desktop/Zenerith_Alpha.0.2.1.5.jar has unsigned entries - org/bouncycastle/LICENSE.class\n    at javax.crypto.JarVerifier.verifySingleJar(JarVerifier.java:462)\n    at javax.crypto.JarVerifier.verifyJars(JarVerifier.java:322)\n    at javax.crypto.JarVerifier.verify(JarVerifier.java:250)\n    at javax.crypto.JceSecurity.verifyProviderJar(JceSecurity.java:161)\n    at javax.crypto.JceSecurity.getVerificationResult(JceSecurity.java:187)\n    at javax.crypto.Cipher.getInstance(Cipher.java:638)\n    ... 14 more\n</code></pre>\n\n<p>So how do I authenticate the jarfile to run?\nThis is a standalone executable jarfile.</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":8243275,"reputation":335,"user_id":6200260,"display_name":"Prasad Tamgale"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652593283,"creation_date":1652589636,"answer_id":72245553,"question_id":72245513,"body_markdown":"export will only persist in the terminal, if you run it manually.&lt;br&gt;\r\n&lt;br&gt;\r\nAdd the export JAVA_HOME command in .profile file at home directory, so that it will persist in every newly created terminal.","title":"Why my uninstalled jdk version still shows in java -version?","body":"<p>export will only persist in the terminal, if you run it manually.<br>\n<br>\nAdd the export JAVA_HOME command in .profile file at home directory, so that it will persist in every newly created terminal.</p>\n"}],"owner":{"account_id":25248280,"reputation":75,"user_id":19081184,"display_name":"superDu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":983,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1652593283,"creation_date":1652588965,"question_id":72245513,"body_markdown":"In my project which need jdk 1.8, but there is default openjdk 17 in my mac. So I remove it from ```Library/Java/JavaVirtualMachines```. But when I run java -version it still shows my default jdk version is openjdk 17. And when I run ```/usr/libexec/java_home```it shows ```/Users/lidu/Library/Java/JavaVirtualMachines/openjdk-17/Contents/Home```. But I am sure that there isn&#39;t a directory called ```openjdk-17``` in the path ```/Users/lidu/Library/Java/JavaVirtualMachines/```.\r\n\r\nAnd when I run ``` export JAVA_HOME=$(/usr/libexec/java_home -v &quot;1.8.0_331&quot;)```it can be changed to jdk 1.8 but in the next time when I create a new terminal, it still shows the default jdk version is open jdk 17.","title":"Why my uninstalled jdk version still shows in java -version?","body":"<p>In my project which need jdk 1.8, but there is default openjdk 17 in my mac. So I remove it from <code>Library/Java/JavaVirtualMachines</code>. But when I run java -version it still shows my default jdk version is openjdk 17. And when I run <code>/usr/libexec/java_home</code>it shows <code>/Users/lidu/Library/Java/JavaVirtualMachines/openjdk-17/Contents/Home</code>. But I am sure that there isn't a directory called <code>openjdk-17</code> in the path <code>/Users/lidu/Library/Java/JavaVirtualMachines/</code>.</p>\n<p>And when I run <code> export JAVA_HOME=$(/usr/libexec/java_home -v &quot;1.8.0_331&quot;)</code>it can be changed to jdk 1.8 but in the next time when I create a new terminal, it still shows the default jdk version is open jdk 17.</p>\n"},{"tags":["java","user-interface","input","save"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1652589150,"post_id":72245518,"comment_id":127640143,"body_markdown":"[mcve] - otherwise it&#39;s all just guess work","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - otherwise it&#39;s all just guess work"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652589475,"creation_date":1652589475,"answer_id":72245545,"question_id":72245518,"body_markdown":"Works fine for me...\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel implements ActionListener {\r\n\r\n            private JTextField txtNewUsername;\r\n            private JPasswordField txtPassword;\r\n            private JButton btnCreateAccount;\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                txtNewUsername = new JTextField(10);\r\n                txtPassword = new JPasswordField(10);\r\n                btnCreateAccount = new JButton(&quot;Create&quot;);\r\n\r\n                add(txtNewUsername, gbc);\r\n                add(txtPassword, gbc);\r\n                add(btnCreateAccount, gbc);\r\n\r\n                btnCreateAccount.addActionListener(this);\r\n            }\r\n\r\n            public void actionPerformed(ActionEvent e) {\r\n                File user = new File(&quot;Usernames.txt&quot;);\r\n                File pass = new File(&quot;Passwords.txt&quot;);\r\n\r\n                if (e.getSource() == btnCreateAccount) {\r\n                    try (BufferedWriter addUser = new BufferedWriter(new FileWriter(user, true)); BufferedWriter addPass = new BufferedWriter(new FileWriter(pass, true))) {\r\n                        addUser.write(txtNewUsername.getText());\r\n                        addUser.newLine();\r\n                        addPass.write(txtPassword.getText());\r\n                        addPass.newLine();\r\n                        JOptionPane.showMessageDialog(null, &quot;Account Successfully Created&quot;, &quot;Success&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                    } catch (IOException exp) {\r\n                        JOptionPane.showMessageDialog(this, &quot;Account creation failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nYou might also consider having a look at [The try-with-resources Statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)","title":"How do I add user input from JTextfield to Text file","body":"<p>Works fine for me...</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport javax.swing.JButton;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel implements ActionListener {\n\n        private JTextField txtNewUsername;\n        private JPasswordField txtPassword;\n        private JButton btnCreateAccount;\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            txtNewUsername = new JTextField(10);\n            txtPassword = new JPasswordField(10);\n            btnCreateAccount = new JButton(&quot;Create&quot;);\n\n            add(txtNewUsername, gbc);\n            add(txtPassword, gbc);\n            add(btnCreateAccount, gbc);\n\n            btnCreateAccount.addActionListener(this);\n        }\n\n        public void actionPerformed(ActionEvent e) {\n            File user = new File(&quot;Usernames.txt&quot;);\n            File pass = new File(&quot;Passwords.txt&quot;);\n\n            if (e.getSource() == btnCreateAccount) {\n                try (BufferedWriter addUser = new BufferedWriter(new FileWriter(user, true)); BufferedWriter addPass = new BufferedWriter(new FileWriter(pass, true))) {\n                    addUser.write(txtNewUsername.getText());\n                    addUser.newLine();\n                    addPass.write(txtPassword.getText());\n                    addPass.newLine();\n                    JOptionPane.showMessageDialog(null, &quot;Account Successfully Created&quot;, &quot;Success&quot;, JOptionPane.INFORMATION_MESSAGE);\n                } catch (IOException exp) {\n                    JOptionPane.showMessageDialog(this, &quot;Account creation failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>You might also consider having a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a></p>\n"},{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652593152,"creation_date":1652592427,"answer_id":72245723,"question_id":72245518,"body_markdown":"To hold user input, you can you any number of Objects. I will use a `StringBuilder` here:\r\n```java\r\nStringBuilder userInput = new StringBuilder();\r\n```\r\nThen to read the input, call the name with this method:\r\n```java\r\nuserInput.append(fieldName.getText()).append(&quot;\\n&quot;);\r\n```\r\nAfter that, you need to write it to a file with any other handful of Objects. I will use the `FileWriter` here:\r\n```java\r\nFileWriter fileWriter = new FileWriter(&quot;filename.txt&quot;);\r\n```\r\nThen call the following:\r\n```java\r\nfileWriter.write(userInput.toString());\r\n```\r\nAnd ultimately when you are done writing:\r\n```java\r\nfileWriter.close();\r\n```\r\n**More information**\r\n* &lt;https://www.javatpoint.com/StringBuilder-class&gt;\r\n&gt;`.append(String s)` is used to append the specified string with this string. The `append()` method is overloaded like `append(char)`, `append(boolean)`, `append(int)`, `append(float)`, `append(double)` etc.\r\n* &lt;https://www.javatpoint.com/java-filewriter-class&gt;\r\n&gt;`FileWriter(String file)` creates a new file; it gets file name in string. `void write(String text)` is used to write the string into FileWriter. And `void close()` is used to close the FileWriter.\r\n","title":"How do I add user input from JTextfield to Text file","body":"<p>To hold user input, you can you any number of Objects. I will use a <code>StringBuilder</code> here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder userInput = new StringBuilder();\n</code></pre>\n<p>Then to read the input, call the name with this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>userInput.append(fieldName.getText()).append(&quot;\\n&quot;);\n</code></pre>\n<p>After that, you need to write it to a file with any other handful of Objects. I will use the <code>FileWriter</code> here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileWriter fileWriter = new FileWriter(&quot;filename.txt&quot;);\n</code></pre>\n<p>Then call the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>fileWriter.write(userInput.toString());\n</code></pre>\n<p>And ultimately when you are done writing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>fileWriter.close();\n</code></pre>\n<p><strong>More information</strong></p>\n<ul>\n<li><a href=\"https://www.javatpoint.com/StringBuilder-class\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/StringBuilder-class</a></li>\n</ul>\n<blockquote>\n<p><code>.append(String s)</code> is used to append the specified string with this string. The <code>append()</code> method is overloaded like <code>append(char)</code>, <code>append(boolean)</code>, <code>append(int)</code>, <code>append(float)</code>, <code>append(double)</code> etc.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://www.javatpoint.com/java-filewriter-class\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/java-filewriter-class</a></li>\n</ul>\n<blockquote>\n<p><code>FileWriter(String file)</code> creates a new file; it gets file name in string. <code>void write(String text)</code> is used to write the string into FileWriter. And <code>void close()</code> is used to close the FileWriter.</p>\n</blockquote>\n"}],"owner":{"account_id":25054038,"reputation":61,"user_id":18909694,"display_name":"Imaginewagons"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1652593152,"creation_date":1652589062,"question_id":72245518,"body_markdown":"I&#39;ve been trying to create a simple register form using GUI and I am having a hard time in saving the user inputs from JTextfield to a txt file. So far this is what I have come up with:\r\n\r\n    package com.main;\r\n    import java.awt.event.*;\r\n    import java.io.*;\r\n    import javax.swing.*;\r\n\r\n    public class RegisterScreen extends JFrame implements ActionListener{\r\n    \r\n    JLabel lblCreateUser, lblCreatePassword; \r\n    JTextField txtNewUsername, txtNewPassword;\r\n\r\n    JButton btnCreateAccount;\r\n    public RegisterScreen(){\r\n        super(&quot;Create new User&quot;);\r\n        setLayout(null);\r\n\r\n        lblCreateUser = new JLabel(&quot;Please enter your Email Address&quot;);\r\n        lblCreatePassword = new JLabel(&quot;Please enter your Password&quot;);\r\n        txtNewUsername = new JTextField(&quot;Username&quot;);\r\n        txtNewPassword = new JTextField(&quot;Password&quot;);\r\n        btnCreateAccount = new JButton(&quot;Create account&quot;);\r\n     \r\n\r\n        lblCreateUser.setBounds(100,50, 250,40);\r\n        lblCreatePassword.setBounds(50, 150, 300, 40);\r\n        txtNewUsername.setBounds(50, 200, 300,  40);\r\n        txtNewPassword.setBounds(125, 250, 150, 40);\r\n        btnCreateAccount.setBounds(125, 350,150, 12);\r\n\r\n        btnCreateAccount.addActionListener(this);\r\n\r\n        add(lblCreateUser);\r\n        add(txtNewUsername);\r\n        add(lblCreatePassword);\r\n        add(txtNewPassword);\r\n        add(btnCreateAccount);\r\n\r\n        addWindowListener(new WindowAdapter(){\r\n            public void windowClosing(WindowEvent exit){\r\n                System.exit(0);\r\n            }\r\n        });\r\n        setSize(400,600);\r\n        setVisible(true);\r\n        setResizable(false);\r\n\r\n    }\r\n    public static void main (String []args){\r\n        RegisterScreen register = new RegisterScreen();\r\n    }\r\n    public void actionPerformed(ActionEvent e) {\r\n        try{\r\n            BufferedWriter addUser = new BufferedWriter(new FileWriter(&quot;Usernames.txt&quot;));\r\n            BufferedWriter addPassword = new BufferedWriter(new FileWriter(&quot;Passwords.txt&quot;));\r\n\r\n            if(e.getSource() == btnCreateAccount){\r\n              \r\n               addUser.write(txtNewUsername.getText() +&quot;\\n&quot;);\r\n               addPassword.write(txtNewPassword.getText()+&quot;\\n&quot;);\r\n\r\n               addUser.close();\r\n               addPassword.close();\r\n\r\n               JOptionPane.showMessageDialog(null, &quot;Account Successfully Created&quot;, &quot;Success&quot;,1);\r\n            }\r\n        }\r\n        catch(IOException err){\r\n            System.err.println(&quot;File not Found.&quot;);\r\n        }\r\n       \r\n        \r\n    }\r\n}\r\n       \r\n        \r\n \r\n\r\nIn this program, the username and password will be stored separately to their respective text file. The problem is that whenever I tried clicking the create account button, instead of adding the user inputs to another line, it completely replaced the whole contents of the file itself to the user input. Any help is much appreciated.","title":"How do I add user input from JTextfield to Text file","body":"<p>I've been trying to create a simple register form using GUI and I am having a hard time in saving the user inputs from JTextfield to a txt file. So far this is what I have come up with:</p>\n<pre><code>package com.main;\nimport java.awt.event.*;\nimport java.io.*;\nimport javax.swing.*;\n\npublic class RegisterScreen extends JFrame implements ActionListener{\n\nJLabel lblCreateUser, lblCreatePassword; \nJTextField txtNewUsername, txtNewPassword;\n\nJButton btnCreateAccount;\npublic RegisterScreen(){\n    super(&quot;Create new User&quot;);\n    setLayout(null);\n\n    lblCreateUser = new JLabel(&quot;Please enter your Email Address&quot;);\n    lblCreatePassword = new JLabel(&quot;Please enter your Password&quot;);\n    txtNewUsername = new JTextField(&quot;Username&quot;);\n    txtNewPassword = new JTextField(&quot;Password&quot;);\n    btnCreateAccount = new JButton(&quot;Create account&quot;);\n \n\n    lblCreateUser.setBounds(100,50, 250,40);\n    lblCreatePassword.setBounds(50, 150, 300, 40);\n    txtNewUsername.setBounds(50, 200, 300,  40);\n    txtNewPassword.setBounds(125, 250, 150, 40);\n    btnCreateAccount.setBounds(125, 350,150, 12);\n\n    btnCreateAccount.addActionListener(this);\n\n    add(lblCreateUser);\n    add(txtNewUsername);\n    add(lblCreatePassword);\n    add(txtNewPassword);\n    add(btnCreateAccount);\n\n    addWindowListener(new WindowAdapter(){\n        public void windowClosing(WindowEvent exit){\n            System.exit(0);\n        }\n    });\n    setSize(400,600);\n    setVisible(true);\n    setResizable(false);\n\n}\npublic static void main (String []args){\n    RegisterScreen register = new RegisterScreen();\n}\npublic void actionPerformed(ActionEvent e) {\n    try{\n        BufferedWriter addUser = new BufferedWriter(new FileWriter(&quot;Usernames.txt&quot;));\n        BufferedWriter addPassword = new BufferedWriter(new FileWriter(&quot;Passwords.txt&quot;));\n\n        if(e.getSource() == btnCreateAccount){\n          \n           addUser.write(txtNewUsername.getText() +&quot;\\n&quot;);\n           addPassword.write(txtNewPassword.getText()+&quot;\\n&quot;);\n\n           addUser.close();\n           addPassword.close();\n\n           JOptionPane.showMessageDialog(null, &quot;Account Successfully Created&quot;, &quot;Success&quot;,1);\n        }\n    }\n    catch(IOException err){\n        System.err.println(&quot;File not Found.&quot;);\n    }\n   \n    \n}\n</code></pre>\n<p>}</p>\n<p>In this program, the username and password will be stored separately to their respective text file. The problem is that whenever I tried clicking the create account button, instead of adding the user inputs to another line, it completely replaced the whole contents of the file itself to the user input. Any help is much appreciated.</p>\n"},{"tags":["java","android","qr-code"],"comments":[{"owner":{"account_id":2035639,"reputation":1080,"user_id":1818059,"display_name":"MyICQ"},"score":0,"creation_date":1652596562,"post_id":72245734,"comment_id":127640887,"body_markdown":"I work with barcodes. In general, as soon as you start going away from the most common symbologies, you are better off getting funds for a proper library. You will be happier in the end.   I have good experience with [Code Corporation mobile SDK](https://codecorp.com/products/mobile-sdk) There is a scanner app available &quot;Cortex Scan&quot; to test it.","body":"I work with barcodes. In general, as soon as you start going away from the most common symbologies, you are better off getting funds for a proper library. You will be happier in the end.   I have good experience with <a href=\"https://codecorp.com/products/mobile-sdk\" rel=\"nofollow noreferrer\">Code Corporation mobile SDK</a> There is a scanner app available &quot;Cortex Scan&quot; to test it."},{"owner":{"account_id":6518594,"reputation":21,"user_id":5043508,"display_name":"Dhruv Mathur"},"score":0,"creation_date":1652598088,"post_id":72245734,"comment_id":127641128,"body_markdown":"Any idea about the cost or pricing patterns?\nWe barely have enough money to sustain ourselves - I can only dream of this when we raise funds.\n\nI found this https://github.com/lessthanoptimal/BoofCV/blob/v0.40/examples/src/main/java/boofcv/examples/fiducial/ExampleDetectMicroQrCode.java\n\nwhich has Android Support, I could probably couple it with a socket, and produce what I need just using smart-phones. Most scanners with micro qr code capability seem extremely expensive.","body":"Any idea about the cost or pricing patterns? We barely have enough money to sustain ourselves - I can only dream of this when we raise funds.  I found this <a href=\"https://github.com/lessthanoptimal/BoofCV/blob/v0.40/examples/src/main/java/boofcv/examples/fiducial/ExampleDetectMicroQrCode.java\" rel=\"nofollow noreferrer\">github.com/lessthanoptimal/BoofCV/blob/v0.40/examples/src/ma&zwnj;&#8203;in/&hellip;</a>  which has Android Support, I could probably couple it with a socket, and produce what I need just using smart-phones. Most scanners with micro qr code capability seem extremely expensive."}],"owner":{"account_id":6518594,"reputation":21,"user_id":5043508,"display_name":"Dhruv Mathur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1652592512,"creation_date":1652592512,"question_id":72245734,"body_markdown":"Is there any open source micro QR code scanner for Android? Ive been going a fair bit and I only found Google&#39;s library and Zxing both of which do not support it.\r\n\r\nI run an e-commerce business, and we have a lot of inventory all of which has been marked by microqr codes.\r\n\r\nWe are planning on integrate these microqr codes for internal use, and let customers use our app to validate their products.\r\n\r\nAm I going to have to build this myself?","title":"Micro QR code Decoder Library for Android","body":"<p>Is there any open source micro QR code scanner for Android? Ive been going a fair bit and I only found Google's library and Zxing both of which do not support it.</p>\n<p>I run an e-commerce business, and we have a lot of inventory all of which has been marked by microqr codes.</p>\n<p>We are planning on integrate these microqr codes for internal use, and let customers use our app to validate their products.</p>\n<p>Am I going to have to build this myself?</p>\n"},{"tags":["java","maven","gradle"],"comments":[{"owner":{"account_id":8509567,"reputation":33,"user_id":6380000,"display_name":"Ananta Podder"},"score":0,"creation_date":1652589029,"post_id":72245489,"comment_id":127640132,"body_markdown":"Thank You man. I&#39;ll run a demonstration to learn it more deeply. Thanks.","body":"Thank You man. I&#39;ll run a demonstration to learn it more deeply. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1652591665,"creation_date":1652589237,"answer_id":72245533,"question_id":72245489,"body_markdown":"&gt; Why Maven or Gradle come into picture?\r\n\r\nBecause building non-trivial applications by running `javac` from the command line leads to mistakes, non-reproducible builds and so on. \r\n\r\nThe history is roughly as follows\r\n  - Running `javac` by hand is tedious and unreliable.\r\n  - Shell scripts that run `javac` etc are cumbersome, and a maintenance burden.\r\n  - `Make` came next&lt;sup&gt;1&lt;/sup&gt;, but Make didn&#39;t understand Java, so you ended up recompiling a lot of Java classes unnecessarily. \r\n  - Then came `Ant`, but that didn&#39;t understand Java library dependencies.  (That lead to the practice of embedding copies of JARs for dependencies into the repositories of the projects that use them.  And consequent difficulties.)\r\n  - Then came `Maven` which provided a system to describe and manage dependencies.  Also it introduced a standard way of structuring the code and non-code files in a project.\r\n  - Then came `Gradle` which has a more flexible (non-linear) model of how tasks are performed.  And performance.\r\n  - Then came `Bazel` which is more focused on *reproducibility* of builds.\r\n\r\nThe differences between Maven, Gradle and Bazel are more pronounced for large projects.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - &quot;Next&quot; in terms of its use for Java builds.  The Make tool itself predates Java by many years.&lt;/sup&gt;","title":"Why Maven or Gradle come into picture?","body":"<blockquote>\n<p>Why Maven or Gradle come into picture?</p>\n</blockquote>\n<p>Because building non-trivial applications by running <code>javac</code> from the command line leads to mistakes, non-reproducible builds and so on.</p>\n<p>The history is roughly as follows</p>\n<ul>\n<li>Running <code>javac</code> by hand is tedious and unreliable.</li>\n<li>Shell scripts that run <code>javac</code> etc are cumbersome, and a maintenance burden.</li>\n<li><code>Make</code> came next<sup>1</sup>, but Make didn't understand Java, so you ended up recompiling a lot of Java classes unnecessarily.</li>\n<li>Then came <code>Ant</code>, but that didn't understand Java library dependencies.  (That lead to the practice of embedding copies of JARs for dependencies into the repositories of the projects that use them.  And consequent difficulties.)</li>\n<li>Then came <code>Maven</code> which provided a system to describe and manage dependencies.  Also it introduced a standard way of structuring the code and non-code files in a project.</li>\n<li>Then came <code>Gradle</code> which has a more flexible (non-linear) model of how tasks are performed.  And performance.</li>\n<li>Then came <code>Bazel</code> which is more focused on <em>reproducibility</em> of builds.</li>\n</ul>\n<p>The differences between Maven, Gradle and Bazel are more pronounced for large projects.</p>\n<hr />\n<p><sup>1 - &quot;Next&quot; in terms of its use for Java builds.  The Make tool itself predates Java by many years.</sup></p>\n"}],"owner":{"account_id":8509567,"reputation":33,"user_id":6380000,"display_name":"Ananta Podder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1652592319,"accepted_answer_id":72245533,"answer_count":1,"score":-1,"last_activity_date":1652591665,"creation_date":1652588504,"question_id":72245489,"body_markdown":"I know core Java, I want to learn Maven/Gradle. But I want to know why maven or gradle is required. is there any way to understand the problem we would face without maven or gradle. I want to know the procedure to build it without using build tools. A technology emerges for solving any issue. I want to know the issue Java developers were facing.","title":"Why Maven or Gradle come into picture?","body":"<p>I know core Java, I want to learn Maven/Gradle. But I want to know why maven or gradle is required. is there any way to understand the problem we would face without maven or gradle. I want to know the procedure to build it without using build tools. A technology emerges for solving any issue. I want to know the issue Java developers were facing.</p>\n"},{"tags":["java","android","google-cloud-firestore","image-slider"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1642432967,"post_id":70739333,"comment_id":125063345,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":23460508,"reputation":1,"user_id":17515427,"display_name":"Stuti Jain"},"score":0,"creation_date":1642438947,"post_id":70739333,"comment_id":125065680,"body_markdown":"No sir, the app does not crash. I get the word &quot;error&quot; written in place of images in image slider. Logcat has all the image urls. Have added the images in the question.","body":"No sir, the app does not crash. I get the word &quot;error&quot; written in place of images in image slider. Logcat has all the image urls. Have added the images in the question."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642486748,"post_id":70739333,"comment_id":125076332,"body_markdown":"Are all those valid URLs?","body":"Are all those valid URLs?"},{"owner":{"account_id":23460508,"reputation":1,"user_id":17515427,"display_name":"Stuti Jain"},"score":0,"creation_date":1642494677,"post_id":70739333,"comment_id":125078746,"body_markdown":"Yes sir, each one of them opens an image in browser.","body":"Yes sir, each one of them opens an image in browser."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642494900,"post_id":70739333,"comment_id":125078830,"body_markdown":"Please edit your question and add your database structure as a screenshot.","body":"Please edit your question and add your database structure as a screenshot."},{"owner":{"account_id":23460508,"reputation":1,"user_id":17515427,"display_name":"Stuti Jain"},"score":0,"creation_date":1642501751,"post_id":70739333,"comment_id":125081667,"body_markdown":"I have added the image sir.","body":"I have added the image sir."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642501926,"post_id":70739333,"comment_id":125081730,"body_markdown":"The reference you are using `db.collection(&quot;Store&quot;).document(&quot;name&quot;).collection(&quot;prod&quot;).document(position).collection(&quot;details&quot;).document(&quot;product_id&quot;)` doesn&#39;t correspond with we are using in the screenshot, right?","body":"The reference you are using <code>db.collection(&quot;Store&quot;).document(&quot;name&quot;).collection(&quot;prod&quot;).d&zwnj;&#8203;ocument(position).co&zwnj;&#8203;llection(&quot;details&quot;).&zwnj;&#8203;document(&quot;product_id&zwnj;&#8203;&quot;)</code> doesn&#39;t correspond with we are using in the screenshot, right?"},{"owner":{"account_id":23460508,"reputation":1,"user_id":17515427,"display_name":"Stuti Jain"},"score":0,"creation_date":1642513445,"post_id":70739333,"comment_id":125086324,"body_markdown":"It does sir, I have just changed tow things to avoid confusion. The original one is -  db.collection(&quot;Store&quot;).document(&quot;uniquename.TFTVHvZaHOIxjYLnHvwc&quot;).collection(&quot;products&quot;).document(position).collection(&quot;about&quot;).document(&quot;product_id&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;()","body":"It does sir, I have just changed tow things to avoid confusion. The original one is -  db.collection(&quot;Store&quot;).document(&quot;uniquename.TFTVHvZaHOIxjYLn&zwnj;&#8203;Hvwc&quot;).collection(&quot;p&zwnj;&#8203;roducts&quot;).document(p&zwnj;&#8203;osition).collection(&zwnj;&#8203;&quot;about&quot;).document(&quot;p&zwnj;&#8203;roduct_id&quot;).get().ad&zwnj;&#8203;dOnSuccessListener(n&zwnj;&#8203;ew OnSuccessListener&lt;DocumentSnapshot&gt;()"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642519177,"post_id":70739333,"comment_id":125088902,"body_markdown":"So please provide the correct reference. Besides that, only the content of that array are you interested in, right?","body":"So please provide the correct reference. Besides that, only the content of that array are you interested in, right?"},{"owner":{"account_id":23460508,"reputation":1,"user_id":17515427,"display_name":"Stuti Jain"},"score":0,"creation_date":1642519316,"post_id":70739333,"comment_id":125088973,"body_markdown":"Yes, want the images of array to come in the image slider.","body":"Yes, want the images of array to come in the image slider."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1642519706,"post_id":70739333,"comment_id":125089143,"body_markdown":"What is the correct reference? As we cannot see it in the screenshot.","body":"What is the correct reference? As we cannot see it in the screenshot."},{"owner":{"account_id":23460508,"reputation":1,"user_id":17515427,"display_name":"Stuti Jain"},"score":0,"creation_date":1642521182,"post_id":70739333,"comment_id":125089817,"body_markdown":"This is the correct one - db.collection(&quot;Store&quot;).document(&quot;uniquename.TFTVHvZaHOIxjYLnHvwc&quot;).collection(&quot;products&quot;).document(position).collection(&quot;about&quot;).document(&quot;product_id&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;()...","body":"This is the correct one - db.collection(&quot;Store&quot;).document(&quot;uniquename.TFTVHvZaHOIxjYLn&zwnj;&#8203;Hvwc&quot;).collection(&quot;p&zwnj;&#8203;roducts&quot;).document(p&zwnj;&#8203;osition).collection(&zwnj;&#8203;&quot;about&quot;).document(&quot;p&zwnj;&#8203;roduct_id&quot;).get().ad&zwnj;&#8203;dOnSuccessListener(n&zwnj;&#8203;ew OnSuccessListener&lt;DocumentSnapshot&gt;()..."},{"owner":{"account_id":23460508,"reputation":1,"user_id":17515427,"display_name":"Stuti Jain"},"score":0,"creation_date":1642521230,"post_id":70739333,"comment_id":125089836,"body_markdown":"The path is long, not covered in the screenshot. How do I do that?","body":"The path is long, not covered in the screenshot. How do I do that?"}],"answers":[{"tags":[],"owner":{"account_id":25259677,"reputation":1,"user_id":19090747,"display_name":"Chirag Jalade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652591564,"creation_date":1652591505,"answer_id":72245655,"question_id":70739333,"body_markdown":"I guess you&#39;ve copied the link of the webpage-showing the image ,instead of the link of actual image.\r\nTry opening the image in a new tab, and then copy the link from the address-bar.\r\n\r\n[Maybe, this is what you&#39;ve copied !][1]\r\n\r\n[This is what you should try coping instead !][2]\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ihyzl.jpg\r\n  [2]: https://i.stack.imgur.com/0m4fF.jpg","title":"Loading images from firestore in image slider","body":"<p>I guess you've copied the link of the webpage-showing the image ,instead of the link of actual image.\nTry opening the image in a new tab, and then copy the link from the address-bar.</p>\n<p><a href=\"https://i.stack.imgur.com/ihyzl.jpg\" rel=\"nofollow noreferrer\">Maybe, this is what you've copied !</a></p>\n<p><a href=\"https://i.stack.imgur.com/0m4fF.jpg\" rel=\"nofollow noreferrer\">This is what you should try coping instead !</a></p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":23460508,"reputation":1,"user_id":17515427,"display_name":"Stuti Jain"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652591564,"creation_date":1642412821,"question_id":70739333,"body_markdown":" I&#39;m trying to load the images in an image slider from firestore. The image urls are there in firestore. I&#39;m using the following library https://github.com/denzcoskun/ImageSlideshow for image slider, but it shows error instead of images. \r\n\r\n[Image of the output][1]\r\n\r\n[Logcat Image][2]\r\n\r\n[Image of firestore structure][3]\r\n  \r\n\r\n\r\nThis is the java code:\r\n\r\n\r\n\r\n    public class preview_product extends AppCompatActivity\r\n    {\r\n    \r\n        private String position;\r\n        private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        private ImageSlider imageSlider;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.fragment_product_preview);\r\n    \r\n            imageSlider = findViewById(R.id.image_slider);\r\n            final List&lt;SlideModel&gt; displayImages = new ArrayList&lt;&gt;();\r\n    \r\n            Bundle intent = getIntent().getExtras();\r\n            position = intent.get(&quot;key&quot;).toString();\r\n    \r\n    \r\n    \r\n            db.collection(&quot;Store&quot;).document(&quot;name&quot;).collection(&quot;prod&quot;).document(position).collection(&quot;details&quot;).document(&quot;product_id&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;()\r\n            {\r\n                @Override\r\n                public void onSuccess(@NonNull DocumentSnapshot documentSnapshot)\r\n                {\r\n    \r\n    \t\tList&lt;String&gt; Urls = (List&lt;String&gt;) documentSnapshot.get(&quot;Images&quot;);\r\n    \r\n                    displayImages.add(new SlideModel(Urls.toString(), ScaleTypes.FIT));\r\n    \r\n                    imageSlider.setImageList(displayImages,ScaleTypes.FIT);\r\n                    imageSlider.startSliding(3000);\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rIfLm.png\r\n  [2]: https://i.stack.imgur.com/62qiw.png\r\n  [3]: https://i.stack.imgur.com/0KAjC.png","title":"Loading images from firestore in image slider","body":"<p>I'm trying to load the images in an image slider from firestore. The image urls are there in firestore. I'm using the following library <a href=\"https://github.com/denzcoskun/ImageSlideshow\" rel=\"nofollow noreferrer\">https://github.com/denzcoskun/ImageSlideshow</a> for image slider, but it shows error instead of images.</p>\n<p><a href=\"https://i.stack.imgur.com/rIfLm.png\" rel=\"nofollow noreferrer\">Image of the output</a></p>\n<p><a href=\"https://i.stack.imgur.com/62qiw.png\" rel=\"nofollow noreferrer\">Logcat Image</a></p>\n<p><a href=\"https://i.stack.imgur.com/0KAjC.png\" rel=\"nofollow noreferrer\">Image of firestore structure</a></p>\n<p>This is the java code:</p>\n<pre><code>public class preview_product extends AppCompatActivity\n{\n\n    private String position;\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\n    private ImageSlider imageSlider;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.fragment_product_preview);\n\n        imageSlider = findViewById(R.id.image_slider);\n        final List&lt;SlideModel&gt; displayImages = new ArrayList&lt;&gt;();\n\n        Bundle intent = getIntent().getExtras();\n        position = intent.get(&quot;key&quot;).toString();\n\n\n\n        db.collection(&quot;Store&quot;).document(&quot;name&quot;).collection(&quot;prod&quot;).document(position).collection(&quot;details&quot;).document(&quot;product_id&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;()\n        {\n            @Override\n            public void onSuccess(@NonNull DocumentSnapshot documentSnapshot)\n            {\n\n        List&lt;String&gt; Urls = (List&lt;String&gt;) documentSnapshot.get(&quot;Images&quot;);\n\n                displayImages.add(new SlideModel(Urls.toString(), ScaleTypes.FIT));\n\n                imageSlider.setImageList(displayImages,ScaleTypes.FIT);\n                imageSlider.startSliding(3000);\n\n            }\n        });\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","listview","crud"],"owner":{"account_id":9132874,"reputation":15,"user_id":6793755,"display_name":"Ryan Baltazar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1652590994,"creation_date":1652590994,"question_id":72245625,"body_markdown":"I am getting listView items duplicated after adding items and also when EDIT or DELETE menu item got selected, but when i re-open the app, items are not duplicated.\r\n\r\nPosting some codes below:\r\n\r\nSQLiteManager.java\r\n\r\n    package com.example.sqlitetutorial;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    \r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.HashSet;\r\n    \r\n    public class SQLiteManager extends SQLiteOpenHelper {\r\n        private static SQLiteManager sqLiteManager;\r\n    \r\n        private static final String DATABASE_NAME = &quot;MemberDB&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n        private static final String TABLE_NAME = &quot;Member&quot;;\r\n        private static final String COUNTER = &quot;Counter&quot;;\r\n    \r\n        private static final String ID_FIELD = &quot;id&quot;;\r\n        private static final String LNAME_FIELD = &quot;lname&quot;;\r\n        private static final String FNAME_FIELD = &quot;fname&quot;;\r\n        private static final String MNAME_FIELD = &quot;mname&quot;;\r\n        private static final String DELETED_FIELD = &quot;deleted&quot;;\r\n    \r\n        @SuppressLint(&quot;SimpleDateFormat&quot;)\r\n        private static final DateFormat dateFormat = new SimpleDateFormat(&quot;MM-dd-yyyy HH:mm:ss&quot;);\r\n    \r\n        public SQLiteManager(Context context)\r\n        {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        }\r\n    \r\n        public static SQLiteManager instanceOfDatabase(Context context)\r\n        {\r\n            if(sqLiteManager == null)\r\n                sqLiteManager = new SQLiteManager(context);\r\n    \r\n            return sqLiteManager;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase sqLiteDatabase)\r\n        {\r\n            StringBuilder sql;\r\n            sql = new StringBuilder()\r\n                    .append(&quot;CREATE TABLE &quot;)\r\n                    .append(TABLE_NAME)\r\n                    .append(&quot;(&quot;)\r\n                    .append(COUNTER)\r\n                    .append(&quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;)\r\n                    .append(ID_FIELD)\r\n                    .append(&quot; INT, &quot;)\r\n                    .append(LNAME_FIELD)\r\n                    .append(&quot; TEXT, &quot;)\r\n                    .append(FNAME_FIELD)\r\n                    .append(&quot; TEXT, &quot;)\r\n                    .append(MNAME_FIELD)\r\n                    .append(&quot; TEXT, &quot;)\r\n                    .append(DELETED_FIELD)\r\n                    .append(&quot; TEXT)&quot;);\r\n            \r\n    \r\n            sqLiteDatabase.execSQL(sql.toString());\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase sqLiteDatabase, int oldVersion, int newVersion)\r\n        {\r\n        }\r\n    \r\n        public void addMemberToDatabase(Member member)\r\n        {\r\n            SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\r\n    \r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(ID_FIELD, member.getId());\r\n            contentValues.put(LNAME_FIELD, member.getLName());\r\n            contentValues.put(FNAME_FIELD, member.getFName());\r\n            contentValues.put(MNAME_FIELD, member.getMName());\r\n            contentValues.put(DELETED_FIELD, getStringFromDate(member.getDeleted()));\r\n    \r\n            sqLiteDatabase.insert(TABLE_NAME, null, contentValues);\r\n        }\r\n    \r\n        public void populateMemberListArray()\r\n        {\r\n            SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n    \r\n            try (Cursor result = sqLiteDatabase.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null))\r\n            {\r\n                if(result.getCount() != 0)\r\n                {\r\n                    while (result.moveToNext())\r\n                    {\r\n                        int id = result.getInt(1);\r\n                        String lname = result.getString(2);\r\n                        String fname = result.getString(3);\r\n                        String mname = result.getString(4);\r\n                        String stringDeleted = result.getString(5);\r\n                        Date deleted = getDateFromString(stringDeleted);\r\n                        Member member = new Member(id,lname,fname,mname,deleted);\r\n                        Member.memberArrayList.add(member);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void updateMemberInDB(Member member)\r\n        {\r\n            SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(ID_FIELD, member.getId());\r\n            contentValues.put(LNAME_FIELD, member.getLName());\r\n            contentValues.put(FNAME_FIELD, member.getFName());\r\n            contentValues.put(MNAME_FIELD, member.getMName());\r\n            contentValues.put(DELETED_FIELD, getStringFromDate(member.getDeleted()));\r\n    \r\n            sqLiteDatabase.update(TABLE_NAME, contentValues, ID_FIELD + &quot; =? &quot;, new String[]{String.valueOf(member.getId())});\r\n        }\r\n    \r\n        private String getStringFromDate(Date date)\r\n        {\r\n            if(date == null)\r\n                return null;\r\n            return dateFormat.format(date);\r\n        }\r\n    \r\n        private Date getDateFromString(String string)\r\n        {\r\n            try\r\n            {\r\n                return dateFormat.parse(string);\r\n            }\r\n            catch (ParseException | NullPointerException e)\r\n            {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nMemberAdapter.java\r\n\r\n    package com.example.sqlitetutorial;\r\n    \r\n    \r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class MemberAdapter extends ArrayAdapter&lt;Member&gt; {\r\n        public MemberAdapter(Context context, List&lt;Member&gt; members)\r\n        {\r\n            super(context, 0, members);\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent)\r\n        {\r\n    \r\n    \r\n            Member member = getItem(position);\r\n            if(convertView == null)\r\n                convertView = LayoutInflater.from(getContext()).inflate(R.layout.member_cell, parent, false);\r\n    \r\n            TextView lname = convertView.findViewById(R.id.cellLName);\r\n            TextView fname = convertView.findViewById(R.id.cellFName);\r\n            TextView mname = convertView.findViewById(R.id.cellMName);\r\n    \r\n            lname.setText(member.getLName());\r\n            fname.setText(member.getFName());\r\n            mname.setText(member.getMName());\r\n    \r\n            return convertView;\r\n        }\r\n    }\r\n\r\nMember.java\r\n\r\n    package com.example.sqlitetutorial;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    \r\n    public class Member {\r\n    \r\n            public static ArrayList&lt;Member&gt; memberArrayList = new ArrayList&lt;&gt;();\r\n            public static String MEMBER_EDIT_EXTRA =  &quot;memberEdit&quot;;\r\n    \r\n            private int id;\r\n            private String LName;\r\n            private String FName;\r\n            private String MName;\r\n            private Date deleted;\r\n    \r\n        public Member(int id, String LName, String FName, String MName, Date deleted)\r\n            {\r\n                this.id = id;\r\n                this.LName = LName;\r\n                this.FName = FName;\r\n                this.MName = MName;\r\n                this.deleted = deleted;\r\n            }\r\n    \r\n        public Member(int id, String LName, String FName, String MName)\r\n            {\r\n                this.id = id;\r\n                this.LName = LName;\r\n                this.FName = FName;\r\n                this.MName = MName;\r\n                deleted = null;\r\n            }\r\n    \r\n            public static Member getMemberForID(int passedMemberID)\r\n            {\r\n                for (Member member : memberArrayList)\r\n                {\r\n                    if(member.getId() == passedMemberID)\r\n                        return member;\r\n                }\r\n    \r\n                return null;\r\n            }\r\n    \r\n            public static ArrayList&lt;Member&gt; nonDeletedMembers()\r\n            {\r\n                ArrayList&lt;Member&gt; nonDeleted = new ArrayList&lt;&gt;();\r\n                for(Member member : memberArrayList)\r\n                {\r\n                    if(member.getDeleted() == null)\r\n                        nonDeleted.add(member);\r\n                }\r\n    \r\n                return nonDeleted;\r\n            }\r\n    \r\n            public int getId()\r\n            {\r\n                return id;\r\n            }\r\n    \r\n            public void setId(int id)\r\n            {\r\n                this.id = id;\r\n            }\r\n    \r\n            public String getLName()\r\n            {\r\n                return LName;\r\n            }\r\n    \r\n            public void setLName(String LName)\r\n            {\r\n                this.LName = LName;\r\n            }\r\n    \r\n            public String getFName()\r\n            {\r\n                return FName;\r\n            }\r\n    \r\n            public void setFName(String FName)\r\n            {\r\n                this.FName = FName;\r\n            }\r\n    \r\n            public String getMName()\r\n            {\r\n                return MName;\r\n            }\r\n    \r\n            public void setMName(String MName)\r\n            {\r\n                this.MName = MName;\r\n            }\r\n    \r\n    \r\n            public Date getDeleted()\r\n            {\r\n                return deleted;\r\n            }\r\n    \r\n            public void setDeleted(Date deleted)\r\n            {\r\n                this.deleted = deleted;\r\n            }\r\n    }\r\n\r\n\r\nMemberDetailActivity.java/Insert Data Class\r\n\r\n    package com.example.sqlitetutorial;\r\n    \r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    \r\n    public class MemberDetailActivity extends AppCompatActivity {\r\n        private EditText lnameEditText, fnameEditText, mnameEditText;\r\n        private Member selectedMember;\r\n        String FNameHolder, MNameHolder, LNameHolder;\r\n        Boolean EditTextEmptyHold;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_member_detail);\r\n            initWidgets();\r\n    \r\n    \r\n        }\r\n        private void initWidgets()\r\n        {\r\n            lnameEditText = findViewById(R.id.LNameEditText);\r\n            fnameEditText = findViewById(R.id.FNameEditText);\r\n            mnameEditText = findViewById(R.id.MNameEditText);\r\n        }\r\n    \r\n    \r\n    \r\n        public void saveMember(View view)\r\n        {\r\n            CheckEditTextStatus();\r\n            if(EditTextEmptyHold == true) {\r\n    \r\n                SQLiteManager sqLiteManager = SQLiteManager.instanceOfDatabase(this);\r\n                String lname = String.valueOf(lnameEditText.getText());\r\n                String fname = String.valueOf(fnameEditText.getText());\r\n                String mname = String.valueOf(mnameEditText.getText());\r\n    \r\n                if (selectedMember == null) {\r\n                    int id = Member.memberArrayList.size();\r\n                    Member newMember = new Member(id, lname, fname, mname);\r\n                    Member.memberArrayList.add(newMember);\r\n                    sqLiteManager.addMemberToDatabase(newMember);\r\n                } else {\r\n                    selectedMember.setLName(lname);\r\n                    selectedMember.setFName(fname);\r\n                    selectedMember.setMName(mname);\r\n                    sqLiteManager.updateMemberInDB(selectedMember);\r\n                }\r\n    \r\n                Intent newMemberIntent = new Intent(this, ActivityEditViewListitem.class);\r\n                startActivity(newMemberIntent);\r\n            }\r\n    \r\n            else{\r\n                Toast.makeText(MemberDetailActivity.this,&quot;Please Fill All The Required Fields.&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n        public void CheckEditTextStatus(){\r\n    \r\n            FNameHolder = fnameEditText.getText().toString() ;\r\n            MNameHolder = mnameEditText.getText().toString();\r\n            LNameHolder = lnameEditText.getText().toString();\r\n    \r\n            if(TextUtils.isEmpty(FNameHolder) || TextUtils.isEmpty(MNameHolder) || TextUtils.isEmpty(LNameHolder)){\r\n    \r\n                EditTextEmptyHold = false ;\r\n    \r\n            }\r\n            else {\r\n    \r\n                EditTextEmptyHold = true ;\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nEditMemberDetailActivity/Update Data Class\r\n\r\n    package com.example.sqlitetutorial;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ListView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.view.GravityCompat;\r\n    import androidx.drawerlayout.widget.DrawerLayout;\r\n    \r\n    public class ActivityEditViewListitem extends AppCompatActivity {\r\n    \r\n        DrawerLayout drawerLayout;\r\n        private ListView memberListView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_editview_listitem);\r\n            drawerLayout = findViewById(R.id.drawer_layout);\r\n            initWidgets();\r\n            loadFromDBToMemory();\r\n            setMemberAdapter();\r\n            setOnClickListener();\r\n        }\r\n    \r\n        public void ClickMenu(View view){\r\n            openDrawer(drawerLayout);\r\n    \r\n        }\r\n        public static void openDrawer(DrawerLayout drawerLayout){\r\n    \r\n            drawerLayout.openDrawer(GravityCompat.START);\r\n        }\r\n    \r\n        public void ClickLogo(View view){\r\n            closeDrawer(drawerLayout);\r\n    \r\n        }\r\n        public static void closeDrawer(DrawerLayout drawerLayout){\r\n            if (drawerLayout.isDrawerOpen(GravityCompat.START)){\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n            }\r\n        }\r\n    \r\n        public void ClickAdd(View view){\r\n            Intent newMemberIntent = new Intent(this, MemberDetailActivity.class);\r\n            startActivity(newMemberIntent);\r\n        }\r\n    \r\n        public void ClickEdit(View view){\r\n            closeDrawer(drawerLayout);\r\n            finish();\r\n            Intent newMemberIntent = new Intent(this, ActivityEditViewListitem.class);\r\n            startActivity(newMemberIntent);\r\n    \r\n        }\r\n        public void ClickDelete(View view){\r\n            closeDrawer(drawerLayout);\r\n            finish();\r\n            Intent newMemberIntent = new Intent(this, ActivityDeleteViewListitem.class);\r\n            startActivity(newMemberIntent);\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private void initWidgets()\r\n        {\r\n            memberListView = findViewById(R.id.memberListView);\r\n    \r\n        }\r\n    \r\n        private void loadFromDBToMemory()\r\n        {\r\n            SQLiteManager sqLiteManager = SQLiteManager.instanceOfDatabase(this);\r\n            sqLiteManager.populateMemberListArray();\r\n        }\r\n    \r\n        private void setMemberAdapter()\r\n        {\r\n            MemberAdapter memberAdapter = new MemberAdapter(getApplicationContext(), Member.nonDeletedMembers());\r\n            memberListView.setAdapter(memberAdapter);\r\n    \r\n        }\r\n    \r\n    \r\n        private void setOnClickListener()\r\n        {\r\n            memberListView.setOnItemClickListener(new AdapterView.OnItemClickListener()\r\n            {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int position, long l)\r\n                {\r\n                    Member selectedMember = (Member) memberListView.getItemAtPosition(position);\r\n                    Intent editMemberIntent = new Intent(getApplicationContext(), EditMemberDetailActivity.class);\r\n                    editMemberIntent.putExtra(Member.MEMBER_EDIT_EXTRA, selectedMember.getId());\r\n                    startActivity(editMemberIntent);\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onResume()\r\n        {\r\n            super.onResume();\r\n            setMemberAdapter();\r\n        }\r\n    }\r\n\r\n\r\nActivityEditViewListitem/Showing of listitem class\r\n\r\n    package com.example.sqlitetutorial;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ListView;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.view.GravityCompat;\r\n    import androidx.drawerlayout.widget.DrawerLayout;\r\n    \r\n    public class ActivityEditViewListitem extends AppCompatActivity {\r\n    \r\n        DrawerLayout drawerLayout;\r\n        private ListView memberListView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_editview_listitem);\r\n            drawerLayout = findViewById(R.id.drawer_layout);\r\n            initWidgets();\r\n            loadFromDBToMemory();\r\n            setMemberAdapter();\r\n            setOnClickListener();\r\n        }\r\n    \r\n        public void ClickMenu(View view){\r\n            openDrawer(drawerLayout);\r\n    \r\n        }\r\n        public static void openDrawer(DrawerLayout drawerLayout){\r\n    \r\n            drawerLayout.openDrawer(GravityCompat.START);\r\n        }\r\n    \r\n        public void ClickLogo(View view){\r\n            closeDrawer(drawerLayout);\r\n    \r\n        }\r\n        public static void closeDrawer(DrawerLayout drawerLayout){\r\n            if (drawerLayout.isDrawerOpen(GravityCompat.START)){\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n            }\r\n        }\r\n    \r\n        public void ClickAdd(View view){\r\n            Intent newMemberIntent = new Intent(this, MemberDetailActivity.class);\r\n            startActivity(newMemberIntent);\r\n        }\r\n    \r\n        public void ClickEdit(View view){\r\n            closeDrawer(drawerLayout);\r\n            finish();\r\n            Intent newMemberIntent = new Intent(this, ActivityEditViewListitem.class);\r\n            startActivity(newMemberIntent);\r\n    \r\n        }\r\n        public void ClickDelete(View view){\r\n            closeDrawer(drawerLayout);\r\n            finish();\r\n            Intent newMemberIntent = new Intent(this, ActivityDeleteViewListitem.class);\r\n            startActivity(newMemberIntent);\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private void initWidgets()\r\n        {\r\n            memberListView = findViewById(R.id.memberListView);\r\n    \r\n        }\r\n    \r\n        private void loadFromDBToMemory()\r\n        {\r\n            SQLiteManager sqLiteManager = SQLiteManager.instanceOfDatabase(this);\r\n            sqLiteManager.populateMemberListArray();\r\n        }\r\n    \r\n        private void setMemberAdapter()\r\n        {\r\n            MemberAdapter memberAdapter = new MemberAdapter(getApplicationContext(), Member.nonDeletedMembers());\r\n            memberListView.setAdapter(memberAdapter);\r\n    \r\n        }\r\n    \r\n    \r\n        private void setOnClickListener()\r\n        {\r\n            memberListView.setOnItemClickListener(new AdapterView.OnItemClickListener()\r\n            {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int position, long l)\r\n                {\r\n                    Member selectedMember = (Member) memberListView.getItemAtPosition(position);\r\n                    Intent editMemberIntent = new Intent(getApplicationContext(), EditMemberDetailActivity.class);\r\n                    editMemberIntent.putExtra(Member.MEMBER_EDIT_EXTRA, selectedMember.getId());\r\n                    startActivity(editMemberIntent);\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onResume()\r\n        {\r\n            super.onResume();\r\n            setMemberAdapter();\r\n        }\r\n    }\r\n\r\n","title":"ListView Item Duplicated when Save or Reload","body":"<p>I am getting listView items duplicated after adding items and also when EDIT or DELETE menu item got selected, but when i re-open the app, items are not duplicated.</p>\n<p>Posting some codes below:</p>\n<p>SQLiteManager.java</p>\n<pre><code>package com.example.sqlitetutorial;\n\nimport android.annotation.SuppressLint;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.HashSet;\n\npublic class SQLiteManager extends SQLiteOpenHelper {\n    private static SQLiteManager sqLiteManager;\n\n    private static final String DATABASE_NAME = &quot;MemberDB&quot;;\n    private static final int DATABASE_VERSION = 1;\n    private static final String TABLE_NAME = &quot;Member&quot;;\n    private static final String COUNTER = &quot;Counter&quot;;\n\n    private static final String ID_FIELD = &quot;id&quot;;\n    private static final String LNAME_FIELD = &quot;lname&quot;;\n    private static final String FNAME_FIELD = &quot;fname&quot;;\n    private static final String MNAME_FIELD = &quot;mname&quot;;\n    private static final String DELETED_FIELD = &quot;deleted&quot;;\n\n    @SuppressLint(&quot;SimpleDateFormat&quot;)\n    private static final DateFormat dateFormat = new SimpleDateFormat(&quot;MM-dd-yyyy HH:mm:ss&quot;);\n\n    public SQLiteManager(Context context)\n    {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    public static SQLiteManager instanceOfDatabase(Context context)\n    {\n        if(sqLiteManager == null)\n            sqLiteManager = new SQLiteManager(context);\n\n        return sqLiteManager;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase)\n    {\n        StringBuilder sql;\n        sql = new StringBuilder()\n                .append(&quot;CREATE TABLE &quot;)\n                .append(TABLE_NAME)\n                .append(&quot;(&quot;)\n                .append(COUNTER)\n                .append(&quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;)\n                .append(ID_FIELD)\n                .append(&quot; INT, &quot;)\n                .append(LNAME_FIELD)\n                .append(&quot; TEXT, &quot;)\n                .append(FNAME_FIELD)\n                .append(&quot; TEXT, &quot;)\n                .append(MNAME_FIELD)\n                .append(&quot; TEXT, &quot;)\n                .append(DELETED_FIELD)\n                .append(&quot; TEXT)&quot;);\n        \n\n        sqLiteDatabase.execSQL(sql.toString());\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int oldVersion, int newVersion)\n    {\n    }\n\n    public void addMemberToDatabase(Member member)\n    {\n        SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\n\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(ID_FIELD, member.getId());\n        contentValues.put(LNAME_FIELD, member.getLName());\n        contentValues.put(FNAME_FIELD, member.getFName());\n        contentValues.put(MNAME_FIELD, member.getMName());\n        contentValues.put(DELETED_FIELD, getStringFromDate(member.getDeleted()));\n\n        sqLiteDatabase.insert(TABLE_NAME, null, contentValues);\n    }\n\n    public void populateMemberListArray()\n    {\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n\n        try (Cursor result = sqLiteDatabase.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME, null))\n        {\n            if(result.getCount() != 0)\n            {\n                while (result.moveToNext())\n                {\n                    int id = result.getInt(1);\n                    String lname = result.getString(2);\n                    String fname = result.getString(3);\n                    String mname = result.getString(4);\n                    String stringDeleted = result.getString(5);\n                    Date deleted = getDateFromString(stringDeleted);\n                    Member member = new Member(id,lname,fname,mname,deleted);\n                    Member.memberArrayList.add(member);\n                }\n            }\n        }\n    }\n\n    public void updateMemberInDB(Member member)\n    {\n        SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(ID_FIELD, member.getId());\n        contentValues.put(LNAME_FIELD, member.getLName());\n        contentValues.put(FNAME_FIELD, member.getFName());\n        contentValues.put(MNAME_FIELD, member.getMName());\n        contentValues.put(DELETED_FIELD, getStringFromDate(member.getDeleted()));\n\n        sqLiteDatabase.update(TABLE_NAME, contentValues, ID_FIELD + &quot; =? &quot;, new String[]{String.valueOf(member.getId())});\n    }\n\n    private String getStringFromDate(Date date)\n    {\n        if(date == null)\n            return null;\n        return dateFormat.format(date);\n    }\n\n    private Date getDateFromString(String string)\n    {\n        try\n        {\n            return dateFormat.parse(string);\n        }\n        catch (ParseException | NullPointerException e)\n        {\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>MemberAdapter.java</p>\n<pre><code>package com.example.sqlitetutorial;\n\n\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport java.util.List;\n\npublic class MemberAdapter extends ArrayAdapter&lt;Member&gt; {\n    public MemberAdapter(Context context, List&lt;Member&gt; members)\n    {\n        super(context, 0, members);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent)\n    {\n\n\n        Member member = getItem(position);\n        if(convertView == null)\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.member_cell, parent, false);\n\n        TextView lname = convertView.findViewById(R.id.cellLName);\n        TextView fname = convertView.findViewById(R.id.cellFName);\n        TextView mname = convertView.findViewById(R.id.cellMName);\n\n        lname.setText(member.getLName());\n        fname.setText(member.getFName());\n        mname.setText(member.getMName());\n\n        return convertView;\n    }\n}\n</code></pre>\n<p>Member.java</p>\n<pre><code>package com.example.sqlitetutorial;\n\nimport java.util.ArrayList;\nimport java.util.Date;\n\npublic class Member {\n\n        public static ArrayList&lt;Member&gt; memberArrayList = new ArrayList&lt;&gt;();\n        public static String MEMBER_EDIT_EXTRA =  &quot;memberEdit&quot;;\n\n        private int id;\n        private String LName;\n        private String FName;\n        private String MName;\n        private Date deleted;\n\n    public Member(int id, String LName, String FName, String MName, Date deleted)\n        {\n            this.id = id;\n            this.LName = LName;\n            this.FName = FName;\n            this.MName = MName;\n            this.deleted = deleted;\n        }\n\n    public Member(int id, String LName, String FName, String MName)\n        {\n            this.id = id;\n            this.LName = LName;\n            this.FName = FName;\n            this.MName = MName;\n            deleted = null;\n        }\n\n        public static Member getMemberForID(int passedMemberID)\n        {\n            for (Member member : memberArrayList)\n            {\n                if(member.getId() == passedMemberID)\n                    return member;\n            }\n\n            return null;\n        }\n\n        public static ArrayList&lt;Member&gt; nonDeletedMembers()\n        {\n            ArrayList&lt;Member&gt; nonDeleted = new ArrayList&lt;&gt;();\n            for(Member member : memberArrayList)\n            {\n                if(member.getDeleted() == null)\n                    nonDeleted.add(member);\n            }\n\n            return nonDeleted;\n        }\n\n        public int getId()\n        {\n            return id;\n        }\n\n        public void setId(int id)\n        {\n            this.id = id;\n        }\n\n        public String getLName()\n        {\n            return LName;\n        }\n\n        public void setLName(String LName)\n        {\n            this.LName = LName;\n        }\n\n        public String getFName()\n        {\n            return FName;\n        }\n\n        public void setFName(String FName)\n        {\n            this.FName = FName;\n        }\n\n        public String getMName()\n        {\n            return MName;\n        }\n\n        public void setMName(String MName)\n        {\n            this.MName = MName;\n        }\n\n\n        public Date getDeleted()\n        {\n            return deleted;\n        }\n\n        public void setDeleted(Date deleted)\n        {\n            this.deleted = deleted;\n        }\n}\n</code></pre>\n<p>MemberDetailActivity.java/Insert Data Class</p>\n<pre><code>package com.example.sqlitetutorial;\n\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\n\npublic class MemberDetailActivity extends AppCompatActivity {\n    private EditText lnameEditText, fnameEditText, mnameEditText;\n    private Member selectedMember;\n    String FNameHolder, MNameHolder, LNameHolder;\n    Boolean EditTextEmptyHold;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_member_detail);\n        initWidgets();\n\n\n    }\n    private void initWidgets()\n    {\n        lnameEditText = findViewById(R.id.LNameEditText);\n        fnameEditText = findViewById(R.id.FNameEditText);\n        mnameEditText = findViewById(R.id.MNameEditText);\n    }\n\n\n\n    public void saveMember(View view)\n    {\n        CheckEditTextStatus();\n        if(EditTextEmptyHold == true) {\n\n            SQLiteManager sqLiteManager = SQLiteManager.instanceOfDatabase(this);\n            String lname = String.valueOf(lnameEditText.getText());\n            String fname = String.valueOf(fnameEditText.getText());\n            String mname = String.valueOf(mnameEditText.getText());\n\n            if (selectedMember == null) {\n                int id = Member.memberArrayList.size();\n                Member newMember = new Member(id, lname, fname, mname);\n                Member.memberArrayList.add(newMember);\n                sqLiteManager.addMemberToDatabase(newMember);\n            } else {\n                selectedMember.setLName(lname);\n                selectedMember.setFName(fname);\n                selectedMember.setMName(mname);\n                sqLiteManager.updateMemberInDB(selectedMember);\n            }\n\n            Intent newMemberIntent = new Intent(this, ActivityEditViewListitem.class);\n            startActivity(newMemberIntent);\n        }\n\n        else{\n            Toast.makeText(MemberDetailActivity.this,&quot;Please Fill All The Required Fields.&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n    public void CheckEditTextStatus(){\n\n        FNameHolder = fnameEditText.getText().toString() ;\n        MNameHolder = mnameEditText.getText().toString();\n        LNameHolder = lnameEditText.getText().toString();\n\n        if(TextUtils.isEmpty(FNameHolder) || TextUtils.isEmpty(MNameHolder) || TextUtils.isEmpty(LNameHolder)){\n\n            EditTextEmptyHold = false ;\n\n        }\n        else {\n\n            EditTextEmptyHold = true ;\n        }\n    }\n\n\n}\n</code></pre>\n<p>EditMemberDetailActivity/Update Data Class</p>\n<pre><code>package com.example.sqlitetutorial;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ListView;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\npublic class ActivityEditViewListitem extends AppCompatActivity {\n\n    DrawerLayout drawerLayout;\n    private ListView memberListView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_editview_listitem);\n        drawerLayout = findViewById(R.id.drawer_layout);\n        initWidgets();\n        loadFromDBToMemory();\n        setMemberAdapter();\n        setOnClickListener();\n    }\n\n    public void ClickMenu(View view){\n        openDrawer(drawerLayout);\n\n    }\n    public static void openDrawer(DrawerLayout drawerLayout){\n\n        drawerLayout.openDrawer(GravityCompat.START);\n    }\n\n    public void ClickLogo(View view){\n        closeDrawer(drawerLayout);\n\n    }\n    public static void closeDrawer(DrawerLayout drawerLayout){\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\n            drawerLayout.closeDrawer(GravityCompat.START);\n        }\n    }\n\n    public void ClickAdd(View view){\n        Intent newMemberIntent = new Intent(this, MemberDetailActivity.class);\n        startActivity(newMemberIntent);\n    }\n\n    public void ClickEdit(View view){\n        closeDrawer(drawerLayout);\n        finish();\n        Intent newMemberIntent = new Intent(this, ActivityEditViewListitem.class);\n        startActivity(newMemberIntent);\n\n    }\n    public void ClickDelete(View view){\n        closeDrawer(drawerLayout);\n        finish();\n        Intent newMemberIntent = new Intent(this, ActivityDeleteViewListitem.class);\n        startActivity(newMemberIntent);\n    }\n\n\n\n\n    private void initWidgets()\n    {\n        memberListView = findViewById(R.id.memberListView);\n\n    }\n\n    private void loadFromDBToMemory()\n    {\n        SQLiteManager sqLiteManager = SQLiteManager.instanceOfDatabase(this);\n        sqLiteManager.populateMemberListArray();\n    }\n\n    private void setMemberAdapter()\n    {\n        MemberAdapter memberAdapter = new MemberAdapter(getApplicationContext(), Member.nonDeletedMembers());\n        memberListView.setAdapter(memberAdapter);\n\n    }\n\n\n    private void setOnClickListener()\n    {\n        memberListView.setOnItemClickListener(new AdapterView.OnItemClickListener()\n        {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int position, long l)\n            {\n                Member selectedMember = (Member) memberListView.getItemAtPosition(position);\n                Intent editMemberIntent = new Intent(getApplicationContext(), EditMemberDetailActivity.class);\n                editMemberIntent.putExtra(Member.MEMBER_EDIT_EXTRA, selectedMember.getId());\n                startActivity(editMemberIntent);\n            }\n        });\n    }\n\n\n\n    @Override\n    protected void onResume()\n    {\n        super.onResume();\n        setMemberAdapter();\n    }\n}\n</code></pre>\n<p>ActivityEditViewListitem/Showing of listitem class</p>\n<pre><code>package com.example.sqlitetutorial;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ListView;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\npublic class ActivityEditViewListitem extends AppCompatActivity {\n\n    DrawerLayout drawerLayout;\n    private ListView memberListView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_editview_listitem);\n        drawerLayout = findViewById(R.id.drawer_layout);\n        initWidgets();\n        loadFromDBToMemory();\n        setMemberAdapter();\n        setOnClickListener();\n    }\n\n    public void ClickMenu(View view){\n        openDrawer(drawerLayout);\n\n    }\n    public static void openDrawer(DrawerLayout drawerLayout){\n\n        drawerLayout.openDrawer(GravityCompat.START);\n    }\n\n    public void ClickLogo(View view){\n        closeDrawer(drawerLayout);\n\n    }\n    public static void closeDrawer(DrawerLayout drawerLayout){\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\n            drawerLayout.closeDrawer(GravityCompat.START);\n        }\n    }\n\n    public void ClickAdd(View view){\n        Intent newMemberIntent = new Intent(this, MemberDetailActivity.class);\n        startActivity(newMemberIntent);\n    }\n\n    public void ClickEdit(View view){\n        closeDrawer(drawerLayout);\n        finish();\n        Intent newMemberIntent = new Intent(this, ActivityEditViewListitem.class);\n        startActivity(newMemberIntent);\n\n    }\n    public void ClickDelete(View view){\n        closeDrawer(drawerLayout);\n        finish();\n        Intent newMemberIntent = new Intent(this, ActivityDeleteViewListitem.class);\n        startActivity(newMemberIntent);\n    }\n\n\n\n\n    private void initWidgets()\n    {\n        memberListView = findViewById(R.id.memberListView);\n\n    }\n\n    private void loadFromDBToMemory()\n    {\n        SQLiteManager sqLiteManager = SQLiteManager.instanceOfDatabase(this);\n        sqLiteManager.populateMemberListArray();\n    }\n\n    private void setMemberAdapter()\n    {\n        MemberAdapter memberAdapter = new MemberAdapter(getApplicationContext(), Member.nonDeletedMembers());\n        memberListView.setAdapter(memberAdapter);\n\n    }\n\n\n    private void setOnClickListener()\n    {\n        memberListView.setOnItemClickListener(new AdapterView.OnItemClickListener()\n        {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int position, long l)\n            {\n                Member selectedMember = (Member) memberListView.getItemAtPosition(position);\n                Intent editMemberIntent = new Intent(getApplicationContext(), EditMemberDetailActivity.class);\n                editMemberIntent.putExtra(Member.MEMBER_EDIT_EXTRA, selectedMember.getId());\n                startActivity(editMemberIntent);\n            }\n        });\n    }\n\n\n\n    @Override\n    protected void onResume()\n    {\n        super.onResume();\n        setMemberAdapter();\n    }\n}\n</code></pre>\n"},{"tags":["java","volatile","jls","happens-before"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1652505784,"post_id":72237444,"comment_id":127627514,"body_markdown":"`Is the result of r1==r2==0 illegal and does not appear?` I think so,  I don&#39;t see any path consistent with *happens-before* that allows both reads to be 0.  Do you actually think you see one or are you just double checking?","body":"<code>Is the result of r1==r2==0 illegal and does not appear?</code> I think so,  I don&#39;t see any path consistent with <i>happens-before</i> that allows both reads to be 0.  Do you actually think you see one or are you just double checking?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1652505969,"post_id":72237444,"comment_id":127627540,"body_markdown":"`if two threads cannot see each other&#39;s results, it does not violate the rules of happens-before.` I&#39;m not sure how you derived that.  None of the test cases in your link use `volatile` so I think this is just different from all of those.  If a volatile write is not seen by a subsequent read, that must violate *happens-before* and isn&#39;t allowed.","body":"<code>if two threads cannot see each other&#39;s results, it does not violate the rules of happens-before.</code> I&#39;m not sure how you derived that.  None of the test cases in your link use <code>volatile</code> so I think this is just different from all of those.  If a volatile write is not seen by a subsequent read, that must violate <i>happens-before</i> and isn&#39;t allowed."},{"owner":{"account_id":14127085,"reputation":121,"user_id":10379094,"display_name":"Joseph"},"score":0,"creation_date":1652587408,"post_id":72237444,"comment_id":127640015,"body_markdown":"@markspace Thank you, you are right, I have misunderstood the happens-before. It is determined by execution, not by whether read sees write","body":"@markspace Thank you, you are right, I have misunderstood the happens-before. It is determined by execution, not by whether read sees write"}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652589846,"creation_date":1652582669,"answer_id":72245207,"question_id":72237444,"body_markdown":"Causality is needed for OOTA problems.\r\n\r\nSo imagine the following code:\r\n\r\n```\r\nint a=0,b=0 (non volatile!)\r\n\r\nthread1:\r\n    r1=a\r\n    b=r1\r\n\r\nthread2:\r\n    r2=b\r\n    b=42\r\n```\r\n\r\nIs r1==r2==42 an allowed execution? Yes, because x,y are not volatile, the reads can see values they are racing with. This is in line with the definition of happens-before consistent:\r\n- either a read needs to see the most recent write before it in the happens-before order\r\n- a read needs to see a write it is in data-race with.\r\n\r\nIf you have data races, you can get executions that are not sequential consistent.\r\n\r\nIf we modify the example slightly:\r\n```\r\nint a=0,b=0 (non volatile!)\r\n\r\nthread1:\r\n    r1=a (1)\r\n    b=r1 (2)\r\n\r\nthread2:\r\n    r2=b (3)\r\n    b=r2 (4)\r\n```\r\nCan we get &#39;r1==r2==42&#39;? Let&#39;s assume we have some magical CPU that speculates that b=42 at (3):\r\n\r\nSo we get:\r\n\r\n```\r\nspeculate b=42\r\nr2=42 (3)\r\nb=42 (4)\r\nr1=42 (1)\r\nb=42 (2)\r\n```\r\n\r\nThe speculation of the CPU has paid off because the speculation of b=42 was correct!\r\n\r\nThe value 42 appeared out of thin air and it is forbidden by the JMM. To resolve this problem, every execution needs to have some causal order so that causal loops are prevented. \r\n\r\nAbout question 1:\r\n\r\n`Is the result of r1==r2==0 illegal and does not appear?`\r\n\r\nYes, it is illegal. Since every variable is volatile, there are no data races and therefore only sequential consistent executions are allowed.\r\n\r\nYour issue is that you are not seeing that the program order needs to be preserved within a sequential consistent execution.\r\n\r\n```\r\nvolatile x=y=0\r\n\r\nThread1\r\nx=1    (1)\r\nr1=y   (2)\r\n\r\nThread2\r\ny=1    (3)\r\nr2=x   (4)\r\n```\r\n\r\n(1) happens before (2) due to program order.\r\n\r\n(3) happens before (4) due to program order.\r\n\r\nIn the JMM the happens-before relation is defined as the transitive closure of the union of the program order and the synchronizes-with order. ","title":"Does the semantics of java volatile guarantee that wrong results will not appear? (Two threads write first and then read)","body":"<p>Causality is needed for OOTA problems.</p>\n<p>So imagine the following code:</p>\n<pre><code>int a=0,b=0 (non volatile!)\n\nthread1:\n    r1=a\n    b=r1\n\nthread2:\n    r2=b\n    b=42\n</code></pre>\n<p>Is r1==r2==42 an allowed execution? Yes, because x,y are not volatile, the reads can see values they are racing with. This is in line with the definition of happens-before consistent:</p>\n<ul>\n<li>either a read needs to see the most recent write before it in the happens-before order</li>\n<li>a read needs to see a write it is in data-race with.</li>\n</ul>\n<p>If you have data races, you can get executions that are not sequential consistent.</p>\n<p>If we modify the example slightly:</p>\n<pre><code>int a=0,b=0 (non volatile!)\n\nthread1:\n    r1=a (1)\n    b=r1 (2)\n\nthread2:\n    r2=b (3)\n    b=r2 (4)\n</code></pre>\n<p>Can we get 'r1==r2==42'? Let's assume we have some magical CPU that speculates that b=42 at (3):</p>\n<p>So we get:</p>\n<pre><code>speculate b=42\nr2=42 (3)\nb=42 (4)\nr1=42 (1)\nb=42 (2)\n</code></pre>\n<p>The speculation of the CPU has paid off because the speculation of b=42 was correct!</p>\n<p>The value 42 appeared out of thin air and it is forbidden by the JMM. To resolve this problem, every execution needs to have some causal order so that causal loops are prevented.</p>\n<p>About question 1:</p>\n<p><code>Is the result of r1==r2==0 illegal and does not appear?</code></p>\n<p>Yes, it is illegal. Since every variable is volatile, there are no data races and therefore only sequential consistent executions are allowed.</p>\n<p>Your issue is that you are not seeing that the program order needs to be preserved within a sequential consistent execution.</p>\n<pre><code>volatile x=y=0\n\nThread1\nx=1    (1)\nr1=y   (2)\n\nThread2\ny=1    (3)\nr2=x   (4)\n</code></pre>\n<p>(1) happens before (2) due to program order.</p>\n<p>(3) happens before (4) due to program order.</p>\n<p>In the JMM the happens-before relation is defined as the transitive closure of the union of the program order and the synchronizes-with order.</p>\n"}],"owner":{"account_id":14127085,"reputation":121,"user_id":10379094,"display_name":"Joseph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72245207,"answer_count":1,"score":1,"last_activity_date":1652589846,"creation_date":1652504205,"question_id":72237444,"body_markdown":"```\r\nvolatile x=y=0\r\n\r\nThread1\r\nx=1\r\nr1=y\r\n\r\nThread2\r\ny=1\r\nr2=x\r\n```\r\nr1 and r2 are local variables\r\n\r\n**Question1:**\r\n\r\nIs the result of `r1==r2==0` illegal and does not appear?\r\n\r\nAll statements are writing or reading volatile fields, which should be one of the three cases of `r1==1` or `r2==1` or `r1==r2==1` according to common sense.\r\n\r\nWhat confuses me is that the semantics of volatile is that when read sees the result of write, the happens-before rule is established. In this test, if two threads cannot see each other&#39;s results, it does not violate the rules of happens-before **(update: this is wrong)**.\r\n\r\nJLS says [happens-before rules is not enough][1], And there is a [Causality Test Cases][2]. I understand it as some supplementary special case rules, but i didn&#39;t find the case for this question in those exception rules.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.8\r\n  [2]: http://www.cs.umd.edu/~pugh/java/memoryModel/CausalityTestCases.html","title":"Does the semantics of java volatile guarantee that wrong results will not appear? (Two threads write first and then read)","body":"<pre><code>volatile x=y=0\n\nThread1\nx=1\nr1=y\n\nThread2\ny=1\nr2=x\n</code></pre>\n<p>r1 and r2 are local variables</p>\n<p><strong>Question1:</strong></p>\n<p>Is the result of <code>r1==r2==0</code> illegal and does not appear?</p>\n<p>All statements are writing or reading volatile fields, which should be one of the three cases of <code>r1==1</code> or <code>r2==1</code> or <code>r1==r2==1</code> according to common sense.</p>\n<p>What confuses me is that the semantics of volatile is that when read sees the result of write, the happens-before rule is established. In this test, if two threads cannot see each other's results, it does not violate the rules of happens-before <strong>(update: this is wrong)</strong>.</p>\n<p>JLS says <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.8\" rel=\"nofollow noreferrer\">happens-before rules is not enough</a>, And there is a <a href=\"http://www.cs.umd.edu/%7Epugh/java/memoryModel/CausalityTestCases.html\" rel=\"nofollow noreferrer\">Causality Test Cases</a>. I understand it as some supplementary special case rules, but i didn't find the case for this question in those exception rules.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1652527380,"post_id":72238817,"comment_id":127630669,"body_markdown":"What does the output look like? I think you want to return `String.valueOf(chararray3);`","body":"What does the output look like? I think you want to return <code>String.valueOf(chararray3);</code>"},{"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":0,"creation_date":1652589961,"post_id":72238817,"comment_id":127640212,"body_markdown":"You might want to vote on the answers that helped you to reward people&#39;s effort, and pick one as the best answer to your question.","body":"You might want to vote on the answers that helped you to reward people&#39;s effort, and pick one as the best answer to your question."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652520537,"creation_date":1652520103,"answer_id":72238861,"question_id":72238817,"body_markdown":"1. First issue is that `[].toString()` doesn&#39;t display the content of it, you need\r\n\r\n       Arrays.toString(chararray3)\r\n\r\n2. Then, your condition to do things in the loop is `if (chararray[i] == &#39; &#39;)`, as there is no space, nothing execute, in fact, you are just creating an empty array, then return it, no more.\r\n\r\n3. Your code is quite complex, and can&#39;t see how to &quot;fix&quot; it, so I propose a simpler way\r\n\r\n   - Build a `String []` to save the names (can&#39;t be a `char[]`)\r\n   - For each char of the input: \r\n\r\n      - find their position in `nums`\r\n      - save their corresponding value in `numNames` into your `result`\r\n\r\n    ```\r\n    public static String getPhoneNumber(String s) {\r\n\r\n        char[] chararray = s.toCharArray();\r\n        String[] result = new String[s.length()];\r\n\r\n        for (int i = 0; i &lt; chararray.length; i++) {\r\n            if (chararray[i] != &#39; &#39;) {\r\n                for (int j = 0; j &lt; nums.length; j++) {\r\n                    if (chararray[i] == nums[j]) {\r\n                        result[i] = numNames[j];\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return Arrays.toString(result);\r\n    }\r\n    ```\r\n\r\n----\r\n\r\nNote that `&quot;0&quot;` can be to get value at index `0`, no need of `nums`\r\n\r\n    public static String getPhoneNumber(String s) {\r\n        String[] values = s.split(&quot;&quot;);\r\n        for (int i = 0; i &lt; values.length; i++) {\r\n            if (!values[i].isEmpty()) {\r\n                values[i] = numNames[Integer.parseInt(values[i])];\r\n            }\r\n        }\r\n        return Arrays.toString(values);\r\n    }","title":"How to change a number written in a string form to an integer number","body":"<ol>\n<li><p>First issue is that <code>[].toString()</code> doesn't display the content of it, you need</p>\n<pre><code>Arrays.toString(chararray3)\n</code></pre>\n</li>\n<li><p>Then, your condition to do things in the loop is <code>if (chararray[i] == ' ')</code>, as there is no space, nothing execute, in fact, you are just creating an empty array, then return it, no more.</p>\n</li>\n<li><p>Your code is quite complex, and can't see how to &quot;fix&quot; it, so I propose a simpler way</p>\n<ul>\n<li><p>Build a <code>String []</code> to save the names (can't be a <code>char[]</code>)</p>\n</li>\n<li><p>For each char of the input:</p>\n<ul>\n<li>find their position in <code>nums</code></li>\n<li>save their corresponding value in <code>numNames</code> into your <code>result</code></li>\n</ul>\n</li>\n</ul>\n<pre><code>public static String getPhoneNumber(String s) {\n\n    char[] chararray = s.toCharArray();\n    String[] result = new String[s.length()];\n\n    for (int i = 0; i &lt; chararray.length; i++) {\n        if (chararray[i] != ' ') {\n            for (int j = 0; j &lt; nums.length; j++) {\n                if (chararray[i] == nums[j]) {\n                    result[i] = numNames[j];\n                    break;\n                }\n            }\n        }\n    }\n    return Arrays.toString(result);\n}\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>Note that <code>&quot;0&quot;</code> can be to get value at index <code>0</code>, no need of <code>nums</code></p>\n<pre><code>public static String getPhoneNumber(String s) {\n    String[] values = s.split(&quot;&quot;);\n    for (int i = 0; i &lt; values.length; i++) {\n        if (!values[i].isEmpty()) {\n            values[i] = numNames[Integer.parseInt(values[i])];\n        }\n    }\n    return Arrays.toString(values);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652527042,"creation_date":1652527042,"answer_id":72239680,"question_id":72238817,"body_markdown":"A simple solution using Stream API:\r\n```java\r\npublic static String getPhoneNumber(String s){\r\n   // decorate the array as a list (no copying involved!) so we can have indexOf\r\n   final List&lt;String&gt; numNamesList = Arrays.asList(numNames);\r\n   // Split, transform, join \r\n   return Arrays.stream(s.split(&quot;[\\s]+&quot;))\r\n        .map(numNamesList::indexOf) // we assume all names exist!\r\n        .map(index -&gt; String.valueOf(nums[index]))\r\n        .collect(Collectors.joining());\r\n}\r\n```","title":"How to change a number written in a string form to an integer number","body":"<p>A simple solution using Stream API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getPhoneNumber(String s){\n   // decorate the array as a list (no copying involved!) so we can have indexOf\n   final List&lt;String&gt; numNamesList = Arrays.asList(numNames);\n   // Split, transform, join \n   return Arrays.stream(s.split(&quot;[\\s]+&quot;))\n        .map(numNamesList::indexOf) // we assume all names exist!\n        .map(index -&gt; String.valueOf(nums[index]))\n        .collect(Collectors.joining());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25288388,"reputation":1,"user_id":19114925,"display_name":"Humiliator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652587694,"creation_date":1652527656,"answer_id":72239751,"question_id":72238817,"body_markdown":"So it was too complex indeed so I came up with a different code :\r\n\r\n    public static String getPhoneNumber(String s) {\r\n        int k = 0;\r\n        String nums = &quot;&quot;;\r\n        String[] StringArray = new String[10];\r\n     \tchar [] result = new char[10];\r\n     \tfor (int y = 0; y &lt; StringArray.length; y++) {\r\n     \t\tStringArray[y] = &quot;&quot;;\r\n     \t}\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            if (s.charAt(i) == &#39; &#39;) {\r\n                k++;\r\n                continue;\r\n            }\r\n            StringArray[k] += s.charAt(i);\r\n        }\r\n        for(int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 10; j++) {\r\n                if (StringArray[i].equals(numNames[j])) {\r\n                    nums += numer[j];\r\n                }\r\n            }\r\n        }\r\n        return nums;\r\n    }\r\n","title":"How to change a number written in a string form to an integer number","body":"<p>So it was too complex indeed so I came up with a different code :</p>\n<pre><code>public static String getPhoneNumber(String s) {\n    int k = 0;\n    String nums = &quot;&quot;;\n    String[] StringArray = new String[10];\n    char [] result = new char[10];\n    for (int y = 0; y &lt; StringArray.length; y++) {\n        StringArray[y] = &quot;&quot;;\n    }\n    for (int i = 0; i &lt; s.length(); i++) {\n        if (s.charAt(i) == ' ') {\n            k++;\n            continue;\n        }\n        StringArray[k] += s.charAt(i);\n    }\n    for(int i = 0; i &lt; 10; i++) {\n        for (int j = 0; j &lt; 10; j++) {\n            if (StringArray[i].equals(numNames[j])) {\n                nums += numer[j];\n            }\n        }\n    }\n    return nums;\n}\n</code></pre>\n"}],"owner":{"account_id":25288388,"reputation":1,"user_id":19114925,"display_name":"Humiliator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1652589746,"creation_date":1652519681,"question_id":72238817,"body_markdown":"This is the code which I thought is supposed to work but it just returns garbage in the array I think and I&#39;ve been trying to fix it but I can&#39;t find the error.\r\n\r\nThought the code is simple initially I want to input a string which has \r\nwritten numbers and return those numbers as digits like : &quot;two one nine six eight one six four six zero&quot;, &quot;2196816460&quot;\r\n```java\r\nprivate static final String[] numNames = {&quot;zero&quot;,\r\n                                          &quot;one&quot;,\r\n                                          &quot;two&quot;,\r\n                                          &quot;three&quot;,\r\n                                          &quot;four&quot;,\r\n                                          &quot;five&quot;,\r\n                                          &quot;six&quot;,\r\n                                          &quot;seven&quot;,\r\n                                          &quot;eight&quot;,\r\n                                          &quot;nine&quot;,};\r\nprivate static final char[] nums = {&#39;0&#39;,\r\n                                    &#39;1&#39;,\r\n                                    &#39;2&#39;,\r\n                                    &#39;3&#39;,\r\n                                    &#39;4&#39;,\r\n                                    &#39;5&#39;,\r\n                                    &#39;6&#39;,\r\n                                    &#39;7&#39;,\r\n                                    &#39;8&#39;,\r\n                                    &#39;9&#39;,};\r\n\r\npublic static String getPhoneNumber(String s) {\r\n    int k = 0;\r\n    int z = 0;\r\n    char [] chararray3 = new char [10];\r\n    char [] chararray = s.toCharArray();\r\n    for (int i = 0; i &lt; chararray.length; i++){\r\n        if (chararray[i] == &#39; &#39;){\r\n            char [] chararray2 = new char[i-k-1];\r\n            for (int j = 0; j &lt; i - k; j++){\r\n                chararray2 [j] = chararray[k]; \r\n                k++;\r\n            }\r\n            k++;\r\n            for (int x = 0; x &lt; 9; x++){\r\n                if (chararray2.toString() == numNames[x]){\r\n                    chararray3 [z] = nums[x];\r\n                    z++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return chararray3.toString();\r\n}\r\n```","title":"How to change a number written in a string form to an integer number","body":"<p>This is the code which I thought is supposed to work but it just returns garbage in the array I think and I've been trying to fix it but I can't find the error.</p>\n<p>Thought the code is simple initially I want to input a string which has\nwritten numbers and return those numbers as digits like : &quot;two one nine six eight one six four six zero&quot;, &quot;2196816460&quot;</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String[] numNames = {&quot;zero&quot;,\n                                          &quot;one&quot;,\n                                          &quot;two&quot;,\n                                          &quot;three&quot;,\n                                          &quot;four&quot;,\n                                          &quot;five&quot;,\n                                          &quot;six&quot;,\n                                          &quot;seven&quot;,\n                                          &quot;eight&quot;,\n                                          &quot;nine&quot;,};\nprivate static final char[] nums = {'0',\n                                    '1',\n                                    '2',\n                                    '3',\n                                    '4',\n                                    '5',\n                                    '6',\n                                    '7',\n                                    '8',\n                                    '9',};\n\npublic static String getPhoneNumber(String s) {\n    int k = 0;\n    int z = 0;\n    char [] chararray3 = new char [10];\n    char [] chararray = s.toCharArray();\n    for (int i = 0; i &lt; chararray.length; i++){\n        if (chararray[i] == ' '){\n            char [] chararray2 = new char[i-k-1];\n            for (int j = 0; j &lt; i - k; j++){\n                chararray2 [j] = chararray[k]; \n                k++;\n            }\n            k++;\n            for (int x = 0; x &lt; 9; x++){\n                if (chararray2.toString() == numNames[x]){\n                    chararray3 [z] = nums[x];\n                    z++;\n                }\n            }\n        }\n    }\n    return chararray3.toString();\n}\n</code></pre>\n"},{"tags":["java","algorithm","performance","printing"],"comments":[{"owner":{"account_id":963516,"reputation":10188,"user_id":987358,"accept_rate":40,"display_name":"Michael Butscher"},"score":0,"creation_date":1652543513,"post_id":72241808,"comment_id":127633990,"body_markdown":"How is this related to Python?","body":"How is this related to Python?"},{"owner":{"account_id":15327595,"reputation":11,"user_id":11058273,"display_name":"New to Programming"},"score":0,"creation_date":1652543661,"post_id":72241808,"comment_id":127634022,"body_markdown":"Usually, people who know java also know python. Maybe my assumption is wrong and I apologize for wrong tag","body":"Usually, people who know java also know python. Maybe my assumption is wrong and I apologize for wrong tag"},{"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"score":0,"creation_date":1652546613,"post_id":72241808,"comment_id":127634620,"body_markdown":"Fairly obvious the python tag was a mistake. OP if I&#39;m understanding you you want to count each invocation of the sort method. If so would a simple static int help? And you increment it by one each time the sort method is invoked?","body":"Fairly obvious the python tag was a mistake. OP if I&#39;m understanding you you want to count each invocation of the sort method. If so would a simple static int help? And you increment it by one each time the sort method is invoked?"},{"owner":{"account_id":15327595,"reputation":11,"user_id":11058273,"display_name":"New to Programming"},"score":0,"creation_date":1652549103,"post_id":72241808,"comment_id":127635156,"body_markdown":"@ConorTimlin What would the solution that you recommend look like? I think I understand what you are saying but can&#39;t visualize it. \n\nI am new to programming and a lot of things still don&#39;t come easy to me.","body":"@ConorTimlin What would the solution that you recommend look like? I think I understand what you are saying but can&#39;t visualize it.   I am new to programming and a lot of things still don&#39;t come easy to me."},{"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"score":0,"creation_date":1652549722,"post_id":72241808,"comment_id":127635268,"body_markdown":"I&#39;d need to whack it out in an IDE to be sure (look into what the static modifier means in java) basically you&#39;d define a class level variable called stepsToSort or whatever. Initialize it to 0. Then at the very end of your sort methods just before they make the recursive call to the sort method, they should increment the stepsToSort variable by 1.","body":"I&#39;d need to whack it out in an IDE to be sure (look into what the static modifier means in java) basically you&#39;d define a class level variable called stepsToSort or whatever. Initialize it to 0. Then at the very end of your sort methods just before they make the recursive call to the sort method, they should increment the stepsToSort variable by 1."},{"owner":{"account_id":15327595,"reputation":11,"user_id":11058273,"display_name":"New to Programming"},"score":0,"creation_date":1652550178,"post_id":72241808,"comment_id":127635335,"body_markdown":"@ConorTimlin. I use this online compiler. https://www.tutorialspoint.com/compile_java_online.php\n\nFor some reason, my IntelliJ breaks down every two days and stops working. So I found this to be easier.","body":"@ConorTimlin. I use this online compiler. <a href=\"https://www.tutorialspoint.com/compile_java_online.php\" rel=\"nofollow noreferrer\">tutorialspoint.com/compile_java_online.php</a>  For some reason, my IntelliJ breaks down every two days and stops working. So I found this to be easier."},{"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"score":0,"creation_date":1652551313,"post_id":72241808,"comment_id":127635581,"body_markdown":"I&#39;d recommend eclipse for beginner java programming. Not familiar with online IDEs but I&#39;d imagine downloaded one is better","body":"I&#39;d recommend eclipse for beginner java programming. Not familiar with online IDEs but I&#39;d imagine downloaded one is better"},{"owner":{"account_id":15327595,"reputation":11,"user_id":11058273,"display_name":"New to Programming"},"score":1,"creation_date":1652551796,"post_id":72241808,"comment_id":127635683,"body_markdown":"I actually set up eclipse today. Looks very user-friendly. I will try to find help elsewhere as well. Thanks for the recommendations.","body":"I actually set up eclipse today. Looks very user-friendly. I will try to find help elsewhere as well. Thanks for the recommendations."},{"owner":{"account_id":15327595,"reputation":11,"user_id":11058273,"display_name":"New to Programming"},"score":1,"creation_date":1652553457,"post_id":72241808,"comment_id":127635967,"body_markdown":"@ConorTimlin I was able to make it work. Thanks for your help.","body":"@ConorTimlin I was able to make it work. Thanks for your help."},{"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"score":0,"creation_date":1652561146,"post_id":72241808,"comment_id":127637289,"body_markdown":"Excellent. Glad it was of use to you. I might post the solution as an Answer so you can mark the post solved","body":"Excellent. Glad it was of use to you. I might post the solution as an Answer so you can mark the post solved"}],"answers":[{"tags":[],"owner":{"account_id":21285807,"reputation":100,"user_id":15663468,"display_name":"Conor Timlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652561148,"creation_date":1652561148,"answer_id":72243743,"question_id":72241808,"body_markdown":"Keep track of the invokations of the sort method with a static member and increment it by one each time the sort function is run like so \r\n\r\n        class RandomQuicSort\r\n    {    \r\n        // This Function helps in calculating\r\n        // the inclusive high and low\r\n        public static int stepsToSort = 0;\r\n\r\n        static void random(int arr[],int low,int high)\r\n\r\n    \r\nThen at the end of your sort method just increment it like this \r\n\r\n    static void sort(int arr[], int low, int high)\r\n    {\r\n        if (low &lt; high)\r\n        {\r\n            /* partIndex is partitioning index, arr[partIndex] is\r\n            now at right place */\r\n            int partIndex = partition(arr, low, high);\r\n \r\n            // Recursively sort elements before\r\n            // partition and after partition\r\n            stepsToSort++;\r\n            sort(arr, low, partIndex-1);\r\n            sort(arr, partIndex+1, high);\r\n\r\n         \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"To print the number of steps this RandomQuickSort Takes. Java code","body":"<p>Keep track of the invokations of the sort method with a static member and increment it by one each time the sort function is run like so</p>\n<pre><code>    class RandomQuicSort\n{    \n    // This Function helps in calculating\n    // the inclusive high and low\n    public static int stepsToSort = 0;\n\n    static void random(int arr[],int low,int high)\n</code></pre>\n<p>Then at the end of your sort method just increment it like this</p>\n<pre><code>static void sort(int arr[], int low, int high)\n{\n    if (low &lt; high)\n    {\n        /* partIndex is partitioning index, arr[partIndex] is\n        now at right place */\n        int partIndex = partition(arr, low, high);\n\n        // Recursively sort elements before\n        // partition and after partition\n        stepsToSort++;\n        sort(arr, low, partIndex-1);\n        sort(arr, partIndex+1, high);\n\n     \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15327595,"reputation":11,"user_id":11058273,"display_name":"New to Programming"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72243743,"answer_count":1,"score":0,"last_activity_date":1652589656,"creation_date":1652543336,"question_id":72241808,"body_markdown":"I have this Java algorithm and I am having trouble printing the number of steps it takes to solve the sorting. Here is the code\r\n\r\n    \r\n     \r\n        /* The main function that implements QuickSort()\r\n        arr[] --&gt; Array to be sorted,\r\n        low --&gt; Starting index,\r\n        high --&gt; Ending index */\r\n        static void sort(int arr[], int low, int high)\r\n        {\r\n            if (low &lt; high)\r\n            {\r\n                /* partIndex is partitioning index, arr[partIndex] is\r\n                now at right place */\r\n                int partIndex = partition(arr, low, high);\r\n     \r\n                // Recursively sort elements before\r\n                // partition and after partition\r\n                sort(arr, low, partIndex-1);\r\n                sort(arr, partIndex+1, high);\r\n            }\r\n        }\r\n     \r\n        /*  print array of size n */\r\n        static void printArray(int arr[])\r\n        {\r\n            int n = arr.length;\r\n            for (int i = 0; i &lt; n; ++i)\r\n                System.out.print(arr[i]+&quot; &quot;);\r\n            System.out.println();\r\n        }\r\n     \r\n        // Driver Code\r\n        public static void main(String args[])\r\n        {\r\n            int[] data = {12,9,4,99,120,1,3,10,23,45,75,69,31,88,101,14,29,91,2,0,77};\r\n                   \r\n            System.out.println(&quot;Unsorted Array \\n&quot; + &quot; &quot;); \r\n            System.out.print(Arrays.toString(data)+ &quot;\\n&quot;);\r\n    \t\t\r\n            int n = data.length;\r\n            RandomQuicSort.sort(data, 0, n - 1);\r\n     \r\n            //sort(data, 0, n-1);\r\n     \r\n            System.out.println(&quot;Sorted array in ascending order&quot;);\r\n            System.out.println(Arrays.toString(data)+&quot;\\n&quot;); \r\n            System.out.println(&quot;Sorting was completed in: &quot; ); \r\n            \r\n            printArray(data);\r\n        }\r\n    }\r\n\r\nThis is the output. \r\n\r\n    Unsorted Array \r\n     \r\n    [12, 9, 4, 99, 120, 1, 3, 10, 23, 45, 75, 69, 31, 88, 101, 14, 29, 91, 2, 0, 77]\r\n    9\tWas swapped with \t120\r\n    1\tWas swapped with \t9\r\n    0\tWas swapped with \t1\r\n    3\tWas swapped with \t10\r\n    9\tWas swapped with \t10\r\n    23\tWas swapped with \t101\r\n    23\tWas swapped with \t75\r\n    14\tWas swapped with \t23\r\n    69\tWas swapped with \t77\r\n    31\tWas swapped with \t75\r\n    31\tWas swapped with \t45\r\n    91\tWas swapped with \t120\r\n    101\tWas swapped with \t120\r\n    Sorted array in ascending order\r\n    [0, 1, 2, 3, 4, 9, 10, 12, 14, 23, 29, 31, 45, 69, 75, 77, 88, 91, 99, 101, 120]\r\n    \r\n    Sorting was completed in: \r\n    0 1 2 3 4 9 10 12 14 23 29 31 45 69 75 77 88 91 99 101 120 \r\n\r\nI would like to change the last line `Sorting was completed in:`to display the number of steps the algorithm took to put the array in ascending order. Not the sorted array like it is now. For example, if the algorithm took 30 steps, I need to display `Sorting was completed in: 30 Steps!`. I have tried printing `class.display();` but it gives me an error message. \r\n\r\nPlease help me. \r\n\r\nThank you. ","title":"To print the number of steps this RandomQuickSort Takes. Java code","body":"<p>I have this Java algorithm and I am having trouble printing the number of steps it takes to solve the sorting. Here is the code</p>\n<pre><code>    /* The main function that implements QuickSort()\n    arr[] --&gt; Array to be sorted,\n    low --&gt; Starting index,\n    high --&gt; Ending index */\n    static void sort(int arr[], int low, int high)\n    {\n        if (low &lt; high)\n        {\n            /* partIndex is partitioning index, arr[partIndex] is\n            now at right place */\n            int partIndex = partition(arr, low, high);\n \n            // Recursively sort elements before\n            // partition and after partition\n            sort(arr, low, partIndex-1);\n            sort(arr, partIndex+1, high);\n        }\n    }\n \n    /*  print array of size n */\n    static void printArray(int arr[])\n    {\n        int n = arr.length;\n        for (int i = 0; i &lt; n; ++i)\n            System.out.print(arr[i]+&quot; &quot;);\n        System.out.println();\n    }\n \n    // Driver Code\n    public static void main(String args[])\n    {\n        int[] data = {12,9,4,99,120,1,3,10,23,45,75,69,31,88,101,14,29,91,2,0,77};\n               \n        System.out.println(&quot;Unsorted Array \\n&quot; + &quot; &quot;); \n        System.out.print(Arrays.toString(data)+ &quot;\\n&quot;);\n        \n        int n = data.length;\n        RandomQuicSort.sort(data, 0, n - 1);\n \n        //sort(data, 0, n-1);\n \n        System.out.println(&quot;Sorted array in ascending order&quot;);\n        System.out.println(Arrays.toString(data)+&quot;\\n&quot;); \n        System.out.println(&quot;Sorting was completed in: &quot; ); \n        \n        printArray(data);\n    }\n}\n</code></pre>\n<p>This is the output.</p>\n<pre><code>Unsorted Array \n \n[12, 9, 4, 99, 120, 1, 3, 10, 23, 45, 75, 69, 31, 88, 101, 14, 29, 91, 2, 0, 77]\n9   Was swapped with    120\n1   Was swapped with    9\n0   Was swapped with    1\n3   Was swapped with    10\n9   Was swapped with    10\n23  Was swapped with    101\n23  Was swapped with    75\n14  Was swapped with    23\n69  Was swapped with    77\n31  Was swapped with    75\n31  Was swapped with    45\n91  Was swapped with    120\n101 Was swapped with    120\nSorted array in ascending order\n[0, 1, 2, 3, 4, 9, 10, 12, 14, 23, 29, 31, 45, 69, 75, 77, 88, 91, 99, 101, 120]\n\nSorting was completed in: \n0 1 2 3 4 9 10 12 14 23 29 31 45 69 75 77 88 91 99 101 120 \n</code></pre>\n<p>I would like to change the last line <code>Sorting was completed in:</code>to display the number of steps the algorithm took to put the array in ascending order. Not the sorted array like it is now. For example, if the algorithm took 30 steps, I need to display <code>Sorting was completed in: 30 Steps!</code>. I have tried printing <code>class.display();</code> but it gives me an error message.</p>\n<p>Please help me.</p>\n<p>Thank you.</p>\n"},{"tags":["java","arrays","moea-framework"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1651866137,"post_id":72145611,"comment_id":127475024,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1651878933,"post_id":72145611,"comment_id":127477472,"body_markdown":"I am a relatively new Java developer so forgive me if this completely incorrect, but is the **Integer[] daysArray** supposed to use the **int[]** datatype instead? Obviously I understand that applying **list.stream().map(Product::getDay).toArray(Integer[]::new);** would require that if you assigned the new **Integer[]**, but could you use **(int[] :: new)** instead? Again, new developer so this may be way off haha","body":"I am a relatively new Java developer so forgive me if this completely incorrect, but is the <b>Integer[] daysArray</b> supposed to use the <b>int[]</b> datatype instead? Obviously I understand that applying <b>list.stream().map(Product::getDay).toArray(Integer[]::new);</b> would require that if you assigned the new <b>Integer[]</b>, but could you use <b>(int[] :: new)</b> instead? Again, new developer so this may be way off haha"},{"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"score":0,"creation_date":1651879837,"post_id":72145611,"comment_id":127477595,"body_markdown":"Where is **list** from the **get_days()** method declared? I see that the space assignment for **double[] data** uses the size of said Object, and -- it may be there and I&#39;m just missing it -- I can&#39;t see where that is declared.","body":"Where is <b>list</b> from the <b>get_days()</b> method declared? I see that the space assignment for <b>double[] data</b> uses the size of said Object, and -- it may be there and I&#39;m just missing it -- I can&#39;t see where that is declared."},{"owner":{"display_name":"user17392778"},"score":0,"creation_date":1651882713,"post_id":72145611,"comment_id":127477997,"body_markdown":"There is nothing wrong with the method but when i called it on other classs outside the public static void main it seems to run twice as it return the size of the array more than 230, i dont understand why it become 460 while it supposed to 230","body":"There is nothing wrong with the method but when i called it on other classs outside the public static void main it seems to run twice as it return the size of the array more than 230, i dont understand why it become 460 while it supposed to 230"}],"answers":[{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652586202,"creation_date":1651960284,"answer_id":72156589,"question_id":72145611,"body_markdown":"I genuinely do not see your **list** variable nor do I see your **readFile()** method (apologies if it&#39;s super obvious and I&#39;m pulling a facepalm). My current hypothesis is so: when you read the file perhaps you do not empty the destination and it just loads up extra data leading to doubling.\r\n\r\nMaybe it is a class-level StringBuilder? Please include this part in your question :)\r\n\r\n    private StringBuilder list = null;\r\nThen inside the file reading method:\r\n\r\n    public static void readFile()\r\n    {\r\n        // can empty with a new instance\r\n        list = new StringBuilder();\r\n        // or reset the length\r\n        list.setLength(0);\r\n        ...\r\n        // perform reading, now with an empty StringBuilder\r\n    }\r\nWithout **^ this ^** you could be doing something similar to the following example:\r\n\r\n    list = new StringBuilder(&quot;1&quot;).append(&quot;, &quot;).append(&quot;2&quot;);\r\n    readFile(); // in method -&gt; list.append(&quot;1&quot;).append(&quot;, &quot;).append(&quot;2&quot;);\r\nWhich would give the StringBuilder the output: \r\n\r\n    [&quot;1&quot;, &quot;, &quot;, &quot;2&quot;, &quot;1&quot;, &quot;, &quot;, &quot;2&quot;]\r\nWith the length of 6, instead of the desired:\r\n\r\n    [&quot;1&quot;, &quot;, &quot;, &quot;2&quot;]\r\nWith the length of 3. I could see this being responsible for an exact double count.\r\n","title":"function loop for more than one times java","body":"<p>I genuinely do not see your <strong>list</strong> variable nor do I see your <strong>readFile()</strong> method (apologies if it's super obvious and I'm pulling a facepalm). My current hypothesis is so: when you read the file perhaps you do not empty the destination and it just loads up extra data leading to doubling.</p>\n<p>Maybe it is a class-level StringBuilder? Please include this part in your question :)</p>\n<pre><code>private StringBuilder list = null;\n</code></pre>\n<p>Then inside the file reading method:</p>\n<pre><code>public static void readFile()\n{\n    // can empty with a new instance\n    list = new StringBuilder();\n    // or reset the length\n    list.setLength(0);\n    ...\n    // perform reading, now with an empty StringBuilder\n}\n</code></pre>\n<p>Without <strong>^ this ^</strong> you could be doing something similar to the following example:</p>\n<pre><code>list = new StringBuilder(&quot;1&quot;).append(&quot;, &quot;).append(&quot;2&quot;);\nreadFile(); // in method -&gt; list.append(&quot;1&quot;).append(&quot;, &quot;).append(&quot;2&quot;);\n</code></pre>\n<p>Which would give the StringBuilder the output:</p>\n<pre><code>[&quot;1&quot;, &quot;, &quot;, &quot;2&quot;, &quot;1&quot;, &quot;, &quot;, &quot;2&quot;]\n</code></pre>\n<p>With the length of 6, instead of the desired:</p>\n<pre><code>[&quot;1&quot;, &quot;, &quot;, &quot;2&quot;]\n</code></pre>\n<p>With the length of 3. I could see this being responsible for an exact double count.</p>\n"}],"owner":{"display_name":"user17392778"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72156589,"answer_count":1,"score":2,"last_activity_date":1652586202,"creation_date":1651859627,"question_id":72145611,"body_markdown":"so basically i tried to call method that return array from other class java, it works perfectly except it double the size or length of the array 2 times from original.\r\nhere is my code to return the array and the length.\r\n\r\n    public static double [] get_days(){\r\n            //extracted days from table into array\r\n            readFile();\r\n            double[] data = new double[list.size()];\r\n            System.out.println(list.size());\r\n            Integer[] daysArray = list.stream().map(Product::getDay)\r\n                    .toArray(Integer[]::new);\r\n            for(int i = 0; i &lt; daysArray.length; i++){\r\n                data[i] = Double.valueOf(daysArray[i]) ;\r\n            }\r\n            System.out.println(&quot;Array Size (Supposed to have 230 Data only) &quot;+ data.length);\r\n            return data;\r\n        }\r\n\r\nhere is how I call the method on the other class\r\n\r\n    public class order_Picking extends AbstractProblem{\r\n        get_Product test = new get_Product();\r\n    \r\n        public order_Picking(){\r\n    \r\n            super(161,1,1);\r\n    \r\n        }\r\n    \r\n    \r\n        public double [] var = new double[numberOfVariables];\r\n        public double [] Days = test.get_days();\r\n    \r\n        @Override\r\n        public void evaluate (Solution solution){\r\n            System.out.println(Days.length);\r\n            //Jumlah produk pada batch ke-i pada picking list ke-i pada lokasi yang ke-i\r\n            for(int i=0; i&lt; var.length;i++){\r\n                var[i]= EncodingUtils.getInt(solution.getVariable(i));\r\n            }\r\n    \r\n    \r\n    \r\n            //jumlah ketersedian produk\r\n            int k1 = 100;\r\n            int k2 = 250;\r\n            int k3 = 150;\r\n    \r\n    \r\n            //Picking list-1\r\n            double [] pl1 = new double[3] ;\r\n            int p1 =100;\r\n            pl1[0]= p1;\r\n            int p2 = 20;\r\n            pl1[1]= p2;\r\n            int p3 = 40;\r\n            pl1[2]= p3;\r\n            int totalpl1 = p1+p2+p3;\r\n    \r\n            //picking list-2\r\n            double [] pl2 = new double[3] ;\r\n            int p4 = 10;\r\n            pl2[0]= p4;\r\n            int p5 = 20;\r\n            pl2[1]= p5;\r\n            int p6 = 15;\r\n            pl2[2]= p6;\r\n            int totalpl2 = p4+p5+p6;\r\n    \r\n    \r\n            // Fungsi Tujuan untuk minimasi jarak\r\n            double f1 = distance(var)  ;\r\n    \r\n    \r\n            double c1 = 0;\r\n            double c2 = 0;\r\n            for (int i = 0 ; i &lt; var.length;i++){\r\n                c1 = (var[i]+var[i]*var[i])-totalpl1 ;\r\n            }\r\n            for (int i = 0 ; i &lt; var.length;i++){\r\n                c2 = (var[i]+var[i]*var[i])-totalpl2 ;\r\n            }\r\n    \r\n            //constraint picking list-1\r\n    \r\n    \r\n            //constraint picking list-2\r\n    \r\n    \r\n    \r\n    \r\n            solution.setObjective(0, f1);\r\n            solution.setConstraint(0,c1 == 0.0 ? 0.0 : c1);\r\n            solution.setConstraint(0,c2 == 0.0 ? 0.0 : c1);\r\n        }\r\n    \r\n        @Override\r\n        public Solution newSolution() {\r\n    \r\n            Solution solution = new Solution(161, 1, 1);\r\n    \r\n            for (int i = 0 ; i&lt;var.length;i++){\r\n                solution.setVariable(i,EncodingUtils.newBinaryInt(0,1));\r\n            }\r\n    \r\n    \r\n    \r\n            return solution;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            order_Picking value = new order_Picking();\r\n    \r\n            NondominatedPopulation result = new Executor()\r\n                    .withAlgorithm(&quot;GA&quot;)\r\n                    .withProblemClass(order_Picking.class)\r\n                    .withProperty(&quot;Populationsize&quot;,100)\r\n                    .withProperty(&quot;sbx.rate&quot;,0.2)\r\n                    .withProperty(&quot;pm&quot;,0.5)\r\n                    .withMaxEvaluations(10000)\r\n                    .run();\r\n            for (Solution solution : result) {\r\n                if (solution.violatesConstraints()) {\r\n                    System.out.println(&quot;Solution for index 0 : &quot; + +solution.getObjective(0));\r\n                      for (int i = 0; i &lt; value.var.length; i++){\r\n                          System.out.println(&quot;Solusi variabel ke-&quot;+i+&quot; adalah &quot;+ solution.getVariable(i));\r\n                      }\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        public double distance (double [] x){\r\n            double a = 0;\r\n            for (int i = 0; i &lt; x.length ; i++){\r\n                a += x[i];\r\n            }\r\n            return a;\r\n        }\r\n    \r\n    }\r\n\r\nThere is nothing wrong with the method but when i called it on other classs outside the public static void main it seems to run twice as it return the size of the array more than 230, i dont understand why it become 460 while it supposed to 230 \r\n[here is the result on console][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EZ7ws.png","title":"function loop for more than one times java","body":"<p>so basically i tried to call method that return array from other class java, it works perfectly except it double the size or length of the array 2 times from original.\nhere is my code to return the array and the length.</p>\n<pre><code>public static double [] get_days(){\n        //extracted days from table into array\n        readFile();\n        double[] data = new double[list.size()];\n        System.out.println(list.size());\n        Integer[] daysArray = list.stream().map(Product::getDay)\n                .toArray(Integer[]::new);\n        for(int i = 0; i &lt; daysArray.length; i++){\n            data[i] = Double.valueOf(daysArray[i]) ;\n        }\n        System.out.println(&quot;Array Size (Supposed to have 230 Data only) &quot;+ data.length);\n        return data;\n    }\n</code></pre>\n<p>here is how I call the method on the other class</p>\n<pre><code>public class order_Picking extends AbstractProblem{\n    get_Product test = new get_Product();\n\n    public order_Picking(){\n\n        super(161,1,1);\n\n    }\n\n\n    public double [] var = new double[numberOfVariables];\n    public double [] Days = test.get_days();\n\n    @Override\n    public void evaluate (Solution solution){\n        System.out.println(Days.length);\n        //Jumlah produk pada batch ke-i pada picking list ke-i pada lokasi yang ke-i\n        for(int i=0; i&lt; var.length;i++){\n            var[i]= EncodingUtils.getInt(solution.getVariable(i));\n        }\n\n\n\n        //jumlah ketersedian produk\n        int k1 = 100;\n        int k2 = 250;\n        int k3 = 150;\n\n\n        //Picking list-1\n        double [] pl1 = new double[3] ;\n        int p1 =100;\n        pl1[0]= p1;\n        int p2 = 20;\n        pl1[1]= p2;\n        int p3 = 40;\n        pl1[2]= p3;\n        int totalpl1 = p1+p2+p3;\n\n        //picking list-2\n        double [] pl2 = new double[3] ;\n        int p4 = 10;\n        pl2[0]= p4;\n        int p5 = 20;\n        pl2[1]= p5;\n        int p6 = 15;\n        pl2[2]= p6;\n        int totalpl2 = p4+p5+p6;\n\n\n        // Fungsi Tujuan untuk minimasi jarak\n        double f1 = distance(var)  ;\n\n\n        double c1 = 0;\n        double c2 = 0;\n        for (int i = 0 ; i &lt; var.length;i++){\n            c1 = (var[i]+var[i]*var[i])-totalpl1 ;\n        }\n        for (int i = 0 ; i &lt; var.length;i++){\n            c2 = (var[i]+var[i]*var[i])-totalpl2 ;\n        }\n\n        //constraint picking list-1\n\n\n        //constraint picking list-2\n\n\n\n\n        solution.setObjective(0, f1);\n        solution.setConstraint(0,c1 == 0.0 ? 0.0 : c1);\n        solution.setConstraint(0,c2 == 0.0 ? 0.0 : c1);\n    }\n\n    @Override\n    public Solution newSolution() {\n\n        Solution solution = new Solution(161, 1, 1);\n\n        for (int i = 0 ; i&lt;var.length;i++){\n            solution.setVariable(i,EncodingUtils.newBinaryInt(0,1));\n        }\n\n\n\n        return solution;\n    }\n\n    public static void main(String[] args) {\n\n        order_Picking value = new order_Picking();\n\n        NondominatedPopulation result = new Executor()\n                .withAlgorithm(&quot;GA&quot;)\n                .withProblemClass(order_Picking.class)\n                .withProperty(&quot;Populationsize&quot;,100)\n                .withProperty(&quot;sbx.rate&quot;,0.2)\n                .withProperty(&quot;pm&quot;,0.5)\n                .withMaxEvaluations(10000)\n                .run();\n        for (Solution solution : result) {\n            if (solution.violatesConstraints()) {\n                System.out.println(&quot;Solution for index 0 : &quot; + +solution.getObjective(0));\n                  for (int i = 0; i &lt; value.var.length; i++){\n                      System.out.println(&quot;Solusi variabel ke-&quot;+i+&quot; adalah &quot;+ solution.getVariable(i));\n                  }\n            }\n        }\n    }\n\n\n    public double distance (double [] x){\n        double a = 0;\n        for (int i = 0; i &lt; x.length ; i++){\n            a += x[i];\n        }\n        return a;\n    }\n\n}\n</code></pre>\n<p>There is nothing wrong with the method but when i called it on other classs outside the public static void main it seems to run twice as it return the size of the array more than 230, i dont understand why it become 460 while it supposed to 230\n<a href=\"https://i.stack.imgur.com/EZ7ws.png\" rel=\"nofollow noreferrer\">here is the result on console</a></p>\n"},{"tags":["java","android","android-studio","animationdrawable","mediametadataretriever"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1652443353,"post_id":72228992,"comment_id":127613481,"body_markdown":"you should post your current code, especially how do you &quot;display the GIF&quot;. is it GIF in fact or just an `AnimationDrawable`? its very not the same...","body":"you should post your current code, especially how do you &quot;display the GIF&quot;. is it GIF in fact or just an <code>AnimationDrawable</code>? its very not the same..."},{"owner":{"account_id":17334792,"reputation":1,"user_id":12556947,"display_name":"rohit singh tomar"},"score":0,"creation_date":1652671129,"post_id":72228992,"comment_id":127654159,"body_markdown":"@snachmsm added code for your reference. Thanks","body":"@snachmsm added code for your reference. Thanks"}],"owner":{"account_id":17334792,"reputation":1,"user_id":12556947,"display_name":"rohit singh tomar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652585515,"creation_date":1652442020,"question_id":72228992,"body_markdown":"I am very new to android development and trying to make an application that will convert a video to GIf using MediaMetadataRetriever and AnimationDrawable. I am able to display the GIF but I am not able to save the file. I want to know how I can save this GIF as a file or essentially an AnimationDrawable object to a file in JAVA.  \r\n\r\nThanks\r\n\r\n    MediaMetadataRetriever mmRetriever = new MediaMetadataRetriever();\r\n    mmRetriever.setDataSource(MainActivity.this,result);\r\n    \r\n    AnimationDrawable animatedGIF = new AnimationDrawable();\r\n    Bitmap bitmap = mmRetriever.getFrameAtTime(n); #n is any integer\r\n    Drawable d = (Drawable) new BitmapDrawable(getResources(), bitmap);\r\n    animatedGIF.addFrame(d,200);\r\n \r\n    binding.imageView.setImageDrawable(animatedGIF);\r\n    animatedGIF.setOneShot(false);\r\n    animatedGIF.start();\r\n\r\n\r\n","title":"Saving an AnimationDrawable object to a file","body":"<p>I am very new to android development and trying to make an application that will convert a video to GIf using MediaMetadataRetriever and AnimationDrawable. I am able to display the GIF but I am not able to save the file. I want to know how I can save this GIF as a file or essentially an AnimationDrawable object to a file in JAVA.</p>\n<p>Thanks</p>\n<pre><code>MediaMetadataRetriever mmRetriever = new MediaMetadataRetriever();\nmmRetriever.setDataSource(MainActivity.this,result);\n\nAnimationDrawable animatedGIF = new AnimationDrawable();\nBitmap bitmap = mmRetriever.getFrameAtTime(n); #n is any integer\nDrawable d = (Drawable) new BitmapDrawable(getResources(), bitmap);\nanimatedGIF.addFrame(d,200);\n\nbinding.imageView.setImageDrawable(animatedGIF);\nanimatedGIF.setOneShot(false);\nanimatedGIF.start();\n</code></pre>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1652475231,"post_id":72235072,"comment_id":127623975,"body_markdown":"Can you add a description of what the `function` is intended to do?","body":"Can you add a description of what the <code>function</code> is intended to do?"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652476102,"creation_date":1652476102,"answer_id":72235450,"question_id":72235072,"body_markdown":"You could achieve this even without java stream by simply invoking the `foreach` method of the `Set` class to traverse all its entries. Then, check if the entry&#39;s key satisfies your condition and in that case apply your `Function`.\r\n\r\n```\r\nFunction&lt;...&gt; f = /* ... my function implementation ... */\r\nentries.forEach(entry -&gt; {\r\n    if (entry.getKey().contains(&quot;-fragment&quot;)){\r\n        f.apply(entry);\r\n    }\r\n});\r\n```\r\n\r\nInstead, if you want to use java stream to return a brand new `Set` created by the application of your `Function`, then you could stream your `Set`, filter each entry in the same way you&#39;re doing in your loop, map each entry to apply your `Function` and then return a value (the `Function` returning value, the updated entry or anything else you need). Finally, use the terminal operation `collect` to collect your data\r\nin a new `Set`.\r\n\r\n```\r\nFunction&lt;...&gt; f = /* ... my function implementation ... */\r\nSet&lt;Map.Entry&lt;String, JsonElement&gt;&gt; result = entries.stream()\r\n        .filter(entry -&gt; entry.getKey().contains(&quot;-fragment&quot;))\r\n        .map(entry -&gt; {\r\n            //applying your function\r\n            f.apply(entry);\r\n            return entry;\r\n        })\r\n        .collect(Collectors.toSet());","title":"transform map : add new key value pairs to existing map Java 8","body":"<p>You could achieve this even without java stream by simply invoking the <code>foreach</code> method of the <code>Set</code> class to traverse all its entries. Then, check if the entry's key satisfies your condition and in that case apply your <code>Function</code>.</p>\n<pre><code>Function&lt;...&gt; f = /* ... my function implementation ... */\nentries.forEach(entry -&gt; {\n    if (entry.getKey().contains(&quot;-fragment&quot;)){\n        f.apply(entry);\n    }\n});\n</code></pre>\n<p>Instead, if you want to use java stream to return a brand new <code>Set</code> created by the application of your <code>Function</code>, then you could stream your <code>Set</code>, filter each entry in the same way you're doing in your loop, map each entry to apply your <code>Function</code> and then return a value (the <code>Function</code> returning value, the updated entry or anything else you need). Finally, use the terminal operation <code>collect</code> to collect your data\nin a new <code>Set</code>.</p>\n<pre><code>Function&lt;...&gt; f = /* ... my function implementation ... */\nSet&lt;Map.Entry&lt;String, JsonElement&gt;&gt; result = entries.stream()\n        .filter(entry -&gt; entry.getKey().contains(&quot;-fragment&quot;))\n        .map(entry -&gt; {\n            //applying your function\n            f.apply(entry);\n            return entry;\n        })\n        .collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":471470,"reputation":1217,"user_id":879293,"accept_rate":24,"display_name":"Sri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1652584875,"creation_date":1652473419,"question_id":72235072,"body_markdown":"I&#39;m trying to transform a `Map` by adding a new `JsonObject` key-value pair, if any of the map&#39;s `JsonObject`&#39;s key contains the &quot;-fragment&quot; `String`.\r\n\r\n```java\r\nSet&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entries = rootJsonElement.getAsJsonObject().entrySet();\r\nfor (Map.Entry&lt;String, JsonElement&gt; entry : entries) {\r\n    if (entry.getKey().contains(&quot;-fragment&quot;)) {\r\n        // apply function that gets fragment data and adds\r\n        // jsonobject \r\n    }\r\n}\r\n```\r\n\r\nCould someone give me an example of how to do this in Java8?","title":"transform map : add new key value pairs to existing map Java 8","body":"<p>I'm trying to transform a <code>Map</code> by adding a new <code>JsonObject</code> key-value pair, if any of the map's <code>JsonObject</code>'s key contains the &quot;-fragment&quot; <code>String</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entries = rootJsonElement.getAsJsonObject().entrySet();\nfor (Map.Entry&lt;String, JsonElement&gt; entry : entries) {\n    if (entry.getKey().contains(&quot;-fragment&quot;)) {\n        // apply function that gets fragment data and adds\n        // jsonobject \n    }\n}\n</code></pre>\n<p>Could someone give me an example of how to do this in Java8?</p>\n"},{"tags":["java","htmlunit"],"comments":[{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1652963606,"post_id":72245270,"comment_id":127738148,"body_markdown":"I&#39;m afraid htmlunit can&#39;t process all the Javascript on that page. The login form is not part of the sources of the page, so it&#39;s probably generated by Javascript. If you look at the debug/logging output of htmlunit you can see a lot of Javascript errors. Perhaps you could try to report it as a bug, see https://stackoverflow.com/a/56207479/18699445","body":"I&#39;m afraid htmlunit can&#39;t process all the Javascript on that page. The login form is not part of the sources of the page, so it&#39;s probably generated by Javascript. If you look at the debug/logging output of htmlunit you can see a lot of Javascript errors. Perhaps you could try to report it as a bug, see <a href=\"https://stackoverflow.com/a/56207479/18699445\">stackoverflow.com/a/56207479/18699445</a>"},{"owner":{"account_id":20718629,"reputation":685,"user_id":15213503,"display_name":"MeT"},"score":0,"creation_date":1655227835,"post_id":72245270,"comment_id":128280896,"body_markdown":"try to use playwright https://playwright.dev/java/","body":"try to use playwright <a href=\"https://playwright.dev/java/\" rel=\"nofollow noreferrer\">playwright.dev/java</a>"}],"owner":{"account_id":25293036,"reputation":1,"user_id":19118704,"display_name":"Jonathan007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652583928,"creation_date":1652583928,"question_id":72245270,"body_markdown":"I am trying to find the loginform data from the Nike website. I&#39;ve added a timer to wait for the loginform to be populated but it still outputs as an empty set. I&#39;ve have also tried searching for the form by name. \r\nI would appreciate any help in solving this issue.\r\n*Also the code below will output warnings but it is a htmlUnit library issue, code will compile, and run*\r\n\r\n\r\n[Nike loginForm][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aVgyc.png\r\n\r\n\r\n\r\n``` \r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.select.Elements;\r\n\r\nimport com.gargoylesoftware.htmlunit.WebClient;\r\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\r\n\r\npublic static void main( String[] args ) throws IOException, Exception\r\n    {\r\n        WebClient webClient = new WebClient(BrowserVersion.CHROME);\r\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\r\n        HtmlPage loginPage = (HtmlPage) webClient.getPage(&quot;https://www.nike.com/login?continueUrl=https://www.nike.com/&quot;);\r\n\r\n        webClient.waitForBackgroundJavaScriptStartingBefore(6000);\r\n        System.out.println( loginPage.getForms() );\r\n    }\r\n```\r\n\r\nI&#39;ve also tried to retrieve the loginForm by using this code block but been unsuccessful.\r\n```\r\nSystem.out.println( loginPage.getByXPath(&quot;//form[@id=&#39;nike-unite-loginform&#39;]&quot;) );\r\nHtmlForm form = loginPage.getFormByName(&quot;nike-unite-loginForm&quot;);\r\nList&lt;HtmlForm&gt; formList = (List&lt;HtmlForm&gt;) loginPage.getForms();\r\nHtmlInput htmlEmail = loginPage.getElementByName(&quot;emailAddress&quot;);\r\n\r\n```\r\n","title":"HtmlUnit returning empty loginForm set","body":"<p>I am trying to find the loginform data from the Nike website. I've added a timer to wait for the loginform to be populated but it still outputs as an empty set. I've have also tried searching for the form by name.\nI would appreciate any help in solving this issue.\n<em>Also the code below will output warnings but it is a htmlUnit library issue, code will compile, and run</em></p>\n<p><a href=\"https://i.stack.imgur.com/aVgyc.png\" rel=\"nofollow noreferrer\">Nike loginForm</a></p>\n<pre><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\nimport com.gargoylesoftware.htmlunit.WebClient;\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\n\npublic static void main( String[] args ) throws IOException, Exception\n    {\n        WebClient webClient = new WebClient(BrowserVersion.CHROME);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n\n        HtmlPage loginPage = (HtmlPage) webClient.getPage(&quot;https://www.nike.com/login?continueUrl=https://www.nike.com/&quot;);\n\n        webClient.waitForBackgroundJavaScriptStartingBefore(6000);\n        System.out.println( loginPage.getForms() );\n    }\n</code></pre>\n<p>I've also tried to retrieve the loginForm by using this code block but been unsuccessful.</p>\n<pre><code>System.out.println( loginPage.getByXPath(&quot;//form[@id='nike-unite-loginform']&quot;) );\nHtmlForm form = loginPage.getFormByName(&quot;nike-unite-loginForm&quot;);\nList&lt;HtmlForm&gt; formList = (List&lt;HtmlForm&gt;) loginPage.getForms();\nHtmlInput htmlEmail = loginPage.getElementByName(&quot;emailAddress&quot;);\n\n</code></pre>\n"},{"tags":["java","spring","jpa","model-view-controller","design-patterns"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1652540511,"post_id":72240897,"comment_id":127633307,"body_markdown":"See if [Spring Data - ignore parameter if it has a null value](https://stackoverflow.com/questions/43780226/spring-data-ignore-parameter-if-it-has-a-null-value) helps","body":"See if <a href=\"https://stackoverflow.com/questions/43780226/spring-data-ignore-parameter-if-it-has-a-null-value\">Spring Data - ignore parameter if it has a null value</a> helps"}],"answers":[{"tags":[],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652583807,"creation_date":1652583807,"answer_id":72245266,"question_id":72240897,"body_markdown":"Instead of creating different controllers for each search option, try to make use of one controller. Suppose you have an endpoint to get the list of all users.\r\n```\r\n@GetMapping\r\npublic List&lt;User&gt; listAll() {\r\n    return service.listAll();\r\n}\r\n```\r\nAccepting query parameters in a map is a good solution. Change the method signature and pass the query parameter map to the service:\r\n\r\n```\r\n@GetMapping\r\npublic List&lt;User&gt; listAll(@RequestParam Map&lt;String, String&gt; queryParams) {\r\n    return service.listAll(queryParams);\r\n}\r\n````\r\nThis way you can accept dynamic number of search options. In your service class use **Spring JPA Specification**. To execute specification your repository interface need to extend `JpaSpecificationExecutor&lt;T&gt;` interface.\r\n\r\n```\r\npublic List&lt;User&gt; listAll(Map&lt;String, String&gt; queryParams) {\r\n    return repository.findAll(createSpec(queryParams));\r\n}\r\n\r\nprivate Specification&lt;User&gt; createSpec(Map&lt;String, String&gt; queryParams) {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n            String value = queryParams.get(&quot;email&quot;);\r\n            if(StringUtils.isNotBlank(value)) {\r\n                Predicate email = criteriaBuilder.like(root.get(&quot;email&quot;), &quot;%&quot; + value + &quot;%&quot;);\r\n                predicates.add(name);\r\n            }\r\n\r\n            value = queryParams.get(&quot;name&quot;);\r\n            if(StringUtils.isNotBlank(value)) {\r\n                Predicate name = criteriaBuilder.like(root.get(&quot;name&quot;), &quot;%&quot; + value + &quot;%&quot;);\r\n                predicates.add(name);\r\n            }\r\n\r\n            return criteriaBuilder.and(predicates.toArray(Predicate[]::new));\r\n        };\r\n    }\r\n```\r\n\r\nWhen there is a requirement to add more search options, you can add them inside `createSpec()` method without breaking existing API contract or adding more methods.\r\n\r\n","title":"What is the best practice for solving the number of cases of N searches in Spring JPA?","body":"<p>Instead of creating different controllers for each search option, try to make use of one controller. Suppose you have an endpoint to get the list of all users.</p>\n<pre><code>@GetMapping\npublic List&lt;User&gt; listAll() {\n    return service.listAll();\n}\n</code></pre>\n<p>Accepting query parameters in a map is a good solution. Change the method signature and pass the query parameter map to the service:</p>\n<pre><code>@GetMapping\npublic List&lt;User&gt; listAll(@RequestParam Map&lt;String, String&gt; queryParams) {\n    return service.listAll(queryParams);\n}\n</code></pre>\n<p>This way you can accept dynamic number of search options. In your service class use <strong>Spring JPA Specification</strong>. To execute specification your repository interface need to extend <code>JpaSpecificationExecutor&lt;T&gt;</code> interface.</p>\n<pre><code>public List&lt;User&gt; listAll(Map&lt;String, String&gt; queryParams) {\n    return repository.findAll(createSpec(queryParams));\n}\n\nprivate Specification&lt;User&gt; createSpec(Map&lt;String, String&gt; queryParams) {\n        return (root, query, criteriaBuilder) -&gt; {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n            String value = queryParams.get(&quot;email&quot;);\n            if(StringUtils.isNotBlank(value)) {\n                Predicate email = criteriaBuilder.like(root.get(&quot;email&quot;), &quot;%&quot; + value + &quot;%&quot;);\n                predicates.add(name);\n            }\n\n            value = queryParams.get(&quot;name&quot;);\n            if(StringUtils.isNotBlank(value)) {\n                Predicate name = criteriaBuilder.like(root.get(&quot;name&quot;), &quot;%&quot; + value + &quot;%&quot;);\n                predicates.add(name);\n            }\n\n            return criteriaBuilder.and(predicates.toArray(Predicate[]::new));\n        };\n    }\n</code></pre>\n<p>When there is a requirement to add more search options, you can add them inside <code>createSpec()</code> method without breaking existing API contract or adding more methods.</p>\n"}],"owner":{"account_id":24190107,"reputation":35,"user_id":18149401,"display_name":"user18149401"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652583807,"creation_date":1652536584,"question_id":72240897,"body_markdown":"What is the best practice for solving the number of cases of N searches?\r\n\r\nThere are 3 search conditions for me.\r\nThere are search conditions of A, B, and C.\r\n\r\nIn this case, the number of possible cases is\r\nSearch only A, search only B, search only C,\r\nSearch only AB, search only AC, search only BC\r\nSearch only ABC\r\n\r\nIn the above situation, there are a total of 6 cases like this.(3!)\r\n\r\nTo map the number of all cases without thinking\r\n```\r\n@GetMapping(&quot;/A/{A}/B/{B}/C/{C}&quot;)\r\npublic ReturnType MethodName(@PathVariable AClass A\r\n                             @PathVariable BClass B,\r\n                             @PathVariable CClass C) {\r\nreturn service.findByAandBandC(A, B, C);\r\n...\r\n```\r\nI have to create 6 controller methods like the one above.\r\n\r\n\r\n    With 4 search conditions, need 24 methods (4! = 4 * 3 * 2)\r\n    \r\n    If there are 5 search conditions, need 120 methods (5! = 5 * 4 * 3 * 2)\r\n\r\nAs above, it grows exponentially.\r\n\r\nInstead of making all cases a method, I wonder if there is a best practice.\r\n\r\nIf possible, any answer utilizing spring data jpa would be appreciated.\r\n\r\nbest regards!","title":"What is the best practice for solving the number of cases of N searches in Spring JPA?","body":"<p>What is the best practice for solving the number of cases of N searches?</p>\n<p>There are 3 search conditions for me.\nThere are search conditions of A, B, and C.</p>\n<p>In this case, the number of possible cases is\nSearch only A, search only B, search only C,\nSearch only AB, search only AC, search only BC\nSearch only ABC</p>\n<p>In the above situation, there are a total of 6 cases like this.(3!)</p>\n<p>To map the number of all cases without thinking</p>\n<pre><code>@GetMapping(&quot;/A/{A}/B/{B}/C/{C}&quot;)\npublic ReturnType MethodName(@PathVariable AClass A\n                             @PathVariable BClass B,\n                             @PathVariable CClass C) {\nreturn service.findByAandBandC(A, B, C);\n...\n</code></pre>\n<p>I have to create 6 controller methods like the one above.</p>\n<pre><code>With 4 search conditions, need 24 methods (4! = 4 * 3 * 2)\n\nIf there are 5 search conditions, need 120 methods (5! = 5 * 4 * 3 * 2)\n</code></pre>\n<p>As above, it grows exponentially.</p>\n<p>Instead of making all cases a method, I wonder if there is a best practice.</p>\n<p>If possible, any answer utilizing spring data jpa would be appreciated.</p>\n<p>best regards!</p>\n"},{"tags":["java","swing","jtable","indexoutofboundsexception","tablemodel"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651856972,"creation_date":1651856972,"answer_id":72145158,"question_id":72144653,"body_markdown":"    jtable_step2.setValueAt(jtable.getValueAt(i, j), row, j);\r\n\r\nYou can&#39;t use the setValueAt(...) method because the row doesn&#39;t exist in the second table. You need to add a new row of data to the model of the table.\r\n\r\nYou do this by:\r\n\r\n1. Creating a Vector, lets say &quot;row&quot;\r\n2. Iterate through all the columns of the row you want to copy and add each item to the table\r\n3. in the second table you use `jtable_step2.addRow( row )` to add a new row of data to the model of the table.","title":"How to get the whole row of a JTable to save it into another table?","body":"<pre><code>jtable_step2.setValueAt(jtable.getValueAt(i, j), row, j);\n</code></pre>\n<p>You can't use the setValueAt(...) method because the row doesn't exist in the second table. You need to add a new row of data to the model of the table.</p>\n<p>You do this by:</p>\n<ol>\n<li>Creating a Vector, lets say &quot;row&quot;</li>\n<li>Iterate through all the columns of the row you want to copy and add each item to the table</li>\n<li>in the second table you use <code>jtable_step2.addRow( row )</code> to add a new row of data to the model of the table.</li>\n</ol>\n"}],"owner":{"account_id":23780399,"reputation":75,"user_id":17793164,"display_name":"Jeniffer Lorena Guillen Castro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652583796,"creation_date":1651854286,"question_id":72144653,"body_markdown":"I am trying to validate that when the column step is equal to 2 the row is copied to another `JTable`.\r\n\r\nBut the `jtable_step2` I have not initialized correctly,\r\nthat&#39;s why it returns the error:\r\n\r\n``` \r\njtable_step2.setValueAt(jtable.getValueAt(i, j), row, j);\r\n\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 0 &gt;= 0\r\n```\r\n\r\nHow do I copy the same columns and rows that satisfy the condition?\r\n\r\nJava code:\r\n\r\n```\r\nimport javax.swing.JTable;\r\n\r\npublic class TestJTableCopy {\r\n\r\n    public static void main(String args[]){\r\n        String data[][]={ {&quot;1&quot;,&quot;/LOCAL/USER/LOCAL&quot;, &quot;20220421&quot;, &quot;1&quot;},\r\n                          {&quot;1&quot;,&quot;/LOACL/USER/LOCAL&quot;, &quot;20220421&quot;, &quot;2&quot;},\r\n                          {&quot;1&quot;,&quot;/LOACL/USER/LOCAL&quot;, &quot;20220422&quot;, &quot;2&quot;} };\r\n        String columns[] = {&quot;LINE&quot;, &quot;SOURCE&quot;, &quot;DATE&quot;, &quot;STEP&quot;};\r\n        final JTable jtable = new JTable(data,columns);\r\n        \r\n        JTable jtable_step2 = new JTable();\r\n        //jtable2.addColumn(columns);\r\n        int row = 0;\r\n        for (int i = 0; i &lt; jtable.getRowCount(); i++) {\r\n            //STEP == 2\r\n            if (jtable.getValueAt(i, 3).equals(&quot;2&quot;)) {\r\n\r\n                for(int j = 0; j &lt; jtable.getColumnCount(); j++) {\r\n                    jtable_step2.setValueAt(jtable.getValueAt(i, j), row, j);\r\n                }\r\n                row++;\r\n            }\r\n        }\r\n        \r\n        for (int i = 0; i &lt; jtable_step2.getRowCount(); i++) {\r\n            for (int j = 0; j &lt; jtable_step2.getColumnCount(); j++) {\r\n                System.out.println(i + &quot; &quot; + j + &quot; &quot; + jtable_step2.getValueAt(i, j));\r\n            }\r\n        }\r\n   }\r\n}\r\n```","title":"How to get the whole row of a JTable to save it into another table?","body":"<p>I am trying to validate that when the column step is equal to 2 the row is copied to another <code>JTable</code>.</p>\n<p>But the <code>jtable_step2</code> I have not initialized correctly,\nthat's why it returns the error:</p>\n<pre><code>jtable_step2.setValueAt(jtable.getValueAt(i, j), row, j);\n\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 0 &gt;= 0\n</code></pre>\n<p>How do I copy the same columns and rows that satisfy the condition?</p>\n<p>Java code:</p>\n<pre><code>import javax.swing.JTable;\n\npublic class TestJTableCopy {\n\n    public static void main(String args[]){\n        String data[][]={ {&quot;1&quot;,&quot;/LOCAL/USER/LOCAL&quot;, &quot;20220421&quot;, &quot;1&quot;},\n                          {&quot;1&quot;,&quot;/LOACL/USER/LOCAL&quot;, &quot;20220421&quot;, &quot;2&quot;},\n                          {&quot;1&quot;,&quot;/LOACL/USER/LOCAL&quot;, &quot;20220422&quot;, &quot;2&quot;} };\n        String columns[] = {&quot;LINE&quot;, &quot;SOURCE&quot;, &quot;DATE&quot;, &quot;STEP&quot;};\n        final JTable jtable = new JTable(data,columns);\n        \n        JTable jtable_step2 = new JTable();\n        //jtable2.addColumn(columns);\n        int row = 0;\n        for (int i = 0; i &lt; jtable.getRowCount(); i++) {\n            //STEP == 2\n            if (jtable.getValueAt(i, 3).equals(&quot;2&quot;)) {\n\n                for(int j = 0; j &lt; jtable.getColumnCount(); j++) {\n                    jtable_step2.setValueAt(jtable.getValueAt(i, j), row, j);\n                }\n                row++;\n            }\n        }\n        \n        for (int i = 0; i &lt; jtable_step2.getRowCount(); i++) {\n            for (int j = 0; j &lt; jtable_step2.getColumnCount(); j++) {\n                System.out.println(i + &quot; &quot; + j + &quot; &quot; + jtable_step2.getValueAt(i, j));\n            }\n        }\n   }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","intellij-13"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1652581068,"post_id":72245121,"comment_id":127639530,"body_markdown":"I&#39;m not sure which gaps you&#39;re referring to - the space between consecutive numbers, or the non-consecutive line numbers. The first one, you&#39;ll need to show what is in your editor to see why there are gaps. The second one - that&#39;s code folding https://www.jetbrains.com/help/idea/working-with-source-code.html#code_folding","body":"I&#39;m not sure which gaps you&#39;re referring to - the space between consecutive numbers, or the non-consecutive line numbers. The first one, you&#39;ll need to show what is in your editor to see why there are gaps. The second one - that&#39;s code folding <a href=\"https://www.jetbrains.com/help/idea/working-with-source-code.html#code_folding\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"owner":{"account_id":17484775,"reputation":129,"user_id":12678049,"display_name":"Juan Jose Garcia"},"score":0,"creation_date":1652581317,"post_id":72245121,"comment_id":127639549,"body_markdown":"@ErwinBolwidt Maybe I was not very clear, if you look between the enumerations of the editor lines there are spaces between them for some reason and I can&#39;t find how to deactivate it. Instead of all of them having the same spaces, there are some that have bigger spaces.","body":"@ErwinBolwidt Maybe I was not very clear, if you look between the enumerations of the editor lines there are spaces between them for some reason and I can&#39;t find how to deactivate it. Instead of all of them having the same spaces, there are some that have bigger spaces."},{"owner":{"account_id":15729768,"reputation":341,"user_id":11350388,"display_name":"user11350388"},"score":1,"creation_date":1652582178,"post_id":72245121,"comment_id":127639618,"body_markdown":"I think there is some sort of rendering problem because the gaps are meant to display [inlay hints](https://www.jetbrains.com/help/idea/inlay-hints.html). See if you can turn them off in preferences (Editor | Inlay Hints)?","body":"I think there is some sort of rendering problem because the gaps are meant to display <a href=\"https://www.jetbrains.com/help/idea/inlay-hints.html\" rel=\"nofollow noreferrer\">inlay hints</a>. See if you can turn them off in preferences (Editor | Inlay Hints)?"},{"owner":{"account_id":17484775,"reputation":129,"user_id":12678049,"display_name":"Juan Jose Garcia"},"score":0,"creation_date":1652582612,"post_id":72245121,"comment_id":127639655,"body_markdown":"@user11350388 omg dude i think is that, cause i desactivated Inlay Hints and the lines are together [image](https://imgur.com/GiM4854). i&#39;m gonna check it out more closely but, seriusly thank you so much.","body":"@user11350388 omg dude i think is that, cause i desactivated Inlay Hints and the lines are together <a href=\"https://imgur.com/GiM4854\" rel=\"nofollow noreferrer\">image</a>. i&#39;m gonna check it out more closely but, seriusly thank you so much."}],"answers":[{"tags":[],"owner":{"account_id":17484775,"reputation":129,"user_id":12678049,"display_name":"Juan Jose Garcia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652583642,"creation_date":1652583642,"answer_id":72245256,"question_id":72245121,"body_markdown":"thanks to @user11350388 I finally found the problem and basically it was cause of a property in Editor|Inlay Hints. Specifically in Code vision -&gt; Code author where if I deactivate it the problem is solved by magic.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nas you can see on the left every &quot;X&quot; lines there is a considerable space between them but if I deactivate the mentioned property it is solved.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7N4e8.png\r\n  [2]: https://i.stack.imgur.com/CvrbS.png","title":"Spaces between editor line numbers intellij","body":"<p>thanks to @user11350388 I finally found the problem and basically it was cause of a property in Editor|Inlay Hints. Specifically in Code vision -&gt; Code author where if I deactivate it the problem is solved by magic.</p>\n<p><a href=\"https://i.stack.imgur.com/7N4e8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7N4e8.png\" alt=\"enter image description here\" /></a></p>\n<p>as you can see on the left every &quot;X&quot; lines there is a considerable space between them but if I deactivate the mentioned property it is solved.</p>\n<p><a href=\"https://i.stack.imgur.com/CvrbS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CvrbS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17484775,"reputation":129,"user_id":12678049,"display_name":"Juan Jose Garcia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72245256,"answer_count":1,"score":1,"last_activity_date":1652583642,"creation_date":1652580812,"question_id":72245121,"body_markdown":"As you can see there is a lot of &quot;Spaces&quot; between editor line numbers and i dont know how to disable or delete that.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aCUDr.png\r\n  [2]: https://i.stack.imgur.com/Al2Rm.png","title":"Spaces between editor line numbers intellij","body":"<p>As you can see there is a lot of &quot;Spaces&quot; between editor line numbers and i dont know how to disable or delete that.</p>\n<p><a href=\"https://i.stack.imgur.com/aCUDr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aCUDr.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Al2Rm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Al2Rm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","jtable","show"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1652423844,"post_id":72225334,"comment_id":127607051,"body_markdown":"Just saying: don&#39;t learn Swing by trial and error. Pick up a tutorial, like https://docs.oracle.com/javase/tutorial/uiswing/index.html and follow that. There are soooo many subtle things that you can get wrong. So: start with known-to-be-correct working code, and **then** when you understand how things should work, then start making experiments.","body":"Just saying: don&#39;t learn Swing by trial and error. Pick up a tutorial, like <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/index.html</a> and follow that. There are soooo many subtle things that you can get wrong. So: start with known-to-be-correct working code, and <b>then</b> when you understand how things should work, then start making experiments."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652469039,"creation_date":1652469039,"answer_id":72234420,"question_id":72225334,"body_markdown":"There are a number of reasons. Here is a runnable that demonstrates how you can do it. Read the comments in code: \r\n\r\n**The runnable produces this:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**The runnable code:**\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\nimport javax.swing.JFrame;\r\nimport static javax.swing.JFrame.EXIT_ON_CLOSE;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.DefaultTableModel;\r\n\r\n\r\npublic class Main extends JFrame {\r\n\r\n    private static final long serialVersionUID = 6666606L;\r\n\r\n    private final Scanner in = new Scanner(System.in); // Make Scanner class global\r\n    \r\n    public Main() {\r\n        // Better not to build your form in here.\r\n        initForm();\r\n    }\r\n\r\n    private void initForm() {\r\n        // Array for Column Names\r\n        String[] columnNames = {&quot;Player 1&quot;, &quot;Player 2&quot;};\r\n        \r\n        // Declare DefaultTableModel and apply column names and 0 rows.\r\n        DefaultTableModel dtm = new DefaultTableModel(columnNames, 0);\r\n        \r\n        // Add table rows data to table model.\r\n        dtm.addRow(new Object[]{&quot;14 inch Buck Knife&quot;, &quot;Rubber Boots and a Baseball Bat&quot;});\r\n        dtm.addRow(new Object[]{&quot;AK47 with Grenade Launcher&quot;, &quot;Umbrella&quot;});\r\n        dtm.addRow(new Object[]{&quot;1000 Rounds of 7.62 Ammo&quot;, &quot;Banana Flavor Juice Boxes&quot;});\r\n        dtm.addRow(new Object[]{&quot;Cammo Gear &amp; B/P Flak Jacket&quot;, &quot;Yellow Rain Coat (with collapsible hood)&quot;});\r\n        dtm.addRow(new Object[]{&quot;4 Door HumV with .50cal M2 BMG&quot;, &quot;5 Speed Bike with cool Banana Seat&quot;});\r\n        dtm.addRow(new Object[]{&quot;Satellite Phone&quot;, &quot;Real Good Vocal Cords&quot;});\r\n        dtm.addRow(new Object[]{&quot;12x Binoculars + Nite Vision&quot;, &quot;Same (but made in WW1) c/w neck string&quot;});\r\n                \r\n        JTable table = new JTable(); \r\n        table.setModel(dtm);   // Apply the table model to JTable\r\n        table.setBackground(Color.pink);\r\n        \r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setTitle(&quot;JTable Demo&quot;);\r\n        setAlwaysOnTop(true);\r\n        \r\n        //Upper Panel\r\n        JPanel panelA = new JPanel();\r\n        panelA.setPreferredSize(new Dimension(500, 100));\r\n        JLabel label = new JLabel(&quot;&lt;html&gt; &lt;font size=&#39;5&#39;&gt;As you can see, when the battle begins,&lt;br&gt;&quot;\r\n                                + &quot;&lt;center&gt;Player 2 is in a world of hurt!&lt;/center&gt;&lt;/font&gt;&lt;/html&gt;&quot;);\r\n        \r\n        // Lower Panel\r\n        JPanel panelB = new JPanel();\r\n        JScrollPane scrollpane = new JScrollPane(table);\r\n        \r\n        // JScrollPane &amp; JTable\r\n        scrollpane.setPreferredSize(new Dimension(500, 150));\r\n        table.setFillsViewportHeight(true);\r\n        \r\n        // Add components to their respective panels\r\n        panelA.add(label);\r\n        panelB.add(scrollpane);\r\n        add(panelA, BorderLayout.PAGE_START);\r\n        add(panelB, BorderLayout.PAGE_END);\r\n        pack();\r\n        setLocationRelativeTo(null); // Place window in middle of screen.\r\n        setVisible(true);\r\n    }\r\n    \r\n    public static void main(String[] args) throws IOException {\r\n        EventQueue.invokeLater(Main::new);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/gdWhu.png","title":"Why are none of the titles showing in JTable?","body":"<p>There are a number of reasons. Here is a runnable that demonstrates how you can do it. Read the comments in code:</p>\n<p><strong>The runnable produces this:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/gdWhu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gdWhu.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>The runnable code:</strong></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.io.IOException;\nimport java.util.Scanner;\nimport javax.swing.JFrame;\nimport static javax.swing.JFrame.EXIT_ON_CLOSE;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableModel;\n\n\npublic class Main extends JFrame {\n\n    private static final long serialVersionUID = 6666606L;\n\n    private final Scanner in = new Scanner(System.in); // Make Scanner class global\n    \n    public Main() {\n        // Better not to build your form in here.\n        initForm();\n    }\n\n    private void initForm() {\n        // Array for Column Names\n        String[] columnNames = {&quot;Player 1&quot;, &quot;Player 2&quot;};\n        \n        // Declare DefaultTableModel and apply column names and 0 rows.\n        DefaultTableModel dtm = new DefaultTableModel(columnNames, 0);\n        \n        // Add table rows data to table model.\n        dtm.addRow(new Object[]{&quot;14 inch Buck Knife&quot;, &quot;Rubber Boots and a Baseball Bat&quot;});\n        dtm.addRow(new Object[]{&quot;AK47 with Grenade Launcher&quot;, &quot;Umbrella&quot;});\n        dtm.addRow(new Object[]{&quot;1000 Rounds of 7.62 Ammo&quot;, &quot;Banana Flavor Juice Boxes&quot;});\n        dtm.addRow(new Object[]{&quot;Cammo Gear &amp; B/P Flak Jacket&quot;, &quot;Yellow Rain Coat (with collapsible hood)&quot;});\n        dtm.addRow(new Object[]{&quot;4 Door HumV with .50cal M2 BMG&quot;, &quot;5 Speed Bike with cool Banana Seat&quot;});\n        dtm.addRow(new Object[]{&quot;Satellite Phone&quot;, &quot;Real Good Vocal Cords&quot;});\n        dtm.addRow(new Object[]{&quot;12x Binoculars + Nite Vision&quot;, &quot;Same (but made in WW1) c/w neck string&quot;});\n                \n        JTable table = new JTable(); \n        table.setModel(dtm);   // Apply the table model to JTable\n        table.setBackground(Color.pink);\n        \n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setTitle(&quot;JTable Demo&quot;);\n        setAlwaysOnTop(true);\n        \n        //Upper Panel\n        JPanel panelA = new JPanel();\n        panelA.setPreferredSize(new Dimension(500, 100));\n        JLabel label = new JLabel(&quot;&lt;html&gt; &lt;font size='5'&gt;As you can see, when the battle begins,&lt;br&gt;&quot;\n                                + &quot;&lt;center&gt;Player 2 is in a world of hurt!&lt;/center&gt;&lt;/font&gt;&lt;/html&gt;&quot;);\n        \n        // Lower Panel\n        JPanel panelB = new JPanel();\n        JScrollPane scrollpane = new JScrollPane(table);\n        \n        // JScrollPane &amp; JTable\n        scrollpane.setPreferredSize(new Dimension(500, 150));\n        table.setFillsViewportHeight(true);\n        \n        // Add components to their respective panels\n        panelA.add(label);\n        panelB.add(scrollpane);\n        add(panelA, BorderLayout.PAGE_START);\n        add(panelB, BorderLayout.PAGE_END);\n        pack();\n        setLocationRelativeTo(null); // Place window in middle of screen.\n        setVisible(true);\n    }\n    \n    public static void main(String[] args) throws IOException {\n        EventQueue.invokeLater(Main::new);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25278923,"reputation":1,"user_id":19107068,"display_name":"Alexander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652583598,"creation_date":1652423641,"question_id":72225334,"body_markdown":"I added some rows to a `DefaultTableModel`, but none of them was shown. My question is -  what is the problem? It seems to me like Intellij idea just playing a joke on me.\r\n\r\n    public class Main extends JFrame {\r\n\r\n    public Main(){\r\n        this.setLayout(null);\r\n        JTable table = new JTable();\r\n        table.setBounds(20,100,330,300);\r\n        table.setBackground(Color.pink);\r\n        DefaultTableModel dtm = (DefaultTableModel) table.getModel();\r\n        dtm.addRow(new Object[]{&quot;player1&quot;, &quot;player2&quot;});\r\n        dtm.addRow(new Object[]{&quot;player&quot;});\r\n        dtm.addRow(new Object[]{&quot;player&quot;});\r\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        add(table);\r\n        this.setBounds(100,100,500,500);\r\n        this.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Scanner in = new Scanner(System.in);\r\n        EventQueue.invokeLater(Main::new);\r\n    }\r\n    }\r\n\r\n[how it&#39;s looking][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VMsUs.png","title":"Why are none of the titles showing in JTable?","body":"<p>I added some rows to a <code>DefaultTableModel</code>, but none of them was shown. My question is -  what is the problem? It seems to me like Intellij idea just playing a joke on me.</p>\n<pre><code>public class Main extends JFrame {\n\npublic Main(){\n    this.setLayout(null);\n    JTable table = new JTable();\n    table.setBounds(20,100,330,300);\n    table.setBackground(Color.pink);\n    DefaultTableModel dtm = (DefaultTableModel) table.getModel();\n    dtm.addRow(new Object[]{&quot;player1&quot;, &quot;player2&quot;});\n    dtm.addRow(new Object[]{&quot;player&quot;});\n    dtm.addRow(new Object[]{&quot;player&quot;});\n    this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    add(table);\n    this.setBounds(100,100,500,500);\n    this.setVisible(true);\n}\n\npublic static void main(String[] args) throws IOException {\n    Scanner in = new Scanner(System.in);\n    EventQueue.invokeLater(Main::new);\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VMsUs.png\" rel=\"nofollow noreferrer\">how it's looking</a></p>\n"},{"tags":["java","selenium","testng","executable-jar","apache-poi-4"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1652470802,"post_id":72233575,"comment_id":127622876,"body_markdown":"You probably want to provide more details here... I think the most common cause would be in your project configuration... SDK, JRE versions/targets, dependency settings, etc... include those details.  Also, if you can see the exception include the full text of it.","body":"You probably want to provide more details here... I think the most common cause would be in your project configuration... SDK, JRE versions/targets, dependency settings, etc... include those details.  Also, if you can see the exception include the full text of it."},{"owner":{"account_id":25280759,"reputation":1,"user_id":19108674,"display_name":"Achilles 1403"},"score":0,"creation_date":1652504134,"post_id":72233575,"comment_id":127627325,"body_markdown":"Am a novice to this and i think this is what you are asking..","body":"Am a novice to this and i think this is what you are asking.."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1652539913,"post_id":72233575,"comment_id":127633164,"body_markdown":"The `NPE` is in `Testbase.java:107`. So what code line is code line `107` in `Testbase.java`? And what code initializes the objects used in that code line? Because one of those objects is `null`. And this is the reason of that `NPE`.","body":"The <code>NPE</code> is in <code>Testbase.java:107</code>. So what code line is code line <code>107</code> in <code>Testbase.java</code>? And what code initializes the objects used in that code line? Because one of those objects is <code>null</code>. And this is the reason of that <code>NPE</code>."},{"owner":{"account_id":25280759,"reputation":1,"user_id":19108674,"display_name":"Achilles 1403"},"score":0,"creation_date":1652541341,"post_id":72233575,"comment_id":127633514,"body_markdown":"The Null Pointer is Due to ScreenShot which couldnt happen because the tests are skipped....But the Actual problem (IN THE JAR EXECUTION) it couldnt read the Excel file..Whats the thing required to read the excel in the jar execution..Whats the Missing Point...","body":"The Null Pointer is Due to ScreenShot which couldnt happen because the tests are skipped....But the Actual problem (IN THE JAR EXECUTION) it couldnt read the Excel file..Whats the thing required to read the excel in the jar execution..Whats the Missing Point..."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1652545113,"post_id":72233575,"comment_id":127634284,"body_markdown":"&quot;Whats the thing required to read the excel&quot;: It needs access to the file `./resources/excelData/Sample.xlsx`.Then `XSSFWorkbook` gets created. But else `new XSSFWorkbook(fis)` would throw `IOException` **before** the `NPE`. You should not assuming what happens but following the exceptions. Seems `driver` is `null` in `File src = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE)`. So try to detect **why** `driver` is null. There should be exceptions if `driver` is not `null` in normal program flow but is now.","body":"&quot;Whats the thing required to read the excel&quot;: It needs access to the file <code>.&#47;resources&#47;excelData&#47;Sample.xlsx</code>.Then <code>XSSFWorkbook</code> gets created. But else <code>new XSSFWorkbook(fis)</code> would throw <code>IOException</code> <b>before</b> the <code>NPE</code>. You should not assuming what happens but following the exceptions. Seems <code>driver</code> is <code>null</code> in <code>File src = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE)</code>. So try to detect <b>why</b> <code>driver</code> is null. There should be exceptions if <code>driver</code> is not <code>null</code> in normal program flow but is now."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1652590802,"post_id":72233575,"comment_id":127640278,"body_markdown":"To put you to the right direction: Using file paths like `&quot;./resources/excelData/Sample.xlsx&quot;` is not good in productive environments because it is unclear what directory `.` points to. It may get used in examples but in productive code one should get resorces using `Class.getResourceAsStream` or `ClassLoader.getResourceAsStream`. But, as said, there must be other problems with your code like suppressing exceptions. Else `new XSSFWorkbook` would throw `IOException`.","body":"To put you to the right direction: Using file paths like <code>&quot;.&#47;resources&#47;excelData&#47;Sample.xlsx&quot;</code> is not good in productive environments because it is unclear what directory <code>.</code> points to. It may get used in examples but in productive code one should get resorces using <code>Class.getResourceAsStream</code> or <code>ClassLoader.getResourceAsStream</code>. But, as said, there must be other problems with your code like suppressing exceptions. Else <code>new XSSFWorkbook</code> would throw <code>IOException</code>."},{"owner":{"account_id":25280759,"reputation":1,"user_id":19108674,"display_name":"Achilles 1403"},"score":0,"creation_date":1652603683,"post_id":72233575,"comment_id":127641952,"body_markdown":"Thanks Axel Richter for your help...I should look at the areas you have pointed...","body":"Thanks Axel Richter for your help...I should look at the areas you have pointed..."},{"owner":{"account_id":25280759,"reputation":1,"user_id":19108674,"display_name":"Achilles 1403"},"score":0,"creation_date":1652604486,"post_id":72233575,"comment_id":127642081,"body_markdown":"Also the NullPointer is due to driver being Null in getScreenshot method...i have the initialization method and getScreenshot method in baseclass(declaring WebDriver driver public static) ...called the getscreenshot method in ExtentReportListener Class...","body":"Also the NullPointer is due to driver being Null in getScreenshot method...i have the initialization method and getScreenshot method in baseclass(declaring WebDriver driver public static) ...called the getscreenshot method in ExtentReportListener Class..."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1652683691,"post_id":72233575,"comment_id":127656078,"body_markdown":"The `NPE` get thrown by that code line. So something mus be `null` there. What else as `driver` should it be? Or is there a `Caused by` in the stacktrace and you have not shown this? Then, of course my assumtion can be wrong. Please show the full stacktrace.","body":"The <code>NPE</code> get thrown by that code line. So something mus be <code>null</code> there. What else as <code>driver</code> should it be? Or is there a <code>Caused by</code> in the stacktrace and you have not shown this? Then, of course my assumtion can be wrong. Please show the full stacktrace."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1653000733,"post_id":72233575,"comment_id":127750692,"body_markdown":"this&#39;ll depend on how you call the getscreenshot method... sounds like it&#39;s being called from a static class... it&#39;s not an injected reference to a class object.  Just to confirm that the driver is null, run a null check and output if it&#39;s null.  Ex: if (driver!=null) { system.out.println(&quot;driver is not null&quot;); ...take screenshot... } else {system.out.println(&quot;driver is null&quot;);}","body":"this&#39;ll depend on how you call the getscreenshot method... sounds like it&#39;s being called from a static class... it&#39;s not an injected reference to a class object.  Just to confirm that the driver is null, run a null check and output if it&#39;s null.  Ex: if (driver!=null) { system.out.println(&quot;driver is not null&quot;); ...take screenshot... } else {system.out.println(&quot;driver is null&quot;);}"}],"owner":{"account_id":25280759,"reputation":1,"user_id":19108674,"display_name":"Achilles 1403"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652583376,"creation_date":1652463866,"question_id":72233575,"body_markdown":"I am trying to create an executable jar file of a Maven Project in Eclipse.was using testNG in the maven project..so  created a runner class with main method and exported runnable Jar File..Now it&#39;s not Running ..\r\ni feel it&#39;s not reading datas from Excel which i put into the project...\r\n\r\nJava version\r\n[enter image description here][1]\r\n\r\n\r\nDependencies\r\n[enter image description here][2]\r\n\r\n\r\n*My RunnerClass with main Method code*\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n\tstatic TestNG tng;\r\n\t\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tExtentReportListener ext = new ExtentReportListener();\r\n\t\t\r\n\t\ttng = new TestNG();\r\n\t\t\r\n\t\ttng.setTestClasses(new Class[] {Login.class});\r\n\t\ttng.addListener(ext);\r\n\t\ttng.run();\r\n\t}\r\n\r\n*The test class which i want to execute looks like:*\r\n\r\n    @BeforeTest\r\n\t    public void setup() throws IOException {\r\n\t    \t\r\n\t    \tinitialization();\r\n\t    \tloginPage = new LoginPage();\r\n\t    \thomepage = new HomePage();\r\n\t    \t\r\n\t    }\r\n\t\t\r\n\t\t\r\n\t\t@Test(priority=1,groups = {&quot;Regression&quot;,&quot;UnitTest&quot;})\r\n\t\tpublic void Titlecheck() {\r\n\t\t\t\r\n\t\t\tString title = driver.getTitle();\r\n\t\t\tSystem.out.println(title);\r\n\t\t\tAssert.assertEquals(title, &quot;Login pagina&quot;);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t@Test(priority=2,enabled=true)\r\n\t\tpublic void login() throws InterruptedException, IOException {\r\n\t\t\t\r\n\t\t\tloginPage.ClearUsPwd();\r\n\t\t\tloginPage.LoginPageTest(getData(&quot;Logindata&quot;, 1, 1),getData(&quot;Logindata&quot;, 1, 2));\r\n\r\n\t\t}\r\n\r\n \r\n\r\n\r\n*The Initialization method and getData method are in baseclass*\r\n\r\n    public static void initialization() throws IOException {\r\n\t\tWebDriverManager.chromedriver().setup();\r\n    \tdriver = new ChromeDriver();\r\n    \tdriver.get(getData(&quot;login&quot;, 0, 1  ));\r\n    \tdriver.manage().window().maximize();\r\n\t}\r\n\r\n    public static String getData(String sheetName ,int rowNo, int cellNo) throws IOException {\r\n\t\t\r\n    \tFile f = new File(&quot;./resources/excelData/Sample.xlsx&quot;);\r\n\t\tFileInputStream fis = new FileInputStream(f);\r\n\t\tXSSFWorkbook w = new XSSFWorkbook(fis);\r\n\t\t XSSFSheet sheet = w.getSheet(sheetName);\r\n\t\t Row r = sheet.getRow(rowNo);\r\n\t\t Cell c =r.getCell(cellNo ,Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n\t\t String value = c.getStringCellValue();\r\nreturn value;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n**While running it in cmd** The exception i get below\r\n\r\nTest Suite started!\r\nTitlecheck skipped!\r\njava.lang.NullPointerException\r\n        at base.Testbase.getScreenshot(Testbase.java:107)\r\n        at extentReport.ExtentReportListener.onTestSkipped(ExtentReportListener.java:121)\r\n        at org.testng.internal.Invoker.runTestListeners(Invoker.java:1723)\r\n        at org.testng.internal.Invoker.runTestListeners(Invoker.java:1714)\r\n        at org.testng.internal.Invoker.registerSkippedTestResult(Invoker.java:1272)\r\n        at org.testng.internal.Invoker.invokeMethod(Invoker.java:605)\r\n        at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:869)\r\n        at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1193)\r\n        at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:126)\r\n        at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n        at org.testng.TestRunner.privateRun(TestRunner.java:744)\r\n        at org.testng.TestRunner.run(TestRunner.java:602)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1144)\r\n        at org.testng.TestNG.run(TestNG.java:1115)\r\n        at testScenarios.RunnerClass.main(RunnerClass.java:21)\r\nlogin skipped!\r\njava.lang.NullPointerException\r\n        at base.Testbase.getScreenshot(Testbase.java:107)\r\n        at extentReport.ExtentReportListener.onTestSkipped(ExtentReportListener.java:121)\r\n        at org.testng.internal.Invoker.runTestListeners(Invoker.java:1723)\r\n        at org.testng.internal.Invoker.runTestListeners(Invoker.java:1714)\r\n        at org.testng.internal.Invoker.registerSkippedTestResult(Invoker.java:1272)\r\n        at org.testng.internal.Invoker.invokeMethod(Invoker.java:605)\r\n        at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:869)\r\n        at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1193)\r\n        at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:126)\r\n        at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\r\n        at org.testng.TestRunner.privateRun(TestRunner.java:744)\r\n        at org.testng.TestRunner.run(TestRunner.java:602)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:289)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1144)\r\n        at org.testng.TestNG.run(TestNG.java:1115)\r\n        at testScenarios.RunnerClass.main(RunnerClass.java:21)\r\nTest Suite is ending!\r\n\r\n===============================================\r\nCommand line suite\r\nTotal tests run: 2, Failures: 0, Skips: 2\r\nConfiguration Failures: 1, Skips: 0\r\n\r\n\r\n\r\n*The NullPointerException thrown Line below*\r\n\r\n    public String getScreenshot() {  **106th Line**\r\n\t\tFile src = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);**107th Line**\r\n\t\tString path = System.getProperty(&quot;user.dir&quot;) + &quot;/screenshots/&quot; + System.currentTimeMillis() + &quot;.png&quot;;\r\n\t\tFile destination = new File(path);\r\n\t\ttry {\r\n\t\t\tFileUtils.copyFile(src, destination);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn path;\r\n\t}\r\n\r\n  [1]: https://i.stack.imgur.com/VQbjL.png\r\n  [2]: https://i.stack.imgur.com/yBO6R.png\r\n  [3]: https://i.stack.imgur.com/ygzmE.png","title":"Runnable Jar File not running because coultnt read excel datas..but works fine in Eclipse","body":"<p>I am trying to create an executable jar file of a Maven Project in Eclipse.was using testNG in the maven project..so  created a runner class with main method and exported runnable Jar File..Now it's not Running ..\ni feel it's not reading datas from Excel which i put into the project...</p>\n<p>Java version\n<a href=\"https://i.stack.imgur.com/VQbjL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Dependencies\n<a href=\"https://i.stack.imgur.com/yBO6R.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><em>My RunnerClass with main Method code</em></p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\nstatic TestNG tng;\n\n@SuppressWarnings(&quot;deprecation&quot;)\npublic static void main(String[] args) {\n    \n    ExtentReportListener ext = new ExtentReportListener();\n    \n    tng = new TestNG();\n    \n    tng.setTestClasses(new Class[] {Login.class});\n    tng.addListener(ext);\n    tng.run();\n}\n</code></pre>\n<p><em>The test class which i want to execute looks like:</em></p>\n<pre><code>@BeforeTest\n    public void setup() throws IOException {\n        \n        initialization();\n        loginPage = new LoginPage();\n        homepage = new HomePage();\n        \n    }\n    \n    \n    @Test(priority=1,groups = {&quot;Regression&quot;,&quot;UnitTest&quot;})\n    public void Titlecheck() {\n        \n        String title = driver.getTitle();\n        System.out.println(title);\n        Assert.assertEquals(title, &quot;Login pagina&quot;);\n        \n    }\n    \n    \n    @Test(priority=2,enabled=true)\n    public void login() throws InterruptedException, IOException {\n        \n        loginPage.ClearUsPwd();\n        loginPage.LoginPageTest(getData(&quot;Logindata&quot;, 1, 1),getData(&quot;Logindata&quot;, 1, 2));\n\n    }\n</code></pre>\n<p><em>The Initialization method and getData method are in baseclass</em></p>\n<pre><code>public static void initialization() throws IOException {\n    WebDriverManager.chromedriver().setup();\n    driver = new ChromeDriver();\n    driver.get(getData(&quot;login&quot;, 0, 1  ));\n    driver.manage().window().maximize();\n}\n\npublic static String getData(String sheetName ,int rowNo, int cellNo) throws IOException {\n    \n    File f = new File(&quot;./resources/excelData/Sample.xlsx&quot;);\n    FileInputStream fis = new FileInputStream(f);\n    XSSFWorkbook w = new XSSFWorkbook(fis);\n     XSSFSheet sheet = w.getSheet(sheetName);\n     Row r = sheet.getRow(rowNo);\n     Cell c =r.getCell(cellNo ,Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n     String value = c.getStringCellValue();\n</code></pre>\n<p>return value;\n}</p>\n<p><strong>While running it in cmd</strong> The exception i get below</p>\n<p>Test Suite started!\nTitlecheck skipped!\njava.lang.NullPointerException\nat base.Testbase.getScreenshot(Testbase.java:107)\nat extentReport.ExtentReportListener.onTestSkipped(ExtentReportListener.java:121)\nat org.testng.internal.Invoker.runTestListeners(Invoker.java:1723)\nat org.testng.internal.Invoker.runTestListeners(Invoker.java:1714)\nat org.testng.internal.Invoker.registerSkippedTestResult(Invoker.java:1272)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:605)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:869)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1193)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:126)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\nat org.testng.TestRunner.privateRun(TestRunner.java:744)\nat org.testng.TestRunner.run(TestRunner.java:602)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\nat org.testng.SuiteRunner.run(SuiteRunner.java:289)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\nat org.testng.TestNG.runSuites(TestNG.java:1144)\nat org.testng.TestNG.run(TestNG.java:1115)\nat testScenarios.RunnerClass.main(RunnerClass.java:21)\nlogin skipped!\njava.lang.NullPointerException\nat base.Testbase.getScreenshot(Testbase.java:107)\nat extentReport.ExtentReportListener.onTestSkipped(ExtentReportListener.java:121)\nat org.testng.internal.Invoker.runTestListeners(Invoker.java:1723)\nat org.testng.internal.Invoker.runTestListeners(Invoker.java:1714)\nat org.testng.internal.Invoker.registerSkippedTestResult(Invoker.java:1272)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:605)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:869)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1193)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:126)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\nat org.testng.TestRunner.privateRun(TestRunner.java:744)\nat org.testng.TestRunner.run(TestRunner.java:602)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\nat org.testng.SuiteRunner.run(SuiteRunner.java:289)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\nat org.testng.TestNG.runSuites(TestNG.java:1144)\nat org.testng.TestNG.run(TestNG.java:1115)\nat testScenarios.RunnerClass.main(RunnerClass.java:21)\nTest Suite is ending!</p>\n<p>===============================================\nCommand line suite\nTotal tests run: 2, Failures: 0, Skips: 2\nConfiguration Failures: 1, Skips: 0</p>\n<p><em>The NullPointerException thrown Line below</em></p>\n<pre><code>public String getScreenshot() {  **106th Line**\n    File src = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);**107th Line**\n    String path = System.getProperty(&quot;user.dir&quot;) + &quot;/screenshots/&quot; + System.currentTimeMillis() + &quot;.png&quot;;\n    File destination = new File(path);\n    try {\n        FileUtils.copyFile(src, destination);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return path;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":1,"creation_date":1652406886,"post_id":72223583,"comment_id":127604426,"body_markdown":"Why closing this?","body":"Why closing this?"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":1,"creation_date":1652406911,"post_id":72223583,"comment_id":127604427,"body_markdown":"@ScaryWombat I don&#39;t get what you mean, and I don&#39;t think what you said here is relevant.","body":"@ScaryWombat I don&#39;t get what you mean, and I don&#39;t think what you said here is relevant."}],"answers":[{"tags":[],"owner":{"account_id":14060745,"reputation":26,"user_id":10156881,"display_name":"vyom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652581042,"creation_date":1652580953,"answer_id":72245127,"question_id":72223583,"body_markdown":"*Note* : I haven&#39;t worked with projections before in Spring Data JPA. So thank you for sharing this! :TIL\r\n\r\nI think problem is with `myEntityPartial.getStrings().add(&quot;B&quot;);`. \r\nIt does not update the actual `MyEntity` managed by `MyRepo`. And every execution of `myEntityPartial.getStrings()` I guess returns latest projection of entity in db.\r\n\r\nBut if we store `myEntityPartial.getStrings()` in a local set, it works!\r\n\r\n    @Test public void exampleTest() {\r\n        MyEntityPartial myEntityPartial = repo.getMyEntityPartialById(1L);\r\n        Set&lt;String&gt; partialSet = myEntityPartial.getStrings();\r\n        assertNotNull(myEntityPartial);\r\n        assertTrue(partialSet.contains(&quot;A&quot;));\r\n        partialSet.add(&quot;B&quot;);\r\n        assertTrue(partialSet.contains(&quot;A&quot;));\r\n        assertTrue(partialSet.contains(&quot;B&quot;));\r\n    }\r\n\r\nI am assuming this is not the real intention of test though ?  \r\nSo if entity managed by repository is updated, then it works \r\n\r\n     @Test public void exampleTest2() {\r\n        MyEntityPartial myEntityPartial = repo.getMyEntityPartialById(1L);\r\n        assertNotNull(myEntityPartial);\r\n        assertTrue(myEntityPartial.getStrings().contains(&quot;A&quot;));\r\n\r\n        //update the entity in db\r\n        updateEntity(&quot;B&quot;);\r\n        assertTrue(myEntityPartial.getStrings().contains(&quot;A&quot;));\r\n        assertTrue(myEntityPartial.getStrings().contains(&quot;B&quot;));\r\n    }\r\n\r\n    /*\r\n     * Updating actual entity, returns B with partial projection\r\n     */\r\n    private void updateEntity(String newStrings){\r\n        MyEntity entity = repo.findById(1L).get();\r\n        Set&lt;String&gt; existing = entity.getStrings();\r\n        existing.add(newStrings);\r\n        entity.setStrings(existing);\r\n        repo.save(entity);\r\n    }\r\n\r\nAlso, `myEntityPartial.getStrings()` showed type LinkedHashSet.\r\n\r\nHope this helps in resolution. ","title":"Set of String is not acting normal in Spring JPA Projection Interface","body":"<p><em>Note</em> : I haven't worked with projections before in Spring Data JPA. So thank you for sharing this! :TIL</p>\n<p>I think problem is with <code>myEntityPartial.getStrings().add(&quot;B&quot;);</code>.\nIt does not update the actual <code>MyEntity</code> managed by <code>MyRepo</code>. And every execution of <code>myEntityPartial.getStrings()</code> I guess returns latest projection of entity in db.</p>\n<p>But if we store <code>myEntityPartial.getStrings()</code> in a local set, it works!</p>\n<pre><code>@Test public void exampleTest() {\n    MyEntityPartial myEntityPartial = repo.getMyEntityPartialById(1L);\n    Set&lt;String&gt; partialSet = myEntityPartial.getStrings();\n    assertNotNull(myEntityPartial);\n    assertTrue(partialSet.contains(&quot;A&quot;));\n    partialSet.add(&quot;B&quot;);\n    assertTrue(partialSet.contains(&quot;A&quot;));\n    assertTrue(partialSet.contains(&quot;B&quot;));\n}\n</code></pre>\n<p>I am assuming this is not the real intention of test though ?<br />\nSo if entity managed by repository is updated, then it works</p>\n<pre><code> @Test public void exampleTest2() {\n    MyEntityPartial myEntityPartial = repo.getMyEntityPartialById(1L);\n    assertNotNull(myEntityPartial);\n    assertTrue(myEntityPartial.getStrings().contains(&quot;A&quot;));\n\n    //update the entity in db\n    updateEntity(&quot;B&quot;);\n    assertTrue(myEntityPartial.getStrings().contains(&quot;A&quot;));\n    assertTrue(myEntityPartial.getStrings().contains(&quot;B&quot;));\n}\n\n/*\n * Updating actual entity, returns B with partial projection\n */\nprivate void updateEntity(String newStrings){\n    MyEntity entity = repo.findById(1L).get();\n    Set&lt;String&gt; existing = entity.getStrings();\n    existing.add(newStrings);\n    entity.setStrings(existing);\n    repo.save(entity);\n}\n</code></pre>\n<p>Also, <code>myEntityPartial.getStrings()</code> showed type LinkedHashSet.</p>\n<p>Hope this helps in resolution.</p>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72245127,"answer_count":1,"score":0,"last_activity_date":1652581042,"creation_date":1652405428,"question_id":72223583,"body_markdown":"I am using Projection Interface to return a partial view of an Entity, and the partial view contains a Set of String. I expect the Set works as normal but its not: when I add a new String to it, it ignores the String, see the example code below:\r\n\r\n    @Entity public class MyEntity {\r\n        @Id private Long id;\r\n        @ElementCollection private Set&lt;String&gt; strings;\r\n        // more fields\r\n        // getters and setters\r\n    }\r\n\r\n    public interface MyEntityRepo extends CrudRepository&lt;MyEntity, Long&gt; {\r\n        MyEntityPartial getMyEntityPartialById(Long id);\r\n    }\r\n\r\n    public interface MyEntityPartial {\r\n        Set&lt;String&gt; getStrings();\r\n    }\r\n\r\n    @DataJpaTest public class MyTest {\r\n        @Autowired private MyEntityRepo repo;\r\n        @BeforeEach private void setup() {\r\n            MyEntity myEntity = new MyEntity();\r\n            myEntity.setId(1L);\r\n            Set&lt;String&gt; strings = new HashSet&lt;&gt;();\r\n            strings.add(&quot;A&quot;);\r\n            myEntity.setStrings(strings);\r\n            repo.save(myEntity);\r\n        }\r\n        @Test public void exampleTest() {\r\n            MyEntityPartial myEntityPartial = repo.getMyEntityPartialById(1L);\r\n            assertThat(myEntityPartial, is(notNullValue()));\r\n            assertThat(myEntityPartial.getStrings(), containsInAnyOrder(&quot;A&quot;));\r\n            myEntityPartial.getStrings().add(&quot;B&quot;);\r\n            assertThat(myEntityPartial.getStrings(), containsInAnyOrder(&quot;A&quot;, &quot;B&quot;));\r\n        }\r\n    }\r\n\r\nHere the test fails at the last assert as `myEntityPartial.getStrings()` still contains only &quot;A&quot; but not &quot;A&quot; and &quot;B&quot;. I checked the `Set` of the projection instance `myEntityPartial` is not a normal `HashSet` but a `org.hibernate.collection.internal.PersistentSet`. Wondering if that is the issue? And how do I tell Hibernate or Spring to use `HashSet` in a projection interface?","title":"Set of String is not acting normal in Spring JPA Projection Interface","body":"<p>I am using Projection Interface to return a partial view of an Entity, and the partial view contains a Set of String. I expect the Set works as normal but its not: when I add a new String to it, it ignores the String, see the example code below:</p>\n<pre><code>@Entity public class MyEntity {\n    @Id private Long id;\n    @ElementCollection private Set&lt;String&gt; strings;\n    // more fields\n    // getters and setters\n}\n\npublic interface MyEntityRepo extends CrudRepository&lt;MyEntity, Long&gt; {\n    MyEntityPartial getMyEntityPartialById(Long id);\n}\n\npublic interface MyEntityPartial {\n    Set&lt;String&gt; getStrings();\n}\n\n@DataJpaTest public class MyTest {\n    @Autowired private MyEntityRepo repo;\n    @BeforeEach private void setup() {\n        MyEntity myEntity = new MyEntity();\n        myEntity.setId(1L);\n        Set&lt;String&gt; strings = new HashSet&lt;&gt;();\n        strings.add(&quot;A&quot;);\n        myEntity.setStrings(strings);\n        repo.save(myEntity);\n    }\n    @Test public void exampleTest() {\n        MyEntityPartial myEntityPartial = repo.getMyEntityPartialById(1L);\n        assertThat(myEntityPartial, is(notNullValue()));\n        assertThat(myEntityPartial.getStrings(), containsInAnyOrder(&quot;A&quot;));\n        myEntityPartial.getStrings().add(&quot;B&quot;);\n        assertThat(myEntityPartial.getStrings(), containsInAnyOrder(&quot;A&quot;, &quot;B&quot;));\n    }\n}\n</code></pre>\n<p>Here the test fails at the last assert as <code>myEntityPartial.getStrings()</code> still contains only &quot;A&quot; but not &quot;A&quot; and &quot;B&quot;. I checked the <code>Set</code> of the projection instance <code>myEntityPartial</code> is not a normal <code>HashSet</code> but a <code>org.hibernate.collection.internal.PersistentSet</code>. Wondering if that is the issue? And how do I tell Hibernate or Spring to use <code>HashSet</code> in a projection interface?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1652580270,"post_id":72245043,"comment_id":127639464,"body_markdown":"[There are no &quot;best practices&quot;](https://www.satisfice.com/blog/archives/51674).  A so called &quot;best practice&quot; is merely someone&#39;s opinion.","body":"<a href=\"https://www.satisfice.com/blog/archives/51674\" rel=\"nofollow noreferrer\">There are no &quot;best practices&quot;</a>.  A so called &quot;best practice&quot; is merely someone&#39;s opinion."}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652580316,"creation_date":1652580316,"answer_id":72245088,"question_id":72245043,"body_markdown":"How about `String.format(&quot;%020d&quot;, accountNumber)`?\r\n\r\nBest practice is to avoid problems, instead of trying to solve home-made problems.&lt;br/&gt;\r\nTherefore I&#39;d use an identical number-format on both sides; for the sake of simplicity.","title":"Best Practice to transform request headers before passing it to rest contoller","body":"<p>How about <code>String.format(&quot;%020d&quot;, accountNumber)</code>?</p>\n<p>Best practice is to avoid problems, instead of trying to solve home-made problems.<br/>\nTherefore I'd use an identical number-format on both sides; for the sake of simplicity.</p>\n"}],"owner":{"account_id":5556652,"reputation":21,"user_id":4407784,"display_name":"curiousguy38"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1652580316,"creation_date":1652579544,"question_id":72245043,"body_markdown":"I am working on a Spring Boot project with Java 11.\r\n\r\nI have a rest controller that has a GET endpoint. The controller method takes account number as one of its arguments.\r\n\r\nAccount Number comes in as a request header.\r\n\r\nAccount number comes in as a 16 digit number. I have to use this account number to make another API call. However, this API expects account number to be in 20 digit format and hence I need to append 4 leading zeros every time.\r\n\r\nIs there a best practice to do this transformation? I am thinking of creating a custom annotation and put it besides @RequestBody in the method argument. \r\n\r\nFor example - \r\n\r\npublic void getSampleData(@RequestBody @transform accountNumber) {…}","title":"Best Practice to transform request headers before passing it to rest contoller","body":"<p>I am working on a Spring Boot project with Java 11.</p>\n<p>I have a rest controller that has a GET endpoint. The controller method takes account number as one of its arguments.</p>\n<p>Account Number comes in as a request header.</p>\n<p>Account number comes in as a 16 digit number. I have to use this account number to make another API call. However, this API expects account number to be in 20 digit format and hence I need to append 4 leading zeros every time.</p>\n<p>Is there a best practice to do this transformation? I am thinking of creating a custom annotation and put it besides @RequestBody in the method argument.</p>\n<p>For example -</p>\n<p>public void getSampleData(@RequestBody @transform accountNumber) {…}</p>\n"},{"tags":["java","spring-boot","hashmap"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1652488839,"post_id":72236517,"comment_id":127626006,"body_markdown":"It&#39;s really not clear what you&#39;re asking for.","body":"It&#39;s really not clear what you&#39;re asking for."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1652596158,"post_id":72236517,"comment_id":127640826,"body_markdown":"What is the type of the map&#39;s key and value?","body":"What is the type of the map&#39;s key and value?"}],"owner":{"account_id":18945442,"reputation":378,"user_id":13824452,"display_name":"Ajit Kumar Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1652580291,"creation_date":1652488433,"question_id":72236517,"body_markdown":"I Want to call the JPA repository functions to access the data from the database based on the String value passed.\r\n\r\nSo I want to make the string as the key and the reposetory function as Value so that I could call the function like:\r\n\r\n     map.set(&quot;id&quot;:repository.findById())\r\n    map.set(&quot;name&quot;:repository.findByName())\r\n\r\n To access the result I just  pass the string(str) value as &quot;id&quot; or &quot;name&quot; and get the result.\r\n call map.get(str);\r\n\r\nI got a solution &lt;https://stackoverflow.com/questions/17610041/maps-in-java-maps-can-i-assign-a-function-to-the-value-in-the-k-v-pair&gt;, But it&#39;s looking old approach, do we have any other new/better approach...?\r\n\r\n  ","title":"In java map, I want to assign the repository functions as value like Map&lt;key, function(&gt;","body":"<p>I Want to call the JPA repository functions to access the data from the database based on the String value passed.</p>\n<p>So I want to make the string as the key and the reposetory function as Value so that I could call the function like:</p>\n<pre><code> map.set(&quot;id&quot;:repository.findById())\nmap.set(&quot;name&quot;:repository.findByName())\n</code></pre>\n<p>To access the result I just  pass the string(str) value as &quot;id&quot; or &quot;name&quot; and get the result.\ncall map.get(str);</p>\n<p>I got a solution <a href=\"https://stackoverflow.com/questions/17610041/maps-in-java-maps-can-i-assign-a-function-to-the-value-in-the-k-v-pair\">Maps : In Java Maps can I assign a function to the value in the &lt;K,V&gt; pair?</a>, But it's looking old approach, do we have any other new/better approach...?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1652580334,"post_id":72244943,"comment_id":127639468,"body_markdown":"Assuming the `launch()` call is `Application#launch(String...)`, then note that the method will not return until the JavaFX application exits, meaning the `app.update()` call will be invoked too late. Also, assuming `App` extends `Application`, you should not be creating your own instance. An instance is created for you by the `launch()` call, and it&#39;s that instance that&#39;s managed by the platform.","body":"Assuming the <code>launch()</code> call is <code>Application#launch(String...)</code>, then note that the method will not return until the JavaFX application exits, meaning the <code>app.update()</code> call will be invoked too late. Also, assuming <code>App</code> extends <code>Application</code>, you should not be creating your own instance. An instance is created for you by the <code>launch()</code> call, and it&#39;s that instance that&#39;s managed by the platform."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1652580162,"creation_date":1652579827,"answer_id":72245057,"question_id":72244943,"body_markdown":"# Use `ScheduledService`\r\n\r\nThe [`javafx.concurrent.ScheduledService`][1] class provides a way to repeatedly do an action and easily communicate with the FX thread. Here is an example:\r\n\r\n```lang-java\r\nimport javafx.concurrent.ScheduledService;\r\nimport javafx.concurrent.Task;\r\nimport javafx.scene.image.Image;\r\n\r\npublic class WeatherService extends ScheduledService&lt;WeatherService.Result&gt; {\r\n  @Override protected Task&lt;Result&gt; createTask() {\r\n    return new Task&lt;&gt;() {\r\n      @Override protected Result call() throws Exception {\r\n        // this is invoked on the background thread\r\n        return new Result(\r\n            Weather.getTemperature(),\r\n            Weather.getHumidity(),\r\n            Weather.getCondition(),\r\n            Weather.getIcon()\r\n        );\r\n      }\r\n    };\r\n  }\r\n\r\n  public record Result(double temperature, double humidity, String condition, Image icon) {}\r\n}\r\n```\r\n\r\nThen where you use the service you&#39;d add an on-succeeded handler to handle updating the UI:\r\n\r\n```lang-java\r\nservice.setOnSucceeded(e -&gt; {\r\n  var result = service.getValue();\r\n  // update UI (this handler is invoked on the UI thread)\r\n});\r\n```\r\n\r\nTo have it execute every 10 minutes, with an initial delay of 10 minutes, to match what you&#39;re doing with the `ScheduledExecutorService`, you would do:\r\n\r\n```lang-java\r\nservice.setDelay(javafx.util.Duration.minutes(10));\r\nservice.setPeriod(javafx.util.Duration.minutes(10));\r\n// you can define the thread pool used with &#39;service.setExecutor(theExecutor)&#39;\r\n```\r\n\r\nWhen first configuring the service. You also need to maintain a strong reference to the service; if it gets garbage collected, then the task will not be rescheduled.\r\n\r\n---\r\n\r\n# Use `Platform#runLater(Runnable)`\r\n\r\nIf you have to use `ScheduledExecutorService` for some reason, then you should run the code that updates the UI in a `runLater` call. Here&#39;s an example:\r\n\r\n```lang-java\r\npublic void update() {\r\n  final Runnable updater =\r\n      () -&gt; {\r\n        // get information on background thread\r\n        double humidity = Weather.getHumidity();\r\n        double temperature = Weather.getTemperature();\r\n        Image icon = Weather.getIcon();\r\n        String condition = Weather.getCondition();\r\n\r\n        // update UI on FX thread\r\n        Platform.runLater(\r\n            () -&gt; {\r\n              humidityLabel.setText(&quot;Humidity: &quot; + humidity + &quot;%&quot;);\r\n              humidityDialArm.setRotate(humidity * 1.8);\r\n              tempLabel.setText(&quot;Temperature: &quot; + temperature + &quot;&#176;F&quot;);\r\n              temperatureDialArm.setRotate(temperature * 1.5);\r\n              iconView.setImage(icon);\r\n              conditionLabel.setText(condition);\r\n            });\r\n      };\r\n  scheduler.scheduleAtFixedRate(updater, 10, 10, TimeUnit.MINUTES);\r\n}\r\n```\r\n\r\n  [1]: https://openjfx.io/javadoc/18/javafx.graphics/javafx/concurrent/ScheduledService.html","title":"Use ScheduledExecutorService to update JavaFX elements","body":"<h1>Use <code>ScheduledService</code></h1>\n<p>The <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/concurrent/ScheduledService.html\" rel=\"nofollow noreferrer\"><code>javafx.concurrent.ScheduledService</code></a> class provides a way to repeatedly do an action and easily communicate with the FX thread. Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.concurrent.ScheduledService;\nimport javafx.concurrent.Task;\nimport javafx.scene.image.Image;\n\npublic class WeatherService extends ScheduledService&lt;WeatherService.Result&gt; {\n  @Override protected Task&lt;Result&gt; createTask() {\n    return new Task&lt;&gt;() {\n      @Override protected Result call() throws Exception {\n        // this is invoked on the background thread\n        return new Result(\n            Weather.getTemperature(),\n            Weather.getHumidity(),\n            Weather.getCondition(),\n            Weather.getIcon()\n        );\n      }\n    };\n  }\n\n  public record Result(double temperature, double humidity, String condition, Image icon) {}\n}\n</code></pre>\n<p>Then where you use the service you'd add an on-succeeded handler to handle updating the UI:</p>\n<pre class=\"lang-java prettyprint-override\"><code>service.setOnSucceeded(e -&gt; {\n  var result = service.getValue();\n  // update UI (this handler is invoked on the UI thread)\n});\n</code></pre>\n<p>To have it execute every 10 minutes, with an initial delay of 10 minutes, to match what you're doing with the <code>ScheduledExecutorService</code>, you would do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>service.setDelay(javafx.util.Duration.minutes(10));\nservice.setPeriod(javafx.util.Duration.minutes(10));\n// you can define the thread pool used with 'service.setExecutor(theExecutor)'\n</code></pre>\n<p>When first configuring the service. You also need to maintain a strong reference to the service; if it gets garbage collected, then the task will not be rescheduled.</p>\n<hr />\n<h1>Use <code>Platform#runLater(Runnable)</code></h1>\n<p>If you have to use <code>ScheduledExecutorService</code> for some reason, then you should run the code that updates the UI in a <code>runLater</code> call. Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void update() {\n  final Runnable updater =\n      () -&gt; {\n        // get information on background thread\n        double humidity = Weather.getHumidity();\n        double temperature = Weather.getTemperature();\n        Image icon = Weather.getIcon();\n        String condition = Weather.getCondition();\n\n        // update UI on FX thread\n        Platform.runLater(\n            () -&gt; {\n              humidityLabel.setText(&quot;Humidity: &quot; + humidity + &quot;%&quot;);\n              humidityDialArm.setRotate(humidity * 1.8);\n              tempLabel.setText(&quot;Temperature: &quot; + temperature + &quot;°F&quot;);\n              temperatureDialArm.setRotate(temperature * 1.5);\n              iconView.setImage(icon);\n              conditionLabel.setText(condition);\n            });\n      };\n  scheduler.scheduleAtFixedRate(updater, 10, 10, TimeUnit.MINUTES);\n}\n</code></pre>\n"}],"owner":{"account_id":10373338,"reputation":76,"user_id":8763467,"display_name":"N3ther"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72245057,"answer_count":1,"score":1,"last_activity_date":1652580162,"creation_date":1652577871,"question_id":72244943,"body_markdown":"Currently I am making a program that reminds me when to water my plants, while also putting the weather into account. I would like to display the current temperature and humidity, and I have made code that does that well enough already. However, this code only works when manually running the method via a button press, and throws `Exception in thread &quot;pool-3-thread-1&quot; java.lang.IllegalStateException: Not on FX application thread; currentThread = pool-3-thread-1` when I attempt to run it in a ScheduledExecutorService. From my understanding JavaFX does not allow other threads to edit JavaFX components without Platform.runLater, however I can&#39;t seem to find anything about Platform.runLater being combined with ScheduledExecutorService.\r\n\r\nHere is my update method:\r\n\r\n    public void update() {\r\n\t\tfinal Runnable updater = new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\thumidityLabel.setText(&quot;Humidity: &quot; + Double.toString(Weather.getHumidity()) + &quot;%&quot;);\r\n\t\t\t    humidityDialArm.setRotate(Weather.getHumidity() * 1.8);\r\n\t\t\t    tempLabel.setText(&quot;Temperature: &quot; + Double.toString(Weather.getTemperature()) + &quot;&#176;F&quot;);\r\n\t\t\t    temperatureDialArm.setRotate(Weather.getTemperature()*1.5);\r\n\t\t\t    icon = Weather.getIcon();\r\n\t\t\t    conditionLabel.setText(Weather.getCondition());\r\n\t\t\t}\r\n\t\t};\r\n\t\tfinal ScheduledFuture&lt;?&gt; updaterHandle = scheduler.scheduleAtFixedRate(updater, 10, 10, TimeUnit.MINUTES);\r\n\t\t\t\r\n\t}\r\n\r\nAnd here is my main method:\r\n\r\n    public static void main(String[] args) {\r\n    \tApp app = new App();\r\n        launch();\r\n        app.update();        \r\n        \r\n    }\r\n\r\nI found a similar problem [here][1], however I haven&#39;t been able to find a way to get Platform.runLater to work well with the ScheduledExecutorService. I also found [this][2] on GitHub, however I can&#39;t tell what the fix for this problem was other than it was fixable. I also tried putting a while loop at main that would just constantly update it, but that just caused the program to hang and eventually crash. Even if it did work, that would also make it not runnable for long periods of time as the API I am using limits the amount of GET requests per day.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17850191/why-am-i-getting-java-lang-illegalstateexception-not-on-fx-application-thread\r\n  [2]: https://github.com/Sheep-y/trpg-dnd-4e-db/issues/27","title":"Use ScheduledExecutorService to update JavaFX elements","body":"<p>Currently I am making a program that reminds me when to water my plants, while also putting the weather into account. I would like to display the current temperature and humidity, and I have made code that does that well enough already. However, this code only works when manually running the method via a button press, and throws <code>Exception in thread &quot;pool-3-thread-1&quot; java.lang.IllegalStateException: Not on FX application thread; currentThread = pool-3-thread-1</code> when I attempt to run it in a ScheduledExecutorService. From my understanding JavaFX does not allow other threads to edit JavaFX components without Platform.runLater, however I can't seem to find anything about Platform.runLater being combined with ScheduledExecutorService.</p>\n<p>Here is my update method:</p>\n<pre><code>public void update() {\n    final Runnable updater = new Runnable() {\n        public void run() {\n            humidityLabel.setText(&quot;Humidity: &quot; + Double.toString(Weather.getHumidity()) + &quot;%&quot;);\n            humidityDialArm.setRotate(Weather.getHumidity() * 1.8);\n            tempLabel.setText(&quot;Temperature: &quot; + Double.toString(Weather.getTemperature()) + &quot;°F&quot;);\n            temperatureDialArm.setRotate(Weather.getTemperature()*1.5);\n            icon = Weather.getIcon();\n            conditionLabel.setText(Weather.getCondition());\n        }\n    };\n    final ScheduledFuture&lt;?&gt; updaterHandle = scheduler.scheduleAtFixedRate(updater, 10, 10, TimeUnit.MINUTES);\n        \n}\n</code></pre>\n<p>And here is my main method:</p>\n<pre><code>public static void main(String[] args) {\n    App app = new App();\n    launch();\n    app.update();        \n    \n}\n</code></pre>\n<p>I found a similar problem <a href=\"https://stackoverflow.com/questions/17850191/why-am-i-getting-java-lang-illegalstateexception-not-on-fx-application-thread\">here</a>, however I haven't been able to find a way to get Platform.runLater to work well with the ScheduledExecutorService. I also found <a href=\"https://github.com/Sheep-y/trpg-dnd-4e-db/issues/27\" rel=\"nofollow noreferrer\">this</a> on GitHub, however I can't tell what the fix for this problem was other than it was fixable. I also tried putting a while loop at main that would just constantly update it, but that just caused the program to hang and eventually crash. Even if it did work, that would also make it not runnable for long periods of time as the API I am using limits the amount of GET requests per day.</p>\n"},{"tags":["java","object","arraylist"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1652560491,"creation_date":1652560491,"answer_id":72243680,"question_id":72243051,"body_markdown":"You can chain methods together like this.\r\n\r\n```\r\n      for(int i = 0; i &lt; users.size(); i++){\r\n         if(idNum == users.get(i).getIdNum()){\r\n            final Student temp = users.get(i);\r\n            System.out.println(&quot;Student with an ID of &quot; + temp.getIdNum() + &quot; has an age of &quot; + temp.getAge());\r\n         }\r\n      }\r\n```\r\n\r\nHere, I chained `users.get(i)` to get the `Student` at index `i`, then I call `getIdNum()`, which fetches the ID from that `Student` that I just fetched.\r\n\r\nThen, I perform a `==` comparison --&gt; Is the ID that the user entered the same as the ID from this particular `Student` I am looking at?\r\n\r\nIf the result is true, then I call `users.get(i)` again, which fetches that same `Student` again, and then I store that into a temporary `Student` variable called `temp`. `temp` is now referencing that `Student` on the `ArrayList` that passed the ID check.\r\n\r\nThen, I take `temp`, and use the `getIdNum()` and `getAge()` methods that it has (because `temp` is an instance of `Student`, and `Student` has those methods), and use them to create a message that I print onto the command line.\r\n\r\nHere is a complete, runnable example.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class SOQ_20220514\r\n{\r\n\r\n   public static class Student {\r\n      private String lName;\r\n      private int idNumber;\r\n      private int age;\r\n   \r\n      public Student() {\r\n         lName = &quot;&quot;;\r\n         idNumber = 0;\r\n         age = 0;\r\n      }\r\n      public Student(String l, int i, int a) {\r\n         lName = l;\r\n         idNumber = i;\r\n         age = a;\r\n      }\r\n   \r\n      public void setName(String last) {\r\n         lName = last;\r\n      }\r\n   \r\n      public String getName() {\r\n         return lName;\r\n      }\r\n   \r\n      public void setIdNum(int num) {\r\n         idNumber = num;\r\n      }\r\n   \r\n      public int getIdNum() {\r\n         return idNumber;\r\n      }\r\n   \r\n      public void setAge(int a) {\r\n         age = a;\r\n      }\r\n   \r\n      public int getAge() {\r\n         return age;\r\n      }\r\n   }\r\n\r\n   public static void main(String[] args) throws IOException {\r\n      String file = &quot;studentData.txt&quot;;\r\n      Scanner reader = new Scanner(file);\r\n   \r\n      ArrayList&lt;Student&gt; users = readFile(file);\r\n      Student s = new Student();\r\n      users.add(s);\r\n   \r\n   \r\n      Scanner input = new Scanner(System.in);\r\n    //user enters idNumber to display age\r\n      System.out.println(&quot;Enter ID Number&quot;); //exception handling to be added\r\n      int idNum = input.nextInt();\r\n   \r\n   //this part is where I&#39;m stuck \r\n      for(int i = 0; i &lt; users.size(); i++){\r\n         if(idNum == users.get(i).getIdNum()){\r\n            final Student temp = users.get(i);\r\n            System.out.println(&quot;Student with an ID of &quot; + temp.getIdNum() + &quot; has an age of &quot; + temp.getAge());\r\n         }\r\n      }\r\n   \r\n   }\r\n//METHOD FOR READING FILE\r\n   public static ArrayList&lt;Student&gt; readFile(String file)throws IOException{\r\n      Scanner reader = new Scanner(new File(file));\r\n   \r\n      ArrayList&lt;Student&gt; list = new ArrayList&lt;Student&gt;();//creates ArrayList with student object\r\n   \r\n      reader.nextLine();//skips first line\r\n      while(reader.hasNext()){//splits all text in the file into words\r\n         String lName = reader.next();\r\n         int idNum = reader.nextInt();\r\n         int age = reader.nextInt();\r\n      \r\n         Student users = new Student(lName ,idNum, age); \r\n         list.add(users);\r\n      }\r\n    \r\n      return list;\r\n   \r\n   }//end method\r\n\r\n}\r\n\r\n```","title":"Accessing specific elements in Arraylist of Objects","body":"<p>You can chain methods together like this.</p>\n<pre><code>      for(int i = 0; i &lt; users.size(); i++){\n         if(idNum == users.get(i).getIdNum()){\n            final Student temp = users.get(i);\n            System.out.println(&quot;Student with an ID of &quot; + temp.getIdNum() + &quot; has an age of &quot; + temp.getAge());\n         }\n      }\n</code></pre>\n<p>Here, I chained <code>users.get(i)</code> to get the <code>Student</code> at index <code>i</code>, then I call <code>getIdNum()</code>, which fetches the ID from that <code>Student</code> that I just fetched.</p>\n<p>Then, I perform a <code>==</code> comparison --&gt; Is the ID that the user entered the same as the ID from this particular <code>Student</code> I am looking at?</p>\n<p>If the result is true, then I call <code>users.get(i)</code> again, which fetches that same <code>Student</code> again, and then I store that into a temporary <code>Student</code> variable called <code>temp</code>. <code>temp</code> is now referencing that <code>Student</code> on the <code>ArrayList</code> that passed the ID check.</p>\n<p>Then, I take <code>temp</code>, and use the <code>getIdNum()</code> and <code>getAge()</code> methods that it has (because <code>temp</code> is an instance of <code>Student</code>, and <code>Student</code> has those methods), and use them to create a message that I print onto the command line.</p>\n<p>Here is a complete, runnable example.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class SOQ_20220514\n{\n\n   public static class Student {\n      private String lName;\n      private int idNumber;\n      private int age;\n   \n      public Student() {\n         lName = &quot;&quot;;\n         idNumber = 0;\n         age = 0;\n      }\n      public Student(String l, int i, int a) {\n         lName = l;\n         idNumber = i;\n         age = a;\n      }\n   \n      public void setName(String last) {\n         lName = last;\n      }\n   \n      public String getName() {\n         return lName;\n      }\n   \n      public void setIdNum(int num) {\n         idNumber = num;\n      }\n   \n      public int getIdNum() {\n         return idNumber;\n      }\n   \n      public void setAge(int a) {\n         age = a;\n      }\n   \n      public int getAge() {\n         return age;\n      }\n   }\n\n   public static void main(String[] args) throws IOException {\n      String file = &quot;studentData.txt&quot;;\n      Scanner reader = new Scanner(file);\n   \n      ArrayList&lt;Student&gt; users = readFile(file);\n      Student s = new Student();\n      users.add(s);\n   \n   \n      Scanner input = new Scanner(System.in);\n    //user enters idNumber to display age\n      System.out.println(&quot;Enter ID Number&quot;); //exception handling to be added\n      int idNum = input.nextInt();\n   \n   //this part is where I'm stuck \n      for(int i = 0; i &lt; users.size(); i++){\n         if(idNum == users.get(i).getIdNum()){\n            final Student temp = users.get(i);\n            System.out.println(&quot;Student with an ID of &quot; + temp.getIdNum() + &quot; has an age of &quot; + temp.getAge());\n         }\n      }\n   \n   }\n//METHOD FOR READING FILE\n   public static ArrayList&lt;Student&gt; readFile(String file)throws IOException{\n      Scanner reader = new Scanner(new File(file));\n   \n      ArrayList&lt;Student&gt; list = new ArrayList&lt;Student&gt;();//creates ArrayList with student object\n   \n      reader.nextLine();//skips first line\n      while(reader.hasNext()){//splits all text in the file into words\n         String lName = reader.next();\n         int idNum = reader.nextInt();\n         int age = reader.nextInt();\n      \n         Student users = new Student(lName ,idNum, age); \n         list.add(users);\n      }\n    \n      return list;\n   \n   }//end method\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652580115,"creation_date":1652579252,"answer_id":72245025,"question_id":72243051,"body_markdown":"The [Answer by davidalayachew][1] looks correct. For fun, here is an alternative.\r\n\r\n# Streams\r\n\r\nProvide input data. I will simulate a file with a `String` as textual input.\r\n\r\n```java\r\nString input =\r\n        &quot;&quot;&quot;\r\n        Josh,2134,19\r\n        Smith,5256,21\r\n        Rogers,9248,19\r\n        Andrew,7742,20     \r\n        &quot;&quot;&quot;;\r\n```\r\n\r\nDefine a `Student` class to hold data. If the main purpose of this class is to transparently and immutable communicate data, use a [record][2]. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`.\r\n\r\n```java\r\nrecord Student( String name , int id , int age ) { }\r\n```\r\n\r\nNote that we can declare a `record` locally, within a method. Or declare nested in another class, or separately on its own.\r\n\r\nNext we do a bunch of work in a single statement by using streams.\r\n\r\nFirst we make a stream of each line in our input text. By calling `String#lines`, we get a `Stream&lt; String &gt;`, a series of elements of type `String`. \r\n\r\nFor each one of those lines, we call `Stream#map` to create another stream. We split each line by COMMA character to get a string arrays, `String[]`. Each array has three elements, the three pieces of info in each line.\r\n\r\nFor each string array of line parts, we call `Stream#map` yet again to make yet another stream. This third stream will be a stream of `Student` objects. We produce each `Student` object by taking the three parts of the line, parsing the 2nd and 3rd into `int` values, and feeding all 3 into the constructor of our `Student` record. The result is a `Student`, one student object after another, forming a third stream.\r\n\r\nLastly, we collect the `Student` objects produced by that third stream into a list. \r\n\r\n```java\r\nList &lt; Student &gt; students =\r\n        input\r\n                .lines()                            // First stream, of `String` objects, one for each line in our source text.\r\n                .map( line -&gt; line.split( &quot;,&quot; ) )   // Second stream, of `String[]` objects. \r\n                .map( lineParts -&gt;                  // Third stream, of `Student` objects produced by the three parts of each line of input text.\r\n                        new Student(\r\n                                lineParts[ 0 ] ,\r\n                                Integer.parseInt( lineParts[ 1 ] ) ,\r\n                                Integer.parseInt( lineParts[ 2 ]\r\n                                )\r\n                        )\r\n                )\r\n                .toList();\r\n```\r\n\r\nYour goal is to change the age of each student. To do that with immutable objects (records), we can define a method that returns a new object based on values from the original. So we add a `withAge` method. We use the word `with` per [naming conventions established by the *java.time* classes][3]. \r\n\r\n```java\r\nrecord Student( String name , int id , int age )\r\n{\r\n    Student withAge ( int age ) { return new Student( this.name , this.id , age ); }\r\n}\r\n```\r\n\r\nMake your modified ages.\r\n\r\n```java\r\nList &lt; Student &gt; results = new ArrayList &lt;&gt;( students.size() );\r\nfor ( int i = 0 ; i &lt; students.size() ; i++ )\r\n{\r\n    Student student = students.get( i );\r\n    results.add( student.withAge( i ) );\r\n}\r\n```\r\n\r\nHere is that entire example class, for your copy-paste convenience.\r\n\r\n```java\r\npackage work.basil.example.text;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App app = new App();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        String input =\r\n                &quot;&quot;&quot;\r\n                Josh,2134,19\r\n                Smith,5256,21\r\n                Rogers,9248,19\r\n                Andrew,7742,20     \r\n                &quot;&quot;&quot;;\r\n\r\n        record Student( String name , int id , int age )\r\n        {\r\n            Student withAge ( int age ) { return new Student( this.name , this.id , age ); }\r\n        }\r\n\r\n        List &lt; Student &gt; students =\r\n                input\r\n                        .lines()\r\n                        .map( line -&gt; line.split( &quot;,&quot; ) )\r\n                        .map( lineParts -&gt;\r\n                                new Student(\r\n                                        lineParts[ 0 ] ,\r\n                                        Integer.parseInt( lineParts[ 1 ] ) ,\r\n                                        Integer.parseInt( lineParts[ 2 ]\r\n                                        )\r\n                                )\r\n                        )\r\n                        .toList();\r\n\r\n        List &lt; Student &gt; results = new ArrayList &lt;&gt;( students.size() );\r\n        for ( int i = 0 ; i &lt; students.size() ; i++ )\r\n        {\r\n            Student student = students.get( i );\r\n            results.add( student.withAge( i ) );\r\n        }\r\n\r\n        System.out.println( &quot;students = &quot; + students );\r\n        System.out.println( &quot;results = &quot; + results );\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n&gt;students = [Student[name=Josh, id=2134, age=19], Student[name=Smith, id=5256, age=21], Student[name=Rogers, id=9248, age=19], Student[name=Andrew, id=7742, age=20]]\r\n&gt;results = [Student[name=Josh, id=2134, age=0], Student[name=Smith, id=5256, age=1], Student[name=Rogers, id=9248, age=2], Student[name=Andrew, id=7742, age=3]]\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72243680/642706\r\n  [2]: http://openjdk.java.net/jeps/395\r\n  [3]: https://docs.oracle.com/javase/tutorial/datetime/overview/naming.html","title":"Accessing specific elements in Arraylist of Objects","body":"<p>The <a href=\"https://stackoverflow.com/a/72243680/642706\">Answer by davidalayachew</a> looks correct. For fun, here is an alternative.</p>\n<h1>Streams</h1>\n<p>Provide input data. I will simulate a file with a <code>String</code> as textual input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input =\n        &quot;&quot;&quot;\n        Josh,2134,19\n        Smith,5256,21\n        Rogers,9248,19\n        Andrew,7742,20     \n        &quot;&quot;&quot;;\n</code></pre>\n<p>Define a <code>Student</code> class to hold data. If the main purpose of this class is to transparently and immutable communicate data, use a <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a>. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Student( String name , int id , int age ) { }\n</code></pre>\n<p>Note that we can declare a <code>record</code> locally, within a method. Or declare nested in another class, or separately on its own.</p>\n<p>Next we do a bunch of work in a single statement by using streams.</p>\n<p>First we make a stream of each line in our input text. By calling <code>String#lines</code>, we get a <code>Stream&lt; String &gt;</code>, a series of elements of type <code>String</code>.</p>\n<p>For each one of those lines, we call <code>Stream#map</code> to create another stream. We split each line by COMMA character to get a string arrays, <code>String[]</code>. Each array has three elements, the three pieces of info in each line.</p>\n<p>For each string array of line parts, we call <code>Stream#map</code> yet again to make yet another stream. This third stream will be a stream of <code>Student</code> objects. We produce each <code>Student</code> object by taking the three parts of the line, parsing the 2nd and 3rd into <code>int</code> values, and feeding all 3 into the constructor of our <code>Student</code> record. The result is a <code>Student</code>, one student object after another, forming a third stream.</p>\n<p>Lastly, we collect the <code>Student</code> objects produced by that third stream into a list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Student &gt; students =\n        input\n                .lines()                            // First stream, of `String` objects, one for each line in our source text.\n                .map( line -&gt; line.split( &quot;,&quot; ) )   // Second stream, of `String[]` objects. \n                .map( lineParts -&gt;                  // Third stream, of `Student` objects produced by the three parts of each line of input text.\n                        new Student(\n                                lineParts[ 0 ] ,\n                                Integer.parseInt( lineParts[ 1 ] ) ,\n                                Integer.parseInt( lineParts[ 2 ]\n                                )\n                        )\n                )\n                .toList();\n</code></pre>\n<p>Your goal is to change the age of each student. To do that with immutable objects (records), we can define a method that returns a new object based on values from the original. So we add a <code>withAge</code> method. We use the word <code>with</code> per <a href=\"https://docs.oracle.com/javase/tutorial/datetime/overview/naming.html\" rel=\"nofollow noreferrer\">naming conventions established by the <em>java.time</em> classes</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Student( String name , int id , int age )\n{\n    Student withAge ( int age ) { return new Student( this.name , this.id , age ); }\n}\n</code></pre>\n<p>Make your modified ages.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Student &gt; results = new ArrayList &lt;&gt;( students.size() );\nfor ( int i = 0 ; i &lt; students.size() ; i++ )\n{\n    Student student = students.get( i );\n    results.add( student.withAge( i ) );\n}\n</code></pre>\n<p>Here is that entire example class, for your copy-paste convenience.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.text;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        App app = new App();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        String input =\n                &quot;&quot;&quot;\n                Josh,2134,19\n                Smith,5256,21\n                Rogers,9248,19\n                Andrew,7742,20     \n                &quot;&quot;&quot;;\n\n        record Student( String name , int id , int age )\n        {\n            Student withAge ( int age ) { return new Student( this.name , this.id , age ); }\n        }\n\n        List &lt; Student &gt; students =\n                input\n                        .lines()\n                        .map( line -&gt; line.split( &quot;,&quot; ) )\n                        .map( lineParts -&gt;\n                                new Student(\n                                        lineParts[ 0 ] ,\n                                        Integer.parseInt( lineParts[ 1 ] ) ,\n                                        Integer.parseInt( lineParts[ 2 ]\n                                        )\n                                )\n                        )\n                        .toList();\n\n        List &lt; Student &gt; results = new ArrayList &lt;&gt;( students.size() );\n        for ( int i = 0 ; i &lt; students.size() ; i++ )\n        {\n            Student student = students.get( i );\n            results.add( student.withAge( i ) );\n        }\n\n        System.out.println( &quot;students = &quot; + students );\n        System.out.println( &quot;results = &quot; + results );\n    }\n}\n</code></pre>\n<p>When run.</p>\n<blockquote>\n<p>students = [Student[name=Josh, id=2134, age=19], Student[name=Smith, id=5256, age=21], Student[name=Rogers, id=9248, age=19], Student[name=Andrew, id=7742, age=20]]\nresults = [Student[name=Josh, id=2134, age=0], Student[name=Smith, id=5256, age=1], Student[name=Rogers, id=9248, age=2], Student[name=Andrew, id=7742, age=3]]</p>\n</blockquote>\n"}],"owner":{"account_id":21021792,"reputation":45,"user_id":18874122,"display_name":"ChefCurry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72243680,"answer_count":2,"score":2,"last_activity_date":1652580115,"creation_date":1652553947,"question_id":72243051,"body_markdown":"Really confused on how to access just the age of a specific student where all the information of students have been stored in a textfile. I am reading the textfile and storing that info into a student object, just need help on accessing this.\r\n\r\n\r\n```java\r\npublic class Student {\r\n\tprivate String lName;\r\n\tprivate int idNumber;\r\n\tprivate int age;\r\n\r\n\tpublic Student() {\r\n\t\tlName = &quot;&quot;;\r\n\t\tidNumber = 0;\r\n\t\tage = 0;\r\n\t}\r\n\tpublic Student(String l, int i, int a) {\r\n\t\tlName = l;\r\n\t\tidNumber = i;\r\n\t\tage = a;\r\n\t}\r\n\r\n\tpublic void setName(String last) {\r\n\t\tlName = last;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn lName;\r\n\t}\r\n\r\n\tpublic void setIdNum(int num) {\r\n\t\tidNumber = num;\r\n\t}\r\n\r\n\tpublic int getIdNum() {\r\n\t\treturn idNumber;\r\n\t}\r\n\r\n\tpublic void setAge(int a) {\r\n\t\tage = a;\r\n\t}\r\n\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n}\r\n```\r\n\r\nMy Text File looks something like this: This info is stored in parallel array lists. I don&#39;t quite get how to implement this into an object to pass it into my second contractor method.\r\n\r\n      Josh          2134         19\r\n      Smith         5256         21\r\n      Rogers        9248         19\r\n      Andrew        7742         20\r\n\r\nHere&#39;s what I&#39;ve tried;\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\tString file = &quot;studentData.txt&quot;;\r\n\tScanner reader = new Scanner(file);\r\n\r\n\tArrayList&lt;Student&gt; users = readFile(file);\r\n\tStudent s = new Student();\r\n    users.add(s);\r\n\r\n\r\n\tScanner input = new Scanner(System.in);\r\n\t//user enters idNumber to display age\r\n\tSystem.out.println(&quot;Enter ID Number&quot;); //exception handling to be added\r\n\tint idNum = input.nextInt();\r\n\r\n//this part is where I&#39;m stuck \r\n    for(int i = 0; i &lt; users.get(i) i++){\r\n    if(idNum == users.get(i)){\r\n     users.setAge(i);\r\n}\r\n}\r\n     System.out.println(users.getAge());\r\n\r\n}\r\n```\r\n\r\n    //METHOD FOR READING FILE\r\n     public static ArrayList&lt;Student&gt; readFile(String file)throws IOException{\r\n        Scanner reader = new Scanner(new File(file));\r\n\r\n        ArrayList&lt;Student&gt; list = new ArrayList&lt;Student&gt;();//creates ArrayList with student object\r\n\r\n        reader.nextLine();//skips first line\r\n        while(reader.hasNext()){//splits all text in the file into words\r\n          String lName = reader.next();\r\n          int idNum = reader.nextInt();\r\n          int age = reader.nextInt();\r\n          \r\n        Student users = new Student(lName ,idNum, age); \r\n         list.add(users);\r\n        }\r\n        \r\n       return list;\r\n  \r\n    }//end method\r\n\r\n\r\n \r\nThe only way I think of fixing this is to read the file 3 times to store the names, idnum, and ages in seperate arraylists. And then use that separate array list to store the age using ageList.get(i). I beleive that would be super uneccessary??","title":"Accessing specific elements in Arraylist of Objects","body":"<p>Really confused on how to access just the age of a specific student where all the information of students have been stored in a textfile. I am reading the textfile and storing that info into a student object, just need help on accessing this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student {\n    private String lName;\n    private int idNumber;\n    private int age;\n\n    public Student() {\n        lName = &quot;&quot;;\n        idNumber = 0;\n        age = 0;\n    }\n    public Student(String l, int i, int a) {\n        lName = l;\n        idNumber = i;\n        age = a;\n    }\n\n    public void setName(String last) {\n        lName = last;\n    }\n\n    public String getName() {\n        return lName;\n    }\n\n    public void setIdNum(int num) {\n        idNumber = num;\n    }\n\n    public int getIdNum() {\n        return idNumber;\n    }\n\n    public void setAge(int a) {\n        age = a;\n    }\n\n    public int getAge() {\n        return age;\n    }\n}\n</code></pre>\n<p>My Text File looks something like this: This info is stored in parallel array lists. I don't quite get how to implement this into an object to pass it into my second contractor method.</p>\n<pre><code>  Josh          2134         19\n  Smith         5256         21\n  Rogers        9248         19\n  Andrew        7742         20\n</code></pre>\n<p>Here's what I've tried;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String file = &quot;studentData.txt&quot;;\n    Scanner reader = new Scanner(file);\n\n    ArrayList&lt;Student&gt; users = readFile(file);\n    Student s = new Student();\n    users.add(s);\n\n\n    Scanner input = new Scanner(System.in);\n    //user enters idNumber to display age\n    System.out.println(&quot;Enter ID Number&quot;); //exception handling to be added\n    int idNum = input.nextInt();\n\n//this part is where I'm stuck \n    for(int i = 0; i &lt; users.get(i) i++){\n    if(idNum == users.get(i)){\n     users.setAge(i);\n}\n}\n     System.out.println(users.getAge());\n\n}\n</code></pre>\n<pre><code>//METHOD FOR READING FILE\n public static ArrayList&lt;Student&gt; readFile(String file)throws IOException{\n    Scanner reader = new Scanner(new File(file));\n\n    ArrayList&lt;Student&gt; list = new ArrayList&lt;Student&gt;();//creates ArrayList with student object\n\n    reader.nextLine();//skips first line\n    while(reader.hasNext()){//splits all text in the file into words\n      String lName = reader.next();\n      int idNum = reader.nextInt();\n      int age = reader.nextInt();\n      \n    Student users = new Student(lName ,idNum, age); \n     list.add(users);\n    }\n    \n   return list;\n\n}//end method\n</code></pre>\n<p>The only way I think of fixing this is to read the file 3 times to store the names, idnum, and ages in seperate arraylists. And then use that separate array list to store the age using ageList.get(i). I beleive that would be super uneccessary??</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8645,"page":1347,"page_size":100}
