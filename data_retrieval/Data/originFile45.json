{"items":[{"tags":["java","string","binary","bit","bitset"],"answers":[{"comments":[{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":1,"creation_date":1638137613,"post_id":34769812,"comment_id":124001541,"body_markdown":"need to reverse the string because otherwise it&#39;s backwards yes?","body":"need to reverse the string because otherwise it&#39;s backwards yes?"}],"tags":[],"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1452697958,"creation_date":1452696909,"answer_id":34769812,"question_id":34748006,"body_markdown":"So this is the most efficient way I have tried so far:\r\n\r\n    private static class FixedSizeBitSet extends BitSet {\r\n        private final int nbits;\r\n\r\n        public FixedSizeBitSet(final int nbits) {\r\n            super(nbits);\r\n            this.nbits = nbits;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            final StringBuilder buffer = new StringBuilder(nbits);\r\n            IntStream.range(0, nbits).mapToObj(i -&gt; get(i) ? &#39;1&#39; : &#39;0&#39;).forEach(buffer::append);\r\n            return buffer.toString();\r\n        }\r\n    }\r\n\r\nOr other way using more streams:\r\n\r\n    @Override\r\n    public String toString() {\r\n        return IntStream\r\n                .range(0, nbits)\r\n                .mapToObj(i -&gt; get(i) ? &#39;1&#39; : &#39;0&#39;)\r\n                .collect(\r\n                        () -&gt; new StringBuilder(nbits),\r\n                        (buffer, characterToAdd) -&gt; buffer.append(characterToAdd),\r\n                        StringBuilder::append\r\n                )\r\n                .toString();\r\n    }","title":"How to convert BitSet to binary string effectively?","body":"<p>So this is the most efficient way I have tried so far:</p>\n\n<pre><code>private static class FixedSizeBitSet extends BitSet {\n    private final int nbits;\n\n    public FixedSizeBitSet(final int nbits) {\n        super(nbits);\n        this.nbits = nbits;\n    }\n\n    @Override\n    public String toString() {\n        final StringBuilder buffer = new StringBuilder(nbits);\n        IntStream.range(0, nbits).mapToObj(i -&gt; get(i) ? '1' : '0').forEach(buffer::append);\n        return buffer.toString();\n    }\n}\n</code></pre>\n\n<p>Or other way using more streams:</p>\n\n<pre><code>@Override\npublic String toString() {\n    return IntStream\n            .range(0, nbits)\n            .mapToObj(i -&gt; get(i) ? '1' : '0')\n            .collect(\n                    () -&gt; new StringBuilder(nbits),\n                    (buffer, characterToAdd) -&gt; buffer.append(characterToAdd),\n                    StringBuilder::append\n            )\n            .toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1162767,"reputation":1183,"user_id":1141944,"display_name":"tshimkus"},"score":1,"creation_date":1551019083,"post_id":54852719,"comment_id":96477645,"body_markdown":"Please add code to a code block or tag it between backticks ` to format it correctly. Also, explain how the code works to answer the question","body":"Please add code to a code block or tag it between backticks ` to format it correctly. Also, explain how the code works to answer the question"}],"tags":[],"owner":{"account_id":4830591,"reputation":21,"user_id":3898882,"display_name":"user3898882"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1584643862,"creation_date":1551017428,"answer_id":54852719,"question_id":34748006,"body_markdown":"    String bitsStr = String.format(&quot;%8s&quot;, Integer.toBinaryString(bits.toByteArray()[0] &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;);\r\n","title":"How to convert BitSet to binary string effectively?","body":"<pre><code>String bitsStr = String.format(\"%8s\", Integer.toBinaryString(bits.toByteArray()[0] &amp; 0xFF)).replace(' ', '0');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17918966,"reputation":23,"user_id":13019297,"display_name":"JVM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675792928,"creation_date":1675780411,"answer_id":75374785,"question_id":34748006,"body_markdown":"**Update:**\r\n\r\nIt turns out that the real culprit here is BitSet.valueOf which doesn&#39;t work the way you would expect it to work. I&#39;m going to leave my original comment here because it could be valuable to someone. \r\n\r\nThe important things to know are that if you call `BitSet.valueOf(some byte array)` it&#39;s not going to do what you think it should do and that you can&#39;t rely on BitSet.toByteArray() either.\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.BitSet;\r\n\r\npublic class MoreBitSetExperiments {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    // create 10000000 00000001 00000000 as bit set using set() method\r\n    int bits = 24;\r\n    BitSet bitSet1 = new BitSet(bits);\r\n    bitSet1.set(0);\r\n    bitSet1.set(15);\r\n\r\n    // create 10000000 00000001 00000000 as bit set using valueOf() method\r\n    BitSet bitSet2 = BitSet.valueOf(new byte[] {(byte)0b10000000, (byte)0b0000001, (byte)0b00000000});\r\n\r\n    System.out.println(&quot;bitSet1.toByteArray(): &quot; + Arrays.toString(bitSet1.toByteArray()));\r\n    System.out.println(&quot;bitSet2.toByteArray(): &quot; + Arrays.toString(bitSet2.toByteArray()));\r\n\r\n    String binary1 = &quot;&quot;;\r\n    String binary2 = &quot;&quot;;\r\n    for (int i = 0; i &lt; bits; i++) {\r\n      binary1 = binary1 + (bitSet1.get(i) ? 1 : 0);\r\n      binary2 = binary2 + (bitSet2.get(i) ? 1 : 0);\r\n    }\r\n    System.out.println(&quot;bitSet1 binary: &quot; + binary1);\r\n    System.out.println(&quot;bitSet2 binary: &quot; + binary2);\r\n  }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nbitSet1.toByteArray(): [1, -128]\r\nbitSet2.toByteArray(): [-128, 1]\r\nbitSet1 binary: 100000000000000100000000\r\nbitSet2 binary: 000000011000000000000000\r\n```\r\n\r\nTo get back to the original question, as long as you create your bit set by calling the BitSet.set() method you can get a binary string with bits in the order you expect. But if you create your bit set using BitSet.valueOf() then your bytes will be backwards. Also, since you can&#39;t know how many 0 bytes should be at the end of your bit set, any code written to convert to binary needs to know the intended length in bytes of the output.\r\n\r\n\r\n\r\n**Original Post**\r\n\r\nI&#39;ve spent the last several days debugging some issues related to bitsets so I thought I&#39;d share.\r\n\r\nThis code demonstrates that there are 3 big unexpected behaviors with bit sets. This is because the bit set internal storage mechanism is not what you expect it to be at first glance:\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.BitSet;\r\n\r\npublic class BitSetExperiments {\r\n\r\n  // this class seeks to demonstrate some of the pitfalls of using the BitSet object\r\n\r\n  public static void main(String[] args) {\r\n    byte[] bytes = new byte[] {-128, 1, 0}; // 10000000 00000001 00000000 as binary\r\n    BitSet bitSet = BitSet.valueOf(bytes);\r\n\r\n    // unexpected behavior demonstrated here\r\n    System.out.println(&quot;problem 1: BitSet.toByteArray() produces unexpected results (trailing 0 bytes are not captured):&quot;);\r\n    System.out.println(&quot;       expected byte array : [-128, 1, 0]&quot;);\r\n    System.out.println(&quot;actual bitset.toByteArray(): &quot; + Arrays.toString(bitSet.toByteArray()));\r\n    System.out.println();\r\n\r\n    System.out.println(&quot;problem 2: BitSet stores the bits of a byte in the wrong order:&quot;);\r\n    System.out.println(&quot;expected binary: 100000000000000100000000&quot;);\r\n    System.out.print(&quot;actual binary:   &quot;);\r\n    for (int i = 0; i &lt; bytes.length * 8; i++) {\r\n      System.out.print(bitSet.get(i) ? 1 : 0);\r\n    }\r\n    System.out.println(&quot;\\n&quot;);\r\n\r\n    System.out.println(&quot;problem 3: bitSet cannot accurately tell you the length of bytes or bits stored&quot;);\r\n    System.out.println(&quot;expected bit/byte length is: 24 bits or 3 bytes&quot;);\r\n    System.out.println(&quot;bitSet.size(): &quot; + bitSet.size());\r\n    System.out.println(&quot;bitSet.length(): &quot; + bitSet.length());\r\n    System.out.println(&quot;bitSet.cardinality(): &quot; + bitSet.cardinality());\r\n    System.out.println();\r\n    \r\n  }\r\n}\r\n```\r\n\r\nRunning this code shows:\r\n```\r\nproblem 1: BitSet.toByteArray() produces unexpected results (trailing 0 bytes are not captured):\r\n       expected byte array : [-128, 1, 0]\r\nactual bitset.toByteArray(): [-128, 1]\r\n\r\nproblem 2: BitSet stores the bits of a byte in the wrong order:\r\nexpected binary: 100000000000000100000000\r\nactual binary:   000000011000000000000000\r\n\r\nproblem 3: bitSet cannot accurately tell you the length of bytes or bits stored\r\nexpected bit/byte length is: 24 bits or 3 bytes\r\nbitSet.size(): 64\r\nbitSet.length(): 9\r\nbitSet.cardinality(): 2\r\n```\r\n\r\nOk, so knowing these 3 unexpected behaviors, we can code around them. But the important thing to realize is that you don&#39;t know how many trailing 0 bytes are on your bit set, and bit set won&#39;t tell you. This means when you want to convert the bit set to binary, you need to be explicit about how many bytes you&#39;re expecting.\r\n\r\nHere&#39;s what I came up with:\r\n```\r\n  public static String convertBitSetToBinaryString(BitSet bitSet, int lengthInBytes) {\r\n    if(bitSet == null) {\r\n      return null;\r\n    }\r\n    if(lengthInBytes &lt; 0) {\r\n      return &quot;&quot;;\r\n    }\r\n    StringBuilder binary = new StringBuilder();\r\n    // compute each byte, and then reverse them before appending to the running binary\r\n    for(int i = 0; i &lt; lengthInBytes; i++) {\r\n      StringBuilder backwardsByte = new StringBuilder();\r\n      for(int j = 0; j &lt; Byte.SIZE; j++) {\r\n        backwardsByte.append(bitSet.get((i*Byte.SIZE)+j) ? &quot;1&quot; : &quot;0&quot;);\r\n      }\r\n      binary.append(StringUtils.reverse(backwardsByte.toString()));\r\n    }\r\n    return binary.toString();\r\n  }\r\n```\r\nnote: uses StringUtils.reverse() from apache commons\r\n\r\nAnd here is the test to make sure it actually works:\r\n```\r\nvoid testConvertBitSetToBinaryString() {\r\n  assertNull(convertBitSetToBinaryString(null, 0));\r\n  assertNull(convertBitSetToBinaryString(null, 1));\r\n  assertEquals(&quot;00000000&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {}), 1));\r\n  assertEquals(&quot;00000000&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {0}), 1));\r\n  assertEquals(&quot;10000000&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {-128}), 1));\r\n  assertEquals(&quot;00000001&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {1}), 1));\r\n  assertEquals(&quot;0000000100000000&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {1}), 2));\r\n  assertEquals(&quot;0000000100000010&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {1, 2}), 2));\r\n  assertEquals(&quot;1000000010000000&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {-128, -128}), 2));\r\n  assertEquals(\r\n      &quot;00000001 01001101 10000000 00000000&quot;.replace(&quot; &quot;, &quot;&quot;),\r\n      convertBitSetToBinaryStringV2(BitSet.valueOf(new byte[] {1, 77, -128, 0}), 4)\r\n  );\r\n}\r\n```","title":"How to convert BitSet to binary string effectively?","body":"<p><strong>Update:</strong></p>\n<p>It turns out that the real culprit here is BitSet.valueOf which doesn't work the way you would expect it to work. I'm going to leave my original comment here because it could be valuable to someone.</p>\n<p>The important things to know are that if you call <code>BitSet.valueOf(some byte array)</code> it's not going to do what you think it should do and that you can't rely on BitSet.toByteArray() either.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.BitSet;\n\npublic class MoreBitSetExperiments {\n\n  public static void main(String[] args) {\n\n    // create 10000000 00000001 00000000 as bit set using set() method\n    int bits = 24;\n    BitSet bitSet1 = new BitSet(bits);\n    bitSet1.set(0);\n    bitSet1.set(15);\n\n    // create 10000000 00000001 00000000 as bit set using valueOf() method\n    BitSet bitSet2 = BitSet.valueOf(new byte[] {(byte)0b10000000, (byte)0b0000001, (byte)0b00000000});\n\n    System.out.println(&quot;bitSet1.toByteArray(): &quot; + Arrays.toString(bitSet1.toByteArray()));\n    System.out.println(&quot;bitSet2.toByteArray(): &quot; + Arrays.toString(bitSet2.toByteArray()));\n\n    String binary1 = &quot;&quot;;\n    String binary2 = &quot;&quot;;\n    for (int i = 0; i &lt; bits; i++) {\n      binary1 = binary1 + (bitSet1.get(i) ? 1 : 0);\n      binary2 = binary2 + (bitSet2.get(i) ? 1 : 0);\n    }\n    System.out.println(&quot;bitSet1 binary: &quot; + binary1);\n    System.out.println(&quot;bitSet2 binary: &quot; + binary2);\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>bitSet1.toByteArray(): [1, -128]\nbitSet2.toByteArray(): [-128, 1]\nbitSet1 binary: 100000000000000100000000\nbitSet2 binary: 000000011000000000000000\n</code></pre>\n<p>To get back to the original question, as long as you create your bit set by calling the BitSet.set() method you can get a binary string with bits in the order you expect. But if you create your bit set using BitSet.valueOf() then your bytes will be backwards. Also, since you can't know how many 0 bytes should be at the end of your bit set, any code written to convert to binary needs to know the intended length in bytes of the output.</p>\n<p><strong>Original Post</strong></p>\n<p>I've spent the last several days debugging some issues related to bitsets so I thought I'd share.</p>\n<p>This code demonstrates that there are 3 big unexpected behaviors with bit sets. This is because the bit set internal storage mechanism is not what you expect it to be at first glance:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.BitSet;\n\npublic class BitSetExperiments {\n\n  // this class seeks to demonstrate some of the pitfalls of using the BitSet object\n\n  public static void main(String[] args) {\n    byte[] bytes = new byte[] {-128, 1, 0}; // 10000000 00000001 00000000 as binary\n    BitSet bitSet = BitSet.valueOf(bytes);\n\n    // unexpected behavior demonstrated here\n    System.out.println(&quot;problem 1: BitSet.toByteArray() produces unexpected results (trailing 0 bytes are not captured):&quot;);\n    System.out.println(&quot;       expected byte array : [-128, 1, 0]&quot;);\n    System.out.println(&quot;actual bitset.toByteArray(): &quot; + Arrays.toString(bitSet.toByteArray()));\n    System.out.println();\n\n    System.out.println(&quot;problem 2: BitSet stores the bits of a byte in the wrong order:&quot;);\n    System.out.println(&quot;expected binary: 100000000000000100000000&quot;);\n    System.out.print(&quot;actual binary:   &quot;);\n    for (int i = 0; i &lt; bytes.length * 8; i++) {\n      System.out.print(bitSet.get(i) ? 1 : 0);\n    }\n    System.out.println(&quot;\\n&quot;);\n\n    System.out.println(&quot;problem 3: bitSet cannot accurately tell you the length of bytes or bits stored&quot;);\n    System.out.println(&quot;expected bit/byte length is: 24 bits or 3 bytes&quot;);\n    System.out.println(&quot;bitSet.size(): &quot; + bitSet.size());\n    System.out.println(&quot;bitSet.length(): &quot; + bitSet.length());\n    System.out.println(&quot;bitSet.cardinality(): &quot; + bitSet.cardinality());\n    System.out.println();\n    \n  }\n}\n</code></pre>\n<p>Running this code shows:</p>\n<pre><code>problem 1: BitSet.toByteArray() produces unexpected results (trailing 0 bytes are not captured):\n       expected byte array : [-128, 1, 0]\nactual bitset.toByteArray(): [-128, 1]\n\nproblem 2: BitSet stores the bits of a byte in the wrong order:\nexpected binary: 100000000000000100000000\nactual binary:   000000011000000000000000\n\nproblem 3: bitSet cannot accurately tell you the length of bytes or bits stored\nexpected bit/byte length is: 24 bits or 3 bytes\nbitSet.size(): 64\nbitSet.length(): 9\nbitSet.cardinality(): 2\n</code></pre>\n<p>Ok, so knowing these 3 unexpected behaviors, we can code around them. But the important thing to realize is that you don't know how many trailing 0 bytes are on your bit set, and bit set won't tell you. This means when you want to convert the bit set to binary, you need to be explicit about how many bytes you're expecting.</p>\n<p>Here's what I came up with:</p>\n<pre><code>  public static String convertBitSetToBinaryString(BitSet bitSet, int lengthInBytes) {\n    if(bitSet == null) {\n      return null;\n    }\n    if(lengthInBytes &lt; 0) {\n      return &quot;&quot;;\n    }\n    StringBuilder binary = new StringBuilder();\n    // compute each byte, and then reverse them before appending to the running binary\n    for(int i = 0; i &lt; lengthInBytes; i++) {\n      StringBuilder backwardsByte = new StringBuilder();\n      for(int j = 0; j &lt; Byte.SIZE; j++) {\n        backwardsByte.append(bitSet.get((i*Byte.SIZE)+j) ? &quot;1&quot; : &quot;0&quot;);\n      }\n      binary.append(StringUtils.reverse(backwardsByte.toString()));\n    }\n    return binary.toString();\n  }\n</code></pre>\n<p>note: uses StringUtils.reverse() from apache commons</p>\n<p>And here is the test to make sure it actually works:</p>\n<pre><code>void testConvertBitSetToBinaryString() {\n  assertNull(convertBitSetToBinaryString(null, 0));\n  assertNull(convertBitSetToBinaryString(null, 1));\n  assertEquals(&quot;00000000&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {}), 1));\n  assertEquals(&quot;00000000&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {0}), 1));\n  assertEquals(&quot;10000000&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {-128}), 1));\n  assertEquals(&quot;00000001&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {1}), 1));\n  assertEquals(&quot;0000000100000000&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {1}), 2));\n  assertEquals(&quot;0000000100000010&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {1, 2}), 2));\n  assertEquals(&quot;1000000010000000&quot;, convertBitSetToBinaryString(BitSet.valueOf(new byte[] {-128, -128}), 2));\n  assertEquals(\n      &quot;00000001 01001101 10000000 00000000&quot;.replace(&quot; &quot;, &quot;&quot;),\n      convertBitSetToBinaryStringV2(BitSet.valueOf(new byte[] {1, 77, -128, 0}), 4)\n  );\n}\n</code></pre>\n"}],"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8559,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":34769812,"answer_count":3,"score":9,"last_activity_date":1700649745,"creation_date":1452613682,"question_id":34748006,"body_markdown":"I am looking for an efficient way how to easily convert a `BitSet` to a binary string. Let us say that its usual length would be thousands of bits.\r\n\r\nFor example, lets have this:\r\n\r\n    BitSet bits = new BitSet(8);\r\n    bits.set(1);\r\n    bits.set(3);\r\n\r\nAnd this is the desired result:\r\n\r\n    String result = toBinaryString(bits);\r\n    // expected: result = &quot;00001010&quot;\r\n\r\nI have some ideas in general (streams, etc.), but there might be some obvious standard method I am just missing.","title":"How to convert BitSet to binary string effectively?","body":"<p>I am looking for an efficient way how to easily convert a <code>BitSet</code> to a binary string. Let us say that its usual length would be thousands of bits.</p>\n<p>For example, lets have this:</p>\n<pre><code>BitSet bits = new BitSet(8);\nbits.set(1);\nbits.set(3);\n</code></pre>\n<p>And this is the desired result:</p>\n<pre><code>String result = toBinaryString(bits);\n// expected: result = &quot;00001010&quot;\n</code></pre>\n<p>I have some ideas in general (streams, etc.), but there might be some obvious standard method I am just missing.</p>\n"},{"tags":["java","jax-ws","wsimport","jaxws-maven-plugin"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":0,"creation_date":1542042181,"post_id":53266846,"comment_id":93417776,"body_markdown":"`2.3.1` is the latest version; try that!","body":"<code>2.3.1</code> is the latest version; try that!"},{"owner":{"account_id":1344927,"reputation":456,"user_id":1285873,"display_name":"Valentin Kovalenko"},"score":3,"creation_date":1545441559,"post_id":53266846,"comment_id":94631385,"body_markdown":"Use `com.sun.xml.ws:jaxws-maven-plugin:2.3.2` from Jakarta EE (https://github.com/eclipse-ee4j/metro-jax-ws/tree/master/jaxws-ri/jaxws-maven-plugin) once it&#39;s released. Currently it&#39;s available in OSS Sonatype Staging repo (https://oss.sonatype.org/content/groups/staging/com/sun/xml/ws/jaxws-maven-plugin/2.3.2/) and I hope will be released soon. For more details see https://github.com/javaee/metro-jax-ws/issues/1251 .","body":"Use <code>com.sun.xml.ws:jaxws-maven-plugin:2.3.2</code> from Jakarta EE (<a href=\"https://github.com/eclipse-ee4j/metro-jax-ws/tree/master/jaxws-ri/jaxws-maven-plugin\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/metro-jax-ws/tree/master/jaxws-ri/&hellip;</a>&zwnj;&#8203;) once it&#39;s released. Currently it&#39;s available in OSS Sonatype Staging repo (<a href=\"https://oss.sonatype.org/content/groups/staging/com/sun/xml/ws/jaxws-maven-plugin/2.3.2/\" rel=\"nofollow noreferrer\">oss.sonatype.org/content/groups/staging/com/sun/xml/ws/&hellip;</a>) and I hope will be released soon. For more details see <a href=\"https://github.com/javaee/metro-jax-ws/issues/1251\" rel=\"nofollow noreferrer\">github.com/javaee/metro-jax-ws/issues/1251</a> ."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1581354060,"post_id":53266846,"comment_id":106395900,"body_markdown":"One alternative is Apache CXF&#39;s `wsdl2java`.","body":"One alternative is Apache CXF&#39;s <code>wsdl2java</code>."}],"answers":[{"comments":[{"owner":{"account_id":1344927,"reputation":456,"user_id":1285873,"display_name":"Valentin Kovalenko"},"score":9,"creation_date":1545441338,"post_id":53281509,"comment_id":94631362,"body_markdown":"JDK 11 does not have wsimport tool. So I am not sure how you are doing what you described.","body":"JDK 11 does not have wsimport tool. So I am not sure how you are doing what you described."}],"tags":[],"owner":{"account_id":14735815,"reputation":251,"user_id":10641886,"display_name":"Etienne Ringot"},"comment_count":1,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1542113763,"creation_date":1542113763,"answer_id":53281509,"question_id":53266846,"body_markdown":"It&#39;s works, finally! Just in case someone has the same problem :\r\n\r\nI wanted to use maven build to generate the sources, with this pom.xml :\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;packageName&gt;my.package&lt;/packageName&gt;\r\n                            &lt;sourceDestDir&gt;${project.build.directory}/generated-sources/jaxws-wsimport&lt;/sourceDestDir&gt;\r\n                            &lt;keep&gt;true&lt;/keep&gt;\r\n                            &lt;executable&gt;${java.home}/bin/wsimport&lt;/executable&gt;\r\n                            &lt;wsdlDirectory&gt;src/main/resources/schemas&lt;/wsdlDirectory&gt;\r\n                            &lt;bindingFiles&gt;\r\n                                &lt;bindingFile&gt;${basedir}/src/bindings/binding.xjb&lt;/bindingFile&gt;\r\n                            &lt;/bindingFiles&gt;\r\n                            &lt;target&gt;2.1&lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nBut the solution is to run wsimport directly with the console : \r\n\r\n    wsimport -d target/generated-sources/jaxws-wsimport/ -s target/generated-sources/jaxws-wsimport/ src/main/resources/schemas/myWSDLFile.wsdl\r\n\r\nAnd of course, I&#39;m using JDK 11 ","title":"Replacement for wsimport since JDK 11","body":"<p>It's works, finally! Just in case someone has the same problem :</p>\n\n<p>I wanted to use maven build to generate the sources, with this pom.xml :</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsimport&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;packageName&gt;my.package&lt;/packageName&gt;\n                        &lt;sourceDestDir&gt;${project.build.directory}/generated-sources/jaxws-wsimport&lt;/sourceDestDir&gt;\n                        &lt;keep&gt;true&lt;/keep&gt;\n                        &lt;executable&gt;${java.home}/bin/wsimport&lt;/executable&gt;\n                        &lt;wsdlDirectory&gt;src/main/resources/schemas&lt;/wsdlDirectory&gt;\n                        &lt;bindingFiles&gt;\n                            &lt;bindingFile&gt;${basedir}/src/bindings/binding.xjb&lt;/bindingFile&gt;\n                        &lt;/bindingFiles&gt;\n                        &lt;target&gt;2.1&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>But the solution is to run wsimport directly with the console : </p>\n\n<pre><code>wsimport -d target/generated-sources/jaxws-wsimport/ -s target/generated-sources/jaxws-wsimport/ src/main/resources/schemas/myWSDLFile.wsdl\n</code></pre>\n\n<p>And of course, I'm using JDK 11 </p>\n"},{"comments":[{"owner":{"account_id":6839027,"reputation":4521,"user_id":5260008,"accept_rate":100,"display_name":"N00b Pr0grammer"},"score":0,"creation_date":1556721672,"post_id":54149139,"comment_id":98528773,"body_markdown":"the link provided above doesn&#39;t work anymore. Can you please provide the link which works!","body":"the link provided above doesn&#39;t work anymore. Can you please provide the link which works!"},{"owner":{"account_id":9276100,"reputation":31,"user_id":6888724,"display_name":"Christopher Shirley"},"score":2,"creation_date":1588797863,"post_id":54149139,"comment_id":109041953,"body_markdown":"It can be found here, if you go up a level you will see the latest version: https://repo1.maven.org/maven2/com/sun/xml/ws/jaxws-ri/2.3.0/","body":"It can be found here, if you go up a level you will see the latest version: <a href=\"https://repo1.maven.org/maven2/com/sun/xml/ws/jaxws-ri/2.3.0/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/sun/xml/ws/jaxws-ri/2.3.0</a>"}],"tags":[],"owner":{"account_id":9276100,"reputation":31,"user_id":6888724,"display_name":"Christopher Shirley"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547219244,"creation_date":1547219244,"answer_id":54149139,"question_id":53266846,"body_markdown":"I&#39;m going to add what I&#39;ve found through my research into upgrading to JDK11 in case it helps someone else.\r\n\r\nWsimport was deprecated as a part of the JDK, but was open sourced to the Eclipse Foundation. You can download it with the following link:\r\n\r\n[https://repo1.maven.org/maven2/com/sun/xml/ws/jaxws-ri/2.3.0/jaxws-ri-2.3.0.zip][1]\r\n\r\nThey have changed wsimport from an executable to a bat/sh script that calls the jaxws-tools.jar file. I have not actually seen it work and always get a ClassNotFoundException: javax.activation.DataSource. I have even changed their script to include the javax.activation-api-1.2.0.jar and it still does not work. It does not matter if I attempt a build through Maven or run it command-line.\r\n\r\nThis was my plugin configuration:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;app-wsdl-exec&lt;/id&gt;\r\n    \t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t\t&lt;goal&gt;wsimport&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;executable&gt;${tool.wsimport}&lt;/executable&gt;\r\n    \t\t\t\t&lt;wsdlFiles&gt;\r\n    \t\t\t\t\t&lt;wsdlFile&gt;${basedir}/src/main/resources/app.wsdl&lt;/wsdlFile&gt;\r\n    \t\t\t\t&lt;/wsdlFiles&gt;\r\n    \t\t\t\t&lt;bindingDirectory&gt;src/main/resources/binding&lt;/bindingDirectory&gt;\r\n    \t\t\t\t&lt;bindingFiles&gt;\r\n    \t\t\t\t\t&lt;bindingFile&gt;ws-binding.xml&lt;/bindingFile&gt;\r\n    \t\t\t\t&lt;/bindingFiles&gt;\r\n    \t\t\t\t&lt;packageName&gt;com.app.ws&lt;/packageName&gt;\r\n    \t\t\t\t&lt;staleFile&gt;${project.build.directory}/jaxws/stale/APP.done&lt;/staleFile&gt;\r\n    \t\t\t\t&lt;sourceDestDir&gt;${basedir}/src/main/java&lt;/sourceDestDir&gt;\r\n    \t\t\t\t&lt;xnocompile&gt;false&lt;/xnocompile&gt;\r\n    \t\t\t\t&lt;useJdkToolchainExecutable&gt;false&lt;/useJdkToolchainExecutable&gt;\r\n    \t\t\t\t&lt;keep&gt;true&lt;/keep&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/execution&gt;\r\n    \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI also used the following so that I could develop on Windows and Jenkins could build on Linux:\r\n\r\n    &lt;profiles&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;win&lt;/id&gt;\r\n    \t\t&lt;activation&gt;\r\n    \t\t\t&lt;os&gt;\r\n    \t\t\t\t&lt;family&gt;windows&lt;/family&gt;\r\n    \t\t\t&lt;/os&gt;\r\n    \t\t&lt;/activation&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;tool.wsimport&gt;${env.JAXWS_HOME}/bin/wsimport.bat&lt;/tool.wsimport&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;nix&lt;/id&gt;\r\n    \t\t&lt;activation&gt;\r\n    \t\t\t&lt;os&gt;\r\n    \t\t\t\t&lt;family&gt;!windows&lt;/family&gt;\r\n    \t\t\t&lt;/os&gt;\r\n    \t\t&lt;/activation&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;tool.wsimport&gt;${env.JAXWS_HOME}/bin/wsimport.sh&lt;/tool.wsimport&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n","title":"Replacement for wsimport since JDK 11","body":"<p>I'm going to add what I've found through my research into upgrading to JDK11 in case it helps someone else.</p>\n\n<p>Wsimport was deprecated as a part of the JDK, but was open sourced to the Eclipse Foundation. You can download it with the following link:</p>\n\n<p>[<a href=\"https://repo1.maven.org/maven2/com/sun/xml/ws/jaxws-ri/2.3.0/jaxws-ri-2.3.0.zip][1]\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/sun/xml/ws/jaxws-ri/2.3.0/jaxws-ri-2.3.0.zip][1]</a></p>\n\n<p>They have changed wsimport from an executable to a bat/sh script that calls the jaxws-tools.jar file. I have not actually seen it work and always get a ClassNotFoundException: javax.activation.DataSource. I have even changed their script to include the javax.activation-api-1.2.0.jar and it still does not work. It does not matter if I attempt a build through Maven or run it command-line.</p>\n\n<p>This was my plugin configuration:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;app-wsdl-exec&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsimport&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;executable&gt;${tool.wsimport}&lt;/executable&gt;\n                &lt;wsdlFiles&gt;\n                    &lt;wsdlFile&gt;${basedir}/src/main/resources/app.wsdl&lt;/wsdlFile&gt;\n                &lt;/wsdlFiles&gt;\n                &lt;bindingDirectory&gt;src/main/resources/binding&lt;/bindingDirectory&gt;\n                &lt;bindingFiles&gt;\n                    &lt;bindingFile&gt;ws-binding.xml&lt;/bindingFile&gt;\n                &lt;/bindingFiles&gt;\n                &lt;packageName&gt;com.app.ws&lt;/packageName&gt;\n                &lt;staleFile&gt;${project.build.directory}/jaxws/stale/APP.done&lt;/staleFile&gt;\n                &lt;sourceDestDir&gt;${basedir}/src/main/java&lt;/sourceDestDir&gt;\n                &lt;xnocompile&gt;false&lt;/xnocompile&gt;\n                &lt;useJdkToolchainExecutable&gt;false&lt;/useJdkToolchainExecutable&gt;\n                &lt;keep&gt;true&lt;/keep&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I also used the following so that I could develop on Windows and Jenkins could build on Linux:</p>\n\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;win&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;os&gt;\n                &lt;family&gt;windows&lt;/family&gt;\n            &lt;/os&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;tool.wsimport&gt;${env.JAXWS_HOME}/bin/wsimport.bat&lt;/tool.wsimport&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;nix&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;os&gt;\n                &lt;family&gt;!windows&lt;/family&gt;\n            &lt;/os&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;tool.wsimport&gt;${env.JAXWS_HOME}/bin/wsimport.sh&lt;/tool.wsimport&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5063527,"reputation":11,"user_id":4064305,"display_name":"Maarten Damen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547639037,"creation_date":1547639037,"answer_id":54216361,"question_id":53266846,"body_markdown":"The jaxws-maven-plugin is not updated yet for JDK 11. There is a [pull request](https://github.com/mojohaus/jaxws-maven-plugin/pull/71) open on the project, but it is not merged yet. \r\n\r\n\r\nA temporary solution for wsimport is proposed here: https://github.com/javaee/metro-jax-ws/issues/1251#issuecomment-441424365, which probably works fine on Linux. \r\n\r\nOn our project we are working with Windows environments and we fixed the wsimport according to the following example:\r\n```xml\r\n&lt;plugins&gt;\r\n\t&lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;target&gt;\r\n\t\t\t\t\t\t&lt;mkdir dir=&quot;target/generated-sources/wsimport&quot;/&gt;\r\n\r\n\t\t\t\t\t\t&lt;property name=&quot;plugin_classpath&quot; refid=&quot;maven.plugin.classpath&quot; /&gt;\r\n\r\n\t\t\t\t\t\t&lt;exec executable=&quot;java&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;-classpath&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;${plugin_classpath}&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;com.sun.tools.ws.WsImport&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;-extension&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;-Xnocompile&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;-wsdllocation&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;/MyWSDL.wsdl&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;-s&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;target/generated-sources/wsimport&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;-p&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;com.company.client.generated&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;arg value=&quot;src/main/resources/MyWSDL.wsdl&quot;/&gt;\r\n\t\t\t\t\t\t&lt;/exec&gt;\r\n\t\t\t\t\t&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;run&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;ant-contrib&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;ant-contrib&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0b2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.jws&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javax.jws-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.0.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- xml.ws module --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;!-- declare the exclusion here --&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;txw2&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt; \r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- javax.activation --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- wsimport --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxws-tools&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/plugin&gt;\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;add-source&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t&lt;source&gt;target/generated-sources/wsimport&lt;/source&gt;\r\n\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n```\r\n","title":"Replacement for wsimport since JDK 11","body":"<p>The jaxws-maven-plugin is not updated yet for JDK 11. There is a <a href=\"https://github.com/mojohaus/jaxws-maven-plugin/pull/71\" rel=\"nofollow noreferrer\">pull request</a> open on the project, but it is not merged yet. </p>\n\n<p>A temporary solution for wsimport is proposed here: <a href=\"https://github.com/javaee/metro-jax-ws/issues/1251#issuecomment-441424365\" rel=\"nofollow noreferrer\">https://github.com/javaee/metro-jax-ws/issues/1251#issuecomment-441424365</a>, which probably works fine on Linux. </p>\n\n<p>On our project we are working with Windows environments and we fixed the wsimport according to the following example:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;target&gt;\n                        &lt;mkdir dir=\"target/generated-sources/wsimport\"/&gt;\n\n                        &lt;property name=\"plugin_classpath\" refid=\"maven.plugin.classpath\" /&gt;\n\n                        &lt;exec executable=\"java\"&gt;\n                            &lt;arg value=\"-classpath\"/&gt;\n                            &lt;arg value=\"${plugin_classpath}\"/&gt;\n                            &lt;arg value=\"com.sun.tools.ws.WsImport\"/&gt;\n                            &lt;arg value=\"-extension\"/&gt;\n                            &lt;arg value=\"-Xnocompile\"/&gt;\n                            &lt;arg value=\"-wsdllocation\"/&gt;\n                            &lt;arg value=\"/MyWSDL.wsdl\"/&gt;\n                            &lt;arg value=\"-s\"/&gt;\n                            &lt;arg value=\"target/generated-sources/wsimport\"/&gt;\n                            &lt;arg value=\"-p\"/&gt;\n                            &lt;arg value=\"com.company.client.generated\"/&gt;\n                            &lt;arg value=\"src/main/resources/MyWSDL.wsdl\"/&gt;\n                        &lt;/exec&gt;\n                    &lt;/target&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;run&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;ant-contrib&lt;/groupId&gt;\n                &lt;artifactId&gt;ant-contrib&lt;/artifactId&gt;\n                &lt;version&gt;1.0b2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.jws&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.jws-api&lt;/artifactId&gt;\n                &lt;version&gt;1.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n                &lt;version&gt;2.3.0.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n                &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- xml.ws module --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;!-- declare the exclusion here --&gt;\n                        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                        &lt;artifactId&gt;txw2&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt; \n            &lt;/dependency&gt;\n\n            &lt;!-- javax.activation --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n                &lt;artifactId&gt;activation&lt;/artifactId&gt;\n                &lt;version&gt;1.1.1&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- wsimport --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-tools&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;add-source&lt;/id&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;add-source&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;target/generated-sources/wsimport&lt;/source&gt;\n                    &lt;/sources&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5923570,"reputation":589,"user_id":4660239,"display_name":"Florian Prud&#39;homme"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1551626769,"creation_date":1551626769,"answer_id":54970392,"question_id":53266846,"body_markdown":"Today, you can use a fork as a direct replacement of org.codehaus.mojo:jaxws-maven-plugin:2.5: \r\n\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;com.helger.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.6&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        ...\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nhttps://github.com/phax/jaxws-maven-plugin. It works well with jdk11","title":"Replacement for wsimport since JDK 11","body":"<p>Today, you can use a fork as a direct replacement of org.codehaus.mojo:jaxws-maven-plugin:2.5: </p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;com.helger.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.6&lt;/version&gt;\n  &lt;configuration&gt;\n    ...\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><a href=\"https://github.com/phax/jaxws-maven-plugin\" rel=\"noreferrer\">https://github.com/phax/jaxws-maven-plugin</a>. It works well with jdk11</p>\n"},{"tags":[],"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583364123,"creation_date":1583364123,"answer_id":60536135,"question_id":53266846,"body_markdown":"The latest version of the plugin (2.6 by now) works with Java 11.\r\n\r\nhttp://www.mojohaus.org/jaxws-maven-plugin/index.html","title":"Replacement for wsimport since JDK 11","body":"<p>The latest version of the plugin (2.6 by now) works with Java 11.</p>\n\n<p><a href=\"http://www.mojohaus.org/jaxws-maven-plugin/index.html\" rel=\"noreferrer\">http://www.mojohaus.org/jaxws-maven-plugin/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700648907,"creation_date":1700648907,"answer_id":77529121,"question_id":53266846,"body_markdown":"Actually, none of the provided answers work.\r\n\r\nWhat works is this:\r\n\r\n1. Add this plugin (configure it according to your needs):\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n\r\n        &lt;!--possibly some other plugins...--&gt;\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2&lt;/version&gt; &lt;!--use latest version--&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;packageName&gt;com.your.package.path.here&lt;/packageName&gt;\r\n                &lt;wsdlUrls&gt;\r\n                    &lt;wsdlUrl&gt;http://url.for.your.wsdl.com/wsdlFile?WSDL&lt;/wsdlUrl&gt; &lt;!--Sure enough, you change this with the real URL--&gt;\r\n                &lt;/wsdlUrls&gt;\r\n                &lt;!--\r\n                Alternatively you can use:\r\n                &lt;wsdlDirectory&gt;path/to/your/wsdl/&lt;/wsdlDirectory&gt;\r\n                &lt;wsdlFiles&gt;\r\n                    &lt;wsdlFile&gt;wsdlFileName&lt;/wsdlFile&gt;\r\n                &lt;/wsdlFiles&gt;\r\n                --&gt;\r\n                &lt;sourceDestDir&gt;${project.build.sourceDirectory}&lt;/sourceDestDir&gt;\r\n                &lt;extension&gt;true&lt;/extension&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;!--possibly some other plugins...--&gt;\r\n\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n2. Add this dependency:\r\n```xml\r\n&lt;dependencies&gt;\r\n    \r\n    &lt;!--Possibly some other dependencies...--&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!--Possibly some other dependencies...--&gt;\r\n    \r\n&lt;/dependencies&gt;\r\n```\r\n\r\n3. Execute `mvn clean generate-resources` (or any later phase from the Default Lifecycle).","title":"Replacement for wsimport since JDK 11","body":"<p>Actually, none of the provided answers work.</p>\n<p>What works is this:</p>\n<ol>\n<li>Add this plugin (configure it according to your needs):</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n\n        &lt;!--possibly some other plugins...--&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2&lt;/version&gt; &lt;!--use latest version--&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsimport&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;packageName&gt;com.your.package.path.here&lt;/packageName&gt;\n                &lt;wsdlUrls&gt;\n                    &lt;wsdlUrl&gt;http://url.for.your.wsdl.com/wsdlFile?WSDL&lt;/wsdlUrl&gt; &lt;!--Sure enough, you change this with the real URL--&gt;\n                &lt;/wsdlUrls&gt;\n                &lt;!--\n                Alternatively you can use:\n                &lt;wsdlDirectory&gt;path/to/your/wsdl/&lt;/wsdlDirectory&gt;\n                &lt;wsdlFiles&gt;\n                    &lt;wsdlFile&gt;wsdlFileName&lt;/wsdlFile&gt;\n                &lt;/wsdlFiles&gt;\n                --&gt;\n                &lt;sourceDestDir&gt;${project.build.sourceDirectory}&lt;/sourceDestDir&gt;\n                &lt;extension&gt;true&lt;/extension&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;!--possibly some other plugins...--&gt;\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Add this dependency:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    \n    &lt;!--Possibly some other dependencies...--&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;4.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--Possibly some other dependencies...--&gt;\n    \n&lt;/dependencies&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Execute <code>mvn clean generate-resources</code> (or any later phase from the Default Lifecycle).</li>\n</ol>\n"}],"owner":{"account_id":14735815,"reputation":251,"user_id":10641886,"display_name":"Etienne Ringot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53111,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":6,"score":25,"last_activity_date":1700649225,"creation_date":1542042120,"question_id":53266846,"body_markdown":"I&#39;m currently working on a project which needs `wsimport`, but we use JDK 11 and I discovered, that `wsimport` was removed from JDK since this version.\r\n\r\nI searched for answers and I tried adding this dependency, but it&#39;s not working at the moment.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIs there any replacement for `wsimport` that I&#39;m not aware of?\r\n\r\nThank you!","title":"Replacement for wsimport since JDK 11","body":"<p>I'm currently working on a project which needs <code>wsimport</code>, but we use JDK 11 and I discovered, that <code>wsimport</code> was removed from JDK since this version.</p>\n<p>I searched for answers and I tried adding this dependency, but it's not working at the moment.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Is there any replacement for <code>wsimport</code> that I'm not aware of?</p>\n<p>Thank you!</p>\n"},{"tags":["java","string","hashmap","substring","sliding-window"],"owner":{"account_id":14997505,"reputation":1,"user_id":13057442,"display_name":"ashwini chaudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700650258,"answer_count":0,"score":0,"last_activity_date":1700648804,"creation_date":1700648698,"question_id":77529098,"body_markdown":"Given two strings `s` and `t` of lengths `m` and `n` respectively, return *the **minimum window*** substring *of*`s`*such that every character in*`t`*(**including duplicates**) is included in the window*. If there is no such substring, return *the empty string*`&quot;&quot;`.The testcases will be generated such that the answer is **unique**.\r\n\r\nThis is my code for it.\r\n\r\n```\r\nclass Solution {\r\n    public String minWindow(String s, String t) {\r\n        HashMap&lt;Character,Integer&gt; map = new HashMap&lt;&gt;();\r\n        int count = 0;\r\n        for(int i=0;i&lt;t.length();i++){\r\n            map.put(t.charAt(i),map.getOrDefault(t.charAt(i),0)+1);\r\n            count++;\r\n        }\r\n        int i=0;\r\n        int j=0;\r\n        int first = 0;\r\n        int last = s.length()-1;\r\n        for(;j&lt;s.length();j++){\r\n            if(map.containsKey(s.charAt(j))){\r\n                if(map.get(s.charAt(j))&gt;0){\r\n                    count--;\r\n                }\r\n                map.put(s.charAt(j),map.get(s.charAt(j)-1));\r\n            }\r\n            while(count==0){\r\n                first = i;\r\n                last = j;\r\n                if(map.containsKey(s.charAt(i))){\r\n                    if(map.get(s.charAt(i))==0){\r\n                        count--;\r\n                    }\r\n                    map.put(s.charAt(i),map.get(s.charAt(i))+1);\r\n                }                \r\n                i++;\r\n            }\r\n        }\r\n        StringBuilder ans = new StringBuilder();\r\n        for(int k=first;k&lt;=last;k++){\r\n            ans.append(s.charAt(k));\r\n        }\r\n        return ans.toString();\r\n    }\r\n}\r\n```\r\n\r\n```\r\nThe output shown is : \r\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;java.util.HashMap.get(Object)&quot; is null\r\n  at line 24, Solution.minWindow\r\n  at line 54, __DriverSolution__.__helper__\r\n  at line 87, __Driver__.main","title":"Minimum Window Substring leetcode #76","body":"<p>Given two strings <code>s</code> and <code>t</code> of lengths <code>m</code> and <code>n</code> respectively, return <em>the <strong>minimum window</strong></em> substring <em>of</em><code>s</code><em>such that every character in</em><code>t</code><em>(<strong>including duplicates</strong>) is included in the window</em>. If there is no such substring, return <em>the empty string</em><code>&quot;&quot;</code>.The testcases will be generated such that the answer is <strong>unique</strong>.</p>\n<p>This is my code for it.</p>\n<pre><code>class Solution {\n    public String minWindow(String s, String t) {\n        HashMap&lt;Character,Integer&gt; map = new HashMap&lt;&gt;();\n        int count = 0;\n        for(int i=0;i&lt;t.length();i++){\n            map.put(t.charAt(i),map.getOrDefault(t.charAt(i),0)+1);\n            count++;\n        }\n        int i=0;\n        int j=0;\n        int first = 0;\n        int last = s.length()-1;\n        for(;j&lt;s.length();j++){\n            if(map.containsKey(s.charAt(j))){\n                if(map.get(s.charAt(j))&gt;0){\n                    count--;\n                }\n                map.put(s.charAt(j),map.get(s.charAt(j)-1));\n            }\n            while(count==0){\n                first = i;\n                last = j;\n                if(map.containsKey(s.charAt(i))){\n                    if(map.get(s.charAt(i))==0){\n                        count--;\n                    }\n                    map.put(s.charAt(i),map.get(s.charAt(i))+1);\n                }                \n                i++;\n            }\n        }\n        StringBuilder ans = new StringBuilder();\n        for(int k=first;k&lt;=last;k++){\n            ans.append(s.charAt(k));\n        }\n        return ans.toString();\n    }\n}\n</code></pre>\n<pre><code>The output shown is : \njava.lang.NullPointerException: Cannot invoke &quot;java.lang.Integer.intValue()&quot; because the return value of &quot;java.util.HashMap.get(Object)&quot; is null\n  at line 24, Solution.minWindow\n  at line 54, __DriverSolution__.__helper__\n  at line 87, __Driver__.main\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1700644483,"post_id":77527204,"comment_id":136678789,"body_markdown":"You need to use the FQN as the `entityName` so including the package. Also ideally you shouldn&#39;t be using get but rather `find` on the `Session`. Using `get` will result in a lazy proxy being returned instead of the actual object, the actual object will then only be retrieved as soon as you call a method on the proxy.","body":"You need to use the FQN as the <code>entityName</code> so including the package. Also ideally you shouldn&#39;t be using get but rather <code>find</code> on the <code>Session</code>. Using <code>get</code> will result in a lazy proxy being returned instead of the actual object, the actual object will then only be retrieved as soon as you call a method on the proxy."},{"owner":{"account_id":1198357,"reputation":1090,"user_id":1169587,"accept_rate":28,"display_name":"user1169587"},"score":0,"creation_date":1700646503,"post_id":77527204,"comment_id":136679169,"body_markdown":"yes, this solve the problem, if you post as answer, I will mark this as answer, thanks.","body":"yes, this solve the problem, if you post as answer, I will mark this as answer, thanks."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700648699,"creation_date":1700648699,"answer_id":77529099,"question_id":77527204,"body_markdown":"When you don&#39;t explicitly specify the `entity-name` it will default to the FQN (the full classname of the entity). So you should be using either `hk.xxx.slis.model.SliInstrPublishing` or specify the `name` attribute of the `@Entity` annotation to override this. Like `@Entity(name=&quot;SliInstrPublishing&quot;)`. \r\n\r\nThis is also mentioned in [the documentation][1] of the `@Entity` annotation. \r\n\r\n&gt; (Optional) The entity name. **Defaults to the unqualified name of the entity class**. This name is used to refer to the entity in queries. The name must not be a reserved literal in the Java Persistence query language.\r\n\r\n\r\n[1]: https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/Entity.html#name--","title":"if use session.get(String entityName, Serializable id), Unable to locate persister, but if use session.get(Class clazz, Serializable id), no problem","body":"<p>When you don't explicitly specify the <code>entity-name</code> it will default to the FQN (the full classname of the entity). So you should be using either <code>hk.xxx.slis.model.SliInstrPublishing</code> or specify the <code>name</code> attribute of the <code>@Entity</code> annotation to override this. Like <code>@Entity(name=&quot;SliInstrPublishing&quot;)</code>.</p>\n<p>This is also mentioned in <a href=\"https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/Entity.html#name--\" rel=\"nofollow noreferrer\">the documentation</a> of the <code>@Entity</code> annotation.</p>\n<blockquote>\n<p>(Optional) The entity name. <strong>Defaults to the unqualified name of the entity class</strong>. This name is used to refer to the entity in queries. The name must not be a reserved literal in the Java Persistence query language.</p>\n</blockquote>\n"}],"owner":{"account_id":1198357,"reputation":1090,"user_id":1169587,"accept_rate":28,"display_name":"user1169587"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77529099,"answer_count":1,"score":0,"last_activity_date":1700648699,"creation_date":1700624678,"question_id":77527204,"body_markdown":"if use \r\n\r\n    session.get(String entityName, Serializable id), \r\n\r\nreturn UnknownEntityTypeException: Unable to locate persister error, \r\n\r\nbut if use \r\n\r\n    session.get(Class clazz, Serializable id), \r\n\r\nno error. \r\nI google similar error and most mention the cause is missing the mapping class in hibernate.cfg.xml or missing @Entity annotation in POJO class, but I check that I have all entered, so why still have &quot;Unable to locate persister&quot; error?\r\n\r\n\r\nthe code and setting is as follow:\r\n\r\nhibernate.cfg.xml\r\n\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \t\t.....\r\n    \t\t&lt;mapping class=&quot;hk.xxx.slis.model.SliInstrPublishing&quot; /&gt;\r\n    \t.....\r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nPOJO class\r\n\r\n    package hk.xxx.slis.model;\r\n    // Generated 19 Nov 2023, 1:53:51 am by Hibernate Tools 4.3.6.Final\r\n    \r\n    import java.util.Date;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToOne;\r\n    import javax.persistence.PrimaryKeyJoinColumn;\r\n    import javax.persistence.Table;\r\n    import javax.persistence.Temporal;\r\n    import javax.persistence.TemporalType;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    import org.hibernate.annotations.Parameter;\r\n    \r\n    /**\r\n     * SliInstrPublishing generated by hbm2java\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;SLI_INSTR_PUBLISHING&quot;)\r\n    public class SliInstrPublishing implements java.io.Serializable {\r\n    \r\n    \tprivate long instrKey;\r\n    \tprivate SliInstr sliInstr;\r\n    \tprivate String lastRecTxnUserId;\r\n    \tprivate Date lastRecTxnDate;\r\n    \r\n    \tpublic SliInstrPublishing() {\r\n    \t}\r\n    \r\n    \tpublic SliInstrPublishing(SliInstr sliInstr, String lastRecTxnUserId, Date lastRecTxnDate) {\r\n    \t\tthis.sliInstr = sliInstr;\r\n    \t\tthis.lastRecTxnUserId = lastRecTxnUserId;\r\n    \t\tthis.lastRecTxnDate = lastRecTxnDate;\r\n    \t}\r\n    \r\n    \t@GenericGenerator(name = &quot;generator&quot;, strategy = &quot;foreign&quot;, parameters = @Parameter(name = &quot;property&quot;, value = &quot;sliInstr&quot;))\r\n    \t@Id\r\n    \t@GeneratedValue(generator = &quot;generator&quot;)\r\n    \r\n    \t@Column(name = &quot;INSTR_KEY&quot;, unique = true, nullable = false, precision = 10, scale = 0)\r\n    \tpublic long getInstrKey() {\r\n    \t\treturn this.instrKey;\r\n    \t}\r\n    \r\n    \tpublic void setInstrKey(long instrKey) {\r\n    \t\tthis.instrKey = instrKey;\r\n    \t}\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n    \t@PrimaryKeyJoinColumn\r\n    \tpublic SliInstr getSliInstr() {\r\n    \t\treturn this.sliInstr;\r\n    \t}\r\n    \r\n    \tpublic void setSliInstr(SliInstr sliInstr) {\r\n    \t\tthis.sliInstr = sliInstr;\r\n    \t}\r\n    \r\n    \t@Column(name = &quot;LAST_REC_TXN_USER_ID&quot;, nullable = false, length = 32)\r\n    \tpublic String getLastRecTxnUserId() {\r\n    \t\treturn this.lastRecTxnUserId;\r\n    \t}\r\n    \r\n    \tpublic void setLastRecTxnUserId(String lastRecTxnUserId) {\r\n    \t\tthis.lastRecTxnUserId = lastRecTxnUserId;\r\n    \t}\r\n    \r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \t@Column(name = &quot;LAST_REC_TXN_DATE&quot;, nullable = false, length = 11)\r\n    \tpublic Date getLastRecTxnDate() {\r\n    \t\treturn this.lastRecTxnDate;\r\n    \t}\r\n    \r\n    \tpublic void setLastRecTxnDate(Date lastRecTxnDate) {\r\n    \t\tthis.lastRecTxnDate = lastRecTxnDate;\r\n    \t}\r\n    \r\n    }\r\n\r\nApplicationContext.xml\r\n\r\n    &lt;!-- Configuring SessionFactory Bean --&gt;\r\n    \t&lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;hk.xxx.slis.model&quot; /&gt;\r\n    \t\t&lt;property name=&quot;configLocation&quot; value=&quot;classpath:hibernate.cfg.xml&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\r\ncalling code\r\n\r\n    public SliInstrPublishing findById(Long id) {\r\n    \t\tlog.debug(&quot;getting SliInstrPublishing instance with id: &quot; + id);\r\n    \t\ttry {\r\n    \t\t\t//SliInstrPublishing instance = (SliInstrPublishing) this.getHibernateSession()\r\n    \t\t\t\t\t//.get(SliInstrPublishing.class, id);\r\n    \t\t\tSliInstrPublishing instance = (SliInstrPublishing) this.getHibernateSession()\r\n    \t\t\t\t\t.get(&quot;SliInstrPublishing&quot;, id);  // &lt;-- error here\r\n    \t\t\tif (instance == null) {\r\n    \t\t\t\tlog.debug(&quot;get successful, no instance found&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tlog.debug(&quot;get successful, instance found&quot;);\r\n    \t\t\t}\r\n    \t\t\treturn instance;\r\n    \t\t} catch (RuntimeException re) {\r\n    \t\t\tlog.error(&quot;get failed&quot;, re);\r\n    \t\t\tthrow re;\r\n    \t\t}\r\n    \t}\r\n\r\n\r\n\r\nStackTrace\r\n\r\n    11:20:35,411 ERROR [hk.xxx.slis.dao.SliInstrPublishingDao] (default task-5) get failed: org.hibernate.UnknownEntityTypeException: Unable to locate persister: SliInstrPublishing\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.metamodel.internal.MetamodelImpl.locateEntityPersister(MetamodelImpl.java:731)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl.locateEntityPersister(SessionImpl.java:3060)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl.access$1700(SessionImpl.java:210)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2781)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2768)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1218)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl.get(SessionImpl.java:1101)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//hk.xxx.slis.dao.SliInstrPublishingDao.findById(SliInstrPublishingDao.java:91)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//com.sun.proxy.$Proxy174.findById(Unknown Source)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//hk.xxx.slis.service.PublishService.getInstrPublishing(PublishService.java:1500)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//com.sun.proxy.$Proxy189.getInstrPublishing(Unknown Source)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//hk.xxx.slis.controller.AdminPublishController.publish(AdminPublishController.java:262)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:155)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:94)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//hk.xxx.slis.security.WebSEALAuthenticationFilter.doFilter(WebSEALAuthenticationFilter.java:101)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n    \tat deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    \tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.server.handlers.MetricsHandler.handleRequest(MetricsHandler.java:64)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.MetricsChainHandler.handleRequest(MetricsChainHandler.java:59)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n    \tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n    \tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n    \tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n    \tat org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n    \tat io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n    \tat io.undertow.core@2.2.5.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    \tat org.jboss.xnio@3.8.4.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n","title":"if use session.get(String entityName, Serializable id), Unable to locate persister, but if use session.get(Class clazz, Serializable id), no problem","body":"<p>if use</p>\n<pre><code>session.get(String entityName, Serializable id), \n</code></pre>\n<p>return UnknownEntityTypeException: Unable to locate persister error,</p>\n<p>but if use</p>\n<pre><code>session.get(Class clazz, Serializable id), \n</code></pre>\n<p>no error.\nI google similar error and most mention the cause is missing the mapping class in hibernate.cfg.xml or missing @Entity annotation in POJO class, but I check that I have all entered, so why still have &quot;Unable to locate persister&quot; error?</p>\n<p>the code and setting is as follow:</p>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        .....\n        &lt;mapping class=&quot;hk.xxx.slis.model.SliInstrPublishing&quot; /&gt;\n    .....\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>POJO class</p>\n<pre><code>package hk.xxx.slis.model;\n// Generated 19 Nov 2023, 1:53:51 am by Hibernate Tools 4.3.6.Final\n\nimport java.util.Date;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.OneToOne;\nimport javax.persistence.PrimaryKeyJoinColumn;\nimport javax.persistence.Table;\nimport javax.persistence.Temporal;\nimport javax.persistence.TemporalType;\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Parameter;\n\n/**\n * SliInstrPublishing generated by hbm2java\n */\n@Entity\n@Table(name = &quot;SLI_INSTR_PUBLISHING&quot;)\npublic class SliInstrPublishing implements java.io.Serializable {\n\n    private long instrKey;\n    private SliInstr sliInstr;\n    private String lastRecTxnUserId;\n    private Date lastRecTxnDate;\n\n    public SliInstrPublishing() {\n    }\n\n    public SliInstrPublishing(SliInstr sliInstr, String lastRecTxnUserId, Date lastRecTxnDate) {\n        this.sliInstr = sliInstr;\n        this.lastRecTxnUserId = lastRecTxnUserId;\n        this.lastRecTxnDate = lastRecTxnDate;\n    }\n\n    @GenericGenerator(name = &quot;generator&quot;, strategy = &quot;foreign&quot;, parameters = @Parameter(name = &quot;property&quot;, value = &quot;sliInstr&quot;))\n    @Id\n    @GeneratedValue(generator = &quot;generator&quot;)\n\n    @Column(name = &quot;INSTR_KEY&quot;, unique = true, nullable = false, precision = 10, scale = 0)\n    public long getInstrKey() {\n        return this.instrKey;\n    }\n\n    public void setInstrKey(long instrKey) {\n        this.instrKey = instrKey;\n    }\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @PrimaryKeyJoinColumn\n    public SliInstr getSliInstr() {\n        return this.sliInstr;\n    }\n\n    public void setSliInstr(SliInstr sliInstr) {\n        this.sliInstr = sliInstr;\n    }\n\n    @Column(name = &quot;LAST_REC_TXN_USER_ID&quot;, nullable = false, length = 32)\n    public String getLastRecTxnUserId() {\n        return this.lastRecTxnUserId;\n    }\n\n    public void setLastRecTxnUserId(String lastRecTxnUserId) {\n        this.lastRecTxnUserId = lastRecTxnUserId;\n    }\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;LAST_REC_TXN_DATE&quot;, nullable = false, length = 11)\n    public Date getLastRecTxnDate() {\n        return this.lastRecTxnDate;\n    }\n\n    public void setLastRecTxnDate(Date lastRecTxnDate) {\n        this.lastRecTxnDate = lastRecTxnDate;\n    }\n\n}\n</code></pre>\n<p>ApplicationContext.xml</p>\n<pre><code>&lt;!-- Configuring SessionFactory Bean --&gt;\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;hk.xxx.slis.model&quot; /&gt;\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:hibernate.cfg.xml&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>calling code</p>\n<pre><code>public SliInstrPublishing findById(Long id) {\n        log.debug(&quot;getting SliInstrPublishing instance with id: &quot; + id);\n        try {\n            //SliInstrPublishing instance = (SliInstrPublishing) this.getHibernateSession()\n                    //.get(SliInstrPublishing.class, id);\n            SliInstrPublishing instance = (SliInstrPublishing) this.getHibernateSession()\n                    .get(&quot;SliInstrPublishing&quot;, id);  // &lt;-- error here\n            if (instance == null) {\n                log.debug(&quot;get successful, no instance found&quot;);\n            } else {\n                log.debug(&quot;get successful, instance found&quot;);\n            }\n            return instance;\n        } catch (RuntimeException re) {\n            log.error(&quot;get failed&quot;, re);\n            throw re;\n        }\n    }\n</code></pre>\n<p>StackTrace</p>\n<pre><code>11:20:35,411 ERROR [hk.xxx.slis.dao.SliInstrPublishingDao] (default task-5) get failed: org.hibernate.UnknownEntityTypeException: Unable to locate persister: SliInstrPublishing\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.metamodel.internal.MetamodelImpl.locateEntityPersister(MetamodelImpl.java:731)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl.locateEntityPersister(SessionImpl.java:3060)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl.access$1700(SessionImpl.java:210)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2781)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2768)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1218)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.hibernate.internal.SessionImpl.get(SessionImpl.java:1101)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//hk.xxx.slis.dao.SliInstrPublishingDao.findById(SliInstrPublishingDao.java:91)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//com.sun.proxy.$Proxy174.findById(Unknown Source)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//hk.xxx.slis.service.PublishService.getInstrPublishing(PublishService.java:1500)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:56)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//com.sun.proxy.$Proxy189.getInstrPublishing(Unknown Source)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//hk.xxx.slis.controller.AdminPublishController.publish(AdminPublishController.java:262)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:523)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:155)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:94)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//hk.xxx.slis.security.WebSEALAuthenticationFilter.doFilter(WebSEALAuthenticationFilter.java:101)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at deployment.SLISEAR-0.0.1-SNAPSHOT.ear.SLIS-0.0.1-SNAPSHOT.war//org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n    at io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.2.5.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.core@2.2.5.Final//io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n    at io.undertow.core@2.2.5.Final//io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n    at io.undertow.core@2.2.5.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n    at io.undertow.core@2.2.5.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.2.5.Final//io.undertow.server.handlers.MetricsHandler.handleRequest(MetricsHandler.java:64)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.MetricsChainHandler.handleRequest(MetricsChainHandler.java:59)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n    at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n    at io.undertow.core@2.2.5.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.core@2.2.5.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.jboss.xnio@3.8.4.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa","hibernate-mapping","nativequery"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1700634169,"post_id":77527583,"comment_id":136677220,"body_markdown":"Use `createNativeQuery` instead of `createQuery`, so it would be `Query query = entityManager.createNativeQuery(`","body":"Use <code>createNativeQuery</code> instead of <code>createQuery</code>, so it would be <code>Query query = entityManager.createNativeQuery(</code>"},{"owner":{"account_id":25938946,"reputation":13,"user_id":19658750,"display_name":"BlazinglyFast"},"score":0,"creation_date":1700643386,"post_id":77527583,"comment_id":136678622,"body_markdown":"Surprisingly, this simple change worked! Many thanks @ArunSudhakaran! Please write this as answer so I can accept it.","body":"Surprisingly, this simple change worked! Many thanks @ArunSudhakaran! Please write this as answer so I can accept it."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1700652774,"post_id":77527583,"comment_id":136680361,"body_markdown":"Are you sure resident &lt;-&gt; vehicle is many to many? In my country, by law, it&#39;s one to many, ie vehicles have one owner.","body":"Are you sure resident &lt;-&gt; vehicle is many to many? In my country, by law, it&#39;s one to many, ie vehicles have one owner."},{"owner":{"account_id":25938946,"reputation":13,"user_id":19658750,"display_name":"BlazinglyFast"},"score":0,"creation_date":1700685147,"post_id":77527583,"comment_id":136686322,"body_markdown":"@Bohemian Interestingly, yeah! We can have joint owners for a vehicle. A major case for this is when a car is financed, the name of the financer is also mentioned in the registration documents, giving them equal rights, that&#39;s why Many to many.","body":"@Bohemian Interestingly, yeah! We can have joint owners for a vehicle. A major case for this is when a car is financed, the name of the financer is also mentioned in the registration documents, giving them equal rights, that&#39;s why Many to many."}],"answers":[{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700647652,"creation_date":1700647652,"answer_id":77528973,"question_id":77527583,"body_markdown":"The issue is with this line\r\n\r\n    Query query = entityManager.createQuery(&quot;select vehicle_id from vehicle_currencies where vehicle_id = &#39;&lt;some-id&gt;&#39;);\r\n\r\nYou are trying to run a `native query` and since you don&#39;t have any mapping for the intermediate table this is the only way. But when we want to run a native query we should use the `createNativeQuery` method inside the `EntityManager`.\r\n\r\nThe `createQuery` method is used for `HQL` queries for which mapping is required for all the specified tables and that&#39;s why you got this issue \r\n\r\n    org.hibernate.hql.internal.ast.QuerySyntaxException: resident_vehicles is not mapped\r\n\r\nLinks you can refer for detailed explanations\r\n\r\n 1. https://stackoverflow.com/questions/33798493/jpas-entitymanager-createquery-vs-createnamedquery-vs-createnativequery\r\n 2. https://stackoverflow.com/questions/13288416/why-do-we-need-to-create-native-query\r\n 3. https://stackoverflow.com/questions/2110809/use-of-entitymanager-createnativequeryquery-foo-class","title":"How to perform a Native query on a table which is not present as a class?","body":"<p>The issue is with this line</p>\n<pre><code>Query query = entityManager.createQuery(&quot;select vehicle_id from vehicle_currencies where vehicle_id = '&lt;some-id&gt;');\n</code></pre>\n<p>You are trying to run a <code>native query</code> and since you don't have any mapping for the intermediate table this is the only way. But when we want to run a native query we should use the <code>createNativeQuery</code> method inside the <code>EntityManager</code>.</p>\n<p>The <code>createQuery</code> method is used for <code>HQL</code> queries for which mapping is required for all the specified tables and that's why you got this issue</p>\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: resident_vehicles is not mapped\n</code></pre>\n<p>Links you can refer for detailed explanations</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/33798493/jpas-entitymanager-createquery-vs-createnamedquery-vs-createnativequery\">JPA&#39;s EntityManager createQuery() vs createNamedQuery() vs createNativeQuery()</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13288416/why-do-we-need-to-create-native-query\">Why do we need to create native query?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2110809/use-of-entitymanager-createnativequeryquery-foo-class\">use of entityManager.createNativeQuery(query,foo.class)</a></li>\n</ol>\n"}],"owner":{"account_id":25938946,"reputation":13,"user_id":19658750,"display_name":"BlazinglyFast"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77528973,"answer_count":1,"score":1,"last_activity_date":1700648637,"creation_date":1700632157,"question_id":77527583,"body_markdown":"I have two Tables in my Application - `Resident` and `Vehicle`, which look like this:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;resident&quot;)\r\npublic class Resident {\r\n\r\n    @Id                     // PKey\r\n    private String id;\r\n\r\n    private Vehicle primaryVehicle;\r\n\r\n    @ManyToMany\r\n    private List&lt;Vehicle&gt; vehicles; \r\n\r\n    ...\r\n}   \r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;vehicle&quot;)\r\npublic class Vehicle {\r\n\r\n    @Id                     // PKey\r\n    private String id;\r\n\r\n    private String model;\r\n\r\n    ...\r\n}   \r\n```\r\n\r\nThis has caused 3 tables created in my Postgres database:\r\n\r\n```\r\nresident\r\nvehicle\r\nresident_vehicles\r\n```\r\n\r\nSo this extra table `resident_vehicles` has been created automatically, there is no class for that table in my codebase.\r\n\r\nI have a complex query which requires me to call this table using native query. A simplified query for example would be:\r\n```\r\nselect vehicle_id from vehicle_currencies where vehicle_id = &#39;&lt;some-id&gt;&#39;\r\n```\r\nPlease note that this query is a simplified version of what I want to do. My SQL queries are more complex, and most importantly dynamically generated at runtime. Using jpa repository methods are very difficult with the dynamic behaviour I have.\r\n\r\n\r\nI am using Java&#39;s Native query for my purpose, like this:\r\n\r\n```\r\nQuery query = entityManager.createQuery(&quot;select vehicle_id from vehicle_currencies where vehicle_id = &#39;&lt;some-id&gt;&#39;\r\n\r\nList result = query.getResultList();\r\n...\r\n```\r\n\r\nHowever, this is causing the error: \r\n```\r\norg.hibernate.hql.internal.ast.QuerySyntaxException: resident_vehicles is not mapped\r\n\tat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:170) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:91) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:77) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:334) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3782) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3671) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n...\r\n```\r\n\r\nHow do I solve this error? ","title":"How to perform a Native query on a table which is not present as a class?","body":"<p>I have two Tables in my Application - <code>Resident</code> and <code>Vehicle</code>, which look like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;resident&quot;)\npublic class Resident {\n\n    @Id                     // PKey\n    private String id;\n\n    private Vehicle primaryVehicle;\n\n    @ManyToMany\n    private List&lt;Vehicle&gt; vehicles; \n\n    ...\n}   \n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;vehicle&quot;)\npublic class Vehicle {\n\n    @Id                     // PKey\n    private String id;\n\n    private String model;\n\n    ...\n}   \n</code></pre>\n<p>This has caused 3 tables created in my Postgres database:</p>\n<pre><code>resident\nvehicle\nresident_vehicles\n</code></pre>\n<p>So this extra table <code>resident_vehicles</code> has been created automatically, there is no class for that table in my codebase.</p>\n<p>I have a complex query which requires me to call this table using native query. A simplified query for example would be:</p>\n<pre><code>select vehicle_id from vehicle_currencies where vehicle_id = '&lt;some-id&gt;'\n</code></pre>\n<p>Please note that this query is a simplified version of what I want to do. My SQL queries are more complex, and most importantly dynamically generated at runtime. Using jpa repository methods are very difficult with the dynamic behaviour I have.</p>\n<p>I am using Java's Native query for my purpose, like this:</p>\n<pre><code>Query query = entityManager.createQuery(&quot;select vehicle_id from vehicle_currencies where vehicle_id = '&lt;some-id&gt;'\n\nList result = query.getResultList();\n...\n</code></pre>\n<p>However, this is causing the error:</p>\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: resident_vehicles is not mapped\n    at org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:170) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:91) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:77) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:334) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3782) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3671) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n...\n</code></pre>\n<p>How do I solve this error?</p>\n"},{"tags":["java","wsdl","cxf","unmarshalling","onvif"],"comments":[{"owner":{"account_id":383570,"reputation":546,"user_id":739506,"accept_rate":50,"display_name":"JPh"},"score":0,"creation_date":1700578574,"post_id":61503375,"comment_id":136670293,"body_markdown":"Did you find an answer? I&#39;m trying to parse a NotificationMessageHolderType I got from PullMessages() and also wondering if there is a way to deserialise into a auto-generated type or if I need to parse it myself?","body":"Did you find an answer? I&#39;m trying to parse a NotificationMessageHolderType I got from PullMessages() and also wondering if there is a way to deserialise into a auto-generated type or if I need to parse it myself?"},{"owner":{"account_id":4134675,"reputation":461,"user_id":3391574,"accept_rate":75,"display_name":"Manticore"},"score":0,"creation_date":1700647562,"post_id":61503375,"comment_id":136679352,"body_markdown":"I totally forgot about this thread ;) I rechecked my code and posted a reply. Hope that helps. (I don&#39;t remember all the details and I have a lot of auto-generated code for this one... so maybe you need to adapt a little bit). But the trick with the reflection should still work correctly. (If there&#39;s no change in the new version of Onvif wsdl files)","body":"I totally forgot about this thread ;) I rechecked my code and posted a reply. Hope that helps. (I don&#39;t remember all the details and I have a lot of auto-generated code for this one... so maybe you need to adapt a little bit). But the trick with the reflection should still work correctly. (If there&#39;s no change in the new version of Onvif wsdl files)"}],"answers":[{"tags":[],"owner":{"account_id":4134675,"reputation":461,"user_id":3391574,"accept_rate":75,"display_name":"Manticore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700647415,"creation_date":1700647415,"answer_id":77528950,"question_id":61503375,"body_markdown":"I have found one working (if not elegant) solution\r\n\r\n**Use with caution this is an implementation of 3 years old Onvif WSDL files.**\r\n\r\nFetching messages : \r\n\r\n    private List&lt;NotificationMessageHolderType&gt; fetchNotifications(final PullPointSubscription pullPointSubscription) {\r\n        try {\r\n            return pullPointSubscription.pullMessages(pullMessages).getNotificationMessage();\r\n        } catch (PullMessagesFaultResponse_Exception e) {\r\n            // TODO your error handling...\r\n            return Lists.newArrayList();\r\n        }\r\n    }\r\n\r\n\r\nThen I use this EventParser : \r\n\r\n\r\n    import ch.swissdotnet.onvif.events.entities.OnvifEvent;\r\n    import org.oasis_open.docs.wsn.b_2.NotificationMessageHolderType;\r\n    import org.onvif.ver10.schema.Message;\r\n    import org.reflections.Reflections;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.w3c.dom.Node;\r\n    \r\n    import javax.xml.bind.JAXBContext;\r\n    import javax.xml.bind.JAXBException;\r\n    import javax.xml.bind.Unmarshaller;\r\n    import java.lang.reflect.Constructor;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.util.Optional;\r\n    import java.util.Set;\r\n    \r\n    public class EventParser {\r\n    \r\n        public static final Logger LOG = LoggerFactory.getLogger(EventParser.class);\r\n    \r\n        private final Unmarshaller um2;\r\n        private final Set&lt;Class&lt;? extends OnvifEvent&gt;&gt; events;\r\n    \r\n        public EventParser(final String eventPackage) throws JAXBException {\r\n            Reflections reflections = new Reflections(eventPackage);\r\n            this.events = reflections.getSubTypesOf(OnvifEvent.class);\r\n            this.um2 = JAXBContext.newInstance(Message.class).createUnmarshaller();\r\n        }\r\n    \r\n        public Optional&lt;? extends OnvifEvent&gt; parse(final NotificationMessageHolderType notificationMessageHolderType) {\r\n            try {\r\n                String topic = ((String) notificationMessageHolderType.getTopic().getContent().get(0));\r\n                Message message = unmarshallToMessage(notificationMessageHolderType);\r\n                return getEvent(message, topic);\r\n    \r\n            } catch (Exception e) {\r\n                LOG.error(&quot;Receive not understandable event case [{}] message [{}]&quot;, e.getCause(), e.getMessage(), e);\r\n                return Optional.empty();\r\n            }\r\n        }\r\n    \r\n        private Optional&lt;? extends OnvifEvent&gt; getEvent(final Message message, final String topic) throws Exception {\r\n            for (Class&lt;? extends OnvifEvent&gt; event : events) {\r\n    \r\n                EventTopic annotatedTopic = event.getDeclaredAnnotation(EventTopic.class);\r\n                if (topic.equals(annotatedTopic.topic())) {\r\n                    try {\r\n                        Constructor&lt;? extends OnvifEvent&gt; constructor = event.getConstructor(Message.class);\r\n                        return Optional.of(constructor.newInstance(message));\r\n                    } catch (InstantiationException | IllegalAccessException | InvocationTargetException | NoSuchMethodException e) {\r\n                        throw new Exception(&quot;Invalid Onvif event&quot;, e);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return Optional.empty();\r\n        }\r\n    \r\n        private Message unmarshallToMessage(NotificationMessageHolderType notification) throws JAXBException {\r\n            Node node = (Node) notification.getMessage().getAny();\r\n            return (org.onvif.ver10.schema.Message) um2.unmarshal(node);\r\n        }\r\n    }\r\n\r\nThe ugly come now with checking for every kind of event with instance of (this is just a demo with DoorAlarm).\r\n\r\n    public void onEvent(final OnvifEvent event) {\r\n        if (event instanceof DoorAlarm) {\r\n            var alarmEvent = (DoorAlarm) event;\r\n            List&lt;DoorEventCallback&gt; listeners = mapListenersByDoor(alarmEvent.getSourceDoorAlarm().getDoorToken());\r\n            listeners.forEach(listener -&gt; listener.onAlarm(alarmEvent));\r\n            return;\r\n        }\r\n\r\n\r\n\r\n...","title":"Onvif - parsing event notification from WS-BaseNotification","body":"<p>I have found one working (if not elegant) solution</p>\n<p><strong>Use with caution this is an implementation of 3 years old Onvif WSDL files.</strong></p>\n<p>Fetching messages :</p>\n<pre><code>private List&lt;NotificationMessageHolderType&gt; fetchNotifications(final PullPointSubscription pullPointSubscription) {\n    try {\n        return pullPointSubscription.pullMessages(pullMessages).getNotificationMessage();\n    } catch (PullMessagesFaultResponse_Exception e) {\n        // TODO your error handling...\n        return Lists.newArrayList();\n    }\n}\n</code></pre>\n<p>Then I use this EventParser :</p>\n<pre><code>import ch.swissdotnet.onvif.events.entities.OnvifEvent;\nimport org.oasis_open.docs.wsn.b_2.NotificationMessageHolderType;\nimport org.onvif.ver10.schema.Message;\nimport org.reflections.Reflections;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.w3c.dom.Node;\n\nimport javax.xml.bind.JAXBContext;\nimport javax.xml.bind.JAXBException;\nimport javax.xml.bind.Unmarshaller;\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.InvocationTargetException;\nimport java.util.Optional;\nimport java.util.Set;\n\npublic class EventParser {\n\n    public static final Logger LOG = LoggerFactory.getLogger(EventParser.class);\n\n    private final Unmarshaller um2;\n    private final Set&lt;Class&lt;? extends OnvifEvent&gt;&gt; events;\n\n    public EventParser(final String eventPackage) throws JAXBException {\n        Reflections reflections = new Reflections(eventPackage);\n        this.events = reflections.getSubTypesOf(OnvifEvent.class);\n        this.um2 = JAXBContext.newInstance(Message.class).createUnmarshaller();\n    }\n\n    public Optional&lt;? extends OnvifEvent&gt; parse(final NotificationMessageHolderType notificationMessageHolderType) {\n        try {\n            String topic = ((String) notificationMessageHolderType.getTopic().getContent().get(0));\n            Message message = unmarshallToMessage(notificationMessageHolderType);\n            return getEvent(message, topic);\n\n        } catch (Exception e) {\n            LOG.error(&quot;Receive not understandable event case [{}] message [{}]&quot;, e.getCause(), e.getMessage(), e);\n            return Optional.empty();\n        }\n    }\n\n    private Optional&lt;? extends OnvifEvent&gt; getEvent(final Message message, final String topic) throws Exception {\n        for (Class&lt;? extends OnvifEvent&gt; event : events) {\n\n            EventTopic annotatedTopic = event.getDeclaredAnnotation(EventTopic.class);\n            if (topic.equals(annotatedTopic.topic())) {\n                try {\n                    Constructor&lt;? extends OnvifEvent&gt; constructor = event.getConstructor(Message.class);\n                    return Optional.of(constructor.newInstance(message));\n                } catch (InstantiationException | IllegalAccessException | InvocationTargetException | NoSuchMethodException e) {\n                    throw new Exception(&quot;Invalid Onvif event&quot;, e);\n                }\n            }\n        }\n\n        return Optional.empty();\n    }\n\n    private Message unmarshallToMessage(NotificationMessageHolderType notification) throws JAXBException {\n        Node node = (Node) notification.getMessage().getAny();\n        return (org.onvif.ver10.schema.Message) um2.unmarshal(node);\n    }\n}\n</code></pre>\n<p>The ugly come now with checking for every kind of event with instance of (this is just a demo with DoorAlarm).</p>\n<pre><code>public void onEvent(final OnvifEvent event) {\n    if (event instanceof DoorAlarm) {\n        var alarmEvent = (DoorAlarm) event;\n        List&lt;DoorEventCallback&gt; listeners = mapListenersByDoor(alarmEvent.getSourceDoorAlarm().getDoorToken());\n        listeners.forEach(listener -&gt; listener.onAlarm(alarmEvent));\n        return;\n    }\n</code></pre>\n<p>...</p>\n"}],"owner":{"account_id":4134675,"reputation":461,"user_id":3391574,"accept_rate":75,"display_name":"Manticore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77528950,"answer_count":1,"score":1,"last_activity_date":1700647415,"creation_date":1588168167,"question_id":61503375,"body_markdown":"I am currently implementing an event handler for Onvif. But I am totally lost with the unmarshalling process of the WS-BaseNotification.\r\n\r\n1. How can I understand / parse the NotificationMessageHolderType to the onvif event implementation ?\r\n\r\n2. I suppose the ws-basenotification have a method to map the &quot;generic&quot; message with a custom implementation. Where is the link / information to the schema to use ? \r\n\r\n\r\n**My test code** : endpoint subscriber\r\n\r\n    private W3CEndpointReference subscribe(final FilterType filterType) {\r\n        try {\r\n            CreatePullPointSubscription parameters = new CreatePullPointSubscription();\r\n            parameters.setFilter(filterType);\r\n            CreatePullPointSubscriptionResponse pullPointSubscription = onvifDevice.getEventPort().createPullPointSubscription(parameters);\r\n            return pullPointSubscription.getSubscriptionReference();\r\n\r\n        } catch (TopicNotSupportedFault | InvalidMessageContentExpressionFault | InvalidProducerPropertiesExpressionFault | InvalidTopicExpressionFault | TopicExpressionDialectUnknownFault | UnacceptableInitialTerminationTimeFault | NotifyMessageNotSupportedFault | ResourceUnknownFault | UnsupportedPolicyRequestFault | InvalidFilterFault | SubscribeCreationFailedFault | UnrecognizedPolicyRequestFault topicNotSupportedFault) {\r\n            topicNotSupportedFault.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\nAnd I can receive the notifications and unmarshall them to a org.onvif.ver10.schema.Message.class :\r\n\r\n**Receive notification**\r\n\r\n    PullMessagesResponse pullMessagesResponse = pullPointSubscription.pullMessages(pullMessages);\r\n    List&lt;NotificationMessageHolderType&gt; notificationMessage = pullMessagesResponse.getNotificationMessage();\r\n\r\n    // Some test to have understandable data.\r\n    TopicExpressionType topic = notificationMessage.get(0).getTopic();\r\n    JAXBContext context = JAXBContext.newInstance(org.onvif.ver10.schema.Message.class, AccessPointState.class);\r\n    Unmarshaller um = context.createUnmarshaller();\r\n    Object response = (Object)um.unmarshal((Node)node);\r\n\r\n\r\n**Example**\r\n\r\nPullMessagesResponse sent by the device (wireshark capture) : \r\n\r\n    &lt;tev:PullMessagesResponse&gt;\r\n    \t&lt;tev:CurrentTime&gt;2020-04-29T11:41:52Z&lt;/tev:CurrentTime&gt;\r\n    \t&lt;tev:TerminationTime&gt;2020-04-29T11:46:51Z&lt;/tev:TerminationTime&gt;\r\n    \t&lt;wsnt:NotificationMessage&gt;\r\n    \t\t&lt;wsnt:Topic Dialect=&quot;http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple&quot;&gt;tns1:AccessPoint/State/Enabled&lt;/wsnt:Topic&gt;\r\n    \t\t&lt;wsnt:ProducerReference&gt;\r\n    \t\t\t&lt;wsa5:Address&gt;uri://5581ad80-95b0-11e0-b883-accc8e251272/ProducerReference&lt;/wsa5:Address&gt;\r\n    \t\t&lt;/wsnt:ProducerReference&gt;\r\n    \t\t&lt;wsnt:Message&gt;\r\n    \t\t\t&lt;tt:Message UtcTime=&quot;2020-04-23T15:21:26.924984Z&quot; PropertyOperation=&quot;Initialized&quot;&gt;\r\n    \t\t\t\t&lt;tt:Source&gt;\r\n    \t\t\t\t\t&lt;tt:SimpleItem Name=&quot;AccessPointToken&quot; Value=&quot;Axis-accc8e251272:1584710973.159018000&quot;&gt;&lt;/tt:SimpleItem&gt;\r\n    \t\t\t\t\t&lt;tt:SimpleItem Name=&quot;Device Source&quot; Value=&quot;5581ad80-95b0-11e0-b883-accc8e251272&quot;&gt;&lt;/tt:SimpleItem&gt;\r\n    \t\t\t\t&lt;/tt:Source&gt;\r\n    \t\t\t\t&lt;tt:Key&gt;&lt;/tt:Key&gt;\r\n    \t\t\t\t&lt;tt:Data&gt;\r\n    \t\t\t\t\t&lt;tt:SimpleItem Name=&quot;State&quot; Value=&quot;1&quot;&gt;&lt;/tt:SimpleItem&gt;\r\n    \t\t\t\t&lt;/tt:Data&gt;\r\n    \t\t\t&lt;/tt:Message&gt;\r\n    \t\t&lt;/wsnt:Message&gt;\r\n    \t&lt;/wsnt:NotificationMessage&gt;\r\n    &lt;/tev:PullMessagesResponse&gt;\r\n\r\nThen the unmarshalling result to a onvif.message : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Annexe**\r\n\r\nThe [Onvif-core-specification manual](https://www.onvif.org/specs/core/ONVIF-Core-Specification.pdf) says (p106): \r\n\r\n    A notification answers the following questions: \r\n     When did it happen?\r\n     Who produced the event? \r\n     What happened? \r\n    \r\n     ... text ommited \r\n\r\n    The what question is answered in two steps. First, the Topic element of the NotificationMessage is used to categorize the Event. Second, items are added to the Data element of the Message container in order to describe the details of the Event.\r\n\r\nSo I suppose the topics of my previous example &quot;tns1:AccessPoint/State/Enabled&quot; must be mapped to a type ? But I cannot found the description of this structure, and secondly I was hoping this mapping to be done automatically during the generation from the wsdl files. \r\n\r\nThe [profile C - onvif documentation](https://www.onvif.org/wp-content/uploads/2017/01/2013_12_ONVIF_Profile_C_Specification_v1-0.pdf) describe all the existings topics for my device, but there is no description of the content of this notifications...\r\n\r\n**Updated**\r\nApparently the request : GetEventPropertiesResponse return the attributes present in each topics. So I am looking to found a way to generated the &quot;object&quot; from this description.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThanks for helping\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NqeNv.png\r\n  [2]: https://i.stack.imgur.com/uMYzh.png","title":"Onvif - parsing event notification from WS-BaseNotification","body":"<p>I am currently implementing an event handler for Onvif. But I am totally lost with the unmarshalling process of the WS-BaseNotification.</p>\n\n<ol>\n<li><p>How can I understand / parse the NotificationMessageHolderType to the onvif event implementation ?</p></li>\n<li><p>I suppose the ws-basenotification have a method to map the \"generic\" message with a custom implementation. Where is the link / information to the schema to use ? </p></li>\n</ol>\n\n<p><strong>My test code</strong> : endpoint subscriber</p>\n\n<pre><code>private W3CEndpointReference subscribe(final FilterType filterType) {\n    try {\n        CreatePullPointSubscription parameters = new CreatePullPointSubscription();\n        parameters.setFilter(filterType);\n        CreatePullPointSubscriptionResponse pullPointSubscription = onvifDevice.getEventPort().createPullPointSubscription(parameters);\n        return pullPointSubscription.getSubscriptionReference();\n\n    } catch (TopicNotSupportedFault | InvalidMessageContentExpressionFault | InvalidProducerPropertiesExpressionFault | InvalidTopicExpressionFault | TopicExpressionDialectUnknownFault | UnacceptableInitialTerminationTimeFault | NotifyMessageNotSupportedFault | ResourceUnknownFault | UnsupportedPolicyRequestFault | InvalidFilterFault | SubscribeCreationFailedFault | UnrecognizedPolicyRequestFault topicNotSupportedFault) {\n        topicNotSupportedFault.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n\n<p>And I can receive the notifications and unmarshall them to a org.onvif.ver10.schema.Message.class :</p>\n\n<p><strong>Receive notification</strong></p>\n\n<pre><code>PullMessagesResponse pullMessagesResponse = pullPointSubscription.pullMessages(pullMessages);\nList&lt;NotificationMessageHolderType&gt; notificationMessage = pullMessagesResponse.getNotificationMessage();\n\n// Some test to have understandable data.\nTopicExpressionType topic = notificationMessage.get(0).getTopic();\nJAXBContext context = JAXBContext.newInstance(org.onvif.ver10.schema.Message.class, AccessPointState.class);\nUnmarshaller um = context.createUnmarshaller();\nObject response = (Object)um.unmarshal((Node)node);\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<p>PullMessagesResponse sent by the device (wireshark capture) : </p>\n\n<pre><code>&lt;tev:PullMessagesResponse&gt;\n    &lt;tev:CurrentTime&gt;2020-04-29T11:41:52Z&lt;/tev:CurrentTime&gt;\n    &lt;tev:TerminationTime&gt;2020-04-29T11:46:51Z&lt;/tev:TerminationTime&gt;\n    &lt;wsnt:NotificationMessage&gt;\n        &lt;wsnt:Topic Dialect=\"http://docs.oasis-open.org/wsn/t-1/TopicExpression/Simple\"&gt;tns1:AccessPoint/State/Enabled&lt;/wsnt:Topic&gt;\n        &lt;wsnt:ProducerReference&gt;\n            &lt;wsa5:Address&gt;uri://5581ad80-95b0-11e0-b883-accc8e251272/ProducerReference&lt;/wsa5:Address&gt;\n        &lt;/wsnt:ProducerReference&gt;\n        &lt;wsnt:Message&gt;\n            &lt;tt:Message UtcTime=\"2020-04-23T15:21:26.924984Z\" PropertyOperation=\"Initialized\"&gt;\n                &lt;tt:Source&gt;\n                    &lt;tt:SimpleItem Name=\"AccessPointToken\" Value=\"Axis-accc8e251272:1584710973.159018000\"&gt;&lt;/tt:SimpleItem&gt;\n                    &lt;tt:SimpleItem Name=\"Device Source\" Value=\"5581ad80-95b0-11e0-b883-accc8e251272\"&gt;&lt;/tt:SimpleItem&gt;\n                &lt;/tt:Source&gt;\n                &lt;tt:Key&gt;&lt;/tt:Key&gt;\n                &lt;tt:Data&gt;\n                    &lt;tt:SimpleItem Name=\"State\" Value=\"1\"&gt;&lt;/tt:SimpleItem&gt;\n                &lt;/tt:Data&gt;\n            &lt;/tt:Message&gt;\n        &lt;/wsnt:Message&gt;\n    &lt;/wsnt:NotificationMessage&gt;\n&lt;/tev:PullMessagesResponse&gt;\n</code></pre>\n\n<p>Then the unmarshalling result to a onvif.message : </p>\n\n<p><a href=\"https://i.stack.imgur.com/NqeNv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NqeNv.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Annexe</strong></p>\n\n<p>The <a href=\"https://www.onvif.org/specs/core/ONVIF-Core-Specification.pdf\" rel=\"nofollow noreferrer\">Onvif-core-specification manual</a> says (p106): </p>\n\n<pre><code>A notification answers the following questions: \n When did it happen?\n Who produced the event? \n What happened? \n\n ... text ommited \n\nThe what question is answered in two steps. First, the Topic element of the NotificationMessage is used to categorize the Event. Second, items are added to the Data element of the Message container in order to describe the details of the Event.\n</code></pre>\n\n<p>So I suppose the topics of my previous example \"tns1:AccessPoint/State/Enabled\" must be mapped to a type ? But I cannot found the description of this structure, and secondly I was hoping this mapping to be done automatically during the generation from the wsdl files. </p>\n\n<p>The <a href=\"https://www.onvif.org/wp-content/uploads/2017/01/2013_12_ONVIF_Profile_C_Specification_v1-0.pdf\" rel=\"nofollow noreferrer\">profile C - onvif documentation</a> describe all the existings topics for my device, but there is no description of the content of this notifications...</p>\n\n<p><strong>Updated</strong>\nApparently the request : GetEventPropertiesResponse return the attributes present in each topics. So I am looking to found a way to generated the \"object\" from this description.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uMYzh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uMYzh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks for helping</p>\n"},{"tags":["java","email","icalendar"],"comments":[{"owner":{"account_id":194657,"reputation":48162,"user_id":1603351,"display_name":"Eugene Astafiev"},"score":1,"creation_date":1656597951,"post_id":72812057,"comment_id":128616357,"body_markdown":"Try to save an existing event to an ics file and then try to compare them to find any difference between a generated by your code one and saved.","body":"Try to save an existing event to an ics file and then try to compare them to find any difference between a generated by your code one and saved."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1656602105,"post_id":72812057,"comment_id":128618155,"body_markdown":"Compare an email with an ics that Outlook recognizes to the ones you send. You may have to look at the mime structure / plain text of the email.","body":"Compare an email with an ics that Outlook recognizes to the ones you send. You may have to look at the mime structure / plain text of the email."},{"owner":{"account_id":9503831,"reputation":61,"user_id":7064031,"display_name":"Alexandre Nedjari"},"score":0,"creation_date":1657631339,"post_id":72812057,"comment_id":128852584,"body_markdown":"Thanks for your answers, as I said, I&#39;m pretty sure that the ics is OK (If my ics is send from gmail, outlook reconizes it).","body":"Thanks for your answers, as I said, I&#39;m pretty sure that the ics is OK (If my ics is send from gmail, outlook reconizes it)."},{"owner":{"account_id":9503831,"reputation":61,"user_id":7064031,"display_name":"Alexandre Nedjari"},"score":0,"creation_date":1657631501,"post_id":72812057,"comment_id":128852653,"body_markdown":"Thanks for your answer. For the mime structure, I only succed to see it in gmail, not in Outlook. I use this mail structure to write my java code, I edit my question to add informations about this.","body":"Thanks for your answer. For the mime structure, I only succed to see it in gmail, not in Outlook. I use this mail structure to write my java code, I edit my question to add informations about this."}],"answers":[{"tags":[],"owner":{"account_id":13561834,"reputation":325,"user_id":10061532,"display_name":"Konstantin Komissarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669756165,"creation_date":1669756165,"answer_id":74620264,"question_id":72812057,"body_markdown":"I had a similar problem and found a solution in rewriting a `Content-Type` header. I&#39;ve added `method=REQUEST` to this header and after that outlook started recognize my emails as events. \r\n\r\n```\r\nContent-Type: text/calendar; charset=&quot;utf-8&quot;; method=REQUEST\r\n```\r\n\r\nExample of code on python:\r\n\r\n```python3\r\nmsg = MIMEMultipart()\r\nmsg[&#39;Subject&#39;] = &#39;Your event&#39;\r\nmsg[&#39;From&#39;] = &#39;test@test.com&#39;\r\nmsg[&#39;To&#39;] = &#39;test@test.com&#39;\r\n\r\nwith open(&#39;example.ics&#39;) as f:\r\n    event = MIMEText(f.read(), _subtype=&#39;calendar&#39;, _charset=&#39;utf-8&#39;)\r\n    event.replace_header(&#39;Content-Type&#39;, &#39;text/calendar; charset=&quot;utf-8&quot;; method=REQUEST&#39;)\r\n    msg.attach(event)\r\n\r\n\r\ns.send_message(msg)\r\ns.quit()\r\n```","title":"ics file sended to outlook are not reconized as event","body":"<p>I had a similar problem and found a solution in rewriting a <code>Content-Type</code> header. I've added <code>method=REQUEST</code> to this header and after that outlook started recognize my emails as events.</p>\n<pre><code>Content-Type: text/calendar; charset=&quot;utf-8&quot;; method=REQUEST\n</code></pre>\n<p>Example of code on python:</p>\n<pre class=\"lang-py prettyprint-override\"><code>msg = MIMEMultipart()\nmsg['Subject'] = 'Your event'\nmsg['From'] = 'test@test.com'\nmsg['To'] = 'test@test.com'\n\nwith open('example.ics') as f:\n    event = MIMEText(f.read(), _subtype='calendar', _charset='utf-8')\n    event.replace_header('Content-Type', 'text/calendar; charset=&quot;utf-8&quot;; method=REQUEST')\n    msg.attach(event)\n\n\ns.send_message(msg)\ns.quit()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11670806,"reputation":11,"user_id":8545951,"display_name":"E Kwong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700647235,"creation_date":1700647235,"answer_id":77528932,"question_id":72812057,"body_markdown":"For your ics part in eml file,adding a `request` statement is necessary.\r\n\r\nFor your eml file,it may look like:\r\n```bash\r\n...\r\n--00000000000072927505e39b0616\r\nContent-Type: text/calendar; method=REQUEST; charset=&quot;UTF-8&quot;; \r\nContent-Transfer-Encoding: quoted-printable\r\n\r\nBEGIN:VCALENDAR\r\nPRODID:&lt;MYPRODID&gt;\r\nVERSION:2.0\r\nCALSCALE:GREGORIAN\r\nMETHOD:REQUEST\r\nBEGIN:VEVENT\r\nDTSTAMP:20220629T121224Z\r\nSUMMARY:Test Event\r\nDTSTART:20220630T110000Z\r\nDTEND:20220630T130000Z\r\nUID:&lt;MYUID&gt;\r\nSEQUENCE:1656460800\r\nDESCRIPTION:Event body\r\nATTENDEE;ROLE=REQ-PARTICIPANT;PARTSTAT=ACCEPTED;RSVP=FALSE;CN=&lt;MYCN&gt;:mailto:&lt;MYEMAIL&gt;\r\nORGANIZER;CN=&lt;MYORGNAME&gt;:mailto:&lt;MYORGEMAIL&gt;\r\nEND:VEVENT\r\nEND:VCALENDAR\r\n\r\n--00000000000072927505e39b0616\r\n\r\n```\r\n\r\nThe `request` can be `PUBLISH`,`REQUEST`,`REPLY`,`ADD`,`CANCEL`,`REFRESH` or `COUNTER`\r\n\r\nAnd for your Java code,change \r\n```java\r\nfinal DataSource source =\r\n    new ByteArrayDataSource(inputStream,\r\n        &quot;text/calendar; charset=\\&quot;UTF-8\\&quot;; name=\\&quot;vCalendar_5067936453064913847.ics\\&quot;&quot;);\r\n```\r\nto\r\n```java\r\nfinal DataSource source =\r\n    new ByteArrayDataSource(inputStream,\r\n        &quot;text/calendar; method=REQUEST; charset=\\&quot;UTF-8\\&quot;; name=\\&quot;vCalendar_5067936453064913847.ics\\&quot;&quot;);\r\n```\r\n","title":"ics file sended to outlook are not reconized as event","body":"<p>For your ics part in eml file,adding a <code>request</code> statement is necessary.</p>\n<p>For your eml file,it may look like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>...\n--00000000000072927505e39b0616\nContent-Type: text/calendar; method=REQUEST; charset=&quot;UTF-8&quot;; \nContent-Transfer-Encoding: quoted-printable\n\nBEGIN:VCALENDAR\nPRODID:&lt;MYPRODID&gt;\nVERSION:2.0\nCALSCALE:GREGORIAN\nMETHOD:REQUEST\nBEGIN:VEVENT\nDTSTAMP:20220629T121224Z\nSUMMARY:Test Event\nDTSTART:20220630T110000Z\nDTEND:20220630T130000Z\nUID:&lt;MYUID&gt;\nSEQUENCE:1656460800\nDESCRIPTION:Event body\nATTENDEE;ROLE=REQ-PARTICIPANT;PARTSTAT=ACCEPTED;RSVP=FALSE;CN=&lt;MYCN&gt;:mailto:&lt;MYEMAIL&gt;\nORGANIZER;CN=&lt;MYORGNAME&gt;:mailto:&lt;MYORGEMAIL&gt;\nEND:VEVENT\nEND:VCALENDAR\n\n--00000000000072927505e39b0616\n\n</code></pre>\n<p>The <code>request</code> can be <code>PUBLISH</code>,<code>REQUEST</code>,<code>REPLY</code>,<code>ADD</code>,<code>CANCEL</code>,<code>REFRESH</code> or <code>COUNTER</code></p>\n<p>And for your Java code,change</p>\n<pre class=\"lang-java prettyprint-override\"><code>final DataSource source =\n    new ByteArrayDataSource(inputStream,\n        &quot;text/calendar; charset=\\&quot;UTF-8\\&quot;; name=\\&quot;vCalendar_5067936453064913847.ics\\&quot;&quot;);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>final DataSource source =\n    new ByteArrayDataSource(inputStream,\n        &quot;text/calendar; method=REQUEST; charset=\\&quot;UTF-8\\&quot;; name=\\&quot;vCalendar_5067936453064913847.ics\\&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":9503831,"reputation":61,"user_id":7064031,"display_name":"Alexandre Nedjari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1700647235,"creation_date":1656575231,"question_id":72812057,"body_markdown":"I need to develop an application to send events to Gmail / Outlook calendars. Java mail 1.5.5 is used. I did some tests with version 1.6.2, without more success\r\nThe chosen solution is to generate ics files, and send them by email to the target calendars adresses.\r\n\r\nOn Gmail, the email is well recognized as an event email (the email contains the description of the event, the possibility to change the answer, and the event is automatically added to the calendar)\r\n\r\nOn Outlook, the attachment is not recognized as an event (the email just contains the ics file as an attachment, no description or response request, and the event is not automatically added to the calendar) . You must then click on the attachment, then on &quot;Add to calendar&quot; so that the event is created in the calendar\r\n\r\nI found many similar topics on the net, but nothing that helped me solve the problem\r\n\r\nThe problem could come from the ics file or the headers of the mail. The ics file looks good to me: If on gmail, I create a new message, I add my ics as an attachment, and I send it to my Outlook address, the email is well recognized as an event\r\n\r\nHere is the content of the ics file\r\n\r\n\r\n```\r\nBEGIN:VCALENDAR\r\nPRODID:&lt;MYPRODID&gt;\r\nVERSION:2.0\r\nCALSCALE:GREGORIAN\r\nMETHOD:REQUEST\r\nBEGIN:VEVENT\r\nDTSTAMP:20220629T121224Z\r\nSUMMARY:Test Event\r\nDTSTART:20220630T110000Z\r\nDTEND:20220630T130000Z\r\nUID:&lt;MYUID&gt;\r\nSEQUENCE:1656460800\r\nDESCRIPTION:Event body\r\nATTENDEE;ROLE=REQ-PARTICIPANT;PARTSTAT=ACCEPTED;RSVP=FALSE;CN=&lt;MYCN&gt;:mailto:&lt;MYEMAIL&gt;\r\nORGANIZER;CN=&lt;MYORGNAME&gt;:mailto:&lt;MYORGEMAIL&gt;\r\nEND:VEVENT\r\nEND:VCALENDAR\r\n```\r\n\r\nI have some doubt on the headers / mail structure. I find a lot of different things on the internet, but everything I try leads to the same result (the need to open my email in Outlook, to manually import the attachment)\r\n\r\nHere is my java code during the last tests:\r\n```\r\nProperties prop = new Properties();\r\n\r\nprop.put(&quot;mail.mime.charset&quot;, &quot;UTF-8&quot;);\r\nprop.put(&quot;mail.smtp.host&quot;, &quot;&lt;MYHOST&gt;&quot;);\r\nprop.put(&quot;mail.smtp.port&quot;, &quot;&lt;MYPORT&gt;&quot;);\r\nprop.put(&quot;mail.smtp.auth&quot;, Boolean.TRUE.toString());\r\nprop.put(&quot;mail.smtp.user&quot;, &quot;&lt;MYUSER&gt;&quot;);\r\nprop.put(&quot;password&quot;, &quot;&lt;MYPASS&gt;&quot;);\r\n\r\nString from = &quot;&lt;MYORGEMAIL&gt;&quot;;\r\nString to = &quot;&lt;MYEMAIL&gt;&quot;;\r\n\r\nSession session = Session.getInstance(prop, new SMTPAuthenticator(prop));\r\n// Define message\r\nMimeMessage message = new MimeMessage(session);\r\nmessage.addHeader(&quot;method&quot;, &quot;REQUEST&quot;);\r\nmessage.addHeader(&quot;charset&quot;, &quot;UTF-8&quot;);\r\nmessage.addHeader(&quot;component&quot;, &quot;VEVENT&quot;);\r\n\r\nmessage.setFrom(new InternetAddress(from));\r\nmessage.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\nmessage.setSubject(&quot;Outlook Meeting Request Using JavaMail&quot;);\r\n\r\nFile invitation = new File(&quot;&lt;MYFILEPATH&gt;\\\\vCalendar_5067936453064913847.ics&quot;);\r\n\r\nMimeMultipart mixed = new MimeMultipart(&quot;mixed&quot;);\r\n\r\n// Create the message part\r\nMimeMultipart alternative = new MimeMultipart(&quot;alternative&quot;);\r\nMimeBodyPart alternativePart = new MimeBodyPart();\r\nalternativePart.setContent(alternative);\r\nmixed.addBodyPart(alternativePart);\r\nMimeBodyPart plain = new MimeBodyPart();\r\nplain.setText(&quot;body&quot;, &quot;UTF-8&quot;, &quot;plain&quot;);\r\nMimeBodyPart html = new MimeBodyPart();\r\nhtml.setText(&quot;&lt;div dir=\\&quot;ltr\\&quot;&gt;body&lt;/div&gt;&quot;, &quot;UTF-8&quot;, &quot;html&quot;);\r\nalternative.addBodyPart(plain);\r\nalternative.addBodyPart(html);\r\n\r\n// Create the attachment part\r\nBodyPart icsBodyPart = new MimeBodyPart();\r\nicsBodyPart.addHeader(&quot;method&quot;, &quot;REQUEST&quot;);\r\nicsBodyPart.addHeader(&quot;Content-Class&quot;, &quot;urn:content-classes:calendarmessage&quot;);\r\nicsBodyPart.addHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\r\nicsBodyPart.addHeader(&quot;component&quot;, &quot;VEVENT&quot;);\r\nFileInputStream inputStream = new FileInputStream(invitation.getAbsolutePath());\r\nfinal DataSource source =\r\n\tnew ByteArrayDataSource(inputStream,\r\n\t\t&quot;text/calendar; charset=\\&quot;UTF-8\\&quot;; name=\\&quot;vCalendar_5067936453064913847.ics\\&quot;&quot;);\r\nicsBodyPart.setDataHandler(new DataHandler(source));\r\nicsBodyPart.setFileName(invitation.getName());\r\nmixed.addBodyPart(icsBodyPart);\r\n\r\n// Put parts in message\r\nmessage.setContent(mixed);\r\n\r\n// send message\r\nTransport.send(message);\r\n```\r\nTo know how to structure my mime parts, I look to my message structure in my gmail sendbox (the one that is reconized by Outlook) :\r\n```\r\nMIME-Version: 1.0\r\nDate: Tue, 12 Jul 2022 14:44:10 +0200\r\nMessage-ID: &lt;XXXXXXXXXXX@mail.gmail.com&gt;\r\nSubject: Mail title test\r\nFrom: XXXXXXXXXXX &lt;XXXXXXXXXXX@gmail.com&gt;\r\nTo: XXXXXXXXXXX &lt;XXXXXXXXXXX@XXXXXXXXXXX.com&gt;\r\nContent-Type: multipart/mixed; boundary=&quot;00000000000072927505e39b0616&quot;\r\n\r\n--00000000000072927505e39b0616\r\nContent-Type: multipart/alternative; boundary=&quot;00000000000072927005e39b0614&quot;\r\n\r\n--00000000000072927005e39b0614\r\nContent-Type: text/plain; charset=&quot;UTF-8&quot;\r\n\r\nMail content test\r\n\r\n--00000000000072927005e39b0614\r\nContent-Type: text/html; charset=&quot;UTF-8&quot;\r\n\r\n&lt;div dir=&quot;ltr&quot;&gt;Mail content test&lt;br&gt;&lt;/div&gt;\r\n\r\n--00000000000072927005e39b0614--\r\n--00000000000072927505e39b0616\r\nContent-Type: text/calendar; charset=&quot;UTF-8&quot;; name=&quot;vCalendar_5067936453064913847.ics&quot;\r\nContent-Disposition: attachment; filename=&quot;vCalendar_5067936453064913847.ics&quot;\r\nContent-Transfer-Encoding: base64\r\nX-Attachment-Id: f_l4i5zybk0\r\nContent-ID: &lt;f_l4i5zybk0&gt;\r\n\r\nQkVHSU46VkNBTEVOREFSClBST0RJRDpTeWxvYiBudWxsClZFUlNJT046Mi4wCkNBTFNDQUxFOkdS\r\nRUdPUklBTgpXXXXXXXXXXXVRVUVTVApCRUdJTjpWRVZFTlQKRFRTVEFNUDoyMDIyMDYyOVQxMjEy\r\nMjRaClNVTU1BUlk6NSAtIMOJdsOpbmVtZW50IGR1IDI4MDYgw6AgU3lsb2IgZGUgZMOpbW8gCkRU\r\nU1RBUlQ6MjAyMjA2MzBUMTEwMDAwWgpEVEVORDoyMDIyMDYzMFQxMzAwMDBaClVJRDp0ZXN0VWlk\r\nMTY1OTc1QHN5bG9iLmNvbQpTRVFVRU5DRToxNjU2NDYwODAwCkRFU0NSSVBUSU9OOlRlc3QgZGUg\r\nY29ycCBkZSB0ZXh0ZVxuc3VyIHBsdXNpZXVycyBsaWduZXNcLCBhY2NlbnRzIMOgIHRlc3RlcgpB\r\nVFRFTkRFRTtST0xFPVJFUSXXXXXXXXXXXXXOVDtQQVJUU1RBVD1BQ0NFUFRFRDtSU1ZQPUZBTFNF\r\nO0NOPUFsZXhhbmRyZSBORURORUQ6bWFpbHRvOmFsZXgubmVkamFyaUBnbWFpbC5jb20KT1JHQU5J\r\nWkVSO0NOPSJPcmfDom5pc2F0ZXVyIjptYWlsdG86ZGF0YUBzeWxvYi5jb20KRU5EOlZFVkVOVApF\r\nTkQ6VkNBTEVOREFSCgo=\r\n--00000000000072927505e39b0616--\r\n```\r\nIf I knew how to see the same informations on outlook, I could compare the mail received from gmail and the one received from java, but I&#39;m not sure it&#39;s possible (I found the &quot;display / message details&quot; option, but this option only show informations about the top level mime part, not the complete mime structure)\r\n\r\nDoes anyone have an idea how to fix this problem?\r\n\r\nThanks,","title":"ics file sended to outlook are not reconized as event","body":"<p>I need to develop an application to send events to Gmail / Outlook calendars. Java mail 1.5.5 is used. I did some tests with version 1.6.2, without more success\nThe chosen solution is to generate ics files, and send them by email to the target calendars adresses.</p>\n<p>On Gmail, the email is well recognized as an event email (the email contains the description of the event, the possibility to change the answer, and the event is automatically added to the calendar)</p>\n<p>On Outlook, the attachment is not recognized as an event (the email just contains the ics file as an attachment, no description or response request, and the event is not automatically added to the calendar) . You must then click on the attachment, then on &quot;Add to calendar&quot; so that the event is created in the calendar</p>\n<p>I found many similar topics on the net, but nothing that helped me solve the problem</p>\n<p>The problem could come from the ics file or the headers of the mail. The ics file looks good to me: If on gmail, I create a new message, I add my ics as an attachment, and I send it to my Outlook address, the email is well recognized as an event</p>\n<p>Here is the content of the ics file</p>\n<pre><code>BEGIN:VCALENDAR\nPRODID:&lt;MYPRODID&gt;\nVERSION:2.0\nCALSCALE:GREGORIAN\nMETHOD:REQUEST\nBEGIN:VEVENT\nDTSTAMP:20220629T121224Z\nSUMMARY:Test Event\nDTSTART:20220630T110000Z\nDTEND:20220630T130000Z\nUID:&lt;MYUID&gt;\nSEQUENCE:1656460800\nDESCRIPTION:Event body\nATTENDEE;ROLE=REQ-PARTICIPANT;PARTSTAT=ACCEPTED;RSVP=FALSE;CN=&lt;MYCN&gt;:mailto:&lt;MYEMAIL&gt;\nORGANIZER;CN=&lt;MYORGNAME&gt;:mailto:&lt;MYORGEMAIL&gt;\nEND:VEVENT\nEND:VCALENDAR\n</code></pre>\n<p>I have some doubt on the headers / mail structure. I find a lot of different things on the internet, but everything I try leads to the same result (the need to open my email in Outlook, to manually import the attachment)</p>\n<p>Here is my java code during the last tests:</p>\n<pre><code>Properties prop = new Properties();\n\nprop.put(&quot;mail.mime.charset&quot;, &quot;UTF-8&quot;);\nprop.put(&quot;mail.smtp.host&quot;, &quot;&lt;MYHOST&gt;&quot;);\nprop.put(&quot;mail.smtp.port&quot;, &quot;&lt;MYPORT&gt;&quot;);\nprop.put(&quot;mail.smtp.auth&quot;, Boolean.TRUE.toString());\nprop.put(&quot;mail.smtp.user&quot;, &quot;&lt;MYUSER&gt;&quot;);\nprop.put(&quot;password&quot;, &quot;&lt;MYPASS&gt;&quot;);\n\nString from = &quot;&lt;MYORGEMAIL&gt;&quot;;\nString to = &quot;&lt;MYEMAIL&gt;&quot;;\n\nSession session = Session.getInstance(prop, new SMTPAuthenticator(prop));\n// Define message\nMimeMessage message = new MimeMessage(session);\nmessage.addHeader(&quot;method&quot;, &quot;REQUEST&quot;);\nmessage.addHeader(&quot;charset&quot;, &quot;UTF-8&quot;);\nmessage.addHeader(&quot;component&quot;, &quot;VEVENT&quot;);\n\nmessage.setFrom(new InternetAddress(from));\nmessage.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\nmessage.setSubject(&quot;Outlook Meeting Request Using JavaMail&quot;);\n\nFile invitation = new File(&quot;&lt;MYFILEPATH&gt;\\\\vCalendar_5067936453064913847.ics&quot;);\n\nMimeMultipart mixed = new MimeMultipart(&quot;mixed&quot;);\n\n// Create the message part\nMimeMultipart alternative = new MimeMultipart(&quot;alternative&quot;);\nMimeBodyPart alternativePart = new MimeBodyPart();\nalternativePart.setContent(alternative);\nmixed.addBodyPart(alternativePart);\nMimeBodyPart plain = new MimeBodyPart();\nplain.setText(&quot;body&quot;, &quot;UTF-8&quot;, &quot;plain&quot;);\nMimeBodyPart html = new MimeBodyPart();\nhtml.setText(&quot;&lt;div dir=\\&quot;ltr\\&quot;&gt;body&lt;/div&gt;&quot;, &quot;UTF-8&quot;, &quot;html&quot;);\nalternative.addBodyPart(plain);\nalternative.addBodyPart(html);\n\n// Create the attachment part\nBodyPart icsBodyPart = new MimeBodyPart();\nicsBodyPart.addHeader(&quot;method&quot;, &quot;REQUEST&quot;);\nicsBodyPart.addHeader(&quot;Content-Class&quot;, &quot;urn:content-classes:calendarmessage&quot;);\nicsBodyPart.addHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\nicsBodyPart.addHeader(&quot;component&quot;, &quot;VEVENT&quot;);\nFileInputStream inputStream = new FileInputStream(invitation.getAbsolutePath());\nfinal DataSource source =\n    new ByteArrayDataSource(inputStream,\n        &quot;text/calendar; charset=\\&quot;UTF-8\\&quot;; name=\\&quot;vCalendar_5067936453064913847.ics\\&quot;&quot;);\nicsBodyPart.setDataHandler(new DataHandler(source));\nicsBodyPart.setFileName(invitation.getName());\nmixed.addBodyPart(icsBodyPart);\n\n// Put parts in message\nmessage.setContent(mixed);\n\n// send message\nTransport.send(message);\n</code></pre>\n<p>To know how to structure my mime parts, I look to my message structure in my gmail sendbox (the one that is reconized by Outlook) :</p>\n<pre><code>MIME-Version: 1.0\nDate: Tue, 12 Jul 2022 14:44:10 +0200\nMessage-ID: &lt;XXXXXXXXXXX@mail.gmail.com&gt;\nSubject: Mail title test\nFrom: XXXXXXXXXXX &lt;XXXXXXXXXXX@gmail.com&gt;\nTo: XXXXXXXXXXX &lt;XXXXXXXXXXX@XXXXXXXXXXX.com&gt;\nContent-Type: multipart/mixed; boundary=&quot;00000000000072927505e39b0616&quot;\n\n--00000000000072927505e39b0616\nContent-Type: multipart/alternative; boundary=&quot;00000000000072927005e39b0614&quot;\n\n--00000000000072927005e39b0614\nContent-Type: text/plain; charset=&quot;UTF-8&quot;\n\nMail content test\n\n--00000000000072927005e39b0614\nContent-Type: text/html; charset=&quot;UTF-8&quot;\n\n&lt;div dir=&quot;ltr&quot;&gt;Mail content test&lt;br&gt;&lt;/div&gt;\n\n--00000000000072927005e39b0614--\n--00000000000072927505e39b0616\nContent-Type: text/calendar; charset=&quot;UTF-8&quot;; name=&quot;vCalendar_5067936453064913847.ics&quot;\nContent-Disposition: attachment; filename=&quot;vCalendar_5067936453064913847.ics&quot;\nContent-Transfer-Encoding: base64\nX-Attachment-Id: f_l4i5zybk0\nContent-ID: &lt;f_l4i5zybk0&gt;\n\nQkVHSU46VkNBTEVOREFSClBST0RJRDpTeWxvYiBudWxsClZFUlNJT046Mi4wCkNBTFNDQUxFOkdS\nRUdPUklBTgpXXXXXXXXXXXVRVUVTVApCRUdJTjpWRVZFTlQKRFRTVEFNUDoyMDIyMDYyOVQxMjEy\nMjRaClNVTU1BUlk6NSAtIMOJdsOpbmVtZW50IGR1IDI4MDYgw6AgU3lsb2IgZGUgZMOpbW8gCkRU\nU1RBUlQ6MjAyMjA2MzBUMTEwMDAwWgpEVEVORDoyMDIyMDYzMFQxMzAwMDBaClVJRDp0ZXN0VWlk\nMTY1OTc1QHN5bG9iLmNvbQpTRVFVRU5DRToxNjU2NDYwODAwCkRFU0NSSVBUSU9OOlRlc3QgZGUg\nY29ycCBkZSB0ZXh0ZVxuc3VyIHBsdXNpZXVycyBsaWduZXNcLCBhY2NlbnRzIMOgIHRlc3RlcgpB\nVFRFTkRFRTtST0xFPVJFUSXXXXXXXXXXXXXOVDtQQVJUU1RBVD1BQ0NFUFRFRDtSU1ZQPUZBTFNF\nO0NOPUFsZXhhbmRyZSBORURORUQ6bWFpbHRvOmFsZXgubmVkamFyaUBnbWFpbC5jb20KT1JHQU5J\nWkVSO0NOPSJPcmfDom5pc2F0ZXVyIjptYWlsdG86ZGF0YUBzeWxvYi5jb20KRU5EOlZFVkVOVApF\nTkQ6VkNBTEVOREFSCgo=\n--00000000000072927505e39b0616--\n</code></pre>\n<p>If I knew how to see the same informations on outlook, I could compare the mail received from gmail and the one received from java, but I'm not sure it's possible (I found the &quot;display / message details&quot; option, but this option only show informations about the top level mime part, not the complete mime structure)</p>\n<p>Does anyone have an idea how to fix this problem?</p>\n<p>Thanks,</p>\n"},{"tags":["java","android","groovy","build.gradle","gradlew"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":2,"creation_date":1700590408,"post_id":77524983,"comment_id":136672558,"body_markdown":"change jdk to 17","body":"change jdk to 17"},{"owner":{"account_id":1232692,"reputation":161,"user_id":22674351,"display_name":"Mary"},"score":0,"creation_date":1700607210,"post_id":77524983,"comment_id":136674997,"body_markdown":"Yeah it fixed it! Thanks.","body":"Yeah it fixed it! Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1510661,"reputation":1725,"user_id":1412887,"display_name":"Pnemonic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700647223,"creation_date":1700647223,"answer_id":77528931,"question_id":77524983,"body_markdown":"What I did was to delete the following folders:\r\n\r\n 1. `.gradle`\r\n 2. `.idea`\r\n 3. `build`\r\n\r\nand then sync and build.","title":"Issues building Android gradle project: Task :buildSrc:compileGroovy FAILED","body":"<p>What I did was to delete the following folders:</p>\n<ol>\n<li><code>.gradle</code></li>\n<li><code>.idea</code></li>\n<li><code>build</code></li>\n</ol>\n<p>and then sync and build.</p>\n"}],"owner":{"account_id":1232692,"reputation":161,"user_id":22674351,"display_name":"Mary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700647223,"creation_date":1700589542,"question_id":77524983,"body_markdown":"I am trying to build an Android SDK on my Windows machine. I upgraded my Java to latest 64-bit JDK (21) and when running `.\\gradlew.bat core:assembleCoreDebug`, I get these errors.\r\n\r\nHow to resolve it?\r\n\r\n\r\n    Picked up JAVA_TOOL_OPTIONS: -Dlog4j2.formatMsgNoLookups=true\r\n    Starting a Gradle Daemon (subsequent builds will be faster)\r\n    \r\n    &gt; Task :buildSrc:compileGroovy FAILED\r\n    Picked up JAVA_TOOL_OPTIONS: -Dlog4j2.formatMsgNoLookups=true\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:buildSrc:compileGroovy&#39;.\r\n    &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;C:\\Users\\user\\Downloads\\mobile\\android\\buildSrc\\src\\main\\groovy\\Javadoc.groovy&#39; Unsupported class file major version 65\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 5s\r\n    1 actionable task: 1 executed","title":"Issues building Android gradle project: Task :buildSrc:compileGroovy FAILED","body":"<p>I am trying to build an Android SDK on my Windows machine. I upgraded my Java to latest 64-bit JDK (21) and when running <code>.\\gradlew.bat core:assembleCoreDebug</code>, I get these errors.</p>\n<p>How to resolve it?</p>\n<pre><code>Picked up JAVA_TOOL_OPTIONS: -Dlog4j2.formatMsgNoLookups=true\nStarting a Gradle Daemon (subsequent builds will be faster)\n\n&gt; Task :buildSrc:compileGroovy FAILED\nPicked up JAVA_TOOL_OPTIONS: -Dlog4j2.formatMsgNoLookups=true\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':buildSrc:compileGroovy'.\n&gt; BUG! exception in phase 'semantic analysis' in source unit 'C:\\Users\\user\\Downloads\\mobile\\android\\buildSrc\\src\\main\\groovy\\Javadoc.groovy' Unsupported class file major version 65\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 5s\n1 actionable task: 1 executed\n</code></pre>\n"},{"tags":["java","spring-boot","exception","netty","spring-webclient"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1701370152,"post_id":77495563,"comment_id":136770327,"body_markdown":"Hmm. Probably I&#39;m missing something but not sure why Apache `PoolingHttpClientConnectionManager` is used here instead of Netty implementation.","body":"Hmm. Probably I&#39;m missing something but not sure why Apache <code>PoolingHttpClientConnectionManager</code> is used here instead of Netty implementation."}],"owner":{"account_id":384624,"reputation":15403,"user_id":741249,"display_name":"THelper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700646732,"creation_date":1700144148,"question_id":77495563,"body_markdown":"I have a Spring Boot application with a Spring WebClient sending requests to another Spring-Boot application (Spring-Boot 2.7.14 and Spring WebFlux 5.3.29)\r\n\r\n        WebClient.Builder wcBuilder = WebClient.builder()\r\n                .exchangeStrategies(ExchangeStrategies.builder()\r\n                        .codecs(configurer -&gt; configurer\r\n                                .defaultCodecs()\r\n                                .maxInMemorySize(MAX_RESPONSE_SIZE_MB * BYTES_PER_MB))\r\n                        .build());\r\n\r\n        WebClient webClient = wcBuilder\r\n                .baseUrl(url)\r\n                .defaultHeader(HttpHeaders.USER_AGENT, &quot;MyClient v1.0&quot;)\r\n                .build();                        \r\n                        \r\n        webClient.post()\r\n                .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .bodyValue(someData)\r\n                .retrieve()\r\n                .bodyToMono(MyClass.class);  \r\n\r\nSome requests require a lot of processing and those can take about 60 - 90 seconds to complete. My problem is that these requests always return the error\r\n\r\n    org.springframework.web.reactive.function.client.WebClientRequestException: \r\n    Connection prematurely closed BEFORE response; nested exception is reactor.netty.http.client.PrematureCloseException: Connection prematurely closed BEFORE response\r\n\r\nafter 50-51 seconds. To fix that I tried adding a `ReactorClientHttpConnector` as also suggested [here][1] and set a timeout\r\n\r\n        WebClient.Builder wcBuilder = WebClient.builder()\r\n                .clientConnector(new ReactorClientHttpConnector(HttpClient.create()\r\n                        .responseTimeout(Duration.ofSeconds(TIMEOUT))))\r\n\t\t...\r\n                        \r\nWhen setting the timeout to 40 seconds I get a slightly different error after 40-41 seconds (`io.netty.handler.timeout.ReadTimeoutException`), so the setting is working. However when I set a timeout of 90 or 120 seconds I still get the PrematureCloseException after 50 seconds. I looked into other settings I may be missing and also tried using a ConnectionProvider and various other options, e.g.\r\n\r\n\tConnectionProvider provider =\r\n                ConnectionProvider.builder(&quot;custom&quot;)\r\n                        .maxConnections(100)\r\n                        .maxIdleTime(Duration.ofSeconds(TIMEOUT))\r\n                        .maxLifeTime(Duration.ofSeconds(TIMEOUT)).build();\r\n\r\n        WebClient.Builder wcBuilder = WebClient.builder()\r\n                .clientConnector(new ReactorClientHttpConnector(HttpClient.create(provider)\r\n                        .option(ChannelOption.SO_KEEPALIVE, true)\r\n                        .option(EpollChannelOption.TCP_KEEPIDLE, 300)\r\n                        .option(EpollChannelOption.TCP_KEEPINTVL, 60)\r\n                        .option(EpollChannelOption.TCP_KEEPCNT, 8)\r\n                        .doOnConnected(conn -&gt; conn\r\n                                .addHandler(new ReadTimeoutHandler(TIMEOUT, TimeUnit.SECONDS)))\r\n                        .responseTimeout(Duration.ofSeconds(TIMEOUT))))\r\n\t\t...\r\n                        \r\nbut all with the same result. What setting am I missing here?\r\n\r\nI think the issue is client-side because I had the same issue earlier when talking to a different (Python-based) server. Also I see no errors on the server side and the server always finishes processing as normal.\r\n\r\n**ADDENDUM:** \r\nNote that my problem is different from [this post][2] because I didn&#39;t even start processing and am waiting for the data from the server.\r\nWhat I see happening with `wiretap(true)` is:\r\n```\r\n15:44:31.670 [reactor-http-epoll-2] DEBUG reactor.netty.http.client.HttpClient:145 - [...] READ COMPLETE\r\n15:44:31.682 [reactor-http-epoll-2] DEBUG reactor.netty.resources.PooledConnectionProvider:259 - [...] Channel closed, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.\r\n15:44:31.683 [reactor-http-epoll-2] DEBUG reactor.netty.ReactorNetty:259 - [] Non Removed handler: ReadTimeoutHandler, context: ChannelHandlerContext(ReadTimeoutHandler, [...]), pipeline: DefaultChannelPipeline{(reactor.left.sslHandler = io.netty.handler.ssl.SslHandler), (reactor.left.loggingHandler = reactor.netty.transport.logging.ReactorNettyLoggingHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.left.responseTimeoutHandler = io.netty.handler.timeout.ReadTimeoutHandler), (ReadTimeoutHandler = io.netty.handler.timeout.ReadTimeoutHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\r\n15:44:31.683 [reactor-http-epoll-2] DEBUG reactor.netty.ReactorNetty:259 - [...] Non Removed handler: reactor.left.responseTimeoutHandler, context: ChannelHandlerContext(reactor.left.responseTimeoutHandler, [...]), pipeline: DefaultChannelPipeline{(reactor.left.sslHandler = io.netty.handler.ssl.SslHandler), (reactor.left.loggingHandler = reactor.netty.transport.logging.ReactorNettyLoggingHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.left.responseTimeoutHandler = io.netty.handler.timeout.ReadTimeoutHandler), (ReadTimeoutHandler = io.netty.handler.timeout.ReadTimeoutHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\r\n15:44:31.686 [reactor-http-epoll-2] DEBUG reactor.netty.http.client.HttpClient:145 - [...] USER_EVENT: SslCloseCompletionEvent(java.nio.channels.ClosedChannelException)\r\n15:44:31.688 [reactor-http-epoll-2] DEBUG reactor.netty.http.client.HttpClient:145 - [...] INACTIVE\r\n15:44:31.688 [reactor-http-epoll-2] DEBUG reactor.netty.resources.DefaultPooledConnectionProvider:259 - [...] onStateChange(POST{uri=..., connection=PooledConnection{channel=[...]}}, [response_incomplete])\r\n15:44:31.694 [reactor-http-epoll-2] WARN reactor.netty.http.client.HttpClientConnect:304 - [...] The connection observed an error\r\nreactor.netty.http.client.PrematureCloseException: Connection prematurely closed BEFORE response\r\n15:44:31.716 [reactor-http-epoll-2] DEBUG reactor.netty.http.client.HttpClient:145 - [...] UNREGISTERED\r\n15:44:32.216 [Connection evictor] DEBUG org.apache.http.impl.conn.PoolingHttpClientConnectionManager:448 - Closing expired connections\r\n15:44:32.216 [Connection evictor] DEBUG org.apache.http.impl.conn.PoolingHttpClientConnectionManager:441 - Closing connections idle longer than 50000 MILLISECONDS\r\n```\r\nSo there is an Apache PoolingHttpClientConnectionManager that kills connections after 50 seconds. From the timestamps of the logs it looks like it&#39;s Netty that is closing the connection before that, but perhaps the timestamps are inaccurate?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65846482/741249\r\n  [2]: https://stackoverflow.com/questions/56957057/prematurecloseexception-connection-prematurely-closed","title":"How to set a long read timeout for Spring WebClient (to avoid PrematureCloseException)","body":"<p>I have a Spring Boot application with a Spring WebClient sending requests to another Spring-Boot application (Spring-Boot 2.7.14 and Spring WebFlux 5.3.29)</p>\n<pre><code>    WebClient.Builder wcBuilder = WebClient.builder()\n            .exchangeStrategies(ExchangeStrategies.builder()\n                    .codecs(configurer -&gt; configurer\n                            .defaultCodecs()\n                            .maxInMemorySize(MAX_RESPONSE_SIZE_MB * BYTES_PER_MB))\n                    .build());\n\n    WebClient webClient = wcBuilder\n            .baseUrl(url)\n            .defaultHeader(HttpHeaders.USER_AGENT, &quot;MyClient v1.0&quot;)\n            .build();                        \n                    \n    webClient.post()\n            .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n            .bodyValue(someData)\n            .retrieve()\n            .bodyToMono(MyClass.class);  \n</code></pre>\n<p>Some requests require a lot of processing and those can take about 60 - 90 seconds to complete. My problem is that these requests always return the error</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientRequestException: \nConnection prematurely closed BEFORE response; nested exception is reactor.netty.http.client.PrematureCloseException: Connection prematurely closed BEFORE response\n</code></pre>\n<p>after 50-51 seconds. To fix that I tried adding a <code>ReactorClientHttpConnector</code> as also suggested <a href=\"https://stackoverflow.com/a/65846482/741249\">here</a> and set a timeout</p>\n<pre><code>    WebClient.Builder wcBuilder = WebClient.builder()\n            .clientConnector(new ReactorClientHttpConnector(HttpClient.create()\n                    .responseTimeout(Duration.ofSeconds(TIMEOUT))))\n    ...\n                    \n</code></pre>\n<p>When setting the timeout to 40 seconds I get a slightly different error after 40-41 seconds (<code>io.netty.handler.timeout.ReadTimeoutException</code>), so the setting is working. However when I set a timeout of 90 or 120 seconds I still get the PrematureCloseException after 50 seconds. I looked into other settings I may be missing and also tried using a ConnectionProvider and various other options, e.g.</p>\n<pre><code>ConnectionProvider provider =\n            ConnectionProvider.builder(&quot;custom&quot;)\n                    .maxConnections(100)\n                    .maxIdleTime(Duration.ofSeconds(TIMEOUT))\n                    .maxLifeTime(Duration.ofSeconds(TIMEOUT)).build();\n\n    WebClient.Builder wcBuilder = WebClient.builder()\n            .clientConnector(new ReactorClientHttpConnector(HttpClient.create(provider)\n                    .option(ChannelOption.SO_KEEPALIVE, true)\n                    .option(EpollChannelOption.TCP_KEEPIDLE, 300)\n                    .option(EpollChannelOption.TCP_KEEPINTVL, 60)\n                    .option(EpollChannelOption.TCP_KEEPCNT, 8)\n                    .doOnConnected(conn -&gt; conn\n                            .addHandler(new ReadTimeoutHandler(TIMEOUT, TimeUnit.SECONDS)))\n                    .responseTimeout(Duration.ofSeconds(TIMEOUT))))\n    ...\n                    \n</code></pre>\n<p>but all with the same result. What setting am I missing here?</p>\n<p>I think the issue is client-side because I had the same issue earlier when talking to a different (Python-based) server. Also I see no errors on the server side and the server always finishes processing as normal.</p>\n<p><strong>ADDENDUM:</strong>\nNote that my problem is different from <a href=\"https://stackoverflow.com/questions/56957057/prematurecloseexception-connection-prematurely-closed\">this post</a> because I didn't even start processing and am waiting for the data from the server.\nWhat I see happening with <code>wiretap(true)</code> is:</p>\n<pre><code>15:44:31.670 [reactor-http-epoll-2] DEBUG reactor.netty.http.client.HttpClient:145 - [...] READ COMPLETE\n15:44:31.682 [reactor-http-epoll-2] DEBUG reactor.netty.resources.PooledConnectionProvider:259 - [...] Channel closed, now: 0 active connections, 0 inactive connections and 0 pending acquire requests.\n15:44:31.683 [reactor-http-epoll-2] DEBUG reactor.netty.ReactorNetty:259 - [] Non Removed handler: ReadTimeoutHandler, context: ChannelHandlerContext(ReadTimeoutHandler, [...]), pipeline: DefaultChannelPipeline{(reactor.left.sslHandler = io.netty.handler.ssl.SslHandler), (reactor.left.loggingHandler = reactor.netty.transport.logging.ReactorNettyLoggingHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.left.responseTimeoutHandler = io.netty.handler.timeout.ReadTimeoutHandler), (ReadTimeoutHandler = io.netty.handler.timeout.ReadTimeoutHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\n15:44:31.683 [reactor-http-epoll-2] DEBUG reactor.netty.ReactorNetty:259 - [...] Non Removed handler: reactor.left.responseTimeoutHandler, context: ChannelHandlerContext(reactor.left.responseTimeoutHandler, [...]), pipeline: DefaultChannelPipeline{(reactor.left.sslHandler = io.netty.handler.ssl.SslHandler), (reactor.left.loggingHandler = reactor.netty.transport.logging.ReactorNettyLoggingHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.left.responseTimeoutHandler = io.netty.handler.timeout.ReadTimeoutHandler), (ReadTimeoutHandler = io.netty.handler.timeout.ReadTimeoutHandler), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\n15:44:31.686 [reactor-http-epoll-2] DEBUG reactor.netty.http.client.HttpClient:145 - [...] USER_EVENT: SslCloseCompletionEvent(java.nio.channels.ClosedChannelException)\n15:44:31.688 [reactor-http-epoll-2] DEBUG reactor.netty.http.client.HttpClient:145 - [...] INACTIVE\n15:44:31.688 [reactor-http-epoll-2] DEBUG reactor.netty.resources.DefaultPooledConnectionProvider:259 - [...] onStateChange(POST{uri=..., connection=PooledConnection{channel=[...]}}, [response_incomplete])\n15:44:31.694 [reactor-http-epoll-2] WARN reactor.netty.http.client.HttpClientConnect:304 - [...] The connection observed an error\nreactor.netty.http.client.PrematureCloseException: Connection prematurely closed BEFORE response\n15:44:31.716 [reactor-http-epoll-2] DEBUG reactor.netty.http.client.HttpClient:145 - [...] UNREGISTERED\n15:44:32.216 [Connection evictor] DEBUG org.apache.http.impl.conn.PoolingHttpClientConnectionManager:448 - Closing expired connections\n15:44:32.216 [Connection evictor] DEBUG org.apache.http.impl.conn.PoolingHttpClientConnectionManager:441 - Closing connections idle longer than 50000 MILLISECONDS\n</code></pre>\n<p>So there is an Apache PoolingHttpClientConnectionManager that kills connections after 50 seconds. From the timestamps of the logs it looks like it's Netty that is closing the connection before that, but perhaps the timestamps are inaccurate?</p>\n"},{"tags":["java","spring-boot","rest","spring-security","oauth"],"answers":[{"comments":[{"owner":{"account_id":8059771,"reputation":1177,"user_id":6075655,"display_name":"Maxim Popov"},"score":0,"creation_date":1583942070,"post_id":60629817,"comment_id":107283783,"body_markdown":"I think that now there is some issue with response class. Could you show it (response class)?","body":"I think that now there is some issue with response class. Could you show it (response class)?"},{"owner":{"account_id":14358051,"reputation":103,"user_id":10371303,"display_name":"stackmj18"},"score":0,"creation_date":1583942405,"post_id":60629817,"comment_id":107283975,"body_markdown":"thanks it worked, my response pojo class was not properly constructed.","body":"thanks it worked, my response pojo class was not properly constructed."}],"tags":[],"owner":{"account_id":8059771,"reputation":1177,"user_id":6075655,"display_name":"Maxim Popov"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583904952,"creation_date":1583904952,"answer_id":60629817,"question_id":60628142,"body_markdown":"You have to configure restTemplate: add FormHttpMessageConverter\r\n\r\n    RestTemplate restTemplate = new RestTemplateBuilder()\r\n                    .messageConverters(\r\n                            new MappingJackson2HttpMessageConverter(objectMapper()),\r\n                            new FormHttpMessageConverter())\r\n                    .build()\r\n\r\nAnd when sending request, you have to set `MediaType.APPLICATION_FORM_URLENCODED` as contentType and use `MultiValueMap` instead of `HashMap` as request body:\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n    \r\n    MultiValueMap&lt;String, String&gt; requestBody = new LinkedMultiValueMap&lt;&gt;();\r\n    requestBody.put(&quot;companyId&quot;, &quot;123456&quot;);\r\n    \r\n    HttpEntity requestEntity = new HttpEntity&lt;&gt;(requestBody, headers)\r\n    \r\n    ResponseEntity&lt;CompanyResponse&gt; response = restTemplate.exchange(uri, HttpMethod.POST, requestEntity, CompanyResponse.class);","title":"How to call a REST Api using Rest Template with Bearer Token and form-data in Spring boot","body":"<p>You have to configure restTemplate: add FormHttpMessageConverter</p>\n\n<pre><code>RestTemplate restTemplate = new RestTemplateBuilder()\n                .messageConverters(\n                        new MappingJackson2HttpMessageConverter(objectMapper()),\n                        new FormHttpMessageConverter())\n                .build()\n</code></pre>\n\n<p>And when sending request, you have to set <code>MediaType.APPLICATION_FORM_URLENCODED</code> as contentType and use <code>MultiValueMap</code> instead of <code>HashMap</code> as request body:</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.set(\"Authorization\", \"Bearer \" + token);\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\nMultiValueMap&lt;String, String&gt; requestBody = new LinkedMultiValueMap&lt;&gt;();\nrequestBody.put(\"companyId\", \"123456\");\n\nHttpEntity requestEntity = new HttpEntity&lt;&gt;(requestBody, headers)\n\nResponseEntity&lt;CompanyResponse&gt; response = restTemplate.exchange(uri, HttpMethod.POST, requestEntity, CompanyResponse.class);\n</code></pre>\n"}],"owner":{"account_id":14358051,"reputation":103,"user_id":10371303,"display_name":"stackmj18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7616,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700646476,"creation_date":1583890757,"question_id":60628142,"body_markdown":"I am calling a rest api using Postman and it gives a successful response (200 OK) using following request,\r\n\r\nmethod: POST\r\n\r\nAuthorization =&gt;\r\nType: Bearer Token =&gt;\r\nToken: saflsjdflj\r\n\r\nBody =&gt;\r\nform-data =&gt;\r\nKey: companyId,\r\nValue: 123456\r\n\r\nBut when I call this api in spring boot using rest template it gives 400 bad request. The code is shown below,\r\n\r\n```java\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.set(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n\r\nHashMap&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\r\nrequestBody.put(&quot;companyId&quot;, &quot;123456&quot;);\r\n\r\nHttpEntity requestEntity = new HttpEntity&lt;&gt;(requestBody, headers)\r\n\r\nResponseEntity&lt;CompanyResponse&gt; response = restTemplate.exchange(uri, HttpMethod.POST, requestEntity, CompanyResponse.class);\r\n```","title":"How to call a REST Api using Rest Template with Bearer Token and form-data in Spring boot","body":"<p>I am calling a rest api using Postman and it gives a successful response (200 OK) using following request,</p>\n<p>method: POST</p>\n<p>Authorization =&gt;\nType: Bearer Token =&gt;\nToken: saflsjdflj</p>\n<p>Body =&gt;\nform-data =&gt;\nKey: companyId,\nValue: 123456</p>\n<p>But when I call this api in spring boot using rest template it gives 400 bad request. The code is shown below,</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpHeaders headers = new HttpHeaders();\nheaders.set(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n\nHashMap&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\nrequestBody.put(&quot;companyId&quot;, &quot;123456&quot;);\n\nHttpEntity requestEntity = new HttpEntity&lt;&gt;(requestBody, headers)\n\nResponseEntity&lt;CompanyResponse&gt; response = restTemplate.exchange(uri, HttpMethod.POST, requestEntity, CompanyResponse.class);\n</code></pre>\n"},{"tags":["java","logging","log4j","log4j2"],"owner":{"account_id":277571,"reputation":1676,"user_id":571653,"accept_rate":68,"display_name":"abhihello123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700645983,"creation_date":1700645983,"question_id":77528808,"body_markdown":"For a core java ETL application, we are trying to upgrade from log4j 1.2.17 to log4j 2.17.1 and thought of using the bridge jar log4j-1.2-api version 2.17.1 but strangely it started printing some DEBUG logs as well which were not there before.\r\nChanges:\r\n\r\npom.xml:\r\n\r\n    &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n    ...\r\n    \t  &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n    \t  &lt;/dependency&gt;\r\n    \t  &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n    \t  &lt;/dependency&gt;\r\n\r\nJVM initializer:\r\n\r\n    java -Xmx2048m -Dorg.apache.logging.log4j.level=INFO -Dlog4j.configurationFile=file:/path/to/log4j.properties -cp ......\r\n\r\nIn Java code, log4j related config/code preexisting\r\n\r\n    private static Logger processLog = LogManager.getLogger(&quot;DRIVER&quot;);\r\n    ..\r\n    LogManager.getLoggerRepository().setThreshold(Level.INFO);\r\n    PropertyConfigurator.configure(&quot;/path/to/log4j.properties&quot;);\r\n\r\nlog4j.properties:\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=INFO, stdout\r\n    log4j.appender.console.threshold=INFO\r\n    log4j.appender.stdout.threshold=INFO\r\n    # Redirect log messages to console\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1} - %m%n\r\n\r\nAny issues with above configuration, any changes required?\r\n\r\n","title":"Using Log4j Bridge jar log4j-1.2-api, DEBUG logs get printed even if Level set to INFO","body":"<p>For a core java ETL application, we are trying to upgrade from log4j 1.2.17 to log4j 2.17.1 and thought of using the bridge jar log4j-1.2-api version 2.17.1 but strangely it started printing some DEBUG logs as well which were not there before.\nChanges:</p>\n<p>pom.xml:</p>\n<pre><code>&lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n...\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n          &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n          &lt;version&gt;${log4j2.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n          &lt;artifactId&gt;log4j-1.2-api&lt;/artifactId&gt;\n          &lt;version&gt;${log4j2.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>JVM initializer:</p>\n<pre><code>java -Xmx2048m -Dorg.apache.logging.log4j.level=INFO -Dlog4j.configurationFile=file:/path/to/log4j.properties -cp ......\n</code></pre>\n<p>In Java code, log4j related config/code preexisting</p>\n<pre><code>private static Logger processLog = LogManager.getLogger(&quot;DRIVER&quot;);\n..\nLogManager.getLoggerRepository().setThreshold(Level.INFO);\nPropertyConfigurator.configure(&quot;/path/to/log4j.properties&quot;);\n</code></pre>\n<p>log4j.properties:</p>\n<pre><code># Root logger option\nlog4j.rootLogger=INFO, stdout\nlog4j.appender.console.threshold=INFO\nlog4j.appender.stdout.threshold=INFO\n# Redirect log messages to console\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1} - %m%n\n</code></pre>\n<p>Any issues with above configuration, any changes required?</p>\n"},{"tags":["java","swt"],"comments":[{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":1,"creation_date":1401690560,"post_id":23985519,"comment_id":36964979,"body_markdown":"Do you mean the text cursor/caret?","body":"Do you mean the text cursor/caret?"},{"owner":{"display_name":"user3117639"},"score":0,"creation_date":1401701262,"post_id":23985519,"comment_id":36969956,"body_markdown":"Yes.I meant the text cursor.Thanks","body":"Yes.I meant the text cursor.Thanks"}],"answers":[{"comments":[{"owner":{"display_name":"user3117639"},"score":0,"creation_date":1401705508,"post_id":23992218,"comment_id":36972297,"body_markdown":"Worked beautifully.Thanks so much.","body":"Worked beautifully.Thanks so much."}],"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1401704311,"creation_date":1401704311,"answer_id":23992218,"question_id":23985519,"body_markdown":"If you want the hide &quot;blinking text cursor in the text&quot;, disable the `Text` by calling `Text#setEnabled(false)`.\r\n\r\nIf you don&#39;t want the mouse cursor to change to the text cursor when you hover over the text, set the `Cursor` of the `Text` to `SWT.CURSOR_ARROW` by calling `Text#setCursor(int)`.\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        final Display display = new Display();\r\n        final Shell shell = new Shell(display);\r\n        shell.setText(&quot;StackOverflow&quot;);\r\n        shell.setLayout(new FillLayout());\r\n        \r\n        Text text = new Text(shell, SWT.MULTI | SWT.WRAP | SWT.V_SCROLL);\r\n        text.setText(&quot;fdfsdfsd&quot;);\r\n        text.setEditable(false);\r\n        text.setEnabled(false);\r\n        text.setCursor(Display.getCurrent().getSystemCursor(SWT.CURSOR_ARROW));\r\n\r\n        shell.pack();\r\n        shell.open();\r\n\r\n        while (!shell.isDisposed())\r\n        {\r\n            if (!display.readAndDispatch())\r\n            {\r\n                display.sleep();\r\n            }\r\n        }\r\n        display.dispose();\r\n    }","title":"Cursor visibility in Text SWT","body":"<p>If you want the hide \"blinking text cursor in the text\", disable the <code>Text</code> by calling <code>Text#setEnabled(false)</code>.</p>\n\n<p>If you don't want the mouse cursor to change to the text cursor when you hover over the text, set the <code>Cursor</code> of the <code>Text</code> to <code>SWT.CURSOR_ARROW</code> by calling <code>Text#setCursor(int)</code>.</p>\n\n<pre><code>public static void main(String[] args)\n{\n    final Display display = new Display();\n    final Shell shell = new Shell(display);\n    shell.setText(\"StackOverflow\");\n    shell.setLayout(new FillLayout());\n\n    Text text = new Text(shell, SWT.MULTI | SWT.WRAP | SWT.V_SCROLL);\n    text.setText(\"fdfsdfsd\");\n    text.setEditable(false);\n    text.setEnabled(false);\n    text.setCursor(Display.getCurrent().getSystemCursor(SWT.CURSOR_ARROW));\n\n    shell.pack();\n    shell.open();\n\n    while (!shell.isDisposed())\n    {\n        if (!display.readAndDispatch())\n        {\n            display.sleep();\n        }\n    }\n    display.dispose();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25756169,"reputation":1,"user_id":19507792,"display_name":"Andrey P."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700645804,"creation_date":1700645804,"answer_id":77528789,"question_id":23985519,"body_markdown":"Just use Label instead of Text.","title":"Cursor visibility in Text SWT","body":"<p>Just use Label instead of Text.</p>\n"}],"owner":{"display_name":"user3117639"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23992218,"answer_count":2,"score":1,"last_activity_date":1700645804,"creation_date":1401665219,"question_id":23985519,"body_markdown":"I have  a non editable text in SWT.\r\n\r\n    final Text textArea = new Text(parent, SWT.MULTI | SWT.WRAP | SWT.V_SCROLL);\r\n    textArea.setVisible(false);\r\n    textArea.setEditable(false);\r\n    Color color=new Color(display,255,255,255);\r\n    textArea.setBackground(color);\r\n\r\nWhen I click on the text area, the cursor is still visible. I do not want the cursor to be visible at all. I would appreciate any help. Thanks.","title":"Cursor visibility in Text SWT","body":"<p>I have  a non editable text in SWT.</p>\n\n<pre><code>final Text textArea = new Text(parent, SWT.MULTI | SWT.WRAP | SWT.V_SCROLL);\ntextArea.setVisible(false);\ntextArea.setEditable(false);\nColor color=new Color(display,255,255,255);\ntextArea.setBackground(color);\n</code></pre>\n\n<p>When I click on the text area, the cursor is still visible. I do not want the cursor to be visible at all. I would appreciate any help. Thanks.</p>\n"},{"tags":["java","spring-boot","hibernate","lazy-loading","lazy-initialization"],"comments":[{"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"score":0,"creation_date":1652164747,"post_id":72181249,"comment_id":127533260,"body_markdown":"In addition to the entities, could you add all the code that leads to your error?\n\nAs you say, the error comes from the session being closed. If you use `@Transactional`, make sure that the method is called from another class. If you call a `@Transactional`\n method from within the same class, it doesn&#39;t work.","body":"In addition to the entities, could you add all the code that leads to your error?  As you say, the error comes from the session being closed. If you use <code>@Transactional</code>, make sure that the method is called from another class. If you call a <code>@Transactional</code>  method from within the same class, it doesn&#39;t work."},{"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"score":0,"creation_date":1652167436,"post_id":72181249,"comment_id":127534018,"body_markdown":"Please show your Code not just your entities.","body":"Please show your Code not just your entities."},{"owner":{"account_id":18990681,"reputation":73,"user_id":13860035,"display_name":"Abhinav Prasun"},"score":0,"creation_date":1652246621,"post_id":72181249,"comment_id":127556840,"body_markdown":"I have attached the service class code. LazyInitialisationException is thrown when Gson serialiser is called to serialise an object.","body":"I have attached the service class code. LazyInitialisationException is thrown when Gson serialiser is called to serialise an object."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1652341863,"post_id":72181249,"comment_id":127584204,"body_markdown":"`Hibernate.initialize(customer);` inside `private void fillData(Request request, String session)` should work fine","body":"<code>Hibernate.initialize(customer);</code> inside <code>private void fillData(Request request, String session)</code> should work fine"}],"answers":[{"comments":[{"owner":{"account_id":1491583,"reputation":143,"user_id":1398553,"display_name":"Mads Hoel"},"score":0,"creation_date":1675081632,"post_id":72211584,"comment_id":132844903,"body_markdown":"In my opinion. 1 is quite bad. 2 is seldom acceptable. 3. Seems rather good, but leads to boilerplate. 4. Can be quite difficult, if not impossible. 5. Increases cost of maintenance.\n\nMight I suggest, preloading the lazy collection: access the CustomerInfo while there is a Hibernate session connected to the User. For instance just calling customerInfoList.size()","body":"In my opinion. 1 is quite bad. 2 is seldom acceptable. 3. Seems rather good, but leads to boilerplate. 4. Can be quite difficult, if not impossible. 5. Increases cost of maintenance.  Might I suggest, preloading the lazy collection: access the CustomerInfo while there is a Hibernate session connected to the User. For instance just calling customerInfoList.size()"}],"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1652340343,"creation_date":1652340343,"answer_id":72211584,"question_id":72181249,"body_markdown":"As you&#39;ve already discovered, the issue is that the transaction session is closed, and when you call getCustomerInfoList(), you will get a LazyInitializationException. \r\n\r\n## A couple of possible ways of solving this (both good and less good):\r\n 1. with  **open-in-view=true**, the session will be kept alive during the life cycle of a request, allowing GsonSerializer to execute a db query to get the data\r\n 2. Set **fetch type EAGER** on the relation to customerInfoList (will always execute a separate query to fetch the CustomerInfoList data from db)\r\n 3. **Use an entitygraph** by annotating the repository method findBySessionId with `@EntityGraph(&quot;customerInfoList&quot;)` which will include a join in the db statement to always fetch customerInfoList when calling findBySessionId. (as opposed to EAGER which would execute a separate query to fetch the data)\r\n 4. **Execute all the logic inside 1 transaction** to keep the session alive.\r\n5. **use JPA projection** and project the db data to DTOs (this is an option in the cases where you don&#39;t intend to change the state of your entities, rather just consume the values)","title":"How to fix org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: info, could not initialize proxy - no Session","body":"<p>As you've already discovered, the issue is that the transaction session is closed, and when you call getCustomerInfoList(), you will get a LazyInitializationException.</p>\n<h2>A couple of possible ways of solving this (both good and less good):</h2>\n<ol>\n<li>with  <strong>open-in-view=true</strong>, the session will be kept alive during the life cycle of a request, allowing GsonSerializer to execute a db query to get the data</li>\n<li>Set <strong>fetch type EAGER</strong> on the relation to customerInfoList (will always execute a separate query to fetch the CustomerInfoList data from db)</li>\n<li><strong>Use an entitygraph</strong> by annotating the repository method findBySessionId with <code>@EntityGraph(&quot;customerInfoList&quot;)</code> which will include a join in the db statement to always fetch customerInfoList when calling findBySessionId. (as opposed to EAGER which would execute a separate query to fetch the data)</li>\n<li><strong>Execute all the logic inside 1 transaction</strong> to keep the session alive.</li>\n<li><strong>use JPA projection</strong> and project the db data to DTOs (this is an option in the cases where you don't intend to change the state of your entities, rather just consume the values)</li>\n</ol>\n"}],"owner":{"account_id":18990681,"reputation":73,"user_id":13860035,"display_name":"Abhinav Prasun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22658,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700645389,"creation_date":1652161416,"question_id":72181249,"body_markdown":"I have a customer and a customer info entity in my spring boot project. They have an one to many relationship.\r\n```\r\n@Data\r\n@Builder\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;customer&quot;)\r\npublic class Customer implements Serializable{\r\n\r\n    @Serial\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long serialNumber;\r\n\r\n    private Long customerId;\r\n    private String name;\r\n\r\n\r\n\r\n    @Column(name = &quot;session_id&quot;, length = 128)\r\n    private String sessionId;\r\n\r\n    @JsonManagedReference(&quot;customer-customer_info&quot;)\r\n    @OneToMany(targetEntity = CustomerInfo.class, mappedBy=&quot;Customer&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;CustomerInfo&gt; customerInfoList;\r\n\r\n}\r\n\r\n@Data\r\n@Builder\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;customer_info&quot;)\r\npublic class CustomerInfo implements Serializable{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long CustomerInfoId;\r\n\r\n    @ManyToOne\r\n    @JsonBackReference(&quot;customer-customer_info&quot;)\r\n    @ToString.Exclude\r\n    @JoinColumn(name=&quot;customer_session_id&quot;, nullable=false, referencedColumnName = &quot;session_id&quot;)\r\n    private Customer customer;\r\n\r\n    private String metaKey;\r\n\r\n    @Convert(converter = Encryptor.class)\r\n    private String metaValue;\r\n}\r\n```\r\nWhenever I try to fetch customerInfo with the help of a getter function(customer.getCustomerInfo()) using customer entity. The above exception is thrown. I have read in many places that the error is caused because the JPA session gets closed and does not persist the child entity. However, I have not got a solution out of any of the other stack overflow answers.\r\n\r\nSolutions which have worked partially, however are not desirable:\r\n\r\n1. I change fetchType of customer_info to EAGER\r\n2. Ran a seperate query in the customer_info table.\r\n\r\nThe problem sadly does not replicate itself in my local environment. I do not understand why? \r\n(I understood why I could not replicate the problem, I saw https://stackoverflow.com/questions/34641670/restcontroller-methods-seem-to-be-transactional-by-default-why and added spring.jpa.open-in-view=false in my application.properties file)\r\n\r\nSolutions which were suggested in Stack overflow and I have tried,\r\n\r\n1. I have tried out the @Transactional fix over the service class&#39;s method calling the customer entity is called. However, the customer entity is then used in some other function down the line.\r\n2. `List&lt;CustomerInfo&gt; customerInfoList = customer.getCustomerInfoList();` [This line does not throw the error, I had event printed the className of customerInfoList, it was persistentBag. The below line throws the error.] `Hibernate.initialise(customerList)`\r\n\r\n\r\nSpring boot version : 2.6.2\r\nJava : 17\r\n\r\nThere are two services with the issue, ConnectionServiceImpl and CompletionServiceImpl. Service classes where the issue happens : \r\n\r\n\r\nConnectionServiceImpl -&gt;\r\n\r\n```\r\n@Service(ConnectionServiceImpl)\r\npublic class ConnectionServiceImpl implements ConnectionService {\r\n\r\n@Autowired\r\nprivate CompletionService completionService;\r\n\r\n@Override\r\npublic boolean test(){\r\n  Request request = completionService.recordData(session-id);\r\n\r\n    try {\r\n      System.out.println(request.toString()); //this is working fine\r\n\r\n      String str = GsonSerializer.getInstance().toJson(request); //this is throwing the exception\r\n      System.out.println(str);\r\n    }\r\n    catch(Exception ex) {\r\n      System.out.println(ex);\r\n//org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.test.entity.Customer.customerInfoList, could not initialize proxy - no Session\r\n    }\r\n    return true;\r\n}\r\n}\r\n\r\n```\r\n\r\nCompletionServiceImpl-&gt;\r\n```\r\n@Service(CompletionServiceImpl)\r\npublic class CompletionServiceImpl implements CompletionService {\r\n\r\n@Autowired\r\nprivate CustomerInfoRepository customerInfoRepository;\r\n\r\n@Override\r\npublic Request recordData(String session){\r\n\treturn prepareData(session);\r\n}\r\n\r\nprivate Request prepareData(String session){\r\n\tRequest request = new Request();\r\n\tfillData(request, session);\r\n\treturn request;\r\n}\r\n\r\nprivate void fillData(Request request, String session){\r\n\tCustomer customer = customerRepository.findBySessionId(sessionId);\r\n\trequest.setCustomerId(customer.getCustomerId());\r\n\trequest.setData(parseResponse(customer, request));\r\n\treturn ;\r\n}\r\n\r\nprivate List&lt;CustomerInfo&gt; parseResponse(Customer customer, Request request){\r\n\tList&lt;CustomerInfo&gt; customerInfoList = customerInfoRepository.findBySessionId(customer.getSessionId());\r\n\tCustomerInfo customerInfo = customerInfoList.stream()\r\n                        .filter(info -&gt; info.getMetaKey().equalsIgnoreCase(KEY))\r\n                        .findFirst()\r\n                        .orElse(null);\r\n\r\n\trequest.setKey(customerInfo.getMetaValue());\r\n\treturn customerInfoList;\r\n}\r\n\r\n}\r\n\r\n```\r\nWhen I run the code in debug mode, I see this error at the breakpoint, \r\n**Method threw &#39;org.hibernate.LazyInitializationException&#39; exception. Cannot evaluate com.test.entity.Customer.toString()**\r\n\r\n\r\nThe request class **Request**, serialising which is causing the whole problem is :\r\n\r\n```\r\n\r\n@Data\r\npublic class Request implements Serializable {\r\n\r\n    private Long customerId;\r\n    private List&lt;?&gt; data;\r\n    private String key;\r\n}\r\n\r\n```\r\nThe only solution I have found which seems to be an expensive operation is converting the data customerInfoList into InfoDao by BeanUtils, so that all the fields of CustomerInfoList is copied to InfoDao(without the Customer field). Please suggest a better solution. \r\n\r\n```\r\nprivate List&lt;InfoDao&gt; convertToArray(List&lt;?&gt; list){\r\n  List&lt;InfoDao&gt; list1 = new ArrayList&lt;&gt;();\r\n  for(Object v:list){\r\n    InfoDao infoDao = new InfoDao();\r\n    BeanUtils.copyProperties(v,infoDao);\r\n    list1.add(infoDao);\r\n  }\r\n  return list1;\r\n}\r\n```\r\nInfoDao has the same schema as CustomerInfo but without Customer reference with it.\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class InfoDao implements Serializable{\r\n\r\n    private Long CustomerInfoId;\r\n\r\n    private String metaKey;\r\n\r\n    private String metaValue;\r\n}\r\n```\r\n\r\n\r\n","title":"How to fix org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: info, could not initialize proxy - no Session","body":"<p>I have a customer and a customer info entity in my spring boot project. They have an one to many relationship.</p>\n<pre><code>@Data\n@Builder\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;customer&quot;)\npublic class Customer implements Serializable{\n\n    @Serial\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long serialNumber;\n\n    private Long customerId;\n    private String name;\n\n\n\n    @Column(name = &quot;session_id&quot;, length = 128)\n    private String sessionId;\n\n    @JsonManagedReference(&quot;customer-customer_info&quot;)\n    @OneToMany(targetEntity = CustomerInfo.class, mappedBy=&quot;Customer&quot;, cascade = CascadeType.ALL)\n    private List&lt;CustomerInfo&gt; customerInfoList;\n\n}\n\n@Data\n@Builder\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;customer_info&quot;)\npublic class CustomerInfo implements Serializable{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long CustomerInfoId;\n\n    @ManyToOne\n    @JsonBackReference(&quot;customer-customer_info&quot;)\n    @ToString.Exclude\n    @JoinColumn(name=&quot;customer_session_id&quot;, nullable=false, referencedColumnName = &quot;session_id&quot;)\n    private Customer customer;\n\n    private String metaKey;\n\n    @Convert(converter = Encryptor.class)\n    private String metaValue;\n}\n</code></pre>\n<p>Whenever I try to fetch customerInfo with the help of a getter function(customer.getCustomerInfo()) using customer entity. The above exception is thrown. I have read in many places that the error is caused because the JPA session gets closed and does not persist the child entity. However, I have not got a solution out of any of the other stack overflow answers.</p>\n<p>Solutions which have worked partially, however are not desirable:</p>\n<ol>\n<li>I change fetchType of customer_info to EAGER</li>\n<li>Ran a seperate query in the customer_info table.</li>\n</ol>\n<p>The problem sadly does not replicate itself in my local environment. I do not understand why?\n(I understood why I could not replicate the problem, I saw <a href=\"https://stackoverflow.com/questions/34641670/restcontroller-methods-seem-to-be-transactional-by-default-why\">@RestController methods seem to be Transactional by default, Why?</a> and added spring.jpa.open-in-view=false in my application.properties file)</p>\n<p>Solutions which were suggested in Stack overflow and I have tried,</p>\n<ol>\n<li>I have tried out the @Transactional fix over the service class's method calling the customer entity is called. However, the customer entity is then used in some other function down the line.</li>\n<li><code>List&lt;CustomerInfo&gt; customerInfoList = customer.getCustomerInfoList();</code> [This line does not throw the error, I had event printed the className of customerInfoList, it was persistentBag. The below line throws the error.] <code>Hibernate.initialise(customerList)</code></li>\n</ol>\n<p>Spring boot version : 2.6.2\nJava : 17</p>\n<p>There are two services with the issue, ConnectionServiceImpl and CompletionServiceImpl. Service classes where the issue happens :</p>\n<p>ConnectionServiceImpl -&gt;</p>\n<pre><code>@Service(ConnectionServiceImpl)\npublic class ConnectionServiceImpl implements ConnectionService {\n\n@Autowired\nprivate CompletionService completionService;\n\n@Override\npublic boolean test(){\n  Request request = completionService.recordData(session-id);\n\n    try {\n      System.out.println(request.toString()); //this is working fine\n\n      String str = GsonSerializer.getInstance().toJson(request); //this is throwing the exception\n      System.out.println(str);\n    }\n    catch(Exception ex) {\n      System.out.println(ex);\n//org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.test.entity.Customer.customerInfoList, could not initialize proxy - no Session\n    }\n    return true;\n}\n}\n\n</code></pre>\n<p>CompletionServiceImpl-&gt;</p>\n<pre><code>@Service(CompletionServiceImpl)\npublic class CompletionServiceImpl implements CompletionService {\n\n@Autowired\nprivate CustomerInfoRepository customerInfoRepository;\n\n@Override\npublic Request recordData(String session){\n    return prepareData(session);\n}\n\nprivate Request prepareData(String session){\n    Request request = new Request();\n    fillData(request, session);\n    return request;\n}\n\nprivate void fillData(Request request, String session){\n    Customer customer = customerRepository.findBySessionId(sessionId);\n    request.setCustomerId(customer.getCustomerId());\n    request.setData(parseResponse(customer, request));\n    return ;\n}\n\nprivate List&lt;CustomerInfo&gt; parseResponse(Customer customer, Request request){\n    List&lt;CustomerInfo&gt; customerInfoList = customerInfoRepository.findBySessionId(customer.getSessionId());\n    CustomerInfo customerInfo = customerInfoList.stream()\n                        .filter(info -&gt; info.getMetaKey().equalsIgnoreCase(KEY))\n                        .findFirst()\n                        .orElse(null);\n\n    request.setKey(customerInfo.getMetaValue());\n    return customerInfoList;\n}\n\n}\n\n</code></pre>\n<p>When I run the code in debug mode, I see this error at the breakpoint,\n<strong>Method threw 'org.hibernate.LazyInitializationException' exception. Cannot evaluate com.test.entity.Customer.toString()</strong></p>\n<p>The request class <strong>Request</strong>, serialising which is causing the whole problem is :</p>\n<pre><code>\n@Data\npublic class Request implements Serializable {\n\n    private Long customerId;\n    private List&lt;?&gt; data;\n    private String key;\n}\n\n</code></pre>\n<p>The only solution I have found which seems to be an expensive operation is converting the data customerInfoList into InfoDao by BeanUtils, so that all the fields of CustomerInfoList is copied to InfoDao(without the Customer field). Please suggest a better solution.</p>\n<pre><code>private List&lt;InfoDao&gt; convertToArray(List&lt;?&gt; list){\n  List&lt;InfoDao&gt; list1 = new ArrayList&lt;&gt;();\n  for(Object v:list){\n    InfoDao infoDao = new InfoDao();\n    BeanUtils.copyProperties(v,infoDao);\n    list1.add(infoDao);\n  }\n  return list1;\n}\n</code></pre>\n<p>InfoDao has the same schema as CustomerInfo but without Customer reference with it.</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class InfoDao implements Serializable{\n\n    private Long CustomerInfoId;\n\n    private String metaKey;\n\n    private String metaValue;\n}\n</code></pre>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":5,"creation_date":1574350049,"post_id":58978253,"comment_id":104209812,"body_markdown":"Have you got port 25 open, and do you have an SMTP server running on it ?","body":"Have you got port 25 open, and do you have an SMTP server running on it ?"},{"owner":{"account_id":17148723,"reputation":11,"user_id":12411135,"display_name":"Thuto Motseothata"},"score":0,"creation_date":1574791041,"post_id":58978253,"comment_id":104353164,"body_markdown":"Good day. I am running this using my laptop at home. And connecting to internet via wifi router / modem.","body":"Good day. I am running this using my laptop at home. And connecting to internet via wifi router / modem."},{"owner":{"account_id":8719383,"reputation":380,"user_id":6522992,"display_name":"Volokh"},"score":0,"creation_date":1574856547,"post_id":58978253,"comment_id":104377767,"body_markdown":"Your host is wrong. You have to take gmails smtp address. See the answer below.","body":"Your host is wrong. You have to take gmails smtp address. See the answer below."}],"answers":[{"tags":[],"owner":{"account_id":11670806,"reputation":11,"user_id":8545951,"display_name":"E Kwong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700645374,"creation_date":1700645374,"answer_id":77528738,"question_id":58978253,"body_markdown":"Make sure a SMTP service is listening your localhost 25 port.\r\nYou can use `losf` command  to check.\r\n```bash\r\nlsof -i:25\r\n``` \r\n\r\nIn my test server,\r\n```bash\r\n[root@node1 ~]# lsof -i:25\r\nCOMMAND   PID     USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME\r\npostfix  18178   ekwong   12u  IPv4 1547925      0t0  TCP *:smtp (LISTEN)\r\n```","title":"Sending Email via Java program","body":"<p>Make sure a SMTP service is listening your localhost 25 port.\nYou can use <code>losf</code> command  to check.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>lsof -i:25\n</code></pre>\n<p>In my test server,</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[root@node1 ~]# lsof -i:25\nCOMMAND   PID     USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME\npostfix  18178   ekwong   12u  IPv4 1547925      0t0  TCP *:smtp (LISTEN)\n</code></pre>\n"}],"owner":{"account_id":17148723,"reputation":11,"user_id":12411135,"display_name":"Thuto Motseothata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700645374,"creation_date":1574349751,"question_id":58978253,"body_markdown":"I am using the following code to send email using Java: \r\n\r\n    package com.company;\r\n    \r\n    import java.util.*;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import javax.activation.*;\r\n    \r\n    class SendEmail {\r\n        public static void main(String[] args) {\r\n            // Recipient&#39;s email ID needs to be mentioned.\r\n            String to = &quot;motse.thuto@gmail.com&quot;;\r\n    \r\n            // Sender&#39;s email ID needs to be mentioned\r\n            String from = &quot;web@gmail.com&quot;;\r\n    \r\n            // Assuming you are sending email from localhost\r\n            String host = &quot;localhost&quot;;\r\n    \r\n            // Get system properties\r\n            Properties properties = System.getProperties();\r\n    \r\n            // Setup mail server\r\n            properties.setProperty(&quot;mail.smtp.host&quot;, host);\r\n    \r\n            // Get the default Session object.\r\n            Session session = Session.getDefaultInstance(properties);\r\n    \r\n            try {\r\n                // Create a default MimeMessage object.\r\n                MimeMessage message = new MimeMessage(session);\r\n    \r\n                // Set From: header field of the header.\r\n                message.setFrom(new InternetAddress(from));\r\n    \r\n                // Set To: header field of the header.\r\n                message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n    \r\n                // Set Subject: header field\r\n                message.setSubject(&quot;This is the Subject Line!&quot;);\r\n    \r\n                // Now set the actual message\r\n                message.setText(&quot;This is actual message&quot;);\r\n    \r\n                // Send message\r\n                Transport.send(message);\r\n                System.out.println(&quot;Sent message successfully....&quot;);\r\n            } catch (MessagingException mex) {\r\n                mex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nIt gives me the following error:\r\n\r\n    com.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: localhost, 25; timeout -1;\r\n          nested exception is:\r\n        \tjava.net.ConnectException: Connection refused: connect\r\n        \tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2209)\r\n        \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:740)\r\n        \tat javax.mail.Service.connect(Service.java:366)\r\n        \tat javax.mail.Service.connect(Service.java:246)\r\n        \tat javax.mail.Service.connect(Service.java:195)\r\n        \tat javax.mail.Transport.send0(Transport.java:254)\r\n        \tat javax.mail.Transport.send(Transport.java:124)\r\n        \tat com.company.SendEmail.main(Main.java:47)\r\n    \r\n    Process finished with exit code 0\r\n\r\nCan anyone explain why I&#39;m getting this error? Any help will be appreciated.","title":"Sending Email via Java program","body":"<p>I am using the following code to send email using Java: </p>\n\n<pre><code>package com.company;\n\nimport java.util.*;\nimport javax.mail.*;\nimport javax.mail.internet.*;\nimport javax.activation.*;\n\nclass SendEmail {\n    public static void main(String[] args) {\n        // Recipient's email ID needs to be mentioned.\n        String to = \"motse.thuto@gmail.com\";\n\n        // Sender's email ID needs to be mentioned\n        String from = \"web@gmail.com\";\n\n        // Assuming you are sending email from localhost\n        String host = \"localhost\";\n\n        // Get system properties\n        Properties properties = System.getProperties();\n\n        // Setup mail server\n        properties.setProperty(\"mail.smtp.host\", host);\n\n        // Get the default Session object.\n        Session session = Session.getDefaultInstance(properties);\n\n        try {\n            // Create a default MimeMessage object.\n            MimeMessage message = new MimeMessage(session);\n\n            // Set From: header field of the header.\n            message.setFrom(new InternetAddress(from));\n\n            // Set To: header field of the header.\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n\n            // Set Subject: header field\n            message.setSubject(\"This is the Subject Line!\");\n\n            // Now set the actual message\n            message.setText(\"This is actual message\");\n\n            // Send message\n            Transport.send(message);\n            System.out.println(\"Sent message successfully....\");\n        } catch (MessagingException mex) {\n            mex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>It gives me the following error:</p>\n\n<pre><code>com.sun.mail.util.MailConnectException: Couldn't connect to host, port: localhost, 25; timeout -1;\n      nested exception is:\n        java.net.ConnectException: Connection refused: connect\n        at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2209)\n        at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:740)\n        at javax.mail.Service.connect(Service.java:366)\n        at javax.mail.Service.connect(Service.java:246)\n        at javax.mail.Service.connect(Service.java:195)\n        at javax.mail.Transport.send0(Transport.java:254)\n        at javax.mail.Transport.send(Transport.java:124)\n        at com.company.SendEmail.main(Main.java:47)\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>Can anyone explain why I'm getting this error? Any help will be appreciated.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1594148406,"post_id":62782046,"comment_id":111023522,"body_markdown":"Did you check https://stackoverflow.com/questions/49520858/error-occurred-during-initialization-of-boot-layer-findexception-module-not-fou and https://stackoverflow.com/questions/53932777/error-occurred-during-initialization-of-boot-layer?","body":"Did you check <a href=\"https://stackoverflow.com/questions/49520858/error-occurred-during-initialization-of-boot-layer-findexception-module-not-fou\" title=\"error occurred during initialization of boot layer findexception module not fou\">stackoverflow.com/questions/49520858/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/53932777/error-occurred-during-initialization-of-boot-layer\" title=\"error occurred during initialization of boot layer\">stackoverflow.com/questions/53932777/&hellip;</a>?"}],"answers":[{"comments":[{"owner":{"account_id":19022679,"reputation":125,"user_id":13886429,"display_name":"Royginald"},"score":0,"creation_date":1594215565,"post_id":62782980,"comment_id":111048607,"body_markdown":"I tried remaking the file its just that after I hit finish a window popped up asking me to make a module but it had a default name so I just pressed enter. Then I copy and pasted the code and reran it and got the same error: `java.lang.module.FindException: Module eclipseTest1 not found` I added a snip of my project creation window for the new prject","body":"I tried remaking the file its just that after I hit finish a window popped up asking me to make a module but it had a default name so I just pressed enter. Then I copy and pasted the code and reran it and got the same error: <code>java.lang.module.FindException: Module eclipseTest1 not found</code> I added a snip of my project creation window for the new prject"},{"owner":{"account_id":18545626,"reputation":71,"user_id":13513066,"display_name":"abid ali"},"score":0,"creation_date":1594299968,"post_id":62782980,"comment_id":111082087,"body_markdown":"I guess its problem with workspace, first create following directory &quot;C:\\Users\\RoyMc\\eclipse-workspace&quot;,  then at the time of creating project untick  &quot;use default location&quot; and use the above created directory as &quot;Location&quot;.","body":"I guess its problem with workspace, first create following directory &quot;C:\\Users\\RoyMc\\eclipse-workspace&quot;,  then at the time of creating project untick  &quot;use default location&quot; and use the above created directory as &quot;Location&quot;."},{"owner":{"account_id":18545626,"reputation":71,"user_id":13513066,"display_name":"abid ali"},"score":0,"creation_date":1594300086,"post_id":62782980,"comment_id":111082168,"body_markdown":"close eclipse then open it, at Start it will ask you to choose workspace, just browse it to above created directory.","body":"close eclipse then open it, at Start it will ask you to choose workspace, just browse it to above created directory."}],"tags":[],"owner":{"account_id":18545626,"reputation":71,"user_id":13513066,"display_name":"abid ali"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594151838,"creation_date":1594151838,"answer_id":62782980,"question_id":62782046,"body_markdown":"Fist of all, In order to work the line &quot; System.out.println(&quot;Hello&quot;);&quot;\r\n\r\nyou will require two classes\r\n\r\n1)java.lang.System\r\n\r\n2)java.io.PrintStream\r\n\r\nusing above two classes the code runs.you don&#39;t have to import these class,because JRE(Java Runtime Environment) automatically does for you.\r\n\r\nIf you are gettting this error   \r\n\r\n               \r\n **Error occurred during initialization of boot layer   java.lang.module.FindException: Module eclispeTest not found**             \r\n\r\nWhich means **You didn&#39;t setup  your &quot;Java project&quot; properly  with &quot;JRE&quot;**  \r\n\r\n\r\n----------\r\n**Let create new project to solve this problem**\r\n\r\n1)Open Eclipse IDE  \r\n\r\n2)click FILE (top left most)  \r\n\r\n3)New  \r\n\r\n4)java project  \r\n\r\n5)give you project name (make sure that- &quot;use default location checkbox&quot; clicked)  \r\n\r\n6)IN JRE section - select **use an execution environment JRE**(edition as required)\r\n \r\n7)Then click finish\r\n\r\nThis would have solved your problem , go create a Class do your eclipseTest. This time it should work.\r\n\r\n[java project creation should look like this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iN3bF.png","title":"Eclipse java.lang.module.FindException and java.lang.ClassNotFoundException","body":"<p>Fist of all, In order to work the line &quot; System.out.println(&quot;Hello&quot;);&quot;</p>\n<p>you will require two classes</p>\n<p>1)java.lang.System</p>\n<p>2)java.io.PrintStream</p>\n<p>using above two classes the code runs.you don't have to import these class,because JRE(Java Runtime Environment) automatically does for you.</p>\n<p>If you are gettting this error</p>\n<p><strong>Error occurred during initialization of boot layer   java.lang.module.FindException: Module eclispeTest not found</strong></p>\n<p>Which means <strong>You didn't setup  your &quot;Java project&quot; properly  with &quot;JRE&quot;</strong></p>\n<hr />\n<p><strong>Let create new project to solve this problem</strong></p>\n<p>1)Open Eclipse IDE</p>\n<p>2)click FILE (top left most)</p>\n<p>3)New</p>\n<p>4)java project</p>\n<p>5)give you project name (make sure that- &quot;use default location checkbox&quot; clicked)</p>\n<p>6)IN JRE section - select <strong>use an execution environment JRE</strong>(edition as required)</p>\n<p>7)Then click finish</p>\n<p>This would have solved your problem , go create a Class do your eclipseTest. This time it should work.</p>\n<p><a href=\"https://i.stack.imgur.com/iN3bF.png\" rel=\"nofollow noreferrer\">java project creation should look like this</a></p>\n"}],"owner":{"account_id":19022679,"reputation":125,"user_id":13886429,"display_name":"Royginald"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6951,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700644834,"creation_date":1594148109,"question_id":62782046,"body_markdown":"I recently installed Eclipse 2020-06 and am using JDK 10.0.2. I wanted to test Eclipse using a simple Hello world program:\r\n\r\n```\r\n    package eclispeTest;\r\n    \r\n    public class eclipseTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tSystem.out.println(&quot;Hello&quot;);\r\n    \t}\r\n    \r\n    }\r\n```\r\n\r\nBut I get the error: `Error occurred during initialization of boot layer   java.lang.module.FindException: Module eclispeTest not found`\r\n\r\nOne quick fix I see for this to delete the module-info.java file but when I do this I get the error: `Error: Could not find or load main class eclispeTest.eclipseTest   Caused by: java.lang.ClassNotFoundException: eclispeTest.eclipseTest` \r\n\r\nI saw one potential fix that told me to go to &quot;Check your project build-path and enable specific output folders for each folder. Go one by one though each source-folder of your project and set the output folder that maven would use.&quot; \r\nfrom: https://stackoverflow.com/questions/1052978/eclipse-java-lang-classnotfoundexception\r\n\r\nBut I am new to Eclipse and have no idea what they are talking about.\r\n\r\nI have also noticed that when I open the problems tab at the bottom of Eclipse there is one problem that is repeated about 8 times: `Description\tResource\tPath\tLocation\tType\r\nThe project was not built due to &quot;Failed to init ct.sym for C:\\Program Files\\Java\\jre-10.0.2\\lib\\jrt-fs.jar&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent\teclispeTest\t\tUnknown\tJava Problem`\r\n\r\nCould someone help me figure out what I should try, with baby steps for how I should do it.\r\n\r\nThank you in advance.\r\n\r\n\r\n[PS in case it helps here is a picture of my Eclipse window after I try to run my code:][1]\r\n\r\n\r\nEDIT: I made a new java project and below is my java project cration window [![java project cration window][2]][2] \r\n(I still got the same error)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qiTYR.png\r\n  [2]: https://i.stack.imgur.com/Pv6Ka.png","title":"Eclipse java.lang.module.FindException and java.lang.ClassNotFoundException","body":"<p>I recently installed Eclipse 2020-06 and am using JDK 10.0.2. I wanted to test Eclipse using a simple Hello world program:</p>\n<pre><code>    package eclispeTest;\n    \n    public class eclipseTest {\n    \n        public static void main(String[] args) {\n            // TODO Auto-generated method stub\n            System.out.println(&quot;Hello&quot;);\n        }\n    \n    }\n</code></pre>\n<p>But I get the error: <code>Error occurred during initialization of boot layer   java.lang.module.FindException: Module eclispeTest not found</code></p>\n<p>One quick fix I see for this to delete the module-info.java file but when I do this I get the error: <code>Error: Could not find or load main class eclispeTest.eclipseTest   Caused by: java.lang.ClassNotFoundException: eclispeTest.eclipseTest</code></p>\n<p>I saw one potential fix that told me to go to &quot;Check your project build-path and enable specific output folders for each folder. Go one by one though each source-folder of your project and set the output folder that maven would use.&quot;\nfrom: <a href=\"https://stackoverflow.com/questions/1052978/eclipse-java-lang-classnotfoundexception\">Eclipse - java.lang.ClassNotFoundException</a></p>\n<p>But I am new to Eclipse and have no idea what they are talking about.</p>\n<p>I have also noticed that when I open the problems tab at the bottom of Eclipse there is one problem that is repeated about 8 times: <code>Description    Resource    Path    Location    Type The project was not built due to &quot;Failed to init ct.sym for C:\\Program Files\\Java\\jre-10.0.2\\lib\\jrt-fs.jar&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent    eclispeTest     Unknown Java Problem</code></p>\n<p>Could someone help me figure out what I should try, with baby steps for how I should do it.</p>\n<p>Thank you in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/qiTYR.png\" rel=\"nofollow noreferrer\">PS in case it helps here is a picture of my Eclipse window after I try to run my code:</a></p>\n<p>EDIT: I made a new java project and below is my java project cration window <a href=\"https://i.stack.imgur.com/Pv6Ka.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pv6Ka.png\" alt=\"java project cration window\" /></a>\n(I still got the same error)</p>\n"},{"tags":["java","keycloak","quarkus","redhat","keycloak-spi"],"owner":{"account_id":26173943,"reputation":1,"user_id":19858437,"display_name":"ela_13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700644794,"creation_date":1700644044,"question_id":77528611,"body_markdown":"I am working on a Keycloak user federation application that uses the [user-storage-jpa from keycloak-quickstarts](https://github.com/keycloak/keycloak-quickstarts/tree/latest/extension/user-storage-jpa). I configured it to use a MySQL database as shown in the following quarkus.properties file:\r\n\r\n```\r\nquarkus.datasource.custom-user-store.jdbc.transactions=xa\r\nquarkus.datasource.custom-user-store.db-kind=mysql\r\nquarkus.datasource.custom-user-store.username=username\r\nquarkus.datasource.custom-user-store.password=password\r\nquarkus.datasource.custom-user-store.jdbc.url=jdbc:mysql://localhost:3308/my_db\r\nquarkus.datasource.custom-user-store.health.enabled=true\r\n\r\nquarkus.datasource.keycloak-user-store.jdbc.transactions=xa\r\nquarkus.datasource.keycloak-user-store.db-kind=mysql\r\nquarkus.datasource.keycloak-user-store.username=username\r\nquarkus.datasource.keycloak-user-store.password=password\r\nquarkus.datasource.keycloak-user-store.jdbc.url=jdbc:mysql://localhost:3308/keycloak_db\r\nquarkus.datasource.keycloak-user-store.health.enabled=true\r\n```\r\n\r\nHowever, I want to set the JDBC URL (`quarkus.datasource.custom-user-store.jdbc.url` and `quarkus.datasource.keycloak-user-store.jdbc.url`), along with the credentials, dynamically at runtime, while Keycloak is running, based on user input from the Keycloak admin console. The JDBC URL is retrieved from the Keycloak model as follows:\r\n\r\n`String jdbcUrl = model.getConfig().getFirst(String.valueOf(ConfigProperties.JDBC_URL));`\r\n\r\n[Here is the admin console where the user types in the database credentials as well as the JDBC URL.](https://i.stack.imgur.com/ugu5u.png)\r\n\r\n\r\nI understand that Quarkus reads the quarkus.properties file at build time. Therefore, I am not sure how I can override the JDBC URL at runtime, while Keycloak is running. Is there a way to create a datasource at runtime with the JDBC URL set dynamically? If so, how can I achieve this?\r\n\r\nI would appreciate any guidance or suggestions. Thanks in advance!\r\n\r\nI tried using the System.property() but it is not working because the involved properties are not set before starting Keycloak.","title":"Keycloak Runtime Quarkus Properties","body":"<p>I am working on a Keycloak user federation application that uses the <a href=\"https://github.com/keycloak/keycloak-quickstarts/tree/latest/extension/user-storage-jpa\" rel=\"nofollow noreferrer\">user-storage-jpa from keycloak-quickstarts</a>. I configured it to use a MySQL database as shown in the following quarkus.properties file:</p>\n<pre><code>quarkus.datasource.custom-user-store.jdbc.transactions=xa\nquarkus.datasource.custom-user-store.db-kind=mysql\nquarkus.datasource.custom-user-store.username=username\nquarkus.datasource.custom-user-store.password=password\nquarkus.datasource.custom-user-store.jdbc.url=jdbc:mysql://localhost:3308/my_db\nquarkus.datasource.custom-user-store.health.enabled=true\n\nquarkus.datasource.keycloak-user-store.jdbc.transactions=xa\nquarkus.datasource.keycloak-user-store.db-kind=mysql\nquarkus.datasource.keycloak-user-store.username=username\nquarkus.datasource.keycloak-user-store.password=password\nquarkus.datasource.keycloak-user-store.jdbc.url=jdbc:mysql://localhost:3308/keycloak_db\nquarkus.datasource.keycloak-user-store.health.enabled=true\n</code></pre>\n<p>However, I want to set the JDBC URL (<code>quarkus.datasource.custom-user-store.jdbc.url</code> and <code>quarkus.datasource.keycloak-user-store.jdbc.url</code>), along with the credentials, dynamically at runtime, while Keycloak is running, based on user input from the Keycloak admin console. The JDBC URL is retrieved from the Keycloak model as follows:</p>\n<p><code>String jdbcUrl = model.getConfig().getFirst(String.valueOf(ConfigProperties.JDBC_URL));</code></p>\n<p><a href=\"https://i.stack.imgur.com/ugu5u.png\" rel=\"nofollow noreferrer\">Here is the admin console where the user types in the database credentials as well as the JDBC URL.</a></p>\n<p>I understand that Quarkus reads the quarkus.properties file at build time. Therefore, I am not sure how I can override the JDBC URL at runtime, while Keycloak is running. Is there a way to create a datasource at runtime with the JDBC URL set dynamically? If so, how can I achieve this?</p>\n<p>I would appreciate any guidance or suggestions. Thanks in advance!</p>\n<p>I tried using the System.property() but it is not working because the involved properties are not set before starting Keycloak.</p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1700590067,"post_id":77524772,"comment_id":136672500,"body_markdown":"Read the message and stack trace associated with that &quot;internal error&quot; for the answer. In case you&#39;re not capable to interpret it, head to https://stackoverflow.com/q/3988788 for assistance.","body":"Read the message and stack trace associated with that &quot;internal error&quot; for the answer. In case you&#39;re not capable to interpret it, head to <a href=\"https://stackoverflow.com/q/3988788\">stackoverflow.com/q/3988788</a> for assistance."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1700595044,"post_id":77524772,"comment_id":136673348,"body_markdown":"This question should include more details and clarify the problem.","body":"This question should include more details and clarify the problem."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700649073,"post_id":77524772,"comment_id":136679656,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":18065201,"reputation":1,"user_id":13131302,"display_name":"Bhargava B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700644500,"creation_date":1700587414,"question_id":77524772,"body_markdown":"there is a session parameter in java sso file\r\n\r\n`session.setAttribute(&quot;r_param&quot;,  &quot;&amp;r.param$role=&quot; + role)`\r\n\r\nI should Call this session in .jsp , to show some options to admin role user.\r\n\r\n`&lt;tr&gt; &lt;td&gt;&lt;%=session.getAttribute(&quot;r_param&quot;) %&gt;&lt;/td&gt; &lt;% String userrole=session.getAttribute(&quot;r_param&quot;); if (userrole.contains(&quot;admin&quot;)) { %&gt;`\r\n\r\nbut Im getting internal error, whats the correct syntax ?\r\n\r\nwhen its admin, some options should be shown","title":"How do I call session parameter in java sso to jsp to render some dropdown?","body":"<p>there is a session parameter in java sso file</p>\n<p><code>session.setAttribute(&quot;r_param&quot;,  &quot;&amp;r.param$role=&quot; + role)</code></p>\n<p>I should Call this session in .jsp , to show some options to admin role user.</p>\n<p><code>&lt;tr&gt; &lt;td&gt;&lt;%=session.getAttribute(&quot;r_param&quot;) %&gt;&lt;/td&gt; &lt;% String userrole=session.getAttribute(&quot;r_param&quot;); if (userrole.contains(&quot;admin&quot;)) { %&gt;</code></p>\n<p>but Im getting internal error, whats the correct syntax ?</p>\n<p>when its admin, some options should be shown</p>\n"},{"tags":["java","spring-boot","maven","model-view-controller","h2"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1700562399,"post_id":77522006,"comment_id":136667176,"body_markdown":"What exactly is your question if your code works? Also, your `Request`entity does not match your description. You say you have two foreign keys, but in your code, you have only one, which is `request.employee_id`. You have no separate requester and approver columns.","body":"What exactly is your question if your code works? Also, your <code>Request</code>entity does not match your description. You say you have two foreign keys, but in your code, you have only one, which is <code>request.employee_id</code>. You have no separate requester and approver columns."},{"owner":{"account_id":25491255,"reputation":13,"user_id":19285992,"display_name":"mario miletic"},"score":0,"creation_date":1700563442,"post_id":77522006,"comment_id":136667387,"body_markdown":"You&#39;are right I understand.\nI meant to say is there are 2 fields that reference employee_id, but I want to distinguish them by the role field that employee class has(if that is possible).\nAnd the initial question was how to do the mappedBy if it was mapped by the requester AND the approver, or is it just a wrong approach of doing it.","body":"You&#39;are right I understand. I meant to say is there are 2 fields that reference employee_id, but I want to distinguish them by the role field that employee class has(if that is possible). And the initial question was how to do the mappedBy if it was mapped by the requester AND the approver, or is it just a wrong approach of doing it."},{"owner":{"account_id":25491255,"reputation":13,"user_id":19285992,"display_name":"mario miletic"},"score":0,"creation_date":1700563757,"post_id":77522006,"comment_id":136667440,"body_markdown":"I&#39;m going to use roles for different login interfaces and rights.\nexample when admin logs in he has a different interface with a right to remove an manager and appoint another one.\nstaff member can only sent requests for days of and see how many does he have left","body":"I&#39;m going to use roles for different login interfaces and rights. example when admin logs in he has a different interface with a right to remove an manager and appoint another one. staff member can only sent requests for days of and see how many does he have left"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1700563929,"post_id":77522006,"comment_id":136667466,"body_markdown":"You can&#39;t distinguish those two fields because you use the same column for them (`request.employee_id`). The way you currently wrote your code, `approver` is a readonly copy of whatever is in `requester`. Whatever you put in `approver` is just ignored. Your code makes no sense.","body":"You can&#39;t distinguish those two fields because you use the same column for them (<code>request.employee_id</code>). The way you currently wrote your code, <code>approver</code> is a readonly copy of whatever is in <code>requester</code>. Whatever you put in <code>approver</code> is just ignored. Your code makes no sense."}],"owner":{"account_id":25491255,"reputation":13,"user_id":19285992,"display_name":"mario miletic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700644254,"creation_date":1700561965,"question_id":77522006,"body_markdown":"In a request(request is for vacation days dates), that an employee can send, it needs to be clear who sent the request and who approved it(manager approves it), that&#39;s why I have requester and approver fields.\r\nI have employee class in which(besides username, email etc.) I have a role filed(role is an enum - it has &#39;ADMIN&#39;, &#39;MANAGER&#39; and &#39;STAFF_MEMBER&#39;) so I can distinguish who is who.\r\nI have an bidirectional relationship between Request and Employee, my question is:\r\nHow to do the mappedBy part if the field(&#39;requests&#39;) is connected with two fields that use @JoinColumn on the same id(of table Employee).\r\nIn my example i put mappedBy = &quot;requester&quot; but does it also need to be connected with &quot;approver&quot; also?\r\n\r\nEmployee.Java\r\n\r\n```\r\npackage com.incompatibleTypes.plancation.plancationapp.model;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Data\r\n@Entity\r\npublic class Employee {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String username;\r\n    private String mail;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;department_id&quot;)\r\n    private Department department;\r\n\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;requester&quot;)\r\n    private Set&lt;Request&gt; requests = new HashSet&lt;&gt;();\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;vacation_day_id&quot;)\r\n    private VacationDay minimalVacationDay;\r\n    //private int total_vacation_days; // moze bit field, ali bolje kalk. vrijednost\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;minimalVacationDay_employee&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;bonus_vacation_day_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;employee_id&quot;)\r\n    )\r\n    private Set&lt;BonusVacationDay&gt; bonusVacationDays = new HashSet&lt;&gt;();\r\n    private LocalDateTime dateEmployed;\r\n}\r\n\r\n```\r\n\r\nRequest.java\r\n\r\n```\r\npackage com.incompatibleTypes.plancation.plancationapp.model;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Data\r\n@Entity\r\npublic class Request {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;file_id&quot;)\r\n    private Set&lt;File&gt; files = new HashSet&lt;&gt;();\r\n    private LocalDateTime timeCreated;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    private Employee requester;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;, insertable = false, updatable = false)\r\n    private Employee approver;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI just put mappedBy = &quot;requester&quot; to see if the program will run, and it did, no errors.","title":"Two class properties that point to the same related object","body":"<p>In a request(request is for vacation days dates), that an employee can send, it needs to be clear who sent the request and who approved it(manager approves it), that's why I have requester and approver fields.\nI have employee class in which(besides username, email etc.) I have a role filed(role is an enum - it has 'ADMIN', 'MANAGER' and 'STAFF_MEMBER') so I can distinguish who is who.\nI have an bidirectional relationship between Request and Employee, my question is:\nHow to do the mappedBy part if the field('requests') is connected with two fields that use @JoinColumn on the same id(of table Employee).\nIn my example i put mappedBy = &quot;requester&quot; but does it also need to be connected with &quot;approver&quot; also?</p>\n<p>Employee.Java</p>\n<pre><code>package com.incompatibleTypes.plancation.plancationapp.model;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\n\nimport java.time.LocalDateTime;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Data\n@Entity\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String username;\n    private String mail;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;department_id&quot;)\n    private Department department;\n\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;requester&quot;)\n    private Set&lt;Request&gt; requests = new HashSet&lt;&gt;();\n\n    @ManyToOne\n    @JoinColumn(name = &quot;vacation_day_id&quot;)\n    private VacationDay minimalVacationDay;\n    //private int total_vacation_days; // moze bit field, ali bolje kalk. vrijednost\n    @ManyToMany\n    @JoinTable(\n            name = &quot;minimalVacationDay_employee&quot;,\n            joinColumns = @JoinColumn(name = &quot;bonus_vacation_day_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;employee_id&quot;)\n    )\n    private Set&lt;BonusVacationDay&gt; bonusVacationDays = new HashSet&lt;&gt;();\n    private LocalDateTime dateEmployed;\n}\n\n</code></pre>\n<p>Request.java</p>\n<pre><code>package com.incompatibleTypes.plancation.plancationapp.model;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\n\nimport java.time.LocalDateTime;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Data\n@Entity\npublic class Request {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @OneToMany\n    @JoinColumn(name = &quot;file_id&quot;)\n    private Set&lt;File&gt; files = new HashSet&lt;&gt;();\n    private LocalDateTime timeCreated;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;employee_id&quot;)\n    private Employee requester;\n    @ManyToOne\n    @JoinColumn(name = &quot;employee_id&quot;, insertable = false, updatable = false)\n    private Employee approver;\n}\n</code></pre>\n<p>I just put mappedBy = &quot;requester&quot; to see if the program will run, and it did, no errors.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":18896701,"reputation":86,"user_id":13785702,"display_name":"Nasten1988"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618604384,"creation_date":1618604384,"answer_id":67131714,"question_id":67129275,"body_markdown":"Maybe you need to set the background of the text to. Maybe its easier to use javafx. ","title":"Is there a way to change the buttons color ona a jDatePicker","body":"<p>Maybe you need to set the background of the text to. Maybe its easier to use javafx.</p>\n"},{"tags":[],"owner":{"account_id":6396646,"reputation":13,"user_id":4960775,"display_name":"Schafstelze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700644236,"creation_date":1700644236,"answer_id":77528628,"question_id":67129275,"body_markdown":"I know, this thread is old, but maybe this helps:\r\nYou can set Colors of the JDatePicker class by calling\r\n\r\n    ComponentColorDefaults.getInstance().setColor(ComponentColorDefaults.Key.BG_MONTH_SELECTOR, Color.YELLOW);\r\n\r\nThis will set the color for all JDatePicker instances of your project.","title":"Is there a way to change the buttons color ona a jDatePicker","body":"<p>I know, this thread is old, but maybe this helps:\nYou can set Colors of the JDatePicker class by calling</p>\n<pre><code>ComponentColorDefaults.getInstance().setColor(ComponentColorDefaults.Key.BG_MONTH_SELECTOR, Color.YELLOW);\n</code></pre>\n<p>This will set the color for all JDatePicker instances of your project.</p>\n"}],"owner":{"account_id":21285018,"reputation":9,"user_id":15662805,"display_name":"ItzEchooo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700644236,"creation_date":1618591961,"question_id":67129275,"body_markdown":"I want to change the buttons color of the jDatePicker and i dont know how.\r\n\r\n    public JDatePickerImpl dateSelector()\r\n\t{\r\n\t\tUtilDateModel model = new UtilDateModel();\r\n\t\tProperties p = new Properties();\r\n\t\tp.put(&quot;text.today&quot;, &quot;Today&quot;);\r\n\t\tp.put(&quot;text.month&quot;, &quot;Month&quot;);\r\n\t\tp.put(&quot;text.year&quot;, &quot;Year&quot;);\r\n\t\tJDatePanelImpl datePanel = new JDatePanelImpl(model, p);\r\n\t\tdatePanel.setBackground(Color.decode(&quot;#00387b&quot;));\r\n\t\tdatePanel.setForeground(Color.decode(&quot;#00387b&quot;));\r\n\t\tJDatePickerImpl datePicker = new JDatePickerImpl(datePanel, new DateLabelFormatter());\r\n\t\tdatePicker.setBackground(Color.decode(&quot;#00387b&quot;));\r\n\t\tdatePicker.setForeground(Color.decode(&quot;#00387b&quot;));\r\n\t\treturn datePicker;\r\n\t}\r\nIt seems like `setBackground()` only adds a small stripe of color next to the button and `setForeground` does absolutely nothing. Syme for the combo box.\r\nThanks for your help\r\n","title":"Is there a way to change the buttons color ona a jDatePicker","body":"<p>I want to change the buttons color of the jDatePicker and i dont know how.</p>\n<pre><code>public JDatePickerImpl dateSelector()\n{\n    UtilDateModel model = new UtilDateModel();\n    Properties p = new Properties();\n    p.put(&quot;text.today&quot;, &quot;Today&quot;);\n    p.put(&quot;text.month&quot;, &quot;Month&quot;);\n    p.put(&quot;text.year&quot;, &quot;Year&quot;);\n    JDatePanelImpl datePanel = new JDatePanelImpl(model, p);\n    datePanel.setBackground(Color.decode(&quot;#00387b&quot;));\n    datePanel.setForeground(Color.decode(&quot;#00387b&quot;));\n    JDatePickerImpl datePicker = new JDatePickerImpl(datePanel, new DateLabelFormatter());\n    datePicker.setBackground(Color.decode(&quot;#00387b&quot;));\n    datePicker.setForeground(Color.decode(&quot;#00387b&quot;));\n    return datePicker;\n}\n</code></pre>\n<p>It seems like <code>setBackground()</code> only adds a small stripe of color next to the button and <code>setForeground</code> does absolutely nothing. Syme for the combo box.\nThanks for your help</p>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":1,"creation_date":1557185978,"post_id":3987921,"comment_id":98671989,"body_markdown":"You have to delete the contents of the directory first -- however if it still doesn&#39;t work with an empty directory, it is because you&#39;re running on Windows, and the directory is locked because something is viewing the directory (or the current directory is set to the directory).","body":"You have to delete the contents of the directory first -- however if it still doesn&#39;t work with an empty directory, it is because you&#39;re running on Windows, and the directory is locked because something is viewing the directory (or the current directory is set to the directory)."}],"answers":[{"tags":[],"owner":{"account_id":214894,"reputation":9047,"user_id":469153,"accept_rate":71,"display_name":"iirekm"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287667927,"creation_date":1287667927,"answer_id":3987955,"question_id":3987921,"body_markdown":"The directory must be empty to delete it. If it&#39;s not empty, you need to delete it recursively with File.listFiles() and File.delete()","title":"not able to delete the directory through Java","body":"<p>The directory must be empty to delete it. If it's not empty, you need to delete it recursively with File.listFiles() and File.delete()</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1287667967,"creation_date":1287667967,"answer_id":3987964,"question_id":3987921,"body_markdown":"Two other possibilities (besides the directory not being empty):\r\n\r\n - The user which runs the java program does not have write/delete permission for the directory\r\n - The directory is used/locked by a different process (you write that it&#39;s not, but how have you confirmed this?)","title":"not able to delete the directory through Java","body":"<p>Two other possibilities (besides the directory not being empty):</p>\n\n<ul>\n<li>The user which runs the java program does not have write/delete permission for the directory</li>\n<li>The directory is used/locked by a different process (you write that it's not, but how have you confirmed this?)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":11879507,"reputation":483,"user_id":8693592,"display_name":"Rishav Singla"},"score":0,"creation_date":1551856417,"post_id":3987965,"comment_id":96788583,"body_markdown":"not working...if (files.length==0) i.e. if path.listFiles() not contain any file, then unable to delete directory according to your code.","body":"not working...if (files.length==0) i.e. if path.listFiles() not contain any file, then unable to delete directory according to your code."}],"tags":[],"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1287667969,"creation_date":1287667969,"answer_id":3987965,"question_id":3987921,"body_markdown":"in Java, directory deletion is possible only for empty directory, which leads to methods like the following :\r\n\r\n\t/**\r\n\t * Force deletion of directory\r\n\t * @param path\r\n\t * @return\r\n\t */\r\n\tstatic public boolean deleteDirectory(File path) {\r\n\t\tif (path.exists()) {\r\n\t\t\tFile[] files = path.listFiles();\r\n\t\t\tfor (int i = 0; i &lt; files.length; i++) {\r\n\t\t\t\tif (files[i].isDirectory()) {\r\n\t\t\t\t\tdeleteDirectory(files[i]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfiles[i].delete();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn (path.delete());\r\n\t}\r\n\r\n\r\nThis one will delete your folder, even if non-empty, without troubles (excepted when this directory is locked by OS).","title":"not able to delete the directory through Java","body":"<p>in Java, directory deletion is possible only for empty directory, which leads to methods like the following :</p>\n\n<pre><code>/**\n * Force deletion of directory\n * @param path\n * @return\n */\nstatic public boolean deleteDirectory(File path) {\n    if (path.exists()) {\n        File[] files = path.listFiles();\n        for (int i = 0; i &lt; files.length; i++) {\n            if (files[i].isDirectory()) {\n                deleteDirectory(files[i]);\n            } else {\n                files[i].delete();\n            }\n        }\n    }\n    return (path.delete());\n}\n</code></pre>\n\n<p>This one will delete your folder, even if non-empty, without troubles (excepted when this directory is locked by OS).</p>\n"},{"tags":[],"owner":{"account_id":99346,"reputation":11646,"user_id":268396,"display_name":"user268396"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1287668149,"creation_date":1287668149,"answer_id":3987997,"question_id":3987921,"body_markdown":"Looking at the docs:\r\n\r\n&gt;  If this pathname denotes a directory, then the directory must be empty in order to be deleted.\r\n\r\nDid you make sure that the directory is empty (no hidden files either) ?","title":"not able to delete the directory through Java","body":"<p>Looking at the docs:</p>\n\n<blockquote>\n  <p>If this pathname denotes a directory, then the directory must be empty in order to be deleted.</p>\n</blockquote>\n\n<p>Did you make sure that the directory is empty (no hidden files either) ?</p>\n"},{"comments":[{"owner":{"account_id":113637,"reputation":3267,"user_id":299180,"accept_rate":59,"display_name":"Aaron"},"score":0,"creation_date":1328895699,"post_id":3988189,"comment_id":11627316,"body_markdown":"Love when there&#39;s something already written. Totally agree. Thanks for the heads-up.","body":"Love when there&#39;s something already written. Totally agree. Thanks for the heads-up."},{"owner":{"account_id":1093836,"reputation":4986,"user_id":1087874,"display_name":"Dmitry Mitskevich"},"score":0,"creation_date":1339405665,"post_id":3988189,"comment_id":14336382,"body_markdown":"FileUtils#deleteDirectory and FileUtils#forceDelete implementations doing it also recursively...","body":"FileUtils#deleteDirectory and FileUtils#forceDelete implementations doing it also recursively..."}],"tags":[],"owner":{"account_id":223687,"reputation":1150,"user_id":483067,"accept_rate":71,"display_name":"Ilja S."},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1455115879,"creation_date":1287669337,"answer_id":3988189,"question_id":3987921,"body_markdown":"Why to invent a wheel with methods to delete recursively? Take a look at apache commons io.\r\nhttps://commons.apache.org/proper/commons-io/javadocs/api-1.4/\r\n\r\n    FileUtils.deleteDirectory(dir);\r\nOR\r\n\r\n    FileUtils.forceDelete(dir);\r\n\r\nThat is all you need.\r\nThere is also plenty of useful methods to manipulate files...","title":"not able to delete the directory through Java","body":"<p>Why to invent a wheel with methods to delete recursively? Take a look at apache commons io.\n<a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-1.4/\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-io/javadocs/api-1.4/</a></p>\n\n<pre><code>FileUtils.deleteDirectory(dir);\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>FileUtils.forceDelete(dir);\n</code></pre>\n\n<p>That is all you need.\nThere is also plenty of useful methods to manipulate files...</p>\n"}],"owner":{"account_id":56390,"reputation":2647,"user_id":168896,"accept_rate":48,"display_name":"Vipul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20163,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":3987965,"answer_count":5,"score":16,"last_activity_date":1700643998,"creation_date":1287667721,"question_id":3987921,"body_markdown":"In my application I have written the code to delete the directory from drive but when I inspect the delete function of File it doesn&#39;t delete the file. I have written some thing like this \r\n\r\n    //Code to delete the directory if it exists\r\n    File directory = new File(&quot;c:\\\\Report\\\\&quot;);\r\n    if(directory.exists())\r\n        directory.delete(); \r\n\r\nThe directory is not in use: still it is not able to delete the directory.","title":"not able to delete the directory through Java","body":"<p>In my application I have written the code to delete the directory from drive but when I inspect the delete function of File it doesn't delete the file. I have written some thing like this</p>\n<pre><code>//Code to delete the directory if it exists\nFile directory = new File(&quot;c:\\\\Report\\\\&quot;);\nif(directory.exists())\n    directory.delete(); \n</code></pre>\n<p>The directory is not in use: still it is not able to delete the directory.</p>\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":1344409,"reputation":9495,"user_id":1285418,"display_name":"Pau Kiat Wee"},"score":0,"creation_date":1338303317,"post_id":10801453,"comment_id":14053416,"body_markdown":"[This](http://sqa.stackexchange.com/questions/2197/how-do-i-download-a-file-using-seleniums-webdriver) might help.","body":"<a href=\"http://sqa.stackexchange.com/questions/2197/how-do-i-download-a-file-using-seleniums-webdriver\">This</a> might help."}],"answers":[{"tags":[],"owner":{"account_id":11026712,"reputation":1,"user_id":8099389,"display_name":"Vivek Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498367600,"creation_date":1498329090,"answer_id":44739688,"question_id":10801453,"body_markdown":"Once you click on any link to download a file, it depends on browsers behaviour like\r\nChrome Behaviour: It will start downloading the file by default, as soon as the user click on the link of any file.\r\nIE Behaviour: IE displays a bar at the bottom of the window and displays the option to Save or Cancel the file download.\r\nFireFox Behaviour: This will display an dialog box window and displays the option to Save or Cancel the file download.\r\n  [1]: https://i.stack.imgur.com/TcmVK.png\r\n**So this can be achieved with the help of FireFox Profile.\r\nAnd Before downloading any file you have to pass the MIME type of the file to FireFox Profile.**\r\nSome of the commonly used MIME types are:\r\nText File (.txt)  text/plain\r\nPDF File (.pdf)  application/pdf\r\nCSV File (.csv)  text/csv\r\nMS Excel File (.xlsx)  application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\r\nMS word File (.docx)  application/vnd.openxmlformats-officedocument.wordprocessingml.document\r\n\r\n**HERE IS THE CODE:**\r\n\r\n        import org.openqa.selenium.By;\r\n        import org.openqa.selenium.firefox.FirefoxDriver;\r\n        import org.openqa.selenium.firefox.FirefoxProfile;\r\n\r\n        public class DownloadFiles {\r\n\r\n\t    public static void main(String[] args) throws InterruptedException {\r\n\t    //Create FireFox Profile object\r\n\t\tFirefoxProfile p = new FirefoxProfile();\r\n\r\n\t\t//Set Location to store files after downloading.\r\n\t\tprofile.setPreference(&quot;browser.download.folderList&quot;, 2);\r\n\r\n       //Set preference not to file confirmation dialogue\r\n\t\tprofile.setPreference(&quot;browser.helperApps.neverAsk.saveToDisk&quot;, \r\n\t\t    &quot;application/vnd.openxmlformats-\r\n            officedocument.spreadsheetml.sheet&quot;); \r\n\r\n      // Specify the local system path where to download\r\n         p.setPreference(&quot;browser.download.dir&quot;, &quot;D:\\\\downloads&quot;);\r\n      // Pass Profile parameters in Firefox browser\r\n\t\tFirefoxDriver driver = new FirefoxDriver(profile);  \r\n\r\n\t\t// Open APP to download application\r\n\t\tdriver.get(&quot;http://url&quot;);\r\n\r\n\t\t// Click to download \r\n\t\tdriver.findElement(By.xpath(&quot;//html[@attribute=&#39;value&#39;]&quot;)).click();\r\n\r\n\t\tThread.sleep(5000);\r\n\r\n\t\tdriver.close();\r\n\r\nHope it will solve your queries. Happy coding.\r\n\r\n","title":"How do I download a file using java Selenium WebDriver?","body":"<p>Once you click on any link to download a file, it depends on browsers behaviour like\nChrome Behaviour: It will start downloading the file by default, as soon as the user click on the link of any file.\nIE Behaviour: IE displays a bar at the bottom of the window and displays the option to Save or Cancel the file download.\nFireFox Behaviour: This will display an dialog box window and displays the option to Save or Cancel the file download.\n<strong>So this can be achieved with the help of FireFox Profile.\nAnd Before downloading any file you have to pass the MIME type of the file to FireFox Profile.</strong>\nSome of the commonly used MIME types are:\nText File (.txt)  text/plain\nPDF File (.pdf)  application/pdf\nCSV File (.csv)  text/csv\nMS Excel File (.xlsx)  application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\nMS word File (.docx)  application/vnd.openxmlformats-officedocument.wordprocessingml.document</p>\n\n<p><strong>HERE IS THE CODE:</strong></p>\n\n<pre><code>    import org.openqa.selenium.By;\n    import org.openqa.selenium.firefox.FirefoxDriver;\n    import org.openqa.selenium.firefox.FirefoxProfile;\n\n    public class DownloadFiles {\n\n    public static void main(String[] args) throws InterruptedException {\n    //Create FireFox Profile object\n    FirefoxProfile p = new FirefoxProfile();\n\n    //Set Location to store files after downloading.\n    profile.setPreference(\"browser.download.folderList\", 2);\n\n   //Set preference not to file confirmation dialogue\n    profile.setPreference(\"browser.helperApps.neverAsk.saveToDisk\", \n        \"application/vnd.openxmlformats-\n        officedocument.spreadsheetml.sheet\"); \n\n  // Specify the local system path where to download\n     p.setPreference(\"browser.download.dir\", \"D:\\\\downloads\");\n  // Pass Profile parameters in Firefox browser\n    FirefoxDriver driver = new FirefoxDriver(profile);  \n\n    // Open APP to download application\n    driver.get(\"http://url\");\n\n    // Click to download \n    driver.findElement(By.xpath(\"//html[@attribute='value']\")).click();\n\n    Thread.sleep(5000);\n\n    driver.close();\n</code></pre>\n\n<p>Hope it will solve your queries. Happy coding.</p>\n"},{"tags":[],"owner":{"account_id":6677596,"reputation":1285,"user_id":5151769,"display_name":"YaDav MaNish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498701182,"creation_date":1498400723,"answer_id":44747307,"question_id":10801453,"body_markdown":"I am specifically focusing of the Firefox browser you can use where the download option comes with pop up option when any download link is been click by the visitor. It is shows two buttons and two radio button that gives us the option of save and open the file directly without downloading it afterwards if we find the file is useful we can download it explicitly though the download icon on the above toolbar of the Firefox browser.\r\nSo you can perform the following steps\r\n\r\n1)\tClicking on the download link\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n\r\n    driver.findElement(By.linkText(somelink)).click();\r\n\r\nThe above code can help the WebDriver to identify the object and perform the action which is mentioned\r\n\r\n2)\tOnce the download link is clicked the firefox browser will pop up a download dialog box with multiple option \r\nLike Save radio button, open radio button, ok button, cancel button inorder to use this \r\nYou can use the Robot class or the Keys in the WebDriver\r\nLike\r\n\r\n \r\n    Robot r = new Robot();\r\n\r\n\r\n    r.KeyPress(KeyEvent.VK_TAB); \r\n\r\n\r\nyou can use as many time the above code to press the tab button\r\n\r\n\r\n    r.KeyRelease(KeyEvent.VK_TAB);\r\n\r\n\r\nyou have to release the pressed key \r\n\r\n\r\n lastly perform the enter \r\n\r\n\r\n    r.KeyPress(KeyEvent.VK_ENTER);\r\n\r\nThats it it will help you to download the object when the download link is pressed\r\n\r\nHope it will help you \r\n\r\n\r\n\r\n\r\n","title":"How do I download a file using java Selenium WebDriver?","body":"<p>I am specifically focusing of the Firefox browser you can use where the download option comes with pop up option when any download link is been click by the visitor. It is shows two buttons and two radio button that gives us the option of save and open the file directly without downloading it afterwards if we find the file is useful we can download it explicitly though the download icon on the above toolbar of the Firefox browser.\nSo you can perform the following steps</p>\n\n<p>1)  Clicking on the download link</p>\n\n<pre><code>WebDriver driver = new FirefoxDriver();\n\ndriver.findElement(By.linkText(somelink)).click();\n</code></pre>\n\n<p>The above code can help the WebDriver to identify the object and perform the action which is mentioned</p>\n\n<p>2)  Once the download link is clicked the firefox browser will pop up a download dialog box with multiple option \nLike Save radio button, open radio button, ok button, cancel button inorder to use this \nYou can use the Robot class or the Keys in the WebDriver\nLike</p>\n\n<pre><code>Robot r = new Robot();\n\n\nr.KeyPress(KeyEvent.VK_TAB); \n</code></pre>\n\n<p>you can use as many time the above code to press the tab button</p>\n\n<pre><code>r.KeyRelease(KeyEvent.VK_TAB);\n</code></pre>\n\n<p>you have to release the pressed key </p>\n\n<p>lastly perform the enter </p>\n\n<pre><code>r.KeyPress(KeyEvent.VK_ENTER);\n</code></pre>\n\n<p>Thats it it will help you to download the object when the download link is pressed</p>\n\n<p>Hope it will help you </p>\n"}],"owner":{"account_id":1525384,"reputation":2780,"user_id":1423967,"accept_rate":56,"display_name":"Dave A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700643755,"creation_date":1338302723,"question_id":10801453,"body_markdown":"I&#39;m using Selenium 2.21.0 with Java 6.  How do I use the Selenium WebDriver API to download a file on a web page?  That is, there is a link that causes the download of an Excel file to start.  I would like to know how to initiate that download, determine when its finished, and then figure out where the file got downloaded to on my local system.\r\n","title":"How do I download a file using java Selenium WebDriver?","body":"<p>I'm using Selenium 2.21.0 with Java 6.  How do I use the Selenium WebDriver API to download a file on a web page?  That is, there is a link that causes the download of an Excel file to start.  I would like to know how to initiate that download, determine when its finished, and then figure out where the file got downloaded to on my local system.</p>\n"},{"tags":["java","android","selenium","appium"],"answers":[{"comments":[{"owner":{"account_id":11310238,"reputation":13,"user_id":8293525,"display_name":"Slavic Turo"},"score":0,"creation_date":1499840165,"post_id":45049483,"comment_id":77073147,"body_markdown":"Thanks! How do you find appActivity ?","body":"Thanks! How do you find appActivity ?"},{"owner":{"account_id":5648180,"reputation":293,"user_id":4469631,"display_name":"Madis Kangro"},"score":0,"creation_date":1499840887,"post_id":45049483,"comment_id":77073534,"body_markdown":"Weird. I have never used appPackage and appActivity and the tests for me have been running fine. Those are until needed if you want to open the specific Activity of the app, but if you just want to open the app then it isn&#39;t mandatory.","body":"Weird. I have never used appPackage and appActivity and the tests for me have been running fine. Those are until needed if you want to open the specific Activity of the app, but if you just want to open the app then it isn&#39;t mandatory."},{"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"score":0,"creation_date":1499842300,"post_id":45049483,"comment_id":77074284,"body_markdown":"@SlavicTuro The easiest way is to check with your developer else use the link in my answer. Let me know if it doesnt work","body":"@SlavicTuro The easiest way is to check with your developer else use the link in my answer. Let me know if it doesnt work"}],"tags":[],"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1499839021,"creation_date":1499839021,"answer_id":45049483,"question_id":45049335,"body_markdown":"Along with the desired capabilities, we need to pass the &quot;appPackage&quot; and &quot;appActivity&quot;. Below are the complete desired activities that i have used in my project. \r\n\r\n            DesiredCapabilities capabilities = new DesiredCapabilities();\r\n\t\t\tcapabilities.setCapability(&quot;deviceName&quot;,&quot;ANDROID&quot;);\r\n\t\t\tcapabilities.setCapability(&quot;platformVersion&quot;, &quot;5.1&quot;);\r\n\t\t\tcapabilities.setCapability(&quot;platformName&quot;,Constant.appPlatform);\r\n\t\t\tcapabilities.setCapability(&quot;app&quot;, app.getAbsolutePath());\r\n\t\t\tcapabilities.setCapability(&quot;appPackage&quot;, Constant.appPackage);\r\n\t\t\tcapabilities.setCapability(&quot;appActivity&quot;,Constant.appActivity);\r\n\r\nYou can get the details of the appPackage and appActivity from developer or http://toolsqa.com/mobile-automation/appium/how-to-find-apppackage-and-appactivity-for-apk-file/\r\n\r\nHope this helps you. Thanks.","title":"Encountered internal error running command: Error: Error occured while starting App","body":"<p>Along with the desired capabilities, we need to pass the \"appPackage\" and \"appActivity\". Below are the complete desired activities that i have used in my project. </p>\n\n<pre><code>        DesiredCapabilities capabilities = new DesiredCapabilities();\n        capabilities.setCapability(\"deviceName\",\"ANDROID\");\n        capabilities.setCapability(\"platformVersion\", \"5.1\");\n        capabilities.setCapability(\"platformName\",Constant.appPlatform);\n        capabilities.setCapability(\"app\", app.getAbsolutePath());\n        capabilities.setCapability(\"appPackage\", Constant.appPackage);\n        capabilities.setCapability(\"appActivity\",Constant.appActivity);\n</code></pre>\n\n<p>You can get the details of the appPackage and appActivity from developer or <a href=\"http://toolsqa.com/mobile-automation/appium/how-to-find-apppackage-and-appactivity-for-apk-file/\" rel=\"nofollow noreferrer\">http://toolsqa.com/mobile-automation/appium/how-to-find-apppackage-and-appactivity-for-apk-file/</a></p>\n\n<p>Hope this helps you. Thanks.</p>\n"},{"comments":[{"owner":{"account_id":11310238,"reputation":13,"user_id":8293525,"display_name":"Slavic Turo"},"score":0,"creation_date":1499849007,"post_id":45050591,"comment_id":77078738,"body_markdown":"Also I try to run on emulator. I get this Appium logs:\n\n&#39;Failure [INSTALL_FAILED_OLDER_SDK]\n    at Object.wrappedLogger.errorAndThrow (C:\\Users\\vovan\\AppData\\Local\\Programs\\appium-desktop\\resources\\app\\node_modules\\appium\\node_modules\\appium-support\\lib\\logging.js:63:13)\n    at ADB.callee$0$0$ (C:\\Users\\vovan\\AppData\\Local\\Programs\\appium-desktop\\resources\\app\\node_modules\\appium\\node_modules\\appium-adb\\lib\\tools\\apk-utils.js:186:9)&#39;","body":"Also I try to run on emulator. I get this Appium logs:  &#39;Failure [INSTALL_FAILED_OLDER_SDK]     at Object.wrappedLogger.errorAndThrow (C:\\Users\\vovan\\AppData\\Local\\Programs\\appium-desktop\\resour&zwnj;&#8203;ces\\app\\node_modules&zwnj;&#8203;\\appium\\node_modules&zwnj;&#8203;\\appium-support\\lib\\&zwnj;&#8203;logging.js:63:13)     at ADB.callee$0$0$ (C:\\Users\\vovan\\AppData\\Local\\Programs\\appium-desktop\\resour&zwnj;&#8203;ces\\app\\node_modules&zwnj;&#8203;\\appium\\node_modules&zwnj;&#8203;\\appium-adb\\lib\\tool&zwnj;&#8203;s\\apk-utils.js:186:9&zwnj;&#8203;)&#39;"},{"owner":{"account_id":11310238,"reputation":13,"user_id":8293525,"display_name":"Slavic Turo"},"score":0,"creation_date":1499849170,"post_id":45050591,"comment_id":77078821,"body_markdown":"I installed my app on emulator.","body":"I installed my app on emulator."}],"tags":[],"owner":{"account_id":11310060,"reputation":24,"user_id":8293402,"display_name":"Rakesh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499842843,"creation_date":1499842843,"answer_id":45050591,"question_id":45049335,"body_markdown":"Another way of getting app activty and and app package name is by typing : &#39;adb logcat&#39; in command prompt.\r\n\r\nAt this point ,the app should be open in the connected device.Logs will be generated and the required app details can be fetched from there.","title":"Encountered internal error running command: Error: Error occured while starting App","body":"<p>Another way of getting app activty and and app package name is by typing : 'adb logcat' in command prompt.</p>\n\n<p>At this point ,the app should be open in the connected device.Logs will be generated and the required app details can be fetched from there.</p>\n"},{"tags":[],"owner":{"account_id":7979274,"reputation":57,"user_id":6021277,"accept_rate":0,"display_name":"monil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700643100,"creation_date":1700643100,"answer_id":77528508,"question_id":45049335,"body_markdown":"Another ways to get appPackage and appactivity. \r\n\r\n 1. Launch application in the device\r\n 2. Open Command prompt \r\n 3. Hit command &#39;adb devices&#39; to make sure device is connected\r\n 4. Hit command adb shell\r\n 5. Hit command dumpsys window windows | grep -E &#39;mCurrentFocus\r\n\r\n\r\nIt will fetch appPackage for the opened app and activity which is currently opened\r\n\r\n","title":"Encountered internal error running command: Error: Error occured while starting App","body":"<p>Another ways to get appPackage and appactivity.</p>\n<ol>\n<li>Launch application in the device</li>\n<li>Open Command prompt</li>\n<li>Hit command 'adb devices' to make sure device is connected</li>\n<li>Hit command adb shell</li>\n<li>Hit command dumpsys window windows | grep -E 'mCurrentFocus</li>\n</ol>\n<p>It will fetch appPackage for the opened app and activity which is currently opened</p>\n"}],"owner":{"account_id":11310238,"reputation":13,"user_id":8293525,"display_name":"Slavic Turo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5065,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45049483,"answer_count":3,"score":1,"last_activity_date":1700643100,"creation_date":1499838378,"question_id":45049335,"body_markdown":"The problem: My app opens up and shuts off before `ScrollTo()` command execution. \r\n\r\nI got this error on Appium:   \r\n\r\n&gt; &#39;Encountered internal error running command: Error: Error occured\r\n&gt; while starting App. Original error:\r\n&gt; com.disney.wdpro.android.mdx.activities.LoaderActivity or\r\n&gt; com.disney.mdx.wdw.google.com.disney.wdpro.android.mdx.activities.LoaderActivity\r\n&gt; never started&#39;\r\n\r\nAppium logs:\r\n\r\n    [ADB] 1 device(s) connected\r\n    [ADB] Running &#39;C:\\Users\\vovan\\AppData\\Local\\Android\\sdk\\platform-\r\n    tools\\adb.exe&#39; with args: [&quot;-P&quot;,5037,&quot;-\r\n    s&quot;,&quot;IRN7HITKLFOFVKK7&quot;,&quot;shell&quot;,&quot;am&quot;,&quot;force-stop&quot;,&quot;io.appium.unlock&quot;]\r\n    [AndroidDriver] Not cleaning generated files. Add `clearSystemFiles` \r\n    capability if wanted.\r\n    [MJSONWP] Encountered internal error running command: Error: Error occured \r\n    while starting App. Original error: \r\n    com.disney.wdpro.android.mdx.activities.LoaderActivity \r\n  \r\n    orcom.disney.mdx.wdw.google.com.android.mdx.activities.LoaderActiv\r\n    ity never started\r\n    at Object.wrappedLogger.errorAndThrow \r\n    (C:\\Users\\vovan\\AppData\\Local\\Programs\\appium- \r\n    desktop\\resources\\app\\node_modules\\appium\\node_modules\\appium-\r\n    support\\lib\\logging.js:63:13)\r\n    at ADB.callee$0$0$ (C:\\Users\\vovan\\AppData\\Local\\Programs\\appium-\r\n    desktop\\resources\\app\\node_modules\\appium\\node_modules\\appium-\r\n    adb\\lib\\tools\\apk-utils.js:79:9)\r\n\r\nSelenium Code Eclipse:\r\n\r\n        public void test() throws MalformedURLException, InterruptedException {\r\n\t\tFile appDir = new File(&quot;src&quot;);\r\n\t\tFile app = new File(appDir, &quot;com.disney.mdx.wdw.google.apk&quot;);\r\n\t\t\r\n\t\tDesiredCapabilities cap = new DesiredCapabilities();\r\n\t\tcap.setCapability(MobileCapabilityType.PLATFORM_NAME, \r\n        MobilePlatform.ANDROID);\r\n\t\tcap.setCapability(MobileCapabilityType.DEVICE_NAME, &quot;Android Device&quot;);\r\n\t\tcap.setCapability(MobileCapabilityType.NEW_COMMAND_TIMEOUT, &quot;50&quot;);\r\n\t\tcap.setCapability(MobileCapabilityType.APP, app.getAbsolutePath());\r\n\t\t\r\n\t\tAndroidDriver driver = new AndroidDriver(new \r\n        URL(&quot;http://169.254.159.242:4723/wd/hub&quot;), cap);\r\n\t\tdriver.scrollTo(&quot;Get Started&quot;);\r\n\t\tTouchActions t = new TouchActions(driver);\r\n\t\tWebElement abc = \r\n        driver.findElementById(&quot;com.disney.mdx.wdw.google:id/tutorial_button&quot;);\r\n\t\tt.singleTap(abc).perform();\r\n\t\t","title":"Encountered internal error running command: Error: Error occured while starting App","body":"<p>The problem: My app opens up and shuts off before <code>ScrollTo()</code> command execution. </p>\n\n<p>I got this error on Appium:   </p>\n\n<blockquote>\n  <p>'Encountered internal error running command: Error: Error occured\n  while starting App. Original error:\n  com.disney.wdpro.android.mdx.activities.LoaderActivity or\n  com.disney.mdx.wdw.google.com.disney.wdpro.android.mdx.activities.LoaderActivity\n  never started'</p>\n</blockquote>\n\n<p>Appium logs:</p>\n\n<pre><code>[ADB] 1 device(s) connected\n[ADB] Running 'C:\\Users\\vovan\\AppData\\Local\\Android\\sdk\\platform-\ntools\\adb.exe' with args: [\"-P\",5037,\"-\ns\",\"IRN7HITKLFOFVKK7\",\"shell\",\"am\",\"force-stop\",\"io.appium.unlock\"]\n[AndroidDriver] Not cleaning generated files. Add `clearSystemFiles` \ncapability if wanted.\n[MJSONWP] Encountered internal error running command: Error: Error occured \nwhile starting App. Original error: \ncom.disney.wdpro.android.mdx.activities.LoaderActivity \n\norcom.disney.mdx.wdw.google.com.android.mdx.activities.LoaderActiv\nity never started\nat Object.wrappedLogger.errorAndThrow \n(C:\\Users\\vovan\\AppData\\Local\\Programs\\appium- \ndesktop\\resources\\app\\node_modules\\appium\\node_modules\\appium-\nsupport\\lib\\logging.js:63:13)\nat ADB.callee$0$0$ (C:\\Users\\vovan\\AppData\\Local\\Programs\\appium-\ndesktop\\resources\\app\\node_modules\\appium\\node_modules\\appium-\nadb\\lib\\tools\\apk-utils.js:79:9)\n</code></pre>\n\n<p>Selenium Code Eclipse:</p>\n\n<pre><code>    public void test() throws MalformedURLException, InterruptedException {\n    File appDir = new File(\"src\");\n    File app = new File(appDir, \"com.disney.mdx.wdw.google.apk\");\n\n    DesiredCapabilities cap = new DesiredCapabilities();\n    cap.setCapability(MobileCapabilityType.PLATFORM_NAME, \n    MobilePlatform.ANDROID);\n    cap.setCapability(MobileCapabilityType.DEVICE_NAME, \"Android Device\");\n    cap.setCapability(MobileCapabilityType.NEW_COMMAND_TIMEOUT, \"50\");\n    cap.setCapability(MobileCapabilityType.APP, app.getAbsolutePath());\n\n    AndroidDriver driver = new AndroidDriver(new \n    URL(\"http://169.254.159.242:4723/wd/hub\"), cap);\n    driver.scrollTo(\"Get Started\");\n    TouchActions t = new TouchActions(driver);\n    WebElement abc = \n    driver.findElementById(\"com.disney.mdx.wdw.google:id/tutorial_button\");\n    t.singleTap(abc).perform();\n</code></pre>\n"},{"tags":["java","pid"],"comments":[{"owner":{"account_id":404573,"reputation":7556,"user_id":772981,"accept_rate":46,"display_name":"Jarekczek"},"score":1,"creation_date":1350282825,"post_id":35842,"comment_id":17456198,"body_markdown":"A link to a Linux question: [How do I find my PID in Java or JRuby on Linux?](http://stackoverflow.com/q/138097/772981)","body":"A link to a Linux question: <a href=\"http://stackoverflow.com/q/138097/772981\">How do I find my PID in Java or JRuby on Linux?</a>"},{"owner":{"account_id":1276688,"reputation":1037,"user_id":1231796,"accept_rate":50,"display_name":"Andrew"},"score":5,"creation_date":1424371287,"post_id":35842,"comment_id":45531893,"body_markdown":"This is meant to be fixed in JDK9. http://openjdk.java.net/jeps/102","body":"This is meant to be fixed in JDK9. <a href=\"http://openjdk.java.net/jeps/102\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/102</a>"},{"owner":{"account_id":1366348,"reputation":34421,"user_id":1592191,"accept_rate":100,"display_name":"mrsrinivas"},"score":0,"creation_date":1535776750,"post_id":35842,"comment_id":91200770,"body_markdown":"Way to [do it in Java SE10](https://stackoverflow.com/a/48959178/1592191)","body":"Way to <a href=\"https://stackoverflow.com/a/48959178/1592191\">do it in Java SE10</a>"},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1650467704,"post_id":35842,"comment_id":127124681,"body_markdown":"Another way is to create a JNI library.","body":"Another way is to create a JNI library."}],"answers":[{"comments":[{"owner":{"account_id":1450631,"reputation":786,"user_id":1367685,"display_name":"Michael Klishin"},"score":2,"creation_date":1393491780,"post_id":35885,"comment_id":33456292,"body_markdown":"This solution is really fragile. See an answer about Hyperic Sigar below.","body":"This solution is really fragile. See an answer about Hyperic Sigar below."},{"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"score":0,"creation_date":1422908652,"post_id":35885,"comment_id":44926172,"body_markdown":"that pid is good to write on a lock file as http://stackoverflow.com/a/9020391/1422630","body":"that pid is good to write on a lock file as <a href=\"http://stackoverflow.com/a/9020391/1422630\">stackoverflow.com/a/9020391/1422630</a>"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1667903243,"post_id":35885,"comment_id":131273334,"body_markdown":"@MichaelKlishin in what regard is that fragile?","body":"@MichaelKlishin in what regard is that fragile?"}],"tags":[],"owner":{"account_id":2464,"reputation":9505,"user_id":3432,"accept_rate":86,"display_name":"Wouter Coekaerts"},"comment_count":3,"down_vote_count":4,"up_vote_count":424,"is_accepted":true,"score":420,"last_activity_date":1641430843,"creation_date":1220094677,"answer_id":35885,"question_id":35842,"body_markdown":"There exists no platform-independent way that can be guaranteed to work in all jvm implementations.\r\n`ManagementFactory.getRuntimeMXBean().getName()` looks like the best (closest) solution, and typically includes the PID. It&#39;s short, and *probably* works in every implementation in wide use.\r\n\r\nOn linux+windows it returns a value like `&quot;12345@hostname&quot;` (`12345` being the process id). Beware though that [according to the docs](http://docs.oracle.com/javase/6/docs/api/java/lang/management/RuntimeMXBean.html#getName%28%29), there are no guarantees about this value:\r\n\r\n&gt; Returns the name representing the running Java virtual machine. The\r\n&gt; returned name string can be any arbitrary string and a Java virtual\r\n&gt; machine implementation can choose to embed platform-specific useful\r\n&gt; information in the returned name string. Each running virtual machine\r\n&gt; could have a different name.\r\n\r\n**In Java 9** the new [process API][2] can be used:\r\n\r\n    long pid = ProcessHandle.current().pid();\r\n\r\n\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html","title":"How can a Java program get its own process ID?","body":"<p>There exists no platform-independent way that can be guaranteed to work in all jvm implementations.\n<code>ManagementFactory.getRuntimeMXBean().getName()</code> looks like the best (closest) solution, and typically includes the PID. It's short, and <em>probably</em> works in every implementation in wide use.</p>\n<p>On linux+windows it returns a value like <code>&quot;12345@hostname&quot;</code> (<code>12345</code> being the process id). Beware though that <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/management/RuntimeMXBean.html#getName%28%29\" rel=\"noreferrer\">according to the docs</a>, there are no guarantees about this value:</p>\n<blockquote>\n<p>Returns the name representing the running Java virtual machine. The\nreturned name string can be any arbitrary string and a Java virtual\nmachine implementation can choose to embed platform-specific useful\ninformation in the returned name string. Each running virtual machine\ncould have a different name.</p>\n</blockquote>\n<p><strong>In Java 9</strong> the new <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html\" rel=\"noreferrer\">process API</a> can be used:</p>\n<pre><code>long pid = ProcessHandle.current().pid();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":2,"creation_date":1372771043,"post_id":42970,"comment_id":25310650,"body_markdown":"JPS tool uses jvmstat library, part of tools.jar. Check my example or see JPS source code:\nhttp://grepcode.com/file_/repository.grepcode.com/java/root/jdk/openjdk/6-b14/sun/tools/jps/Jps.java/?v=source. There is no need to call JPS as external process, use jvmstat library directly.","body":"JPS tool uses jvmstat library, part of tools.jar. Check my example or see JPS source code: <a href=\"http://grepcode.com/file_/repository.grepcode.com/java/root/jdk/openjdk/6-b14/sun/tools/jps/Jps.java/?v=source\" rel=\"nofollow noreferrer\">grepcode.com/file_/repository.grepcode.com/java/root/jdk/&hellip;</a>. There is no need to call JPS as external process, use jvmstat library directly."}],"tags":[],"owner":{"account_id":1158,"reputation":6461,"user_id":1539,"accept_rate":100,"display_name":"Ryan P"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1220490469,"creation_date":1220490469,"answer_id":42970,"question_id":35842,"body_markdown":"It depends on where you are looking for the information from.\r\n\r\nIf you are looking for the information from the console you can use the jps command. The command gives output similar to the Unix ps command and comes with the JDK since I believe 1.5\r\n\r\nIf you are looking from the process the RuntimeMXBean (as said by Wouter Coekaerts) is probably your best choice. The output from getName() on Windows using Sun JDK 1.6 u7 is in the form [PROCESS_ID]@[MACHINE_NAME]. You could however try to execute jps and parse the result from that:\r\n\r\n    String jps = [JDK HOME] + &quot;\\\\bin\\\\jps.exe&quot;;\r\n    Process p = Runtime.getRuntime().exec(jps);\r\n\r\nIf run with no options the output should be the process id followed by the name.","title":"How can a Java program get its own process ID?","body":"<p>It depends on where you are looking for the information from.</p>\n\n<p>If you are looking for the information from the console you can use the jps command. The command gives output similar to the Unix ps command and comes with the JDK since I believe 1.5</p>\n\n<p>If you are looking from the process the RuntimeMXBean (as said by Wouter Coekaerts) is probably your best choice. The output from getName() on Windows using Sun JDK 1.6 u7 is in the form [PROCESS_ID]@[MACHINE_NAME]. You could however try to execute jps and parse the result from that:</p>\n\n<pre><code>String jps = [JDK HOME] + \"\\\\bin\\\\jps.exe\";\nProcess p = Runtime.getRuntime().exec(jps);\n</code></pre>\n\n<p>If run with no options the output should be the process id followed by the name.</p>\n"},{"comments":[{"owner":{"account_id":135952,"reputation":1812,"user_id":339146,"accept_rate":75,"display_name":"Panayotis"},"score":0,"creation_date":1463505927,"post_id":1962335,"comment_id":62090547,"body_markdown":"Is it possible to get the PID of a Process started by Java? Or start a Process &quot;your way&quot; to fix this issue?","body":"Is it possible to get the PID of a Process started by Java? Or start a Process &quot;your way&quot; to fix this issue?"}],"tags":[],"owner":{"account_id":581148,"reputation":189,"user_id":238714,"display_name":"Jez Humble"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1317849641,"creation_date":1261788299,"answer_id":1962335,"question_id":35842,"body_markdown":"You can check out my project: [JavaSysMon][1] on GitHub. It provides process id and a bunch of other stuff (CPU usage, memory usage) cross-platform (presently Windows, Mac OSX, Linux and Solaris) \r\n\r\n\r\n  [1]: http://github.com/jezhumble/javasysmon/","title":"How can a Java program get its own process ID?","body":"<p>You can check out my project: <a href=\"http://github.com/jezhumble/javasysmon/\" rel=\"noreferrer\">JavaSysMon</a> on GitHub. It provides process id and a bunch of other stuff (CPU usage, memory usage) cross-platform (presently Windows, Mac OSX, Linux and Solaris) </p>\n"},{"comments":[{"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"score":6,"creation_date":1345610655,"post_id":3134967,"comment_id":16116656,"body_markdown":"You&#39;d have a lot more upvotes if you explained *how* to use SIGAR for this","body":"You&#39;d have a lot more upvotes if you explained <i>how</i> to use SIGAR for this"},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":1,"creation_date":1504556741,"post_id":3134967,"comment_id":79047390,"body_markdown":"Link is broken.  You give an example of how to use this, but is there a maven dependency for it?","body":"Link is broken.  You give an example of how to use this, but is there a maven dependency for it?"},{"owner":{"account_id":2641744,"reputation":1155,"user_id":2285234,"display_name":"Zastai"},"score":3,"creation_date":1539689947,"post_id":3134967,"comment_id":92585175,"body_markdown":"https://github.com/hyperic/sigar seems to be a usable location; this also shows that it&#39;s native code with Java bindings, which may make it less of a solution for many contexts.","body":"<a href=\"https://github.com/hyperic/sigar\" rel=\"nofollow noreferrer\">github.com/hyperic/sigar</a> seems to be a usable location; this also shows that it&#39;s native code with Java bindings, which may make it less of a solution for many contexts."}],"tags":[],"owner":{"account_id":94109,"reputation":2168,"user_id":257122,"accept_rate":60,"display_name":"Ashwin Jayaprakash"},"comment_count":3,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1579015907,"creation_date":1277748557,"answer_id":3134967,"question_id":35842,"body_markdown":"Try [Sigar][1] . very extensive APIs.  Apache 2 license.\r\n```java\r\nprivate Sigar sigar;\r\n\r\npublic synchronized Sigar getSigar() {\r\n    if (sigar == null) {\r\n        sigar = new Sigar();\r\n    }\r\n    return sigar;\r\n}\r\n\r\npublic synchronized void forceRelease() {\r\n    if (sigar != null) {\r\n        sigar.close();\r\n        sigar = null;\r\n    }\r\n}\r\n\r\npublic long getPid() {\r\n    return getSigar().getPid();\r\n}\r\n```\r\n\r\n  [1]: http://support.hyperic.com/display/SIGAR/Home","title":"How can a Java program get its own process ID?","body":"<p>Try <a href=\"http://support.hyperic.com/display/SIGAR/Home\" rel=\"nofollow noreferrer\">Sigar</a> . very extensive APIs.  Apache 2 license.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private Sigar sigar;\n\npublic synchronized Sigar getSigar() {\n    if (sigar == null) {\n        sigar = new Sigar();\n    }\n    return sigar;\n}\n\npublic synchronized void forceRelease() {\n    if (sigar != null) {\n        sigar.close();\n        sigar = null;\n    }\n}\n\npublic long getPid() {\n    return getSigar().getPid();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3667,"reputation":43289,"user_id":5309,"accept_rate":50,"display_name":"David Citron"},"score":58,"creation_date":1313382711,"post_id":6372205,"comment_id":8446374,"body_markdown":"If you&#39;re going to do that, then just do `int pid = Integer.parseInt(new File(&quot;/proc/self&quot;).getCanonicalFile().getName());`. Why the extra gyrations?","body":"If you&#39;re going to do that, then just do <code>int pid = Integer.parseInt(new File(&quot;&#47;proc&#47;self&quot;).getCanonicalFile().getName());</code>. Why the extra gyrations?"},{"owner":{"account_id":257549,"reputation":4998,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"score":2,"creation_date":1349195817,"post_id":6372205,"comment_id":17136722,"body_markdown":"For the curious, the trick in @David &#39;s comment actually works. Can someone say why? Some sort of magic in the `getCanonicalFile()` method that converts &quot;self&quot; to the PID?","body":"For the curious, the trick in @David &#39;s comment actually works. Can someone say why? Some sort of magic in the <code>getCanonicalFile()</code> method that converts &quot;self&quot; to the PID?"},{"owner":{"account_id":25019,"reputation":3508,"user_id":64023,"accept_rate":86,"display_name":"Michael"},"score":9,"creation_date":1349724040,"post_id":6372205,"comment_id":17288288,"body_markdown":"getCanonicalFile() resolves the symlink /proc/self/ -&gt; /proc/1234, try ls -al /proc/self","body":"getCanonicalFile() resolves the symlink /proc/self/ -&gt; /proc/1234, try ls -al /proc/self"},{"owner":{"account_id":1561124,"reputation":2087,"user_id":1450967,"display_name":"ggrandes"},"score":2,"creation_date":1357513815,"post_id":6372205,"comment_id":19666193,"body_markdown":"@DavidCitron +1! you are right, I did not think in getCanonicalFile :-)","body":"@DavidCitron +1! you are right, I did not think in getCanonicalFile :-)"}],"tags":[],"owner":{"display_name":"user801492"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1506979936,"creation_date":1308228979,"answer_id":6372205,"question_id":35842,"body_markdown":"For older JVM, in linux...\r\n\r\n    private static String getPid() throws IOException {\r\n        byte[] bo = new byte[256];\r\n        InputStream is = new FileInputStream(&quot;/proc/self/stat&quot;);\r\n        is.read(bo);\r\n        for (int i = 0; i &lt; bo.length; i++) {\r\n            if ((bo[i] &lt; &#39;0&#39;) || (bo[i] &gt; &#39;9&#39;)) {\r\n                return new String(bo, 0, i);\r\n            }\r\n        }\r\n        return &quot;-1&quot;;\r\n    }\r\n","title":"How can a Java program get its own process ID?","body":"<p>For older JVM, in linux...</p>\n\n<pre><code>private static String getPid() throws IOException {\n    byte[] bo = new byte[256];\n    InputStream is = new FileInputStream(\"/proc/self/stat\");\n    is.read(bo);\n    for (int i = 0; i &lt; bo.length; i++) {\n        if ((bo[i] &lt; '0') || (bo[i] &gt; '9')) {\n            return new String(bo, 0, i);\n        }\n    }\n    return \"-1\";\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":34578,"reputation":4133,"user_id":97799,"accept_rate":100,"display_name":"ATorras"},"score":4,"creation_date":1361381396,"post_id":7303433,"comment_id":21045793,"body_markdown":"+1 But I&#39;m afraid that in a security constrained environment it should not work (tomcat, WebLogic, etc.).","body":"+1 But I&#39;m afraid that in a security constrained environment it should not work (tomcat, WebLogic, etc.)."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1463468284,"post_id":7303433,"comment_id":62064423,"body_markdown":"The `getpid()` solution also works for OS X, with a JNA call to the &quot;System&quot; library.","body":"The <code>getpid()</code> solution also works for OS X, with a JNA call to the &quot;System&quot; library."},{"owner":{"account_id":8114474,"reputation":1060,"user_id":7748163,"accept_rate":72,"display_name":"skytree"},"score":0,"creation_date":1505589945,"post_id":7303433,"comment_id":79478791,"body_markdown":"However, I get `error: cannot find symbol` for jdk9","body":"However, I get <code>error: cannot find symbol</code> for jdk9"}],"tags":[],"owner":{"account_id":9886,"reputation":16495,"user_id":18437,"accept_rate":78,"display_name":"Luke Quinane"},"comment_count":3,"down_vote_count":0,"up_vote_count":131,"is_accepted":false,"score":131,"last_activity_date":1532319994,"creation_date":1315190037,"answer_id":7303433,"question_id":35842,"body_markdown":"You could use [JNA][1]. Unfortunately there is no common JNA API to get the current process ID yet, but each platform is pretty simple:\r\n\r\n##Windows\r\nMake sure you have `jna-platform.jar` then:\r\n\r\n    int pid = Kernel32.INSTANCE.GetCurrentProcessId();\r\n\r\n##Unix\r\n\r\nDeclare:\r\n\r\n    private interface CLibrary extends Library {\r\n        CLibrary INSTANCE = (CLibrary) Native.loadLibrary(&quot;c&quot;, CLibrary.class);   \r\n        int getpid ();\r\n    }\r\n\r\nThen:\r\n\r\n    int pid = CLibrary.INSTANCE.getpid();\r\n\r\n&lt;hr&gt;\r\n\r\n#Java 9\r\nUnder Java 9 the new [process API][2] can be used to get the current process ID. First you grab a handle to the current process, then query the PID:\r\n\r\n    long pid = ProcessHandle.current().pid();\r\n\r\n\r\n  [1]: https://github.com/twall/jna\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html","title":"How can a Java program get its own process ID?","body":"<p>You could use <a href=\"https://github.com/twall/jna\" rel=\"noreferrer\">JNA</a>. Unfortunately there is no common JNA API to get the current process ID yet, but each platform is pretty simple:</p>\n\n<h2>Windows</h2>\n\n<p>Make sure you have <code>jna-platform.jar</code> then:</p>\n\n<pre><code>int pid = Kernel32.INSTANCE.GetCurrentProcessId();\n</code></pre>\n\n<h2>Unix</h2>\n\n<p>Declare:</p>\n\n<pre><code>private interface CLibrary extends Library {\n    CLibrary INSTANCE = (CLibrary) Native.loadLibrary(\"c\", CLibrary.class);   \n    int getpid ();\n}\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>int pid = CLibrary.INSTANCE.getpid();\n</code></pre>\n\n<hr>\n\n<h1>Java 9</h1>\n\n<p>Under Java 9 the new <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html\" rel=\"noreferrer\">process API</a> can be used to get the current process ID. First you grab a handle to the current process, then query the PID:</p>\n\n<pre><code>long pid = ProcessHandle.current().pid();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3769305,"reputation":6314,"user_id":3131939,"accept_rate":71,"display_name":"david.perez"},"score":0,"creation_date":1492067918,"post_id":7309009,"comment_id":73833204,"body_markdown":"In my case with Ubuntu 16.04 and Java 8, it returns null","body":"In my case with Ubuntu 16.04 and Java 8, it returns null"}],"tags":[],"owner":{"account_id":890645,"reputation":51,"user_id":928992,"display_name":"Jared"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1340570449,"creation_date":1315230461,"answer_id":7309009,"question_id":35842,"body_markdown":"The latest I have found is that there is a *system property* called `sun.java.launcher.pid` that is available at least on linux.  My plan is to use that and if it is not found to use the `JMX bean`.","title":"How can a Java program get its own process ID?","body":"<p>The latest I have found is that there is a <em>system property</em> called <code>sun.java.launcher.pid</code> that is available at least on linux.  My plan is to use that and if it is not found to use the <code>JMX bean</code>.</p>\n"},{"comments":[{"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"score":8,"creation_date":1372688533,"post_id":7690178,"comment_id":25275906,"body_markdown":"VisualVM uses similar code to get self PID, check com.sun.tools.visualvm.application.jvm.Jvm#ApplicationSupport#createCurrentApplication(). They are the experts, so it looks like dependable, cross platform solution.","body":"VisualVM uses similar code to get self PID, check com.sun.tools.visualvm.application.jvm.Jvm#ApplicationSuppor&zwnj;&#8203;t#createCurrentAppli&zwnj;&#8203;cation(). They are the experts, so it looks like dependable, cross platform solution."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1586533789,"post_id":7690178,"comment_id":108169344,"body_markdown":"@Espinosa VisualVM only supportes running on a OpenJDK/Oracle/GraalVM JVM (as of 2020).  This mean they can make assumptions accordingly.  If you do the same, you become vendor dependent and your code may break if running on for instance J9.","body":"@Espinosa VisualVM only supportes running on a OpenJDK/Oracle/GraalVM JVM (as of 2020).  This mean they can make assumptions accordingly.  If you do the same, you become vendor dependent and your code may break if running on for instance J9."}],"tags":[],"owner":{"account_id":25899,"reputation":1885,"user_id":66981,"accept_rate":33,"display_name":"Martin"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1318005172,"creation_date":1318005172,"answer_id":7690178,"question_id":35842,"body_markdown":"The following method tries to extract the PID from `java.lang.management.ManagementFactory`:\r\n\r\n    private static String getProcessId(final String fallback) {\r\n        // Note: may fail in some JVM implementations\r\n        // therefore fallback has to be provided\r\n\r\n        // something like &#39;&lt;pid&gt;@&lt;hostname&gt;&#39;, at least in SUN / Oracle JVMs\r\n        final String jvmName = ManagementFactory.getRuntimeMXBean().getName();\r\n        final int index = jvmName.indexOf(&#39;@&#39;);\r\n\r\n        if (index &lt; 1) {\r\n            // part before &#39;@&#39; empty (index = 0) / &#39;@&#39; not found (index = -1)\r\n            return fallback;\r\n        }\r\n\r\n        try {\r\n            return Long.toString(Long.parseLong(jvmName.substring(0, index)));\r\n        } catch (NumberFormatException e) {\r\n            // ignore\r\n        }\r\n        return fallback;\r\n    }\r\n\r\nJust call `getProcessId(&quot;&lt;PID&gt;&quot;)`, for instance.","title":"How can a Java program get its own process ID?","body":"<p>The following method tries to extract the PID from <code>java.lang.management.ManagementFactory</code>:</p>\n\n<pre><code>private static String getProcessId(final String fallback) {\n    // Note: may fail in some JVM implementations\n    // therefore fallback has to be provided\n\n    // something like '&lt;pid&gt;@&lt;hostname&gt;', at least in SUN / Oracle JVMs\n    final String jvmName = ManagementFactory.getRuntimeMXBean().getName();\n    final int index = jvmName.indexOf('@');\n\n    if (index &lt; 1) {\n        // part before '@' empty (index = 0) / '@' not found (index = -1)\n        return fallback;\n    }\n\n    try {\n        return Long.toString(Long.parseLong(jvmName.substring(0, index)));\n    } catch (NumberFormatException e) {\n        // ignore\n    }\n    return fallback;\n}\n</code></pre>\n\n<p>Just call <code>getProcessId(\"&lt;PID&gt;\")</code>, for instance.</p>\n"},{"comments":[{"owner":{"account_id":62275,"reputation":383,"user_id":185130,"display_name":"Drupad Panchal"},"score":2,"creation_date":1347393883,"post_id":12066696,"comment_id":16625856,"body_markdown":"very nice, just verified that it works both on the JRockit as well as the Hotspot JVMs.","body":"very nice, just verified that it works both on the JRockit as well as the Hotspot JVMs."},{"owner":{"account_id":154135,"reputation":1698,"user_id":369858,"accept_rate":57,"display_name":"fragorl"},"score":1,"creation_date":1391486985,"post_id":12066696,"comment_id":32532572,"body_markdown":"Nice workaround. I&#39;m going to assume there is a good reason why this method (and others in the class) aren&#39;t public and easily accessible, and I&#39;m curious to know what it is.","body":"Nice workaround. I&#39;m going to assume there is a good reason why this method (and others in the class) aren&#39;t public and easily accessible, and I&#39;m curious to know what it is."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":2,"creation_date":1414616153,"post_id":12066696,"comment_id":41887882,"body_markdown":"Oracle Java team have announced that they intend to hide all non-java packages (i.e. sun.*) I believe starting with Java 10 (scheduled for 2018 - maybe Java 9).  If you have a similar implementation as the one above, you may want to figure out an alternative so that your code don&#39;t break.","body":"Oracle Java team have announced that they intend to hide all non-java packages (i.e. sun.*) I believe starting with Java 10 (scheduled for 2018 - maybe Java 9).  If you have a similar implementation as the one above, you may want to figure out an alternative so that your code don&#39;t break."},{"owner":{"account_id":148631,"reputation":488,"user_id":360557,"accept_rate":27,"display_name":"Mike Stoddart"},"score":0,"creation_date":1446831007,"post_id":12066696,"comment_id":54922629,"body_markdown":"Doesn&#39;t work for me either as the sun.* packages are probably removed or inaccessible (VMManagement cannot be resolved to a type).","body":"Doesn&#39;t work for me either as the sun.* packages are probably removed or inaccessible (VMManagement cannot be resolved to a type)."},{"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"score":1,"creation_date":1551305588,"post_id":12066696,"comment_id":96596932,"body_markdown":"Due to the way reflection works, access to sun.management.* is not needed. Just perform the `getDeclaredMethod` on the Object returned by `jvm.get(runtime)`.","body":"Due to the way reflection works, access to sun.management.* is not needed. Just perform the <code>getDeclaredMethod</code> on the Object returned by <code>jvm.get(runtime)</code>."}],"tags":[],"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"comment_count":5,"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1375390402,"creation_date":1345612781,"answer_id":12066696,"question_id":35842,"body_markdown":"Here&#39;s a backdoor method which *might* not work with all VMs but should work on both linux and windows ([original example here](http://boxysystems.com/index.php/java-tip-find-process-id-of-running-java-process/)):\r\n\r\n    java.lang.management.RuntimeMXBean runtime = \r\n        java.lang.management.ManagementFactory.getRuntimeMXBean();\r\n    java.lang.reflect.Field jvm = runtime.getClass().getDeclaredField(&quot;jvm&quot;);\r\n    jvm.setAccessible(true);\r\n    sun.management.VMManagement mgmt =  \r\n        (sun.management.VMManagement) jvm.get(runtime);\r\n    java.lang.reflect.Method pid_method =  \r\n        mgmt.getClass().getDeclaredMethod(&quot;getProcessId&quot;);\r\n    pid_method.setAccessible(true);\r\n\r\n    int pid = (Integer) pid_method.invoke(mgmt);","title":"How can a Java program get its own process ID?","body":"<p>Here's a backdoor method which <em>might</em> not work with all VMs but should work on both linux and windows (<a href=\"http://boxysystems.com/index.php/java-tip-find-process-id-of-running-java-process/\" rel=\"noreferrer\">original example here</a>):</p>\n\n<pre><code>java.lang.management.RuntimeMXBean runtime = \n    java.lang.management.ManagementFactory.getRuntimeMXBean();\njava.lang.reflect.Field jvm = runtime.getClass().getDeclaredField(\"jvm\");\njvm.setAccessible(true);\nsun.management.VMManagement mgmt =  \n    (sun.management.VMManagement) jvm.get(runtime);\njava.lang.reflect.Method pid_method =  \n    mgmt.getClass().getDeclaredMethod(\"getProcessId\");\npid_method.setAccessible(true);\n\nint pid = (Integer) pid_method.invoke(mgmt);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6738895,"reputation":1339,"user_id":5192689,"accept_rate":0,"display_name":"Narendra Parmar"},"score":0,"creation_date":1481235640,"post_id":17348465,"comment_id":69307325,"body_markdown":"if mainClass.getName() does not work try to use mainClass.getCanonicalName();","body":"if mainClass.getName() does not work try to use mainClass.getCanonicalName();"}],"tags":[],"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502347535,"creation_date":1372350497,"answer_id":17348465,"question_id":35842,"body_markdown":"This is the code JConsole, and potentially jps and VisualVM uses. It utilizes classes from\r\n`sun.jvmstat.monitor.*` package, from `tool.jar`.\r\n\r\n    package my.code.a003.process;\r\n    \r\n    import sun.jvmstat.monitor.HostIdentifier;\r\n    import sun.jvmstat.monitor.MonitorException;\r\n    import sun.jvmstat.monitor.MonitoredHost;\r\n    import sun.jvmstat.monitor.MonitoredVm;\r\n    import sun.jvmstat.monitor.MonitoredVmUtil;\r\n    import sun.jvmstat.monitor.VmIdentifier;\r\n    \r\n\r\n    public class GetOwnPid {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew GetOwnPid().run();\r\n    \t}\r\n    \t\r\n    \tpublic void run() {\r\n    \t\tSystem.out.println(getPid(this.getClass()));\r\n    \t}\r\n    \r\n    \tpublic Integer getPid(Class&lt;?&gt; mainClass) {\r\n    \t\tMonitoredHost monitoredHost;\r\n    \t\tSet&lt;Integer&gt; activeVmPids;\r\n    \t\ttry {\r\n    \t\t\tmonitoredHost = MonitoredHost.getMonitoredHost(new HostIdentifier((String) null));\r\n    \t\t\tactiveVmPids = monitoredHost.activeVms();\r\n    \t\t\tMonitoredVm mvm = null;\r\n    \t\t\tfor (Integer vmPid : activeVmPids) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tmvm = monitoredHost.getMonitoredVm(new VmIdentifier(vmPid.toString()));\r\n    \t\t\t\t\tString mvmMainClass = MonitoredVmUtil.mainClass(mvm, true);\r\n    \t\t\t\t\tif (mainClass.getName().equals(mvmMainClass)) {\r\n    \t\t\t\t\t\treturn vmPid;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} finally {\r\n    \t\t\t\t\tif (mvm != null) {\r\n    \t\t\t\t\t\tmvm.detach();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (java.net.URISyntaxException e) {\r\n    \t\t\tthrow new InternalError(e.getMessage());\r\n    \t\t} catch (MonitorException e) {\r\n    \t\t\tthrow new InternalError(e.getMessage());\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\nThere are few catches:\r\n\r\n * The `tool.jar` is a library distributed with Oracle JDK but not JRE! \r\n * You cannot get `tool.jar` from Maven repo; configure it with Maven is a bit tricky\r\n * The `tool.jar` probably contains platform dependent (native?) code so it is not easily \r\n     distributable\r\n * It runs under assumption that all (local) running JVM apps are &quot;monitorable&quot;. It looks like\r\n     that from Java 6 all apps generally are (unless you actively configure opposite)\r\n * It probably works only for Java 6+\r\n * Eclipse does not publish main class, so you will not get Eclipse PID easily\r\n   Bug in MonitoredVmUtil?\r\n\r\nUPDATE: I have just double checked that JPS uses this way, that is Jvmstat library (part of tool.jar). So there is no need to call JPS as external process, call Jvmstat library directly as my example shows. You can aslo get list of all JVMs runnin on localhost this way.\r\nSee JPS [source code][1]:\r\n\r\n\r\n  [1]: http://grepcode.com/file_/repository.grepcode.com/java/root/jdk/openjdk/6-b14/sun/tools/jps/Jps.java/?v=source","title":"How can a Java program get its own process ID?","body":"<p>This is the code JConsole, and potentially jps and VisualVM uses. It utilizes classes from\n<code>sun.jvmstat.monitor.*</code> package, from <code>tool.jar</code>.</p>\n\n<pre><code>package my.code.a003.process;\n\nimport sun.jvmstat.monitor.HostIdentifier;\nimport sun.jvmstat.monitor.MonitorException;\nimport sun.jvmstat.monitor.MonitoredHost;\nimport sun.jvmstat.monitor.MonitoredVm;\nimport sun.jvmstat.monitor.MonitoredVmUtil;\nimport sun.jvmstat.monitor.VmIdentifier;\n\n\npublic class GetOwnPid {\n\n    public static void main(String[] args) {\n        new GetOwnPid().run();\n    }\n\n    public void run() {\n        System.out.println(getPid(this.getClass()));\n    }\n\n    public Integer getPid(Class&lt;?&gt; mainClass) {\n        MonitoredHost monitoredHost;\n        Set&lt;Integer&gt; activeVmPids;\n        try {\n            monitoredHost = MonitoredHost.getMonitoredHost(new HostIdentifier((String) null));\n            activeVmPids = monitoredHost.activeVms();\n            MonitoredVm mvm = null;\n            for (Integer vmPid : activeVmPids) {\n                try {\n                    mvm = monitoredHost.getMonitoredVm(new VmIdentifier(vmPid.toString()));\n                    String mvmMainClass = MonitoredVmUtil.mainClass(mvm, true);\n                    if (mainClass.getName().equals(mvmMainClass)) {\n                        return vmPid;\n                    }\n                } finally {\n                    if (mvm != null) {\n                        mvm.detach();\n                    }\n                }\n            }\n        } catch (java.net.URISyntaxException e) {\n            throw new InternalError(e.getMessage());\n        } catch (MonitorException e) {\n            throw new InternalError(e.getMessage());\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>There are few catches:</p>\n\n<ul>\n<li>The <code>tool.jar</code> is a library distributed with Oracle JDK but not JRE! </li>\n<li>You cannot get <code>tool.jar</code> from Maven repo; configure it with Maven is a bit tricky</li>\n<li>The <code>tool.jar</code> probably contains platform dependent (native?) code so it is not easily \n distributable</li>\n<li>It runs under assumption that all (local) running JVM apps are \"monitorable\". It looks like\n that from Java 6 all apps generally are (unless you actively configure opposite)</li>\n<li>It probably works only for Java 6+</li>\n<li>Eclipse does not publish main class, so you will not get Eclipse PID easily\nBug in MonitoredVmUtil?</li>\n</ul>\n\n<p>UPDATE: I have just double checked that JPS uses this way, that is Jvmstat library (part of tool.jar). So there is no need to call JPS as external process, call Jvmstat library directly as my example shows. You can aslo get list of all JVMs runnin on localhost this way.\nSee JPS <a href=\"http://grepcode.com/file_/repository.grepcode.com/java/root/jdk/openjdk/6-b14/sun/tools/jps/Jps.java/?v=source\" rel=\"nofollow noreferrer\">source code</a>:</p>\n"},{"comments":[{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":3,"creation_date":1396879500,"post_id":19091039,"comment_id":34974258,"body_markdown":"If you&#39;re calling shell scripts, you might as well do something simpler like `bash -c &#39;echo $PPID&#39;` or the /proc [answers above](http://stackoverflow.com/questions/35842/how-can-a-java-program-get-its-own-process-id#comment8446374_6372205)","body":"If you&#39;re calling shell scripts, you might as well do something simpler like <code>bash -c &#39;echo $PPID&#39;</code> or the /proc <a href=\"http://stackoverflow.com/questions/35842/how-can-a-java-program-get-its-own-process-id#comment8446374_6372205\">answers above</a>"}],"tags":[],"owner":{"account_id":462033,"reputation":311,"user_id":864111,"accept_rate":50,"display_name":"Subhash"},"comment_count":1,"down_vote_count":6,"up_vote_count":0,"is_accepted":false,"score":-6,"last_activity_date":1380534133,"creation_date":1380534133,"answer_id":19091039,"question_id":35842,"body_markdown":"This is what I used when I had similar requirement. This determines the PID of the Java process correctly. Let your java code spawn a server on a pre-defined port number and then execute OS commands to find out the PID listening on the port. For Linux\r\n\r\n    netstat -tupln | grep portNumber","title":"How can a Java program get its own process ID?","body":"<p>This is what I used when I had similar requirement. This determines the PID of the Java process correctly. Let your java code spawn a server on a pre-defined port number and then execute OS commands to find out the PID listening on the port. For Linux</p>\n\n<pre><code>netstat -tupln | grep portNumber\n</code></pre>\n"},{"tags":[],"owner":{"account_id":89374,"reputation":7227,"user_id":246622,"accept_rate":92,"display_name":"tomsv"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676163705,"creation_date":1392122866,"answer_id":21702291,"question_id":35842,"body_markdown":"Based on Ashwin Jayaprakash&#39;s [answer][1] (+1)\r\nabout the Apache 2.0 licensed `SIGAR`, here is how I use it to get only the PID of the current process:\r\n\r\n    import org.hyperic.sigar.Sigar;\r\n\r\n    Sigar sigar = new Sigar();\r\n    long pid = sigar.getPid();\r\n    sigar.close();\r\n\r\nEven though it does not work on all platforms, it does work on [Linux, Windows, OS X and various Unix platforms as listed here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3134967/246622\r\n  [2]: https://web.archive.org/web/20160404171332/https://support.hyperic.com/display/SIGAR/Home#Home-overview","title":"How can a Java program get its own process ID?","body":"<p>Based on Ashwin Jayaprakash's <a href=\"https://stackoverflow.com/a/3134967/246622\">answer</a> (+1)\nabout the Apache 2.0 licensed <code>SIGAR</code>, here is how I use it to get only the PID of the current process:</p>\n<pre><code>import org.hyperic.sigar.Sigar;\n\nSigar sigar = new Sigar();\nlong pid = sigar.getPid();\nsigar.close();\n</code></pre>\n<p>Even though it does not work on all platforms, it does work on <a href=\"https://web.archive.org/web/20160404171332/https://support.hyperic.com/display/SIGAR/Home#Home-overview\" rel=\"nofollow noreferrer\">Linux, Windows, OS X and various Unix platforms as listed here</a>.</p>\n"},{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426061733,"creation_date":1426061733,"answer_id":28981466,"question_id":35842,"body_markdown":"You can try `getpid()` in [JNR-Posix][1].  \r\n\r\nIt has a Windows POSIX wrapper that calls getpid() off of libc.\r\n\r\n\r\n  [1]: https://github.com/jnr/jnr-posix","title":"How can a Java program get its own process ID?","body":"<p>You can try <code>getpid()</code> in <a href=\"https://github.com/jnr/jnr-posix\" rel=\"nofollow\">JNR-Posix</a>.  </p>\n\n<p>It has a Windows POSIX wrapper that calls getpid() off of libc.</p>\n"},{"comments":[{"owner":{"account_id":2569,"reputation":6598,"user_id":3583,"accept_rate":100,"display_name":"Dmitry Shechtman"},"score":11,"creation_date":1435182651,"post_id":31037052,"comment_id":50099496,"body_markdown":"Wow, that was fast. It only took about seven years! &#128515;","body":"Wow, that was fast. It only took about seven years! "}],"tags":[],"owner":{"account_id":1724357,"reputation":81,"user_id":1579393,"display_name":"Brandon Heck"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435180050,"creation_date":1435180050,"answer_id":31037052,"question_id":35842,"body_markdown":"I know this is an old thread, but I wanted to call out that API for getting the PID (as well as other manipulation of the Java process at runtime) is being added to the Process class in JDK 9: http://openjdk.java.net/jeps/102","title":"How can a Java program get its own process ID?","body":"<p>I know this is an old thread, but I wanted to call out that API for getting the PID (as well as other manipulation of the Java process at runtime) is being added to the Process class in JDK 9: <a href=\"http://openjdk.java.net/jeps/102\" rel=\"nofollow\">http://openjdk.java.net/jeps/102</a></p>\n"},{"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":2,"creation_date":1444249976,"post_id":31072610,"comment_id":53828698,"body_markdown":"Can you explain how to get a Process instance for the current running process in Java 9?","body":"Can you explain how to get a Process instance for the current running process in Java 9?"},{"owner":{"account_id":1050037,"reputation":337,"user_id":2467938,"display_name":"crazyGuy"},"score":0,"creation_date":1456573021,"post_id":31072610,"comment_id":59017680,"body_markdown":"Great answer for using Java 9 in 2016! Can you add a link to the javadocs? thanks","body":"Great answer for using Java 9 in 2016! Can you add a link to the javadocs? thanks"}],"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1521780444,"creation_date":1435319780,"answer_id":31072610,"question_id":35842,"body_markdown":"Since Java 9 there is a method Process.getPid() which returns the native ID of a process:\r\n\r\n    public abstract class Process {\r\n\r\n        ...\r\n\r\n        public long getPid();\r\n    }\r\n\r\nTo get the process ID of the current Java process one can use the `ProcessHandle` interface:\r\n\r\n    System.out.println(ProcessHandle.current().pid());\r\n\r\n\r\n","title":"How can a Java program get its own process ID?","body":"<p>Since Java 9 there is a method Process.getPid() which returns the native ID of a process:</p>\n\n<pre><code>public abstract class Process {\n\n    ...\n\n    public long getPid();\n}\n</code></pre>\n\n<p>To get the process ID of the current Java process one can use the <code>ProcessHandle</code> interface:</p>\n\n<pre><code>System.out.println(ProcessHandle.current().pid());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1474468193,"post_id":33573952,"comment_id":66544909,"body_markdown":"This does not check if pid is in use, but if pid equals current process pid","body":"This does not check if pid is in use, but if pid equals current process pid"},{"owner":{"account_id":3580814,"reputation":55,"user_id":2989079,"display_name":"PartialData"},"score":0,"creation_date":1477413927,"post_id":33573952,"comment_id":67753099,"body_markdown":"What is the correct solution so i can update my code?","body":"What is the correct solution so i can update my code?"}],"tags":[],"owner":{"account_id":3580814,"reputation":55,"user_id":2989079,"display_name":"PartialData"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1446837009,"creation_date":1446837009,"answer_id":33573952,"question_id":35842,"body_markdown":"Here is my solution:\r\n\r\n    public static boolean isPIDInUse(int pid) {\r\n    \r\n            try {\r\n    \r\n                String s = null;\r\n                int java_pid;\r\n    \r\n                RuntimeMXBean rt = ManagementFactory.getRuntimeMXBean();\r\n                java_pid = Integer.parseInt(rt.getName().substring(0, rt.getName().indexOf(&quot;@&quot;)));\r\n    \r\n                if (java_pid == pid) {\r\n                    System.out.println(&quot;In Use\\n&quot;);\r\n                    return true;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Exception:  &quot; + e.getMessage());\r\n            }\r\n            return false;\r\n        }","title":"How can a Java program get its own process ID?","body":"<p>Here is my solution:</p>\n\n<pre><code>public static boolean isPIDInUse(int pid) {\n\n        try {\n\n            String s = null;\n            int java_pid;\n\n            RuntimeMXBean rt = ManagementFactory.getRuntimeMXBean();\n            java_pid = Integer.parseInt(rt.getName().substring(0, rt.getName().indexOf(\"@\")));\n\n            if (java_pid == pid) {\n                System.out.println(\"In Use\\n\");\n                return true;\n            }\n        } catch (Exception e) {\n            System.out.println(\"Exception:  \" + e.getMessage());\n        }\n        return false;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"score":0,"creation_date":1605571053,"post_id":33837794,"comment_id":114686049,"body_markdown":"(looks good for Linux and macOS, but I don&#39;t know if it would work on Windows)","body":"(looks good for Linux and macOS, but I don&#39;t know if it would work on Windows)"},{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":0,"creation_date":1653490315,"post_id":33837794,"comment_id":127866144,"body_markdown":"Starting an entire new subprocess just to get the PID which is already available in the process itself is pretty overblown. Also, this won&#39;t work on Windows since it has no &quot;sh&quot; command (usually).","body":"Starting an entire new subprocess just to get the PID which is already available in the process itself is pretty overblown. Also, this won&#39;t work on Windows since it has no &quot;sh&quot; command (usually)."}],"tags":[],"owner":{"account_id":6455008,"reputation":198,"user_id":5000738,"display_name":"Florin T."},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1448062332,"creation_date":1448062332,"answer_id":33837794,"question_id":35842,"body_markdown":"In Scala:\r\n\r\n    import sys.process._\r\n    val pid: Long = Seq(&quot;sh&quot;, &quot;-c&quot;, &quot;echo $PPID&quot;).!!.trim.toLong\r\n\r\nThis should give you a workaround on Unix systems until Java 9 will be released.\r\n(I know, the question was about Java, but since there is no equivalent question for Scala, I wanted to leave this for Scala users who might stumble into the same question.)","title":"How can a Java program get its own process ID?","body":"<p>In Scala:</p>\n\n<pre><code>import sys.process._\nval pid: Long = Seq(\"sh\", \"-c\", \"echo $PPID\").!!.trim.toLong\n</code></pre>\n\n<p>This should give you a workaround on Unix systems until Java 9 will be released.\n(I know, the question was about Java, but since there is no equivalent question for Scala, I wanted to leave this for Scala users who might stumble into the same question.)</p>\n"},{"tags":[],"owner":{"account_id":5888165,"reputation":2184,"user_id":4635513,"accept_rate":100,"display_name":"AntiTiming"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1469658058,"creation_date":1467289249,"answer_id":38122943,"question_id":35842,"body_markdown":"For completeness there is a wrapper in **Spring Boot** for the \r\n\r\n    String jvmName = ManagementFactory.getRuntimeMXBean().getName();\r\n    return jvmName.split(&quot;@&quot;)[0];\r\n\r\nsolution. If an integer is required, then this can be summed up to the one-liner:\r\n\r\n    int pid = Integer.parseInt(ManagementFactory.getRuntimeMXBean().getName().split(&quot;@&quot;)[0]);\r\n\r\nIf someone uses Spring boot already, she/he might use *org.springframework.boot.ApplicationPid*\r\n\r\n    ApplicationPid pid = new ApplicationPid();\r\n    pid.toString();\r\n\r\nThe toString() method prints the pid or &#39;???&#39;.\r\n\r\nCaveats using the ManagementFactory are discussed in other answers already.\r\n","title":"How can a Java program get its own process ID?","body":"<p>For completeness there is a wrapper in <strong>Spring Boot</strong> for the </p>\n\n<pre><code>String jvmName = ManagementFactory.getRuntimeMXBean().getName();\nreturn jvmName.split(\"@\")[0];\n</code></pre>\n\n<p>solution. If an integer is required, then this can be summed up to the one-liner:</p>\n\n<pre><code>int pid = Integer.parseInt(ManagementFactory.getRuntimeMXBean().getName().split(\"@\")[0]);\n</code></pre>\n\n<p>If someone uses Spring boot already, she/he might use <em>org.springframework.boot.ApplicationPid</em></p>\n\n<pre><code>ApplicationPid pid = new ApplicationPid();\npid.toString();\n</code></pre>\n\n<p>The toString() method prints the pid or '???'.</p>\n\n<p>Caveats using the ManagementFactory are discussed in other answers already.</p>\n"},{"tags":[],"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1475057659,"creation_date":1475057659,"answer_id":39744535,"question_id":35842,"body_markdown":"    \r\n    public static long getPID() {\r\n        String processName = java.lang.management.ManagementFactory.getRuntimeMXBean().getName();\r\n        if (processName != null &amp;&amp; processName.length() &gt; 0) {\r\n            try {\r\n                return Long.parseLong(processName.split(&quot;@&quot;)[0]);\r\n            }\r\n            catch (Exception e) {\r\n                return 0;\r\n            }\r\n        }\r\n\r\n        return 0;\r\n    }","title":"How can a Java program get its own process ID?","body":"<pre><code>public static long getPID() {\n    String processName = java.lang.management.ManagementFactory.getRuntimeMXBean().getName();\n    if (processName != null &amp;&amp; processName.length() &gt; 0) {\n        try {\n            return Long.parseLong(processName.split(\"@\")[0]);\n        }\n        catch (Exception e) {\n            return 0;\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2596642,"reputation":3015,"user_id":2250186,"display_name":"markus"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1492110599,"creation_date":1492110599,"answer_id":43399977,"question_id":35842,"body_markdown":"    java.lang.management.ManagementFactory.getRuntimeMXBean().getName().split(&quot;@&quot;)[0]","title":"How can a Java program get its own process ID?","body":"<pre><code>java.lang.management.ManagementFactory.getRuntimeMXBean().getName().split(\"@\")[0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1366348,"reputation":34421,"user_id":1592191,"accept_rate":100,"display_name":"mrsrinivas"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1700642987,"creation_date":1519444210,"answer_id":48959178,"question_id":35842,"body_markdown":"With Java 10, to get `process id`\r\n\r\n    final RuntimeMXBean runtime = ManagementFactory.getRuntimeMXBean();\r\n    final long pid = runtime.getPid();\r\n    out.println(&quot;Process ID is &#39;&quot; + pid);","title":"How can a Java program get its own process ID?","body":"<p>With Java 10, to get <code>process id</code></p>\n<pre><code>final RuntimeMXBean runtime = ManagementFactory.getRuntimeMXBean();\nfinal long pid = runtime.getPid();\nout.println(&quot;Process ID is '&quot; + pid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3053719,"reputation":1340,"user_id":2587809,"accept_rate":67,"display_name":"Armin Bu"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535824661,"creation_date":1535824661,"answer_id":52130795,"question_id":35842,"body_markdown":"I found a solution that may be a bit of an edge case and I didn&#39;t try it on other OS than Windows 10, but I think it&#39;s worth noticing.\r\n\r\nIf you find yourself working with [J2V8][1] and nodejs, you can run a simple javascript function returning you the pid of the java process.\r\n\r\nHere is an example:\r\n\r\n    public static void main(String[] args) {\r\n        NodeJS nodeJS = NodeJS.createNodeJS();\r\n        int pid = nodeJS.getRuntime().executeIntegerScript(&quot;process.pid;\\n&quot;);\r\n        System.out.println(pid);\r\n        nodeJS.release();\r\n    }\r\n\r\n\r\n  [1]: https://github.com/eclipsesource/J2V8","title":"How can a Java program get its own process ID?","body":"<p>I found a solution that may be a bit of an edge case and I didn't try it on other OS than Windows 10, but I think it's worth noticing.</p>\n\n<p>If you find yourself working with <a href=\"https://github.com/eclipsesource/J2V8\" rel=\"nofollow noreferrer\">J2V8</a> and nodejs, you can run a simple javascript function returning you the pid of the java process.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>public static void main(String[] args) {\n    NodeJS nodeJS = NodeJS.createNodeJS();\n    int pid = nodeJS.getRuntime().executeIntegerScript(\"process.pid;\\n\");\n    System.out.println(pid);\n    nodeJS.release();\n}\n</code></pre>\n"}],"owner":{"account_id":2569,"reputation":6598,"user_id":3583,"accept_rate":100,"display_name":"Dmitry Shechtman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353205,"favorite_count":0,"down_vote_count":0,"up_vote_count":423,"accepted_answer_id":35885,"answer_count":22,"score":423,"last_activity_date":1700642987,"creation_date":1220090005,"question_id":35842,"body_markdown":"How do I get the id of my Java process? \r\n\r\nI know there are several platform-dependent hacks, but I would prefer a more generic solution.","title":"How can a Java program get its own process ID?","body":"<p>How do I get the id of my Java process? </p>\n\n<p>I know there are several platform-dependent hacks, but I would prefer a more generic solution.</p>\n"},{"tags":["java","android"],"owner":{"account_id":22699042,"reputation":1,"user_id":16866740,"display_name":"Iroshana Ranasinghe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700642980,"creation_date":1700642980,"question_id":77528493,"body_markdown":"I&#39;m encountering a non-fatal exception while using Retrofit with RxJava3 in my Android application. The issue arises specifically when making network requests, resulting in a **`retrofit2.adapter.rxjava3.HttpException: HTTP 504 Gateway Time-out`** error. How can I effectively handle this HTTP 504 Gateway Time-out error to ensure a smoother user experience and potentially retry the failed request in Android?\r\n\r\n```\r\npublic void notifyAnalyticsForBannerConfirmation(String bannerId, Boolean isDisplay, Boolean isClicked) {\r\n        UserSavedLocation userLocationSelection = getPreviousLocationSelection();\r\n\r\n        BannerCriteria bannerCriteria = new BannerCriteria();\r\n        bannerCriteria.setBannerId(bannerId);\r\n        bannerCriteria.setLatitude(userLocationSelection.getLocation().getPoint().get(1));\r\n        bannerCriteria.setLongitude(userLocationSelection.getLocation().getPoint().get(0));\r\n        bannerCriteria.setDisplay(isDisplay);\r\n        bannerCriteria.setClicked(isClicked);\r\n        bannerCriteria.setSessionId(CONST_USER_ANALYTICS_GUID);\r\n\r\n        mAnalyticsBannerRepository.addBannerClick(bannerCriteria).retry((integer, throwable) -&gt; throwable instanceof SocketTimeoutException).subscribe(new CompletableObserver() {\r\n            @Override\r\n            public void onSubscribe(@NonNull Disposable d) {\r\n            }\r\n\r\n            @Override\r\n            public void onComplete() {\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull Throwable e) {\r\n                \r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nHowever, whenever the server response encounters a 504 Gateway Time-out, it triggers the onError method with the retrofit2.adapter.rxjava3.HttpException. How can I specifically catch and manage this exception to handle retries or implement a fallback mechanism for these timeout scenarios? Is there a way to handle this at the Retrofit level or within RxJava3?\r\n\r\nAny insights, code examples, or best practices to gracefully handle this HTTP 504 error within the Retrofit and RxJava3 setup would be greatly appreciated. Thank you!","title":"Handling Non-fatal Exception: retrofit2.adapter.rxjava3.HttpException - HTTP 504 Gateway Time-out in Android with Retrofit and RxJava3","body":"<p>I'm encountering a non-fatal exception while using Retrofit with RxJava3 in my Android application. The issue arises specifically when making network requests, resulting in a <strong><code>retrofit2.adapter.rxjava3.HttpException: HTTP 504 Gateway Time-out</code></strong> error. How can I effectively handle this HTTP 504 Gateway Time-out error to ensure a smoother user experience and potentially retry the failed request in Android?</p>\n<pre><code>public void notifyAnalyticsForBannerConfirmation(String bannerId, Boolean isDisplay, Boolean isClicked) {\n        UserSavedLocation userLocationSelection = getPreviousLocationSelection();\n\n        BannerCriteria bannerCriteria = new BannerCriteria();\n        bannerCriteria.setBannerId(bannerId);\n        bannerCriteria.setLatitude(userLocationSelection.getLocation().getPoint().get(1));\n        bannerCriteria.setLongitude(userLocationSelection.getLocation().getPoint().get(0));\n        bannerCriteria.setDisplay(isDisplay);\n        bannerCriteria.setClicked(isClicked);\n        bannerCriteria.setSessionId(CONST_USER_ANALYTICS_GUID);\n\n        mAnalyticsBannerRepository.addBannerClick(bannerCriteria).retry((integer, throwable) -&gt; throwable instanceof SocketTimeoutException).subscribe(new CompletableObserver() {\n            @Override\n            public void onSubscribe(@NonNull Disposable d) {\n            }\n\n            @Override\n            public void onComplete() {\n            }\n\n            @Override\n            public void onError(@NonNull Throwable e) {\n                \n            }\n        });\n    }\n</code></pre>\n<p>However, whenever the server response encounters a 504 Gateway Time-out, it triggers the onError method with the retrofit2.adapter.rxjava3.HttpException. How can I specifically catch and manage this exception to handle retries or implement a fallback mechanism for these timeout scenarios? Is there a way to handle this at the Retrofit level or within RxJava3?</p>\n<p>Any insights, code examples, or best practices to gracefully handle this HTTP 504 error within the Retrofit and RxJava3 setup would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","android","jquery","kotlin"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700145454,"post_id":77494208,"comment_id":136620643,"body_markdown":"Think that you want to transfer a photo uri to that script. Not a bitmap or the content of the image file. Please explain yourself better.","body":"Think that you want to transfer a photo uri to that script. Not a bitmap or the content of the image file. Please explain yourself better."},{"owner":{"account_id":16846713,"reputation":21,"user_id":12180722,"display_name":" "},"score":0,"creation_date":1700163732,"post_id":77494208,"comment_id":136624159,"body_markdown":"Create an image file and send it to jquery for cropping and sending to the server.\nI already have the trimming and sending scripts ready.\nYou need to do something like this: https://gist.github.com/mksantoki/097bb1fa73af1f404acc02bb594cd743 but using Photo Picker","body":"Create an image file and send it to jquery for cropping and sending to the server. I already have the trimming and sending scripts ready. You need to do something like this: <a href=\"https://gist.github.com/mksantoki/097bb1fa73af1f404acc02bb594cd743\" rel=\"nofollow noreferrer\">gist.github.com/mksantoki/097bb1fa73af1f404acc02bb594cd743</a> but using Photo Picker"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700171666,"post_id":77494208,"comment_id":136625276,"body_markdown":"A photo picker picks an existing file. For which you get an uri. Unclear what file you wanna create yet.","body":"A photo picker picks an existing file. For which you get an uri. Unclear what file you wanna create yet."},{"owner":{"account_id":16846713,"reputation":21,"user_id":12180722,"display_name":" "},"score":0,"creation_date":1700219045,"post_id":77494208,"comment_id":136630222,"body_markdown":"I need to transfer the selected image to webview","body":"I need to transfer the selected image to webview"}],"owner":{"account_id":16846713,"reputation":21,"user_id":12180722,"display_name":" "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1700642795,"creation_date":1700131996,"question_id":77494208,"body_markdown":"I want to use **Photo Picker** in my Android project. Content is displayed via WebView. I need to select an image from the device&#39;s memory and pass it to a jQuery script for pre-cropping. **I need to transfer the selected image to webview**. Thank you.\r\n\r\n    ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMedia = registerForActivityResult(new ActivityResultContracts.PickVisualMedia(), photo -&gt; {\r\n        if (photo == null) {\r\n            Toast.makeText(MainActivity.this, &quot;No image Selected&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(MainActivity.this, &quot;Image: &quot;+ photo , Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\nAnd processing the HTML button:\r\n\r\n    webView.addJavascriptInterface(new Object() {\r\n            @JavascriptInterface\r\n            public void performClick() {\r\n                pickMedia.launch(new PickVisualMediaRequest.Builder()\r\n                        .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\r\n                        .build());\r\n            }\r\n        }, &quot;ok&quot;);","title":"How to transfer a photo via Android WebView to a jQuery script?","body":"<p>I want to use <strong>Photo Picker</strong> in my Android project. Content is displayed via WebView. I need to select an image from the device's memory and pass it to a jQuery script for pre-cropping. <strong>I need to transfer the selected image to webview</strong>. Thank you.</p>\n<pre><code>ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMedia = registerForActivityResult(new ActivityResultContracts.PickVisualMedia(), photo -&gt; {\n    if (photo == null) {\n        Toast.makeText(MainActivity.this, &quot;No image Selected&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        Toast.makeText(MainActivity.this, &quot;Image: &quot;+ photo , Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>And processing the HTML button:</p>\n<pre><code>webView.addJavascriptInterface(new Object() {\n        @JavascriptInterface\n        public void performClick() {\n            pickMedia.launch(new PickVisualMediaRequest.Builder()\n                    .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\n                    .build());\n        }\n    }, &quot;ok&quot;);\n</code></pre>\n"},{"tags":["java","generics","jdbi","java-21"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1700150208,"post_id":77496020,"comment_id":136621718,"body_markdown":"According to the JDBI github page, they run CI tests against Java 21 themselves so that would not really backup that you are immediately projecting problems you are seeing as them being a JDK issue. https://github.com/jdbi/jdbi . You&#39;re skipping a few steps here. Like creating a bug report.","body":"According to the JDBI github page, they run CI tests against Java 21 themselves so that would not really backup that you are immediately projecting problems you are seeing as them being a JDK issue. <a href=\"https://github.com/jdbi/jdbi\" rel=\"nofollow noreferrer\">github.com/jdbi/jdbi</a> . You&#39;re skipping a few steps here. Like creating a bug report."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1700161052,"post_id":77496020,"comment_id":136623743,"body_markdown":"And before you create a bug report, you might want to create a [mre].","body":"And before you create a bug report, you might want to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1700163136,"post_id":77496020,"comment_id":136624087,"body_markdown":"Can you create a [mcve] without any libraries? If not, try creating it with minimal libraries and include the full minimal example in the question.","body":"Can you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> without any libraries? If not, try creating it with minimal libraries and include the full minimal example in the question."},{"owner":{"account_id":4018708,"reputation":4637,"user_id":3309859,"accept_rate":62,"display_name":"Joost den Boer"},"score":0,"creation_date":1700207333,"post_id":77496020,"comment_id":136628296,"body_markdown":"Of course I _did_ create a bug report: https://github.com/jdbi/jdbi/issues/2527","body":"Of course I <i>did</i> create a bug report: <a href=\"https://github.com/jdbi/jdbi/issues/2527\" rel=\"nofollow noreferrer\">github.com/jdbi/jdbi/issues/2527</a>"},{"owner":{"account_id":4018708,"reputation":4637,"user_id":3309859,"accept_rate":62,"display_name":"Joost den Boer"},"score":0,"creation_date":1700218177,"post_id":77496020,"comment_id":136630068,"body_markdown":"I seem to have found the issue. See the update ^^.","body":"I seem to have found the issue. See the update ^^."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1700226109,"post_id":77496020,"comment_id":136631427,"body_markdown":"That constructor should not compile.  Method signatures need to be unique after erasure, which means a class can only have one (Optional, Optional) constructor.  In fact, it will not compile for me.","body":"That constructor should not compile.  Method signatures need to be unique after erasure, which means a class can only have one (Optional, Optional) constructor.  In fact, it will not compile for me."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1700245321,"post_id":77496020,"comment_id":136634969,"body_markdown":"If  Jdbi always requires the `@JdbiConstructor` annotation on a record, the posted declaration `record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {}` does not match the requirement. As said by others, you should post a [mre]","body":"If  Jdbi always requires the <code>@JdbiConstructor</code> annotation on a record, the posted declaration <code>record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {}</code> does not match the requirement. As said by others, you should post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700250939,"post_id":77496020,"comment_id":136635764,"body_markdown":"&quot;*it&#39;s not possible to replace the Record&#39;s default constructor*&quot; is not 100% correct: 1) a record class does not have a *default constructor*, but a *canonical constructor*; 2) and there are even TWO ways to explicitly declare/replace a *canonical constructor* - Java Language Specification [8.10.4. Record Constructor Declarations](https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.10.4)","body":"&quot;<i>it&#39;s not possible to replace the Record&#39;s default constructor</i>&quot; is not 100% correct: 1) a record class does not have a <i>default constructor</i>, but a <i>canonical constructor</i>; 2) and there are even TWO ways to explicitly declare/replace a <i>canonical constructor</i> - Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-8.html#jls-8.10.4\" rel=\"nofollow noreferrer\">8.10.4. Record Constructor Declarations</a>"},{"owner":{"account_id":4018708,"reputation":4637,"user_id":3309859,"accept_rate":62,"display_name":"Joost den Boer"},"score":0,"creation_date":1700471267,"post_id":77496020,"comment_id":136654158,"body_markdown":"Thanks for pointing out these mistakes. I tried to minimise the example based on the more complex record in our code base and I indeed forgot that swapping 2 Optional types does not make a difference at compile time since the generic types are erased.\nAnd I did not know about the canonical constructor for records, so I learned something new.","body":"Thanks for pointing out these mistakes. I tried to minimise the example based on the more complex record in our code base and I indeed forgot that swapping 2 Optional types does not make a difference at compile time since the generic types are erased. And I did not know about the canonical constructor for records, so I learned something new."}],"answers":[{"comments":[{"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"score":0,"creation_date":1700248130,"post_id":77504006,"comment_id":136635346,"body_markdown":"Thanks @Holger for finding a reproducer. Someone should probably submit this as a bug to the JDK folks - they usually take incorrect compilation fairly seriously. Since it&#39;s your code, you get first dibs, otherwise someone else should :)","body":"Thanks @Holger for finding a reproducer. Someone should probably submit this as a bug to the JDK folks - they usually take incorrect compilation fairly seriously. Since it&#39;s your code, you get first dibs, otherwise someone else should :)"},{"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"score":0,"creation_date":1700248737,"post_id":77504006,"comment_id":136635427,"body_markdown":"PS, we still use your memoizing supplier implementation you shared back in 2016, so thanks for that!","body":"PS, we still use your memoizing supplier implementation you shared back in 2016, so thanks for that!"},{"owner":{"account_id":4018708,"reputation":4637,"user_id":3309859,"accept_rate":62,"display_name":"Joost den Boer"},"score":0,"creation_date":1700468820,"post_id":77504006,"comment_id":136653791,"body_markdown":"Thanks for figuring this out with a simple test case.","body":"Thanks for figuring this out with a simple test case."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1700247103,"creation_date":1700247103,"answer_id":77504006,"question_id":77496020,"body_markdown":"I can reproduce your problem after applying some corrections:\r\n\r\n - The problem does not occur when using  \r\n   `record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {}`  \r\n   But since you said, Jdbi always requires the `@JdbiConstructor` annotation on a record, I assume that you provided an annotated compact constructor. *Then*, the problem occurs.\r\n\r\n - Your fix does not work at all. When swapping the two parameters, both of type `Optional`, you get a constructor with the same erasure as the canonical constructor. This is not accepted by a correct compiler and even if a compiler accepted it, it would break at runtime.\r\n\r\n - Its not correct that the canonical constructor cant be fixed. You can create an explicit canonical constructor instead of the compact one.\r\n\r\nUsing the following test program:\r\n\r\n```java\r\nimport java.util.Optional;\r\n\r\npublic class Reproducer {\r\n    interface NoConstructorDeclarations {\r\n        record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {}\r\n    }\r\n\r\n    interface AnnotatedCompactConstructor {\r\n        record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {\r\n            @Deprecated public Person {}\r\n        }\r\n    }\r\n\r\n    interface AnotatedExplicitCanonicalConstructor  {\r\n        record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {\r\n            @Deprecated\r\n            public Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {\r\n                this.name = name;\r\n                this.age = age;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        for(var approach: Reproducer.class.getDeclaredClasses()) {\r\n            Class&lt;?&gt; recordClass = approach.getClasses()[0];\r\n            System.out.println(approach.getSimpleName());\r\n  \r\n            var constructor = recordClass.getConstructors()[0];\r\n            System.out.println(constructor.isAnnotationPresent(Deprecated.class));\r\n            for(var p: constructor.getParameters()) {\r\n                System.out.println(p);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand `javac` from JDK&#160;21, I get:\r\n\r\n```none\r\nAnotatedExplicitCanonicalConstructor\r\ntrue\r\njava.util.Optional&lt;java.lang.String&gt; name\r\njava.util.Optional&lt;java.lang.Integer&gt; age\r\n\r\nAnnotatedCompactConstructor\r\ntrue\r\n java.util.Optional name\r\n java.util.Optional age\r\n\r\nNoConstructorDeclarations\r\nfalse\r\njava.util.Optional&lt;java.lang.String&gt; name\r\njava.util.Optional&lt;java.lang.Integer&gt; age\r\n```\r\n\r\nwhich acknowledges the problem and demonstrates a workaround. This problem does not occur with `javac` of previous JDKs nor Eclipses compiler.\r\n\r\nI used `@Deprecated` instead of `@JdbiConstructor`, to make the example independent from 3rd party libraries.","title":"Incompatible changes in generics in Java 21","body":"<p>I can reproduce your problem after applying some corrections:</p>\n<ul>\n<li><p>The problem does not occur when using<br />\n<code>record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {}</code><br />\nBut since you said, Jdbi always requires the <code>@JdbiConstructor</code> annotation on a record, I assume that you provided an annotated compact constructor. <em>Then</em>, the problem occurs.</p>\n</li>\n<li><p>Your fix does not work at all. When swapping the two parameters, both of type <code>Optional</code>, you get a constructor with the same erasure as the canonical constructor. This is not accepted by a correct compiler and even if a compiler accepted it, it would break at runtime.</p>\n</li>\n<li><p>Its not correct that the canonical constructor cant be fixed. You can create an explicit canonical constructor instead of the compact one.</p>\n</li>\n</ul>\n<p>Using the following test program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Optional;\n\npublic class Reproducer {\n    interface NoConstructorDeclarations {\n        record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {}\n    }\n\n    interface AnnotatedCompactConstructor {\n        record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {\n            @Deprecated public Person {}\n        }\n    }\n\n    interface AnotatedExplicitCanonicalConstructor  {\n        record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {\n            @Deprecated\n            public Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {\n                this.name = name;\n                this.age = age;\n            }\n        }\n    }\n\n    public static void main(String args[]) {\n        for(var approach: Reproducer.class.getDeclaredClasses()) {\n            Class&lt;?&gt; recordClass = approach.getClasses()[0];\n            System.out.println(approach.getSimpleName());\n  \n            var constructor = recordClass.getConstructors()[0];\n            System.out.println(constructor.isAnnotationPresent(Deprecated.class));\n            for(var p: constructor.getParameters()) {\n                System.out.println(p);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>and <code>javac</code> from JDK21, I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>AnotatedExplicitCanonicalConstructor\ntrue\njava.util.Optional&lt;java.lang.String&gt; name\njava.util.Optional&lt;java.lang.Integer&gt; age\n\nAnnotatedCompactConstructor\ntrue\n java.util.Optional name\n java.util.Optional age\n\nNoConstructorDeclarations\nfalse\njava.util.Optional&lt;java.lang.String&gt; name\njava.util.Optional&lt;java.lang.Integer&gt; age\n</code></pre>\n<p>which acknowledges the problem and demonstrates a workaround. This problem does not occur with <code>javac</code> of previous JDKs nor Eclipses compiler.</p>\n<p>I used <code>@Deprecated</code> instead of <code>@JdbiConstructor</code>, to make the example independent from 3rd party libraries.</p>\n"}],"owner":{"account_id":4018708,"reputation":4637,"user_id":3309859,"accept_rate":62,"display_name":"Joost den Boer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77504006,"answer_count":1,"score":4,"last_activity_date":1700642675,"creation_date":1700148101,"question_id":77496020,"body_markdown":"Has anyone else also noticed changes in Java&#39;s generics in Java 21?\r\n\r\nWe&#39;re using [Jdbi](https://jdbi.org) for database access and when updating to Java 21 things go wrong because a generic type cannot be determined anymore.\r\n\r\nWhile debugging I noticed that a condition\r\n```java\r\njava.lang.reflect.Type type = ...\r\nif (type instanceof Class) {..}\r\n```\r\nwhere `type` is an interface evaluates to `false` in Java 17 but is `true` in Java 21.\r\n\r\nJdbi depends on the [Geantyref](https://github.com/leangen/geantyref) library for some of its generics. The static method [GenericTypeReflector.getTypeParameter(..)](https://github.com/leangen/geantyref/blob/91ee19aa430752b1872b918d9a2d02efa7126946/src/main/java/io/leangen/geantyref/GenericTypeReflector.java#L389) returns the generic type in Java 17, but returns `null` in Java 21.\r\n\r\nNowhere in the release notes or other announcements I can find anything about that something around generics has changed in Java 21. Nor that there are backwards compatible breaking changes.\r\n\r\nI assume some internals might have changed due to record reflection (JEP-440) or the pattern matching for switch (JEP-441), but those features I am already using as 17-preview features without any issue.\r\n\r\nAnyone an idea what caused theses changes and why?\r\n\r\n### Update 17-Nov-2023\r\nI think I have figured it out. I trace the problem back to constructor arguments of a record class. \r\nIt seems that in Java 21 for a record class somehow the arguments of the default constructor somehow do not have the generic type.\r\nSo for a record like\r\n```java\r\nrecord Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {}\r\n```\r\nthe generic types `String` and `Integer` are lost in the Person&#39;s default constructor.\r\nThe default constructor generated by Java can be changed by explicitly adding a canonical constructor with all record properties:\r\n```\r\nrecord Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {\r\n  @JdbiConstructor\r\n  public Person(Optional&lt;String&gt; aName, Integer anAge) {\r\n    this(aName, anAge);\r\n  }\r\n}\r\n```\r\nBy adding the `@JdbiConstructor` annotation (which Jdbi always requires on a Record) Jdbi is instructed which constructor to use.\r\nBecause this constructor now explicitly defines the argument types including the generic type, the reflection util is able to determine the type and I got it to work with Java 21.\r\n\r\nThe last 2 hours I have been trying to create a bare minimum test case to verify that the generic type is lost in the Record&#39;s default constructor arguments, but I have not been able to reproduce it in a test. Even though it fails consistently in our application.\r\nI have been comparing type arguments while debugging the application and the test at the same time. The arguments values and types look the same, but the test still succeeds in Java 21.\r\n\r\nI&#39;m leaving the test for now since I have to get on with my work and I now do have a working workaround by adding an additional constructor.\r\nI&#39;ll try to get back to this later. It must be reproducible in a simple test.\r\n\r\n### Update 20-Nov-2023\r\n\r\nThanks to Holger for creating a small test case proving the issue.\r\n\r\nI had 2 things wrong in the 17-Nov update:\r\n- swapping both Optional arguments does _not_ create a different constructor since the erased types are equal.\r\n- the default record constructor _can_ be overridden by explicitly providing a canonical constructor.\r\n\r\nI have updated the 17-Nov update accordingly. Thanks for pointing out these mistakes.\r\n\r\nI have submitted a bug report with ID `9076247` which is now under review.\r\n\r\n### Update 22-Nov-2023\r\n\r\nThe reported bug has been evaluated and assigned Bug ID: JDK-8320575 and is now visible on the url [JDK-8320575](https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8320575)","title":"Incompatible changes in generics in Java 21","body":"<p>Has anyone else also noticed changes in Java's generics in Java 21?</p>\n<p>We're using <a href=\"https://jdbi.org\" rel=\"nofollow noreferrer\">Jdbi</a> for database access and when updating to Java 21 things go wrong because a generic type cannot be determined anymore.</p>\n<p>While debugging I noticed that a condition</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.reflect.Type type = ...\nif (type instanceof Class) {..}\n</code></pre>\n<p>where <code>type</code> is an interface evaluates to <code>false</code> in Java 17 but is <code>true</code> in Java 21.</p>\n<p>Jdbi depends on the <a href=\"https://github.com/leangen/geantyref\" rel=\"nofollow noreferrer\">Geantyref</a> library for some of its generics. The static method <a href=\"https://github.com/leangen/geantyref/blob/91ee19aa430752b1872b918d9a2d02efa7126946/src/main/java/io/leangen/geantyref/GenericTypeReflector.java#L389\" rel=\"nofollow noreferrer\">GenericTypeReflector.getTypeParameter(..)</a> returns the generic type in Java 17, but returns <code>null</code> in Java 21.</p>\n<p>Nowhere in the release notes or other announcements I can find anything about that something around generics has changed in Java 21. Nor that there are backwards compatible breaking changes.</p>\n<p>I assume some internals might have changed due to record reflection (JEP-440) or the pattern matching for switch (JEP-441), but those features I am already using as 17-preview features without any issue.</p>\n<p>Anyone an idea what caused theses changes and why?</p>\n<h3>Update 17-Nov-2023</h3>\n<p>I think I have figured it out. I trace the problem back to constructor arguments of a record class.\nIt seems that in Java 21 for a record class somehow the arguments of the default constructor somehow do not have the generic type.\nSo for a record like</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {}\n</code></pre>\n<p>the generic types <code>String</code> and <code>Integer</code> are lost in the Person's default constructor.\nThe default constructor generated by Java can be changed by explicitly adding a canonical constructor with all record properties:</p>\n<pre><code>record Person(Optional&lt;String&gt; name, Optional&lt;Integer&gt; age) {\n  @JdbiConstructor\n  public Person(Optional&lt;String&gt; aName, Integer anAge) {\n    this(aName, anAge);\n  }\n}\n</code></pre>\n<p>By adding the <code>@JdbiConstructor</code> annotation (which Jdbi always requires on a Record) Jdbi is instructed which constructor to use.\nBecause this constructor now explicitly defines the argument types including the generic type, the reflection util is able to determine the type and I got it to work with Java 21.</p>\n<p>The last 2 hours I have been trying to create a bare minimum test case to verify that the generic type is lost in the Record's default constructor arguments, but I have not been able to reproduce it in a test. Even though it fails consistently in our application.\nI have been comparing type arguments while debugging the application and the test at the same time. The arguments values and types look the same, but the test still succeeds in Java 21.</p>\n<p>I'm leaving the test for now since I have to get on with my work and I now do have a working workaround by adding an additional constructor.\nI'll try to get back to this later. It must be reproducible in a simple test.</p>\n<h3>Update 20-Nov-2023</h3>\n<p>Thanks to Holger for creating a small test case proving the issue.</p>\n<p>I had 2 things wrong in the 17-Nov update:</p>\n<ul>\n<li>swapping both Optional arguments does <em>not</em> create a different constructor since the erased types are equal.</li>\n<li>the default record constructor <em>can</em> be overridden by explicitly providing a canonical constructor.</li>\n</ul>\n<p>I have updated the 17-Nov update accordingly. Thanks for pointing out these mistakes.</p>\n<p>I have submitted a bug report with ID <code>9076247</code> which is now under review.</p>\n<h3>Update 22-Nov-2023</h3>\n<p>The reported bug has been evaluated and assigned Bug ID: JDK-8320575 and is now visible on the url <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8320575\" rel=\"nofollow noreferrer\">JDK-8320575</a></p>\n"},{"tags":["java","go"],"comments":[{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":4,"creation_date":1700643350,"post_id":77528379,"comment_id":136678615,"body_markdown":"Use an API gateway or a load balancer from all 3 applications to call the external API. \nHandle the scenarios in gateway. \nThis will help you to have common error handling besides other common things. \n\nBasically, the idea is to delegate every third party call to this new component i.e. gateway or load balancer.","body":"Use an API gateway or a load balancer from all 3 applications to call the external API.  Handle the scenarios in gateway.  This will help you to have common error handling besides other common things.   Basically, the idea is to delegate every third party call to this new component i.e. gateway or load balancer."}],"owner":{"account_id":183693,"reputation":169,"user_id":419229,"accept_rate":62,"display_name":"Chirota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700641988,"creation_date":1700641988,"question_id":77528379,"body_markdown":"We are dealing with external REST API. This API has more than 1200 possible error codes.\r\nThere are three projects who use this API. We want to make common error handling framework or library for this.. \r\nHow can we handle external API errors? We would like to map these error codes to our company specific error description.","title":"Approach for handling external REST API errors","body":"<p>We are dealing with external REST API. This API has more than 1200 possible error codes.\nThere are three projects who use this API. We want to make common error handling framework or library for this..\nHow can we handle external API errors? We would like to map these error codes to our company specific error description.</p>\n"},{"tags":["java","spring","shell"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1649327808,"post_id":71780518,"comment_id":126850038,"body_markdown":"https://docs.spring.io/spring-shell/docs/2.0.1.RELEASE/reference/htmlsingle/#_promptprovider","body":"<a href=\"https://docs.spring.io/spring-shell/docs/2.0.1.RELEASE/reference/htmlsingle/#_promptprovider\" rel=\"nofollow noreferrer\">docs.spring.io/spring-shell/docs/2.0.1.RELEASE/reference/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24831761,"reputation":144,"user_id":18710872,"display_name":"void"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649327972,"creation_date":1649327972,"answer_id":71780627,"question_id":71780518,"body_markdown":"You can define a ```PromptProvider```, see in the Docs: https://docs.spring.io/spring-shell/docs/current-SNAPSHOT/reference/htmlsingle/#_promptprovider","title":"Change the prompt in spring shell at runtime","body":"<p>You can define a <code>PromptProvider</code>, see in the Docs: <a href=\"https://docs.spring.io/spring-shell/docs/current-SNAPSHOT/reference/htmlsingle/#_promptprovider\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-shell/docs/current-SNAPSHOT/reference/htmlsingle/#_promptprovider</a></p>\n"},{"tags":[],"owner":{"account_id":16602983,"reputation":53,"user_id":11998134,"display_name":"Davidge"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649407678,"creation_date":1649407678,"answer_id":71794175,"question_id":71780518,"body_markdown":"Thank you for the answer! I&#39;ve overlooked this feature. I created this class, put it into my configuration-package and it works good for me:\r\n\r\n    package de.myapp.spring.configuration;\r\n    \r\n    @Configuration\r\n    @ComponentScan(&quot;de.myapp.spring.shell&quot;)\r\n    public class ShellApplicationConfiguration implements PromptProvider {\r\n    \r\n    \t@Override\r\n    \tpublic final AttributedString getPrompt() {\r\n    \r\n    \t\treturn new AttributedString(&quot;myapp:&gt;&quot;);\r\n    \r\n    \t}\r\n    \r\n    }","title":"Change the prompt in spring shell at runtime","body":"<p>Thank you for the answer! I've overlooked this feature. I created this class, put it into my configuration-package and it works good for me:</p>\n<pre><code>package de.myapp.spring.configuration;\n\n@Configuration\n@ComponentScan(&quot;de.myapp.spring.shell&quot;)\npublic class ShellApplicationConfiguration implements PromptProvider {\n\n    @Override\n    public final AttributedString getPrompt() {\n\n        return new AttributedString(&quot;myapp:&gt;&quot;);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700641829,"creation_date":1700641829,"answer_id":77528359,"question_id":71780518,"body_markdown":"What worked for me:\r\n\r\n```java\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.shell.jline.PromptProvider;\r\nimport org.jline.utils.AttributedString;\r\n\r\n@Configuration\r\npublic class SpringShellConfiguration implements PromptProvider {\r\n    @Override\r\n    public final AttributedString getPrompt() {\r\n        return new AttributedString(&quot;myapp:&gt; &quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nReference:\r\nhttps://docs.spring.io/spring-shell/docs/current/api/org/springframework/shell/jline/PromptProvider.html\r\n","title":"Change the prompt in spring shell at runtime","body":"<p>What worked for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.shell.jline.PromptProvider;\nimport org.jline.utils.AttributedString;\n\n@Configuration\npublic class SpringShellConfiguration implements PromptProvider {\n    @Override\n    public final AttributedString getPrompt() {\n        return new AttributedString(&quot;myapp:&gt; &quot;);\n    }\n\n}\n</code></pre>\n<p>Reference:\n<a href=\"https://docs.spring.io/spring-shell/docs/current/api/org/springframework/shell/jline/PromptProvider.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-shell/docs/current/api/org/springframework/shell/jline/PromptProvider.html</a></p>\n"}],"owner":{"account_id":16602983,"reputation":53,"user_id":11998134,"display_name":"Davidge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71780627,"answer_count":3,"score":2,"last_activity_date":1700641829,"creation_date":1649327444,"question_id":71780518,"body_markdown":"is it possible to change the prompt in a spring shell application? For default it seems that the prompt is:\r\n\r\n    shell:&gt;\r\n\r\nIs is possible to change this text at runtime?\r\n\r\nTHX","title":"Change the prompt in spring shell at runtime","body":"<p>is it possible to change the prompt in a spring shell application? For default it seems that the prompt is:</p>\n<pre><code>shell:&gt;\n</code></pre>\n<p>Is is possible to change this text at runtime?</p>\n<p>THX</p>\n"},{"tags":["java","spring-boot","swagger","basic-authentication","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":10595514,"reputation":1478,"user_id":7804385,"display_name":"Troley"},"score":1,"creation_date":1700572367,"post_id":77522752,"comment_id":136668974,"body_markdown":"When I use exactly your code (with latest Spring Boot `3.1.5`), import springdoc-openapi-ui v`2.2.0` into the project, then everything works as should per your description. For the non-existent paths I just get an expected `404`, no `403` or `400`. Are you sure you don&#39;t have any extra security configuration that might be intercepting? Or something else misconfigured?","body":"When I use exactly your code (with latest Spring Boot <code>3.1.5</code>), import springdoc-openapi-ui v<code>2.2.0</code> into the project, then everything works as should per your description. For the non-existent paths I just get an expected <code>404</code>, no <code>403</code> or <code>400</code>. Are you sure you don&#39;t have any extra security configuration that might be intercepting? Or something else misconfigured?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1700574958,"post_id":77522752,"comment_id":136669537,"body_markdown":"Sorry, but I did not get you, just tell me if i understood correct what you meant to do. Permit everyone to the `swagger ui` and all `open api` staff, but restrict access to endpoints.","body":"Sorry, but I did not get you, just tell me if i understood correct what you meant to do. Permit everyone to the <code>swagger ui</code> and all <code>open api</code> staff, but restrict access to endpoints."},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":1,"creation_date":1700641721,"post_id":77522752,"comment_id":136678359,"body_markdown":"@Troley we fixed it, see here: https://stackoverflow.com/a/77528344/571875","body":"@Troley we fixed it, see here: <a href=\"https://stackoverflow.com/a/77528344/571875\">stackoverflow.com/a/77528344/571875</a>"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1700641776,"post_id":77522752,"comment_id":136678367,"body_markdown":"@AndreiLisa The other way around, we want access to the apis themselves (they&#39;re secured elsewhere) and to secure the swagger stuff. I found the problem:  https://stackoverflow.com/a/77528344/571875","body":"@AndreiLisa The other way around, we want access to the apis themselves (they&#39;re secured elsewhere) and to secure the swagger stuff. I found the problem:  <a href=\"https://stackoverflow.com/a/77528344/571875\">stackoverflow.com/a/77528344/571875</a>"}],"answers":[{"comments":[{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1700641830,"post_id":77523611,"comment_id":136678375,"body_markdown":"Thank you for your input, it turns out our issues was elsewhere: https://stackoverflow.com/a/77528344/571875","body":"Thank you for your input, it turns out our issues was elsewhere: <a href=\"https://stackoverflow.com/a/77528344/571875\">stackoverflow.com/a/77528344/571875</a>"}],"tags":[],"owner":{"account_id":8928773,"reputation":213,"user_id":6662076,"display_name":"Alireza Nazari"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700576787,"creation_date":1700576787,"answer_id":77523611,"question_id":77522752,"body_markdown":"For having authentication on swagger only, i&#39;ve implemented two different filter chains. One for swagger and the other for the whole service. this is how my SecurityConfig looks like: \r\n\r\n    http.addFilterBefore(ssoAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \r\n            http.authorizeHttpRequests(c -&gt;\r\n                                c.requestMatchers(&quot;/swagger-ui&quot;).hasAnyAuthority(&quot;STAFF&quot;,&quot;ADMIN&quot;,&quot;CASHIER&quot;,&quot;TENANTADMIN&quot;)\r\n                                        .requestMatchers(&quot;/api-docs/swagger-config&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/swagger-ui/login&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/actuator/health&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/actuator/prometheus&quot;).permitAll()\r\n                                        .requestMatchers(&quot;/api-docs&quot;).hasAnyAuthority(&quot;STAFF&quot;,&quot;ADMIN&quot;, &quot;CASHIER&quot;, &quot;TENANTADMIN&quot;)\r\n                                        .requestMatchers(&quot;/api-docs/eod&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;STAFF&quot;, &quot;TENANTADMIN&quot;, &quot;CASHIER&quot;)\r\n                                        .requestMatchers(&quot;/api-docs/statistics&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;STAFF&quot;, &quot;CASHIER&quot;, &quot;TENANTADMIN&quot;)\r\n                                        .dispatcherTypeMatchers( DispatcherType.ERROR ).permitAll()\r\n                                .anyRequest().authenticated()\r\n            );\r\n    \r\n            http.formLogin(form -&gt; form\r\n                    .loginPage(&quot;/swagger-ui/login&quot;)\r\n                    .loginProcessingUrl(&quot;/swagger-ui/login&quot;)\r\n                    .successHandler(myAuthenticationSuccessHandler())\r\n                    .failureHandler(myAuthenticationFailureHandler())\r\n                    .permitAll()\r\n            );\r\n    \r\n            http.addFilterBefore(swaggerAuthFilter, UsernamePasswordAuthenticationFilter.class).exceptionHandling(handling -&gt; {\r\n                handling.accessDeniedHandler(accessDeniedHandler());\r\n                handling.authenticationEntryPoint(new CustomHttp403ForbiddenEntryPoint());\r\n            });\r\n    \r\n            http.authenticationProvider(swaggerAuthProvider);\r\n\r\nAs you can see i&#39;ve SSOAuthFilter for my whole service and SwaggerAuthFilter for swagger purposes only. \r\n\r\nYou&#39;ll also need a AuthenticationProvider: \r\n\r\n \r\n\r\n       public class SwaggerAuthProvider implements AuthenticationProvider {\r\n            private UserService userService;\r\n        \r\n            @Autowired\r\n            public SwaggerAuthProvider(UserService userService) {\r\n                this.userService = userService;\r\n            }\r\n        \r\n            @Override\r\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n                String username = authentication.getName();\r\n                String password = authentication.getCredentials().toString();\r\n                Optional&lt;WhoAmIResponse&gt; whoAmIResponse = userService.authenticate(new LoginRequest(username,password));\r\n        \r\n                if (whoAmIResponse.isEmpty()) {\r\n                    log.debug(&quot;Authentication failed. Invalid credentials.&quot;);\r\n                    throw new BadCredentialsException(&quot;Authentication failed. Invalid credentials.&quot;);\r\n                }\r\n        \r\n                // Create a new authenticated token with the JWT token\r\n                return new JwtAuthenticationToken(\r\n                        whoAmIResponse.get().getToken(),\r\n                        username, password,\r\n                        List.of(\r\n                                new SimpleGrantedAuthority(\r\n                                    whoAmIResponse.get().getType().toUpperCase()\r\n                                )\r\n                        )\r\n                );\r\n            }\r\n        \r\n            @Override\r\n            public boolean supports(Class&lt;?&gt; authentication) {\r\n                return authentication.isAssignableFrom(JwtAuthenticationToken.class);\r\n            }\r\n        }\r\n\r\nAnd this is how my SwaggerAuthFilter looks like: \r\n\r\n    public class SwaggerAuthFilter extends OncePerRequestFilter {\r\n    \r\n        private final MyUserDetailsService userDetailsService;\r\n        private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n    \r\n        @Autowired\r\n        public SwaggerAuthFilter(MyUserDetailsService userDetailsService) {\r\n            this.userDetailsService = userDetailsService;\r\n        }\r\n    \r\n        private String checkCookie(Cookie tokenCookie){\r\n            String token = tokenCookie.getValue();\r\n            if(token == null || token.length() &lt; 7){\r\n                log.debug(&quot;token problem with length {}&quot;, token.length());\r\n            }\r\n    \r\n            if(token.startsWith(&quot;Bearer&quot;))\r\n                return token.substring(7);\r\n            return token;\r\n        }\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest req,\r\n                                        HttpServletResponse res,\r\n                                        FilterChain chain) throws IOException, ServletException {\r\n            String url = req.getRequestURI();\r\n            if(\r\n                    (!req.getRequestURI().contains(&quot;swagger-ui&quot;) &amp;&amp;\r\n                    !req.getRequestURI().contains(&quot;api-docs&quot;)) ||\r\n                    req.getRequestURI().contains(&quot;login&quot;)\r\n            ){\r\n                log.debug(&quot;request with uri: {} was not associated with swagger filter&quot;, url);\r\n                chain.doFilter(req, res);\r\n                return;\r\n            }\r\n    \r\n            Cookie tokenCookie = WebUtils.getCookie(req, &quot;token&quot;);\r\n            if(tokenCookie == null){\r\n                log.debug(&quot;token cookie is null, redirecting to login page&quot;);\r\n                redirectStrategy.sendRedirect(req, res, &quot;/swagger-ui/login&quot;);\r\n                return;\r\n            }\r\n            String token = checkCookie(tokenCookie);\r\n    \r\n            UsernamePasswordAuthenticationToken authentication;\r\n            try {\r\n                UserDetails userDetails = userDetailsService.loadUserByUsername(token);\r\n                if(userDetails == null){\r\n                    log.debug(&quot;user retrieved by token in cookie is null, redirecting to login page&quot;);\r\n                    tokenCookie.setMaxAge(0);\r\n                    res.addCookie(tokenCookie);\r\n                    redirectStrategy.sendRedirect(req, res, &quot;/swagger-ui/login&quot;);\r\n                    return;\r\n                }\r\n                authentication =\r\n                        new JwtAuthenticationToken(token,userDetails,\r\n                                null,\r\n                                userDetails.getAuthorities());\r\n    \r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(req));\r\n    \r\n            } catch (AuthException | NullPointerException | IllegalArgumentException e) {\r\n                log.debug(&quot;cannot authorize because {}&quot;, e.getLocalizedMessage());\r\n                authentication = null;\r\n            }\r\n            SecurityContextHolder.getContext().setAuthentication(authentication); // set the user here\r\n            chain.doFilter(req, res);\r\n        }\r\n    }\r\n\r\nHope that this helps you resolve your issue!\r\n","title":"Cannot solve 403 Forbidden when using open API with spring boot and swagger and allowing other requests","body":"<p>For having authentication on swagger only, i've implemented two different filter chains. One for swagger and the other for the whole service. this is how my SecurityConfig looks like:</p>\n<pre><code>http.addFilterBefore(ssoAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n        http.authorizeHttpRequests(c -&gt;\n                            c.requestMatchers(&quot;/swagger-ui&quot;).hasAnyAuthority(&quot;STAFF&quot;,&quot;ADMIN&quot;,&quot;CASHIER&quot;,&quot;TENANTADMIN&quot;)\n                                    .requestMatchers(&quot;/api-docs/swagger-config&quot;).permitAll()\n                                    .requestMatchers(&quot;/swagger-ui/login&quot;).permitAll()\n                                    .requestMatchers(&quot;/actuator/health&quot;).permitAll()\n                                    .requestMatchers(&quot;/actuator/prometheus&quot;).permitAll()\n                                    .requestMatchers(&quot;/api-docs&quot;).hasAnyAuthority(&quot;STAFF&quot;,&quot;ADMIN&quot;, &quot;CASHIER&quot;, &quot;TENANTADMIN&quot;)\n                                    .requestMatchers(&quot;/api-docs/eod&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;STAFF&quot;, &quot;TENANTADMIN&quot;, &quot;CASHIER&quot;)\n                                    .requestMatchers(&quot;/api-docs/statistics&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;STAFF&quot;, &quot;CASHIER&quot;, &quot;TENANTADMIN&quot;)\n                                    .dispatcherTypeMatchers( DispatcherType.ERROR ).permitAll()\n                            .anyRequest().authenticated()\n        );\n\n        http.formLogin(form -&gt; form\n                .loginPage(&quot;/swagger-ui/login&quot;)\n                .loginProcessingUrl(&quot;/swagger-ui/login&quot;)\n                .successHandler(myAuthenticationSuccessHandler())\n                .failureHandler(myAuthenticationFailureHandler())\n                .permitAll()\n        );\n\n        http.addFilterBefore(swaggerAuthFilter, UsernamePasswordAuthenticationFilter.class).exceptionHandling(handling -&gt; {\n            handling.accessDeniedHandler(accessDeniedHandler());\n            handling.authenticationEntryPoint(new CustomHttp403ForbiddenEntryPoint());\n        });\n\n        http.authenticationProvider(swaggerAuthProvider);\n</code></pre>\n<p>As you can see i've SSOAuthFilter for my whole service and SwaggerAuthFilter for swagger purposes only.</p>\n<p>You'll also need a AuthenticationProvider:</p>\n<pre><code>   public class SwaggerAuthProvider implements AuthenticationProvider {\n        private UserService userService;\n    \n        @Autowired\n        public SwaggerAuthProvider(UserService userService) {\n            this.userService = userService;\n        }\n    \n        @Override\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n            String username = authentication.getName();\n            String password = authentication.getCredentials().toString();\n            Optional&lt;WhoAmIResponse&gt; whoAmIResponse = userService.authenticate(new LoginRequest(username,password));\n    \n            if (whoAmIResponse.isEmpty()) {\n                log.debug(&quot;Authentication failed. Invalid credentials.&quot;);\n                throw new BadCredentialsException(&quot;Authentication failed. Invalid credentials.&quot;);\n            }\n    \n            // Create a new authenticated token with the JWT token\n            return new JwtAuthenticationToken(\n                    whoAmIResponse.get().getToken(),\n                    username, password,\n                    List.of(\n                            new SimpleGrantedAuthority(\n                                whoAmIResponse.get().getType().toUpperCase()\n                            )\n                    )\n            );\n        }\n    \n        @Override\n        public boolean supports(Class&lt;?&gt; authentication) {\n            return authentication.isAssignableFrom(JwtAuthenticationToken.class);\n        }\n    }\n</code></pre>\n<p>And this is how my SwaggerAuthFilter looks like:</p>\n<pre><code>public class SwaggerAuthFilter extends OncePerRequestFilter {\n\n    private final MyUserDetailsService userDetailsService;\n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n    @Autowired\n    public SwaggerAuthFilter(MyUserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    private String checkCookie(Cookie tokenCookie){\n        String token = tokenCookie.getValue();\n        if(token == null || token.length() &lt; 7){\n            log.debug(&quot;token problem with length {}&quot;, token.length());\n        }\n\n        if(token.startsWith(&quot;Bearer&quot;))\n            return token.substring(7);\n        return token;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest req,\n                                    HttpServletResponse res,\n                                    FilterChain chain) throws IOException, ServletException {\n        String url = req.getRequestURI();\n        if(\n                (!req.getRequestURI().contains(&quot;swagger-ui&quot;) &amp;&amp;\n                !req.getRequestURI().contains(&quot;api-docs&quot;)) ||\n                req.getRequestURI().contains(&quot;login&quot;)\n        ){\n            log.debug(&quot;request with uri: {} was not associated with swagger filter&quot;, url);\n            chain.doFilter(req, res);\n            return;\n        }\n\n        Cookie tokenCookie = WebUtils.getCookie(req, &quot;token&quot;);\n        if(tokenCookie == null){\n            log.debug(&quot;token cookie is null, redirecting to login page&quot;);\n            redirectStrategy.sendRedirect(req, res, &quot;/swagger-ui/login&quot;);\n            return;\n        }\n        String token = checkCookie(tokenCookie);\n\n        UsernamePasswordAuthenticationToken authentication;\n        try {\n            UserDetails userDetails = userDetailsService.loadUserByUsername(token);\n            if(userDetails == null){\n                log.debug(&quot;user retrieved by token in cookie is null, redirecting to login page&quot;);\n                tokenCookie.setMaxAge(0);\n                res.addCookie(tokenCookie);\n                redirectStrategy.sendRedirect(req, res, &quot;/swagger-ui/login&quot;);\n                return;\n            }\n            authentication =\n                    new JwtAuthenticationToken(token,userDetails,\n                            null,\n                            userDetails.getAuthorities());\n\n            authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(req));\n\n        } catch (AuthException | NullPointerException | IllegalArgumentException e) {\n            log.debug(&quot;cannot authorize because {}&quot;, e.getLocalizedMessage());\n            authentication = null;\n        }\n        SecurityContextHolder.getContext().setAuthentication(authentication); // set the user here\n        chain.doFilter(req, res);\n    }\n}\n</code></pre>\n<p>Hope that this helps you resolve your issue!</p>\n"},{"tags":[],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700641679,"creation_date":1700641679,"answer_id":77528344,"question_id":77522752,"body_markdown":"So this was a weird one. \r\nIn the service I&#39;m working on we have an endpoint called `/error`.   \r\nSpring has a default error controller which also has an endpoint called `/error`.   \r\nThis was never a problem before, but apparently with the inclusion of spring-security something changed and it became a problem.  \r\nSpring couldn&#39;t figure out which resource to use for whatever it was trying to do, and so selected the wrong one, which resulted in weird behaviours.   \r\nInterestingly there were no actual errors.   \r\nIn the debug logs I noticed that we were calling `/error` for some reason (still can&#39;t figure that out) and there was a warning that the expected body wasn&#39;t in the request, which was odd because we weren&#39;t calling that resource, and the `GET` request that was failing didn&#39;t have a body.   \r\nIt wasn&#39;t until we turned on trace logs that we could see that there were two conflicting `/error` resources, and spring was picking out resource instead of the one it was looking for.   \r\nWe renamed our error resource to something else and all the issues went away.   \r\nI find it weird that spring doesn&#39;t complain properly when that happens though. Surely that sort of conflict requires more than a trace log?   \r\nIn any case, it is working now.   \r\n","title":"Cannot solve 403 Forbidden when using open API with spring boot and swagger and allowing other requests","body":"<p>So this was a weird one.\nIn the service I'm working on we have an endpoint called <code>/error</code>.<br />\nSpring has a default error controller which also has an endpoint called <code>/error</code>.<br />\nThis was never a problem before, but apparently with the inclusion of spring-security something changed and it became a problem.<br />\nSpring couldn't figure out which resource to use for whatever it was trying to do, and so selected the wrong one, which resulted in weird behaviours.<br />\nInterestingly there were no actual errors.<br />\nIn the debug logs I noticed that we were calling <code>/error</code> for some reason (still can't figure that out) and there was a warning that the expected body wasn't in the request, which was odd because we weren't calling that resource, and the <code>GET</code> request that was failing didn't have a body.<br />\nIt wasn't until we turned on trace logs that we could see that there were two conflicting <code>/error</code> resources, and spring was picking out resource instead of the one it was looking for.<br />\nWe renamed our error resource to something else and all the issues went away.<br />\nI find it weird that spring doesn't complain properly when that happens though. Surely that sort of conflict requires more than a trace log?<br />\nIn any case, it is working now.</p>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700641679,"creation_date":1700569088,"question_id":77522752,"body_markdown":"I&#39;ve looked in so many questions on here, but with no solutions that work for me.  \r\nI have a service that I want to run open api and the swagger ui on.  \r\nI have no problems running them without security, and when I try add basic authentication with the code below it works as I&#39;d like, BUT it also puts all my other API&#39;s behind the same authentication, which I do not want. I thought I could add an additional `requestMatcher` like this:   \r\n```java\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/swagger-ui/**&quot;,\r\n                                     &quot;/v3/api-docs/**&quot;,\r\n                                     &quot;/v3/api-docs&quot;,\r\n                                     &quot;/swagger-ui.html&quot;)\r\n                    .hasRole(&quot;USER&quot;)\r\n                    .requestMatchers(&quot;/**&quot;).permitAll()\r\n                    .and()\r\n                    .httpBasic(Customizer.withDefaults());\r\n        return httpSecurity.build();\r\n    }\r\n```\r\n\r\nWhen I do this, my other API&#39;s are. accessible without security as I expect, and when I go to the swagger ui I get the popup, I can log in, but then the get request to `/v3/api-config` fails with a 403 forbidden error or a 400 error, depending on where the permitAll requestMatcher is located.  \r\nWhat is the correct way to do this?   \r\nI want the swagger api&#39;s to be behind basic auth, but all other api&#39;s to be accessible by anyone.   \r\nI cannot find an existing answer to help with this.   \r\nMy current security config is below, this blocks everything and allows swagger after authentication:   \r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    public static final Logger logger = LoggerFactory.getLogger(SecurityConfig.class);\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/swagger-ui/**&quot;,\r\n                                     &quot;/v3/api-docs/**&quot;,\r\n                                     &quot;/v3/api-docs&quot;,\r\n                                     &quot;/swagger-ui.html&quot;)\r\n                    .hasRole(&quot;USER&quot;)\r\n                    .and()\r\n                    .httpBasic(Customizer.withDefaults());\r\n        return httpSecurity.build();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(PasswordEncoder passwordEncoder) {\r\n        UserDetails user = User.withUsername(&quot;user&quot;)\r\n                               .password(passwordEncoder.encode(&quot;password&quot;))\r\n                               .roles(&quot;USER&quot;)\r\n                               .build();\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n","title":"Cannot solve 403 Forbidden when using open API with spring boot and swagger and allowing other requests","body":"<p>I've looked in so many questions on here, but with no solutions that work for me.<br />\nI have a service that I want to run open api and the swagger ui on.<br />\nI have no problems running them without security, and when I try add basic authentication with the code below it works as I'd like, BUT it also puts all my other API's behind the same authentication, which I do not want. I thought I could add an additional <code>requestMatcher</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeHttpRequests()\n                    .requestMatchers(&quot;/swagger-ui/**&quot;,\n                                     &quot;/v3/api-docs/**&quot;,\n                                     &quot;/v3/api-docs&quot;,\n                                     &quot;/swagger-ui.html&quot;)\n                    .hasRole(&quot;USER&quot;)\n                    .requestMatchers(&quot;/**&quot;).permitAll()\n                    .and()\n                    .httpBasic(Customizer.withDefaults());\n        return httpSecurity.build();\n    }\n</code></pre>\n<p>When I do this, my other API's are. accessible without security as I expect, and when I go to the swagger ui I get the popup, I can log in, but then the get request to <code>/v3/api-config</code> fails with a 403 forbidden error or a 400 error, depending on where the permitAll requestMatcher is located.<br />\nWhat is the correct way to do this?<br />\nI want the swagger api's to be behind basic auth, but all other api's to be accessible by anyone.<br />\nI cannot find an existing answer to help with this.<br />\nMy current security config is below, this blocks everything and allows swagger after authentication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    public static final Logger logger = LoggerFactory.getLogger(SecurityConfig.class);\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeHttpRequests()\n                    .requestMatchers(&quot;/swagger-ui/**&quot;,\n                                     &quot;/v3/api-docs/**&quot;,\n                                     &quot;/v3/api-docs&quot;,\n                                     &quot;/swagger-ui.html&quot;)\n                    .hasRole(&quot;USER&quot;)\n                    .and()\n                    .httpBasic(Customizer.withDefaults());\n        return httpSecurity.build();\n\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(PasswordEncoder passwordEncoder) {\n        UserDetails user = User.withUsername(&quot;user&quot;)\n                               .password(passwordEncoder.encode(&quot;password&quot;))\n                               .roles(&quot;USER&quot;)\n                               .build();\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","webview"],"answers":[{"tags":[],"owner":{"account_id":8423539,"reputation":3750,"user_id":6770343,"accept_rate":77,"display_name":"Suraj Bahadur"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671696530,"creation_date":1671696530,"answer_id":74885693,"question_id":74885553,"body_markdown":"For apps targeting Android 13 (API level 33) or higher, the `setForceDark()` method is deprecated, resulting in a no-op if the method is called.\r\n\r\nInstead, WebView now always sets the media query `prefers-color-scheme` according to the app&#39;s theme attribute, [isLightTheme][1]. In other words, if `isLightTheme` is true or not specified, `prefers-color-scheme` is light; otherwise, it is dark. This behavior means that the web content&#39;s light or dark style is applied automatically to match the app&#39;s theme if the content supports it.\r\n\r\nFor most apps, the new behavior should apply the appropriate app styles automatically, however you should test your app to check for any cases where you might&#39;ve been manually controlling dark mode settings.\r\n\r\nIf you still need to customize your app&#39;s color theme behavior, use the [setAlgorithmicDarkeningAllowed()][2] method instead. For backward compatibility with previous Android versions, we recommend using the equivalent [setAlgorithmicDarkeningAllowed()][2] method in AndroidX.\r\n\r\nSee the documentation for that method to learn more about what behavior you can expect in your app depending on your app&#39;s targetSdkVersion and theme settings.\r\n\r\nFor more info, visit to this docs https://developer.android.com/about/versions/13/behavior-changes-13\r\n\r\n  [1]: https://developer.android.com/reference/android/R.styleable#Theme_isLightTheme\r\n  [2]: https://developer.android.com/reference/android/webkit/WebSettings#setAlgorithmicDarkeningAllowed(boolean)","title":"WebSettingsCompat (setForceDark) not working on android 13","body":"<p>For apps targeting Android 13 (API level 33) or higher, the <code>setForceDark()</code> method is deprecated, resulting in a no-op if the method is called.</p>\n<p>Instead, WebView now always sets the media query <code>prefers-color-scheme</code> according to the app's theme attribute, <a href=\"https://developer.android.com/reference/android/R.styleable#Theme_isLightTheme\" rel=\"nofollow noreferrer\">isLightTheme</a>. In other words, if <code>isLightTheme</code> is true or not specified, <code>prefers-color-scheme</code> is light; otherwise, it is dark. This behavior means that the web content's light or dark style is applied automatically to match the app's theme if the content supports it.</p>\n<p>For most apps, the new behavior should apply the appropriate app styles automatically, however you should test your app to check for any cases where you might've been manually controlling dark mode settings.</p>\n<p>If you still need to customize your app's color theme behavior, use the <a href=\"https://developer.android.com/reference/android/webkit/WebSettings#setAlgorithmicDarkeningAllowed(boolean)\" rel=\"nofollow noreferrer\">setAlgorithmicDarkeningAllowed()</a> method instead. For backward compatibility with previous Android versions, we recommend using the equivalent <a href=\"https://developer.android.com/reference/android/webkit/WebSettings#setAlgorithmicDarkeningAllowed(boolean)\" rel=\"nofollow noreferrer\">setAlgorithmicDarkeningAllowed()</a> method in AndroidX.</p>\n<p>See the documentation for that method to learn more about what behavior you can expect in your app depending on your app's targetSdkVersion and theme settings.</p>\n<p>For more info, visit to this docs <a href=\"https://developer.android.com/about/versions/13/behavior-changes-13\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/13/behavior-changes-13</a></p>\n"},{"comments":[{"owner":{"account_id":18503223,"reputation":11926,"user_id":13488990,"display_name":"Ahmed Sbai"},"score":0,"creation_date":1674524044,"post_id":75208174,"comment_id":132728031,"body_markdown":"can you please  explain what the code is doing ?","body":"can you please  explain what the code is doing ?"}],"tags":[],"owner":{"account_id":17516480,"reputation":11,"user_id":12703405,"display_name":"Max23"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674469620,"creation_date":1674469620,"answer_id":75208174,"question_id":74885553,"body_markdown":"Try this\r\n\r\n            if (SDK_INT &gt;= 32) { \r\n                if (WebViewFeature.isFeatureSupported(WebViewFeature.ALGORITHMIC_DARKENING)) {\r\n                    try {       WebSettingsCompat.setAlgorithmicDarkeningAllowed(myWebView.getSettings(), true);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }else {\r\n\r\n                if (WebViewFeature.isFeatureSupported(WebViewFeature.FORCE_DARK)) {\r\n\r\n                    int nightModeFlags = getResources().getConfiguration().uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\r\n\r\n                    if (nightModeFlags == Configuration.UI_MODE_NIGHT_YES) {\r\n                        //Theme is switched to Night/Dark mode, turn on webview darkening\r\n                        WebSettingsCompat.setForceDark(myWebView.getSettings(), WebSettingsCompat.FORCE_DARK_ON);\r\n                    }\r\n","title":"WebSettingsCompat (setForceDark) not working on android 13","body":"<p>Try this</p>\n<pre><code>        if (SDK_INT &gt;= 32) { \n            if (WebViewFeature.isFeatureSupported(WebViewFeature.ALGORITHMIC_DARKENING)) {\n                try {       WebSettingsCompat.setAlgorithmicDarkeningAllowed(myWebView.getSettings(), true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }else {\n\n            if (WebViewFeature.isFeatureSupported(WebViewFeature.FORCE_DARK)) {\n\n                int nightModeFlags = getResources().getConfiguration().uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\n\n                if (nightModeFlags == Configuration.UI_MODE_NIGHT_YES) {\n                    //Theme is switched to Night/Dark mode, turn on webview darkening\n                    WebSettingsCompat.setForceDark(myWebView.getSettings(), WebSettingsCompat.FORCE_DARK_ON);\n                }\n</code></pre>\n"}],"owner":{"account_id":17290165,"reputation":200,"user_id":12521889,"display_name":"Chester "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700641120,"creation_date":1671695715,"question_id":74885553,"body_markdown":"I&#39;m using `WebSettingsCompat.setForceDark(webView.getSettings(), WebSettingsCompat.FORCE_DARK_OFF);` on android 12 is working well, but on android 13 it not working. please help and thank you.","title":"WebSettingsCompat (setForceDark) not working on android 13","body":"<p>I'm using <code>WebSettingsCompat.setForceDark(webView.getSettings(), WebSettingsCompat.FORCE_DARK_OFF);</code> on android 12 is working well, but on android 13 it not working. please help and thank you.</p>\n"},{"tags":["java","tiff","bufferedimage","cmyk","twelvemonkeys"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700128020,"post_id":77493677,"comment_id":136617421,"body_markdown":"Do you have a sample of your image? Which line is throwing the error? Why not use ImageIO.read( file)? Did you check which readers you have to make sure your plugin is installed correctly? https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#getImageReadersBySuffix-java.lang.String-","body":"Do you have a sample of your image? Which line is throwing the error? Why not use ImageIO.read( file)? Did you check which readers you have to make sure your plugin is installed correctly? <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html#getImageReadersBySuffix-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/imageio/&hellip;</a>"},{"owner":{"account_id":24081811,"reputation":13,"user_id":21388257,"display_name":"bepopov"},"score":0,"creation_date":1700128710,"post_id":77493677,"comment_id":136617562,"body_markdown":"The exception is thrown by line `newBi= new BufferedImage(height, width, type);`. As I understand the problem is that `new BufferedImage(int width, int height, int imageType)` constructor doesn&#39;t support type 0. I don&#39;t use `ImageIO.read(file)` because I want to be sure that I use TIFFImageReader from TwelveMonkeys. I checked it and it&#39;s ok - I use right reader","body":"The exception is thrown by line <code>newBi= new BufferedImage(height, width, type);</code>. As I understand the problem is that <code>new BufferedImage(int width, int height, int imageType)</code> constructor doesn&#39;t support type 0. I don&#39;t use <code>ImageIO.read(file)</code> because I want to be sure that I use TIFFImageReader from TwelveMonkeys. I checked it and it&#39;s ok - I use right reader"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1700129566,"post_id":77493677,"comment_id":136617729,"body_markdown":"Try using the [Apache Commons Imaging API](https://commons.apache.org/proper/commons-imaging/) but, for the sake of detail...[give this a full read](https://issues.apache.org/jira/browse/IMAGING-201).","body":"Try using the <a href=\"https://commons.apache.org/proper/commons-imaging/\" rel=\"nofollow noreferrer\">Apache Commons Imaging API</a> but, for the sake of detail...<a href=\"https://issues.apache.org/jira/browse/IMAGING-201\" rel=\"nofollow noreferrer\">give this a full read</a>."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700129881,"post_id":77493677,"comment_id":136617816,"body_markdown":"Why do you need your new BufferedImage to be &#39;cmyk&#39;? You could try using the [BufferedImageOp](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/image/BufferedImageOp.html) supply null for the destination and see what java gives you back.","body":"Why do you need your new BufferedImage to be &#39;cmyk&#39;? You could try using the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/image/BufferedImageOp.html\" rel=\"nofollow noreferrer\">BufferedImageOp</a> supply null for the destination and see what java gives you back."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1700130936,"post_id":77493677,"comment_id":136618012,"body_markdown":"@DevilsHnd- the OP is using [TwelveMonkeys](https://github.com/haraldk/TwelveMonkeys). Are you saying that he should use _Apache Commons Imaging_ instead?","body":"@DevilsHnd- the OP is using <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"nofollow noreferrer\">TwelveMonkeys</a>. Are you saying that he should use <i>Apache Commons Imaging</i> instead?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700131127,"post_id":77493677,"comment_id":136618044,"body_markdown":"[twelvemonkeys](https://github.com/haraldk/TwelveMonkeys/blob/0378f504e7bf0fde5e20c146fc357c66119b0b5b/common/common-image/src/main/java/com/twelvemonkeys/image/AffineTransformOp.java) also has some image ops, that might preserve the image type.","body":"<a href=\"https://github.com/haraldk/TwelveMonkeys/blob/0378f504e7bf0fde5e20c146fc357c66119b0b5b/common/common-image/src/main/java/com/twelvemonkeys/image/AffineTransformOp.java\" rel=\"nofollow noreferrer\">twelvemonkeys</a> also has some image ops, that might preserve the image type."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1700131151,"post_id":77493677,"comment_id":136618051,"body_markdown":"FYI, the author of _TwelveMonkeys_ usually answers question tagged &quot;twelvemonkeys&quot; but it may take some time before he answers.","body":"FYI, the author of <i>TwelveMonkeys</i> usually answers question tagged &quot;twelvemonkeys&quot; but it may take some time before he answers."},{"owner":{"account_id":24081811,"reputation":13,"user_id":21388257,"display_name":"bepopov"},"score":0,"creation_date":1700135476,"post_id":77493677,"comment_id":136618780,"body_markdown":"@matt thank you for the information about BufferedImageOp. I tried to use ColorConvertOp from Image IO and it successfully converted CMYK to RGB. If there is no other solution I will use color space conversion like this: ```ColorConvertOp colorConvertOp = new ColorConvertOp(cmykBi.getColorModel().getColorSpace(),\n          new ICC_ColorSpace(ICC_Profile.getInstance(ColorSpace.CS_sRGB)), null);\n      BufferedImage rgbBi = colorConvertOp.filter(cmykBi, null);```","body":"@matt thank you for the information about BufferedImageOp. I tried to use ColorConvertOp from Image IO and it successfully converted CMYK to RGB. If there is no other solution I will use color space conversion like this: <code>ColorConvertOp colorConvertOp = new ColorConvertOp(cmykBi.getColorModel().getColorSpace(),           new ICC_ColorSpace(ICC_Profile.getInstance(ColorSpace.CS_sRGB)), null);       BufferedImage rgbBi = colorConvertOp.filter(cmykBi, null);</code>"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1700219951,"post_id":77493677,"comment_id":136630367,"body_markdown":"@bepopov You should probably post the full stack trace. From my understanding, the problem isn&#39;t related to `TwelveMonkeys`, but the fact that any CMYK  `BufferedImage` has to be `TYPE_CUSTOM` (the constant value 0). And you can&#39;t create a new `BufferedImage` using the constructor taking a type argument for type custom images.","body":"@bepopov You should probably post the full stack trace. From my understanding, the problem isn&#39;t related to <code>TwelveMonkeys</code>, but the fact that any CMYK  <code>BufferedImage</code> has to be <code>TYPE_CUSTOM</code> (the constant value 0). And you can&#39;t create a new <code>BufferedImage</code> using the constructor taking a type argument for type custom images."}],"answers":[{"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1700135019,"post_id":77494284,"comment_id":136618694,"body_markdown":"They&#39;re using twelvemonkeys. They register it as a plugin/service provider and ImageIO will use it.","body":"They&#39;re using twelvemonkeys. They register it as a plugin/service provider and ImageIO will use it."}],"tags":[],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700132627,"creation_date":1700132627,"answer_id":77494284,"question_id":77493677,"body_markdown":"I don&#39;t know how you would read a CMYK Tiff image with ImageIO, but here&#39;s how you could read and rotate the image using OpenCV:\r\n\r\nNote that you would need [this dependency](https://github.com/openpnp/opencv) in your project.\r\n\r\n```java\r\n// Since OpenCV is a native (C++) library, it needs to be loaded before it can be used. Only do this once in your application.\r\nOpenCV.loadLocally();\r\n\r\nMatOfByte inputBuffer = new MatOfByte(bytes);\r\nMat inputImage;\r\n\r\ntry {\r\n    inputImage = Imgcodecs.imdecode(inputBuffer, Imgcodecs.IMREAD_UNCHANGED);\r\n} finally {\r\n    inputBuffer.release();\r\n}\r\n\r\nMat rotatedImage;\r\n\r\ntry {\r\n    if (angle == 0) {\r\n        // Copies the image by reference as we will release the input image in the finally-block\r\n        rotatedImage = new Mat(inputImage, new Rect(0, 0, inputImage.cols(), inputImage.rows()));\r\n    } else {\r\n        int rotateCode = Core.ROTATE_180;\r\n\r\n        if (angle == 90) rotateCode = Core.ROTATE_90_CLOCKWISE;\r\n        else if (angle == 270) rotateCode = Core.ROTATE_90_COUNTERCLOCKWISE;\r\n\r\n        rotatedImage = new Mat();\r\n        Core.rotate(inputImage, rotatedImage, rotateCode);\r\n    }\r\n} finally {\r\n    inputImage.release();\r\n}\r\n\r\n// Convert the image to a BufferedImage\r\nMatOfByte outputBuffer = new MatOfByte();\r\nBufferedImage bufferedImage;\r\ntry {\r\n    Imgcodecs.imencode(&quot;.png&quot;, rotatedImage, outputBuffer);\r\n    bufferedImage = ImageIO.read(new ByteArrayInputStream(outputBuffer.toArray()));\r\n} catch (IOException e) {\r\n    throw new RuntimeException(e);\r\n} finally {\r\n    outputBuffer.release();\r\n}\r\n```\r\n\r\nAlso, note that the conversion in the last step to a `BufferedImage` uses the `png` file-format in this example. You can probably safely change it to Tiff, if you have the TwelveMonkeys plugin installed.\r\n\r\nFurthermore, `Imgcodecs.imdecode` may change the color space from CMYK to BGR ([relevant documentation](https://docs.opencv.org/4.x/d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56)). Since I don&#39;t have a test picture available, you would need to test that.","title":"How can I rotate TIFF CMYK image in ImageIO or TwelveMonkeys?","body":"<p>I don't know how you would read a CMYK Tiff image with ImageIO, but here's how you could read and rotate the image using OpenCV:</p>\n<p>Note that you would need <a href=\"https://github.com/openpnp/opencv\" rel=\"nofollow noreferrer\">this dependency</a> in your project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Since OpenCV is a native (C++) library, it needs to be loaded before it can be used. Only do this once in your application.\nOpenCV.loadLocally();\n\nMatOfByte inputBuffer = new MatOfByte(bytes);\nMat inputImage;\n\ntry {\n    inputImage = Imgcodecs.imdecode(inputBuffer, Imgcodecs.IMREAD_UNCHANGED);\n} finally {\n    inputBuffer.release();\n}\n\nMat rotatedImage;\n\ntry {\n    if (angle == 0) {\n        // Copies the image by reference as we will release the input image in the finally-block\n        rotatedImage = new Mat(inputImage, new Rect(0, 0, inputImage.cols(), inputImage.rows()));\n    } else {\n        int rotateCode = Core.ROTATE_180;\n\n        if (angle == 90) rotateCode = Core.ROTATE_90_CLOCKWISE;\n        else if (angle == 270) rotateCode = Core.ROTATE_90_COUNTERCLOCKWISE;\n\n        rotatedImage = new Mat();\n        Core.rotate(inputImage, rotatedImage, rotateCode);\n    }\n} finally {\n    inputImage.release();\n}\n\n// Convert the image to a BufferedImage\nMatOfByte outputBuffer = new MatOfByte();\nBufferedImage bufferedImage;\ntry {\n    Imgcodecs.imencode(&quot;.png&quot;, rotatedImage, outputBuffer);\n    bufferedImage = ImageIO.read(new ByteArrayInputStream(outputBuffer.toArray()));\n} catch (IOException e) {\n    throw new RuntimeException(e);\n} finally {\n    outputBuffer.release();\n}\n</code></pre>\n<p>Also, note that the conversion in the last step to a <code>BufferedImage</code> uses the <code>png</code> file-format in this example. You can probably safely change it to Tiff, if you have the TwelveMonkeys plugin installed.</p>\n<p>Furthermore, <code>Imgcodecs.imdecode</code> may change the color space from CMYK to BGR (<a href=\"https://docs.opencv.org/4.x/d4/da8/group__imgcodecs.html#ga288b8b3da0892bd651fce07b3bbd3a56\" rel=\"nofollow noreferrer\">relevant documentation</a>). Since I don't have a test picture available, you would need to test that.</p>\n"},{"comments":[{"owner":{"account_id":24081811,"reputation":13,"user_id":21388257,"display_name":"bepopov"},"score":0,"creation_date":1700639700,"post_id":77501321,"comment_id":136678029,"body_markdown":"Thank you a lot! Should I use com.twelvemonkeys.image.AffineTransformOp or java.awt.image.AffineTransformOp? Does com.twelvemonkeys.image.AffineTransformOp support all images supported by java.awt.image.AffineTransformOp? Or maybe I should use both of them for different cases?","body":"Thank you a lot! Should I use com.twelvemonkeys.image.AffineTransformOp or java.awt.image.AffineTransformOp? Does com.twelvemonkeys.image.AffineTransformOp support all images supported by java.awt.image.AffineTransformOp? Or maybe I should use both of them for different cases?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1700655514,"post_id":77501321,"comment_id":136680823,"body_markdown":"Use only one. The API is the same. The TwelveMonkeys version delegates to the java.awt version, but supports a few extra odd cases using a workaround. But as less dependencies is usually a good thing, I&#39;d say use the java.awt version unless you need the extra support.","body":"Use only one. The API is the same. The TwelveMonkeys version delegates to the java.awt version, but supports a few extra odd cases using a workaround. But as less dependencies is usually a good thing, I&#39;d say use the java.awt version unless you need the extra support."}],"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700221928,"creation_date":1700220615,"answer_id":77501321,"question_id":77493677,"body_markdown":"To rotate a `BufferedImage` in Java, the normal way would be to use [`AffineTransformOp`](https://docs.oracle.com/javase/8/docs/api/java/awt/image/AffineTransformOp.html). This will allow you to rotate any image without having to create a new image of the same type up front. \r\n\r\nFor an example see the [`TIFFUtilities.applyOrientation`](https://github.com/haraldk/TwelveMonkeys/blob/77a1745106df765193f9c9a514aac1b6f4c9e035/contrib/src/main/java/com/twelvemonkeys/contrib/tiff/TIFFUtilities.java#L240) method in TwelveMonkeys &quot;contrib&quot; module. You can also just use this method directly, if you like. Just beware the input is one of the TIFF orientation tag constant values, not an angle:\r\n\r\nIe. to rotate 90 degrees (assuming static imports for readability):\r\n\r\n```java\r\nBufferedImage original;\r\n\r\nBufferedImage rotated = applyOrientation(original, ORIENTATION_RIGHTTOP); // 6\r\n```\r\n\r\n---\r\n\r\nFor the more general topic *&quot;How can I create a BufferedImage for a TIFF CMYK image&quot;*, the quick answer is use [the constructor that takes a `WritableRaster` and a `ColorModel` as argument](https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html#BufferedImage-java.awt.image.ColorModel-java.awt.image.WritableRaster-boolean-java.util.Hashtable-) like this:\r\n\r\n```java\r\nBufferedImage original;\r\n\r\nColorModel cm = original.getColorModel();\r\nWritableRaster raster = cm.createCompatibleWritableRaster(newWidth, newHeight);\r\nBufferedImage image = new BufferedImage(cm, raster, cm.isAlphaPremultiplied(), null);\r\n```\r\n\r\nYou have to use this constructor, as any CMYK `BufferedImage` has to be `TYPE_CUSTOM` (the constant value 0). And the `BufferedImage`  constructor taking a type argument does not allow `TYPE_CUSTOM` (after all, which of the countless possible custom types would that be?). ","title":"How can I rotate TIFF CMYK image in ImageIO or TwelveMonkeys?","body":"<p>To rotate a <code>BufferedImage</code> in Java, the normal way would be to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/AffineTransformOp.html\" rel=\"nofollow noreferrer\"><code>AffineTransformOp</code></a>. This will allow you to rotate any image without having to create a new image of the same type up front.</p>\n<p>For an example see the <a href=\"https://github.com/haraldk/TwelveMonkeys/blob/77a1745106df765193f9c9a514aac1b6f4c9e035/contrib/src/main/java/com/twelvemonkeys/contrib/tiff/TIFFUtilities.java#L240\" rel=\"nofollow noreferrer\"><code>TIFFUtilities.applyOrientation</code></a> method in TwelveMonkeys &quot;contrib&quot; module. You can also just use this method directly, if you like. Just beware the input is one of the TIFF orientation tag constant values, not an angle:</p>\n<p>Ie. to rotate 90 degrees (assuming static imports for readability):</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage original;\n\nBufferedImage rotated = applyOrientation(original, ORIENTATION_RIGHTTOP); // 6\n</code></pre>\n<hr />\n<p>For the more general topic <em>&quot;How can I create a BufferedImage for a TIFF CMYK image&quot;</em>, the quick answer is use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/BufferedImage.html#BufferedImage-java.awt.image.ColorModel-java.awt.image.WritableRaster-boolean-java.util.Hashtable-\" rel=\"nofollow noreferrer\">the constructor that takes a <code>WritableRaster</code> and a <code>ColorModel</code> as argument</a> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage original;\n\nColorModel cm = original.getColorModel();\nWritableRaster raster = cm.createCompatibleWritableRaster(newWidth, newHeight);\nBufferedImage image = new BufferedImage(cm, raster, cm.isAlphaPremultiplied(), null);\n</code></pre>\n<p>You have to use this constructor, as any CMYK <code>BufferedImage</code> has to be <code>TYPE_CUSTOM</code> (the constant value 0). And the <code>BufferedImage</code>  constructor taking a type argument does not allow <code>TYPE_CUSTOM</code> (after all, which of the countless possible custom types would that be?).</p>\n"}],"owner":{"account_id":24081811,"reputation":13,"user_id":21388257,"display_name":"bepopov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77501321,"answer_count":2,"score":1,"last_activity_date":1700640121,"creation_date":1700127245,"question_id":77493677,"body_markdown":"I need to rotate my TIFF image with color space CMYK. Standard Java ImageIO doesn&#39;t support CMYK TIFF images so I used TwelveMonkeys plugin. But it didn&#39;t help. When I tried to rotate my image I faced with an exception.\r\n\r\nI do the following:\r\n```\r\ntry (InputStream is = new ByteArrayInputStream(bytes);\r\n        ImageInputStream iis = ImageIO.createImageInputStream(is)) {\r\n      Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(iis);\r\n\r\n      if (!iter.hasNext()) {\r\n        throw new RuntimeException(&quot;Image type is not supported&quot;);\r\n      }\r\n\r\n      ImageReader reader = iter.next();\r\n      BufferedImage bi;\r\n      try {\r\n        reader.setInput(iis);\r\n        bi = reader.read(0);\r\n      } finally {\r\n        reader.dispose();\r\n      }\r\n      int type = bi.getType();\r\n      BufferedImage newBi;\r\n      if (angle == 90 || angle == 270) {\r\n        newBi= new BufferedImage(height, width, type);\r\n      } else {\r\n        newBi= new BufferedImage(width, height, type);\r\n      }\r\n      //writing the image content to new buffered image\r\n}\r\n```\r\nBut it throws `java.lang.IllegalArgumentException: Unknown image type 0`. How can I create a BufferedImage for TIFF CMYK image? Or at least how can I rotate TIFF CMYK image?","title":"How can I rotate TIFF CMYK image in ImageIO or TwelveMonkeys?","body":"<p>I need to rotate my TIFF image with color space CMYK. Standard Java ImageIO doesn't support CMYK TIFF images so I used TwelveMonkeys plugin. But it didn't help. When I tried to rotate my image I faced with an exception.</p>\n<p>I do the following:</p>\n<pre><code>try (InputStream is = new ByteArrayInputStream(bytes);\n        ImageInputStream iis = ImageIO.createImageInputStream(is)) {\n      Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(iis);\n\n      if (!iter.hasNext()) {\n        throw new RuntimeException(&quot;Image type is not supported&quot;);\n      }\n\n      ImageReader reader = iter.next();\n      BufferedImage bi;\n      try {\n        reader.setInput(iis);\n        bi = reader.read(0);\n      } finally {\n        reader.dispose();\n      }\n      int type = bi.getType();\n      BufferedImage newBi;\n      if (angle == 90 || angle == 270) {\n        newBi= new BufferedImage(height, width, type);\n      } else {\n        newBi= new BufferedImage(width, height, type);\n      }\n      //writing the image content to new buffered image\n}\n</code></pre>\n<p>But it throws <code>java.lang.IllegalArgumentException: Unknown image type 0</code>. How can I create a BufferedImage for TIFF CMYK image? Or at least how can I rotate TIFF CMYK image?</p>\n"},{"tags":["java","mysql","indexing","h2","unique-constraint"],"answers":[{"tags":[],"owner":{"account_id":12379030,"reputation":150,"user_id":9025520,"display_name":"Federico Bassini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700640076,"creation_date":1700640076,"answer_id":77528219,"question_id":63404188,"body_markdown":"I&#39;m occured in the same problem and I found this question so I can share my workaround.\r\n\r\nThe only way that I found is to ignore che change set where the index is created in the h2 context with `dbms=&quot;!h2&quot;`\r\n```\r\n    &lt;changeSet id=&quot;index-creation&quot; author=&quot;ffex&quot; dbms=&quot;!h2&quot;&gt;\r\n        &lt;createIndex ... /&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n\r\nNow you have two choice:\r\n\r\n 1. Create a changeset with an index with different name for the h2 context:\r\n```\r\n    &lt;changeSet id=&quot;index-creation-test&quot; author=&quot;ffex&quot; dbms=&quot;h2&quot;&gt;\r\n        &lt;createIndex ... /&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n2. Create a changeset with the drop of the index and a create index in every context. I choose this one because is more simple if the DB in the main context and the test context are the same.\r\n```\r\n    &lt;changeSet id=&quot;index-drop&quot; author=&quot;ffex&quot; dbms=&quot;!h2&quot;&gt;\r\n        &lt;dropIndex ... /&gt;\r\n    &lt;/changeSet&gt;\r\n    &lt;changeSet id=&quot;index-creation-new&quot; author=&quot;ffex&quot;&gt;\r\n        &lt;createIndex ... /&gt;\r\n    &lt;/changeSet&gt;\r\n```\r\n\r\nYou can use also the attribute `contextFilter` to control the execution of the changesets in contexts.","title":"Workaround to h2 database unique index name","body":"<p>I'm occured in the same problem and I found this question so I can share my workaround.</p>\n<p>The only way that I found is to ignore che change set where the index is created in the h2 context with <code>dbms=&quot;!h2&quot;</code></p>\n<pre><code>    &lt;changeSet id=&quot;index-creation&quot; author=&quot;ffex&quot; dbms=&quot;!h2&quot;&gt;\n        &lt;createIndex ... /&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n<p>Now you have two choice:</p>\n<ol>\n<li>Create a changeset with an index with different name for the h2 context:</li>\n</ol>\n<pre><code>    &lt;changeSet id=&quot;index-creation-test&quot; author=&quot;ffex&quot; dbms=&quot;h2&quot;&gt;\n        &lt;createIndex ... /&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Create a changeset with the drop of the index and a create index in every context. I choose this one because is more simple if the DB in the main context and the test context are the same.</li>\n</ol>\n<pre><code>    &lt;changeSet id=&quot;index-drop&quot; author=&quot;ffex&quot; dbms=&quot;!h2&quot;&gt;\n        &lt;dropIndex ... /&gt;\n    &lt;/changeSet&gt;\n    &lt;changeSet id=&quot;index-creation-new&quot; author=&quot;ffex&quot;&gt;\n        &lt;createIndex ... /&gt;\n    &lt;/changeSet&gt;\n</code></pre>\n<p>You can use also the attribute <code>contextFilter</code> to control the execution of the changesets in contexts.</p>\n"}],"owner":{"account_id":4054629,"reputation":1632,"user_id":3333052,"accept_rate":91,"display_name":"kadamb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1700640076,"creation_date":1597358776,"question_id":63404188,"body_markdown":"I have a java application which uses Liquibase for migration and till now was using MySQL for running test cases.\r\n\r\nI want to run the test cases with the h2 database. For that, I made required changes in JDBC config. But when I ran the `mvn test`, I get the following error :\r\n\r\n&gt; Index &quot;idx_workflow_id&quot; already exists; SQL statement:\r\n\r\nOn debugging I found out two tables were having an index with the same name: `idx_workflow_id`, and h2 database has some constraint of having unique index names in the database.\r\n\r\nNow the problem is the DB structure is already present in staging and prod, and changing the index name is not an option.\r\n\r\nIs there any way where I can run the migrations for h2 database, either without creating an index or ignoring them. Or some config change, which would allow index with the same name in DB.\r\n\r\nconfig:\r\n\r\n```\r\ndatabase:\r\n    driverClass: org.h2.Driver\r\n    url: &quot;jdbc:h2:mem:my_db;MODE=MySQL;DATABASE_TO_UPPER=false;IGNORECASE=TRUE;DB_CLOSE_DELAY=-1&quot;\r\n    maxWaitForConnection: 1s\r\n    minSize: ${MIN_DB_CONNECTIONS:-10}\r\n    maxSize: ${MAX_DB_CONNECTIONS:-100}\r\n    defaultTransactionIsolation: READ_COMMITTED\r\n    checkConnectionWhileIdle: false\r\n    checkConnectionOnBorrow: true\r\n    checkConnectionOnConnect: true\r\n    validationQuery: &quot;SELECT 1&quot;\r\n    properties:\r\n      hibernate.dialect: org.hibernate.dialect.H2Dialect\r\n      hibernate.show_sql: false\r\n      hibernate.hbm2ddl.auto: none\r\n      hibernate.session.events.log: false\r\n      hibernate.generate_statistics: true\r\n      org.hibernate.stat: INFO\r\n      charSet: UTF-8\r\n```","title":"Workaround to h2 database unique index name","body":"<p>I have a java application which uses Liquibase for migration and till now was using MySQL for running test cases.</p>\n<p>I want to run the test cases with the h2 database. For that, I made required changes in JDBC config. But when I ran the <code>mvn test</code>, I get the following error :</p>\n<blockquote>\n<p>Index &quot;idx_workflow_id&quot; already exists; SQL statement:</p>\n</blockquote>\n<p>On debugging I found out two tables were having an index with the same name: <code>idx_workflow_id</code>, and h2 database has some constraint of having unique index names in the database.</p>\n<p>Now the problem is the DB structure is already present in staging and prod, and changing the index name is not an option.</p>\n<p>Is there any way where I can run the migrations for h2 database, either without creating an index or ignoring them. Or some config change, which would allow index with the same name in DB.</p>\n<p>config:</p>\n<pre><code>database:\n    driverClass: org.h2.Driver\n    url: &quot;jdbc:h2:mem:my_db;MODE=MySQL;DATABASE_TO_UPPER=false;IGNORECASE=TRUE;DB_CLOSE_DELAY=-1&quot;\n    maxWaitForConnection: 1s\n    minSize: ${MIN_DB_CONNECTIONS:-10}\n    maxSize: ${MAX_DB_CONNECTIONS:-100}\n    defaultTransactionIsolation: READ_COMMITTED\n    checkConnectionWhileIdle: false\n    checkConnectionOnBorrow: true\n    checkConnectionOnConnect: true\n    validationQuery: &quot;SELECT 1&quot;\n    properties:\n      hibernate.dialect: org.hibernate.dialect.H2Dialect\n      hibernate.show_sql: false\n      hibernate.hbm2ddl.auto: none\n      hibernate.session.events.log: false\n      hibernate.generate_statistics: true\n      org.hibernate.stat: INFO\n      charSet: UTF-8\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2076676,"reputation":12739,"user_id":1849837,"accept_rate":88,"display_name":"Bartosz Bilicki"},"score":0,"creation_date":1486375798,"post_id":42064968,"comment_id":71301693,"body_markdown":"do you have any database driver on classpath? Which spring boot starters do you use? if you do, remove it. It will stop any db-autoconfiguration magic.","body":"do you have any database driver on classpath? Which spring boot starters do you use? if you do, remove it. It will stop any db-autoconfiguration magic."},{"owner":{"account_id":3825395,"reputation":384,"user_id":3198548,"display_name":"Gernot"},"score":0,"creation_date":1486377602,"post_id":42064968,"comment_id":71302836,"body_markdown":"@BartoszBilicki I have removed all jpa starter dependencies. it works now, thx. although I still don&#39;t know, why excluding the classes does not work for the test...","body":"@BartoszBilicki I have removed all jpa starter dependencies. it works now, thx. although I still don&#39;t know, why excluding the classes does not work for the test..."}],"answers":[{"comments":[{"owner":{"account_id":3825395,"reputation":384,"user_id":3198548,"display_name":"Gernot"},"score":0,"creation_date":1486376408,"post_id":42065170,"comment_id":71302071,"body_markdown":"I have removed the EnableAutoConfiguration annotation and now use the exclude property of @SpringBootApplication. Unfortunately the test still fails with the same error message","body":"I have removed the EnableAutoConfiguration annotation and now use the exclude property of @SpringBootApplication. Unfortunately the test still fails with the same error message"},{"owner":{"account_id":6214010,"reputation":753,"user_id":4839424,"display_name":"Florian Schmitt"},"score":0,"creation_date":1486376686,"post_id":42065170,"comment_id":71302250,"body_markdown":"That is odd. Please try excluding `JpaRepositoriesAutoConfiguration.class` as well.","body":"That is odd. Please try excluding <code>JpaRepositoriesAutoConfiguration.class</code> as well."},{"owner":{"account_id":6214010,"reputation":753,"user_id":4839424,"display_name":"Florian Schmitt"},"score":1,"creation_date":1486377144,"post_id":42065170,"comment_id":71302551,"body_markdown":"If you don&#39;t need any database, you don&#39;t need Spring Data, which you included via spring-boot-starter-data-jpa","body":"If you don&#39;t need any database, you don&#39;t need Spring Data, which you included via spring-boot-starter-data-jpa"},{"owner":{"account_id":3825395,"reputation":384,"user_id":3198548,"display_name":"Gernot"},"score":0,"creation_date":1486377427,"post_id":42065170,"comment_id":71302718,"body_markdown":"yep, did that as a result of Bartosz&#39; comment","body":"yep, did that as a result of Bartosz&#39; comment"}],"tags":[],"owner":{"account_id":6214010,"reputation":753,"user_id":4839424,"display_name":"Florian Schmitt"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486375944,"creation_date":1486375944,"answer_id":42065170,"question_id":42064968,"body_markdown":"The `@SpringBootApplication` annotation has an exclude property, which you should use in favor of `@EnableAutoConfiguration(exclude = ...)` in this case. If you use it, the `@SpringBootTest` annotated tests should enforce the exclude correctly. \r\n\r\n[Spring Boot API - SpringBootApplication][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring-boot/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html","title":"SpringBoot unit test does not use @EnableAutoConfiguration annotation from Application class","body":"<p>The <code>@SpringBootApplication</code> annotation has an exclude property, which you should use in favor of <code>@EnableAutoConfiguration(exclude = ...)</code> in this case. If you use it, the <code>@SpringBootTest</code> annotated tests should enforce the exclude correctly. </p>\n\n<p><a href=\"http://docs.spring.io/autorepo/docs/spring-boot/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html\" rel=\"nofollow noreferrer\">Spring Boot API - SpringBootApplication</a></p>\n"},{"tags":[],"owner":{"account_id":939294,"reputation":884,"user_id":967671,"display_name":"Steve Gelman"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1563388321,"creation_date":1563388321,"answer_id":57082228,"question_id":42064968,"body_markdown":"I&#39;m had this issue with version 2.0.9.RELEASE, which I have to use to stay in compliance with my company standards.  What worked for me was:\r\n\r\n    @SpringBootTest(properties=&quot;spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration&quot;)\r\n\r\nI can&#39;t say for certain if this is an issue with @EnableAutoConfiguration in my version of Springboot, but with version 2.1.5.RELEASE, I do not have to set the property with the @SpringBootTest to make this work.","title":"SpringBoot unit test does not use @EnableAutoConfiguration annotation from Application class","body":"<p>I'm had this issue with version 2.0.9.RELEASE, which I have to use to stay in compliance with my company standards.  What worked for me was:</p>\n\n<pre><code>@SpringBootTest(properties=\"spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\")\n</code></pre>\n\n<p>I can't say for certain if this is an issue with @EnableAutoConfiguration in my version of Springboot, but with version 2.1.5.RELEASE, I do not have to set the property with the @SpringBootTest to make this work.</p>\n"}],"owner":{"account_id":3825395,"reputation":384,"user_id":3198548,"display_name":"Gernot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10735,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1700640060,"creation_date":1486375330,"question_id":42064968,"body_markdown":"I want to configure a Spring Boot Application so that no DB is used at all.\r\nSo I have annotated my Application class for excluding JPA autoconfig classes:\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\r\n    public class Application {\r\n    \r\n        public static void main(final String... args) {\r\n            run(Application.class, args);\r\n        }\r\n    }\r\n\r\nThis works fine when the service is run standalone\r\n\r\nUnfortunately my test classe seems to ignore the annotation, although I use the Application class for my test\r\n\r\n    @Slf4j\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = Application.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class SwaggerJsonExistenceTest {\r\n        ...\r\n    }\r\n\r\nThe test fails with the following error message\r\n\r\n\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;dataSource&#39;: Invocation of init method\r\n&gt; failed; nested exception is java.lang.IllegalStateException: Cannot\r\n&gt; determine embedded database for tests. If you want an embedded\r\n&gt; database please put a supported one on the classpath.\r\n\r\nUpdate: \r\nThere are no DB drivers on the classpath.\r\n\r\norg.springframework.boot:spring-boot-starter-data-jpa is used for testing (included via testCompile directive in gradle)\r\n\r\nHow has the test to be configured so that it does not use db-related autoconfiguration?\r\n\r\nFix: I have removed all jpa starter dependencies (as no DB is needed), so that datasource autoconfig is not done at all.\r\n\r\n","title":"SpringBoot unit test does not use @EnableAutoConfiguration annotation from Application class","body":"<p>I want to configure a Spring Boot Application so that no DB is used at all.\nSo I have annotated my Application class for excluding JPA autoconfig classes:</p>\n\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\npublic class Application {\n\n    public static void main(final String... args) {\n        run(Application.class, args);\n    }\n}\n</code></pre>\n\n<p>This works fine when the service is run standalone</p>\n\n<p>Unfortunately my test classe seems to ignore the annotation, although I use the Application class for my test</p>\n\n<pre><code>@Slf4j\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class SwaggerJsonExistenceTest {\n    ...\n}\n</code></pre>\n\n<p>The test fails with the following error message</p>\n\n<blockquote>\n  <p>Caused by: org.springframework.beans.factory.BeanCreationException:\n  Error creating bean with name 'dataSource': Invocation of init method\n  failed; nested exception is java.lang.IllegalStateException: Cannot\n  determine embedded database for tests. If you want an embedded\n  database please put a supported one on the classpath.</p>\n</blockquote>\n\n<p>Update: \nThere are no DB drivers on the classpath.</p>\n\n<p>org.springframework.boot:spring-boot-starter-data-jpa is used for testing (included via testCompile directive in gradle)</p>\n\n<p>How has the test to be configured so that it does not use db-related autoconfiguration?</p>\n\n<p>Fix: I have removed all jpa starter dependencies (as no DB is needed), so that datasource autoconfig is not done at all.</p>\n"},{"tags":["java","file-io"],"comments":[{"owner":{"account_id":1250216,"reputation":18313,"user_id":1210760,"accept_rate":56,"display_name":"Iswanto San"},"score":1,"creation_date":1363932436,"post_id":15563770,"comment_id":22058947,"body_markdown":"[What have you tried?](http://mattgemmell.com/2008/12/08/what-have-you-tried/). Can you post it?","body":"<a href=\"http://mattgemmell.com/2008/12/08/what-have-you-tried/\" rel=\"nofollow noreferrer\">What have you tried?</a>. Can you post it?"},{"owner":{"account_id":51337,"reputation":604,"user_id":153393,"display_name":"Rob Breidecker"},"score":1,"creation_date":1363932775,"post_id":15563770,"comment_id":22059039,"body_markdown":"http://stackoverflow.com/questions/6127648/writing-in-the-beginning-of-a-text-file-java","body":"<a href=\"http://stackoverflow.com/questions/6127648/writing-in-the-beginning-of-a-text-file-java\" title=\"writing in the beginning of a text file java\">stackoverflow.com/questions/6127648/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1688730,"reputation":803,"user_id":1551515,"accept_rate":56,"display_name":"UmeshR"},"score":0,"creation_date":1363933255,"post_id":15563824,"comment_id":22059180,"body_markdown":"I am using talend Open studio to automate some files using Dynamic schema load and it has constraint to each files must have header row.","body":"I am using talend Open studio to automate some files using Dynamic schema load and it has constraint to each files must have header row."},{"owner":{"account_id":1688730,"reputation":803,"user_id":1551515,"accept_rate":56,"display_name":"UmeshR"},"score":0,"creation_date":1363933510,"post_id":15563824,"comment_id":22059271,"body_markdown":"i can not do replication of files to just add header row because i have files which big in size some of them are more than 50GB","body":"i can not do replication of files to just add header row because i have files which big in size some of them are more than 50GB"},{"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"score":0,"creation_date":1363934046,"post_id":15563824,"comment_id":22059487,"body_markdown":"You can write output to the same file, you can delete the old file if you want, but you should consider having a copy for any case which you optionally delete after checking that it works as you expect.","body":"You can write output to the same file, you can delete the old file if you want, but you should consider having a copy for any case which you optionally delete after checking that it works as you expect."},{"owner":{"account_id":1688730,"reputation":803,"user_id":1551515,"accept_rate":56,"display_name":"UmeshR"},"score":0,"creation_date":1363934918,"post_id":15563824,"comment_id":22059849,"body_markdown":"that solution I have with me, I just wanted to reduce time frame which we have to spend on recreate the file.","body":"that solution I have with me, I just wanted to reduce time frame which we have to spend on recreate the file."},{"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"score":1,"creation_date":1363935593,"post_id":15563824,"comment_id":22060095,"body_markdown":"Thats exactly why you should have mentioned all this relelvant info in your question.","body":"Thats exactly why you should have mentioned all this relelvant info in your question."},{"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"score":0,"creation_date":1363935621,"post_id":15563824,"comment_id":22060107,"body_markdown":"Any way there is no way to avoid reading and writing the file, not in java at least","body":"Any way there is no way to avoid reading and writing the file, not in java at least"}],"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562253885,"creation_date":1363932629,"answer_id":15563824,"question_id":15563770,"body_markdown":"Read the file, add the header and save the file:\r\n\r\n    try{\r\n        BufferedReader in = new BufferedReader(new FileReader(yourFile));\r\n        String header = &quot;Your Header&quot;;\r\n        String content = &quot;&quot;;\r\n        while (in.ready()) {\r\n          content += in.readLine();\r\n        }\r\n        in.close();\r\n      \r\n        String output = header + System.getProperty(&quot;line.separator&quot;) + content;\r\n          \r\n        FileWriter fstream = new FileWriter(YourOutputFile);\r\n        BufferedWriter out = new BufferedWriter(fstream);\r\n        out.write(output);  \r\n        out.close();\r\n  \r\n      }catch (IOException e){\r\n        System.err.println(&quot;Error: &quot; + e.getMessage());\r\n      }\r\n\r\n\r\n","title":"How to Add header row in text file using java","body":"<p>Read the file, add the header and save the file:</p>\n\n<pre><code>try{\n    BufferedReader in = new BufferedReader(new FileReader(yourFile));\n    String header = \"Your Header\";\n    String content = \"\";\n    while (in.ready()) {\n      content += in.readLine();\n    }\n    in.close();\n\n    String output = header + System.getProperty(\"line.separator\") + content;\n\n    FileWriter fstream = new FileWriter(YourOutputFile);\n    BufferedWriter out = new BufferedWriter(fstream);\n    out.write(output);  \n    out.close();\n\n  }catch (IOException e){\n    System.err.println(\"Error: \" + e.getMessage());\n  }\n</code></pre>\n"}],"owner":{"account_id":1688730,"reputation":803,"user_id":1551515,"accept_rate":56,"display_name":"UmeshR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10777,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700640060,"creation_date":1363932338,"question_id":15563770,"body_markdown":"I have requirement to add header row in existing text file, is there any way to do it without affecting any other file format or structure. ","title":"How to Add header row in text file using java","body":"<p>I have requirement to add header row in existing text file, is there any way to do it without affecting any other file format or structure. </p>\n"},{"tags":["java","sql","oracle11g","oracle-sqldeveloper","oracle10g"],"answers":[{"tags":[],"owner":{"account_id":12498833,"reputation":135427,"user_id":9097906,"display_name":"Littlefoot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700636653,"creation_date":1700636653,"answer_id":77527912,"question_id":77527695,"body_markdown":"In such cases, Oracle performs **implicit datatype conversion**. If it manages to do that, it will return result. Otherwise, it would fail.\r\n\r\nFor example, you could have compared `length &gt; &#39;A2&#39;`; as `A2` (a string) can&#39;t be converted to numeric value, you&#39;d get an error.\r\n\r\n    SQL&gt; select count(*) from dual where length(dummy) &gt; &#39;-25&#39;;\r\n    \r\n      COUNT(*)\r\n    ----------\r\n             1\r\n    \r\n    SQL&gt; select count(*) from dual where length(dummy) &gt; &#39;A2&#39;;\r\n    select count(*) from dual where length(dummy) &gt; &#39;A2&#39;\r\n                                                    *\r\n    ERROR at line 1:\r\n    ORA-01722: invalid number\r\n    \r\n    \r\n    SQL&gt;","title":"in oracle db how does comparision workks when we provide the string in place of a number?","body":"<p>In such cases, Oracle performs <strong>implicit datatype conversion</strong>. If it manages to do that, it will return result. Otherwise, it would fail.</p>\n<p>For example, you could have compared <code>length &gt; 'A2'</code>; as <code>A2</code> (a string) can't be converted to numeric value, you'd get an error.</p>\n<pre><code>SQL&gt; select count(*) from dual where length(dummy) &gt; '-25';\n\n  COUNT(*)\n----------\n         1\n\nSQL&gt; select count(*) from dual where length(dummy) &gt; 'A2';\nselect count(*) from dual where length(dummy) &gt; 'A2'\n                                                *\nERROR at line 1:\nORA-01722: invalid number\n\n\nSQL&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2623160,"reputation":91234,"user_id":2270762,"accept_rate":83,"display_name":"Thorsten Kettner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700640036,"creation_date":1700639352,"answer_id":77528156,"question_id":77527695,"body_markdown":"Oracle applies implicit data conversion here as documented in [docs.oracle.com\\..\\Data-Type-Comparison-Rules.html](https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Type-Comparison-Rules.html#GUID-6DB331B5-0F34-4215-9A20-16AEA9D7FF4B).\r\n\r\nIn my opinion, the explantion in the docs is rather poor:\r\n\r\n&gt;Oracle Database automatically converts a value from one data type to another when such a conversion makes sense.\r\n\r\nIn your query you compare numbers with strings. In this case, Oracle converts the string into a number implicitly. Why does this &quot;make sense&quot;? Because `where num_col &lt; &#39;012&#39;` with num_col = 1 would return false, if converted to `where &#39;1&#39; &lt; &#39;012&#39;`, because &#39;1&#39; comes after &#39;0&#39; in string sorts, whereas `where 1 &lt; 12` returns true as expected.\r\n\r\nOracle recommends to always convert explicitly (or better avoid the conversion in the first place by using the appropriate data types for table columns and the appropriate literal type as well).\r\n\r\nIf you rely on implicit conversion, it may fail unexpectedly. With numbers, this can easily happen for instance, when the session setting for the decimal separator is different from what you expect. `where num_col &lt; &#39;1.0&#39;` can fail, when used by a person who uses the comma as the decimal separator. This becomes even more important, when you have queries in PL/SQL functions, procedures or packages, because the code would compile with `where num_col &lt; &#39;1,0&#39;`, while it would not with `where num_col &lt; 1,0`. So in the latter case you get an error when compiling and can fix the error immediately, in the former case you&#39;ll have broken code leading to a runtime error someday.\r\n\r\nAnother important point is that implicit conversion can slow down queries immensely. `where string_col = 1` will lead to the DBMS having to convert the string column to a number for each and every row in order to do the comparison, while it might be able to use an index with `where string_col = &#39;1&#39;` and get the desired rows instantly. (The real solution here would of course be to change the column type to the appropriate numeric data type instead.)","title":"in oracle db how does comparision workks when we provide the string in place of a number?","body":"<p>Oracle applies implicit data conversion here as documented in <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Type-Comparison-Rules.html#GUID-6DB331B5-0F34-4215-9A20-16AEA9D7FF4B\" rel=\"nofollow noreferrer\">docs.oracle.com..\\Data-Type-Comparison-Rules.html</a>.</p>\n<p>In my opinion, the explantion in the docs is rather poor:</p>\n<blockquote>\n<p>Oracle Database automatically converts a value from one data type to another when such a conversion makes sense.</p>\n</blockquote>\n<p>In your query you compare numbers with strings. In this case, Oracle converts the string into a number implicitly. Why does this &quot;make sense&quot;? Because <code>where num_col &lt; '012'</code> with num_col = 1 would return false, if converted to <code>where '1' &lt; '012'</code>, because '1' comes after '0' in string sorts, whereas <code>where 1 &lt; 12</code> returns true as expected.</p>\n<p>Oracle recommends to always convert explicitly (or better avoid the conversion in the first place by using the appropriate data types for table columns and the appropriate literal type as well).</p>\n<p>If you rely on implicit conversion, it may fail unexpectedly. With numbers, this can easily happen for instance, when the session setting for the decimal separator is different from what you expect. <code>where num_col &lt; '1.0'</code> can fail, when used by a person who uses the comma as the decimal separator. This becomes even more important, when you have queries in PL/SQL functions, procedures or packages, because the code would compile with <code>where num_col &lt; '1,0'</code>, while it would not with <code>where num_col &lt; 1,0</code>. So in the latter case you get an error when compiling and can fix the error immediately, in the former case you'll have broken code leading to a runtime error someday.</p>\n<p>Another important point is that implicit conversion can slow down queries immensely. <code>where string_col = 1</code> will lead to the DBMS having to convert the string column to a number for each and every row in order to do the comparison, while it might be able to use an index with <code>where string_col = '1'</code> and get the desired rows instantly. (The real solution here would of course be to change the column type to the appropriate numeric data type instead.)</p>\n"}],"owner":{"account_id":20367323,"reputation":58,"user_id":15316123,"display_name":"The beginner guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77527912,"answer_count":2,"score":1,"last_activity_date":1700640036,"creation_date":1700633959,"question_id":77527695,"body_markdown":"Suppose I have a query like this (not so practical, and I&#39;m aware this is not the approach)\r\n\r\n```sql\r\nSELECT * \r\nFROM CO.CUSTOMERS \r\nWHERE CUSTOMER_ID = &#39;1&#39; \r\n  AND length((SELECT FULL_NAME \r\n              FROM CO.CUSTOMERS \r\n              WHERE CUSTOMER_ID=1)) &gt; &#39;35&#39;;\r\n\r\n-- in the last as you can see I&#39;m comparing it with a string ( i think )\r\n\r\n```\r\n\r\nBut still the above query is giving result, so I would like to know is the comparison is  being done with the string or the integer that is made out of string.\r\n","title":"in oracle db how does comparision workks when we provide the string in place of a number?","body":"<p>Suppose I have a query like this (not so practical, and I'm aware this is not the approach)</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * \nFROM CO.CUSTOMERS \nWHERE CUSTOMER_ID = '1' \n  AND length((SELECT FULL_NAME \n              FROM CO.CUSTOMERS \n              WHERE CUSTOMER_ID=1)) &gt; '35';\n\n-- in the last as you can see I'm comparing it with a string ( i think )\n\n</code></pre>\n<p>But still the above query is giving result, so I would like to know is the comparison is  being done with the string or the integer that is made out of string.</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"owner":{"account_id":29289685,"reputation":35,"user_id":22440483,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700640010,"creation_date":1700640010,"question_id":77528211,"body_markdown":"I have created kafka producer in spring. While sending message, at start broker/server are turned off. Before timeouts are reached I&#39;m starting kafka server.\r\n```\r\n  kafkaTemplate.send(producerRecord).get(30,TimeUnit.SECONDS);\r\n```   \r\n  Even then i get excpetion:\r\n\r\n**RMI TCP Connection(9)-192.168.201.1: [192.168.201.1] exception: \r\njavax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication**\r\n\r\nAt the end I get exception:\r\n\r\n**org.apache.kafka.common.errors.TimeoutException: Topic Dummy-Topic not present in metadata after 60000 ms.**\r\n\r\nSpring kafkaTemplate - don&#39;t want to reconnect while sending message ( when send is triggered kafka server is down) \r\n\r\nProps of my producer:\r\n```\r\n        final Map&lt;String, Object&gt; props = kafkaProperties.buildProducerProperties();\r\n        props.putAll(kafkaProperties.getProducer().buildProperties());\r\n        props.put(&quot;ReplyToTopicName&quot;,&quot;dummyResponseTopic&quot;);\r\n        props.put(ProducerConfig.RETRIES_CONFIG, 2);\r\n        props.put(ProducerConfig.RETRY_BACKOFF_MS_CONFIG, 100);\r\n        props.put(ProducerConfig.ACKS_CONFIG, &quot;1&quot;);\r\n        props.put(ProducerConfig.LINGER_MS_CONFIG, 50);\r\n        props.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG,15000);\r\n        props.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG, 20000);\r\n        props.put(ProducerConfig.MAX_BLOCK_MS_CONFIG, 60000);\r\n\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(props);\r\n```\r\n\r\n","title":"Spring kafkaTemplate - don&#39;t want to reconnect while sending message ( when send is triggered kafka server is down)","body":"<p>I have created kafka producer in spring. While sending message, at start broker/server are turned off. Before timeouts are reached I'm starting kafka server.</p>\n<pre><code>  kafkaTemplate.send(producerRecord).get(30,TimeUnit.SECONDS);\n</code></pre>\n<p>Even then i get excpetion:</p>\n<p><strong>RMI TCP Connection(9)-192.168.201.1: [192.168.201.1] exception:\njavax.management.InstanceNotFoundException: org.springframework.boot:type=Admin,name=SpringApplication</strong></p>\n<p>At the end I get exception:</p>\n<p><strong>org.apache.kafka.common.errors.TimeoutException: Topic Dummy-Topic not present in metadata after 60000 ms.</strong></p>\n<p>Spring kafkaTemplate - don't want to reconnect while sending message ( when send is triggered kafka server is down)</p>\n<p>Props of my producer:</p>\n<pre><code>        final Map&lt;String, Object&gt; props = kafkaProperties.buildProducerProperties();\n        props.putAll(kafkaProperties.getProducer().buildProperties());\n        props.put(&quot;ReplyToTopicName&quot;,&quot;dummyResponseTopic&quot;);\n        props.put(ProducerConfig.RETRIES_CONFIG, 2);\n        props.put(ProducerConfig.RETRY_BACKOFF_MS_CONFIG, 100);\n        props.put(ProducerConfig.ACKS_CONFIG, &quot;1&quot;);\n        props.put(ProducerConfig.LINGER_MS_CONFIG, 50);\n        props.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG,15000);\n        props.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG, 20000);\n        props.put(ProducerConfig.MAX_BLOCK_MS_CONFIG, 60000);\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(props);\n</code></pre>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":29961233,"reputation":1,"user_id":22960865,"display_name":"Rostand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700639992,"creation_date":1700603866,"question_id":77526156,"body_markdown":"I have to read a zipped file from hadoop directory with java spark but it brings me back file with special characters calculated by spark\r\n\r\nHow can I read a zipped file in hadoop with java spark please? \r\nbelow my code:\r\n\r\n    if(!isFileExist(sparkSession, path)) {\r\n                final String message = String.format(&quot;HdfsReader : readFile : error : Path does not exist, path=%s&quot;, path);\r\n                log.error(message);\r\n                throw new ApplicationConfigException(message);\r\n            }\r\n    \r\n            return sparkSession\r\n                    .read()\r\n                    .textFile(path).javaRDD();  ","title":"Java Spark Job get file and not only contents file from hadoop","body":"<p>I have to read a zipped file from hadoop directory with java spark but it brings me back file with special characters calculated by spark</p>\n<p>How can I read a zipped file in hadoop with java spark please?\nbelow my code:</p>\n<pre><code>if(!isFileExist(sparkSession, path)) {\n            final String message = String.format(&quot;HdfsReader : readFile : error : Path does not exist, path=%s&quot;, path);\n            log.error(message);\n            throw new ApplicationConfigException(message);\n        }\n\n        return sparkSession\n                .read()\n                .textFile(path).javaRDD();  \n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":3078438,"reputation":187,"user_id":2607245,"display_name":"Jim Naumann"},"score":0,"creation_date":1601526088,"post_id":58909363,"comment_id":113436881,"body_markdown":"This worked for me too after the annotations line was added to my gradle file after doing a conversion to kotlin as described here:\n\nhttps://codelabs.developers.google.com/codelabs/java-to-kotlin/?hl=th#2","body":"This worked for me too after the annotations line was added to my gradle file after doing a conversion to kotlin as described here:  <a href=\"https://codelabs.developers.google.com/codelabs/java-to-kotlin/?hl=th#2\" rel=\"nofollow noreferrer\">codelabs.developers.google.com/codelabs/java-to-kotlin/?hl=t&zwnj;&#8203;h#2</a>"},{"owner":{"account_id":3746584,"reputation":1769,"user_id":3115129,"display_name":"Igor"},"score":2,"creation_date":1673940845,"post_id":58909363,"comment_id":132602983,"body_markdown":"doesn&#39;t work at all. Android Studio Electric Eel | 2022.1.1 Build #AI-221.6008.13.2211.9477386, built on January 11, 2023, Runtime version: 11.0.15+0-b2043.56-8887301 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.","body":"doesn&#39;t work at all. Android Studio Electric Eel | 2022.1.1 Build #AI-221.6008.13.2211.9477386, built on January 11, 2023, Runtime version: 11.0.15+0-b2043.56-8887301 amd64 VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o."},{"owner":{"account_id":7632039,"reputation":53,"user_id":5786788,"display_name":"Egesa Michael"},"score":0,"creation_date":1701064946,"post_id":58909363,"comment_id":136724108,"body_markdown":"I was working on a project i had done years ago and got this issue the solution worked for me.","body":"I was working on a project i had done years ago and got this issue the solution worked for me."}],"tags":[],"owner":{"account_id":11439607,"reputation":2005,"user_id":8385680,"display_name":"Harsh Mishra"},"comment_count":3,"down_vote_count":0,"up_vote_count":92,"is_accepted":true,"score":92,"last_activity_date":1619948238,"creation_date":1574060165,"answer_id":58909363,"question_id":58903820,"body_markdown":"It&#39;s the Conflict between two jars. You can either figure out which one you are not using from Modules_annotation 16.XXX and annotations-java5-XXXX jar files.\r\n\r\n\r\nI found out two ways to solve this.\r\n\r\n1. Excluding the JetBrains annotations module is a workaround; why is it in your project in the first place? Most likely, it got automatically added to your classpath by Android Studio when what you really wanted was Android&#39;s own annotations.\r\n\r\nSo, a better solution is to look for an org.jetbrains:annotations dependency in your build.gradle file[s], like this:\r\n\r\n    implementation &#39;org.jetbrains:annotations-java5:15.0&#39;\r\n\r\n...and remove it.\r\n\r\nIf 1 is not working \r\n\r\n2. Please add the following line in your Module level build.gradle.\r\n\r\n   \r\n\r\n \r\n\r\n \r\n\r\n&gt;     configurations {\r\n&gt;                 cleanedAnnotations\r\n&gt;                  compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n&gt;              }","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>It's the Conflict between two jars. You can either figure out which one you are not using from Modules_annotation 16.XXX and annotations-java5-XXXX jar files.</p>\n<p>I found out two ways to solve this.</p>\n<ol>\n<li>Excluding the JetBrains annotations module is a workaround; why is it in your project in the first place? Most likely, it got automatically added to your classpath by Android Studio when what you really wanted was Android's own annotations.</li>\n</ol>\n<p>So, a better solution is to look for an org.jetbrains:annotations dependency in your build.gradle file[s], like this:</p>\n<pre><code>implementation 'org.jetbrains:annotations-java5:15.0'\n</code></pre>\n<p>...and remove it.</p>\n<p>If 1 is not working</p>\n<ol start=\"2\">\n<li>Please add the following line in your Module level build.gradle.</li>\n</ol>\n<blockquote>\n<pre><code>configurations {\n            cleanedAnnotations\n             compile.exclude group: 'org.jetbrains' , module:'annotations'\n         }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2337672,"reputation":1772,"user_id":2049623,"accept_rate":45,"display_name":"Keval Langalia"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613345429,"creation_date":1613345429,"answer_id":66201152,"question_id":58903820,"body_markdown":"It&#39;s a conflict between single artifact in two different lib/jar files. basically we need to remove the unused lib or remove the artifact from any one lib.\r\n\r\nStarting from [Kotlin 1.4][1] you no longer need the below dependency\r\n\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin&quot;\r\n\r\nSo removing this dependency will also solve the issue.\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/whatsnew14.html#dependency-on-the-standard-library-added-by-default","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>It's a conflict between single artifact in two different lib/jar files. basically we need to remove the unused lib or remove the artifact from any one lib.</p>\n<p>Starting from <a href=\"https://kotlinlang.org/docs/whatsnew14.html#dependency-on-the-standard-library-added-by-default\" rel=\"noreferrer\">Kotlin 1.4</a> you no longer need the below dependency</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin&quot;\n</code></pre>\n<p>So removing this dependency will also solve the issue.</p>\n"},{"comments":[{"owner":{"account_id":14505254,"reputation":115,"user_id":10477192,"display_name":"Isra&#235;l Mekomou"},"score":0,"creation_date":1657118892,"post_id":68901181,"comment_id":128734764,"body_markdown":"Thanks, this worked for me. I was first having \n*compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;* but after upgrading my Gradle it was no more working so, I replaced the COMPILE with IMPLEMENTATION as mentioned above and now it is working.","body":"Thanks, this worked for me. I was first having  <i>compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;</i> but after upgrading my Gradle it was no more working so, I replaced the COMPILE with IMPLEMENTATION as mentioned above and now it is working."},{"owner":{"account_id":14871848,"reputation":159,"user_id":12816936,"display_name":"agega"},"score":0,"creation_date":1673606645,"post_id":68901181,"comment_id":132542054,"body_markdown":"This worked for me as well, this should be the current solution as of today","body":"This worked for me as well, this should be the current solution as of today"}],"tags":[],"owner":{"account_id":15976884,"reputation":575,"user_id":11529544,"display_name":"Alejandro Fort"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1629773127,"creation_date":1629773127,"answer_id":68901181,"question_id":58903820,"body_markdown":"[Harsh Mishra&#39;s][1] answer is correct, however latest versions of Android Studio no longer declare `org.jetbrains:annotations-java5:15.0` or `org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin` in your gradle dependencies and the use of **compile** was also replaced by **implementation**, with this your build.gradle should look like this:\r\n\r\n        plugins {\r\n\t        ...\r\n        }\r\n\r\n        android {\r\n\t        ...\r\n        }\r\n\r\n        configurations {\r\n            cleanedAnnotations\r\n            implementation.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n        }\r\n\r\n        dependencies {\r\n\t        ...\r\n        }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/8385680","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p><a href=\"https://stackoverflow.com/users/8385680\">Harsh Mishra's</a> answer is correct, however latest versions of Android Studio no longer declare <code>org.jetbrains:annotations-java5:15.0</code> or <code>org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin</code> in your gradle dependencies and the use of <strong>compile</strong> was also replaced by <strong>implementation</strong>, with this your build.gradle should look like this:</p>\n<pre><code>    plugins {\n        ...\n    }\n\n    android {\n        ...\n    }\n\n    configurations {\n        cleanedAnnotations\n        implementation.exclude group: 'org.jetbrains' , module:'annotations'\n    }\n\n    dependencies {\n        ...\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19450195,"reputation":457,"user_id":15184582,"display_name":"Temur Isroilov"},"score":0,"creation_date":1698660943,"post_id":69635630,"comment_id":136429038,"body_markdown":"and don&#39;t forget about kapt","body":"and don&#39;t forget about kapt"}],"tags":[],"owner":{"account_id":7124642,"reputation":441,"user_id":5447963,"display_name":"Anandu"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1634666225,"creation_date":1634666225,"answer_id":69635630,"question_id":58903820,"body_markdown":"I fixed the issue on mine by changing the \r\n\r\n    implementation &#39;androidx.room:room-compiler:2.4.0-beta01&#39;\r\nto \r\n\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.4.0-beta01&#39;\r\n\r\n","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>I fixed the issue on mine by changing the</p>\n<pre><code>implementation 'androidx.room:room-compiler:2.4.0-beta01'\n</code></pre>\n<p>to</p>\n<pre><code>annotationProcessor 'androidx.room:room-compiler:2.4.0-beta01'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20035041,"reputation":66,"user_id":14686958,"display_name":"agnostic-apollo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681413428,"creation_date":1681413428,"answer_id":76009074,"question_id":58903820,"body_markdown":"For a  `org.jetbrains:annotations-java5` dependency in a library, would need to add `annotations-java5` as module instead of `annotations`.\r\n\r\n```\r\nconfigurations {\r\n        cleanedAnnotations\r\n        implementation.exclude group: &quot;org.jetbrains&quot;, module: &quot;annotations-java5&quot;\r\n    }\r\n```","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>For a  <code>org.jetbrains:annotations-java5</code> dependency in a library, would need to add <code>annotations-java5</code> as module instead of <code>annotations</code>.</p>\n<pre><code>configurations {\n        cleanedAnnotations\n        implementation.exclude group: &quot;org.jetbrains&quot;, module: &quot;annotations-java5&quot;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28614914,"reputation":11,"user_id":21909142,"display_name":"Rabia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684302646,"creation_date":1684262382,"answer_id":76266168,"question_id":58903820,"body_markdown":" I change it  implementation `(&quot;androidx.room:room-compiler:$room_version&quot;)` with this\r\n `annotationProcessor (&quot;androidx.room:room-compiler:2.4.0-beta01&quot;)`","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>I change it  implementation <code>(&quot;androidx.room:room-compiler:$room_version&quot;)</code> with this\n<code>annotationProcessor (&quot;androidx.room:room-compiler:2.4.0-beta01&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":12731869,"reputation":15110,"user_id":9248201,"display_name":"Pavlo Ostasha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686738272,"creation_date":1686738272,"answer_id":76472516,"question_id":58903820,"body_markdown":"None of the suggestions worked for me from out of the box, though the second part of the accepted answer is correct - it depends on the specifics of the build.gradle implementation. In order to be safe with almost every implementation do this: \r\n```\r\nconfigurations {\r\n    cleanedAnnotations\r\n    compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n    api.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n    implementation.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;\r\n}\r\n\r\n```\r\nThus making sure all the major dependency inclusion ways are covered.\r\n","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>None of the suggestions worked for me from out of the box, though the second part of the accepted answer is correct - it depends on the specifics of the build.gradle implementation. In order to be safe with almost every implementation do this:</p>\n<pre><code>configurations {\n    cleanedAnnotations\n    compile.exclude group: 'org.jetbrains' , module:'annotations'\n    api.exclude group: 'org.jetbrains' , module:'annotations'\n    implementation.exclude group: 'org.jetbrains' , module:'annotations'\n}\n\n</code></pre>\n<p>Thus making sure all the major dependency inclusion ways are covered.</p>\n"},{"tags":[],"owner":{"account_id":24022620,"reputation":11,"user_id":18004675,"display_name":"Eric Nkunda"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687353238,"creation_date":1687353238,"answer_id":76523697,"question_id":58903820,"body_markdown":"i faced this problem too. After spending much time searching for result, I have replaced  implementation &#39;androidx.room:room-compiler:2.4.2&#39; with annotationProcessor  &#39;androidx.room:room-compiler:2.4.2&#39; and the problem got solved","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>i faced this problem too. After spending much time searching for result, I have replaced  implementation 'androidx.room:room-compiler:2.4.2' with annotationProcessor  'androidx.room:room-compiler:2.4.2' and the problem got solved</p>\n"},{"tags":[],"owner":{"account_id":3171366,"reputation":2879,"user_id":2680254,"accept_rate":54,"display_name":"Gilberto Ibarra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693542723,"creation_date":1693542723,"answer_id":77020522,"question_id":58903820,"body_markdown":"I put by error the same library twice. \r\n\r\n    implementation(Libs.AndroidX.room)\r\n    implementation(Libs.AndroidX.room)\r\n\r\nI remove one, and everything is working fine now. \r\n\r\n","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>I put by error the same library twice.</p>\n<pre><code>implementation(Libs.AndroidX.room)\nimplementation(Libs.AndroidX.room)\n</code></pre>\n<p>I remove one, and everything is working fine now.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700648697,"post_id":77528208,"comment_id":136679563,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77528208/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29141319,"reputation":11,"user_id":22324220,"display_name":"Zama Metshin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700639919,"creation_date":1700639919,"answer_id":77528208,"question_id":58903820,"body_markdown":"I changed \r\n`implementation(&quot;androidx.room:room-compiler:2.6.0&quot;)`\r\nto \r\n`kapt(&quot;androidx.room:room-compiler:2.6.0&quot;)`\r\n\r\nI hope it will help, if somebody get the same situation","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>I changed\n<code>implementation(&quot;androidx.room:room-compiler:2.6.0&quot;)</code>\nto\n<code>kapt(&quot;androidx.room:room-compiler:2.6.0&quot;)</code></p>\n<p>I hope it will help, if somebody get the same situation</p>\n"}],"owner":{"account_id":17119113,"reputation":381,"user_id":12387818,"display_name":"Khng Mai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29282,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"accepted_answer_id":58909363,"answer_count":10,"score":34,"last_activity_date":1700639919,"creation_date":1574015636,"question_id":58903820,"body_markdown":"Text of the output:\r\n\r\n     Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n    1 exception was raised by workers:\r\n      java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.Identifier found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$AdjustableOrientation found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$BoxLayoutAxis found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$CalendarMonth found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$CursorType found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$FlowLayoutAlignment found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$FontStyle found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$HorizontalAlignment found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$InputEventMask found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$ListSelectionMode found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$PatternFlags found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$TabLayoutPolicy found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n      Duplicate class org.intellij.lang.annotations.JdkConstants$TabPlacement found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\r\n\r\n","title":"java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar and annotations-java5-15.0.jar","body":"<p>Text of the output:</p>\n\n<pre><code> Execution failed for task ':app:checkDebugDuplicateClasses'.\n1 exception was raised by workers:\n  java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.Identifier found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$AdjustableOrientation found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$BoxLayoutAxis found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$CalendarMonth found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$CursorType found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$FlowLayoutAlignment found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$FontStyle found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$HorizontalAlignment found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$InputEventMask found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$ListSelectionMode found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$PatternFlags found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$TabLayoutPolicy found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$TabPlacement found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n</code></pre>\n"},{"tags":["java","testing","linked-list","output"],"answers":[{"comments":[{"owner":{"account_id":1420137,"reputation":1323,"user_id":1344935,"accept_rate":69,"display_name":"Evil Washing Machine"},"score":0,"creation_date":1700654843,"post_id":77528127,"comment_id":136680722,"body_markdown":"I don&#39;t quite understand the assignment of `curr = head.next` in `get`. If a get(0) is called, wouldn&#39;t that mean your implementation will be returning get(1) instead since it is getting the next node in the list rather than the first one?","body":"I don&#39;t quite understand the assignment of <code>curr = head.next</code> in <code>get</code>. If a get(0) is called, wouldn&#39;t that mean your implementation will be returning get(1) instead since it is getting the next node in the list rather than the first one?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700655057,"post_id":77528127,"comment_id":136680758,"body_markdown":"What you call the first one is the `head` node. It is a dummy node you have created. It doesn&#39;t count as a node that really has data. Realise that your list implementation already starts with creating two nodes (`head` and `tail`) even though it should be regarded as an empty list.","body":"What you call the first one is the <code>head</code> node. It is a dummy node you have created. It doesn&#39;t count as a node that really has data. Realise that your list implementation already starts with creating two nodes (<code>head</code> and <code>tail</code>) even though it should be regarded as an empty list."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700745072,"post_id":77528127,"comment_id":136693843,"body_markdown":"Did that answer your question?","body":"Did that answer your question?"},{"owner":{"account_id":1420137,"reputation":1323,"user_id":1344935,"accept_rate":69,"display_name":"Evil Washing Machine"},"score":1,"creation_date":1701223420,"post_id":77528127,"comment_id":136748121,"body_markdown":"Ah yes, I&#39;m not the question asker and didn&#39;t look closely at the code but I see your point now","body":"Ah yes, I&#39;m not the question asker and didn&#39;t look closely at the code but I see your point now"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700639112,"creation_date":1700639112,"answer_id":77528127,"question_id":77527099,"body_markdown":"You have chosen to implement a doubly linked list, with two dummy (sentinal) nodes, `head` and `tail`.\r\n\r\nThis is fine, but there are several issues in your code:\r\n\r\n* In `get`, `addAtIndex` and `deleteAtIndex`, you start with `curr` equal to `head`, which means that if the given index is 0, `curr` will still be that `head`, while the node at index 0 really is the *successor* of your `head`. `head` doesn&#39;t count as node, as it is a dummy node. So you should start with `curr = head.next` instead of `curr = head`. As a consequence, in `deleteAtIndex`, you don&#39;t need the last part of the `if` condition (`curr.prev != null`), as this is now guaranteed.\r\n\r\n* In the same three functions you have a loop condition that says `tail != null`, but this condition is always true. `tail` never is assigned anything else after its initialisation in the constructor (and it shouldn&#39;t). The loop condition should instead test `curr != null`.\r\n\r\n* In `addAtHead` you have wired the nodes incorrectly. The assignment `head.next = newHead;` should happen *after* `newHead.next = head.next;`, because as you have it now, you make `newHead.next` to become equal to `newHead`, introducing a cycle in your list.\r\n\r\n* In `addAtTail` the order of assignments is also in the wrong order. You make `newTail.prev` equal to `newTail`, introducing a cycle.\r\n\r\n* In `addAtIndex` there are two wrong assignments. The first two would attempt to *exclude* `curr` from the list, but it should become the neighbor of the new node. Therefore you should do `newNode.next = curr;` instead of `newNode.next = curr.next;`. `curr.next.prev = newNode;` is also wrong, as this link should not be updated. It could even lead to an exception, because `curr` could be equal to the tail node, which has a `null` for its `next` field. Instead you should do `curr.prev = newNode;`\r\n\r\n\r\nNot a problem, but in `get` you have declared an unused variable `i`. You can drop it.\r\n\r\nHere is your code with the above corrections applied to it (see comments in code):\r\n\r\n```java\r\nclass DoublyListNode {\r\n    int val;\r\n    DoublyListNode next;\r\n    DoublyListNode prev;\r\n\r\n    public DoublyListNode(int val) {\r\n        this.val = val;\r\n        this.next = null;\r\n        this.prev = null;\r\n    } \r\n}\r\n\r\nclass MyLinkedList {    \r\n    DoublyListNode head;\r\n    DoublyListNode tail;\r\n    \r\n    public MyLinkedList() {\r\n        head = new DoublyListNode(-1);\r\n        tail = new DoublyListNode(-1);\r\n\r\n        head.next = tail;\r\n        tail.prev = head;\r\n    }\r\n    \r\n    public int get(int index) {\r\n        DoublyListNode curr = head.next; // This is the node at index 0\r\n        \r\n        while (curr != null &amp;&amp; index &gt; 0) { // Corrected loop condition\r\n            curr = curr.next;\r\n            index--;\r\n        }\r\n\r\n        if (index == 0 &amp;&amp; curr != null) {\r\n            return curr.val;\r\n        }\r\n        return -1;\r\n    }\r\n    \r\n    public void addAtHead(int val) {\r\n        DoublyListNode newHead = new DoublyListNode(val);\r\n        // Fixed the order of the assignments: \r\n        newHead.next = head.next;\r\n        newHead.prev = head;\r\n        head.next.prev = newHead;\r\n        head.next = newHead;\r\n    }\r\n    \r\n    public void addAtTail(int val) {\r\n        DoublyListNode newTail = new DoublyListNode(val);\r\n        // Fixed the order of the assignments: \r\n        newTail.next = tail;\r\n        newTail.prev = tail.prev;\r\n        tail.prev.next = newTail;\r\n        tail.prev = newTail;\r\n    }\r\n    \r\n    public void addAtIndex(int index, int val) {\r\n        DoublyListNode curr = head.next; // This is the node at index 0\r\n\r\n        while (curr != null &amp;&amp; index &gt; 0){ // Corrected loop condition\r\n            curr = curr.next;\r\n            index--;\r\n        }\r\n\r\n        if (index == 0 &amp;&amp; curr != null) {\r\n            DoublyListNode newNode = new DoublyListNode(val);\r\n            newNode.prev = curr.prev;\r\n            newNode.next = curr; // Corrected assignment\r\n            curr.prev.next = newNode;\r\n            curr.prev = newNode; // Corrected assignment\r\n        }\r\n    }\r\n    \r\n    public void deleteAtIndex(int index) {            \r\n        DoublyListNode curr = head.next; // This is the node at index 0\r\n\r\n        while (curr != null &amp;&amp; index &gt; 0) { // Corrected loop condition\r\n            curr = curr.next;\r\n            index--;\r\n        }\r\n        if (index == 0 &amp;&amp; curr != null &amp;&amp; curr.next != null) { // Removed obsolete condition\r\n            curr.prev.next = curr.next;\r\n            curr.next.prev = curr.prev;\r\n        }\r\n    }\r\n}    \r\n```\r\n\r\nAs a next step, you could try to remove some code repetition, as you have essentially the same loop in three of these methods.","title":"Design Linked List - Leetcode #707 - getting wrong output","body":"<p>You have chosen to implement a doubly linked list, with two dummy (sentinal) nodes, <code>head</code> and <code>tail</code>.</p>\n<p>This is fine, but there are several issues in your code:</p>\n<ul>\n<li><p>In <code>get</code>, <code>addAtIndex</code> and <code>deleteAtIndex</code>, you start with <code>curr</code> equal to <code>head</code>, which means that if the given index is 0, <code>curr</code> will still be that <code>head</code>, while the node at index 0 really is the <em>successor</em> of your <code>head</code>. <code>head</code> doesn't count as node, as it is a dummy node. So you should start with <code>curr = head.next</code> instead of <code>curr = head</code>. As a consequence, in <code>deleteAtIndex</code>, you don't need the last part of the <code>if</code> condition (<code>curr.prev != null</code>), as this is now guaranteed.</p>\n</li>\n<li><p>In the same three functions you have a loop condition that says <code>tail != null</code>, but this condition is always true. <code>tail</code> never is assigned anything else after its initialisation in the constructor (and it shouldn't). The loop condition should instead test <code>curr != null</code>.</p>\n</li>\n<li><p>In <code>addAtHead</code> you have wired the nodes incorrectly. The assignment <code>head.next = newHead;</code> should happen <em>after</em> <code>newHead.next = head.next;</code>, because as you have it now, you make <code>newHead.next</code> to become equal to <code>newHead</code>, introducing a cycle in your list.</p>\n</li>\n<li><p>In <code>addAtTail</code> the order of assignments is also in the wrong order. You make <code>newTail.prev</code> equal to <code>newTail</code>, introducing a cycle.</p>\n</li>\n<li><p>In <code>addAtIndex</code> there are two wrong assignments. The first two would attempt to <em>exclude</em> <code>curr</code> from the list, but it should become the neighbor of the new node. Therefore you should do <code>newNode.next = curr;</code> instead of <code>newNode.next = curr.next;</code>. <code>curr.next.prev = newNode;</code> is also wrong, as this link should not be updated. It could even lead to an exception, because <code>curr</code> could be equal to the tail node, which has a <code>null</code> for its <code>next</code> field. Instead you should do <code>curr.prev = newNode;</code></p>\n</li>\n</ul>\n<p>Not a problem, but in <code>get</code> you have declared an unused variable <code>i</code>. You can drop it.</p>\n<p>Here is your code with the above corrections applied to it (see comments in code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DoublyListNode {\n    int val;\n    DoublyListNode next;\n    DoublyListNode prev;\n\n    public DoublyListNode(int val) {\n        this.val = val;\n        this.next = null;\n        this.prev = null;\n    } \n}\n\nclass MyLinkedList {    \n    DoublyListNode head;\n    DoublyListNode tail;\n    \n    public MyLinkedList() {\n        head = new DoublyListNode(-1);\n        tail = new DoublyListNode(-1);\n\n        head.next = tail;\n        tail.prev = head;\n    }\n    \n    public int get(int index) {\n        DoublyListNode curr = head.next; // This is the node at index 0\n        \n        while (curr != null &amp;&amp; index &gt; 0) { // Corrected loop condition\n            curr = curr.next;\n            index--;\n        }\n\n        if (index == 0 &amp;&amp; curr != null) {\n            return curr.val;\n        }\n        return -1;\n    }\n    \n    public void addAtHead(int val) {\n        DoublyListNode newHead = new DoublyListNode(val);\n        // Fixed the order of the assignments: \n        newHead.next = head.next;\n        newHead.prev = head;\n        head.next.prev = newHead;\n        head.next = newHead;\n    }\n    \n    public void addAtTail(int val) {\n        DoublyListNode newTail = new DoublyListNode(val);\n        // Fixed the order of the assignments: \n        newTail.next = tail;\n        newTail.prev = tail.prev;\n        tail.prev.next = newTail;\n        tail.prev = newTail;\n    }\n    \n    public void addAtIndex(int index, int val) {\n        DoublyListNode curr = head.next; // This is the node at index 0\n\n        while (curr != null &amp;&amp; index &gt; 0){ // Corrected loop condition\n            curr = curr.next;\n            index--;\n        }\n\n        if (index == 0 &amp;&amp; curr != null) {\n            DoublyListNode newNode = new DoublyListNode(val);\n            newNode.prev = curr.prev;\n            newNode.next = curr; // Corrected assignment\n            curr.prev.next = newNode;\n            curr.prev = newNode; // Corrected assignment\n        }\n    }\n    \n    public void deleteAtIndex(int index) {            \n        DoublyListNode curr = head.next; // This is the node at index 0\n\n        while (curr != null &amp;&amp; index &gt; 0) { // Corrected loop condition\n            curr = curr.next;\n            index--;\n        }\n        if (index == 0 &amp;&amp; curr != null &amp;&amp; curr.next != null) { // Removed obsolete condition\n            curr.prev.next = curr.next;\n            curr.next.prev = curr.prev;\n        }\n    }\n}    \n</code></pre>\n<p>As a next step, you could try to remove some code repetition, as you have essentially the same loop in three of these methods.</p>\n"}],"owner":{"account_id":27027509,"reputation":21,"user_id":20584510,"display_name":"Marcus Mousavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700639663,"creation_date":1700622156,"question_id":77527099,"body_markdown":"I am trying to solve LeetCode problem [707. Design Linked List](https://leetcode.com/problems/design-linked-list/):\r\n\r\n&gt; Design your implementation of the linked list. You can choose to use a singly or doubly linked list.\r\n&gt; \r\n&gt; A node in a singly linked list should have two attributes: `val` and `next`. `val` is the value of the current node, and `next` is a pointer/reference to the next node.\r\n&gt; \r\n&gt; If you want to use the doubly linked list, you will need one more attribute `prev` to indicate the previous node in the linked list. Assume all nodes in the linked list are **0-indexed**.\r\n&gt; \r\n&gt; Implement the `MyLinkedList` class:\r\n&gt; \r\n&gt; * `MyLinkedList()` Initializes the `MyLinkedList` object.\r\n&gt; * `int get(int index)` Get the value of the `index`&lt;sup&gt;th&lt;/sup&gt; node in the linked list. If the index is invalid, return -1.\r\n&gt; * `void addAtHead(int val)` Add a node of value `val` before the first element of the linked list. After the insertion, the new node will be the first node of the linked list.\r\n&gt; * `void addAtTail(int val)` Append a node of value `val` as the last element of the linked list.\r\n&gt; * `void addAtIndex(int index, int val)` Add a node of value `val` before the `index`&lt;sup&gt;th&lt;/sup&gt; node in the linked list. If `index` equals the length of the linked list, the node will be appended to the end of the linked list. If `index` is greater than the length, the node **will not be inserted**.\r\n&gt; * `void deleteAtIndex(int index)` Delete the `index`&lt;sup&gt;th&lt;/sup&gt; node in the linked list, if the `index` is valid.\r\n&gt;\r\n&gt; ### Example 1:\r\n&gt; \r\n&gt; **Input**\r\n&gt; \r\n&gt; ```\r\n&gt; [&quot;MyLinkedList&quot;, &quot;addAtHead&quot;, &quot;addAtTail&quot;, &quot;addAtIndex&quot;, &quot;get&quot;, &quot;deleteAtIndex&quot;, &quot;get&quot;]\r\n&gt; [[], [1], [3], [1, 2], [1], [1], [1]]\r\n&gt; ```\r\n&gt; \r\n&gt; **Output**\r\n&gt; \r\n&gt; ```\r\n&gt; [null, null, null, null, 2, null, 3]\r\n&gt; ```\r\n&gt;\r\n&gt; **Explanation**\r\n&gt; \r\n&gt; ```\r\n&gt; MyLinkedList myLinkedList = new MyLinkedList();\r\n&gt; myLinkedList.addAtHead(1);\r\n&gt; myLinkedList.addAtTail(3);\r\n&gt; myLinkedList.addAtIndex(1, 2);    // linked list becomes 1-&gt;2-&gt;3\r\n&gt; myLinkedList.get(1);              // return 2\r\n&gt; myLinkedList.deleteAtIndex(1);    // now the linked list is 1-&gt;3\r\n&gt; myLinkedList.get(1);              // return 3\r\n&gt; ``` \r\n\r\nWondering what&#39;s wrong with my LinkedList here. \r\n\r\n\r\nCan&#39;t get it past the input:\r\n\r\n```\r\n[&quot;MyLinkedList&quot;,&quot;addAtHead&quot;,&quot;addAtHead&quot;,&quot;addAtHead&quot;,&quot;addAtIndex&quot;,&quot;deleteAtIndex&quot;,&quot;addAtHead&quot;,&quot;addAtTail&quot;,&quot;get&quot;,&quot;addAtHead&quot;,&quot;addAtIndex&quot;,&quot;addAtHead&quot;]\r\n\r\n[[],[7],[2],[1],[3,0],[2],[6],[4],[4],[4],[5,0],[6]]\r\n```\r\n\r\nwith my output as:\r\n\r\n```\r\n[null,null,null,null,null,null,null,null,6,null,null,null]\r\n```\r\n\r\nand the expected output as: \r\n\r\n```\r\n[null,null,null,null,null,null,null,null,4,null,null,null]\r\n```\r\n\r\nThis is my implementation:\r\n\r\n```\r\nclass DoublyListNode {   \r\n    int val;\r\n    DoublyListNode next;\r\n    DoublyListNode prev;\r\n\r\n    public DoublyListNode(int val) {\r\n        this.val = val;\r\n        this.next = null;\r\n        this.prev = null;\r\n    } \r\n}\r\n\r\nclass MyLinkedList {    \r\n\r\n    DoublyListNode head;\r\n    DoublyListNode tail;\r\n    \r\n    public MyLinkedList() {\r\n       head = new DoublyListNode(-1);\r\n       tail = new DoublyListNode(-1);\r\n\r\n       head.next = tail;\r\n       tail.prev = head;\r\n    }\r\n    \r\n    public int get(int index) {\r\n        DoublyListNode curr = head;\r\n        int i = 0;\r\n\r\n        while(tail != null &amp;&amp; index &gt; 0){\r\n            curr = curr.next;\r\n            index--;     \r\n        }\r\n\r\n        if(index == 0 &amp;&amp; curr != null){\r\n            return curr.val;\r\n        } \r\n        return -1;\r\n    }\r\n    \r\n    public void addAtHead(int val) {\r\n        DoublyListNode newHead = new DoublyListNode(val);\r\n        head.next.prev = newHead;\r\n        head.next = newHead;\r\n        newHead.next = head.next;\r\n        newHead.prev = head;\r\n    }\r\n    \r\n    public void addAtTail(int val) {\r\n        DoublyListNode newTail = new DoublyListNode(val);\r\n\r\n        tail.prev.next = newTail;\r\n        tail.prev = newTail;\r\n        newTail.next = tail;\r\n        newTail.prev = tail.prev;\r\n    }\r\n    \r\n    public void addAtIndex(int index, int val) {\r\n        DoublyListNode curr = head;\r\n\r\n        while(tail != null &amp;&amp; index &gt; 0){\r\n            curr = curr.next;\r\n            index--;\r\n        }\r\n\r\n        if(index == 0 &amp;&amp; curr != null){\r\n            DoublyListNode newNode = new DoublyListNode(val);\r\n            newNode.prev = curr.prev;\r\n            newNode.next = curr.next;\r\n            curr.prev.next = newNode;\r\n            curr.next.prev = newNode;\r\n        }\r\n    }\r\n    \r\n    public void deleteAtIndex(int index) {            \r\n        DoublyListNode curr = head;\r\n\r\n        while(tail != null &amp;&amp; index &gt; 0){\r\n            curr = curr.next;\r\n            index--;\r\n        }\r\n        if(index == 0 &amp;&amp; curr != null &amp;&amp; curr.next != null &amp;&amp; curr.prev != null){\r\n            curr.prev.next = curr.next;\r\n            curr.next.prev = curr.prev;\r\n        }\r\n    }\r\n}    \r\n\r\n/**\r\n * Your MyLinkedList object will be instantiated and called as such:\r\n * MyLinkedList obj = new MyLinkedList();\r\n * int param_1 = obj.get(index);\r\n * obj.addAtHead(val);\r\n * obj.addAtTail(val);\r\n * obj.addAtIndex(index,val);\r\n * obj.deleteAtIndex(index);\r\n */\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Design Linked List - Leetcode #707 - getting wrong output","body":"<p>I am trying to solve LeetCode problem <a href=\"https://leetcode.com/problems/design-linked-list/\" rel=\"nofollow noreferrer\">707. Design Linked List</a>:</p>\n<blockquote>\n<p>Design your implementation of the linked list. You can choose to use a singly or doubly linked list.</p>\n<p>A node in a singly linked list should have two attributes: <code>val</code> and <code>next</code>. <code>val</code> is the value of the current node, and <code>next</code> is a pointer/reference to the next node.</p>\n<p>If you want to use the doubly linked list, you will need one more attribute <code>prev</code> to indicate the previous node in the linked list. Assume all nodes in the linked list are <strong>0-indexed</strong>.</p>\n<p>Implement the <code>MyLinkedList</code> class:</p>\n<ul>\n<li><code>MyLinkedList()</code> Initializes the <code>MyLinkedList</code> object.</li>\n<li><code>int get(int index)</code> Get the value of the <code>index</code><sup>th</sup> node in the linked list. If the index is invalid, return -1.</li>\n<li><code>void addAtHead(int val)</code> Add a node of value <code>val</code> before the first element of the linked list. After the insertion, the new node will be the first node of the linked list.</li>\n<li><code>void addAtTail(int val)</code> Append a node of value <code>val</code> as the last element of the linked list.</li>\n<li><code>void addAtIndex(int index, int val)</code> Add a node of value <code>val</code> before the <code>index</code><sup>th</sup> node in the linked list. If <code>index</code> equals the length of the linked list, the node will be appended to the end of the linked list. If <code>index</code> is greater than the length, the node <strong>will not be inserted</strong>.</li>\n<li><code>void deleteAtIndex(int index)</code> Delete the <code>index</code><sup>th</sup> node in the linked list, if the <code>index</code> is valid.</li>\n</ul>\n<h3>Example 1:</h3>\n<p><strong>Input</strong></p>\n<pre><code>[&quot;MyLinkedList&quot;, &quot;addAtHead&quot;, &quot;addAtTail&quot;, &quot;addAtIndex&quot;, &quot;get&quot;, &quot;deleteAtIndex&quot;, &quot;get&quot;]\n[[], [1], [3], [1, 2], [1], [1], [1]]\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[null, null, null, null, 2, null, 3]\n</code></pre>\n<p><strong>Explanation</strong></p>\n<pre><code>MyLinkedList myLinkedList = new MyLinkedList();\nmyLinkedList.addAtHead(1);\nmyLinkedList.addAtTail(3);\nmyLinkedList.addAtIndex(1, 2);    // linked list becomes 1-&gt;2-&gt;3\nmyLinkedList.get(1);              // return 2\nmyLinkedList.deleteAtIndex(1);    // now the linked list is 1-&gt;3\nmyLinkedList.get(1);              // return 3\n</code></pre>\n</blockquote>\n<p>Wondering what's wrong with my LinkedList here.</p>\n<p>Can't get it past the input:</p>\n<pre><code>[&quot;MyLinkedList&quot;,&quot;addAtHead&quot;,&quot;addAtHead&quot;,&quot;addAtHead&quot;,&quot;addAtIndex&quot;,&quot;deleteAtIndex&quot;,&quot;addAtHead&quot;,&quot;addAtTail&quot;,&quot;get&quot;,&quot;addAtHead&quot;,&quot;addAtIndex&quot;,&quot;addAtHead&quot;]\n\n[[],[7],[2],[1],[3,0],[2],[6],[4],[4],[4],[5,0],[6]]\n</code></pre>\n<p>with my output as:</p>\n<pre><code>[null,null,null,null,null,null,null,null,6,null,null,null]\n</code></pre>\n<p>and the expected output as:</p>\n<pre><code>[null,null,null,null,null,null,null,null,4,null,null,null]\n</code></pre>\n<p>This is my implementation:</p>\n<pre><code>class DoublyListNode {   \n    int val;\n    DoublyListNode next;\n    DoublyListNode prev;\n\n    public DoublyListNode(int val) {\n        this.val = val;\n        this.next = null;\n        this.prev = null;\n    } \n}\n\nclass MyLinkedList {    \n\n    DoublyListNode head;\n    DoublyListNode tail;\n    \n    public MyLinkedList() {\n       head = new DoublyListNode(-1);\n       tail = new DoublyListNode(-1);\n\n       head.next = tail;\n       tail.prev = head;\n    }\n    \n    public int get(int index) {\n        DoublyListNode curr = head;\n        int i = 0;\n\n        while(tail != null &amp;&amp; index &gt; 0){\n            curr = curr.next;\n            index--;     \n        }\n\n        if(index == 0 &amp;&amp; curr != null){\n            return curr.val;\n        } \n        return -1;\n    }\n    \n    public void addAtHead(int val) {\n        DoublyListNode newHead = new DoublyListNode(val);\n        head.next.prev = newHead;\n        head.next = newHead;\n        newHead.next = head.next;\n        newHead.prev = head;\n    }\n    \n    public void addAtTail(int val) {\n        DoublyListNode newTail = new DoublyListNode(val);\n\n        tail.prev.next = newTail;\n        tail.prev = newTail;\n        newTail.next = tail;\n        newTail.prev = tail.prev;\n    }\n    \n    public void addAtIndex(int index, int val) {\n        DoublyListNode curr = head;\n\n        while(tail != null &amp;&amp; index &gt; 0){\n            curr = curr.next;\n            index--;\n        }\n\n        if(index == 0 &amp;&amp; curr != null){\n            DoublyListNode newNode = new DoublyListNode(val);\n            newNode.prev = curr.prev;\n            newNode.next = curr.next;\n            curr.prev.next = newNode;\n            curr.next.prev = newNode;\n        }\n    }\n    \n    public void deleteAtIndex(int index) {            \n        DoublyListNode curr = head;\n\n        while(tail != null &amp;&amp; index &gt; 0){\n            curr = curr.next;\n            index--;\n        }\n        if(index == 0 &amp;&amp; curr != null &amp;&amp; curr.next != null &amp;&amp; curr.prev != null){\n            curr.prev.next = curr.next;\n            curr.next.prev = curr.prev;\n        }\n    }\n}    \n\n/**\n * Your MyLinkedList object will be instantiated and called as such:\n * MyLinkedList obj = new MyLinkedList();\n * int param_1 = obj.get(index);\n * obj.addAtHead(val);\n * obj.addAtTail(val);\n * obj.addAtIndex(index,val);\n * obj.deleteAtIndex(index);\n */\n</code></pre>\n"},{"tags":["java","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":15693388,"reputation":1,"user_id":11323695,"display_name":"codenow"},"score":0,"creation_date":1698811155,"post_id":77395328,"comment_id":136451493,"body_markdown":"This does work, but it doesn&#39;t use the logging configuration","body":"This does work, but it doesn&#39;t use the logging configuration"}],"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698750171,"creation_date":1698750171,"answer_id":77395328,"question_id":77393906,"body_markdown":"You can try\r\n\r\n```java\r\nRestAssured\r\n        .given()\r\n        .log().everything(true)\r\n        .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)\r\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\r\n        // When\r\n        .when()\r\n        .get(&quot;/posts/1&quot;)\r\n\r\n        // Then\r\n        .then()\r\n        .statusCode(200);\r\n```\r\n","title":"RestAssured has set up a localized logging configuration, but the corresponding request logs do not appear when running a successful test","body":"<p>You can try</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestAssured\n        .given()\n        .log().everything(true)\n        .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n\n        // When\n        .when()\n        .get(&quot;/posts/1&quot;)\n\n        // Then\n        .then()\n        .statusCode(200);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700639550,"creation_date":1700639550,"answer_id":77528179,"question_id":77393906,"body_markdown":"&gt; Define a LogConfig configuration in the test method that prints a log\r\n&gt; regardless of whether the request succeeds or fails.\r\n\r\nYou mean print log of both request and response? then NO way to do it using `LogConfig`.\r\n\r\nSolution: use `RequestLoggingFilter` &amp; `ResponseLoggingFilter`, because `LogConfig` is just a shortcut for RequestLoggingFilter and ResponseLoggingFilter.\r\n\r\n```java\r\nRestAssured.filters(new RequestLoggingFilter(), new ResponseLoggingFilter());\r\n```\r\n\r\nor\r\n\r\n```java\r\nRestAssured\r\n        .given()\r\n        .filters(new RequestLoggingFilter(), new ResponseLoggingFilter())\r\n        ...\r\n```","title":"RestAssured has set up a localized logging configuration, but the corresponding request logs do not appear when running a successful test","body":"<blockquote>\n<p>Define a LogConfig configuration in the test method that prints a log\nregardless of whether the request succeeds or fails.</p>\n</blockquote>\n<p>You mean print log of both request and response? then NO way to do it using <code>LogConfig</code>.</p>\n<p>Solution: use <code>RequestLoggingFilter</code> &amp; <code>ResponseLoggingFilter</code>, because <code>LogConfig</code> is just a shortcut for RequestLoggingFilter and ResponseLoggingFilter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestAssured.filters(new RequestLoggingFilter(), new ResponseLoggingFilter());\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>RestAssured\n        .given()\n        .filters(new RequestLoggingFilter(), new ResponseLoggingFilter())\n        ...\n</code></pre>\n"}],"owner":{"account_id":15693388,"reputation":1,"user_id":11323695,"display_name":"codenow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700639550,"creation_date":1698736665,"question_id":77393906,"body_markdown":"RestAssured api testing demo\r\n \r\n```\r\npackage com.example;\r\n\r\nimport io.restassured.RestAssured;\r\nimport io.restassured.config.LogConfig;\r\nimport io.restassured.filter.log.LogDetail;\r\nimport org.testng.annotations.Test;\r\n\r\nimport static io.restassured.RestAssured.given;\r\nimport static org.hamcrest.Matchers.equalTo;\r\n\r\npublic class TestDemo {\r\n\r\n    @Test(description = &quot;Verify that the Get Post API returns correctly&quot;)\r\n    public void verifyGetAPI() {\r\n\r\n        LogConfig logConfig = LogConfig.logConfig().enableLoggingOfRequestAndResponseIfValidationFails(LogDetail.ALL).enablePrettyPrinting(true);\r\n\r\n        // Given\r\n        given()\r\n                .config(RestAssured.config().logConfig(logConfig))\r\n                .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\r\n                // When\r\n                .when()\r\n                .get(&quot;/posts/1&quot;)\r\n\r\n                // Then\r\n                .then()\r\n                .statusCode(200)\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nDefine a LogConfig configuration in the test method that prints a log regardless of whether the request succeeds or fails.","title":"RestAssured has set up a localized logging configuration, but the corresponding request logs do not appear when running a successful test","body":"<p>RestAssured api testing demo</p>\n<pre><code>package com.example;\n\nimport io.restassured.RestAssured;\nimport io.restassured.config.LogConfig;\nimport io.restassured.filter.log.LogDetail;\nimport org.testng.annotations.Test;\n\nimport static io.restassured.RestAssured.given;\nimport static org.hamcrest.Matchers.equalTo;\n\npublic class TestDemo {\n\n    @Test(description = &quot;Verify that the Get Post API returns correctly&quot;)\n    public void verifyGetAPI() {\n\n        LogConfig logConfig = LogConfig.logConfig().enableLoggingOfRequestAndResponseIfValidationFails(LogDetail.ALL).enablePrettyPrinting(true);\n\n        // Given\n        given()\n                .config(RestAssured.config().logConfig(logConfig))\n                .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n\n                // When\n                .when()\n                .get(&quot;/posts/1&quot;)\n\n                // Then\n                .then()\n                .statusCode(200)\n    }\n\n}\n</code></pre>\n<p>Define a LogConfig configuration in the test method that prints a log regardless of whether the request succeeds or fails.</p>\n"},{"tags":["java","android"],"owner":{"account_id":29964108,"reputation":1,"user_id":22963079,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700638789,"creation_date":1700638417,"question_id":77528066,"body_markdown":"I&#39;m trying to extract an AAR file from an Android sample project, but I&#39;m encountering an error. I&#39;ve tried setting up the NDK path, updating the SDK, and updating Gradle, but it&#39;s still not working.\r\n\r\n![enter image description here](https://i.stack.imgur.com/IIEXO.png)\r\n\r\n1. Set NDK Path\r\n2. update SDK\r\n3. gradle update\r\n4. embed to compileOnly\r\n5. --warning-mode=all","title":"Android studio &quot;Can not find task bundleDebug!&quot; what is this?","body":"<p>I'm trying to extract an AAR file from an Android sample project, but I'm encountering an error. I've tried setting up the NDK path, updating the SDK, and updating Gradle, but it's still not working.</p>\n<p><img src=\"https://i.stack.imgur.com/IIEXO.png\" alt=\"enter image description here\" /></p>\n<ol>\n<li>Set NDK Path</li>\n<li>update SDK</li>\n<li>gradle update</li>\n<li>embed to compileOnly</li>\n<li>--warning-mode=all</li>\n</ol>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1624514958,"post_id":68110373,"comment_id":120380469,"body_markdown":"Hint: start with comparing strings correctly, then look up the javadocs of `Stream.findFirst`","body":"Hint: start with comparing strings correctly, then look up the javadocs of <code>Stream.findFirst</code>"}],"answers":[{"tags":[],"owner":{"account_id":7255677,"reputation":922,"user_id":12099409,"display_name":"Osama A.Rehman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1624515742,"creation_date":1624515035,"answer_id":68110426,"question_id":68110373,"body_markdown":"You can use Stream.filter() to filter the list with attributes whose attribute name matches your key and find the first attribute: \r\n\r\n```\r\nOptional&lt;Attribute&gt; attributeOptional = list.stream().filter(attr-&gt; &quot;some key&quot;.equals(attr.name).findFirst();\r\n```\r\n\r\nEdit: if you want the value out of the attribute then you can use Optional.map() to map found attribute to its value, and if&#39;s not found then some default value like null.\r\n\r\n```\r\nString value = list\r\n                    .stream()\r\n                    .filter(attr-&gt; key.equals(attr.name))\r\n                    .findFirst()\r\n                    .map(attribute -&gt; attribute.value)\r\n                    .orElse(null);\r\n```","title":"In Java how to filter a list of class instances based on any of its property to get another in streams or in one line","body":"<p>You can use Stream.filter() to filter the list with attributes whose attribute name matches your key and find the first attribute:</p>\n<pre><code>Optional&lt;Attribute&gt; attributeOptional = list.stream().filter(attr-&gt; &quot;some key&quot;.equals(attr.name).findFirst();\n</code></pre>\n<p>Edit: if you want the value out of the attribute then you can use Optional.map() to map found attribute to its value, and if's not found then some default value like null.</p>\n<pre><code>String value = list\n                    .stream()\n                    .filter(attr-&gt; key.equals(attr.name))\n                    .findFirst()\n                    .map(attribute -&gt; attribute.value)\n                    .orElse(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3224337,"reputation":11,"user_id":2721032,"display_name":"Umitay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700638303,"creation_date":1700335831,"answer_id":77508420,"question_id":68110373,"body_markdown":"    List&lt;...&gt;  newList = objectList.stream()\r\n                           .filter(obj -&gt; otherListOrSet.stream().anyMatch(other -&gt; other.getIntValue.equals(obj.getIntValue)))\r\n                           .toList();\r\n    \r\n\r\n","title":"In Java how to filter a list of class instances based on any of its property to get another in streams or in one line","body":"<pre><code>List&lt;...&gt;  newList = objectList.stream()\n                       .filter(obj -&gt; otherListOrSet.stream().anyMatch(other -&gt; other.getIntValue.equals(obj.getIntValue)))\n                       .toList();\n</code></pre>\n"}],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":68110426,"answer_count":2,"score":-1,"last_activity_date":1700638303,"creation_date":1624514648,"question_id":68110373,"body_markdown":"How to filter this using streams or any other way to write in one line instead of for-loop.\r\n\r\n```\r\nclass Attribute {\r\n\r\n  String name;\r\n  String value;\r\n\r\n  .. \r\n  //getter-setter\r\n\r\n}\r\n\r\n.. main\r\nList&lt;Attribute&gt; list = populateAttributes();\r\n\r\nfor (Attribute attr : list) {\r\n\r\n  if (attr.name == &quot;some key&quot;) {\r\n     return attr.value;\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nI am interested to do so in 1 line since I will be reading that path from config and my generic code will traverse the dot sequence and invoke methods using reflection. So something like this `classpackage.getAttributes...(getValue where attr.getname == &quot;somekey&quot;)`","title":"In Java how to filter a list of class instances based on any of its property to get another in streams or in one line","body":"<p>How to filter this using streams or any other way to write in one line instead of for-loop.</p>\n<pre><code>class Attribute {\n\n  String name;\n  String value;\n\n  .. \n  //getter-setter\n\n}\n\n.. main\nList&lt;Attribute&gt; list = populateAttributes();\n\nfor (Attribute attr : list) {\n\n  if (attr.name == &quot;some key&quot;) {\n     return attr.value;\n  }\n\n}\n\n</code></pre>\n<p>I am interested to do so in 1 line since I will be reading that path from config and my generic code will traverse the dot sequence and invoke methods using reflection. So something like this <code>classpackage.getAttributes...(getValue where attr.getname == &quot;somekey&quot;)</code></p>\n"},{"tags":["java","android","security","sdk","platform"],"owner":{"account_id":19068098,"reputation":57,"user_id":13922837,"display_name":"hdthky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700640552,"answer_count":0,"score":0,"last_activity_date":1700638135,"creation_date":1700638135,"question_id":77528034,"body_markdown":"I know there are API restrictions in Android platform and there is a @hide notation inside a comment block above each restricted API. If a blocked API is accessed, the system will throw an error. I wonder how Android acheives this behavior even if the API is a public member.","title":"how does Android achieve restricting API&#39;s?","body":"<p>I know there are API restrictions in Android platform and there is a @hide notation inside a comment block above each restricted API. If a blocked API is accessed, the system will throw an error. I wonder how Android acheives this behavior even if the API is a public member.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700637405,"post_id":77527031,"comment_id":136677663,"body_markdown":"&quot;[BIO connector] When a request arrives, it allocates a thread from the thread pool and maps it to the request&quot;: false. A thread is permanently allocated to the connection. There is no other way it can work. Duplicate, and nothing to do with Spring whatsoever.","body":"&quot;[BIO connector] When a request arrives, it allocates a thread from the thread pool and maps it to the request&quot;: false. A thread is permanently allocated to the connection. There is no other way it can work. Duplicate, and nothing to do with Spring whatsoever."},{"owner":{"account_id":19893997,"reputation":47,"user_id":14575428,"display_name":"White Piano"},"score":0,"creation_date":1700651267,"post_id":77527031,"comment_id":136680084,"body_markdown":"@user207421 I read through the questions you guided me to, and it looks like my 4th guess was correct. Thanks for the advice!","body":"@user207421 I read through the questions you guided me to, and it looks like my 4th guess was correct. Thanks for the advice!"}],"owner":{"account_id":19893997,"reputation":47,"user_id":14575428,"display_name":"White Piano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700647856,"answer_count":0,"score":0,"last_activity_date":1700637352,"creation_date":1700620480,"question_id":77527031,"body_markdown":"While studying Spring, I was curious about how Multi-Thread works when many users connect at the same time. I realized that it is Tomcat, not Spring, that receives requests and allocates threads. Tomcat provides two ways to do this: BIO connector and NIO connector, and Tomcat decided to use NIO instead of BIO for performance reasons. However, I had a hard time understanding the reason for the performance degradation when using BIO.\r\n\r\n### BIO Connector\r\n- It works in a blocking way.\r\n- When a request arrives, it allocates a thread from the thread pool and maps it to the request.\r\n- When the request ends, it returns the thread.\r\n\r\n### NIO Connector\r\n- It works in a non-blocking way.\r\n- The poller thread loops through the socket channel in a non-blocking manner and maps a thread to the request that arrives.\r\n\r\n### Question\r\n- It is said that the BIO method affects performance **due to the idle time of the allocated threads** and **requires more threads** than the NIO method.\r\n- In order for the NIO method to be beneficial, **blocking must occur after the request is mapped to a thread**. (so that the thread has idle time).\r\n- However, from the moment a Request is assigned to a Thread, the Thread will behave as defined by the Spring Container, so there will be no idle time.\r\n\r\n### First guess\r\nTomcat uses `socket.accept` to recognize a request. If the point at which `socket.accept` recognizes a request is **when the first packet of the request arrives**, rather than **when the request arrives in its entirety from the network**, then there may be a delay after assigning a thread to the request, waiting for the remaining packets to arrive.\r\n\r\n Putting aside whether this assumption is correct for now, I wonder if the delay is too small to justify NIO for this reason alone, and if the overhead is too high.\r\n\r\n### Second guess\r\nIf tomcat allocates a thread to the created socket channel and polls for requests in a blocking manner, the idle time of the thread will be significant even if there is no immediate connection (because even if there is no connection, the thread is allocated and blocked until the next connection). In this case, the statement **&quot;When a request arrives, a thread is allocated from the thread pool, and when the request is resolved, the thread is returned&quot;** is **incorrect**. This is because **&quot;a thread is allocated at the time the socket channel is created, and once created, the socket channel is persisted until the server is shut down, so the allocated thread is not returned to the pool.&quot;**\r\n\r\nIf this were the case, I could sympathize with the need for an NIO connector. However, in this case, the need for a thread pool is questionable.\r\n\r\n### Third guess\r\nThe BIO Connector is maintained in multiple threads. The number of threads is equal to the number of socket channels created. Later, when all the created channels are in use, new threads are created and allocated for new requests, increasing the number of channels. **The threads of the BIO Connector managed in this way are completely separate from the threads that will resolve requests in Spring**. \r\n\r\nTherefore, there is no difference in the allocation/return time and the number of threads that will be created to act as Spring Containers, whether BIO or NIO. Only the number of own Threads of BIO Connector and NIO Connector decreases from N (number of socket channels) to 1 (Selector) and their behavior changes from Blocking to Non-Blocking.\r\n\r\n### Fourth guess\r\nBIO allocates a thread from the moment a request arrives, and does not return the thread when it resolves the request. **It waits for the connection to close before deallocating the thread.**\r\n\r\n**NIO does not map a thread to a request**, but rather queues up the job requested by the request and **assigns that job to the thread**. When the thread resolves the job, it is returned directly to the pool **without waiting for the connection to close**. If there are additional requests, the poller will create the job again, queue it, and assign it to an idle thread.\r\n\r\n### Cleanup\r\nTomcat introduced the NIO connector because of problems with the BIO connector. But what exactly was wrong with the BIO connector? If it allocates a thread on request arrival and returns a thread on resolve, it&#39;s not a problem by any stretch of the imagination. If it allocates a thread on socket channel creation and doesn&#39;t return the thread when the request is resolved, it&#39;s definitely a performance issue. But if that&#39;s really the case, there is no process of returning and reusing threads, so thread pools are pointless. So are threads in Tomcat Connector and threads in Spring Container separate concepts? Maybe the difference between BIO and NIO is the difference between mapping a request to a thread or mapping the job that the request requires to a thread?\r\n\r\nI&#39;m new to Spring, so maybe I&#39;m asking too many obvious questions, or maybe I&#39;m just being silly. Thank you for reading this long post and I hope my question makes sense.","title":"Why is the Tomcat BIO Connector inefficient?","body":"<p>While studying Spring, I was curious about how Multi-Thread works when many users connect at the same time. I realized that it is Tomcat, not Spring, that receives requests and allocates threads. Tomcat provides two ways to do this: BIO connector and NIO connector, and Tomcat decided to use NIO instead of BIO for performance reasons. However, I had a hard time understanding the reason for the performance degradation when using BIO.</p>\n<h3>BIO Connector</h3>\n<ul>\n<li>It works in a blocking way.</li>\n<li>When a request arrives, it allocates a thread from the thread pool and maps it to the request.</li>\n<li>When the request ends, it returns the thread.</li>\n</ul>\n<h3>NIO Connector</h3>\n<ul>\n<li>It works in a non-blocking way.</li>\n<li>The poller thread loops through the socket channel in a non-blocking manner and maps a thread to the request that arrives.</li>\n</ul>\n<h3>Question</h3>\n<ul>\n<li>It is said that the BIO method affects performance <strong>due to the idle time of the allocated threads</strong> and <strong>requires more threads</strong> than the NIO method.</li>\n<li>In order for the NIO method to be beneficial, <strong>blocking must occur after the request is mapped to a thread</strong>. (so that the thread has idle time).</li>\n<li>However, from the moment a Request is assigned to a Thread, the Thread will behave as defined by the Spring Container, so there will be no idle time.</li>\n</ul>\n<h3>First guess</h3>\n<p>Tomcat uses <code>socket.accept</code> to recognize a request. If the point at which <code>socket.accept</code> recognizes a request is <strong>when the first packet of the request arrives</strong>, rather than <strong>when the request arrives in its entirety from the network</strong>, then there may be a delay after assigning a thread to the request, waiting for the remaining packets to arrive.</p>\n<p>Putting aside whether this assumption is correct for now, I wonder if the delay is too small to justify NIO for this reason alone, and if the overhead is too high.</p>\n<h3>Second guess</h3>\n<p>If tomcat allocates a thread to the created socket channel and polls for requests in a blocking manner, the idle time of the thread will be significant even if there is no immediate connection (because even if there is no connection, the thread is allocated and blocked until the next connection). In this case, the statement <strong>&quot;When a request arrives, a thread is allocated from the thread pool, and when the request is resolved, the thread is returned&quot;</strong> is <strong>incorrect</strong>. This is because <strong>&quot;a thread is allocated at the time the socket channel is created, and once created, the socket channel is persisted until the server is shut down, so the allocated thread is not returned to the pool.&quot;</strong></p>\n<p>If this were the case, I could sympathize with the need for an NIO connector. However, in this case, the need for a thread pool is questionable.</p>\n<h3>Third guess</h3>\n<p>The BIO Connector is maintained in multiple threads. The number of threads is equal to the number of socket channels created. Later, when all the created channels are in use, new threads are created and allocated for new requests, increasing the number of channels. <strong>The threads of the BIO Connector managed in this way are completely separate from the threads that will resolve requests in Spring</strong>.</p>\n<p>Therefore, there is no difference in the allocation/return time and the number of threads that will be created to act as Spring Containers, whether BIO or NIO. Only the number of own Threads of BIO Connector and NIO Connector decreases from N (number of socket channels) to 1 (Selector) and their behavior changes from Blocking to Non-Blocking.</p>\n<h3>Fourth guess</h3>\n<p>BIO allocates a thread from the moment a request arrives, and does not return the thread when it resolves the request. <strong>It waits for the connection to close before deallocating the thread.</strong></p>\n<p><strong>NIO does not map a thread to a request</strong>, but rather queues up the job requested by the request and <strong>assigns that job to the thread</strong>. When the thread resolves the job, it is returned directly to the pool <strong>without waiting for the connection to close</strong>. If there are additional requests, the poller will create the job again, queue it, and assign it to an idle thread.</p>\n<h3>Cleanup</h3>\n<p>Tomcat introduced the NIO connector because of problems with the BIO connector. But what exactly was wrong with the BIO connector? If it allocates a thread on request arrival and returns a thread on resolve, it's not a problem by any stretch of the imagination. If it allocates a thread on socket channel creation and doesn't return the thread when the request is resolved, it's definitely a performance issue. But if that's really the case, there is no process of returning and reusing threads, so thread pools are pointless. So are threads in Tomcat Connector and threads in Spring Container separate concepts? Maybe the difference between BIO and NIO is the difference between mapping a request to a thread or mapping the job that the request requires to a thread?</p>\n<p>I'm new to Spring, so maybe I'm asking too many obvious questions, or maybe I'm just being silly. Thank you for reading this long post and I hope my question makes sense.</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1654772432,"post_id":72558973,"comment_id":128174139,"body_markdown":"You don`t created folder &quot;Sent items&quot;","body":"You don`t created folder &quot;Sent items&quot;"},{"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"score":0,"creation_date":1654772503,"post_id":72558973,"comment_id":128174161,"body_markdown":"@WBLord i didn&#39;t got what u mean ?","body":"@WBLord i didn&#39;t got what u mean ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654773220,"post_id":72558973,"comment_id":128174459,"body_markdown":"Maybe you got the name &quot;Sent Items&quot; wrong?","body":"Maybe you got the name &quot;Sent Items&quot; wrong?"},{"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"score":0,"creation_date":1654773807,"post_id":72558973,"comment_id":128174693,"body_markdown":"@g00se in outlook there is a folder named &quot;Sent items&quot;","body":"@g00se in outlook there is a folder named &quot;Sent items&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654777241,"post_id":72558973,"comment_id":128175914,"body_markdown":"I would check the IMAP url. Not sure where you&#39;d find that","body":"I would check the IMAP url. Not sure where you&#39;d find that"},{"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"score":0,"creation_date":1654778245,"post_id":72558973,"comment_id":128176292,"body_markdown":"@g00se it not a url prob because when i changed the folder name to &quot;inbox&quot; it works very well and i retreive my inbox emails","body":"@g00se it not a url prob because when i changed the folder name to &quot;inbox&quot; it works very well and i retreive my inbox emails"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654779049,"post_id":72558973,"comment_id":128176629,"body_markdown":"You misunderstand. Folders are hierarchical and are not necessarily where you think they are. [IMAP urls](https://edoras.sdsu.edu/doc/mit-scheme-9.2/mit-scheme-imail/IMAP-URLs.html) reflect that and might be a better guide to where the folder *actually* is. You can also address the folder by its url instead of its name","body":"You misunderstand. Folders are hierarchical and are not necessarily where you think they are. <a href=\"https://edoras.sdsu.edu/doc/mit-scheme-9.2/mit-scheme-imail/IMAP-URLs.html\" rel=\"nofollow noreferrer\">IMAP urls</a> reflect that and might be a better guide to where the folder <i>actually</i> is. You can also address the folder by its url instead of its name"},{"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"score":0,"creation_date":1654781301,"post_id":72558973,"comment_id":128177620,"body_markdown":"I tried to use the url of folder but it doesnt work","body":"I tried to use the url of folder but it doesnt work"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700644707,"post_id":72558973,"comment_id":136678829,"body_markdown":"It&#39;s called &#39;Sent&#39; in my Outlook/IMAP setup.","body":"It&#39;s called &#39;Sent&#39; in my Outlook/IMAP setup."}],"answers":[{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":2,"creation_date":1700636619,"post_id":77527901,"comment_id":136677552,"body_markdown":"Welcome to Stack Overflow! Please read [answer] and [edit] your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post.","body":"Welcome to Stack Overflow! Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and <a href=\"https://stackoverflow.com/posts/77527901/edit\">edit</a> your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post."}],"tags":[],"owner":{"account_id":29963931,"reputation":1,"user_id":22962929,"display_name":"user22962929"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1700636625,"creation_date":1700636483,"answer_id":77527901,"question_id":72558973,"body_markdown":"```\r\nFolder inbox = store.getFolder(&quot;[Gmail]/Sent Mail&quot;);\r\ninbox.open(Folder.READ_ONLY);\r\n```","title":"Javax.mail.FolderNotFoundException: Sent Items not found","body":"<pre><code>Folder inbox = store.getFolder(&quot;[Gmail]/Sent Mail&quot;);\ninbox.open(Folder.READ_ONLY);\n</code></pre>\n"}],"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700636625,"creation_date":1654771735,"question_id":72558973,"body_markdown":"Hello im trying to retreive emails sent by my outlook mail but i have a prob in the folder name \r\nI can retreive my mail inbox using the folder &quot;Inbox&quot; but i want the sent items folder \r\n```\r\nfinal String username = &quot;XXXX@outlook.fr&quot;;  \r\n    final String password = &quot;XXXX&quot;;\r\n        Properties props = new Properties();\r\nprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);        \r\nprops.setProperty(&quot;mail.imap.port&quot;, &quot;993&quot;);\r\nprops.setProperty(&quot;mail.imap.connectiontimeout&quot;, &quot;5000&quot;);\r\nprops.setProperty(&quot;mail.imap.timeout&quot;, &quot;5000&quot;);\r\n\r\n        Session session = Session.getDefaultInstance(props, null);\r\n        session.setDebug(true);\r\n        try {\r\n            Store store = session.getStore(&quot;imaps&quot;);\r\n            store.connect(&quot;outlook.office365.com&quot;, username, password);\r\n            \r\n\r\n            Folder inbox = store.getFolder(&quot;Sent Items&quot;);\r\n            inbox.open(Folder.READ_ONLY);\r\n            Message[] messages = inbox.getMessages();\r\n            for (int i = 0; i &lt; messages.length; i++) {\r\n                Message message = messages[i];\r\n                System.out.println(&quot;---------------------------------&quot;);\r\n                System.out.println(&quot;Email Number &quot; + (i + 1));\r\n                System.out.println(&quot;Subject: &quot; + message.getSubject());\r\n                System.out.println(&quot;To: &quot; + message.getRecipients(Message.RecipientType.TO));\r\n                System.out.println(&quot;Text: &quot; + message.getContent().toString());\r\n            }\r\n            inbox.close(true);\r\n            store.close();\r\n        } catch (Exception e){\r\n   e.printStackTrace();\r\n  }\r\n```\r\n```\r\navax.mail.FolderNotFoundException: Sent Items not found\r\n\tat com.sun.mail.imap.IMAPFolder.checkExists(IMAPFolder.java:455)\r\n\tat com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1068)\r\n\tat com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1001)\r\n\tat com.jsf.com.SendEmail.read2(SendEmail.java:61)\r\n\tat com.jsf.com.SendEmail.main(SendEmail.java:11)\r\n```","title":"Javax.mail.FolderNotFoundException: Sent Items not found","body":"<p>Hello im trying to retreive emails sent by my outlook mail but i have a prob in the folder name\nI can retreive my mail inbox using the folder &quot;Inbox&quot; but i want the sent items folder</p>\n<pre><code>final String username = &quot;XXXX@outlook.fr&quot;;  \n    final String password = &quot;XXXX&quot;;\n        Properties props = new Properties();\nprops.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);        \nprops.setProperty(&quot;mail.imap.port&quot;, &quot;993&quot;);\nprops.setProperty(&quot;mail.imap.connectiontimeout&quot;, &quot;5000&quot;);\nprops.setProperty(&quot;mail.imap.timeout&quot;, &quot;5000&quot;);\n\n        Session session = Session.getDefaultInstance(props, null);\n        session.setDebug(true);\n        try {\n            Store store = session.getStore(&quot;imaps&quot;);\n            store.connect(&quot;outlook.office365.com&quot;, username, password);\n            \n\n            Folder inbox = store.getFolder(&quot;Sent Items&quot;);\n            inbox.open(Folder.READ_ONLY);\n            Message[] messages = inbox.getMessages();\n            for (int i = 0; i &lt; messages.length; i++) {\n                Message message = messages[i];\n                System.out.println(&quot;---------------------------------&quot;);\n                System.out.println(&quot;Email Number &quot; + (i + 1));\n                System.out.println(&quot;Subject: &quot; + message.getSubject());\n                System.out.println(&quot;To: &quot; + message.getRecipients(Message.RecipientType.TO));\n                System.out.println(&quot;Text: &quot; + message.getContent().toString());\n            }\n            inbox.close(true);\n            store.close();\n        } catch (Exception e){\n   e.printStackTrace();\n  }\n</code></pre>\n<pre><code>avax.mail.FolderNotFoundException: Sent Items not found\n    at com.sun.mail.imap.IMAPFolder.checkExists(IMAPFolder.java:455)\n    at com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1068)\n    at com.sun.mail.imap.IMAPFolder.open(IMAPFolder.java:1001)\n    at com.jsf.com.SendEmail.read2(SendEmail.java:61)\n    at com.jsf.com.SendEmail.main(SendEmail.java:11)\n</code></pre>\n"},{"tags":["java","jpackage"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700607845,"post_id":77518378,"comment_id":136675076,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700636619,"creation_date":1700636619,"answer_id":77527909,"question_id":77518378,"body_markdown":"JPackage is an easy to use wrapper for native install systems. It allows a &#39;consistent&#39; installation approach across platforms, yet the genrated installer is as native to the platform as possible. With that it implies some standards such as all application&#39;s resources to go into a lib folder.\r\n\r\nIt seems you want to deviate from that, which likely means jpackage is no longer the installer of choice.\r\n\r\nJPackage is wrapping [wix][1] on the Windows platform so you could try to control this directly. Or make use of [NSIS][2].\r\n\r\n\r\n  [1]: https://wixtoolset.org/\r\n  [2]: https://nsis.sourceforge.io/Main_Page","title":"Could you help me to put files in the root folder in which there is launcher exe by using Jpackage?","body":"<p>JPackage is an easy to use wrapper for native install systems. It allows a 'consistent' installation approach across platforms, yet the genrated installer is as native to the platform as possible. With that it implies some standards such as all application's resources to go into a lib folder.</p>\n<p>It seems you want to deviate from that, which likely means jpackage is no longer the installer of choice.</p>\n<p>JPackage is wrapping <a href=\"https://wixtoolset.org/\" rel=\"nofollow noreferrer\">wix</a> on the Windows platform so you could try to control this directly. Or make use of <a href=\"https://nsis.sourceforge.io/Main_Page\" rel=\"nofollow noreferrer\">NSIS</a>.</p>\n"}],"owner":{"account_id":29951391,"reputation":1,"user_id":22953378,"display_name":"Albert Einstein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700636619,"creation_date":1700507985,"question_id":77518378,"body_markdown":"I want to generate the installer with jpackage but I&#39;m not able to put the file in the same folder with launcher in exe type.\r\n\r\nAdd files in the same folder with launcher.\r\n\r\nThis is the structure that I want to do.\r\n\r\n```none\r\nName-Root-folder\r\n   .\\app\r\n   .\\Runtime\r\n   .\\launcher-name.exe\r\n   .\\icon-file.ico\r\n   **.\\others files //this what I want to put here in the root folder of the installed program.**\r\n```","title":"Could you help me to put files in the root folder in which there is launcher exe by using Jpackage?","body":"<p>I want to generate the installer with jpackage but I'm not able to put the file in the same folder with launcher in exe type.</p>\n<p>Add files in the same folder with launcher.</p>\n<p>This is the structure that I want to do.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Name-Root-folder\n   .\\app\n   .\\Runtime\n   .\\launcher-name.exe\n   .\\icon-file.ico\n   **.\\others files //this what I want to put here in the root folder of the installed program.**\n</code></pre>\n"},{"tags":["java","mysql","sql-server","jpa"],"comments":[{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1433855865,"post_id":30733032,"comment_id":49522544,"body_markdown":"What is `&#39;-2&#39;`? Are you trying to subtract 2 days? months? or ????","body":"What is <code>&#39;-2&#39;</code>? Are you trying to subtract 2 days? months? or ????"},{"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"score":0,"creation_date":1433856480,"post_id":30733032,"comment_id":49523046,"body_markdown":"@RavinderReddy Days, in this way I obtained the correct traslate (I have verified this)","body":"@RavinderReddy Days, in this way I obtained the correct traslate (I have verified this)"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1433947494,"post_id":30733032,"comment_id":49572326,"body_markdown":"CAST is not valid JPQL. You could use the SQL function &quot;CAST&quot; using JPQL standard &quot;FUNCTION&quot; (in JPA 2.1)","body":"CAST is not valid JPQL. You could use the SQL function &quot;CAST&quot; using JPQL standard &quot;FUNCTION&quot; (in JPA 2.1)"},{"owner":{"account_id":1119402,"reputation":3163,"user_id":1108064,"accept_rate":82,"display_name":"Teo"},"score":1,"creation_date":1434009902,"post_id":30733032,"comment_id":49600618,"body_markdown":"Try to read this: http://stackoverflow.com/questions/12160303/convert-float-int-to-calendar-in-jpa-hibernate-sql-server","body":"Try to read this: <a href=\"http://stackoverflow.com/questions/12160303/convert-float-int-to-calendar-in-jpa-hibernate-sql-server\" title=\"convert float int to calendar in jpa hibernate sql server\">stackoverflow.com/questions/12160303/&hellip;</a>"},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1434117332,"post_id":30733032,"comment_id":49658061,"body_markdown":"There is NO SUCH THING AS JPA 2.5. If you mean ECLIPSELINK v2.5 then that is a VENDOR EXTENSION","body":"There is NO SUCH THING AS JPA 2.5. If you mean ECLIPSELINK v2.5 then that is a VENDOR EXTENSION"},{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1434357467,"post_id":30733032,"comment_id":49725278,"body_markdown":"In the native Query we do like this : \n\n\n`SELECT CAST(COLUMN_NAME AS varchar) COLUMN_NAME FROM TABLENAME`\n\nIf you test the cast like that it gives you what?\n\nSo in my case i casted all my fields as varchar and in my java code i cast them to the right format whitch i want , because it gives me an exception like that , i don&#39;t remember of the right erros message exactly but some think like that","body":"In the native Query we do like this :    <code>SELECT CAST(COLUMN_NAME AS varchar) COLUMN_NAME FROM TABLENAME</code>  If you test the cast like that it gives you what?  So in my case i casted all my fields as varchar and in my java code i cast them to the right format whitch i want , because it gives me an exception like that , i don&#39;t remember of the right erros message exactly but some think like that"},{"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"score":0,"creation_date":1434452719,"post_id":30733032,"comment_id":49773106,"body_markdown":"@TinyOS I try to do it but I obtained an error of IllegalStateException.","body":"@TinyOS I try to do it but I obtained an error of IllegalStateException."},{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1434454200,"post_id":30733032,"comment_id":49774066,"body_markdown":"Can you debug and te me when it gives you this exactly ? and during the debug you can inspect and get the right query whitch writen","body":"Can you debug and te me when it gives you this exactly ? and during the debug you can inspect and get the right query whitch writen"},{"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"score":0,"creation_date":1434454317,"post_id":30733032,"comment_id":49774134,"body_markdown":"@TinyOS Is Syntattically incorrect.`TypedQuery&lt;String&gt; convFattura = emI24.createQuery(&quot; SELECT  CAST (dataFattura as VARCHAR) FROM FatturaI24 f where f.id = :idFattura&quot;, String.class);`","body":"@TinyOS Is Syntattically incorrect.<code>TypedQuery&lt;String&gt; convFattura = emI24.createQuery(&quot; SELECT  CAST (dataFattura as VARCHAR) FROM FatturaI24 f where f.id = :idFattura&quot;, String.class);</code>"},{"owner":{"account_id":143496,"reputation":1912,"user_id":351861,"display_name":"specializt"},"score":0,"creation_date":1466755628,"post_id":30733032,"comment_id":63460279,"body_markdown":"using JPA and native SQL queries at the same time is ... really pointless - doesnt make any sense. JPA only makes sense if you want to make your database algorithms **database-vendor independent** *(also : less error-prone, much more portable and stable)* ... which you&#39;re pretty much negating with non-JPQL queries. Oh and : you&#39;re not actually using JPA ... you&#39;re passing queries through your EntityManager. JPA = database entity objects and criteria","body":"using JPA and native SQL queries at the same time is ... really pointless - doesnt make any sense. JPA only makes sense if you want to make your database algorithms <b>database-vendor independent</b> <i>(also : less error-prone, much more portable and stable)</i> ... which you&#39;re pretty much negating with non-JPQL queries. Oh and : you&#39;re not actually using JPA ... you&#39;re passing queries through your EntityManager. JPA = database entity objects and criteria"}],"answers":[{"comments":[{"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"score":0,"creation_date":1434456684,"post_id":30867110,"comment_id":49775744,"body_markdown":"Excuse me, but my problem isn&#39;t this. I want to convert a float value in DATETIME. The query to extract all value run, but the dataFattura value is (p.e: 42155) and this value is inusable for me.","body":"Excuse me, but my problem isn&#39;t this. I want to convert a float value in DATETIME. The query to extract all value run, but the dataFattura value is (p.e: 42155) and this value is inusable for me."},{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1434458449,"post_id":30867110,"comment_id":49777040,"body_markdown":"I modified my answer can you check it and tel me if that resolves you issue","body":"I modified my answer can you check it and tel me if that resolves you issue"},{"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"score":0,"creation_date":1434462272,"post_id":30867110,"comment_id":49780109,"body_markdown":"I had used this way but don&#39;t run. The result is incorrect (es:dataFloat = 42171, DateFormat =  07/04/20 5.00 ) In my first query the resultSet start to year 2012. It&#39;s a mistery :)","body":"I had used this way but don&#39;t run. The result is incorrect (es:dataFloat = 42171, DateFormat =  07/04/20 5.00 ) In my first query the resultSet start to year 2012. It&#39;s a mistery :)"},{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1434464418,"post_id":30867110,"comment_id":49782045,"body_markdown":"can you use this structure in your query : `convert(datetime,convert(varchar(20),convert(int,convert(float,&lt;feild name)))) `\n\nthis is an example:\n\n`SELECT CAST(CONVERT(VARCHAR,Col1) AS DATETIME) AS NewValue FROM TABLE1`","body":"can you use this structure in your query : <code>convert(datetime,convert(varchar(20),convert(int,convert(flo&zwnj;&#8203;at,&lt;feild name)))) </code>  this is an example:  <code>SELECT CAST(CONVERT(VARCHAR,Col1) AS DATETIME) AS NewValue FROM TABLE1</code>"}],"tags":[],"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434458403,"creation_date":1434456400,"answer_id":30867110,"question_id":30733032,"body_markdown":"As you said in the comment , the return value is a float type so what we will do is not doing a cast in sql but convert the float with java code and you have bellow the right code :\r\n\r\n    Query convFattura = emI24.createQuery(&quot; SELECT f.dataFattura FROM FatturaI24 f where f.id = :idFattura&quot;);\r\n\t\t\t\tconvFattura = convFattura.setParameter(&quot;idFattura&quot;, idFatturaValue);  \r\n\t\t\tfloat dataFattura = convFattura.getSingleResult(); \r\n\r\n\r\n--------------------------------\r\n\r\njava code to convert float to date :\r\n\r\n\tCalendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\tcalendar.set(Calendar.HOUR_OF_DAY, 0);\r\n\tcalendar.add(Calendar.HOUR_OF_DAY, (int) dataFattura);\r\n\tcalendar.set(Calendar.MINUTE, (int) ((dataFattura * 60) % 60));\r\n\tcalendar.set(Calendar.SECOND, (int) ((dataFattura * 3600) % 3600));\r\n\r\n\tDateFormat fmt = new SimpleDateFormat();\r\n\tfmt.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Paris&quot;)); \r\n\tSystem.out.println(fmt.format(calendar.getTime()));\r\n\r\nHope that is useful for you !","title":"Cast field in JPA Query","body":"<p>As you said in the comment , the return value is a float type so what we will do is not doing a cast in sql but convert the float with java code and you have bellow the right code :</p>\n\n<pre><code>Query convFattura = emI24.createQuery(\" SELECT f.dataFattura FROM FatturaI24 f where f.id = :idFattura\");\n            convFattura = convFattura.setParameter(\"idFattura\", idFatturaValue);  \n        float dataFattura = convFattura.getSingleResult(); \n</code></pre>\n\n<hr>\n\n<p>java code to convert float to date :</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\ncalendar.set(Calendar.HOUR_OF_DAY, 0);\ncalendar.add(Calendar.HOUR_OF_DAY, (int) dataFattura);\ncalendar.set(Calendar.MINUTE, (int) ((dataFattura * 60) % 60));\ncalendar.set(Calendar.SECOND, (int) ((dataFattura * 3600) % 3600));\n\nDateFormat fmt = new SimpleDateFormat();\nfmt.setTimeZone(TimeZone.getTimeZone(\"Europe/Paris\")); \nSystem.out.println(fmt.format(calendar.getTime()));\n</code></pre>\n\n<p>Hope that is useful for you !</p>\n"},{"comments":[{"owner":{"account_id":3267943,"reputation":6745,"user_id":2752041,"accept_rate":62,"display_name":"mathielo"},"score":3,"creation_date":1466756513,"post_id":38008507,"comment_id":63460712,"body_markdown":"You could improve your answer adding references and explaining the differences between the two methods and why would one work and not the other.","body":"You could improve your answer adding references and explaining the differences between the two methods and why would one work and not the other."}],"tags":[],"owner":{"account_id":8696745,"reputation":9,"user_id":6507871,"display_name":"Mohand BDF"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1466755331,"creation_date":1466755331,"answer_id":38008507,"question_id":30733032,"body_markdown":"try to use Convert function instead of Cast function.\r\nit works for me ...!","title":"Cast field in JPA Query","body":"<p>try to use Convert function instead of Cast function.\nit works for me ...!</p>\n"}],"owner":{"account_id":3718925,"reputation":814,"user_id":3094398,"accept_rate":67,"display_name":"PaolaG"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9160,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1700636475,"creation_date":1433855552,"question_id":30733032,"body_markdown":"In my sql-server, the field DATE are saved in float format (es: `DATADOC = 42155`)\r\n\r\nI want to import the field in mysql DB as DATETIME.\r\nI try on sql-server to cast the field with this query:\r\n\r\n    SELECT CAST(DATDOC as DATETIME) -2 FROM FATTURE where id=25460;\r\n\r\n \r\nAnd the result is correct.\r\n\r\nNow, I want to translate it in JPA Query:\r\n\r\n    TypedQuery&lt;DateTime&gt; convFattura = emI24.createQuery(&quot; SELECT CAST(dataFattura as DATETIME) -2 FROM FatturaI24 f where f.id = :idFattura&quot;, DateTime.class);\r\n\r\nBut I obtained this error:\r\n\r\n        09-06-2015 14:32:00 ERROR: org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task.\r\n    java.lang.NullPointerException\r\n    \tat org.hibernate.dialect.function.CastFunction.render(CastFunction.java:55)\r\n    \tat org.hibernate.hql.internal.ast.SqlGenerator.endFunctionTemplate(SqlGenerator.java:220)\r\n    \tat org.hibernate.hql.internal.antlr.SqlGeneratorBase.methodCall(SqlGeneratorBase.java:2326)\r\n    \tat org.hibernate.hql.internal.antlr.SqlGeneratorBase.simpleExpr(SqlGeneratorBase.java:2681)\r\n    \tat org.hibernate.hql.internal.antlr.SqlGeneratorBase.expr(SqlGeneratorBase.java:1476)\r\n\r\n\r\nWhat is the correct syntax of the CAST in DATETIME?\r\n\r\nAny ideas?\r\n","title":"Cast field in JPA Query","body":"<p>In my sql-server, the field DATE are saved in float format (es: <code>DATADOC = 42155</code>)</p>\n\n<p>I want to import the field in mysql DB as DATETIME.\nI try on sql-server to cast the field with this query:</p>\n\n<pre><code>SELECT CAST(DATDOC as DATETIME) -2 FROM FATTURE where id=25460;\n</code></pre>\n\n<p>And the result is correct.</p>\n\n<p>Now, I want to translate it in JPA Query:</p>\n\n<pre><code>TypedQuery&lt;DateTime&gt; convFattura = emI24.createQuery(\" SELECT CAST(dataFattura as DATETIME) -2 FROM FatturaI24 f where f.id = :idFattura\", DateTime.class);\n</code></pre>\n\n<p>But I obtained this error:</p>\n\n<pre><code>    09-06-2015 14:32:00 ERROR: org.springframework.scheduling.support.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task.\njava.lang.NullPointerException\n    at org.hibernate.dialect.function.CastFunction.render(CastFunction.java:55)\n    at org.hibernate.hql.internal.ast.SqlGenerator.endFunctionTemplate(SqlGenerator.java:220)\n    at org.hibernate.hql.internal.antlr.SqlGeneratorBase.methodCall(SqlGeneratorBase.java:2326)\n    at org.hibernate.hql.internal.antlr.SqlGeneratorBase.simpleExpr(SqlGeneratorBase.java:2681)\n    at org.hibernate.hql.internal.antlr.SqlGeneratorBase.expr(SqlGeneratorBase.java:1476)\n</code></pre>\n\n<p>What is the correct syntax of the CAST in DATETIME?</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","windows-10","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697162638,"creation_date":1697162638,"answer_id":77284681,"question_id":77280959,"body_markdown":"I saw similar errors reported by users of Chinese locale. So maybe your cl.exe reports some localized version string which `native-image` fails to parse. So one idea is to try using en_US locale.\r\n\r\nAnother thing to try is to skip VS detection, while making sure `native-image` can access the compiler:\r\n- Start Command Prompt\r\n- Run vsvars64.bat inside it to set up compiler paths and environment\r\n- Run `native-image` with the `-H:-CheckToolchain` option","title":"GraalVM Native Image Error: Visual Studio 2022 Requirement Not Met","body":"<p>I saw similar errors reported by users of Chinese locale. So maybe your cl.exe reports some localized version string which <code>native-image</code> fails to parse. So one idea is to try using en_US locale.</p>\n<p>Another thing to try is to skip VS detection, while making sure <code>native-image</code> can access the compiler:</p>\n<ul>\n<li>Start Command Prompt</li>\n<li>Run vsvars64.bat inside it to set up compiler paths and environment</li>\n<li>Run <code>native-image</code> with the <code>-H:-CheckToolchain</code> option</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":338172,"reputation":634,"user_id":666886,"display_name":"philwalk"},"score":0,"creation_date":1700935816,"post_id":77527818,"comment_id":136713993,"body_markdown":"I like the idea, but for some reason when I try to implement this, I get lots of `Access is denied.` complaints (specifically on the added `call`).  Hopefully this works for others.","body":"I like the idea, but for some reason when I try to implement this, I get lots of <code>Access is denied.</code> complaints (specifically on the added <code>call</code>).  Hopefully this works for others."},{"owner":{"account_id":19058441,"reputation":586,"user_id":13915049,"display_name":"Thinker-101"},"score":0,"creation_date":1701347055,"post_id":77527818,"comment_id":136765730,"body_markdown":"Nice. This works","body":"Nice. This works"}],"tags":[],"owner":{"account_id":1148822,"reputation":41,"user_id":1130979,"display_name":"LiquidProQuo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700635577,"creation_date":1700635577,"answer_id":77527818,"question_id":77280959,"body_markdown":"I was just in a similar boat of attempting to run a simple &quot;Hello World&quot; app with GraalVM(graalvm-jdk-21.0.1+12.1) and even though I already had the latest `Visual Studio 2022` installed, I was still running into the exact error you posted above.\r\n\r\nI was eventually able to resolve the issue using this same solution in [this older answer here][1].\r\n\r\n**TL;DR:**\r\nA workaround to ensure the build toolchain is always added is to modify the beginning of your `native-image.cmd` file (found in in `%JAVA_HOME%\\bin`) with a call to to VS 2022&#39;s vcvars64.bat, e.g.: `call &quot;C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot; &gt; nul`\r\n\r\nSo the final version of my `native-image.cmd` file looked like this:\r\n\r\n    @echo off\r\n    \r\n    call &quot;C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot; &gt; nul\r\n    call :getScriptLocation location\r\n    set &quot;GRAALVM_ARGUMENT_VECTOR_PROGRAM_NAME=%~0&quot;\r\n    &quot;%location%..\\lib\\svm\\bin\\native-image.exe&quot; %*\r\n    exit /b %errorlevel%\r\n    \r\n    :: If this script is in `%PATH%` and called quoted without a full path (e.g., `&quot;js&quot;`), `%~dp0` is expanded to `cwd`\r\n    :: rather than the path to the script.\r\n    :: This does not happen if `%~dp0` is accessed in a subroutine.\r\n    :getScriptLocation variableName\r\n        set &quot;%~1=%~dp0&quot;\r\n        exit /b 0\r\n\r\n  [1]: https://stackoverflow.com/a/75348946/1130979","title":"GraalVM Native Image Error: Visual Studio 2022 Requirement Not Met","body":"<p>I was just in a similar boat of attempting to run a simple &quot;Hello World&quot; app with GraalVM(graalvm-jdk-21.0.1+12.1) and even though I already had the latest <code>Visual Studio 2022</code> installed, I was still running into the exact error you posted above.</p>\n<p>I was eventually able to resolve the issue using this same solution in <a href=\"https://stackoverflow.com/a/75348946/1130979\">this older answer here</a>.</p>\n<p><strong>TL;DR:</strong>\nA workaround to ensure the build toolchain is always added is to modify the beginning of your <code>native-image.cmd</code> file (found in in <code>%JAVA_HOME%\\bin</code>) with a call to to VS 2022's vcvars64.bat, e.g.: <code>call &quot;C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot; &gt; nul</code></p>\n<p>So the final version of my <code>native-image.cmd</code> file looked like this:</p>\n<pre><code>@echo off\n\ncall &quot;C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\VC\\Auxiliary\\Build\\vcvars64.bat&quot; &gt; nul\ncall :getScriptLocation location\nset &quot;GRAALVM_ARGUMENT_VECTOR_PROGRAM_NAME=%~0&quot;\n&quot;%location%..\\lib\\svm\\bin\\native-image.exe&quot; %*\nexit /b %errorlevel%\n\n:: If this script is in `%PATH%` and called quoted without a full path (e.g., `&quot;js&quot;`), `%~dp0` is expanded to `cwd`\n:: rather than the path to the script.\n:: This does not happen if `%~dp0` is accessed in a subroutine.\n:getScriptLocation variableName\n    set &quot;%~1=%~dp0&quot;\n    exit /b 0\n</code></pre>\n"}],"owner":{"account_id":19564503,"reputation":41,"user_id":14317040,"display_name":"Alien6306"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1700635577,"creation_date":1697116674,"question_id":77280959,"body_markdown":"I&#39;m trying to create a native image from a simple Java program using GraalVM on my Windows 10 machine. The Java program, Hello.java, is a basic &quot;Hello World&quot; print statement. \r\n\r\nI followed these steps:\r\n\r\n1. Created Hello.java with a &quot;Hello World&quot; print statement.\r\n2. Compiled it using javac Hello.java, which resulted in a Hello.class file.\r\n3. Attempted to create a native image with the command:\r\n\r\n`native-image Hello`\r\n\r\nHowever, I encountered the following error:\r\n\r\n```\r\nError: On Windows, GraalVM Native Image for JDK 21 requires Visual Studio 2022 version 17.1.0 or later (C/C++ Optimizing Compiler Version 19.31 or later).\r\nCompiler info detected: cl.exe (microsoft, x64, 19.29.30152)\r\nError: To prevent native-toolchain checking provide command-line option -H:-CheckToolchain\r\n```\r\n\r\n[![error](https://i.stack.imgur.com/ibNi7.png)](https://i.stack.imgur.com/ibNi7.png)\r\n\r\nI already have Visual Studio Community 2022 installed. What could be causing this error, and how can I resolve it? Are there any specific configurations or additional steps needed to make GraalVM recognize Visual Studio 2022 correctly?\r\n\r\nAdditional information:\r\n- System variebles/Path/ C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\Common7\\IDE\\\r\n- openjdk version &quot;21&quot; 2023-09-19\r\n- OpenJDK Runtime Environment GraalVM CE 21+35.1 (build 21+35-jvmci-23.1-b15)\r\n\r\n[![visualStudio](https://i.stack.imgur.com/ETBy1.png)](https://i.stack.imgur.com/ETBy1.png)","title":"GraalVM Native Image Error: Visual Studio 2022 Requirement Not Met","body":"<p>I'm trying to create a native image from a simple Java program using GraalVM on my Windows 10 machine. The Java program, Hello.java, is a basic &quot;Hello World&quot; print statement.</p>\n<p>I followed these steps:</p>\n<ol>\n<li>Created Hello.java with a &quot;Hello World&quot; print statement.</li>\n<li>Compiled it using javac Hello.java, which resulted in a Hello.class file.</li>\n<li>Attempted to create a native image with the command:</li>\n</ol>\n<p><code>native-image Hello</code></p>\n<p>However, I encountered the following error:</p>\n<pre><code>Error: On Windows, GraalVM Native Image for JDK 21 requires Visual Studio 2022 version 17.1.0 or later (C/C++ Optimizing Compiler Version 19.31 or later).\nCompiler info detected: cl.exe (microsoft, x64, 19.29.30152)\nError: To prevent native-toolchain checking provide command-line option -H:-CheckToolchain\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ibNi7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ibNi7.png\" alt=\"error\" /></a></p>\n<p>I already have Visual Studio Community 2022 installed. What could be causing this error, and how can I resolve it? Are there any specific configurations or additional steps needed to make GraalVM recognize Visual Studio 2022 correctly?</p>\n<p>Additional information:</p>\n<ul>\n<li>System variebles/Path/ C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\Common7\\IDE\\</li>\n<li>openjdk version &quot;21&quot; 2023-09-19</li>\n<li>OpenJDK Runtime Environment GraalVM CE 21+35.1 (build 21+35-jvmci-23.1-b15)</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ETBy1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETBy1.png\" alt=\"visualStudio\" /></a></p>\n"},{"tags":["java","jsessionid"],"answers":[{"comments":[{"owner":{"account_id":3757710,"reputation":1103,"user_id":3123690,"accept_rate":59,"display_name":"user3123690"},"score":1,"creation_date":1412263440,"post_id":598914,"comment_id":41018382,"body_markdown":"Clear explanation of session scope.","body":"Clear explanation of session scope."},{"owner":{"account_id":146837,"reputation":2478,"user_id":357555,"accept_rate":90,"display_name":"Timofey"},"score":0,"creation_date":1428303132,"post_id":598914,"comment_id":47095869,"body_markdown":"@Mo the link is broken","body":"@Mo the link is broken"}],"tags":[],"owner":{"account_id":1399,"reputation":15113,"user_id":1870,"accept_rate":95,"display_name":"Mo."},"comment_count":2,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1556021123,"creation_date":1235864860,"answer_id":598914,"question_id":595872,"body_markdown":"CORRECTION: Please vote for Peter tibran&#253;&#39;s answer - it is more correct and complete!\r\n\r\nA &quot;JSESSIONID&quot; is the unique id of the http session - [see the javadoc here][1]. There, you&#39;ll find the following sentence\r\n\r\n&gt; Session information is scoped only to the current web application (ServletContext), so information stored in one context will not be directly visible in another.\r\n\r\nSo when you first hit a site, a new session is created and bound to the SevletContext. If you deploy multiple applications, the session is not shared.\r\n\r\nYou can also invalidate the current session and therefore create a new one. e.g. when switching from http to https (after login), it is a very good idea, to create a new session.\r\n\r\nHope, this answers your question.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E17802_01/products/products/servlet/2.5/docs/servlet-2_5-mr2/javax/servlet/http/HttpSession.html","title":"Under what conditions is a JSESSIONID created?","body":"<p>CORRECTION: Please vote for Peter tibran's answer - it is more correct and complete!</p>\n\n<p>A \"JSESSIONID\" is the unique id of the http session - <a href=\"https://docs.oracle.com/cd/E17802_01/products/products/servlet/2.5/docs/servlet-2_5-mr2/javax/servlet/http/HttpSession.html\" rel=\"noreferrer\">see the javadoc here</a>. There, you'll find the following sentence</p>\n\n<blockquote>\n  <p>Session information is scoped only to the current web application (ServletContext), so information stored in one context will not be directly visible in another.</p>\n</blockquote>\n\n<p>So when you first hit a site, a new session is created and bound to the SevletContext. If you deploy multiple applications, the session is not shared.</p>\n\n<p>You can also invalidate the current session and therefore create a new one. e.g. when switching from http to https (after login), it is a very good idea, to create a new session.</p>\n\n<p>Hope, this answers your question.</p>\n"},{"comments":[{"owner":{"account_id":10831,"reputation":7092,"user_id":20641,"accept_rate":49,"display_name":"joshjdevl"},"score":2,"creation_date":1236044995,"post_id":598923,"comment_id":417046,"body_markdown":"cant a session be created w/o an explicit call to getSession?\n\nin regards to &quot;must never be shared between contexts by the container&quot;, websphere has an option to share sessions, which is the motivation for the question :)","body":"cant a session be created w/o an explicit call to getSession?  in regards to &quot;must never be shared between contexts by the container&quot;, websphere has an option to share sessions, which is the motivation for the question :)"},{"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter tibran&#253;"},"score":0,"creation_date":1236094747,"post_id":598923,"comment_id":419098,"body_markdown":"Not if you use just Servlet API. There may be server-specific extensions (like Websphere&#39;s session sharing as you point out) though.","body":"Not if you use just Servlet API. There may be server-specific extensions (like Websphere&#39;s session sharing as you point out) though."},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":0,"creation_date":1326925508,"post_id":598923,"comment_id":11157558,"body_markdown":"I believe your context.xml file can control the automatic session creation if your &lt;Context&gt; tag contains a cookies attribute, e.g.\n\n&lt;Context cookies=&quot;false&quot;&gt;","body":"I believe your context.xml file can control the automatic session creation if your &lt;Context&gt; tag contains a cookies attribute, e.g.  &lt;Context cookies=&quot;false&quot;&gt;"},{"owner":{"account_id":1164600,"reputation":5578,"user_id":1143482,"accept_rate":63,"display_name":"jpganz18"},"score":0,"creation_date":1496089944,"post_id":598923,"comment_id":75508336,"body_markdown":"Right now im getting many hits on my filter to create session and seems like its only after the second hit (not a second page refresh) its being created, this called my attention &quot; session isn&#39;t necessarily created on first request..&quot; is it related? could you give an example why this is not necessarily created at first request? Thanks!","body":"Right now im getting many hits on my filter to create session and seems like its only after the second hit (not a second page refresh) its being created, this called my attention &quot; session isn&#39;t necessarily created on first request..&quot; is it related? could you give an example why this is not necessarily created at first request? Thanks!"},{"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter tibran&#253;"},"score":0,"creation_date":1497093418,"post_id":598923,"comment_id":75940866,"body_markdown":"@jpganz18: If you simply call `request.getSession()` or `request.getSession(true)`, then you get either existing or new session. However if your code calls `request.getSession(false)`, then you get either existing session or null, if no session exists.","body":"@jpganz18: If you simply call <code>request.getSession()</code> or <code>request.getSession(true)</code>, then you get either existing or new session. However if your code calls <code>request.getSession(false)</code>, then you get either existing session or null, if no session exists."},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1514265354,"post_id":598923,"comment_id":82917678,"body_markdown":"1)  `HttpSession` objects must be scoped at the application level. 2) session object is created for every browser connection to tomcat. Am unable to relate these two points.","body":"1)  <code>HttpSession</code> objects must be scoped at the application level. 2) session object is created for every browser connection to tomcat. Am unable to relate these two points."}],"tags":[],"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter tibran&#253;"},"comment_count":6,"down_vote_count":0,"up_vote_count":374,"is_accepted":true,"score":374,"last_activity_date":1474912687,"creation_date":1235865367,"answer_id":598923,"question_id":595872,"body_markdown":"JSESSIONID cookie is created/sent when session is created. Session is created when your code calls `request.getSession()` or `request.getSession(true)` for the first time. If you just want to get the session, but not create it if it doesn&#39;t exist, use `request.getSession(false)` -- this will return you a session or `null`. In this case, new session is not created, and JSESSIONID cookie is not sent. (This also means that **session isn&#39;t necessarily created on first request**... you and your code are in control *when* the session is created)\r\n\r\nSessions are per-context:\r\n\r\n&gt; SRV.7.3 Session Scope\r\n&gt; \r\n&gt; HttpSession objects must be scoped at\r\n&gt; the application (or servlet context)\r\n&gt; level. The underlying mechanism, such\r\n&gt; as the cookie used to establish the\r\n&gt; session, can be the same for different\r\n&gt; contexts, but the object referenced,\r\n&gt; including the attributes in that\r\n&gt; object, must never be shared between\r\n&gt; contexts by the container.\r\n\r\n([Servlet 2.4 specification](http://jcp.org/aboutJava/communityprocess/final/jsr154/index.html))\r\n\r\nUpdate: Every call to JSP page implicitly creates a new session if there is no session yet. This can be turned off with the `session=&#39;false&#39;` page directive, in which case session variable is not available on JSP page at all.","title":"Under what conditions is a JSESSIONID created?","body":"<p>JSESSIONID cookie is created/sent when session is created. Session is created when your code calls <code>request.getSession()</code> or <code>request.getSession(true)</code> for the first time. If you just want to get the session, but not create it if it doesn't exist, use <code>request.getSession(false)</code> -- this will return you a session or <code>null</code>. In this case, new session is not created, and JSESSIONID cookie is not sent. (This also means that <strong>session isn't necessarily created on first request</strong>... you and your code are in control <em>when</em> the session is created)</p>\n\n<p>Sessions are per-context:</p>\n\n<blockquote>\n  <p>SRV.7.3 Session Scope</p>\n  \n  <p>HttpSession objects must be scoped at\n  the application (or servlet context)\n  level. The underlying mechanism, such\n  as the cookie used to establish the\n  session, can be the same for different\n  contexts, but the object referenced,\n  including the attributes in that\n  object, must never be shared between\n  contexts by the container.</p>\n</blockquote>\n\n<p>(<a href=\"http://jcp.org/aboutJava/communityprocess/final/jsr154/index.html\" rel=\"noreferrer\">Servlet 2.4 specification</a>)</p>\n\n<p>Update: Every call to JSP page implicitly creates a new session if there is no session yet. This can be turned off with the <code>session='false'</code> page directive, in which case session variable is not available on JSP page at all.</p>\n"},{"comments":[{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balaic"},"score":3,"creation_date":1441917195,"post_id":1493954,"comment_id":52881298,"body_markdown":"In other words: the default value for the page session attribute is &quot;true&quot;. Which might be unexpected in some (many?) cases.","body":"In other words: the default value for the page session attribute is &quot;true&quot;. Which might be unexpected in some (many?) cases."},{"owner":{"account_id":5454150,"reputation":715,"user_id":4338130,"accept_rate":73,"display_name":"ClassyPimp"},"score":0,"creation_date":1511075128,"post_id":1493954,"comment_id":81701503,"body_markdown":"I&#39;m also on tomcat, and I do not use jsp at all, but the session cookie is created anyway. Any idea how to prevent it in this situation?","body":"I&#39;m also on tomcat, and I do not use jsp at all, but the session cookie is created anyway. Any idea how to prevent it in this situation?"}],"tags":[],"owner":{"account_id":4713,"reputation":972,"user_id":7222,"display_name":"Rangachari Anand"},"comment_count":2,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1484833161,"creation_date":1254245594,"answer_id":1493954,"question_id":595872,"body_markdown":"Here is some information about one more source of the `JSESSIONID` cookie:\r\n\r\nI was just debugging some Java code that runs on a tomcat server. I was not calling `request.getSession()` explicitly anywhere in my code but I noticed that a `JSESSIONID` cookie was still being set. \r\n\r\nI finally took a look at the generated Java code corresponding to a JSP in the work directory under Tomcat.\r\n\r\nIt appears that, whether you like it or not, if you invoke a JSP from a servlet, `JSESSIONID` will get created!\r\n\r\nAdded: I just found that by adding the following JSP directive:\r\n\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n\r\nyou can disable the setting of `JSESSIONID` by a JSP.\r\n","title":"Under what conditions is a JSESSIONID created?","body":"<p>Here is some information about one more source of the <code>JSESSIONID</code> cookie:</p>\n\n<p>I was just debugging some Java code that runs on a tomcat server. I was not calling <code>request.getSession()</code> explicitly anywhere in my code but I noticed that a <code>JSESSIONID</code> cookie was still being set. </p>\n\n<p>I finally took a look at the generated Java code corresponding to a JSP in the work directory under Tomcat.</p>\n\n<p>It appears that, whether you like it or not, if you invoke a JSP from a servlet, <code>JSESSIONID</code> will get created!</p>\n\n<p>Added: I just found that by adding the following JSP directive:</p>\n\n<pre><code>&lt;%@ page session=\"false\" %&gt;\n</code></pre>\n\n<p>you can disable the setting of <code>JSESSIONID</code> by a JSP.</p>\n"},{"tags":[],"owner":{"account_id":32780,"reputation":1863,"user_id":91225,"display_name":"Jerome Jaglale"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1255122484,"creation_date":1255122484,"answer_id":1546051,"question_id":595872,"body_markdown":"For links generated in a JSP with custom tags, I had to use \r\n\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n\r\nin the JSP \r\n\r\nAND\r\n\r\n    request.getSession().invalidate();\r\n\r\nin the Struts action","title":"Under what conditions is a JSESSIONID created?","body":"<p>For links generated in a JSP with custom tags, I had to use </p>\n\n<pre><code>&lt;%@ page session=\"false\" %&gt;\n</code></pre>\n\n<p>in the JSP </p>\n\n<p>AND</p>\n\n<pre><code>request.getSession().invalidate();\n</code></pre>\n\n<p>in the Struts action</p>\n"},{"comments":[{"owner":{"account_id":8604130,"reputation":2552,"user_id":6444776,"accept_rate":84,"display_name":"Ommadawn"},"score":0,"creation_date":1576368868,"post_id":17196872,"comment_id":104878089,"body_markdown":"Do you mean set page session=false in all the fragments included (.jsp and .jspf) and not include it in the main jsp that include the rest of snippets?","body":"Do you mean set page session=false in all the fragments included (.jsp and .jspf) and not include it in the main jsp that include the rest of snippets?"}],"tags":[],"owner":{"account_id":93570,"reputation":791,"user_id":255931,"display_name":"polaretto"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1371660435,"creation_date":1371660435,"answer_id":17196872,"question_id":595872,"body_markdown":"Beware if your page is including other .jsp or .jspf (fragment)! If you don&#39;t set \r\n\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\non them as well, the parent page will end up starting a new session and setting the JSESSIONID cookie.\r\n\r\nFor .jspf pages in particular, this happens if you configured your web.xml with such a snippet:\r\n\r\n    &lt;jsp-config&gt;\r\n    \t&lt;jsp-property-group&gt;\r\n    \t\t&lt;url-pattern&gt;*.jspf&lt;/url-pattern&gt;\r\n    \t&lt;/jsp-property-group&gt;\r\n    &lt;/jsp-config&gt;\r\nin order to enable scriptlets inside them.","title":"Under what conditions is a JSESSIONID created?","body":"<p>Beware if your page is including other .jsp or .jspf (fragment)! If you don't set </p>\n\n<pre><code>&lt;%@ page session=\"false\" %&gt;\n</code></pre>\n\n<p>on them as well, the parent page will end up starting a new session and setting the JSESSIONID cookie.</p>\n\n<p>For .jspf pages in particular, this happens if you configured your web.xml with such a snippet:</p>\n\n<pre><code>&lt;jsp-config&gt;\n    &lt;jsp-property-group&gt;\n        &lt;url-pattern&gt;*.jspf&lt;/url-pattern&gt;\n    &lt;/jsp-property-group&gt;\n&lt;/jsp-config&gt;\n</code></pre>\n\n<p>in order to enable scriptlets inside them.</p>\n"}],"owner":{"account_id":10831,"reputation":7092,"user_id":20641,"accept_rate":49,"display_name":"joshjdevl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477168,"favorite_count":0,"down_vote_count":0,"up_vote_count":318,"accepted_answer_id":598923,"answer_count":5,"score":318,"last_activity_date":1700635485,"creation_date":1235757612,"question_id":595872,"body_markdown":"When / what are the conditions when a `JSESSIONID` is created?\r\n\r\nIs it per a domain? For instance, if I have a Tomcat app server, and I deploy multiple web applications, will a different `JSESSIONID` be created per context (web application), or is it shared across web applications as long as they are the same domain?","title":"Under what conditions is a JSESSIONID created?","body":"<p>When / what are the conditions when a <code>JSESSIONID</code> is created?</p>\n\n<p>Is it per a domain? For instance, if I have a Tomcat app server, and I deploy multiple web applications, will a different <code>JSESSIONID</code> be created per context (web application), or is it shared across web applications as long as they are the same domain?</p>\n"},{"tags":["java","oop","inheritance","composition"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":2,"creation_date":1700424130,"post_id":77512096,"comment_id":136649710,"body_markdown":"You&#39;d have to use _Object_.  You shouldn&#39;t expect to store different _data-types_, in the same array. otherwise.","body":"You&#39;d have to use <i>Object</i>.  You shouldn&#39;t expect to store different <i>data-types</i>, in the same array. otherwise."}],"answers":[{"tags":[],"owner":{"account_id":15783689,"reputation":11,"user_id":11389206,"display_name":"Max Aliev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700423392,"creation_date":1700423392,"answer_id":77512249,"question_id":77512096,"body_markdown":"You can only store entities in here. So just add player.entity/monster.entity or whatever.","title":"What type should an array store when using composition over inheritance?","body":"<p>You can only store entities in here. So just add player.entity/monster.entity or whatever.</p>\n"},{"tags":[],"owner":{"account_id":310007,"reputation":2072,"user_id":622752,"display_name":"mcyalcin"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700635352,"creation_date":1700635352,"answer_id":77527799,"question_id":77512096,"body_markdown":"The answer is already given as a comment to the question; you need to use a common superclass, which in this case is Object.","title":"What type should an array store when using composition over inheritance?","body":"<p>The answer is already given as a comment to the question; you need to use a common superclass, which in this case is Object.</p>\n"}],"owner":{"account_id":29865744,"reputation":1,"user_id":22888408,"display_name":"cardiaque66"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700635352,"creation_date":1700420577,"question_id":77512096,"body_markdown":"When using inheritance, you can create two classes `A` and `B` that inherit from class `C`. You can then create an array of `C` to store either of these -- `C[]`.\r\n\r\nHowever, when using composition, what type would an array have to be to store either of these types?\r\n\r\n```\r\nclass Entity {\r\n    public int id;\r\n\r\n    public Entity() {\r\n        this.id = 0;\r\n    }\r\n}\r\n\r\nclass Player extends Entity {\r\n    public Player() {\r\n        this.id = 1;\r\n    }\r\n}\r\n\r\nclass Monster extends Entity {\r\n    public Monster() {\r\n        this.id = 2;\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Entity[] entities = new Entity[2];\r\n \r\n        entities[0] = new Player(); // id == 1\r\n        entities[1] = new Monster(); // id == 2\r\n    }\r\n}\r\n```\r\n\r\nWhen using composition, you&#39;d have to store Entity as a field:\r\n\r\n```\r\nclass Entity {\r\n    public int id;\r\n\r\n    public Entity() {\r\n        this.id = 0;\r\n    }\r\n}\r\n\r\nclass Player {\r\n    Entity entity;\r\n\r\n    public Player() {\r\n        this.entity = new Entity();\r\n        this.entity.id = 1;\r\n    }\r\n}\r\n\r\nclass Monster {\r\n    Entity entity;\r\n\r\n    public Monster() {        \r\n        this.entity = new Entity();\r\n        this.entity.id = 2;\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Player player = new Player();\r\n        Monster monster = new Monster();\r\n        \r\n        Entity[] entities = new Entity[2];\r\n        // TODO: won&#39;t work! what type?\r\n        entities[0] = player;\r\n        entities[1] = monster;\r\n    }\r\n}\r\n```","title":"What type should an array store when using composition over inheritance?","body":"<p>When using inheritance, you can create two classes <code>A</code> and <code>B</code> that inherit from class <code>C</code>. You can then create an array of <code>C</code> to store either of these -- <code>C[]</code>.</p>\n<p>However, when using composition, what type would an array have to be to store either of these types?</p>\n<pre><code>class Entity {\n    public int id;\n\n    public Entity() {\n        this.id = 0;\n    }\n}\n\nclass Player extends Entity {\n    public Player() {\n        this.id = 1;\n    }\n}\n\nclass Monster extends Entity {\n    public Monster() {\n        this.id = 2;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Entity[] entities = new Entity[2];\n \n        entities[0] = new Player(); // id == 1\n        entities[1] = new Monster(); // id == 2\n    }\n}\n</code></pre>\n<p>When using composition, you'd have to store Entity as a field:</p>\n<pre><code>class Entity {\n    public int id;\n\n    public Entity() {\n        this.id = 0;\n    }\n}\n\nclass Player {\n    Entity entity;\n\n    public Player() {\n        this.entity = new Entity();\n        this.entity.id = 1;\n    }\n}\n\nclass Monster {\n    Entity entity;\n\n    public Monster() {        \n        this.entity = new Entity();\n        this.entity.id = 2;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Player player = new Player();\n        Monster monster = new Monster();\n        \n        Entity[] entities = new Entity[2];\n        // TODO: won't work! what type?\n        entities[0] = player;\n        entities[1] = monster;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1700634126,"post_id":77527692,"comment_id":136677216,"body_markdown":"So whats your question?","body":"So whats your question?"},{"owner":{"account_id":29926576,"reputation":1,"user_id":22934480,"display_name":"developer2 khana"},"score":0,"creation_date":1700638069,"post_id":77527692,"comment_id":136677780,"body_markdown":"i have a index xml file  with  table tag and variable column tag  for that i need to  map the values of tables and columns with respect to   the database table columns names  for example in xml i have &lt;table&gt;&lt;name &gt;Tagesabschluss&lt;/name &gt;&lt;/table&gt; this table i need to map with database  salesreport table similar to columns","body":"i have a index xml file  with  table tag and variable column tag  for that i need to  map the values of tables and columns with respect to   the database table columns names  for example in xml i have &lt;table&gt;&lt;name &gt;Tagesabschluss&lt;/name &gt;&lt;/table&gt; this table i need to map with database  salesreport table similar to columns"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1700638253,"post_id":77527692,"comment_id":136677814,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":29926576,"reputation":1,"user_id":22934480,"display_name":"developer2 khana"},"score":0,"creation_date":1700643825,"post_id":77527692,"comment_id":136678684,"body_markdown":"I HAVE index.xml as target and database as Source In need create mapping Document for  target (in xml type should map to database table and Element should map to columns )and Source  file  with the help of this mapping document and  by using  core  java code    need to generate the csv file","body":"I HAVE index.xml as target and database as Source In need create mapping Document for  target (in xml type should map to database table and Element should map to columns )and Source  file  with the help of this mapping document and  by using  core  java code    need to generate the csv file"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1700666222,"post_id":77527692,"comment_id":136682918,"body_markdown":"Sorry, your question is still too vague. It is not clear what you actually want to achieve and, above all, what exactly your concrete problem is. Please look at the [Help Center](https://stackoverflow.com/help). Especially you should read [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask). It would also help if you could create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) and where exactly you got stuck.","body":"Sorry, your question is still too vague. It is not clear what you actually want to achieve and, above all, what exactly your concrete problem is. Please look at the <a href=\"https://stackoverflow.com/help\">Help Center</a>. Especially you should read <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>. It would also help if you could create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and where exactly you got stuck."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1700666398,"post_id":77527692,"comment_id":136682960,"body_markdown":"Don&#39;t despair. The ability to describe your specific problem to a bystander so that they understand it and can help is a skill in itself. You can learn that, but you have to practice a lot. If you have difficulties with this, it can also mean that you yourself have not yet properly understood the problem.","body":"Don&#39;t despair. The ability to describe your specific problem to a bystander so that they understand it and can help is a skill in itself. You can learn that, but you have to practice a lot. If you have difficulties with this, it can also mean that you yourself have not yet properly understood the problem."}],"owner":{"account_id":29926576,"reputation":1,"user_id":22934480,"display_name":"developer2 khana"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700633945,"creation_date":1700633945,"question_id":77527692,"body_markdown":"i have a xml file In contains values of tables and variable columns with defined names. for that  we need to map the database table and columns and generate the configuration file   based on this configuration file  the java code  generate the csv for mapping columns \r\n\r\n","title":"Mapping the xml file to database mapping in configuration file generate And csv file by using java","body":"<p>i have a xml file In contains values of tables and variable columns with defined names. for that  we need to map the database table and columns and generate the configuration file   based on this configuration file  the java code  generate the csv for mapping columns</p>\n"},{"tags":["java","spring-boot","hibernate","querydsl"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1700648739,"post_id":77523479,"comment_id":136679573,"body_markdown":"_&quot;I&#39;ve tried gradle clean -&gt; build so many times and sure it did not help at all.&quot;_ If you&#39;ve changed nothing, then that is not going to do anything. The problem is that you have an incompatible combination of dependencies (mismatching versions) for QueryDSL and Hibernate.","body":"<i>&quot;I&#39;ve tried gradle clean -&gt; build so many times and sure it did not help at all.&quot;</i> If you&#39;ve changed nothing, then that is not going to do anything. The problem is that you have an incompatible combination of dependencies (mismatching versions) for QueryDSL and Hibernate."},{"owner":{"account_id":5255170,"reputation":89,"user_id":4955319,"accept_rate":100,"display_name":"Andy Min"},"score":0,"creation_date":1700657864,"post_id":77523479,"comment_id":136681192,"body_markdown":"@MarkRotteveel yes since Spring boot3 uses hibernate 6 as its default, querydsl will have issue with it. But as you can see it from my question, there is a workaround for it which I found from querydsl issue page. However, even though I applied the trick mentioned in the querydsl issue page, it does not seem to work with my setting where I extend QuerydslRepositorySupport and I wanted to see if anyone got any clue for it.","body":"@MarkRotteveel yes since Spring boot3 uses hibernate 6 as its default, querydsl will have issue with it. But as you can see it from my question, there is a workaround for it which I found from querydsl issue page. However, even though I applied the trick mentioned in the querydsl issue page, it does not seem to work with my setting where I extend QuerydslRepositorySupport and I wanted to see if anyone got any clue for it."}],"owner":{"account_id":5255170,"reputation":89,"user_id":4955319,"accept_rate":100,"display_name":"Andy Min"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1700586236,"answer_count":0,"score":-1,"last_activity_date":1700633580,"creation_date":1700575734,"question_id":77523479,"body_markdown":"I am having a hard time dealing with this error and so wanted to get some advices.\r\n\r\nI am working on a project where I am using Spring Boot3, JDK17, JPA + QueryDsl 5.0.0 and Hibernate 6.2.2.\r\n\r\nEverything worked fine until I started to use transform in querydsl.\r\n\r\nWhen executed, it gives me an error.\r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;java.lang.Object org.hibernate.ScrollableResults.get(int)&#39;\r\n\tat com.querydsl.jpa.ScrollableResultsIterator.next(ScrollableResultsIterator.java:70) ~[querydsl-jpa-5.0.0-jakarta.jar:na]\r\n\tat com.querydsl.core.group.GroupByList.transform(GroupByList.java:60) ~[querydsl-core-5.0.0.jar:na]\r\n\tat com.querydsl.core.group.GroupByList.transform(GroupByList.java:36) ~[querydsl-core-5.0.0.jar:na]\r\n\tat com.querydsl.core.support.FetchableQueryBase.transform(FetchableQueryBase.java:55) ~[querydsl-core-5.0.0.jar:na]\r\n\tat com.wandted.matitnyam.repository.impl.RegionRepositoryImpl.findAllBy(RegionRepositoryImpl.java:36) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat com.wandted.matitnyam.repository.impl.RegionRepositoryImpl$$SpringCGLIB$$0.findAllBy(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.5.jar:3.1.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy131.findAllBy(Unknown Source) ~[na:na]\r\n\tat com.wandted.matitnyam.service.impl.RegionServiceImpl.get(RegionServiceImpl.java:26) ~[classes/:na]\r\n\tat com.wandted.matitnyam.controller.RegionController.read(RegionController.java:35) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]\r\n\r\n```\r\n\r\nSo I started to google the error message and saw solution from querydsl issue page.\r\nhttps://github.com/querydsl/querydsl/issues/3428\r\n\r\nMany others were facing same issues like me.\r\n\r\nAfter reading through the comments and all, I tried the solution given by one of the user which was to change my JPAConfiguration class something like this.\r\n\r\n```\r\npublic class JpaConfiguration {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Bean\r\n    public JPAQueryFactory jpaQueryFactory() {\r\n        return new JPAQueryFactory(JPQLTemplates.DEFAULT, entityManager); // added JPQLTemplates.DEFAULT\r\n    }\r\n\r\n}\r\n```\r\nHowever that did not solved my problem.\r\n\r\nI am still getting same error everytime when I try to use transform method.\r\n\r\nthe only difference I can see is that I am using a class where it extends QuerydslRepositorySuppot and have few custom methods I use in my repositroies.\r\n\r\n```\r\npublic class QueryDslRepositoryPaginationSupport extends QuerydslRepositorySupport {\r\n\r\n    private final JPAQueryFactory queryFactory;\r\n\r\n\r\n    public QueryDslRepositoryPaginationSupport(Class&lt;?&gt; domainClass, JPAQueryFactory queryFactory) {\r\n        super(domainClass);\r\n        this.queryFactory = queryFactory;\r\n    }\r\n\r\n\r\n    protected JPAQueryFactory getQueryFactory() {\r\n        return this.queryFactory;\r\n    }\r\n\r\n    protected int saveAllNativeQuery(@NonNull String tableName, @NonNull List&lt;String&gt; columnNames,\r\n                                     @NonNull List&lt;List&lt;Object&gt;&gt; values) {\r\n        // @formatter:off\r\n        String marker = columnNames.stream().map(v -&gt; &quot;?&quot;).collect(Collectors.joining(&quot;, &quot;));\r\n\r\n        Query nativeQuery = getEntityManager().createNativeQuery(&quot;INSERT INTO &quot;\r\n                + tableName + &quot; (&quot; + String.join(&quot;, &quot;, columnNames) + &quot;) VALUES &quot;\r\n                + values.stream().map(v -&gt; &quot;(&quot; + marker + &quot;)&quot;).collect(Collectors.joining(&quot;, &quot;)));\r\n\r\n        List&lt;Object&gt; flatValues = values.stream().flatMap(Collection::stream).collect(Collectors.toList());\r\n        for (int i = 0; i &lt; flatValues.size(); i++) {\r\n            nativeQuery.setParameter(i + 1, flatValues.get(i));\r\n        }\r\n        // @formatter:on\r\n\r\n        return nativeQuery.executeUpdate();\r\n    }\r\n\r\n    protected &lt;T&gt; JPAQuery&lt;T&gt; select(Expression&lt;T&gt; expr) {\r\n        return getQueryFactory().select(expr);\r\n    }\r\n\r\n    protected JPAQuery&lt;Integer&gt; selectOne() {\r\n        return getQueryFactory().selectOne();\r\n    }\r\n\r\n    protected &lt;T&gt; JPAQuery&lt;T&gt; selectFrom(EntityPath&lt;T&gt; from) {\r\n        return getQueryFactory().selectFrom(from);\r\n    }\r\n\r\n    protected &lt;T&gt; Page&lt;T&gt; applyPagination(@NonNull Pageable pageable, @NonNull JPQLQuery&lt;T&gt; query) {\r\n        Querydsl querydsl = getValidatedQueryDsl();\r\n\r\n        List&lt;T&gt; queryResults = querydsl.applyPagination(pageable, query).fetch();\r\n        long totalCount = query.fetchCount();\r\n        \r\n        if (pageable.getOffset() &gt;= totalCount &amp;&amp; totalCount &gt; 0) {\r\n            int lastPageNo = (int) totalCount / pageable.getPageSize();\r\n            pageable = PageRequest.of(lastPageNo, pageable.getPageSize(), pageable.getSort());\r\n            queryResults = querydsl.applyPagination(pageable, query).fetch();\r\n        }\r\n\r\n        return new PageImpl&lt;&gt;(queryResults, pageable, totalCount);\r\n    }\r\n\r\n    private Querydsl getValidatedQueryDsl() {\r\n        Querydsl querydsl = getQuerydsl();\r\n\r\n        if (null == querydsl) {\r\n            throw new IllegalStateException(&quot;QueryDsl is null&quot;);\r\n        }\r\n\r\n        return querydsl;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;PMD&quot;)\r\n    private &lt;T&gt; JPQLQuery&lt;T&gt; addOrderByFrom(QSort qsort, JPQLQuery&lt;T&gt; query) {\r\n        List&lt;OrderSpecifier&lt;?&gt;&gt; orderSpecifiers = qsort.getOrderSpecifiers();\r\n        return query.orderBy(orderSpecifiers.toArray(new OrderSpecifier[0]));\r\n    }\r\n\r\n    private &lt;T&gt; JPQLQuery&lt;T&gt; addOrderByFrom(@NonNull Sort sort, @NonNull JPQLQuery&lt;T&gt; query) {\r\n        for (Sort.Order order : sort) {\r\n            query.orderBy(toOrderSpecifier(order));\r\n        }\r\n\r\n        return query;\r\n    }\r\n\r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;java:S3740&quot;})\r\n    private OrderSpecifier toOrderSpecifier(@NonNull Sort.Order order) {\r\n        return new OrderSpecifier(\r\n                order.isAscending() ? com.querydsl.core.types.Order.ASC : com.querydsl.core.types.Order.DESC,\r\n                buildOrderPropertyPathFrom(order),\r\n                toQueryDslNullHandling(order.getNullHandling()));\r\n    }\r\n\r\n    private OrderSpecifier.NullHandling toQueryDslNullHandling(@NonNull Sort.NullHandling nullHandling) {\r\n        switch (nullHandling) {\r\n            case NULLS_FIRST:\r\n                return OrderSpecifier.NullHandling.NullsFirst;\r\n            case NULLS_LAST:\r\n                return OrderSpecifier.NullHandling.NullsLast;\r\n            case NATIVE:\r\n            default:\r\n                return OrderSpecifier.NullHandling.Default;\r\n        }\r\n    }\r\n\r\n    private Expression&lt;?&gt; buildOrderPropertyPathFrom(@NonNull Sort.Order order) {\r\n        PropertyPath path = PropertyPath.from(order.getProperty(), getBuilder().getType());\r\n        Expression&lt;?&gt; sortPropertyExpression = getBuilder();\r\n\r\n        while (path != null) {\r\n            if (!path.hasNext() &amp;&amp; order.isIgnoreCase()) {\r\n                sortPropertyExpression = Expressions.stringPath((Path&lt;?&gt;) sortPropertyExpression, path.getSegment())\r\n                        .lower();\r\n            } else {\r\n                sortPropertyExpression = Expressions.path(path.getType(), (Path&lt;?&gt;) sortPropertyExpression,\r\n                        path.getSegment());\r\n            }\r\n\r\n            path = path.next();\r\n        }\r\n\r\n        return sortPropertyExpression;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nwhen I remove the QueryDslRepositoryPaginationSupport class and modify other classes where it extends it, then it works with no problem.\r\n\r\nSo my best bet is that the QueryDslRepositoryPaginationSupport class is causing the issue but have no clues on why.\r\n\r\nCan someone guide me through so that I can understand what is going on?\r\n\r\nAny help will be appreciated.\r\n\r\nThank you.\r\n\r\n\r\nedit.\r\nI&#39;ve tried gradle clean -&gt; build so many times and sure it did not help at all.\r\n\r\nI&#39;ve checked my build option, project structure and everything.","title":"java.lang.Object org.hibernate.ScrollableResults.get(int) in spring boot 3","body":"<p>I am having a hard time dealing with this error and so wanted to get some advices.</p>\n<p>I am working on a project where I am using Spring Boot3, JDK17, JPA + QueryDsl 5.0.0 and Hibernate 6.2.2.</p>\n<p>Everything worked fine until I started to use transform in querydsl.</p>\n<p>When executed, it gives me an error.</p>\n<pre><code>java.lang.NoSuchMethodError: 'java.lang.Object org.hibernate.ScrollableResults.get(int)'\n    at com.querydsl.jpa.ScrollableResultsIterator.next(ScrollableResultsIterator.java:70) ~[querydsl-jpa-5.0.0-jakarta.jar:na]\n    at com.querydsl.core.group.GroupByList.transform(GroupByList.java:60) ~[querydsl-core-5.0.0.jar:na]\n    at com.querydsl.core.group.GroupByList.transform(GroupByList.java:36) ~[querydsl-core-5.0.0.jar:na]\n    at com.querydsl.core.support.FetchableQueryBase.transform(FetchableQueryBase.java:55) ~[querydsl-core-5.0.0.jar:na]\n    at com.wandted.matitnyam.repository.impl.RegionRepositoryImpl.findAllBy(RegionRepositoryImpl.java:36) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:751) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.13.jar:6.0.13]\n    at com.wandted.matitnyam.repository.impl.RegionRepositoryImpl$$SpringCGLIB$$0.findAllBy(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.5.jar:3.1.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.13.jar:6.0.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.13.jar:6.0.13]\n    at jdk.proxy2/jdk.proxy2.$Proxy131.findAllBy(Unknown Source) ~[na:na]\n    at com.wandted.matitnyam.service.impl.RegionServiceImpl.get(RegionServiceImpl.java:26) ~[classes/:na]\n    at com.wandted.matitnyam.controller.RegionController.read(RegionController.java:35) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\n    at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]\n\n</code></pre>\n<p>So I started to google the error message and saw solution from querydsl issue page.\n<a href=\"https://github.com/querydsl/querydsl/issues/3428\" rel=\"nofollow noreferrer\">https://github.com/querydsl/querydsl/issues/3428</a></p>\n<p>Many others were facing same issues like me.</p>\n<p>After reading through the comments and all, I tried the solution given by one of the user which was to change my JPAConfiguration class something like this.</p>\n<pre><code>public class JpaConfiguration {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Bean\n    public JPAQueryFactory jpaQueryFactory() {\n        return new JPAQueryFactory(JPQLTemplates.DEFAULT, entityManager); // added JPQLTemplates.DEFAULT\n    }\n\n}\n</code></pre>\n<p>However that did not solved my problem.</p>\n<p>I am still getting same error everytime when I try to use transform method.</p>\n<p>the only difference I can see is that I am using a class where it extends QuerydslRepositorySuppot and have few custom methods I use in my repositroies.</p>\n<pre><code>public class QueryDslRepositoryPaginationSupport extends QuerydslRepositorySupport {\n\n    private final JPAQueryFactory queryFactory;\n\n\n    public QueryDslRepositoryPaginationSupport(Class&lt;?&gt; domainClass, JPAQueryFactory queryFactory) {\n        super(domainClass);\n        this.queryFactory = queryFactory;\n    }\n\n\n    protected JPAQueryFactory getQueryFactory() {\n        return this.queryFactory;\n    }\n\n    protected int saveAllNativeQuery(@NonNull String tableName, @NonNull List&lt;String&gt; columnNames,\n                                     @NonNull List&lt;List&lt;Object&gt;&gt; values) {\n        // @formatter:off\n        String marker = columnNames.stream().map(v -&gt; &quot;?&quot;).collect(Collectors.joining(&quot;, &quot;));\n\n        Query nativeQuery = getEntityManager().createNativeQuery(&quot;INSERT INTO &quot;\n                + tableName + &quot; (&quot; + String.join(&quot;, &quot;, columnNames) + &quot;) VALUES &quot;\n                + values.stream().map(v -&gt; &quot;(&quot; + marker + &quot;)&quot;).collect(Collectors.joining(&quot;, &quot;)));\n\n        List&lt;Object&gt; flatValues = values.stream().flatMap(Collection::stream).collect(Collectors.toList());\n        for (int i = 0; i &lt; flatValues.size(); i++) {\n            nativeQuery.setParameter(i + 1, flatValues.get(i));\n        }\n        // @formatter:on\n\n        return nativeQuery.executeUpdate();\n    }\n\n    protected &lt;T&gt; JPAQuery&lt;T&gt; select(Expression&lt;T&gt; expr) {\n        return getQueryFactory().select(expr);\n    }\n\n    protected JPAQuery&lt;Integer&gt; selectOne() {\n        return getQueryFactory().selectOne();\n    }\n\n    protected &lt;T&gt; JPAQuery&lt;T&gt; selectFrom(EntityPath&lt;T&gt; from) {\n        return getQueryFactory().selectFrom(from);\n    }\n\n    protected &lt;T&gt; Page&lt;T&gt; applyPagination(@NonNull Pageable pageable, @NonNull JPQLQuery&lt;T&gt; query) {\n        Querydsl querydsl = getValidatedQueryDsl();\n\n        List&lt;T&gt; queryResults = querydsl.applyPagination(pageable, query).fetch();\n        long totalCount = query.fetchCount();\n        \n        if (pageable.getOffset() &gt;= totalCount &amp;&amp; totalCount &gt; 0) {\n            int lastPageNo = (int) totalCount / pageable.getPageSize();\n            pageable = PageRequest.of(lastPageNo, pageable.getPageSize(), pageable.getSort());\n            queryResults = querydsl.applyPagination(pageable, query).fetch();\n        }\n\n        return new PageImpl&lt;&gt;(queryResults, pageable, totalCount);\n    }\n\n    private Querydsl getValidatedQueryDsl() {\n        Querydsl querydsl = getQuerydsl();\n\n        if (null == querydsl) {\n            throw new IllegalStateException(&quot;QueryDsl is null&quot;);\n        }\n\n        return querydsl;\n    }\n\n    @SuppressWarnings(&quot;PMD&quot;)\n    private &lt;T&gt; JPQLQuery&lt;T&gt; addOrderByFrom(QSort qsort, JPQLQuery&lt;T&gt; query) {\n        List&lt;OrderSpecifier&lt;?&gt;&gt; orderSpecifiers = qsort.getOrderSpecifiers();\n        return query.orderBy(orderSpecifiers.toArray(new OrderSpecifier[0]));\n    }\n\n    private &lt;T&gt; JPQLQuery&lt;T&gt; addOrderByFrom(@NonNull Sort sort, @NonNull JPQLQuery&lt;T&gt; query) {\n        for (Sort.Order order : sort) {\n            query.orderBy(toOrderSpecifier(order));\n        }\n\n        return query;\n    }\n\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;java:S3740&quot;})\n    private OrderSpecifier toOrderSpecifier(@NonNull Sort.Order order) {\n        return new OrderSpecifier(\n                order.isAscending() ? com.querydsl.core.types.Order.ASC : com.querydsl.core.types.Order.DESC,\n                buildOrderPropertyPathFrom(order),\n                toQueryDslNullHandling(order.getNullHandling()));\n    }\n\n    private OrderSpecifier.NullHandling toQueryDslNullHandling(@NonNull Sort.NullHandling nullHandling) {\n        switch (nullHandling) {\n            case NULLS_FIRST:\n                return OrderSpecifier.NullHandling.NullsFirst;\n            case NULLS_LAST:\n                return OrderSpecifier.NullHandling.NullsLast;\n            case NATIVE:\n            default:\n                return OrderSpecifier.NullHandling.Default;\n        }\n    }\n\n    private Expression&lt;?&gt; buildOrderPropertyPathFrom(@NonNull Sort.Order order) {\n        PropertyPath path = PropertyPath.from(order.getProperty(), getBuilder().getType());\n        Expression&lt;?&gt; sortPropertyExpression = getBuilder();\n\n        while (path != null) {\n            if (!path.hasNext() &amp;&amp; order.isIgnoreCase()) {\n                sortPropertyExpression = Expressions.stringPath((Path&lt;?&gt;) sortPropertyExpression, path.getSegment())\n                        .lower();\n            } else {\n                sortPropertyExpression = Expressions.path(path.getType(), (Path&lt;?&gt;) sortPropertyExpression,\n                        path.getSegment());\n            }\n\n            path = path.next();\n        }\n\n        return sortPropertyExpression;\n    }\n\n\n}\n</code></pre>\n<p>when I remove the QueryDslRepositoryPaginationSupport class and modify other classes where it extends it, then it works with no problem.</p>\n<p>So my best bet is that the QueryDslRepositoryPaginationSupport class is causing the issue but have no clues on why.</p>\n<p>Can someone guide me through so that I can understand what is going on?</p>\n<p>Any help will be appreciated.</p>\n<p>Thank you.</p>\n<p>edit.\nI've tried gradle clean -&gt; build so many times and sure it did not help at all.</p>\n<p>I've checked my build option, project structure and everything.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1555524752,"post_id":55733582,"comment_id":98145863,"body_markdown":"Do not forget to `close` your scanner.","body":"Do not forget to <code>close</code> your scanner."},{"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"score":1,"creation_date":1555524917,"post_id":55733582,"comment_id":98145921,"body_markdown":"Why are you creating a text area that is only one character wide? and why throw that away and re-create a text area in the try-block? And why put the text area in a scroll pane, and then re-parent the text area as a child of the content pane, and then doing nothing with the scroll pane?","body":"Why are you creating a text area that is only one character wide? and why throw that away and re-create a text area in the try-block? And why put the text area in a scroll pane, and then re-parent the text area as a child of the content pane, and then doing nothing with the scroll pane?"}],"answers":[{"comments":[{"owner":{"account_id":15748263,"reputation":1,"user_id":11375360,"display_name":"Foreign"},"score":0,"creation_date":1555586845,"post_id":55736272,"comment_id":98166809,"body_markdown":"try, but not work in live. Equal problem, the file is generated while the program is running","body":"try, but not work in live. Equal problem, the file is generated while the program is running"},{"owner":{"account_id":15750529,"reputation":96,"user_id":11365223,"display_name":"kenbrown_ct"},"score":0,"creation_date":1555594889,"post_id":55736272,"comment_id":98171469,"body_markdown":"So a listener will need to be created.  What version of Java?  That definitely makes a difference.","body":"So a listener will need to be created.  What version of Java?  That definitely makes a difference."},{"owner":{"account_id":15748263,"reputation":1,"user_id":11375360,"display_name":"Foreign"},"score":0,"creation_date":1555597405,"post_id":55736272,"comment_id":98173054,"body_markdown":"I would do well to make a button with the refresh function","body":"I would do well to make a button with the refresh function"}],"tags":[],"owner":{"account_id":15750529,"reputation":96,"user_id":11365223,"display_name":"kenbrown_ct"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700633364,"creation_date":1555536745,"answer_id":55736272,"question_id":55733582,"body_markdown":"Here is an [MCVE][1] from which you cut and paste as needed for your question.  The example below is not fundamentally different from your question, but it allows other users on StackOverflow to replicate the problem and pass along suggestions or solutions.\r\n\r\nIn addition to modifying the question, please indicate which version of Java you are running.\r\n\r\nBased on what you have said, you will probably need to implement some type of listener to determine when the contents of the file change -- or does it get created and never changed?\r\n\r\n190418 1646Z: Added a refresh button per your last comment.  Let me know if you would prefer the window to update without having to click a button.\r\n\r\n\r\n    package javaapplication7;\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.event.MouseListener;\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n\r\n    public class FileWatcher extends JFrame {\r\n\r\n        static final File WATCH_FILE = new File(&quot;c:\\\\temp\\\\java7.txt&quot;);\r\n        static final String DELIMITER = &quot;\\n&quot;;\r\n        private JPanel panel = new JPanel();\r\n        private JTextArea textArea = new JTextArea(20, 20);\r\n\r\n        public FileWatcher() {\r\n\r\n            JFrame frame = new JFrame();\r\n            frame.setSize(600, 300);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n            frame.setTitle(&quot;File Watcher&quot;);\r\n\r\n            frame.add(createPanel());\r\n            frame.pack();\r\n        }\r\n\r\n        private JPanel createPanel() {\r\n            // some code...\r\n\r\n            JPanel tempPanel = getPanel();\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            tempPanel.setLayout(new GridBagLayout());\r\n\r\n            JButton button = new JButton(&quot;Refresh&quot;);\r\n            button.addMouseListener(new MouseListener() {\r\n                @Override\r\n                public void mouseClicked(MouseEvent e) {\r\n                    getUpdatedText();\r\n                }\r\n\r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n                }\r\n\r\n                @Override\r\n                public void mouseReleased(MouseEvent e) {\r\n                }\r\n\r\n                @Override\r\n                public void mouseEntered(MouseEvent e) {\r\n                }\r\n\r\n                @Override\r\n                public void mouseExited(MouseEvent e) {\r\n                }\r\n\r\n            });\r\n            gbc.anchor = GridBagConstraints.NORTH;\r\n            getPanel().add(button, gbc);\r\n\r\n            getTextArea().setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 16));\r\n            getTextArea().setBorder(BorderFactory.createEtchedBorder());\r\n            getTextArea().setLineWrap(true);\r\n            getTextArea().setWrapStyleWord(true);\r\n            getTextArea().setOpaque(true);\r\n            getTextArea().setVisible(true);\r\n            getUpdatedText();\r\n\r\n            JScrollPane scroll = new JScrollPane(getTextArea(), JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n            scroll.setBorder(BorderFactory.createLineBorder(Color.blue));\r\n            scroll.setVisible(true);\r\n            //        frmUser.getContentPane().add(textArea);\r\n\r\n            gbc.gridy = 1;\r\n            gbc.weightx = 1;\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n            tempPanel.add(scroll, gbc);\r\n\r\n            return tempPanel;\r\n        }\r\n\r\n        public void getUpdatedText() {\r\n            String all = new String();\r\n            try (Scanner scanner = new Scanner(WATCH_FILE).useDelimiter(DELIMITER)) {\r\n                while (scanner.hasNext()) {\r\n                    all = all.concat(scanner.next()).concat(DELIMITER);\r\n                }\r\n            } catch (FileNotFoundException ex) {\r\n                // swallow, next line covers it\r\n            }\r\n\r\n            if (all.isEmpty()) {\r\n                all = &quot;No Infractions&quot;;\r\n            }\r\n            \r\n            getTextArea().setText(all);\r\n            \r\n        }\r\n\r\n        public JPanel getPanel() {\r\n            return panel;\r\n        }\r\n\r\n        public void setPanel(JPanel panel) {\r\n            this.panel = panel;\r\n        }\r\n\r\n        public JTextArea getTextArea() {\r\n            return textArea;\r\n        }\r\n\r\n        public void setTextArea(JTextArea textArea) {\r\n            this.textArea = textArea;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            FileWatcher javaApplication7 = new FileWatcher();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/help/mcve","title":"Refresh JTextArea in method","body":"<p>Here is an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> from which you cut and paste as needed for your question.  The example below is not fundamentally different from your question, but it allows other users on StackOverflow to replicate the problem and pass along suggestions or solutions.</p>\n<p>In addition to modifying the question, please indicate which version of Java you are running.</p>\n<p>Based on what you have said, you will probably need to implement some type of listener to determine when the contents of the file change -- or does it get created and never changed?</p>\n<p>190418 1646Z: Added a refresh button per your last comment.  Let me know if you would prefer the window to update without having to click a button.</p>\n<pre><code>package javaapplication7;\n\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\npublic class FileWatcher extends JFrame {\n\n    static final File WATCH_FILE = new File(&quot;c:\\\\temp\\\\java7.txt&quot;);\n    static final String DELIMITER = &quot;\\n&quot;;\n    private JPanel panel = new JPanel();\n    private JTextArea textArea = new JTextArea(20, 20);\n\n    public FileWatcher() {\n\n        JFrame frame = new JFrame();\n        frame.setSize(600, 300);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        frame.setTitle(&quot;File Watcher&quot;);\n\n        frame.add(createPanel());\n        frame.pack();\n    }\n\n    private JPanel createPanel() {\n        // some code...\n\n        JPanel tempPanel = getPanel();\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        tempPanel.setLayout(new GridBagLayout());\n\n        JButton button = new JButton(&quot;Refresh&quot;);\n        button.addMouseListener(new MouseListener() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                getUpdatedText();\n            }\n\n            @Override\n            public void mousePressed(MouseEvent e) {\n            }\n\n            @Override\n            public void mouseReleased(MouseEvent e) {\n            }\n\n            @Override\n            public void mouseEntered(MouseEvent e) {\n            }\n\n            @Override\n            public void mouseExited(MouseEvent e) {\n            }\n\n        });\n        gbc.anchor = GridBagConstraints.NORTH;\n        getPanel().add(button, gbc);\n\n        getTextArea().setFont(new Font(&quot;Verdana&quot;, Font.BOLD, 16));\n        getTextArea().setBorder(BorderFactory.createEtchedBorder());\n        getTextArea().setLineWrap(true);\n        getTextArea().setWrapStyleWord(true);\n        getTextArea().setOpaque(true);\n        getTextArea().setVisible(true);\n        getUpdatedText();\n\n        JScrollPane scroll = new JScrollPane(getTextArea(), JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n        scroll.setBorder(BorderFactory.createLineBorder(Color.blue));\n        scroll.setVisible(true);\n        //        frmUser.getContentPane().add(textArea);\n\n        gbc.gridy = 1;\n        gbc.weightx = 1;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        tempPanel.add(scroll, gbc);\n\n        return tempPanel;\n    }\n\n    public void getUpdatedText() {\n        String all = new String();\n        try (Scanner scanner = new Scanner(WATCH_FILE).useDelimiter(DELIMITER)) {\n            while (scanner.hasNext()) {\n                all = all.concat(scanner.next()).concat(DELIMITER);\n            }\n        } catch (FileNotFoundException ex) {\n            // swallow, next line covers it\n        }\n\n        if (all.isEmpty()) {\n            all = &quot;No Infractions&quot;;\n        }\n        \n        getTextArea().setText(all);\n        \n    }\n\n    public JPanel getPanel() {\n        return panel;\n    }\n\n    public void setPanel(JPanel panel) {\n        this.panel = panel;\n    }\n\n    public JTextArea getTextArea() {\n        return textArea;\n    }\n\n    public void setTextArea(JTextArea textArea) {\n        this.textArea = textArea;\n    }\n\n    public static void main(String[] args) {\n        FileWatcher javaApplication7 = new FileWatcher();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5695357,"reputation":2495,"user_id":4502035,"display_name":"Andreas"},"score":0,"creation_date":1555567431,"post_id":55738909,"comment_id":98157160,"body_markdown":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - [From Review](/review/low-quality-posts/22783653)","body":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - <a href=\"/review/low-quality-posts/22783653\">From Review</a>"},{"owner":{"account_id":14266486,"reputation":4054,"user_id":10305444,"display_name":"Maifee Ul Asad"},"score":0,"creation_date":1555594748,"post_id":55738909,"comment_id":98171375,"body_markdown":"Acknowledged , from later on i will try to be better","body":"Acknowledged , from later on i will try to be better"}],"tags":[],"owner":{"account_id":14266486,"reputation":4054,"user_id":10305444,"display_name":"Maifee Ul Asad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555559738,"creation_date":1555559738,"answer_id":55738909,"question_id":55733582,"body_markdown":"Use `revalidate()` and `repaint()`.","title":"Refresh JTextArea in method","body":"<p>Use <code>revalidate()</code> and <code>repaint()</code>.</p>\n"}],"owner":{"account_id":15748263,"reputation":1,"user_id":11375360,"display_name":"Foreign"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700633364,"creation_date":1555524342,"question_id":55733582,"body_markdown":"I have the following problem:\r\nin my JTextArea I inserted a default string, which must be updated with the new wording once the file is uploaded.\r\nI have the problem that a live refresh of JTextArea is not done, but if I log out and log in I will see the changed string.\r\n\r\n```\r\n\tpublic void createWindow()\r\n\t{\r\n          // some code...\r\n\r\n          JTextArea textArea = new JTextArea(1,1);\r\n          String all = &quot;Nothing Infractions&quot;;\r\n\t  try {\r\n\t\tall = new Scanner (file).useDelimiter(&quot;\\\\A&quot;).next();\r\n\t\ttextArea =new JTextArea(100,1);\r\n\t  } catch (FileNotFoundException e1) {\r\n\t\ttextArea =new JTextArea(1,1);\r\n\t  }\t\r\n\tJScrollPane scroll = new \r\nJScrollPane(textArea,JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n\ttextArea.setText(all);\r\n\tfrmUser.getContentPane().add(textArea);\r\n```\r\nUpdate:\r\n\r\nthe text area was thought to have been written without infraction, then passed the program going on randomly and assigning it to each user, the problem and that when assigning them all the logged in user does not automatically update that part of text where no infraction was written.\r\n\r\nI Use Java 8","title":"Refresh JTextArea in method","body":"<p>I have the following problem:\nin my JTextArea I inserted a default string, which must be updated with the new wording once the file is uploaded.\nI have the problem that a live refresh of JTextArea is not done, but if I log out and log in I will see the changed string.</p>\n\n<pre><code>    public void createWindow()\n    {\n          // some code...\n\n          JTextArea textArea = new JTextArea(1,1);\n          String all = \"Nothing Infractions\";\n      try {\n        all = new Scanner (file).useDelimiter(\"\\\\A\").next();\n        textArea =new JTextArea(100,1);\n      } catch (FileNotFoundException e1) {\n        textArea =new JTextArea(1,1);\n      } \n    JScrollPane scroll = new \nJScrollPane(textArea,JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n    textArea.setText(all);\n    frmUser.getContentPane().add(textArea);\n</code></pre>\n\n<p>Update:</p>\n\n<p>the text area was thought to have been written without infraction, then passed the program going on randomly and assigning it to each user, the problem and that when assigning them all the logged in user does not automatically update that part of text where no infraction was written.</p>\n\n<p>I Use Java 8</p>\n"},{"tags":["java","microsoft-graph-api"],"comments":[{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1700569362,"post_id":77522474,"comment_id":136668423,"body_markdown":"I&#39;m not familiar with the MS Graph API, but from the error message and looking that the JavaDocs (https://javadoc.io/static/com.microsoft.graph/microsoft-graph/5.77.0/com/microsoft/graph/models/Message.html#parentFolderId), I suspect `message.id` should be `message.parentFolderId`.","body":"I&#39;m not familiar with the MS Graph API, but from the error message and looking that the JavaDocs (<a href=\"https://javadoc.io/static/com.microsoft.graph/microsoft-graph/5.77.0/com/microsoft/graph/models/Message.html#parentFolderId\" rel=\"nofollow noreferrer\">javadoc.io/static/com.microsoft.graph/microsoft-graph/5.77.&zwnj;&#8203;0/&hellip;</a>), I suspect <code>message.id</code> should be <code>message.parentFolderId</code>."},{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1700617870,"post_id":77522474,"comment_id":136675947,"body_markdown":"@NickHolt tried with message.parentFolderId getting null value.","body":"@NickHolt tried with message.parentFolderId getting null value."},{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1700619910,"post_id":77522474,"comment_id":136676098,"body_markdown":"Even I try to pass message.parentFolderId . but I am getting same error.","body":"Even I try to pass message.parentFolderId . but I am getting same error."}],"answers":[{"comments":[{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1700617220,"post_id":77523436,"comment_id":136675901,"body_markdown":"I tried with above code. but it giving compile time error like below.                               The method move(MessageMoveParameterSet) in the type MessageRequestBuilder is not applicable for the arguments (MailFolderMoveParameterSet)","body":"I tried with above code. but it giving compile time error like below.                               The method move(MessageMoveParameterSet) in the type MessageRequestBuilder is not applicable for the arguments (MailFolderMoveParameterSet)"},{"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"score":0,"creation_date":1700633354,"post_id":77523436,"comment_id":136677135,"body_markdown":"@ManiBellamkonda Thank, it should be MessageMoveParameterSet not MailFolderMoveParameterSet, updated the answer","body":"@ManiBellamkonda Thank, it should be MessageMoveParameterSet not MailFolderMoveParameterSet, updated the answer"},{"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"score":0,"creation_date":1700643339,"post_id":77523436,"comment_id":136678612,"body_markdown":"I tried with MessageMoveParameterSet , even I am getting same error.","body":"I tried with MessageMoveParameterSet , even I am getting same error."}],"tags":[],"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700633306,"creation_date":1700575458,"answer_id":77523436,"question_id":77522474,"body_markdown":"If you want to move message the call `messages` instead of `mailFolders`\r\n\r\n    private static void moveMailsToOtherFolder(String o365Mailbox, Message message) {\r\n        System.out.println(message.id);\r\n                \r\n             _appClient.users(o365Mailbox)\r\n                     .messages(message.id)\r\n                    .move(MessageMoveParameterSet\r\n                    .newBuilder()\r\n                    .withDestinationId(&quot;Junk E-mail&quot;)\r\n                    .build())\r\n                .buildRequest()\r\n                .post();\r\n                \r\n    }","title":"How can I move the mail from Inbox to another folder in GraphAPI","body":"<p>If you want to move message the call <code>messages</code> instead of <code>mailFolders</code></p>\n<pre><code>private static void moveMailsToOtherFolder(String o365Mailbox, Message message) {\n    System.out.println(message.id);\n            \n         _appClient.users(o365Mailbox)\n                 .messages(message.id)\n                .move(MessageMoveParameterSet\n                .newBuilder()\n                .withDestinationId(&quot;Junk E-mail&quot;)\n                .build())\n            .buildRequest()\n            .post();\n            \n}\n</code></pre>\n"}],"owner":{"account_id":27850022,"reputation":17,"user_id":21264707,"display_name":"Mani Bellamkonda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700633306,"creation_date":1700566345,"question_id":77522474,"body_markdown":"How do I move an email from the Inbox to the Junk E-mail folder in the outlook?\r\n\r\nI tried using below code: \r\n\r\n    private static void moveMailsToOtherFolder(String o365Mailbox, Message message) {\r\n\t\tSystem.out.println(message.id);\r\n\t\t\t\t\r\n\t\t\t _appClient.users(o365Mailbox)\r\n\t\t\t     \t .mailFolders(message.id)\r\n\t\t\t \t\t.move(MailFolderMoveParameterSet\r\n\t\t\t\t    .newBuilder()\r\n\t\t\t\t\t.withDestinationId(&quot;Junk E-mail&quot;)\r\n\t\t\t\t\t.build())\r\n\t\t\t\t.buildRequest()\r\n\t\t\t\t.post();\r\n\t\t\t\t\r\n\t}\r\n\r\nBut get the error:\r\n\r\n    SEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: ErrorInvalidIdMalformed\r\n    Error message: Id is malformed.\r\n\r\nCan any help me on this?","title":"How can I move the mail from Inbox to another folder in GraphAPI","body":"<p>How do I move an email from the Inbox to the Junk E-mail folder in the outlook?</p>\n<p>I tried using below code:</p>\n<pre><code>private static void moveMailsToOtherFolder(String o365Mailbox, Message message) {\n    System.out.println(message.id);\n            \n         _appClient.users(o365Mailbox)\n                 .mailFolders(message.id)\n                .move(MailFolderMoveParameterSet\n                .newBuilder()\n                .withDestinationId(&quot;Junk E-mail&quot;)\n                .build())\n            .buildRequest()\n            .post();\n            \n}\n</code></pre>\n<p>But get the error:</p>\n<pre><code>SEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: ErrorInvalidIdMalformed\nError message: Id is malformed.\n</code></pre>\n<p>Can any help me on this?</p>\n"},{"tags":["java","chromium-embedded","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1700639611,"post_id":77527629,"comment_id":136678011,"body_markdown":"Build time warnings mean that the two methods are listed in `reflect-config.json` but not present in class files. Run time errors suggest that the classes they mention were not configured for reflective access, which seems indeed the case, as they are missing in `reflect-config.json`. They might be missing due to a bug in the agent, or because this particular code path was not executed during agent run.","body":"Build time warnings mean that the two methods are listed in <code>reflect-config.json</code> but not present in class files. Run time errors suggest that the classes they mention were not configured for reflective access, which seems indeed the case, as they are missing in <code>reflect-config.json</code>. They might be missing due to a bug in the agent, or because this particular code path was not executed during agent run."}],"owner":{"account_id":14632469,"reputation":11,"user_id":10567776,"display_name":"S.Baner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700633174,"creation_date":1700633174,"question_id":77527629,"body_markdown":"I have created a browser based on jcef that displays any url passed to it in command line with some custom context menu, using the library [jcefmaven](https://github.com/jcefmaven/jcefmaven) (The jcef native are stored in a fat jar and extracted if not present). I generated the config files using the native image agent. when i tried to build a native image of a jar with those config files, I get two warnings `Warning: Method org.cef.browser.CefBrowserWr$3.coalesceEvents(AWTEvent, AWTEvent) not found.` and `Warning: Method org.example.SingletonDevTools.coalesceEvents(AWTEvent, AWTEvent) not found.`even if reflect-config.json does contain the following entries:\r\n\r\n```\r\n{\r\n  &quot;name&quot;:&quot;org.cef.browser.CefBrowserWr$3&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;org.example.SingletonDevTools&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\r\n}\r\n```\r\n\r\nand when I launch the native image with same parameters and conditions as the config generation, I get the following error:\r\n\r\n```\r\nLaunch called\r\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\r\nINFO: LOCATING |&gt; In progress...\r\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\r\nINFO: INITIALIZING |&gt; In progress...\r\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\r\nINFO: INITIALIZED |&gt; In progress...\r\ninitialize on Thread[AWT-EventQueue-0,6,main] with library path /home/****/****/****/jcef-bundle\r\nException in thread &quot;AWT-EventQueue-0&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.callback.CefCommandLine_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\n\tat org.cef.CefApp.N_Initialize(Native Method)\r\n\tat org.cef.CefApp.access$400(CefApp.java:25)\r\n\tat org.cef.CefApp$3.run(CefApp.java:427)\r\n\tat java.desktop@17.0.9/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:308)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base@17.0.9/java.security.AccessController.executePrivileged(AccessController.java:171)\r\n\tat java.base@17.0.9/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base@17.0.9/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\r\nException in thread &quot;AWT-EventQueue-0&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.callback.CefSchemeRegistrar_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\n\tat org.cef.CefApp.N_Initialize(Native Method)\r\n\tat org.cef.CefApp.access$400(CefApp.java:25)\r\n\tat org.cef.CefApp$3.run(CefApp.java:427)\r\n\tat java.desktop@17.0.9/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:308)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base@17.0.9/java.security.AccessController.executePrivileged(AccessController.java:171)\r\n\tat java.base@17.0.9/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base@17.0.9/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop@17.0.9/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop@17.0.9/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\r\n[1122/103735.075523:WARNING:chrome_browser_cloud_management_controller.cc(88)] Could not create policy manager as CBCM is not enabled.\r\n[1122/103735.158443:WARNING:sandbox_linux.cc(393)] InitializeSandbox() called with multiple threads in process gpu-process.\r\nException in thread &quot;System-13&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.browser.CefFrame_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\nException in thread &quot;System-13&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.network.CefRequest_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\nException in thread &quot;System-19&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.misc.BoolRef\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\nException in thread &quot;System-142&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.callback.CefContextMenuParams_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\nException in thread &quot;System-142&quot;: java.lang.ClassNotFoundException\r\njava.lang.ClassNotFoundException: org.cef.callback.CefMenuModel_N\r\n\tat java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\r\n\tat java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\r\nException in thread &quot;System-142&quot;: java.lang.NullPointerException\r\njava.lang.NullPointerException\r\n\tat org.example.ContextMenuHandler.onBeforeContextMenu(ContextMenuHandler.java:30)\r\n\tat org.cef.CefClient.onBeforeContextMenu(CefClient.java:246)\r\n```\r\n\r\nOS :- Linux Mint\r\n\r\nJava version: 17\r\n\r\n# Source Code :-\r\n\r\n**SingletonDevTools.java**\r\n\r\n```\r\npublic class SingletonDevTools extends JFrame {\r\n    private static SingletonDevTools instance;\r\n\r\n    private SingletonDevTools(){\r\n        super(&quot;Dev Tools&quot;);\r\n        setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n    }\r\n\r\n    public static SingletonDevTools getInstance(){\r\n        if(instance == null || !instance.isDisplayable()) {\r\n            instance = new SingletonDevTools();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public void launch(CefBrowser devToolsBrowser) {\r\n        if(!isVisible()){\r\n            getContentPane().add(devToolsBrowser.getUIComponent(), BorderLayout.CENTER);\r\n            setVisible(true);\r\n        } else {\r\n            toFront();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**ContextMenuHandler.java**\r\n\r\n```\r\npublic class ContextMenuHandler extends CefContextMenuHandlerAdapter {\r\n    private final int INSPECT = 1;\r\n    private final int OPEN_IN_BROWSER = 2;\r\n    private final int RELOAD = 3;\r\n    String url;\r\n    private CefBrowser devTools;\r\n    private CefBrowser browser;\r\n\r\n    public ContextMenuHandler(CefBrowser browser, String url) {\r\n        this.devTools = browser.getDevTools();\r\n        this.browser = browser;\r\n        this.url = url;\r\n    }\r\n\r\n    @Override\r\n    public void onBeforeContextMenu(\r\n            CefBrowser browser, CefFrame frame, CefContextMenuParams params, CefMenuModel model\r\n    ) {\r\n        // Clear the default context menu\r\n        model.clear();\r\n\r\n        // Add a custom menu item\r\n        model.addItem(RELOAD, &quot;Reload&quot;);\r\n        model.setEnabled(RELOAD, true);\r\n\r\n        model.addSeparator();\r\n\r\n        model.addItem(INSPECT, &quot;Inspect&quot;);\r\n        model.setEnabled(INSPECT, true);\r\n\r\n        model.addItem(OPEN_IN_BROWSER, &quot;Open in browser&quot;);\r\n        model.setEnabled(OPEN_IN_BROWSER, true);\r\n    }\r\n\r\n    @Override\r\n    public boolean onContextMenuCommand(CefBrowser browser, CefFrame frame,\r\n                                        CefContextMenuParams params, int commandId, int eventFlags\r\n    ) {\r\n        // Register a listener for custom menu item clicks\r\n        switch (commandId) {\r\n            case RELOAD -&gt; {\r\n                browser.reload();\r\n                return true;\r\n            }\r\n            case INSPECT -&gt; {\r\n                SingletonDevTools.getInstance().launch(devTools);\r\n                return true;\r\n            }\r\n            case OPEN_IN_BROWSER -&gt; {\r\n                try {\r\n                    Desktop.getDesktop().browse(new URI(url));\r\n                } catch (Exception e) {\r\n                    System.out.println(e);\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n}\r\n```\r\n\r\n**JcefLauncher.java**\r\n\r\n```\r\npublic class JcefLauncher {\r\n    String url;\r\n    CefApp app;\r\n\r\n    public JcefLauncher(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    public void launch() {\r\n        System.out.println(&quot;Launch called&quot;);\r\n        //Create a new CefAppBuilder instance\r\n        CefAppBuilder builder = new CefAppBuilder();\r\n\r\n        //Configure the builder instance\r\n        builder.getCefSettings().windowless_rendering_enabled = false;\r\n\r\n        //Build a CefApp instance using the configuration above\r\n        try {\r\n            app = builder.build();\r\n        } catch (IOException | InterruptedException | CefInitializationException | UnsupportedPlatformException e) {\r\n            System.out.println(e);\r\n            System.exit(1);\r\n        }\r\n\r\n        // Create a CefClient instance\r\n        CefClient client = app.createClient();\r\n\r\n        // Create a CefBrowser instance\r\n        CefBrowser browser = client.createBrowser(this.url, false, false);\r\n\r\n        final ContextMenuHandler contextMenuHandler = new ContextMenuHandler(browser, this.url);\r\n        client.addContextMenuHandler(contextMenuHandler);\r\n\r\n        client.addDisplayHandler(new CefDisplayHandlerAdapter() {\r\n            @Override\r\n            public void onAddressChange(CefBrowser browser, CefFrame frame, String url) {\r\n                contextMenuHandler.setUrl(url);\r\n            }\r\n\r\n            @Override\r\n            public boolean onConsoleMessage(CefBrowser browser, CefSettings.LogSeverity level, String message, String source, int line){\r\n                return true;\r\n            }\r\n        });\r\n\r\n        // Create a JFrame to host the browser\r\n        JFrame frame = new JFrame(&quot;Time Table Scheduler&quot;);\r\n        frame.setSize(1260, 700);\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.getContentPane().add(browser.getUIComponent(), BorderLayout.CENTER);\r\n        frame.setVisible(true);\r\n        frame.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                app.dispose();\r\n                System.out.println(&quot;System exiting&quot;);\r\n                System.exit(0);\r\n            }\r\n        });\r\n        while (true) {\r\n            try {\r\n                Thread.sleep(30000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            if (!frame.isVisible()){\r\n                app.dispose();\r\n                System.out.println(&quot;System exiting&quot;);\r\n                System.exit(0);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Main.java**\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        if(args == null || args.length==0) {\r\n            System.err.println(&quot;No initial link provided, exiting&quot;);\r\n            System.exit(1);\r\n        }\r\n        JcefLauncher jcefLauncher = new JcefLauncher(args[0]);\r\n        jcefLauncher.launch();\r\n    }\r\n}\r\n```\r\n\r\n# Config files :-\r\n\r\n**reflect-config.json :-**\r\n\r\n```\r\n[\r\n{\r\n  &quot;name&quot;:&quot;java.awt.SequencedEvent&quot;\r\n},\r\n{\r\n  &quot;name&quot;:&quot;java.awt.event.KeyEvent&quot;,\r\n  &quot;fields&quot;:[{&quot;name&quot;:&quot;VK_CONTEXT_MENU&quot;}, {&quot;name&quot;:&quot;VK_F10&quot;}]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;java.sql.Date&quot;\r\n},\r\n{\r\n  &quot;name&quot;:&quot;java.util.concurrent.atomic.AtomicBoolean&quot;,\r\n  &quot;fields&quot;:[{&quot;name&quot;:&quot;value&quot;}]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;javax.swing.plaf.basic.BasicPanelUI&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;createUI&quot;,&quot;parameterTypes&quot;:[&quot;javax.swing.JComponent&quot;] }]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;javax.swing.plaf.metal.MetalRootPaneUI&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;createUI&quot;,&quot;parameterTypes&quot;:[&quot;javax.swing.JComponent&quot;] }]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;org.cef.browser.CefBrowserWr$3&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;org.example.SingletonDevTools&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\r\n},\r\n{\r\n  &quot;name&quot;:&quot;sun.java2d.marlin.DMarlinRenderingEngine&quot;,\r\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\r\n}\r\n]\r\n```\r\n\r\n**resource-config.json :-**\r\n\r\n```\r\n{\r\n  &quot;resources&quot;:{\r\n  &quot;includes&quot;:[{\r\n    &quot;pattern&quot;:&quot;\\\\Qbuild_meta.json\\\\E&quot;\r\n  }, {\r\n    &quot;pattern&quot;:&quot;\\\\Qjcef-natives-linux-amd64-jcef-37f25dc+cef-116.0.19+gc6a20bc+chromium-116.0.5845.141.tar.gz\\\\E&quot;\r\n  }]},\r\n  &quot;bundles&quot;:[{\r\n    &quot;name&quot;:&quot;com.sun.swing.internal.plaf.basic.resources.basic&quot;,\r\n    &quot;classNames&quot;:[&quot;com.sun.swing.internal.plaf.basic.resources.basic&quot;]\r\n  }, {\r\n    &quot;name&quot;:&quot;com.sun.swing.internal.plaf.metal.resources.metal&quot;,\r\n    &quot;classNames&quot;:[&quot;com.sun.swing.internal.plaf.metal.resources.metal&quot;]\r\n  }, {\r\n    &quot;name&quot;:&quot;sun.awt.resources.awt&quot;,\r\n    &quot;classNames&quot;:[&quot;sun.awt.resources.awt&quot;]\r\n  }]\r\n}\r\n```","title":"GraalVM native image of JCEF application not working, even if agent generated config files were added","body":"<p>I have created a browser based on jcef that displays any url passed to it in command line with some custom context menu, using the library <a href=\"https://github.com/jcefmaven/jcefmaven\" rel=\"nofollow noreferrer\">jcefmaven</a> (The jcef native are stored in a fat jar and extracted if not present). I generated the config files using the native image agent. when i tried to build a native image of a jar with those config files, I get two warnings <code>Warning: Method org.cef.browser.CefBrowserWr$3.coalesceEvents(AWTEvent, AWTEvent) not found.</code> and <code>Warning: Method org.example.SingletonDevTools.coalesceEvents(AWTEvent, AWTEvent) not found.</code>even if reflect-config.json does contain the following entries:</p>\n<pre><code>{\n  &quot;name&quot;:&quot;org.cef.browser.CefBrowserWr$3&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\n},\n{\n  &quot;name&quot;:&quot;org.example.SingletonDevTools&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\n}\n</code></pre>\n<p>and when I launch the native image with same parameters and conditions as the config generation, I get the following error:</p>\n<pre><code>Launch called\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\nINFO: LOCATING |&gt; In progress...\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\nINFO: INITIALIZING |&gt; In progress...\nNov 22, 2023 10:37:35 AM me.friwi.jcefmaven.impl.progress.ConsoleProgressHandler handleProgress\nINFO: INITIALIZED |&gt; In progress...\ninitialize on Thread[AWT-EventQueue-0,6,main] with library path /home/****/****/****/jcef-bundle\nException in thread &quot;AWT-EventQueue-0&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.callback.CefCommandLine_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\n    at org.cef.CefApp.N_Initialize(Native Method)\n    at org.cef.CefApp.access$400(CefApp.java:25)\n    at org.cef.CefApp$3.run(CefApp.java:427)\n    at java.desktop@17.0.9/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:308)\n    at java.desktop@17.0.9/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\n    at java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base@17.0.9/java.security.AccessController.executePrivileged(AccessController.java:171)\n    at java.base@17.0.9/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base@17.0.9/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop@17.0.9/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\nException in thread &quot;AWT-EventQueue-0&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.callback.CefSchemeRegistrar_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\n    at org.cef.CefApp.N_Initialize(Native Method)\n    at org.cef.CefApp.access$400(CefApp.java:25)\n    at org.cef.CefApp$3.run(CefApp.java:427)\n    at java.desktop@17.0.9/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:308)\n    at java.desktop@17.0.9/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\n    at java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop@17.0.9/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base@17.0.9/java.security.AccessController.executePrivileged(AccessController.java:171)\n    at java.base@17.0.9/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base@17.0.9/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop@17.0.9/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop@17.0.9/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:807)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:210)\n[1122/103735.075523:WARNING:chrome_browser_cloud_management_controller.cc(88)] Could not create policy manager as CBCM is not enabled.\n[1122/103735.158443:WARNING:sandbox_linux.cc(393)] InitializeSandbox() called with multiple threads in process gpu-process.\nException in thread &quot;System-13&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.browser.CefFrame_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\nException in thread &quot;System-13&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.network.CefRequest_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\nException in thread &quot;System-19&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.misc.BoolRef\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\nException in thread &quot;System-142&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.callback.CefContextMenuParams_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\nException in thread &quot;System-142&quot;: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: org.cef.callback.CefMenuModel_N\n    at java.base@17.0.9/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:52)\n    at java.base@17.0.9/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base@17.0.9/java.lang.ClassLoader.loadClass(ClassLoader.java:133)\nException in thread &quot;System-142&quot;: java.lang.NullPointerException\njava.lang.NullPointerException\n    at org.example.ContextMenuHandler.onBeforeContextMenu(ContextMenuHandler.java:30)\n    at org.cef.CefClient.onBeforeContextMenu(CefClient.java:246)\n</code></pre>\n<p>OS :- Linux Mint</p>\n<p>Java version: 17</p>\n<h1>Source Code :-</h1>\n<p><strong>SingletonDevTools.java</strong></p>\n<pre><code>public class SingletonDevTools extends JFrame {\n    private static SingletonDevTools instance;\n\n    private SingletonDevTools(){\n        super(&quot;Dev Tools&quot;);\n        setExtendedState(JFrame.MAXIMIZED_BOTH);\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n    }\n\n    public static SingletonDevTools getInstance(){\n        if(instance == null || !instance.isDisplayable()) {\n            instance = new SingletonDevTools();\n        }\n        return instance;\n    }\n\n    public void launch(CefBrowser devToolsBrowser) {\n        if(!isVisible()){\n            getContentPane().add(devToolsBrowser.getUIComponent(), BorderLayout.CENTER);\n            setVisible(true);\n        } else {\n            toFront();\n        }\n    }\n}\n</code></pre>\n<p><strong>ContextMenuHandler.java</strong></p>\n<pre><code>public class ContextMenuHandler extends CefContextMenuHandlerAdapter {\n    private final int INSPECT = 1;\n    private final int OPEN_IN_BROWSER = 2;\n    private final int RELOAD = 3;\n    String url;\n    private CefBrowser devTools;\n    private CefBrowser browser;\n\n    public ContextMenuHandler(CefBrowser browser, String url) {\n        this.devTools = browser.getDevTools();\n        this.browser = browser;\n        this.url = url;\n    }\n\n    @Override\n    public void onBeforeContextMenu(\n            CefBrowser browser, CefFrame frame, CefContextMenuParams params, CefMenuModel model\n    ) {\n        // Clear the default context menu\n        model.clear();\n\n        // Add a custom menu item\n        model.addItem(RELOAD, &quot;Reload&quot;);\n        model.setEnabled(RELOAD, true);\n\n        model.addSeparator();\n\n        model.addItem(INSPECT, &quot;Inspect&quot;);\n        model.setEnabled(INSPECT, true);\n\n        model.addItem(OPEN_IN_BROWSER, &quot;Open in browser&quot;);\n        model.setEnabled(OPEN_IN_BROWSER, true);\n    }\n\n    @Override\n    public boolean onContextMenuCommand(CefBrowser browser, CefFrame frame,\n                                        CefContextMenuParams params, int commandId, int eventFlags\n    ) {\n        // Register a listener for custom menu item clicks\n        switch (commandId) {\n            case RELOAD -&gt; {\n                browser.reload();\n                return true;\n            }\n            case INSPECT -&gt; {\n                SingletonDevTools.getInstance().launch(devTools);\n                return true;\n            }\n            case OPEN_IN_BROWSER -&gt; {\n                try {\n                    Desktop.getDesktop().browse(new URI(url));\n                } catch (Exception e) {\n                    System.out.println(e);\n                    return false;\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public void setUrl(String url) {\n        this.url = url;\n    }\n}\n</code></pre>\n<p><strong>JcefLauncher.java</strong></p>\n<pre><code>public class JcefLauncher {\n    String url;\n    CefApp app;\n\n    public JcefLauncher(String url) {\n        this.url = url;\n    }\n\n    public void launch() {\n        System.out.println(&quot;Launch called&quot;);\n        //Create a new CefAppBuilder instance\n        CefAppBuilder builder = new CefAppBuilder();\n\n        //Configure the builder instance\n        builder.getCefSettings().windowless_rendering_enabled = false;\n\n        //Build a CefApp instance using the configuration above\n        try {\n            app = builder.build();\n        } catch (IOException | InterruptedException | CefInitializationException | UnsupportedPlatformException e) {\n            System.out.println(e);\n            System.exit(1);\n        }\n\n        // Create a CefClient instance\n        CefClient client = app.createClient();\n\n        // Create a CefBrowser instance\n        CefBrowser browser = client.createBrowser(this.url, false, false);\n\n        final ContextMenuHandler contextMenuHandler = new ContextMenuHandler(browser, this.url);\n        client.addContextMenuHandler(contextMenuHandler);\n\n        client.addDisplayHandler(new CefDisplayHandlerAdapter() {\n            @Override\n            public void onAddressChange(CefBrowser browser, CefFrame frame, String url) {\n                contextMenuHandler.setUrl(url);\n            }\n\n            @Override\n            public boolean onConsoleMessage(CefBrowser browser, CefSettings.LogSeverity level, String message, String source, int line){\n                return true;\n            }\n        });\n\n        // Create a JFrame to host the browser\n        JFrame frame = new JFrame(&quot;Time Table Scheduler&quot;);\n        frame.setSize(1260, 700);\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.getContentPane().add(browser.getUIComponent(), BorderLayout.CENTER);\n        frame.setVisible(true);\n        frame.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                app.dispose();\n                System.out.println(&quot;System exiting&quot;);\n                System.exit(0);\n            }\n        });\n        while (true) {\n            try {\n                Thread.sleep(30000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            if (!frame.isVisible()){\n                app.dispose();\n                System.out.println(&quot;System exiting&quot;);\n                System.exit(0);\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        if(args == null || args.length==0) {\n            System.err.println(&quot;No initial link provided, exiting&quot;);\n            System.exit(1);\n        }\n        JcefLauncher jcefLauncher = new JcefLauncher(args[0]);\n        jcefLauncher.launch();\n    }\n}\n</code></pre>\n<h1>Config files :-</h1>\n<p><strong>reflect-config.json :-</strong></p>\n<pre><code>[\n{\n  &quot;name&quot;:&quot;java.awt.SequencedEvent&quot;\n},\n{\n  &quot;name&quot;:&quot;java.awt.event.KeyEvent&quot;,\n  &quot;fields&quot;:[{&quot;name&quot;:&quot;VK_CONTEXT_MENU&quot;}, {&quot;name&quot;:&quot;VK_F10&quot;}]\n},\n{\n  &quot;name&quot;:&quot;java.sql.Date&quot;\n},\n{\n  &quot;name&quot;:&quot;java.util.concurrent.atomic.AtomicBoolean&quot;,\n  &quot;fields&quot;:[{&quot;name&quot;:&quot;value&quot;}]\n},\n{\n  &quot;name&quot;:&quot;javax.swing.plaf.basic.BasicPanelUI&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;createUI&quot;,&quot;parameterTypes&quot;:[&quot;javax.swing.JComponent&quot;] }]\n},\n{\n  &quot;name&quot;:&quot;javax.swing.plaf.metal.MetalRootPaneUI&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;createUI&quot;,&quot;parameterTypes&quot;:[&quot;javax.swing.JComponent&quot;] }]\n},\n{\n  &quot;name&quot;:&quot;org.cef.browser.CefBrowserWr$3&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\n},\n{\n  &quot;name&quot;:&quot;org.example.SingletonDevTools&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;coalesceEvents&quot;,&quot;parameterTypes&quot;:[&quot;java.awt.AWTEvent&quot;,&quot;java.awt.AWTEvent&quot;] }]\n},\n{\n  &quot;name&quot;:&quot;sun.java2d.marlin.DMarlinRenderingEngine&quot;,\n  &quot;methods&quot;:[{&quot;name&quot;:&quot;&lt;init&gt;&quot;,&quot;parameterTypes&quot;:[] }]\n}\n]\n</code></pre>\n<p><strong>resource-config.json :-</strong></p>\n<pre><code>{\n  &quot;resources&quot;:{\n  &quot;includes&quot;:[{\n    &quot;pattern&quot;:&quot;\\\\Qbuild_meta.json\\\\E&quot;\n  }, {\n    &quot;pattern&quot;:&quot;\\\\Qjcef-natives-linux-amd64-jcef-37f25dc+cef-116.0.19+gc6a20bc+chromium-116.0.5845.141.tar.gz\\\\E&quot;\n  }]},\n  &quot;bundles&quot;:[{\n    &quot;name&quot;:&quot;com.sun.swing.internal.plaf.basic.resources.basic&quot;,\n    &quot;classNames&quot;:[&quot;com.sun.swing.internal.plaf.basic.resources.basic&quot;]\n  }, {\n    &quot;name&quot;:&quot;com.sun.swing.internal.plaf.metal.resources.metal&quot;,\n    &quot;classNames&quot;:[&quot;com.sun.swing.internal.plaf.metal.resources.metal&quot;]\n  }, {\n    &quot;name&quot;:&quot;sun.awt.resources.awt&quot;,\n    &quot;classNames&quot;:[&quot;sun.awt.resources.awt&quot;]\n  }]\n}\n</code></pre>\n"},{"tags":["java","android","android-deep-link"],"owner":{"account_id":1964004,"reputation":1,"user_id":1764717,"display_name":"user1764717"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700632720,"creation_date":1700485576,"question_id":77516119,"body_markdown":"I am adding deeplinks to my Android  but I am not getting the URL when I click on &lt;https://example.com/myvalues&gt;, while When I click on myScheme://example.com/myvalues  (Scheme is myScheme)\r\n\r\nHere are my intent-filters:\r\n\r\n**AndroidManifest.xml**\r\n\r\n```xml\r\n&lt;intent-filter&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;data android:host=&quot;example.com&quot; android:scheme=&quot;http&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;data android:host=&quot;example.com&quot; android:scheme=&quot;https&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;data android:scheme=&quot;myScheme&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;data android:host=&quot;example.com&quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot;https&quot; /&gt;\r\n\t&lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\r\n\t&lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\r\n\t&lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\r\n\t&lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;data android:scheme=&quot;https&quot;\r\n                    android:host=&quot;example.com&quot;\r\n                    android:pathPrefix=&quot;/&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter android:autoVerify=&quot;true&quot; &gt;\r\n\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\t&lt;!-- Accepts URIs that begin with &quot;example://gizmos --&gt;\r\n\t&lt;data android:scheme=&quot;myScheme&quot;\r\n                    android:host=&quot;example.com&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n```\r\n\r\nAnd my Java code is\r\n\r\n```java\r\nfinal String intentString = intent.getDataString();\r\n\r\n// read intent\r\nString action = intent.getAction();\r\nUri url = intent.getData();\r\n```\r\n\r\nIn url I am getting,\r\n\r\n&gt; url : &quot;myScheme://&quot;,\r\n&gt; host:&quot;&quot;,\r\n&gt; queryString: &quot;&quot;\r\n\r\nCan anyone please help me to get what I am missing or debug this ?\r\n\r\nI have tried almost all example and guides on blogs and also tried with the official documentations.","title":"Android deeplinks not getting url","body":"<p>I am adding deeplinks to my Android  but I am not getting the URL when I click on <a href=\"https://example.com/myvalues\" rel=\"nofollow noreferrer\">https://example.com/myvalues</a>, while When I click on myScheme://example.com/myvalues  (Scheme is myScheme)</p>\n<p>Here are my intent-filters:</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:host=&quot;example.com&quot; android:scheme=&quot;http&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:host=&quot;example.com&quot; android:scheme=&quot;https&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:scheme=&quot;myScheme&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:host=&quot;example.com&quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot;https&quot; /&gt;\n    &lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\n    &lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\n    &lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\n    &lt;data android:host=&quot; &quot; android:pathPrefix=&quot;/&quot; android:scheme=&quot; &quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:scheme=&quot;https&quot;\n                    android:host=&quot;example.com&quot;\n                    android:pathPrefix=&quot;/&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter android:autoVerify=&quot;true&quot; &gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;!-- Accepts URIs that begin with &quot;example://gizmos --&gt;\n    &lt;data android:scheme=&quot;myScheme&quot;\n                    android:host=&quot;example.com&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>And my Java code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String intentString = intent.getDataString();\n\n// read intent\nString action = intent.getAction();\nUri url = intent.getData();\n</code></pre>\n<p>In url I am getting,</p>\n<blockquote>\n<p>url : &quot;myScheme://&quot;,\nhost:&quot;&quot;,\nqueryString: &quot;&quot;</p>\n</blockquote>\n<p>Can anyone please help me to get what I am missing or debug this ?</p>\n<p>I have tried almost all example and guides on blogs and also tried with the official documentations.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","jackson-databind"],"answers":[{"comments":[{"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"score":0,"creation_date":1670402592,"post_id":74711478,"comment_id":131865998,"body_markdown":"Thanks @Games3D So I&#39;m not sure what you mean by &quot;a objectmapper bean in your spring configs&quot;","body":"Thanks @Games3D So I&#39;m not sure what you mean by &quot;a objectmapper bean in your spring configs&quot;"},{"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"score":0,"creation_date":1670406067,"post_id":74711478,"comment_id":131867169,"body_markdown":"Also, if I just remove everything in my Config class and just add what you have above I still get the same error. Could this be something todo with the elastic client I&#39;m using? Thank you for the help btw","body":"Also, if I just remove everything in my Config class and just add what you have above I still get the same error. Could this be something todo with the elastic client I&#39;m using? Thank you for the help btw"},{"owner":{"account_id":27092919,"reputation":59,"user_id":20640440,"display_name":"Games3D"},"score":0,"creation_date":1670412086,"post_id":74711478,"comment_id":131869260,"body_markdown":"@MetaCoder can you please confirm that you are loading this objectMapper bean correctly into elastic search via debug? I think you should have all you need based on my above suggestion. The next thing I think might be happening is around this link: https://github.com/FasterXML/jackson-databind/issues/3262","body":"@MetaCoder can you please confirm that you are loading this objectMapper bean correctly into elastic search via debug? I think you should have all you need based on my above suggestion. The next thing I think might be happening is around this link: <a href=\"https://github.com/FasterXML/jackson-databind/issues/3262\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind/issues/3262</a>"},{"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"score":0,"creation_date":1670412151,"post_id":74711478,"comment_id":131869286,"body_markdown":"Thanks @Games3D, so dumb question but how do I check this?","body":"Thanks @Games3D, so dumb question but how do I check this?"},{"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"score":0,"creation_date":1670413136,"post_id":74711478,"comment_id":131869632,"body_markdown":"So when I do debug btw, I can see a JacksonMapper but I can&#39;t see what version etc","body":"So when I do debug btw, I can see a JacksonMapper but I can&#39;t see what version etc"}],"tags":[],"owner":{"account_id":27092919,"reputation":59,"user_id":20640440,"display_name":"Games3D"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670384110,"creation_date":1670384110,"answer_id":74711478,"question_id":74710652,"body_markdown":"Two things, add the dependency the error log talks about (which I see you did) and then create a objectmapper bean in your spring configs for your service to use. Please remove what you have in the config class above and simply it to just this one bean method:\r\n\r\n    @Bean\r\n    ObjectMapper jacksonObjectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        return objectMapper;\r\n    }","title":"Spring Boot 2.7.6: Java 8 date/time type `java.time.Instant` not supported by default","body":"<p>Two things, add the dependency the error log talks about (which I see you did) and then create a objectmapper bean in your spring configs for your service to use. Please remove what you have in the config class above and simply it to just this one bean method:</p>\n<pre><code>@Bean\nObjectMapper jacksonObjectMapper() {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new JavaTimeModule());\n    return objectMapper;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14681183,"reputation":146,"user_id":10602598,"display_name":"I.Yuldoshev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700632705,"creation_date":1700632705,"answer_id":77527608,"question_id":74710652,"body_markdown":"From you logs you can see that ES is using `JacksonJsonpMapper` for parsing and it is not using object mapper configured by Spring. Also, you will lose autoconfiguration for `ObjectMapper` if you define it as a bean yourself.\r\n\r\nDefine `JacksonJsonpMapper` yourself with autoconfigured `ObjectMapper`\r\nand add this additional custom converters for ES\r\n\r\n```\r\n\r\n@Configuration\r\npublic class JacksonConfig {\r\n\r\n    /**\r\n     * Support for Java date and time API.\r\n     * @return the corresponding Jackson module.\r\n     */\r\n    @Bean\r\n    public JavaTimeModule javaTimeModule() {\r\n        return new JavaTimeModule();\r\n    }\r\n\r\n    @Bean\r\n    public Jdk8Module jdk8TimeModule() {\r\n        return new Jdk8Module();\r\n    }\r\n\r\n}\r\n\r\n\r\n@Configuration\r\npublic class ESConfig extends ElasticsearchConfigurationSupport {\r\n\r\n\r\n    @Bean\r\n    public JacksonJsonpMapper jacksonJsonpMapper(ObjectMapper objectMapper) {\r\n        return new JacksonJsonpMapper(objectMapper);\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public ElasticsearchCustomConversions elasticsearchCustomConversions() {\r\n        return new ElasticsearchCustomConversions(\r\n                List.of(\r\n                        new ZonedDateTimeWritingConverter(),\r\n                        new ZonedDateTimeReadingConverter(),\r\n                        new InstantWritingConverter(),\r\n                        new InstantReadingConverter(),\r\n                        new LocalDateWritingConverter(),\r\n                        new LocalDateReadingConverter()\r\n                )\r\n        );\r\n    }\r\n\r\n    @WritingConverter\r\n    static class ZonedDateTimeWritingConverter implements Converter&lt;ZonedDateTime, String&gt; {\r\n\r\n        @Override\r\n        public String convert(ZonedDateTime source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return source.toInstant().toString();\r\n        }\r\n    }\r\n\r\n    @ReadingConverter\r\n    static class ZonedDateTimeReadingConverter implements Converter&lt;String, ZonedDateTime&gt; {\r\n\r\n        @Override\r\n        public ZonedDateTime convert(String source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return Instant.parse(source).atZone(ZoneId.systemDefault());\r\n        }\r\n    }\r\n\r\n    @WritingConverter\r\n    static class InstantWritingConverter implements Converter&lt;Instant, String&gt; {\r\n\r\n        @Override\r\n        public String convert(Instant source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return source.toString();\r\n        }\r\n    }\r\n\r\n    @ReadingConverter\r\n    static class InstantReadingConverter implements Converter&lt;String, Instant&gt; {\r\n\r\n        @Override\r\n        public Instant convert(String source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return Instant.parse(source);\r\n        }\r\n    }\r\n\r\n    @WritingConverter\r\n    static class LocalDateWritingConverter implements Converter&lt;LocalDate, String&gt; {\r\n\r\n        @Override\r\n        public String convert(LocalDate source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return source.toString();\r\n        }\r\n    }\r\n\r\n    @ReadingConverter\r\n    static class LocalDateReadingConverter implements Converter&lt;String, LocalDate&gt; {\r\n\r\n        @Override\r\n        public LocalDate convert(String source) {\r\n            if (source == null) {\r\n                return null;\r\n            }\r\n            return LocalDate.parse(source);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Spring Boot 2.7.6: Java 8 date/time type `java.time.Instant` not supported by default","body":"<p>From you logs you can see that ES is using <code>JacksonJsonpMapper</code> for parsing and it is not using object mapper configured by Spring. Also, you will lose autoconfiguration for <code>ObjectMapper</code> if you define it as a bean yourself.</p>\n<p>Define <code>JacksonJsonpMapper</code> yourself with autoconfigured <code>ObjectMapper</code>\nand add this additional custom converters for ES</p>\n<pre><code>\n@Configuration\npublic class JacksonConfig {\n\n    /**\n     * Support for Java date and time API.\n     * @return the corresponding Jackson module.\n     */\n    @Bean\n    public JavaTimeModule javaTimeModule() {\n        return new JavaTimeModule();\n    }\n\n    @Bean\n    public Jdk8Module jdk8TimeModule() {\n        return new Jdk8Module();\n    }\n\n}\n\n\n@Configuration\npublic class ESConfig extends ElasticsearchConfigurationSupport {\n\n\n    @Bean\n    public JacksonJsonpMapper jacksonJsonpMapper(ObjectMapper objectMapper) {\n        return new JacksonJsonpMapper(objectMapper);\n    }\n\n    @Bean\n    @Override\n    public ElasticsearchCustomConversions elasticsearchCustomConversions() {\n        return new ElasticsearchCustomConversions(\n                List.of(\n                        new ZonedDateTimeWritingConverter(),\n                        new ZonedDateTimeReadingConverter(),\n                        new InstantWritingConverter(),\n                        new InstantReadingConverter(),\n                        new LocalDateWritingConverter(),\n                        new LocalDateReadingConverter()\n                )\n        );\n    }\n\n    @WritingConverter\n    static class ZonedDateTimeWritingConverter implements Converter&lt;ZonedDateTime, String&gt; {\n\n        @Override\n        public String convert(ZonedDateTime source) {\n            if (source == null) {\n                return null;\n            }\n            return source.toInstant().toString();\n        }\n    }\n\n    @ReadingConverter\n    static class ZonedDateTimeReadingConverter implements Converter&lt;String, ZonedDateTime&gt; {\n\n        @Override\n        public ZonedDateTime convert(String source) {\n            if (source == null) {\n                return null;\n            }\n            return Instant.parse(source).atZone(ZoneId.systemDefault());\n        }\n    }\n\n    @WritingConverter\n    static class InstantWritingConverter implements Converter&lt;Instant, String&gt; {\n\n        @Override\n        public String convert(Instant source) {\n            if (source == null) {\n                return null;\n            }\n            return source.toString();\n        }\n    }\n\n    @ReadingConverter\n    static class InstantReadingConverter implements Converter&lt;String, Instant&gt; {\n\n        @Override\n        public Instant convert(String source) {\n            if (source == null) {\n                return null;\n            }\n            return Instant.parse(source);\n        }\n    }\n\n    @WritingConverter\n    static class LocalDateWritingConverter implements Converter&lt;LocalDate, String&gt; {\n\n        @Override\n        public String convert(LocalDate source) {\n            if (source == null) {\n                return null;\n            }\n            return source.toString();\n        }\n    }\n\n    @ReadingConverter\n    static class LocalDateReadingConverter implements Converter&lt;String, LocalDate&gt; {\n\n        @Override\n        public LocalDate convert(String source) {\n            if (source == null) {\n                return null;\n            }\n            return LocalDate.parse(source);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1796,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700632705,"creation_date":1670374768,"question_id":74710652,"body_markdown":"I know there have been a few duplicates of my question but none have resolved my issue so I&#39;m creating a new question. \r\n\r\nI have a spring boot app (v 2.7.6) with JDK17 which queries an ElasticSearch object. This object contains an Instant field which when being mapped to an Java object is causing the following error:\r\n\r\n```\r\n2022-12-07 00:43:14.442 ERROR 59384 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Request processing failed; nested exception is co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.core.GetResponse: jakarta.json.JsonException: Jackson exception (JSON path: _source) (line no=1, column no=280, offset=-1)] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\r\n at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 279] (through reference chain: test.com.model.Project[&quot;createdDate&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1909) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.deser.impl.UnsupportedTypeDeserializer.deserialize(UnsupportedTypeDeserializer.java:48) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879) ~[jackson-databind-2.14.1.jar:2.14.1]\r\n\tat co.elastic.clients.json.jackson.JacksonJsonpMapper$JacksonValueParser.deserialize(JacksonJsonpMapper.java:123) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:76) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.JsonpMapperBase.deserialize(JsonpMapperBase.java:70) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.JsonpDeserializer$1.deserialize(JsonpDeserializer.java:99) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.NamedDeserializer.deserialize(NamedDeserializer.java:64) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:76) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.transport.endpoints.EndpointWithResponseMapperAttr$1.deserialize(EndpointWithResponseMapperAttr.java:56) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.transport.rest_client.RestClientTransport.decodeResponse(RestClientTransport.java:325) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:295) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:148) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.elasticsearch.ElasticsearchClient.get(ElasticsearchClient.java:831) ~[elasticsearch-java-8.5.1.jar:na]\r\n\tat co.elastic.clients.elasticsearch.ElasticsearchClient.get(ElasticsearchClient.java:847) ~[elasticsearch-java-8.5.1.jar:na]\r\n...\r\n.....\r\n```\r\nOriginally I had no JacksonConfiguration so I would have thought the default jackson would have just worked. \r\n\r\nAfter reading other stackoverflow posts I have tried creating a configuration class like so, but it has not resolved the issue:\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport org.openapitools.jackson.nullable.JsonNullableModule;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\n@Configuration\r\npublic class JacksonConfiguration {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public JacksonConfiguration(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    @Bean\r\n    public JavaTimeModule dateTimeModule(){\r\n        return new JavaTimeModule();\r\n    }\r\n\r\n    @PostConstruct\r\n    ObjectMapper jacksonObjectMapper() {\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        objectMapper.registerModule(new JsonNullableModule());\r\n        return objectMapper;\r\n    }\r\n}\r\n```\r\n\r\nHere are also my dependancies:\r\n```\r\ndependencies {\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-mongodb&#39;\r\n    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-elasticsearch&#39;, version: &#39;5.0.0&#39;\r\n    implementation &#39;org.elasticsearch.client:elasticsearch-rest-client:8.5.2&#39;\r\n    implementation &#39;co.elastic.clients:elasticsearch-java:8.5.1&#39;\r\n    implementation &#39;org.elasticsearch.client:elasticsearch-rest-high-level-client:7.17.6&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;\r\n    implementation group: &#39;org.springframework.security&#39;, name: &#39;spring-security-oauth2-client&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-validation&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-oauth2-resource-server&#39;\r\n//    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    implementation &#39;org.apache.httpcomponents.client5:httpclient5:5.0.3&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.13&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-security:1.6.13&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-webmvc-core:1.6.13&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-webflux-core:1.6.13&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-webflux-ui:1.6.13&#39;\r\n\r\n    implementation(&quot;org.springframework.cloud:spring-cloud-gcp-starter-pubsub:1.2.8.RELEASE&quot;)\r\n    implementation(&quot;org.springframework.integration:spring-integration-core&quot;)\r\n    implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-gcp-starter-logging&#39;\r\n    implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-gcp-starter-logging&#39;, version: &#39;1.2.8.RELEASE&#39;\r\n\r\n    implementation group: &#39;co.elastic.logging&#39;, name: &#39;logback-ecs-encoder&#39;, version: &#39;1.3.2&#39;\r\n    implementation group: &#39;com.amazonaws&#39;, name: &#39;aws-java-sdk&#39;, version: &#39;1.12.142&#39;\r\n\r\n    implementation group: &#39;javax.validation&#39;, name: &#39;validation-api&#39;, version: &#39;2.0.1.Final&#39;\r\n//    implementation group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-jsr310&#39;, version: &#39;2.13.1&#39;\r\n    implementation group: &#39;com.fasterxml.jackson.datatype&#39;, name: &#39;jackson-datatype-jsr310&#39;, version: &#39;2.14.1&#39;\r\n    implementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.9.1&#39;\r\n    implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20201115&#39;\r\n\r\n    implementation group: &#39;org.openapitools&#39;, name: &#39;jackson-databind-nullable&#39;, version: &#39;0.2.2&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.14.1&#39;\r\n    implementation &#39;jakarta.json:jakarta.json-api:2.0.1&#39;\r\n\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-collections4&#39;, version: &#39;4.4&#39;\r\n    implementation &#39;commons-io:commons-io:2.11.0&#39;\r\n    implementation &#39;org.apache.commons:commons-lang3:3.12.0&#39;\r\n    implementation &#39;com.google.guava:guava:31.0.1-jre&#39;\r\n\r\n    implementation group: &#39;com.auth0&#39;, name: &#39;java-jwt&#39;, version: &#39;3.12.0&#39;\r\n    implementation group: &#39;com.auth0&#39;, name: &#39;auth0&#39;, version: &#39;1.34.1&#39;\r\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n\r\n\r\n    implementation group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;, version: &#39;1.15&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.13.2&#39;\r\n    testImplementation &#39;org.projectlombok:lombok:1.18.20&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.20&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine&#39;\r\n}\r\n```\r\n","title":"Spring Boot 2.7.6: Java 8 date/time type `java.time.Instant` not supported by default","body":"<p>I know there have been a few duplicates of my question but none have resolved my issue so I'm creating a new question.</p>\n<p>I have a spring boot app (v 2.7.6) with JDK17 which queries an ElasticSearch object. This object contains an Instant field which when being mapped to an Java object is causing the following error:</p>\n<pre><code>2022-12-07 00:43:14.442 ERROR 59384 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/v1] threw exception [Request processing failed; nested exception is co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.core.GetResponse: jakarta.json.JsonException: Jackson exception (JSON path: _source) (line no=1, column no=280, offset=-1)] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.Instant` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling\n at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 279] (through reference chain: test.com.model.Project[&quot;createdDate&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1909) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.deser.impl.UnsupportedTypeDeserializer.deserialize(UnsupportedTypeDeserializer.java:48) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4706) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2879) ~[jackson-databind-2.14.1.jar:2.14.1]\n    at co.elastic.clients.json.jackson.JacksonJsonpMapper$JacksonValueParser.deserialize(JacksonJsonpMapper.java:123) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:76) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.JsonpMapperBase.deserialize(JsonpMapperBase.java:70) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.JsonpDeserializer$1.deserialize(JsonpDeserializer.java:99) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.NamedDeserializer.deserialize(NamedDeserializer.java:64) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:76) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.transport.endpoints.EndpointWithResponseMapperAttr$1.deserialize(EndpointWithResponseMapperAttr.java:56) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.transport.rest_client.RestClientTransport.decodeResponse(RestClientTransport.java:325) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:295) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:148) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.elasticsearch.ElasticsearchClient.get(ElasticsearchClient.java:831) ~[elasticsearch-java-8.5.1.jar:na]\n    at co.elastic.clients.elasticsearch.ElasticsearchClient.get(ElasticsearchClient.java:847) ~[elasticsearch-java-8.5.1.jar:na]\n...\n.....\n</code></pre>\n<p>Originally I had no JacksonConfiguration so I would have thought the default jackson would have just worked.</p>\n<p>After reading other stackoverflow posts I have tried creating a configuration class like so, but it has not resolved the issue:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport org.openapitools.jackson.nullable.JsonNullableModule;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.annotation.PostConstruct;\n\n@Configuration\npublic class JacksonConfiguration {\n\n    private final ObjectMapper objectMapper;\n\n    public JacksonConfiguration(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @Bean\n    public JavaTimeModule dateTimeModule(){\n        return new JavaTimeModule();\n    }\n\n    @PostConstruct\n    ObjectMapper jacksonObjectMapper() {\n        objectMapper.registerModule(new JavaTimeModule());\n        objectMapper.registerModule(new JsonNullableModule());\n        return objectMapper;\n    }\n}\n</code></pre>\n<p>Here are also my dependancies:</p>\n<pre><code>dependencies {\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-mongodb'\n    implementation group: 'org.springframework.data', name: 'spring-data-elasticsearch', version: '5.0.0'\n    implementation 'org.elasticsearch.client:elasticsearch-rest-client:8.5.2'\n    implementation 'co.elastic.clients:elasticsearch-java:8.5.1'\n    implementation 'org.elasticsearch.client:elasticsearch-rest-high-level-client:7.17.6'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-security'\n    implementation group: 'org.springframework.security', name: 'spring-security-oauth2-client'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-validation'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-oauth2-resource-server'\n//    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n    implementation 'org.apache.httpcomponents.client5:httpclient5:5.0.3'\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.13'\n    implementation 'org.springdoc:springdoc-openapi-security:1.6.13'\n    implementation 'org.springdoc:springdoc-openapi-webmvc-core:1.6.13'\n    implementation 'org.springdoc:springdoc-openapi-webflux-core:1.6.13'\n    implementation 'org.springdoc:springdoc-openapi-webflux-ui:1.6.13'\n\n    implementation(&quot;org.springframework.cloud:spring-cloud-gcp-starter-pubsub:1.2.8.RELEASE&quot;)\n    implementation(&quot;org.springframework.integration:spring-integration-core&quot;)\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-logging'\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-gcp-starter-logging', version: '1.2.8.RELEASE'\n\n    implementation group: 'co.elastic.logging', name: 'logback-ecs-encoder', version: '1.3.2'\n    implementation group: 'com.amazonaws', name: 'aws-java-sdk', version: '1.12.142'\n\n    implementation group: 'javax.validation', name: 'validation-api', version: '2.0.1.Final'\n//    implementation group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.13.1'\n    implementation group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: '2.14.1'\n    implementation group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1'\n    implementation group: 'org.json', name: 'json', version: '20201115'\n\n    implementation group: 'org.openapitools', name: 'jackson-databind-nullable', version: '0.2.2'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.14.1'\n    implementation 'jakarta.json:jakarta.json-api:2.0.1'\n\n    implementation group: 'org.apache.commons', name: 'commons-collections4', version: '4.4'\n    implementation 'commons-io:commons-io:2.11.0'\n    implementation 'org.apache.commons:commons-lang3:3.12.0'\n    implementation 'com.google.guava:guava:31.0.1-jre'\n\n    implementation group: 'com.auth0', name: 'java-jwt', version: '3.12.0'\n    implementation group: 'com.auth0', name: 'auth0', version: '1.34.1'\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n\n\n    implementation group: 'commons-codec', name: 'commons-codec', version: '1.15'\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation group: 'junit', name: 'junit', version: '4.13.2'\n    testImplementation 'org.projectlombok:lombok:1.18.20'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.20'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'\n}\n</code></pre>\n"},{"tags":["java","maven","osgi","micronaut"],"owner":{"account_id":29963340,"reputation":1,"user_id":22962460,"display_name":"Sudheer Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700632396,"creation_date":1700632396,"question_id":77527595,"body_markdown":"I am not to integrate micronaut in sample oneM2M osgi project .I want to calculate the execution time of the functions using micronaut,but micronaut is  running as a seperate application. But not with osgi project . I have created the plugin named **org.eclipse.om2m.sample.ipe** and added the plugin in the mn-cse module . \r\n\r\nI have created the sample plugin in mn-cse and added the micronaut functionality in that but the annotations like singleton,async and many more are not resolved. My micronaut functinality is running in the seperate project but not in the plugin one . What should I need to do ?\r\n[error photo ](https://i.stack.imgur.com/bDuV0.png).If someone can tell me how to integrate micronaut with oneM2M sample project then it would be great !","title":"I want to integrate micronaut functionality in sample oneM2M project and to calculate the execution time of the functions","body":"<p>I am not to integrate micronaut in sample oneM2M osgi project .I want to calculate the execution time of the functions using micronaut,but micronaut is  running as a seperate application. But not with osgi project . I have created the plugin named <strong>org.eclipse.om2m.sample.ipe</strong> and added the plugin in the mn-cse module .</p>\n<p>I have created the sample plugin in mn-cse and added the micronaut functionality in that but the annotations like singleton,async and many more are not resolved. My micronaut functinality is running in the seperate project but not in the plugin one . What should I need to do ?\n<a href=\"https://i.stack.imgur.com/bDuV0.png\" rel=\"nofollow noreferrer\">error photo </a>.If someone can tell me how to integrate micronaut with oneM2M sample project then it would be great !</p>\n"},{"tags":["java","generics","nested-generics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1698959624,"post_id":77412786,"comment_id":136474255,"body_markdown":"I&#39;m not quite sure why you want to keep the type parameters in your `Impl` classes. Why not just `class NodeImpl implements Node&lt;EdgeImpl&gt; { ...` ?","body":"I&#39;m not quite sure why you want to keep the type parameters in your <code>Impl</code> classes. Why not just <code>class NodeImpl implements Node&lt;EdgeImpl&gt; { ...</code> ?"},{"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"score":0,"creation_date":1699132496,"post_id":77412786,"comment_id":136493735,"body_markdown":"There may be multiple node and edge implementations. I want every node implementation to work with any edge implementation and every edge implementation to work with any node implementation.","body":"There may be multiple node and edge implementations. I want every node implementation to work with any edge implementation and every edge implementation to work with any node implementation."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1699135608,"post_id":77412786,"comment_id":136494006,"body_markdown":"Are you sure you need generics at all? Just let `Node`s deal with general `Edge`s and vice-versa.","body":"Are you sure you need generics at all? Just let <code>Node</code>s deal with general <code>Edge</code>s and vice-versa."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699146250,"post_id":77412786,"comment_id":136494718,"body_markdown":"Please edit your question and show how you want to use the implementations.","body":"Please edit your question and show how you want to use the implementations."}],"answers":[{"comments":[{"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"score":0,"creation_date":1700727082,"post_id":77527590,"comment_id":136690459,"body_markdown":"The interface definition looks good.\n\nHowever, the idea is to have a NodeImpl which can work with any type of Edge and an EdgeImpl which can work with any type of Node. Here, you are restricting NodeImpl to work with EdgeImpl and vice versa. Or is that not possible? Am I overlooking something?","body":"The interface definition looks good.  However, the idea is to have a NodeImpl which can work with any type of Edge and an EdgeImpl which can work with any type of Node. Here, you are restricting NodeImpl to work with EdgeImpl and vice versa. Or is that not possible? Am I overlooking something?"},{"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"score":0,"creation_date":1700727472,"post_id":77527590,"comment_id":136690516,"body_markdown":"What seems to work is\n\n`public class NodeImpl&lt;N extends NodeImpl&lt;N, E&gt;, E extends Edge&lt;N, E&gt;&gt; implements Node&lt;N, E&gt; {`\n`public class EdgeImpl&lt;N extends Node&lt;N, E&gt;, E extends EdgeImpl&lt;N, E&gt;&gt; implements Edge&lt;N, E&gt;`","body":"What seems to work is  <code>public class NodeImpl&lt;N extends NodeImpl&lt;N, E&gt;, E extends Edge&lt;N, E&gt;&gt; implements Node&lt;N, E&gt; {</code> <code>public class EdgeImpl&lt;N extends Node&lt;N, E&gt;, E extends EdgeImpl&lt;N, E&gt;&gt; implements Edge&lt;N, E&gt;</code>"}],"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700632253,"creation_date":1700632253,"answer_id":77527590,"question_id":77412786,"body_markdown":"If you want to have two implementation classes that are linked, you can declare the interfaces as:\r\n\r\n    public interface Node&lt;N extends Node&lt;N,E&gt;, E extends Edge&lt;N,E&gt;&gt; {\r\n    public interface Edge&lt;N extends Node&lt;N,E&gt;, E extends Edge&lt;N,E&gt;&gt; {\r\n\r\nThen you can declare implementation classes as:\r\n\r\n    public class NodeImpl implements Node&lt;NodeImpl, EdgeImpl&gt; {\r\n    public class EdgeImpl implements Edge&lt;NodeImpl, EdgeImpl&gt; {","title":"How can self-references (recursion) in Java generics be used correctly?","body":"<p>If you want to have two implementation classes that are linked, you can declare the interfaces as:</p>\n<pre><code>public interface Node&lt;N extends Node&lt;N,E&gt;, E extends Edge&lt;N,E&gt;&gt; {\npublic interface Edge&lt;N extends Node&lt;N,E&gt;, E extends Edge&lt;N,E&gt;&gt; {\n</code></pre>\n<p>Then you can declare implementation classes as:</p>\n<pre><code>public class NodeImpl implements Node&lt;NodeImpl, EdgeImpl&gt; {\npublic class EdgeImpl implements Edge&lt;NodeImpl, EdgeImpl&gt; {\n</code></pre>\n"}],"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700632253,"creation_date":1698957877,"question_id":77412786,"body_markdown":"Let&#39;s say I have two Java interfaces. One is a node interface that is supposed to manage its outgoing and incoming edges, so it is parameterized with an edge type. The other one is an edge interface that has a source node and a target node, so it is parameterized with a node type.\r\n\r\nI could start defining it like this:\r\n\r\n    public interface Node&lt;E extends Edge&gt; {\r\n        List&lt;E&gt; getOutgoingEdges();\r\n        List&lt;E&gt; getIncomingEdges();\r\n    }\r\n\r\n    public interface Edge&lt;N extends Node&gt; {\r\n        N getSource();\r\n        N getTarget();\r\n    }\r\n\r\nThis is only partially correct, because Edge and Node have parameters, and they have been omitted.\r\n\r\nSo I could try this:\r\n\r\n    public interface Node&lt;E extends Edge&lt;Node&lt;E&gt;&gt; {\r\n    public interface Edge&lt;N extends Node&lt;Edge&lt;N&gt;&gt; {\r\n\r\nHowever, this causes compiler errors.\r\n\r\nThis works, but it doesn&#39;t quite seem to be what I want:\r\n\r\n    public interface Node&lt;E extends Edge&lt;?&gt;&gt; {\r\n    public interface Edge&lt;N extends Node&lt;?&gt;&gt; {\r\n\r\nAnd least it also allows implementing the interfaces with two classes:\r\n\r\n    public class NodeImpl&lt;E extends Edge&lt;NodeImpl&lt;E&gt;&gt;&gt; implements Node&lt;E&gt; {\r\n    public class EdgeImpl&lt;N extends Node&lt;EdgeImpl&lt;N&gt;&gt;&gt; implements Edge&lt;N&gt; {\r\n\r\nWhat is then the correct way to declare and instantiate NodeImpl and EdgeImpl? None of this works without warnings/errors:\r\n\r\n    Node&lt;?&gt; node = new NodeImpl&lt;&gt;();\r\n    Node&lt;EdgeImpl&lt;?&gt;&gt; node = new NodeImpl&lt;&gt;();\r\n    Node&lt;EdgeImpl&lt;? extends Node&gt;&gt; node = new NodeImpl&lt;&gt;();\r\n    NodeImpl&lt;?&gt; node = new NodeImpl&lt;&gt;();\r\n    NodeImpl&lt;EdgeImpl&lt;?&gt;&gt; node = new NodeImpl&lt;&gt;();\r\n    NodeImpl&lt;EdgeImpl&lt;? extends Node&gt;&gt; node = new NodeImpl&lt;&gt;();\r\n\r\nHow shall the interfaces be declared, how do the implementations need to be declared and how can I declare/instantiate the implementations?","title":"How can self-references (recursion) in Java generics be used correctly?","body":"<p>Let's say I have two Java interfaces. One is a node interface that is supposed to manage its outgoing and incoming edges, so it is parameterized with an edge type. The other one is an edge interface that has a source node and a target node, so it is parameterized with a node type.</p>\n<p>I could start defining it like this:</p>\n<pre><code>public interface Node&lt;E extends Edge&gt; {\n    List&lt;E&gt; getOutgoingEdges();\n    List&lt;E&gt; getIncomingEdges();\n}\n\npublic interface Edge&lt;N extends Node&gt; {\n    N getSource();\n    N getTarget();\n}\n</code></pre>\n<p>This is only partially correct, because Edge and Node have parameters, and they have been omitted.</p>\n<p>So I could try this:</p>\n<pre><code>public interface Node&lt;E extends Edge&lt;Node&lt;E&gt;&gt; {\npublic interface Edge&lt;N extends Node&lt;Edge&lt;N&gt;&gt; {\n</code></pre>\n<p>However, this causes compiler errors.</p>\n<p>This works, but it doesn't quite seem to be what I want:</p>\n<pre><code>public interface Node&lt;E extends Edge&lt;?&gt;&gt; {\npublic interface Edge&lt;N extends Node&lt;?&gt;&gt; {\n</code></pre>\n<p>And least it also allows implementing the interfaces with two classes:</p>\n<pre><code>public class NodeImpl&lt;E extends Edge&lt;NodeImpl&lt;E&gt;&gt;&gt; implements Node&lt;E&gt; {\npublic class EdgeImpl&lt;N extends Node&lt;EdgeImpl&lt;N&gt;&gt;&gt; implements Edge&lt;N&gt; {\n</code></pre>\n<p>What is then the correct way to declare and instantiate NodeImpl and EdgeImpl? None of this works without warnings/errors:</p>\n<pre><code>Node&lt;?&gt; node = new NodeImpl&lt;&gt;();\nNode&lt;EdgeImpl&lt;?&gt;&gt; node = new NodeImpl&lt;&gt;();\nNode&lt;EdgeImpl&lt;? extends Node&gt;&gt; node = new NodeImpl&lt;&gt;();\nNodeImpl&lt;?&gt; node = new NodeImpl&lt;&gt;();\nNodeImpl&lt;EdgeImpl&lt;?&gt;&gt; node = new NodeImpl&lt;&gt;();\nNodeImpl&lt;EdgeImpl&lt;? extends Node&gt;&gt; node = new NodeImpl&lt;&gt;();\n</code></pre>\n<p>How shall the interfaces be declared, how do the implementations need to be declared and how can I declare/instantiate the implementations?</p>\n"},{"tags":["java","scala","file","jvm"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1513073738,"post_id":47769957,"comment_id":82501144,"body_markdown":"&quot;Somewhere I read that it&#39;s unnecessary to close it by yourself, just leave it&quot; No, that&#39;s why explicit close methods and try-with-resources exist.","body":"&quot;Somewhere I read that it&#39;s unnecessary to close it by yourself, just leave it&quot; No, that&#39;s why explicit close methods and try-with-resources exist."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1513073825,"post_id":47769957,"comment_id":82501201,"body_markdown":"Related: https://codereview.stackexchange.com/questions/33010/do-i-need-to-close-my-fileoutputstreams","body":"Related: <a href=\"https://codereview.stackexchange.com/questions/33010/do-i-need-to-close-my-fileoutputstreams\" title=\"do i need to close my fileoutputstreams\">codereview.stackexchange.com/questions/33010/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1513074214,"post_id":47769957,"comment_id":82501427,"body_markdown":"@saifahmad - Incorrect.  They will be *eventually* collected by the GC ... after they become unreachable.  The problem is &quot;eventually&quot;.  If you rely on the GC to close files, your application is liable to run out of *file descriptors* before the GC gets a chance to clean up your mess.","body":"@saifahmad - Incorrect.  They will be <i>eventually</i> collected by the GC ... after they become unreachable.  The problem is &quot;eventually&quot;.  If you rely on the GC to close files, your application is liable to run out of <i>file descriptors</i> before the GC gets a chance to clean up your mess."},{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1513087117,"post_id":47769957,"comment_id":82509678,"body_markdown":"@Stephen C But JVM is intelligent enough to detect that file discriptor is going to fill. And GC would kick-in. But I agree that it&#39;s a bad practice to leave a file pointer dangling.","body":"@Stephen C But JVM is intelligent enough to detect that file discriptor is going to fill. And GC would kick-in. But I agree that it&#39;s a bad practice to leave a file pointer dangling."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1513088378,"post_id":47769957,"comment_id":82510545,"body_markdown":"@saifahmad - I&#39;m pretty sure that the GC will not be triggered if you run out of file descriptors.  (And I just looked at the OpenJDK Java 8 source code ...)","body":"@saifahmad - I&#39;m pretty sure that the GC will not be triggered if you run out of file descriptors.  (And I just looked at the OpenJDK Java 8 source code ...)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1513088581,"post_id":47769957,"comment_id":82510672,"body_markdown":"And I just confirmed it with a simple test program.","body":"And I just confirmed it with a simple test program."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1513088664,"post_id":47769957,"comment_id":82510728,"body_markdown":"@saifahmad: no, it is not. The JVM itself does not know anything about file descriptors. It doesnt detect when it runs out of descriptor and it doesnt trigger a garbage collection. Even worse, a garbage collection running at the same time wouldnt free them in time. The only thing, the garbage collector does, is detecting that the objects encapsulating the descriptors are garbage. That alone is not sufficient to free them.","body":"@saifahmad: no, it is not. The JVM itself does not know anything about file descriptors. It doesnt detect when it runs out of descriptor and it doesnt trigger a garbage collection. Even worse, a garbage collection running at the same time wouldnt free them in time. The only thing, the garbage collector does, is detecting that the objects encapsulating the descriptors are garbage. That alone is not sufficient to free them."},{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":0,"creation_date":1513092982,"post_id":47769957,"comment_id":82513565,"body_markdown":"Thanks all for the information. I was unaware of the fact that file descriptor are not considered in the GC.","body":"Thanks all for the information. I was unaware of the fact that file descriptor are not considered in the GC."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1513767275,"post_id":47769957,"comment_id":82775374,"body_markdown":"You can let the JVM do it **provided** you never create too many file between GCs, however if you make this assumption you never know when this might break your application as it can depend on load. It is much safer to always clean up resources that are Closeable.","body":"You can let the JVM do it <b>provided</b> you never create too many file between GCs, however if you make this assumption you never know when this might break your application as it can depend on load. It is much safer to always clean up resources that are Closeable."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1513088968,"post_id":47770437,"comment_id":82510926,"body_markdown":"Theres the common confusion of Garbage Collection and Finalization. The Garbage Collector will never invoke `finalize()`, in the best case, it will *enqueue* objects needing finalization. Since 99% of all objects dont need finalization, JVMs do not care about growing queues of pending finalizations. Thats especially true for applications rapidly allocating new resources, as those application threads have a higher priority as the finalization threads. So even *if* a garbage collector has identified finalizable objects encapsulating descriptors, the JVM might still run out of free descriptors","body":"Theres the common confusion of Garbage Collection and Finalization. The Garbage Collector will never invoke <code>finalize()</code>, in the best case, it will <i>enqueue</i> objects needing finalization. Since 99% of all objects dont need finalization, JVMs do not care about growing queues of pending finalizations. Thats especially true for applications rapidly allocating new resources, as those application threads have a higher priority as the finalization threads. So even <i>if</i> a garbage collector has identified finalizable objects encapsulating descriptors, the JVM might still run out of free descriptors"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1700631909,"creation_date":1513074847,"answer_id":47770437,"question_id":47769957,"body_markdown":"&gt; Somewhere I read that it&#39;s unnecessary to close it by yourself, just leave it, JVM will help you do this. Is it true? \r\n\r\nIt is partly true.\r\n\r\nIf you open a file, use it and then drop the file or stream handle (or whatever you want to call it), AND the GC finds it, THEN the GC will queue the file handle object for finalization.  When the finalization occurs the file handler&#39;s `finalize()` method will release the resources; i.e. the file descriptor.\r\n\r\nHowever, it is **a bad idea** to rely on the GC to do this.\r\n\r\n  - If a file handle is (still) reachable, then the GC won&#39;t queue it for finalization.\r\n  - You have no way of knowing when the GC is going to run next&lt;sup&gt;1&lt;/sup&gt;.\r\n  - And when the GC runs, it won&#39;t necessarily collect *all* of the garbage&lt;sup&gt;2&lt;/sup&gt; (and hence queue *all* lost file handles).\r\n  - And objects that are queued for finalization don&#39;t get actually finalized until after the GC finishes.  (See @Holger&#39;s comment)\r\n\r\nPut these four things together, and an application can easily run out of file descriptors before the GC gets around to collecting and closing the abandoned file handles.  If that happens, you are liable to get exceptions on operations that open files, directories, sockets, etcetera.\r\n\r\nHere&#39;s an example you can run (on Linux / UNIX) to see this happening:\r\n\r\n    import java.io.FileInputStream;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception {\r\n            for (int i = 0; i &lt; 100000; i++) {\r\n                new FileInputStream(&quot;/etc/motd&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    $ javac Test.java \r\n    $ java Test \r\n    Exception in thread &quot;main&quot; java.io.FileNotFoundException: /etc/motd (Too many open files)\r\n    \tat java.io.FileInputStream.open0(Native Method)\r\n    \tat java.io.FileInputStream.open(FileInputStream.java:195)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\r\n    \tat Test.main(Test.java:6)\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - A typical GC only runs when the heap (or part of the heap) reaches a given threshold of &quot;fullness&quot;.  If an application doesn&#39;t allocate many objects, it can take a long time for the threshold to be reached.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - Modern JVMs use generational garbage collectors which collect different parts of the heap at different rates.&lt;/sup&gt;\r\n","title":"Does JVM automatically closes files?","body":"<blockquote>\n<p>Somewhere I read that it's unnecessary to close it by yourself, just leave it, JVM will help you do this. Is it true?</p>\n</blockquote>\n<p>It is partly true.</p>\n<p>If you open a file, use it and then drop the file or stream handle (or whatever you want to call it), AND the GC finds it, THEN the GC will queue the file handle object for finalization.  When the finalization occurs the file handler's <code>finalize()</code> method will release the resources; i.e. the file descriptor.</p>\n<p>However, it is <strong>a bad idea</strong> to rely on the GC to do this.</p>\n<ul>\n<li>If a file handle is (still) reachable, then the GC won't queue it for finalization.</li>\n<li>You have no way of knowing when the GC is going to run next<sup>1</sup>.</li>\n<li>And when the GC runs, it won't necessarily collect <em>all</em> of the garbage<sup>2</sup> (and hence queue <em>all</em> lost file handles).</li>\n<li>And objects that are queued for finalization don't get actually finalized until after the GC finishes.  (See @Holger's comment)</li>\n</ul>\n<p>Put these four things together, and an application can easily run out of file descriptors before the GC gets around to collecting and closing the abandoned file handles.  If that happens, you are liable to get exceptions on operations that open files, directories, sockets, etcetera.</p>\n<p>Here's an example you can run (on Linux / UNIX) to see this happening:</p>\n<pre><code>import java.io.FileInputStream;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        for (int i = 0; i &lt; 100000; i++) {\n            new FileInputStream(&quot;/etc/motd&quot;);\n        }\n    }\n}\n\n$ javac Test.java \n$ java Test \nException in thread &quot;main&quot; java.io.FileNotFoundException: /etc/motd (Too many open files)\n    at java.io.FileInputStream.open0(Native Method)\n    at java.io.FileInputStream.open(FileInputStream.java:195)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\n    at Test.main(Test.java:6)\n</code></pre>\n<hr />\n<p><sup>1 - A typical GC only runs when the heap (or part of the heap) reaches a given threshold of &quot;fullness&quot;.  If an application doesn't allocate many objects, it can take a long time for the threshold to be reached.</sup></p>\n<p><sup>2 - Modern JVMs use generational garbage collectors which collect different parts of the heap at different rates.</sup></p>\n"},{"tags":[],"owner":{"account_id":3439841,"reputation":14084,"user_id":2882051,"display_name":"chengpohi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513095629,"creation_date":1513095629,"answer_id":47777129,"question_id":47769957,"body_markdown":"Yes, In some point it&#39;s true, **JVM** will help release the file descriptor when GC in some time with invoking `finalize` method(you can try to verify it by `System.gc()`).\r\n\r\nAnd also totally agree we need to explicitly close `InputStream` when we don&#39;t need this and release the **file descriptor**. \r\n\r\nbut if your application don&#39;t frequently operate on file descriptors(file, network io), do we need to care this too? after all, there is `finalize` method. \r\n\r\nYes it&#39;s a good practice to `close` it, explicitly release it.\r\n\r\n\r\nand for OP&#39;s problem is very like **Java**&#39;s: how to safely close the `Stream` by `Files.lines`. In **Java**, we can use the **try with resources** handle this. But **Scala** not support this, maybe you can try with `try ... finally` to handle this, like:\r\n\r\n    val reader = Source.fromFile(&quot;build.sbt&quot;).bufferedReader()\r\n    try {\r\n      reader.lines().forEach(line =&gt; {\r\n      ...\r\n      })\r\n    } finally {\r\n      reader.close()\r\n    }","title":"Does JVM automatically closes files?","body":"<p>Yes, In some point it's true, <strong>JVM</strong> will help release the file descriptor when GC in some time with invoking <code>finalize</code> method(you can try to verify it by <code>System.gc()</code>).</p>\n\n<p>And also totally agree we need to explicitly close <code>InputStream</code> when we don't need this and release the <strong>file descriptor</strong>. </p>\n\n<p>but if your application don't frequently operate on file descriptors(file, network io), do we need to care this too? after all, there is <code>finalize</code> method. </p>\n\n<p>Yes it's a good practice to <code>close</code> it, explicitly release it.</p>\n\n<p>and for OP's problem is very like <strong>Java</strong>'s: how to safely close the <code>Stream</code> by <code>Files.lines</code>. In <strong>Java</strong>, we can use the <strong>try with resources</strong> handle this. But <strong>Scala</strong> not support this, maybe you can try with <code>try ... finally</code> to handle this, like:</p>\n\n<pre><code>val reader = Source.fromFile(\"build.sbt\").bufferedReader()\ntry {\n  reader.lines().forEach(line =&gt; {\n  ...\n  })\n} finally {\n  reader.close()\n}\n</code></pre>\n"}],"owner":{"account_id":9661645,"reputation":45,"user_id":7169509,"display_name":"Vova Polischuk"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2079,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700631909,"creation_date":1513073364,"question_id":47769957,"body_markdown":"Somewhere I read that it&#39;s unnecessary to close it by yourself, just leave it, JVM will help you do this. Is it true? \r\n\r\nAssume I need to fetch data from file with\r\n\r\n    Source.fromFile(fileName).getLines() \r\n\r\ndirectly, without\r\n\r\n    val source = Source.fromFile(fileName)\r\n    val lines = source.getLines()\r\n    ............\r\n    source.close()\r\n\r\nIn a first way, I can&#39;t get access directly to the source and close it. My JVM works for a long period. And I need a file to be closed (unused resources need to be closed). \r\n\r\nIt would be great if somebody could leave some links or explanations here.","title":"Does JVM automatically closes files?","body":"<p>Somewhere I read that it's unnecessary to close it by yourself, just leave it, JVM will help you do this. Is it true? </p>\n\n<p>Assume I need to fetch data from file with</p>\n\n<pre><code>Source.fromFile(fileName).getLines() \n</code></pre>\n\n<p>directly, without</p>\n\n<pre><code>val source = Source.fromFile(fileName)\nval lines = source.getLines()\n............\nsource.close()\n</code></pre>\n\n<p>In a first way, I can't get access directly to the source and close it. My JVM works for a long period. And I need a file to be closed (unused resources need to be closed). </p>\n\n<p>It would be great if somebody could leave some links or explanations here.</p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-data-r2dbc","r2dbc-postgresql"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":1,"creation_date":1678697528,"post_id":75718469,"comment_id":133576863,"body_markdown":"1000 requests but with what rate?","body":"1000 requests but with what rate?"},{"owner":{"account_id":27830053,"reputation":35,"user_id":21248644,"display_name":"user18032014"},"score":0,"creation_date":1678734076,"post_id":75718469,"comment_id":133587811,"body_markdown":"I think it&#39;s close to ~1000 rps, but processing these requests (in the code from the question) is done in a single thread.","body":"I think it&#39;s close to ~1000 rps, but processing these requests (in the code from the question) is done in a single thread."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700648973,"post_id":77527515,"comment_id":136679628,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77527515/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27830053,"reputation":35,"user_id":21248644,"display_name":"user18032014"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700631062,"creation_date":1700631062,"answer_id":77527515,"question_id":75718469,"body_markdown":"This behavior is likely already fixed. See https://github.com/r2dbc/r2dbc-pool/issues/190","title":"Thread pool in r2dbc-postgresql","body":"<p>This behavior is likely already fixed. See <a href=\"https://github.com/r2dbc/r2dbc-pool/issues/190\" rel=\"nofollow noreferrer\">https://github.com/r2dbc/r2dbc-pool/issues/190</a></p>\n"}],"owner":{"account_id":27830053,"reputation":35,"user_id":21248644,"display_name":"user18032014"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77527515,"answer_count":1,"score":2,"last_activity_date":1700631062,"creation_date":1678687238,"question_id":75718469,"body_markdown":"Can you help me understand? There is a Spring Boot (3.0.2) service with Spring Data R2DBC repository and r2dbc-postgresql driver. By default, a pool of 10 connections and 10 reactor-tcp-nio threads is created. I have enabled logging of R2DBC queries in the database and logging in the operators after the reactive repository. 1000 HTTP requests per second have been generated using JMeter. The result is that I see that all queries in the database and all operators after the reactive repository are executed in the reactor-tcp-nio-1 thread. If a breakpoint is set in the doOnNext operator (not on the line, but on the lambda) in the IDE, the reactor-tcp-nio-1 thread will suspend, and all other threads will still not be utilized.\r\n\r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class R2DBCApplication {\r\n    private static final Logger log = LoggerFactory.getLogger(R2DBCApplication.class);\r\n\r\n    public static void main(final String[] args) {\r\n        SpringApplication.run(R2DBCApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n```java\r\npackage com.example;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.UUID;\r\n\r\n@RestController\r\npublic class ValueController {\r\n    private static final Logger log = LoggerFactory.getLogger(ValueController.class);\r\n\r\n    @Autowired\r\n    private ValueRepository repository;\r\n\r\n    @GetMapping(&quot;/value&quot;)\r\n    public Mono&lt;String&gt; get() {\r\n        final var uuid = UUID.randomUUID().toString();\r\n        log.info(&quot;start for uuid = {}&quot;, uuid);\r\n        return repository\r\n                .findById(1L)\r\n                .map(ValueEntity::getId)\r\n                .map(String::valueOf)\r\n                .switchIfEmpty(Mono.fromSupplier(() -&gt; uuid))\r\n                .doOnNext(v -&gt; log.info(&quot;after switchIfEmpty uuid = {}&quot;, v));\r\n    }\r\n}\r\n```\r\n```java\r\npackage com.example;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.relational.core.mapping.Column;\r\nimport org.springframework.data.relational.core.mapping.Table;\r\n\r\n@Table(&quot;value&quot;)\r\npublic class ValueEntity {\r\n\r\n    @Id\r\n    @Column(&quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(&quot;value&quot;)\r\n    private String value;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(final Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(final String value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n```java\r\npackage com.example;\r\n\r\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\r\n\r\npublic interface ValueRepository extends R2dbcRepository&lt;ValueEntity, Long&gt; {\r\n\r\n}\r\n```\r\n```\r\nserver.port: 9080\r\nspring:\r\n  application.name: r2dbc-service\r\n  r2dbc:\r\n    url: r2dbc:postgresql://localhost:5433/postgres\r\n    username: postgres\r\n    password: 12345\r\n    properties:\r\n      schema: public\r\n\r\nlogging.level.root: DEBUG\r\n```\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIs this the expected behavior? I assumed that all 10 reactor-tcp-nio threads would be utilized.\r\nWhat can be done to make queries and operator execution happen in different threads? (reactor-tcp-nio-1, ..., reactor-tcp-nio-10).\r\n\r\nDo you really need to add publishOn or subscribeOn after every call to a reactive repository?\r\n","title":"Thread pool in r2dbc-postgresql","body":"<p>Can you help me understand? There is a Spring Boot (3.0.2) service with Spring Data R2DBC repository and r2dbc-postgresql driver. By default, a pool of 10 connections and 10 reactor-tcp-nio threads is created. I have enabled logging of R2DBC queries in the database and logging in the operators after the reactive repository. 1000 HTTP requests per second have been generated using JMeter. The result is that I see that all queries in the database and all operators after the reactive repository are executed in the reactor-tcp-nio-1 thread. If a breakpoint is set in the doOnNext operator (not on the line, but on the lambda) in the IDE, the reactor-tcp-nio-1 thread will suspend, and all other threads will still not be utilized.</p>\n<pre><code>package com.example;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class R2DBCApplication {\n    private static final Logger log = LoggerFactory.getLogger(R2DBCApplication.class);\n\n    public static void main(final String[] args) {\n        SpringApplication.run(R2DBCApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport reactor.core.publisher.Mono;\n\nimport java.util.UUID;\n\n@RestController\npublic class ValueController {\n    private static final Logger log = LoggerFactory.getLogger(ValueController.class);\n\n    @Autowired\n    private ValueRepository repository;\n\n    @GetMapping(&quot;/value&quot;)\n    public Mono&lt;String&gt; get() {\n        final var uuid = UUID.randomUUID().toString();\n        log.info(&quot;start for uuid = {}&quot;, uuid);\n        return repository\n                .findById(1L)\n                .map(ValueEntity::getId)\n                .map(String::valueOf)\n                .switchIfEmpty(Mono.fromSupplier(() -&gt; uuid))\n                .doOnNext(v -&gt; log.info(&quot;after switchIfEmpty uuid = {}&quot;, v));\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.relational.core.mapping.Column;\nimport org.springframework.data.relational.core.mapping.Table;\n\n@Table(&quot;value&quot;)\npublic class ValueEntity {\n\n    @Id\n    @Column(&quot;id&quot;)\n    private Long id;\n\n    @Column(&quot;value&quot;)\n    private String value;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(final Long id) {\n        this.id = id;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(final String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\n\npublic interface ValueRepository extends R2dbcRepository&lt;ValueEntity, Long&gt; {\n\n}\n</code></pre>\n<pre><code>server.port: 9080\nspring:\n  application.name: r2dbc-service\n  r2dbc:\n    url: r2dbc:postgresql://localhost:5433/postgres\n    username: postgres\n    password: 12345\n    properties:\n      schema: public\n\nlogging.level.root: DEBUG\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;r2dbc-postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Is this the expected behavior? I assumed that all 10 reactor-tcp-nio threads would be utilized.\nWhat can be done to make queries and operator execution happen in different threads? (reactor-tcp-nio-1, ..., reactor-tcp-nio-10).</p>\n<p>Do you really need to add publishOn or subscribeOn after every call to a reactive repository?</p>\n"},{"tags":["java","search","time","hashset","treeset"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700640638,"post_id":77527365,"comment_id":136678170,"body_markdown":"Consider the _OpenJDK_ project, _&quot;[Java Microbenchmark Harness](https://openjdk.org/projects/code-tools/jmh/)&quot;_.  This may produce the derivatives you&#39;re looking for.","body":"Consider the <i>OpenJDK</i> project, <i>&quot;<a href=\"https://openjdk.org/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">Java Microbenchmark Harness</a>&quot;</i>.  This may produce the derivatives you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700630870,"creation_date":1700630870,"answer_id":77527505,"question_id":77527365,"body_markdown":"Yes. You&#39;ve missed a lot. So much, in fact, it&#39;s almost impossible for you to this right. Good news though, there&#39;s a library for that. Specifically,  [JMH](https://www.baeldung.com/java-microbenchmark-harness).\r\n\r\nThe JVM is not a simple thing. It runs code slowly and does all sorts of seemingly pointless bookkeeping so that it knows which 0.1% of the code spends 95% of the CPU resources (those aren&#39;t exaggerated numbers; that&#39;s what most apps end up doing. An academic case that _just_ tests the speed of some algorithm obviously isn&#39;t like that, but the JVM is optimized for real life apps, not test cases). Once it figures out what that is, it uses all that seemingly pointless bookkeeping to craft a highly optimized bit of machine code that e.g. is written to optimize branching (CPUs tend to be faster at &#39;do not jump&#39; then &#39;do jump&#39;, which is what any loop structure is translated to. The JVM knows which &#39;path&#39; is, so far, taken more often and optimizes accordingly. Compile-time only optimizers can&#39;t do that without hints).\r\n\r\nThat&#39;s one of about 900 reasons why you can&#39;t just rely on calculating the delta between 2 nanoTime() calls and extract meaningful conclusions about timing.\r\n\r\nJMH fixes some of this. Not all, but most. Follow the tutorial linked above, hang your benchmark in a JMH harness, and _then_ check your results.","title":"Searching Time in HashSet vs. Searching Time in TreeSet in Java","body":"<p>Yes. You've missed a lot. So much, in fact, it's almost impossible for you to this right. Good news though, there's a library for that. Specifically,  <a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"nofollow noreferrer\">JMH</a>.</p>\n<p>The JVM is not a simple thing. It runs code slowly and does all sorts of seemingly pointless bookkeeping so that it knows which 0.1% of the code spends 95% of the CPU resources (those aren't exaggerated numbers; that's what most apps end up doing. An academic case that <em>just</em> tests the speed of some algorithm obviously isn't like that, but the JVM is optimized for real life apps, not test cases). Once it figures out what that is, it uses all that seemingly pointless bookkeeping to craft a highly optimized bit of machine code that e.g. is written to optimize branching (CPUs tend to be faster at 'do not jump' then 'do jump', which is what any loop structure is translated to. The JVM knows which 'path' is, so far, taken more often and optimizes accordingly. Compile-time only optimizers can't do that without hints).</p>\n<p>That's one of about 900 reasons why you can't just rely on calculating the delta between 2 nanoTime() calls and extract meaningful conclusions about timing.</p>\n<p>JMH fixes some of this. Not all, but most. Follow the tutorial linked above, hang your benchmark in a JMH harness, and <em>then</em> check your results.</p>\n"}],"owner":{"account_id":27133718,"reputation":13,"user_id":20675547,"display_name":"zam_22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77527505,"answer_count":1,"score":1,"last_activity_date":1700630870,"creation_date":1700628145,"question_id":77527365,"body_markdown":"I have read that searching time in TreeSet is of the order of log(N) and in HashSet is of the order of 1 (Constant). Now, to test this in a program I have written a Java program.\r\n\r\n\r\n```\r\nimport java.util.TreeSet;\r\nimport java.util.Random;\r\n\r\npublic class SearchSpeed {\r\n    int totalElements, target;\r\n    Set&lt;Integer&gt; hashSet, treeSet;\r\n    Random r;\r\n\r\n    // parameterized constructor\r\n    SearchSpeed(int totalElements){\r\n        this.totalElements = totalElements;\r\n        r = new Random();\r\n        hashSet = new HashSet&lt;&gt;();\r\n        treeSet = new TreeSet&lt;&gt;();\r\n    }\r\n\r\n    // populating the sets and selecting the target element\r\n    void populateSets(){\r\n        hashSet.clear();\r\n        treeSet.clear();\r\n        int num, count = 0;\r\n        while(hashSet.size() != totalElements){\r\n            num = r.nextInt();\r\n            hashSet.add(num);\r\n            treeSet.add(num);\r\n            count++;\r\n            if(count == 5000){    // picking the 5000th element as the target element\r\n                target = num;\r\n            }\r\n        }\r\n    }\r\n\r\n    // searching the target element in HashSet\r\n    long searchHash(){\r\n        long initialTime = System.nanoTime();\r\n        hashSet.contains(target);\r\n        long finalTime = System.nanoTime();\r\n        return finalTime - initialTime;\r\n    }\r\n\r\n    // searching the target element in TreeSet\r\n    long searchTree(){\r\n        long initialTime = System.nanoTime();\r\n        treeSet.contains(target);\r\n        long finalTime = System.nanoTime();\r\n        return finalTime - initialTime;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        SearchSpeed ss = new SearchSpeed(10000);\r\n\r\n        long hashTime = 0, treeTime = 0;\r\n        for(int i = 0; i &lt; 1000; i++){\r\n            ss.populateSets();\r\n            hashTime += ss.searchHash();\r\n            treeTime += ss.searchTree();\r\n        }\r\n        double avgTreeTime = treeTime/1000.0;\r\n        double avgHashTime = hashTime/1000.0;\r\n\r\n        System.out.printf(&quot;Time taken by TreeSet MINUS Time Taken by HashSet = %.4f nanoseconds\\n&quot;,avgTreeTime - avgHashTime);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAfter running this program several times, these are the results I got:\r\n\r\nOutput 1: Time taken by TreeSet MINUS Time Taken by HashSet = 105.6000 nanoseconds&lt;br&gt;\r\nOutput 2: Time taken by TreeSet MINUS Time Taken by HashSet = 99.1000 nanoseconds&lt;br&gt;\r\nOutput 3: Time taken by TreeSet MINUS Time Taken by HashSet = 36.8000 nanoseconds&lt;br&gt;\r\nOutput 4: Time taken by TreeSet MINUS Time Taken by HashSet = 50.6000 nanoseconds&lt;br&gt;\r\nOutput 5: Time taken by TreeSet MINUS Time Taken by HashSet = -30.4000 nanoseconds&lt;br&gt;\r\n\r\nI was expecting the time difference to be somewhat a larger value but, in some cases, the difference of time is as low as 36 nanoseconds and even negative in some cases.&lt;br&gt;\r\nIs this what I should be expecting? or have I missed something while writing the program?","title":"Searching Time in HashSet vs. Searching Time in TreeSet in Java","body":"<p>I have read that searching time in TreeSet is of the order of log(N) and in HashSet is of the order of 1 (Constant). Now, to test this in a program I have written a Java program.</p>\n<pre><code>import java.util.TreeSet;\nimport java.util.Random;\n\npublic class SearchSpeed {\n    int totalElements, target;\n    Set&lt;Integer&gt; hashSet, treeSet;\n    Random r;\n\n    // parameterized constructor\n    SearchSpeed(int totalElements){\n        this.totalElements = totalElements;\n        r = new Random();\n        hashSet = new HashSet&lt;&gt;();\n        treeSet = new TreeSet&lt;&gt;();\n    }\n\n    // populating the sets and selecting the target element\n    void populateSets(){\n        hashSet.clear();\n        treeSet.clear();\n        int num, count = 0;\n        while(hashSet.size() != totalElements){\n            num = r.nextInt();\n            hashSet.add(num);\n            treeSet.add(num);\n            count++;\n            if(count == 5000){    // picking the 5000th element as the target element\n                target = num;\n            }\n        }\n    }\n\n    // searching the target element in HashSet\n    long searchHash(){\n        long initialTime = System.nanoTime();\n        hashSet.contains(target);\n        long finalTime = System.nanoTime();\n        return finalTime - initialTime;\n    }\n\n    // searching the target element in TreeSet\n    long searchTree(){\n        long initialTime = System.nanoTime();\n        treeSet.contains(target);\n        long finalTime = System.nanoTime();\n        return finalTime - initialTime;\n    }\n\n\n    public static void main(String[] args) {\n\n        SearchSpeed ss = new SearchSpeed(10000);\n\n        long hashTime = 0, treeTime = 0;\n        for(int i = 0; i &lt; 1000; i++){\n            ss.populateSets();\n            hashTime += ss.searchHash();\n            treeTime += ss.searchTree();\n        }\n        double avgTreeTime = treeTime/1000.0;\n        double avgHashTime = hashTime/1000.0;\n\n        System.out.printf(&quot;Time taken by TreeSet MINUS Time Taken by HashSet = %.4f nanoseconds\\n&quot;,avgTreeTime - avgHashTime);\n    }\n}\n\n</code></pre>\n<p>After running this program several times, these are the results I got:</p>\n<p>Output 1: Time taken by TreeSet MINUS Time Taken by HashSet = 105.6000 nanoseconds<br>\nOutput 2: Time taken by TreeSet MINUS Time Taken by HashSet = 99.1000 nanoseconds<br>\nOutput 3: Time taken by TreeSet MINUS Time Taken by HashSet = 36.8000 nanoseconds<br>\nOutput 4: Time taken by TreeSet MINUS Time Taken by HashSet = 50.6000 nanoseconds<br>\nOutput 5: Time taken by TreeSet MINUS Time Taken by HashSet = -30.4000 nanoseconds<br></p>\n<p>I was expecting the time difference to be somewhat a larger value but, in some cases, the difference of time is as low as 36 nanoseconds and even negative in some cases.<br>\nIs this what I should be expecting? or have I missed something while writing the program?</p>\n"},{"tags":["java","pass-by-reference","final","pass-by-value"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":118,"creation_date":1233495084,"post_id":500508,"comment_id":316048,"body_markdown":"One quick point on terminology - Java doesn&#39;t have pass-by-reference at all. It has pass reference *by value* which is not the same thing. With true pass by reference semantics the results of your code would be different.","body":"One quick point on terminology - Java doesn&#39;t have pass-by-reference at all. It has pass reference <i>by value</i> which is not the same thing. With true pass by reference semantics the results of your code would be different."},{"owner":{"account_id":534256,"reputation":5711,"user_id":904344,"accept_rate":74,"display_name":"NobleUplift"},"score":10,"creation_date":1381765110,"post_id":500508,"comment_id":28692668,"body_markdown":"What&#39;s the difference between pass by reference and pass reference by value?","body":"What&#39;s the difference between pass by reference and pass reference by value?"},{"owner":{"account_id":217729,"reputation":61,"user_id":473666,"display_name":"jerslan"},"score":1,"creation_date":1381868334,"post_id":500508,"comment_id":28738827,"body_markdown":"It&#39;s easier to describe that difference in a C context (at least for me). If I pass a pointer to a method like: &lt;code&gt;int foo(int *bar)&lt;/code&gt;, then that pointer is being passed by value. Meaning it is copied, so if I do something inside that method like &lt;code&gt;free(bar); bar = malloc(...);&lt;/code&gt; then I&#39;ve just done a really bad thing. The free call will actually free up the chunk of memory being pointed at (so whatever pointer I passed in is now dangling). However, &lt;code&gt;int foo(int* &amp;bar)&lt;/bar&gt; means that code is valid and the value of the pointer passed in will be changed.","body":"It&#39;s easier to describe that difference in a C context (at least for me). If I pass a pointer to a method like: &lt;code&gt;int foo(int <i>bar)&lt;/code&gt;, then that pointer is being passed by value. Meaning it is copied, so if I do something inside that method like &lt;code&gt;free(bar); bar = malloc(...);&lt;/code&gt; then I&#39;ve just done a really bad thing. The free call will actually free up the chunk of memory being pointed at (so whatever pointer I passed in is now dangling). However, &lt;code&gt;int foo(int</i> &amp;bar)&lt;/bar&gt; means that code is valid and the value of the pointer passed in will be changed."},{"owner":{"account_id":217729,"reputation":61,"user_id":473666,"display_name":"jerslan"},"score":4,"creation_date":1381868787,"post_id":500508,"comment_id":28739035,"body_markdown":"The first one is supposed to be `int foo(int* bar)` and the last one `int foo(int* &amp;bar)`. The latter is passing a pointer by reference, the former is passing a reference by value.","body":"The first one is supposed to be <code>int foo(int* bar)</code> and the last one <code>int foo(int* &amp;bar)</code>. The latter is passing a pointer by reference, the former is passing a reference by value."},{"owner":{"account_id":87708,"reputation":3120,"user_id":243089,"accept_rate":100,"display_name":"Victor Zamanian"},"score":2,"creation_date":1465991571,"post_id":500508,"comment_id":63130540,"body_markdown":"@Martin, in my opinion, it&#39;s a good *question*; see the title for the question, and the post content as an explanation for why the *question* is asked. Maybe I am misunderstanding the rules here, but this is exactly the question I wanted when searching for *&quot;uses of final parameters in methods&quot;*.","body":"@Martin, in my opinion, it&#39;s a good <i>question</i>; see the title for the question, and the post content as an explanation for why the <i>question</i> is asked. Maybe I am misunderstanding the rules here, but this is exactly the question I wanted when searching for <i>&quot;uses of final parameters in methods&quot;</i>."},{"owner":{"account_id":140269,"reputation":2423,"user_id":346461,"accept_rate":80,"display_name":"Martin"},"score":0,"creation_date":1475051838,"post_id":500508,"comment_id":66781294,"body_markdown":"The title is a question, but the body is not. It is an example based on misconception. Changing the reference in another scope (by means of method call) does not change the reference in the current scope.","body":"The title is a question, but the body is not. It is an example based on misconception. Changing the reference in another scope (by means of method call) does not change the reference in the current scope."}],"answers":[{"comments":[{"owner":{"account_id":9626,"reputation":17894,"user_id":17871,"accept_rate":86,"display_name":"James Schek"},"score":19,"creation_date":1233848249,"post_id":500517,"comment_id":329983,"body_markdown":"But to paraphrase Krusty with his danish, what have they done for us *LATELY*? =)","body":"But to paraphrase Krusty with his danish, what have they done for us <i>LATELY</i>? =)"},{"owner":{"account_id":99023,"reputation":7906,"user_id":267702,"accept_rate":61,"display_name":"gonzobrains"},"score":0,"creation_date":1343930145,"post_id":500517,"comment_id":15651469,"body_markdown":"Yuval.  That&#39;s funny!  I guess peace can happen even if it is enforced by sword blade!","body":"Yuval.  That&#39;s funny!  I guess peace can happen even if it is enforced by sword blade!"},{"owner":{"account_id":534256,"reputation":5711,"user_id":904344,"accept_rate":74,"display_name":"NobleUplift"},"score":2,"creation_date":1381765258,"post_id":500517,"comment_id":28692760,"body_markdown":"The question seems more similar to asking, &quot;What _haven&#39;t_ the Romans done for us?&quot;, because it&#39;s more of a critique on what the final keyword _doesn&#39;t_ do.","body":"The question seems more similar to asking, &quot;What <i>haven&#39;t</i> the Romans done for us?&quot;, because it&#39;s more of a critique on what the final keyword <i>doesn&#39;t</i> do."},{"owner":{"account_id":62246,"reputation":2442,"user_id":185055,"accept_rate":40,"display_name":"Stuart Rossiter"},"score":1,"creation_date":1447243557,"post_id":500517,"comment_id":55073783,"body_markdown":"&quot;Are you suggesting there&#39;s a significant body of developers suggesting that final has more effect than it really does?&quot; For me that **is** the main problem: I strongly suspect a significant proportion of developers using it think that it enforces immutability of the **caller&#39;s** passed items when it doesn&#39;t. Of course, one then gets drawn into the debate on whether coding standards should &#39;protect against&#39; conceptual misunderstandings (which a &#39;competent&#39; developer should be aware of) or not (and this then heads towards an out-of-SO-scope opinions-type question)!","body":"&quot;Are you suggesting there&#39;s a significant body of developers suggesting that final has more effect than it really does?&quot; For me that <b>is</b> the main problem: I strongly suspect a significant proportion of developers using it think that it enforces immutability of the <b>caller&#39;s</b> passed items when it doesn&#39;t. Of course, one then gets drawn into the debate on whether coding standards should &#39;protect against&#39; conceptual misunderstandings (which a &#39;competent&#39; developer should be aware of) or not (and this then heads towards an out-of-SO-scope opinions-type question)!"},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1466456485,"post_id":500517,"comment_id":63314128,"body_markdown":"Indeed, the problem with final is that it *only* enforces the _reference_ is unchanged, gleefully allowing the referenced object members to be mutated, unbeknownst to the caller. Hence the best practice in this regard is defensive programming on the caller side, creating deeply immutable instances or deep copies of objects that are in danger of being mugged by unscrupulous APIs.","body":"Indeed, the problem with final is that it <i>only</i> enforces the <i>reference</i> is unchanged, gleefully allowing the referenced object members to be mutated, unbeknownst to the caller. Hence the best practice in this regard is defensive programming on the caller side, creating deeply immutable instances or deep copies of objects that are in danger of being mugged by unscrupulous APIs."},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1505719379,"post_id":500517,"comment_id":79509840,"body_markdown":"@Jon Skeet: Suppose I have a method argument declared as final, and an inner class inside the method, but I don&#39;t use that final argument inside my inner class, will my final reference be eligible for garbage collection?","body":"@Jon Skeet: Suppose I have a method argument declared as final, and an inner class inside the method, but I don&#39;t use that final argument inside my inner class, will my final reference be eligible for garbage collection?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1505719979,"post_id":500517,"comment_id":79510218,"body_markdown":"@SarthakMittal: The value won&#39;t be copied unless you actually use it, if that&#39;s what you&#39;re wondering.","body":"@SarthakMittal: The value won&#39;t be copied unless you actually use it, if that&#39;s what you&#39;re wondering."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":7,"down_vote_count":0,"up_vote_count":131,"is_accepted":false,"score":131,"last_activity_date":1233495935,"creation_date":1233482085,"answer_id":500517,"question_id":500508,"body_markdown":"Yes, excluding anonymous classes, readability and intent declaration it&#39;s almost worthless. Are those three things worthless though?\r\n\r\nPersonally I tend not to use `final` for local variables and parameters unless I&#39;m using the variable in an anonymous inner class, but I can certainly see the point of those who want to make it clear that the parameter value itself won&#39;t change (even if the object it refers to changes its contents). For those who find that adds to readability, I think it&#39;s an entirely reasonable thing to do.\r\n\r\nYour point would be more important if anyone were actually claiming that it *did* keep data constant in a way that it doesn&#39;t - but I can&#39;t remember seeing any such claims. Are you suggesting there&#39;s a significant body of developers suggesting that `final` has more effect than it really does?\r\n\r\nEDIT: I should really have summed all of this up with a Monty Python reference; the question seems somewhat similar to asking &quot;What have the Romans ever done for us?&quot;","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Yes, excluding anonymous classes, readability and intent declaration it's almost worthless. Are those three things worthless though?</p>\n\n<p>Personally I tend not to use <code>final</code> for local variables and parameters unless I'm using the variable in an anonymous inner class, but I can certainly see the point of those who want to make it clear that the parameter value itself won't change (even if the object it refers to changes its contents). For those who find that adds to readability, I think it's an entirely reasonable thing to do.</p>\n\n<p>Your point would be more important if anyone were actually claiming that it <em>did</em> keep data constant in a way that it doesn't - but I can't remember seeing any such claims. Are you suggesting there's a significant body of developers suggesting that <code>final</code> has more effect than it really does?</p>\n\n<p>EDIT: I should really have summed all of this up with a Monty Python reference; the question seems somewhat similar to asking \"What have the Romans ever done for us?\"</p>\n"},{"comments":[{"owner":{"account_id":86093,"reputation":9573,"user_id":239657,"display_name":"Beni Cherniavsky-Paskin"},"score":3,"creation_date":1427028781,"post_id":500537,"comment_id":46602242,"body_markdown":"Exactly, it&#39;s not part of the function interface, only implementation.  It&#39;s confusing that java [allows (but dirsregards)](https://stackoverflow.com/questions/5380177/final-arguments-in-interface-methods-whats-the-point) `final` on parameters in interfaces / abstract method declarations.","body":"Exactly, it&#39;s not part of the function interface, only implementation.  It&#39;s confusing that java <a href=\"https://stackoverflow.com/questions/5380177/final-arguments-in-interface-methods-whats-the-point\">allows (but dirsregards)</a> <code>final</code> on parameters in interfaces / abstract method declarations."}],"tags":[],"owner":{"account_id":9311,"reputation":4535,"user_id":17138,"accept_rate":70,"display_name":"Germ&#225;n"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1233483235,"creation_date":1233483235,"answer_id":500537,"question_id":500508,"body_markdown":"Using final in a method parameter has nothing to do with what happens to the argument on the caller side. It is only meant to mark it as not changing inside that method. As I try to adopt a more functional programming style, I kind of see the value in that.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Using final in a method parameter has nothing to do with what happens to the argument on the caller side. It is only meant to mark it as not changing inside that method. As I try to adopt a more functional programming style, I kind of see the value in that.</p>\n"},{"comments":[{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1480959272,"post_id":500595,"comment_id":69169351,"body_markdown":"Not sure IDE and tool references are applicable to OP posting or the topic. Namely &quot;final&quot; is a compile-time check that the reference is not changed/mugged. Further, to really enforce such things see answer about no protection to child members of final references. When building an API for example, using an IDE or tool is not going to help external parties using/extending such code.","body":"Not sure IDE and tool references are applicable to OP posting or the topic. Namely &quot;final&quot; is a compile-time check that the reference is not changed/mugged. Further, to really enforce such things see answer about no protection to child members of final references. When building an API for example, using an IDE or tool is not going to help external parties using/extending such code."}],"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"comment_count":1,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1233486110,"creation_date":1233486110,"answer_id":500595,"question_id":500508,"body_markdown":"Personally I don&#39;t use final on method parameters, because it adds too much clutter to parameter lists.\r\nI prefer to enforce that method parameters are not changed through something like Checkstyle.\r\n\r\nFor local variables I use final whenever possible, I even let Eclipse do that automatically in my setup for personal projects.\r\n\r\nI would certainly like something stronger like C/C++ const.\r\n","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Personally I don't use final on method parameters, because it adds too much clutter to parameter lists.\nI prefer to enforce that method parameters are not changed through something like Checkstyle.</p>\n\n<p>For local variables I use final whenever possible, I even let Eclipse do that automatically in my setup for personal projects.</p>\n\n<p>I would certainly like something stronger like C/C++ const.</p>\n"},{"comments":[{"owner":{"account_id":18461,"reputation":39097,"user_id":42303,"accept_rate":98,"display_name":"hhafez"},"score":1,"creation_date":1233553513,"post_id":500627,"comment_id":317442,"body_markdown":"You lost me from &quot;But if they are not final....&quot; Can you put try to rephrase it, Maybe I haven&#39;t had enough cofee.","body":"You lost me from &quot;But if they are not final....&quot; Can you put try to rephrase it, Maybe I haven&#39;t had enough cofee."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1233571203,"post_id":500627,"comment_id":317793,"body_markdown":"You have a local variables from - the question is what happens if you use the anon class instance inside the method and it changes the values of from - people would expect the change to be visible in the method, since they see only one variable. In order to avoid this confusion, it must be final.","body":"You have a local variables from - the question is what happens if you use the anon class instance inside the method and it changes the values of from - people would expect the change to be visible in the method, since they see only one variable. In order to avoid this confusion, it must be final."},{"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"score":0,"creation_date":1265809256,"post_id":500627,"comment_id":2193136,"body_markdown":"It doesn&#39;t make a copy, it is simply a reference to whatever object was referenced.","body":"It doesn&#39;t make a copy, it is simply a reference to whatever object was referenced."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":1,"creation_date":1265811168,"post_id":500627,"comment_id":2193421,"body_markdown":"@vickirk: sure it makes a copy - of the reference, in case of reference types.","body":"@vickirk: sure it makes a copy - of the reference, in case of reference types."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1321533293,"post_id":500627,"comment_id":10028229,"body_markdown":"Btw assuming we do not have anonymous classes referencing those variables, are you aware if there&#39;s any difference between a `final` function parameter and  a non-final function parameter in the eyes of HotSpot?","body":"Btw assuming we do not have anonymous classes referencing those variables, are you aware if there&#39;s any difference between a <code>final</code> function parameter and  a non-final function parameter in the eyes of HotSpot?"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1321533455,"post_id":500627,"comment_id":10028280,"body_markdown":"@Pacerier: I&#39;m pretty sure there is no difference to HotSpot","body":"@Pacerier: I&#39;m pretty sure there is no difference to HotSpot"},{"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"score":0,"creation_date":1367315662,"post_id":500627,"comment_id":23329255,"body_markdown":"@MichaelBorgwardt I have a confusion. Creating a copy in case of primitives is fine. But, in case of objects, why can&#39;t it use the same reference instead of creating a copy, as ultimately only references are going to be stored in stack. But, the actual object is going to reside in heap.","body":"@MichaelBorgwardt I have a confusion. Creating a copy in case of primitives is fine. But, in case of objects, why can&#39;t it use the same reference instead of creating a copy, as ultimately only references are going to be stored in stack. But, the actual object is going to reside in heap."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1367319267,"post_id":500627,"comment_id":23331105,"body_markdown":"@Sumit Desai: only the reference is copied - about the same time and space overhead as copying a primitive.","body":"@Sumit Desai: only the reference is copied - about the same time and space overhead as copying a primitive."},{"owner":{"account_id":1985126,"reputation":894,"user_id":1854834,"display_name":"Wei Qiu"},"score":0,"creation_date":1500633408,"post_id":500627,"comment_id":77436584,"body_markdown":"That&#39;s why java doen&#39;t have true closure.","body":"That&#39;s why java doen&#39;t have true closure."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":9,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1233487431,"creation_date":1233487431,"answer_id":500627,"question_id":500508,"body_markdown":"Let me explain a bit about the one case where you *have* to use final, which Jon already mentioned:\r\n\r\nIf you create an anonymous inner class in your method and use a local variable (such as a method parameter) inside that class, then the compiler forces you to make the parameter final:\r\n\r\n    public Iterator&lt;Integer&gt; createIntegerIterator(final int from, final int to)\r\n    {\r\n        return new Iterator&lt;Integer&gt;(){\r\n            int index = from;\r\n            public Integer next()\r\n            {\r\n                return index++;\r\n            }\r\n            public boolean hasNext()\r\n            {\r\n                return index &lt;= to;\r\n            }\r\n            // remove method omitted\r\n        };\r\n    }\r\n\r\nHere the `from` and `to` parameters need to be final so they can be used inside the anonymous class. \r\n\r\nThe reason for that requirement is this: Local variables live on the stack, therefore they exist only while the method is executed. However, the anonymous class instance is returned from the method, so it may live for much longer. You can&#39;t preserve the stack, because it is needed for subsequent method calls. \r\n\r\nSo what Java does instead is to put *copies* of those local variables as hidden instance variables into the anonymous class (you can see them if you examine the byte code). But if they were not final, one might expect the anonymous class and the method seeing changes the other one makes to the variable. In order to maintain the illusion that there is only one variable rather than two copies, it has to be final.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Let me explain a bit about the one case where you <em>have</em> to use final, which Jon already mentioned:</p>\n\n<p>If you create an anonymous inner class in your method and use a local variable (such as a method parameter) inside that class, then the compiler forces you to make the parameter final:</p>\n\n<pre><code>public Iterator&lt;Integer&gt; createIntegerIterator(final int from, final int to)\n{\n    return new Iterator&lt;Integer&gt;(){\n        int index = from;\n        public Integer next()\n        {\n            return index++;\n        }\n        public boolean hasNext()\n        {\n            return index &lt;= to;\n        }\n        // remove method omitted\n    };\n}\n</code></pre>\n\n<p>Here the <code>from</code> and <code>to</code> parameters need to be final so they can be used inside the anonymous class. </p>\n\n<p>The reason for that requirement is this: Local variables live on the stack, therefore they exist only while the method is executed. However, the anonymous class instance is returned from the method, so it may live for much longer. You can't preserve the stack, because it is needed for subsequent method calls. </p>\n\n<p>So what Java does instead is to put <em>copies</em> of those local variables as hidden instance variables into the anonymous class (you can see them if you examine the byte code). But if they were not final, one might expect the anonymous class and the method seeing changes the other one makes to the variable. In order to maintain the illusion that there is only one variable rather than two copies, it has to be final.</p>\n"},{"comments":[{"owner":{"account_id":174227,"reputation":27776,"user_id":403455,"accept_rate":83,"display_name":"Jeff Axelrod"},"score":4,"creation_date":1305131979,"post_id":500984,"comment_id":6884553,"body_markdown":"I was about to suggest this as well, that final be the default in future versions and that you have to specify &quot;mutable&quot; or better keyword that is conceived.  Here&#39;s a nice article about this:  http://lpar.ath0.com/2008/08/26/java-annoyance-final-parameters/","body":"I was about to suggest this as well, that final be the default in future versions and that you have to specify &quot;mutable&quot; or better keyword that is conceived.  Here&#39;s a nice article about this:  <a href=\"http://lpar.ath0.com/2008/08/26/java-annoyance-final-parameters/\" rel=\"nofollow noreferrer\">lpar.ath0.com/2008/08/26/java-annoyance-final-parameters</a>"},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":0,"creation_date":1506492334,"post_id":500984,"comment_id":79837213,"body_markdown":"It&#39;s been a long time, but could you provide an example of the bug you caught?","body":"It&#39;s been a long time, but could you provide an example of the bug you caught?"},{"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"score":0,"creation_date":1506550889,"post_id":500984,"comment_id":79871728,"body_markdown":"See the most voted for answer. That has a really good example where the member variable is not set and instead the parameter is mutated.","body":"See the most voted for answer. That has a really good example where the member variable is not set and instead the parameter is mutated."}],"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1328740001,"creation_date":1233501609,"answer_id":500984,"question_id":500508,"body_markdown":"I use final all the time on parameters. \r\n\r\nDoes it add that much? Not really.\r\n\r\nWould I turn it off? No.\r\n\r\nThe reason: I found 3 bugs where people had written sloppy code and failed to set a member variable in accessors. All bugs proved difficult to find.\r\n\r\nI&#39;d like to see this made the default in a future version of Java. The pass by value/reference thing trips up an awful lot of junior programmers.   \r\n\r\nOne more thing.. my methods tend to have a low number of parameters so the extra text on a method declaration isn&#39;t an issue.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>I use final all the time on parameters. </p>\n\n<p>Does it add that much? Not really.</p>\n\n<p>Would I turn it off? No.</p>\n\n<p>The reason: I found 3 bugs where people had written sloppy code and failed to set a member variable in accessors. All bugs proved difficult to find.</p>\n\n<p>I'd like to see this made the default in a future version of Java. The pass by value/reference thing trips up an awful lot of junior programmers.   </p>\n\n<p>One more thing.. my methods tend to have a low number of parameters so the extra text on a method declaration isn't an issue.</p>\n"},{"comments":[{"owner":{"account_id":791608,"reputation":7269,"user_id":880787,"accept_rate":83,"display_name":"AvrDragon"},"score":70,"creation_date":1333555415,"post_id":502252,"comment_id":12804785,"body_markdown":"btw you will see warning &quot;The assignment to variable test has no effect&quot; anyway","body":"btw you will see warning &quot;The assignment to variable test has no effect&quot; anyway"},{"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"score":14,"creation_date":1367315361,"post_id":502252,"comment_id":23329092,"body_markdown":"@AvrDragon But, we might ignore the warning as well. So, it&#39;s always better to have something which will stop us from going further, like a compilation error, which we will get by using the final keyword.","body":"@AvrDragon But, we might ignore the warning as well. So, it&#39;s always better to have something which will stop us from going further, like a compilation error, which we will get by using the final keyword."},{"owner":{"account_id":375461,"reputation":2234,"user_id":726315,"accept_rate":89,"display_name":"arkon"},"score":11,"creation_date":1369732296,"post_id":502252,"comment_id":24191867,"body_markdown":"@AvrDragon That&#39;s dependent upon the development environment. You shouldn&#39;t be relying on the IDE to catch stuff like this for you anyways, unless you want to develop bad habits.","body":"@AvrDragon That&#39;s dependent upon the development environment. You shouldn&#39;t be relying on the IDE to catch stuff like this for you anyways, unless you want to develop bad habits."},{"owner":{"account_id":791608,"reputation":7269,"user_id":880787,"accept_rate":83,"display_name":"AvrDragon"},"score":26,"creation_date":1369732700,"post_id":502252,"comment_id":24192094,"body_markdown":"@b1naryatr0phy actually it&#39;s a compiler warning, not just IDE-tip","body":"@b1naryatr0phy actually it&#39;s a compiler warning, not just IDE-tip"},{"owner":{"account_id":893163,"reputation":1357,"user_id":931050,"accept_rate":59,"display_name":"Oscar"},"score":0,"creation_date":1406650686,"post_id":502252,"comment_id":38908466,"body_markdown":"Since it&#39;s a copy of the reference the variable won&#39;t get set anyway. Outside the test method, you will still have the original test reference","body":"Since it&#39;s a copy of the reference the variable won&#39;t get set anyway. Outside the test method, you will still have the original test reference"},{"owner":{"account_id":62246,"reputation":2442,"user_id":185055,"accept_rate":40,"display_name":"Stuart Rossiter"},"score":0,"creation_date":1447248764,"post_id":502252,"comment_id":55076472,"body_markdown":"@Oscar &quot;Since it&#39;s a copy of the reference the variable won&#39;t get set anyway. Outside the test method, you will still have the original test reference&quot;. I think you&#39;ve misunderstood the answer. The &quot;variable you want to set&quot; is the class field (i.e., `this.test`here); an understanding of how Java argument passing works is already implicit in the answer.","body":"@Oscar &quot;Since it&#39;s a copy of the reference the variable won&#39;t get set anyway. Outside the test method, you will still have the original test reference&quot;. I think you&#39;ve misunderstood the answer. The &quot;variable you want to set&quot; is the class field (i.e., <code>this.test</code>here); an understanding of how Java argument passing works is already implicit in the answer."},{"owner":{"account_id":62246,"reputation":2442,"user_id":185055,"accept_rate":40,"display_name":"Stuart Rossiter"},"score":10,"creation_date":1447248935,"post_id":502252,"comment_id":55076580,"body_markdown":"@SumitDesai &quot;But, we might ignore the warning as well. So, it&#39;s always better to have something which will stop us from going further, like a compilation error, which we will get by using the final keyword.&quot; I take your point but this is a very strong statement that I think many Java developers would disagree with. Compiler warnings are there for a reason and a competent developer shouldn&#39;t need an error to &#39;force&#39; them to consider its implications.","body":"@SumitDesai &quot;But, we might ignore the warning as well. So, it&#39;s always better to have something which will stop us from going further, like a compilation error, which we will get by using the final keyword.&quot; I take your point but this is a very strong statement that I think many Java developers would disagree with. Compiler warnings are there for a reason and a competent developer shouldn&#39;t need an error to &#39;force&#39; them to consider its implications."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1631224437,"post_id":502252,"comment_id":122172602,"body_markdown":"Get into some meaty project, download and compile it... get hundreds of &#39;oh you can ignore those&#39; warnings and... you have the Hindenberg in the making. Many of us adhere to a pretty strict &#39;no compile warnings allowed&#39; way of working. There are some VERY rare exceptions but even these should be weeded out.","body":"Get into some meaty project, download and compile it... get hundreds of &#39;oh you can ignore those&#39; warnings and... you have the Hindenberg in the making. Many of us adhere to a pretty strict &#39;no compile warnings allowed&#39; way of working. There are some VERY rare exceptions but even these should be weeded out."}],"tags":[],"owner":{"account_id":24119,"reputation":3941,"user_id":61126,"display_name":"Jerry Sha"},"comment_count":8,"down_vote_count":3,"up_vote_count":242,"is_accepted":false,"score":239,"last_activity_date":1557967376,"creation_date":1233551908,"answer_id":502252,"question_id":500508,"body_markdown":"Sometimes it&#39;s nice to be explicit (for readability) that the variable doesn&#39;t change. Here&#39;s a simple example where using `final` can save some possible headaches:\r\n\r\n    public void setTest(String test) {\r\n        test = test;\r\n    }\r\n\r\nIf you forget the &#39;this&#39; keyword on a setter, then the variable you want to set doesn&#39;t get set. However, if you used the `final` keyword on the parameter, then the bug would be caught at compile time.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Sometimes it's nice to be explicit (for readability) that the variable doesn't change. Here's a simple example where using <code>final</code> can save some possible headaches:</p>\n\n<pre><code>public void setTest(String test) {\n    test = test;\n}\n</code></pre>\n\n<p>If you forget the 'this' keyword on a setter, then the variable you want to set doesn't get set. However, if you used the <code>final</code> keyword on the parameter, then the bug would be caught at compile time.</p>\n"},{"tags":[],"owner":{"account_id":15843,"reputation":13885,"user_id":33889,"accept_rate":82,"display_name":"Michael Rutherfurd"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1233553360,"creation_date":1233553360,"answer_id":502289,"question_id":500508,"body_markdown":"One additional reason to add final to parameter declarations is that it helps to identify variables that need to be renamed as part of a &quot;Extract Method&quot; refactoring. I have found that adding final to each parameter prior to starting a large method refactoring quickly tells me if there are any issues I need to address before continuing.\r\n\r\nHowever, I generally remove them as superfluous at the end of the refactoring.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>One additional reason to add final to parameter declarations is that it helps to identify variables that need to be renamed as part of a \"Extract Method\" refactoring. I have found that adding final to each parameter prior to starting a large method refactoring quickly tells me if there are any issues I need to address before continuing.</p>\n\n<p>However, I generally remove them as superfluous at the end of the refactoring.</p>\n"},{"comments":[{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":32,"creation_date":1385539675,"post_id":10380512,"comment_id":30180677,"body_markdown":"&quot;As good programming practice (in any language), you should never re-assign a parameter/argument variable [..]&quot;   Sorry I really have to call you out on this one. Re-assigning arguments is standard practice in languages like Javascript, where the amount of arguments passed (or even if there are any passed) is not dictated by the method signature. E.g. given a signature like: &quot;function say(msg)&quot; people will make sure argument &#39;msg&#39; is assigned, like so: &quot;msg = msg || &#39;Hello World!&#39;;&quot;. The best Javascript programmers in the world are breaking your good practice. Just read the jQuery source.","body":"&quot;As good programming practice (in any language), you should never re-assign a parameter/argument variable [..]&quot;   Sorry I really have to call you out on this one. Re-assigning arguments is standard practice in languages like Javascript, where the amount of arguments passed (or even if there are any passed) is not dictated by the method signature. E.g. given a signature like: &quot;function say(msg)&quot; people will make sure argument &#39;msg&#39; is assigned, like so: &quot;msg = msg || &#39;Hello World!&#39;;&quot;. The best Javascript programmers in the world are breaking your good practice. Just read the jQuery source."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":60,"creation_date":1385586478,"post_id":10380512,"comment_id":30208826,"body_markdown":"@StijndeWitt Your example shows the very problem of reassigning the argument variable. You lose information with **nothing gained** in return: (a) You&#39;ve lost the original value passed, (b) You&#39;ve lost the intention of the calling method (Did caller pass &#39;Hello World!&#39; or did we default). Both a &amp; b are useful for testing, long code, and when the value is further changed later. I stand by my statement: arg vars should *never* be reassigned. Your code should be: `message = ( msg || &#39;Hello World&quot;&#39; )`. There is simply no reason *not* to use a separate var. The only cost is a few bytes of memory.","body":"@StijndeWitt Your example shows the very problem of reassigning the argument variable. You lose information with <b>nothing gained</b> in return: (a) You&#39;ve lost the original value passed, (b) You&#39;ve lost the intention of the calling method (Did caller pass &#39;Hello World!&#39; or did we default). Both a &amp; b are useful for testing, long code, and when the value is further changed later. I stand by my statement: arg vars should <i>never</i> be reassigned. Your code should be: <code>message = ( msg || &#39;Hello World&quot;&#39; )</code>. There is simply no reason <i>not</i> to use a separate var. The only cost is a few bytes of memory."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1396966793,"post_id":10380512,"comment_id":35019899,"body_markdown":"@StijndeWitt An interesting article on this topic: http://lpar.ath0.com/2008/08/26/java-annoyance-final-parameters/","body":"@StijndeWitt An interesting article on this topic: <a href=\"http://lpar.ath0.com/2008/08/26/java-annoyance-final-parameters/\" rel=\"nofollow noreferrer\">lpar.ath0.com/2008/08/26/java-annoyance-final-parameters</a>"},{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":10,"creation_date":1397133621,"post_id":10380512,"comment_id":35106475,"body_markdown":"@Basil: It&#39;s more code (in bytes) and in Javascript that does count. Heavily. As with many things it&#39;s opinion based. It&#39;s entirely possible to completely ignore this programming practice and still write excellent code. One person&#39;s programming practice does not make it everyone&#39;s practice. Stand by it all you will, I choose to write it different anyway. Does that make me a bad programmer, or my code bad code?","body":"@Basil: It&#39;s more code (in bytes) and in Javascript that does count. Heavily. As with many things it&#39;s opinion based. It&#39;s entirely possible to completely ignore this programming practice and still write excellent code. One person&#39;s programming practice does not make it everyone&#39;s practice. Stand by it all you will, I choose to write it different anyway. Does that make me a bad programmer, or my code bad code?"},{"owner":{"account_id":86093,"reputation":9573,"user_id":239657,"display_name":"Beni Cherniavsky-Paskin"},"score":16,"creation_date":1427028278,"post_id":10380512,"comment_id":46602116,"body_markdown":"Using `message = ( msg || &#39;Hello World&quot;&#39; )` risks me later accidentally using `msg`.  When the contract I intend is &quot;behavior with no/null/undefined arg is indistinguirhable from passing `&quot;Hello World&quot;`&quot;, it&#39;s a good programming practice to commit to it early in the function.  [This can be achieved without reassignment by starting with`if (!msg) return myfunc(&quot;Hello World&quot;);` but that gets unwieldy with multiple arguments.]  In the rare cases where the logic in the function should care whether the default was used, I&#39;d rather designate a special sentinel value (preferrably public).","body":"Using <code>message = ( msg || &#39;Hello World&quot;&#39; )</code> risks me later accidentally using <code>msg</code>.  When the contract I intend is &quot;behavior with no/null/undefined arg is indistinguirhable from passing <code>&quot;Hello World&quot;</code>&quot;, it&#39;s a good programming practice to commit to it early in the function.  [This can be achieved without reassignment by starting with<code>if (!msg) return myfunc(&quot;Hello World&quot;);</code> but that gets unwieldy with multiple arguments.]  In the rare cases where the logic in the function should care whether the default was used, I&#39;d rather designate a special sentinel value (preferrably public)."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":8,"creation_date":1463177459,"post_id":10380512,"comment_id":61970998,"body_markdown":"@BeniCherniavsky-Paskin the risk you describe is only because of the similarity between `message` and `msg`. But if he would call it something like `processedMsg` or something else that provides additional context - the chance of a mistake is much lower. Focus on what he says *not* on &quot;how&quot; he says it. ;)","body":"@BeniCherniavsky-Paskin the risk you describe is only because of the similarity between <code>message</code> and <code>msg</code>. But if he would call it something like <code>processedMsg</code> or something else that provides additional context - the chance of a mistake is much lower. Focus on what he says <i>not</i> on &quot;how&quot; he says it. ;)"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":3,"creation_date":1502932010,"post_id":10380512,"comment_id":78407899,"body_markdown":"&quot;Never Reassing Arguments&quot;. Ummm, no, in programming never say &quot;never&quot;, except to say &quot;never say never&quot;. There are a number of legitimate use-cases for assigning to an argument; defaulting, preprocessing, decoding, to name a few. I wish programmers would stop saying &quot;never&quot;; they are almost always incorrect when they do.","body":"&quot;Never Reassing Arguments&quot;. Ummm, no, in programming never say &quot;never&quot;, except to say &quot;never say never&quot;. There are a number of legitimate use-cases for assigning to an argument; defaulting, preprocessing, decoding, to name a few. I wish programmers would stop saying &quot;never&quot;; they are almost always incorrect when they do."},{"owner":{"account_id":2867116,"reputation":1534,"user_id":2461213,"display_name":"Leo Lei"},"score":3,"creation_date":1505720283,"post_id":10380512,"comment_id":79510370,"body_markdown":"@LawrenceDol At a theoretical level, I hate saying &quot;never&quot; because there are always exceptions where a banned approach is really best for the situation. However, at a practical level, I really love it because it enforces rules and reduces the amount of decision making many programmers need to make when collaborating on the shared codebase, it makes the overall design consistent, with just the right amount (minimal amount) of exceptions. Thus, it might be more accurate to say: &quot;Always prefer A and only do B if A cannot solve the problem&quot;.","body":"@LawrenceDol At a theoretical level, I hate saying &quot;never&quot; because there are always exceptions where a banned approach is really best for the situation. However, at a practical level, I really love it because it enforces rules and reduces the amount of decision making many programmers need to make when collaborating on the shared codebase, it makes the overall design consistent, with just the right amount (minimal amount) of exceptions. Thus, it might be more accurate to say: &quot;Always prefer A and only do B if A cannot solve the problem&quot;."},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":1,"creation_date":1506492140,"post_id":10380512,"comment_id":79837126,"body_markdown":"Why should I care that arg now points to &quot;giraffe&quot;?  **Nobody** outside of my function sees the change!  As you note in your final section, the only bug that might happen by you changing something you shouldnt **is not prevented by final.**. For a method parameter, final is a waste of time that only provides a false benefit.","body":"Why should I care that arg now points to &quot;giraffe&quot;?  <b>Nobody</b> outside of my function sees the change!  As you note in your final section, the only bug that might happen by you changing something you shouldnt <b>is not prevented by final.</b>. For a method parameter, final is a waste of time that only provides a false benefit."},{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":0,"creation_date":1523408402,"post_id":10380512,"comment_id":86545285,"body_markdown":"Downvoting as misleading: _Use the keyword final when you want the compiler to prevent a variable from being re-assigned to a different object._&quot; -- but it&#39;s only reassigned inside your method.  The assignment has no affect from where the method was called; Java is strictly pass by value (where the value is a pointer).  http://javadude.com/articles/passbyvalue.htm","body":"Downvoting as misleading: <i>Use the keyword final when you want the compiler to prevent a variable from being re-assigned to a different object.</i>&quot; -- but it&#39;s only reassigned inside your method.  The assignment has no affect from where the method was called; Java is strictly pass by value (where the value is a pointer).  <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"nofollow noreferrer\">javadude.com/articles/passbyvalue.htm</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1523418918,"post_id":10380512,"comment_id":86547882,"body_markdown":"@Madbreaks You missed my main point. The scope is irrelevant, in all scopes inside and outside of a method, the effect of `final` on any variable is to stop the reassignment of another object to the reference. For argument/parameter I opined that `final` is indeed quite valuable in guaranteeing that the original intent of the calling programmer is maintained throughout the body of the receiving method, so we do not forget what was passed. While *you* may not value that benefit, that does not make the benefit false. I simply explained the effect of, and possible usefulness of `final` there.","body":"@Madbreaks You missed my main point. The scope is irrelevant, in all scopes inside and outside of a method, the effect of <code>final</code> on any variable is to stop the reassignment of another object to the reference. For argument/parameter I opined that <code>final</code> is indeed quite valuable in guaranteeing that the original intent of the calling programmer is maintained throughout the body of the receiving method, so we do not forget what was passed. While <i>you</i> may not value that benefit, that does not make the benefit false. I simply explained the effect of, and possible usefulness of <code>final</code> there."},{"owner":{"account_id":7473091,"reputation":610,"user_id":5708812,"display_name":"llf"},"score":6,"creation_date":1525634102,"post_id":10380512,"comment_id":87424031,"body_markdown":"@user949300 Nobody outside of your function sees the change... until they have to debug it. Adding `final` means there&#39;s one less thing you could&#39;ve done (wrong).","body":"@user949300 Nobody outside of your function sees the change... until they have to debug it. Adding <code>final</code> means there&#39;s one less thing you could&#39;ve done (wrong)."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1531199471,"post_id":10380512,"comment_id":89493910,"body_markdown":"If I have a method that takes in an int, increments it, and uses that same incremented value 12 different times, (then returns. This is all it does.), then I see no good reason not to directly increment the int parameter of the method. There is simply no point in creating a new variable to store this incremented value if you have *absolutely no use* for the original value; just write over the original value. As a matter of fact, having two different variables to keep track of (one useless parameter and another heavily referenced local variable) simply clogs up code. I&#39;ll stick to reassignment.","body":"If I have a method that takes in an int, increments it, and uses that same incremented value 12 different times, (then returns. This is all it does.), then I see no good reason not to directly increment the int parameter of the method. There is simply no point in creating a new variable to store this incremented value if you have <i>absolutely no use</i> for the original value; just write over the original value. As a matter of fact, having two different variables to keep track of (one useless parameter and another heavily referenced local variable) simply clogs up code. I&#39;ll stick to reassignment."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1531204431,"post_id":10380512,"comment_id":89495573,"body_markdown":"@Kr&#246;w When tracing, troubleshooting, debugging, logging, and monitoring, I want to know my inputs. You can do what you want, but why throw away important information *with nothing gained*? Are you really programming for deployment to a computer/device so severely constrained that you cannot afford 32-bits for a second integer?","body":"@Kr&#246;w When tracing, troubleshooting, debugging, logging, and monitoring, I want to know my inputs. You can do what you want, but why throw away important information <i>with nothing gained</i>? Are you really programming for deployment to a computer/device so severely constrained that you cannot afford 32-bits for a second integer?"},{"owner":{"account_id":3468356,"reputation":4510,"user_id":2903371,"accept_rate":92,"display_name":"patrik"},"score":0,"creation_date":1607609061,"post_id":10380512,"comment_id":115330572,"body_markdown":"_&quot;As good programming practice (in any language), you should never re-assign a parameter/argument variable to an object other than the object passed by the calling method.&quot;_ I would have to call you out on this one. There is even a function for it in STL in c++. http://www.cplusplus.com/reference/algorithm/swap/","body":"<i>&quot;As good programming practice (in any language), you should never re-assign a parameter/argument variable to an object other than the object passed by the calling method.&quot;</i> I would have to call you out on this one. There is even a function for it in STL in c++. <a href=\"http://www.cplusplus.com/reference/algorithm/swap/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/algorithm/swap</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1612150746,"post_id":10380512,"comment_id":116667933,"body_markdown":"@patrik I would not hold up C++ as a model of a wisely-designed language. But to each his own. And, as I said in my Answer, if recycling a few bits is critical to your app in an extremely memory-constrained environment, swapping out arguments *might* be justifiable. But that would be specialized hardware, not business-oriented apps on general-purpose computers.","body":"@patrik I would not hold up C++ as a model of a wisely-designed language. But to each his own. And, as I said in my Answer, if recycling a few bits is critical to your app in an extremely memory-constrained environment, swapping out arguments <i>might</i> be justifiable. But that would be specialized hardware, not business-oriented apps on general-purpose computers."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1623854846,"post_id":10380512,"comment_id":120197687,"body_markdown":"A record declaration is different from its constructor - the declaration has new, more precise syntax where it has been decided that final does not make sense.  The constructor is not special - it has always been possible to declare a constructor parameter final.","body":"A record declaration is different from its constructor - the declaration has new, more precise syntax where it has been decided that final does not make sense.  The constructor is not special - it has always been possible to declare a constructor parameter final."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1625054551,"post_id":10380512,"comment_id":120524174,"body_markdown":"@BasilBourque I am confused why are arguing for final in method args when you state in your post that you only use it for specific cases. It has no use as I am in a project right now with finals everywhere. I can easily track the param and see where it is used and set by just putting my cursor on it. All light up. I don&#39;t need finals everywhere for some wierd case where the original author of the method decided you should not overwrite this param. If I now want to do just that, such as reassigning it, because say it was null, i  can not. It makes no use in Java other than for very specific...","body":"@BasilBourque I am confused why are arguing for final in method args when you state in your post that you only use it for specific cases. It has no use as I am in a project right now with finals everywhere. I can easily track the param and see where it is used and set by just putting my cursor on it. All light up. I don&#39;t need finals everywhere for some wierd case where the original author of the method decided you should not overwrite this param. If I now want to do just that, such as reassigning it, because say it was null, i  can not. It makes no use in Java other than for very specific..."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1625054884,"post_id":10380512,"comment_id":120524303,"body_markdown":"If I want to  reassigning it, because say it was null, i  can not. I have to introduce another one, and then if else to set the new one, and reassign the param to that and then use that. I just added complexity to the code BECAUSE of final.","body":"If I want to  reassigning it, because say it was null, i  can not. I have to introduce another one, and then if else to set the new one, and reassign the param to that and then use that. I just added complexity to the code BECAUSE of final."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1631224190,"post_id":10380512,"comment_id":122172542,"body_markdown":"This is great discussion but one thing I think that is missed here is the practical bug side of at least being aware that in Java (and many other languages) ... passing a reference to some method (and Java copies it but ...) still has other references. So making for example a reference to a Map as _final_ does not prevent any member thereof from being modified (say by some downstream method). The Map itself in that example is not immutable (its member references may be changed). Only its reference in the context of where final was used is.","body":"This is great discussion but one thing I think that is missed here is the practical bug side of at least being aware that in Java (and many other languages) ... passing a reference to some method (and Java copies it but ...) still has other references. So making for example a reference to a Map as <i>final</i> does not prevent any member thereof from being modified (say by some downstream method). The Map itself in that example is not immutable (its member references may be changed). Only its reference in the context of where final was used is."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1631225535,"post_id":10380512,"comment_id":122172809,"body_markdown":"@mmm See my first Comment above. Reassigning a different value to an argument variable discards potentially vital information (the passed value) while gaining *nothing* in return beyond saving a few octets of memory. When programming on mobile devices, laptops, desktops, and servers that all have *gigabytes* of memory,  such as trade-off is not justified. Just *declare another local variable*.  I am baffled by the amount of consternation this simple issue raises amongst a few people.","body":"@mmm See my first Comment above. Reassigning a different value to an argument variable discards potentially vital information (the passed value) while gaining <i>nothing</i> in return beyond saving a few octets of memory. When programming on mobile devices, laptops, desktops, and servers that all have <i>gigabytes</i> of memory,  such as trade-off is not justified. Just <i>declare another local variable</i>.  I am baffled by the amount of consternation this simple issue raises amongst a few people."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1631226026,"post_id":10380512,"comment_id":122172903,"body_markdown":"@DarrellTeague Your point is valid, but applies to any collection variable anywhere. The context in this Answer here is the more narrow case of variables: arguments. In all but the simplest code, I would label all arguments as `final`, whether a `Collection` or not. With all my arguments, I want to preserve the original passed value. Generally the calling method should practice [defensive programming](https://en.wikipedia.org/wiki/Defensive_programming), and pass immutable data, or if not practical, at least pass data it no longer cares to maintain/access. That might mean passing a copy.","body":"@DarrellTeague Your point is valid, but applies to any collection variable anywhere. The context in this Answer here is the more narrow case of variables: arguments. In all but the simplest code, I would label all arguments as <code>final</code>, whether a <code>Collection</code> or not. With all my arguments, I want to preserve the original passed value. Generally the calling method should practice <a href=\"https://en.wikipedia.org/wiki/Defensive_programming\" rel=\"nofollow noreferrer\">defensive programming</a>, and pass immutable data, or if not practical, at least pass data it no longer cares to maintain/access. That might mean passing a copy."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1631226861,"post_id":10380512,"comment_id":122173061,"body_markdown":"Excellent point @BasilBourque. However, references go beyond collections and so, to further your point, good defensive programming is really what is the solution here. My default preference is designing with immutability, which Joshua Bloch espouses as well. The current programming model from Spring et al is confusing junior devs with bean-style (public) get/set default methods for every attribute. No wonder folks are wondering about how final keyword plays in.","body":"Excellent point @BasilBourque. However, references go beyond collections and so, to further your point, good defensive programming is really what is the solution here. My default preference is designing with immutability, which Joshua Bloch espouses as well. The current programming model from Spring et al is confusing junior devs with bean-style (public) get/set default methods for every attribute. No wonder folks are wondering about how final keyword plays in."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1631862233,"post_id":10380512,"comment_id":122341843,"body_markdown":"@BasilBourque &quot;reassigning it discards potentially vital information&quot; - then the implementor of that method should no reassign it. If they need the info, then they can just use another variable. they do not need final to prevent that. the java compiler knows whether something is going to be alterered or not, and need not you to tell it is final or not to save memory. if","body":"@BasilBourque &quot;reassigning it discards potentially vital information&quot; - then the implementor of that method should no reassign it. If they need the info, then they can just use another variable. they do not need final to prevent that. the java compiler knows whether something is going to be alterered or not, and need not you to tell it is final or not to save memory. if"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":24,"down_vote_count":6,"up_vote_count":344,"is_accepted":false,"score":338,"last_activity_date":1700630796,"creation_date":1335774056,"answer_id":10380512,"question_id":500508,"body_markdown":"# Stop a Variables Reassignment\r\n\r\nWhile these answers are intellectually interesting, I&#39;ve not read the short simple answer:\r\n\r\n&gt; Use the keyword *final* when you want the compiler to prevent a\r\n&gt; variable from being re-assigned to a different object.\r\n\r\nWhether the variable is a static variable, member variable, local variable, or argument/parameter variable, the effect is entirely the same.\r\n\r\n## Example\r\n\r\nLets see the effect in action.\r\n\r\nConsider this simple method, where the two variables (*arg* and *x*) can both be re-assigned different objects.\r\n\r\n    // Example use of this method: \r\n    //   this.doSomething( &quot;tiger&quot; );\r\n    void doSomething( String arg ) {\r\n      String x = arg;   // Both variables now point to the same String object.\r\n      x = &quot;elephant&quot;;   // This variable now points to a different String object.\r\n      arg = &quot;giraffe&quot;;  // Ditto. Now neither variable points to the original passed String.\r\n    }\r\n\r\nMark the local variable as *final*. This results in a compiler error.\r\n\r\n    void doSomething( String arg ) {\r\n      final String x = arg;  // Mark variable as &#39;final&#39;.\r\n      x = &quot;elephant&quot;;  // Compiler error: The final local variable x cannot be assigned. \r\n      arg = &quot;giraffe&quot;;  \r\n    }\r\n\r\nInstead, lets mark the parameter variable as *final*. This too results in a compiler error.\r\n\r\n    void doSomething( final String arg ) {  // Mark argument as &#39;final&#39;.\r\n      String x = arg;   \r\n      x = &quot;elephant&quot;; \r\n      arg = &quot;giraffe&quot;;  // Compiler error: The passed argument variable arg cannot be re-assigned to another object.\r\n    }\r\n\r\nMoral of the story: \r\n\r\n&gt; If you want to ensure a variable always points to the same object,\r\n&gt; mark the variable *final*.\r\n\r\n## Never Reassign Arguments\r\n\r\nAs good programming practice (in any language), you should *never* re-assign a parameter/argument variable to an object other than the object passed by the calling method. In the examples above, one should never write the line `arg = `. Since humans make mistakes, and programmers are human, lets ask the compiler to assist us. Mark every parameter/argument variable as &#39;final&#39; so that the compiler may find and flag any such re-assignments.\r\n\r\n## In Retrospect\r\n\r\nAs noted in other answers\r\nGiven Java&#39;s original design goal of helping programmers to avoid dumb mistakes such as reading past the end of an array, Java should have been designed to automatically enforce all parameter/argument variables as &#39;final&#39;. In other words, *Arguments should not be variables*. But hindsight is 20/20 vision, and the Java designers had their hands full at the time.\r\n\r\n# So, always add `final` to all arguments?\r\n\r\nShould we add `final` to each and every method parameter being declared? \r\n\r\n - In theory, yes.\r\n - In practice, no.&lt;br /&gt; Add `final` only when the methods code is long or complicated, where the argument may be mistaken for a local or member variable and possibly re-assigned. \r\n\r\nIf you buy into the practice of never re-assigning an argument, you will be inclined to add a `final` to each. But this is tedious and makes the declaration a bit harder to read. \r\n\r\nFor short simple code where the argument is obviously an argument, and not a local variable nor a member variable, I do not bother adding the `final`. If the code is quite obvious, with no chance of me nor any other programmer doing maintenance or refactoring accidentally mistaking the argument variable as something other than an argument, then dont bother. In my own work, I add `final` only in longer or more involved code where an argument might be mistaken for a local or member variable. \r\n\r\n\r\n#Another case added for the completeness\r\n\r\n\r\n    public class MyClass {\r\n        private int x;\r\n        //getters and setters\r\n    }\r\n\r\n    void doSomething( final MyClass arg ) {  // Mark argument as &#39;final&#39;.\r\n      \r\n       arg =  new MyClass();  // Compiler error: The passed argument variable arg  cannot be re-assigned to another object.\r\n\r\n       arg.setX(20); // allowed\r\n      // We can re-assign properties of argument which is marked as final\r\n     }\r\n\r\n# `record`\r\n\r\nJava 16 brings the new [records][1] feature. A record is a very brief way to define a class whose central purpose is to merely carry data, immutably and transparently. \r\n\r\nYou simply declare the class name along with the names and types of its member fields. The compiler implicitly provides the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\nThe fields are read-only, with no setters. So a `record` is one case where there is no need to mark the arguments `final`. They are already effectively final. Indeed, the compiler forbids using `final` when declaring the fields of a record.\r\n\r\n```java\r\npublic record Employee( String name , LocalDate whenHired )  // &#129092; Marking `final` here is *not* allowed.\r\n{\r\n}\r\n```\r\n\r\nIf you provide an optional constructor, there you *can* mark `final`.  \r\n\r\n```java\r\npublic record Employee(String name , LocalDate whenHired)  // &#129092; Marking `final` here is *not* allowed.\r\n{\r\n    public Employee ( final String name , final LocalDate whenHired )  // &#129092; Marking `final` here *is* allowed.\r\n    {\r\n        this.name = name;\r\n        whenHired = LocalDate.MIN;  // &#129092; Compiler error, because of `final`. \r\n        this.whenHired = whenHired;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<h1>Stop a Variables Reassignment</h1>\n<p>While these answers are intellectually interesting, I've not read the short simple answer:</p>\n<blockquote>\n<p>Use the keyword <em>final</em> when you want the compiler to prevent a\nvariable from being re-assigned to a different object.</p>\n</blockquote>\n<p>Whether the variable is a static variable, member variable, local variable, or argument/parameter variable, the effect is entirely the same.</p>\n<h2>Example</h2>\n<p>Lets see the effect in action.</p>\n<p>Consider this simple method, where the two variables (<em>arg</em> and <em>x</em>) can both be re-assigned different objects.</p>\n<pre><code>// Example use of this method: \n//   this.doSomething( &quot;tiger&quot; );\nvoid doSomething( String arg ) {\n  String x = arg;   // Both variables now point to the same String object.\n  x = &quot;elephant&quot;;   // This variable now points to a different String object.\n  arg = &quot;giraffe&quot;;  // Ditto. Now neither variable points to the original passed String.\n}\n</code></pre>\n<p>Mark the local variable as <em>final</em>. This results in a compiler error.</p>\n<pre><code>void doSomething( String arg ) {\n  final String x = arg;  // Mark variable as 'final'.\n  x = &quot;elephant&quot;;  // Compiler error: The final local variable x cannot be assigned. \n  arg = &quot;giraffe&quot;;  \n}\n</code></pre>\n<p>Instead, lets mark the parameter variable as <em>final</em>. This too results in a compiler error.</p>\n<pre><code>void doSomething( final String arg ) {  // Mark argument as 'final'.\n  String x = arg;   \n  x = &quot;elephant&quot;; \n  arg = &quot;giraffe&quot;;  // Compiler error: The passed argument variable arg cannot be re-assigned to another object.\n}\n</code></pre>\n<p>Moral of the story:</p>\n<blockquote>\n<p>If you want to ensure a variable always points to the same object,\nmark the variable <em>final</em>.</p>\n</blockquote>\n<h2>Never Reassign Arguments</h2>\n<p>As good programming practice (in any language), you should <em>never</em> re-assign a parameter/argument variable to an object other than the object passed by the calling method. In the examples above, one should never write the line <code>arg = </code>. Since humans make mistakes, and programmers are human, lets ask the compiler to assist us. Mark every parameter/argument variable as 'final' so that the compiler may find and flag any such re-assignments.</p>\n<h2>In Retrospect</h2>\n<p>As noted in other answers\nGiven Java's original design goal of helping programmers to avoid dumb mistakes such as reading past the end of an array, Java should have been designed to automatically enforce all parameter/argument variables as 'final'. In other words, <em>Arguments should not be variables</em>. But hindsight is 20/20 vision, and the Java designers had their hands full at the time.</p>\n<h1>So, always add <code>final</code> to all arguments?</h1>\n<p>Should we add <code>final</code> to each and every method parameter being declared?</p>\n<ul>\n<li>In theory, yes.</li>\n<li>In practice, no.<br /> Add <code>final</code> only when the methods code is long or complicated, where the argument may be mistaken for a local or member variable and possibly re-assigned.</li>\n</ul>\n<p>If you buy into the practice of never re-assigning an argument, you will be inclined to add a <code>final</code> to each. But this is tedious and makes the declaration a bit harder to read.</p>\n<p>For short simple code where the argument is obviously an argument, and not a local variable nor a member variable, I do not bother adding the <code>final</code>. If the code is quite obvious, with no chance of me nor any other programmer doing maintenance or refactoring accidentally mistaking the argument variable as something other than an argument, then dont bother. In my own work, I add <code>final</code> only in longer or more involved code where an argument might be mistaken for a local or member variable.</p>\n<p>#Another case added for the completeness</p>\n<pre><code>public class MyClass {\n    private int x;\n    //getters and setters\n}\n\nvoid doSomething( final MyClass arg ) {  // Mark argument as 'final'.\n  \n   arg =  new MyClass();  // Compiler error: The passed argument variable arg  cannot be re-assigned to another object.\n\n   arg.setX(20); // allowed\n  // We can re-assign properties of argument which is marked as final\n }\n</code></pre>\n<h1><code>record</code></h1>\n<p>Java 16 brings the new <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature. A record is a very brief way to define a class whose central purpose is to merely carry data, immutably and transparently.</p>\n<p>You simply declare the class name along with the names and types of its member fields. The compiler implicitly provides the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<p>The fields are read-only, with no setters. So a <code>record</code> is one case where there is no need to mark the arguments <code>final</code>. They are already effectively final. Indeed, the compiler forbids using <code>final</code> when declaring the fields of a record.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Employee( String name , LocalDate whenHired )  //  Marking `final` here is *not* allowed.\n{\n}\n</code></pre>\n<p>If you provide an optional constructor, there you <em>can</em> mark <code>final</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Employee(String name , LocalDate whenHired)  //  Marking `final` here is *not* allowed.\n{\n    public Employee ( final String name , final LocalDate whenHired )  //  Marking `final` here *is* allowed.\n    {\n        this.name = name;\n        whenHired = LocalDate.MIN;  //  Compiler error, because of `final`. \n        this.whenHired = whenHired;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1534182779,"post_id":14199645,"comment_id":90610285,"body_markdown":"Be cateful to differentiate an IDE from a runtime JVM. Whatever an IDE does is irrelevant when the compiled byte code runs on the server unless IDE added code to protect against member variable mugging such as a flaw in code when it was intended that a variable should not be reassigned but mistakenly was - hence the purpose of final keyword.","body":"Be cateful to differentiate an IDE from a runtime JVM. Whatever an IDE does is irrelevant when the compiled byte code runs on the server unless IDE added code to protect against member variable mugging such as a flaw in code when it was intended that a variable should not be reassigned but mistakenly was - hence the purpose of final keyword."}],"tags":[],"owner":{"account_id":1015592,"reputation":892,"user_id":1027209,"accept_rate":38,"display_name":"Chris Milburn"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380408937,"creation_date":1357574913,"answer_id":14199645,"question_id":500508,"body_markdown":"I never use final in a parameter list, it just adds clutter like previous respondents have said. Also in Eclipse you can set parameter assignment to generate an error so using final in a parameter list seems pretty redundant to me.\r\nInterestingly when I enabled the Eclipse setting for parameter assignment generating an error on it caught this code (this is just how I remember the flow, not the actual code. ) :-\r\n\r\n    private String getString(String A, int i, String B, String C)\r\n    {\r\n        if (i &gt; 0)\r\n            A += B;\r\n      \r\n        if (i &gt; 100)\r\n            A += C;\r\n    \r\n        return A;\r\n    }\r\n\r\nPlaying devil&#39;s advocate, what exactly is wrong with doing this?\r\n","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>I never use final in a parameter list, it just adds clutter like previous respondents have said. Also in Eclipse you can set parameter assignment to generate an error so using final in a parameter list seems pretty redundant to me.\nInterestingly when I enabled the Eclipse setting for parameter assignment generating an error on it caught this code (this is just how I remember the flow, not the actual code. ) :-</p>\n\n<pre><code>private String getString(String A, int i, String B, String C)\n{\n    if (i &gt; 0)\n        A += B;\n\n    if (i &gt; 100)\n        A += C;\n\n    return A;\n}\n</code></pre>\n\n<p>Playing devil's advocate, what exactly is wrong with doing this?</p>\n"},{"tags":[],"owner":{"account_id":1540226,"reputation":1045,"user_id":1435079,"display_name":"Lawrence"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1587645368,"creation_date":1383052702,"answer_id":19659347,"question_id":500508,"body_markdown":"Since Java passes copies of arguments I feel the relevance of `final` is rather limited. I guess the habit comes from the C++ era where you could prohibit reference content from being changed by doing a `const char const *`. I feel this kind of stuff makes you believe the developer is inherently stupid as f*** and needs to be protected against truly every character he types. In all humbleness may I say, I write very few bugs even though I omit `final` (unless I don&#39;t want someone to override my methods and classes). Maybe I&#39;m just an old-school dev.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Since Java passes copies of arguments I feel the relevance of <code>final</code> is rather limited. I guess the habit comes from the C++ era where you could prohibit reference content from being changed by doing a <code>const char const *</code>. I feel this kind of stuff makes you believe the developer is inherently stupid as f*** and needs to be protected against truly every character he types. In all humbleness may I say, I write very few bugs even though I omit <code>final</code> (unless I don't want someone to override my methods and classes). Maybe I'm just an old-school dev.</p>\n"},{"tags":[],"owner":{"account_id":2626295,"reputation":652,"user_id":2273211,"accept_rate":67,"display_name":"KunYu Tsai"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1599645012,"creation_date":1458239619,"answer_id":36068940,"question_id":500508,"body_markdown":"Follow up by Michel&#39;s post. I made myself another example to explain it. I hope it could help.\r\n\r\n    public static void main(String[] args){\r\n        MyParam myParam = thisIsWhy(new MyObj());\r\n        myParam.setArgNewName();\r\n\r\n        System.out.println(myParam.showObjName());\r\n    }\r\n\r\n    public static MyParam thisIsWhy(final MyObj obj){\r\n        MyParam myParam = new MyParam() {\r\n            @Override\r\n            public void setArgNewName() {\r\n                obj.name = &quot;afterSet&quot;;\r\n            }\r\n\r\n            @Override\r\n            public String showObjName(){\r\n                return obj.name;\r\n            }\r\n        };\r\n\r\n        return myParam;\r\n    }\r\n\r\n    public static class MyObj{\r\n        String name = &quot;beforeSet&quot;;\r\n        public MyObj() {\r\n        }\r\n    }\r\n\r\n    public abstract static class MyParam{\r\n        public abstract void setArgNewName();\r\n        public abstract String showObjName();\r\n    }\r\n\r\nFrom the code above, in the method **thisIsWhy()**, we actually **didn&#39;t assign** the **[argument MyObj obj]** to a **real reference** in MyParam. In instead, we just use the **[argument MyObj obj]** in the method inside MyParam.\r\n\r\nBut after we finish the method **thisIsWhy()**, ***should the argument(object) MyObj still exist?***\r\n\r\nSeems like it should, because we can see in main we still call the method  **showObjName()** and it needs to reach **obj**. MyParam will still use/reaches the method argument even the method already returned! \r\n\r\nHow Java really achieve this is to generate a copy also is a hidden reference of the **argument MyObj obj** inside the MyParam object ( but it&#39;s not a formal field in MyParam so that we can&#39;t see it )\r\n\r\nAs we call &quot;showObjName&quot;, it will use that reference to get the corresponding value.\r\n\r\nBut if we didn&#39;t put the argument final, which leads a situation we can reassign a new memory(object) to the **argument MyObj obj**.\r\n\r\n**Technically there&#39;s no clash at all!** If we are allowed to do that, below will be the situation:\r\n\r\n 1. We now have a hidden [MyObj obj] point to a [Memory A in heap] now live in MyParam object.\r\n 2. We also have another [MyObj obj] which is the argument point to a [Memory B in heap] now live in thisIsWhy method.\r\n\r\nNo clash, but **&quot;CONFUSING!!&quot;** Because they are all using the **same &quot;reference name&quot; which is &quot;obj&quot;**.\r\n\r\nTo avoid this, set it as &quot;final&quot; to avoid programmer do the &quot;mistake-prone&quot; code.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Follow up by Michel's post. I made myself another example to explain it. I hope it could help.</p>\n<pre><code>public static void main(String[] args){\n    MyParam myParam = thisIsWhy(new MyObj());\n    myParam.setArgNewName();\n\n    System.out.println(myParam.showObjName());\n}\n\npublic static MyParam thisIsWhy(final MyObj obj){\n    MyParam myParam = new MyParam() {\n        @Override\n        public void setArgNewName() {\n            obj.name = &quot;afterSet&quot;;\n        }\n\n        @Override\n        public String showObjName(){\n            return obj.name;\n        }\n    };\n\n    return myParam;\n}\n\npublic static class MyObj{\n    String name = &quot;beforeSet&quot;;\n    public MyObj() {\n    }\n}\n\npublic abstract static class MyParam{\n    public abstract void setArgNewName();\n    public abstract String showObjName();\n}\n</code></pre>\n<p>From the code above, in the method <strong>thisIsWhy()</strong>, we actually <strong>didn't assign</strong> the <strong>[argument MyObj obj]</strong> to a <strong>real reference</strong> in MyParam. In instead, we just use the <strong>[argument MyObj obj]</strong> in the method inside MyParam.</p>\n<p>But after we finish the method <strong>thisIsWhy()</strong>, <em><strong>should the argument(object) MyObj still exist?</strong></em></p>\n<p>Seems like it should, because we can see in main we still call the method  <strong>showObjName()</strong> and it needs to reach <strong>obj</strong>. MyParam will still use/reaches the method argument even the method already returned!</p>\n<p>How Java really achieve this is to generate a copy also is a hidden reference of the <strong>argument MyObj obj</strong> inside the MyParam object ( but it's not a formal field in MyParam so that we can't see it )</p>\n<p>As we call &quot;showObjName&quot;, it will use that reference to get the corresponding value.</p>\n<p>But if we didn't put the argument final, which leads a situation we can reassign a new memory(object) to the <strong>argument MyObj obj</strong>.</p>\n<p><strong>Technically there's no clash at all!</strong> If we are allowed to do that, below will be the situation:</p>\n<ol>\n<li>We now have a hidden [MyObj obj] point to a [Memory A in heap] now live in MyParam object.</li>\n<li>We also have another [MyObj obj] which is the argument point to a [Memory B in heap] now live in thisIsWhy method.</li>\n</ol>\n<p>No clash, but <strong>&quot;CONFUSING!!&quot;</strong> Because they are all using the <strong>same &quot;reference name&quot; which is &quot;obj&quot;</strong>.</p>\n<p>To avoid this, set it as &quot;final&quot; to avoid programmer do the &quot;mistake-prone&quot; code.</p>\n"},{"comments":[{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":2,"creation_date":1523408761,"post_id":37931786,"comment_id":86545371,"body_markdown":"_&quot;the problem with final is that it only enforces the reference is unchanged&quot;_ --  Untrue, Java itself prevents that.  A variable passed into a method cannot have its reference changed by that method.","body":"<i>&quot;the problem with final is that it only enforces the reference is unchanged&quot;</i> --  Untrue, Java itself prevents that.  A variable passed into a method cannot have its reference changed by that method."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1523547070,"post_id":37931786,"comment_id":86615748,"body_markdown":"Please research before posting... https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","body":"Please research before posting... <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a>"},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1523547157,"post_id":37931786,"comment_id":86615811,"body_markdown":"Simply put, if it were true that references to references cannot be changed, there would be no discussion of defensive-copying, immutability, no need for final keyword, etc.","body":"Simply put, if it were true that references to references cannot be changed, there would be no discussion of defensive-copying, immutability, no need for final keyword, etc."},{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":0,"creation_date":1523551196,"post_id":37931786,"comment_id":86618264,"body_markdown":"Either you&#39;re misunderstanding me, or you&#39;re mistaken. If I pass an object reference to a method, and that method reassigns it, the original reference remains intact for (me) the caller when the method completes its execution.  Java is strictly pass-by-value.  And you&#39;re brazenly presumptuous to assert I&#39;ve done no research.","body":"Either you&#39;re misunderstanding me, or you&#39;re mistaken. If I pass an object reference to a method, and that method reassigns it, the original reference remains intact for (me) the caller when the method completes its execution.  Java is strictly pass-by-value.  And you&#39;re brazenly presumptuous to assert I&#39;ve done no research."},{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":0,"creation_date":1523551618,"post_id":37931786,"comment_id":86618533,"body_markdown":"Downvoting because op asked why use final, and you gave just one, incorrect reason.","body":"Downvoting because op asked why use final, and you gave just one, incorrect reason."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1523554287,"post_id":37931786,"comment_id":86619913,"body_markdown":"The facts are there... some minor semantics about the reference being passed by value but the reference (pointer - I program in &quot;C&quot; too) ... can point to anything as the example provided shows. This results in the returned value being changed. As to the OP &quot;question&quot;... an earlier comment read &quot;This is not a question, it&#39;s a statement of your opinion&quot;... so there is some disagreement as to whether there was a question in there at all rather than a rather ambiguous discussion about the use of the final keyword.","body":"The facts are there... some minor semantics about the reference being passed by value but the reference (pointer - I program in &quot;C&quot; too) ... can point to anything as the example provided shows. This results in the returned value being changed. As to the OP &quot;question&quot;... an earlier comment read &quot;This is not a question, it&#39;s a statement of your opinion&quot;... so there is some disagreement as to whether there was a question in there at all rather than a rather ambiguous discussion about the use of the final keyword."}],"tags":[],"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"comment_count":6,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1466456661,"creation_date":1466456661,"answer_id":37931786,"question_id":500508,"body_markdown":"Short answer: `final` helps a tiny bit but... use defensive programming on the client side instead.\r\n\r\nIndeed, the problem with `final` is that it only enforces the **reference** is unchanged, gleefully allowing the referenced object members to be mutated, unbeknownst to the caller. Hence the best practice in this regard is defensive programming on the caller side, creating deeply immutable instances or deep copies of objects that are in danger of being mugged by unscrupulous APIs.","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>Short answer: <code>final</code> helps a tiny bit but... use defensive programming on the client side instead.</p>\n\n<p>Indeed, the problem with <code>final</code> is that it only enforces the <strong>reference</strong> is unchanged, gleefully allowing the referenced object members to be mutated, unbeknownst to the caller. Hence the best practice in this regard is defensive programming on the caller side, creating deeply immutable instances or deep copies of objects that are in danger of being mugged by unscrupulous APIs.</p>\n"}],"owner":{"display_name":"Yotam Gilboa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177165,"favorite_count":0,"down_vote_count":1,"up_vote_count":456,"answer_count":12,"score":455,"last_activity_date":1700630796,"creation_date":1233481782,"question_id":500508,"body_markdown":"I can&#39;t understand where the `final` keyword is *really* handy when it is used on method parameters.  \r\n\r\nIf we exclude the usage of anonymous classes, readability and intent declaration then it seems almost worthless to me. \r\n\r\nEnforcing that some data remains constant is not as strong as it seems. \r\n\r\n- If the parameter is a primitive then it will have no effect since the parameter is passed to the method as a value and changing it will have no effect outside the scope. \r\n\r\n- If we are passing a parameter by reference, then the reference itself is a local variable and if the reference is changed from within the method, that would not have any effect from outside of the method scope. \r\n\r\nConsider the simple test example below.\r\nThis test passes although the method changed the value of the reference given to it, it has no effect.\r\n\r\n    public void testNullify() {\r\n        Collection&lt;Integer&gt; c  = new ArrayList&lt;Integer&gt;();\t\t\r\n        nullify(c);\r\n        assertNotNull(c);\t\t\r\n        final Collection&lt;Integer&gt; c1 = c;\r\n        assertTrue(c1.equals(c));\r\n        change(c);\r\n        assertTrue(c1.equals(c));\r\n    }\r\n\r\n    private void change(Collection&lt;Integer&gt; c) {\r\n        c = new ArrayList&lt;Integer&gt;();\r\n    }\r\n\r\n    public void nullify(Collection&lt;?&gt; t) {\r\n        t = null;\r\n    }\r\n","title":"Why should I use the keyword &quot;final&quot; on a method parameter in Java?","body":"<p>I can't understand where the <code>final</code> keyword is <em>really</em> handy when it is used on method parameters.  </p>\n\n<p>If we exclude the usage of anonymous classes, readability and intent declaration then it seems almost worthless to me. </p>\n\n<p>Enforcing that some data remains constant is not as strong as it seems. </p>\n\n<ul>\n<li><p>If the parameter is a primitive then it will have no effect since the parameter is passed to the method as a value and changing it will have no effect outside the scope. </p></li>\n<li><p>If we are passing a parameter by reference, then the reference itself is a local variable and if the reference is changed from within the method, that would not have any effect from outside of the method scope. </p></li>\n</ul>\n\n<p>Consider the simple test example below.\nThis test passes although the method changed the value of the reference given to it, it has no effect.</p>\n\n<pre><code>public void testNullify() {\n    Collection&lt;Integer&gt; c  = new ArrayList&lt;Integer&gt;();      \n    nullify(c);\n    assertNotNull(c);       \n    final Collection&lt;Integer&gt; c1 = c;\n    assertTrue(c1.equals(c));\n    change(c);\n    assertTrue(c1.equals(c));\n}\n\nprivate void change(Collection&lt;Integer&gt; c) {\n    c = new ArrayList&lt;Integer&gt;();\n}\n\npublic void nullify(Collection&lt;?&gt; t) {\n    t = null;\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","intellij-plugin","intellij-14"],"owner":{"account_id":29963179,"reputation":11,"user_id":22962339,"display_name":"user22962339"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700630616,"creation_date":1700630616,"question_id":77527489,"body_markdown":"I am trying to setup IntelliJ and maven project on multiple machines. I used Powershell to programmatically install IntelliJ on the machines and download the maven project repo. I also programmatically downloaded JDK and set JAVA_HOME to point to it. \r\n\r\nWhen I open the maven project in IntelliJ, the default project SDK is not set. I need to manually go to Project Structure &gt; Project Settings &gt; Project and then point to the installed JDK on the machine. Is there a way to programmatically set the IntelliJ default project SDK to the installed JDK (referenced by the JAVA_HOME path) on the machine using the command line, so that when I open the maven project in IntelliJ the default project SDK is already set? Id like to avoid manually going to project structure and setting the SDK using the IntelliJ UI. \r\n\r\nFor reference, I am using IntelliJ IDEA 2023.1.2 x64\r\n\r\n\r\nI tried searching for command line operations that can be invoked on IntelliJ to set the default project SDK but couldnt find any. ","title":"Programmatically Set Default Project SDK in IntelliJ","body":"<p>I am trying to setup IntelliJ and maven project on multiple machines. I used Powershell to programmatically install IntelliJ on the machines and download the maven project repo. I also programmatically downloaded JDK and set JAVA_HOME to point to it.</p>\n<p>When I open the maven project in IntelliJ, the default project SDK is not set. I need to manually go to Project Structure &gt; Project Settings &gt; Project and then point to the installed JDK on the machine. Is there a way to programmatically set the IntelliJ default project SDK to the installed JDK (referenced by the JAVA_HOME path) on the machine using the command line, so that when I open the maven project in IntelliJ the default project SDK is already set? Id like to avoid manually going to project structure and setting the SDK using the IntelliJ UI.</p>\n<p>For reference, I am using IntelliJ IDEA 2023.1.2 x64</p>\n<p>I tried searching for command line operations that can be invoked on IntelliJ to set the default project SDK but couldnt find any.</p>\n"},{"tags":["java","android","butterknife"],"comments":[{"owner":{"account_id":111374,"reputation":51666,"user_id":294248,"display_name":"fadden"},"score":0,"creation_date":1421694903,"post_id":28031905,"comment_id":44448450,"body_markdown":"Can you show the logcat output?  There may be some additional information in the log before the exception.  (There was in Dalvik, not sure what Art shows.)","body":"Can you show the logcat output?  There may be some additional information in the log before the exception.  (There was in Dalvik, not sure what Art shows.)"},{"owner":{"account_id":40356,"reputation":11408,"user_id":116938,"accept_rate":88,"display_name":"Austyn Mahoney"},"score":0,"creation_date":1421697246,"post_id":28031905,"comment_id":44449676,"body_markdown":"I added the logs that show up right before the error. I see one problem right away. Line 2 shows an parent class called `LoggedInNavActivitya`, the `a` is not in the actual name. The other glaring issue that that `LoggedInNavActivity` is no longer even in my codebase... I deleted that file a while ago.","body":"I added the logs that show up right before the error. I see one problem right away. Line 2 shows an parent class called <code>LoggedInNavActivitya</code>, the <code>a</code> is not in the actual name. The other glaring issue that that <code>LoggedInNavActivity</code> is no longer even in my codebase... I deleted that file a while ago."}],"answers":[{"comments":[{"owner":{"account_id":1226958,"reputation":3451,"user_id":1192333,"accept_rate":75,"display_name":"Pelanes"},"score":6,"creation_date":1494512720,"post_id":28032719,"comment_id":74869618,"body_markdown":"If Clear project doesn&#39;t work, try with File -&gt; Invalidate Caches / Restart... -&gt; Invalidate and Restart","body":"If Clear project doesn&#39;t work, try with File -&gt; Invalidate Caches / Restart... -&gt; Invalidate and Restart"},{"owner":{"account_id":428832,"reputation":33599,"user_id":811405,"accept_rate":71,"display_name":"Can Poyrazolu"},"score":0,"creation_date":1532273309,"post_id":28032719,"comment_id":89901557,"body_markdown":"Did both Clean Project and Invalidate Caches/Restart. Not sure which one, but it worked when I did both.","body":"Did both Clean Project and Invalidate Caches/Restart. Not sure which one, but it worked when I did both."}],"tags":[],"owner":{"account_id":40356,"reputation":11408,"user_id":116938,"accept_rate":88,"display_name":"Austyn Mahoney"},"comment_count":2,"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1421698118,"creation_date":1421698118,"answer_id":28032719,"question_id":28031905,"body_markdown":"Cleaning out the `build` folder resolved the problem. Not sure why ART had an issue but Dalvik did not.\r\n\r\nRunning a gradle `clean` task was not clearing out my `build` folder all the way. I had to do it manually, but `clean` may work for some people.","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>Cleaning out the <code>build</code> folder resolved the problem. Not sure why ART had an issue but Dalvik did not.</p>\n\n<p>Running a gradle <code>clean</code> task was not clearing out my <code>build</code> folder all the way. I had to do it manually, but <code>clean</code> may work for some people.</p>\n"},{"comments":[{"owner":{"account_id":276449,"reputation":10406,"user_id":569885,"accept_rate":100,"display_name":"dbm"},"score":2,"creation_date":1428479510,"post_id":28368177,"comment_id":47174131,"body_markdown":"+1. This one solved my issue and I sure wouldn&#39;t have found the root cause this easily without your Answer. Thanks a lot!","body":"+1. This one solved my issue and I sure wouldn&#39;t have found the root cause this easily without your Answer. Thanks a lot!"},{"owner":{"account_id":18223968,"reputation":796,"user_id":13264143,"display_name":"John Glen"},"score":1,"creation_date":1654911429,"post_id":28368177,"comment_id":128212091,"body_markdown":"Bug marked as fixed when it is still here in 2022","body":"Bug marked as fixed when it is still here in 2022"},{"owner":{"account_id":4221425,"reputation":336,"user_id":3456124,"display_name":"kirkadev"},"score":0,"creation_date":1675675629,"post_id":28368177,"comment_id":132972731,"body_markdown":"+1 your answer works. I wrapped some code inside try/catch, and then Dagger code crashed app. At now everything works","body":"+1 your answer works. I wrapped some code inside try/catch, and then Dagger code crashed app. At now everything works"}],"tags":[],"owner":{"account_id":1074669,"reputation":12309,"user_id":1367571,"accept_rate":73,"display_name":"Sebastiano"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1423233530,"creation_date":1423233530,"answer_id":28368177,"question_id":28031905,"body_markdown":"In my case, the cause was slightly different.\r\n\r\nApparently, putting a `synchronized` statement inside a `try/catch` block causes the `VerifyError`, as reported [here on SO][1] and on the [official bug tracker][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27076759/sqlite-dbhelper-doesnt-work-with-art\r\n  [2]: https://code.google.com/p/android/issues/detail?id=80961","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>In my case, the cause was slightly different.</p>\n\n<p>Apparently, putting a <code>synchronized</code> statement inside a <code>try/catch</code> block causes the <code>VerifyError</code>, as reported <a href=\"https://stackoverflow.com/questions/27076759/sqlite-dbhelper-doesnt-work-with-art\">here on SO</a> and on the <a href=\"https://code.google.com/p/android/issues/detail?id=80961\" rel=\"noreferrer\">official bug tracker</a>.</p>\n"},{"comments":[{"owner":{"account_id":395480,"reputation":12449,"user_id":758458,"accept_rate":80,"display_name":"howettl"},"score":0,"creation_date":1610569326,"post_id":37385394,"comment_id":116178872,"body_markdown":"How exactly do those packages in the proguard configuration relate to the .jar you imported?","body":"How exactly do those packages in the proguard configuration relate to the .jar you imported?"}],"tags":[],"owner":{"account_id":1563277,"reputation":9,"user_id":1452641,"display_name":"user1452641"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1501506155,"creation_date":1463989731,"answer_id":37385394,"question_id":28031905,"body_markdown":"In my case, the cause is proguard. My app shutdown on sumsung note3 whick is android 5.0.  \r\nI imported the android-async-http-1.4.9.jar, the proguard is:\r\n\r\n    -dontwarn com.loopj.android.http.**\r\n    -keep class com.loopj.android.http.**{*;}\r\n\r\nIt is not enough. I added:\r\n\r\n    -dontwarn cz.msebera.**\r\n    -keep class cz.msebera.**{*;}\r\n\r\nthe bug gone.\r\n\r\nso if you come into this bug, the deep-seated reason maybe not obvious, it is to be noted the proguard file.","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>In my case, the cause is proguard. My app shutdown on sumsung note3 whick is android 5.0.<br>\nI imported the android-async-http-1.4.9.jar, the proguard is:</p>\n\n<pre><code>-dontwarn com.loopj.android.http.**\n-keep class com.loopj.android.http.**{*;}\n</code></pre>\n\n<p>It is not enough. I added:</p>\n\n<pre><code>-dontwarn cz.msebera.**\n-keep class cz.msebera.**{*;}\n</code></pre>\n\n<p>the bug gone.</p>\n\n<p>so if you come into this bug, the deep-seated reason maybe not obvious, it is to be noted the proguard file.</p>\n"},{"tags":[],"owner":{"account_id":1180206,"reputation":8276,"user_id":1155282,"accept_rate":77,"display_name":"Irshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488188928,"creation_date":1488188928,"answer_id":42482458,"question_id":28031905,"body_markdown":"I had the same issue thrown by `GoogleTagManager`.\r\n\r\n&gt; java.lang.VerifyError: Verifier rejected class com.google.android.gms.tagmanager.TagManager: com.google.android.gms.common.api.PendingResult com.google.android.gms.tagmanager.TagManager.loadContainerDefaultOnly(java.lang.String, int) failed to verify: com.google.android.gms.common.api.PendingResult com.google.android.gms.tagmanager.TagManager.loadContainerDefaultOnly(java.lang.String, int): [0x11] returning &#39;Reference: com.google.android.gms.tagmanager.zzp&#39;, but expected from declaration &#39;Reference: com.google.android.gms.common.api.PendingResult&#39;\r\n\r\n It happened after the merge. My collegue updated the library from `10.0.1` to `10.2.1`. Clean build didn&#39;t work.\r\n\r\n Due to time constraints, i rollback to the older version, and it worked.","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>I had the same issue thrown by <code>GoogleTagManager</code>.</p>\n\n<blockquote>\n  <p>java.lang.VerifyError: Verifier rejected class com.google.android.gms.tagmanager.TagManager: com.google.android.gms.common.api.PendingResult com.google.android.gms.tagmanager.TagManager.loadContainerDefaultOnly(java.lang.String, int) failed to verify: com.google.android.gms.common.api.PendingResult com.google.android.gms.tagmanager.TagManager.loadContainerDefaultOnly(java.lang.String, int): [0x11] returning 'Reference: com.google.android.gms.tagmanager.zzp', but expected from declaration 'Reference: com.google.android.gms.common.api.PendingResult'</p>\n</blockquote>\n\n<p>It happened after the merge. My collegue updated the library from <code>10.0.1</code> to <code>10.2.1</code>. Clean build didn't work.</p>\n\n<p>Due to time constraints, i rollback to the older version, and it worked.</p>\n"},{"tags":[],"owner":{"account_id":3613591,"reputation":2755,"user_id":3014036,"accept_rate":63,"display_name":"ahmed_khan_89"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1611582332,"creation_date":1488893451,"answer_id":42649629,"question_id":28031905,"body_markdown":"**Edit: As people are still voting this answer, I want to mention that it is from 2017. I am not sure if it&#39;s still correct... I hope it&#39;s still useful for some of you...**\r\n\r\nIn my case, I simply disabled the &quot;Instant Run&quot; option from my &quot;Build, Execution, Deployment&quot; settings. \r\n\r\nTo do so: \r\n\r\n 1. go to &quot;File&quot; &gt; &quot;Settings&quot; &gt; &quot;Build, Execution, Deployment&quot; &gt; &quot;Instant Run&quot;\r\n 2. uncheck the box &quot;Enable Instant Run...&quot; and click &quot;OK&quot; button\r\n\r\n \r\n","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p><strong>Edit: As people are still voting this answer, I want to mention that it is from 2017. I am not sure if it's still correct... I hope it's still useful for some of you...</strong></p>\n<p>In my case, I simply disabled the &quot;Instant Run&quot; option from my &quot;Build, Execution, Deployment&quot; settings.</p>\n<p>To do so:</p>\n<ol>\n<li>go to &quot;File&quot; &gt; &quot;Settings&quot; &gt; &quot;Build, Execution, Deployment&quot; &gt; &quot;Instant Run&quot;</li>\n<li>uncheck the box &quot;Enable Instant Run...&quot; and click &quot;OK&quot; button</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5515265,"reputation":3852,"user_id":4380236,"display_name":"urgentx"},"score":0,"creation_date":1519251584,"post_id":48827222,"comment_id":84839391,"body_markdown":"I had the same problems with stdlib functions.","body":"I had the same problems with stdlib functions."}],"tags":[],"owner":{"account_id":5519125,"reputation":713,"user_id":4382732,"display_name":"Marius Kohmann"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518785538,"creation_date":1518785538,"answer_id":48827222,"question_id":28031905,"body_markdown":"In my case the method that the error message said was &#39;bad&#39;, had some unknown faults. Changing from a Kotlin lambda to a regular loop solved my issue.\r\n\r\nBefore (With Error):\r\n\r\n    fun validZipCode(zipcode: String): Boolean {\r\n        val validRegexes = arrayOf(\r\n                &quot;0[0-9]{1}[0-9]{2}&quot;, \r\n                &quot;1[0-2]{1}[0-9]{2}&quot;, \r\n                &quot;1[3-4]{1}[0-9]{2}&quot;, \r\n                &quot;19[0-9]{2}&quot;, \r\n                &quot;2[0-1]{1}[0-9]{2}&quot; \r\n        )\r\n    return validRegexes.any { zipcode.matches(it.toRegex()) }\r\nAfter:\r\n\r\n    fun validZipCode(zipcode: String): Boolean {\r\n\r\n        val validRegexes = arrayOf(\r\n                &quot;0[0-9]{1}[0-9]{2}&quot;, \r\n                &quot;1[0-2]{1}[0-9]{2}&quot;, \r\n                &quot;1[3-4]{1}[0-9]{2}&quot;,\r\n                &quot;19[0-9]{2}&quot;, \r\n                &quot;2[0-1]{1}[0-9]{2}&quot;\r\n        )\r\n\r\n        for (regex in validRegexes) {\r\n            if (zipcode.matches(regex.toRegex())) {\r\n                return true\r\n            }\r\n        }\r\n\r\n        return false\r\n    }","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>In my case the method that the error message said was 'bad', had some unknown faults. Changing from a Kotlin lambda to a regular loop solved my issue.</p>\n\n<p>Before (With Error):</p>\n\n<pre><code>fun validZipCode(zipcode: String): Boolean {\n    val validRegexes = arrayOf(\n            \"0[0-9]{1}[0-9]{2}\", \n            \"1[0-2]{1}[0-9]{2}\", \n            \"1[3-4]{1}[0-9]{2}\", \n            \"19[0-9]{2}\", \n            \"2[0-1]{1}[0-9]{2}\" \n    )\nreturn validRegexes.any { zipcode.matches(it.toRegex()) }\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>fun validZipCode(zipcode: String): Boolean {\n\n    val validRegexes = arrayOf(\n            \"0[0-9]{1}[0-9]{2}\", \n            \"1[0-2]{1}[0-9]{2}\", \n            \"1[3-4]{1}[0-9]{2}\",\n            \"19[0-9]{2}\", \n            \"2[0-1]{1}[0-9]{2}\"\n    )\n\n    for (regex in validRegexes) {\n        if (zipcode.matches(regex.toRegex())) {\n            return true\n        }\n    }\n\n    return false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547009,"reputation":2174,"user_id":5729661,"display_name":"Ali Nawaz"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1523952721,"creation_date":1523952721,"answer_id":49872959,"question_id":28031905,"body_markdown":"Simple **(3) steps** worked for me:\r\n\r\n**1 -** from top menu of android studio build --&gt; **clean project**\r\n\r\n**2 -** from top menu of android studio build --&gt; **make project**\r\n\r\n**3 -** from top menu of android studio build --&gt; **rebuild  project**\r\n\r\nAll set up..","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>Simple <strong>(3) steps</strong> worked for me:</p>\n\n<p><strong>1 -</strong> from top menu of android studio build --> <strong>clean project</strong></p>\n\n<p><strong>2 -</strong> from top menu of android studio build --> <strong>make project</strong></p>\n\n<p><strong>3 -</strong> from top menu of android studio build --> <strong>rebuild  project</strong></p>\n\n<p>All set up..</p>\n"},{"comments":[{"owner":{"account_id":1346901,"reputation":2458,"user_id":1287459,"display_name":"Georgie"},"score":0,"creation_date":1544389035,"post_id":53134716,"comment_id":94248595,"body_markdown":"This is the bug report: https://issuetracker.google.com/issues/118911692","body":"This is the bug report: <a href=\"https://issuetracker.google.com/issues/118911692\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/118911692</a>"}],"tags":[],"owner":{"account_id":1346901,"reputation":2458,"user_id":1287459,"display_name":"Georgie"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542951789,"creation_date":1541272846,"answer_id":53134716,"question_id":28031905,"body_markdown":"My app was working on most platforms but crashing immediately on Android 5.1. I started to suspect the new D8 dex compiler after reading Google info on how great it is. Disabling D8, so it uses the original DX compiler, is the only thing that worked for me. \r\nProject clean/invalidate caches didn&#39;t fix it.\r\nI had some synchronized blocks, but removing them didn&#39;t fix it.\r\nTurning off instant run didn&#39;t fix it.\r\nDisabling proguard didn&#39;t fix it.\r\n\r\nHere is how you disable D8:\r\n&lt;br&gt;-Create a file called gradle.properties in the root of your project, if it doesn&#39;t exist\r\n&lt;br&gt;-In it put this line: android.enableD8=false\r\n\r\nYou&#39;ll get deprecated warnings. Hopefully Google actually fixes D8 before they fully remove the deprecated DX. I don&#39;t know what in my code triggers it. I&#39;m using Android Studio 3.2.1 with gradle version 4.6.\r\nEdit: I&#39;ve reported this bug and Google developers are actively investigating","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>My app was working on most platforms but crashing immediately on Android 5.1. I started to suspect the new D8 dex compiler after reading Google info on how great it is. Disabling D8, so it uses the original DX compiler, is the only thing that worked for me. \nProject clean/invalidate caches didn't fix it.\nI had some synchronized blocks, but removing them didn't fix it.\nTurning off instant run didn't fix it.\nDisabling proguard didn't fix it.</p>\n\n<p>Here is how you disable D8:\n<br>-Create a file called gradle.properties in the root of your project, if it doesn't exist\n<br>-In it put this line: android.enableD8=false</p>\n\n<p>You'll get deprecated warnings. Hopefully Google actually fixes D8 before they fully remove the deprecated DX. I don't know what in my code triggers it. I'm using Android Studio 3.2.1 with gradle version 4.6.\nEdit: I've reported this bug and Google developers are actively investigating</p>\n"},{"tags":[],"owner":{"account_id":15671656,"reputation":17,"user_id":11307961,"display_name":"mannu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557434218,"creation_date":1557434218,"answer_id":56067199,"question_id":28031905,"body_markdown":"May be this can help some one who is facing this issue in Debug Build as well.\r\n\r\nI was also facing the same error.I missed to Configure Google API Console project.\r\nSo **Configure Google API Console project** following [this][1]\r\nand specify your app&#39;s package name when prompted. You will also need to provide the **SHA-1 hash** of your signing certificate. See Authenticating Your Client for information.\r\n\r\n\r\n  [1]: https://developers.google.com/identity/sign-in/android/start-integrating","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>May be this can help some one who is facing this issue in Debug Build as well.</p>\n\n<p>I was also facing the same error.I missed to Configure Google API Console project.\nSo <strong>Configure Google API Console project</strong> following <a href=\"https://developers.google.com/identity/sign-in/android/start-integrating\" rel=\"nofollow noreferrer\">this</a>\nand specify your app's package name when prompted. You will also need to provide the <strong>SHA-1 hash</strong> of your signing certificate. See Authenticating Your Client for information.</p>\n"},{"tags":[],"owner":{"account_id":1927550,"reputation":959,"user_id":1737646,"accept_rate":25,"display_name":"Anuj Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579867455,"creation_date":1579867455,"answer_id":59896082,"question_id":28031905,"body_markdown":"Verify Error is majorly thrown in certain scenarios which occurs **if we changed definition of class A, but class B was compiled using an older version of the class A.** That&#39;s why it gets resolved if we clear our project and rebuild all the classes together with same version of Java. \r\n\r\nFollowing link lists some of the scenarios where Verify error might occur. \r\n[java.lang.VerifyError  How to solve VerifyError][1]\r\n\r\n\r\n  [1]: https://examples.javacodegeeks.com/java-basics/exceptions/java-lang-verifyerror-how-to-solve-verifyerror/","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>Verify Error is majorly thrown in certain scenarios which occurs <strong>if we changed definition of class A, but class B was compiled using an older version of the class A.</strong> That's why it gets resolved if we clear our project and rebuild all the classes together with same version of Java. </p>\n\n<p>Following link lists some of the scenarios where Verify error might occur. \n<a href=\"https://examples.javacodegeeks.com/java-basics/exceptions/java-lang-verifyerror-how-to-solve-verifyerror/\" rel=\"nofollow noreferrer\">java.lang.VerifyError  How to solve VerifyError</a></p>\n"},{"tags":[],"owner":{"account_id":5544002,"reputation":5430,"user_id":4399414,"display_name":"Sdghasemi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634718936,"creation_date":1634718936,"answer_id":69642782,"question_id":28031905,"body_markdown":"I&#39;ve had this issue with stable version of Android Studio Arctic Fox Patch 3 (AGP 7.0.3) while using Kotlin `1.5.x` or `1.6.x`. When I was setting `&quot;1.5&quot;` or `&quot;1.6&quot;` as my **Kotlin language version** most of classes written in Kotlin were encountering `VerifyError`. Turned out the language version was the culprit, reducing it to `&quot;1.4&quot;` (while using Kotlin `1.5.x`) fixed the errors for me:\r\n\r\napp **build.gradle.kts:**\r\n```Kotlin\r\nkotlinOptions {\r\n    languageVersion = &quot;1.4&quot;\r\n    jvmTarget = &quot;11&quot;\r\n}\r\n```","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>I've had this issue with stable version of Android Studio Arctic Fox Patch 3 (AGP 7.0.3) while using Kotlin <code>1.5.x</code> or <code>1.6.x</code>. When I was setting <code>&quot;1.5&quot;</code> or <code>&quot;1.6&quot;</code> as my <strong>Kotlin language version</strong> most of classes written in Kotlin were encountering <code>VerifyError</code>. Turned out the language version was the culprit, reducing it to <code>&quot;1.4&quot;</code> (while using Kotlin <code>1.5.x</code>) fixed the errors for me:</p>\n<p>app <strong>build.gradle.kts:</strong></p>\n<pre><code>kotlinOptions {\n    languageVersion = &quot;1.4&quot;\n    jvmTarget = &quot;11&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19323473,"reputation":1,"user_id":14126669,"display_name":"Artem roid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700630049,"creation_date":1700619160,"answer_id":77526980,"question_id":28031905,"body_markdown":"In my case, I upgraded the gradle version from 4 to 7 and changed \r\n\r\n    compileOptions   {\r\n    sourceCompatibility JavaVersion.VERSION_11\r\n    targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n\r\nwith\r\n\r\n    sourceCompatibility JavaVersion.VERSION_1_8\r\n    targetCompatibility JavaVersion.VERSION_1_8\r\n    }","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>In my case, I upgraded the gradle version from 4 to 7 and changed</p>\n<pre><code>compileOptions   {\nsourceCompatibility JavaVersion.VERSION_11\ntargetCompatibility JavaVersion.VERSION_11\n}\n</code></pre>\n<p>with</p>\n<pre><code>sourceCompatibility JavaVersion.VERSION_1_8\ntargetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n"}],"owner":{"account_id":40356,"reputation":11408,"user_id":116938,"accept_rate":88,"display_name":"Austyn Mahoney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62080,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":28032719,"answer_count":12,"score":56,"last_activity_date":1700630049,"creation_date":1421694770,"question_id":28031905,"body_markdown":"I get this error when I install my release APK on a `5.x` device. The error does not occur when I push the same code from Android Studio, or if I run it on a `4.x` device.\r\n\r\n    java.lang.VerifyError: Verifier rejected class com.myapp.android.ui.activity.MainActivity$$ViewInjector due to bad method void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity) (declaration of &#39;com.myapp.android.ui.activity.MainActivity$$ViewInjector&#39; appears in /data/app/com.myapp.android-2/base.apk)\r\n           at java.lang.Class.classForName(Class.java)\r\n           at java.lang.Class.forName(Class.java:308)\r\n           at java.lang.Class.forName(Class.java:272)\r\n           at butterknife.ButterKnife.findInjectorForClass(ButterKnife.java:298)\r\n           at butterknife.ButterKnife.inject(ButterKnife.java:271)\r\n           at butterknife.ButterKnife.inject(ButterKnife.java:184)\r\n           at com.myapp.android.ui.activity.MyDrawerActivity.onCreate(MyDrawerActivity.java:31)\r\n\r\nI inject my Toolbar and a custom NavigationDrawer in the class.\r\n\r\n    @InjectView(R.id.toolbar) Toolbar mToolbar;\r\n    @InjectView(R.id.nav_drawer) MyNavigationDrawer mNavigationDrawer;\r\n\r\nLine 31:\r\n\r\n    ButterKnife.inject(this);\r\n\r\nIs there something that would be different with the Butterknife codegen when using `gradle assembleRelease`? I am not using ProGuard at all.\r\n\r\nHere are my other Android build settings:\r\n\r\n    # Android SDK settings\r\n    ANDROID_BUILD_MIN_SDK_VERSION=14\r\n    ANDROID_BUILD_TARGET_SDK_VERSION=21\r\n    ANDROID_BUILD_SDK_VERSION=21\r\n    ANDROID_BUILD_TOOLS_VERSION=21.1.2\r\n\r\n\r\n**Logcat**\r\n\r\n    I/art     (21354): Verification error in void com.myapp.android.ui.activity.MainActivity$$ViewInjector.inject(butterknife.ButterKnife$Finder, com.myapp.android.ui.activity.MainActivity, java.lang.Object)\r\n    I/art     (21354): void com.myapp.android.ui.activity.MainActivity$$ViewInjector.inject(butterknife.ButterKnife$Finder, com.myapp.android.ui.activity.MainActivity, java.lang.Object) failed to verify: register v4 has type Reference: com.myapp.android.ui.activity.MainActivity but expected Reference: com.myapp.android.ui.activity.LoggedInNavActivitya.lang.Object): [0x0]\r\n    I/art     (21354): Verification error in void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity)\r\n    I/art     (21354): void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity) failed to verify: register v1 has type Reference: com.myapp.android.ui.activity.MainActivity but expected Reference: com.myapp.android.ui.activity.LoggedInNavActivity\r\n    E/art     (21354): Verification failed on class com.myapp.android.ui.activity.MainActivity$$ViewInjector in /data/app/com.myapp.android-1/base.apk because: Verifier rejected class com.myapp.android.ui.activity.MainActivity$$ViewInjector due to bad method void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity)","title":"java.lang.VerifyError: Verifier rejected class on Lollipop when using release APK","body":"<p>I get this error when I install my release APK on a <code>5.x</code> device. The error does not occur when I push the same code from Android Studio, or if I run it on a <code>4.x</code> device.</p>\n\n<pre><code>java.lang.VerifyError: Verifier rejected class com.myapp.android.ui.activity.MainActivity$$ViewInjector due to bad method void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity) (declaration of 'com.myapp.android.ui.activity.MainActivity$$ViewInjector' appears in /data/app/com.myapp.android-2/base.apk)\n       at java.lang.Class.classForName(Class.java)\n       at java.lang.Class.forName(Class.java:308)\n       at java.lang.Class.forName(Class.java:272)\n       at butterknife.ButterKnife.findInjectorForClass(ButterKnife.java:298)\n       at butterknife.ButterKnife.inject(ButterKnife.java:271)\n       at butterknife.ButterKnife.inject(ButterKnife.java:184)\n       at com.myapp.android.ui.activity.MyDrawerActivity.onCreate(MyDrawerActivity.java:31)\n</code></pre>\n\n<p>I inject my Toolbar and a custom NavigationDrawer in the class.</p>\n\n<pre><code>@InjectView(R.id.toolbar) Toolbar mToolbar;\n@InjectView(R.id.nav_drawer) MyNavigationDrawer mNavigationDrawer;\n</code></pre>\n\n<p>Line 31:</p>\n\n<pre><code>ButterKnife.inject(this);\n</code></pre>\n\n<p>Is there something that would be different with the Butterknife codegen when using <code>gradle assembleRelease</code>? I am not using ProGuard at all.</p>\n\n<p>Here are my other Android build settings:</p>\n\n<pre><code># Android SDK settings\nANDROID_BUILD_MIN_SDK_VERSION=14\nANDROID_BUILD_TARGET_SDK_VERSION=21\nANDROID_BUILD_SDK_VERSION=21\nANDROID_BUILD_TOOLS_VERSION=21.1.2\n</code></pre>\n\n<p><strong>Logcat</strong></p>\n\n<pre><code>I/art     (21354): Verification error in void com.myapp.android.ui.activity.MainActivity$$ViewInjector.inject(butterknife.ButterKnife$Finder, com.myapp.android.ui.activity.MainActivity, java.lang.Object)\nI/art     (21354): void com.myapp.android.ui.activity.MainActivity$$ViewInjector.inject(butterknife.ButterKnife$Finder, com.myapp.android.ui.activity.MainActivity, java.lang.Object) failed to verify: register v4 has type Reference: com.myapp.android.ui.activity.MainActivity but expected Reference: com.myapp.android.ui.activity.LoggedInNavActivitya.lang.Object): [0x0]\nI/art     (21354): Verification error in void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity)\nI/art     (21354): void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity) failed to verify: register v1 has type Reference: com.myapp.android.ui.activity.MainActivity but expected Reference: com.myapp.android.ui.activity.LoggedInNavActivity\nE/art     (21354): Verification failed on class com.myapp.android.ui.activity.MainActivity$$ViewInjector in /data/app/com.myapp.android-1/base.apk because: Verifier rejected class com.myapp.android.ui.activity.MainActivity$$ViewInjector due to bad method void com.myapp.android.ui.activity.MainActivity$$ViewInjector.reset(com.myapp.android.ui.activity.MainActivity)\n</code></pre>\n"},{"tags":["java","postgresql","jpa","one-to-many","many-to-one"],"answers":[{"comments":[{"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"score":0,"creation_date":1700550198,"post_id":77518127,"comment_id":136665132,"body_markdown":"That&#39;s not the problem. I changed it @OneToMany(mapped_by = &quot;configuration&quot;....) but still the id is not saved in database","body":"That&#39;s not the problem. I changed it @OneToMany(mapped_by = &quot;configuration&quot;....) but still the id is not saved in database"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1700577799,"post_id":77518127,"comment_id":136670127,"body_markdown":"It is A problem. You have a few apparently. Next is - do your screens really have a configuration set? If it is null, the foreign key &quot;configuration_id&quot; will be null.","body":"It is A problem. You have a few apparently. Next is - do your screens really have a configuration set? If it is null, the foreign key &quot;configuration_id&quot; will be null."}],"tags":[],"owner":{"account_id":6686268,"reputation":1,"user_id":5157412,"display_name":"Lukier"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700629768,"creation_date":1700504481,"answer_id":77518127,"question_id":77517390,"body_markdown":"Due to tutorials like: https://www.baeldung.com/hibernate-one-to-many\r\n\r\nI guess the problem in your model is `mappedBy` in `@OneToMany`. In your case it should point to class field which mapping this relation. \r\n\r\nSo it should be: `@OneToMany(mapped_by = &quot;configuration&quot;, ...)`","title":"OneToMany relationship doesn&#39;t save id of owner entity in secondary entity","body":"<p>Due to tutorials like: <a href=\"https://www.baeldung.com/hibernate-one-to-many\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-one-to-many</a></p>\n<p>I guess the problem in your model is <code>mappedBy</code> in <code>@OneToMany</code>. In your case it should point to class field which mapping this relation.</p>\n<p>So it should be: <code>@OneToMany(mapped_by = &quot;configuration&quot;, ...)</code></p>\n"}],"owner":{"account_id":24183247,"reputation":472,"user_id":18570428,"display_name":"Talenel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700629768,"creation_date":1700496736,"question_id":77517390,"body_markdown":"Im trying to save in postgres 2 entities, ***Configuration*** and ***Screen***. ***Configuration*** can have many ***Screens***, then is `oneToMany`, and one ***Screen*** can have one ***Configuration***, then is`manyToOne`. I&#39;m using `JPA` to save those entities. The problem I have is, in ***Screen*** table, ***configuration_id*** relationship is not saved. That&#39;s my code:\r\n\r\n    @Data\r\n    public class Configuration  {\r\n    \r\n    @Id\r\n    private String id = UUID.randomUUID().toString();\r\n    \r\n    @OneToMany(mappedBy = &quot;id_configuration&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private List&lt;Screen&gt; screen;\r\n\r\nAnd this other\r\n\r\n    @Table\r\n    @Entity\r\n    @Data\r\n    public class Screen {\r\n    \r\n    private String status;\r\n    \r\n    @JoinColumn(name = &quot;configuration_id&quot;)\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private Configuration configuration;\r\n\r\nwhen I create a new ***Configuration***, I indicate the ***Screen*** that should be created except the &#39;id&#39; field (it&#39;s configuration id created randomlly)\r\n\r\nThe data is saved well, both in ***Configuration*** and ***Screen***, except for that (***id_configuration***) field. There is a ***configuration_id*** field in ***Screen*** table, but it is always empty and never filled. Why is this happening? I&#39;m indicating the cascade type ALL, and relationships are well-formed.","title":"OneToMany relationship doesn&#39;t save id of owner entity in secondary entity","body":"<p>Im trying to save in postgres 2 entities, <em><strong>Configuration</strong></em> and <em><strong>Screen</strong></em>. <em><strong>Configuration</strong></em> can have many <em><strong>Screens</strong></em>, then is <code>oneToMany</code>, and one <em><strong>Screen</strong></em> can have one <em><strong>Configuration</strong></em>, then is<code>manyToOne</code>. I'm using <code>JPA</code> to save those entities. The problem I have is, in <em><strong>Screen</strong></em> table, <em><strong>configuration_id</strong></em> relationship is not saved. That's my code:</p>\n<pre><code>@Data\npublic class Configuration  {\n\n@Id\nprivate String id = UUID.randomUUID().toString();\n\n@OneToMany(mappedBy = &quot;id_configuration&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\nprivate List&lt;Screen&gt; screen;\n</code></pre>\n<p>And this other</p>\n<pre><code>@Table\n@Entity\n@Data\npublic class Screen {\n\nprivate String status;\n\n@JoinColumn(name = &quot;configuration_id&quot;)\n@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\nprivate Configuration configuration;\n</code></pre>\n<p>when I create a new <em><strong>Configuration</strong></em>, I indicate the <em><strong>Screen</strong></em> that should be created except the 'id' field (it's configuration id created randomlly)</p>\n<p>The data is saved well, both in <em><strong>Configuration</strong></em> and <em><strong>Screen</strong></em>, except for that (<em><strong>id_configuration</strong></em>) field. There is a <em><strong>configuration_id</strong></em> field in <em><strong>Screen</strong></em> table, but it is always empty and never filled. Why is this happening? I'm indicating the cascade type ALL, and relationships are well-formed.</p>\n"},{"tags":["java","for-loop","tic-tac-toe"],"comments":[{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":1,"creation_date":1700624551,"post_id":77527174,"comment_id":136676466,"body_markdown":"Your code example should be in the question, not the comments. Please [edit] the question. If you want to output the cell number, you would do `row * 3 + column + 1`. This is basic math. Or you could create a &quot;counter&quot; variable prior to the loops and increment it inside the inner-most loop. You may wish to enclose the entire math expression in parentheses if you intend to also perform string operations on it. Or output the tab character in a separate statement.","body":"Your code example should be in the question, not the comments. Please <a href=\"https://stackoverflow.com/posts/77527174/edit\">edit</a> the question. If you want to output the cell number, you would do <code>row * 3 + column + 1</code>. This is basic math. Or you could create a &quot;counter&quot; variable prior to the loops and increment it inside the inner-most loop. You may wish to enclose the entire math expression in parentheses if you intend to also perform string operations on it. Or output the tab character in a separate statement."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1700627435,"post_id":77527174,"comment_id":136676687,"body_markdown":"Writing a tic tac toe game is far more involved than printing out the shown matrix.  You may want to focus on some simpler things until your coding skills evolve.  Another thing is to pick a class, say String, and play around with the methods.  Then move to another class.  Then when you want to write a program, you may remember something you learned during that process that would help that you wouldn&#39;t have previously known you could do.  I also recommend you check out Oracles java tutorials.","body":"Writing a tic tac toe game is far more involved than printing out the shown matrix.  You may want to focus on some simpler things until your coding skills evolve.  Another thing is to pick a class, say String, and play around with the methods.  Then move to another class.  Then when you want to write a program, you may remember something you learned during that process that would help that you wouldn&#39;t have previously known you could do.  I also recommend you check out Oracles java tutorials."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1700627812,"post_id":77527174,"comment_id":136676714,"body_markdown":"[The Java Tutorials](https://docs.oracle.com/javase/tutorial/)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java Tutorials</a>"}],"answers":[{"tags":[],"owner":{"account_id":5941380,"reputation":4127,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700625297,"creation_date":1700625297,"answer_id":77527236,"question_id":77527174,"body_markdown":"You need 2 for-loops for this. One for-loop to iterate over the rows and the other for loop is to iterate through the columns. \r\n\r\n&gt; Refer the working sample [here][1]\r\n\r\nRefer the code below :\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            int rows = 3;\r\n            int cols = 3;\r\n    \r\n            for (int i = 1; i &lt;= rows; i++) {\r\n                for (int j = 1; j &lt;= cols; j++) {\r\n                    System.out.print((i - 1) * cols + j + &quot;\\t&quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nOutput :\r\n\r\n    1      2      3    \r\n    4      5      6   \r\n    7      8      9\r\n\r\n\r\n  [1]: https://onlinegdb.com/hW52IMElM","title":"How do I make an output like this using Java for-loops?","body":"<p>You need 2 for-loops for this. One for-loop to iterate over the rows and the other for loop is to iterate through the columns.</p>\n<blockquote>\n<p>Refer the working sample <a href=\"https://onlinegdb.com/hW52IMElM\" rel=\"nofollow noreferrer\">here</a></p>\n</blockquote>\n<p>Refer the code below :</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int rows = 3;\n        int cols = 3;\n\n        for (int i = 1; i &lt;= rows; i++) {\n            for (int j = 1; j &lt;= cols; j++) {\n                System.out.print((i - 1) * cols + j + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Output :</p>\n<pre><code>1      2      3    \n4      5      6   \n7      8      9\n</code></pre>\n"}],"owner":{"account_id":29962644,"reputation":9,"user_id":22961939,"display_name":"akari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1700630263,"answer_count":1,"score":-3,"last_activity_date":1700629034,"creation_date":1700623956,"question_id":77527174,"body_markdown":"    1      2      3    \r\n    4      5      6   \r\n    7      8      9\r\n\r\nI&#39;m making a tic-tac-toe game with this;-;\r\n\r\nI tried a formula but it only turned out as\r\n\r\n    0    0    0\r\n    1    1    1\r\n    2    2    2\r\n\r\nWould also really appreciate it if you could also direct me on how to change the numbers to X/O when chosen.\r\n\r\n    int[][] x = new int[3][3];\r\n    for (int i = 0; i &lt; 3; i++) {\r\n        for (int j = 0; j &lt; 3; j++) {\r\n            System.out.print(&quot; &quot;);\r\n            System.out.print(i+1+j+ &quot;\\t&quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\nI apologize, I&#39;m really quite new to this.\r\n","title":"How do I make an output like this using Java for-loops?","body":"<pre><code>1      2      3    \n4      5      6   \n7      8      9\n</code></pre>\n<p>I'm making a tic-tac-toe game with this;-;</p>\n<p>I tried a formula but it only turned out as</p>\n<pre><code>0    0    0\n1    1    1\n2    2    2\n</code></pre>\n<p>Would also really appreciate it if you could also direct me on how to change the numbers to X/O when chosen.</p>\n<pre><code>int[][] x = new int[3][3];\nfor (int i = 0; i &lt; 3; i++) {\n    for (int j = 0; j &lt; 3; j++) {\n        System.out.print(&quot; &quot;);\n        System.out.print(i+1+j+ &quot;\\t&quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n<p>I apologize, I'm really quite new to this.</p>\n"},{"tags":["java","maven","log4j","pom.xml","slf4j"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1674059710,"post_id":75162281,"comment_id":132635526,"body_markdown":"You have log4j and logback in the classpath remove one.","body":"You have log4j and logback in the classpath remove one."},{"owner":{"account_id":19108145,"reputation":134,"user_id":13954773,"display_name":"Ashley Xu"},"score":0,"creation_date":1674060014,"post_id":75162281,"comment_id":132635637,"body_markdown":"@Jens Would you happen to know how to remove it?  Thanks!","body":"@Jens Would you happen to know how to remove it?  Thanks!"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1674061886,"post_id":75162281,"comment_id":132636309,"body_markdown":"it must be a dependency in your project. remove it from there","body":"it must be a dependency in your project. remove it from there"}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1674060662,"creation_date":1674060295,"answer_id":75162534,"question_id":75162281,"body_markdown":"Based on [this documentation](https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/):\r\n\r\n&gt;Due to a break in compatibility in the SLF4J binding, as of release 2.19.0 two SLF4J to Log4j Adapters are provided.\r\n&gt;\r\n&gt;1. `log4j-slf4j-impl` should be used with SLF4J 1.7.x releases or older.\r\n&gt;2. `log4j-slf4j2-impl` should be used with SLF4J 2.0.x releases or newer.\r\n&gt;\r\n&gt;Applications that take advantage of the Java Module System should use SLF4J 2.0.x and log4j-slf4j2-impl.\r\n\r\nSo the simplest way (if you need SLF4J 2) is to use `&lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;`. The other thing you can do is to revert back to `slf4j-api` 1.7.x.\r\n\r\n**Other notes:**\r\n\r\n- The SLF4J log shows that `logback-classic` is also present in the dependency tree. You need to select either `logback-classic` or the log4j binding. Run `mvn dependency:tree` on your project to find where `logback-classic` is being added.\r\n\r\n- If you want to keep `logback-classic`, then same as mentioned above, you need to use the `logback-classic` compatible with SLF4J 2.","title":"Why would a &quot;No SLF4J&quot; provider found error occur when SLF4J is in Maven pom.xml file?","body":"<p>Based on <a href=\"https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/\" rel=\"noreferrer\">this documentation</a>:</p>\n<blockquote>\n<p>Due to a break in compatibility in the SLF4J binding, as of release 2.19.0 two SLF4J to Log4j Adapters are provided.</p>\n<ol>\n<li><code>log4j-slf4j-impl</code> should be used with SLF4J 1.7.x releases or older.</li>\n<li><code>log4j-slf4j2-impl</code> should be used with SLF4J 2.0.x releases or newer.</li>\n</ol>\n<p>Applications that take advantage of the Java Module System should use SLF4J 2.0.x and log4j-slf4j2-impl.</p>\n</blockquote>\n<p>So the simplest way (if you need SLF4J 2) is to use <code>&lt;artifactId&gt;log4j-slf4j2-impl&lt;/artifactId&gt;</code>. The other thing you can do is to revert back to <code>slf4j-api</code> 1.7.x.</p>\n<p><strong>Other notes:</strong></p>\n<ul>\n<li><p>The SLF4J log shows that <code>logback-classic</code> is also present in the dependency tree. You need to select either <code>logback-classic</code> or the log4j binding. Run <code>mvn dependency:tree</code> on your project to find where <code>logback-classic</code> is being added.</p>\n</li>\n<li><p>If you want to keep <code>logback-classic</code>, then same as mentioned above, you need to use the <code>logback-classic</code> compatible with SLF4J 2.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11270646,"reputation":405,"user_id":8266206,"display_name":"Charden Daxicen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694526259,"creation_date":1694526259,"answer_id":77089718,"question_id":75162281,"body_markdown":"I was using Gradle. Adding this dependency worked\r\n\r\n    implementation &#39;org.apache.logging.log4j:log4j-slf4j2-impl:2.20.0&#39;\r\n\r\n","title":"Why would a &quot;No SLF4J&quot; provider found error occur when SLF4J is in Maven pom.xml file?","body":"<p>I was using Gradle. Adding this dependency worked</p>\n<pre><code>implementation 'org.apache.logging.log4j:log4j-slf4j2-impl:2.20.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26150741,"reputation":1,"user_id":19838736,"display_name":""},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700628678,"creation_date":1700628678,"answer_id":77527396,"question_id":75162281,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.36&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\nI downgrade the slf4j version from 1.8.* to 1.7.36 ,and It works, otherwise it happens:\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\n\r\n","title":"Why would a &quot;No SLF4J&quot; provider found error occur when SLF4J is in Maven pom.xml file?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n  &lt;version&gt;1.7.36&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n  &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nI downgrade the slf4j version from 1.8.* to 1.7.36 ,and It works, otherwise it happens:\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"https://www.slf4j.org/codes.html#noProviders\" rel=\"nofollow noreferrer\">https://www.slf4j.org/codes.html#noProviders</a> for further details.</p>\n"}],"owner":{"account_id":19108145,"reputation":134,"user_id":13954773,"display_name":"Ashley Xu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8345,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75162534,"answer_count":3,"score":3,"last_activity_date":1700628678,"creation_date":1674059118,"question_id":75162281,"body_markdown":"I am currently getting the below errors when trying to run a Spring Java program.\r\n\r\n\r\n```\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\r\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/user/.m2/repository/ch/qos/logback/logback-classic/1.2.11/logback-classic-1.2.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/user/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.19.0/log4j-slf4j-impl-2.19.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\r\n```\r\n\r\nHere is the section in the pom.xml file that has the SLF4J and Log4J dependencies.  This same section has worked in previous projects.\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI don&#39;t have any components that are targeting  indings for slf4j-api version 1..x or earlier.  This error message seems to both say that I don&#39;t have SLF4J and that I have the wrong version.\r\n\r\nIf there are any thoughts on how to resolve this, I would appreciate it.  Thank you!\r\n\r\n\r\nI have tried using different dependencies in the pom.xml file, but ultimately these have worked in a previous program.  I have also tried looking at dependencies that might also use SLF4J and excluding SLF4J from them, but I am still getting an error message.  I have tried solutions from other similar questions asked but keep getting the same error.","title":"Why would a &quot;No SLF4J&quot; provider found error occur when SLF4J is in Maven pom.xml file?","body":"<p>I am currently getting the below errors when trying to run a Spring Java program.</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/user/.m2/repository/ch/qos/logback/logback-classic/1.2.11/logback-classic-1.2.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Ignoring binding found at [jar:file:/C:/Users/user/.m2/repository/org/apache/logging/log4j/log4j-slf4j-impl/2.19.0/log4j-slf4j-impl-2.19.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See https://www.slf4j.org/codes.html#ignoredBindings for an explanation.\n</code></pre>\n<p>Here is the section in the pom.xml file that has the SLF4J and Log4J dependencies.  This same section has worked in previous projects.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I don't have any components that are targeting  indings for slf4j-api version 1..x or earlier.  This error message seems to both say that I don't have SLF4J and that I have the wrong version.</p>\n<p>If there are any thoughts on how to resolve this, I would appreciate it.  Thank you!</p>\n<p>I have tried using different dependencies in the pom.xml file, but ultimately these have worked in a previous program.  I have also tried looking at dependencies that might also use SLF4J and excluding SLF4J from them, but I am still getting an error message.  I have tried solutions from other similar questions asked but keep getting the same error.</p>\n"},{"tags":["java","android","gradle","android-app-bundle"],"answers":[{"comments":[{"owner":{"account_id":5784890,"reputation":2332,"user_id":4564450,"accept_rate":62,"display_name":"Andrey Solera"},"score":8,"creation_date":1620501450,"post_id":66663015,"comment_id":119221575,"body_markdown":"keystore.properties file shouldn&#39;t be added in a public repo","body":"keystore.properties file shouldn&#39;t be added in a public repo"},{"owner":{"account_id":14286485,"reputation":3521,"user_id":10319730,"display_name":"Andre Thiele"},"score":4,"creation_date":1620561590,"post_id":66663015,"comment_id":119232193,"body_markdown":"Whos talking about a public repo?","body":"Whos talking about a public repo?"},{"owner":{"account_id":5784890,"reputation":2332,"user_id":4564450,"accept_rate":62,"display_name":"Andrey Solera"},"score":9,"creation_date":1620572051,"post_id":66663015,"comment_id":119234888,"body_markdown":"useful comment in case someone is thinking on doing that.","body":"useful comment in case someone is thinking on doing that."},{"owner":{"account_id":14286485,"reputation":3521,"user_id":10319730,"display_name":"Andre Thiele"},"score":0,"creation_date":1620573749,"post_id":66663015,"comment_id":119235402,"body_markdown":"yeah one should put it on the gitignore but you would have to reconstruct it on the CI if you think about signing and pushing to play store","body":"yeah one should put it on the gitignore but you would have to reconstruct it on the CI if you think about signing and pushing to play store"},{"owner":{"account_id":20460294,"reputation":135,"user_id":15013078,"display_name":"yasin demir"},"score":0,"creation_date":1633954188,"post_id":66663015,"comment_id":122889495,"body_markdown":"@Andr&#233;Ramon I also encountered this error and everything looks right. BTW what you mean &quot;I forgot to add my keystore.properties file which I read at the signing process&quot; that ?","body":"@Andr&#233;Ramon I also encountered this error and everything looks right. BTW what you mean &quot;I forgot to add my keystore.properties file which I read at the signing process&quot; that ?"},{"owner":{"account_id":19002304,"reputation":513,"user_id":13869584,"display_name":"Aterus"},"score":0,"creation_date":1652876745,"post_id":66663015,"comment_id":127712033,"body_markdown":"I had the same error. My mistake was, that the key.properties file was in the wrong folder. Thanks the hint.","body":"I had the same error. My mistake was, that the key.properties file was in the wrong folder. Thanks the hint."},{"owner":{"account_id":4796363,"reputation":73,"user_id":3874175,"display_name":"Dishank Jindal"},"score":0,"creation_date":1661962901,"post_id":66663015,"comment_id":129898008,"body_markdown":"I am still getting the same error only on github actions build. not on local machine. I am very careful recontructing the key.properties and keystore.jks file from base64 string. i double checked those files by creating it locally and test build it.","body":"I am still getting the same error only on github actions build. not on local machine. I am very careful recontructing the key.properties and keystore.jks file from base64 string. i double checked those files by creating it locally and test build it."},{"owner":{"account_id":21010382,"reputation":153,"user_id":15439137,"display_name":"sonalika"},"score":2,"creation_date":1665816356,"post_id":66663015,"comment_id":130791100,"body_markdown":"hey i got the same error, please help me solve this . you can find the link here https://stackoverflow.com/q/74067077/17984033","body":"hey i got the same error, please help me solve this . you can find the link here <a href=\"https://stackoverflow.com/q/74067077/17984033\">stackoverflow.com/q/74067077/17984033</a>"},{"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"score":0,"creation_date":1669805113,"post_id":66663015,"comment_id":131724795,"body_markdown":"How did you &quot;add&quot; the keystore file in the ci pipeline? Just pushing it with the repository is a security risk so I guess you reference to a Github Secret. But how do you reference that secret in the ci build for the `flutter build appbundle` command?","body":"How did you &quot;add&quot; the keystore file in the ci pipeline? Just pushing it with the repository is a security risk so I guess you reference to a Github Secret. But how do you reference that secret in the ci build for the <code>flutter build appbundle</code> command?"},{"owner":{"account_id":14286485,"reputation":3521,"user_id":10319730,"display_name":"Andre Thiele"},"score":0,"creation_date":1669827970,"post_id":66663015,"comment_id":131733466,"body_markdown":"you can recreate the file using &gt;&gt; on linux. check in there you can access secrets. like this: echo Welcome to Linux &gt;&gt; my_file_2.txt","body":"you can recreate the file using &gt;&gt; on linux. check in there you can access secrets. like this: echo Welcome to Linux &gt;&gt; my_file_2.txt"}],"tags":[],"owner":{"account_id":14286485,"reputation":3521,"user_id":10319730,"display_name":"Andre Thiele"},"comment_count":10,"down_vote_count":0,"up_vote_count":63,"is_accepted":true,"score":63,"last_activity_date":1700628659,"creation_date":1615926906,"answer_id":66663015,"question_id":66661789,"body_markdown":"I forgot to add my `keystore.properties` file which I read at the signing process.","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>I forgot to add my <code>keystore.properties</code> file which I read at the signing process.</p>\n"},{"tags":[],"owner":{"account_id":23194353,"reputation":41,"user_id":17290208,"display_name":"Katelyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672335296,"creation_date":1672335296,"answer_id":74954317,"question_id":66661789,"body_markdown":"I had the same error. I used usb to copy upload key, not using cloud services like Google Drive and copied the content of key.properties file and pasted the content into notepad or editor and again copy and paste the content into the file. I think the former operation is irrelevant, but I fixed the error in this way.","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>I had the same error. I used usb to copy upload key, not using cloud services like Google Drive and copied the content of key.properties file and pasted the content into notepad or editor and again copy and paste the content into the file. I think the former operation is irrelevant, but I fixed the error in this way.</p>\n"},{"comments":[{"owner":{"account_id":14286485,"reputation":3521,"user_id":10319730,"display_name":"Andre Thiele"},"score":2,"creation_date":1675159321,"post_id":75274853,"comment_id":132863691,"body_markdown":"no. you should reconstruct the file on CI using secrets and environment variables.","body":"no. you should reconstruct the file on CI using secrets and environment variables."}],"tags":[],"owner":{"account_id":19893334,"reputation":65,"user_id":14574885,"display_name":"Lakshan Kodithuwakku"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1674995053,"creation_date":1674995053,"answer_id":75274853,"question_id":66661789,"body_markdown":"If you added your keystore properties to your gitignore file, it may have caused issues with your signing process. To fix this, you should remove the keystore properties from the gitignore file and ensure they are included in your repository. This will ensure that the signing process has access to the necessary information to build your app.","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>If you added your keystore properties to your gitignore file, it may have caused issues with your signing process. To fix this, you should remove the keystore properties from the gitignore file and ensure they are included in your repository. This will ensure that the signing process has access to the necessary information to build your app.</p>\n"},{"tags":[],"owner":{"account_id":8805769,"reputation":692,"user_id":6580519,"display_name":"Mohammed Salim Al-Othman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683447179,"creation_date":1683447179,"answer_id":76192830,"question_id":66661789,"body_markdown":"keystore.properties file should be located inside the android folder or flutter app then the keystore file should be located in the same given directory inside the keystore.properties file .","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>keystore.properties file should be located inside the android folder or flutter app then the keystore file should be located in the same given directory inside the keystore.properties file .</p>\n"},{"tags":[],"owner":{"account_id":17969158,"reputation":677,"user_id":13058371,"display_name":"Remoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691494701,"creation_date":1691494701,"answer_id":76859192,"question_id":66661789,"body_markdown":"For me, where I am using Fastlane and GitHub Action to upload a new Android version... I did have the file `keystore.properties` called `key.properties` locally... but in GitHub Action I was using `keystore.properties` and that was my problem ","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>For me, where I am using Fastlane and GitHub Action to upload a new Android version... I did have the file <code>keystore.properties</code> called <code>key.properties</code> locally... but in GitHub Action I was using <code>keystore.properties</code> and that was my problem</p>\n"},{"tags":[],"owner":{"account_id":5332702,"reputation":2200,"user_id":4628115,"accept_rate":60,"display_name":"CybeX"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694643933,"creation_date":1694643933,"answer_id":77100828,"question_id":66661789,"body_markdown":"A little late to the party, in my particular case I had misplaced my `key.properties` file containing keystore credentials. \r\n\r\n### Exception\r\n```\r\n[   +1 ms] FAILURE: Build failed with an exception.\r\n[   +1 ms] * What went wrong:\r\n[        ] Execution failed for task &#39;:app:signReleaseBundle&#39;.\r\n[        ] &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\r\n[        ]    &gt; java.lang.NullPointerException (no error message)\r\n[        ] * Try:\r\n[        ] &gt; Run with --debug option to get more log output.\r\n[        ] &gt; Run with --scan to get full insights.\r\n[        ] * Exception is\r\n```\r\n\r\nThe hint here (atleast for me) is `signReleaseBundle`, to me indicating all builds, etc completed. Knowing I have a keystore, etc to sign the app - this would be my first point to look at.\r\n\r\n### Solution\r\n\r\nOriginally my `key.properties` was placed in `android/app/key.properties`. Moving this up to module level `android/key.properties` resolved the issue.\r\n\r\nMy usage was in `android/app/gradle.build`:\r\n\r\n```asdl\r\ndef keystoreProperties = new Properties()\r\ndef keystorePropertiesFile = rootProject.file(&#39;key.properties&#39;)\r\nif (keystorePropertiesFile.exists()) {\r\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 34\r\n    ...\r\n\r\n    signingConfigs {\r\n       release {\r\n           keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n           keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n           storeFile keystoreProperties[&#39;storeFile&#39;] ? file(keystoreProperties[&#39;storeFile&#39;]) : null\r\n           storePassword keystoreProperties[&#39;storePassword&#39;]\r\n        }\r\n     }\r\n```\r\n\r\n\r\n","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>A little late to the party, in my particular case I had misplaced my <code>key.properties</code> file containing keystore credentials.</p>\n<h3>Exception</h3>\n<pre><code>[   +1 ms] FAILURE: Build failed with an exception.\n[   +1 ms] * What went wrong:\n[        ] Execution failed for task ':app:signReleaseBundle'.\n[        ] &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\n[        ]    &gt; java.lang.NullPointerException (no error message)\n[        ] * Try:\n[        ] &gt; Run with --debug option to get more log output.\n[        ] &gt; Run with --scan to get full insights.\n[        ] * Exception is\n</code></pre>\n<p>The hint here (atleast for me) is <code>signReleaseBundle</code>, to me indicating all builds, etc completed. Knowing I have a keystore, etc to sign the app - this would be my first point to look at.</p>\n<h3>Solution</h3>\n<p>Originally my <code>key.properties</code> was placed in <code>android/app/key.properties</code>. Moving this up to module level <code>android/key.properties</code> resolved the issue.</p>\n<p>My usage was in <code>android/app/gradle.build</code>:</p>\n<pre><code>def keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdkVersion 34\n    ...\n\n    signingConfigs {\n       release {\n           keyAlias keystoreProperties['keyAlias']\n           keyPassword keystoreProperties['keyPassword']\n           storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n           storePassword keystoreProperties['storePassword']\n        }\n     }\n</code></pre>\n"}],"owner":{"account_id":14286485,"reputation":3521,"user_id":10319730,"display_name":"Andre Thiele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25933,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":66663015,"answer_count":6,"score":42,"last_activity_date":1700628659,"creation_date":1615921433,"question_id":66661789,"body_markdown":"I am getting this error message when creating a signed app-bundle on CI and also my MacBook via the terminal. What am I missing? I already have a signing key that I used before and I am using the same key.\r\n\r\nI also cannot build my App Bundle via Android Studio, which is weird. I included the google-services.json, and the necessary keys via the Gradle Config.\r\n\r\n```\r\n&gt; Task :app:signReleaseBundle FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:signReleaseBundle&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\r\n   &gt; kotlin.KotlinNullPointerException (no error message)\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:signReleaseBundle&#39;.\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$3(ExecuteActionsTaskExecuter.java:186)\r\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\r\n        at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:336)\r\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\r\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\r\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:80)\r\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:68)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:502)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:479)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:462)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$400(ExecuteActionsTaskExecuter.java:105)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:273)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:251)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.lambda$executeOperation$1(ExecuteStep.java:66)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.executeOperation(ExecuteStep.java:66)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:34)\r\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\r\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:44)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:34)\r\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:72)\r\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:42)\r\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:53)\r\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:39)\r\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:44)\r\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:77)\r\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:58)\r\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:54)\r\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:32)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:57)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:38)\r\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:63)\r\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:30)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:176)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:76)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:43)\r\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:32)\r\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:39)\r\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:25)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:102)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:95)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\r\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:83)\r\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:96)\r\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:52)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:83)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:54)\r\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:88)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:88)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:46)\r\n        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:34)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:43)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$3.withWorkspace(ExecuteActionsTaskExecuter.java:286)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:43)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:33)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:40)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:30)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:54)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:40)\r\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine.execute(DefaultExecutionEngine.java:41)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:183)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:183)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: kotlin.KotlinNullPointerException\r\n        at com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable.run(FinalizeBundleTask.kt:114)\r\n        at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\r\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:67)\r\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:63)\r\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\r\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:63)\r\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n        at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:60)\r\n        at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:200)\r\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:214)\r\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)\r\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)\r\n        ... 3 more\r\n\r\n```","title":"A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable","body":"<p>I am getting this error message when creating a signed app-bundle on CI and also my MacBook via the terminal. What am I missing? I already have a signing key that I used before and I am using the same key.</p>\n<p>I also cannot build my App Bundle via Android Studio, which is weird. I included the google-services.json, and the necessary keys via the Gradle Config.</p>\n<pre><code>&gt; Task :app:signReleaseBundle FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:signReleaseBundle'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\n   &gt; kotlin.KotlinNullPointerException (no error message)\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:signReleaseBundle'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$3(ExecuteActionsTaskExecuter.java:186)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\n        at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:336)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:80)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:68)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$2.run(ExecuteActionsTaskExecuter.java:502)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:479)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:462)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$400(ExecuteActionsTaskExecuter.java:105)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:273)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:251)\n        at org.gradle.internal.execution.steps.ExecuteStep.lambda$executeOperation$1(ExecuteStep.java:66)\n        at org.gradle.internal.execution.steps.ExecuteStep.executeOperation(ExecuteStep.java:66)\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:34)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:44)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:34)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:72)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:42)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:53)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:39)\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:44)\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:77)\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:58)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:54)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:32)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:57)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:38)\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:63)\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:30)\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:176)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:76)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:43)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:32)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:39)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:25)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:102)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:95)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:83)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:96)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:52)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:83)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:54)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:88)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:88)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:46)\n        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:34)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:43)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution$3.withWorkspace(ExecuteActionsTaskExecuter.java:286)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:43)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:33)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:40)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:30)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:54)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:40)\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine.execute(DefaultExecutionEngine.java:41)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:183)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:183)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: kotlin.KotlinNullPointerException\n        at com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable.run(FinalizeBundleTask.kt:114)\n        at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:67)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:63)\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:63)\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n        at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:60)\n        at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:200)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:214)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)\n        ... 3 more\n\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","quarkus-hibernate-orm"],"comments":[{"owner":{"account_id":29803746,"reputation":96,"user_id":22840933,"display_name":"andreypc"},"score":0,"creation_date":1700493743,"post_id":77516855,"comment_id":136658183,"body_markdown":"Any good reason to run on CR build when Final exists? I would test it on 6.3.0.Final or better 6.3.1.Final","body":"Any good reason to run on CR build when Final exists? I would test it on 6.3.0.Final or better 6.3.1.Final"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1700628052,"post_id":77516855,"comment_id":136676728,"body_markdown":"https://discourse.hibernate.org/t/cannot-invoke-org-hibernate-query-bindabletype-resolveexpressible-org-hibernate-engine-spi-sessionfactoryimplementor-because-declaredparametertype-is-null/7887","body":"<a href=\"https://discourse.hibernate.org/t/cannot-invoke-org-hibernate-query-bindabletype-resolveexpressible-org-hibernate-engine-spi-sessionfactoryimplementor-because-declaredparametertype-is-null/7887\" rel=\"nofollow noreferrer\">discourse.hibernate.org/t/&hellip;</a>"}],"owner":{"account_id":29949744,"reputation":1,"user_id":22952151,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700628125,"creation_date":1700492120,"question_id":77516855,"body_markdown":"I&#39;m getting this runtime error after upgrading java version from `11 to 17`, hibernate version used is `6.3.0.CR1`.\r\nThe same code works fine with Java 11\r\n\r\nError at runtime:\r\n\r\n    Cannot invoke &quot;org.hibernate.query.BindableType.resolveExpressible(org.hibernate.engine.spi.SessionFactoryImplementor)&quot; because &quot;declaredParameterType&quot; is null","title":"Runtime Error when upgraded from java 11 to 17","body":"<p>I'm getting this runtime error after upgrading java version from <code>11 to 17</code>, hibernate version used is <code>6.3.0.CR1</code>.\nThe same code works fine with Java 11</p>\n<p>Error at runtime:</p>\n<pre><code>Cannot invoke &quot;org.hibernate.query.BindableType.resolveExpressible(org.hibernate.engine.spi.SessionFactoryImplementor)&quot; because &quot;declaredParameterType&quot; is null\n</code></pre>\n"},{"tags":["java","android","kotlin","bluetooth"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686304802,"post_id":76436040,"comment_id":134783750,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1686661674,"post_id":76436040,"comment_id":134827363,"body_markdown":"I don&#39;t think that there is a universal method to retrieve data from a fitness tracker, but maybe taking a look at the Gadgetbridge App (https://codeberg.org/Freeyourgadget/Gadgetbridge/) is worth a try.","body":"I don&#39;t think that there is a universal method to retrieve data from a fitness tracker, but maybe taking a look at the Gadgetbridge App (<a href=\"https://codeberg.org/Freeyourgadget/Gadgetbridge/\" rel=\"nofollow noreferrer\">codeberg.org/Freeyourgadget/Gadgetbridge</a>) is worth a try."}],"answers":[{"comments":[{"owner":{"account_id":17755525,"reputation":174,"user_id":12892707,"display_name":"IKRAM UL HAQ"},"score":0,"creation_date":1691065795,"post_id":76464852,"comment_id":135443016,"body_markdown":"Miss Sharma, I want to fetch steps data from smart watch to flutter app, can you provide some guidance for that. Please?","body":"Miss Sharma, I want to fetch steps data from smart watch to flutter app, can you provide some guidance for that. Please?"}],"tags":[],"owner":{"account_id":17333111,"reputation":872,"user_id":12555686,"display_name":"Simran Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700628105,"creation_date":1686658669,"answer_id":76464852,"question_id":76436040,"body_markdown":"You must use a bluetooth library to connect to the device (fitness tracker).\r\n\r\nBluetooth devices such as fitness trackers communicate data through services. Every bluetooth device has its own set of services. Every service has multiple characteristics.\r\n\r\n1. Once you connect to the device, use the bluetooth library to get the list of services, that the device supports.\r\n\r\nEvery service has a UUID. You can check which service you need according to the UUID. Bluetooth has an official document for this purpose. You can refer to this: https://btprodspecificationrefs.blob.core.windows.net/assigned-numbers/Assigned%20Number%20Types/Assigned_Numbers.pdf\r\n\r\nFor example, if you need &quot;heart rate&quot; data, then you need the service with the UUID &quot;0x180d&quot;.\r\n\r\n2. Once you find the service you wanted (in this example &quot;0x180d&quot;), get the list of characteristics present in that service. And get the official documentation for that service on this link: https://www.bluetooth.com/specifications/specs/\r\n\r\nGo on the link, and search for the desired service (In our example, &quot;heart rate service&quot; i.e. &quot;HRS&quot;. Read the documentation carefully on how to extract data. The documentation has the list of characteristics it supports and the format, the data is present in. Check what set of characteristics your device is supporting and work accordingly.\r\n\r\nFor heart rate, the characteristic you are looking for is &quot;0x2a37&quot;. Again you can refer to the above links for this purpose.\r\n\r\n3. Once you have the desired characteristic, read the documentation of the characteristic, if you have to read the data or listen to the data over time.\r\n\r\nFor example, the heart rate characteristic &quot;0x2a37&quot;, only supports listening to the data. The data you will get is a list of integers. You need to parse it into readable format. Refer to this answer for that purpose: https://stackoverflow.com/a/65458794/12555686\r\n\r\nAnd there you have it, you need to follow these steps every time you need data for a certain activity.\r\n\r\nOne more thing, a lot of fitness trackers (MiBand, Firebolt, etc..) use custom services. For example, the steps data has to be communicated through the &quot;Physical Activity Monitor Service&quot; (PAMS), but MiBand doesn&#39;t have this service. It communicates the data regarding steps through its custom service &quot;0xfee0&quot; with the characteristic &quot;0x0007&quot;. So that is going to be a tricky job.\r\n\r\nYou can refer to some GitHub repositories for this purpose. As of now, I know only some GitHub repositories and they are for MiBand. But I assume that other brands must also follow a similar pattern.\r\n\r\nHere are the links to some projects: \r\n1. https://github.com/creotiv/MiBand2/tree/master (python)\r\n2. https://github.com/dkhmelenko/miband-android/tree/master (kotlin)\r\n3. https://github.com/simranss/my_fit (flutter) (this is not just for MiBand, but for every fitness tracker)","title":"Get Data From Fitness Tracker","body":"<p>You must use a bluetooth library to connect to the device (fitness tracker).</p>\n<p>Bluetooth devices such as fitness trackers communicate data through services. Every bluetooth device has its own set of services. Every service has multiple characteristics.</p>\n<ol>\n<li>Once you connect to the device, use the bluetooth library to get the list of services, that the device supports.</li>\n</ol>\n<p>Every service has a UUID. You can check which service you need according to the UUID. Bluetooth has an official document for this purpose. You can refer to this: <a href=\"https://btprodspecificationrefs.blob.core.windows.net/assigned-numbers/Assigned%20Number%20Types/Assigned_Numbers.pdf\" rel=\"nofollow noreferrer\">https://btprodspecificationrefs.blob.core.windows.net/assigned-numbers/Assigned%20Number%20Types/Assigned_Numbers.pdf</a></p>\n<p>For example, if you need &quot;heart rate&quot; data, then you need the service with the UUID &quot;0x180d&quot;.</p>\n<ol start=\"2\">\n<li>Once you find the service you wanted (in this example &quot;0x180d&quot;), get the list of characteristics present in that service. And get the official documentation for that service on this link: <a href=\"https://www.bluetooth.com/specifications/specs/\" rel=\"nofollow noreferrer\">https://www.bluetooth.com/specifications/specs/</a></li>\n</ol>\n<p>Go on the link, and search for the desired service (In our example, &quot;heart rate service&quot; i.e. &quot;HRS&quot;. Read the documentation carefully on how to extract data. The documentation has the list of characteristics it supports and the format, the data is present in. Check what set of characteristics your device is supporting and work accordingly.</p>\n<p>For heart rate, the characteristic you are looking for is &quot;0x2a37&quot;. Again you can refer to the above links for this purpose.</p>\n<ol start=\"3\">\n<li>Once you have the desired characteristic, read the documentation of the characteristic, if you have to read the data or listen to the data over time.</li>\n</ol>\n<p>For example, the heart rate characteristic &quot;0x2a37&quot;, only supports listening to the data. The data you will get is a list of integers. You need to parse it into readable format. Refer to this answer for that purpose: <a href=\"https://stackoverflow.com/a/65458794/12555686\">https://stackoverflow.com/a/65458794/12555686</a></p>\n<p>And there you have it, you need to follow these steps every time you need data for a certain activity.</p>\n<p>One more thing, a lot of fitness trackers (MiBand, Firebolt, etc..) use custom services. For example, the steps data has to be communicated through the &quot;Physical Activity Monitor Service&quot; (PAMS), but MiBand doesn't have this service. It communicates the data regarding steps through its custom service &quot;0xfee0&quot; with the characteristic &quot;0x0007&quot;. So that is going to be a tricky job.</p>\n<p>You can refer to some GitHub repositories for this purpose. As of now, I know only some GitHub repositories and they are for MiBand. But I assume that other brands must also follow a similar pattern.</p>\n<p>Here are the links to some projects:</p>\n<ol>\n<li><a href=\"https://github.com/creotiv/MiBand2/tree/master\" rel=\"nofollow noreferrer\">https://github.com/creotiv/MiBand2/tree/master</a> (python)</li>\n<li><a href=\"https://github.com/dkhmelenko/miband-android/tree/master\" rel=\"nofollow noreferrer\">https://github.com/dkhmelenko/miband-android/tree/master</a> (kotlin)</li>\n<li><a href=\"https://github.com/simranss/my_fit\" rel=\"nofollow noreferrer\">https://github.com/simranss/my_fit</a> (flutter) (this is not just for MiBand, but for every fitness tracker)</li>\n</ol>\n"}],"owner":{"account_id":28783496,"reputation":13,"user_id":22044564,"display_name":"mrBrain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76464852,"answer_count":1,"score":1,"last_activity_date":1700628105,"creation_date":1686262616,"question_id":76436040,"body_markdown":"I&#39;m developing mobile app on Kotlin and I need to get data (ex. Heart Rate) from Fitness Tracker. But I don&#39;t find universal API for this task.\r\n\r\nAlso I know, that some fitness tracker like Mi Band, Huawei Watch has a official API, but I need a universal method.","title":"Get Data From Fitness Tracker","body":"<p>I'm developing mobile app on Kotlin and I need to get data (ex. Heart Rate) from Fitness Tracker. But I don't find universal API for this task.</p>\n<p>Also I know, that some fitness tracker like Mi Band, Huawei Watch has a official API, but I need a universal method.</p>\n"},{"tags":["java","spring-boot","enums"],"answers":[{"tags":[],"owner":{"account_id":29962930,"reputation":1,"user_id":22962151,"display_name":"Anton Kolomeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700627122,"creation_date":1700627122,"answer_id":77527317,"question_id":77195839,"body_markdown":"You need to override this method in ControllerAdvice \r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\r\n            HttpMessageNotReadableException ex, \r\n            HttpHeaders headers, \r\n            HttpStatusCode status, \r\n            WebRequest request\r\n    ) {\r\n        ErrorResponseDTO errorResponseDTO = new ErrorResponseDTO(\r\n                webRequest.getDescription(false),\r\n                HttpStatus.INTERNAL_SERVER_ERROR,\r\n                exception.getMessage(),\r\n                LocalDateTime.now()\r\n        );\r\n        return super.handleExceptionInternal(ex, errorResponseDTO, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR, request);\r\n    }","title":"Cannot catch HttpMessageNotReadableException into ControllerAdvice for enums validation","body":"<p>You need to override this method in ControllerAdvice</p>\n<pre><code>@Override\nprotected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable(\n        HttpMessageNotReadableException ex, \n        HttpHeaders headers, \n        HttpStatusCode status, \n        WebRequest request\n) {\n    ErrorResponseDTO errorResponseDTO = new ErrorResponseDTO(\n            webRequest.getDescription(false),\n            HttpStatus.INTERNAL_SERVER_ERROR,\n            exception.getMessage(),\n            LocalDateTime.now()\n    );\n    return super.handleExceptionInternal(ex, errorResponseDTO, new HttpHeaders(), HttpStatus.INTERNAL_SERVER_ERROR, request);\n}\n</code></pre>\n"}],"owner":{"account_id":2935696,"reputation":69,"user_id":2514645,"accept_rate":40,"display_name":"gustavomr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700627122,"creation_date":1695910719,"question_id":77195839,"body_markdown":"I have a Enum class as follow:\r\n\r\n```\r\npublic enum UserRole {\r\n    ADMIN(&quot;ADMIN&quot;),\r\n    USER (&quot;USER&quot;);\r\n\r\n\r\n    public String label;\r\n\r\n    UserRole(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    @JsonValue\r\n    public String getValue() {\r\n        return this.label;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy DTO uses as follow:\r\n\r\n```\r\n@EnumValidator(enumClass = UserRole.class, message = &quot;Invalid Role&quot;)\r\nUserRole role\r\n```\r\n\r\nMy custom Validators:\r\n\r\n```\r\npublic class EnumValidatorConstraint implements ConstraintValidator&lt;EnumValidator, String&gt; {\r\n\r\n\r\n\r\n    private static final Set&lt;String&gt; TYPE_NAMES =\r\n            EnumSet.allOf(UserRole.class).stream().map(Enum::name).collect(Collectors.toSet());\r\n\r\n    @Override\r\n    public boolean isValid(String engineType,\r\n                           ConstraintValidatorContext constraintValidatorContext) {\r\n\r\n        if (!TYPE_NAMES.contains(engineType)) throw new UserNotExistsException(engineType);\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE, TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy= EnumValidatorConstraint.class)\r\n@Documented\r\npublic @interface EnumValidator {\r\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\r\n    String message() default &quot;must be any of enum {enumClass}&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\nI can see at log this message when submitting a enum that doesnot belongs to the enum and at my request response:\r\n\r\n```\r\n2023-09-28T11:13:33.498-03:00  WARN 10995 --- [nio-9000-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.gustavomr.domain.UserRole` from String &quot;XXXX&quot;: not one of the values accepted for Enum class: [USER, ADMIN]]\r\n\r\n```\r\n\r\n```\r\n{\r\n    &quot;type&quot;: &quot;about:blank&quot;,\r\n    &quot;title&quot;: &quot;Bad Request&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;detail&quot;: &quot;Failed to read request&quot;,\r\n    &quot;instance&quot;: &quot;/user/register&quot;\r\n}\r\n```\r\n\r\nI have a controller advice that handles all excpetions in order to format:\r\n\r\n```\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler  extends ResponseEntityExceptionHandler {\r\n\r\n    public ResponseEntity&lt;ErrorResponseDTO&gt; handle(HttpMessageNotReadableException exception,\r\n                                                                  WebRequest webRequest) {\r\n        ErrorResponseDTO errorResponseDTO = new ErrorResponseDTO(\r\n                webRequest.getDescription(false),\r\n                HttpStatus.INTERNAL_SERVER_ERROR,\r\n                exception.getMessage(),\r\n                LocalDateTime.now()\r\n        );\r\n        return new ResponseEntity&lt;&gt;(errorResponseDTO, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy @Controller advice is not capturing the exception captured by enum validator. I&#39;ve testes using @Order(Ordered.HIGHEST_PRECEDENCE) but didn&#39;t work as well. \r\n\r\nI tried to use at method level @ExceptionHandler(HttpMessageNotReadableException.class) but also gives me a error about ambiguity during spring boot startup.\r\n\r\n","title":"Cannot catch HttpMessageNotReadableException into ControllerAdvice for enums validation","body":"<p>I have a Enum class as follow:</p>\n<pre><code>public enum UserRole {\n    ADMIN(&quot;ADMIN&quot;),\n    USER (&quot;USER&quot;);\n\n\n    public String label;\n\n    UserRole(String label) {\n        this.label = label;\n    }\n\n    @JsonValue\n    public String getValue() {\n        return this.label;\n    }\n}\n\n</code></pre>\n<p>My DTO uses as follow:</p>\n<pre><code>@EnumValidator(enumClass = UserRole.class, message = &quot;Invalid Role&quot;)\nUserRole role\n</code></pre>\n<p>My custom Validators:</p>\n<pre><code>public class EnumValidatorConstraint implements ConstraintValidator&lt;EnumValidator, String&gt; {\n\n\n\n    private static final Set&lt;String&gt; TYPE_NAMES =\n            EnumSet.allOf(UserRole.class).stream().map(Enum::name).collect(Collectors.toSet());\n\n    @Override\n    public boolean isValid(String engineType,\n                           ConstraintValidatorContext constraintValidatorContext) {\n\n        if (!TYPE_NAMES.contains(engineType)) throw new UserNotExistsException(engineType);\n\n        return true;\n    }\n}\n</code></pre>\n<pre><code>@Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER, TYPE_USE, TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy= EnumValidatorConstraint.class)\n@Documented\npublic @interface EnumValidator {\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\n    String message() default &quot;must be any of enum {enumClass}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>I can see at log this message when submitting a enum that doesnot belongs to the enum and at my request response:</p>\n<pre><code>2023-09-28T11:13:33.498-03:00  WARN 10995 --- [nio-9000-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.gustavomr.domain.UserRole` from String &quot;XXXX&quot;: not one of the values accepted for Enum class: [USER, ADMIN]]\n\n</code></pre>\n<pre><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;Failed to read request&quot;,\n    &quot;instance&quot;: &quot;/user/register&quot;\n}\n</code></pre>\n<p>I have a controller advice that handles all excpetions in order to format:</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler  extends ResponseEntityExceptionHandler {\n\n    public ResponseEntity&lt;ErrorResponseDTO&gt; handle(HttpMessageNotReadableException exception,\n                                                                  WebRequest webRequest) {\n        ErrorResponseDTO errorResponseDTO = new ErrorResponseDTO(\n                webRequest.getDescription(false),\n                HttpStatus.INTERNAL_SERVER_ERROR,\n                exception.getMessage(),\n                LocalDateTime.now()\n        );\n        return new ResponseEntity&lt;&gt;(errorResponseDTO, HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n\n}\n</code></pre>\n<p>My @Controller advice is not capturing the exception captured by enum validator. I've testes using @Order(Ordered.HIGHEST_PRECEDENCE) but didn't work as well.</p>\n<p>I tried to use at method level @ExceptionHandler(HttpMessageNotReadableException.class) but also gives me a error about ambiguity during spring boot startup.</p>\n"},{"tags":["java","junit4","junit5"],"comments":[{"owner":{"account_id":5796625,"reputation":4590,"user_id":4800355,"accept_rate":67,"display_name":"Radek Postoowicz"},"score":0,"creation_date":1628593131,"post_id":48864716,"comment_id":121456992,"body_markdown":"There is useful extension which check for such ignored JUnit 5 callback methods: [JUnit5MisusageCheck](https://github.com/cronn/test-utils#junit5misusagecheck)","body":"There is useful extension which check for such ignored JUnit 5 callback methods: <a href=\"https://github.com/cronn/test-utils#junit5misusagecheck\" rel=\"nofollow noreferrer\">JUnit5MisusageCheck</a>"}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1700626828,"creation_date":1519038630,"answer_id":48864850,"question_id":48864716,"body_markdown":"The actual behavior for JUnit 5 is expected as the [@BeforeEach javadoc][1]  states :\r\n\r\n&gt; **Inheritance**\r\n&gt; \r\n&gt; `@BeforeEach` methods are inherited from superclasses as long as they\r\n&gt; are not overridden.\r\n\r\nYou override the `setup()`  method that contains `@BeforeEach` in the `InheritsFromBase` class.   \r\n So it is not inherited any longer.\r\n\r\nFor JUnit 4, the [`@Before` javadoc][2] doesn&#39;t state any particularity and inheritance abilities.   \r\nSo you should consider the actual behavior as &quot;normal&quot; but no documented.\r\n\r\nTo get the same behavior with JUnit 5, you should do the reverse what you do with JUni4 : remove `@BeforeEach` in the super class and add it only in the subclass.  \r\n\r\n\r\n    public class BaseTestClass {\r\n    \r\n        public void setUp() {\r\n            System.out.println(&quot;Base Test Class&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public class InheritsFromBase extends BaseTestClass {\r\n    \r\n        @Override\r\n        @BeforeEach\r\n        public void setUp() {\r\n            System.out.println(&quot;I inherit from base&quot;);\r\n            super.setUp();\r\n        }\r\n    }\r\n\r\n\r\nAs I execute the tests, it produces as output :\r\n\r\n&gt; I inherit from base\r\n&gt; \r\n&gt; Base Test Class\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/BeforeEach.html\r\n  [2]: https://junit.org/junit4/javadoc/4.13/org/junit/Before.html\r\n\r\n","title":"@Before/@BeforeEach inheritance behaviour change JUnit4 / JUnit5","body":"<p>The actual behavior for JUnit 5 is expected as the <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/BeforeEach.html\" rel=\"nofollow noreferrer\">@BeforeEach javadoc</a>  states :</p>\n<blockquote>\n<p><strong>Inheritance</strong></p>\n<p><code>@BeforeEach</code> methods are inherited from superclasses as long as they\nare not overridden.</p>\n</blockquote>\n<p>You override the <code>setup()</code>  method that contains <code>@BeforeEach</code> in the <code>InheritsFromBase</code> class.<br />\nSo it is not inherited any longer.</p>\n<p>For JUnit 4, the <a href=\"https://junit.org/junit4/javadoc/4.13/org/junit/Before.html\" rel=\"nofollow noreferrer\"><code>@Before</code> javadoc</a> doesn't state any particularity and inheritance abilities.<br />\nSo you should consider the actual behavior as &quot;normal&quot; but no documented.</p>\n<p>To get the same behavior with JUnit 5, you should do the reverse what you do with JUni4 : remove <code>@BeforeEach</code> in the super class and add it only in the subclass.</p>\n<pre><code>public class BaseTestClass {\n\n    public void setUp() {\n        System.out.println(&quot;Base Test Class&quot;);\n    }\n}\n\n\npublic class InheritsFromBase extends BaseTestClass {\n\n    @Override\n    @BeforeEach\n    public void setUp() {\n        System.out.println(&quot;I inherit from base&quot;);\n        super.setUp();\n    }\n}\n</code></pre>\n<p>As I execute the tests, it produces as output :</p>\n<blockquote>\n<p>I inherit from base</p>\n<p>Base Test Class</p>\n</blockquote>\n"}],"owner":{"account_id":7254391,"reputation":835,"user_id":5533591,"accept_rate":100,"display_name":"ChristophE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16053,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":48864850,"answer_count":1,"score":18,"last_activity_date":1700626828,"creation_date":1519038174,"question_id":48864716,"body_markdown":"When migrating from JUnit4 to JUnit5 I found a change in the behaviour of JUnit4 and JUnit5 and wanted to check if the change was a bug in JUnit4 or in JUnit5 and how to do it correctly.\r\n\r\nLets assume the following structure:\r\n\r\nOne base class\r\n\r\n    public class BaseTestClass {\r\n    \r\n        @Before\r\n        public void setUp(){\r\n            System.out.println(&quot;Base Test Class&quot;);\r\n        }\r\n    }\r\n\r\n\r\nAnother class that inherits from this base class\r\n\r\n    public class InheritsFromBase extends BaseTestClass {\r\n    \r\n        @Override\r\n        public void setUp() {\r\n            System.out.println(&quot;I inherit from base&quot;);\r\n    \r\n            super.setUp();\r\n        }\r\n    }\r\n\r\nAnd an actual test class\r\n\r\n    public class ActualTests extends InheritsFromBase {\r\n    \r\n        @Test\r\n        public void myTest(){\r\n            Assert.assertTrue(true);\r\n        }\r\n    }\r\n\r\n\r\nIf I run `myTest()` in JUnit 4 then the `setUp()` method of both, `BaseTestClass` and `InheritsFromBase` is called.\r\n\r\nAfter migrating this code to JUnit5, the `setUp()` methods are not called anymore. I had to manually add the `@BeforeEach` annotation on `InheritsFromBase`.\r\n\r\nResulting in the following classes:\r\n\r\n\r\n    public class BaseTestClass {\r\n    \r\n        @BeforeEach\r\n        public void setUp(){\r\n            System.out.println(&quot;Base Test Class&quot;);\r\n        }\r\n    }\r\n    \r\n    public class InheritsFromBase extends BaseTestClass {\r\n    \r\n        @Override\r\n        @BeforeEach\r\n        public void setUp() {\r\n            System.out.println(&quot;I inherit from base&quot;);\r\n    \r\n            super.setUp();\r\n        }\r\n    }\r\n    \r\n    public class ActualTests extends InheritsFromBase {\r\n    \r\n        @Test\r\n        public void myTest(){\r\n            Assertions.assertTrue(true);\r\n        }\r\n    }\r\n\r\n\r\nSo my question: Was the behaviour in JUnit4 correct or in JUnit5?","title":"@Before/@BeforeEach inheritance behaviour change JUnit4 / JUnit5","body":"<p>When migrating from JUnit4 to JUnit5 I found a change in the behaviour of JUnit4 and JUnit5 and wanted to check if the change was a bug in JUnit4 or in JUnit5 and how to do it correctly.</p>\n\n<p>Lets assume the following structure:</p>\n\n<p>One base class</p>\n\n<pre><code>public class BaseTestClass {\n\n    @Before\n    public void setUp(){\n        System.out.println(\"Base Test Class\");\n    }\n}\n</code></pre>\n\n<p>Another class that inherits from this base class</p>\n\n<pre><code>public class InheritsFromBase extends BaseTestClass {\n\n    @Override\n    public void setUp() {\n        System.out.println(\"I inherit from base\");\n\n        super.setUp();\n    }\n}\n</code></pre>\n\n<p>And an actual test class</p>\n\n<pre><code>public class ActualTests extends InheritsFromBase {\n\n    @Test\n    public void myTest(){\n        Assert.assertTrue(true);\n    }\n}\n</code></pre>\n\n<p>If I run <code>myTest()</code> in JUnit 4 then the <code>setUp()</code> method of both, <code>BaseTestClass</code> and <code>InheritsFromBase</code> is called.</p>\n\n<p>After migrating this code to JUnit5, the <code>setUp()</code> methods are not called anymore. I had to manually add the <code>@BeforeEach</code> annotation on <code>InheritsFromBase</code>.</p>\n\n<p>Resulting in the following classes:</p>\n\n<pre><code>public class BaseTestClass {\n\n    @BeforeEach\n    public void setUp(){\n        System.out.println(\"Base Test Class\");\n    }\n}\n\npublic class InheritsFromBase extends BaseTestClass {\n\n    @Override\n    @BeforeEach\n    public void setUp() {\n        System.out.println(\"I inherit from base\");\n\n        super.setUp();\n    }\n}\n\npublic class ActualTests extends InheritsFromBase {\n\n    @Test\n    public void myTest(){\n        Assertions.assertTrue(true);\n    }\n}\n</code></pre>\n\n<p>So my question: Was the behaviour in JUnit4 correct or in JUnit5?</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1485512947,"post_id":41891759,"comment_id":70965573,"body_markdown":"define *I was unable to make it right* Where is the problem?","body":"define <i>I was unable to make it right</i> Where is the problem?"},{"owner":{"account_id":7803556,"reputation":1605,"user_id":6949829,"accept_rate":33,"display_name":"Anil"},"score":0,"creation_date":1485513225,"post_id":41891759,"comment_id":70965731,"body_markdown":"can u able to view your recyclerview in  your layout.xml preview","body":"can u able to view your recyclerview in  your layout.xml preview"},{"owner":{"account_id":10121093,"reputation":25,"user_id":7477984,"display_name":"Charu Yasas"},"score":0,"creation_date":1485514033,"post_id":41891759,"comment_id":70966256,"body_markdown":"@AnilDS it&#39;s previewing default recyclerview","body":"@AnilDS it&#39;s previewing default recyclerview"}],"answers":[{"comments":[{"owner":{"account_id":10121093,"reputation":25,"user_id":7477984,"display_name":"Charu Yasas"},"score":0,"creation_date":1485514174,"post_id":41891835,"comment_id":70966339,"body_markdown":"ok it&#39;s done but I need help for these files NotificationFragment.java &amp; NotificationAdapter.java","body":"ok it&#39;s done but I need help for these files NotificationFragment.java &amp; NotificationAdapter.java"}],"tags":[],"owner":{"account_id":1423167,"reputation":786,"user_id":1347349,"display_name":"ibrcic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485513035,"creation_date":1485513035,"answer_id":41891835,"question_id":41891759,"body_markdown":"You are using wrong class for RecyclerView, instead of AlertController.RecyclerListView use this:\r\n\r\n    &lt;!-- A RecyclerView with some commonly used attributes --&gt;\r\n    &lt;android.support.v7.widget.RecyclerView\r\n        android:id=&quot;@+id/my_recycler_view&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\nHere are some more informations:\r\n\r\n[RecyclerView][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/material/lists-cards.html","title":"How to add a recycler view to fragment","body":"<p>You are using wrong class for RecyclerView, instead of AlertController.RecyclerListView use this:</p>\n\n<pre><code>&lt;!-- A RecyclerView with some commonly used attributes --&gt;\n&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/my_recycler_view\"\n    android:scrollbars=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"/&gt;\n</code></pre>\n\n<p>Here are some more informations:</p>\n\n<p><a href=\"https://developer.android.com/training/material/lists-cards.html\" rel=\"nofollow noreferrer\">RecyclerView</a></p>\n"},{"comments":[{"owner":{"account_id":10121093,"reputation":25,"user_id":7477984,"display_name":"Charu Yasas"},"score":0,"creation_date":1485514726,"post_id":41892205,"comment_id":70966668,"body_markdown":"Thnx for u r answer. but I need to add recyclerview in to a fragment. not to activity. I have done this thing with activity. But this case i need to do it inside a fragment.","body":"Thnx for u r answer. but I need to add recyclerview in to a fragment. not to activity. I have done this thing with activity. But this case i need to do it inside a fragment."}],"tags":[],"owner":{"account_id":6616730,"reputation":1047,"user_id":5109681,"accept_rate":17,"display_name":"Rehan Shikkalgar"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1485514213,"creation_date":1485514213,"answer_id":41892205,"question_id":41891759,"body_markdown":"1) first add dependency to your app level gradle file then sync your project \r\n\r\n    compile &#39;com.android.support:recyclerview-v7:23.4.0&#39;\r\n\r\n2) go to your Layout file (eg: activity_main.xml) add recyclerview tag inside your base layout\r\n\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n         xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;match_parent&quot;\r\n         xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n         app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n         tools:context=&quot;com.examples.rehan.excluzo.Fragments.OneFragment&quot;&gt;\r\n\r\n    &lt;android.support.v7.widget.RecyclerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:id=&quot;@+id/recycler_view&quot;&gt;\r\n\r\n    &lt;/android.support.v7.widget.RecyclerView&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n3) create a class model.java and paste your code.\r\n\r\npublic class model{\r\n    private String name, gender;\r\n \r\n    public model() {\r\n    }\r\n \r\n    public model(String name, String gender) {\r\n        this.name= name;\r\n        this.gender= gender;\r\n    }\r\n \r\n    public String getGender() {\r\n        return gender;\r\n    }\r\n \r\n    public void setGender(String gneder) {\r\n        this.gender= gender;\r\n    }\r\n \r\n  \r\n    public String getName() {\r\n        return name;\r\n    }\r\n \r\n    public void setName(String name) {\r\n        this.name= name;\r\n    }\r\n}\r\n\r\n4)create xml file in your layout folder item_layout.xml and paste this code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:paddingLeft=&quot;16dp&quot;\r\n        android:paddingRight=&quot;16dp&quot;\r\n        android:paddingTop=&quot;10dp&quot;\r\n        android:paddingBottom=&quot;10dp&quot;  &gt;\r\n     \r\n        &lt;TextView\r\n            android:id=&quot;@+id/name&quot;\r\n            android:textColor=&quot;@color/title&quot;\r\n            android:textSize=&quot;16dp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n     \r\n        &lt;TextView\r\n            android:id=&quot;@+id/gender&quot;\r\n            android:layout_below=&quot;@id/title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt; \r\n     \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n5)your need to create adapter to add child views to your listview. so create a       file testAdapter.java file and paste this code.\r\n\r\nhere in list view i will be having only 2 items(eg : Name and gender)\r\n\r\n\r\n    public class testAdapter extends RecyclerView.Adapter&lt;testAdapter.MyViewHolder&gt; {\r\n    \r\n    \r\n        private List&lt;model&gt; productList;\r\n        Context context;\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View itemView = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.item_layout, parent, false);\r\n    \r\n            return new MyViewHolder(itemView);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(MyViewHolder holder, int position) {\r\n            model product = productList.get(position);\r\n            holder.name.setText(product.getName());\r\n            holder.gender.setText(product.getGender());\r\n        } \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return productList.size();\r\n        }\r\n    \r\n        public class MyViewHolder extends RecyclerView.ViewHolder {\r\n            public TextView name,gender;\r\n    \r\n            public MyViewHolder(View view) {\r\n                super(view);\r\n                name = (TextView) view.findViewById(R.id.name);\r\n                gender = (TextView) view.findViewById(R.id.gender);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        public testAdapter(List&lt;model&gt; productList, Context context) {\r\n            this.productList = productList;\r\n            this.context = context;\r\n        }\r\n    \r\n    }\r\n\r\n6) now goto your MainActivity.java and paste this code\r\n\r\n\r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.support.v7.widget.DefaultItemAnimator;\r\n    import android.support.v7.widget.LinearLayoutManager;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.support.v7.widget.Toolbar;\r\n    import android.view.GestureDetector;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n     \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n     \r\n    public class MainActivity extends AppCompatActivity {\r\n        private List&lt;modle&gt; movieList = new ArrayList&lt;&gt;();\r\n        private RecyclerView recyclerView;\r\n        private testAdapter mAdapter;\r\n     \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main); \r\n     \r\n            recyclerView = (RecyclerView) findViewById(R.id.recycler_view);\r\n     \r\n            mAdapter = new testAdapter(movieList);\r\n            RecyclerView.LayoutManager mLayoutManager = new    LinearLayoutManager(getApplicationContext());\r\n            recyclerView.setLayoutManager(mLayoutManager);\r\n            recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n            recyclerView.setAdapter(mAdapter);\r\n     \r\n            preparedata();\r\n        }\r\n     \r\n        private void preparedata() {\r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n     \r\n           //add the items according to your wish\r\n           //name,gender\r\n           //here i have added all items with same name and gender. you can change it\r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n    \r\n            model movie = new model(&quot;XXX&quot;, &quot;Male&quot;);\r\n            movieList.add(movie);\r\n    \r\n           mAdapter.notifyDataSetChanged();\r\n        }\r\n    }\r\n\r\n\r\nHope this helps :)","title":"How to add a recycler view to fragment","body":"<p>1) first add dependency to your app level gradle file then sync your project </p>\n\n<pre><code>compile 'com.android.support:recyclerview-v7:23.4.0'\n</code></pre>\n\n<p>2) go to your Layout file (eg: activity_main.xml) add recyclerview tag inside your base layout</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n     xmlns:tools=\"http://schemas.android.com/tools\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n     app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n     tools:context=\"com.examples.rehan.excluzo.Fragments.OneFragment\"&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:scrollbars=\"vertical\"\n    android:id=\"@+id/recycler_view\"&gt;\n\n&lt;/android.support.v7.widget.RecyclerView&gt;\n</code></pre>\n\n<p></p>\n\n<p>3) create a class model.java and paste your code.</p>\n\n<p>public class model{\n    private String name, gender;</p>\n\n<pre><code>public model() {\n}\n\npublic model(String name, String gender) {\n    this.name= name;\n    this.gender= gender;\n}\n\npublic String getGender() {\n    return gender;\n}\n\npublic void setGender(String gneder) {\n    this.gender= gender;\n}\n\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name= name;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>4)create xml file in your layout folder item_layout.xml and paste this code</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:focusable=\"true\"\n    android:paddingLeft=\"16dp\"\n    android:paddingRight=\"16dp\"\n    android:paddingTop=\"10dp\"\n    android:paddingBottom=\"10dp\"  &gt;\n\n    &lt;TextView\n        android:id=\"@+id/name\"\n        android:textColor=\"@color/title\"\n        android:textSize=\"16dp\"\n        android:textStyle=\"bold\"\n        android:layout_alignParentTop=\"true\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/gender\"\n        android:layout_below=\"@id/title\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt; \n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>5)your need to create adapter to add child views to your listview. so create a       file testAdapter.java file and paste this code.</p>\n\n<p>here in list view i will be having only 2 items(eg : Name and gender)</p>\n\n<pre><code>public class testAdapter extends RecyclerView.Adapter&lt;testAdapter.MyViewHolder&gt; {\n\n\n    private List&lt;model&gt; productList;\n    Context context;\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.item_layout, parent, false);\n\n        return new MyViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, int position) {\n        model product = productList.get(position);\n        holder.name.setText(product.getName());\n        holder.gender.setText(product.getGender());\n    } \n\n    @Override\n    public int getItemCount() {\n        return productList.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n        public TextView name,gender;\n\n        public MyViewHolder(View view) {\n            super(view);\n            name = (TextView) view.findViewById(R.id.name);\n            gender = (TextView) view.findViewById(R.id.gender);\n        }\n    }\n\n\n\n    public testAdapter(List&lt;model&gt; productList, Context context) {\n        this.productList = productList;\n        this.context = context;\n    }\n\n}\n</code></pre>\n\n<p>6) now goto your MainActivity.java and paste this code</p>\n\n<pre><code>import android.content.Context;\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.support.v7.widget.DefaultItemAnimator;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.support.v7.widget.Toolbar;\nimport android.view.GestureDetector;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n    private List&lt;modle&gt; movieList = new ArrayList&lt;&gt;();\n    private RecyclerView recyclerView;\n    private testAdapter mAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main); \n\n        recyclerView = (RecyclerView) findViewById(R.id.recycler_view);\n\n        mAdapter = new testAdapter(movieList);\n        RecyclerView.LayoutManager mLayoutManager = new    LinearLayoutManager(getApplicationContext());\n        recyclerView.setLayoutManager(mLayoutManager);\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\n        recyclerView.setAdapter(mAdapter);\n\n        preparedata();\n    }\n\n    private void preparedata() {\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n       //add the items according to your wish\n       //name,gender\n       //here i have added all items with same name and gender. you can change it\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n\n        model movie = new model(\"XXX\", \"Male\");\n        movieList.add(movie);\n\n       mAdapter.notifyDataSetChanged();\n    }\n}\n</code></pre>\n\n<p>Hope this helps :)</p>\n"}],"owner":{"account_id":10121093,"reputation":25,"user_id":7477984,"display_name":"Charu Yasas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8314,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":2,"score":0,"last_activity_date":1700625795,"creation_date":1485512783,"question_id":41891759,"body_markdown":"I have tried many ways to add recyclerview inside a fragment. I&#39;m new for android. My android have 5 fragments one of these fragment I need to add a recyclerview. here is my code \r\n\r\n**notification_item.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/notification_item_root&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;56dp&quot;\r\n        android:gravity=&quot;center_vertical|left&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:paddingLeft=&quot;16dp&quot;&gt;\r\n\r\n        &lt;de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=&quot;@+id/notification_item_img&quot;\r\n            android:layout_width=&quot;36dp&quot;\r\n            android:layout_height=&quot;36dp&quot;\r\n            android:src=&quot;@android:drawable/ic_input_get&quot; /&gt;\r\n\r\n       &lt;TextView\r\n            android:id=&quot;@+id/notification_item_text&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:paddingLeft=&quot;8dp&quot;\r\n            android:text=&quot;Test Testre&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n**notification_Fragment.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;android.support.v7.app.AlertController.RecycleListView\r\n        android:id=&quot;@+id/notification_list&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n**NotificationItem.java**\r\n\r\n    public class NotificationItem {\r\n        private String title;\r\n        private int imageResId;\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n\r\n        public int getImageResId() {\r\n            return imageResId;\r\n        }\r\n\r\n        public void setImageResId(int imageResId) {\r\n            this.imageResId = imageResId;\r\n        }\r\n    }\r\n\r\n**NotificationData.java**\r\n\r\n    public class NotificationData {\r\n        private static final String[] textItem = {&quot;pathum&quot;, &quot;sai&quot;, &quot;charu&quot;};\r\n        private static final int[] imgItem = {android.R.drawable.ic_popup_reminder, android.R.drawable.ic_menu_add, android.R.drawable.ic_menu_delete};\r\n\r\n        public static List&lt;NotificationItem&gt; getListData() {\r\n            List&lt;NotificationItem&gt; data = new ArrayList&lt;&gt;();\r\n\r\n            for (int x = 0; x &lt; 4; x++) {\r\n                for (int i = 0; i &lt; textItem.length &amp;&amp; i &lt; imgItem.length; i++) {\r\n                    NotificationItem item = new NotificationItem();\r\n                    item.setImageResId(imgItem[i]);\r\n                    item.setTitle(textItem[i]);\r\n                    data.add(item);\r\n                }\r\n            }\r\n\r\n            return data;\r\n        }\r\n\r\n    }\r\n\r\n**NotificationAdapter.java**\r\n\r\n    public class NotificationAdapter extends RecyclerView.Adapter&lt;NotificationAdapter.NotificationHolder&gt; {\r\n\r\n        private List&lt;NotificationItem&gt; listData;\r\n        private LayoutInflater inflater;\r\n\r\n        public NotificationAdapter(List&lt;NotificationItem&gt; listData, Context c) {\r\n\r\n            this.inflater = LayoutInflater.from(c);\r\n            this.listData = listData;\r\n        }\r\n\r\n        @Override\r\n        public NotificationHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View view = inflater.inflate(R.layout.notification_item,parent,false);\r\n            return new NotificationHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(NotificationHolder holder, int position) {\r\n            NotificationItem item = listData.get(position);\r\n            holder.title.setText(item.getTitle());\r\n            holder.icon.setImageResource(item.getImageResId());\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return listData.size();\r\n        }\r\n\r\n        class NotificationHolder extends RecyclerView.ViewHolder {\r\n\r\n            private TextView title;\r\n            private CircleImageView icon;\r\n            private View container;\r\n\r\n            public NotificationHolder(View itemView) {\r\n                super(itemView);\r\n\r\n                title = (TextView) itemView.findViewById(R.id.notification_item_text);\r\n                icon = (CircleImageView) itemView.findViewById(R.id.notification_item_img);\r\n                container = itemView.findViewById(R.id.notification_item_root);\r\n            }\r\n        }\r\n    }\r\n\r\n**NotificationFragment.java**\r\n\r\n    public class NotificationFragment extends Fragment {\r\n\r\n        RecyclerView recyclerView;\r\n        NotificationAdapter notificationAdapter;\r\n\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\r\n            View rootView = inflater.inflate(R.layout.notification_fragment, container, false);\r\n        recyclerView = (RecyclerView) rootView.findViewById(R.id.notification_list);\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n\r\n        notificationAdapter = new NotificationAdapter(NotificationData.getListData(),this);\r\n        recyclerView.setAdapter(notificationAdapter);\r\n\r\n\r\n        return rootView;\r\n    }\r\n}\r\n\r\nI was unable to make it right in **NotificationFragment.java** and **NotificationAdapter.java** please help me guys.","title":"How to add a recycler view to fragment","body":"<p>I have tried many ways to add recyclerview inside a fragment. I'm new for android. My android have 5 fragments one of these fragment I need to add a recyclerview. here is my code </p>\n\n<p><strong>notification_item.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/notification_item_root\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"56dp\"\n    android:gravity=\"center_vertical|left\"\n    android:orientation=\"horizontal\"\n    android:paddingLeft=\"16dp\"&gt;\n\n    &lt;de.hdodenhof.circleimageview.CircleImageView\n        android:id=\"@+id/notification_item_img\"\n        android:layout_width=\"36dp\"\n        android:layout_height=\"36dp\"\n        android:src=\"@android:drawable/ic_input_get\" /&gt;\n\n   &lt;TextView\n        android:id=\"@+id/notification_item_text\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:gravity=\"center\"\n        android:paddingLeft=\"8dp\"\n        android:text=\"Test Testre\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>notification_Fragment.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n&lt;android.support.v7.app.AlertController.RecycleListView\n    android:id=\"@+id/notification_list\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>NotificationItem.java</strong></p>\n\n<pre><code>public class NotificationItem {\n    private String title;\n    private int imageResId;\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public int getImageResId() {\n        return imageResId;\n    }\n\n    public void setImageResId(int imageResId) {\n        this.imageResId = imageResId;\n    }\n}\n</code></pre>\n\n<p><strong>NotificationData.java</strong></p>\n\n<pre><code>public class NotificationData {\n    private static final String[] textItem = {\"pathum\", \"sai\", \"charu\"};\n    private static final int[] imgItem = {android.R.drawable.ic_popup_reminder, android.R.drawable.ic_menu_add, android.R.drawable.ic_menu_delete};\n\n    public static List&lt;NotificationItem&gt; getListData() {\n        List&lt;NotificationItem&gt; data = new ArrayList&lt;&gt;();\n\n        for (int x = 0; x &lt; 4; x++) {\n            for (int i = 0; i &lt; textItem.length &amp;&amp; i &lt; imgItem.length; i++) {\n                NotificationItem item = new NotificationItem();\n                item.setImageResId(imgItem[i]);\n                item.setTitle(textItem[i]);\n                data.add(item);\n            }\n        }\n\n        return data;\n    }\n\n}\n</code></pre>\n\n<p><strong>NotificationAdapter.java</strong></p>\n\n<pre><code>public class NotificationAdapter extends RecyclerView.Adapter&lt;NotificationAdapter.NotificationHolder&gt; {\n\n    private List&lt;NotificationItem&gt; listData;\n    private LayoutInflater inflater;\n\n    public NotificationAdapter(List&lt;NotificationItem&gt; listData, Context c) {\n\n        this.inflater = LayoutInflater.from(c);\n        this.listData = listData;\n    }\n\n    @Override\n    public NotificationHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = inflater.inflate(R.layout.notification_item,parent,false);\n        return new NotificationHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(NotificationHolder holder, int position) {\n        NotificationItem item = listData.get(position);\n        holder.title.setText(item.getTitle());\n        holder.icon.setImageResource(item.getImageResId());\n    }\n\n    @Override\n    public int getItemCount() {\n        return listData.size();\n    }\n\n    class NotificationHolder extends RecyclerView.ViewHolder {\n\n        private TextView title;\n        private CircleImageView icon;\n        private View container;\n\n        public NotificationHolder(View itemView) {\n            super(itemView);\n\n            title = (TextView) itemView.findViewById(R.id.notification_item_text);\n            icon = (CircleImageView) itemView.findViewById(R.id.notification_item_img);\n            container = itemView.findViewById(R.id.notification_item_root);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>NotificationFragment.java</strong></p>\n\n<pre><code>public class NotificationFragment extends Fragment {\n\n    RecyclerView recyclerView;\n    NotificationAdapter notificationAdapter;\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n        View rootView = inflater.inflate(R.layout.notification_fragment, container, false);\n    recyclerView = (RecyclerView) rootView.findViewById(R.id.notification_list);\n\n    recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n\n    notificationAdapter = new NotificationAdapter(NotificationData.getListData(),this);\n    recyclerView.setAdapter(notificationAdapter);\n\n\n    return rootView;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I was unable to make it right in <strong>NotificationFragment.java</strong> and <strong>NotificationAdapter.java</strong> please help me guys.</p>\n"},{"tags":["java","jvm","apache-flink","remote-debugging"],"answers":[{"tags":[],"owner":{"account_id":6863081,"reputation":156,"user_id":5276434,"display_name":"Xingxing Qiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700624820,"creation_date":1700624820,"answer_id":77527213,"question_id":63970826,"body_markdown":"The mainClass in myapp.jar represents the job definition and is executed when bin/flink run is invoked. To enable remote debugging, add JVM options to the bin/flink script.\r\n\r\nIf you want to debug the data flow within the job, include JVM options for the TaskManager and add breakpoints to the Deserializer or other code responsible for processing data when the job receives input.\r\n","title":"Remote debugging in flink","body":"<p>The mainClass in myapp.jar represents the job definition and is executed when bin/flink run is invoked. To enable remote debugging, add JVM options to the bin/flink script.</p>\n<p>If you want to debug the data flow within the job, include JVM options for the TaskManager and add breakpoints to the Deserializer or other code responsible for processing data when the job receives input.</p>\n"}],"owner":{"account_id":8872930,"reputation":56,"user_id":6626126,"display_name":"Utlesh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700624820,"creation_date":1600531903,"question_id":63970826,"body_markdown":"Added one parameter in flink-conf.yaml :\r\n```\r\nenv.java.opts.taskmanager: &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=51005&quot;\r\n```\r\nThen i started a jobmanager and a taskmanager using below commands on localhost :\r\n```\r\nflink-1.9.1_bin/bin/jobmanager.sh start\r\nflink-1.9.1_bin/bin/taskmanager.sh start\r\n```\r\nJobmanager runs and i can see flink UI dashboard on localhost:8081. Taskmanager waits for connection on 51001 port. It runs after i debug my code from IDE(IntelliJ) which has setup for remote debugging on localhost:51001. I can see tasks slots been added when i start debugging from IDE. After this i ran below command:\r\n```\r\nflink-1.9.1_bin/bin/flink run -c myapp.Main myapp.jar\r\n```\r\n\r\nI am expecting debug point to come to my local code in IDE, but it&#39;s not coming. My code goes in running state directly that i can in flink UI dashboard.\r\n\r\nI am able do remote debugging for normal java projects but not for flink jobs.\r\n\r\n\r\n\r\n  \r\n\r\n\r\n","title":"Remote debugging in flink","body":"<p>Added one parameter in flink-conf.yaml :</p>\n<pre><code>env.java.opts.taskmanager: &quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=51005&quot;\n</code></pre>\n<p>Then i started a jobmanager and a taskmanager using below commands on localhost :</p>\n<pre><code>flink-1.9.1_bin/bin/jobmanager.sh start\nflink-1.9.1_bin/bin/taskmanager.sh start\n</code></pre>\n<p>Jobmanager runs and i can see flink UI dashboard on localhost:8081. Taskmanager waits for connection on 51001 port. It runs after i debug my code from IDE(IntelliJ) which has setup for remote debugging on localhost:51001. I can see tasks slots been added when i start debugging from IDE. After this i ran below command:</p>\n<pre><code>flink-1.9.1_bin/bin/flink run -c myapp.Main myapp.jar\n</code></pre>\n<p>I am expecting debug point to come to my local code in IDE, but it's not coming. My code goes in running state directly that i can in flink UI dashboard.</p>\n<p>I am able do remote debugging for normal java projects but not for flink jobs.</p>\n"},{"tags":["java","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":2,"creation_date":1491748041,"post_id":43307532,"comment_id":73680250,"body_markdown":"Show your editor where the code is not highlighted.","body":"Show your editor where the code is not highlighted."},{"owner":{"account_id":10602697,"reputation":2550,"user_id":7809177,"accept_rate":60,"display_name":"Prince Lionel N&#39;zi"},"score":0,"creation_date":1491815778,"post_id":43307532,"comment_id":73702611,"body_markdown":"I have edited my post by adding a new screenshot available here: [link to screenshot of my code](https://i.stack.imgur.com/zPfeK.png)","body":"I have edited my post by adding a new screenshot available here: <a href=\"https://i.stack.imgur.com/zPfeK.png\" rel=\"nofollow noreferrer\">link to screenshot of my code</a>"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1491816678,"post_id":43307532,"comment_id":73703266,"body_markdown":"Why do you expect an error on the `main(String[] args)` line? Just because it isn&#39;t a valid entry point for your Java program doesn&#39;t mean that this method is invalid altogether.","body":"Why do you expect an error on the <code>main(String[] args)</code> line? Just because it isn&#39;t a valid entry point for your Java program doesn&#39;t mean that this method is invalid altogether."},{"owner":{"account_id":274160,"reputation":10415,"user_id":3161093,"accept_rate":82,"display_name":"therealrootuser"},"score":1,"creation_date":1527872962,"post_id":43307532,"comment_id":88306893,"body_markdown":"@Tom there isn&#39;t a return type.","body":"@Tom there isn&#39;t a return type."}],"answers":[{"comments":[{"owner":{"account_id":6571865,"reputation":1247,"user_id":7465710,"display_name":"Kurt"},"score":1,"creation_date":1530632754,"post_id":43319356,"comment_id":89300423,"body_markdown":"Having been used to pycharm, I falsely assumed that syntax highlighting &amp; error handling would work everywhere in IntelliJ","body":"Having been used to pycharm, I falsely assumed that syntax highlighting &amp; error handling would work everywhere in IntelliJ"}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":1,"down_vote_count":1,"up_vote_count":88,"is_accepted":true,"score":87,"last_activity_date":1491816108,"creation_date":1491816108,"answer_id":43319356,"question_id":43307532,"body_markdown":"Java file is not analyzed since it&#39;s located outside of the **source root**. You need to either relocate the file or reconfigure your [content roots](https://www.jetbrains.com/help/idea/configuring-content-roots.html) so that it resides under the folder configured as the **Sources** root.\r\n\r\n**Sources** root is marked in blue in the project view. Here is the example of the properly configured project (notice the class icon is different than on your screenshot):\r\n\r\n[![java project][1]][1]\r\n\r\n[![source root][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z2T3q.png\r\n  [2]: https://i.stack.imgur.com/RgIyI.png","title":"Auto errors detection in IntelliJ IDEA","body":"<p>Java file is not analyzed since it's located outside of the <strong>source root</strong>. You need to either relocate the file or reconfigure your <a href=\"https://www.jetbrains.com/help/idea/configuring-content-roots.html\" rel=\"noreferrer\">content roots</a> so that it resides under the folder configured as the <strong>Sources</strong> root.</p>\n\n<p><strong>Sources</strong> root is marked in blue in the project view. Here is the example of the properly configured project (notice the class icon is different than on your screenshot):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z2T3q.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Z2T3q.png\" alt=\"java project\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/RgIyI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RgIyI.png\" alt=\"source root\"></a></p>\n"},{"tags":[],"owner":{"account_id":13778656,"reputation":321,"user_id":9944315,"display_name":"user9944315"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1538414550,"creation_date":1538414550,"answer_id":52595967,"question_id":43307532,"body_markdown":"This is finally what worked for me! Phew!\r\nMy Problem: Whenever I exit Intellij and try to open up an old/existing project, I have trouble getting the builds and execute to work on my localhost. I&#39;m just using localhost.\r\n\r\nHere are the steps that finally worked on my localhost environment:\r\n\r\n*1. Go to Project Structure and Select Project* \r\n\r\na. Set the SDK to 10 (Java Version 10.0.2) or whatever you are using.\r\n\r\nb. (I think this was the main step I was missing) Set the project compiler output to point to where I want the compiled output to sit: C:\\Users\\kbala\\OneDrive - MatrixCare\\SoftWLearnings\\Javamyfun\\NewHelloWorld\\out\r\n\r\nc. Project Language Level: I chose SDK Default\r\n\r\n*2. Go to Project Structure and Select Modules*\r\n\r\na. Click on src (this is where my source code sits). \r\n\r\nb. Then, Click on the Sources folder icon on the top. This adds src to the Source folders on the right. You will see the color change to Blue \r\n\r\nc. Click ok. \r\n\r\n*3. Then, click on Add Configuration (top right corner of Intellij)*\r\n\r\na. Select + at the top left hand corner.\r\n\r\nb. Select Application\r\n\r\nc. Change the name to Main\r\n\r\nd. Now click on the Ellipsis (three dots) in Main Class. You should now see your Main Class. Select it. \r\n\r\ne. You should now see the execute arrow at that top right of Intellij. And you should see the build icon (Hammer). \r\n\r\nThis should work!\r\n","title":"Auto errors detection in IntelliJ IDEA","body":"<p>This is finally what worked for me! Phew!\nMy Problem: Whenever I exit Intellij and try to open up an old/existing project, I have trouble getting the builds and execute to work on my localhost. I'm just using localhost.</p>\n\n<p>Here are the steps that finally worked on my localhost environment:</p>\n\n<p><em>1. Go to Project Structure and Select Project</em> </p>\n\n<p>a. Set the SDK to 10 (Java Version 10.0.2) or whatever you are using.</p>\n\n<p>b. (I think this was the main step I was missing) Set the project compiler output to point to where I want the compiled output to sit: C:\\Users\\kbala\\OneDrive - MatrixCare\\SoftWLearnings\\Javamyfun\\NewHelloWorld\\out</p>\n\n<p>c. Project Language Level: I chose SDK Default</p>\n\n<p><em>2. Go to Project Structure and Select Modules</em></p>\n\n<p>a. Click on src (this is where my source code sits). </p>\n\n<p>b. Then, Click on the Sources folder icon on the top. This adds src to the Source folders on the right. You will see the color change to Blue </p>\n\n<p>c. Click ok. </p>\n\n<p><em>3. Then, click on Add Configuration (top right corner of Intellij)</em></p>\n\n<p>a. Select + at the top left hand corner.</p>\n\n<p>b. Select Application</p>\n\n<p>c. Change the name to Main</p>\n\n<p>d. Now click on the Ellipsis (three dots) in Main Class. You should now see your Main Class. Select it. </p>\n\n<p>e. You should now see the execute arrow at that top right of Intellij. And you should see the build icon (Hammer). </p>\n\n<p>This should work!</p>\n"},{"comments":[{"owner":{"account_id":928052,"reputation":262,"user_id":958418,"accept_rate":75,"display_name":"frank"},"score":4,"creation_date":1617127350,"post_id":53619714,"comment_id":118214907,"body_markdown":"Saved my life. The day before Intellij was killing my CPU and it prompts for Power saver mode which I gladly enabled...","body":"Saved my life. The day before Intellij was killing my CPU and it prompts for Power saver mode which I gladly enabled..."},{"owner":{"account_id":3238768,"reputation":2848,"user_id":2732297,"accept_rate":93,"display_name":"Abdullah Al Noman"},"score":1,"creation_date":1641391064,"post_id":53619714,"comment_id":124792289,"body_markdown":"saved my life also .  When did this get on I never had a clue","body":"saved my life also .  When did this get on I never had a clue"}],"tags":[],"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"comment_count":2,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1580131305,"creation_date":1543949928,"answer_id":53619714,"question_id":43307532,"body_markdown":"One more reason could be IntelliJ is running on power saver mode, this could be disabled following way:\r\n\r\n`File Menu -&gt; Power Saver Mode`","title":"Auto errors detection in IntelliJ IDEA","body":"<p>One more reason could be IntelliJ is running on power saver mode, this could be disabled following way:</p>\n\n<p><code>File Menu -&gt; Power Saver Mode</code></p>\n"},{"comments":[{"owner":{"account_id":6967798,"reputation":7426,"user_id":5345150,"display_name":"Abhishek Gurjar"},"score":0,"creation_date":1573106174,"post_id":58742531,"comment_id":103774538,"body_markdown":"Please provide detail/elaborate answer because currently it looks like a comment, when you have 50 rep you will be able to comment.","body":"Please provide detail/elaborate answer because currently it looks like a comment, when you have 50 rep you will be able to comment."},{"owner":{"account_id":3426534,"reputation":79,"user_id":2872157,"display_name":"vyacheslav.kislov"},"score":0,"creation_date":1649413733,"post_id":58742531,"comment_id":126874605,"body_markdown":"i guess - right click on pom.xml -&gt; maven -&gt; reload project (in modern idea)\n\nOr Maven panel in the right side, the button with 2 cycled arrows &quot;Reload All Maven Projects&quot;","body":"i guess - right click on pom.xml -&gt; maven -&gt; reload project (in modern idea)  Or Maven panel in the right side, the button with 2 cycled arrows &quot;Reload All Maven Projects&quot;"}],"tags":[],"owner":{"account_id":8714817,"reputation":301,"user_id":6519815,"display_name":"ankit rawat"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594563504,"creation_date":1573104819,"answer_id":58742531,"question_id":43307532,"body_markdown":"I was getting the same issue, I just clicked on the `re-import` button on the `maven` panel and it solved the problem .","title":"Auto errors detection in IntelliJ IDEA","body":"<p>I was getting the same issue, I just clicked on the <code>re-import</code> button on the <code>maven</code> panel and it solved the problem .</p>\n"},{"tags":[],"owner":{"account_id":11376360,"reputation":315,"user_id":8340554,"display_name":"Kalinda Pride"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1593896289,"creation_date":1593896289,"answer_id":62734409,"question_id":43307532,"body_markdown":"**If you use a build system (Maven, Gradle, etc.):** \r\n\r\nOpen its panel in IntelliJ, then click the **reimport** button. For Gradle, this button looks like a sync icon and its hovertext says &quot;Reload All Gradle Projects&quot;. \r\n\r\n**Why it works:** \r\n\r\nSince the build system is in charge of compiling your code, it knows which files are source code. It would be a waste of computing power to look for missing semicolons in a compiled binary file, so IntelliJ won&#39;t try to find errors until it knows the file is source code. \r\n\r\nMost build systems, Maven and Gradle included, are also dependency managers. When you write code that uses libraries or depends on a different module, IntelliJ needs to be able to understand the dependency to tell you whether your code makes sense, or whether you made a mistake like forgetting an import statement or passing the wrong type of argument into a library function. When IntelliJ doesn&#39;t understand your dependencies, it displays all your uses of imported code in red text. ","title":"Auto errors detection in IntelliJ IDEA","body":"<p><strong>If you use a build system (Maven, Gradle, etc.):</strong></p>\n<p>Open its panel in IntelliJ, then click the <strong>reimport</strong> button. For Gradle, this button looks like a sync icon and its hovertext says &quot;Reload All Gradle Projects&quot;.</p>\n<p><strong>Why it works:</strong></p>\n<p>Since the build system is in charge of compiling your code, it knows which files are source code. It would be a waste of computing power to look for missing semicolons in a compiled binary file, so IntelliJ won't try to find errors until it knows the file is source code.</p>\n<p>Most build systems, Maven and Gradle included, are also dependency managers. When you write code that uses libraries or depends on a different module, IntelliJ needs to be able to understand the dependency to tell you whether your code makes sense, or whether you made a mistake like forgetting an import statement or passing the wrong type of argument into a library function. When IntelliJ doesn't understand your dependencies, it displays all your uses of imported code in red text.</p>\n"},{"tags":[],"owner":{"account_id":25432698,"reputation":1,"user_id":19236846,"display_name":"Mehdi Taheri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659710261,"creation_date":1659710261,"answer_id":73251443,"question_id":43307532,"body_markdown":"I had the same issue and here it is how I solved it:\r\nSome files where ignored and I Unignored them. To do this go to Maven tab on the right panel -&gt; right click on each project that is in grey color and click Unignore projects.","title":"Auto errors detection in IntelliJ IDEA","body":"<p>I had the same issue and here it is how I solved it:\nSome files where ignored and I Unignored them. To do this go to Maven tab on the right panel -&gt; right click on each project that is in grey color and click Unignore projects.</p>\n"},{"tags":[],"owner":{"account_id":2218418,"reputation":177,"user_id":1958490,"display_name":"BitLord"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660237169,"creation_date":1660237169,"answer_id":73324417,"question_id":43307532,"body_markdown":"I&#39;ll add an another reason for it. For me it was Reader mode enabled. I was not even been aware of its existence. Can be disabled in Settings -&gt; Editor -&gt; Reader mode.","title":"Auto errors detection in IntelliJ IDEA","body":"<p>I'll add an another reason for it. For me it was Reader mode enabled. I was not even been aware of its existence. Can be disabled in Settings -&gt; Editor -&gt; Reader mode.</p>\n"},{"tags":[],"owner":{"account_id":26656195,"reputation":11,"user_id":20269693,"display_name":"Felipe Gallardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669948501,"creation_date":1669948501,"answer_id":74650274,"question_id":43307532,"body_markdown":"In my case was a maven option!\r\nWhen you open the proyect in intellij, it create a notification.","title":"Auto errors detection in IntelliJ IDEA","body":"<p>In my case was a maven option!\nWhen you open the proyect in intellij, it create a notification.</p>\n"},{"tags":[],"owner":{"account_id":14952113,"reputation":387,"user_id":11390509,"display_name":"Camilo Ur&#225;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679663636,"creation_date":1679663636,"answer_id":75834109,"question_id":43307532,"body_markdown":"In my case none of these solutions were solving my problem, but I knew that I had been able to get error highlights when I started working on the project so I deleted the .idea folder in the project folder, reopened IntelliJ, and got back my errors. No clue as to what could have happened","title":"Auto errors detection in IntelliJ IDEA","body":"<p>In my case none of these solutions were solving my problem, but I knew that I had been able to get error highlights when I started working on the project so I deleted the .idea folder in the project folder, reopened IntelliJ, and got back my errors. No clue as to what could have happened</p>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":0,"creation_date":1700629885,"post_id":77527184,"comment_id":136676866,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77527184/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27551047,"reputation":1,"user_id":21026109,"display_name":"t0ny"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700624272,"creation_date":1700624272,"answer_id":77527184,"question_id":43307532,"body_markdown":"In my case, just Reloading the project solved it.\r\n\r\n&gt; Right Click on Root folder -&gt; Maven -&gt; Reload Project","title":"Auto errors detection in IntelliJ IDEA","body":"<p>In my case, just Reloading the project solved it.</p>\n<blockquote>\n<p>Right Click on Root folder -&gt; Maven -&gt; Reload Project</p>\n</blockquote>\n"}],"owner":{"account_id":10602697,"reputation":2550,"user_id":7809177,"accept_rate":60,"display_name":"Prince Lionel N&#39;zi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119163,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":43319356,"answer_count":10,"score":49,"last_activity_date":1700624272,"creation_date":1491746101,"question_id":43307532,"body_markdown":"I am new to Java programming language and the IntelliJ IDEA 2017.1 IDE.\r\n\r\nI just installed the IDE and I activated all the various inspections but the IDE is unable to detect the errors any time I make a mistake such as omitting a bracket or a semicolon.\r\n\r\nThis image displays the activated inspections:\r\n\r\n[![Activated Inspections][1]][1]\r\n\r\nThis is a screenshot of my code with multiple errors but no detected by the IDE:\r\n[![screenshot of my code][2]][2]\r\n\r\nKindly help me solve this problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JFnPU.png\r\n  [2]: https://i.stack.imgur.com/zPfeK.png","title":"Auto errors detection in IntelliJ IDEA","body":"<p>I am new to Java programming language and the IntelliJ IDEA 2017.1 IDE.</p>\n\n<p>I just installed the IDE and I activated all the various inspections but the IDE is unable to detect the errors any time I make a mistake such as omitting a bracket or a semicolon.</p>\n\n<p>This image displays the activated inspections:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JFnPU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JFnPU.png\" alt=\"Activated Inspections\"></a></p>\n\n<p>This is a screenshot of my code with multiple errors but no detected by the IDE:\n<a href=\"https://i.stack.imgur.com/zPfeK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zPfeK.png\" alt=\"screenshot of my code\"></a></p>\n\n<p>Kindly help me solve this problem.</p>\n"},{"tags":["java","collections","guava","flatten"],"answers":[{"comments":[{"owner":{"account_id":90664,"reputation":18330,"user_id":249460,"accept_rate":97,"display_name":"Gabriel erb&#225;k"},"score":6,"creation_date":1305047128,"post_id":5949355,"comment_id":6865327,"body_markdown":"I would guess this is because this is only one level concatenation, not really flatten:)","body":"I would guess this is because this is only one level concatenation, not really flatten:)"},{"owner":{"account_id":1007997,"reputation":2357,"user_id":1046584,"accept_rate":83,"display_name":"Lu&#237;s Bianchin"},"score":0,"creation_date":1418064712,"post_id":5949355,"comment_id":43181445,"body_markdown":"Also if a collection is being generated from a guava transform, you can use FluentIterable transformAndConcat: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/FluentIterable.html#transformAndConcat(com.google.common.base.Function)","body":"Also if a collection is being generated from a guava transform, you can use FluentIterable transformAndConcat: <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/FluentIterable.html#transformAndConcat(com.google.common.base.Function)\" rel=\"nofollow noreferrer\">docs.guava-libraries.googlecode.com/git/javadoc/com/google/&hellip;</a>"}],"tags":[],"owner":{"account_id":116301,"reputation":2832,"user_id":305009,"display_name":"Sean Parsons"},"comment_count":2,"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1700624034,"creation_date":1305027062,"answer_id":5949355,"question_id":5949091,"body_markdown":"The [Iterables.concat method][1] satisfies that requirement:\r\n\r\n    public static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;? extends Iterable&lt;? extends T&gt;&gt; inputs)\r\n\r\n  [1]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable)","title":"Flattening an Iterable&lt;Iterable&lt;T&gt;&gt; in Guava","body":"<p>The <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#concat(java.lang.Iterable)\" rel=\"nofollow noreferrer\">Iterables.concat method</a> satisfies that requirement:</p>\n<pre><code>public static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;? extends Iterable&lt;? extends T&gt;&gt; inputs)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":970066,"reputation":4079,"user_id":992765,"accept_rate":51,"display_name":"odiszapc"},"score":0,"creation_date":1456591241,"post_id":27854006,"comment_id":59023711,"body_markdown":"Does not fit my needs, because my iterator is lazy, but all lazyness is lost when convert such an iterator to stream.","body":"Does not fit my needs, because my iterator is lazy, but all lazyness is lost when convert such an iterator to stream."},{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1456610044,"post_id":27854006,"comment_id":59030434,"body_markdown":"@odiszapc I&#39;m not sure what you mean.  Iterable.spliterator() just returns a Spliterator wrapping Iterable.iterator(); no elements are drawn until the stream&#39;s terminal operation begins.  Similarly, StreamSupport.stream is explicitly documented not to begin querying the spliterator until the terminal operation begins.  So I think you&#39;re saying your top-level _iterable_ is lazy, and you want to delay calling iterator() on it?  In that case, use the StreamSupport.stream overload taking a supplier (`StreamSupport.stream(() -&gt; foo.spliterator(), false)`).","body":"@odiszapc I&#39;m not sure what you mean.  Iterable.spliterator() just returns a Spliterator wrapping Iterable.iterator(); no elements are drawn until the stream&#39;s terminal operation begins.  Similarly, StreamSupport.stream is explicitly documented not to begin querying the spliterator until the terminal operation begins.  So I think you&#39;re saying your top-level <i>iterable</i> is lazy, and you want to delay calling iterator() on it?  In that case, use the StreamSupport.stream overload taking a supplier (<code>StreamSupport.stream(() -&gt; foo.spliterator(), false)</code>)."},{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":2,"creation_date":1456610096,"post_id":27854006,"comment_id":59030444,"body_markdown":"@odiszapc Otherwise, I&#39;d be interested in a minimal example reproducing why this answer doesn&#39;t work, if you have time to make one, because I&#39;ll learn something from it.","body":"@odiszapc Otherwise, I&#39;d be interested in a minimal example reproducing why this answer doesn&#39;t work, if you have time to make one, because I&#39;ll learn something from it."}],"tags":[],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420778925,"creation_date":1420778925,"answer_id":27854006,"question_id":5949091,"body_markdown":"As of Java 8, you can do this without Guava.  It&#39;s a bit clunky because [Iterable doesn&#39;t directly provide streams](https://stackoverflow.com/q/23114015/3614835), requiring the use of StreamSupport, but it doesn&#39;t require creating a new collection like the code in the question.\r\n\r\n    private static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;? extends Iterable&lt;T&gt;&gt; foo) {\r\n        return () -&gt; StreamSupport.stream(foo.spliterator(), false)\r\n            .flatMap(i -&gt; StreamSupport.stream(i.spliterator(), false))\r\n            .iterator();\r\n    }\r\n\r\n","title":"Flattening an Iterable&lt;Iterable&lt;T&gt;&gt; in Guava","body":"<p>As of Java 8, you can do this without Guava.  It's a bit clunky because <a href=\"https://stackoverflow.com/q/23114015/3614835\">Iterable doesn't directly provide streams</a>, requiring the use of StreamSupport, but it doesn't require creating a new collection like the code in the question.</p>\n\n<pre><code>private static &lt;T&gt; Iterable&lt;T&gt; concat(Iterable&lt;? extends Iterable&lt;T&gt;&gt; foo) {\n    return () -&gt; StreamSupport.stream(foo.spliterator(), false)\n        .flatMap(i -&gt; StreamSupport.stream(i.spliterator(), false))\n        .iterator();\n}\n</code></pre>\n"}],"owner":{"account_id":3335,"reputation":2383,"user_id":4805,"display_name":"Andy Whitfield"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15980,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":5949355,"answer_count":2,"score":41,"last_activity_date":1700624034,"creation_date":1305025872,"question_id":5949091,"body_markdown":"Is there a `flatten` method in Guava - or an easy way to convert an `Iterable&lt;Iterable&lt;T&gt;&gt;` to an `Iterable&lt;T&gt;`?\r\n\r\nI have a `Multimap&lt;K, V&gt;` [sourceMultimap] and I want to return all values where the key matches some predicate [keyPredicate]. So at the moment I have:\r\n\r\n    Iterable&lt;Collection&lt;V&gt;&gt; vals = Maps.filterKeys(sourceMultimap.asMap(), keyPredicate).values();\r\n    \r\n    Collection&lt;V&gt; retColl = ...;\r\n    for (Collection&lt;V&gt; vs : vals) retColl.addAll(vs);\r\n    return retColl;\r\n\r\nI&#39;ve looked through the Guava docs, but nothing jumped out. I am just checking I&#39;ve not missed anything. Otherwise, I&#39;ll extract my three lines into a short flatten generic method and leave it as that.","title":"Flattening an Iterable&lt;Iterable&lt;T&gt;&gt; in Guava","body":"<p>Is there a <code>flatten</code> method in Guava - or an easy way to convert an <code>Iterable&lt;Iterable&lt;T&gt;&gt;</code> to an <code>Iterable&lt;T&gt;</code>?</p>\n\n<p>I have a <code>Multimap&lt;K, V&gt;</code> [sourceMultimap] and I want to return all values where the key matches some predicate [keyPredicate]. So at the moment I have:</p>\n\n<pre><code>Iterable&lt;Collection&lt;V&gt;&gt; vals = Maps.filterKeys(sourceMultimap.asMap(), keyPredicate).values();\n\nCollection&lt;V&gt; retColl = ...;\nfor (Collection&lt;V&gt; vs : vals) retColl.addAll(vs);\nreturn retColl;\n</code></pre>\n\n<p>I've looked through the Guava docs, but nothing jumped out. I am just checking I've not missed anything. Otherwise, I'll extract my three lines into a short flatten generic method and leave it as that.</p>\n"},{"tags":["java","arrays","string","char","reverse"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":3,"creation_date":1700582378,"post_id":77524176,"comment_id":136671006,"body_markdown":"You are overwriting the data. You need to work in from both ends, meet in the middle, and use a temporary char variable to prevent overwriting the data as you go. The reason it works with `charAt` is because strings are immutable so you can&#39;t destroy the data while you&#39;re reversing it.","body":"You are overwriting the data. You need to work in from both ends, meet in the middle, and use a temporary char variable to prevent overwriting the data as you go. The reason it works with <code>charAt</code> is because strings are immutable so you can&#39;t destroy the data while you&#39;re reversing it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1700582504,"post_id":77524176,"comment_id":136671031,"body_markdown":"And that&#39;s exactly what you should use: `reverseword[j] = str.charAt(i);\n` and begin by creating an empty array And of course you can do `return new StringBuilder(str).reverse().toString();`","body":"And that&#39;s exactly what you should use: <code>reverseword[j] = str.charAt(i); </code> and begin by creating an empty array And of course you can do <code>return new StringBuilder(str).reverse().toString();</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1700583743,"post_id":77524176,"comment_id":136671305,"body_markdown":"Check out the example at the end of [reverse an array](https://stackoverflow.com/a/77466881/1552534).  You can do the same thing with an array of characters and the return a new String of those characters.  Note that you only need to iterate half way from each end towards the middle.","body":"Check out the example at the end of <a href=\"https://stackoverflow.com/a/77466881/1552534\">reverse an array</a>.  You can do the same thing with an array of characters and the return a new String of those characters.  Note that you only need to iterate half way from each end towards the middle."},{"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":2,"creation_date":1700584292,"post_id":77524176,"comment_id":136671418,"body_markdown":"This might not apply to your exercise, but note that reversing a Java string using a character array will break if the string contains one or more  UTF-16 surrogate pairs. It&#39;s probably better to work with integer code points, e.g. String#codePoints().","body":"This might not apply to your exercise, but note that reversing a Java string using a character array will break if the string contains one or more  UTF-16 surrogate pairs. It&#39;s probably better to work with integer code points, e.g. String#codePoints()."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1700591879,"post_id":77524176,"comment_id":136672791,"body_markdown":"Try the following, _String s = &quot;&quot;; for (char c : &quot;geeks&quot;.toCharArray()) s = c + s;_.","body":"Try the following, <i>String s = &quot;&quot;; for (char c : &quot;geeks&quot;.toCharArray()) s = c + s;</i>."}],"answers":[{"tags":[],"owner":{"account_id":29959026,"reputation":31,"user_id":22959249,"display_name":"Yuay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700620551,"creation_date":1700620340,"answer_id":77527027,"question_id":77524176,"body_markdown":"In your code, you are trying to read and write data in the same array at the same time, which is causing data loss. When you start reading data from the end of the array and write it to the beginning of the array, you are actually overwriting the original data.To fix this, you need to create a new array to store the reversed characters, so you&#39;re not overwriting the original characters. \r\n\r\nHowever, when you use the `charAt`, you are reading the original string, which has not been modified the entire process. So you can correctly take the character from the end of the string.","title":"issue in reversing a string in java","body":"<p>In your code, you are trying to read and write data in the same array at the same time, which is causing data loss. When you start reading data from the end of the array and write it to the beginning of the array, you are actually overwriting the original data.To fix this, you need to create a new array to store the reversed characters, so you're not overwriting the original characters.</p>\n<p>However, when you use the <code>charAt</code>, you are reading the original string, which has not been modified the entire process. So you can correctly take the character from the end of the string.</p>\n"},{"tags":[],"owner":{"account_id":230362,"reputation":28330,"user_id":493928,"accept_rate":62,"display_name":"khachik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700622675,"creation_date":1700622675,"answer_id":77527125,"question_id":77524176,"body_markdown":"Your code has two algorithmic problems:\r\n\r\n - `reverseword[j] = reverseword[i];` overwrites the character at index `j` and leaves the char at `i` as is. You can use a temporary variable to swap these two values;\r\n - by running the for loop from `reverseword.length - 1` to `0`, even if you use a temporary variable, you are going to swap them correctly, but you are going to do it twice and end up with the initial array.  \r\n\r\nBelow is a code that fixes it (and adds another way of reversing a string):  \r\n\r\n    public class Test {\r\n        public static void main(String [] args) {\r\n            for(String arg: args) {\r\n                System.out.println(arg + &quot; &lt;-&gt; &quot; + reverse(arg));\r\n                System.out.println(arg + &quot; &lt;-&gt; &quot; + reverse2(arg));\r\n            }\r\n        }\r\n    \r\n        static String reverse(String value) {\r\n            char [] characters = value.toCharArray();\r\n    \r\n            int len = characters.length;\r\n            for (int i = 0; i &lt;= len/2 - 1; i++) {\r\n                char tmp = characters[i];\r\n                characters[i] = characters[len-i-1];\r\n                characters[len-i-1] = tmp;\r\n            }\r\n            return new String(characters);\r\n        }\r\n    \r\n        static String reverse2(String value) {\r\n            StringBuilder reverse = new StringBuilder(value);\r\n            return reverse.reverse().toString();\r\n        }\r\n    }","title":"issue in reversing a string in java","body":"<p>Your code has two algorithmic problems:</p>\n<ul>\n<li><code>reverseword[j] = reverseword[i];</code> overwrites the character at index <code>j</code> and leaves the char at <code>i</code> as is. You can use a temporary variable to swap these two values;</li>\n<li>by running the for loop from <code>reverseword.length - 1</code> to <code>0</code>, even if you use a temporary variable, you are going to swap them correctly, but you are going to do it twice and end up with the initial array.</li>\n</ul>\n<p>Below is a code that fixes it (and adds another way of reversing a string):</p>\n<pre><code>public class Test {\n    public static void main(String [] args) {\n        for(String arg: args) {\n            System.out.println(arg + &quot; &lt;-&gt; &quot; + reverse(arg));\n            System.out.println(arg + &quot; &lt;-&gt; &quot; + reverse2(arg));\n        }\n    }\n\n    static String reverse(String value) {\n        char [] characters = value.toCharArray();\n\n        int len = characters.length;\n        for (int i = 0; i &lt;= len/2 - 1; i++) {\n            char tmp = characters[i];\n            characters[i] = characters[len-i-1];\n            characters[len-i-1] = tmp;\n        }\n        return new String(characters);\n    }\n\n    static String reverse2(String value) {\n        StringBuilder reverse = new StringBuilder(value);\n        return reverse.reverse().toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16190280,"reputation":11,"user_id":11689267,"display_name":"Sreenath"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700622675,"creation_date":1700582034,"question_id":77524176,"body_markdown":"cant reverse my string using char[] array\r\nif my input is geeks and output shpuld be skeeg \r\nif i reverse using charAt function it reverse the string correctly if i use the reverse[i]=reverse[j] i cant reverse it properly where (j=length of reverse)  for clear view please view my code .\r\nthe above code gives me output as wrong for example if my input is geeks it gives output as skeks\r\nif i change the line reverseword[j] = reverseword[i]; to reverseword[j] = test.charAt(i); it gives coorect output.\r\nsince reversedword also contains the same word but it gives issue while reversing a string but when using test.chatAt it works?\r\nwhats the issue in reversing a string using reverseword[j] = reverseword[i];?\r\n\r\n```\r\nclass reverse {\r\n\r\n\tpublic static String sample(String str) {\r\n\t\tString test = str;\r\n\t\tchar[] reverseword;\r\n\r\n\t\treverseword = test.toCharArray();\r\n\r\n\t\tint j = 0;\r\n\t\t\r\n\t\tfor (int i = reverseword.length - 1; i &gt;= 0; i--) {\r\n\t\t\treverseword[j] = reverseword[i];\r\n\t\t\tj++;\r\n\t\t}\r\n\r\n\t\tString finalresult = new String(reverseword);\r\n\t\treturn finalresult;\r\n\t}\r\n} \r\n```\r\n\r\n","title":"issue in reversing a string in java","body":"<p>cant reverse my string using char[] array\nif my input is geeks and output shpuld be skeeg\nif i reverse using charAt function it reverse the string correctly if i use the reverse[i]=reverse[j] i cant reverse it properly where (j=length of reverse)  for clear view please view my code .\nthe above code gives me output as wrong for example if my input is geeks it gives output as skeks\nif i change the line reverseword[j] = reverseword[i]; to reverseword[j] = test.charAt(i); it gives coorect output.\nsince reversedword also contains the same word but it gives issue while reversing a string but when using test.chatAt it works?\nwhats the issue in reversing a string using reverseword[j] = reverseword[i];?</p>\n<pre><code>class reverse {\n\n    public static String sample(String str) {\n        String test = str;\n        char[] reverseword;\n\n        reverseword = test.toCharArray();\n\n        int j = 0;\n        \n        for (int i = reverseword.length - 1; i &gt;= 0; i--) {\n            reverseword[j] = reverseword[i];\n            j++;\n        }\n\n        String finalresult = new String(reverseword);\n        return finalresult;\n    }\n} \n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","kotlin","spring-data-jpa"],"owner":{"account_id":29944048,"reputation":1,"user_id":22947778,"display_name":"Alex Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700622596,"creation_date":1700436474,"question_id":77512879,"body_markdown":"I have a parent entity with the following definition:\r\n\r\n```\r\n@Entity(name = &quot;parent&quot;)\r\nclass ParentEntity {\r\n\r\n    @Id\r\n    var id: String = UUID.randomUUID().toString()\r\n    ...\r\n```\r\na child entity with the following definition:\r\n```\r\n@Entity(name = &quot;child_1&quot;\r\nclass ChildEntity1{\r\n    @Id\r\n    var id: String? = null\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;parentId&quot;)\r\n    var parentEntity: ParentEntity? = null\r\n}\r\n```\r\nand another child entity with similar definition\r\n```\r\n@Entity(name = &quot;child_2&quot;\r\nclass ChildEntity2{\r\n    @Id\r\n    var id: String? = null\r\n\r\n    @OneToOne\r\n    @MapsId\r\n    @JoinColumn(name = &quot;parentId&quot;)\r\n    var parentEntity: ParentEntity? = null\r\n}\r\n```\r\nI have a Jpa Repository created for each entity. My goal is to have the ParentEntity persisted when ChildEntity1 is persisted, but not when ChildEntity2 is persisted. E.g. If I have\r\n```\r\nvar parentEntity = ParentEntity()\r\nvar childEntity1 = ChildEntity1()\r\nchildEntity1.parentEntity = parentEntity\r\nchildEntity1Repo.save(childEntity1)\r\n```\r\nThe child entity should be inserted along with the parent entity, but if I have\r\n```\r\nvar parentEntity = ParentEntity()\r\nvar childEntity2 = ChildEntity2()\r\nchildEntity2.parentEntity = parentEntity\r\nchildEntity2Repo.save(childEntity2)\r\n```\r\nthe parent entity should not be persisted, only the childEntity2.\r\nCurrently, if I persist any of the child entities, the parent is persisted along with it.\r\n\r\n\r\nI just want to know if it&#39;s possible, and if so how?","title":"Spring JPA/Hibernate Saving Only the Child Entity Sometimes","body":"<p>I have a parent entity with the following definition:</p>\n<pre><code>@Entity(name = &quot;parent&quot;)\nclass ParentEntity {\n\n    @Id\n    var id: String = UUID.randomUUID().toString()\n    ...\n</code></pre>\n<p>a child entity with the following definition:</p>\n<pre><code>@Entity(name = &quot;child_1&quot;\nclass ChildEntity1{\n    @Id\n    var id: String? = null\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;parentId&quot;)\n    var parentEntity: ParentEntity? = null\n}\n</code></pre>\n<p>and another child entity with similar definition</p>\n<pre><code>@Entity(name = &quot;child_2&quot;\nclass ChildEntity2{\n    @Id\n    var id: String? = null\n\n    @OneToOne\n    @MapsId\n    @JoinColumn(name = &quot;parentId&quot;)\n    var parentEntity: ParentEntity? = null\n}\n</code></pre>\n<p>I have a Jpa Repository created for each entity. My goal is to have the ParentEntity persisted when ChildEntity1 is persisted, but not when ChildEntity2 is persisted. E.g. If I have</p>\n<pre><code>var parentEntity = ParentEntity()\nvar childEntity1 = ChildEntity1()\nchildEntity1.parentEntity = parentEntity\nchildEntity1Repo.save(childEntity1)\n</code></pre>\n<p>The child entity should be inserted along with the parent entity, but if I have</p>\n<pre><code>var parentEntity = ParentEntity()\nvar childEntity2 = ChildEntity2()\nchildEntity2.parentEntity = parentEntity\nchildEntity2Repo.save(childEntity2)\n</code></pre>\n<p>the parent entity should not be persisted, only the childEntity2.\nCurrently, if I persist any of the child entities, the parent is persisted along with it.</p>\n<p>I just want to know if it's possible, and if so how?</p>\n"},{"tags":["java","testing","junit","junit4","hamcrest"],"answers":[{"comments":[{"owner":{"account_id":59511,"reputation":35694,"user_id":178060,"accept_rate":92,"display_name":"wheaties"},"score":2,"creation_date":1257775595,"post_id":1701143,"comment_id":1576977,"body_markdown":"I had this question too in the back of my mind.  Thank you, I never thought of it in this manner.","body":"I had this question too in the back of my mind.  Thank you, I never thought of it in this manner."},{"owner":{"account_id":28950,"reputation":1483,"user_id":77787,"display_name":"Nils Wloka"},"score":1,"creation_date":1258726226,"post_id":1701143,"comment_id":1655258,"body_markdown":"It also helps with the &quot;rule&quot; of one assertion per test and blends more easily with BDD-style specifications.","body":"It also helps with the &quot;rule&quot; of one assertion per test and blends more easily with BDD-style specifications."},{"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"score":2,"creation_date":1283158014,"post_id":1701143,"comment_id":3778194,"body_markdown":"And it separates the assertion mechanism from the condition (which is what leads to the better error messages).","body":"And it separates the assertion mechanism from the condition (which is what leads to the better error messages)."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":2,"creation_date":1502428022,"post_id":1701143,"comment_id":78213872,"body_markdown":"The example is implausible as hardly anybody would use a single `assertTrue` with an `&amp;&amp;`. Separating it into two conditions makes the problem cause obvious even in JUnit. Don&#39;t get me wrong; I agree with you, I just dislike your example.","body":"The example is implausible as hardly anybody would use a single <code>assertTrue</code> with an <code>&amp;&amp;</code>. Separating it into two conditions makes the problem cause obvious even in JUnit. Don&#39;t get me wrong; I agree with you, I just dislike your example."}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":4,"down_vote_count":1,"up_vote_count":187,"is_accepted":false,"score":186,"last_activity_date":1616080854,"creation_date":1257775339,"answer_id":1701143,"question_id":1701113,"body_markdown":"There&#39;s no big advantage for those cases where an `assertFoo` exists that exactly matches your intent. In those cases they behave almost the same.\r\n\r\nBut when you come to checks that are somewhat more complex, then the advantage becomes more visible:\r\n\r\n    val foo = List.of(&quot;someValue&quot;);\r\n    assertTrue(foo.contains(&quot;someValue&quot;) &amp;&amp; foo.contains(&quot;anotherValue&quot;));\r\n\r\n```\r\nExpected: is &lt;true&gt;\r\n         but: was &lt;false&gt;\r\n```\r\n\r\nvs.\r\n\r\n    val foo = List.of(&quot;someValue&quot;);\r\n    assertThat(foo, containsInAnyOrder(&quot;someValue&quot;, &quot;anotherValue&quot;));\r\n\r\n```\r\nExpected: iterable with items [&quot;someValue&quot;, &quot;anotherValue&quot;] in any order\r\n     but: no item matches: &quot;anotherValue&quot; in [&quot;someValue&quot;]\r\n```\r\n\r\n\r\nOne can discuss which one of those is easier to read, but once the assert fails, you&#39;ll get a good error message from `assertThat`, but only a very minimal amount of information from `assertTrue`.","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>There's no big advantage for those cases where an <code>assertFoo</code> exists that exactly matches your intent. In those cases they behave almost the same.</p>\n<p>But when you come to checks that are somewhat more complex, then the advantage becomes more visible:</p>\n<pre><code>val foo = List.of(&quot;someValue&quot;);\nassertTrue(foo.contains(&quot;someValue&quot;) &amp;&amp; foo.contains(&quot;anotherValue&quot;));\n</code></pre>\n<pre><code>Expected: is &lt;true&gt;\n         but: was &lt;false&gt;\n</code></pre>\n<p>vs.</p>\n<pre><code>val foo = List.of(&quot;someValue&quot;);\nassertThat(foo, containsInAnyOrder(&quot;someValue&quot;, &quot;anotherValue&quot;));\n</code></pre>\n<pre><code>Expected: iterable with items [&quot;someValue&quot;, &quot;anotherValue&quot;] in any order\n     but: no item matches: &quot;anotherValue&quot; in [&quot;someValue&quot;]\n</code></pre>\n<p>One can discuss which one of those is easier to read, but once the assert fails, you'll get a good error message from <code>assertThat</code>, but only a very minimal amount of information from <code>assertTrue</code>.</p>\n"},{"comments":[{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1696991687,"post_id":2585820,"comment_id":136222136,"body_markdown":"Second link in answer is dead - *&quot;ERR_CONNECTION_TIMED_OUT&quot;*.","body":"Second link in answer is dead - <i>&quot;ERR_CONNECTION_TIMED_OUT&quot;</i>."}],"tags":[],"owner":{"account_id":13345,"reputation":8533,"user_id":26737,"accept_rate":83,"display_name":"Manur"},"comment_count":1,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1682499472,"creation_date":1270565674,"answer_id":2585820,"question_id":1701113,"body_markdown":"The JUnit [release notes][1] for version 4.4 (where it was introduced) state four advantages :\r\n\r\n&gt; - More readable and typeable: this syntax allows you to think in terms of subject, verb, object (assert &quot;x is 3&quot;) rather than *assertEquals*, which uses verb, object, subject (assert &quot;equals 3 x&quot;)\r\n&gt; - Combinations: any matcher statement s can be negated (*not(s)*), combined (*either(s).or(t)*), mapped to a collection (*each(s)*), or used in custom combinations (*afterFiveSeconds(s)*)\r\n&gt; - Readable failure messages. (...)\r\n&gt; - Custom Matchers. By implementing the *Matcher* interface yourself, you can get all of the above benefits for your own custom assertions.\r\n\r\nMore detailed argumentation from the person who created the new syntax : [here][2].\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/doc/ReleaseNotes4.4.html\r\n  [2]: http://joe.truemesh.com/blog/000511.html","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>The JUnit <a href=\"http://junit.sourceforge.net/doc/ReleaseNotes4.4.html\" rel=\"nofollow noreferrer\">release notes</a> for version 4.4 (where it was introduced) state four advantages :</p>\n<blockquote>\n<ul>\n<li>More readable and typeable: this syntax allows you to think in terms of subject, verb, object (assert &quot;x is 3&quot;) rather than <em>assertEquals</em>, which uses verb, object, subject (assert &quot;equals 3 x&quot;)</li>\n<li>Combinations: any matcher statement s can be negated (<em>not(s)</em>), combined (<em>either(s).or(t)</em>), mapped to a collection (<em>each(s)</em>), or used in custom combinations (<em>afterFiveSeconds(s)</em>)</li>\n<li>Readable failure messages. (...)</li>\n<li>Custom Matchers. By implementing the <em>Matcher</em> interface yourself, you can get all of the above benefits for your own custom assertions.</li>\n</ul>\n</blockquote>\n<p>More detailed argumentation from the person who created the new syntax : <a href=\"http://joe.truemesh.com/blog/000511.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":1,"creation_date":1320096085,"post_id":7956297,"comment_id":9731015,"body_markdown":"Better yet, I would leave out the string argument in the `assertThat` case, because the message you get automatically is just as informative: &quot;Expected: (a value greater than &lt;1&gt; and a value less than &lt;3&gt;)&quot;","body":"Better yet, I would leave out the string argument in the <code>assertThat</code> case, because the message you get automatically is just as informative: &quot;Expected: (a value greater than &lt;1&gt; and a value less than &lt;3&gt;)&quot;"},{"owner":{"account_id":1009150,"reputation":3208,"user_id":1022119,"accept_rate":71,"display_name":"MartinL"},"score":0,"creation_date":1320224129,"post_id":7956297,"comment_id":9755995,"body_markdown":"Yes, you are right. I edit my answer.\nOriginially I want to use both(Matcher).and(Matcher) but it didn&#39;t work.","body":"Yes, you are right. I edit my answer. Originially I want to use both(Matcher).and(Matcher) but it didn&#39;t work."}],"tags":[],"owner":{"account_id":1009150,"reputation":3208,"user_id":1022119,"accept_rate":71,"display_name":"MartinL"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1320223916,"creation_date":1320077104,"answer_id":7956297,"question_id":1701113,"body_markdown":"Example:\r\n\r\n\tassertThat(5 , allOf(greaterThan(1),lessThan(3)));\r\n\t//\tjava.lang.AssertionError:\r\n\t//\tExpected: (a value greater than &lt;1&gt; and a value less than &lt;3&gt;)\r\n\t//\t     got: &lt;5&gt;\r\n\tassertTrue(&quot;Number not between 1 and 3!&quot;, 1 &lt; 5 &amp;&amp; 5 &lt; 3);\r\n\t//\tjava.lang.AssertionError: Number not between 1 and 3!\r\n\r\n 1. you can make your tests more particular\r\n 2. you get a more detailed Exception, if tests fail\r\n 3. easier to read the Test\r\n\r\nbtw: you can write Text in assertXXX too...","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>Example:</p>\n\n<pre><code>assertThat(5 , allOf(greaterThan(1),lessThan(3)));\n//  java.lang.AssertionError:\n//  Expected: (a value greater than &lt;1&gt; and a value less than &lt;3&gt;)\n//       got: &lt;5&gt;\nassertTrue(\"Number not between 1 and 3!\", 1 &lt; 5 &amp;&amp; 5 &lt; 3);\n//  java.lang.AssertionError: Number not between 1 and 3!\n</code></pre>\n\n<ol>\n<li>you can make your tests more particular</li>\n<li>you get a more detailed Exception, if tests fail</li>\n<li>easier to read the Test</li>\n</ol>\n\n<p>btw: you can write Text in assertXXX too...</p>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1460665923,"post_id":9476957,"comment_id":60862063,"body_markdown":"...and when Eclipse reports an assertion failure, if you put the arguments the wrong way round in the traditional assertThat(), the error doesn&#39;t make sense.","body":"...and when Eclipse reports an assertion failure, if you put the arguments the wrong way round in the traditional assertThat(), the error doesn&#39;t make sense."}],"tags":[],"owner":{"account_id":243830,"reputation":1403,"user_id":516236,"accept_rate":77,"display_name":"Andy Davis"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1330407634,"creation_date":1330407634,"answer_id":9476957,"question_id":1701113,"body_markdown":"A very basic justification is that it is hard to mess up the new syntax.\r\n\r\nSuppose that a particular value, foo, should be 1 after a test.\r\n\r\n    assertEqual(1, foo);\r\n\r\n--OR--\r\n    \r\n    assertThat(foo, is(1));\r\n\r\nWith the first approach, it is very easy to forget the correct order, and type it backwards.  Then rather than saying that the test failed because it expected 1 and got 2, the message is backwards.  Not a problem when the test passes, but can lead to confusion when the test fails.\r\n\r\nWith the second version, it is almost impossible to make this mistake.\r\n","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>A very basic justification is that it is hard to mess up the new syntax.</p>\n\n<p>Suppose that a particular value, foo, should be 1 after a test.</p>\n\n<pre><code>assertEqual(1, foo);\n</code></pre>\n\n<p>--OR--</p>\n\n<pre><code>assertThat(foo, is(1));\n</code></pre>\n\n<p>With the first approach, it is very easy to forget the correct order, and type it backwards.  Then rather than saying that the test failed because it expected 1 and got 2, the message is backwards.  Not a problem when the test passes, but can lead to confusion when the test fails.</p>\n\n<p>With the second version, it is almost impossible to make this mistake.</p>\n"},{"comments":[{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":4,"creation_date":1455707470,"post_id":12878027,"comment_id":58606522,"body_markdown":"Fest seems to have died, but the fork AssertJ is very much alive.","body":"Fest seems to have died, but the fork AssertJ is very much alive."}],"tags":[],"owner":{"account_id":144735,"reputation":9875,"user_id":354009,"accept_rate":92,"display_name":"Igor Popov"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1476689947,"creation_date":1350171695,"answer_id":12878027,"question_id":1701113,"body_markdown":"Basically for **increasing the readability of the code**.   \r\n\r\nBesides hamcrest you can also use the [**fest assertions**][1].\r\nThey have **a few advantages over hamcrest** such as:\r\n\r\n - they are more readable  \r\n(`assertEquals(123, actual); // reads &quot;assert equals 123 is actual&quot;` vs   \r\n`assertThat(actual).isEqualTo(123); // reads &quot;assert that actual is equal to 123&quot;)`\r\n - they are discoverable ([you can make autocompletion work with any IDE][2]).\r\n\r\nSome examples\r\n-------------\r\n\r\n    import static org.fest.assertions.api.Assertions.*;\r\n    \r\n    // common assertions\r\n    assertThat(yoda).isInstanceOf(Jedi.class);\r\n    assertThat(frodo.getName()).isEqualTo(&quot;Frodo&quot;);\r\n    assertThat(frodo).isNotEqualTo(sauron);\r\n    assertThat(frodo).isIn(fellowshipOfTheRing);\r\n    assertThat(sauron).isNotIn(fellowshipOfTheRing);\r\n    \r\n    // String specific assertions\r\n    assertThat(frodo.getName()).startsWith(&quot;Fro&quot;).endsWith(&quot;do&quot;)\r\n                               .isEqualToIgnoringCase(&quot;frodo&quot;);\r\n    \r\n    // collection specific assertions\r\n    assertThat(fellowshipOfTheRing).hasSize(9)\r\n                                   .contains(frodo, sam)\r\n                                   .excludes(sauron);\r\n    \r\n    \r\n    // map specific assertions (One ring and elves ring bearers initialized before)\r\n    assertThat(ringBearers).hasSize(4)\r\n                           .includes(entry(Ring.oneRing, frodo), entry(Ring.nenya, galadriel))\r\n                           .excludes(entry(Ring.oneRing, aragorn));\r\n\r\n\r\n----------\r\n# October 17th, 2016 Update  \r\nFest is not active anymore, use [**AssertJ**][3] instead.\r\n\r\n  [1]: https://github.com/alexruiz/fest-assert-2.x/wiki/One-minute-starting-guide\r\n  [2]: https://github.com/alexruiz/fest-assert-2.x/wiki/Tips-and-tricks#wiki-ide-automatic-static-import\r\n  [3]: http://joel-costigliola.github.io/assertj","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>Basically for <strong>increasing the readability of the code</strong>.   </p>\n\n<p>Besides hamcrest you can also use the <a href=\"https://github.com/alexruiz/fest-assert-2.x/wiki/One-minute-starting-guide\" rel=\"noreferrer\"><strong>fest assertions</strong></a>.\nThey have <strong>a few advantages over hamcrest</strong> such as:</p>\n\n<ul>\n<li>they are more readable<br>\n(<code>assertEquals(123, actual); // reads \"assert equals 123 is actual\"</code> vs<br>\n<code>assertThat(actual).isEqualTo(123); // reads \"assert that actual is equal to 123\")</code></li>\n<li>they are discoverable (<a href=\"https://github.com/alexruiz/fest-assert-2.x/wiki/Tips-and-tricks#wiki-ide-automatic-static-import\" rel=\"noreferrer\">you can make autocompletion work with any IDE</a>).</li>\n</ul>\n\n<h2>Some examples</h2>\n\n<pre><code>import static org.fest.assertions.api.Assertions.*;\n\n// common assertions\nassertThat(yoda).isInstanceOf(Jedi.class);\nassertThat(frodo.getName()).isEqualTo(\"Frodo\");\nassertThat(frodo).isNotEqualTo(sauron);\nassertThat(frodo).isIn(fellowshipOfTheRing);\nassertThat(sauron).isNotIn(fellowshipOfTheRing);\n\n// String specific assertions\nassertThat(frodo.getName()).startsWith(\"Fro\").endsWith(\"do\")\n                           .isEqualToIgnoringCase(\"frodo\");\n\n// collection specific assertions\nassertThat(fellowshipOfTheRing).hasSize(9)\n                               .contains(frodo, sam)\n                               .excludes(sauron);\n\n\n// map specific assertions (One ring and elves ring bearers initialized before)\nassertThat(ringBearers).hasSize(4)\n                       .includes(entry(Ring.oneRing, frodo), entry(Ring.nenya, galadriel))\n                       .excludes(entry(Ring.oneRing, aragorn));\n</code></pre>\n\n<hr>\n\n<h1>October 17th, 2016 Update</h1>\n\n<p>Fest is not active anymore, use <a href=\"http://joel-costigliola.github.io/assertj\" rel=\"noreferrer\"><strong>AssertJ</strong></a> instead.</p>\n"},{"comments":[{"owner":{"account_id":5113743,"reputation":2236,"user_id":4099598,"display_name":"Nathan Tuggy"},"score":4,"creation_date":1422749339,"post_id":28257866,"comment_id":44874079,"body_markdown":"OK, and? I recommend supporting your argument by explaining why that&#39;s a good thing.","body":"OK, and? I recommend supporting your argument by explaining why that&#39;s a good thing."}],"tags":[],"owner":{"account_id":5715419,"reputation":31,"user_id":4515828,"display_name":"user4515828"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422919986,"creation_date":1422747923,"answer_id":28257866,"question_id":1701113,"body_markdown":"&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    assertThat(frodo.getName()).isEqualTo(&quot;Frodo&quot;);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIs close to natural language.\r\n\r\nEasier read, easier analyze code.\r\nProgramer spend more time to analyze code than write new one. So if code will be easy to analyze then developer should be more productive.\r\n\r\nP.S.\r\nCode should be as well-written book.\r\nSelf documented code.","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<pre class=\"lang-java prettyprint-override\"><code>assertThat(frodo.getName()).isEqualTo(\"Frodo\");\n</code></pre>\n\n<p>Is close to natural language.</p>\n\n<p>Easier read, easier analyze code.\nProgramer spend more time to analyze code than write new one. So if code will be easy to analyze then developer should be more productive.</p>\n\n<p>P.S.\nCode should be as well-written book.\nSelf documented code.</p>\n"},{"tags":[],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506234723,"creation_date":1506234723,"answer_id":46387283,"question_id":1701113,"body_markdown":"there are advantages to assertThat over assertEquals -   \r\n 1) more readable  \r\n 2) more information on failure  \r\n 3) compile time errors - rather than run time errors  \r\n 4) flexibility with writing test conditions  \r\n 5) portable - if you are using hamcrest - you can use  jUnit or TestNG as the underlying framework. ","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>there are advantages to assertThat over assertEquals -<br>\n 1) more readable<br>\n 2) more information on failure<br>\n 3) compile time errors - rather than run time errors<br>\n 4) flexibility with writing test conditions<br>\n 5) portable - if you are using hamcrest - you can use  jUnit or TestNG as the underlying framework. </p>\n"}],"owner":{"display_name":"Peter Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62755,"favorite_count":0,"down_vote_count":0,"up_vote_count":169,"answer_count":7,"score":169,"last_activity_date":1700621441,"creation_date":1257774996,"question_id":1701113,"body_markdown":"When I look at the examples in the Assert class JavaDoc\r\n\r\n    assertThat(&quot;Help! Integers don&#39;t work&quot;, 0, is(1)); // fails:\r\n    // failure message:\r\n    // Help! Integers don&#39;t work\r\n    // expected: is &lt;1&gt; \r\n    // got value: &lt;0&gt;\r\n    assertThat(&quot;Zero is one&quot;, 0, is(not(1))) // passes\r\n\r\nI don&#39;t see a big advantage over, let&#39;s say, `assertEquals( 0, 1 )`.\r\n\r\nIt&#39;s nice maybe for the messages if the constructs get more complicated, but do you see more advantages? Readability?\r\n\r\n","title":"Why should I use Hamcrest matcher and assertThat() instead of traditional assertXXX() methods?","body":"<p>When I look at the examples in the Assert class JavaDoc</p>\n<pre><code>assertThat(&quot;Help! Integers don't work&quot;, 0, is(1)); // fails:\n// failure message:\n// Help! Integers don't work\n// expected: is &lt;1&gt; \n// got value: &lt;0&gt;\nassertThat(&quot;Zero is one&quot;, 0, is(not(1))) // passes\n</code></pre>\n<p>I don't see a big advantage over, let's say, <code>assertEquals( 0, 1 )</code>.</p>\n<p>It's nice maybe for the messages if the constructs get more complicated, but do you see more advantages? Readability?</p>\n"},{"tags":["java","spring","postman"],"comments":[{"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"score":0,"creation_date":1656495653,"post_id":72799167,"comment_id":128584700,"body_markdown":"also i turned off SSL certificate","body":"also i turned off SSL certificate"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1656496290,"post_id":72799167,"comment_id":128584956,"body_markdown":"Usually means the resource you are requesting isn&#39;t found or you are hitting the wrong URL, Check your hostname, endpoint, resource requested, SSL certificate required if any !","body":"Usually means the resource you are requesting isn&#39;t found or you are hitting the wrong URL, Check your hostname, endpoint, resource requested, SSL certificate required if any !"}],"answers":[{"tags":[],"owner":{"account_id":2130018,"reputation":235,"user_id":1891053,"display_name":"Pacurar Stefan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700618841,"creation_date":1700618841,"answer_id":77526957,"question_id":72799167,"body_markdown":"In my case(C# + IIS) one property from response was missing a\r\n\r\n    set {}\r\nbecause it was a calculated property( only get{} )","title":"Postman is giving me error &quot;Error: read ECONNRESET&quot;","body":"<p>In my case(C# + IIS) one property from response was missing a</p>\n<pre><code>set {}\n</code></pre>\n<p>because it was a calculated property( only get{} )</p>\n"}],"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700618841,"creation_date":1656495620,"question_id":72799167,"body_markdown":"I wanted to test my new API, but it was giving me error with ```Postman``` \r\nso i redownloaded it and in the initial page it was a test api : ```http://github.com/user/repo/main/db.json```\r\nWith GetMethod i just sent there but it is giving me error in console:\r\n```\r\nError: read ECONNRESET\r\nProxy\r\nid: &quot;f36a2318-be97-400f-b630-26aeb0b38f8e&quot;\r\ndisabled: false\r\nhost: &quot;121.0.0.1&quot;\r\nmatch: {}\r\nport: 8080\r\ntunnel: false\r\nauthenticate: false\r\nRequest Headers\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept: */*\r\nCache-Control: no-cache\r\nPostman-Token: 48e66b61-7f3b-4f15-b0c2-f266c066e9ec\r\nHost: github.com\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\n```\r\nAnd in response i am getting \r\n```\r\nCould not send request\r\nError: getaddrinfo ENOTFOUND user\r\n\r\n```\r\nWhat i am doing wrong , and why it is giving me error, i just newly donwloaded it: \r\nHere is my Headers: \r\n[it was also automatically there ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UZwDP.png","title":"Postman is giving me error &quot;Error: read ECONNRESET&quot;","body":"<p>I wanted to test my new API, but it was giving me error with <code>Postman</code>\nso i redownloaded it and in the initial page it was a test api : <code>http://github.com/user/repo/main/db.json</code>\nWith GetMethod i just sent there but it is giving me error in console:</p>\n<pre><code>Error: read ECONNRESET\nProxy\nid: &quot;f36a2318-be97-400f-b630-26aeb0b38f8e&quot;\ndisabled: false\nhost: &quot;121.0.0.1&quot;\nmatch: {}\nport: 8080\ntunnel: false\nauthenticate: false\nRequest Headers\nUser-Agent: PostmanRuntime/7.29.0\nAccept: */*\nCache-Control: no-cache\nPostman-Token: 48e66b61-7f3b-4f15-b0c2-f266c066e9ec\nHost: github.com\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\n</code></pre>\n<p>And in response i am getting</p>\n<pre><code>Could not send request\nError: getaddrinfo ENOTFOUND user\n\n</code></pre>\n<p>What i am doing wrong , and why it is giving me error, i just newly donwloaded it:\nHere is my Headers:\n<a href=\"https://i.stack.imgur.com/UZwDP.png\" rel=\"nofollow noreferrer\">it was also automatically there </a></p>\n"},{"tags":["java","maven","intellij-idea","junit","junit4"],"answers":[{"tags":[],"owner":{"account_id":7749818,"reputation":175,"user_id":5866097,"display_name":"Niks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454678007,"creation_date":1454678007,"answer_id":35225165,"question_id":35211102,"body_markdown":"You can try this :\r\n\r\n    mvn clean install -Dtest=MigratorTestSuite test ","title":"No tests found for parameterized JUnit4 test","body":"<p>You can try this :</p>\n\n<pre><code>mvn clean install -Dtest=MigratorTestSuite test \n</code></pre>\n"},{"tags":[],"owner":{"account_id":55217,"reputation":8498,"user_id":165292,"display_name":"avandeursen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454712261,"creation_date":1454712261,"answer_id":35234818,"question_id":35211102,"body_markdown":"The `data` method should return a collection of object arrays, i.e., `Collection&lt;Object[]&gt;`. Each object array is a test vector, containing, e.g., an input String and an expected outcome.\n\nThe test class constructor should take as arguments the elements of the test vector. In the example above, it would take a String  and an outcome argument, which you would typically store in a field, so that the actual test case can use it. For each test vector, a new instance of the test class is created.\n\nIn your case, it seems you want to use a series of scenarios as parameters.\n\nTherefore, your data method should return a collection of scenario-*arrays* (with each array of length 1), and your constructor should consume a *single* scenario (instead of the full collection; so there is no need to &#39;peek&#39; around).\n","title":"No tests found for parameterized JUnit4 test","body":"<p>The <code>data</code> method should return a collection of object arrays, i.e., <code>Collection&lt;Object[]&gt;</code>. Each object array is a test vector, containing, e.g., an input String and an expected outcome.</p>\n\n<p>The test class constructor should take as arguments the elements of the test vector. In the example above, it would take a String  and an outcome argument, which you would typically store in a field, so that the actual test case can use it. For each test vector, a new instance of the test class is created.</p>\n\n<p>In your case, it seems you want to use a series of scenarios as parameters.</p>\n\n<p>Therefore, your data method should return a collection of scenario-<em>arrays</em> (with each array of length 1), and your constructor should consume a <em>single</em> scenario (instead of the full collection; so there is no need to 'peek' around).</p>\n"}],"owner":{"account_id":3995076,"reputation":432,"user_id":3292845,"accept_rate":48,"display_name":"Nana89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1926,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700618752,"creation_date":1454618136,"question_id":35211102,"body_markdown":"I&#39;m trying to parameterize a JUnit4 test from a `queue` previously set in one of my src/main classes. This is what I&#39;ve done so far, there&#39;s a class for the test suite (`MigratorTestSuite`)\r\n\r\n```java\r\n@RunWith(Suite.class)\r\n@Suite.SuiteClasses({ParameterizedTest.class})\r\npublic class MigratorTestSuite {\r\n    @BeforeClass\r\n    public static void setUp() throws SAXException, ParserConfigurationException, GitAPIException, IOException {\r\n        Migrator.getReady();\r\n    }\r\n\r\n    @AfterClass\r\n    public static void tearDown() throws SQLException {\r\n        DatabaseManager.closeConnections();\r\n        RepositoryManager.closeRepository();\r\n    }\r\n}\r\n```\r\n\r\nAnd a class `ParameterizedTest` where I&#39;m figuring out how to run a [parameterized JUnit test][1] which looks as follows:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class ParameterizedTest {\r\n    \r\n        @Parameterized.Parameters(name=&quot;whatever&quot;)\r\n        public static Queue&lt;Deque&lt;String&gt;&gt; data(){\r\n            return TestCasesConstructor.testCasesQueue;\r\n        }\r\n    \r\n        private Deque&lt;String&gt; scenario;\r\n    \r\n        public ParameterizedTest(Queue&lt;Deque&lt;String&gt;&gt; q){\r\n            scenario = q.peek();\r\n        }\r\n    \r\n        @Before\r\n        public void initialize() throws ParserConfigurationException, IOException, SQLException, ClassNotFoundException {\r\n    \r\n            System.out.println(&quot;--- Preparing database for running scripts&quot;);\r\n            DatabaseManager.dropDatabase();\r\n            DatabaseManager.createDatabase();\r\n        }\r\n    \r\n        @Test\r\n        public void testPlainMigration() throws Exception {\r\n            Assert.assertTrue(Migrator.runScenario(this.scenario));\r\n        }\r\n    \r\n        @After\r\n        public void after() throws SQLException {\r\n            DatabaseManager.closeConnections();\r\n            TestCasesConstructor.testCasesQueue.remove();\r\n        }\r\n    }\r\n\r\nWhen I perform a `mvn clean install test -Dtest=MigratorTestSuite` the result is that it doesn&#39;t find any test and when I debug it, it shows:\r\n\r\n&gt; No tests found matching data with any parameter from `org.junit.runner.Request`\r\n&gt; at `org.junit.internal.requests.FilterRequest.getRunner`\r\n\r\nWhat am I doing wrong? Should I better implement it in TestNG? I&#39;m really new to Junit.\r\n\r\n  [1]: https://stackoverflow.com/questions/358802/junit-test-with-dynamic-number-of-tests","title":"No tests found for parameterized JUnit4 test","body":"<p>I'm trying to parameterize a JUnit4 test from a <code>queue</code> previously set in one of my src/main classes. This is what I've done so far, there's a class for the test suite (<code>MigratorTestSuite</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(Suite.class)\n@Suite.SuiteClasses({ParameterizedTest.class})\npublic class MigratorTestSuite {\n    @BeforeClass\n    public static void setUp() throws SAXException, ParserConfigurationException, GitAPIException, IOException {\n        Migrator.getReady();\n    }\n\n    @AfterClass\n    public static void tearDown() throws SQLException {\n        DatabaseManager.closeConnections();\n        RepositoryManager.closeRepository();\n    }\n}\n</code></pre>\n<p>And a class <code>ParameterizedTest</code> where I'm figuring out how to run a <a href=\"https://stackoverflow.com/questions/358802/junit-test-with-dynamic-number-of-tests\">parameterized JUnit test</a> which looks as follows:</p>\n<pre><code>@RunWith(Parameterized.class)\npublic class ParameterizedTest {\n\n    @Parameterized.Parameters(name=&quot;whatever&quot;)\n    public static Queue&lt;Deque&lt;String&gt;&gt; data(){\n        return TestCasesConstructor.testCasesQueue;\n    }\n\n    private Deque&lt;String&gt; scenario;\n\n    public ParameterizedTest(Queue&lt;Deque&lt;String&gt;&gt; q){\n        scenario = q.peek();\n    }\n\n    @Before\n    public void initialize() throws ParserConfigurationException, IOException, SQLException, ClassNotFoundException {\n\n        System.out.println(&quot;--- Preparing database for running scripts&quot;);\n        DatabaseManager.dropDatabase();\n        DatabaseManager.createDatabase();\n    }\n\n    @Test\n    public void testPlainMigration() throws Exception {\n        Assert.assertTrue(Migrator.runScenario(this.scenario));\n    }\n\n    @After\n    public void after() throws SQLException {\n        DatabaseManager.closeConnections();\n        TestCasesConstructor.testCasesQueue.remove();\n    }\n}\n</code></pre>\n<p>When I perform a <code>mvn clean install test -Dtest=MigratorTestSuite</code> the result is that it doesn't find any test and when I debug it, it shows:</p>\n<blockquote>\n<p>No tests found matching data with any parameter from <code>org.junit.runner.Request</code>\nat <code>org.junit.internal.requests.FilterRequest.getRunner</code></p>\n</blockquote>\n<p>What am I doing wrong? Should I better implement it in TestNG? I'm really new to Junit.</p>\n"},{"tags":["java","tls1.2"],"answers":[{"comments":[{"owner":{"account_id":135406,"reputation":5526,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"score":0,"creation_date":1591107715,"post_id":62154135,"comment_id":109926205,"body_markdown":"thanks for the reply. ..my question is also whether mentioning the protocol name as &quot;SSL&quot; while SSLContext initilziation as per my code will point to TLSv1.2 ?","body":"thanks for the reply. ..my question is also whether mentioning the protocol name as &quot;SSL&quot; while SSLContext initilziation as per my code will point to TLSv1.2 ?"},{"owner":{"account_id":1448931,"reputation":498,"user_id":1366503,"display_name":"Alok Singh"},"score":0,"creation_date":1591109124,"post_id":62154135,"comment_id":109927014,"body_markdown":"If you want to use default then call should use getDefault instead of getInstance.","body":"If you want to use default then call should use getDefault instead of getInstance."},{"owner":{"account_id":135406,"reputation":5526,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"score":0,"creation_date":1591109314,"post_id":62154135,"comment_id":109927134,"body_markdown":"yes understand that...but wanted to check if the protocol name is just an alias but java runtime selects the default TLS version for protocol...i have updated my question if it was not clear.","body":"yes understand that...but wanted to check if the protocol name is just an alias but java runtime selects the default TLS version for protocol...i have updated my question if it was not clear."},{"owner":{"account_id":1448931,"reputation":498,"user_id":1366503,"display_name":"Alok Singh"},"score":1,"creation_date":1591110439,"post_id":62154135,"comment_id":109927794,"body_markdown":"Require some experiment by setting different value and tracing packets using tcpdump. The API doc https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#SSLContext is not very clear.","body":"Require some experiment by setting different value and tracing packets using tcpdump. The API doc <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#SSLContext\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/security/&hellip;</a> is not very clear."},{"owner":{"account_id":135406,"reputation":5526,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"score":1,"creation_date":1591113944,"post_id":62154135,"comment_id":109929969,"body_markdown":"i ran my code against and captured the request through fiddler...at least fiddler says that it is sending TLS 1.2 request ...updated the post above","body":"i ran my code against and captured the request through fiddler...at least fiddler says that it is sending TLS 1.2 request ...updated the post above"}],"tags":[],"owner":{"account_id":1448931,"reputation":498,"user_id":1366503,"display_name":"Alok Singh"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591107515,"creation_date":1591107515,"answer_id":62154135,"question_id":62153847,"body_markdown":"Yes. In Java 7, server side default TLS version was 1.2. In Java 8 both server and client have default TLS version 1.2.\r\n\r\nAs TLS version is backward compatible on both side unless server is configured strictly to specific version should not be an issue.","title":"TLS version used in JDK 8","body":"<p>Yes. In Java 7, server side default TLS version was 1.2. In Java 8 both server and client have default TLS version 1.2.</p>\n\n<p>As TLS version is backward compatible on both side unless server is configured strictly to specific version should not be an issue.</p>\n"}],"owner":{"account_id":135406,"reputation":5526,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10919,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700618610,"creation_date":1591106549,"question_id":62153847,"body_markdown":"We initialise our SSL context with the following code and are running on Java 8.\r\n\r\n    SSLContext context = SSLContext.getInstance(&quot;SSL&quot;);\r\n\r\nSince Java 8 uses TLSv1.2 by default? Does it mean the above code will start sending TLSv1.2 requests if my server supports it.\r\n\r\nWant to understand if &quot;SSL&quot; protocol name is just an alias but java runtime starts sending the requests with default TLS version.\r\n\r\n**UPDATE**\r\n\r\nI ran my code against &quot;https://www.google.co.in/&quot; and found this in fiddler\r\n\r\n    A SSLv3-compatible ClientHello handshake was found. Fiddler extracted the parameters below.\r\n    \r\n    Version: 3.3 (TLS/1.2\r\n\r\nAnd also if i change my protocol to TLSv1 which only supports 1.0. Then Fiddler tells me\r\n\r\n    A SSLv3-compatible ClientHello handshake was found. Fiddler extracted the parameters below.\r\n    \r\n    Version: 3.1 (TLS/1.0)\r\n\r\nSo, I guess the above code with &quot;SSL&quot; protocol name should work well with TLS 1.2 servers.\r\n","title":"TLS version used in JDK 8","body":"<p>We initialise our SSL context with the following code and are running on Java 8.</p>\n\n<pre><code>SSLContext context = SSLContext.getInstance(\"SSL\");\n</code></pre>\n\n<p>Since Java 8 uses TLSv1.2 by default? Does it mean the above code will start sending TLSv1.2 requests if my server supports it.</p>\n\n<p>Want to understand if \"SSL\" protocol name is just an alias but java runtime starts sending the requests with default TLS version.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I ran my code against \"<a href=\"https://www.google.co.in/\" rel=\"nofollow noreferrer\">https://www.google.co.in/</a>\" and found this in fiddler</p>\n\n<pre><code>A SSLv3-compatible ClientHello handshake was found. Fiddler extracted the parameters below.\n\nVersion: 3.3 (TLS/1.2\n</code></pre>\n\n<p>And also if i change my protocol to TLSv1 which only supports 1.0. Then Fiddler tells me</p>\n\n<pre><code>A SSLv3-compatible ClientHello handshake was found. Fiddler extracted the parameters below.\n\nVersion: 3.1 (TLS/1.0)\n</code></pre>\n\n<p>So, I guess the above code with \"SSL\" protocol name should work well with TLS 1.2 servers.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1504100120,"post_id":45961893,"comment_id":78882188,"body_markdown":"Add the complete stacktarce","body":"Add the complete stacktarce"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1504100136,"post_id":45961893,"comment_id":78882208,"body_markdown":"Aside from the actual problem, modifying an enum value seems like a *really* bad idea to me. That&#39;s global state, basically.","body":"Aside from the actual problem, modifying an enum value seems like a <i>really</i> bad idea to me. That&#39;s global state, basically."},{"owner":{"account_id":2918019,"reputation":4374,"user_id":2500842,"accept_rate":85,"display_name":"Master Yoda"},"score":0,"creation_date":1504100195,"post_id":45961893,"comment_id":78882253,"body_markdown":"I was thinking the same thing. Why would you want to modify an existing enum anyway?","body":"I was thinking the same thing. Why would you want to modify an existing enum anyway?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1504100240,"post_id":45961893,"comment_id":78882303,"body_markdown":"I think op has not understand what an enum is for","body":"I think op has not understand what an enum is for"},{"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"score":0,"creation_date":1504100644,"post_id":45961893,"comment_id":78882644,"body_markdown":"Yes I agree with you but I didn&#39;t find a better solution. \nIf you have, i&#39;m listening carefully.\nTo explain quickly what I need : I have a text containing variables between hashtags, like #NAME_PEOPLE#. These variables have to be filled by my current user values. \nThe name of these variables must be available on the front side for the admin of the app.","body":"Yes I agree with you but I didn&#39;t find a better solution.  If you have, i&#39;m listening carefully. To explain quickly what I need : I have a text containing variables between hashtags, like #NAME_PEOPLE#. These variables have to be filled by my current user values.  The name of these variables must be available on the front side for the admin of the app."},{"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"score":1,"creation_date":1504100789,"post_id":45961893,"comment_id":78882759,"body_markdown":"What about a HashMap? key is the tag name and value the current value from the people object. This will work with concurrent threads, too. Your Enum solution will not ...","body":"What about a HashMap? key is the tag name and value the current value from the people object. This will work with concurrent threads, too. Your Enum solution will not ..."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1504100836,"post_id":45961893,"comment_id":78882802,"body_markdown":"What exactly does your `String textToTransform` contain? Is it possible that text matched by group 1 from `#(.*?)#` (here `FIRSTNAME_PEOPLE`) contains some extra (invisible) characters? Could you print its codepoints (result of `Arrays.toString(s.codePoints().toArray())`).","body":"What exactly does your <code>String textToTransform</code> contain? Is it possible that text matched by group 1 from <code>#(.*?)#</code> (here <code>FIRSTNAME_PEOPLE</code>) contains some extra (invisible) characters? Could you print its codepoints (result of <code>Arrays.toString(s.codePoints().toArray())</code>)."},{"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"score":0,"creation_date":1504101398,"post_id":45961893,"comment_id":78883303,"body_markdown":"A hashmap in an abstract class for example ? \n\nYes you are right, there was a space in the text, like #NAME_PEOPLE # \nThank you","body":"A hashmap in an abstract class for example ?   Yes you are right, there was a space in the text, like #NAME_PEOPLE #  Thank you"}],"answers":[{"comments":[{"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"score":0,"creation_date":1504101483,"post_id":45962410,"comment_id":78883370,"body_markdown":"Not possible for me, I need to keep the &quot;hashtag&quot; name somewhere because i need to give the list of them front side.","body":"Not possible for me, I need to keep the &quot;hashtag&quot; name somewhere because i need to give the list of them front side."},{"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"score":0,"creation_date":1504101886,"post_id":45962410,"comment_id":78883669,"body_markdown":"The other solution for me is to stored the hashtag names in the db and get them front side. But I would like to avoid db call.","body":"The other solution for me is to stored the hashtag names in the db and get them front side. But I would like to avoid db call."},{"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"score":1,"creation_date":1504101894,"post_id":45962410,"comment_id":78883676,"body_markdown":"Then save the tags in a ArrayList and you may add an additional contains check before the switch statement. But convert a String into an Enum to convert it back to a String makes somehow no sense to me.","body":"Then save the tags in a ArrayList and you may add an additional contains check before the switch statement. But convert a String into an Enum to convert it back to a String makes somehow no sense to me."},{"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"score":0,"creation_date":1504102411,"post_id":45962410,"comment_id":78884093,"body_markdown":"Ok i&#39;ll change to this. Thank you for your advices.","body":"Ok i&#39;ll change to this. Thank you for your advices."}],"tags":[],"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504101341,"creation_date":1504101341,"answer_id":45962410,"question_id":45961893,"body_markdown":"Drop the enum and do this :)\r\n\r\n    public String transform(String textToTransform, People people){\r\n        Pattern TAG_REGEX = Pattern.compile(&quot;#(.+?)#&quot;);\r\n        Matcher matcher = TAG_REGEX.matcher(textToTransform);\r\n        while (matcher.find()) {\r\n            String s = matcher.group(1);\r\n            String replaceWith = null;\r\n            switch (s) {\r\n                case &quot;FIRSTNAME_PEOPLE&quot;:\r\n                    replaceWith = people.getFirstName();\r\n                    break;\r\n                case &quot;NAME_PEOPLE&quot;:\r\n                    replaceWith = people.getName();\r\n                    break;\r\n                case &quot;ID&quot;:\r\n                    replaceWith = people.getEmail();\r\n                    break;\r\n                case &quot;PASS&quot;:\r\n                    replaceWith = people.getPassword();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            textToTransform = textToTransform.replace(&quot;#&quot; + s + &quot;#&quot;, replaceWith);\r\n        }\r\n        return textToTransform;\r\n    }","title":"java.lang.IllegalArgumentException: No enum constant","body":"<p>Drop the enum and do this :)</p>\n\n<pre><code>public String transform(String textToTransform, People people){\n    Pattern TAG_REGEX = Pattern.compile(\"#(.+?)#\");\n    Matcher matcher = TAG_REGEX.matcher(textToTransform);\n    while (matcher.find()) {\n        String s = matcher.group(1);\n        String replaceWith = null;\n        switch (s) {\n            case \"FIRSTNAME_PEOPLE\":\n                replaceWith = people.getFirstName();\n                break;\n            case \"NAME_PEOPLE\":\n                replaceWith = people.getName();\n                break;\n            case \"ID\":\n                replaceWith = people.getEmail();\n                break;\n            case \"PASS\":\n                replaceWith = people.getPassword();\n                break;\n            default:\n                break;\n        }\n        textToTransform = textToTransform.replace(\"#\" + s + \"#\", replaceWith);\n    }\n    return textToTransform;\n}\n</code></pre>\n"}],"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700618610,"creation_date":1504099984,"question_id":45961893,"body_markdown":"I have problems with my enum.\r\n\r\nHere it is :\r\n\r\n    public enum DataEnum {\r\n        NAME_PEOPLE(&quot;NAME_PEOPLE&quot;),\r\n        FIRSTNAME_PEOPLE(&quot;FIRSTNAME_PEOPLE&quot;),\r\n        ID(&quot;ID&quot;),\r\n        PASS(&quot;PASS&quot;),\r\n        NEW_MAIL(&quot;NEW_MAIL&quot;);\r\n    \r\n        private  String name;\r\n        private DataEnum(String s) {\r\n            name = s;\r\n        }\r\n        public String getValue() {\r\n            return name;\r\n        }\r\n        public void setValue(String s) {\r\n            this.name = s;\r\n        }\r\n    }\r\n\r\n\r\nI&#39;m using it there :\r\n\r\n    public String transform(String textToTransform, People people){\r\n            Pattern TAG_REGEX = Pattern.compile(&quot;#(.+?)#&quot;);\r\n            Matcher matcher = TAG_REGEX.matcher(textToTransform);\r\n            while (matcher.find()) {\r\n                String s = matcher.group(1);\r\n                switch (s) {\r\n                    case &quot;FIRSTNAME_PEOPLE&quot;:\r\n                        DataEnum.valueOf(s).setValue(people.getFirstName());\r\n                        break;\r\n                    case &quot;NAME_PEOPLE&quot;:\r\n                        DataEnum.valueOf(s).setValue(people.getName());\r\n                        break;\r\n                    case &quot;ID&quot;:\r\n                        DataEnum.valueOf(s).setValue(people.getEmail());\r\n                        break;\r\n                    case &quot;PASS&quot;:\r\n                        DataEnum.valueOf(s).setValue(people.getPassword());\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                textToTransform = textToTransform.replace(&quot;#&quot; + DataEnum.valueOf(s) + &quot;#&quot;, DataEnum.valueOf(s).getValue());\r\n            }\r\n            return textToTransform;\r\n        }\r\n\r\nAnd I get the following error :\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: No enum constant\r\n&gt; fr.pdf.utils.DataEnum.FIRSTNAME_PEOPLE\r\n\r\n\r\nEDIT :\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: No enum constant\r\n&gt; fr.pdf.utils.DataEnum.FIRSTNAME_PEOPLE  \tat\r\n&gt; java.lang.Enum.valueOf(Enum.java:238) \tat\r\n&gt; fr.pdf.utils.DataEnum.valueOf(DataEnum.java:3)\r\n&gt; \tat\r\n&gt; fr.pdf.services.impl.MailServiceImpl.transform(MailServiceImpl.java:160)\r\n&gt; \tat\r\n&gt; fr.pdf.services.impl.MailServiceImpl.sendMail(MailServiceImpl.java:84)\r\n&gt; \tat\r\n&gt; fr.pdf.dao.impl.People.update(People.java:372)\r\n\r\n\r\nLine 160 correspond to : \r\n\r\n    textToTransform = textToTransform.replace(&quot;#&quot; + DataEnum.valueOf(s) + &quot;#&quot;, DataEnum.valueOf(s).getValue());","title":"java.lang.IllegalArgumentException: No enum constant","body":"<p>I have problems with my enum.</p>\n\n<p>Here it is :</p>\n\n<pre><code>public enum DataEnum {\n    NAME_PEOPLE(\"NAME_PEOPLE\"),\n    FIRSTNAME_PEOPLE(\"FIRSTNAME_PEOPLE\"),\n    ID(\"ID\"),\n    PASS(\"PASS\"),\n    NEW_MAIL(\"NEW_MAIL\");\n\n    private  String name;\n    private DataEnum(String s) {\n        name = s;\n    }\n    public String getValue() {\n        return name;\n    }\n    public void setValue(String s) {\n        this.name = s;\n    }\n}\n</code></pre>\n\n<p>I'm using it there :</p>\n\n<pre><code>public String transform(String textToTransform, People people){\n        Pattern TAG_REGEX = Pattern.compile(\"#(.+?)#\");\n        Matcher matcher = TAG_REGEX.matcher(textToTransform);\n        while (matcher.find()) {\n            String s = matcher.group(1);\n            switch (s) {\n                case \"FIRSTNAME_PEOPLE\":\n                    DataEnum.valueOf(s).setValue(people.getFirstName());\n                    break;\n                case \"NAME_PEOPLE\":\n                    DataEnum.valueOf(s).setValue(people.getName());\n                    break;\n                case \"ID\":\n                    DataEnum.valueOf(s).setValue(people.getEmail());\n                    break;\n                case \"PASS\":\n                    DataEnum.valueOf(s).setValue(people.getPassword());\n                    break;\n                default:\n                    break;\n            }\n            textToTransform = textToTransform.replace(\"#\" + DataEnum.valueOf(s) + \"#\", DataEnum.valueOf(s).getValue());\n        }\n        return textToTransform;\n    }\n</code></pre>\n\n<p>And I get the following error :</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalArgumentException: No enum constant\n  fr.pdf.utils.DataEnum.FIRSTNAME_PEOPLE</p>\n</blockquote>\n\n<p>EDIT :</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalArgumentException: No enum constant\n  fr.pdf.utils.DataEnum.FIRSTNAME_PEOPLE    at\n  java.lang.Enum.valueOf(Enum.java:238)     at\n  fr.pdf.utils.DataEnum.valueOf(DataEnum.java:3)\n    at\n  fr.pdf.services.impl.MailServiceImpl.transform(MailServiceImpl.java:160)\n    at\n  fr.pdf.services.impl.MailServiceImpl.sendMail(MailServiceImpl.java:84)\n    at\n  fr.pdf.dao.impl.People.update(People.java:372)</p>\n</blockquote>\n\n<p>Line 160 correspond to : </p>\n\n<pre><code>textToTransform = textToTransform.replace(\"#\" + DataEnum.valueOf(s) + \"#\", DataEnum.valueOf(s).getValue());\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"score":0,"creation_date":1433426415,"post_id":30645727,"comment_id":49355551,"body_markdown":"you could add timer, so it will do clicks only for some period of time, or you could wait for key combination","body":"you could add timer, so it will do clicks only for some period of time, or you could wait for key combination"}],"answers":[{"comments":[{"owner":{"account_id":14972540,"reputation":1004,"user_id":10808912,"display_name":"itzjackyscode"},"score":0,"creation_date":1589114836,"post_id":30647070,"comment_id":109158588,"body_markdown":"There are libraries for global key listening.","body":"There are libraries for global key listening."}],"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433429179,"creation_date":1433429179,"answer_id":30647070,"question_id":30645727,"body_markdown":"Add a key listener to the frame, and when the key is pressed, stop the pressing. Note that this will not work if the frame goes out of focus, in which case you would have to listen for a global key press, which I believe would be much more difficult.","title":"How to make an Auto Clicker with Java?","body":"<p>Add a key listener to the frame, and when the key is pressed, stop the pressing. Note that this will not work if the frame goes out of focus, in which case you would have to listen for a global key press, which I believe would be much more difficult.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1697883538,"post_id":73756016,"comment_id":136337351,"body_markdown":"This in no way answers the questions asked.","body":"This in no way answers the questions asked."}],"tags":[],"owner":{"account_id":26364924,"reputation":1,"user_id":20020553,"display_name":"rayaan ali"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697883525,"creation_date":1663427417,"answer_id":73756016,"question_id":30645727,"body_markdown":"You can use this to end your program and try link it to the press of a button.\r\n\r\nCode:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Statement 1&quot;);\r\n            System.exit(0);\r\n            System.out.println(&quot;Statement 2&quot;);\r\n        }\r\n    }\r\n","title":"How to make an Auto Clicker with Java?","body":"<p>You can use this to end your program and try link it to the press of a button.</p>\n<p>Code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Statement 1&quot;);\n        System.exit(0);\n        System.out.println(&quot;Statement 2&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4827177,"reputation":9,"user_id":4969989,"display_name":"user8099"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12265,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1700618610,"creation_date":1433426041,"question_id":30645727,"body_markdown":"So I wanted to make a program that holds down the mouse button for me. \r\n\r\nSo far I&#39;ve got this: http://pastebin.com/UTJwdHY7\r\n\r\nWhat I&#39;m wondering is how I can stop it. Also, what I realise is that stopping the button makes no sense as I wouldn&#39;t be able to click it anyway. Also some tips on how I&#39;ve done so far would be nice.\r\n\r\nEdit (Adding code):\r\n    \r\n    package main;\r\n \r\n    import javax.swing.*;\r\n    import javax.swing.border.LineBorder;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.InputEvent;\r\n    import java.beans.PropertyChangeListener;\r\n \r\n    public class clickForever extends JFrame implements ActionListener {\r\n \r\n    public static boolean isClicking = false;\r\n \r\n    public void actionPerformed(ActionEvent e) {}\r\n \r\n    public void createFrame() { initComponents(); }\r\n \r\n    public void initComponents() {\r\n \r\n        JFrame frame = new JFrame(&quot;AutoClicker&quot;);\r\n        JPanel panel = new JPanel(true);\r\n        JButton button = new JButton(&quot;OKAY&quot;);\r\n        JLabel label = new JLabel();\r\n \r\n        frame.setVisible(true);\r\n        frame.setSize(350, 67);\r\n        frame.setResizable(false);\r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.getContentPane().add(panel, BorderLayout.CENTER);\r\n        frame.add(panel);\r\n       \r\n        button.addActionListener(new Action() {\r\n \r\n            @Override\r\n            public Object getValue(String s) {\r\n                return null;\r\n            }\r\n \r\n            @Override\r\n            public void putValue(String s, Object o) {}\r\n \r\n            @Override\r\n            public void setEnabled(boolean b) {}\r\n \r\n            @Override\r\n            public boolean isEnabled() {\r\n                return false;\r\n            }\r\n \r\n            @Override\r\n            public void addPropertyChangeListener(PropertyChangeListener propertyChangeListener) {}\r\n \r\n            @Override\r\n            public void removePropertyChangeListener(PropertyChangeListener propertyChangeListener) {}\r\n \r\n            @Override\r\n            public void actionPerformed(ActionEvent actionEvent) {\r\n \r\n                if(isClicking){isClicking = false; return;}\r\n                if(!isClicking){isClicking = true; return;}\r\n            }\r\n        });\r\n \r\n        label.setFont(new Font(&quot;Times New Roman&quot;, 1, 16));\r\n        label.setText(&quot;Click &#39;OKAY&#39; to start.&quot;);\r\n        label.setBorder(BorderFactory.createLineBorder(Color.black));\r\n \r\n        panel.add(label);\r\n        panel.setBorder(new LineBorder(Color.BLACK));\r\n        panel.add(button);\r\n \r\n    }\r\n \r\n    public static void main(String[] args) throws java.awt.AWTException, java.lang.InterruptedException {\r\n        clickForever clickForever = new clickForever();\r\n        Robot rbt = new Robot();\r\n \r\n        clickForever.createFrame();\r\n \r\n        while(true){\r\n            if(isClicking) rbt.mousePress(InputEvent.BUTTON1_MASK);\r\n            if(!isClicking) ;\r\n        }\r\n      }\r\n    }","title":"How to make an Auto Clicker with Java?","body":"<p>So I wanted to make a program that holds down the mouse button for me. </p>\n\n<p>So far I've got this: <a href=\"http://pastebin.com/UTJwdHY7\" rel=\"nofollow\">http://pastebin.com/UTJwdHY7</a></p>\n\n<p>What I'm wondering is how I can stop it. Also, what I realise is that stopping the button makes no sense as I wouldn't be able to click it anyway. Also some tips on how I've done so far would be nice.</p>\n\n<p>Edit (Adding code):</p>\n\n<pre><code>package main;\n\nimport javax.swing.*;\nimport javax.swing.border.LineBorder;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.InputEvent;\nimport java.beans.PropertyChangeListener;\n\npublic class clickForever extends JFrame implements ActionListener {\n\npublic static boolean isClicking = false;\n\npublic void actionPerformed(ActionEvent e) {}\n\npublic void createFrame() { initComponents(); }\n\npublic void initComponents() {\n\n    JFrame frame = new JFrame(\"AutoClicker\");\n    JPanel panel = new JPanel(true);\n    JButton button = new JButton(\"OKAY\");\n    JLabel label = new JLabel();\n\n    frame.setVisible(true);\n    frame.setSize(350, 67);\n    frame.setResizable(false);\n    frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    frame.setLocationRelativeTo(null);\n    frame.getContentPane().add(panel, BorderLayout.CENTER);\n    frame.add(panel);\n\n    button.addActionListener(new Action() {\n\n        @Override\n        public Object getValue(String s) {\n            return null;\n        }\n\n        @Override\n        public void putValue(String s, Object o) {}\n\n        @Override\n        public void setEnabled(boolean b) {}\n\n        @Override\n        public boolean isEnabled() {\n            return false;\n        }\n\n        @Override\n        public void addPropertyChangeListener(PropertyChangeListener propertyChangeListener) {}\n\n        @Override\n        public void removePropertyChangeListener(PropertyChangeListener propertyChangeListener) {}\n\n        @Override\n        public void actionPerformed(ActionEvent actionEvent) {\n\n            if(isClicking){isClicking = false; return;}\n            if(!isClicking){isClicking = true; return;}\n        }\n    });\n\n    label.setFont(new Font(\"Times New Roman\", 1, 16));\n    label.setText(\"Click 'OKAY' to start.\");\n    label.setBorder(BorderFactory.createLineBorder(Color.black));\n\n    panel.add(label);\n    panel.setBorder(new LineBorder(Color.BLACK));\n    panel.add(button);\n\n}\n\npublic static void main(String[] args) throws java.awt.AWTException, java.lang.InterruptedException {\n    clickForever clickForever = new clickForever();\n    Robot rbt = new Robot();\n\n    clickForever.createFrame();\n\n    while(true){\n        if(isClicking) rbt.mousePress(InputEvent.BUTTON1_MASK);\n        if(!isClicking) ;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","java-8","instanceof"],"answers":[{"comments":[{"owner":{"account_id":1768620,"reputation":4271,"user_id":1613902,"accept_rate":45,"display_name":"Pracede"},"score":0,"creation_date":1424035692,"post_id":28531350,"comment_id":45377659,"body_markdown":"You mean i can add this logic in new ResponseEntity ?","body":"You mean i can add this logic in new ResponseEntity ?"},{"owner":{"account_id":3766938,"reputation":1294,"user_id":3130218,"accept_rate":86,"display_name":"bb94"},"score":0,"creation_date":1424035732,"post_id":28531350,"comment_id":45377676,"body_markdown":"Yes, that would go in place of the UserDTO constructor call.","body":"Yes, that would go in place of the UserDTO constructor call."},{"owner":{"account_id":3766938,"reputation":1294,"user_id":3130218,"accept_rate":86,"display_name":"bb94"},"score":0,"creation_date":1424036974,"post_id":28531350,"comment_id":45378094,"body_markdown":"@Pracade yes, you can.","body":"@Pracade yes, you can."}],"tags":[],"owner":{"account_id":3766938,"reputation":1294,"user_id":3130218,"accept_rate":86,"display_name":"bb94"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700618153,"creation_date":1424035530,"answer_id":28531350,"question_id":28531305,"body_markdown":"The way you did it. However, you will have to cast `u` to the type you want.\r\n\r\n    if (u instanceof Admin) {\r\n        Admin a = (Admin) u;\r\n        // your logic\r\n    }\r\n\r\n**Edit:** As of Java 14, you can also do this:\r\n\r\n```java\r\nif (u instanceof Admin a) {\r\n    // your logic\r\n}\r\n```","title":"How to write instanceof with Java 8?","body":"<p>The way you did it. However, you will have to cast <code>u</code> to the type you want.</p>\n<pre><code>if (u instanceof Admin) {\n    Admin a = (Admin) u;\n    // your logic\n}\n</code></pre>\n<p><strong>Edit:</strong> As of Java 14, you can also do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (u instanceof Admin a) {\n    // your logic\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1424036049,"creation_date":1424035723,"answer_id":28531381,"question_id":28531305,"body_markdown":"You would do it like this :\r\n\r\n    @RequestMapping(value = &quot;/account&quot;,\r\n                method = RequestMethod.GET,\r\n                produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;UserDTO&gt; getAccount() {\r\n            return Optional.ofNullable(userService.getUserWithAuthorities())\r\n                .map(user -&gt; {\r\n                    if (user instanceof Admin) {\r\n                        //...\r\n                    }\r\n                    return new ResponseEntity&lt;&gt;(new UserDTO(...), HttpStatus.OK);\r\n                })\r\n                .orElse(new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR));\r\n        }\r\n\r\nHowever, if you can, avoid the `instanceof` operator. Add a `isAdmin` method to your `User` class : in class `Admin`, it would return `true` and in class `NormalUser`, it would return `false`.","title":"How to write instanceof with Java 8?","body":"<p>You would do it like this :</p>\n\n<pre><code>@RequestMapping(value = \"/account\",\n            method = RequestMethod.GET,\n            produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;UserDTO&gt; getAccount() {\n        return Optional.ofNullable(userService.getUserWithAuthorities())\n            .map(user -&gt; {\n                if (user instanceof Admin) {\n                    //...\n                }\n                return new ResponseEntity&lt;&gt;(new UserDTO(...), HttpStatus.OK);\n            })\n            .orElse(new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR));\n    }\n</code></pre>\n\n<p>However, if you can, avoid the <code>instanceof</code> operator. Add a <code>isAdmin</code> method to your <code>User</code> class : in class <code>Admin</code>, it would return <code>true</code> and in class <code>NormalUser</code>, it would return <code>false</code>.</p>\n"}],"owner":{"account_id":1768620,"reputation":4271,"user_id":1613902,"accept_rate":45,"display_name":"Pracede"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21912,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28531381,"answer_count":2,"score":3,"last_activity_date":1700618153,"creation_date":1424035232,"question_id":28531305,"body_markdown":"I am new in Java 8 Optional. I have to change the following code : \r\n\r\n      \r\n \r\n\r\n    @RequestMapping(value = &quot;/account&quot;,\r\n                method = RequestMethod.GET,\r\n                produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;UserDTO&gt; getAccount() {\r\n        return \r\n        \tOptional.ofNullable(userService.getUserWithAuthorities())\r\n            .map(user -&gt; \r\n            \tnew ResponseEntity&lt;&gt;(\r\n            \t\tnew UserDTO(\r\n\t                    user.getLogin(),\r\n\t                    null,\r\n\t                    user.getFirstName(),\r\n\t                    user.getLastName(),\r\n\t                    user.getEmail(),\r\n\t                    &quot;&quot;,\r\n\t                    user.getLangKey(),\r\n\t                    user.getAuthorities()\r\n\t                        .stream()\r\n\t                        .map(Authority::getName)\r\n\t                        .collect(Collectors.toList())\r\n                \t),\r\n                \tHttpStatus.OK\r\n                )\r\n            )\r\n            .orElse(new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR));\r\n    }\r\n\r\nI want to create a different ResponseEntity according to the instance of `user`.\r\nHow i can write the equivalent of the following code:\r\n\r\n    if(user instanceof Admin )\r\n    {\r\n    // my logic\r\n    }\r\n    else if(user instanceof NormalUser)\r\n    {\r\n    // my logic\r\n    }\r\n\r\nThanks","title":"How to write instanceof with Java 8?","body":"<p>I am new in Java 8 Optional. I have to change the following code : </p>\n\n<pre><code>@RequestMapping(value = \"/account\",\n            method = RequestMethod.GET,\n            produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;UserDTO&gt; getAccount() {\n    return \n        Optional.ofNullable(userService.getUserWithAuthorities())\n        .map(user -&gt; \n            new ResponseEntity&lt;&gt;(\n                new UserDTO(\n                    user.getLogin(),\n                    null,\n                    user.getFirstName(),\n                    user.getLastName(),\n                    user.getEmail(),\n                    \"\",\n                    user.getLangKey(),\n                    user.getAuthorities()\n                        .stream()\n                        .map(Authority::getName)\n                        .collect(Collectors.toList())\n                ),\n                HttpStatus.OK\n            )\n        )\n        .orElse(new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR));\n}\n</code></pre>\n\n<p>I want to create a different ResponseEntity according to the instance of <code>user</code>.\nHow i can write the equivalent of the following code:</p>\n\n<pre><code>if(user instanceof Admin )\n{\n// my logic\n}\nelse if(user instanceof NormalUser)\n{\n// my logic\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","mongodb","spring-boot","kotlin"],"comments":[{"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"score":0,"creation_date":1700617859,"post_id":77332298,"comment_id":136675945,"body_markdown":"Ultimately, I went with option 2 as it was quite easy to do on application startup. First an extension:","body":"Ultimately, I went with option 2 as it was quite easy to do on application startup. First an extension:"}],"answers":[{"tags":[],"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700618005,"creation_date":1700618005,"answer_id":77526922,"question_id":77332298,"body_markdown":"Ultimately, I went with option 2 as it turned out to be quite easy to enable `changeStreamPreAndPostImages` on application start up. I created an extension on the mongo client:\r\n\r\n```\r\nfun MongoDatabase.enablePreImageChangeStream(collection: String) {\r\n    this.runCommand(\r\n        BsonDocument.parse(\r\n            &quot;&quot;&quot;\r\n               {\r\n                   &quot;collMod&quot;: &quot;$collection&quot;,\r\n                   &quot;changeStreamPreAndPostImages&quot;: { &quot;enabled&quot;: true }\r\n               }\r\n            &quot;&quot;&quot;\r\n        )\r\n    )\r\n}\r\n```\r\n\r\nThen on application start up I did:\r\n```\r\n@Configuration\r\nclass ChangeStreamConfiguration(\r\n    private val mongoTemplate: MongoTemplate,\r\n) {\r\n    init {\r\n        mongoTemplate.db.enablePreImageChangeStream(&quot;&lt;collection name here&gt;&quot;)\r\n\r\n  }\r\n}\r\n```","title":"Generating mongodb update query dynamically in Spring Data","body":"<p>Ultimately, I went with option 2 as it turned out to be quite easy to enable <code>changeStreamPreAndPostImages</code> on application start up. I created an extension on the mongo client:</p>\n<pre><code>fun MongoDatabase.enablePreImageChangeStream(collection: String) {\n    this.runCommand(\n        BsonDocument.parse(\n            &quot;&quot;&quot;\n               {\n                   &quot;collMod&quot;: &quot;$collection&quot;,\n                   &quot;changeStreamPreAndPostImages&quot;: { &quot;enabled&quot;: true }\n               }\n            &quot;&quot;&quot;\n        )\n    )\n}\n</code></pre>\n<p>Then on application start up I did:</p>\n<pre><code>@Configuration\nclass ChangeStreamConfiguration(\n    private val mongoTemplate: MongoTemplate,\n) {\n    init {\n        mongoTemplate.db.enablePreImageChangeStream(&quot;&lt;collection name here&gt;&quot;)\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77526922,"answer_count":1,"score":0,"last_activity_date":1700618005,"creation_date":1697817324,"question_id":77332298,"body_markdown":"I am currently implementing a Mongo ChangeStream poller in which I would like to monitor a collection for any changes. I was originally intending to write the updates to a change log and trigger some other actions. However, I found out that the `save()` call in Spring Data performs a document replace instead of update. Therefore, I only have access to the new document instead of the delta as would occur during an update.\r\n\r\nThere are two options I see:\r\n\r\n1. Replace the `save` call with something like `updateOne`\r\n2. Update the collection with `changeStreamPreAndPostImages` set to `true` and diff the two documents\r\n\r\nIf I go with option 1, I&#39;m wondering if there is an easy way to generate the update query dynamically based on the existing document and the updated document? Prior to the save/update I fetch the current document and update the values before saving again. I couldn&#39;t find any built in support. I&#39;m guessing I&#39;d have to take a reflection based approach, but I wanted to see if there&#39;s any existing solutions already.","title":"Generating mongodb update query dynamically in Spring Data","body":"<p>I am currently implementing a Mongo ChangeStream poller in which I would like to monitor a collection for any changes. I was originally intending to write the updates to a change log and trigger some other actions. However, I found out that the <code>save()</code> call in Spring Data performs a document replace instead of update. Therefore, I only have access to the new document instead of the delta as would occur during an update.</p>\n<p>There are two options I see:</p>\n<ol>\n<li>Replace the <code>save</code> call with something like <code>updateOne</code></li>\n<li>Update the collection with <code>changeStreamPreAndPostImages</code> set to <code>true</code> and diff the two documents</li>\n</ol>\n<p>If I go with option 1, I'm wondering if there is an easy way to generate the update query dynamically based on the existing document and the updated document? Prior to the save/update I fetch the current document and update the values before saving again. I couldn't find any built in support. I'm guessing I'd have to take a reflection based approach, but I wanted to see if there's any existing solutions already.</p>\n"},{"tags":["java","oracle","jdbc","mybatis","ibatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1684232258,"post_id":76260932,"comment_id":134484278,"body_markdown":"I left a comment on your earlier question, but I think you need to use `java.sql.Struct` there. See the [type handler](https://github.com/harawata/mybatis-issues/blob/master/so-56834806/src/test/java/test/UserListTypeHandler.java) in my demo.","body":"I left a comment on your earlier question, but I think you need to use <code>java.sql.Struct</code> there. See the <a href=\"https://github.com/harawata/mybatis-issues/blob/master/so-56834806/src/test/java/test/UserListTypeHandler.java\" rel=\"nofollow noreferrer\">type handler</a> in my demo."},{"owner":{"account_id":26965255,"reputation":13,"user_id":20532252,"display_name":"Emmanuele Guerriero"},"score":0,"creation_date":1684303713,"post_id":76260932,"comment_id":134496694,"body_markdown":"Thank you, i had to create a List&lt;Struct&gt; populated with Structs as in your code.","body":"Thank you, i had to create a List&lt;Struct&gt; populated with Structs as in your code."}],"owner":{"account_id":26965255,"reputation":13,"user_id":20532252,"display_name":"Emmanuele Guerriero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700617894,"creation_date":1684226252,"question_id":76260932,"body_markdown":"I have an issue in my TypeHandler using MyBatis. In the setParamter method which is called before calling my procedure, I create the java.sql.Array that I have to set in the PreparedStatement. Going in debug I see that the Array is created with his datumArray. This datumArray has correctly 2 internal datumArray that are null in the positions where I should find my Strings. \r\n\r\nThis is what I see in debug as my java.sql.Array arr:\r\n[![PrintScreen of the variables in debug](https://i.stack.imgur.com/tgF9G.png)](https://i.stack.imgur.com/tgF9G.png)\r\n\r\nThis is my TypeHandler:\r\n\r\n```\r\npublic class ElencoCampiTypeHandler implements TypeHandler&lt;ElencoCampiModificati&gt; {\r\n\r\n\t@Override\r\n\tpublic void setParameter(PreparedStatement ps, int i, ElencoCampiModificati parameter, JdbcType jdbcType)\r\n\t\t\tthrows SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tArray arr = ps.getConnection().unwrap(OracleConnection.class).createOracleArray(&quot;DYNAPP.V_ELENCO_CAMPI_MODIFICATI&quot;, Arrays.stream(parameter.getCampiModificati()).toArray());\r\n\t\tps.setArray(i, arr);\r\n\t}\r\n```\r\n\r\nThis is the parameter that is given to the setParameter method:\r\n\r\n```\r\n\t\tCampoModificato mod = new CampoModificato(&quot;CAMPO_MODIFICATO&quot;,&quot;VALORE_OLD&quot;,&quot;VALORE_NEW&quot;);\r\n\t\tCampoModificato mod1 = new CampoModificato(&quot;CAMPO_MODIFICATO1&quot;,&quot;VALORE_OLD1&quot;,&quot;VALORE_NEW1&quot;);\r\n\t\tCampoModificato[] arr = new CampoModificato[] {mod, mod1};\r\nElencoCampiModificati elenco = new ElencoCampiModificati(arr);\r\n```\r\n\r\nThis is the structure of ElencoCampiModificati:\r\n\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport java.sql.Array;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Arrays;\r\nimport java.util.Map;\r\n\r\npublic class ElencoCampiModificati implements Array{\r\n\tprivate CampoModificato[] campiModificati;\r\n\t\r\n\tpublic ElencoCampiModificati() {}\r\n\r\n\tpublic ElencoCampiModificati(CampoModificato[] campiModificati) {\r\n\t\tthis.campiModificati = campiModificati;\r\n\t}\r\n\r\n\tpublic CampoModificato[] getCampiModificati() {\r\n\t\treturn campiModificati;\r\n\t}\r\n\r\n\tpublic void setCampiModificati(CampoModificato[] campiModificati) {\r\n\t\tthis.campiModificati = campiModificati;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getBaseTypeName() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getBaseType() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t return campiModificati == null ? null : Arrays.copyOf(campiModificati, campiModificati.length);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn this.getArray();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(long index, int count) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn campiModificati == null ? null : Arrays.copyOfRange(campiModificati, (int)index, (int)index + count );\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn this.getArray(index, count);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(long index, int count) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void free() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nThis is the CampoModificato:\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport java.io.Serializable;\r\nimport java.sql.SQLData;\r\nimport java.sql.SQLException;\r\nimport java.sql.SQLInput;\r\nimport java.sql.SQLOutput;\r\n\r\npublic class CampoModificato implements SQLData, Serializable{\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate String nome_campo;\r\n\tprivate String valore_old;\r\n\tprivate String valore_new;\r\n\t\r\n\tpublic CampoModificato() {}\r\n\t\r\n\tpublic CampoModificato(String nome_campo, String valore_old, String valore_new) {\r\n\t\tthis.nome_campo = nome_campo;\r\n\t\tthis.valore_old = valore_old;\r\n\t\tthis.valore_new = valore_new;\r\n\t}\r\n\tpublic String getNomeCampo() {\r\n\t\treturn nome_campo;\r\n\t}\r\n\tpublic void setNomeCampo(String nome_campo) {\r\n\t\tthis.nome_campo = nome_campo;\r\n\t}\r\n\tpublic String getValoreOld() {\r\n\t\treturn valore_old;\r\n\t}\r\n\tpublic void setValoreOld(String valore_old) {\r\n\t\tthis.valore_old = valore_old;\r\n\t}\r\n\tpublic String getValoreNew() {\r\n\t\treturn valore_new;\r\n\t}\r\n\tpublic void setValoreNew(String valore_new) {\r\n\t\tthis.valore_new = valore_new;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getSQLTypeName() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn &quot;TY_CAMPI_MODIFICATI&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void readSQL(SQLInput stream, String typeName) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void writeSQL(SQLOutput stream) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI was trying to use others objects as ArrayDescriptor or ARRAY but are deprecated. I tried to use ps.getConnection().unwrap(OracleConnection.class).createARRAY or ps.getConnection().unwrap(OracleConnection.class).createArrayOf methods but the result is the same.","title":"CreateOracleArray of OracleConnection always create an array internally null","body":"<p>I have an issue in my TypeHandler using MyBatis. In the setParamter method which is called before calling my procedure, I create the java.sql.Array that I have to set in the PreparedStatement. Going in debug I see that the Array is created with his datumArray. This datumArray has correctly 2 internal datumArray that are null in the positions where I should find my Strings.</p>\n<p>This is what I see in debug as my java.sql.Array arr:\n<a href=\"https://i.stack.imgur.com/tgF9G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tgF9G.png\" alt=\"PrintScreen of the variables in debug\" /></a></p>\n<p>This is my TypeHandler:</p>\n<pre><code>public class ElencoCampiTypeHandler implements TypeHandler&lt;ElencoCampiModificati&gt; {\n\n    @Override\n    public void setParameter(PreparedStatement ps, int i, ElencoCampiModificati parameter, JdbcType jdbcType)\n            throws SQLException {\n        // TODO Auto-generated method stub\n        Array arr = ps.getConnection().unwrap(OracleConnection.class).createOracleArray(&quot;DYNAPP.V_ELENCO_CAMPI_MODIFICATI&quot;, Arrays.stream(parameter.getCampiModificati()).toArray());\n        ps.setArray(i, arr);\n    }\n</code></pre>\n<p>This is the parameter that is given to the setParameter method:</p>\n<pre><code>        CampoModificato mod = new CampoModificato(&quot;CAMPO_MODIFICATO&quot;,&quot;VALORE_OLD&quot;,&quot;VALORE_NEW&quot;);\n        CampoModificato mod1 = new CampoModificato(&quot;CAMPO_MODIFICATO1&quot;,&quot;VALORE_OLD1&quot;,&quot;VALORE_NEW1&quot;);\n        CampoModificato[] arr = new CampoModificato[] {mod, mod1};\nElencoCampiModificati elenco = new ElencoCampiModificati(arr);\n</code></pre>\n<p>This is the structure of ElencoCampiModificati:</p>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.sql.Array;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Arrays;\nimport java.util.Map;\n\npublic class ElencoCampiModificati implements Array{\n    private CampoModificato[] campiModificati;\n    \n    public ElencoCampiModificati() {}\n\n    public ElencoCampiModificati(CampoModificato[] campiModificati) {\n        this.campiModificati = campiModificati;\n    }\n\n    public CampoModificato[] getCampiModificati() {\n        return campiModificati;\n    }\n\n    public void setCampiModificati(CampoModificato[] campiModificati) {\n        this.campiModificati = campiModificati;\n    }\n\n    @Override\n    public String getBaseTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public int getBaseType() throws SQLException {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public Object getArray() throws SQLException {\n        // TODO Auto-generated method stub\n         return campiModificati == null ? null : Arrays.copyOf(campiModificati, campiModificati.length);\n    }\n\n    @Override\n    public Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return this.getArray();\n    }\n\n    @Override\n    public Object getArray(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        return campiModificati == null ? null : Arrays.copyOfRange(campiModificati, (int)index, (int)index + count );\n    }\n\n    @Override\n    public Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return this.getArray(index, count);\n    }\n\n    @Override\n    public ResultSet getResultSet() throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public void free() throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n</code></pre>\n<p>This is the CampoModificato:</p>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.io.Serializable;\nimport java.sql.SQLData;\nimport java.sql.SQLException;\nimport java.sql.SQLInput;\nimport java.sql.SQLOutput;\n\npublic class CampoModificato implements SQLData, Serializable{\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private String nome_campo;\n    private String valore_old;\n    private String valore_new;\n    \n    public CampoModificato() {}\n    \n    public CampoModificato(String nome_campo, String valore_old, String valore_new) {\n        this.nome_campo = nome_campo;\n        this.valore_old = valore_old;\n        this.valore_new = valore_new;\n    }\n    public String getNomeCampo() {\n        return nome_campo;\n    }\n    public void setNomeCampo(String nome_campo) {\n        this.nome_campo = nome_campo;\n    }\n    public String getValoreOld() {\n        return valore_old;\n    }\n    public void setValoreOld(String valore_old) {\n        this.valore_old = valore_old;\n    }\n    public String getValoreNew() {\n        return valore_new;\n    }\n    public void setValoreNew(String valore_new) {\n        this.valore_new = valore_new;\n    }\n\n    @Override\n    public String getSQLTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return &quot;TY_CAMPI_MODIFICATI&quot;;\n    }\n\n    @Override\n    public void readSQL(SQLInput stream, String typeName) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void writeSQL(SQLOutput stream) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n\n</code></pre>\n<p>I was trying to use others objects as ArrayDescriptor or ARRAY but are deprecated. I tried to use ps.getConnection().unwrap(OracleConnection.class).createARRAY or ps.getConnection().unwrap(OracleConnection.class).createArrayOf methods but the result is the same.</p>\n"},{"tags":["java","logging","intellij-idea","live-templates"],"comments":[{"owner":{"account_id":2228996,"reputation":15997,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"score":0,"creation_date":1439842304,"post_id":32058864,"comment_id":52016553,"body_markdown":"possible duplicate of http://stackoverflow.com/questions/6097646/intellij-live-template","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6097646/intellij-live-template\" title=\"intellij live template\">stackoverflow.com/questions/6097646/intellij-live-template</a>"}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439842638,"creation_date":1439842638,"answer_id":32058985,"question_id":32058864,"body_markdown":"Not by default but you can create a new one with the live template:\r\n\r\nSee this: \r\nhttps://stackoverflow.com/questions/6097646/intellij-live-template","title":"How to enter logger definition in IntelliJ fast?","body":"<p>Not by default but you can create a new one with the live template:</p>\n\n<p>See this: \n<a href=\"https://stackoverflow.com/questions/6097646/intellij-live-template\">Intellij Live Template</a></p>\n"},{"tags":[],"owner":{"account_id":1390443,"reputation":8438,"user_id":1321404,"accept_rate":100,"display_name":"Dmitry Zagorulkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439842907,"creation_date":1439842907,"answer_id":32059061,"question_id":32058864,"body_markdown":"you can add template by adding following code in:\r\n\r\n`Settings -&gt; Editor -&gt; File and Code Templates -&gt; class`\r\n\r\n`private static final Logger log = LoggerFactory.getLogger(${NAME}.class);`\r\n\r\n","title":"How to enter logger definition in IntelliJ fast?","body":"<p>you can add template by adding following code in:</p>\n\n<p><code>Settings -&gt; Editor -&gt; File and Code Templates -&gt; class</code></p>\n\n<p><code>private static final Logger log = LoggerFactory.getLogger(${NAME}.class);</code></p>\n"},{"comments":[{"owner":{"account_id":448607,"reputation":329,"user_id":842897,"accept_rate":80,"display_name":"Mircea D."},"score":0,"creation_date":1673433542,"post_id":32059465,"comment_id":132496343,"body_markdown":"Basically a few of the things Kotlin does anyway for a java developer.","body":"Basically a few of the things Kotlin does anyway for a java developer."}],"tags":[],"owner":{"account_id":57645,"reputation":3295,"user_id":5162063,"display_name":"mzc"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439888160,"creation_date":1439844629,"answer_id":32059465,"question_id":32058864,"body_markdown":"Have you tried [Lombok][1]? It&#39;s not a live template, but it helps with a lot of boilerplate code (getters/setters, equals, hash codes, loggers...)\r\n\r\nTo create a logger, annotate your class with `@Log`/`@Slf4j`/`@CommonsLog` and Lombok will create a static field `log` for you to use.\r\n\r\nIt plays well with IntelliJ - IDE plugin will inject the bolierplate code in your class during compilation phase while keeping your sources lean.\r\n\r\n  [1]: https://projectlombok.org/features/","title":"How to enter logger definition in IntelliJ fast?","body":"<p>Have you tried <a href=\"https://projectlombok.org/features/\" rel=\"nofollow\">Lombok</a>? It's not a live template, but it helps with a lot of boilerplate code (getters/setters, equals, hash codes, loggers...)</p>\n\n<p>To create a logger, annotate your class with <code>@Log</code>/<code>@Slf4j</code>/<code>@CommonsLog</code> and Lombok will create a static field <code>log</code> for you to use.</p>\n\n<p>It plays well with IntelliJ - IDE plugin will inject the bolierplate code in your class during compilation phase while keeping your sources lean.</p>\n"},{"comments":[{"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1650820212,"post_id":32068897,"comment_id":127207565,"body_markdown":"The best solution.","body":"The best solution."}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1439890993,"creation_date":1439890993,"answer_id":32068897,"question_id":32058864,"body_markdown":"I am using this live template:\r\n\r\n    private static final org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger( $CLASSNAME$.class );\r\n\r\nGo to &quot;Edit variables&quot; and set the `CLASSNAME` variable to be the expression `className()` so IntelliJ will automatically insert the class name.\r\n\r\nFurther, enable the checkbox &#39;Shorten FQ names&#39; so IntelliJ will use import statements.","title":"How to enter logger definition in IntelliJ fast?","body":"<p>I am using this live template:</p>\n\n<pre><code>private static final org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger( $CLASSNAME$.class );\n</code></pre>\n\n<p>Go to \"Edit variables\" and set the <code>CLASSNAME</code> variable to be the expression <code>className()</code> so IntelliJ will automatically insert the class name.</p>\n\n<p>Further, enable the checkbox 'Shorten FQ names' so IntelliJ will use import statements.</p>\n"},{"comments":[{"owner":{"account_id":16651523,"reputation":80,"user_id":12034237,"display_name":"Alex"},"score":0,"creation_date":1657450263,"post_id":63295940,"comment_id":128808622,"body_markdown":"As I was landing here because i searched that for Kotlin: Note that you need to use kotlinClassName() with Kotlin","body":"As I was landing here because i searched that for Kotlin: Note that you need to use kotlinClassName() with Kotlin"}],"tags":[],"owner":{"account_id":11185263,"reputation":3857,"user_id":8207836,"display_name":"huytmb"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1700616774,"creation_date":1596779395,"answer_id":63295940,"question_id":32058864,"body_markdown":"Using IntelliJ Live Template:\r\n\r\n    Settings -&gt; Editor -&gt; Live Templates\r\n    \r\nSetting like below:\r\n\r\n    private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger($CLASSNAME$.class);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kf2mU.png\r\n\r\nTo expand a code snippet, type &quot;**logger**&quot; and press **Tab**","title":"How to enter logger definition in IntelliJ fast?","body":"<p>Using IntelliJ Live Template:</p>\n<pre><code>Settings -&gt; Editor -&gt; Live Templates\n</code></pre>\n<p>Setting like below:</p>\n<pre><code>private static final org.slf4j.Logger log = org.slf4j.LoggerFactory.getLogger($CLASSNAME$.class);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kf2mU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kf2mU.png\" alt=\"enter image description here\" /></a></p>\n<p>To expand a code snippet, type &quot;<strong>logger</strong>&quot; and press <strong>Tab</strong></p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7399,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":5,"score":20,"last_activity_date":1700616774,"creation_date":1439842224,"question_id":32058864,"body_markdown":"Are there some live template or something, to add logger definition into a class?\r\n\r\nIn Eclipse I had a template:\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(${enclosing_type}.class);\r\n\r\nDon&#39;t see something about this in [Log Support plugin][1].\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/?idea&amp;id=4953","title":"How to enter logger definition in IntelliJ fast?","body":"<p>Are there some live template or something, to add logger definition into a class?</p>\n\n<p>In Eclipse I had a template:</p>\n\n<pre><code>private static final Logger log = LoggerFactory.getLogger(${enclosing_type}.class);\n</code></pre>\n\n<p>Don't see something about this in <a href=\"https://plugins.jetbrains.com/plugin/?idea&amp;id=4953\" rel=\"noreferrer\">Log Support plugin</a>.</p>\n"},{"tags":["java","hadoop","pyspark"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1700049893,"post_id":77487178,"comment_id":136606587,"body_markdown":"Please use the correct [code format](https://stackoverflow.com/editing-help#code) and do not use images for code, data, error messages, etc. Copy or type the text into the question. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please use the correct <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> and do not use images for code, data, error messages, etc. Copy or type the text into the question. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":7920486,"reputation":58,"user_id":5981641,"display_name":"zmbc"},"score":0,"creation_date":1700615296,"post_id":77487178,"comment_id":136675715,"body_markdown":"I just ran into this as well, and the recency of this question makes me think it may be a version mismatch issue caused by a recent release. I&#39;ll debug this and report back if I figure anything out.","body":"I just ran into this as well, and the recency of this question makes me think it may be a version mismatch issue caused by a recent release. I&#39;ll debug this and report back if I figure anything out."}],"answers":[{"tags":[],"owner":{"account_id":7920486,"reputation":58,"user_id":5981641,"display_name":"zmbc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700616226,"creation_date":1700616226,"answer_id":77526845,"question_id":77487178,"body_markdown":"I don&#39;t understand Spark very well, but I was able to fix this issue by upgrading Spark. The version numbers of PySpark and Spark itself matched exactly both times it was working for me, which makes me think they may have to be kept in lockstep -- perhaps someone else can confirm this.\r\n\r\nI had previously used PySpark 3.4.1 with Spark 3.4.1. I just upgraded PySpark to 3.5.0 and saw this error with Spark 3.4.1. Upgrading Spark itself to 3.5.0 resolved it.","title":"Error : py4j.Py4JException: Method sql([class java.lang.String, class [Ljava.lang.Object;]) does not exist","body":"<p>I don't understand Spark very well, but I was able to fix this issue by upgrading Spark. The version numbers of PySpark and Spark itself matched exactly both times it was working for me, which makes me think they may have to be kept in lockstep -- perhaps someone else can confirm this.</p>\n<p>I had previously used PySpark 3.4.1 with Spark 3.4.1. I just upgraded PySpark to 3.5.0 and saw this error with Spark 3.4.1. Upgrading Spark itself to 3.5.0 resolved it.</p>\n"}],"owner":{"account_id":27242446,"reputation":21,"user_id":20768394,"display_name":"Quc Ph&#250;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700616226,"creation_date":1700046079,"question_id":77487178,"body_markdown":"i am using Pyspark 3.4.1, java 8, hadoop 3.4.0, scala 2.12.17, python 3.11.4 and this is my code in vscode :\r\n```\r\ndef calculating_click(df):\r\n    click_data = df.filter((df.custom_track == &quot;click&quot;))\r\n    click_data = click_data.na.fill({&#39;bid&#39;:0})\r\n    click_data = click_data.na.fill({&#39;job_id&#39;:0})\r\n    click_data = click_data.na.fill({&#39;publisher_id&#39;:0})\r\n    click_data = click_data.na.fill({&#39;group_id&#39;:0})\r\n    click_data = click_data.na.fill({&#39;campaign_id&#39;:0})\r\n    click_data = click_data.na.fill({&#39;campaign_id&#39;:0})\r\n    click_data.registerTempTable(&#39;clicks&#39;) #name temporary table &#39;clicks&#39;\r\n    click_output = spark.sql(&quot;&quot;&quot;select job_id,date(ts) as date,hour(ts) as hour,publisher_id,campaign_id,group_id, avg(bid) as bid_set,count(*) as clicks, sum(bid) as spend_hour from clicks`group by job_id, date(ts), hour(ts),publisher_id, campaign_id, group_id &quot;&quot;&quot;)`\r\n\r\n```\r\n\r\nI got this error : \r\n\r\n```\r\nPy4JError: An error occurred while calling o28.sql. Trace:\r\npy4j.Py4JException: Method sql([class java.lang.String, class [Ljava.lang.Object;]) does not exist\r\n\tat py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:321)\r\n\tat py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:329)\r\n\tat py4j.Gateway.invoke(Gateway.java:274)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n\tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n```\r\n[enter image description here](https://i.stack.imgur.com/gmywH.png)\r\n[enter image description here](https://i.stack.imgur.com/ReZc5.png)\r\n[enter image description here](https://i.stack.imgur.com/K5UJP.png)\r\nCould anyone help me fix this ?\r\nI&#39;m trying using pyspark but got error every time, which version of spark,hadoop,java should i use ?","title":"Error : py4j.Py4JException: Method sql([class java.lang.String, class [Ljava.lang.Object;]) does not exist","body":"<p>i am using Pyspark 3.4.1, java 8, hadoop 3.4.0, scala 2.12.17, python 3.11.4 and this is my code in vscode :</p>\n<pre><code>def calculating_click(df):\n    click_data = df.filter((df.custom_track == &quot;click&quot;))\n    click_data = click_data.na.fill({'bid':0})\n    click_data = click_data.na.fill({'job_id':0})\n    click_data = click_data.na.fill({'publisher_id':0})\n    click_data = click_data.na.fill({'group_id':0})\n    click_data = click_data.na.fill({'campaign_id':0})\n    click_data = click_data.na.fill({'campaign_id':0})\n    click_data.registerTempTable('clicks') #name temporary table 'clicks'\n    click_output = spark.sql(&quot;&quot;&quot;select job_id,date(ts) as date,hour(ts) as hour,publisher_id,campaign_id,group_id, avg(bid) as bid_set,count(*) as clicks, sum(bid) as spend_hour from clicks`group by job_id, date(ts), hour(ts),publisher_id, campaign_id, group_id &quot;&quot;&quot;)`\n\n</code></pre>\n<p>I got this error :</p>\n<pre><code>Py4JError: An error occurred while calling o28.sql. Trace:\npy4j.Py4JException: Method sql([class java.lang.String, class [Ljava.lang.Object;]) does not exist\n    at py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:321)\n    at py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:329)\n    at py4j.Gateway.invoke(Gateway.java:274)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gmywH.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/ReZc5.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/K5UJP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nCould anyone help me fix this ?\nI'm trying using pyspark but got error every time, which version of spark,hadoop,java should i use ?</p>\n"},{"tags":["java","gradle","build.gradle","gradle-task"],"answers":[{"comments":[{"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"score":1,"creation_date":1700607155,"post_id":77503049,"comment_id":136674989,"body_markdown":"Very nice explanation. so I awarded the bounty to you. But what I really wanted to know: What happens in the fifth execution when you fix the java error. I tried it again and what I missed is: If I add an error adn remove it afterwards, the compileJava is UP-TO-DATE because the build cache is kicking in as the exact same class was compiled before. If I fix the error and add some  other random stuff to the class, everything works as expected","body":"Very nice explanation. so I awarded the bounty to you. But what I really wanted to know: What happens in the fifth execution when you fix the java error. I tried it again and what I missed is: If I add an error adn remove it afterwards, the compileJava is UP-TO-DATE because the build cache is kicking in as the exact same class was compiled before. If I fix the error and add some  other random stuff to the class, everything works as expected"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700615495,"post_id":77503049,"comment_id":136675738,"body_markdown":"@JanningVygen If you fix the errors in the classes, then the third time execution scenario will be repeated again.","body":"@JanningVygen If you fix the errors in the classes, then the third time execution scenario will be repeated again."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1700616248,"post_id":77503049,"comment_id":136675797,"body_markdown":"@JanningVygen I have updated the answer with Fifth time execution as well.","body":"@JanningVygen I have updated the answer with Fifth time execution as well."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700616212,"creation_date":1700237223,"answer_id":77503049,"question_id":77459868,"body_markdown":"Few points to mention:\r\n\r\n- `doLast` is an action to a task. It runs at the end of the task. \r\n\r\n- Your gradle task `continuous-build` depends on the `compileJava` task via this line `dependsOn tasks.compileJava` which means that if `compileJava` task fails, i.e, compilation of Java classes fail then `doLast` task action will not be executed from your `continuous-build` task. So, that&#39;s why the file is not created/updated.\r\n\r\n- This line `onlyIf { !compileJava.state.upToDate }` from the `continuous-build` gradle task tells that any task action will be executed only if the `compileJava` task state is changed. In simple words, if you do a code change in your Java classes, then `doLast` action will be executed from your `continuous-build` task, otherwise it will be skipped from the execution.\r\n\r\nSo, your `doLast` action depends on these two lines `dependsOn tasks.compileJava` and `onlyIf { !compileJava.state.upToDate }` completely.\r\n\r\nTo demonstrate, I have updated your gradle task a little bit to explain.\r\n\r\n\r\n    import java.time.Instant\r\n    \r\n    tasks.register(&#39;continuous-build&#39;) {\r\n        dependsOn tasks.compileJava\r\n        onlyIf { !compileJava.state.upToDate }\r\n        logger.lifecycle(&quot;Job executed at &quot; + Instant.now())\r\n        doLast {\r\n            def file = new File(projectDir, &quot;build/classes/java/main/.reloadTrigger&quot;);\r\n            def created = file.createNewFile();\r\n            logger.lifecycle(&quot;File created status :&quot; + created);\r\n            file.setLastModified(Instant.now().toEpochMilli())\r\n            logger.lifecycle(&quot;Last modified timestamp of the file: &quot; + file.lastModified());\r\n            logger.lifecycle(&quot;This message is never seen&quot;)\r\n        }\r\n    } \r\n\r\n**First time Execution:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Second time Execution (with no change in Java classes):**\r\n\r\n`doLast` task action will not be executed as explained in the point (because of this line `onlyIf { !compileJava.state.upToDate }`).\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**Third Time Execution (with the modification in a Java class):**\r\n\r\nThe `doLast` task action will be executed and this will trigger the file to be updated instead of creation although the timestamp will be changed this time.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Fourth Time Execution (with the modification in a Java class with an error):**\r\n\r\nThe `doLast` task action will not be executed due to the compilation error in one of the Java classes detected by the `compileJava` task and the `continuous-build` task depends on `compileJava`.\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**Fifth time Execution (with no error, i.e, reverted the changes)**: In this case, the **third time execution scenario** is repeated again.\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zwpdm.png\r\n  [2]: https://i.stack.imgur.com/zTVs7.png\r\n  [3]: https://i.stack.imgur.com/gKVYu.png\r\n  [4]: https://i.stack.imgur.com/YXTaR.png\r\n  [5]: https://i.stack.imgur.com/re3aY.png\r\n  [6]: https://i.stack.imgur.com/QyGvd.png","title":"Gradle continuous build behaves odd","body":"<p>Few points to mention:</p>\n<ul>\n<li><p><code>doLast</code> is an action to a task. It runs at the end of the task.</p>\n</li>\n<li><p>Your gradle task <code>continuous-build</code> depends on the <code>compileJava</code> task via this line <code>dependsOn tasks.compileJava</code> which means that if <code>compileJava</code> task fails, i.e, compilation of Java classes fail then <code>doLast</code> task action will not be executed from your <code>continuous-build</code> task. So, that's why the file is not created/updated.</p>\n</li>\n<li><p>This line <code>onlyIf { !compileJava.state.upToDate }</code> from the <code>continuous-build</code> gradle task tells that any task action will be executed only if the <code>compileJava</code> task state is changed. In simple words, if you do a code change in your Java classes, then <code>doLast</code> action will be executed from your <code>continuous-build</code> task, otherwise it will be skipped from the execution.</p>\n</li>\n</ul>\n<p>So, your <code>doLast</code> action depends on these two lines <code>dependsOn tasks.compileJava</code> and <code>onlyIf { !compileJava.state.upToDate }</code> completely.</p>\n<p>To demonstrate, I have updated your gradle task a little bit to explain.</p>\n<pre><code>import java.time.Instant\n\ntasks.register('continuous-build') {\n    dependsOn tasks.compileJava\n    onlyIf { !compileJava.state.upToDate }\n    logger.lifecycle(&quot;Job executed at &quot; + Instant.now())\n    doLast {\n        def file = new File(projectDir, &quot;build/classes/java/main/.reloadTrigger&quot;);\n        def created = file.createNewFile();\n        logger.lifecycle(&quot;File created status :&quot; + created);\n        file.setLastModified(Instant.now().toEpochMilli())\n        logger.lifecycle(&quot;Last modified timestamp of the file: &quot; + file.lastModified());\n        logger.lifecycle(&quot;This message is never seen&quot;)\n    }\n} \n</code></pre>\n<p><strong>First time Execution:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/zwpdm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwpdm.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zTVs7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zTVs7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Second time Execution (with no change in Java classes):</strong></p>\n<p><code>doLast</code> task action will not be executed as explained in the point (because of this line <code>onlyIf { !compileJava.state.upToDate }</code>).</p>\n<p><a href=\"https://i.stack.imgur.com/gKVYu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gKVYu.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Third Time Execution (with the modification in a Java class):</strong></p>\n<p>The <code>doLast</code> task action will be executed and this will trigger the file to be updated instead of creation although the timestamp will be changed this time.</p>\n<p><a href=\"https://i.stack.imgur.com/YXTaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YXTaR.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Fourth Time Execution (with the modification in a Java class with an error):</strong></p>\n<p>The <code>doLast</code> task action will not be executed due to the compilation error in one of the Java classes detected by the <code>compileJava</code> task and the <code>continuous-build</code> task depends on <code>compileJava</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/re3aY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/re3aY.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Fifth time Execution (with no error, i.e, reverted the changes)</strong>: In this case, the <strong>third time execution scenario</strong> is repeated again.</p>\n<p><a href=\"https://i.stack.imgur.com/QyGvd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QyGvd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77503049,"answer_count":1,"score":2,"last_activity_date":1700616212,"creation_date":1699617792,"question_id":77459868,"body_markdown":"Gradle is a magic box for me. I often don&#39;t get it and always do try and error.\r\nI use gradle 8.1 and groovy scripts. I have this small task \r\n\r\n    import java.time.Instant\r\n    \r\n    tasks.register(&#39;continuous-build&#39;) {\r\n        dependsOn tasks.compileJava\r\n        onlyIf { !compileJava.state.upToDate }\r\n        logger.lifecycle(&quot;Job executed at &quot; + Instant.now())\r\n        doLast {\r\n            def file = new File(projectDir, &quot;build/classes/java/main/.reloadTrigger&quot;);\r\n            file.createNewFile();\r\n            file.setLastModified(Instant.now().toEpochMilli())\r\n            logger.lifecycle(&quot;This message is never seen&quot;)\r\n        }\r\n    }\r\n\r\nI want this task to run with --continuous-build and just touch a file if it&#39;s done compiling. \r\n\r\nthis is what I do:\r\n\r\n**Run ./gradlew continuous-build --continuous**\r\n\r\n    $ ./gradlew continuous-build --continuous\r\n    Reload triggered at 2023-11-10T11:48:50.446501720Z   \r\n    BUILD SUCCESSFUL in 1s\r\n    6 actionable tasks: 1 executed, 5 up-to-date\r\n    Waiting for changes to input files... (ctrl-d to exit)\r\n\r\n**Make a small change to Main.java which compiles fine**\r\n\r\n    modified: [...]Main.java\r\n    Change detected, executing build...\r\n    Reload triggered at 2023-11-10T11:49:02.870526619Z\r\n    BUILD SUCCESSFUL in 1s\r\n    6 actionable tasks: 1 executed, 2 from cache, 3 up-to-date\r\n    Waiting for changes to input files... (ctrl-d to exit)\r\n\r\nAfter this the file timestamp is changed. That is what I want.\r\n\r\n**Make a small change to Main.java which compiles with error**\r\n\r\n    modified: [...]Main.java\r\n    Change detected, executing build...   \r\n    Reload triggered at 2023-11-10T11:49:09.303034432Z    \r\n    &gt; Task :compileJava FAILED\r\n    [...]Main.java:22: error: &lt;identifier&gt; expected\r\n        publi static final String ANSWER = &quot;42&quot;;\r\n             ^\r\n    1 error\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.   \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.    \r\n    * Get more help at https://help.gradle.org    \r\n    BUILD FAILED in 1s\r\n    3 actionable tasks: 2 executed, 1 up-to-date    \r\n    Waiting for changes to input files... (ctrl-d to exit)\r\n\r\nAfter this the file timestamp is **NOT** changed. That is what I want as it compiled with an error.\r\n\r\n**Make a small change to Main.java which compiles fine again**\r\n\r\n    modified: [...]Main.java\r\n    Change detected, executing build...\r\n    Reload triggered at 2023-11-10T11:49:14.192599979Z\r\n    BUILD SUCCESSFUL in 1s\r\n    6 actionable tasks: 1 executed, 5 up-to-date\r\n    Waiting for changes to input files... (ctrl-d to exit)\r\n\r\nAfter this the file timestamp is **NOT** changed anymore even the compilation succeeded. How can I achieve a file touch cmd if compileJava was successful.\r\n\r\nAnd why is the second logging message never seen?\r\n\r\nPS I have shortened the output a little bit to make it more readable\r\n\r\n\r\n\r\n","title":"Gradle continuous build behaves odd","body":"<p>Gradle is a magic box for me. I often don't get it and always do try and error.\nI use gradle 8.1 and groovy scripts. I have this small task</p>\n<pre><code>import java.time.Instant\n\ntasks.register('continuous-build') {\n    dependsOn tasks.compileJava\n    onlyIf { !compileJava.state.upToDate }\n    logger.lifecycle(&quot;Job executed at &quot; + Instant.now())\n    doLast {\n        def file = new File(projectDir, &quot;build/classes/java/main/.reloadTrigger&quot;);\n        file.createNewFile();\n        file.setLastModified(Instant.now().toEpochMilli())\n        logger.lifecycle(&quot;This message is never seen&quot;)\n    }\n}\n</code></pre>\n<p>I want this task to run with --continuous-build and just touch a file if it's done compiling.</p>\n<p>this is what I do:</p>\n<p><strong>Run ./gradlew continuous-build --continuous</strong></p>\n<pre><code>$ ./gradlew continuous-build --continuous\nReload triggered at 2023-11-10T11:48:50.446501720Z   \nBUILD SUCCESSFUL in 1s\n6 actionable tasks: 1 executed, 5 up-to-date\nWaiting for changes to input files... (ctrl-d to exit)\n</code></pre>\n<p><strong>Make a small change to Main.java which compiles fine</strong></p>\n<pre><code>modified: [...]Main.java\nChange detected, executing build...\nReload triggered at 2023-11-10T11:49:02.870526619Z\nBUILD SUCCESSFUL in 1s\n6 actionable tasks: 1 executed, 2 from cache, 3 up-to-date\nWaiting for changes to input files... (ctrl-d to exit)\n</code></pre>\n<p>After this the file timestamp is changed. That is what I want.</p>\n<p><strong>Make a small change to Main.java which compiles with error</strong></p>\n<pre><code>modified: [...]Main.java\nChange detected, executing build...   \nReload triggered at 2023-11-10T11:49:09.303034432Z    \n&gt; Task :compileJava FAILED\n[...]Main.java:22: error: &lt;identifier&gt; expected\n    publi static final String ANSWER = &quot;42&quot;;\n         ^\n1 error\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Compilation failed; see the compiler error output for details.   \n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.    \n* Get more help at https://help.gradle.org    \nBUILD FAILED in 1s\n3 actionable tasks: 2 executed, 1 up-to-date    \nWaiting for changes to input files... (ctrl-d to exit)\n</code></pre>\n<p>After this the file timestamp is <strong>NOT</strong> changed. That is what I want as it compiled with an error.</p>\n<p><strong>Make a small change to Main.java which compiles fine again</strong></p>\n<pre><code>modified: [...]Main.java\nChange detected, executing build...\nReload triggered at 2023-11-10T11:49:14.192599979Z\nBUILD SUCCESSFUL in 1s\n6 actionable tasks: 1 executed, 5 up-to-date\nWaiting for changes to input files... (ctrl-d to exit)\n</code></pre>\n<p>After this the file timestamp is <strong>NOT</strong> changed anymore even the compilation succeeded. How can I achieve a file touch cmd if compileJava was successful.</p>\n<p>And why is the second logging message never seen?</p>\n<p>PS I have shortened the output a little bit to make it more readable</p>\n"},{"tags":["java","serialization","jackson","jackson-databind","jackson-modules"],"answers":[{"tags":[],"owner":{"account_id":22801078,"reputation":79,"user_id":16953739,"display_name":"Joshua Chambers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700615932,"creation_date":1700615060,"answer_id":77526785,"question_id":77483790,"body_markdown":"Here is my final working solution.  I almost think it&#39;s a bug that serializers which were assigned via annotation are NOT processed by `SerializerModifiers` attached to the `ObjectMapper`.  Nothing in the documentation says they&#39;ll &quot;modify serializers, but oh, not those serializers.&quot;  My solution is a bit hacky, but it works.\r\n\r\nFirst, a custom `BeanSerializerFactory` to add running the modifiers if the serializer is found via annotation.  This happens right at the beginning of the overridden method anyway.\r\n\r\n```java\r\npublic class FixedBeanSerializerFactory extends BeanSerializerFactory {\r\n    public FixedBeanSerializerFactory(SerializerFactoryConfig config) {\r\n        super(config);\r\n    }\r\n\r\n    @Override\r\n    public JsonSerializer&lt;Object&gt; createSerializer(SerializerProvider prov, JavaType origType)\r\n            throws JsonMappingException {\r\n\r\n        // Very first thing, let&#39;s check if there is explicit serializer annotation:\r\n        final SerializationConfig config = prov.getConfig();\r\n        BeanDescription beanDesc = config.introspect(origType);\r\n        JsonSerializer&lt;?&gt; ser = findSerializerFromAnnotation(prov, beanDesc.getClassInfo());\r\n        if (ser != null) {\r\n            if (_factoryConfig.hasSerializerModifiers()) {\r\n                for (BeanSerializerModifier mod : _factoryConfig.serializerModifiers()) {\r\n                    ser = mod.modifySerializer(config, beanDesc, ser);\r\n                }\r\n            }\r\n            return (JsonSerializer&lt;Object&gt;) ser;\r\n        }\r\n\r\n        return super.createSerializer(prov, origType);\r\n    }\r\n\r\n    @Override\r\n    public SerializerFactory withConfig(SerializerFactoryConfig config) {\r\n        return new FixedBeanSerializerFactory(config);\r\n    }\r\n}\r\n```\r\n\r\nNow, this `DepthLimitedSerializer` is a LOT longer than it needs to be, mostly because I had to duplicate a lot of the code from `BeanSerailzier`.  Why, you ask?  Because the `serialize` method in `BeanSerializer` is final, so I can&#39;t override it.  Instead, I&#39;m forced to override `BeanSerializerBase` and copy a bunch of code from it.\r\n\r\n```java\r\npublic class DepthLimitedSerializer extends BeanSerializerBase {\r\n    public static final int DEFAULT_DEPTH = 2;\r\n\r\n    private static final ObjectMapper jackson = new ObjectMapper();\r\n    private static final ThreadLocal&lt;Integer&gt; maxDepth = ThreadLocal.withInitial(() -&gt; DEFAULT_DEPTH);\r\n    private static final ThreadLocal&lt;Integer&gt; currentDepth = ThreadLocal.withInitial(() -&gt; -1);\r\n\r\n    public static JsonSerializer&lt;Object&gt; forSerializer(JsonSerializer&lt;Object&gt; serializer,\r\n                                                       BeanDescription beanDesc,\r\n                                                       int depth) {\r\n\r\n        if (serializer instanceof BeanSerializerBase) {\r\n            return new DepthLimitedSerializer((BeanSerializerBase) serializer, depth);\r\n\r\n        } else {\r\n            BeanSerializerBuilder builder = new BeanSerializerBuilder(beanDesc);\r\n            JavaType type = jackson.constructType(serializer.handledType());\r\n            BeanPropertyWriter[] properties = {};\r\n            BeanPropertyWriter[] filteredProperties = {};\r\n            maxDepth.set(depth);\r\n            return new DepthLimitedSerializer(serializer, type, builder, properties, filteredProperties);\r\n        }\r\n    }\r\n\r\n    protected JsonSerializer&lt;Object&gt; src;\r\n\r\n    public DepthLimitedSerializer(BeanSerializerBase src, int depth) {\r\n        super(src);\r\n        this.src = src;\r\n        maxDepth.set(depth);\r\n    }\r\n\r\n    protected DepthLimitedSerializer(DepthLimitedSerializer depthLimitedSerializer,\r\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\r\n        super(depthLimitedSerializer, properties, filteredProperties);\r\n        this.src = depthLimitedSerializer;\r\n    }\r\n\r\n    protected DepthLimitedSerializer(JsonSerializer&lt;Object&gt; src, JavaType type, BeanSerializerBuilder builder,\r\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\r\n        super(type, builder, properties, filteredProperties);\r\n        this.src = src;\r\n    }\r\n\r\n    protected DepthLimitedSerializer(BeanSerializerBase src, ObjectIdWriter objectIdWriter, Object filterId) {\r\n        super(src, objectIdWriter, filterId);\r\n        this.src = src;\r\n    }\r\n\r\n    protected DepthLimitedSerializer(BeanSerializerBase src,\r\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\r\n        super(src, properties, filteredProperties);\r\n        this.src = src;\r\n    }\r\n\r\n    @Override\r\n    public BeanSerializerBase withObjectIdWriter(ObjectIdWriter objectIdWriter) {\r\n        return new DepthLimitedSerializer(this, objectIdWriter, _propertyFilterId);\r\n    }\r\n\r\n    @Override\r\n    protected BeanSerializerBase withByNameInclusion(Set&lt;String&gt; toIgnore, Set&lt;String&gt; toInclude) {\r\n        return null;\r\n    }\r\n\r\n    @Override // @since 2.11.1\r\n    protected BeanSerializerBase withProperties(BeanPropertyWriter[] properties,\r\n                                                BeanPropertyWriter[] filteredProperties) {\r\n        return new DepthLimitedSerializer(this, properties, filteredProperties);\r\n    }\r\n\r\n    @Override\r\n    protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\r\n            currentDepth.set(currentDepth.get() + 1);\r\n\r\n            super.serializeFields(bean, gen, provider);\r\n\r\n            currentDepth.set(currentDepth.get() - 1);\r\n        } else {\r\n            try {\r\n                JsonDepthLimited depthAnnotation = bean.getClass().getAnnotation(JsonDepthLimited.class);\r\n                String defaultFieldName = depthAnnotation.defaultField();\r\n                boolean includeNulls = depthAnnotation.includeNulls();\r\n                if (StringUtils.isNotEmpty(defaultFieldName)) {\r\n                    if (!includeNulls) {\r\n                        Arrays.stream(_props).\r\n                                filter(p -&gt; p.getName().equals(defaultFieldName))\r\n                                .findFirst().orElseThrow()\r\n                                .serializeAsField(bean, gen, provider);\r\n                    } else {\r\n                        Arrays.stream(_props).forEach(p -&gt; {\r\n                            try {\r\n                                if (p.getName().equals(defaultFieldName)) {\r\n                                    p.serializeAsField(bean, gen, provider);\r\n                                } else {\r\n                                    gen.writeNullField(p.getName());\r\n                                }\r\n                            } catch (Exception e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                }\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected BeanSerializerBase asArraySerializer() {\r\n        if ((_objectIdWriter == null)\r\n                &amp;&amp; (_anyGetterWriter == null)\r\n                &amp;&amp; (_propertyFilterId == null)\r\n        ) {\r\n            return new BeanAsArraySerializer(this);\r\n        }\r\n        // already is one, so:\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public BeanSerializerBase withFilterId(Object filterId) {\r\n        return new DepthLimitedSerializer(this, _objectIdWriter, filterId);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(Object bean, JsonGenerator gen, SerializerProvider provider)\r\n            throws IOException {\r\n\r\n        if (src == null || src instanceof BeanSerializerBase) {\r\n            if (_objectIdWriter != null) {\r\n                gen.setCurrentValue(bean); // [databind#631]\r\n                _serializeWithObjectId(bean, gen, provider, true);\r\n                return;\r\n            }\r\n            gen.writeStartObject(bean);\r\n            if (_propertyFilterId != null) {\r\n                serializeFieldsFiltered(bean, gen, provider);\r\n            } else {\r\n                serializeFields(bean, gen, provider);\r\n            }\r\n            gen.writeEndObject();\r\n\r\n        } else {\r\n            if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\r\n                Class&lt;?&gt; t = src.handledType();\r\n                src.serialize(t.cast(bean), gen, provider);\r\n            } else {\r\n                gen.writeNull();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override public String toString() {\r\n        return &quot;DepthAwareSerializer for &quot; + handledType().getName();\r\n    }\r\n}\r\n```\r\n\r\nThis annotation marks the classes included and lets us pass a few arguments.\r\n```java\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Inherited\r\npublic @interface JsonDepthLimited {\r\n    String defaultField() default StringUtils.EMPTY;\r\n    boolean includeNulls() default false;\r\n}\r\n```\r\n\r\nAnd here is our POJO hierarchy to demonstrate:\r\n```java\r\n@JsonDepthLimited(defaultField = &quot;id&quot;)\r\n@Getter @Setter\r\npublic class BaseClass {\r\n    private String id;\r\n    private String someBaseProperty;\r\n}\r\n```\r\n```java\r\n@Getter @Setter\r\n@JsonSerialize(using = FooSerializer.class)\r\npublic class Foo extends BaseClass {\r\n    private String someFooProperty;\r\n}\r\n```\r\n```java\r\n@Getter @Setter\r\npublic class Bar extends BaseClass {\r\n    String someBarProperty;\r\n    Foo fooOfBar;\r\n}\r\n```\r\nA custom serializer for `Foo`:\r\n```java\r\npublic class FooSerializer extends StdSerializer&lt;Foo&gt; {\r\n    protected FooSerializer() {\r\n        super(Foo.class);\r\n    }\r\n\r\n    public void serialize(Foo foo, JsonGenerator jgen, SerializerProvider serializerProvider)\r\n            throws IOException {\r\n        jgen.writeStartObject();\r\n        jgen.writeStringField(&quot;custom&quot;, foo.getId() + &quot;!&quot; + foo.getSomeFooProperty());\r\n        jgen.writeEndObject();\r\n    }\r\n}\r\n```\r\nAnd finally, the demonstration:\r\n```java\r\n\r\nclass SerializeTest {\r\n    @Test\r\n    void testSerialization() throws JsonProcessingException {\r\n        Foo foo = new Foo();\r\n        foo.setId(&quot;fooID&quot;);\r\n        foo.setSomeBaseProperty(&quot;someBaseValue&quot;);\r\n        foo.setSomeFooProperty(&quot;foo property value&quot;);\r\n\r\n        Bar bar = new Bar();\r\n        bar.setId(&quot;barId&quot;);\r\n        bar.setSomeBaseProperty(&quot;base of Bar&quot;);\r\n        bar.setFooOfBar(foo);\r\n        bar.setSomeBarProperty(&quot;bar property value&quot;);\r\n\r\n        String depthOfZero = testSerializationToDepthOf(bar, 0);\r\n        System.out.println(&quot;depth of ZERO: &quot; + depthOfZero);\r\n        String depthOfOne = testSerializationToDepthOf(bar, 1);\r\n        System.out.println(&quot;depth of ONE: &quot; + depthOfOne);\r\n    }\r\n\r\n    String testSerializationToDepthOf(BaseClass model, int depth) throws JsonProcessingException {\r\n        ObjectMapper jackson = new ObjectMapper();\r\n        jackson.enable(SerializationFeature.INDENT_OUTPUT);\r\n        SerializerFactoryConfig factoryConfig = new SerializerFactoryConfig();\r\n        jackson.setSerializerFactory(new FixedBeanSerializerFactory(factoryConfig));\r\n\r\n        if (depth &gt;= 0) {\r\n            SimpleModule fragmentModule = new SimpleModule(&quot;FragmentModule&quot;);\r\n            BeanSerializerModifier modifier = new BeanSerializerModifier() {\r\n                @Override\r\n                public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc,\r\n                                                          JsonSerializer&lt;?&gt; serializer) {\r\n                    if (beanDesc.getClassAnnotations().has(JsonDepthLimited.class)) {\r\n\r\n                        return DepthLimitedSerializer\r\n                                .forSerializer((JsonSerializer&lt;Object&gt;) serializer, beanDesc, depth);\r\n                    }\r\n                    return serializer;\r\n                }\r\n            };\r\n\r\n            fragmentModule.setSerializerModifier(modifier);\r\n            jackson.registerModule(fragmentModule);\r\n        }\r\n\r\n        return jackson.writeValueAsString(model);\r\n    }\r\n}\r\n```\r\n\r\nAnd here in the final output you can see that the custom serializer runs when the `depth` is set to `1`, but doesn&#39;t run (null is used) when the depth is set to `0`, exactly as it should.\r\n\r\n```\r\ndepth of ZERO: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : null\r\n}\r\ndepth of ONE: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : {\r\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\r\n  }\r\n}\r\n```","title":"Nested objects not being processed by `SerializerModifier` when class has custom Serializer (Jackson)","body":"<p>Here is my final working solution.  I almost think it's a bug that serializers which were assigned via annotation are NOT processed by <code>SerializerModifiers</code> attached to the <code>ObjectMapper</code>.  Nothing in the documentation says they'll &quot;modify serializers, but oh, not those serializers.&quot;  My solution is a bit hacky, but it works.</p>\n<p>First, a custom <code>BeanSerializerFactory</code> to add running the modifiers if the serializer is found via annotation.  This happens right at the beginning of the overridden method anyway.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FixedBeanSerializerFactory extends BeanSerializerFactory {\n    public FixedBeanSerializerFactory(SerializerFactoryConfig config) {\n        super(config);\n    }\n\n    @Override\n    public JsonSerializer&lt;Object&gt; createSerializer(SerializerProvider prov, JavaType origType)\n            throws JsonMappingException {\n\n        // Very first thing, let's check if there is explicit serializer annotation:\n        final SerializationConfig config = prov.getConfig();\n        BeanDescription beanDesc = config.introspect(origType);\n        JsonSerializer&lt;?&gt; ser = findSerializerFromAnnotation(prov, beanDesc.getClassInfo());\n        if (ser != null) {\n            if (_factoryConfig.hasSerializerModifiers()) {\n                for (BeanSerializerModifier mod : _factoryConfig.serializerModifiers()) {\n                    ser = mod.modifySerializer(config, beanDesc, ser);\n                }\n            }\n            return (JsonSerializer&lt;Object&gt;) ser;\n        }\n\n        return super.createSerializer(prov, origType);\n    }\n\n    @Override\n    public SerializerFactory withConfig(SerializerFactoryConfig config) {\n        return new FixedBeanSerializerFactory(config);\n    }\n}\n</code></pre>\n<p>Now, this <code>DepthLimitedSerializer</code> is a LOT longer than it needs to be, mostly because I had to duplicate a lot of the code from <code>BeanSerailzier</code>.  Why, you ask?  Because the <code>serialize</code> method in <code>BeanSerializer</code> is final, so I can't override it.  Instead, I'm forced to override <code>BeanSerializerBase</code> and copy a bunch of code from it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DepthLimitedSerializer extends BeanSerializerBase {\n    public static final int DEFAULT_DEPTH = 2;\n\n    private static final ObjectMapper jackson = new ObjectMapper();\n    private static final ThreadLocal&lt;Integer&gt; maxDepth = ThreadLocal.withInitial(() -&gt; DEFAULT_DEPTH);\n    private static final ThreadLocal&lt;Integer&gt; currentDepth = ThreadLocal.withInitial(() -&gt; -1);\n\n    public static JsonSerializer&lt;Object&gt; forSerializer(JsonSerializer&lt;Object&gt; serializer,\n                                                       BeanDescription beanDesc,\n                                                       int depth) {\n\n        if (serializer instanceof BeanSerializerBase) {\n            return new DepthLimitedSerializer((BeanSerializerBase) serializer, depth);\n\n        } else {\n            BeanSerializerBuilder builder = new BeanSerializerBuilder(beanDesc);\n            JavaType type = jackson.constructType(serializer.handledType());\n            BeanPropertyWriter[] properties = {};\n            BeanPropertyWriter[] filteredProperties = {};\n            maxDepth.set(depth);\n            return new DepthLimitedSerializer(serializer, type, builder, properties, filteredProperties);\n        }\n    }\n\n    protected JsonSerializer&lt;Object&gt; src;\n\n    public DepthLimitedSerializer(BeanSerializerBase src, int depth) {\n        super(src);\n        this.src = src;\n        maxDepth.set(depth);\n    }\n\n    protected DepthLimitedSerializer(DepthLimitedSerializer depthLimitedSerializer,\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\n        super(depthLimitedSerializer, properties, filteredProperties);\n        this.src = depthLimitedSerializer;\n    }\n\n    protected DepthLimitedSerializer(JsonSerializer&lt;Object&gt; src, JavaType type, BeanSerializerBuilder builder,\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\n        super(type, builder, properties, filteredProperties);\n        this.src = src;\n    }\n\n    protected DepthLimitedSerializer(BeanSerializerBase src, ObjectIdWriter objectIdWriter, Object filterId) {\n        super(src, objectIdWriter, filterId);\n        this.src = src;\n    }\n\n    protected DepthLimitedSerializer(BeanSerializerBase src,\n                                     BeanPropertyWriter[] properties, BeanPropertyWriter[] filteredProperties) {\n        super(src, properties, filteredProperties);\n        this.src = src;\n    }\n\n    @Override\n    public BeanSerializerBase withObjectIdWriter(ObjectIdWriter objectIdWriter) {\n        return new DepthLimitedSerializer(this, objectIdWriter, _propertyFilterId);\n    }\n\n    @Override\n    protected BeanSerializerBase withByNameInclusion(Set&lt;String&gt; toIgnore, Set&lt;String&gt; toInclude) {\n        return null;\n    }\n\n    @Override // @since 2.11.1\n    protected BeanSerializerBase withProperties(BeanPropertyWriter[] properties,\n                                                BeanPropertyWriter[] filteredProperties) {\n        return new DepthLimitedSerializer(this, properties, filteredProperties);\n    }\n\n    @Override\n    protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\n            currentDepth.set(currentDepth.get() + 1);\n\n            super.serializeFields(bean, gen, provider);\n\n            currentDepth.set(currentDepth.get() - 1);\n        } else {\n            try {\n                JsonDepthLimited depthAnnotation = bean.getClass().getAnnotation(JsonDepthLimited.class);\n                String defaultFieldName = depthAnnotation.defaultField();\n                boolean includeNulls = depthAnnotation.includeNulls();\n                if (StringUtils.isNotEmpty(defaultFieldName)) {\n                    if (!includeNulls) {\n                        Arrays.stream(_props).\n                                filter(p -&gt; p.getName().equals(defaultFieldName))\n                                .findFirst().orElseThrow()\n                                .serializeAsField(bean, gen, provider);\n                    } else {\n                        Arrays.stream(_props).forEach(p -&gt; {\n                            try {\n                                if (p.getName().equals(defaultFieldName)) {\n                                    p.serializeAsField(bean, gen, provider);\n                                } else {\n                                    gen.writeNullField(p.getName());\n                                }\n                            } catch (Exception e) {\n                                throw new RuntimeException(e);\n                            }\n                        });\n                    }\n\n                }\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    @Override\n    protected BeanSerializerBase asArraySerializer() {\n        if ((_objectIdWriter == null)\n                &amp;&amp; (_anyGetterWriter == null)\n                &amp;&amp; (_propertyFilterId == null)\n        ) {\n            return new BeanAsArraySerializer(this);\n        }\n        // already is one, so:\n        return this;\n    }\n\n    @Override\n    public BeanSerializerBase withFilterId(Object filterId) {\n        return new DepthLimitedSerializer(this, _objectIdWriter, filterId);\n    }\n\n    @Override\n    public void serialize(Object bean, JsonGenerator gen, SerializerProvider provider)\n            throws IOException {\n\n        if (src == null || src instanceof BeanSerializerBase) {\n            if (_objectIdWriter != null) {\n                gen.setCurrentValue(bean); // [databind#631]\n                _serializeWithObjectId(bean, gen, provider, true);\n                return;\n            }\n            gen.writeStartObject(bean);\n            if (_propertyFilterId != null) {\n                serializeFieldsFiltered(bean, gen, provider);\n            } else {\n                serializeFields(bean, gen, provider);\n            }\n            gen.writeEndObject();\n\n        } else {\n            if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\n                Class&lt;?&gt; t = src.handledType();\n                src.serialize(t.cast(bean), gen, provider);\n            } else {\n                gen.writeNull();\n            }\n        }\n\n    }\n\n    @Override public String toString() {\n        return &quot;DepthAwareSerializer for &quot; + handledType().getName();\n    }\n}\n</code></pre>\n<p>This annotation marks the classes included and lets us pass a few arguments.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\npublic @interface JsonDepthLimited {\n    String defaultField() default StringUtils.EMPTY;\n    boolean includeNulls() default false;\n}\n</code></pre>\n<p>And here is our POJO hierarchy to demonstrate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDepthLimited(defaultField = &quot;id&quot;)\n@Getter @Setter\npublic class BaseClass {\n    private String id;\n    private String someBaseProperty;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\n@JsonSerialize(using = FooSerializer.class)\npublic class Foo extends BaseClass {\n    private String someFooProperty;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\npublic class Bar extends BaseClass {\n    String someBarProperty;\n    Foo fooOfBar;\n}\n</code></pre>\n<p>A custom serializer for <code>Foo</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooSerializer extends StdSerializer&lt;Foo&gt; {\n    protected FooSerializer() {\n        super(Foo.class);\n    }\n\n    public void serialize(Foo foo, JsonGenerator jgen, SerializerProvider serializerProvider)\n            throws IOException {\n        jgen.writeStartObject();\n        jgen.writeStringField(&quot;custom&quot;, foo.getId() + &quot;!&quot; + foo.getSomeFooProperty());\n        jgen.writeEndObject();\n    }\n}\n</code></pre>\n<p>And finally, the demonstration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass SerializeTest {\n    @Test\n    void testSerialization() throws JsonProcessingException {\n        Foo foo = new Foo();\n        foo.setId(&quot;fooID&quot;);\n        foo.setSomeBaseProperty(&quot;someBaseValue&quot;);\n        foo.setSomeFooProperty(&quot;foo property value&quot;);\n\n        Bar bar = new Bar();\n        bar.setId(&quot;barId&quot;);\n        bar.setSomeBaseProperty(&quot;base of Bar&quot;);\n        bar.setFooOfBar(foo);\n        bar.setSomeBarProperty(&quot;bar property value&quot;);\n\n        String depthOfZero = testSerializationToDepthOf(bar, 0);\n        System.out.println(&quot;depth of ZERO: &quot; + depthOfZero);\n        String depthOfOne = testSerializationToDepthOf(bar, 1);\n        System.out.println(&quot;depth of ONE: &quot; + depthOfOne);\n    }\n\n    String testSerializationToDepthOf(BaseClass model, int depth) throws JsonProcessingException {\n        ObjectMapper jackson = new ObjectMapper();\n        jackson.enable(SerializationFeature.INDENT_OUTPUT);\n        SerializerFactoryConfig factoryConfig = new SerializerFactoryConfig();\n        jackson.setSerializerFactory(new FixedBeanSerializerFactory(factoryConfig));\n\n        if (depth &gt;= 0) {\n            SimpleModule fragmentModule = new SimpleModule(&quot;FragmentModule&quot;);\n            BeanSerializerModifier modifier = new BeanSerializerModifier() {\n                @Override\n                public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc,\n                                                          JsonSerializer&lt;?&gt; serializer) {\n                    if (beanDesc.getClassAnnotations().has(JsonDepthLimited.class)) {\n\n                        return DepthLimitedSerializer\n                                .forSerializer((JsonSerializer&lt;Object&gt;) serializer, beanDesc, depth);\n                    }\n                    return serializer;\n                }\n            };\n\n            fragmentModule.setSerializerModifier(modifier);\n            jackson.registerModule(fragmentModule);\n        }\n\n        return jackson.writeValueAsString(model);\n    }\n}\n</code></pre>\n<p>And here in the final output you can see that the custom serializer runs when the <code>depth</code> is set to <code>1</code>, but doesn't run (null is used) when the depth is set to <code>0</code>, exactly as it should.</p>\n<pre><code>depth of ZERO: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : null\n}\ndepth of ONE: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : {\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22801078,"reputation":79,"user_id":16953739,"display_name":"Joshua Chambers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77526785,"answer_count":1,"score":1,"last_activity_date":1700615932,"creation_date":1699995483,"question_id":77483790,"body_markdown":"Okay, so I&#39;ve built a functional custom `BeanSerializer`, which limits the depth of serialization, and I can use it as shown by creating a `SerializerModifier` and adding it to module.  This WORKS great and is called each time another nested field is encountered, creating the instance of `DepthLimitedSerializer` perfectly.  HOWEVER, when I add a custom serializer to the nested class (using `@JsonSerialize`), then my `modifySerializer` method NEVER RUNS on the nested field!\r\n\r\nHere is the simple class hierarchy, of which we will serialize the outer instance of `Bar`:\r\n\r\n```java\r\n@Getter @Setter\r\npublic class BaseClass {\r\n    private String id;\r\n    private String someBaseProperty;\r\n}\r\n```\r\n```java\r\n@Getter @Setter\r\n//@JsonSerialize(using = FooSerializer.class)\r\npublic class Foo extends BaseClass {\r\n    private String someFooProperty;\r\n\r\n}\r\n```\r\n```java \r\n@Getter @Setter\r\npublic class Bar extends BaseClass {\r\n    String someBarProperty;\r\n    Foo fooOfBar;\r\n}\r\n```\r\n\r\nAnd here is the simplified custom serializer to which you pass a `maxDepth` and if it reaches that depth, it ONLY serializes a single (`id`) field, otherwise, it simply calls the `super`:\r\n```java\r\npublic class DepthLimitedSerializer extends BeanSerializer {\r\n    public static int DEFAULT_DEPTH = 2;\r\n    private static final ThreadLocal&lt;Integer&gt; maxDepth = ThreadLocal.withInitial(() -&gt; DEFAULT_DEPTH);\r\n    private static final ThreadLocal&lt;Integer&gt; currentDepth = ThreadLocal.withInitial(() -&gt; -1);\r\n\r\n    public DepthLimitedSerializer(BeanSerializerBase src, int depth) {\r\n        super(src);\r\n        maxDepth.set(depth);\r\n    }\r\n\r\n    @Override\r\n    protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\r\n            currentDepth.set(currentDepth.get() + 1);\r\n\r\n            super.serializeFields(bean, gen, provider);\r\n\r\n            currentDepth.set(currentDepth.get() - 1);\r\n        } else {\r\n            try {\r\n                Arrays.stream(_props).\r\n                    filter(p -&gt; p.getName().equals(&quot;id&quot;))\r\n                    .findFirst().orElseThrow()\r\n                    .serializeAsField(bean, gen, provider);\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this simple test we populate a `Foo` and a `Bar` and serialize them:\r\n```java\r\nclass SerializeTest {\r\n    @Test\r\n    void testSerialization() throws JsonProcessingException {\r\n        Foo foo = new Foo();\r\n        foo.setId(&quot;fooID&quot;);\r\n        foo.setSomeBaseProperty(&quot;someBaseValue&quot;);\r\n        foo.setSomeFooProperty(&quot;foo property value&quot;);\r\n\r\n        Bar bar = new Bar();\r\n        bar.setId(&quot;barId&quot;);\r\n        bar.setSomeBaseProperty(&quot;base of Bar&quot;);\r\n        bar.setFooOfBar(foo);\r\n        bar.setSomeBarProperty(&quot;bar property value&quot;);\r\n\r\n        String depthOfZero = testSerializationToDepthOf(bar, 0);\r\n        System.out.println(&quot;depth of ZERO: &quot; + depthOfZero);\r\n        String depthOfOne = testSerializationToDepthOf(bar, 1);\r\n        System.out.println(&quot;depth of ONE: &quot; + depthOfOne);\r\n    }\r\n\r\n    String testSerializationToDepthOf(BaseClass model, int depth) throws JsonProcessingException {\r\n        ObjectMapper jackson = new ObjectMapper();\r\n        jackson.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n        SimpleModule module = new SimpleModule(&quot;TestModule&quot;);\r\n        module.setSerializerModifier(new BeanSerializerModifier() {\r\n            @Override\r\n            public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc,\r\n                                                      JsonSerializer&lt;?&gt; serializer) {\r\n                if (BaseClass.class.isAssignableFrom(beanDesc.getType().getRawClass())) {\r\n                    return new DepthLimitedSerializer((BeanSerializerBase) serializer, depth);\r\n                }\r\n                return super.modifySerializer(config, beanDesc, serializer);\r\n            }\r\n        });\r\n\r\n        jackson.registerModule(module);\r\n        return jackson.writeValueAsString(model);\r\n    }\r\n}\r\n```\r\n\r\nThis gives us exactly what we expect, notice that with a `depth` of `0`, we only get the `id` field of the nested `Foo fooOfBar`, which is correct, but at a `depth` of `1`, we get the full output.  This works to arbitrary depths just fine, and when it runs, that `modifySerializer` method as well as those in the `DepthLimitedSerializer` all run for EACH nested model! \r\n```\r\ndepth of ZERO: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : {\r\n    &quot;id&quot; : &quot;fooID&quot;\r\n  }\r\n}\r\ndepth of ONE: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : {\r\n    &quot;id&quot; : &quot;fooID&quot;,\r\n    &quot;someBaseProperty&quot; : &quot;someBaseValue&quot;,\r\n    &quot;someFooProperty&quot; : &quot;foo property value&quot;\r\n  }\r\n}\r\n```\r\n\r\nHOWEVER!  If one of these subclasses of `BaseClass` requires custom serialization, and I attempt to add a custom serializer for a particular class, like `Foo`:\r\n\r\n```java\r\npublic class FooSerializer extends StdSerializer&lt;Foo&gt; {\r\n\r\n    public FooSerializer() {\r\n        super(Foo.class);\r\n    }\r\n\r\n    public void serialize(Foo foo, JsonGenerator jgen, SerializerProvider serializerProvider)\r\n            throws IOException {\r\n        jgen.writeStartObject();\r\n        jgen.writeStringField(&quot;custom&quot;, foo.getId() + &quot;!&quot; + foo.getSomeFooProperty());\r\n        jgen.writeEndObject();\r\n    }\r\n}\r\n```\r\n\r\nAnd I uncomment the above `@JsonSerialize(using = FooSerializer.class)` line and assign the custom serializer to the class, then my `modifySerializer` method and all others are NEVER RUN for my custom-annotated nested class, and so the `depth` is ignored and the custom serializer just ALWAYS runs:\r\n```\r\ndepth of ZERO: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : {\r\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\r\n  }\r\n}\r\ndepth of ONE: {\r\n  &quot;id&quot; : &quot;barId&quot;,\r\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\r\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\r\n  &quot;fooOfBar&quot; : {\r\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\r\n  }\r\n}\r\n```\r\n\r\nThe behavior I would have expected is for the `modifySerializer` method to STILL be run, and then for the `super.modifySerializer()` call to find that the `FooSerializer`, but instead it&#39;s only run for the top-level object (and others, not so custom annotated).\r\n\r\nHow can I achieve this behavior?  I tried to make the custom serializer `extends `DepthLimitedSerializer`, but they are of different types of Jackson `Serializer` and I have thus far been unable to reconcile them and get them to work together in the correct order!  Clearly I can&#39;t use the annotation to assign the serializer, but how can I?\r\n\r\nThank you all.","title":"Nested objects not being processed by `SerializerModifier` when class has custom Serializer (Jackson)","body":"<p>Okay, so I've built a functional custom <code>BeanSerializer</code>, which limits the depth of serialization, and I can use it as shown by creating a <code>SerializerModifier</code> and adding it to module.  This WORKS great and is called each time another nested field is encountered, creating the instance of <code>DepthLimitedSerializer</code> perfectly.  HOWEVER, when I add a custom serializer to the nested class (using <code>@JsonSerialize</code>), then my <code>modifySerializer</code> method NEVER RUNS on the nested field!</p>\n<p>Here is the simple class hierarchy, of which we will serialize the outer instance of <code>Bar</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\npublic class BaseClass {\n    private String id;\n    private String someBaseProperty;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\n//@JsonSerialize(using = FooSerializer.class)\npublic class Foo extends BaseClass {\n    private String someFooProperty;\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\npublic class Bar extends BaseClass {\n    String someBarProperty;\n    Foo fooOfBar;\n}\n</code></pre>\n<p>And here is the simplified custom serializer to which you pass a <code>maxDepth</code> and if it reaches that depth, it ONLY serializes a single (<code>id</code>) field, otherwise, it simply calls the <code>super</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DepthLimitedSerializer extends BeanSerializer {\n    public static int DEFAULT_DEPTH = 2;\n    private static final ThreadLocal&lt;Integer&gt; maxDepth = ThreadLocal.withInitial(() -&gt; DEFAULT_DEPTH);\n    private static final ThreadLocal&lt;Integer&gt; currentDepth = ThreadLocal.withInitial(() -&gt; -1);\n\n    public DepthLimitedSerializer(BeanSerializerBase src, int depth) {\n        super(src);\n        maxDepth.set(depth);\n    }\n\n    @Override\n    protected void serializeFields(Object bean, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        if (maxDepth.get() &lt; 0 || currentDepth.get() &lt; maxDepth.get()) {\n            currentDepth.set(currentDepth.get() + 1);\n\n            super.serializeFields(bean, gen, provider);\n\n            currentDepth.set(currentDepth.get() - 1);\n        } else {\n            try {\n                Arrays.stream(_props).\n                    filter(p -&gt; p.getName().equals(&quot;id&quot;))\n                    .findFirst().orElseThrow()\n                    .serializeAsField(bean, gen, provider);\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>In this simple test we populate a <code>Foo</code> and a <code>Bar</code> and serialize them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SerializeTest {\n    @Test\n    void testSerialization() throws JsonProcessingException {\n        Foo foo = new Foo();\n        foo.setId(&quot;fooID&quot;);\n        foo.setSomeBaseProperty(&quot;someBaseValue&quot;);\n        foo.setSomeFooProperty(&quot;foo property value&quot;);\n\n        Bar bar = new Bar();\n        bar.setId(&quot;barId&quot;);\n        bar.setSomeBaseProperty(&quot;base of Bar&quot;);\n        bar.setFooOfBar(foo);\n        bar.setSomeBarProperty(&quot;bar property value&quot;);\n\n        String depthOfZero = testSerializationToDepthOf(bar, 0);\n        System.out.println(&quot;depth of ZERO: &quot; + depthOfZero);\n        String depthOfOne = testSerializationToDepthOf(bar, 1);\n        System.out.println(&quot;depth of ONE: &quot; + depthOfOne);\n    }\n\n    String testSerializationToDepthOf(BaseClass model, int depth) throws JsonProcessingException {\n        ObjectMapper jackson = new ObjectMapper();\n        jackson.enable(SerializationFeature.INDENT_OUTPUT);\n\n        SimpleModule module = new SimpleModule(&quot;TestModule&quot;);\n        module.setSerializerModifier(new BeanSerializerModifier() {\n            @Override\n            public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc,\n                                                      JsonSerializer&lt;?&gt; serializer) {\n                if (BaseClass.class.isAssignableFrom(beanDesc.getType().getRawClass())) {\n                    return new DepthLimitedSerializer((BeanSerializerBase) serializer, depth);\n                }\n                return super.modifySerializer(config, beanDesc, serializer);\n            }\n        });\n\n        jackson.registerModule(module);\n        return jackson.writeValueAsString(model);\n    }\n}\n</code></pre>\n<p>This gives us exactly what we expect, notice that with a <code>depth</code> of <code>0</code>, we only get the <code>id</code> field of the nested <code>Foo fooOfBar</code>, which is correct, but at a <code>depth</code> of <code>1</code>, we get the full output.  This works to arbitrary depths just fine, and when it runs, that <code>modifySerializer</code> method as well as those in the <code>DepthLimitedSerializer</code> all run for EACH nested model!</p>\n<pre><code>depth of ZERO: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : {\n    &quot;id&quot; : &quot;fooID&quot;\n  }\n}\ndepth of ONE: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : {\n    &quot;id&quot; : &quot;fooID&quot;,\n    &quot;someBaseProperty&quot; : &quot;someBaseValue&quot;,\n    &quot;someFooProperty&quot; : &quot;foo property value&quot;\n  }\n}\n</code></pre>\n<p>HOWEVER!  If one of these subclasses of <code>BaseClass</code> requires custom serialization, and I attempt to add a custom serializer for a particular class, like <code>Foo</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooSerializer extends StdSerializer&lt;Foo&gt; {\n\n    public FooSerializer() {\n        super(Foo.class);\n    }\n\n    public void serialize(Foo foo, JsonGenerator jgen, SerializerProvider serializerProvider)\n            throws IOException {\n        jgen.writeStartObject();\n        jgen.writeStringField(&quot;custom&quot;, foo.getId() + &quot;!&quot; + foo.getSomeFooProperty());\n        jgen.writeEndObject();\n    }\n}\n</code></pre>\n<p>And I uncomment the above <code>@JsonSerialize(using = FooSerializer.class)</code> line and assign the custom serializer to the class, then my <code>modifySerializer</code> method and all others are NEVER RUN for my custom-annotated nested class, and so the <code>depth</code> is ignored and the custom serializer just ALWAYS runs:</p>\n<pre><code>depth of ZERO: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : {\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\n  }\n}\ndepth of ONE: {\n  &quot;id&quot; : &quot;barId&quot;,\n  &quot;someBaseProperty&quot; : &quot;base of Bar&quot;,\n  &quot;someBarProperty&quot; : &quot;bar property value&quot;,\n  &quot;fooOfBar&quot; : {\n    &quot;custom&quot; : &quot;fooID!foo property value&quot;\n  }\n}\n</code></pre>\n<p>The behavior I would have expected is for the <code>modifySerializer</code> method to STILL be run, and then for the <code>super.modifySerializer()</code> call to find that the <code>FooSerializer</code>, but instead it's only run for the top-level object (and others, not so custom annotated).</p>\n<p>How can I achieve this behavior?  I tried to make the custom serializer <code>extends </code>DepthLimitedSerializer<code>, but they are of different types of Jackson </code>Serializer` and I have thus far been unable to reconcile them and get them to work together in the correct order!  Clearly I can't use the annotation to assign the serializer, but how can I?</p>\n<p>Thank you all.</p>\n"},{"tags":["java","swt","jface"],"comments":[{"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"score":0,"creation_date":1390281983,"post_id":21231838,"comment_id":32012441,"body_markdown":"As question is voted up by other people, you can update your post with the requirement you had. i.e Why you need ONLY single element to be checked. Basically Tree viewer is used to represent hierarchical data ex: countries can have states and states can have districts etc etc. Surprisingly there is no class called **RadioTreeViewer** in SWT/JFACE where user can select single tree item.","body":"As question is voted up by other people, you can update your post with the requirement you had. i.e Why you need ONLY single element to be checked. Basically Tree viewer is used to represent hierarchical data ex: countries can have states and states can have districts etc etc. Surprisingly there is no class called <b>RadioTreeViewer</b> in SWT/JFACE where user can select single tree item."},{"owner":{"account_id":202490,"reputation":931,"user_id":449591,"accept_rate":42,"display_name":"mihirg"},"score":0,"creation_date":1390319822,"post_id":21231838,"comment_id":32035195,"body_markdown":"The requirement is something like this, when the use select&#39;s the tree element, I update a table control giving details of the element. The user can select any elements to view properties. By clicking on the checkbox the user selects an item for further processing. I thought the checkbox conveys the meaning &quot;check item for further processing&quot; better.","body":"The requirement is something like this, when the use select&#39;s the tree element, I update a table control giving details of the element. The user can select any elements to view properties. By clicking on the checkbox the user selects an item for further processing. I thought the checkbox conveys the meaning &quot;check item for further processing&quot; better."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1390382460,"post_id":21231838,"comment_id":32063002,"body_markdown":"@chimanrao Why did you delete your latest question?","body":"@chimanrao Why did you delete your latest question?"},{"owner":{"account_id":202490,"reputation":931,"user_id":449591,"accept_rate":42,"display_name":"mihirg"},"score":0,"creation_date":1390470225,"post_id":21231838,"comment_id":32108371,"body_markdown":"I had written some incorrect code, the removeAll was working. After a small break and cup of tea I found my mistake! The question was incorrect, so I deleted the question.","body":"I had written some incorrect code, the removeAll was working. After a small break and cup of tea I found my mistake! The question was incorrect, so I deleted the question."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1390553298,"post_id":21231838,"comment_id":32150466,"body_markdown":"@chimanrao If you&#39;re using a `TreeViewer`, you shouldn&#39;t manipulate the underlying `Tree`, but rather the content provider and then update the `TreeViewer`. Removing the items from the `Tree` directly may lead to unforeseen consequences...","body":"@chimanrao If you&#39;re using a <code>TreeViewer</code>, you shouldn&#39;t manipulate the underlying <code>Tree</code>, but rather the content provider and then update the <code>TreeViewer</code>. Removing the items from the <code>Tree</code> directly may lead to unforeseen consequences..."}],"answers":[{"comments":[{"owner":{"account_id":202490,"reputation":931,"user_id":449591,"accept_rate":42,"display_name":"mihirg"},"score":0,"creation_date":1390275469,"post_id":21232728,"comment_id":32010554,"body_markdown":"Yes, I worked with the `addCheckStateListener` and deselected all selected elements.","body":"Yes, I worked with the <code>addCheckStateListener</code> and deselected all selected elements."}],"tags":[],"owner":{"account_id":1483039,"reputation":8759,"user_id":1391924,"accept_rate":41,"display_name":"Chandrayya G K"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1390217032,"creation_date":1390217032,"answer_id":21232728,"question_id":21231838,"body_markdown":"**SWT.SINGLE** AND **SWT.MULTI** style bits are related to single or multiple selection in list, tree and tables.\r\n\r\nBut AFAIK you have to use **addCheckStateListener** and deselect all elements first and then toggle the check state of current element.","title":"CheckboxTreeViewer allow only one element to be checked","body":"<p><strong>SWT.SINGLE</strong> AND <strong>SWT.MULTI</strong> style bits are related to single or multiple selection in list, tree and tables.</p>\n\n<p>But AFAIK you have to use <strong>addCheckStateListener</strong> and deselect all elements first and then toggle the check state of current element.</p>\n"},{"comments":[{"owner":{"account_id":23004535,"reputation":1381,"user_id":17128041,"display_name":"sidharth vijayakumar"},"score":1,"creation_date":1700628794,"post_id":77526830,"comment_id":136676778,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77526830/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29962076,"reputation":1,"user_id":22961502,"display_name":"SUNGHWAN JANG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700615917,"creation_date":1700615917,"answer_id":77526830,"question_id":21231838,"body_markdown":"\tCheckboxTreeViewer treeViewer;\r\n\tICheckStateListener checkStateListener= new ICheckStateListener() {\r\n\t\t@Override\r\n\t\tpublic void checkStateChanged(CheckStateChangedEvent event) {\r\n\t\t\tObject checked = event.getElement();\r\n\t\t\ttreeViewer.setCheckedElements(new Object[]{checked});\r\n\t\t}\r\n\t};","title":"CheckboxTreeViewer allow only one element to be checked","body":"<pre><code>CheckboxTreeViewer treeViewer;\nICheckStateListener checkStateListener= new ICheckStateListener() {\n    @Override\n    public void checkStateChanged(CheckStateChangedEvent event) {\n        Object checked = event.getElement();\n        treeViewer.setCheckedElements(new Object[]{checked});\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":202490,"reputation":931,"user_id":449591,"accept_rate":42,"display_name":"mihirg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21232728,"answer_count":2,"score":4,"last_activity_date":1700615917,"creation_date":1390214637,"question_id":21231838,"body_markdown":"How do I force the `CheckboxTreeViewer` class to allow for only one checked element? \r\nI could not find a style that enforces this behavior. \r\n\r\nThe only other alternative I have to so capture the check event and uncheck the other elements","title":"CheckboxTreeViewer allow only one element to be checked","body":"<p>How do I force the <code>CheckboxTreeViewer</code> class to allow for only one checked element? \nI could not find a style that enforces this behavior. </p>\n\n<p>The only other alternative I have to so capture the check event and uncheck the other elements</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":11271392,"reputation":1064,"user_id":8266738,"display_name":"Michael"},"score":2,"creation_date":1563542202,"post_id":57113091,"comment_id":100745362,"body_markdown":"Your are simply missing the slf4j API. You need to add it as a dependency. :)","body":"Your are simply missing the slf4j API. You need to add it as a dependency. :)"}],"answers":[{"comments":[{"owner":{"account_id":7929172,"reputation":1787,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":1,"creation_date":1586066190,"post_id":57113242,"comment_id":107985171,"body_markdown":"This worked for me. Although in a spring boot, I just added lombok and it worked. In a standalone project I needed to add sl4j along with lombok. Maybe Spring Boot automatically gets all lombok&#39;s extern packages or something.","body":"This worked for me. Although in a spring boot, I just added lombok and it worked. In a standalone project I needed to add sl4j along with lombok. Maybe Spring Boot automatically gets all lombok&#39;s extern packages or something."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1588728271,"post_id":57113242,"comment_id":109008824,"body_markdown":"@theprogrammer I believe spring boot included slf4j, specifically.","body":"@theprogrammer I believe spring boot included slf4j, specifically."},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1611424435,"post_id":57113242,"comment_id":116449104,"body_markdown":"When we include spring-boot-starter-web or spring-boot-starter-data-jpa dependency then slf4j comes automatically with them.","body":"When we include spring-boot-starter-web or spring-boot-starter-data-jpa dependency then slf4j comes automatically with them."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1615019223,"post_id":57113242,"comment_id":117566471,"body_markdown":"Actually springboot provides implementation of Slf4j for you. When you add lombok to apps or modules without springboot - you don&#39;t have the implementation provided.","body":"Actually springboot provides implementation of Slf4j for you. When you add lombok to apps or modules without springboot - you don&#39;t have the implementation provided."},{"owner":{"account_id":738442,"reputation":868,"user_id":871653,"accept_rate":90,"display_name":"sasynkamil"},"score":0,"creation_date":1619096731,"post_id":57113242,"comment_id":118805350,"body_markdown":"I was working in my SpringBoot project few weeks (no slf4j in pom) and one day I started getting the same exception during compilation in IDE. Maven packaging was working correctly. I had to remove all IntelliJ generated files from project and import project (from pom) from scratch.","body":"I was working in my SpringBoot project few weeks (no slf4j in pom) and one day I started getting the same exception during compilation in IDE. Maven packaging was working correctly. I had to remove all IntelliJ generated files from project and import project (from pom) from scratch."},{"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"score":0,"creation_date":1641735784,"post_id":57113242,"comment_id":124878282,"body_markdown":"In spring boot &quot;spring-boot-starter&quot;  includes this dependency. Other starters such as spring-boot-starter-web or spring-boot-starter-data-jpa add spring-boot-starter as a dependency.","body":"In spring boot &quot;spring-boot-starter&quot;  includes this dependency. Other starters such as spring-boot-starter-web or spring-boot-starter-data-jpa add spring-boot-starter as a dependency."},{"owner":{"account_id":1806558,"reputation":4512,"user_id":1643558,"accept_rate":73,"display_name":"tgkprog"},"score":0,"creation_date":1701924670,"post_id":57113242,"comment_id":136835993,"body_markdown":"Lombok is just code gen. Does not add other dependancies, which is a good thing","body":"Lombok is just code gen. Does not add other dependancies, which is a good thing"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1700615904,"creation_date":1563541918,"answer_id":57113242,"question_id":57113091,"body_markdown":"You also need to add slf4j itself as a dependency to your project by including it in your pom file. All lombok features in the `lombok.extern` package share this property: They help you use a library that is _NOT_ already available out of the box as part of java itself, and for all of them, lombok does not inherently include any of these dependencies.\r\n\r\nShould be as simple as adding the following block to your `pom.xml`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.7.26&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Adding lombok dependency and @Slf4j does not let use logger","body":"<p>You also need to add slf4j itself as a dependency to your project by including it in your pom file. All lombok features in the <code>lombok.extern</code> package share this property: They help you use a library that is <em>NOT</em> already available out of the box as part of java itself, and for all of them, lombok does not inherently include any of these dependencies.</p>\n<p>Should be as simple as adding the following block to your <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;1.7.26&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":6,"creation_date":1563542272,"post_id":57113252,"comment_id":100745398,"body_markdown":"The asker made absolutely no mention of intellij, and the error makes entirely clear that lombok is working fine, but the slf4j dependency isn&#39;t there, thus proving this answer is irrelevant.","body":"The asker made absolutely no mention of intellij, and the error makes entirely clear that lombok is working fine, but the slf4j dependency isn&#39;t there, thus proving this answer is irrelevant."},{"owner":{"account_id":14709639,"reputation":966,"user_id":10623338,"display_name":"John Allison"},"score":3,"creation_date":1608808273,"post_id":57113252,"comment_id":115690437,"body_markdown":"This problem is IDE-agnostic.","body":"This problem is IDE-agnostic."},{"owner":{"account_id":7892672,"reputation":352,"user_id":5962348,"display_name":"Nauman Shah"},"score":0,"creation_date":1655721625,"post_id":57113252,"comment_id":128391077,"body_markdown":"Issue is not with intellij. It is a compilation error issue","body":"Issue is not with intellij. It is a compilation error issue"}],"tags":[],"owner":{"account_id":5291481,"reputation":23,"user_id":4223936,"display_name":"Victor"},"comment_count":3,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1563541954,"creation_date":1563541954,"answer_id":57113252,"question_id":57113091,"body_markdown":"You&#39;ll need to install the Lombok plugin in IntelliJ(IDE) if you want IntelliJ to recognize Lombok annotations. and restart your IDE to reflact the changes.\r\n ","title":"Adding lombok dependency and @Slf4j does not let use logger","body":"<p>You'll need to install the Lombok plugin in IntelliJ(IDE) if you want IntelliJ to recognize Lombok annotations. and restart your IDE to reflact the changes.</p>\n"},{"tags":[],"owner":{"account_id":36818,"reputation":2521,"user_id":105101,"display_name":"Greg"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582393719,"creation_date":1582393719,"answer_id":60355030,"question_id":57113091,"body_markdown":"I tried adding slf4j-api as a dependency as rzwitserloot suggested above, but that did not work for me. Adding it as a plugin in my build.gradle file did, though:\r\n\r\n    plugins {\r\n        ...\r\n        id &#39;io.freefair.lombok&#39; version &#39;4.1.6&#39;\r\n        ...\r\n    }\r\n","title":"Adding lombok dependency and @Slf4j does not let use logger","body":"<p>I tried adding slf4j-api as a dependency as rzwitserloot suggested above, but that did not work for me. Adding it as a plugin in my build.gradle file did, though:</p>\n\n<pre><code>plugins {\n    ...\n    id 'io.freefair.lombok' version '4.1.6'\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":16285288,"reputation":315,"user_id":11760201,"display_name":"makiz123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40404,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":57113242,"answer_count":3,"score":31,"last_activity_date":1700615904,"creation_date":1563541313,"question_id":57113091,"body_markdown":"I want to use logger from Lombok. I added `@Slf4j` annotation, added dependency and it says that it cannot resolve symbol `log`. `Error:(5, 1) java: package org.slf4j does not exist`\r\n```java\r\npackage a;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\npublic class a {\r\n    public static void main(String[] args) {\r\n        log.info(&quot;lala&quot;);\r\n    }\r\n}\r\n```\r\n**pom.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;a&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;a&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.8&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Adding lombok dependency and @Slf4j does not let use logger","body":"<p>I want to use logger from Lombok. I added <code>@Slf4j</code> annotation, added dependency and it says that it cannot resolve symbol <code>log</code>. <code>Error:(5, 1) java: package org.slf4j does not exist</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package a;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class a {\n    public static void main(String[] args) {\n        log.info(\"lala\");\n    }\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;a&lt;/groupId&gt;\n    &lt;artifactId&gt;a&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.8&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","apache-spark","group-by"],"owner":{"account_id":3980399,"reputation":309,"user_id":3282435,"accept_rate":100,"display_name":"Nikki Mino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700615238,"creation_date":1700615238,"question_id":77526796,"body_markdown":"I have a data with timestamps and would like to aggregate them into 10-minute intervals. I tried to groupBy, however, timestamps can only be split into hourly intervals without using any UDF.\r\n\r\nSample data\r\n\r\n    id\ttimestamp\r\n    b\t2/22/2022 8:31\r\n    a\t2/22/2022 8:37\r\n    b\t2/22/2022 8:46\r\n    b\t2/22/2022 9:46\r\n    a\t2/22/2022 9:48\r\n\r\nResult wanted\r\n\r\n    interval\ttimestamp\tid\r\n       1\t2/22/2022 8:31\tb\r\n       1\t2/22/2022 8:37\ta\r\n       2\t2/22/2022 8:46\tb\r\n       3\t2/22/2022 9:46\tb\r\n       3\t2/22/2022 9:48\ta\r\n\r\n","title":"Spark Java aggregate timestamp by intervals e.g. aggregate every 10 minutes","body":"<p>I have a data with timestamps and would like to aggregate them into 10-minute intervals. I tried to groupBy, however, timestamps can only be split into hourly intervals without using any UDF.</p>\n<p>Sample data</p>\n<pre><code>id  timestamp\nb   2/22/2022 8:31\na   2/22/2022 8:37\nb   2/22/2022 8:46\nb   2/22/2022 9:46\na   2/22/2022 9:48\n</code></pre>\n<p>Result wanted</p>\n<pre><code>interval    timestamp   id\n   1    2/22/2022 8:31  b\n   1    2/22/2022 8:37  a\n   2    2/22/2022 8:46  b\n   3    2/22/2022 9:46  b\n   3    2/22/2022 9:48  a\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":264899,"reputation":495,"user_id":551512,"accept_rate":32,"display_name":"thurmc"},"score":0,"creation_date":1700613132,"post_id":77526666,"comment_id":136675524,"body_markdown":"I did but I ended up finding the issue: one of the gradle dependencies was importing a ControllerAdvice annotated class which caught all exceptions being thrown and converting it to an INTERNAL_SERVER_ERROR status.  I&#39;ll update my question.","body":"I did but I ended up finding the issue: one of the gradle dependencies was importing a ControllerAdvice annotated class which caught all exceptions being thrown and converting it to an INTERNAL_SERVER_ERROR status.  I&#39;ll update my question."},{"owner":{"account_id":27142702,"reputation":3,"user_id":20683365,"display_name":"Terry K."},"score":0,"creation_date":1700613384,"post_id":77526666,"comment_id":136675548,"body_markdown":"Oh, thank you for sharing reason of issue!","body":"Oh, thank you for sharing reason of issue!"}],"tags":[],"owner":{"account_id":27142702,"reputation":3,"user_id":20683365,"display_name":"Terry K."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700612432,"creation_date":1700612432,"answer_id":77526666,"question_id":77526327,"body_markdown":"Did you remove the ControllerAdvice class you were using previously? \r\nThere is a possibility that the previously used ControllerAdvice class is handling the exception that occurred, or that DefaultHandlerExceptionResolver rather than ResponseStatusExceptionResolver is catching it due to some configuration.","title":"ResponseStatusException in Spring 5.3 returning 500 for BAD_REQUEST","body":"<p>Did you remove the ControllerAdvice class you were using previously?\nThere is a possibility that the previously used ControllerAdvice class is handling the exception that occurred, or that DefaultHandlerExceptionResolver rather than ResponseStatusExceptionResolver is catching it due to some configuration.</p>\n"},{"tags":[],"owner":{"account_id":264899,"reputation":495,"user_id":551512,"accept_rate":32,"display_name":"thurmc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700614666,"creation_date":1700613270,"answer_id":77526708,"question_id":77526327,"body_markdown":"Found the cause which was that one of the gradle dependencies was importing a @ControllerAdvice annotated class which was catching all exceptions and if it didn&#39;t have the specific exception type in a switch case it was treating it as an INTERNAL_SERVICE_ERROR.  Excluding the class from being used using `@SpringBootApplication(exclude = UnwantedExceptionHandler.class)` fixed the issue","title":"ResponseStatusException in Spring 5.3 returning 500 for BAD_REQUEST","body":"<p>Found the cause which was that one of the gradle dependencies was importing a @ControllerAdvice annotated class which was catching all exceptions and if it didn't have the specific exception type in a switch case it was treating it as an INTERNAL_SERVICE_ERROR.  Excluding the class from being used using <code>@SpringBootApplication(exclude = UnwantedExceptionHandler.class)</code> fixed the issue</p>\n"}],"owner":{"account_id":264899,"reputation":495,"user_id":551512,"accept_rate":32,"display_name":"thurmc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700614666,"creation_date":1700606243,"question_id":77526327,"body_markdown":"Recently switched from using ControllerAdvice to using the ResponseStatusException which was introduced in Spring 5 but instead of getting a response code that matches the status passed into the ResponseStatusException constructor I am getting a 500 and the message includes the response code.  Any idea what the issue is here?  I can&#39;t seem to find anything on SO or online anywhere.  spring-web version is 5.3.9. \r\n\r\nEdit: Did some investigation and it looks like the ResponseStatusException is not being handled by the ResponseStatusExceptionHandler.  Any idea why that might be?\r\n\r\nEdit 2: Found the cause which was that one of the gradle dependencies was importing a `@ControllerAdvice` annotated class which was catching all exceptions and if it didn&#39;t have the specific exception type in a switch case it was treating it as an `INTERNAL_SERVICE_ERROR`.  \r\n\r\n    @RestController\r\n    @RequestMapping(V_1)\r\n    public class SpringController {\r\n\r\n        @PostMapping(value = /bids, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;Object&gt; postBids(@Valid @RequestBody BidRequest bidRequest) throws JsonProcessingException {\r\n\r\n            if (!validateBidRequest(bidRequest)) {\r\n                throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Bid request fails validation&quot;);\r\n            }\r\n\r\n            return ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(response);\r\n        }\r\n\r\n        private boolean validateBidRequest(BidRequest bidRequest) {\r\n            return bidRequest.getApplication() != null;\r\n        }\r\n    }\r\n\r\nResponse:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2023-11-21T22:25:41.507509Z&quot;,\r\n        &quot;id&quot;: &quot;13f34470-842c-4a53-8c9d-57186446e301&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;name&quot;: &quot;org.springframework.web.server.ResponseStatusException&quot;,\r\n        &quot;message&quot;: &quot;400 BAD_REQUEST \\&quot;Bid request fails validation\\&quot;&quot;\r\n    }","title":"ResponseStatusException in Spring 5.3 returning 500 for BAD_REQUEST","body":"<p>Recently switched from using ControllerAdvice to using the ResponseStatusException which was introduced in Spring 5 but instead of getting a response code that matches the status passed into the ResponseStatusException constructor I am getting a 500 and the message includes the response code.  Any idea what the issue is here?  I can't seem to find anything on SO or online anywhere.  spring-web version is 5.3.9.</p>\n<p>Edit: Did some investigation and it looks like the ResponseStatusException is not being handled by the ResponseStatusExceptionHandler.  Any idea why that might be?</p>\n<p>Edit 2: Found the cause which was that one of the gradle dependencies was importing a <code>@ControllerAdvice</code> annotated class which was catching all exceptions and if it didn't have the specific exception type in a switch case it was treating it as an <code>INTERNAL_SERVICE_ERROR</code>.</p>\n<pre><code>@RestController\n@RequestMapping(V_1)\npublic class SpringController {\n\n    @PostMapping(value = /bids, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Object&gt; postBids(@Valid @RequestBody BidRequest bidRequest) throws JsonProcessingException {\n\n        if (!validateBidRequest(bidRequest)) {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Bid request fails validation&quot;);\n        }\n\n        return ResponseEntity.ok().contentType(MediaType.APPLICATION_JSON).body(response);\n    }\n\n    private boolean validateBidRequest(BidRequest bidRequest) {\n        return bidRequest.getApplication() != null;\n    }\n}\n</code></pre>\n<p>Response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-11-21T22:25:41.507509Z&quot;,\n    &quot;id&quot;: &quot;13f34470-842c-4a53-8c9d-57186446e301&quot;,\n    &quot;status&quot;: 500,\n    &quot;name&quot;: &quot;org.springframework.web.server.ResponseStatusException&quot;,\n    &quot;message&quot;: &quot;400 BAD_REQUEST \\&quot;Bid request fails validation\\&quot;&quot;\n}\n</code></pre>\n"},{"tags":["java","class","mergesort"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700412988,"post_id":77511513,"comment_id":136648541,"body_markdown":"Can you, please,  provide a link to the problem description on the coding website?","body":"Can you, please,  provide a link to the problem description on the coding website?"},{"owner":{"account_id":18425830,"reputation":11,"user_id":22657374,"display_name":"Kavija Karunarathna"},"score":1,"creation_date":1700413395,"post_id":77511513,"comment_id":136648590,"body_markdown":"https://www.hackerrank.com/challenges/fraudulent-activity-notifications/problem?isFullScreen=true","body":"<a href=\"https://www.hackerrank.com/challenges/fraudulent-activity-notifications/problem?isFullScreen=true\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/fraudulent-activity-notifications/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700414602,"post_id":77511513,"comment_id":136648725,"body_markdown":"So, code in `public class Solution` was provided by HackerRank.  You added code to complete the `public static int activityNotifications(List&lt;Integer&gt; expenditure, int d)` method, as instructed. You also added `class MergeSort`.","body":"So, code in <code>public class Solution</code> was provided by HackerRank.  You added code to complete the <code>public static int activityNotifications(List&lt;Integer&gt; expenditure, int d)</code> method, as instructed. You also added <code>class MergeSort</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700414752,"post_id":77511513,"comment_id":136648742,"body_markdown":"Off-topic: Instead of adding and using code for `MergeSort` , have you considered completing this HackerRank problem by calling [`List#sort(Comparator&lt;? super E&gt; c)`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)) method?","body":"Off-topic: Instead of adding and using code for <code>MergeSort</code> , have you considered completing this HackerRank problem by calling <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/List.html#sort(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>List#sort(Comparator&lt;? super E&gt; c)</code></a> method?"},{"owner":{"account_id":18425830,"reputation":11,"user_id":22657374,"display_name":"Kavija Karunarathna"},"score":0,"creation_date":1700414943,"post_id":77511513,"comment_id":136648755,"body_markdown":"I&#39;ll surely check it out, I&#39;m new to the Java language:)","body":"I&#39;ll surely check it out, I&#39;m new to the Java language:)"}],"answers":[{"tags":[],"owner":{"account_id":5823909,"reputation":136979,"user_id":4593267,"accept_rate":62,"display_name":"chqrlie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700613702,"creation_date":1700613702,"answer_id":77526727,"question_id":77511513,"body_markdown":"The 2 `while` loops in the `merge` method should be outside the body of the outer `while` loop:\r\n\r\n```\r\n    public static void merge(int[] arr, int l, int mid, int h) {\r\n        int n1 = mid - l + 1;\r\n        int n2 = h - mid;\r\n\r\n        int[] L = new int[n1];\r\n        int[] R = new int[n2];\r\n\r\n        for (int p = 0; p &lt; n1; p++) {\r\n            L[p] = arr[p + l];\r\n        }\r\n\r\n        for (int p = 0; p &lt; n2; p++) {\r\n            R[p] = arr[p + mid + 1];\r\n        }\r\n\r\n        int k = l;\r\n        int i = 0;\r\n        int j = 0;\r\n\r\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\r\n            if (arr[i] &lt;= arr[j]) {\r\n                arr[k] = L[i];\r\n                i++;\r\n                k++;\r\n            } else {\r\n                arr[k] = R[j];\r\n                j++;\r\n                k++;\r\n            }\r\n        }\r\n        while (i &lt; n1) {\r\n            arr[k] = L[i];\r\n            i++;\r\n            k++;\r\n        }\r\n        while (j &lt; n2) {\r\n            arr[k] = R[j];\r\n            j++;\r\n            k++;\r\n        }\r\n    }  \r\n}\r\n```","title":"MergeSort does not modify the array that I pass into the method","body":"<p>The 2 <code>while</code> loops in the <code>merge</code> method should be outside the body of the outer <code>while</code> loop:</p>\n<pre><code>    public static void merge(int[] arr, int l, int mid, int h) {\n        int n1 = mid - l + 1;\n        int n2 = h - mid;\n\n        int[] L = new int[n1];\n        int[] R = new int[n2];\n\n        for (int p = 0; p &lt; n1; p++) {\n            L[p] = arr[p + l];\n        }\n\n        for (int p = 0; p &lt; n2; p++) {\n            R[p] = arr[p + mid + 1];\n        }\n\n        int k = l;\n        int i = 0;\n        int j = 0;\n\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\n            if (arr[i] &lt;= arr[j]) {\n                arr[k] = L[i];\n                i++;\n                k++;\n            } else {\n                arr[k] = R[j];\n                j++;\n                k++;\n            }\n        }\n        while (i &lt; n1) {\n            arr[k] = L[i];\n            i++;\n            k++;\n        }\n        while (j &lt; n2) {\n            arr[k] = R[j];\n            j++;\n            k++;\n        }\n    }  \n}\n</code></pre>\n"}],"owner":{"account_id":18425830,"reputation":11,"user_id":22657374,"display_name":"Kavija Karunarathna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700613702,"creation_date":1700410294,"question_id":77511513,"body_markdown":"\r\n```\r\nclass Result {\r\n    public static int activityNotifications(List&lt;Integer&gt; expenditure, int d) {\r\n        int notices = 0;\r\n        int len = expenditure.size();\r\n        for(int i = d; i &lt; len; i++){\r\n            int[] clone = new int[d];\r\n\r\n            for(int j = 0; j &lt; d; j++){\r\n                clone[j] = expenditure.get(i - d + j);\r\n            }\r\n\r\n            MergeSort.mergeSort(clone, 0, d - 1);\r\n            double median;\r\n            if (d % 2 == 0){\r\n                median = (clone[d/2] + clone[d/2 + 1]) / 2.0;\r\n            } else{\r\n                median = clone[d / 2];\r\n            }\r\n            if(expenditure.get(i) &gt;= median * 2){\r\n                notices++;\r\n            }\r\n        }\r\n        return notices;\r\n    }\r\n}\r\n\r\nclass MergeSort{\r\n    public static void mergeSort(int[] arr, int l, int h){\r\n        if (l &lt; h){\r\n            int mid  = (l + h) / 2;\r\n            mergeSort(arr, l ,mid);\r\n            mergeSort(arr, mid + 1 , h);\r\n            merge(arr, l, mid, h);\r\n        }\r\n    }\r\n\r\n    public static void merge(int[] arr, int l, int mid, int h){\r\n        int n1 = mid - l + 1;\r\n        int n2 = h - mid;\r\n\r\n        int[] L = new int[n1];\r\n        int[] R = new int[n2];\r\n\r\n        for (int p = 0; p &lt; n1; p++){\r\n            L[p] = arr[p + l];\r\n        }\r\n\r\n        for (int p = 0; p &lt; n2; p++){\r\n            R[p] = arr[p + mid + 1];\r\n        }\r\n\r\n        int k = l;\r\n        int i = 0;\r\n        int j = 0;\r\n\r\n        while (i &lt; n1 &amp;&amp; j &lt; n2){\r\n            if (arr[i] &lt;= arr[j]){\r\n                arr[k] = L[i];\r\n                i++;\r\n                k++;\r\n            }\r\n            else {\r\n                arr[k] = R[j];\r\n                j++;\r\n                k++;\r\n            }\r\n\r\n            while(i &lt; n1){\r\n                arr[k] = L[i];\r\n                i++;\r\n                k++;\r\n            }\r\n\r\n            while(j &lt; n2){\r\n                arr[k] = R[j];\r\n                j++;\r\n                k++;\r\n            }\r\n        }\r\n    }  \r\n}\r\n\r\n\r\npublic class Solution {\r\n    public static void main(String[] args) throws IOException {\r\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n        BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(System.getenv(&quot;OUTPUT_PATH&quot;)));\r\n\r\n        String[] firstMultipleInput = bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;);\r\n\r\n        int n = Integer.parseInt(firstMultipleInput[0]);\r\n\r\n        int d = Integer.parseInt(firstMultipleInput[1]);\r\n\r\n        List&lt;Integer&gt; expenditure = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\r\n            .map(Integer::parseInt)\r\n            .collect(toList());\r\n\r\n        int result = Result.activityNotifications(expenditure, d);\r\n\r\n        bufferedWriter.write(String.valueOf(result));\r\n        bufferedWriter.newLine();\r\n\r\n        bufferedReader.close();\r\n        bufferedWriter.close();\r\n    }\r\n}\r\n```\r\n\r\nThis is the code. Basically everything works fine on my IDE, when I create a MergeSort.java file and then I created an instance of the class and used the static mergeSort method to sort the array.\r\nBut when I run it on this coding website which allows only one file, I cramped in the MergeSort class into the same file. And now I&#39;ve realized that no actual change is done to the array that is passed in to the method. Can I please know why?\r\n\r\nI tried different things but wasn&#39;t able to get the sorting to work. ","title":"MergeSort does not modify the array that I pass into the method","body":"<pre><code>class Result {\n    public static int activityNotifications(List&lt;Integer&gt; expenditure, int d) {\n        int notices = 0;\n        int len = expenditure.size();\n        for(int i = d; i &lt; len; i++){\n            int[] clone = new int[d];\n\n            for(int j = 0; j &lt; d; j++){\n                clone[j] = expenditure.get(i - d + j);\n            }\n\n            MergeSort.mergeSort(clone, 0, d - 1);\n            double median;\n            if (d % 2 == 0){\n                median = (clone[d/2] + clone[d/2 + 1]) / 2.0;\n            } else{\n                median = clone[d / 2];\n            }\n            if(expenditure.get(i) &gt;= median * 2){\n                notices++;\n            }\n        }\n        return notices;\n    }\n}\n\nclass MergeSort{\n    public static void mergeSort(int[] arr, int l, int h){\n        if (l &lt; h){\n            int mid  = (l + h) / 2;\n            mergeSort(arr, l ,mid);\n            mergeSort(arr, mid + 1 , h);\n            merge(arr, l, mid, h);\n        }\n    }\n\n    public static void merge(int[] arr, int l, int mid, int h){\n        int n1 = mid - l + 1;\n        int n2 = h - mid;\n\n        int[] L = new int[n1];\n        int[] R = new int[n2];\n\n        for (int p = 0; p &lt; n1; p++){\n            L[p] = arr[p + l];\n        }\n\n        for (int p = 0; p &lt; n2; p++){\n            R[p] = arr[p + mid + 1];\n        }\n\n        int k = l;\n        int i = 0;\n        int j = 0;\n\n        while (i &lt; n1 &amp;&amp; j &lt; n2){\n            if (arr[i] &lt;= arr[j]){\n                arr[k] = L[i];\n                i++;\n                k++;\n            }\n            else {\n                arr[k] = R[j];\n                j++;\n                k++;\n            }\n\n            while(i &lt; n1){\n                arr[k] = L[i];\n                i++;\n                k++;\n            }\n\n            while(j &lt; n2){\n                arr[k] = R[j];\n                j++;\n                k++;\n            }\n        }\n    }  \n}\n\n\npublic class Solution {\n    public static void main(String[] args) throws IOException {\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n        BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(System.getenv(&quot;OUTPUT_PATH&quot;)));\n\n        String[] firstMultipleInput = bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;);\n\n        int n = Integer.parseInt(firstMultipleInput[0]);\n\n        int d = Integer.parseInt(firstMultipleInput[1]);\n\n        List&lt;Integer&gt; expenditure = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\n            .map(Integer::parseInt)\n            .collect(toList());\n\n        int result = Result.activityNotifications(expenditure, d);\n\n        bufferedWriter.write(String.valueOf(result));\n        bufferedWriter.newLine();\n\n        bufferedReader.close();\n        bufferedWriter.close();\n    }\n}\n</code></pre>\n<p>This is the code. Basically everything works fine on my IDE, when I create a MergeSort.java file and then I created an instance of the class and used the static mergeSort method to sort the array.\nBut when I run it on this coding website which allows only one file, I cramped in the MergeSort class into the same file. And now I've realized that no actual change is done to the array that is passed in to the method. Can I please know why?</p>\n<p>I tried different things but wasn't able to get the sorting to work.</p>\n"},{"tags":["java","listview","scroll","javafx","warnings"],"comments":[{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1433599200,"post_id":30683685,"comment_id":49427335,"body_markdown":"Possible duplicate of [How to correctly add new data to TableView and scroll to it](http://stackoverflow.com/questions/29714267/how-to-correctly-add-new-data-to-tableview-and-scroll-to-it). You can upvote the [ticket](https://javafx-jira.kenai.com/browse/RT-40564) opened for the issue","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/29714267/how-to-correctly-add-new-data-to-tableview-and-scroll-to-it\">How to correctly add new data to TableView and scroll to it</a>. You can upvote the <a href=\"https://javafx-jira.kenai.com/browse/RT-40564\" rel=\"nofollow noreferrer\">ticket</a> opened for the issue"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1700616466,"post_id":30683685,"comment_id":136675822,"body_markdown":"related?: https://github.com/openjfx/openjfx-docs/issues/219","body":"related?: <a href=\"https://github.com/openjfx/openjfx-docs/issues/219\" rel=\"nofollow noreferrer\">github.com/openjfx/openjfx-docs/issues/219</a>"}],"answers":[{"tags":[],"owner":{"account_id":3412097,"reputation":2278,"user_id":2861794,"display_name":"J. S."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481111129,"creation_date":1481111129,"answer_id":41016621,"question_id":30683685,"body_markdown":"I know it&#39;s a little bit late, but maybe It&#39;ll help someone.\r\n\r\nIn my case I had to set the Column Resize Policy to unconstrained-resize, that worked for me.","title":"Why do I get this weird warning when I scroll to the end of a ListView in JavaFX?","body":"<p>I know it's a little bit late, but maybe It'll help someone.</p>\n\n<p>In my case I had to set the Column Resize Policy to unconstrained-resize, that worked for me.</p>\n"}],"owner":{"account_id":6402675,"reputation":157,"user_id":4964847,"accept_rate":17,"display_name":"javachessgui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6997,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1700613537,"creation_date":1433598850,"question_id":30683685,"body_markdown":"    list.getSelectionModel().select(game_ptr);\r\n    list.scrollTo(game_ptr);\r\n\r\nWhen this code is run, I get the following warning:\r\n\r\n    com.sun.javafx.scene.control.skin.VirtualFlow addTrailingCells\r\n    INFO: index exceeds maxCellCount. Check size calculations for class com.sun.javafx.scene.control.skin.ListViewSkin$2\r\n\r\nNow, the index in game_ptr is correct. This is tested. If I run the following code, there is no warning:\r\n\r\n    list.getSelectionModel().select(game_ptr);\r\n    //list.scrollTo(game_ptr);","title":"Why do I get this weird warning when I scroll to the end of a ListView in JavaFX?","body":"<pre><code>list.getSelectionModel().select(game_ptr);\nlist.scrollTo(game_ptr);\n</code></pre>\n\n<p>When this code is run, I get the following warning:</p>\n\n<pre><code>com.sun.javafx.scene.control.skin.VirtualFlow addTrailingCells\nINFO: index exceeds maxCellCount. Check size calculations for class com.sun.javafx.scene.control.skin.ListViewSkin$2\n</code></pre>\n\n<p>Now, the index in game_ptr is correct. This is tested. If I run the following code, there is no warning:</p>\n\n<pre><code>list.getSelectionModel().select(game_ptr);\n//list.scrollTo(game_ptr);\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"owner":{"account_id":21049619,"reputation":1,"user_id":15470272,"display_name":"Kevin Kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700613157,"creation_date":1700612779,"question_id":77526689,"body_markdown":"I have a POJO class (field names anonymized) below. I use lombok tags to meet the Flink POJO requirements, and have verified that it is a valid Flink POJO with `PojoTestUtils.assertSerializedAsPojoWithoutKryo()`\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\npublic class EmbeddedPojoClass {\r\n  int field1;\r\n  int field2;\r\n  int field3;\r\n  double field4;\r\n  double field5;\r\n}\r\n```\r\n\r\nThis class is then stored in another POJO class:\r\n\r\n```\r\n@NoArgsConstructor\r\n@Data\r\n@TypeInfo(PojoClassTypeInformationFactory.class)\r\npublic class PojoClass {\r\n  SortedMap&lt;Instant, EmbeddedPojoClass&gt; timeSeries,\r\n  Instant minTimestamp,\r\n  Instant maxTimestamp,\r\n  long intervalMillis\r\n}\r\n```\r\n\r\nwhich is registered as a Flink POJO using a custom `TypeInformationFactory`\r\n\r\n```\r\npublic class PojoClassTypeInformationFactory\r\n    extends TypeInfoFactory&lt;PojoClass&gt; {\r\n  @Override\r\n  public TypeInformation&lt;PojoClass&gt; createTypeInfo(\r\n      Type t, Map&lt;String, TypeInformation&lt;?&gt;&gt; genericParameters) {\r\n    return Types.POJO(\r\n        PojoClass.class,\r\n        new HashMap&lt;&gt;() {\r\n          {\r\n            put(\r\n                &quot;timeSeries&quot;,\r\n                new SortedMapTypeInfo&lt;&gt;(\r\n                    Types.INSTANT.getTypeClass(),\r\n                    EmbeddedPojoClass.class));\r\n            put(&quot;minTimestamp&quot;, Types.INSTANT);\r\n            put(&quot;maxTimestamp&quot;, Types.INSTANT);\r\n            put(&quot;intervalMillis&quot;, Types.LONG);\r\n          }\r\n        });\r\n  }\r\n}\r\n```\r\n\r\nLike `EmbeddedPojoClass`, I&#39;ve verified this is a valid POJO with `PojoTestUtils.assertSerializedAsPojoWithoutKryo()` This `PojoClass` is stored in Flink state in one of my operators.\r\n\r\nI would now like to add 2 more `Instant` fields to `EmbeddedPojoClass`. So I&#39;d like to change it to:\r\n\r\n```\r\npublic class EmbeddedPojoClass {\r\n  int field1;\r\n  int field2;\r\n  int field3;\r\n  double field4;\r\n  double field5;\r\n\r\n  // New fields\r\n  Instant time1;\r\n  Instant time2;\r\n}\r\n```\r\n\r\nAfter rolling out this change, I get this error when I load back Flink state upon restart:\r\n\r\n```\r\n2023-11-21 18:47:57\r\njava.time.DateTimeException: Instant exceeds minimum or maximum instant\r\n    at java.base/java.time.Instant.create(Instant.java:411)\r\n    at java.base/java.time.Instant.ofEpochSecond(Instant.java:330)\r\n    at org.apache.flink.api.common.typeutils.base.InstantSerializer.deserialize(InstantSerializer.java:90)\r\n    at org.apache.flink.api.common.typeutils.base.InstantSerializer.deserialize(InstantSerializer.java:31)\r\n    at org.apache.flink.table.runtime.typeutils.AbstractMapSerializer.deserialize(AbstractMapSerializer.java:141)\r\n    at org.apache.flink.table.runtime.typeutils.AbstractMapSerializer.deserialize(AbstractMapSerializer.java:41)\r\n    at org.apache.flink.api.java.typeutils.runtime.PojoSerializer.deserialize(PojoSerializer.java:411)\r\n    at org.apache.flink.contrib.streaming.state.RocksDBValueState.value(RocksDBValueState.java:89)\r\n```\r\n\r\nJudging by the stack trace, I see that the `PojoSerializer` is being invoked, but I&#39;m confused why the new fields would be backwards incompatible. Am I missing something here?\r\n\r\nI&#39;m using Flink 1.17.1 with RocksDB state backend.\r\n\r\nI&#39;ve validated that the existing Java classes I use in my Flink job are recognized as POJO. I thought adding new fields is supported by POJO schema evolution rules, and don&#39;t know why the state checkpoint fails to load with the new fields added.","title":"Flink schema evolution for a POJO embedded in another POJO","body":"<p>I have a POJO class (field names anonymized) below. I use lombok tags to meet the Flink POJO requirements, and have verified that it is a valid Flink POJO with <code>PojoTestUtils.assertSerializedAsPojoWithoutKryo()</code></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class EmbeddedPojoClass {\n  int field1;\n  int field2;\n  int field3;\n  double field4;\n  double field5;\n}\n</code></pre>\n<p>This class is then stored in another POJO class:</p>\n<pre><code>@NoArgsConstructor\n@Data\n@TypeInfo(PojoClassTypeInformationFactory.class)\npublic class PojoClass {\n  SortedMap&lt;Instant, EmbeddedPojoClass&gt; timeSeries,\n  Instant minTimestamp,\n  Instant maxTimestamp,\n  long intervalMillis\n}\n</code></pre>\n<p>which is registered as a Flink POJO using a custom <code>TypeInformationFactory</code></p>\n<pre><code>public class PojoClassTypeInformationFactory\n    extends TypeInfoFactory&lt;PojoClass&gt; {\n  @Override\n  public TypeInformation&lt;PojoClass&gt; createTypeInfo(\n      Type t, Map&lt;String, TypeInformation&lt;?&gt;&gt; genericParameters) {\n    return Types.POJO(\n        PojoClass.class,\n        new HashMap&lt;&gt;() {\n          {\n            put(\n                &quot;timeSeries&quot;,\n                new SortedMapTypeInfo&lt;&gt;(\n                    Types.INSTANT.getTypeClass(),\n                    EmbeddedPojoClass.class));\n            put(&quot;minTimestamp&quot;, Types.INSTANT);\n            put(&quot;maxTimestamp&quot;, Types.INSTANT);\n            put(&quot;intervalMillis&quot;, Types.LONG);\n          }\n        });\n  }\n}\n</code></pre>\n<p>Like <code>EmbeddedPojoClass</code>, I've verified this is a valid POJO with <code>PojoTestUtils.assertSerializedAsPojoWithoutKryo()</code> This <code>PojoClass</code> is stored in Flink state in one of my operators.</p>\n<p>I would now like to add 2 more <code>Instant</code> fields to <code>EmbeddedPojoClass</code>. So I'd like to change it to:</p>\n<pre><code>public class EmbeddedPojoClass {\n  int field1;\n  int field2;\n  int field3;\n  double field4;\n  double field5;\n\n  // New fields\n  Instant time1;\n  Instant time2;\n}\n</code></pre>\n<p>After rolling out this change, I get this error when I load back Flink state upon restart:</p>\n<pre><code>2023-11-21 18:47:57\njava.time.DateTimeException: Instant exceeds minimum or maximum instant\n    at java.base/java.time.Instant.create(Instant.java:411)\n    at java.base/java.time.Instant.ofEpochSecond(Instant.java:330)\n    at org.apache.flink.api.common.typeutils.base.InstantSerializer.deserialize(InstantSerializer.java:90)\n    at org.apache.flink.api.common.typeutils.base.InstantSerializer.deserialize(InstantSerializer.java:31)\n    at org.apache.flink.table.runtime.typeutils.AbstractMapSerializer.deserialize(AbstractMapSerializer.java:141)\n    at org.apache.flink.table.runtime.typeutils.AbstractMapSerializer.deserialize(AbstractMapSerializer.java:41)\n    at org.apache.flink.api.java.typeutils.runtime.PojoSerializer.deserialize(PojoSerializer.java:411)\n    at org.apache.flink.contrib.streaming.state.RocksDBValueState.value(RocksDBValueState.java:89)\n</code></pre>\n<p>Judging by the stack trace, I see that the <code>PojoSerializer</code> is being invoked, but I'm confused why the new fields would be backwards incompatible. Am I missing something here?</p>\n<p>I'm using Flink 1.17.1 with RocksDB state backend.</p>\n<p>I've validated that the existing Java classes I use in my Flink job are recognized as POJO. I thought adding new fields is supported by POJO schema evolution rules, and don't know why the state checkpoint fails to load with the new fields added.</p>\n"},{"tags":["java","quarkus","graalvm-native-image"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1599147936,"post_id":63685389,"comment_id":112690636,"body_markdown":"At the moment we don&#39;t provide a tooling image providing mandrel. You would have to install it. If you follow the script from https://github.com/quarkusio/quarkus-images/tree/master/modules/mandrel/20.1.0.1.Final-java11, you will see how it could be done.","body":"At the moment we don&#39;t provide a tooling image providing mandrel. You would have to install it. If you follow the script from <a href=\"https://github.com/quarkusio/quarkus-images/tree/master/modules/mandrel/20.1.0.1.Final-java11\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus-images/tree/master/modules/mand&zwnj;&#8203;rel/&hellip;</a>, you will see how it could be done."},{"owner":{"account_id":18157520,"reputation":249,"user_id":13209357,"display_name":"Simon Wick"},"score":0,"creation_date":1600779568,"post_id":63685389,"comment_id":113190517,"body_markdown":"Thank you and sorry for my late answer. Due to priority changes I&#39;m not able to try this out at the moment. I&#39;ll give it a try as soon as possible.","body":"Thank you and sorry for my late answer. Due to priority changes I&#39;m not able to try this out at the moment. I&#39;ll give it a try as soon as possible."}],"answers":[{"tags":[],"owner":{"account_id":29961856,"reputation":1,"user_id":22961333,"display_name":"Rohit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700613050,"creation_date":1700613050,"answer_id":77526702,"question_id":63685389,"body_markdown":"This works to build with gradle\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    ## Stage 1 : build with gradle builder image with native capabilities\r\n\r\n    FROM quay.io/quarkus/ubi-quarkus-mandrel-builder-image:22.3-java17 AS build\r\n    USER root\r\n    RUN microdnf install findutils\r\n    COPY --chown=quarkus:quarkus gradlew /code/gradlew\r\n    COPY --chown=quarkus:quarkus gradle /code/gradle\r\n    COPY --chown=quarkus:quarkus build.gradle /code/\r\n    COPY --chown=quarkus:quarkus gradle.properties /code/\r\n    COPY --chown=quarkus:quarkus settings.gradle /code/\r\n    USER quarkus\r\n    WORKDIR /code\r\n    COPY src /code/src\r\n    RUN ./gradlew build -x test -Dquarkus.package.type=native\r\n\r\n    ## Stage 2 : create the docker final image\r\n\r\n    FROM registry.access.redhat.com/ubi8/ubi-minimal:8.8\r\n    WORKDIR /work/\r\n    RUN chown 1001 /work \\\r\n        &amp;&amp; chmod &quot;g+rwX&quot; /work \\\r\n        &amp;&amp; chown 1001:root /work\r\n    COPY --chown=1001:root --from=build /code/build/*-runner /work/application\r\n\r\n    EXPOSE 8080\r\n    USER 1001\r\n\r\n    ENTRYPOINT [&quot;./application&quot;, &quot;-Dquarkus.http.host=0.0.0.0&quot;]\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Quarkus native build with Mandrel","body":"<p>This works to build with gradle</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>## Stage 1 : build with gradle builder image with native capabilities\n\nFROM quay.io/quarkus/ubi-quarkus-mandrel-builder-image:22.3-java17 AS build\nUSER root\nRUN microdnf install findutils\nCOPY --chown=quarkus:quarkus gradlew /code/gradlew\nCOPY --chown=quarkus:quarkus gradle /code/gradle\nCOPY --chown=quarkus:quarkus build.gradle /code/\nCOPY --chown=quarkus:quarkus gradle.properties /code/\nCOPY --chown=quarkus:quarkus settings.gradle /code/\nUSER quarkus\nWORKDIR /code\nCOPY src /code/src\nRUN ./gradlew build -x test -Dquarkus.package.type=native\n\n## Stage 2 : create the docker final image\n\nFROM registry.access.redhat.com/ubi8/ubi-minimal:8.8\nWORKDIR /work/\nRUN chown 1001 /work \\\n    &amp;&amp; chmod \"g+rwX\" /work \\\n    &amp;&amp; chown 1001:root /work\nCOPY --chown=1001:root --from=build /code/build/*-runner /work/application\n\nEXPOSE 8080\nUSER 1001\n\nENTRYPOINT [\"./application\", \"-Dquarkus.http.host=0.0.0.0\"]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":18157520,"reputation":249,"user_id":13209357,"display_name":"Simon Wick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700613050,"creation_date":1598954090,"question_id":63685389,"body_markdown":"I&#39;m trying to build Quarkus in native mode with Mandrel as described here: https://quarkus.io/guides/building-native-image#container-runtime\r\n\r\nDue to limitations in my CI-pipeline, i need to do this manually with a multi-stage docker-build: https://quarkus.io/guides/building-native-image#using-a-multi-stage-docker-build\r\n\r\nBut now I don&#39;t know what to change in the `Dockerfile`, if I want to use Mandrel-image:\r\n\r\n```\r\n## Stage 1 : build with maven builder image with native capabilities\r\nFROM quay.io/quarkus/centos-quarkus-maven:20.1.0-java11 AS build\r\nCOPY pom.xml /usr/src/app/\r\nRUN mvn -f /usr/src/app/pom.xml -B de.qaware.maven:go-offline-maven-plugin:1.2.5:resolve-dependencies\r\nCOPY src /usr/src/app/src\r\nUSER root\r\nRUN chown -R quarkus /usr/src/app\r\nUSER quarkus\r\nRUN mvn -f /usr/src/app/pom.xml -Pnative clean package\r\n\r\n## Stage 2 : create the docker final image\r\nFROM registry.access.redhat.com/ubi8/ubi-minimal\r\nWORKDIR /work/\r\nCOPY --from=build /usr/src/app/target/*-runner /work/application\r\n\r\n# set up permissions for user `1001`\r\nRUN chmod 775 /work /work/application \\\r\n  &amp;&amp; chown -R 1001 /work \\\r\n  &amp;&amp; chmod -R &quot;g+rwX&quot; /work \\\r\n  &amp;&amp; chown -R 1001:root /work\r\n\r\nEXPOSE 8080\r\nUSER 1001\r\n\r\nCMD [&quot;./application&quot;, &quot;-Dquarkus.http.host=0.0.0.0&quot;]\r\n```\r\n\r\nI&#39;m sure it must be very simple, but I don&#39;t get it at the moment. Any suggestions?","title":"Quarkus native build with Mandrel","body":"<p>I'm trying to build Quarkus in native mode with Mandrel as described here: <a href=\"https://quarkus.io/guides/building-native-image#container-runtime\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/building-native-image#container-runtime</a></p>\n<p>Due to limitations in my CI-pipeline, i need to do this manually with a multi-stage docker-build: <a href=\"https://quarkus.io/guides/building-native-image#using-a-multi-stage-docker-build\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/building-native-image#using-a-multi-stage-docker-build</a></p>\n<p>But now I don't know what to change in the <code>Dockerfile</code>, if I want to use Mandrel-image:</p>\n<pre><code>## Stage 1 : build with maven builder image with native capabilities\nFROM quay.io/quarkus/centos-quarkus-maven:20.1.0-java11 AS build\nCOPY pom.xml /usr/src/app/\nRUN mvn -f /usr/src/app/pom.xml -B de.qaware.maven:go-offline-maven-plugin:1.2.5:resolve-dependencies\nCOPY src /usr/src/app/src\nUSER root\nRUN chown -R quarkus /usr/src/app\nUSER quarkus\nRUN mvn -f /usr/src/app/pom.xml -Pnative clean package\n\n## Stage 2 : create the docker final image\nFROM registry.access.redhat.com/ubi8/ubi-minimal\nWORKDIR /work/\nCOPY --from=build /usr/src/app/target/*-runner /work/application\n\n# set up permissions for user `1001`\nRUN chmod 775 /work /work/application \\\n  &amp;&amp; chown -R 1001 /work \\\n  &amp;&amp; chmod -R &quot;g+rwX&quot; /work \\\n  &amp;&amp; chown -R 1001:root /work\n\nEXPOSE 8080\nUSER 1001\n\nCMD [&quot;./application&quot;, &quot;-Dquarkus.http.host=0.0.0.0&quot;]\n</code></pre>\n<p>I'm sure it must be very simple, but I don't get it at the moment. Any suggestions?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9872,"page":45,"page_size":100}
