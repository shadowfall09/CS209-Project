{"items":[{"tags":["java","spring-boot","email","jakarta-mail","forgot-password"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675946449,"post_id":75398226,"comment_id":133039348,"body_markdown":"please show full `pom.xml`","body":"please show full <code>pom.xml</code>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675946456,"post_id":75398226,"comment_id":133039351,"body_markdown":"If `int otp = 1`, what will your `&lt;h1&gt; OTP : &quot;+otp+&quot; &lt;/h1&gt;&quot;;` show? Will the OTP show `0001` or `1`?","body":"If <code>int otp = 1</code>, what will your <code>&lt;h1&gt; OTP : &quot;+otp+&quot; &lt;&#47;h1&gt;&quot;;</code> show? Will the OTP show <code>0001</code> or <code>1</code>?"},{"owner":{"account_id":27410620,"reputation":19,"user_id":20910591,"display_name":"Vishal Srivastava"},"score":0,"creation_date":1675946896,"post_id":75398226,"comment_id":133039488,"body_markdown":"Updated the full pom.xml &amp; otp will start from 1000(min)-9999(max)","body":"Updated the full pom.xml &amp; otp will start from 1000(min)-9999(max)"}],"owner":{"account_id":27410620,"reputation":19,"user_id":20910591,"display_name":"Vishal Srivastava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675993507,"creation_date":1675943668,"question_id":75398226,"body_markdown":"I&#39;m trying to send an OTP over email using the mail service in Spring boot, but getting error-\r\n\r\nfailed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and javax.activation.MailcapCommandMap are in unnamed module of loader &#39;app&#39;)\r\n\r\nAdded below dependency in pom.xml-\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.smart&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;smartcontactmanager&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;smartcontactmanager&lt;/name&gt;\r\n\t&lt;description&gt;Smart Contact Manager&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.sun.mail/javax.mail --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nController-\r\n\r\n```\r\n@PostMapping(&quot;/send-otp&quot;)\r\npublic String sendOtp(@RequestParam(&quot;email&quot;) String email,Model model, HttpSession session) {\r\n\r\n\t\tSystem.out.println(&quot;Email: &quot; + email);\r\n\t\tmodel.addAttribute(&quot;email&quot;, email);\r\n\r\n\t\t// Generating 4 digit OTP\r\n\r\n\t\tint otp = random.nextInt(9999);\r\n\t\tSystem.out.println(&quot;OTP: &quot; + otp);\r\n\t\t\r\n\t\t//Code to send OTP to email\r\n\t\t\r\n\t\tString subject=&quot;OTP from Smart Contact Manager&quot;;\r\n\t\tString message=&quot;&lt;h1&gt; OTP : &quot;+otp+&quot; &lt;/h1&gt;&quot;;\r\n\t\tString to=email;\r\n\t\t\r\n\t\tboolean flag = this.emailService.sendEmail(subject, message, to);\r\n\t\t\r\n\t\tif(flag) {\r\n\t\t\treturn &quot;verify_otp&quot;;\r\n\t\t}else {\r\n\t\t\tsession.setAttribute(&quot;message&quot;, &quot;Please verify your email address!&quot;);\r\n\t\t\treturn &quot;forgot_email_form&quot;;\r\n\t\t}\r\n\r\n\t\t\r\n}\r\n\r\n\r\nEmailService.java Class-\r\n\r\npackage com.smart.service;\r\n\r\nimport java.util.Properties;\r\n\r\nimport javax.mail.Authenticator;\r\nimport javax.mail.Message;\r\nimport javax.mail.PasswordAuthentication;\r\nimport javax.mail.Session;\r\nimport javax.mail.Transport;\r\nimport javax.mail.internet.InternetAddress;\r\nimport javax.mail.internet.MimeMessage;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class EmailService {\r\n\r\n\tpublic boolean sendEmail(String subject, String message, String to) {\r\n\r\n\t\tboolean f = false;\r\n\r\n\t\tString from = &quot;vishalsrivi123@gmail.com&quot;;\r\n\r\n\t\t// variable for Gmail host\r\n\t\tString host = &quot;smtp.gmail.com&quot;;\r\n\r\n\t\t// Get the system properties\r\n\t\tProperties properties = System.getProperties();\r\n\t\tSystem.out.println(&quot;System Properties: &quot; + properties);\r\n\r\n\t\t// Set Host\r\n\t\tproperties.put(&quot;mail.smtp.host&quot;, host);\r\n\t\tproperties.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\r\n\t\tproperties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n\t\tproperties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\n\t\t// Step-1: To get the session object\r\n\t\tSession session = Session.getInstance(properties, new Authenticator() {\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\treturn new PasswordAuthentication(&quot;vishalsrivi123@gmail.com&quot;, &quot;zykpcbzkjcuedoju&quot;);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tsession.setDebug(true);\r\n\r\n\t\t// Step-2: Compose the Message[text, multimedia]\r\n\t\tMimeMessage m = new MimeMessage(session);\r\n\r\n\t\ttry {\r\n\r\n\t\t\t// From email\r\n\t\t\tm.setFrom(from);\r\n\r\n\t\t\t// Adding recipient to mail\r\n\t\t\tm.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n\r\n\t\t\t// Adding subject to mail\r\n\t\t\tm.setSubject(subject);\r\n\r\n\t\t\t// Adding text to mail\r\n\t\t\tm.setText(message);\r\n\r\n\t\t\t// Step-3: Send mail\r\n\t\t\tTransport.send(m);\r\n\r\n\t\t\tSystem.out.println(&quot;Mail sent successfully&quot;);\r\n\t\t\tf = true;\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn true;\r\n\r\n\t}\r\n\r\n}\r\n```","title":"failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap- Spring boot","body":"<p>I'm trying to send an OTP over email using the mail service in Spring boot, but getting error-</p>\n<p>failed to access class com.sun.activation.registries.LogSupport from class javax.activation.MailcapCommandMap (com.sun.activation.registries.LogSupport and javax.activation.MailcapCommandMap are in unnamed module of loader 'app')</p>\n<p>Added below dependency in pom.xml-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.smart&lt;/groupId&gt;\n    &lt;artifactId&gt;smartcontactmanager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;smartcontactmanager&lt;/name&gt;\n    &lt;description&gt;Smart Contact Manager&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.mail/javax.mail --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Controller-</p>\n<pre><code>@PostMapping(&quot;/send-otp&quot;)\npublic String sendOtp(@RequestParam(&quot;email&quot;) String email,Model model, HttpSession session) {\n\n        System.out.println(&quot;Email: &quot; + email);\n        model.addAttribute(&quot;email&quot;, email);\n\n        // Generating 4 digit OTP\n\n        int otp = random.nextInt(9999);\n        System.out.println(&quot;OTP: &quot; + otp);\n        \n        //Code to send OTP to email\n        \n        String subject=&quot;OTP from Smart Contact Manager&quot;;\n        String message=&quot;&lt;h1&gt; OTP : &quot;+otp+&quot; &lt;/h1&gt;&quot;;\n        String to=email;\n        \n        boolean flag = this.emailService.sendEmail(subject, message, to);\n        \n        if(flag) {\n            return &quot;verify_otp&quot;;\n        }else {\n            session.setAttribute(&quot;message&quot;, &quot;Please verify your email address!&quot;);\n            return &quot;forgot_email_form&quot;;\n        }\n\n        \n}\n\n\nEmailService.java Class-\n\npackage com.smart.service;\n\nimport java.util.Properties;\n\nimport javax.mail.Authenticator;\nimport javax.mail.Message;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class EmailService {\n\n    public boolean sendEmail(String subject, String message, String to) {\n\n        boolean f = false;\n\n        String from = &quot;vishalsrivi123@gmail.com&quot;;\n\n        // variable for Gmail host\n        String host = &quot;smtp.gmail.com&quot;;\n\n        // Get the system properties\n        Properties properties = System.getProperties();\n        System.out.println(&quot;System Properties: &quot; + properties);\n\n        // Set Host\n        properties.put(&quot;mail.smtp.host&quot;, host);\n        properties.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\n        properties.put(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n\n        // Step-1: To get the session object\n        Session session = Session.getInstance(properties, new Authenticator() {\n\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(&quot;vishalsrivi123@gmail.com&quot;, &quot;zykpcbzkjcuedoju&quot;);\n            }\n\n        });\n\n        session.setDebug(true);\n\n        // Step-2: Compose the Message[text, multimedia]\n        MimeMessage m = new MimeMessage(session);\n\n        try {\n\n            // From email\n            m.setFrom(from);\n\n            // Adding recipient to mail\n            m.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n\n            // Adding subject to mail\n            m.setSubject(subject);\n\n            // Adding text to mail\n            m.setText(message);\n\n            // Step-3: Send mail\n            Transport.send(m);\n\n            System.out.println(&quot;Mail sent successfully&quot;);\n            f = true;\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return true;\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","vert.x"],"owner":{"account_id":21433393,"reputation":1,"user_id":15789309,"display_name":"FUJINO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675993158,"creation_date":1675993158,"question_id":75406170,"body_markdown":"Please advise.\r\nIt is possible to download one file as shown below.\r\nHowever, it is unclear how to download two or more files.\r\nI searched for a way to download more than two files but could not find one.\r\nThere was no information in the official references.\r\n\r\n[https://vertx.io/](https://vertx.io/)\r\n\r\n\r\n`rc.response().putHeader(HttpHeaders.CONTENT_TYPE, &quot;text/plain&quot;)\r\n                          .putHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot;&quot; + &quot;test.jar&quot;)\r\n                          .putHeader(HttpHeaders.TRANSFER_ENCODING, &quot;chunked&quot;).sendFile(filePath);`\r\n","title":"How to implement multiple file download function in WebAPI created with vert.x","body":"<p>Please advise.\nIt is possible to download one file as shown below.\nHowever, it is unclear how to download two or more files.\nI searched for a way to download more than two files but could not find one.\nThere was no information in the official references.</p>\n<p><a href=\"https://vertx.io/\" rel=\"nofollow noreferrer\">https://vertx.io/</a></p>\n<p><code>rc.response().putHeader(HttpHeaders.CONTENT_TYPE, &quot;text/plain&quot;) .putHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot;&quot; + &quot;test.jar&quot;) .putHeader(HttpHeaders.TRANSFER_ENCODING, &quot;chunked&quot;).sendFile(filePath);</code></p>\n"},{"tags":["java","package","extends"],"owner":{"account_id":22753019,"reputation":3,"user_id":16912892,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675991827,"creation_date":1675991827,"question_id":75406075,"body_markdown":"My professor gave me these classes but when I try to run them it seems that AnimationNoApplet cannot find NoApplet the title is the error I receive. I have both files in the same folder and have tried switching the package names to be identical but no success. \r\nThis is AnimationNoApplet:\r\n\r\n```\r\n package noapplet.example;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport javax.swing.Timer;\r\n\r\nimport noapplet.NoApplet;\r\n\r\n/** Reusable class implementing the animation idiom. */\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic abstract class AnimationNoApplet extends NoApplet {\r\n```\r\n\r\nThis is NoApplet\r\n\r\n```\r\n package noapplet;\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class NoApplet extends JPanel {\r\n\r\n```\r\n\r\nThere is many lines to the two files but I believe this is the root of the problem. Another thing that I noticed was the class made for AnimationNoApplet was NoApplet$1.class. I&#39;m not sure if this is relevant information but I thought I should call it out. The last thing I want to call out is that this is on visual studio code I have not used another editor.  ","title":"error: cannot find symbol import noapplet.NoApplet;","body":"<p>My professor gave me these classes but when I try to run them it seems that AnimationNoApplet cannot find NoApplet the title is the error I receive. I have both files in the same folder and have tried switching the package names to be identical but no success.\nThis is AnimationNoApplet:</p>\n<pre><code> package noapplet.example;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport javax.swing.Timer;\n\nimport noapplet.NoApplet;\n\n/** Reusable class implementing the animation idiom. */\n@SuppressWarnings(&quot;serial&quot;)\npublic abstract class AnimationNoApplet extends NoApplet {\n</code></pre>\n<p>This is NoApplet</p>\n<pre><code> package noapplet;\n@SuppressWarnings(&quot;serial&quot;)\npublic class NoApplet extends JPanel {\n\n</code></pre>\n<p>There is many lines to the two files but I believe this is the root of the problem. Another thing that I noticed was the class made for AnimationNoApplet was NoApplet$1.class. I'm not sure if this is relevant information but I thought I should call it out. The last thing I want to call out is that this is on visual studio code I have not used another editor.</p>\n"},{"tags":["java","instruments","javaagents"],"answers":[{"tags":[],"owner":{"account_id":27740049,"reputation":1,"user_id":21176706,"display_name":"hxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675991635,"creation_date":1675991635,"answer_id":75406063,"question_id":75393488,"body_markdown":"I guess I&#39;ve found the reason：\r\nthe paratemers of &quot;properties&quot; transfer to aim JVM cannot be too long in:\r\nvm.loadAgent(attachJarPath, properties);\r\nbecause of the limit of attach Ti support;\r\n\r\nyou can use a file to transfer your data","title":"attach failed with error： java.io.IOException: Premature EOF","body":"<p>I guess I've found the reason：\nthe paratemers of &quot;properties&quot; transfer to aim JVM cannot be too long in:\nvm.loadAgent(attachJarPath, properties);\nbecause of the limit of attach Ti support;</p>\n<p>you can use a file to transfer your data</p>\n"}],"owner":{"account_id":27740049,"reputation":1,"user_id":21176706,"display_name":"hxxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75406063,"answer_count":1,"score":0,"last_activity_date":1675991635,"creation_date":1675908194,"question_id":75393488,"body_markdown":"while I try to attach a process with code like:\r\n\r\n    vm = VirtualMachine.attach(pid);\r\n    vm.loadAgent(attachJarPath, properties);\r\n\r\nI got this error:\r\n\r\n```\r\njava.io.IOException: Premature EOF\r\nat sun.tools.attach.HotSpotVirtualMachine.readInt(HotSpotVirtualMachine.java:248)\r\nat sun.tools.attach.LinuxVirtualMachine.execute(LinuxVirtualMachine.java:199)\r\nat sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:58)\r\nat sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:79)\r\nat sun.tools.attach.HotSpotVirtualMachine.loadAgent(HotSpotVirtualMachine.java:103)\r\n```\r\n\r\nwhat can i do to fix this error?","title":"attach failed with error： java.io.IOException: Premature EOF","body":"<p>while I try to attach a process with code like:</p>\n<pre><code>vm = VirtualMachine.attach(pid);\nvm.loadAgent(attachJarPath, properties);\n</code></pre>\n<p>I got this error:</p>\n<pre><code>java.io.IOException: Premature EOF\nat sun.tools.attach.HotSpotVirtualMachine.readInt(HotSpotVirtualMachine.java:248)\nat sun.tools.attach.LinuxVirtualMachine.execute(LinuxVirtualMachine.java:199)\nat sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:58)\nat sun.tools.attach.HotSpotVirtualMachine.loadAgentLibrary(HotSpotVirtualMachine.java:79)\nat sun.tools.attach.HotSpotVirtualMachine.loadAgent(HotSpotVirtualMachine.java:103)\n</code></pre>\n<p>what can i do to fix this error?</p>\n"},{"tags":["java","exception","java-stream","completable-future"],"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1675954650,"post_id":75400036,"comment_id":133042308,"body_markdown":"You would need to call `join` on the CompletionStage returned by `doSomething`. Right now you are ignoring its result.","body":"You would need to call <code>join</code> on the CompletionStage returned by <code>doSomething</code>. Right now you are ignoring its result."},{"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"score":0,"creation_date":1675955902,"post_id":75400036,"comment_id":133042746,"body_markdown":"Thanks! Is it fine to `return null` the way I am doing in `doSomething`? Because I want to do `doSomething().toCompletableFuture().join()` and this shouldn&#39;t run into a NPE.","body":"Thanks! Is it fine to <code>return null</code> the way I am doing in <code>doSomething</code>? Because I want to do <code>doSomething().toCompletableFuture().join()</code> and this shouldn&#39;t run into a NPE."},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1675956223,"post_id":75400036,"comment_id":133042866,"body_markdown":"If `someCondition` is false, then that would throw an NPE. You could instead return a completed future to avoid that, like this: `CompletableFuture.&lt;Void&gt;completedFuture(null);`.","body":"If <code>someCondition</code> is false, then that would throw an NPE. You could instead return a completed future to avoid that, like this: <code>CompletableFuture.&lt;Void&gt;completedFuture(null);</code>."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676033522,"post_id":75405993,"comment_id":133060760,"body_markdown":"When you don’t use `aValue` nor `bValue`, there is no need to call `a.join()` or `b.join()`.","body":"When you don’t use <code>aValue</code> nor <code>bValue</code>, there is no need to call <code>a.join()</code> or <code>b.join()</code>."},{"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"score":0,"creation_date":1676129196,"post_id":75405993,"comment_id":133077526,"body_markdown":"Agree, this is a sample code. I do use the values","body":"Agree, this is a sample code. I do use the values"}],"tags":[],"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675990873,"creation_date":1675990873,"answer_id":75405993,"question_id":75400036,"body_markdown":"Adding to @marstran&#39;s suggestion, an alternate way to do this would be to use `thenCompose` to convert `Result` into `CompletationStage&lt;Result&gt;`. \r\n\r\n    public CompletionStage&lt;Result&gt; computeResult() {\r\n        return CompletableFuture.allOf(a, b)\r\n            .thenCompose(ignore -&gt; { // Use thenCompose here\r\n                final aValue = a.join();\r\n                final bValue = b.join();\r\n    \r\n                return doSomething()\r\n                    .thenApply(ignore -&gt;\r\n                        buildResult());\r\n            });\r\n    }\r\n\r\n    private CompletionStage&lt;Void&gt; doSomething() {\r\n    \r\n        if (someCondition) {\r\n            return anotherService.shouldPerformTask()\r\n            .thenApply(shouldPerform -&gt; {\r\n                // Do something\r\n                if (someCheck) {\r\n                    throw new RuntimeException(&quot;message&quot;);  \r\n                }\r\n            return null;\r\n            });\r\n        }\r\n        return completedFuture(null);\r\n    }","title":"Throw exception from CompletableFuture thenApply","body":"<p>Adding to @marstran's suggestion, an alternate way to do this would be to use <code>thenCompose</code> to convert <code>Result</code> into <code>CompletationStage&lt;Result&gt;</code>.</p>\n<pre><code>public CompletionStage&lt;Result&gt; computeResult() {\n    return CompletableFuture.allOf(a, b)\n        .thenCompose(ignore -&gt; { // Use thenCompose here\n            final aValue = a.join();\n            final bValue = b.join();\n\n            return doSomething()\n                .thenApply(ignore -&gt;\n                    buildResult());\n        });\n}\n\nprivate CompletionStage&lt;Void&gt; doSomething() {\n\n    if (someCondition) {\n        return anotherService.shouldPerformTask()\n        .thenApply(shouldPerform -&gt; {\n            // Do something\n            if (someCheck) {\n                throw new RuntimeException(&quot;message&quot;);  \n            }\n        return null;\n        });\n    }\n    return completedFuture(null);\n}\n</code></pre>\n"}],"owner":{"account_id":27641,"reputation":9774,"user_id":73137,"accept_rate":89,"display_name":"SyncMaster"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75405993,"answer_count":1,"score":0,"last_activity_date":1675990873,"creation_date":1675952798,"question_id":75400036,"body_markdown":"Say I have the following code. I want to throw an exception from within a `thenApply` block to the parent. I want to make sure I am returning and throwing the correct values from the sub-function `doSomething` and handling it properly in the caller. Because if I write a simple unit test, I don&#39;t get the exception from `doSomething`.\r\n\r\nA function that does the main work and returns a `CompletionStage&lt;Result&gt;`\r\n\r\n    public CompletionStage&lt;Result&gt; computeResult() {\r\n    \treturn CompletableFuture.allOf(a, b)\r\n    \t\t.thenApply(ignore -&gt; {\r\n    \t\t\tfinal aValue = a.join();\r\n    \t\t\tfinal bValue = b.join();\r\n    \r\n    \t\t\tdoSomething()\r\n    \t\t\t\t.thenApply(ignore -&gt;\r\n    \t\t\t\t\tbuildResult());\r\n    \r\n    \t\t\treturn null;\r\n    \t\t});\r\n    \t\r\n    }\r\n\r\n\r\nA private function that does some validations by calling another API and throws an exception or returns nothing\r\n\r\n    private CompletionStage&lt;Void&gt; doSomething() {\r\n    \r\n    \tif (someCondition) {\r\n    \t\treturn anotherService.shouldPerformTask()\r\n    \t\t.thenApply(shouldPerform -&gt; {\r\n    \t\t\t// Do something\r\n    \t\t\tif (someCheck) {\r\n    \t\t\t\tthrow new RuntimeException(&quot;message&quot;);  // How to make sure this exception gets returned all the up to &quot;completableFuture.allOf&quot;?\r\n    \t\t\t}\r\n    \t\treturn null;\r\n    \t\t});\r\n    \t}\r\n    \treturn null;\r\n    }\r\n\r\nThis is the function signature of buildResult\r\n\r\n    private Result buildResult();\r\n\r\nThis is how the other API call looks\r\n\r\n    anotherService:\r\n    CompletionStage&lt;Boolean&gt; shouldPerformTask()\r\n\r\nI am expecting the following assertion to work. i.e. I want `computeResult` to throw a CompletionException with cause and message as `new RuntimeException(&quot;message&quot;)`\r\n\r\n```\r\nCompletionException e = assertThrows(CompletionException.class, \r\n\t\t() -&gt; testClass.computeResult()\r\n\t\t\t.toCompletableFuture().join());\r\nassertTrue(e.getMessage().contains(&quot;message&quot;));\r\n```\r\n\r\n","title":"Throw exception from CompletableFuture thenApply","body":"<p>Say I have the following code. I want to throw an exception from within a <code>thenApply</code> block to the parent. I want to make sure I am returning and throwing the correct values from the sub-function <code>doSomething</code> and handling it properly in the caller. Because if I write a simple unit test, I don't get the exception from <code>doSomething</code>.</p>\n<p>A function that does the main work and returns a <code>CompletionStage&lt;Result&gt;</code></p>\n<pre><code>public CompletionStage&lt;Result&gt; computeResult() {\n    return CompletableFuture.allOf(a, b)\n        .thenApply(ignore -&gt; {\n            final aValue = a.join();\n            final bValue = b.join();\n\n            doSomething()\n                .thenApply(ignore -&gt;\n                    buildResult());\n\n            return null;\n        });\n    \n}\n</code></pre>\n<p>A private function that does some validations by calling another API and throws an exception or returns nothing</p>\n<pre><code>private CompletionStage&lt;Void&gt; doSomething() {\n\n    if (someCondition) {\n        return anotherService.shouldPerformTask()\n        .thenApply(shouldPerform -&gt; {\n            // Do something\n            if (someCheck) {\n                throw new RuntimeException(&quot;message&quot;);  // How to make sure this exception gets returned all the up to &quot;completableFuture.allOf&quot;?\n            }\n        return null;\n        });\n    }\n    return null;\n}\n</code></pre>\n<p>This is the function signature of buildResult</p>\n<pre><code>private Result buildResult();\n</code></pre>\n<p>This is how the other API call looks</p>\n<pre><code>anotherService:\nCompletionStage&lt;Boolean&gt; shouldPerformTask()\n</code></pre>\n<p>I am expecting the following assertion to work. i.e. I want <code>computeResult</code> to throw a CompletionException with cause and message as <code>new RuntimeException(&quot;message&quot;)</code></p>\n<pre><code>CompletionException e = assertThrows(CompletionException.class, \n        () -&gt; testClass.computeResult()\n            .toCompletableFuture().join());\nassertTrue(e.getMessage().contains(&quot;message&quot;));\n</code></pre>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":1,"creation_date":1675904743,"post_id":75392593,"comment_id":133030507,"body_markdown":"You have to take a look to these lines: ```return &quot;-1&quot;;```, ```return word.substring(index) + word.substring(0, index) + &quot;ay&quot;;```. Return within a for-loop does not mean it will continue with the loop, but your function is finished immediately and with that value returned.","body":"You have to take a look to these lines: <code>return &quot;-1&quot;;</code>, <code>return word.substring(index) + word.substring(0, index) + &quot;ay&quot;;</code>. Return within a for-loop does not mean it will continue with the loop, but your function is finished immediately and with that value returned."},{"owner":{"account_id":23753638,"reputation":3,"user_id":21176096,"display_name":"RETERON"},"score":0,"creation_date":1675974511,"post_id":75392593,"comment_id":133048819,"body_markdown":"@Enowneb Thank you, as I didn&#39;t know this about loops, but is there a way to get around this? Or maybe a way to replace using returns inside of the loop?","body":"@Enowneb Thank you, as I didn&#39;t know this about loops, but is there a way to get around this? Or maybe a way to replace using returns inside of the loop?"}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675990619,"creation_date":1675990619,"answer_id":75405967,"question_id":75392593,"body_markdown":"The reason why the code will just return the first word and stop processing the remaining lies here:\r\n```java\r\nString[] words = oldWord.split(&quot; &quot;);\r\nfor (String word : words) {\r\n    int len = word.length();\r\n    int index = -1;\r\n    for (int i = 0; i &lt; len; i++) {\r\n        if (isVowel(word.charAt(i))) {\r\n            index = i;\r\n            break;\r\n        }\r\n    }\r\n    if (index == -1)\r\n        return &quot;-1&quot;; // Stop processing anymore\r\n    return word.substring(index) + word.substring(0, index) + &quot;ay&quot;; // Stop processing anymore\r\n}\r\n```\r\nThe above is the for-loop that processes all the separate words from your sentence. However, a ```return``` statement will stop proceeding your ```pigLatin()``` function further and directly returns that value. So if you want to process all words from the sentence, you must not call ```return``` within the for-loop.\r\n\r\nSo what you can do, is to create another variable to hold your processed words. Like:\r\n```java\r\nString[] words = oldWord.split(&quot; &quot;);\r\n// Create another String array to hold your processed words\r\nString[] pigLatinWords = new String[words.length];\r\nint wordCounter = 0;\r\nfor (String word : words) {\r\n    int len = word.length();\r\n    int index = -1;\r\n    for (int i = 0; i &lt; len; i++) {\r\n        if (isVowel(word.charAt(i))) {\r\n            index = i;\r\n            break;\r\n        }\r\n    }\r\n    if (index == -1) {\r\n        // Store the processed word in this new Array\r\n        pigLatinWords[wordCounter++] = word;\r\n        // Continue with the for-loop without processing the code below\r\n        continue;\r\n    }\r\n    // Store the processed word in this new Array\r\n    pigLatinWords[wordCounter++] = word.substring(index) + word.substring(0, index) + &quot;ay&quot;;\r\n}\r\n```\r\nAnd at the end you should call return like:\r\n```java\r\nreturn String.join(&quot; &quot;, pigLatinWords);\r\n```\r\nOr you should refer to [this](https://stackoverflow.com/questions/5283444/convert-array-of-strings-into-a-string-in-java) to implement your own concatenation function if you are using *Java 7 or below*.\r\n\r\nChanging the above code should produce a result matching with your expectation:  \r\n&gt; What sentance should I translate?  \r\n&gt; graphic graphic  \r\n&gt;  \r\n&gt; ...  \r\n&gt;  \r\n&gt; Your sentance in Pig Latin is: aphicgray aphicgray\r\n\r\nAnd note that you should not call ```toString()``` on ```String[]```, or you will end up having something like the hexadecimal hashcode of ```String[]``` printed:\r\n&gt; Your sentance in Pig Latin is: [Ljava.lang.String;@7a79be86","title":"What changes do I make to my code to allow more than one word to be translated to Pig Latin and printed?","body":"<p>The reason why the code will just return the first word and stop processing the remaining lies here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] words = oldWord.split(&quot; &quot;);\nfor (String word : words) {\n    int len = word.length();\n    int index = -1;\n    for (int i = 0; i &lt; len; i++) {\n        if (isVowel(word.charAt(i))) {\n            index = i;\n            break;\n        }\n    }\n    if (index == -1)\n        return &quot;-1&quot;; // Stop processing anymore\n    return word.substring(index) + word.substring(0, index) + &quot;ay&quot;; // Stop processing anymore\n}\n</code></pre>\n<p>The above is the for-loop that processes all the separate words from your sentence. However, a <code>return</code> statement will stop proceeding your <code>pigLatin()</code> function further and directly returns that value. So if you want to process all words from the sentence, you must not call <code>return</code> within the for-loop.</p>\n<p>So what you can do, is to create another variable to hold your processed words. Like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] words = oldWord.split(&quot; &quot;);\n// Create another String array to hold your processed words\nString[] pigLatinWords = new String[words.length];\nint wordCounter = 0;\nfor (String word : words) {\n    int len = word.length();\n    int index = -1;\n    for (int i = 0; i &lt; len; i++) {\n        if (isVowel(word.charAt(i))) {\n            index = i;\n            break;\n        }\n    }\n    if (index == -1) {\n        // Store the processed word in this new Array\n        pigLatinWords[wordCounter++] = word;\n        // Continue with the for-loop without processing the code below\n        continue;\n    }\n    // Store the processed word in this new Array\n    pigLatinWords[wordCounter++] = word.substring(index) + word.substring(0, index) + &quot;ay&quot;;\n}\n</code></pre>\n<p>And at the end you should call return like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return String.join(&quot; &quot;, pigLatinWords);\n</code></pre>\n<p>Or you should refer to <a href=\"https://stackoverflow.com/questions/5283444/convert-array-of-strings-into-a-string-in-java\">this</a> to implement your own concatenation function if you are using <em>Java 7 or below</em>.</p>\n<p>Changing the above code should produce a result matching with your expectation:</p>\n<blockquote>\n<p>What sentance should I translate?<br />\ngraphic graphic</p>\n<p>...</p>\n<p>Your sentance in Pig Latin is: aphicgray aphicgray</p>\n</blockquote>\n<p>And note that you should not call <code>toString()</code> on <code>String[]</code>, or you will end up having something like the hexadecimal hashcode of <code>String[]</code> printed:</p>\n<blockquote>\n<p>Your sentance in Pig Latin is: [Ljava.lang.String;@7a79be86</p>\n</blockquote>\n"}],"owner":{"account_id":23753638,"reputation":3,"user_id":21176096,"display_name":"RETERON"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75405967,"answer_count":1,"score":0,"last_activity_date":1675990619,"creation_date":1675897610,"question_id":75392593,"body_markdown":"I made a Java Script that took word input and turned it into a Pig Latin version of said word:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n  static Scanner myObj = new Scanner(System.in);\r\n\r\n  static boolean isVowel(char c) {\r\n    return (c == &#39;A&#39; || c == &#39;a&#39; || c == &#39;E&#39; || c == &#39;e&#39; || c == &#39;I&#39; || c == &#39;i&#39; || c == &#39;O&#39; || c == &#39;o&#39; || c == &#39;U&#39;\r\n        || c == &#39;u&#39;);\r\n  }\r\n\r\n  static String pigLatin(String oldWord) {\r\n    System.out.println(&quot;\\r\\n&quot;);\r\n    System.out.println(&quot;What word should I translate?&quot;);\r\n    oldWord = myObj.nextLine();\r\n    System.out.println(&quot;&quot;);\r\n    try {\r\n      Thread.sleep(800);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.print(&quot;.&quot;);\r\n    try {\r\n      Thread.sleep(500);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.print(&quot;.&quot;);\r\n    try {\r\n      Thread.sleep(500);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.print(&quot;.&quot;);\r\n    try {\r\n      Thread.sleep(500);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.print(&quot;\\r\\n&quot;);\r\n    System.out.print(&quot;\\r\\n&quot;);\r\n    try {\r\n      Thread.sleep(500);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(e);\r\n    }\r\n    int len = oldWord.length();\r\n    int index = -1;\r\n    for (int i = 0; i &lt; len; i++) {\r\n      if (isVowel(oldWord.charAt(i))) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (index == -1)\r\n      return &quot;-1&quot;;\r\n\r\n    return oldWord.substring(index) + oldWord.substring(0, index) + &quot;ay&quot;;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    String newWord = pigLatin(&quot;graphic&quot;);\r\n    if (newWord == &quot;-1&quot;)\r\n      System.out.print(&quot;No vowels found. Pig Latin not possible&quot;);\r\n    else {\r\n      System.out.print(&quot;Your word in Pig Latin is: \\033[1m&quot; + newWord + &quot;\\033[0m&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis takes whatever is typed, moves all characters before the first vowel to the end, and then adds &quot;ay&quot; to it. I am now trying to change this to make it translate a sentence instead, so I decided to try using a string array for this, but I probably did something stupid or missed something important because I ended up with this code:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n  static Scanner myObj = new Scanner(System.in);\r\n\r\n  static boolean isVowel(char c) {\r\n    return (c == &#39;A&#39; || c == &#39;a&#39; || c == &#39;E&#39; || c == &#39;e&#39; || c == &#39;I&#39; || c == &#39;i&#39; || c == &#39;O&#39; || c == &#39;o&#39; || c == &#39;U&#39;\r\n        || c == &#39;u&#39;);\r\n  }\r\n\r\n  static String pigLatin(String sentance) {\r\n    System.out.println(&quot;\\r\\n&quot;);\r\n    System.out.println(&quot;What sentance should I translate?&quot;);\r\n    String oldWord = myObj.nextLine();\r\n    System.out.println(&quot;&quot;);\r\n    try {\r\n      Thread.sleep(800);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.print(&quot;.&quot;);\r\n    try {\r\n      Thread.sleep(500);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.print(&quot;.&quot;);\r\n    try {\r\n      Thread.sleep(500);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.print(&quot;.&quot;);\r\n    try {\r\n      Thread.sleep(500);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(e);\r\n    }\r\n    System.out.print(&quot;\\r\\n&quot;);\r\n    System.out.print(&quot;\\r\\n&quot;);\r\n    try {\r\n      Thread.sleep(500);\r\n    } catch (InterruptedException e) {\r\n      System.out.println(e);\r\n    }\r\n    \r\n    String[] words = oldWord.split(&quot; &quot;);\r\n    for (String word : words) {\r\n      int len = word.length();\r\n      int index = -1;\r\n      for (int i = 0; i &lt; len; i++) {\r\n        if (isVowel(word.charAt(i))) {\r\n          index = i;\r\n          break;\r\n        }\r\n      }\r\n      if (index == -1)\r\n        return &quot;-1&quot;;\r\n      return word.substring(index) + word.substring(0, index) + &quot;ay&quot;;\r\n    }\r\n    return words.toString();\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    String newWord = pigLatin(&quot;graphic&quot;);\r\n    System.out.print(&quot;Your sentance in Pig Latin is: \\033[1m&quot; + newWord + &quot;\\033[0m&quot;);\r\n  }\r\n}\r\n```\r\n\r\nWhich just made it only translate the first word and delete the rest. I&#39;m still new to Java, and I have no idea how to fix this problem.","title":"What changes do I make to my code to allow more than one word to be translated to Pig Latin and printed?","body":"<p>I made a Java Script that took word input and turned it into a Pig Latin version of said word:</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n  static Scanner myObj = new Scanner(System.in);\n\n  static boolean isVowel(char c) {\n    return (c == 'A' || c == 'a' || c == 'E' || c == 'e' || c == 'I' || c == 'i' || c == 'O' || c == 'o' || c == 'U'\n        || c == 'u');\n  }\n\n  static String pigLatin(String oldWord) {\n    System.out.println(&quot;\\r\\n&quot;);\n    System.out.println(&quot;What word should I translate?&quot;);\n    oldWord = myObj.nextLine();\n    System.out.println(&quot;&quot;);\n    try {\n      Thread.sleep(800);\n    } catch (InterruptedException e) {\n      System.out.println(e);\n    }\n    System.out.print(&quot;.&quot;);\n    try {\n      Thread.sleep(500);\n    } catch (InterruptedException e) {\n      System.out.println(e);\n    }\n    System.out.print(&quot;.&quot;);\n    try {\n      Thread.sleep(500);\n    } catch (InterruptedException e) {\n      System.out.println(e);\n    }\n    System.out.print(&quot;.&quot;);\n    try {\n      Thread.sleep(500);\n    } catch (InterruptedException e) {\n      System.out.println(e);\n    }\n    System.out.print(&quot;\\r\\n&quot;);\n    System.out.print(&quot;\\r\\n&quot;);\n    try {\n      Thread.sleep(500);\n    } catch (InterruptedException e) {\n      System.out.println(e);\n    }\n    int len = oldWord.length();\n    int index = -1;\n    for (int i = 0; i &lt; len; i++) {\n      if (isVowel(oldWord.charAt(i))) {\n        index = i;\n        break;\n      }\n    }\n\n    if (index == -1)\n      return &quot;-1&quot;;\n\n    return oldWord.substring(index) + oldWord.substring(0, index) + &quot;ay&quot;;\n  }\n\n  public static void main(String[] args) {\n    String newWord = pigLatin(&quot;graphic&quot;);\n    if (newWord == &quot;-1&quot;)\n      System.out.print(&quot;No vowels found. Pig Latin not possible&quot;);\n    else {\n      System.out.print(&quot;Your word in Pig Latin is: \\033[1m&quot; + newWord + &quot;\\033[0m&quot;);\n    }\n  }\n}\n</code></pre>\n<p>This takes whatever is typed, moves all characters before the first vowel to the end, and then adds &quot;ay&quot; to it. I am now trying to change this to make it translate a sentence instead, so I decided to try using a string array for this, but I probably did something stupid or missed something important because I ended up with this code:</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n  static Scanner myObj = new Scanner(System.in);\n\n  static boolean isVowel(char c) {\n    return (c == 'A' || c == 'a' || c == 'E' || c == 'e' || c == 'I' || c == 'i' || c == 'O' || c == 'o' || c == 'U'\n        || c == 'u');\n  }\n\n  static String pigLatin(String sentance) {\n    System.out.println(&quot;\\r\\n&quot;);\n    System.out.println(&quot;What sentance should I translate?&quot;);\n    String oldWord = myObj.nextLine();\n    System.out.println(&quot;&quot;);\n    try {\n      Thread.sleep(800);\n    } catch (InterruptedException e) {\n      System.out.println(e);\n    }\n    System.out.print(&quot;.&quot;);\n    try {\n      Thread.sleep(500);\n    } catch (InterruptedException e) {\n      System.out.println(e);\n    }\n    System.out.print(&quot;.&quot;);\n    try {\n      Thread.sleep(500);\n    } catch (InterruptedException e) {\n      System.out.println(e);\n    }\n    System.out.print(&quot;.&quot;);\n    try {\n      Thread.sleep(500);\n    } catch (InterruptedException e) {\n      System.out.println(e);\n    }\n    System.out.print(&quot;\\r\\n&quot;);\n    System.out.print(&quot;\\r\\n&quot;);\n    try {\n      Thread.sleep(500);\n    } catch (InterruptedException e) {\n      System.out.println(e);\n    }\n    \n    String[] words = oldWord.split(&quot; &quot;);\n    for (String word : words) {\n      int len = word.length();\n      int index = -1;\n      for (int i = 0; i &lt; len; i++) {\n        if (isVowel(word.charAt(i))) {\n          index = i;\n          break;\n        }\n      }\n      if (index == -1)\n        return &quot;-1&quot;;\n      return word.substring(index) + word.substring(0, index) + &quot;ay&quot;;\n    }\n    return words.toString();\n  }\n\n  public static void main(String[] args) {\n    String newWord = pigLatin(&quot;graphic&quot;);\n    System.out.print(&quot;Your sentance in Pig Latin is: \\033[1m&quot; + newWord + &quot;\\033[0m&quot;);\n  }\n}\n</code></pre>\n<p>Which just made it only translate the first word and delete the rest. I'm still new to Java, and I have no idea how to fix this problem.</p>\n"},{"tags":["java","opengl","glsl"],"owner":{"account_id":997984,"reputation":428,"user_id":1013477,"accept_rate":33,"display_name":"Box Very"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675990203,"creation_date":1675990203,"question_id":75405930,"body_markdown":"I copied exact code snippet from book - **Computer Graphics Programming in OpenGL with JAVA** (3rd edition).\r\n\r\nHowever, the GLSL code seems doesn&#39;t load/run. It just show white point in the middle, it suppose to be blue point.\r\n\r\nI don&#39;t think any typo in the code, I use JDK11, I noticed there are some warning before running the program:\r\n\r\n&gt;WARNING: An illegal reflective access operation has occurred&lt;br/&gt;\r\nWARNING: Illegal reflective access by com.jogamp.common.os.NativeLibrary$3 (file:/D:/JOGL/jogamp-all-platforms/jar/gluegen.jar) to method java.lang.ClassLoader.findLibrary(java.lang.String)&lt;br/&gt;\r\nWARNING: Please consider reporting this to the maintainers of com.jogamp.common.os.NativeLibrary$3&lt;br/&gt;\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations&lt;br/&gt;\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\nHowever, I don&#39;t think it related with GLSL can&#39;t render. Any idea?\r\n\r\nJust attached the code and the final screenshot.\r\n[![Final Window Show][1]][1]\r\n\r\n```\r\nimport javax.swing.JFrame;\r\nimport static com.jogamp.opengl.GL4.*;\r\nimport com.jogamp.opengl.*;\r\nimport com.jogamp.opengl.awt.GLCanvas;\r\n\r\npublic class Code extends JFrame implements GLEventListener {\r\n\tprivate GLCanvas myCanvas;\r\n\t\r\n\tprivate int renderingProgram;\r\n\tprivate int vao[]=new int[1];\r\n\t\r\n\tpublic Code() {\r\n\t\tsetTitle(&quot;Chapter- &quot;);\r\n\t\tsetSize(600,400);\r\n\t\tsetLocation(200,200);\r\n\t\tmyCanvas=new GLCanvas();\r\n\t\tmyCanvas.addGLEventListener(this);\r\n\t\tadd(myCanvas);\t\t\r\n\t\tsetVisible(true);\r\n\t}\r\n\t\r\n\tpublic void display(GLAutoDrawable drawable) {\r\n\t\tGL4 gl=(GL4) GLContext.getCurrentGL();\r\n\t\tgl.glClearColor(1.0f, 0.0f, 0.0f, 1.0f);\r\n\t\tgl.glClear(GL_COLOR_BUFFER_BIT);\r\n\t\tgl.glUseProgram(renderingProgram);\r\n\t\tgl.glPointSize(30.0f);\r\n\t\tgl.glDrawArrays(GL_POINTS, 0, 1);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Code();\r\n\t}\r\n\t\r\n\tpublic void init(GLAutoDrawable drawable) {\r\n\t\tGL4 gl=(GL4)GLContext.getCurrentGL();\r\n\t\trenderingProgram=createShaderProgram();\r\n\t\tgl.glGenVertexArrays(vao.length,vao,0);\r\n\t\tgl.glBindVertexArray(vao[0]);\r\n\t}\r\n\t\r\n\tprivate int createShaderProgram() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tGL4 gl =(GL4)GLContext.getCurrentGL();\r\n\t\tString vshaderSource[]= {\r\n\t\t\t\t&quot;#version 430 \\n&quot;,\r\n\t\t\t\t&quot;void main(void)\\n&quot;,\r\n\t\t\t\t&quot;{ gl_Position=vec4(0.0,0.0,0.0,1,0); }\\n&quot;,\r\n\t\t};\r\n\t\t\r\n\r\n\t\tString fshaderSource[]= {\r\n\t\t\t&quot;#version 430 \\n&quot;,\r\n\t\t\t&quot;out vec4 color; \\n&quot;,\r\n\t\t\t&quot;void main(void) \\n&quot;,\r\n\t\t\t&quot;{ color=vec4(0.0,0.0,1.0,1.0);}\\n&quot;,\r\n\t\t}; //blue color\r\n\t\t\r\n\t\tint vShader=gl.glCreateShader(GL_VERTEX_SHADER);\r\n\t\tgl.glShaderSource(vShader,3,vshaderSource,null,0);\r\n\t\tgl.glCompileShader(vShader);\r\n\t\t\r\n\t\tint fShader=gl.glCreateShader(GL_FRAGMENT_SHADER);\r\n\t\tgl.glShaderSource(fShader,4,fshaderSource,null,0);\r\n\t\tgl.glCompileShader(fShader);\r\n\t\t\r\n\t\tint vfProgram=gl.glCreateProgram();\r\n\t\tgl.glAttachShader(vfProgram, vShader);\r\n\t\tgl.glAttachShader(vfProgram, fShader);\r\n\t\tgl.glLinkProgram(vfProgram);\r\n\t\t\r\n\t\tgl.glDeleteShader(vShader);\r\n\t\tgl.glDeleteShader(fShader);\r\n\t\treturn vfProgram;\r\n\t}\r\n\r\n\tpublic void reshape(GLAutoDrawable drawable, int x, int y, int width, int height) {}\r\n\tpublic void dispose(GLAutoDrawable drawable) {}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TKocC.png","title":"Can&#39;t get GLSL run in Java JOGL example code","body":"<p>I copied exact code snippet from book - <strong>Computer Graphics Programming in OpenGL with JAVA</strong> (3rd edition).</p>\n<p>However, the GLSL code seems doesn't load/run. It just show white point in the middle, it suppose to be blue point.</p>\n<p>I don't think any typo in the code, I use JDK11, I noticed there are some warning before running the program:</p>\n<blockquote>\n<p>WARNING: An illegal reflective access operation has occurred<br/>\nWARNING: Illegal reflective access by com.jogamp.common.os.NativeLibrary$3 (file:/D:/JOGL/jogamp-all-platforms/jar/gluegen.jar) to method java.lang.ClassLoader.findLibrary(java.lang.String)<br/>\nWARNING: Please consider reporting this to the maintainers of com.jogamp.common.os.NativeLibrary$3<br/>\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations<br/>\nWARNING: All illegal access operations will be denied in a future release</p>\n</blockquote>\n<p>However, I don't think it related with GLSL can't render. Any idea?</p>\n<p>Just attached the code and the final screenshot.\n<a href=\"https://i.stack.imgur.com/TKocC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TKocC.png\" alt=\"Final Window Show\" /></a></p>\n<pre><code>import javax.swing.JFrame;\nimport static com.jogamp.opengl.GL4.*;\nimport com.jogamp.opengl.*;\nimport com.jogamp.opengl.awt.GLCanvas;\n\npublic class Code extends JFrame implements GLEventListener {\n    private GLCanvas myCanvas;\n    \n    private int renderingProgram;\n    private int vao[]=new int[1];\n    \n    public Code() {\n        setTitle(&quot;Chapter- &quot;);\n        setSize(600,400);\n        setLocation(200,200);\n        myCanvas=new GLCanvas();\n        myCanvas.addGLEventListener(this);\n        add(myCanvas);      \n        setVisible(true);\n    }\n    \n    public void display(GLAutoDrawable drawable) {\n        GL4 gl=(GL4) GLContext.getCurrentGL();\n        gl.glClearColor(1.0f, 0.0f, 0.0f, 1.0f);\n        gl.glClear(GL_COLOR_BUFFER_BIT);\n        gl.glUseProgram(renderingProgram);\n        gl.glPointSize(30.0f);\n        gl.glDrawArrays(GL_POINTS, 0, 1);\n    }\n    \n    public static void main(String[] args) {\n        new Code();\n    }\n    \n    public void init(GLAutoDrawable drawable) {\n        GL4 gl=(GL4)GLContext.getCurrentGL();\n        renderingProgram=createShaderProgram();\n        gl.glGenVertexArrays(vao.length,vao,0);\n        gl.glBindVertexArray(vao[0]);\n    }\n    \n    private int createShaderProgram() {\n        // TODO Auto-generated method stub\n        GL4 gl =(GL4)GLContext.getCurrentGL();\n        String vshaderSource[]= {\n                &quot;#version 430 \\n&quot;,\n                &quot;void main(void)\\n&quot;,\n                &quot;{ gl_Position=vec4(0.0,0.0,0.0,1,0); }\\n&quot;,\n        };\n        \n\n        String fshaderSource[]= {\n            &quot;#version 430 \\n&quot;,\n            &quot;out vec4 color; \\n&quot;,\n            &quot;void main(void) \\n&quot;,\n            &quot;{ color=vec4(0.0,0.0,1.0,1.0);}\\n&quot;,\n        }; //blue color\n        \n        int vShader=gl.glCreateShader(GL_VERTEX_SHADER);\n        gl.glShaderSource(vShader,3,vshaderSource,null,0);\n        gl.glCompileShader(vShader);\n        \n        int fShader=gl.glCreateShader(GL_FRAGMENT_SHADER);\n        gl.glShaderSource(fShader,4,fshaderSource,null,0);\n        gl.glCompileShader(fShader);\n        \n        int vfProgram=gl.glCreateProgram();\n        gl.glAttachShader(vfProgram, vShader);\n        gl.glAttachShader(vfProgram, fShader);\n        gl.glLinkProgram(vfProgram);\n        \n        gl.glDeleteShader(vShader);\n        gl.glDeleteShader(fShader);\n        return vfProgram;\n    }\n\n    public void reshape(GLAutoDrawable drawable, int x, int y, int width, int height) {}\n    public void dispose(GLAutoDrawable drawable) {}\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","robolectric","robolectric-gradle-plugin"],"comments":[{"owner":{"account_id":12292022,"reputation":849,"user_id":8968956,"display_name":"trinadh thatakula"},"score":5,"creation_date":1571812289,"post_id":58516687,"comment_id":103359710,"body_markdown":"android doesn&#39;t support android 9 yet you can use older version of Robolectric","body":"android doesn&#39;t support android 9 yet you can use older version of Robolectric"},{"owner":{"account_id":10357681,"reputation":826,"user_id":7639056,"display_name":"Kaushik Burkule"},"score":3,"creation_date":1571812295,"post_id":58516687,"comment_id":103359713,"body_markdown":"Take a look at this https://stackoverflow.com/a/47627603/7639056","body":"Take a look at this <a href=\"https://stackoverflow.com/a/47627603/7639056\">stackoverflow.com/a/47627603/7639056</a>"},{"owner":{"account_id":12292022,"reputation":849,"user_id":8968956,"display_name":"trinadh thatakula"},"score":1,"creation_date":1571812499,"post_id":58516687,"comment_id":103359802,"body_markdown":"yes android itself doesn&#39;t support JDK9 yet but studio can as it is built over IntelliJ IDE","body":"yes android itself doesn&#39;t support JDK9 yet but studio can as it is built over IntelliJ IDE"}],"answers":[{"comments":[{"owner":{"account_id":1730390,"reputation":1705,"user_id":1584121,"accept_rate":55,"display_name":"SKK"},"score":0,"creation_date":1586762189,"post_id":58516755,"comment_id":108236855,"body_markdown":"Won&#39;t I be able to get microsecond precision in timestamp using java 9(Instant.now()) in android?\nPlease check this thread - https://stackoverflow.com/q/61140653/1584121","body":"Won&#39;t I be able to get microsecond precision in timestamp using java 9(Instant.now()) in android? Please check this thread - <a href=\"https://stackoverflow.com/q/61140653/1584121\">stackoverflow.com/q/61140653/1584121</a>"},{"owner":{"account_id":931839,"reputation":2062,"user_id":1412973,"accept_rate":57,"display_name":"colintheshots"},"score":0,"creation_date":1590442876,"post_id":58516755,"comment_id":109676557,"body_markdown":"This answer is incorrect. You might not be able to use Java 9 code in an Android app without desugaring, but Robolectric would not be requesting Java 9 unless it was possible to use a Java 9 SDK for compilation. Eugen&#39;s solution is correct. As of the latest Robolectric 4.3.1, you may still encounter errors because of this issue: https://github.com/robolectric/robolectric/issues/5303","body":"This answer is incorrect. You might not be able to use Java 9 code in an Android app without desugaring, but Robolectric would not be requesting Java 9 unless it was possible to use a Java 9 SDK for compilation. Eugen&#39;s solution is correct. As of the latest Robolectric 4.3.1, you may still encounter errors because of this issue: <a href=\"https://github.com/robolectric/robolectric/issues/5303\" rel=\"nofollow noreferrer\">github.com/robolectric/robolectric/issues/5303</a>"}],"tags":[],"owner":{"account_id":5966678,"reputation":3016,"user_id":4690298,"display_name":"Amjad Alwareh"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1667041352,"creation_date":1571812354,"answer_id":58516755,"question_id":58516687,"body_markdown":"You can&#39;t use Java 9, Android only supports till Java 8.\r\n\r\nYou should use the JDK version that comes with Android Studio, no need for side alone JDK. The current JDK version is based on OpenJDK 8.","title":"How to add Java 9 to Android Studio?","body":"<p>You can't use Java 9, Android only supports till Java 8.</p>\n<p>You should use the JDK version that comes with Android Studio, no need for side alone JDK. The current JDK version is based on OpenJDK 8.</p>\n"},{"tags":[],"owner":{"account_id":12292022,"reputation":849,"user_id":8968956,"display_name":"trinadh thatakula"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571812878,"creation_date":1571812878,"answer_id":58516861,"question_id":58516687,"body_markdown":"I don&#39;t guarantee that it will work but you can set JDK to any version from the project Structure Option \r\nFile&gt;Project Structure&gt;SDK Location&gt;&#39;change JDK location here&#39;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nsorry but it&#39;s not working either i have tried to select JDK9 but i got a prompt like this[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MJg57.png\r\n  [2]: https://i.stack.imgur.com/kkJsB.png","title":"How to add Java 9 to Android Studio?","body":"<p>I don't guarantee that it will work but you can set JDK to any version from the project Structure Option \nFile>Project Structure>SDK Location>'change JDK location here'</p>\n\n<p><a href=\"https://i.stack.imgur.com/MJg57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MJg57.png\" alt=\"enter image description here\"></a></p>\n\n<p>sorry but it's not working either i have tried to select JDK9 but i got a prompt like this<a href=\"https://i.stack.imgur.com/kkJsB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kkJsB.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571813253,"creation_date":1571813253,"answer_id":58516946,"question_id":58516687,"body_markdown":"So far Android doesn&#39;t support Java 9. As per [documentation][1], Android supports all Java 7 features and a part of Java 8 features.\r\n\r\n&gt; When developing apps for Android, using Java 8 language features is\r\n&gt; optional. You can keep your project&#39;s source and target compatibility\r\n&gt; values set to Java 7, but you still need to compile using JDK 8.\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support","title":"How to add Java 9 to Android Studio?","body":"<p>So far Android doesn't support Java 9. As per <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">documentation</a>, Android supports all Java 7 features and a part of Java 8 features.</p>\n\n<blockquote>\n  <p>When developing apps for Android, using Java 8 language features is\n  optional. You can keep your project's source and target compatibility\n  values set to Java 7, but you still need to compile using JDK 8.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571894136,"creation_date":1571894136,"answer_id":58534552,"question_id":58516687,"body_markdown":"The only workaround to run Robolectric test in the Android Studio is to change JRE for the test task.\r\n\r\nSelect IDE menu Run -&gt; Edit Configuration and then change the option from the picture to the location of JDK9:\r\n\r\n[![screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JeBCx.png","title":"How to add Java 9 to Android Studio?","body":"<p>The only workaround to run Robolectric test in the Android Studio is to change JRE for the test task.</p>\n\n<p>Select IDE menu Run -> Edit Configuration and then change the option from the picture to the location of JDK9:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JeBCx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JeBCx.png\" alt=\"screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":9721711,"reputation":4590,"user_id":7210237,"display_name":"Jenea Vranceanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1592166094,"creation_date":1588016791,"answer_id":61467224,"question_id":58516687,"body_markdown":"# Tests can run on prior versions as a temporary workaround\r\n\r\nYou will not be able to run Robolectric against SDK 29 for now (27 April 2020), but this will likely be updated in the future. Currently, as all of the answers before me pointed out, there is no support of Java 9 or later in Android Studio.\r\n\r\nBut **if you are here to make your Robolectic tests run** you could simply avoid SDK 29 by setting the Robolectric `@Config` annotation for your class. Robolectric will simply run your tests against all of the supported SDK versions of your app except 29.\r\n\r\n## Implement\r\nSet the `maxSdk` and `minSdk` versions to run on. This can be based on the app&#39;s min and max SDK versions, or set to one version like below in order to make tests faster.\r\n\r\n```\r\nimport androidx.test.ext.junit.runners.AndroidJUnit4\r\nimport org.robolectric.annotation.Config\r\nimport org.junit.runner.RunWith\r\nimport android.os.Build\r\n\r\n@RunWith(AndroidJUnit4::class)\r\n@Config(maxSdk = Build.VERSION_CODES.P, minSdk = Build.VERSION_CODES.P) // Value of Build.VERSION_CODES.P is 28\r\nclass TestClass {\r\n...\r\n}\r\n```\r\n\r\nOf course it is just another &quot;ugly&quot; patch, but it will get you going until you&#39;ll be able to run tests against all of the desired SDKs, or at least SDK 29 and all below. \r\n\r\n","title":"How to add Java 9 to Android Studio?","body":"<h1>Tests can run on prior versions as a temporary workaround</h1>\n\n<p>You will not be able to run Robolectric against SDK 29 for now (27 April 2020), but this will likely be updated in the future. Currently, as all of the answers before me pointed out, there is no support of Java 9 or later in Android Studio.</p>\n\n<p>But <strong>if you are here to make your Robolectic tests run</strong> you could simply avoid SDK 29 by setting the Robolectric <code>@Config</code> annotation for your class. Robolectric will simply run your tests against all of the supported SDK versions of your app except 29.</p>\n\n<h2>Implement</h2>\n\n<p>Set the <code>maxSdk</code> and <code>minSdk</code> versions to run on. This can be based on the app's min and max SDK versions, or set to one version like below in order to make tests faster.</p>\n\n<pre><code>import androidx.test.ext.junit.runners.AndroidJUnit4\nimport org.robolectric.annotation.Config\nimport org.junit.runner.RunWith\nimport android.os.Build\n\n@RunWith(AndroidJUnit4::class)\n@Config(maxSdk = Build.VERSION_CODES.P, minSdk = Build.VERSION_CODES.P) // Value of Build.VERSION_CODES.P is 28\nclass TestClass {\n...\n}\n</code></pre>\n\n<p>Of course it is just another \"ugly\" patch, but it will get you going until you'll be able to run tests against all of the desired SDKs, or at least SDK 29 and all below. </p>\n"},{"tags":[],"owner":{"account_id":4705887,"reputation":71,"user_id":3808056,"display_name":"Booo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670100854,"creation_date":1670100854,"answer_id":74670635,"question_id":58516687,"body_markdown":"In Android Studio, under &quot;Build, Execution, Deployment =&gt; Gradle =&gt; Gradle JDK&quot;, you can choose the JDK version. In newer versions of Android Studio like  Artic Fox, it comes with JDK11.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/QNV8X.png","title":"How to add Java 9 to Android Studio?","body":"<p>In Android Studio, under &quot;Build, Execution, Deployment =&gt; Gradle =&gt; Gradle JDK&quot;, you can choose the JDK version. In newer versions of Android Studio like  Artic Fox, it comes with JDK11.</p>\n<p><a href=\"https://i.stack.imgur.com/QNV8X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QNV8X.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8269656,"reputation":1123,"user_id":6217764,"display_name":"Varun A M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12700,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":6,"score":16,"last_activity_date":1675989994,"creation_date":1571812058,"question_id":58516687,"body_markdown":"I am using Robolectric library and the latest version of it v4.3.1 requires Java 9 to run. I am trying to point JRE on edit configurations but I am not finding Java 9 in the drop-down, even though I have already installed it. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nPlease check Java 9 installed.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/ErOPk.png\r\n  [2]: https://i.stack.imgur.com/U5TKc.png","title":"How to add Java 9 to Android Studio?","body":"<p>I am using Robolectric library and the latest version of it v4.3.1 requires Java 9 to run. I am trying to point JRE on edit configurations but I am not finding Java 9 in the drop-down, even though I have already installed it.</p>\n<p><a href=\"https://i.stack.imgur.com/ErOPk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ErOPk.png\" alt=\"enter image description here\" /></a></p>\n<p>Please check Java 9 installed.</p>\n<p><a href=\"https://i.stack.imgur.com/U5TKc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U5TKc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1675956548,"post_id":75400458,"comment_id":133042983,"body_markdown":"Please read https://www.baeldung.com/spring-boot-configure-multiple-datasources","body":"Please read <a href=\"https://www.baeldung.com/spring-boot-configure-multiple-datasources\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-configure-multiple-datasources</a>"}],"answers":[{"tags":[],"owner":{"account_id":13068865,"reputation":357,"user_id":9443176,"display_name":"Max Aminov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675957738,"creation_date":1675957738,"answer_id":75401084,"question_id":75400458,"body_markdown":"You should not use *@Primary* annotation in this case.\r\n\r\nWhen you mark bean with @Primary, it will be selected for dependency injection\r\nMarking your beans with @Qualifier would be enough to select concrete bean.\r\n","title":"Java Spring boot multiple databases, repository is using the wrong database","body":"<p>You should not use <em>@Primary</em> annotation in this case.</p>\n<p>When you mark bean with @Primary, it will be selected for dependency injection\nMarking your beans with @Qualifier would be enough to select concrete bean.</p>\n"},{"tags":[],"owner":{"account_id":27745405,"reputation":21,"user_id":21181012,"display_name":"Ajiva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675989743,"creation_date":1675989743,"answer_id":75405890,"question_id":75400458,"body_markdown":"I ended up using an existing project. I cloned [this repo][1], changed some names and values and it was ready to use in my own project.\r\n\r\n\r\n  [1]: https://github.com/camelya58/multiple-databases","title":"Java Spring boot multiple databases, repository is using the wrong database","body":"<p>I ended up using an existing project. I cloned <a href=\"https://github.com/camelya58/multiple-databases\" rel=\"nofollow noreferrer\">this repo</a>, changed some names and values and it was ready to use in my own project.</p>\n"}],"owner":{"account_id":27745405,"reputation":21,"user_id":21181012,"display_name":"Ajiva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75401084,"answer_count":2,"score":1,"last_activity_date":1675989878,"creation_date":1675954813,"question_id":75400458,"body_markdown":"(help to create multiple databases in spring boot in my answer)\r\n\r\nI want to make a spring boot application for different games. The data of each game is placed in a separate database. I have been trying to connect a secondary database to my existing application, but the controller/repository keeps using the primary database.\r\n\r\nThis is what the controller for the second database looks like:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/valorant&quot;)\r\n@CrossOrigin\r\npublic class UserController {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;valorantDataSource&quot;)\r\n    private DataSource valorantDataSource;\r\n\r\n    @GetMapping(&quot;/users&quot;)\r\n    public Iterable&lt;User&gt; getUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n}\r\n```\r\n\r\nThis is the repository that should take the data from the second database:\r\n\r\n```\r\n@Repository\r\n@Qualifier(&quot;valorantDataSource&quot;)\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n}\r\n\r\n```\r\n\r\nI have defined the datasources in a different file. (Adding .url(), .username() and .password() to the datasourcebuilder did not help)\r\n\r\n```\r\n@Configuration\r\npublic class DatasourceConfig {\r\n\r\n    @Primary\r\n    @Bean(name = &quot;apexDataSource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    public DataSource dataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\n    @Bean(name = &quot;valorantDataSource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.second-datasource&quot;)\r\n    public DataSource valorantDataSource() {\r\n        return DataSourceBuilder.create()\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n# First database\r\nspring.datasource.jdbc-url=jdbc:mysql://localhost:3306/apex\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n# Second database\r\nspring.second-datasource.jdbc-url=jdbc:mysql://localhost:3306/valorant\r\nspring.second-datasource.username=root\r\nspring.second-datasource.password=\r\nspring.second-datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n```\r\n\r\n\r\nWhen I used postman to go to http://localhost:8080/valorant/users, i got the error: \r\n&gt; java.sql.SQLSyntaxErrorException: Table &#39;apex.user&#39; doesn&#39;t exist\r\n\r\nSo it seems like the application is trying to look in the wrong database.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NDs0E.png","title":"Java Spring boot multiple databases, repository is using the wrong database","body":"<p>(help to create multiple databases in spring boot in my answer)</p>\n<p>I want to make a spring boot application for different games. The data of each game is placed in a separate database. I have been trying to connect a secondary database to my existing application, but the controller/repository keeps using the primary database.</p>\n<p>This is what the controller for the second database looks like:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/valorant&quot;)\n@CrossOrigin\npublic class UserController {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    @Qualifier(&quot;valorantDataSource&quot;)\n    private DataSource valorantDataSource;\n\n    @GetMapping(&quot;/users&quot;)\n    public Iterable&lt;User&gt; getUsers() {\n        return userRepository.findAll();\n    }\n}\n</code></pre>\n<p>This is the repository that should take the data from the second database:</p>\n<pre><code>@Repository\n@Qualifier(&quot;valorantDataSource&quot;)\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n\n</code></pre>\n<p>I have defined the datasources in a different file. (Adding .url(), .username() and .password() to the datasourcebuilder did not help)</p>\n<pre><code>@Configuration\npublic class DatasourceConfig {\n\n    @Primary\n    @Bean(name = &quot;apexDataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n    public DataSource dataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;valorantDataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.second-datasource&quot;)\n    public DataSource valorantDataSource() {\n        return DataSourceBuilder.create()\n                .build();\n    }\n}\n</code></pre>\n<pre><code># First database\nspring.datasource.jdbc-url=jdbc:mysql://localhost:3306/apex\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n# Second database\nspring.second-datasource.jdbc-url=jdbc:mysql://localhost:3306/valorant\nspring.second-datasource.username=root\nspring.second-datasource.password=\nspring.second-datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n</code></pre>\n<p>When I used postman to go to http://localhost:8080/valorant/users, i got the error:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: Table 'apex.user' doesn't exist</p>\n</blockquote>\n<p>So it seems like the application is trying to look in the wrong database.</p>\n<p><a href=\"https://i.stack.imgur.com/NDs0E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NDs0E.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","ssl","java-6","tls1.2"],"comments":[{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1478539052,"post_id":33364100,"comment_id":68186055,"body_markdown":"Java 6 is also stuck at 1024-bit DH moduli, IIRC. After [logjam](http://stackoverflow.com/a/30706878), it probably won&#39;t be able to connect to a well configured server. If possible, you should probably move on to another client platform.","body":"Java 6 is also stuck at 1024-bit DH moduli, IIRC. After <a href=\"http://stackoverflow.com/a/30706878\">logjam</a>, it probably won&#39;t be able to connect to a well configured server. If possible, you should probably move on to another client platform."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1520243766,"post_id":33364100,"comment_id":85220092,"body_markdown":"Actually, Java 6 &amp; 7 now support for DH ephemeral keys up to 2048 bits, starting with JRE 6U105 (aka1.6.0_105) and 7u91 (aka 1.7.0_91).  (Source: https://github.com/mozilla/server-side-tls/issues/107)","body":"Actually, Java 6 &amp; 7 now support for DH ephemeral keys up to 2048 bits, starting with JRE 6U105 (aka1.6.0_105) and 7u91 (aka 1.7.0_91).  (Source: <a href=\"https://github.com/mozilla/server-side-tls/issues/107\" rel=\"nofollow noreferrer\">github.com/mozilla/server-side-tls/issues/107</a>)"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1664898222,"post_id":33364100,"comment_id":130572937,"body_markdown":"Java 6?  **Don&#39;t**.  Just **DON&#39;T**.  Using it on any public-facing system is **reckless**.  There are 25 or so known **easily-exploitable REMOTE** vulnerabilities in the last publicly-available version of Java 1.6:  https://web.archive.org/web/20160422142813/http://www.cvedetails.com/vulnerability-list/vendor_id-93/product_id-19117/version_id-147025/Oracle-JRE-1.6.0.html  And there are probably **more** than that because Java 6 went out of public support almost a decade ago.","body":"Java 6?  <b>Don&#39;t</b>.  Just <b>DON&#39;T</b>.  Using it on any public-facing system is <b>reckless</b>.  There are 25 or so known <b>easily-exploitable REMOTE</b> vulnerabilities in the last publicly-available version of Java 1.6:  <a href=\"https://web.archive.org/web/20160422142813/http://www.cvedetails.com/vulnerability-list/vendor_id-93/product_id-19117/version_id-147025/Oracle-JRE-1.6.0.html\" rel=\"nofollow noreferrer\">web.archive.org/web/20160422142813/http://www.cvedetails.com&zwnj;&#8203;/&hellip;</a>  And there are probably <b>more</b> than that because Java 6 went out of public support almost a decade ago."}],"answers":[{"comments":[{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":2,"creation_date":1446023035,"post_id":33366289,"comment_id":54565818,"body_markdown":"One note about this .All samples i have seen using Bouncy are based on sending raw  HTTP commands... That&#39;s a bit  difficult to integrate into  a working/production program.  The best way obviously, would be upgrading the JVM (depending the aplication server, IBM JVM, f.e, could not be available..in a Oracle WLS environment). Bellow i explain a workaround, just using a customized SSL SocketConnectionFactory based on Bouncy.  If anybody found a solution, based not just sendind raw HTTP Commands, please share for the procommons..! .-)","body":"One note about this .All samples i have seen using Bouncy are based on sending raw  HTTP commands... That&#39;s a bit  difficult to integrate into  a working/production program.  The best way obviously, would be upgrading the JVM (depending the aplication server, IBM JVM, f.e, could not be available..in a Oracle WLS environment). Bellow i explain a workaround, just using a customized SSL SocketConnectionFactory based on Bouncy.  If anybody found a solution, based not just sendind raw HTTP Commands, please share for the procommons..! .-)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1592622031,"creation_date":1445943889,"answer_id":33366289,"question_id":33364100,"body_markdown":"Public Oracle Java 6 releases do not support TLSv1.2.  Paid-for releases of Java 6 (post-EOL) might. (**UPDATE** - TLSv1.1 is available for Java 1.6 from update 111 onwards; [source][1]) \r\n\r\nContact Oracle sales.\r\n\r\nOther alternatives are:\r\n\r\n  - Use an alternative JCE implementation such as Bouncy Castle.  See [this answer][2] for details on how to do it.  It changes the default `SSLSocketFactory` implementation, so that your application will use BC transparently.  (Other answers show how to use the BC `SSLSocketFactory` implementation explicitly, but that approach will entail modifying application or library code that that is opening sockets.)\r\n\r\n  - Use an IBM Java 6 ... if available for your platform.  According to [&quot;IBM SDK, Java Technology Edition fixes to mitigate against the POODLE security vulnerability (CVE-2014-3566)&quot;][3]:\r\n\r\n    &gt; &quot;TLSv1.1 and TLSv1.2 are available only for Java 6 service refresh 10, Java 6.0.1 service refresh 1 (J9 VM2.6), and later releases.&quot;\r\n\r\n----------\r\n\r\nHowever, I&#39;d advise upgrading to a Java 11 (now).  Java 6 was EOL&#39;d in Feb 2013, and continuing to use it is potentially risky.  Free Oracle Java 8 is EOL for many use-cases.  (Tell or remind the boss / the client.  They need to know.)\r\n\r\n\r\n  [1]: https://blogs.oracle.com/java-platform-group/entry/diagnosing_tls_ssl_and_https\r\n  [2]: https://stackoverflow.com/a/61115302/139985\r\n  [3]: http://www-01.ibm.com/support/docview.wss?uid=swg21688165","title":"How to use TLS 1.2 in Java 6","body":"<p>Public Oracle Java 6 releases do not support TLSv1.2.  Paid-for releases of Java 6 (post-EOL) might. (<strong>UPDATE</strong> - TLSv1.1 is available for Java 1.6 from update 111 onwards; <a href=\"https://blogs.oracle.com/java-platform-group/entry/diagnosing_tls_ssl_and_https\" rel=\"noreferrer\">source</a>) </p>\n\n<p>Contact Oracle sales.</p>\n\n<p>Other alternatives are:</p>\n\n<ul>\n<li><p>Use an alternative JCE implementation such as Bouncy Castle.  See <a href=\"https://stackoverflow.com/a/61115302/139985\">this answer</a> for details on how to do it.  It changes the default <code>SSLSocketFactory</code> implementation, so that your application will use BC transparently.  (Other answers show how to use the BC <code>SSLSocketFactory</code> implementation explicitly, but that approach will entail modifying application or library code that that is opening sockets.)</p></li>\n<li><p>Use an IBM Java 6 ... if available for your platform.  According to <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg21688165\" rel=\"noreferrer\">\"IBM SDK, Java Technology Edition fixes to mitigate against the POODLE security vulnerability (CVE-2014-3566)\"</a>:</p>\n\n<blockquote>\n  <p>\"TLSv1.1 and TLSv1.2 are available only for Java 6 service refresh 10, Java 6.0.1 service refresh 1 (J9 VM2.6), and later releases.\"</p>\n</blockquote></li>\n</ul>\n\n<hr>\n\n<p>However, I'd advise upgrading to a Java 11 (now).  Java 6 was EOL'd in Feb 2013, and continuing to use it is potentially risky.  Free Oracle Java 8 is EOL for many use-cases.  (Tell or remind the boss / the client.  They need to know.)</p>\n"},{"comments":[{"owner":{"account_id":1083913,"reputation":497,"user_id":1080110,"display_name":"alex"},"score":0,"creation_date":1446538836,"post_id":33375677,"comment_id":54772775,"body_markdown":"thanks. i&#39;m using bouncyCastle in tomcat. so could you explain the solution in detail? or is there any sample or tutorial in customize BC to use TLS1.2(in java6) ?","body":"thanks. i&#39;m using bouncyCastle in tomcat. so could you explain the solution in detail? or is there any sample or tutorial in customize BC to use TLS1.2(in java6) ?"},{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1446543602,"post_id":33375677,"comment_id":54775354,"body_markdown":"The full samples are in this uri: http://stackoverflow.com/questions/8171802/using-bouncycastle-for-a-simple-https-query","body":"The full samples are in this uri: <a href=\"http://stackoverflow.com/questions/8171802/using-bouncycastle-for-a-simple-https-query\" title=\"using bouncycastle for a simple https query\">stackoverflow.com/questions/8171802/&hellip;</a>"},{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1446543771,"post_id":33375677,"comment_id":54775463,"body_markdown":"But...try to implement a customized SSLConnectionFactory (TLSConnectionFactory) , in the way i explain...  Just begin to make a class that extends SSLConnectionFactory  and override @Override public Socket createSocket(Socket socket, \nfinal String host, int port, boolean arg3) ...Just there call the TSLClientProtocol","body":"But...try to implement a customized SSLConnectionFactory (TLSConnectionFactory) , in the way i explain...  Just begin to make a class that extends SSLConnectionFactory  and override @Override public Socket createSocket(Socket socket,  final String host, int port, boolean arg3) ...Just there call the TSLClientProtocol"},{"owner":{"account_id":1083913,"reputation":497,"user_id":1080110,"display_name":"alex"},"score":1,"creation_date":1446553499,"post_id":33375677,"comment_id":54781739,"body_markdown":"I thing there is a misgiving. i don&#39;t want to connect to a server as a client. I looking to a way which allow me to response to client (browsers) using tls1.2. in other word I have my own webapp(deployed in tomcat) that has written by java6 and uses bouncycastle to response secured connections. but i wanna to upgrade TLSv1(which is support) to TLSv1.2 without upgrading java version.","body":"I thing there is a misgiving. i don&#39;t want to connect to a server as a client. I looking to a way which allow me to response to client (browsers) using tls1.2. in other word I have my own webapp(deployed in tomcat) that has written by java6 and uses bouncycastle to response secured connections. but i wanna to upgrade TLSv1(which is support) to TLSv1.2 without upgrading java version."},{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1446557267,"post_id":33375677,"comment_id":54784203,"body_markdown":"Ooh...that&#39;s quite different!! , Maybe you can put an apache web server on frontend (http://serverfault.com/questions/314858/how-to-enable-tls-1-1-and-1-2-with-openssl-and-apache) to serve the tomcat (that u could mantain in jdk 1.6). Sorry ._)","body":"Ooh...that&#39;s quite different!! , Maybe you can put an apache web server on frontend (<a href=\"http://serverfault.com/questions/314858/how-to-enable-tls-1-1-and-1-2-with-openssl-and-apache\" title=\"how to enable tls 1 1 and 1 2 with openssl and apache\">serverfault.com/questions/314858/&hellip;</a>) to serve the tomcat (that u could mantain in jdk 1.6). Sorry ._)"},{"owner":{"account_id":1083913,"reputation":497,"user_id":1080110,"display_name":"alex"},"score":0,"creation_date":1446613903,"post_id":33375677,"comment_id":54811077,"body_markdown":"thank for your answer. it couldn&#39;t solve with bouncyCastle?","body":"thank for your answer. it couldn&#39;t solve with bouncyCastle?"},{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1446623159,"post_id":33375677,"comment_id":54814627,"body_markdown":"Sorry, I don&#39;t know... Maybe the best would be to use an apache on front-end, so you would be &quot;independent&quot; to the application infraestructure (Tomcat), but maybe this is an architecture change to measure up-","body":"Sorry, I don&#39;t know... Maybe the best would be to use an apache on front-end, so you would be &quot;independent&quot; to the application infraestructure (Tomcat), but maybe this is an architecture change to measure up-"}],"tags":[],"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"comment_count":7,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1501536809,"creation_date":1445970029,"answer_id":33375677,"question_id":33364100,"body_markdown":"You must create your own SSLSocketFactory based on Bouncy Castle. After to use it, pass to the common HttpsConnextion for using this customized SocketFactory.\n\n\n**1. First : Create a TLSConnectionFactory**\n\n   Here one  tips: \n\n1.1 Extend SSLConnectionFactory \n\n1.2 Override this method :\n  \n\n        \n\n    @Override \n    public Socket createSocket(Socket socket, final String host, int port, boolean arg3)\n\n  This method will call the next internal method, \n  \n   \n\n1.3 Implement an internal method  _createSSLSocket(host, tlsClientProtocol);\n\nHere you must create a Socket using TlsClientProtocol . The trick is override ...startHandshake() method calling TlsClientProtocol\n\n     private SSLSocket _createSSLSocket(final String host , final TlsClientProtocol tlsClientProtocol) {\n         return new SSLSocket() {    \n           .... Override and implement SSLSocket methods,  particulary: \n                startHandshake() {\n                 }    \n         }\n\n         \n\nImportant : The full sample how to use TLS Client Protocol is well explained here: https://stackoverflow.com/questions/8171802/using-bouncycastle-for-a-simple-https-query \n\n\n\n\n\n**2. Second : Use this Customized  SSLConnextionFactory on common HTTPSConnection.**\n\n  This is important !  In other samples you can see into the web , u see hard-coded HTTP Commands....so with a customized SSLConnectionFactory u don&#39;t need nothing more...\n \n      URL myurl = new URL( &quot;http:// ...URL tha only Works in TLS 1.2);\n      HttpsURLConnection  con = (HttpsURLConnection )myurl.openConnection();\n      con.setSSLSocketFactory(new TSLSocketConnectionFactory());\n","title":"How to use TLS 1.2 in Java 6","body":"<p>You must create your own SSLSocketFactory based on Bouncy Castle. After to use it, pass to the common HttpsConnextion for using this customized SocketFactory.</p>\n<p><strong>1. First : Create a TLSConnectionFactory</strong></p>\n<p>Here one  tips:</p>\n<p>1.1 Extend SSLConnectionFactory</p>\n<p>1.2 Override this method :</p>\n<pre><code>@Override \npublic Socket createSocket(Socket socket, final String host, int port, boolean arg3)\n</code></pre>\n<p>This method will call the next internal method,</p>\n<p>1.3 Implement an internal method  _createSSLSocket(host, tlsClientProtocol);</p>\n<p>Here you must create a Socket using TlsClientProtocol . The trick is override ...startHandshake() method calling TlsClientProtocol</p>\n<pre><code> private SSLSocket _createSSLSocket(final String host , final TlsClientProtocol tlsClientProtocol) {\n     return new SSLSocket() {    \n       .... Override and implement SSLSocket methods,  particulary: \n            startHandshake() {\n             }    \n     }\n\n     \n</code></pre>\n<p>Important : The full sample how to use TLS Client Protocol is well explained here: <a href=\"https://stackoverflow.com/questions/8171802/using-bouncycastle-for-a-simple-https-query\">Using BouncyCastle for a simple HTTPS query</a></p>\n<p><strong>2. Second : Use this Customized  SSLConnextionFactory on common HTTPSConnection.</strong></p>\n<p>This is important !  In other samples you can see into the web , u see hard-coded HTTP Commands....so with a customized SSLConnectionFactory u don't need nothing more...</p>\n<pre><code>  URL myurl = new URL( &quot;http:// ...URL tha only Works in TLS 1.2);\n  HttpsURLConnection  con = (HttpsURLConnection )myurl.openConnection();\n  con.setSSLSocketFactory(new TSLSocketConnectionFactory());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":2,"creation_date":1446544859,"post_id":33495988,"comment_id":54776200,"body_markdown":"If you prefer you can use raw HTTP commands this way http://stackoverflow.com/questions/8171802/using-bouncycastle-for-a-simple-https-query?lq=1  ..... But are raw http commands.... I thinks it&#39;s better to use  HTTPSUrlconnection  +  customized SSLConnectionFactory :    URL myurl = new URL( &quot;http:// ...URL tha only Works in TLS 1.2);\n  HttpsURLConnection  con = (HttpsURLConnection )myurl.openConnection();\n  con.setSSLSocketFactory(new TSLSocketConnectionFactory());","body":"If you prefer you can use raw HTTP commands this way <a href=\"http://stackoverflow.com/questions/8171802/using-bouncycastle-for-a-simple-https-query?lq=1\" title=\"using bouncycastle for a simple https query\">stackoverflow.com/questions/8171802/&hellip;</a>  ..... But are raw http commands.... I thinks it&#39;s better to use  HTTPSUrlconnection  +  customized SSLConnectionFactory :    URL myurl = new URL( &quot;http:// ...URL tha only Works in TLS 1.2);   HttpsURLConnection  con = (HttpsURLConnection )myurl.openConnection();   con.setSSLSocketFactory(new TSLSocketConnectionFactory());"},{"owner":{"account_id":129861,"reputation":454,"user_id":328723,"accept_rate":56,"display_name":"Saky"},"score":0,"creation_date":1497314149,"post_id":33495988,"comment_id":76014267,"body_markdown":"I am stuck with Java 5 and this seems to be the only solution. I see that alot of these methods are empty, throws exception or return nulls. Whats the purpose behind this? Do you have a working TLS connection factory implementation?","body":"I am stuck with Java 5 and this seems to be the only solution. I see that alot of these methods are empty, throws exception or return nulls. Whats the purpose behind this? Do you have a working TLS connection factory implementation?"},{"owner":{"account_id":453403,"reputation":5259,"user_id":850366,"accept_rate":80,"display_name":"Dmytro Pastovenskyi"},"score":1,"creation_date":1529932080,"post_id":33495988,"comment_id":89040878,"body_markdown":"It worked, thanks. Really appreciate your answer, I was going nuts already before I found your solution.","body":"It worked, thanks. Really appreciate your answer, I was going nuts already before I found your solution."},{"owner":{"account_id":1447480,"reputation":1567,"user_id":1365460,"accept_rate":51,"display_name":"Ankur Raiyani"},"score":0,"creation_date":1561612383,"post_id":33495988,"comment_id":100122763,"body_markdown":"@Azimuts - We have similar issue with JDK 1.6u26 and tried to use this solution but got same error. Any idea what might be wrong?","body":"@Azimuts - We have similar issue with JDK 1.6u26 and tried to use this solution but got same error. Any idea what might be wrong?"},{"owner":{"account_id":1876431,"reputation":1569,"user_id":1697566,"accept_rate":80,"display_name":"xpages-noob"},"score":0,"creation_date":1562160954,"post_id":33495988,"comment_id":100291551,"body_markdown":"Thank you very much for this plug&amp;play solution - it worked perfectly in my environment (Domino 9.0.1FP8). It would have taken me hours/days to get this to work - thanks for saving me that time.","body":"Thank you very much for this plug&amp;play solution - it worked perfectly in my environment (Domino 9.0.1FP8). It would have taken me hours/days to get this to work - thanks for saving me that time."},{"owner":{"account_id":2205450,"reputation":392,"user_id":1948804,"accept_rate":43,"display_name":"tarares"},"score":0,"creation_date":1569611755,"post_id":33495988,"comment_id":102667050,"body_markdown":"Lifesaver! Worked like a charm!!","body":"Lifesaver! Worked like a charm!!"},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1688463283,"post_id":33495988,"comment_id":135074316,"body_markdown":"note that all these `throws UnsupportedOperationException` will have to go away - e.g. getLocalPrincipal() is actually called at some point by external code. it&#39;s enough to return null to bypass that - but I am not sure at what cost. It will work, though.","body":"note that all these <code>throws UnsupportedOperationException</code> will have to go away - e.g. getLocalPrincipal() is actually called at some point by external code. it&#39;s enough to return null to bypass that - but I am not sure at what cost. It will work, though."}],"tags":[],"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"comment_count":7,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1525420388,"creation_date":1446544317,"answer_id":33495988,"question_id":33364100,"body_markdown":"Here a TLSConnection Factory: \r\n\r\n    package test.connection;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.InetAddress;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    import java.security.Principal;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.CertificateFactory;\r\n    import java.util.Hashtable;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    import javax.net.ssl.HandshakeCompletedEvent;\r\n    import javax.net.ssl.HandshakeCompletedListener;\r\n    import javax.net.ssl.SSLPeerUnverifiedException;\r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.SSLSessionContext;\r\n    import javax.net.ssl.SSLSocket;\r\n    import javax.net.ssl.SSLSocketFactory;\r\n    import javax.security.cert.X509Certificate;\r\n    \r\n    import org.bouncycastle.crypto.tls.Certificate;\r\n    import org.bouncycastle.crypto.tls.CertificateRequest;\r\n    import org.bouncycastle.crypto.tls.DefaultTlsClient;\r\n    import org.bouncycastle.crypto.tls.ExtensionType;\r\n    import org.bouncycastle.crypto.tls.TlsAuthentication;\r\n    import org.bouncycastle.crypto.tls.TlsClientProtocol;\r\n    import org.bouncycastle.crypto.tls.TlsCredentials;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    \r\n    /**\r\n     * This Class enables TLS V1.2  connection based on BouncyCastle Providers.\r\n     * Just to use: \r\n     * URL myurl = new URL( &quot;http:// ...URL tha only Works in TLS 1.2);\r\n       HttpsURLConnection  con = (HttpsURLConnection )myurl.openConnection();\r\n       con.setSSLSocketFactory(new TSLSocketConnectionFactory());  \r\n     * @author AZIMUTS\r\n     *\r\n     */\r\n    public class TSLSocketConnectionFactory extends SSLSocketFactory {\t\r\n    \t\r\n    \r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //Adding Custom BouncyCastleProvider\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\t\r\n       static {\r\n    \tif (Security.getProvider(BouncyCastleProvider.PROVIDER_NAME) == null)\r\n    \t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \t}\t\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //HANDSHAKE LISTENER\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\t\r\n    \tpublic class TLSHandshakeListener implements HandshakeCompletedListener {\r\n    \t\t@Override\r\n    \t\tpublic void handshakeCompleted(HandshakeCompletedEvent event) {\t\r\n    \t\t\t  \r\n    \t\t}\r\n    \t}\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //SECURE RANDOM\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\t\r\n        private SecureRandom _secureRandom = new SecureRandom();\r\n    \r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //Adding Custom BouncyCastleProvider\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////\t\r\n    \t@Override\r\n    \tpublic Socket createSocket(Socket socket, final String host, int port, boolean arg3)\r\n    \t\t\tthrows IOException {\r\n    \t    if (socket == null) {\r\n                socket = new Socket();\r\n            }\r\n            if (!socket.isConnected()) {\r\n                socket.connect(new InetSocketAddress(host, port));\r\n            }\r\n    \r\n            final TlsClientProtocol tlsClientProtocol = new TlsClientProtocol(socket.getInputStream(), socket.getOutputStream(), _secureRandom);\r\n            return _createSSLSocket(host, tlsClientProtocol);\r\n           \r\n    \t\r\n          }\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    // SOCKET FACTORY  METHODS\t\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    \t@Override\r\n    \tpublic String[] getDefaultCipherSuites() {\t\t\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String[] getSupportedCipherSuites(){\t\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Socket createSocket(String host, int port) throws IOException,UnknownHostException{\t\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Socket createSocket(InetAddress host, int port) throws IOException {\t\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Socket createSocket(String host, int port, InetAddress localHost,\r\n    \t\t\tint localPort) throws IOException, UnknownHostException {\t\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Socket createSocket(InetAddress address, int port,\r\n    \t\t\tInetAddress localAddress, int localPort) throws IOException{\t\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    //SOCKET CREATION\r\n    //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    \r\n    \tprivate SSLSocket _createSSLSocket(final String host , final TlsClientProtocol tlsClientProtocol) {\r\n    \t return new SSLSocket() {            \r\n         \tprivate java.security.cert.Certificate[] peertCerts;\r\n             \r\n         \t @Override\r\n              public InputStream getInputStream() throws IOException {\r\n                  return tlsClientProtocol.getInputStream();\r\n              }\r\n    \r\n              @Override\r\n              public OutputStream getOutputStream() throws IOException {\r\n                  return tlsClientProtocol.getOutputStream();\r\n              }\r\n    \r\n              @Override\r\n              public synchronized void close() throws IOException {         \r\n                 tlsClientProtocol.close();\r\n              }\r\n    \r\n    \t\t   @Override\r\n    \t\t   public void addHandshakeCompletedListener(HandshakeCompletedListener arg0) {\t\t\t\r\n    \t\t\t \r\n    \t\t   }\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean getEnableSessionCreation() {\t\t\t\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic String[] getEnabledCipherSuites() {\t\t\t\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic String[] getEnabledProtocols() {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean getNeedClientAuth(){\t\t\t\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic SSLSession getSession() {\r\n    \t\t\t\t   return new SSLSession() {\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getApplicationBufferSize() {\t\t\t\t\t\r\n    \t\t\t\t\t\treturn 0;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String getCipherSuite() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic long getCreationTime() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic byte[] getId() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic long getLastAccessedTime() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic java.security.cert.Certificate[] getLocalCertificates() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic Principal getLocalPrincipal() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getPacketBufferSize() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic X509Certificate[] getPeerCertificateChain()\r\n    \t\t\t\t\t\t\tthrows SSLPeerUnverifiedException {\r\n    \t\t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic java.security.cert.Certificate[] getPeerCertificates()throws SSLPeerUnverifiedException {\r\n    \t\t\t\t\t\t return peertCerts;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String getPeerHost() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getPeerPort() {\t\t\t\t\t\t\r\n    \t\t\t\t\t\treturn 0;\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic Principal getPeerPrincipal()\tthrows SSLPeerUnverifiedException {\r\n    \t\t\t\t\t  return null;\r\n    \t\t\t\t\t\t //throw new UnsupportedOperationException();\r\n    \t\t\t\t\t\t \r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String getProtocol() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic SSLSessionContext getSessionContext() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic Object getValue(String arg0) {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String[] getValueNames() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void invalidate() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic boolean isValid() {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void putValue(String arg0, Object arg1) {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void removeValue(String arg0) {\r\n    \t\t\t\t\t\t throw new UnsupportedOperationException();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t   \r\n    \t\t\t\t   };\r\n    \t\t\t}\r\n    \r\n    \t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic String[] getSupportedProtocols() {\t\t\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean getUseClientMode() {\t\t\t\t\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean getWantClientAuth() {\r\n    \t\t\t\t\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void removeHandshakeCompletedListener(HandshakeCompletedListener arg0) {\t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void setEnableSessionCreation(boolean arg0) {\r\n    \t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void setEnabledCipherSuites(String[] arg0) {\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void setEnabledProtocols(String[] arg0) {\r\n    \t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void setNeedClientAuth(boolean arg0) {\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void setUseClientMode(boolean arg0) {\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void setWantClientAuth(boolean arg0) {\t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic String[] getSupportedCipherSuites() {\t\t\t\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\t@Override\r\n    \t\t\tpublic void startHandshake() throws IOException {\r\n    \t\t\t\t  tlsClientProtocol.connect(new DefaultTlsClient() {\t\t\t\t\t   \r\n    \t\t\t\t\t     @Override\r\n    \t\t                  public Hashtable&lt;Integer, byte[]&gt; getClientExtensions() throws IOException {\r\n    \t\t                        Hashtable&lt;Integer, byte[]&gt; clientExtensions = super.getClientExtensions();\r\n    \t\t                        if (clientExtensions == null) {\r\n    \t\t                            clientExtensions = new Hashtable&lt;Integer, byte[]&gt;();\r\n    \t\t                        }\r\n    \r\n    \t\t                        //Add host_name\r\n    \t\t                        byte[] host_name = host.getBytes();\r\n    \r\n    \t\t                        final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t                        final DataOutputStream dos = new DataOutputStream(baos);\r\n    \t\t                        dos.writeShort(host_name.length + 3); // entry size\r\n    \t\t                        dos.writeByte(0); // name type = hostname\r\n    \t\t                        dos.writeShort(host_name.length);\r\n    \t\t                        dos.write(host_name);\r\n    \t\t                        dos.close();\r\n    \t\t                        clientExtensions.put(ExtensionType.server_name, baos.toByteArray());\r\n    \t\t                        return clientExtensions;\r\n    \t\t                }\r\n    \r\n    \t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\tpublic TlsAuthentication getAuthentication()\r\n    \t\t\t\t\t\t\t\tthrows IOException {\r\n    \t\t\t\t\t\t\treturn new TlsAuthentication() {\r\n    \r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\t\tpublic void notifyServerCertificate(Certificate serverCertificate) throws IOException {\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t  try {\r\n    \t                                    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    \t                                    List&lt;java.security.cert.Certificate&gt; certs = new LinkedList&lt;java.security.cert.Certificate&gt;();\r\n    \t                                    for ( org.bouncycastle.asn1.x509.Certificate c : serverCertificate.getCertificateList()) {\t\t                                    \r\n    \t                                        certs.add(cf.generateCertificate(new ByteArrayInputStream(c.getEncoded())));\r\n    \t                                    }\r\n    \t                                    peertCerts = certs.toArray(new java.security.cert.Certificate[0]);\r\n    \t                                } catch (CertificateException e) {\t                                 \r\n    \t                                   System.out.println( &quot;Failed to cache server certs&quot;+ e);\r\n    \t                                   throw new IOException(e);\r\n    \t                                }\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\t\tpublic TlsCredentials getClientCredentials(CertificateRequest arg0)\r\n    \t\t\t\t\t\t\t\t\t\tthrows IOException {\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t};\r\n    \r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t   \r\n    \t\t\t\t   });\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\r\n    \t\t\t\r\n        \r\n         };//Socket\r\n    \t\r\n    \t}\r\n    }\r\n\r\n\r\nRemember that to prove this is, the best is to test against a website that exposes ONLY TLS 1.2. If the web exposes TLS 1.0, TLS 1.1 depending on the Java implementation will connect using tls 1.0, tls 1.1. Test it against a site that only exposes TLS 1.2. An example can be the NIST secure site https://www.nist.gov","title":"How to use TLS 1.2 in Java 6","body":"<p>Here a TLSConnection Factory: </p>\n\n<pre><code>package test.connection;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.InetAddress;\nimport java.net.InetSocketAddress;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.security.Principal;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.util.Hashtable;\nimport java.util.LinkedList;\nimport java.util.List;\n\nimport javax.net.ssl.HandshakeCompletedEvent;\nimport javax.net.ssl.HandshakeCompletedListener;\nimport javax.net.ssl.SSLPeerUnverifiedException;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.SSLSessionContext;\nimport javax.net.ssl.SSLSocket;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.security.cert.X509Certificate;\n\nimport org.bouncycastle.crypto.tls.Certificate;\nimport org.bouncycastle.crypto.tls.CertificateRequest;\nimport org.bouncycastle.crypto.tls.DefaultTlsClient;\nimport org.bouncycastle.crypto.tls.ExtensionType;\nimport org.bouncycastle.crypto.tls.TlsAuthentication;\nimport org.bouncycastle.crypto.tls.TlsClientProtocol;\nimport org.bouncycastle.crypto.tls.TlsCredentials;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\n\n/**\n * This Class enables TLS V1.2  connection based on BouncyCastle Providers.\n * Just to use: \n * URL myurl = new URL( \"http:// ...URL tha only Works in TLS 1.2);\n   HttpsURLConnection  con = (HttpsURLConnection )myurl.openConnection();\n   con.setSSLSocketFactory(new TSLSocketConnectionFactory());  \n * @author AZIMUTS\n *\n */\npublic class TSLSocketConnectionFactory extends SSLSocketFactory {  \n\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//Adding Custom BouncyCastleProvider\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////// \n   static {\n    if (Security.getProvider(BouncyCastleProvider.PROVIDER_NAME) == null)\n        Security.addProvider(new BouncyCastleProvider());\n    }   \n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//HANDSHAKE LISTENER\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////// \n    public class TLSHandshakeListener implements HandshakeCompletedListener {\n        @Override\n        public void handshakeCompleted(HandshakeCompletedEvent event) { \n\n        }\n    }\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//SECURE RANDOM\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////// \n    private SecureRandom _secureRandom = new SecureRandom();\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//Adding Custom BouncyCastleProvider\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////// \n    @Override\n    public Socket createSocket(Socket socket, final String host, int port, boolean arg3)\n            throws IOException {\n        if (socket == null) {\n            socket = new Socket();\n        }\n        if (!socket.isConnected()) {\n            socket.connect(new InetSocketAddress(host, port));\n        }\n\n        final TlsClientProtocol tlsClientProtocol = new TlsClientProtocol(socket.getInputStream(), socket.getOutputStream(), _secureRandom);\n        return _createSSLSocket(host, tlsClientProtocol);\n\n\n      }\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n// SOCKET FACTORY  METHODS  \n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    @Override\n    public String[] getDefaultCipherSuites() {      \n        return null;\n    }\n\n    @Override\n    public String[] getSupportedCipherSuites(){ \n        return null;\n    }\n\n    @Override\n    public Socket createSocket(String host, int port) throws IOException,UnknownHostException{  \n        return null;\n    }\n\n    @Override\n    public Socket createSocket(InetAddress host, int port) throws IOException { \n        return null;\n    }\n\n    @Override\n    public Socket createSocket(String host, int port, InetAddress localHost,\n            int localPort) throws IOException, UnknownHostException {   \n        return null;\n    }\n\n    @Override\n    public Socket createSocket(InetAddress address, int port,\n            InetAddress localAddress, int localPort) throws IOException{    \n        return null;\n    }\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//SOCKET CREATION\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    private SSLSocket _createSSLSocket(final String host , final TlsClientProtocol tlsClientProtocol) {\n     return new SSLSocket() {            \n        private java.security.cert.Certificate[] peertCerts;\n\n         @Override\n          public InputStream getInputStream() throws IOException {\n              return tlsClientProtocol.getInputStream();\n          }\n\n          @Override\n          public OutputStream getOutputStream() throws IOException {\n              return tlsClientProtocol.getOutputStream();\n          }\n\n          @Override\n          public synchronized void close() throws IOException {         \n             tlsClientProtocol.close();\n          }\n\n           @Override\n           public void addHandshakeCompletedListener(HandshakeCompletedListener arg0) {         \n\n           }\n\n            @Override\n            public boolean getEnableSessionCreation() {         \n                return false;\n            }\n\n            @Override\n            public String[] getEnabledCipherSuites() {          \n                return null;\n            }\n\n            @Override\n            public String[] getEnabledProtocols() {\n                // TODO Auto-generated method stub\n                return null;\n            }\n\n            @Override\n            public boolean getNeedClientAuth(){         \n                return false;\n            }\n\n            @Override\n            public SSLSession getSession() {\n                   return new SSLSession() {\n\n                    @Override\n                    public int getApplicationBufferSize() {                 \n                        return 0;\n                    }\n\n                    @Override\n                    public String getCipherSuite() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public long getCreationTime() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public byte[] getId() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public long getLastAccessedTime() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public java.security.cert.Certificate[] getLocalCertificates() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public Principal getLocalPrincipal() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public int getPacketBufferSize() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public X509Certificate[] getPeerCertificateChain()\n                            throws SSLPeerUnverifiedException {\n                        // TODO Auto-generated method stub\n                        return null;\n                    }\n\n                    @Override\n                    public java.security.cert.Certificate[] getPeerCertificates()throws SSLPeerUnverifiedException {\n                         return peertCerts;\n                    }\n\n                    @Override\n                    public String getPeerHost() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public int getPeerPort() {                      \n                        return 0;\n                    }\n\n                    @Override\n                    public Principal getPeerPrincipal() throws SSLPeerUnverifiedException {\n                      return null;\n                         //throw new UnsupportedOperationException();\n\n                    }\n\n                    @Override\n                    public String getProtocol() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public SSLSessionContext getSessionContext() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public Object getValue(String arg0) {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public String[] getValueNames() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public void invalidate() {\n                         throw new UnsupportedOperationException();\n\n                    }\n\n                    @Override\n                    public boolean isValid() {\n                         throw new UnsupportedOperationException();\n                    }\n\n                    @Override\n                    public void putValue(String arg0, Object arg1) {\n                         throw new UnsupportedOperationException();\n\n                    }\n\n                    @Override\n                    public void removeValue(String arg0) {\n                         throw new UnsupportedOperationException();\n\n                    }\n\n                   };\n            }\n\n\n            @Override\n            public String[] getSupportedProtocols() {       \n                return null;\n            }\n\n            @Override\n            public boolean getUseClientMode() {             \n                return false;\n            }\n\n            @Override\n            public boolean getWantClientAuth() {\n\n                return false;\n            }\n\n            @Override\n            public void removeHandshakeCompletedListener(HandshakeCompletedListener arg0) {             \n\n            }\n\n            @Override\n            public void setEnableSessionCreation(boolean arg0) {\n\n\n            }\n\n            @Override\n            public void setEnabledCipherSuites(String[] arg0) {         \n\n            }\n\n            @Override\n            public void setEnabledProtocols(String[] arg0) {\n\n\n            }\n\n            @Override\n            public void setNeedClientAuth(boolean arg0) {           \n\n            }\n\n            @Override\n            public void setUseClientMode(boolean arg0) {            \n\n            }\n\n            @Override\n            public void setWantClientAuth(boolean arg0) {               \n\n            }\n\n            @Override\n            public String[] getSupportedCipherSuites() {            \n                return null;\n            }\n            @Override\n            public void startHandshake() throws IOException {\n                  tlsClientProtocol.connect(new DefaultTlsClient() {                       \n                         @Override\n                          public Hashtable&lt;Integer, byte[]&gt; getClientExtensions() throws IOException {\n                                Hashtable&lt;Integer, byte[]&gt; clientExtensions = super.getClientExtensions();\n                                if (clientExtensions == null) {\n                                    clientExtensions = new Hashtable&lt;Integer, byte[]&gt;();\n                                }\n\n                                //Add host_name\n                                byte[] host_name = host.getBytes();\n\n                                final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                                final DataOutputStream dos = new DataOutputStream(baos);\n                                dos.writeShort(host_name.length + 3); // entry size\n                                dos.writeByte(0); // name type = hostname\n                                dos.writeShort(host_name.length);\n                                dos.write(host_name);\n                                dos.close();\n                                clientExtensions.put(ExtensionType.server_name, baos.toByteArray());\n                                return clientExtensions;\n                        }\n\n                        @Override\n                        public TlsAuthentication getAuthentication()\n                                throws IOException {\n                            return new TlsAuthentication() {\n\n\n                                @Override\n                                public void notifyServerCertificate(Certificate serverCertificate) throws IOException {\n\n                                  try {\n                                        CertificateFactory cf = CertificateFactory.getInstance(\"X.509\");\n                                        List&lt;java.security.cert.Certificate&gt; certs = new LinkedList&lt;java.security.cert.Certificate&gt;();\n                                        for ( org.bouncycastle.asn1.x509.Certificate c : serverCertificate.getCertificateList()) {                                          \n                                            certs.add(cf.generateCertificate(new ByteArrayInputStream(c.getEncoded())));\n                                        }\n                                        peertCerts = certs.toArray(new java.security.cert.Certificate[0]);\n                                    } catch (CertificateException e) {                                   \n                                       System.out.println( \"Failed to cache server certs\"+ e);\n                                       throw new IOException(e);\n                                    }\n\n                                }\n\n                                @Override\n                                public TlsCredentials getClientCredentials(CertificateRequest arg0)\n                                        throws IOException {                                    \n                                    return null;\n                                }\n\n                            };\n\n                        }\n\n                   });\n\n\n\n            }\n\n\n\n\n     };//Socket\n\n    }\n}\n</code></pre>\n\n<p>Remember that to prove this is, the best is to test against a website that exposes ONLY TLS 1.2. If the web exposes TLS 1.0, TLS 1.1 depending on the Java implementation will connect using tls 1.0, tls 1.1. Test it against a site that only exposes TLS 1.2. An example can be the NIST secure site <a href=\"https://www.nist.gov\" rel=\"noreferrer\">https://www.nist.gov</a></p>\n"},{"comments":[{"owner":{"account_id":5113734,"reputation":50640,"user_id":4099593,"accept_rate":100,"display_name":"Bhargav Rao"},"score":7,"creation_date":1476114222,"post_id":39961836,"comment_id":67203744,"body_markdown":"Whilst this may theoretically answer the question, [it would be preferable](//meta.stackoverflow.com/q/8259) to include the essential parts of the answer here, and provide the link for reference.","body":"Whilst this may theoretically answer the question, <a href=\"//meta.stackoverflow.com/q/8259\">it would be preferable</a> to include the essential parts of the answer here, and provide the link for reference."},{"owner":{"account_id":467459,"reputation":770,"user_id":872858,"display_name":"user872858"},"score":16,"creation_date":1504816860,"post_id":39961836,"comment_id":79172419,"body_markdown":"Looks like this version is available to only those who has a support contract.","body":"Looks like this version is available to only those who has a support contract."}],"tags":[],"owner":{"account_id":9364724,"reputation":179,"user_id":6950019,"display_name":"David"},"comment_count":2,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1476113848,"creation_date":1476113848,"answer_id":39961836,"question_id":33364100,"body_markdown":"Java 6, now support TLS 1.2, check out below\r\n\r\nhttp://www.oracle.com/technetwork/java/javase/overview-156328.html#R160_121","title":"How to use TLS 1.2 in Java 6","body":"<p>Java 6, now support TLS 1.2, check out below</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/overview-156328.html#R160_121\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/overview-156328.html#R160_121</a></p>\n"},{"comments":[{"owner":{"account_id":330893,"reputation":333,"user_id":655237,"accept_rate":43,"display_name":"Japheth Odonya"},"score":1,"creation_date":1621441314,"post_id":54294490,"comment_id":119498628,"body_markdown":"Saved my day, could not migrate code from Java 6, so it was really nice stumbling on this answer.","body":"Saved my day, could not migrate code from Java 6, so it was really nice stumbling on this answer."},{"owner":{"account_id":2837149,"reputation":308,"user_id":2437542,"display_name":"Rajantha Fernando"},"score":1,"creation_date":1677212134,"post_id":54294490,"comment_id":133297476,"body_markdown":"This answer has worked for me. However, I got following error.\n`Invalid command &#39;SSLProxyEngine&#39;, perhaps misspelled or defined by a module not included in the server configuration`\n\nResolved by installing &#39;mod ssl&#39;\n`yum install mod_ssl` in RHEL","body":"This answer has worked for me. However, I got following error. <code>Invalid command &#39;SSLProxyEngine&#39;, perhaps misspelled or defined by a module not included in the server configuration</code>  Resolved by installing &#39;mod ssl&#39; <code>yum install mod_ssl</code> in RHEL"}],"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663227439,"creation_date":1548089586,"answer_id":54294490,"question_id":33364100,"body_markdown":"In case you need to access a specific set of remote services you could use an **intermediate reverse-proxy, to perform tls1.2** for you. This would save you from trying to patch or upgrade java1.6.\r\n\r\ne.g.\r\n**app -&gt; proxy:http(5500)[tls-1.2] -&gt; remote:https(443)**\r\n\r\nConfiguration in its simplest form (one port per service) for apache httpd is:\r\n\r\n    Listen 127.0.0.1:5000\r\n    &lt;VirtualHost *:5500&gt;\r\n        SSLProxyEngine On\r\n        ProxyPass / https://remote-domain/\r\n        ProxyPassReverse / https://remote-domain/\r\n    &lt;/VirtualHost&gt;\r\n\r\nThen instead of accessing https://remote-domain/ you access http://localhost:5500/\r\n\r\n\r\n**Note: In case you cannot change the service-client code/config** so that it targets the `localhost` domain, you can always play with `hosts` file and translate the the remote domain to the proxy&#39;s ip. But this has a catch. The reverse-proxy specifically will need to resolve the same domain to the original service ip. You can achieve this by moving the proxy to a different machine (with no hosts file entry) or by [dockerizing](https://hub.docker.com/_/httpd) it and utilizing the [`--add-host` feature](https://docs.docker.com/engine/reference/commandline/run/#add-entries-to-container-hosts-file---add-host) (or [`extra_hosts`](https://docs.docker.com/compose/compose-file/compose-file-v3/#extra_hosts) in [docker-compose](https://docs.docker.com/compose/) ).\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to use TLS 1.2 in Java 6","body":"<p>In case you need to access a specific set of remote services you could use an <strong>intermediate reverse-proxy, to perform tls1.2</strong> for you. This would save you from trying to patch or upgrade java1.6.</p>\n<p>e.g.\n<strong>app -&gt; proxy:http(5500)[tls-1.2] -&gt; remote:https(443)</strong></p>\n<p>Configuration in its simplest form (one port per service) for apache httpd is:</p>\n<pre><code>Listen 127.0.0.1:5000\n&lt;VirtualHost *:5500&gt;\n    SSLProxyEngine On\n    ProxyPass / https://remote-domain/\n    ProxyPassReverse / https://remote-domain/\n&lt;/VirtualHost&gt;\n</code></pre>\n<p>Then instead of accessing https://remote-domain/ you access http://localhost:5500/</p>\n<p><strong>Note: In case you cannot change the service-client code/config</strong> so that it targets the <code>localhost</code> domain, you can always play with <code>hosts</code> file and translate the the remote domain to the proxy's ip. But this has a catch. The reverse-proxy specifically will need to resolve the same domain to the original service ip. You can achieve this by moving the proxy to a different machine (with no hosts file entry) or by <a href=\"https://hub.docker.com/_/httpd\" rel=\"nofollow noreferrer\">dockerizing</a> it and utilizing the <a href=\"https://docs.docker.com/engine/reference/commandline/run/#add-entries-to-container-hosts-file---add-host\" rel=\"nofollow noreferrer\"><code>--add-host</code> feature</a> (or <a href=\"https://docs.docker.com/compose/compose-file/compose-file-v3/#extra_hosts\" rel=\"nofollow noreferrer\"><code>extra_hosts</code></a> in <a href=\"https://docs.docker.com/compose/\" rel=\"nofollow noreferrer\">docker-compose</a> ).</p>\n"},{"comments":[{"owner":{"account_id":1305153,"reputation":1252,"user_id":1254265,"accept_rate":12,"display_name":"Azimuts"},"score":0,"creation_date":1574246007,"post_id":58344218,"comment_id":104160491,"body_markdown":"Correct, thanx Salvatore","body":"Correct, thanx Salvatore"}],"tags":[],"owner":{"account_id":8690730,"reputation":61,"user_id":6503697,"display_name":"Salvatore Iamundo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570807085,"creation_date":1570807085,"answer_id":58344218,"question_id":33364100,"body_markdown":"I think that the solution of @Azimuts (https://stackoverflow.com/a/33375677/6503697) is for HTTP only connection. \r\nFor FTPS connection you can use Bouncy Castle with org.apache.commons.net.ftp.FTPSClient without the need for rewrite FTPS protocol.\r\n\r\nI have a program running on JRE 1.6.0_04 and I can not update the JRE. \r\n\r\nThe program has to connect to an FTPS server that work only with TLS 1.2 (IIS server).\r\n\r\nI struggled for days and finally I have understood that there are few versions of bouncy castle library right in my use case: bctls-jdk15on-1.60.jar and bcprov-jdk15on-1.60.jar are ok, but 1.64 versions are not.\r\n\r\nThe version of apache commons-net is 3.1 .\r\n\r\nFollowing is a small snippet of code that should work:\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n\r\n    import org.apache.commons.net.ftp.FTP;\r\n    import org.apache.commons.net.ftp.FTPReply;\r\n    import org.apache.commons.net.ftp.FTPSClient;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.jsse.provider.BouncyCastleJsseProvider;\r\n    import org.junit.Test;\r\n\r\n\r\n    public class FtpsTest {\r\n\r\n\t// Create a trust manager that does not validate certificate chains\r\n\tTrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\r\n\r\n\t\tpublic java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tpublic void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\r\n\t\t}\r\n\r\n\t\tpublic void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\r\n\t\t}\r\n\t} };\r\n\r\n\t@Test public void test() throws Exception {\r\n\r\n\r\n\t\tSecurity.insertProviderAt(new BouncyCastleProvider(), 1);\r\n\t\tSecurity.addProvider(new BouncyCastleJsseProvider());\r\n\r\n\r\n\t\tSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;, new BouncyCastleJsseProvider());\r\n\t\tsslContext.init(null, trustAllCerts, new SecureRandom());\r\n\t\torg.apache.commons.net.ftp.FTPSClient ftpClient = new FTPSClient(sslContext);\r\n\t\tByteArrayOutputStream out = null;\r\n\t\ttry {\r\n\r\n\t\t\tftpClient.connect(&quot;hostaname&quot;, 21);\r\n\t\t\tif (!FTPReply.isPositiveCompletion(ftpClient.getReplyCode())) {\r\n\t\t\t\tString msg = &quot;Il server ftp ha rifiutato la connessione.&quot;;\r\n\t\t\t\tthrow new Exception(msg);\r\n\t\t\t}\r\n\t\t\tif (!ftpClient.login(&quot;username&quot;, &quot;pwd&quot;)) {\r\n\t\t\t\tString msg = &quot;Il server ftp ha rifiutato il login con username:  username  e pwd:  password  .&quot;;\r\n\t\t\t\tftpClient.disconnect();\r\n\t\t\t\tthrow new Exception(msg);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tftpClient.enterLocalPassiveMode();\r\n\t\t\tftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n\t\t\tftpClient.setDataTimeout(60000);\r\n\t\t\tftpClient.execPBSZ(0); // Set protection buffer size\r\n\t\t\tftpClient.execPROT(&quot;P&quot;); // Set data channel protection to private\r\n\t\t\tint bufSize = 1024 * 1024; // 1MB\r\n\t\t\tftpClient.setBufferSize(bufSize);\r\n\t\t\tout = new ByteArrayOutputStream(bufSize);\r\n\t\t\tftpClient.retrieveFile(&quot;remoteFileName&quot;, out);\r\n\t\t\tout.toByteArray();\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tif (out != null) {\r\n\t\t\t\tout.close();\r\n\t\t\t}\r\n\t\t\tftpClient.disconnect();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\n","title":"How to use TLS 1.2 in Java 6","body":"<p>I think that the solution of @Azimuts (<a href=\"https://stackoverflow.com/a/33375677/6503697\">https://stackoverflow.com/a/33375677/6503697</a>) is for HTTP only connection. \nFor FTPS connection you can use Bouncy Castle with org.apache.commons.net.ftp.FTPSClient without the need for rewrite FTPS protocol.</p>\n\n<p>I have a program running on JRE 1.6.0_04 and I can not update the JRE. </p>\n\n<p>The program has to connect to an FTPS server that work only with TLS 1.2 (IIS server).</p>\n\n<p>I struggled for days and finally I have understood that there are few versions of bouncy castle library right in my use case: bctls-jdk15on-1.60.jar and bcprov-jdk15on-1.60.jar are ok, but 1.64 versions are not.</p>\n\n<p>The version of apache commons-net is 3.1 .</p>\n\n<p>Following is a small snippet of code that should work:</p>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.security.SecureRandom;\nimport java.security.Security;\n\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\nimport org.apache.commons.net.ftp.FTP;\nimport org.apache.commons.net.ftp.FTPReply;\nimport org.apache.commons.net.ftp.FTPSClient;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.jsse.provider.BouncyCastleJsseProvider;\nimport org.junit.Test;\n\n\npublic class FtpsTest {\n\n// Create a trust manager that does not validate certificate chains\nTrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\n\n    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n        return null;\n    }\n\n    public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n    }\n\n    public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n    }\n} };\n\n@Test public void test() throws Exception {\n\n\n    Security.insertProviderAt(new BouncyCastleProvider(), 1);\n    Security.addProvider(new BouncyCastleJsseProvider());\n\n\n    SSLContext sslContext = SSLContext.getInstance(\"TLS\", new BouncyCastleJsseProvider());\n    sslContext.init(null, trustAllCerts, new SecureRandom());\n    org.apache.commons.net.ftp.FTPSClient ftpClient = new FTPSClient(sslContext);\n    ByteArrayOutputStream out = null;\n    try {\n\n        ftpClient.connect(\"hostaname\", 21);\n        if (!FTPReply.isPositiveCompletion(ftpClient.getReplyCode())) {\n            String msg = \"Il server ftp ha rifiutato la connessione.\";\n            throw new Exception(msg);\n        }\n        if (!ftpClient.login(\"username\", \"pwd\")) {\n            String msg = \"Il server ftp ha rifiutato il login con username:  username  e pwd:  password  .\";\n            ftpClient.disconnect();\n            throw new Exception(msg);\n        }\n\n\n        ftpClient.enterLocalPassiveMode();\n        ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n        ftpClient.setDataTimeout(60000);\n        ftpClient.execPBSZ(0); // Set protection buffer size\n        ftpClient.execPROT(\"P\"); // Set data channel protection to private\n        int bufSize = 1024 * 1024; // 1MB\n        ftpClient.setBufferSize(bufSize);\n        out = new ByteArrayOutputStream(bufSize);\n        ftpClient.retrieveFile(\"remoteFileName\", out);\n        out.toByteArray();\n    }\n    finally {\n        if (out != null) {\n            out.close();\n        }\n        ftpClient.disconnect();\n\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"score":0,"creation_date":1593793449,"post_id":61115302,"comment_id":110912683,"body_markdown":"I am using Java JDK 6u45 64-bit.\n\nHow to solve the random source issue, please?\n\nPlease, see the stack trace:\n\nC:\\&gt;java DownloadWithHttps 03/07/2020 13:15:35 \n03/07/2020 13:15:36 org.bouncycastle.jsse.provider.ProvTrustManagerFactorySpi getDefaultTrustStore\nINFO: Initializing with trust store at path: C:\\Desenvolvimento\\Ferramentas\\JDKs\\JDK6\\jre\\lib\\security\\cacerts\nException in thread &quot;main&quot; java.lang.InternalError: unable to open random source\n        at org.bouncycastle.jcajce.provider.drbg.DRBG$URLSeededSecureRandom$1.run(Unknown Source)","body":"I am using Java JDK 6u45 64-bit.  How to solve the random source issue, please?  Please, see the stack trace:  C:\\&gt;java DownloadWithHttps 03/07/2020 13:15:35  03/07/2020 13:15:36 org.bouncycastle.jsse.provider.ProvTrustManagerFactorySpi getDefaultTrustStore INFO: Initializing with trust store at path: C:\\Desenvolvimento\\Ferramentas\\JDKs\\JDK6\\jre\\lib\\security\\ca&zwnj;&#8203;certs Exception in thread &quot;main&quot; java.lang.InternalError: unable to open random source         at org.bouncycastle.jcajce.provider.drbg.DRBG$URLSeededSecureRa&zwnj;&#8203;ndom$1.run(Unknown Source)"},{"owner":{"account_id":3230954,"reputation":2240,"user_id":2726223,"accept_rate":11,"display_name":"Wellington Souza"},"score":0,"creation_date":1594001634,"post_id":61115302,"comment_id":110963997,"body_markdown":"I just tested on Windows 10 and it&#39;s also working to download the file from the maven repository like in the example. Please, do not skip any step, especially step number 3. Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6. And if it did not work yet, then you can try to fake the secure random on Windows passing the JVM parameter via command line: `-Djava.security.egd=file:/dev/./urandom` (note the extra `./` )","body":"I just tested on Windows 10 and it&#39;s also working to download the file from the maven repository like in the example. Please, do not skip any step, especially step number 3. Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6. And if it did not work yet, then you can try to fake the secure random on Windows passing the JVM parameter via command line: <code>-Djava.security.egd=file:&#47;dev&#47;.&#47;urandom</code> (note the extra <code>.&#47;</code> )"},{"owner":{"account_id":1485995,"reputation":403,"user_id":1394272,"accept_rate":60,"display_name":"Afaria"},"score":0,"creation_date":1603209167,"post_id":61115302,"comment_id":113961496,"body_markdown":"Thanks! It worked for me! In my case, i was compiling a project with java 6 and maven 3.2.5 and when downloading from maven central repo, an &quot;Received fatal alert: protocol_version&quot; error was occurrying, due to not using TLS 1.2.","body":"Thanks! It worked for me! In my case, i was compiling a project with java 6 and maven 3.2.5 and when downloading from maven central repo, an &quot;Received fatal alert: protocol_version&quot; error was occurrying, due to not using TLS 1.2."},{"owner":{"account_id":2022431,"reputation":349,"user_id":1808274,"accept_rate":89,"display_name":"Harshal Patil"},"score":1,"creation_date":1605520164,"post_id":61115302,"comment_id":114665485,"body_markdown":"This solution worked perfectly for me just followed the steps and that&#39;s it.","body":"This solution worked perfectly for me just followed the steps and that&#39;s it."},{"owner":{"account_id":7106639,"reputation":85,"user_id":5436061,"display_name":"gokul"},"score":0,"creation_date":1628272942,"post_id":61115302,"comment_id":121385218,"body_markdown":"I have skipped the step 3. But done others. Now I am getting nullpointer exception at  CoreSecureRandom&lt;init&gt; . Any solutions without 3? (can&#39;t download files due to certain restrictions)","body":"I have skipped the step 3. But done others. Now I am getting nullpointer exception at  CoreSecureRandom&lt;init&gt; . Any solutions without 3? (can&#39;t download files due to certain restrictions)"},{"owner":{"account_id":3230954,"reputation":2240,"user_id":2726223,"accept_rate":11,"display_name":"Wellington Souza"},"score":0,"creation_date":1628581124,"post_id":61115302,"comment_id":121452074,"body_markdown":"Unfortunately, This step is mandatory to make the SSL work properly. The standard Java installation contains certain limitations because of the policies prohibiting the use of a key with a size that exceeds certain values ie. 128 bits for AES. Skiping step 3 you will not have the SSL fully functional for all websites using https.","body":"Unfortunately, This step is mandatory to make the SSL work properly. The standard Java installation contains certain limitations because of the policies prohibiting the use of a key with a size that exceeds certain values ie. 128 bits for AES. Skiping step 3 you will not have the SSL fully functional for all websites using https."},{"owner":{"account_id":1286568,"reputation":91,"user_id":1239508,"display_name":"Ziferius"},"score":1,"creation_date":1640027236,"post_id":61115302,"comment_id":124493101,"body_markdown":"Just FYI; this also works for Java 1.7 as well.","body":"Just FYI; this also works for Java 1.7 as well."},{"owner":{"account_id":14669102,"reputation":986,"user_id":10594058,"display_name":"todaynowork"},"score":0,"creation_date":1667803939,"post_id":61115302,"comment_id":131245778,"body_markdown":"There is an error when I try this in Weblogic 10.3.6.\n&lt;Nov 7, 2022 6:44:22 AM UTC&gt; &lt;Critical&gt; &lt;WebLogicServer&gt; &lt;BEA-000386&gt; &lt;Server su\nbsystem failed. Reason: java.lang.NoClassDefFoundError: java/util/concurrent/Con\ncurrentLinkedDeque\njava.lang.NoClassDefFoundError: java/util/concurrent/ConcurrentLinkedDeque\n        at org.bouncycastle.jcajce.provider.drbg.DRBG$EntropyDaemon.&lt;init&gt;(Unkno\nwn Source)","body":"There is an error when I try this in Weblogic 10.3.6. &lt;Nov 7, 2022 6:44:22 AM UTC&gt; &lt;Critical&gt; &lt;WebLogicServer&gt; &lt;BEA-000386&gt; &lt;Server su bsystem failed. Reason: java.lang.NoClassDefFoundError: java/util/concurrent/Con currentLinkedDeque java.lang.NoClassDefFoundError: java/util/concurrent/ConcurrentLinkedDeque         at org.bouncycastle.jcajce.provider.drbg.DRBG$EntropyDaemon.&lt;in&zwnj;&#8203;it&gt;(Unkno wn Source)"},{"owner":{"account_id":3230954,"reputation":2240,"user_id":2726223,"accept_rate":11,"display_name":"Wellington Souza"},"score":0,"creation_date":1667858679,"post_id":61115302,"comment_id":131264067,"body_markdown":"It seems you have a problem with the application server classloader. One of the Core Java class (`java.util.concurrent.ConcurrentLinkedDeque`)  is not available at runtime. Make sure that the JVM you are running is the JDK 1.6. You can also try to run it using older versions of Bouncy Castle and see if it works.","body":"It seems you have a problem with the application server classloader. One of the Core Java class (<code>java.util.concurrent.ConcurrentLinkedDeque</code>)  is not available at runtime. Make sure that the JVM you are running is the JDK 1.6. You can also try to run it using older versions of Bouncy Castle and see if it works."},{"owner":{"account_id":2774396,"reputation":61,"user_id":2388256,"display_name":"TodayGuessWhat"},"score":0,"creation_date":1675921688,"post_id":61115302,"comment_id":133032750,"body_markdown":"java.lang.NoClassDefFoundError: java/util/concurrent/ConcurrentLinkedDeque\nat org.bouncycastle.jcajce.provider.drbg.DRBG$EntropyDaemon.&lt;init&gt;\nat ...\nat org.bouncycastle.jcajce.provider.drbg.DRBG$Mappings.configure\nat org.bouncycastle.jce.provider.BouncyCastleProvider.loadServiceClass\nat org.bouncycastle.jce.provider.BouncyCastleProvider.loadAlgorithms\nat org.bouncycastle.jce.provider.BouncyCastleProvider.setup\nat ... \nat org.bouncycastle.jce.provider.BouncyCastleProvider.&lt;init&gt;()\n...\nat java.security.KeyFactory.getInstance(KeyFactory.java:142)\nConcurrentLinkedDeque is JDK 1.7+","body":"java.lang.NoClassDefFoundError: java/util/concurrent/ConcurrentLinkedDeque at org.bouncycastle.jcajce.provider.drbg.DRBG$EntropyDaemon.&lt;in&zwnj;&#8203;it&gt; at ... at org.bouncycastle.jcajce.provider.drbg.DRBG$Mappings.configur&zwnj;&#8203;e at org.bouncycastle.jce.provider.BouncyCastleProvider.loadServi&zwnj;&#8203;ceClass at org.bouncycastle.jce.provider.BouncyCastleProvider.loadAlgor&zwnj;&#8203;ithms at org.bouncycastle.jce.provider.BouncyCastleProvider.setup at ...  at org.bouncycastle.jce.provider.BouncyCastleProvider.&lt;init&gt;() ... at java.security.KeyFactory.getInstance(KeyFactory.java:142) ConcurrentLinkedDeque is JDK 1.7+"},{"owner":{"account_id":2774396,"reputation":61,"user_id":2388256,"display_name":"TodayGuessWhat"},"score":0,"creation_date":1675922649,"post_id":61115302,"comment_id":133032876,"body_markdown":"Try running \t\tKeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;);\nwith approach above and you will likely hit that java.lang.NoClassDefFoundError: java/util/concurrent/ConcurrentLinkedDeque exception on JDK 1.6\n\nBouncyCastle 1.7.2 was pulling in JDK 1.7 class\n\nSee:- https://github.com/bcgit/bc-java/commit/1d92afb6ae2007a9e67dafbdbbf042c244c0ebc6\n\nand: https://github.com/bcgit/bc-java/issues/1295\n\nReverting to 1.7.1 builds or anything newer than 1.7.2 should solve the problem","body":"Try running \t\tKeyFactory factory = KeyFactory.getInstance(&quot;RSA&quot;); with approach above and you will likely hit that java.lang.NoClassDefFoundError: java/util/concurrent/ConcurrentLinkedDeque exception on JDK 1.6  BouncyCastle 1.7.2 was pulling in JDK 1.7 class  See:- <a href=\"https://github.com/bcgit/bc-java/commit/1d92afb6ae2007a9e67dafbdbbf042c244c0ebc6\" rel=\"nofollow noreferrer\">github.com/bcgit/bc-java/commit/&hellip;</a>  and: <a href=\"https://github.com/bcgit/bc-java/issues/1295\" rel=\"nofollow noreferrer\">github.com/bcgit/bc-java/issues/1295</a>  Reverting to 1.7.1 builds or anything newer than 1.7.2 should solve the problem"},{"owner":{"account_id":3230954,"reputation":2240,"user_id":2726223,"accept_rate":11,"display_name":"Wellington Souza"},"score":0,"creation_date":1675989519,"post_id":61115302,"comment_id":133051910,"body_markdown":"Thanks [TodayGuessWhat](https://stackoverflow.com/users/2388256/todayguesswhat) for the feedback, much appreciated. Already fixed! :-)","body":"Thanks <a href=\"https://stackoverflow.com/users/2388256/todayguesswhat\">TodayGuessWhat</a> for the feedback, much appreciated. Already fixed! :-)"},{"owner":{"account_id":2338526,"reputation":789,"user_id":2050333,"accept_rate":88,"display_name":"rbarriuso"},"score":1,"creation_date":1690233081,"post_id":61115302,"comment_id":135322074,"body_markdown":"This solution worked for me after adding bcutil-jdk15to18-175.jar along with bcprov-jdk15to18-1.71.jar and bctls-jdk15to18-1.71.jar","body":"This solution worked for me after adding bcutil-jdk15to18-175.jar along with bcprov-jdk15to18-1.71.jar and bctls-jdk15to18-1.71.jar"},{"owner":{"account_id":52817,"reputation":8703,"user_id":157873,"accept_rate":60,"display_name":"w35l3y"},"score":0,"creation_date":1694788670,"post_id":61115302,"comment_id":135941483,"body_markdown":"I also had to add bcutil-*.jar to make it work, just like @rbarriuso said. The 3 files may be downloaded here: https://www.bouncycastle.org/latest_releases.html","body":"I also had to add bcutil-*.jar to make it work, just like @rbarriuso said. The 3 files may be downloaded here: <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">bouncycastle.org/latest_releases.html</a>"},{"owner":{"account_id":6821334,"reputation":1175,"user_id":5248400,"accept_rate":50,"display_name":"MikeZ"},"score":0,"creation_date":1696686952,"post_id":61115302,"comment_id":136186841,"body_markdown":"This post is a gem. Starting with these instructions I was able to get TLS 1.3 into an existing 20-year-old Java 6 application. I didn&#39;t think that was going to be possible. I did deviate slightly, using the later 176 BouncyCastle .jars, plus I also needed bcutil and bcprov-ext, but this post was the key to understanding the basics. Thank you.","body":"This post is a gem. Starting with these instructions I was able to get TLS 1.3 into an existing 20-year-old Java 6 application. I didn&#39;t think that was going to be possible. I did deviate slightly, using the later 176 BouncyCastle .jars, plus I also needed bcutil and bcprov-ext, but this post was the key to understanding the basics. Thank you."}],"tags":[],"owner":{"account_id":3230954,"reputation":2240,"user_id":2726223,"accept_rate":11,"display_name":"Wellington Souza"},"comment_count":15,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1675989491,"creation_date":1586414307,"answer_id":61115302,"question_id":33364100,"body_markdown":"After a few hours of playing with the Oracle JDK 1.6, I was able to make it work without any code change. The magic is done by Bouncy Castle to handle SSL and allow JDK 1.6 to run with TLSv1.2 by default. In theory, it could also be applied to older Java versions with eventual adjustments.\r\n\r\n 1. Download the latest Java 1.6 version from the [Java Archive Oracle website][2]\r\n 2. Uncompress it on your preferred path and set your JAVA_HOME environment variable\r\n 3. Update the JDK with the latest [Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6][5]\r\n 4. Download the Bounce Castle jar files [bcprov-jdk15to18-1.71.jar][3] and [bctls-jdk15to18-1.71.jar][4] and copy them into your `${JAVA_HOME}/jre/lib/ext` folder\r\n 5. Modify the file `${JAVA_HOME}/jre/lib/security/java.security` commenting out the providers section and adding some extra lines\r\n\r\n``` \r\n    # Original security providers (just comment it)\r\n    # security.provider.1=sun.security.provider.Sun\r\n    # security.provider.2=sun.security.rsa.SunRsaSign\r\n    # security.provider.3=com.sun.net.ssl.internal.ssl.Provider\r\n    # security.provider.4=com.sun.crypto.provider.SunJCE\r\n    # security.provider.5=sun.security.jgss.SunProvider\r\n    # security.provider.6=com.sun.security.sasl.Provider\r\n    # security.provider.7=org.jcp.xml.dsig.internal.dom.XMLDSigRI\r\n    # security.provider.8=sun.security.smartcardio.SunPCSC\r\n\r\n    # Add the Bouncy Castle security providers with higher priority\r\n    security.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\r\n    security.provider.2=org.bouncycastle.jsse.provider.BouncyCastleJsseProvider\r\n    \r\n    # Original security providers with different priorities\r\n    security.provider.3=sun.security.provider.Sun\r\n    security.provider.4=sun.security.rsa.SunRsaSign\r\n    security.provider.5=com.sun.net.ssl.internal.ssl.Provider\r\n    security.provider.6=com.sun.crypto.provider.SunJCE \r\n    security.provider.7=sun.security.jgss.SunProvider\r\n    security.provider.8=com.sun.security.sasl.Provider\r\n    security.provider.9=org.jcp.xml.dsig.internal.dom.XMLDSigRI\r\n    security.provider.10=sun.security.smartcardio.SunPCSC\r\n\r\n    # Here we are changing the default SSLSocketFactory implementation\r\n    ssl.SocketFactory.provider=org.bouncycastle.jsse.provider.SSLSocketFactoryImpl\r\n\r\n```\r\n\r\nJust to make sure it&#39;s working let&#39;s make a simple Java program to download files from one URL using https.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n\r\n\r\n    public class DownloadWithHttps {\r\n\r\n        public static void main(String[] args) {\r\n            try {\r\n                URL url = new URL(args[0]);\r\n                System.out.println(&quot;File to Download: &quot; + url);\r\n                String filename = url.getFile();\r\n                File f = new File(filename);\r\n                System.out.println(&quot;Output File: &quot; + f.getName());\r\n                BufferedInputStream in = new BufferedInputStream(url.openStream());\r\n                FileOutputStream fileOutputStream = new FileOutputStream(f.getName());\r\n                int bytesRead;\r\n                byte dataBuffer[] = new byte[1024];\r\n\r\n                while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\r\n                    fileOutputStream.write(dataBuffer, 0, bytesRead);\r\n                }\r\n                fileOutputStream.close();\r\n\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\nNow, just compile the DownloadWithHttps.java program and execute it with your Java 1.6\r\n\r\n```\r\n\r\n${JAVA_HOME}/bin/javac DownloadWithHttps.java\r\n${JAVA_HOME}/bin/java DownloadWithHttps https://repo1.maven.org/maven2/org/apache/commons/commons-lang3/3.10/commons-lang3-3.10.jar\r\n\r\n```\r\n\r\n**Important note for Windows users**: This solution was tested in a Linux OS, if you are using Windows, please replace the `${JAVA_HOME}` by `%JAVA_HOME%`.\r\n\r\n  [1]: https://www.bouncycastle.org/\r\n  [2]: https://www.oracle.com/java/technologies/javase-java-archive-javase6-downloads.html\r\n  [3]: https://repo1.maven.org/maven2/org/bouncycastle/bcprov-jdk15to18/1.71/bcprov-jdk15to18-1.71.jar\r\n  [4]: https://repo1.maven.org/maven2/org/bouncycastle/bctls-jdk15to18/1.71/bctls-jdk15to18-1.71.jar\r\n  [5]: https://www.oracle.com/java/technologies/jce-6-download.html","title":"How to use TLS 1.2 in Java 6","body":"<p>After a few hours of playing with the Oracle JDK 1.6, I was able to make it work without any code change. The magic is done by Bouncy Castle to handle SSL and allow JDK 1.6 to run with TLSv1.2 by default. In theory, it could also be applied to older Java versions with eventual adjustments.</p>\n<ol>\n<li>Download the latest Java 1.6 version from the <a href=\"https://www.oracle.com/java/technologies/javase-java-archive-javase6-downloads.html\" rel=\"nofollow noreferrer\">Java Archive Oracle website</a></li>\n<li>Uncompress it on your preferred path and set your JAVA_HOME environment variable</li>\n<li>Update the JDK with the latest <a href=\"https://www.oracle.com/java/technologies/jce-6-download.html\" rel=\"nofollow noreferrer\">Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files 6</a></li>\n<li>Download the Bounce Castle jar files <a href=\"https://repo1.maven.org/maven2/org/bouncycastle/bcprov-jdk15to18/1.71/bcprov-jdk15to18-1.71.jar\" rel=\"nofollow noreferrer\">bcprov-jdk15to18-1.71.jar</a> and <a href=\"https://repo1.maven.org/maven2/org/bouncycastle/bctls-jdk15to18/1.71/bctls-jdk15to18-1.71.jar\" rel=\"nofollow noreferrer\">bctls-jdk15to18-1.71.jar</a> and copy them into your <code>${JAVA_HOME}/jre/lib/ext</code> folder</li>\n<li>Modify the file <code>${JAVA_HOME}/jre/lib/security/java.security</code> commenting out the providers section and adding some extra lines</li>\n</ol>\n<pre><code>    # Original security providers (just comment it)\n    # security.provider.1=sun.security.provider.Sun\n    # security.provider.2=sun.security.rsa.SunRsaSign\n    # security.provider.3=com.sun.net.ssl.internal.ssl.Provider\n    # security.provider.4=com.sun.crypto.provider.SunJCE\n    # security.provider.5=sun.security.jgss.SunProvider\n    # security.provider.6=com.sun.security.sasl.Provider\n    # security.provider.7=org.jcp.xml.dsig.internal.dom.XMLDSigRI\n    # security.provider.8=sun.security.smartcardio.SunPCSC\n\n    # Add the Bouncy Castle security providers with higher priority\n    security.provider.1=org.bouncycastle.jce.provider.BouncyCastleProvider\n    security.provider.2=org.bouncycastle.jsse.provider.BouncyCastleJsseProvider\n    \n    # Original security providers with different priorities\n    security.provider.3=sun.security.provider.Sun\n    security.provider.4=sun.security.rsa.SunRsaSign\n    security.provider.5=com.sun.net.ssl.internal.ssl.Provider\n    security.provider.6=com.sun.crypto.provider.SunJCE \n    security.provider.7=sun.security.jgss.SunProvider\n    security.provider.8=com.sun.security.sasl.Provider\n    security.provider.9=org.jcp.xml.dsig.internal.dom.XMLDSigRI\n    security.provider.10=sun.security.smartcardio.SunPCSC\n\n    # Here we are changing the default SSLSocketFactory implementation\n    ssl.SocketFactory.provider=org.bouncycastle.jsse.provider.SSLSocketFactoryImpl\n\n</code></pre>\n<p>Just to make sure it's working let's make a simple Java program to download files from one URL using https.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.net.*;\n\n\npublic class DownloadWithHttps {\n\n    public static void main(String[] args) {\n        try {\n            URL url = new URL(args[0]);\n            System.out.println(&quot;File to Download: &quot; + url);\n            String filename = url.getFile();\n            File f = new File(filename);\n            System.out.println(&quot;Output File: &quot; + f.getName());\n            BufferedInputStream in = new BufferedInputStream(url.openStream());\n            FileOutputStream fileOutputStream = new FileOutputStream(f.getName());\n            int bytesRead;\n            byte dataBuffer[] = new byte[1024];\n\n            while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\n                fileOutputStream.write(dataBuffer, 0, bytesRead);\n            }\n            fileOutputStream.close();\n\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>Now, just compile the DownloadWithHttps.java program and execute it with your Java 1.6</p>\n<pre><code>\n${JAVA_HOME}/bin/javac DownloadWithHttps.java\n${JAVA_HOME}/bin/java DownloadWithHttps https://repo1.maven.org/maven2/org/apache/commons/commons-lang3/3.10/commons-lang3-3.10.jar\n\n</code></pre>\n<p><strong>Important note for Windows users</strong>: This solution was tested in a Linux OS, if you are using Windows, please replace the <code>${JAVA_HOME}</code> by <code>%JAVA_HOME%</code>.</p>\n"},{"tags":[],"owner":{"account_id":14177617,"reputation":21,"user_id":10242333,"display_name":"Tran Hao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601943245,"creation_date":1601940427,"answer_id":64217440,"question_id":33364100,"body_markdown":"I also got a similar error when forced to use TLS1.2 for java 6.\r\nAnd I handled it thanks to this library:\r\n1. Clone Source Code:\r\nhttps://github.com/tobszarny/ssl-provider-jvm16\r\n\r\n2. Add Main Class:\r\n   ```\r\n   public static void main(String[] args) throws Exception {\r\n       try {\r\n           String apiUrl = &quot;https://domain/api/query?test=123&quot;;\r\n\r\n           URL myurl = new URL(apiUrl);\r\n           HttpsURLConnection con = (HttpsURLConnection) myurl.openConnection();\r\n           con.setSSLSocketFactory(new TSLSocketConnectionFactory());\r\n           int responseCode = con.getResponseCode();\r\n           System.out.println(&quot;GET Response Code :: &quot; + responseCode);\r\n       } catch (Exception ex) {\r\n           ex.printStackTrace();\r\n       }\r\n   }\r\n   ```","title":"How to use TLS 1.2 in Java 6","body":"<p>I also got a similar error when forced to use TLS1.2 for java 6.\nAnd I handled it thanks to this library:</p>\n<ol>\n<li><p>Clone Source Code:\n<a href=\"https://github.com/tobszarny/ssl-provider-jvm16\" rel=\"nofollow noreferrer\">https://github.com/tobszarny/ssl-provider-jvm16</a></p>\n</li>\n<li><p>Add Main Class:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    try {\n        String apiUrl = &quot;https://domain/api/query?test=123&quot;;\n\n        URL myurl = new URL(apiUrl);\n        HttpsURLConnection con = (HttpsURLConnection) myurl.openConnection();\n        con.setSSLSocketFactory(new TSLSocketConnectionFactory());\n        int responseCode = con.getResponseCode();\n        System.out.println(&quot;GET Response Code :: &quot; + responseCode);\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23092573,"reputation":1,"user_id":17203225,"display_name":"Marcos Meneses"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661203963,"creation_date":1634745242,"answer_id":69649281,"question_id":33364100,"body_markdown":"another BouncyCastle example. Just using `bcprov-jdk15to18`, `bctls-jdk15to18`, `bcutil-jdk15to18`, did the work for our old 1.6 client application. **UPDATE**: BC version `1.71` \r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        //put BC providers in runtime context\r\n        if (Security.getProvider(BouncyCastleProvider.PROVIDER_NAME) == null) {\r\n            Security.insertProviderAt(new BouncyCastleProvider(), 1);\r\n            Security.insertProviderAt(new BouncyCastleJsseProvider(), 2);\r\n        }\r\n\r\n        //create an empty trust manager\r\n        TrustManager[] trustManager = new TrustManager[] { new X509TrustManager() {\r\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() { return new X509Certificate[0]; }\r\n            public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {}\r\n            public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {}\r\n        } };\r\n\r\n        //initialize SSLContext \r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);        \r\n        sslContext.init(null, trustManager, new SecureRandom());\r\n        \r\n        //connect and print data\r\n        URL url = new URL(&quot;https://stackoverflow.com&quot;);\r\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n        connection.setSSLSocketFactory(sslContext.getSocketFactory());        \r\n        connection.setRequestMethod(&quot;GET&quot;);\r\n        InputStream returnStream = connection.getInputStream();        \r\n        for (int ch; (ch = returnStream.read()) != -1; ) {\r\n            System.out.print((char) ch);\r\n        }\r\n        returnStream.close();\r\n        connection.disconnect();\r\n    }","title":"How to use TLS 1.2 in Java 6","body":"<p>another BouncyCastle example. Just using <code>bcprov-jdk15to18</code>, <code>bctls-jdk15to18</code>, <code>bcutil-jdk15to18</code>, did the work for our old 1.6 client application. <strong>UPDATE</strong>: BC version <code>1.71</code></p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n    //put BC providers in runtime context\n    if (Security.getProvider(BouncyCastleProvider.PROVIDER_NAME) == null) {\n        Security.insertProviderAt(new BouncyCastleProvider(), 1);\n        Security.insertProviderAt(new BouncyCastleJsseProvider(), 2);\n    }\n\n    //create an empty trust manager\n    TrustManager[] trustManager = new TrustManager[] { new X509TrustManager() {\n        public java.security.cert.X509Certificate[] getAcceptedIssuers() { return new X509Certificate[0]; }\n        public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {}\n        public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {}\n    } };\n\n    //initialize SSLContext \n    SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);        \n    sslContext.init(null, trustManager, new SecureRandom());\n    \n    //connect and print data\n    URL url = new URL(&quot;https://stackoverflow.com&quot;);\n    HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n    connection.setSSLSocketFactory(sslContext.getSocketFactory());        \n    connection.setRequestMethod(&quot;GET&quot;);\n    InputStream returnStream = connection.getInputStream();        \n    for (int ch; (ch = returnStream.read()) != -1; ) {\n        System.out.print((char) ch);\n    }\n    returnStream.close();\n    connection.disconnect();\n}\n</code></pre>\n"}],"owner":{"account_id":1083913,"reputation":497,"user_id":1080110,"display_name":"alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193229,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"answer_count":9,"score":50,"last_activity_date":1675989491,"creation_date":1445938030,"question_id":33364100,"body_markdown":"It seems that Java 6 supports TLS up to v1.0, is there any way to use TLS 1.2 in Java 6?\r\n\r\nMaybe a patch or a particular update of Java 6 will have support for it?","title":"How to use TLS 1.2 in Java 6","body":"<p>It seems that Java 6 supports TLS up to v1.0, is there any way to use TLS 1.2 in Java 6?</p>\n\n<p>Maybe a patch or a particular update of Java 6 will have support for it?</p>\n"},{"tags":["java","github","github-actions","github-pages","javadoc"],"comments":[{"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"score":0,"creation_date":1671250347,"post_id":72565540,"comment_id":132064534,"body_markdown":"this question is duplicate:\nhttps://stackoverflow.com/questions/70991706/publish-automatically-javadoc-with-github-actions","body":"this question is duplicate: <a href=\"https://stackoverflow.com/questions/70991706/publish-automatically-javadoc-with-github-actions\" title=\"publish automatically javadoc with github actions\">stackoverflow.com/questions/70991706/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1675989443,"creation_date":1654806551,"answer_id":72566314,"question_id":72565540,"body_markdown":"## Generate automatically a JavaDoc to a web page with GitHub Page\r\n\r\nYes is possible, with this code on your GitHub Actions :\r\n\r\n```yaml\r\nname: Deploy Javadoc\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - master\r\n      - main\r\n\r\njobs:\r\n  publish:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Deploy JavaDoc &#128640;\r\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.3.2\r\n        with:\r\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n          javadoc-branch: javadoc\r\n          java-version: 17\r\n          target-folder: javadoc\r\n          project: maven # or gradle \r\n```\r\nCredit: https://github.com/MathieuSoysal/Javadoc-publisher.yml\r\nhttps://github.com/marketplace/actions/deploy-javadoc\r\n\r\nThis code publishes JavaDoc automatically when you publish your code to *&quot;master&quot;* branch, your JavaDoc is pushed on *javadoc* branch, and deployed with GitHub Page.\r\n\r\n*don&#39;t forget to enable GitHub page on your GitHub repo settings* \r\n_____\r\n\r\n## Create a GitHub Actions inside your GitHub repository\r\n\r\nTo create a GitHub Actions you need to simply add this yaml file on `/.github/workflows/&lt;your-file&gt;.yaml` inside your GitHub repository.\r\n","title":"How to generate automatically a JavaDoc on a web page","body":"<h2>Generate automatically a JavaDoc to a web page with GitHub Page</h2>\n<p>Yes is possible, with this code on your GitHub Actions :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Deploy Javadoc\n\non:\n  push:\n    branches:\n      - master\n      - main\n\njobs:\n  publish:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Deploy JavaDoc 🚀\n        uses: MathieuSoysal/Javadoc-publisher.yml@v2.3.2\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          javadoc-branch: javadoc\n          java-version: 17\n          target-folder: javadoc\n          project: maven # or gradle \n</code></pre>\n<p>Credit: <a href=\"https://github.com/MathieuSoysal/Javadoc-publisher.yml\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Javadoc-publisher.yml</a>\n<a href=\"https://github.com/marketplace/actions/deploy-javadoc\" rel=\"nofollow noreferrer\">https://github.com/marketplace/actions/deploy-javadoc</a></p>\n<p>This code publishes JavaDoc automatically when you publish your code to <em>&quot;master&quot;</em> branch, your JavaDoc is pushed on <em>javadoc</em> branch, and deployed with GitHub Page.</p>\n<p><em>don't forget to enable GitHub page on your GitHub repo settings</em></p>\n<hr />\n<h2>Create a GitHub Actions inside your GitHub repository</h2>\n<p>To create a GitHub Actions you need to simply add this yaml file on <code>/.github/workflows/&lt;your-file&gt;.yaml</code> inside your GitHub repository.</p>\n"},{"tags":[],"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671052111,"creation_date":1671052111,"answer_id":74804196,"question_id":72565540,"body_markdown":"We can use javadoc tool:  \r\nWith a maven plugin: **maven-javadoc-plugin**\r\n```\r\nttys000:am ➜  ~ javadoc -d doc src\\*\r\n```\r\nJavadoc alternatives:  \r\n**...**  \r\n**MkDocs. Free • Open Source.**  \r\n**Doxygen. Free • Open Source.**  \r\n**Slate API Docs Generator. Free • Open Source.**  \r\n**DocFX. Free • Open Source.**  \r\n**Sandcastle.**  \r\n**phpDocumentor**  \r\n**NDoc**  \r\n**DoxyS**  \r\n","title":"How to generate automatically a JavaDoc on a web page","body":"<p>We can use javadoc tool:<br />\nWith a maven plugin: <strong>maven-javadoc-plugin</strong></p>\n<pre><code>ttys000:am ➜  ~ javadoc -d doc src\\*\n</code></pre>\n<p>Javadoc alternatives:<br />\n<strong>...</strong><br />\n<strong>MkDocs. Free • Open Source.</strong><br />\n<strong>Doxygen. Free • Open Source.</strong><br />\n<strong>Slate API Docs Generator. Free • Open Source.</strong><br />\n<strong>DocFX. Free • Open Source.</strong><br />\n<strong>Sandcastle.</strong><br />\n<strong>phpDocumentor</strong><br />\n<strong>NDoc</strong><br />\n<strong>DoxyS</strong></p>\n"}],"owner":{"account_id":24663336,"reputation":128,"user_id":18559336,"display_name":"Poporii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1671277418,"accepted_answer_id":72566314,"answer_count":2,"score":9,"last_activity_date":1675989443,"creation_date":1654802213,"question_id":72565540,"body_markdown":"I am currently working on a Java project in GitHub and I need on every update to manually generate JavaDoc and upload it on GitHub Page. But it’s very tedious.\r\n\r\nAnd I wondering if is possible to automatise this with a CI?\r\n","title":"How to generate automatically a JavaDoc on a web page","body":"<p>I am currently working on a Java project in GitHub and I need on every update to manually generate JavaDoc and upload it on GitHub Page. But it’s very tedious.</p>\n<p>And I wondering if is possible to automatise this with a CI?</p>\n"},{"tags":["java","layout","android-wrap-content"],"owner":{"account_id":26170532,"reputation":1,"user_id":19855570,"display_name":"GG Gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675987582,"creation_date":1675970321,"question_id":75403430,"body_markdown":"```java\r\nFrameLayout.LayoutParams params = new FrameLayout.LayoutParams(400, 400);\r\nparams.gravity = Gravity.TOP|Gravity.RIGHT;\r\nlinearLayout.setLayoutParams(params);\r\n```\r\n\r\nI am using this code but I want that I am using this code but I want that 400, replace with `wrap_content`.\r\n\r\nI want to replace 400 to `wrap_content` using Java code","title":"How can I set wrap_content layout using this code?","body":"<pre class=\"lang-java prettyprint-override\"><code>FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(400, 400);\nparams.gravity = Gravity.TOP|Gravity.RIGHT;\nlinearLayout.setLayoutParams(params);\n</code></pre>\n<p>I am using this code but I want that I am using this code but I want that 400, replace with <code>wrap_content</code>.</p>\n<p>I want to replace 400 to <code>wrap_content</code> using Java code</p>\n"},{"tags":["java","unit-testing","junit","junit-jupiter"],"answers":[{"comments":[{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1675987077,"post_id":75405655,"comment_id":133051526,"body_markdown":"do you mean declare it in each test? before if I declare it outside each test method then each test cant access as its outside the scope?","body":"do you mean declare it in each test? before if I declare it outside each test method then each test cant access as its outside the scope?"},{"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"score":0,"creation_date":1675987273,"post_id":75405655,"comment_id":133051566,"body_markdown":"Not in each test, but as a field. I updated the sample.","body":"Not in each test, but as a field. I updated the sample."},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1675987391,"post_id":75405655,"comment_id":133051585,"body_markdown":"Thanks, but how does this give a new instance before each test? Is each test not just reusing the same calculator object?","body":"Thanks, but how does this give a new instance before each test? Is each test not just reusing the same calculator object?"},{"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"score":0,"creation_date":1675987633,"post_id":75405655,"comment_id":133051625,"body_markdown":"It will only reuse the same instance if you declare the `Calculator` as a `static` field. If it&#39;s not `static`, a new instance will be created. I added a link to the documentation that has more details.","body":"It will only reuse the same instance if you declare the <code>Calculator</code> as a <code>static</code> field. If it&#39;s not <code>static</code>, a new instance will be created. I added a link to the documentation that has more details."},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1675989119,"post_id":75405655,"comment_id":133051851,"body_markdown":"appreciate it, answer accepted!","body":"appreciate it, answer accepted!"}],"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675987559,"creation_date":1675986868,"answer_id":75405655,"question_id":75405575,"body_markdown":"I think in your example you don&#39;t need either `BeforeAll` or `BeforeEach`.\r\n\r\nInstead, it&#39;s simpler (less code is good) to just declare:\r\n\r\n```java\r\npublic class CalculatorShould {\r\n\r\n    private Calculator calculator = new Calculator();\r\n\r\n    // test methods unchanged...\r\n}\r\n```\r\n\r\nJUnit will provide you with a brand new instance of the `Calculator` before each test method is run:\r\n\r\n&gt; In order to allow individual test methods to be executed in isolation and to avoid unexpected side effects due to mutable test instance state, JUnit creates a new instance of each test class before executing each test method (see Test Classes and Methods). This &quot;per-method&quot; test instance lifecycle is the default behavior in JUnit Jupiter and is analogous to all previous versions of JUnit.\r\n\r\nSource: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-instance-lifecycle","title":"Junit BeforeAll or BeforeEach - when to initialise class under test if state does not change between tests?","body":"<p>I think in your example you don't need either <code>BeforeAll</code> or <code>BeforeEach</code>.</p>\n<p>Instead, it's simpler (less code is good) to just declare:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CalculatorShould {\n\n    private Calculator calculator = new Calculator();\n\n    // test methods unchanged...\n}\n</code></pre>\n<p>JUnit will provide you with a brand new instance of the <code>Calculator</code> before each test method is run:</p>\n<blockquote>\n<p>In order to allow individual test methods to be executed in isolation and to avoid unexpected side effects due to mutable test instance state, JUnit creates a new instance of each test class before executing each test method (see Test Classes and Methods). This &quot;per-method&quot; test instance lifecycle is the default behavior in JUnit Jupiter and is analogous to all previous versions of JUnit.</p>\n</blockquote>\n<p>Source: <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-instance-lifecycle\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-instance-lifecycle</a></p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75405655,"answer_count":1,"score":1,"last_activity_date":1675987559,"creation_date":1675985937,"question_id":75405575,"body_markdown":"In my following example I am unsure if I should use `BeforeEach` or `BeforeAll` - Note the class under test `Calculator` does not change state etc between tests so I assumed making it `static` and using `BeforeEach` is more efficient?\r\n\r\n    public class CalculatorShould {\r\n    \r\n        private static Calculator calculator;\r\n    \r\n        @BeforeAll\r\n        static void setUp() {\r\n            calculator= new Calculator();\r\n        }\r\n    \r\n        @Test\r\n        void calculatePriceForTwo() {\r\n    \r\n            // act\r\n            Double price = calculator.calculatePrice(2);\r\n    \r\n            // assert\r\n            assertEquals(10, price);\r\n        }\r\n    \r\n        @Test\r\n        void calculatePriceForFour() {\r\n    \r\n            // act\r\n            Double price = calculator.calculatePrice(4);\r\n    \r\n            // assert\r\n            assertEquals(20, price);\r\n        }\r\n    }","title":"Junit BeforeAll or BeforeEach - when to initialise class under test if state does not change between tests?","body":"<p>In my following example I am unsure if I should use <code>BeforeEach</code> or <code>BeforeAll</code> - Note the class under test <code>Calculator</code> does not change state etc between tests so I assumed making it <code>static</code> and using <code>BeforeEach</code> is more efficient?</p>\n<pre><code>public class CalculatorShould {\n\n    private static Calculator calculator;\n\n    @BeforeAll\n    static void setUp() {\n        calculator= new Calculator();\n    }\n\n    @Test\n    void calculatePriceForTwo() {\n\n        // act\n        Double price = calculator.calculatePrice(2);\n\n        // assert\n        assertEquals(10, price);\n    }\n\n    @Test\n    void calculatePriceForFour() {\n\n        // act\n        Double price = calculator.calculatePrice(4);\n\n        // assert\n        assertEquals(20, price);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","sorting"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1674976363,"post_id":75272980,"comment_id":132826195,"body_markdown":"Why is it important that you have the records stored in sorted order? Why not just maintain the records as is and present them in a sorted manner? Why are you implementing your own (slower) sorting algorithm and not making use of the pre-existing sorting capabilites of something like [`Collections.sort`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Collections.html#sort(java.util.List))?","body":"Why is it important that you have the records stored in sorted order? Why not just maintain the records as is and present them in a sorted manner? Why are you implementing your own (slower) sorting algorithm and not making use of the pre-existing sorting capabilites of something like <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Collections.html#sort(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.sort</code></a>?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674976544,"post_id":75272980,"comment_id":132826220,"body_markdown":"Hint - create a new `TableModel` with the sorted data and set it to the `JTable`","body":"Hint - create a new <code>TableModel</code> with the sorted data and set it to the <code>JTable</code>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1674989696,"post_id":75272980,"comment_id":132828011,"body_markdown":"Pull the data from database table(s) in the sort order you want with your SQL Query.","body":"Pull the data from database table(s) in the sort order you want with your SQL Query."}],"answers":[{"tags":[],"owner":{"account_id":27748759,"reputation":1,"user_id":21183617,"display_name":"Nicholas Ryan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675986778,"creation_date":1675986551,"answer_id":75405628,"question_id":75272980,"body_markdown":"First step is to sort all of the data you want inside of the JTable as you want it, and then create a 2 dimensional array of type ``Object`` that contains your sorted data, with each object inside being a row.\r\n\r\nAfter that you should add a new ``TableModel`` to your JTable using the ``setModel(TableModel)`` method inside of ``JTable``: \r\n\r\n    j.setModel(new AbstractModel(){\r\n        public int getRowCount(){\r\n            return sortedDataInA2DArray.length;\r\n        }\r\n\r\n       public int getColumnCount(){\r\n           return numOfColumns;\r\n       }\r\n\r\n       public Object getValueAt(int rowIndex, int columnIndex){\r\n           return sortedDataInA2DArray[rowIndex][columnIndex];\r\n       }\r\n    }); \r\n\r\n(I used ``AbstractModel`` in this demonstration as it is a lot easier to use than ``TableModel``, but if you wanted to pass a ``TableModel`` interface into ``setModel`` you could, you&#39;d just have to implement every method inside of ``TableModel`` interface)\r\n\r\nOf course, ``sortedDataInA2DArray`` is the sorted 2d array of data you created.","title":"How can I sort a JTable by replacing all pre-existing values with the new sorted ones?","body":"<p>First step is to sort all of the data you want inside of the JTable as you want it, and then create a 2 dimensional array of type <code>Object</code> that contains your sorted data, with each object inside being a row.</p>\n<p>After that you should add a new <code>TableModel</code> to your JTable using the <code>setModel(TableModel)</code> method inside of <code>JTable</code>:</p>\n<pre><code>j.setModel(new AbstractModel(){\n    public int getRowCount(){\n        return sortedDataInA2DArray.length;\n    }\n\n   public int getColumnCount(){\n       return numOfColumns;\n   }\n\n   public Object getValueAt(int rowIndex, int columnIndex){\n       return sortedDataInA2DArray[rowIndex][columnIndex];\n   }\n}); \n</code></pre>\n<p>(I used <code>AbstractModel</code> in this demonstration as it is a lot easier to use than <code>TableModel</code>, but if you wanted to pass a <code>TableModel</code> interface into <code>setModel</code> you could, you'd just have to implement every method inside of <code>TableModel</code> interface)</p>\n<p>Of course, <code>sortedDataInA2DArray</code> is the sorted 2d array of data you created.</p>\n"}],"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1675986778,"creation_date":1674973351,"question_id":75272980,"body_markdown":"I&#39;m trying to make a GUI interface using java swing that is able to add users to a text file (I treat it as a database in which I pull/push to) and sort them. The GUI interface has a JTable which pulls the existing items in the text file and displays it initially. Once I go to add a new item, it gets updated. Now I&#39;m trying to add a sorting functionality using bubble sort to sort the rows of JTable. I can&#39;t use something simple like the `TableRowSorter` which sorts the entire column if you click on it because I won&#39;t be able to track the changes and save them to the text file (my database). I need a way to almost replace all the values of the current JTable with a sorted one (the sorted one is called `arr`, it&#39;s the array I pass through the `BubbleSort` function) when I click on the button &quot;Sort List&quot; which then triggers the `actionPerformed` event. I&#39;m struggling to find a way to do this and would appreciate some help.\r\n\r\nHere is my code:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.util.List;\r\n    import java.util.*;\r\n    import javax.swing.JTable;\r\n    import java.io.IOException;  // Import the IOException class to handle errors\r\n    import java.io.File;  // Import the File class\r\n    import java.io.FileNotFoundException;  // Import this class to handle errors\r\n    import java.nio.file.*;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import java.io.FileWriter;\r\n    \r\n    import javax.swing.table.TableModel;\r\n    import javax.swing.table.TableRowSorter;\r\n    \r\n    class UserManager extends JFrame implements ActionListener {\r\n    \r\n      private JTextField firstNameField, lastNameField, salaryField;\r\n      private JButton addButton, removeButton, viewButton, sortButton, getButton;\r\n      private JList&lt;Employee&gt; userList;\r\n      private ArrayList&lt;Employee&gt; users;\r\n      private JTable j;\r\n      private DefaultTableModel model;\r\n    \r\n      public UserManager() {\r\n        setTitle(&quot;Employee Manager&quot;);\r\n        setSize(300, 300);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \r\n        firstNameField = new JTextField(20);\r\n        lastNameField = new JTextField(20);\r\n        salaryField = new JTextField(20);\r\n        addButton = new JButton(&quot;Add&quot;);\r\n        addButton.addActionListener(this);\r\n        removeButton = new JButton(&quot;Remove&quot;);\r\n        removeButton.addActionListener(this);\r\n        viewButton = new JButton(&quot;Refresh List&quot;);\r\n        viewButton.addActionListener(this);\r\n        sortButton = new JButton(&quot;Sort List&quot;);\r\n        sortButton.addActionListener(this);\r\n    \r\n        // Pulling data from text file database\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; databaseData = ReadFile();\r\n    \r\n        users = new ArrayList&lt;Employee&gt;();\r\n    \r\n        // Adding existing databaseData to users\r\n        try {\r\n          if (databaseData.size() &gt; 0) {\r\n            for (int i = 0; i &lt; databaseData.size(); i++) {\r\n              Employee user = new Employee(databaseData.get(i).get(0), databaseData.get(i).get(1), Integer.valueOf(databaseData.get(i).get(2)));\r\n              users.add(user);\r\n            }\r\n          }\r\n        }\r\n        catch (NumberFormatException nfe) {\r\n          \r\n        }\r\n        \r\n    \r\n        \r\n        userList = new JList&lt;Employee&gt;(users.toArray(new Employee[0]));\r\n        userList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n    \r\n    \r\n        JPanel firstNamePanel = new JPanel();\r\n        firstNamePanel.add(new JLabel(&quot;First Name:&quot;));\r\n        firstNamePanel.add(firstNameField);\r\n    \r\n        JPanel lastNamePanel = new JPanel();\r\n        lastNamePanel.add(new JLabel(&quot;Last Name:&quot;));\r\n        lastNamePanel.add(lastNameField);\r\n    \r\n        JPanel salaryPanel = new JPanel();\r\n        salaryPanel.add(new JLabel(&quot;Salary:&quot;));\r\n        salaryPanel.add(salaryField);\r\n    \r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.add(addButton);\r\n        buttonPanel.add(removeButton);\r\n        buttonPanel.add(sortButton);\r\n    \r\n        \r\n        // Converting 2D arraylist to normal 2D array for JTable\r\n        String[][] data = databaseData.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\r\n    \r\n        // Initializing column names of JTable\r\n        String[] columnNames = { &quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot; };\r\n        \r\n        model = new DefaultTableModel(data, columnNames);\r\n        j = new JTable(model);\r\n        j.setBounds(1000, 1000, 900, 900);\r\n    \r\n    \r\n        // adding it to JScrollPane\r\n        JScrollPane table = new JScrollPane(j);\r\n        \r\n        JPanel mainPanel = new JPanel(new GridLayout(5, 3));\r\n        mainPanel.add(firstNamePanel);\r\n        mainPanel.add(lastNamePanel);\r\n        mainPanel.add(salaryPanel);\r\n        mainPanel.add(buttonPanel);\r\n        mainPanel.add(table);\r\n    \r\n        \r\n        add(mainPanel);\r\n      }\r\n    \r\n      public void actionPerformed(ActionEvent e) {\r\n        \r\n        // Sort button is clicked\r\n        else if (e.getSource() == sortButton) {\r\n          // Checking if there&#39;s at least 2 items in the database\r\n          if (users.size() &gt; 1) {\r\n            \r\n            ArrayList&lt;Employee&gt; arr = new ArrayList&lt;Employee&gt;();\r\n      \r\n            // Creating a copy of users\r\n            for (int i = 0; i &lt; users.size(); i++) {\r\n              arr.add(users.get(i));\r\n            }\r\n      \r\n            arr = BubbleSort(arr);\r\n      \r\n            updateList(arr);\r\n\r\n            // !!!!!!!!!!!!!!! ----------------------------------------- !!!!!!!!!!!!!!!!!\r\n            // THIS IS WHERE I NEED TO SOMEHOW SORT THE JTABLE \r\n            // !!!!!!!!!!!!!!! ----------------------------------------- !!!!!!!!!!!!!!!!!\r\n          }\r\n          else {\r\n            JOptionPane.showMessageDialog(this, &quot;Too Few Employees.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          }\r\n        }\r\n      }\r\n    \r\n    \r\n    \r\n      \r\n      // Updates the list after a CRUD operation is called\r\n      private void updateList(ArrayList&lt;Employee&gt; u) {\r\n        userList.setListData(u.toArray(new Employee[0]));\r\n    \r\n        System.out.println(&quot;Updating Database&quot;);\r\n    \r\n        try {\r\n          FileWriter fw = new FileWriter(&quot;db.txt&quot;, false);\r\n    \r\n          // Loop through each student and write to the text file\r\n          for (int i = 0; i &lt; u.size(); i++) {\r\n            fw.write(toString(u.get(i).getFirstName(), u.get(i).getLastName(), u.get(i).getSalary()));\r\n          }\r\n          fw.close();\r\n        }\r\n        catch (IOException io) {}\r\n      }\r\n    \r\n    \r\n   \r\n    \r\n    \r\n      \r\n      // Combing multiple string and ints into a string\r\n      public String toString(String firstName, String lastName, int salary) {\r\n          return firstName + &quot;, &quot; + lastName + &quot;, &quot; + salary + &quot;\\n&quot;;\r\n      }\r\n    \r\n    \r\n      \r\n      // Method to read database\r\n      public static ArrayList&lt;ArrayList&lt;String&gt;&gt; ReadFile() {\r\n        try {\r\n          // Choose grades.txt file to look at\r\n          File myObj = new File(&quot;db.txt&quot;);\r\n    \r\n          // Create scanner object\r\n          Scanner myReader = new Scanner(myObj);\r\n    \r\n          // Create 2d list array to hold all the single list arrays of single information\r\n          ArrayList&lt;ArrayList&lt;String&gt;&gt; combinedArr = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        \r\n          // While the file reader is still reading lines in the text\r\n          while (myReader.hasNextLine()) {\r\n            // Read strings of text in txt file\r\n            String data = myReader.nextLine();\r\n    \r\n            // Get first and last name from a string\r\n            ArrayList&lt;String&gt; temp = GetName(data); \r\n    \r\n            // Add the person and their salary to the combined array that holds everyones\r\n            combinedArr.add(temp);\r\n          }\r\n    \r\n          // Close file once there are no more lines to read\r\n          myReader.close();\r\n    \r\n          return combinedArr;\r\n        } \r\n        catch (FileNotFoundException e) {\r\n          System.out.println(&quot;An error occurred.&quot;);\r\n          e.printStackTrace();\r\n        }\r\n    \r\n        // Return invalid list string with nothing if error\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; Invalid = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        return Invalid;\r\n      }\r\n    \r\n      // Method to perform bubble sort\r\n      public static ArrayList&lt;Employee&gt; BubbleSort(ArrayList&lt;Employee&gt; arr) {\r\n        // Looping through entire array&#39;s length - 1 times to avoid errors when comparing an index adn the next one\r\n        for (int i = 0; i &lt; arr.size() - 1; i++) {\r\n          // Looping through indexes\r\n          for (int j = 0; j &lt; arr.size() - 1; j++) {\r\n            // If the current index element is bigger than next index element, swap them\r\n            if (arr.get(j).getSalary() &gt; arr.get(j+1).getSalary()) {\r\n              Employee temp = arr.get(j);\r\n              arr.set(j,arr.get(j+1));\r\n              arr.set(j+1,temp);\r\n            }\r\n          }\r\n        }\r\n    \r\n        return arr;\r\n      }\r\n    \r\n    \r\n      // Parses name in db\r\n      public static ArrayList&lt;String&gt; GetName(String data) {\r\n        String first = &quot;&quot;;\r\n        String last = &quot;&quot;;\r\n        String sal = &quot;&quot;;\r\n        // System.out.println(data[0])\r\n        for (int i = 0; i &lt; data.length(); i++) {\r\n          if (data.charAt(i) == &#39;,&#39;) {\r\n            // Start from 2 indexes after the first occurance of the comma\r\n            for (int j = i+2; j &lt; data.length(); j++) {\r\n              if (data.charAt(j) == &#39;,&#39;) {\r\n                for (int n = j+2; n &lt; data.length(); n++) {\r\n                  sal += data.charAt(n);\r\n                }\r\n                break;\r\n              }\r\n              last += data.charAt(j);\r\n            }\r\n            break;\r\n          }\r\n          first += data.charAt(i);\r\n        }\r\n    \r\n        // Initializing package array to send all values\r\n        ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n        arr.add(first);\r\n        arr.add(last);\r\n        arr.add(sal);\r\n        \r\n        return arr;\r\n      }\r\n    \r\n    \r\n      public static void main(String[] args) {\r\n          UserManager frame = new UserManager();\r\n          frame.setVisible(true);\r\n      }\r\n    }\r\n    \r\n\r\n\r\n    class Employee {\r\n      // Initalizing variables\r\n      private String firstName;\r\n      private String lastName;\r\n      private int salary;\r\n    \r\n      // Assigning variables\r\n      public Employee(String firstName, String lastName, int salary) {\r\n          this.firstName = firstName;\r\n          this.lastName = lastName;\r\n          this.salary = salary;\r\n      }\r\n    \r\n      // return first name\r\n      public String getFirstName() {\r\n        return firstName;\r\n      }\r\n    \r\n      // return last name\r\n      public String getLastName() {\r\n        return lastName;\r\n      }\r\n    \r\n      // return salary\r\n      public int getSalary() {\r\n        return salary;\r\n      }\r\n    }\r\n\r\n","title":"How can I sort a JTable by replacing all pre-existing values with the new sorted ones?","body":"<p>I'm trying to make a GUI interface using java swing that is able to add users to a text file (I treat it as a database in which I pull/push to) and sort them. The GUI interface has a JTable which pulls the existing items in the text file and displays it initially. Once I go to add a new item, it gets updated. Now I'm trying to add a sorting functionality using bubble sort to sort the rows of JTable. I can't use something simple like the <code>TableRowSorter</code> which sorts the entire column if you click on it because I won't be able to track the changes and save them to the text file (my database). I need a way to almost replace all the values of the current JTable with a sorted one (the sorted one is called <code>arr</code>, it's the array I pass through the <code>BubbleSort</code> function) when I click on the button &quot;Sort List&quot; which then triggers the <code>actionPerformed</code> event. I'm struggling to find a way to do this and would appreciate some help.</p>\n<p>Here is my code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.util.List;\nimport java.util.*;\nimport javax.swing.JTable;\nimport java.io.IOException;  // Import the IOException class to handle errors\nimport java.io.File;  // Import the File class\nimport java.io.FileNotFoundException;  // Import this class to handle errors\nimport java.nio.file.*;\nimport javax.swing.table.DefaultTableModel;\nimport java.io.FileWriter;\n\nimport javax.swing.table.TableModel;\nimport javax.swing.table.TableRowSorter;\n\nclass UserManager extends JFrame implements ActionListener {\n\n  private JTextField firstNameField, lastNameField, salaryField;\n  private JButton addButton, removeButton, viewButton, sortButton, getButton;\n  private JList&lt;Employee&gt; userList;\n  private ArrayList&lt;Employee&gt; users;\n  private JTable j;\n  private DefaultTableModel model;\n\n  public UserManager() {\n    setTitle(&quot;Employee Manager&quot;);\n    setSize(300, 300);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n    firstNameField = new JTextField(20);\n    lastNameField = new JTextField(20);\n    salaryField = new JTextField(20);\n    addButton = new JButton(&quot;Add&quot;);\n    addButton.addActionListener(this);\n    removeButton = new JButton(&quot;Remove&quot;);\n    removeButton.addActionListener(this);\n    viewButton = new JButton(&quot;Refresh List&quot;);\n    viewButton.addActionListener(this);\n    sortButton = new JButton(&quot;Sort List&quot;);\n    sortButton.addActionListener(this);\n\n    // Pulling data from text file database\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; databaseData = ReadFile();\n\n    users = new ArrayList&lt;Employee&gt;();\n\n    // Adding existing databaseData to users\n    try {\n      if (databaseData.size() &gt; 0) {\n        for (int i = 0; i &lt; databaseData.size(); i++) {\n          Employee user = new Employee(databaseData.get(i).get(0), databaseData.get(i).get(1), Integer.valueOf(databaseData.get(i).get(2)));\n          users.add(user);\n        }\n      }\n    }\n    catch (NumberFormatException nfe) {\n      \n    }\n    \n\n    \n    userList = new JList&lt;Employee&gt;(users.toArray(new Employee[0]));\n    userList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n\n\n    JPanel firstNamePanel = new JPanel();\n    firstNamePanel.add(new JLabel(&quot;First Name:&quot;));\n    firstNamePanel.add(firstNameField);\n\n    JPanel lastNamePanel = new JPanel();\n    lastNamePanel.add(new JLabel(&quot;Last Name:&quot;));\n    lastNamePanel.add(lastNameField);\n\n    JPanel salaryPanel = new JPanel();\n    salaryPanel.add(new JLabel(&quot;Salary:&quot;));\n    salaryPanel.add(salaryField);\n\n    JPanel buttonPanel = new JPanel();\n    buttonPanel.add(addButton);\n    buttonPanel.add(removeButton);\n    buttonPanel.add(sortButton);\n\n    \n    // Converting 2D arraylist to normal 2D array for JTable\n    String[][] data = databaseData.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\n\n    // Initializing column names of JTable\n    String[] columnNames = { &quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot; };\n    \n    model = new DefaultTableModel(data, columnNames);\n    j = new JTable(model);\n    j.setBounds(1000, 1000, 900, 900);\n\n\n    // adding it to JScrollPane\n    JScrollPane table = new JScrollPane(j);\n    \n    JPanel mainPanel = new JPanel(new GridLayout(5, 3));\n    mainPanel.add(firstNamePanel);\n    mainPanel.add(lastNamePanel);\n    mainPanel.add(salaryPanel);\n    mainPanel.add(buttonPanel);\n    mainPanel.add(table);\n\n    \n    add(mainPanel);\n  }\n\n  public void actionPerformed(ActionEvent e) {\n    \n    // Sort button is clicked\n    else if (e.getSource() == sortButton) {\n      // Checking if there's at least 2 items in the database\n      if (users.size() &gt; 1) {\n        \n        ArrayList&lt;Employee&gt; arr = new ArrayList&lt;Employee&gt;();\n  \n        // Creating a copy of users\n        for (int i = 0; i &lt; users.size(); i++) {\n          arr.add(users.get(i));\n        }\n  \n        arr = BubbleSort(arr);\n  \n        updateList(arr);\n\n        // !!!!!!!!!!!!!!! ----------------------------------------- !!!!!!!!!!!!!!!!!\n        // THIS IS WHERE I NEED TO SOMEHOW SORT THE JTABLE \n        // !!!!!!!!!!!!!!! ----------------------------------------- !!!!!!!!!!!!!!!!!\n      }\n      else {\n        JOptionPane.showMessageDialog(this, &quot;Too Few Employees.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      }\n    }\n  }\n\n\n\n  \n  // Updates the list after a CRUD operation is called\n  private void updateList(ArrayList&lt;Employee&gt; u) {\n    userList.setListData(u.toArray(new Employee[0]));\n\n    System.out.println(&quot;Updating Database&quot;);\n\n    try {\n      FileWriter fw = new FileWriter(&quot;db.txt&quot;, false);\n\n      // Loop through each student and write to the text file\n      for (int i = 0; i &lt; u.size(); i++) {\n        fw.write(toString(u.get(i).getFirstName(), u.get(i).getLastName(), u.get(i).getSalary()));\n      }\n      fw.close();\n    }\n    catch (IOException io) {}\n  }\n\n\n\n\n\n  \n  // Combing multiple string and ints into a string\n  public String toString(String firstName, String lastName, int salary) {\n      return firstName + &quot;, &quot; + lastName + &quot;, &quot; + salary + &quot;\\n&quot;;\n  }\n\n\n  \n  // Method to read database\n  public static ArrayList&lt;ArrayList&lt;String&gt;&gt; ReadFile() {\n    try {\n      // Choose grades.txt file to look at\n      File myObj = new File(&quot;db.txt&quot;);\n\n      // Create scanner object\n      Scanner myReader = new Scanner(myObj);\n\n      // Create 2d list array to hold all the single list arrays of single information\n      ArrayList&lt;ArrayList&lt;String&gt;&gt; combinedArr = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    \n      // While the file reader is still reading lines in the text\n      while (myReader.hasNextLine()) {\n        // Read strings of text in txt file\n        String data = myReader.nextLine();\n\n        // Get first and last name from a string\n        ArrayList&lt;String&gt; temp = GetName(data); \n\n        // Add the person and their salary to the combined array that holds everyones\n        combinedArr.add(temp);\n      }\n\n      // Close file once there are no more lines to read\n      myReader.close();\n\n      return combinedArr;\n    } \n    catch (FileNotFoundException e) {\n      System.out.println(&quot;An error occurred.&quot;);\n      e.printStackTrace();\n    }\n\n    // Return invalid list string with nothing if error\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; Invalid = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    return Invalid;\n  }\n\n  // Method to perform bubble sort\n  public static ArrayList&lt;Employee&gt; BubbleSort(ArrayList&lt;Employee&gt; arr) {\n    // Looping through entire array's length - 1 times to avoid errors when comparing an index adn the next one\n    for (int i = 0; i &lt; arr.size() - 1; i++) {\n      // Looping through indexes\n      for (int j = 0; j &lt; arr.size() - 1; j++) {\n        // If the current index element is bigger than next index element, swap them\n        if (arr.get(j).getSalary() &gt; arr.get(j+1).getSalary()) {\n          Employee temp = arr.get(j);\n          arr.set(j,arr.get(j+1));\n          arr.set(j+1,temp);\n        }\n      }\n    }\n\n    return arr;\n  }\n\n\n  // Parses name in db\n  public static ArrayList&lt;String&gt; GetName(String data) {\n    String first = &quot;&quot;;\n    String last = &quot;&quot;;\n    String sal = &quot;&quot;;\n    // System.out.println(data[0])\n    for (int i = 0; i &lt; data.length(); i++) {\n      if (data.charAt(i) == ',') {\n        // Start from 2 indexes after the first occurance of the comma\n        for (int j = i+2; j &lt; data.length(); j++) {\n          if (data.charAt(j) == ',') {\n            for (int n = j+2; n &lt; data.length(); n++) {\n              sal += data.charAt(n);\n            }\n            break;\n          }\n          last += data.charAt(j);\n        }\n        break;\n      }\n      first += data.charAt(i);\n    }\n\n    // Initializing package array to send all values\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n    arr.add(first);\n    arr.add(last);\n    arr.add(sal);\n    \n    return arr;\n  }\n\n\n  public static void main(String[] args) {\n      UserManager frame = new UserManager();\n      frame.setVisible(true);\n  }\n}\n\n\n\nclass Employee {\n  // Initalizing variables\n  private String firstName;\n  private String lastName;\n  private int salary;\n\n  // Assigning variables\n  public Employee(String firstName, String lastName, int salary) {\n      this.firstName = firstName;\n      this.lastName = lastName;\n      this.salary = salary;\n  }\n\n  // return first name\n  public String getFirstName() {\n    return firstName;\n  }\n\n  // return last name\n  public String getLastName() {\n    return lastName;\n  }\n\n  // return salary\n  public int getSalary() {\n    return salary;\n  }\n}\n</code></pre>\n"},{"tags":["java","file","slack","slack-api","slack-block-kit"],"owner":{"account_id":26090540,"reputation":43,"user_id":19787507,"display_name":"Matanya Jellinek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675985647,"creation_date":1675985647,"question_id":75405548,"body_markdown":"I&#39;m trying to add file to slack message in my interactive app using List&lt;LayoutBlock&gt; in java \r\nI have PDF file in azure storage and link to the file that look like that https://azure.blob.core.windows.net/path/file.pdf\r\nI also have the file in File object java.io.File;\r\n\r\nhow can I add it to the list probably using the FileBlock object?\r\n\r\nI tried to add to the asBlocks method FileBlock but I couldn&#39;t find a way to make it work or give it my URL I get the invalid block error","title":"PDF file in slack","body":"<p>I'm trying to add file to slack message in my interactive app using List in java\nI have PDF file in azure storage and link to the file that look like that <a href=\"https://azure.blob.core.windows.net/path/file.pdf\" rel=\"nofollow noreferrer\">https://azure.blob.core.windows.net/path/file.pdf</a>\nI also have the file in File object java.io.File;</p>\n<p>how can I add it to the list probably using the FileBlock object?</p>\n<p>I tried to add to the asBlocks method FileBlock but I couldn't find a way to make it work or give it my URL I get the invalid block error</p>\n"},{"tags":["java","spring","maven","jboss","wicket"],"owner":{"account_id":10295257,"reputation":3,"user_id":7595675,"display_name":"Ademir J&#250;nior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675985613,"creation_date":1675985613,"question_id":75405546,"body_markdown":"I am working in a legacy project.\r\nJava 1.6\r\nSrping MVC - 3.0.6.RELEASE\r\nApache Wicket 1.5.4\r\nMaven 3.2.5\r\nJBoss 5.1\r\n\r\nI got suscces for packing the application (mvn clean install), but when I tried to deploy in JBoss, I got this error. I searched on the internet but I got nothing.\r\n\r\n\r\n    20:15:36,251 INFO  [ServerImpl] JBoss (Microcontainer) [5.1.0.GA (build: SVNTag=JBoss_5_1_0_GA date=200905221634)] Started in 16s:454ms\r\n    20:15:41,463 ERROR [AbstractKernelController] Error installing to Parse: name=vfsfile:/C:/Users/ADEMIRALMEIDADACOSTA/eclipse-workspace/.metadata/.plugins/org.jboss.ide.eclipse.as.core/JBoss_AS_5.1/deploy/ifn.ear/ state=Not Installed mode=Manual requiredState=Parse\r\n    org.jboss.deployers.spi.DeploymentException: Error creating managed object for vfsfile:/C:/Users/ADEMIRALMEIDADACOSTA/eclipse-workspace/.metadata/.plugins/org.jboss.ide.eclipse.as.core/JBoss_AS_5.1/deploy/ifn.ear/inventario-war-1.0.0.war/\r\n    \tat org.jboss.deployers.spi.DeploymentException.rethrowAsDeploymentException(DeploymentException.java:49)\r\n    \tat org.jboss.deployers.spi.deployer.helpers.AbstractParsingDeployerWithOutput.createMetaData(AbstractParsingDeployerWithOutput.java:362)\r\n    \tat org.jboss.deployers.spi.deployer.helpers.AbstractParsingDeployerWithOutput.createMetaData(AbstractParsingDeployerWithOutput.java:322)\r\n    \tat org.jboss.deployers.spi.deployer.helpers.AbstractParsingDeployerWithOutput.createMetaData(AbstractParsingDeployerWithOutput.java:294)\r\n    \tat org.jboss.deployers.spi.deployer.helpers.AbstractParsingDeployerWithOutput.deploy(AbstractParsingDeployerWithOutput.java:234)\r\n    \tat org.jboss.deployers.plugins.deployers.DeployerWrapper.deploy(DeployerWrapper.java:171)\r\n    \tat org.jboss.deployers.plugins.deployers.DeployersImpl.doDeploy(DeployersImpl.java:1439)\r\n    \tat org.jboss.deployers.plugins.deployers.DeployersImpl.doInstallParentFirst(DeployersImpl.java:1157)\r\n    \tat org.jboss.deployers.plugins.deployers.DeployersImpl.doInstallParentFirst(DeployersImpl.java:1210)\r\n    \tat org.jboss.deployers.plugins.deployers.DeployersImpl.install(DeployersImpl.java:1098)\r\n    \tat org.jboss.dependency.plugins.AbstractControllerContext.install(AbstractControllerContext.java:348)\r\n    \tat org.jboss.dependency.plugins.AbstractController.install(AbstractController.java:1631)\r\n    \tat org.jboss.dependency.plugins.AbstractController.incrementState(AbstractController.java:934)\r\n    \tat org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:1082)\r\n    \tat org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:984)\r\n    \tat org.jboss.dependency.plugins.AbstractController.change(AbstractController.java:822)\r\n    \tat org.jboss.dependency.plugins.AbstractController.change(AbstractController.java:553)\r\n    \tat org.jboss.deployers.plugins.deployers.DeployersImpl.process(DeployersImpl.java:781)\r\n    \tat org.jboss.deployers.plugins.main.MainDeployerImpl.process(MainDeployerImpl.java:702)\r\n    \tat org.jboss.system.server.profileservice.repository.MainDeployerAdapter.process(MainDeployerAdapter.java:117)\r\n    \tat org.jboss.system.server.profileservice.hotdeploy.HDScanner.scan(HDScanner.java:362)\r\n    \tat org.jboss.system.server.profileservice.hotdeploy.HDScanner.run(HDScanner.java:255)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)\r\n    \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: org.jboss.xb.binding.JBossXBException: Failed to parse source: {http://www.w3.org/2001/XMLSchema}string type of element {http://java.sun.com/xml/ns/persistence}jta-data-source should be complex and contain {http://java.sun.com/xml/ns/persistence}jta-data-source as a child element.\r\n    \tat org.jboss.xb.binding.parser.sax.SaxJBossXBParser.parse(SaxJBossXBParser.java:203)\r\n    \tat org.jboss.xb.binding.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:168)\r\n    \tat org.jboss.xb.util.JBossXBHelper.parse(JBossXBHelper.java:189)\r\n    \tat org.jboss.xb.util.JBossXBHelper.parse(JBossXBHelper.java:166)\r\n    \tat org.jboss.deployers.vfs.spi.deployer.SchemaResolverDeployer.parse(SchemaResolverDeployer.java:137)\r\n    \tat org.jboss.deployers.vfs.spi.deployer.SchemaResolverDeployer.parse(SchemaResolverDeployer.java:121)\r\n    \tat org.jboss.deployers.vfs.spi.deployer.AbstractVFSParsingDeployer.parseAndInit(AbstractVFSParsingDeployer.java:256)\r\n    \tat org.jboss.deployers.vfs.spi.deployer.AbstractVFSParsingDeployer.parse(AbstractVFSParsingDeployer.java:188)\r\n    \tat org.jboss.deployers.spi.deployer.helpers.AbstractParsingDeployerWithOutput.createMetaData(AbstractParsingDeployerWithOutput.java:348)\r\n    \t... 29 more\r\n","title":"org.jboss.xb.binding.JBossXBRuntimeException","body":"<p>I am working in a legacy project.\nJava 1.6\nSrping MVC - 3.0.6.RELEASE\nApache Wicket 1.5.4\nMaven 3.2.5\nJBoss 5.1</p>\n<p>I got suscces for packing the application (mvn clean install), but when I tried to deploy in JBoss, I got this error. I searched on the internet but I got nothing.</p>\n<pre><code>20:15:36,251 INFO  [ServerImpl] JBoss (Microcontainer) [5.1.0.GA (build: SVNTag=JBoss_5_1_0_GA date=200905221634)] Started in 16s:454ms\n20:15:41,463 ERROR [AbstractKernelController] Error installing to Parse: name=vfsfile:/C:/Users/ADEMIRALMEIDADACOSTA/eclipse-workspace/.metadata/.plugins/org.jboss.ide.eclipse.as.core/JBoss_AS_5.1/deploy/ifn.ear/ state=Not Installed mode=Manual requiredState=Parse\norg.jboss.deployers.spi.DeploymentException: Error creating managed object for vfsfile:/C:/Users/ADEMIRALMEIDADACOSTA/eclipse-workspace/.metadata/.plugins/org.jboss.ide.eclipse.as.core/JBoss_AS_5.1/deploy/ifn.ear/inventario-war-1.0.0.war/\n    at org.jboss.deployers.spi.DeploymentException.rethrowAsDeploymentException(DeploymentException.java:49)\n    at org.jboss.deployers.spi.deployer.helpers.AbstractParsingDeployerWithOutput.createMetaData(AbstractParsingDeployerWithOutput.java:362)\n    at org.jboss.deployers.spi.deployer.helpers.AbstractParsingDeployerWithOutput.createMetaData(AbstractParsingDeployerWithOutput.java:322)\n    at org.jboss.deployers.spi.deployer.helpers.AbstractParsingDeployerWithOutput.createMetaData(AbstractParsingDeployerWithOutput.java:294)\n    at org.jboss.deployers.spi.deployer.helpers.AbstractParsingDeployerWithOutput.deploy(AbstractParsingDeployerWithOutput.java:234)\n    at org.jboss.deployers.plugins.deployers.DeployerWrapper.deploy(DeployerWrapper.java:171)\n    at org.jboss.deployers.plugins.deployers.DeployersImpl.doDeploy(DeployersImpl.java:1439)\n    at org.jboss.deployers.plugins.deployers.DeployersImpl.doInstallParentFirst(DeployersImpl.java:1157)\n    at org.jboss.deployers.plugins.deployers.DeployersImpl.doInstallParentFirst(DeployersImpl.java:1210)\n    at org.jboss.deployers.plugins.deployers.DeployersImpl.install(DeployersImpl.java:1098)\n    at org.jboss.dependency.plugins.AbstractControllerContext.install(AbstractControllerContext.java:348)\n    at org.jboss.dependency.plugins.AbstractController.install(AbstractController.java:1631)\n    at org.jboss.dependency.plugins.AbstractController.incrementState(AbstractController.java:934)\n    at org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:1082)\n    at org.jboss.dependency.plugins.AbstractController.resolveContexts(AbstractController.java:984)\n    at org.jboss.dependency.plugins.AbstractController.change(AbstractController.java:822)\n    at org.jboss.dependency.plugins.AbstractController.change(AbstractController.java:553)\n    at org.jboss.deployers.plugins.deployers.DeployersImpl.process(DeployersImpl.java:781)\n    at org.jboss.deployers.plugins.main.MainDeployerImpl.process(MainDeployerImpl.java:702)\n    at org.jboss.system.server.profileservice.repository.MainDeployerAdapter.process(MainDeployerAdapter.java:117)\n    at org.jboss.system.server.profileservice.hotdeploy.HDScanner.scan(HDScanner.java:362)\n    at org.jboss.system.server.profileservice.hotdeploy.HDScanner.run(HDScanner.java:255)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)\n    at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\n    at java.lang.Thread.run(Thread.java:662)\nCaused by: org.jboss.xb.binding.JBossXBException: Failed to parse source: {http://www.w3.org/2001/XMLSchema}string type of element {http://java.sun.com/xml/ns/persistence}jta-data-source should be complex and contain {http://java.sun.com/xml/ns/persistence}jta-data-source as a child element.\n    at org.jboss.xb.binding.parser.sax.SaxJBossXBParser.parse(SaxJBossXBParser.java:203)\n    at org.jboss.xb.binding.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:168)\n    at org.jboss.xb.util.JBossXBHelper.parse(JBossXBHelper.java:189)\n    at org.jboss.xb.util.JBossXBHelper.parse(JBossXBHelper.java:166)\n    at org.jboss.deployers.vfs.spi.deployer.SchemaResolverDeployer.parse(SchemaResolverDeployer.java:137)\n    at org.jboss.deployers.vfs.spi.deployer.SchemaResolverDeployer.parse(SchemaResolverDeployer.java:121)\n    at org.jboss.deployers.vfs.spi.deployer.AbstractVFSParsingDeployer.parseAndInit(AbstractVFSParsingDeployer.java:256)\n    at org.jboss.deployers.vfs.spi.deployer.AbstractVFSParsingDeployer.parse(AbstractVFSParsingDeployer.java:188)\n    at org.jboss.deployers.spi.deployer.helpers.AbstractParsingDeployerWithOutput.createMetaData(AbstractParsingDeployerWithOutput.java:348)\n    ... 29 more\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675984797,"creation_date":1675984797,"answer_id":75405475,"question_id":75405435,"body_markdown":"This is precisely what&#39;s supposed to happen. \r\n\r\nA mock is an object where all the methods (with some documented exceptions) have been replaced EITHER \r\n\r\n- by a method that does nothing, and returns either null, zero, false or empty, depending on the method&#39;s return type; OR \r\n- by a method whose behaviour and return value you&#39;ve specified yourself, via stubbing the method.\r\n\r\nThis includes the `getPrice` method in your example.  It&#39;s been replaced by a method that does nothing and returns `0.0`.  \r\n\r\nIn Mockito, methods whose return types are \r\n\r\n- primitive types, like `double`, `int` and so on, \r\n- wrapper types, like `Double`, `Integer` and so on,\r\n\r\nwill return the appropriate kind of zero/false, if you haven&#39;t stubbed them to do otherwise.","title":"Mockito not using value in constructor when getter called?","body":"<p>This is precisely what's supposed to happen.</p>\n<p>A mock is an object where all the methods (with some documented exceptions) have been replaced EITHER</p>\n<ul>\n<li>by a method that does nothing, and returns either null, zero, false or empty, depending on the method's return type; OR</li>\n<li>by a method whose behaviour and return value you've specified yourself, via stubbing the method.</li>\n</ul>\n<p>This includes the <code>getPrice</code> method in your example.  It's been replaced by a method that does nothing and returns <code>0.0</code>.</p>\n<p>In Mockito, methods whose return types are</p>\n<ul>\n<li>primitive types, like <code>double</code>, <code>int</code> and so on,</li>\n<li>wrapper types, like <code>Double</code>, <code>Integer</code> and so on,</li>\n</ul>\n<p>will return the appropriate kind of zero/false, if you haven't stubbed them to do otherwise.</p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75405475,"answer_count":1,"score":0,"last_activity_date":1675984797,"creation_date":1675984486,"question_id":75405435,"body_markdown":"I have the following Pojo:\r\n\r\n    public class Football extends Item {\r\n        public Football(Colour colour, Double price ) {\r\n            super(colour, 18.99);\r\n        }\r\n    \r\n        public Double getPrice() {\r\n            return price;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI thought that when I created my mock in unit test as such:\r\n\r\n    @Mock\r\n    Football football;\r\n\r\n    @BeforeEach\r\n    private void initMocks() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\nWhen I call the method `getPrice()` on my football mock - I should get `18.99` back as the price is hardcoded in the constructor params. However I do not.\r\n\r\nWhy is this the case?\r\n","title":"Mockito not using value in constructor when getter called?","body":"<p>I have the following Pojo:</p>\n<pre><code>public class Football extends Item {\n    public Football(Colour colour, Double price ) {\n        super(colour, 18.99);\n    }\n\n    public Double getPrice() {\n        return price;\n    }\n\n}\n</code></pre>\n<p>I thought that when I created my mock in unit test as such:</p>\n<pre><code>@Mock\nFootball football;\n\n@BeforeEach\nprivate void initMocks() {\n    MockitoAnnotations.openMocks(this);\n}\n</code></pre>\n<p>When I call the method <code>getPrice()</code> on my football mock - I should get <code>18.99</code> back as the price is hardcoded in the constructor params. However I do not.</p>\n<p>Why is this the case?</p>\n"},{"tags":["java","selenium-webdriver","xpath"],"answers":[{"tags":[],"owner":{"account_id":76845,"reputation":2110,"user_id":219710,"display_name":"Jonathan Fuerth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675984062,"creation_date":1675984062,"answer_id":75405397,"question_id":73608285,"body_markdown":"I encountered this issue for the first time today. In my case, the issue was that the WebDriver was focused on an iframe&gt; that had just loaded a new page. Apparently this affected the &quot;uniqueContextId&quot; in the v8 inspector.\r\n\r\nThe issue was 100% reproducible for me when running locally and not in headless mode, but tended to work fine when run headless on our CI server.\r\n\r\n[Following the suggestion in this answer](https://stackoverflow.com/a/75385830/219710), I was able to solve the issue by slowing down the test when the InvalidArgumentException happens:\r\n\r\n```java\r\nprivate static void tolerateWebDriverSyncIssue(Runnable reRunnableTask) {\r\n    InvalidArgumentException failures = null;\r\n    for (int attempt = 1; attempt &lt;= 2; attempt++) {\r\n        try {\r\n            reRunnableTask.run();\r\n            return;\r\n        } catch (InvalidArgumentException e) {\r\n            if (failures == null) {\r\n                failures = e;\r\n            } else {\r\n                failures.addSuppressed(e);\r\n            }\r\n\r\n            // give Chrome time to catch up before retry\r\n            try {\r\n                Thread.sleep(500);\r\n            } catch (InterruptedException ex) {\r\n                Thread.currentThread().interrupt();\r\n                throw new RuntimeException(ex);\r\n            }\r\n        }\r\n    }\r\n    throw failures;\r\n}\r\n```\r\n\r\nI wrapped my failing lookup via `tolerateWebDriverSyncIssue(() -&gt; webDriver.findElement(By ...))` and it now succeeds on the second try.","title":"Has anyone encountered and resolved - org.openqa.selenium.InvalidArgumentException: invalid argument: uniqueContextId not found","body":"<p>I encountered this issue for the first time today. In my case, the issue was that the WebDriver was focused on an iframe&gt; that had just loaded a new page. Apparently this affected the &quot;uniqueContextId&quot; in the v8 inspector.</p>\n<p>The issue was 100% reproducible for me when running locally and not in headless mode, but tended to work fine when run headless on our CI server.</p>\n<p><a href=\"https://stackoverflow.com/a/75385830/219710\">Following the suggestion in this answer</a>, I was able to solve the issue by slowing down the test when the InvalidArgumentException happens:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void tolerateWebDriverSyncIssue(Runnable reRunnableTask) {\n    InvalidArgumentException failures = null;\n    for (int attempt = 1; attempt &lt;= 2; attempt++) {\n        try {\n            reRunnableTask.run();\n            return;\n        } catch (InvalidArgumentException e) {\n            if (failures == null) {\n                failures = e;\n            } else {\n                failures.addSuppressed(e);\n            }\n\n            // give Chrome time to catch up before retry\n            try {\n                Thread.sleep(500);\n            } catch (InterruptedException ex) {\n                Thread.currentThread().interrupt();\n                throw new RuntimeException(ex);\n            }\n        }\n    }\n    throw failures;\n}\n</code></pre>\n<p>I wrapped my failing lookup via <code>tolerateWebDriverSyncIssue(() -&gt; webDriver.findElement(By ...))</code> and it now succeeds on the second try.</p>\n"}],"owner":{"account_id":5440482,"reputation":21,"user_id":4328695,"display_name":"Sanket"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675984062,"creation_date":1662375473,"question_id":73608285,"body_markdown":"I am getting following error during test execution:\r\n\r\n&gt; org.openqa.selenium.InvalidArgumentException: invalid argument: uniqueContextId not found\r\n\r\nThe script is trying to find following element \r\n\r\n    //html[contains(@class,&#39;act&#39;)]/body[contains(@class, &#39;pace-done&#39;) and contains(@class, &#39;SKINNED&#39;)]\r\n\r\nwhen this error is encountered.  \r\nThe Xpath is to find an element with class &quot;SKINNED pace-done&quot;, but it is split because the classname may have leading, tailing or in between spaces.  \r\nHas anyone encountered &quot;uniqueContextId not found&quot; issue?\r\n","title":"Has anyone encountered and resolved - org.openqa.selenium.InvalidArgumentException: invalid argument: uniqueContextId not found","body":"<p>I am getting following error during test execution:</p>\n<blockquote>\n<p>org.openqa.selenium.InvalidArgumentException: invalid argument: uniqueContextId not found</p>\n</blockquote>\n<p>The script is trying to find following element</p>\n<pre><code>//html[contains(@class,'act')]/body[contains(@class, 'pace-done') and contains(@class, 'SKINNED')]\n</code></pre>\n<p>when this error is encountered.<br />\nThe Xpath is to find an element with class &quot;SKINNED pace-done&quot;, but it is split because the classname may have leading, tailing or in between spaces.<br />\nHas anyone encountered &quot;uniqueContextId not found&quot; issue?</p>\n"},{"tags":["java","spring-boot","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":10066191,"reputation":1108,"user_id":7441319,"display_name":"Alkis Mavridis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675983204,"creation_date":1675983204,"answer_id":75405288,"question_id":75405222,"body_markdown":"This is decided by the &quot;profiles&quot; variable. This is a `Set&lt;String&gt;`.\r\n\r\nThe exact way spring detect the profiles depends on the way you run your application.\r\n\r\nThe most common way is through the System Parameter: `-Dspring.profiles.active=dev`. So I assume somwhere in your production enviroment this variable gets set.\r\n\r\nAlternativelly, if you run your spring app via a builder, you can define the profiles explicitly (code is in kotlin):\r\n\r\n```\r\nSpringApplicationBuilder(MyApp::class.java)\r\n    .profiles(*profiles)\r\n    .run(*args)\r\n```\r\n\r\nCheck this article for more info: https://www.baeldung.com/spring-profiles","title":"How does spring boot know which property file to use based on environment","body":"<p>This is decided by the &quot;profiles&quot; variable. This is a <code>Set&lt;String&gt;</code>.</p>\n<p>The exact way spring detect the profiles depends on the way you run your application.</p>\n<p>The most common way is through the System Parameter: <code>-Dspring.profiles.active=dev</code>. So I assume somwhere in your production enviroment this variable gets set.</p>\n<p>Alternativelly, if you run your spring app via a builder, you can define the profiles explicitly (code is in kotlin):</p>\n<pre><code>SpringApplicationBuilder(MyApp::class.java)\n    .profiles(*profiles)\n    .run(*args)\n</code></pre>\n<p>Check this article for more info: <a href=\"https://www.baeldung.com/spring-profiles\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-profiles</a></p>\n"}],"owner":{"account_id":18067214,"reputation":51,"user_id":13132740,"display_name":"Abhishikth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675983921,"creation_date":1675982690,"question_id":75405222,"body_markdown":"I have 4 files in my project:\r\n\r\n - application.properties\r\n - application-dev.properties\r\n - application-qa.properties\r\n - application-prod.properties\r\n\r\napplication.properties has a property spring.profiles.active = @active.profile@\r\n\r\nWhen running on local, it uses application-dev.properties file. But in UAT and Prod, it uses respective property files. My question is how does spring boot know to use dev when im running in local and and qa in uat and prod in prod?\r\n\r\nWhat does @active.profile@ mean? ","title":"How does spring boot know which property file to use based on environment","body":"<p>I have 4 files in my project:</p>\n<ul>\n<li>application.properties</li>\n<li>application-dev.properties</li>\n<li>application-qa.properties</li>\n<li>application-prod.properties</li>\n</ul>\n<p>application.properties has a property spring.profiles.active = @active.profile@</p>\n<p>When running on local, it uses application-dev.properties file. But in UAT and Prod, it uses respective property files. My question is how does spring boot know to use dev when im running in local and and qa in uat and prod in prod?</p>\n<p>What does @active.profile@ mean?</p>\n"},{"tags":["java","reactjs","file","upload","field"],"answers":[{"tags":[],"owner":{"account_id":10651511,"reputation":51,"user_id":7842276,"display_name":"Pat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675983737,"creation_date":1675983737,"answer_id":75405354,"question_id":75394298,"body_markdown":"I found the problem!\r\n\r\nI had to do 2 things:\r\n\r\n1. Omit the content-type header.\r\n2. Stringify all the additional parameters.\r\n\r\nIt works now!","title":"How do I send additional form fields along with a file upload using the FormData object to a Java API using React fetch?","body":"<p>I found the problem!</p>\n<p>I had to do 2 things:</p>\n<ol>\n<li>Omit the content-type header.</li>\n<li>Stringify all the additional parameters.</li>\n</ol>\n<p>It works now!</p>\n"}],"owner":{"account_id":10651511,"reputation":51,"user_id":7842276,"display_name":"Pat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75405354,"answer_count":1,"score":0,"last_activity_date":1675983737,"creation_date":1675917908,"question_id":75394298,"body_markdown":"My api is not detecting any of the RequestParams. However it works fine with Postman, just not when being called from React. I&#39;ve also verified that the formData is being loaded correctly via console.log statements:\r\n\r\nformData = file,[object File],uploadId,173,uploadTypeId,1,dateEntered,1625025600000,description,Fourth Addendum testing,enteredBy,769\r\n\r\nDoes the formData object need to be stringified or something?\r\n\r\nCan someone tell me what I&#39;m doing wrong? I&#39;m getting the following error:\r\n\r\nRequired request parameter &#39;uploadId&#39; for method parameter type Long is not present\r\n\r\nHere is my React snippet:\r\n\r\n    let formData = new FormData();\r\n    formData.append(&quot;file&quot;, file);\r\n\r\n    formData.append(&quot;uploadId&quot;,uploadId);\r\n    formData.append(&quot;uploadTypeId&quot;,uploadTypeId);\r\n    formData.append(&quot;dateEntered&quot;,dateEntered);\r\n    formData.append(&quot;description&quot;,description);\r\n    formData.append(&quot;enteredBy&quot;,enteredBy);\r\n\r\n    let myHeaders = new Headers();\r\n    myHeaders.append(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=XXX&quot;);\r\n    myHeaders.append(&quot;type&quot;, &quot;formData&quot;);\r\n\tconst serverName = &quot;http://localhost:8080/MyApp/api/uploads/update/;\r\n\tmyHeaders.append(&quot;Access-Control-Allow-Credentials&quot;, &#39;true&#39;);\r\n\tmyHeaders.append(&quot;Access-Control-Allow-Origin&quot;, &#39;*&#39;);\r\n\r\n    const jwt = sessionStorage.getItem(&quot;jwt&quot;);\r\n\t//console.log(&quot;fetch jwt = &quot;, jwt) ;\r\n\tlet headerJwt = &quot;Bearer &quot; + jwt;\r\n    if (jwt != null) {\r\n\t\tmyHeaders.append(&quot;Authorization&quot;, headerJwt);\r\n    }\r\n\r\n\r\n\t//console.log(&quot;headers = &quot;, Object.fromEntries(myHeaders));\r\n\r\n    let myInit = {method: &quot;PUT&quot;\r\n                ,headers: myHeaders\r\n    };\r\n\r\n    let url = serverName + endpoint;\r\n\r\n\t//console.log(&quot;data = &quot; + data);\r\n\t\r\n    if (data)\r\n        myInit.body = data;\r\n\r\n    let returnFetch = fetch(url, myInit);\r\n\r\n\r\nHere is my Java api snippet:\r\n\r\n\t@PutMapping(value = &quot;/update&quot;, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\tpublic ResponseEntity&lt;Upload&gt; update(\r\n\t\t\t@RequestParam(&quot;uploadId&quot;) Long uploadId,\r\n\t\t\t@RequestParam(&quot;uploadTypeId&quot;) Long uploadTypeId,\r\n\t\t\t@RequestParam(&quot;dateEntered&quot;) Date dateEntered,\r\n\t\t\t@RequestParam(&quot;description&quot;) String description,\r\n\t\t\t@RequestParam(&quot;enteredBy&quot;) Long enteredBy,\r\n\t\t\t@RequestPart(value = &quot;file&quot;) MultipartFile file)\r\n\t\t\tthrows JsonParseException, JsonMappingException, IOException\r\n\t\t\t\t\t,SerialException, SQLException, DataAccessException\r\n\t{\r\n\t\tUpload upload = new Upload();\r\n\t\tupload.setUploadId(uploadId);\r\n\t\tupload.setUploadTypeId(uploadTypeId);\r\n\t\tupload.setDateEntered(dateEntered);\r\n\t\tupload.setDescription(description);\r\n\t\tupload.setEnteredBy(enteredBy);\r\n\t\t\r\n        MultipartFile multipartFile = file;\r\n        \r\n\t    byte[] bytes = multipartFile.getBytes();\r\n\t    SerialBlob blob = new SerialBlob(bytes);\r\n\t    upload.setFileBlob(blob);\r\n\r\n\t\tString filename = multipartFile.getOriginalFilename();\r\n\t\tupload.setFilename(filename);\r\n\r\n\r\n\r\n\t\tlong recordsUpdated = this.myService.updateUpload(upload);\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;Upload&gt;(upload, HttpStatus.OK);\r\n\t}\r\n    \r\n\r\n\r\n\r\n\r\n\r\n","title":"How do I send additional form fields along with a file upload using the FormData object to a Java API using React fetch?","body":"<p>My api is not detecting any of the RequestParams. However it works fine with Postman, just not when being called from React. I've also verified that the formData is being loaded correctly via console.log statements:</p>\n<p>formData = file,[object File],uploadId,173,uploadTypeId,1,dateEntered,1625025600000,description,Fourth Addendum testing,enteredBy,769</p>\n<p>Does the formData object need to be stringified or something?</p>\n<p>Can someone tell me what I'm doing wrong? I'm getting the following error:</p>\n<p>Required request parameter 'uploadId' for method parameter type Long is not present</p>\n<p>Here is my React snippet:</p>\n<pre><code>let formData = new FormData();\nformData.append(&quot;file&quot;, file);\n\nformData.append(&quot;uploadId&quot;,uploadId);\nformData.append(&quot;uploadTypeId&quot;,uploadTypeId);\nformData.append(&quot;dateEntered&quot;,dateEntered);\nformData.append(&quot;description&quot;,description);\nformData.append(&quot;enteredBy&quot;,enteredBy);\n\nlet myHeaders = new Headers();\nmyHeaders.append(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=XXX&quot;);\nmyHeaders.append(&quot;type&quot;, &quot;formData&quot;);\nconst serverName = &quot;http://localhost:8080/MyApp/api/uploads/update/;\nmyHeaders.append(&quot;Access-Control-Allow-Credentials&quot;, 'true');\nmyHeaders.append(&quot;Access-Control-Allow-Origin&quot;, '*');\n\nconst jwt = sessionStorage.getItem(&quot;jwt&quot;);\n//console.log(&quot;fetch jwt = &quot;, jwt) ;\nlet headerJwt = &quot;Bearer &quot; + jwt;\nif (jwt != null) {\n    myHeaders.append(&quot;Authorization&quot;, headerJwt);\n}\n\n\n//console.log(&quot;headers = &quot;, Object.fromEntries(myHeaders));\n\nlet myInit = {method: &quot;PUT&quot;\n            ,headers: myHeaders\n};\n\nlet url = serverName + endpoint;\n\n//console.log(&quot;data = &quot; + data);\n\nif (data)\n    myInit.body = data;\n\nlet returnFetch = fetch(url, myInit);\n</code></pre>\n<p>Here is my Java api snippet:</p>\n<pre><code>@PutMapping(value = &quot;/update&quot;, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\npublic ResponseEntity&lt;Upload&gt; update(\n        @RequestParam(&quot;uploadId&quot;) Long uploadId,\n        @RequestParam(&quot;uploadTypeId&quot;) Long uploadTypeId,\n        @RequestParam(&quot;dateEntered&quot;) Date dateEntered,\n        @RequestParam(&quot;description&quot;) String description,\n        @RequestParam(&quot;enteredBy&quot;) Long enteredBy,\n        @RequestPart(value = &quot;file&quot;) MultipartFile file)\n        throws JsonParseException, JsonMappingException, IOException\n                ,SerialException, SQLException, DataAccessException\n{\n    Upload upload = new Upload();\n    upload.setUploadId(uploadId);\n    upload.setUploadTypeId(uploadTypeId);\n    upload.setDateEntered(dateEntered);\n    upload.setDescription(description);\n    upload.setEnteredBy(enteredBy);\n    \n    MultipartFile multipartFile = file;\n    \n    byte[] bytes = multipartFile.getBytes();\n    SerialBlob blob = new SerialBlob(bytes);\n    upload.setFileBlob(blob);\n\n    String filename = multipartFile.getOriginalFilename();\n    upload.setFilename(filename);\n\n\n\n    long recordsUpdated = this.myService.updateUpload(upload);\n    \n    return new ResponseEntity&lt;Upload&gt;(upload, HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1675975089,"post_id":75404143,"comment_id":133048980,"body_markdown":"Does this answer your question? [Convert JSON String to List of Java Objects](https://stackoverflow.com/questions/48237428/convert-json-string-to-list-of-java-objects)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48237428/convert-json-string-to-list-of-java-objects\">Convert JSON String to List of Java Objects</a>"},{"owner":{"account_id":22924479,"reputation":85,"user_id":17059795,"display_name":"Universe"},"score":0,"creation_date":1675975243,"post_id":75404143,"comment_id":133049038,"body_markdown":"not really because it doesnt tell me what Type i need to set and also im not sure but his values dont seem generic and the answers dont help aswell","body":"not really because it doesnt tell me what Type i need to set and also im not sure but his values dont seem generic and the answers dont help aswell"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":1,"creation_date":1675977085,"post_id":75404143,"comment_id":133049545,"body_markdown":"Try to use `Map`, something like this : `Map&lt;String, String&gt; data = new HashMap&lt;&gt;();` after filling it using `data.put()`, then you can try `String username = data.get(userId);`","body":"Try to use <code>Map</code>, something like this : <code>Map&lt;String, String&gt; data = new HashMap&lt;&gt;();</code> after filling it using <code>data.put()</code>, then you can try <code>String username = data.get(userId);</code>"},{"owner":{"account_id":22924479,"reputation":85,"user_id":17059795,"display_name":"Universe"},"score":0,"creation_date":1675983162,"post_id":75404143,"comment_id":133050867,"body_markdown":"Mouaad your a king. It worked. Thank you so much!!!!","body":"Mouaad your a king. It worked. Thank you so much!!!!"}],"answers":[{"tags":[],"owner":{"account_id":22924479,"reputation":85,"user_id":17059795,"display_name":"Universe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675983400,"creation_date":1675983400,"answer_id":75405313,"question_id":75404143,"body_markdown":"Mouaad from the comment helped me to solve this!\r\n\r\nWhat i did in the model of the api:\r\n\r\n    Map&lt;Integer, String&gt; username_map;\r\n    \r\n       public Map&lt;Integer, String&gt; getUsername_map() {\r\n           return username_map;\r\n       }\r\nAnd then in the code:\r\n\r\n      Map&lt;Integer, String&gt; username_map = response.body().getData().getUsername_map();\r\n        int uid = (any user id)\r\n        username_map.get(uid)","title":"So im trying to get the corresponeding value of the first generic value in java","body":"<p>Mouaad from the comment helped me to solve this!</p>\n<p>What i did in the model of the api:</p>\n<pre><code>Map&lt;Integer, String&gt; username_map;\n\n   public Map&lt;Integer, String&gt; getUsername_map() {\n       return username_map;\n   }\n</code></pre>\n<p>And then in the code:</p>\n<pre><code>  Map&lt;Integer, String&gt; username_map = response.body().getData().getUsername_map();\n    int uid = (any user id)\n    username_map.get(uid)\n</code></pre>\n"}],"owner":{"account_id":22924479,"reputation":85,"user_id":17059795,"display_name":"Universe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675983400,"creation_date":1675974791,"question_id":75404143,"body_markdown":"According to api docs:\r\n\r\n&gt; Object with key-value pairs where key is notif ID and value is\r\n&gt; username\r\n\r\n    &quot;username_map&quot;: {\r\n    \t\t\t&quot;5102731&quot;: &quot;cys&quot;,\r\n    \t\t\t&quot;142023&quot;: &quot;kam&quot;,\r\n    \t\t\t&quot;326403&quot;: &quot;Jif&quot;,\r\n    \t\t\t&quot;238109&quot;: &quot;asgs&quot;,\r\n    \t\t\t&quot;2441222&quot;: &quot;Okto&quot;,\r\n                ...\r\n    \t\t},\r\n\r\n(This is the reply of the api)\r\n\r\nIf i have the user id for example 142023 then how can i get the name &quot;kam&quot;?\r\n\r\nFirst i have to set the type ofcourse.\r\n\r\ni was thinking maybe it is:\r\n\r\n     ArrayList&lt;Pair&lt;Integer,String&gt;&gt; username_map;\r\n   \r\nthen in the code\r\n  \r\n    String username = username_map.getFirst(userIdInt)\r\n\r\nBut it didnt work.\r\n\r\nFor the correct type, how would i get the corresponding value?\r\n","title":"So im trying to get the corresponeding value of the first generic value in java","body":"<p>According to api docs:</p>\n<blockquote>\n<p>Object with key-value pairs where key is notif ID and value is\nusername</p>\n</blockquote>\n<pre><code>&quot;username_map&quot;: {\n            &quot;5102731&quot;: &quot;cys&quot;,\n            &quot;142023&quot;: &quot;kam&quot;,\n            &quot;326403&quot;: &quot;Jif&quot;,\n            &quot;238109&quot;: &quot;asgs&quot;,\n            &quot;2441222&quot;: &quot;Okto&quot;,\n            ...\n        },\n</code></pre>\n<p>(This is the reply of the api)</p>\n<p>If i have the user id for example 142023 then how can i get the name &quot;kam&quot;?</p>\n<p>First i have to set the type ofcourse.</p>\n<p>i was thinking maybe it is:</p>\n<pre><code> ArrayList&lt;Pair&lt;Integer,String&gt;&gt; username_map;\n</code></pre>\n<p>then in the code</p>\n<pre><code>String username = username_map.getFirst(userIdInt)\n</code></pre>\n<p>But it didnt work.</p>\n<p>For the correct type, how would i get the corresponding value?</p>\n"},{"tags":["python","java","logging","pyspark"],"answers":[{"tags":[],"owner":{"account_id":5579506,"reputation":23,"user_id":4421864,"display_name":"naninuneno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675983065,"creation_date":1675983065,"answer_id":75405264,"question_id":75405220,"body_markdown":"It seems like the logging level is not being set correctly for the logger &#39;Example Processor&#39;. In the PySpark code, you are trying to set the log level to log4jLogger.Level.INFO, but it&#39;s not taking effect.\r\n\r\nOne thing to check is to make sure that the log level is not being overridden elsewhere in your code. For example, if you have the following code in your script, it will set the log level for the root logger to log4jLogger.Level.WARN:\r\n\r\nlog4jLogger.LogManager.getRootLogger().setLevel(log4jLogger.Level.WARN)\r\n\r\nThis would explain why you&#39;re only seeing WARN, ERROR, and FATAL messages, even though you set the log level for the &#39;Example Processor&#39; logger to log4jLogger.Level.INFO.\r\n\r\nTo resolve the issue, you can either remove the line setting the log level for the root logger or set the log level for the root logger to a more verbose level, such as log4jLogger.Level.DEBUG.","title":"Why is PySpark logger not logging INFO statements?","body":"<p>It seems like the logging level is not being set correctly for the logger 'Example Processor'. In the PySpark code, you are trying to set the log level to log4jLogger.Level.INFO, but it's not taking effect.</p>\n<p>One thing to check is to make sure that the log level is not being overridden elsewhere in your code. For example, if you have the following code in your script, it will set the log level for the root logger to log4jLogger.Level.WARN:</p>\n<p>log4jLogger.LogManager.getRootLogger().setLevel(log4jLogger.Level.WARN)</p>\n<p>This would explain why you're only seeing WARN, ERROR, and FATAL messages, even though you set the log level for the 'Example Processor' logger to log4jLogger.Level.INFO.</p>\n<p>To resolve the issue, you can either remove the line setting the log level for the root logger or set the log level for the root logger to a more verbose level, such as log4jLogger.Level.DEBUG.</p>\n"}],"owner":{"account_id":6115827,"reputation":494,"user_id":4770906,"accept_rate":56,"display_name":"mikey8989"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675983065,"creation_date":1675982669,"question_id":75405220,"body_markdown":"In the PySpark code below, I am attempting to ensure INFO statements are logged. However, I am only seeing WARN, ERROR and FATAL messages. How do I update the logger `(&#39;Example Processor&#39;)` to have a log level of INFO, and log everything out? \r\n\r\nNote: DEBUG logging works, and logs everything for DEBUG, INFO, WARN, ERROR, and FATAL. Thanks!\r\n\r\n        self.spark = SparkSession.builder \\\r\n            .master(&quot;local[1]&quot;) \\\r\n            .appName(&quot;DemoProcessor&quot;) \\\r\n            .getOrCreate()\r\n        \r\n\r\n        log4jLogger = self.spark.sparkContext._jvm.org.apache.log4j\r\n        self.log = log4jLogger.LogManager.getLogger(&#39;Example Processor&#39;)\r\n\r\n        self.log.setLevel(log4jLogger.Level.INFO)\r\n        # self.log.setLevel(log4jLogger.Level.DEBUG)\r\n        self.log.trace(&quot;Trace Message!&quot;)\r\n        self.log.debug(&quot;Debug Message!&quot;)\r\n        self.log.info(&quot;Info Message!&quot;)\r\n        self.log.warn(&quot;Warn Message!&quot;)\r\n        self.log.error(&quot;Error Message!&quot;)\r\n        self.log.fatal(&quot;Fatal Message!&quot;)\r\n\r\nINFO level Log: \r\n```\r\nSetting default log level to &quot;WARN&quot;.\r\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\r\n23/02/09 17:22:44 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/02/09 17:22:44 WARN Example Processor: Warn Message!\r\n23/02/09 17:22:44 ERROR Example Processor: Error Message!\r\n23/02/09 17:22:44 FATAL Example Processor: Fatal Message!\r\n```\r\n\r\nDEBUG level log:\r\n```\r\nSetting default log level to &quot;WARN&quot;.\r\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\r\n23/02/09 17:35:00 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/02/09 17:35:01 INFO Example Processor: Info Message!\r\n23/02/09 17:35:01 DEBUG Example Processor: Debug Message!\r\n23/02/09 17:35:01 WARN Example Processor: Warn Message!\r\n23/02/09 17:35:01 ERROR Example Processor: Error Message!\r\n23/02/09 17:35:01 FATAL Example Processor: Fatal Message!\r\n```","title":"Why is PySpark logger not logging INFO statements?","body":"<p>In the PySpark code below, I am attempting to ensure INFO statements are logged. However, I am only seeing WARN, ERROR and FATAL messages. How do I update the logger <code>('Example Processor')</code> to have a log level of INFO, and log everything out?</p>\n<p>Note: DEBUG logging works, and logs everything for DEBUG, INFO, WARN, ERROR, and FATAL. Thanks!</p>\n<pre><code>    self.spark = SparkSession.builder \\\n        .master(&quot;local[1]&quot;) \\\n        .appName(&quot;DemoProcessor&quot;) \\\n        .getOrCreate()\n    \n\n    log4jLogger = self.spark.sparkContext._jvm.org.apache.log4j\n    self.log = log4jLogger.LogManager.getLogger('Example Processor')\n\n    self.log.setLevel(log4jLogger.Level.INFO)\n    # self.log.setLevel(log4jLogger.Level.DEBUG)\n    self.log.trace(&quot;Trace Message!&quot;)\n    self.log.debug(&quot;Debug Message!&quot;)\n    self.log.info(&quot;Info Message!&quot;)\n    self.log.warn(&quot;Warn Message!&quot;)\n    self.log.error(&quot;Error Message!&quot;)\n    self.log.fatal(&quot;Fatal Message!&quot;)\n</code></pre>\n<p>INFO level Log:</p>\n<pre><code>Setting default log level to &quot;WARN&quot;.\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\n23/02/09 17:22:44 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/02/09 17:22:44 WARN Example Processor: Warn Message!\n23/02/09 17:22:44 ERROR Example Processor: Error Message!\n23/02/09 17:22:44 FATAL Example Processor: Fatal Message!\n</code></pre>\n<p>DEBUG level log:</p>\n<pre><code>Setting default log level to &quot;WARN&quot;.\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\n23/02/09 17:35:00 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/02/09 17:35:01 INFO Example Processor: Info Message!\n23/02/09 17:35:01 DEBUG Example Processor: Debug Message!\n23/02/09 17:35:01 WARN Example Processor: Warn Message!\n23/02/09 17:35:01 ERROR Example Processor: Error Message!\n23/02/09 17:35:01 FATAL Example Processor: Fatal Message!\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":2796564,"reputation":301,"user_id":2405699,"accept_rate":33,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675983063,"creation_date":1675983063,"question_id":75405263,"body_markdown":"I&#39;m working on a file sync app similar to p2p, where files are mapped by BitSets. And trying to find most rare file pieces among peers to be sent first to the receiver.\r\n```\r\npackage asd;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.BitSet;\r\nimport java.util.Random;\r\n\r\npublic class ChoosePiece\r\n{\r\n\tstatic Random rand = new Random();\r\n\t\t\r\n\tpublic static BitSet rand_bit_set(int size)\r\n\t{\r\n\t\tint n_long = (size + 64 -1)/64;\t\t\r\n\t\tlong a[] = new long[n_long];\r\n\t\tfor (int i = 0; i &lt; a.length; i++) a[i] = rand.nextLong();\r\n\t\t\r\n\t\t// clear unused bits of the last long\r\n\t\tint m = size % 64;\r\n\t\ta[n_long-1] &lt;&lt;= (64-m);\r\n\t\ta[n_long-1] &gt;&gt;&gt;= (64-m);\r\n\t\t\r\n\t\treturn BitSet.valueOf(a);\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tint n_sets = 5;\r\n\t\tint size = 20;\r\n\t\t\r\n\t\tSystem.out.println(&quot;======== receiver map ==========================&quot;);\r\n\t\tBitSet reciever_map = rand_bit_set(size);\r\n\t\tprint(reciever_map, size);\r\n\t\t\r\n\t\tSystem.out.println(&quot;======== peers maps ============================&quot;);\r\n\t\tBitSet bs[] = new BitSet[n_sets];\r\n\t\tfor (int i = 0; i &lt; bs.length; i++) bs[i] = rand_bit_set(size);\r\n\t\tfor (int i = 0; i &lt; bs.length; i++) print(bs[i], size);\r\n\t\t\r\n\t\tIdxCnt cnt[] = new IdxCnt[size];\r\n\t\tfor (int i = 0; i &lt; cnt.length; i++) cnt[i] = new IdxCnt(i, 0);\r\n\t\t\r\n\t\tfor (int i = reciever_map.nextSetBit(0); i &gt;= 0; i = reciever_map.nextSetBit(i+1))\r\n\t\t{\r\n\t\t\tfor (int j = 0; j &lt; bs.length; j++)\r\n\t\t\t{\r\n\t\t\t\tif (reciever_map.get(i) &amp;&amp; bs[j].get(i)) cnt[i].cnt++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (i == Integer.MAX_VALUE) break; // or (i+1) would overflow\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;========== count ====================================&quot;);\r\n\t\tSystem.out.println(Arrays.toString(cnt));\r\n\t\tArrays.sort(cnt);\r\n\t\tSystem.out.println(Arrays.toString(cnt));\r\n\t}\r\n\t\r\n\tpublic static void print(BitSet bs, int size)\r\n\t{\r\n\t\tSystem.out.println(bs);\r\n\t\tStringBuffer b = new StringBuffer();\r\n\t\tfor (int i = 0; i &lt; size; i++)\r\n\t\t{\r\n\t\t\tchar c = bs.get(i) ? &#39;1&#39; : &#39;0&#39;;\r\n\t\t\tb.append(c);\r\n\t\t}\r\n\t\tSystem.out.println(b.toString());\r\n\t}\r\n\t\r\n\tpublic static class IdxCnt implements Comparable&lt;IdxCnt&gt;\r\n\t{\r\n\t\tpublic int idx;\r\n\t\tpublic int cnt;\r\n\t\tpublic IdxCnt(int idx, int cnt)\r\n\t\t{\r\n\t\t\tthis.idx = idx;\r\n\t\t\tthis.cnt = cnt;\r\n\t\t}\t\t\r\n\t\t@Override\r\n\t\tpublic String toString()\r\n\t\t{\r\n\t\t\treturn String.valueOf(cnt);\t\t\t\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic int compareTo(IdxCnt o)\r\n\t\t{\r\n\t\t\treturn -Integer.compare(cnt, o.cnt);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nThe above code basically counts the bits set, I wander if there is a better way to find most common/rate bits using logical operations over BitSet? Feel like there should be, could be wrong.\r\n ","title":"How to find most common/rare bits in a set of BitSets?","body":"<p>I'm working on a file sync app similar to p2p, where files are mapped by BitSets. And trying to find most rare file pieces among peers to be sent first to the receiver.</p>\n<pre><code>package asd;\n\nimport java.util.Arrays;\nimport java.util.BitSet;\nimport java.util.Random;\n\npublic class ChoosePiece\n{\n    static Random rand = new Random();\n        \n    public static BitSet rand_bit_set(int size)\n    {\n        int n_long = (size + 64 -1)/64;     \n        long a[] = new long[n_long];\n        for (int i = 0; i &lt; a.length; i++) a[i] = rand.nextLong();\n        \n        // clear unused bits of the last long\n        int m = size % 64;\n        a[n_long-1] &lt;&lt;= (64-m);\n        a[n_long-1] &gt;&gt;&gt;= (64-m);\n        \n        return BitSet.valueOf(a);       \n    }\n    \n    public static void main(String args[])\n    {\n        int n_sets = 5;\n        int size = 20;\n        \n        System.out.println(&quot;======== receiver map ==========================&quot;);\n        BitSet reciever_map = rand_bit_set(size);\n        print(reciever_map, size);\n        \n        System.out.println(&quot;======== peers maps ============================&quot;);\n        BitSet bs[] = new BitSet[n_sets];\n        for (int i = 0; i &lt; bs.length; i++) bs[i] = rand_bit_set(size);\n        for (int i = 0; i &lt; bs.length; i++) print(bs[i], size);\n        \n        IdxCnt cnt[] = new IdxCnt[size];\n        for (int i = 0; i &lt; cnt.length; i++) cnt[i] = new IdxCnt(i, 0);\n        \n        for (int i = reciever_map.nextSetBit(0); i &gt;= 0; i = reciever_map.nextSetBit(i+1))\n        {\n            for (int j = 0; j &lt; bs.length; j++)\n            {\n                if (reciever_map.get(i) &amp;&amp; bs[j].get(i)) cnt[i].cnt++;\n            }\n            \n            if (i == Integer.MAX_VALUE) break; // or (i+1) would overflow\n        }\n        \n        System.out.println(&quot;========== count ====================================&quot;);\n        System.out.println(Arrays.toString(cnt));\n        Arrays.sort(cnt);\n        System.out.println(Arrays.toString(cnt));\n    }\n    \n    public static void print(BitSet bs, int size)\n    {\n        System.out.println(bs);\n        StringBuffer b = new StringBuffer();\n        for (int i = 0; i &lt; size; i++)\n        {\n            char c = bs.get(i) ? '1' : '0';\n            b.append(c);\n        }\n        System.out.println(b.toString());\n    }\n    \n    public static class IdxCnt implements Comparable&lt;IdxCnt&gt;\n    {\n        public int idx;\n        public int cnt;\n        public IdxCnt(int idx, int cnt)\n        {\n            this.idx = idx;\n            this.cnt = cnt;\n        }       \n        @Override\n        public String toString()\n        {\n            return String.valueOf(cnt);         \n        }\n        @Override\n        public int compareTo(IdxCnt o)\n        {\n            return -Integer.compare(cnt, o.cnt);\n        }\n    }\n\n}\n\n</code></pre>\n<p>The above code basically counts the bits set, I wander if there is a better way to find most common/rate bits using logical operations over BitSet? Feel like there should be, could be wrong.</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1675983121,"post_id":75405172,"comment_id":133050861,"body_markdown":"The code in `getBestFare()` tries to find the ride price that is better than the first ride price (`getRidePrices()[num]` with `num` always being equal to 0 which result in `getRidePrices()[num]` being equal to 2.75). Since there is no better ride price (they are 2.75, 4.714... and 4.2333...) the condition of the `if` statement is never fulfilled and you end up at the last return statement (`return null;`)","body":"The code in <code>getBestFare()</code> tries to find the ride price that is better than the first ride price (<code>getRidePrices()[num]</code> with <code>num</code> always being equal to 0 which result in <code>getRidePrices()[num]</code> being equal to 2.75). Since there is no better ride price (they are 2.75, 4.714... and 4.2333...) the condition of the <code>if</code> statement is never fulfilled and you end up at the last return statement (<code>return null;</code>)"},{"owner":{"account_id":24002837,"reputation":1,"user_id":17987455,"display_name":"arturu007"},"score":0,"creation_date":1676318793,"post_id":75405172,"comment_id":133109839,"body_markdown":"Thank you Thomas for your reply. So I understand that I need to add more conditional &quot;if&quot; statements to getBestFare() to better sort this code.","body":"Thank you Thomas for your reply. So I understand that I need to add more conditional &quot;if&quot; statements to getBestFare() to better sort this code."}],"owner":{"account_id":24002837,"reputation":1,"user_id":17987455,"display_name":"arturu007"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675982255,"creation_date":1675982255,"question_id":75405172,"body_markdown":"I&#39;m trying to compile my first major program. Unfortunately in getBestFare() I get &quot;null&quot; coming out all the time. And it shouldn&#39;t! I&#39;m asking you guys for help what&#39;s wrong.\r\n\r\nI rebuilt the entire getBestFare() method but unfortunately it keeps coming up with &quot;null&quot;. The earlier code was a bit more messy. Now it&#39;s better, but it still doesn&#39;t work.\r\n\r\n\r\n```\r\npublic class TransitCalculator {\r\n    public int numberOfDays;\r\n    public int transCount;\r\n\r\n    public TransitCalculator(int numberOfDays, int transCount) {\r\n        if(numberOfDays &lt;= 30 &amp;&amp; numberOfDays &gt; 0 &amp;&amp; transCount &gt; 0){\r\n        this.numberOfDays = numberOfDays;\r\n        this.transCount = transCount;\r\n        } else {\r\n            System.out.println(&quot;Invalid data.&quot;);\r\n        }\r\n    }\r\n\r\n    String[] length = {&quot;Pay-per-ride&quot;, &quot;7-day&quot;, &quot;30-day&quot;};\r\n    double[] cost = {2.75, 33.00, 127.00};\r\n\r\n    public double unlimited7Price(){\r\n        int weekCount = numberOfDays/7;\r\n        if (numberOfDays%7&gt;0){\r\n            weekCount+=1;\r\n        }\r\n        double weeksCost = weekCount * cost[1];\r\n        return weeksCost;\r\n    }\r\n\r\n    public double[] getRidePrices(){\r\n        double price1 = cost[0];\r\n        double price2 = ((cost[1]*unlimited7Price()) / (unlimited7Price() * 7));\r\n        double price3 = cost[2] / numberOfDays;\r\n\r\n        double[] getRide = {price1, price2, price3};\r\n        return getRide;\r\n    }\r\n\r\n    public String getBestFare(){\r\n        int num = 0;\r\n        for (int i = 0; i &lt; getRidePrices().length; i++) {\r\n            if(getRidePrices()[i] &lt; getRidePrices()[num]){\r\n                    return &quot;You should get the &quot; + length[num] + &quot; Unlimited option at &quot; + getRidePrices()[num]/transCount + &quot; per ride.&quot;;\r\n                }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n    public static void main(String[] args){\r\n        TransitCalculator one = new TransitCalculator(30, 30);\r\n\r\n        System.out.println(one.unlimited7Price());\r\n        System.out.println(one.getRidePrices()[2]);\r\n        System.out.println(one.getBestFare());\r\n\r\n    }\r\n}\r\n```\r\n","title":"Why does it display the value &quot;null&quot; if the conditions of the method are met?","body":"<p>I'm trying to compile my first major program. Unfortunately in getBestFare() I get &quot;null&quot; coming out all the time. And it shouldn't! I'm asking you guys for help what's wrong.</p>\n<p>I rebuilt the entire getBestFare() method but unfortunately it keeps coming up with &quot;null&quot;. The earlier code was a bit more messy. Now it's better, but it still doesn't work.</p>\n<pre><code>public class TransitCalculator {\n    public int numberOfDays;\n    public int transCount;\n\n    public TransitCalculator(int numberOfDays, int transCount) {\n        if(numberOfDays &lt;= 30 &amp;&amp; numberOfDays &gt; 0 &amp;&amp; transCount &gt; 0){\n        this.numberOfDays = numberOfDays;\n        this.transCount = transCount;\n        } else {\n            System.out.println(&quot;Invalid data.&quot;);\n        }\n    }\n\n    String[] length = {&quot;Pay-per-ride&quot;, &quot;7-day&quot;, &quot;30-day&quot;};\n    double[] cost = {2.75, 33.00, 127.00};\n\n    public double unlimited7Price(){\n        int weekCount = numberOfDays/7;\n        if (numberOfDays%7&gt;0){\n            weekCount+=1;\n        }\n        double weeksCost = weekCount * cost[1];\n        return weeksCost;\n    }\n\n    public double[] getRidePrices(){\n        double price1 = cost[0];\n        double price2 = ((cost[1]*unlimited7Price()) / (unlimited7Price() * 7));\n        double price3 = cost[2] / numberOfDays;\n\n        double[] getRide = {price1, price2, price3};\n        return getRide;\n    }\n\n    public String getBestFare(){\n        int num = 0;\n        for (int i = 0; i &lt; getRidePrices().length; i++) {\n            if(getRidePrices()[i] &lt; getRidePrices()[num]){\n                    return &quot;You should get the &quot; + length[num] + &quot; Unlimited option at &quot; + getRidePrices()[num]/transCount + &quot; per ride.&quot;;\n                }\n        }\n        return null;\n    }\n\n\n\n    public static void main(String[] args){\n        TransitCalculator one = new TransitCalculator(30, 30);\n\n        System.out.println(one.unlimited7Price());\n        System.out.println(one.getRidePrices()[2]);\n        System.out.println(one.getBestFare());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"score":0,"creation_date":1675978447,"post_id":75404564,"comment_id":133049900,"body_markdown":"yes but I want to understand the reason.","body":"yes but I want to understand the reason."},{"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"score":0,"creation_date":1677341824,"post_id":75404564,"comment_id":133320587,"body_markdown":"This is obviously because the Type of the value in the map is Integer and x is of Type Employee, so you need to call x.getId() to get the Integer ID.","body":"This is obviously because the Type of the value in the map is Integer and x is of Type Employee, so you need to call x.getId() to get the Integer ID."}],"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675977938,"creation_date":1675977938,"answer_id":75404564,"question_id":75404489,"body_markdown":"obviously this:\r\n\r\n    LinkedHashMap&lt;String, Integer&gt; collect = employees.stream().sorted(Comparator.comparing(Employee::getName).reversed()).collect(Collectors.toMap(Employee::getName, x-&gt; x, (oldValue, newValue) -&gt; old, LinkedHashMap::new));\r\n\r\nshould be\r\n\r\n    LinkedHashMap&lt;String, Integer&gt; collect = employees.stream().sorted(Comparator.comparing(Employee::getName).reversed()).collect(Collectors.toMap(Employee::getName, x-&gt; x.getId(), (oldValue, newValue) -&gt; old, LinkedHashMap::new));\r\n\r\nnote the `x-&gt; x.getId()` difference insead of `x-&gt; x`","title":"Collectors.toMap with method reference compiles but not with identity function lambda","body":"<p>obviously this:</p>\n<pre><code>LinkedHashMap&lt;String, Integer&gt; collect = employees.stream().sorted(Comparator.comparing(Employee::getName).reversed()).collect(Collectors.toMap(Employee::getName, x-&gt; x, (oldValue, newValue) -&gt; old, LinkedHashMap::new));\n</code></pre>\n<p>should be</p>\n<pre><code>LinkedHashMap&lt;String, Integer&gt; collect = employees.stream().sorted(Comparator.comparing(Employee::getName).reversed()).collect(Collectors.toMap(Employee::getName, x-&gt; x.getId(), (oldValue, newValue) -&gt; old, LinkedHashMap::new));\n</code></pre>\n<p>note the <code>x-&gt; x.getId()</code> difference insead of <code>x-&gt; x</code></p>\n"},{"tags":[],"owner":{"account_id":11556512,"reputation":509,"user_id":8467526,"display_name":"Saif Faidi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675979272,"creation_date":1675978894,"answer_id":75404702,"question_id":75404489,"body_markdown":"taking a look to the function definition of `Collection.toMap` from ***docs.oracle***:\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-\r\n\r\n`toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper, BinaryOperator&lt;U&gt; mergeFunction, Supplier&lt;M&gt; mapSupplier)`.\r\n\r\nSince you want to create a `LinkedHashMap&lt;String, Integer&gt;` than the `valueMapper` should provide an object of type `Integer` which is not the case in the first example `x-&gt;x` which is a lambda taking an `Employee` object and returns an `Employee` as well, whereas `Employee::getId` works fine since it returns an object of the correct type which is `Integer`  .","title":"Collectors.toMap with method reference compiles but not with identity function lambda","body":"<p>taking a look to the function definition of <code>Collection.toMap</code> from <em><strong>docs.oracle</strong></em>:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-java.util.function.Supplier-</a></p>\n<p><code>toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper, BinaryOperator&lt;U&gt; mergeFunction, Supplier&lt;M&gt; mapSupplier)</code>.</p>\n<p>Since you want to create a <code>LinkedHashMap&lt;String, Integer&gt;</code> than the <code>valueMapper</code> should provide an object of type <code>Integer</code> which is not the case in the first example <code>x-&gt;x</code> which is a lambda taking an <code>Employee</code> object and returns an <code>Employee</code> as well, whereas <code>Employee::getId</code> works fine since it returns an object of the correct type which is <code>Integer</code>  .</p>\n"},{"tags":[],"owner":{"account_id":1262922,"reputation":2194,"user_id":1220802,"display_name":"rph"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675979430,"creation_date":1675979093,"answer_id":75404728,"question_id":75404489,"body_markdown":"The first two arguments of the `Collectors.toMap` are a key mapper and a value mapper, respectively.\r\n\r\n`keyMapper = Employee::getName` is equivalent to `keyMapper = x -&gt; x.getName()` and means that the key of the resulting map will be the name attribute of the employee (String).\r\n\r\n`valueMapper = x -&gt; x` means that the value of the resulting map will be the employee itself. That would only be possible if the result was of type `LinkedHashMap&lt;String, Employee&gt;` instead of `LinkedHashMap&lt;String, Integer&gt;`, and that&#39;s why it fails.\r\n\r\n`valueMapper = Employee::getId` is equivalent to `valueMapper = x -&gt; x.getId()` and means that the value of the resulting map will be the id attribute of the employee (Integer). This is compatible with the result type `LinkedHashMap&lt;String, Integer&gt;`.\r\n\r\nThat said, both the below are correct depending on the intended outcome:\r\n\r\n```java\r\n// map from name to Employee\r\nLinkedHashMap&lt;String, Employee&gt; collect = employees.stream()\r\n        .sorted(Comparator.comparing(Employee::getName).reversed())\r\n        .collect(Collectors.toMap(x -&gt; x.getName(), x -&gt; x, (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\r\n\r\n// map from name to Employee Id\r\nLinkedHashMap&lt;String, Integer&gt; collect = employees.stream()\r\n        .sorted(Comparator.comparing(Employee::getName).reversed())\r\n        .collect(Collectors.toMap(Employee::getName, Employee::getId, (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\r\n```\r\n","title":"Collectors.toMap with method reference compiles but not with identity function lambda","body":"<p>The first two arguments of the <code>Collectors.toMap</code> are a key mapper and a value mapper, respectively.</p>\n<p><code>keyMapper = Employee::getName</code> is equivalent to <code>keyMapper = x -&gt; x.getName()</code> and means that the key of the resulting map will be the name attribute of the employee (String).</p>\n<p><code>valueMapper = x -&gt; x</code> means that the value of the resulting map will be the employee itself. That would only be possible if the result was of type <code>LinkedHashMap&lt;String, Employee&gt;</code> instead of <code>LinkedHashMap&lt;String, Integer&gt;</code>, and that's why it fails.</p>\n<p><code>valueMapper = Employee::getId</code> is equivalent to <code>valueMapper = x -&gt; x.getId()</code> and means that the value of the resulting map will be the id attribute of the employee (Integer). This is compatible with the result type <code>LinkedHashMap&lt;String, Integer&gt;</code>.</p>\n<p>That said, both the below are correct depending on the intended outcome:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// map from name to Employee\nLinkedHashMap&lt;String, Employee&gt; collect = employees.stream()\n        .sorted(Comparator.comparing(Employee::getName).reversed())\n        .collect(Collectors.toMap(x -&gt; x.getName(), x -&gt; x, (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n\n// map from name to Employee Id\nLinkedHashMap&lt;String, Integer&gt; collect = employees.stream()\n        .sorted(Comparator.comparing(Employee::getName).reversed())\n        .collect(Collectors.toMap(Employee::getName, Employee::getId, (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n</code></pre>\n"}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75404728,"answer_count":3,"score":0,"last_activity_date":1675981968,"creation_date":1675977445,"question_id":75404489,"body_markdown":"I have an `ArrayList` which I&#39;m trying to convert to a LinkedHashMap. The below statement gives me an error but another form works what is the difference\r\n\r\n    \r\nBelow give an error `Bad return type in lambda expression: U cannot be converted to Employee`\r\n\r\n    LinkedHashMap&lt;String, Integer&gt; collect = employees.stream().sorted(Comparator.comparing(Employee::getName).reversed()).collect(Collectors.toMap(Employee::getName, x-&gt; x, (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\r\n\r\n\r\nBelow work\r\n\r\n     LinkedHashMap&lt;String, Integer&gt; collect = employees.stream().sorted(Comparator.comparing(Employee::getName).reversed()).collect(Collectors.toMap(Employee::getName, Employee::getId, (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\r\n\r\n\r\n","title":"Collectors.toMap with method reference compiles but not with identity function lambda","body":"<p>I have an <code>ArrayList</code> which I'm trying to convert to a LinkedHashMap. The below statement gives me an error but another form works what is the difference</p>\n<p>Below give an error <code>Bad return type in lambda expression: U cannot be converted to Employee</code></p>\n<pre><code>LinkedHashMap&lt;String, Integer&gt; collect = employees.stream().sorted(Comparator.comparing(Employee::getName).reversed()).collect(Collectors.toMap(Employee::getName, x-&gt; x, (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n</code></pre>\n<p>Below work</p>\n<pre><code> LinkedHashMap&lt;String, Integer&gt; collect = employees.stream().sorted(Comparator.comparing(Employee::getName).reversed()).collect(Collectors.toMap(Employee::getName, Employee::getId, (oldValue, newValue) -&gt; oldValue, LinkedHashMap::new));\n</code></pre>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1676059117,"post_id":75404769,"comment_id":133068362,"body_markdown":"What do you mean you don&#39;t know how to modify it?","body":"What do you mean you don&#39;t know how to modify it?"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675979598,"creation_date":1675979598,"answer_id":75404811,"question_id":75404769,"body_markdown":"`PrintDigit` is only called when n is less than 10, so that happens only once...\r\n\r\nYou need to also call `PrintDigit` when you make the recursive call. So:\r\n\r\n```\r\n    public static void printOut(int n)\r\n    {\r\n        if (n &gt;= 10)\r\n        {\r\n            printOut(n / 10);\r\n        }\r\n        printDigit(n % 10);\r\n    }\r\n```\r\n","title":"Here is a recursive program that gives wrong output, please help me","body":"<p><code>PrintDigit</code> is only called when n is less than 10, so that happens only once...</p>\n<p>You need to also call <code>PrintDigit</code> when you make the recursive call. So:</p>\n<pre><code>    public static void printOut(int n)\n    {\n        if (n &gt;= 10)\n        {\n            printOut(n / 10);\n        }\n        printDigit(n % 10);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27562172,"reputation":1,"user_id":21035038,"display_name":"012_Amar_Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675980173,"creation_date":1675980173,"answer_id":75404901,"question_id":75404769,"body_markdown":"In each iteration, the number goes diving by 10\r\nfor your example 76234 &gt; 7623 &gt; 762 &gt; 76 &gt; 7 and now 7 is smaller than 10 so the recursive function called the print method and 7 gets printed.\r\n\r\nbelow is an example to fix the problem.\r\n\r\n    class Print\r\n    {\r\n        public static void printOut(int n)\r\n        {\r\n            if (n == 0) return ;\r\n            printOut(n / 10);\r\n            printDigit(n % 10);\r\n        }\r\n    \r\n        static void printDigit(int n)\r\n        {\r\n            System.out.print(n); //7\r\n        }\r\n    }","title":"Here is a recursive program that gives wrong output, please help me","body":"<p>In each iteration, the number goes diving by 10\nfor your example 76234 &gt; 7623 &gt; 762 &gt; 76 &gt; 7 and now 7 is smaller than 10 so the recursive function called the print method and 7 gets printed.</p>\n<p>below is an example to fix the problem.</p>\n<pre><code>class Print\n{\n    public static void printOut(int n)\n    {\n        if (n == 0) return ;\n        printOut(n / 10);\n        printDigit(n % 10);\n    }\n\n    static void printDigit(int n)\n    {\n        System.out.print(n); //7\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1196549"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675981015,"creation_date":1675981015,"answer_id":75405031,"question_id":75404769,"body_markdown":"You need to emit the digits from left to right (most significant to least significant).\r\n\r\nIt is easier to get the rightmost digit (this is `n % 10`) than the leftmost one (this is `n` divided by... some power of `10`). So the recursion will take this shape:\r\n\r\n    To print out a number:\r\n      if longer than one digit\r\n        recurse on the number without its rightmost digit\r\n      print out the rightmost digit\r\n\r\nand more precisely,\r\n\r\n    To print_number n:\r\n      if n &gt; 9\r\n        print_number n / 10\r\n      print_digit n % 10\r\n","title":"Here is a recursive program that gives wrong output, please help me","body":"<p>You need to emit the digits from left to right (most significant to least significant).</p>\n<p>It is easier to get the rightmost digit (this is <code>n % 10</code>) than the leftmost one (this is <code>n</code> divided by... some power of <code>10</code>). So the recursion will take this shape:</p>\n<pre><code>To print out a number:\n  if longer than one digit\n    recurse on the number without its rightmost digit\n  print out the rightmost digit\n</code></pre>\n<p>and more precisely,</p>\n<pre><code>To print_number n:\n  if n &gt; 9\n    print_number n / 10\n  print_digit n % 10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17419045,"reputation":98,"user_id":12624943,"display_name":"Ufuk Bakan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675981837,"creation_date":1675981837,"answer_id":75405118,"question_id":75404769,"body_markdown":"Your printDigit function is OK. Just dont wrap it with else block:\r\n```java\r\n    public static void printOut(int n)\r\n    {\r\n        if (n &gt;= 10)\r\n        {\r\n            printOut(n / 10);\r\n        }\r\n        printDigit(n % 10);\r\n    }\r\n```\r\nAnd also, I personally don&#39;t prefer to learn any programmin language from books cause they gets outdated and writers often suck at algorythms. And once they make a mistake there is no chance to republish a book but in Github there is issues, pull requests, comments, and code is editable also forkable.","title":"Here is a recursive program that gives wrong output, please help me","body":"<p>Your printDigit function is OK. Just dont wrap it with else block:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void printOut(int n)\n    {\n        if (n &gt;= 10)\n        {\n            printOut(n / 10);\n        }\n        printDigit(n % 10);\n    }\n</code></pre>\n<p>And also, I personally don't prefer to learn any programmin language from books cause they gets outdated and writers often suck at algorythms. And once they make a mistake there is no chance to republish a book but in Github there is issues, pull requests, comments, and code is editable also forkable.</p>\n"}],"owner":{"account_id":25723197,"reputation":1,"user_id":19479937,"display_name":"AProgrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676059105,"answer_count":4,"score":0,"last_activity_date":1675981837,"creation_date":1675979343,"question_id":75404769,"body_markdown":"I saw a program like this in a book:\r\n\r\nHere is a program: print out integers. Here you have a positive integer n and want to print it out. The name of the program is printOut(n). Suppose there is an existing routine that will only process a single number and output it to the terminal .The routine that prints a single digit is named printDigit.\r\n\r\nThe program requires the use of recursion.\r\n\r\nThe sample code given in the book is:\r\n\r\n```java\r\n    public static void printOut(int n)\r\n    {\r\n        if (n &gt;= 10)\r\n        {\r\n            printOut(n / 10);\r\n        }\r\n        else\r\n        {\r\n            printDigit(n % 10);\r\n        }\r\n    }\r\n```\r\n\r\nThe code of the routine `printDigit` is not given in the book. After thinking, I think the program should be like this:\r\n\r\n```java\r\npublic class PrintOutTest\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        Print.printOut(76234);\r\n    }\r\n}\r\n\r\nclass Print\r\n{\r\n    public static void printOut(int n)\r\n    {\r\n        if (n &gt;= 10)\r\n        {\r\n            printOut(n / 10);\r\n        }\r\n        else\r\n        {\r\n            printDigit(n % 10);\r\n        }\r\n    }\r\n\r\n    static void printDigit(int n)\r\n    {\r\n        System.out.print(n); //7\r\n    }\r\n}\r\n```\r\n\r\nBut when I run it, the terminal only outputs the number 7. \r\n\r\n\r\nI took a closer look and found that the printDigit method only entered once, which should be the problem. But I don’t know how to modify it. Please ask if you can help me. Thanks","title":"Here is a recursive program that gives wrong output, please help me","body":"<p>I saw a program like this in a book:</p>\n<p>Here is a program: print out integers. Here you have a positive integer n and want to print it out. The name of the program is printOut(n). Suppose there is an existing routine that will only process a single number and output it to the terminal .The routine that prints a single digit is named printDigit.</p>\n<p>The program requires the use of recursion.</p>\n<p>The sample code given in the book is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void printOut(int n)\n    {\n        if (n &gt;= 10)\n        {\n            printOut(n / 10);\n        }\n        else\n        {\n            printDigit(n % 10);\n        }\n    }\n</code></pre>\n<p>The code of the routine <code>printDigit</code> is not given in the book. After thinking, I think the program should be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrintOutTest\n{\n    public static void main(String[] args)\n    {\n        Print.printOut(76234);\n    }\n}\n\nclass Print\n{\n    public static void printOut(int n)\n    {\n        if (n &gt;= 10)\n        {\n            printOut(n / 10);\n        }\n        else\n        {\n            printDigit(n % 10);\n        }\n    }\n\n    static void printDigit(int n)\n    {\n        System.out.print(n); //7\n    }\n}\n</code></pre>\n<p>But when I run it, the terminal only outputs the number 7.</p>\n<p>I took a closer look and found that the printDigit method only entered once, which should be the problem. But I don’t know how to modify it. Please ask if you can help me. Thanks</p>\n"},{"tags":["java","spring","logging"],"answers":[{"tags":[],"owner":{"account_id":100219,"reputation":1642,"user_id":270277,"display_name":"Lucas de Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1304604382,"creation_date":1304604382,"answer_id":5899031,"question_id":5898911,"body_markdown":"If you&#39;re just willing to set the log level of spring transaction support, try adding the following logger to your log4j.xml :\r\n\r\n\t&lt;logger name=&quot;org.springframework.transaction&quot;&gt;\r\n\t        &lt;level value=&quot;DEBUG&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n","title":"Spring hibernate Transaction Logging","body":"<p>If you're just willing to set the log level of spring transaction support, try adding the following logger to your log4j.xml :</p>\n\n<pre><code>&lt;logger name=\"org.springframework.transaction\"&gt;\n        &lt;level value=\"DEBUG\" /&gt;\n&lt;/logger&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":354383,"reputation":879,"user_id":692692,"accept_rate":80,"display_name":"Vish"},"score":0,"creation_date":1304659163,"post_id":5899052,"comment_id":6799675,"body_markdown":"@Lucas thanks.. i have put mine log4j properties file above.can you suggest soem changes which can help me to log my j2ee application using Spring,hibernate","body":"@Lucas thanks.. i have put mine log4j properties file above.can you suggest soem changes which can help me to log my j2ee application using Spring,hibernate"},{"owner":{"account_id":354383,"reputation":879,"user_id":692692,"accept_rate":80,"display_name":"Vish"},"score":0,"creation_date":1304659732,"post_id":5899052,"comment_id":6799768,"body_markdown":"Do we need to some configuration for using log4j.category because this is not working in my application. :(","body":"Do we need to some configuration for using log4j.category because this is not working in my application. :("},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1304667098,"post_id":5899052,"comment_id":6801146,"body_markdown":"@Vish I copied that from the Spring docs but can&#39;t fin d it in the log4j docs. Changed to `logger` now","body":"@Vish I copied that from the Spring docs but can&#39;t fin d it in the log4j docs. Changed to <code>logger</code> now"},{"owner":{"account_id":20399,"reputation":4752,"user_id":48735,"accept_rate":77,"display_name":"Nick Spacek"},"score":0,"creation_date":1375373116,"post_id":5899052,"comment_id":26318420,"body_markdown":"Also, in Spring 3.1 at least, the namespace is org.springframework.transaction, no (s).","body":"Also, in Spring 3.1 at least, the namespace is org.springframework.transaction, no (s)."},{"owner":{"account_id":4446164,"reputation":671,"user_id":3619377,"display_name":"shwetap"},"score":0,"creation_date":1648017034,"post_id":5899052,"comment_id":126514056,"body_markdown":"is there any way to log the datasource or connection pool used by that transaction?","body":"is there any way to log the datasource or connection pool used by that transaction?"},{"owner":{"account_id":3564480,"reputation":1938,"user_id":2976424,"display_name":"Kumaresan Perumal"},"score":0,"creation_date":1696426261,"post_id":5899052,"comment_id":136151277,"body_markdown":"how to convert log4j to log4j2 version? log4j.logger.org.springframework.transaction=DEBUG. please help me with it","body":"how to convert log4j to log4j2 version? log4j.logger.org.springframework.transaction=DEBUG. please help me with it"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1375429530,"creation_date":1304604459,"answer_id":5899052,"question_id":5898911,"body_markdown":"There&#39;s [a section about Logging][1] in the Spring Reference.\r\n\r\nIt shows how to configure different logging frameworks, among them [log4j][2]\r\n\r\nIn your case the last line of the config would be:\r\n\r\n    log4j.logger.org.springframework.transaction=DEBUG\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/overview.html#d0e743\r\n  [2]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/overview.html#d0e826","title":"Spring hibernate Transaction Logging","body":"<p>There's <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/overview.html#d0e743\" rel=\"nofollow\">a section about Logging</a> in the Spring Reference.</p>\n\n<p>It shows how to configure different logging frameworks, among them <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/overview.html#d0e826\" rel=\"nofollow\">log4j</a></p>\n\n<p>In your case the last line of the config would be:</p>\n\n<pre><code>log4j.logger.org.springframework.transaction=DEBUG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675981406,"creation_date":1675981406,"answer_id":75405079,"question_id":5898911,"body_markdown":"For hibernate 4 and above you can use:\r\n\r\n    org.hibernate.engine.transaction.internal.TransactionImpl = DEBUB","title":"Spring hibernate Transaction Logging","body":"<p>For hibernate 4 and above you can use:</p>\n<pre><code>org.hibernate.engine.transaction.internal.TransactionImpl = DEBUB\n</code></pre>\n"}],"owner":{"account_id":354383,"reputation":879,"user_id":692692,"accept_rate":80,"display_name":"Vish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24661,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":5899052,"answer_count":3,"score":7,"last_activity_date":1675981406,"creation_date":1304603881,"question_id":5898911,"body_markdown":"how can we log spring Transaction mechanism. i am showing below example shown in [Spring Doc sec 10.5.2](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#tx-decl-explained).if i want to logging upto this level how to do that \r\n \r\ni am using Spring,Hibernate and Log4j.\r\n\r\n\r\n    &lt;!-- the Spring container is starting up... --&gt;\r\n    [AspectJInvocationContextExposingAdvisorAutoProxyCreator] - Creating implicit proxy\r\n    for bean &#39;fooService&#39; with 0 common interceptors and 1 specific interceptors\r\n    &lt;!-- the DefaultFooService is actually proxied --&gt;\r\n    [JdkDynamicAopProxy] - Creating JDK dynamic proxy for [x.y.service.DefaultFooService]\r\n    &lt;!-- ... the insertFoo(..) method is now being invoked on the proxy --&gt;\r\n    [TransactionInterceptor] - Getting transaction for x.y.service.FooService.insertFoo\r\n    &lt;!-- the transactional advice kicks in here... --&gt;\r\n    [DataSourceTransactionManager] - Creating new transaction with name    [x.y.service.FooService.insertFoo]\r\n    [DataSourceTransactionManager] - Acquired Connection\r\n    [org.apache.commons.dbcp.PoolableConnection@a53de4] for JDBC transaction\r\n    &lt;!-- the insertFoo(..) method from DefaultFooService throws an exception... --&gt;\r\n    [RuleBasedTransactionAttribute] - Applying rules to determine whether transaction should\r\n    rollback on java.lang.UnsupportedOperationException\r\n    [TransactionInterceptor] - Invoking rollback for transaction on x.y.service.FooService.insertFoo\r\n    due to throwable [java.lang.UnsupportedOperationException]\r\n\r\n    &lt;!-- and the transaction is rolled back (by default, RuntimeException instances cause rollback) --&gt;\r\n    [DataSourceTransactionManager] - Rolling back JDBC transaction on Connection\r\n    [org.apache.commons.dbcp.PoolableConnection@a53de4]\r\n    [DataSourceTransactionManager] - Releasing JDBC Connection after transaction\r\n    [DataSourceUtils] - Returning JDBC Connection to DataSource\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException\r\n    at x.y.service.DefaultFooService.insertFoo(DefaultFooService.java:14)\r\n    &lt;!-- AOP infrastructure stack trace elements removed for clarity --&gt;\r\n    at $Proxy0.insertFoo(Unknown Source)\r\n      \r\n\r\nLogging File..\r\n     \r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\r\n    log4j.rootLogger=info, stdout\r\n    log4j.category.org.springframework.transactions=DEBUG  ","title":"Spring hibernate Transaction Logging","body":"<p>how can we log spring Transaction mechanism. i am showing below example shown in <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#tx-decl-explained\">Spring Doc sec 10.5.2</a>.if i want to logging upto this level how to do that </p>\n\n<p>i am using Spring,Hibernate and Log4j.</p>\n\n<pre><code>&lt;!-- the Spring container is starting up... --&gt;\n[AspectJInvocationContextExposingAdvisorAutoProxyCreator] - Creating implicit proxy\nfor bean 'fooService' with 0 common interceptors and 1 specific interceptors\n&lt;!-- the DefaultFooService is actually proxied --&gt;\n[JdkDynamicAopProxy] - Creating JDK dynamic proxy for [x.y.service.DefaultFooService]\n&lt;!-- ... the insertFoo(..) method is now being invoked on the proxy --&gt;\n[TransactionInterceptor] - Getting transaction for x.y.service.FooService.insertFoo\n&lt;!-- the transactional advice kicks in here... --&gt;\n[DataSourceTransactionManager] - Creating new transaction with name    [x.y.service.FooService.insertFoo]\n[DataSourceTransactionManager] - Acquired Connection\n[org.apache.commons.dbcp.PoolableConnection@a53de4] for JDBC transaction\n&lt;!-- the insertFoo(..) method from DefaultFooService throws an exception... --&gt;\n[RuleBasedTransactionAttribute] - Applying rules to determine whether transaction should\nrollback on java.lang.UnsupportedOperationException\n[TransactionInterceptor] - Invoking rollback for transaction on x.y.service.FooService.insertFoo\ndue to throwable [java.lang.UnsupportedOperationException]\n\n&lt;!-- and the transaction is rolled back (by default, RuntimeException instances cause rollback) --&gt;\n[DataSourceTransactionManager] - Rolling back JDBC transaction on Connection\n[org.apache.commons.dbcp.PoolableConnection@a53de4]\n[DataSourceTransactionManager] - Releasing JDBC Connection after transaction\n[DataSourceUtils] - Returning JDBC Connection to DataSource\n\nException in thread \"main\" java.lang.UnsupportedOperationException\nat x.y.service.DefaultFooService.insertFoo(DefaultFooService.java:14)\n&lt;!-- AOP infrastructure stack trace elements removed for clarity --&gt;\nat $Proxy0.insertFoo(Unknown Source)\n</code></pre>\n\n<p>Logging File..</p>\n\n<pre><code>log4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\nlog4j.rootLogger=info, stdout\nlog4j.category.org.springframework.transactions=DEBUG  \n</code></pre>\n"},{"tags":["java","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":16393952,"reputation":31,"user_id":11842046,"display_name":"Dimos Koul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675981268,"creation_date":1675981268,"answer_id":75405058,"question_id":75404870,"body_markdown":"You can use a snapshot version in the dependencies, that&#39;s the definition of an &quot;under development&quot; module that keeps changing.The &quot;-SNAPSHOT&quot; suffix has to be added in the end of the original version and this is effectively working the same way as a hypothetical &quot;latest&quot; version.\r\n\r\n    dependencies {\r\n        compile group: &quot;groupId&quot;, name: &quot;artifactId&quot;, version: &quot;1.0-SNAPSHOT&quot;\r\n    }","title":"How to deploy and use latest version of maven project","body":"<p>You can use a snapshot version in the dependencies, that's the definition of an &quot;under development&quot; module that keeps changing.The &quot;-SNAPSHOT&quot; suffix has to be added in the end of the original version and this is effectively working the same way as a hypothetical &quot;latest&quot; version.</p>\n<pre><code>dependencies {\n    compile group: &quot;groupId&quot;, name: &quot;artifactId&quot;, version: &quot;1.0-SNAPSHOT&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":873703,"reputation":2551,"user_id":923988,"accept_rate":88,"display_name":"VictorGram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675981268,"creation_date":1675979987,"question_id":75404870,"body_markdown":"I have implemented a maven-java project ( say name : projA) and deployed it as jar.\r\n\r\nNow, I have multiple Gradle-java projects ( say projB and projC) and both are using projA as a dependency. And both projB and projC need to use same version of projA as dependency.\r\n\r\n**Problem is** :\r\n**projA is changing it&#39;s version frequently** (being under development). So, now it&#39;s **developer&#39;s overhead** to update the version **everywhere** ( like projB and projC and more) it&#39;s been used in as a dependency.\r\n\r\n**Question:**\r\nWas wondering if there is a way to declare a version as **latest** at the **projA ( in pom.xml)** and can be pulled in (**in gradle.build in projB and projC**) as :\r\n\r\n     implement &#39;&lt;group-id&gt;:projB:latest&#39; \r\nSo that developers do not have to track &quot;how many places&quot;, &quot;what version&quot; etc to be synchronised.\r\n","title":"How to deploy and use latest version of maven project","body":"<p>I have implemented a maven-java project ( say name : projA) and deployed it as jar.</p>\n<p>Now, I have multiple Gradle-java projects ( say projB and projC) and both are using projA as a dependency. And both projB and projC need to use same version of projA as dependency.</p>\n<p><strong>Problem is</strong> :\n<strong>projA is changing it's version frequently</strong> (being under development). So, now it's <strong>developer's overhead</strong> to update the version <strong>everywhere</strong> ( like projB and projC and more) it's been used in as a dependency.</p>\n<p><strong>Question:</strong>\nWas wondering if there is a way to declare a version as <strong>latest</strong> at the <strong>projA ( in pom.xml)</strong> and can be pulled in (<strong>in gradle.build in projB and projC</strong>) as :</p>\n<pre><code> implement '&lt;group-id&gt;:projB:latest' \n</code></pre>\n<p>So that developers do not have to track &quot;how many places&quot;, &quot;what version&quot; etc to be synchronised.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675981285,"post_id":75404856,"comment_id":133050569,"body_markdown":"Side recommendation: It would be best to separate all UI (user interface) code from the &quot;business logic&quot; code, meaning that your Theater class should have the private array fields plus methods that set, get and change the information, but should have no println statements (except perhaps temporary println statements for debugging), and should not use a Scanner. The UI code (println&#39;s and the Scanner) should be elsewhere, perhaps in the main method or perhaps in a driver class. This will help simplify your code and make it easier to debug and to enhance.","body":"Side recommendation: It would be best to separate all UI (user interface) code from the &quot;business logic&quot; code, meaning that your Theater class should have the private array fields plus methods that set, get and change the information, but should have no println statements (except perhaps temporary println statements for debugging), and should not use a Scanner. The UI code (println&#39;s and the Scanner) should be elsewhere, perhaps in the main method or perhaps in a driver class. This will help simplify your code and make it easier to debug and to enhance."}],"answers":[{"comments":[{"owner":{"account_id":22025566,"reputation":9,"user_id":16293629,"display_name":"Harry Webb"},"score":0,"creation_date":1675980676,"post_id":75404885,"comment_id":133050427,"body_markdown":"I tried that and the same problem still occurs not sure what&#39;s going on","body":"I tried that and the same problem still occurs not sure what&#39;s going on"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1675980859,"post_id":75404885,"comment_id":133050465,"body_markdown":"@HarryWebb: if you&#39;ve tried it and &quot;it&#39;s not working&quot;, then show this in your question. It&#39;s very hard to debug &quot;it&#39;s not working&quot; without code and detailed descriptions.","body":"@HarryWebb: if you&#39;ve tried it and &quot;it&#39;s not working&quot;, then show this in your question. It&#39;s very hard to debug &quot;it&#39;s not working&quot; without code and detailed descriptions."}],"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675980101,"creation_date":1675980101,"answer_id":75404885,"question_id":75404856,"body_markdown":"This prints out the seating from a *new theater object that you just created.*  Of course the seats are all empty.\r\n\r\n    public static void print_seating_area() {\r\n        Theatre myObjTheatre = new Theatre();\r\n\r\nTo fix this, you should really make `buyTicket()` and `printSeating()` non-static, so they operate on the Theater object directly.  Then call those methods from `main` on an object you create once.\r\n\r\n    public static void main(String[] args) {\r\n       Theatre myObjTheatre = new Theatre();\r\n       System.out.println(&quot;Welcome to the New Theatre&quot;);\r\n\r\n        while(true){\r\n            // etc.\r\n        \r\n        if(option == 1){\r\n            myObjTheatre.buy_ticket();\r\n        }\r\n        else if(option == 2){\r\n            myObjTheatre.print_seating_area();\r\n        }\r\n    }\r\n}   \r\n","title":"Updating arrays in Java","body":"<p>This prints out the seating from a <em>new theater object that you just created.</em>  Of course the seats are all empty.</p>\n<pre><code>public static void print_seating_area() {\n    Theatre myObjTheatre = new Theatre();\n</code></pre>\n<p>To fix this, you should really make <code>buyTicket()</code> and <code>printSeating()</code> non-static, so they operate on the Theater object directly.  Then call those methods from <code>main</code> on an object you create once.</p>\n<pre><code>public static void main(String[] args) {\n   Theatre myObjTheatre = new Theatre();\n   System.out.println(&quot;Welcome to the New Theatre&quot;);\n\n    while(true){\n        // etc.\n    \n    if(option == 1){\n        myObjTheatre.buy_ticket();\n    }\n    else if(option == 2){\n        myObjTheatre.print_seating_area();\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":22025566,"reputation":9,"user_id":16293629,"display_name":"Harry Webb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1676005500,"accepted_answer_id":75404885,"answer_count":1,"score":-3,"last_activity_date":1675980101,"creation_date":1675979881,"question_id":75404856,"body_markdown":"I am very new to Java and am getting lost! I am making a programme that checks the arrays to see what seats are available and if they are it will update them so they are no longer available.\r\n\r\nit is updating them but once I print out all of my arrays using a separate method it just prints the default set variable.\r\n\r\nI know my code may be a bit messy I am still new and would appreciate any help on how to get it working right.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Theatre {\r\n    \r\n    // creating the rows of seats\r\n\r\n    public int[] rowOne = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\r\n    public int[] rowTwo = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\r\n    public int[] rowThree = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\r\n\r\n    static void buy_ticket(){\r\n\r\n        //Allows you to use variables set in the class\r\n        Theatre myObjTheatre = new Theatre();\r\n\r\n        System.out.println(&quot;Please select a row (1-3):&quot;);\r\n        Scanner row = new Scanner(System.in);\r\n            int selectRow = row.nextInt();\r\n        \r\n        if(selectRow == 1){\r\n            System.out.println(&quot;You have selected row 1.&quot;);\r\n            System.out.println(&quot;Please select a seat (1-12):&quot;);\r\n            Scanner seat = new Scanner(System.in);\r\n            int selectSeat = seat.nextInt();\r\n            if(selectSeat &lt;= 12){\r\n                if(myObjTheatre.rowOne[selectSeat-1] == 0){\r\n                    System.out.println(&quot;You bought a ticket&quot;); \r\n                    myObjTheatre.rowOne[selectSeat-1] = 1;\r\n                    for(int i: myObjTheatre.rowOne){\r\n                        System.out.print(i);\r\n                    }\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Seat is occupied&quot;);\r\n                }\r\n            }\r\n            else if(selectSeat &gt;= 13){\r\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\r\n                }\r\n        }\r\n\r\n        else if(selectRow == 2){\r\n            System.out.println(&quot;You have selected row 2.&quot;);\r\n            System.out.println(&quot;Please select a seat (1-16):&quot;);\r\n            Scanner seat2 = new Scanner(System.in);\r\n            int selectSeat2 = seat2.nextInt();\r\n            if(selectSeat2 &lt;= 16){\r\n                if(myObjTheatre.rowTwo[selectSeat2-1] == 0){\r\n                    System.out.println(&quot;You bought a ticket&quot;); \r\n                    myObjTheatre.rowTwo[selectSeat2-1] = 1;\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Seat is occupied&quot;);\r\n                }\r\n            }\r\n            else if(selectSeat2 &gt;= 17){\r\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\r\n                }\r\n        }\r\n        else if(selectRow == 3){\r\n            System.out.println(&quot;You have selected row 3.&quot;);\r\n            System.out.println(&quot;Please select a seat (1-20):&quot;);\r\n            Scanner seat3 = new Scanner(System.in);\r\n            int selectSeat3 = seat3.nextInt();\r\n            if(selectSeat3 &lt;= 20){\r\n                if(myObjTheatre.rowThree[selectSeat3-1] == 0){\r\n                    System.out.println(&quot;You bought a ticket&quot;); \r\n                    myObjTheatre.rowThree[selectSeat3-1] = 1;\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Seat is occupied&quot;);\r\n                }\r\n            }\r\n            else if(selectSeat3 &gt;= 21){\r\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\r\n                }\r\n        }   \r\n    }\r\n    \r\n    public static void print_seating_area() {\r\n        Theatre myObjTheatre = new Theatre();\r\n        // prints the rows\r\n        for (int i = 0; i &lt; myObjTheatre.rowOne.length; i++) {\r\n            System.out.print(myObjTheatre.rowOne[i]);\r\n        }\r\n        System.out.println();\r\n        for (int i = 0; i &lt; myObjTheatre.rowTwo.length; i++) {\r\n            System.out.print(myObjTheatre.rowTwo[i]);\r\n\r\n        }\r\n        System.out.println();\r\n        for (int i = 0; i &lt; myObjTheatre.rowThree.length; i++) {\r\n            System.out.print(myObjTheatre.rowThree[i]);\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n       System.out.println(&quot;Welcome to the New Theatre&quot;);\r\n\r\n        while(true){\r\n        System.out.println();\r\n        System.out.println(&quot;------------------------------------&quot;);\r\n        System.out.println(&quot;Please select an option:&quot;);\r\n        System.out.println(&quot;    1) Buy a ticket&quot;);\r\n        System.out.println(&quot;    2) Print seating area&quot;);\r\n        System.out.println(&quot;    3) Cancel a ticket&quot;);\r\n        System.out.println(&quot;    4) List available seats&quot;);\r\n        System.out.println(&quot;    5) Save to file&quot;);\r\n        System.out.println(&quot;    6) Load from file&quot;);\r\n        System.out.println(&quot;    7) Print ticket information and total price&quot;);\r\n        System.out.println(&quot;    8) Sort tickets by price&quot;);\r\n        System.out.println(&quot;    0) Quit&quot;);\r\n        System.out.println(&quot;------------------------------------&quot;);\r\n        System.out.println(&quot;Enter option:&quot;);\r\n\r\n        //takes the user input to select an option\r\n        Scanner menuOption = new Scanner(System.in);\r\n        int option = menuOption.nextInt();\r\n\r\n        if(option == 1){\r\n            buy_ticket();\r\n        }\r\n        else if(option == 2){\r\n            print_seating_area();\r\n        }\r\n    }\r\n}   \r\n\r\n\r\n}\r\n```\r\n","title":"Updating arrays in Java","body":"<p>I am very new to Java and am getting lost! I am making a programme that checks the arrays to see what seats are available and if they are it will update them so they are no longer available.</p>\n<p>it is updating them but once I print out all of my arrays using a separate method it just prints the default set variable.</p>\n<p>I know my code may be a bit messy I am still new and would appreciate any help on how to get it working right.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Theatre {\n    \n    // creating the rows of seats\n\n    public int[] rowOne = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\n    public int[] rowTwo = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\n    public int[] rowThree = { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\n\n    static void buy_ticket(){\n\n        //Allows you to use variables set in the class\n        Theatre myObjTheatre = new Theatre();\n\n        System.out.println(&quot;Please select a row (1-3):&quot;);\n        Scanner row = new Scanner(System.in);\n            int selectRow = row.nextInt();\n        \n        if(selectRow == 1){\n            System.out.println(&quot;You have selected row 1.&quot;);\n            System.out.println(&quot;Please select a seat (1-12):&quot;);\n            Scanner seat = new Scanner(System.in);\n            int selectSeat = seat.nextInt();\n            if(selectSeat &lt;= 12){\n                if(myObjTheatre.rowOne[selectSeat-1] == 0){\n                    System.out.println(&quot;You bought a ticket&quot;); \n                    myObjTheatre.rowOne[selectSeat-1] = 1;\n                    for(int i: myObjTheatre.rowOne){\n                        System.out.print(i);\n                    }\n                }\n                else{\n                    System.out.println(&quot;Seat is occupied&quot;);\n                }\n            }\n            else if(selectSeat &gt;= 13){\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\n                }\n        }\n\n        else if(selectRow == 2){\n            System.out.println(&quot;You have selected row 2.&quot;);\n            System.out.println(&quot;Please select a seat (1-16):&quot;);\n            Scanner seat2 = new Scanner(System.in);\n            int selectSeat2 = seat2.nextInt();\n            if(selectSeat2 &lt;= 16){\n                if(myObjTheatre.rowTwo[selectSeat2-1] == 0){\n                    System.out.println(&quot;You bought a ticket&quot;); \n                    myObjTheatre.rowTwo[selectSeat2-1] = 1;\n                }\n                else{\n                    System.out.println(&quot;Seat is occupied&quot;);\n                }\n            }\n            else if(selectSeat2 &gt;= 17){\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\n                }\n        }\n        else if(selectRow == 3){\n            System.out.println(&quot;You have selected row 3.&quot;);\n            System.out.println(&quot;Please select a seat (1-20):&quot;);\n            Scanner seat3 = new Scanner(System.in);\n            int selectSeat3 = seat3.nextInt();\n            if(selectSeat3 &lt;= 20){\n                if(myObjTheatre.rowThree[selectSeat3-1] == 0){\n                    System.out.println(&quot;You bought a ticket&quot;); \n                    myObjTheatre.rowThree[selectSeat3-1] = 1;\n                }\n                else{\n                    System.out.println(&quot;Seat is occupied&quot;);\n                }\n            }\n            else if(selectSeat3 &gt;= 21){\n                    System.out.println(&quot;The chosen seat does not exist.&quot;);\n                }\n        }   \n    }\n    \n    public static void print_seating_area() {\n        Theatre myObjTheatre = new Theatre();\n        // prints the rows\n        for (int i = 0; i &lt; myObjTheatre.rowOne.length; i++) {\n            System.out.print(myObjTheatre.rowOne[i]);\n        }\n        System.out.println();\n        for (int i = 0; i &lt; myObjTheatre.rowTwo.length; i++) {\n            System.out.print(myObjTheatre.rowTwo[i]);\n\n        }\n        System.out.println();\n        for (int i = 0; i &lt; myObjTheatre.rowThree.length; i++) {\n            System.out.print(myObjTheatre.rowThree[i]);\n\n        }\n    }\n\n    public static void main(String[] args) {\n       System.out.println(&quot;Welcome to the New Theatre&quot;);\n\n        while(true){\n        System.out.println();\n        System.out.println(&quot;------------------------------------&quot;);\n        System.out.println(&quot;Please select an option:&quot;);\n        System.out.println(&quot;    1) Buy a ticket&quot;);\n        System.out.println(&quot;    2) Print seating area&quot;);\n        System.out.println(&quot;    3) Cancel a ticket&quot;);\n        System.out.println(&quot;    4) List available seats&quot;);\n        System.out.println(&quot;    5) Save to file&quot;);\n        System.out.println(&quot;    6) Load from file&quot;);\n        System.out.println(&quot;    7) Print ticket information and total price&quot;);\n        System.out.println(&quot;    8) Sort tickets by price&quot;);\n        System.out.println(&quot;    0) Quit&quot;);\n        System.out.println(&quot;------------------------------------&quot;);\n        System.out.println(&quot;Enter option:&quot;);\n\n        //takes the user input to select an option\n        Scanner menuOption = new Scanner(System.in);\n        int option = menuOption.nextInt();\n\n        if(option == 1){\n            buy_ticket();\n        }\n        else if(option == 2){\n            print_seating_area();\n        }\n    }\n}   \n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"owner":{"account_id":2449121,"reputation":195,"user_id":2135795,"display_name":"claudsan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675979298,"creation_date":1675392763,"question_id":75331027,"body_markdown":"I&#39;m experiencing this difficulty and I still don&#39;t understand what&#39;s happening, I have a scenario where an api uses a feing client to obtain a user&#39;s profile from an external service, until this moment everything was going well, but when I solved it add the fallback, spring starts to inject the SecurityContextHolder.getContext() always with a null value, and with that the interceptor cannot get the token of the user who made the primary call of the application.\r\n\r\n\r\n\r\n**appliction.properties**\r\n\r\n    application.authserver.url=http://localhost:8088/auth\r\n    feign.circuitbreaker.enabled=true\r\n\r\n**Interceptor Class**\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class FeingClientConfig {\r\n\r\n    @Value(&quot;${app.name}&quot;)\r\n    private String appName;\r\n\r\n    @Bean\r\n    public RequestInterceptor requestInterceptor() {\r\n        return new RequestInterceptor() {\r\n            @Override\r\n            public void apply(RequestTemplate template) {\r\n                if (SecurityContextHolder.getContext().getAuthentication() != null) {\r\n                    Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n                    if (principal instanceof Jwt) {\r\n                        var jwt = (Jwt) principal;\r\n                        log.info(&quot;-------------------- service integration -----------------&quot;);\r\n                        log.info(String.format(&quot; Endpoint: %s&quot;, template.method() + &quot; &quot; + template.feignTarget().url() + template.url()));\r\n                        log.info(String.format(&quot; User: %s&quot;, jwt.getClaim(&quot;user_name&quot;).toString()));\r\n                        log.info(String.format(&quot; Bearer token: %s&quot;, jwt.getTokenValue().substring(0, 30) + &quot;.....&quot;));\r\n                        log.info(&quot;----------------------------------------------------------&quot;);\r\n                        template.header(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, jwt.getTokenValue()));\r\n                        template.header(&quot;x-app-name&quot;, appName);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n    }\r\n\r\n**Client**\r\n\r\n    @FeignClient(url = &quot;${application.authserver.url}&quot;,  name = &quot;authClient&quot;,\r\n        fallbackFactory = AuthClientFallBackFactory.class)\r\n    public interface AuthClient {\r\n        @GetMapping(&quot;/user/profile&quot;)\r\n        public UserProfile getProfile();\r\n    }\r\n\r\n**Fallback**\r\n\r\n        @Slf4j\r\n        @Component\r\n        public class AuthClientFallBackFactory implements FallbackFactory&lt;AuthClient&gt; {\r\n            @Override\r\n            public AuthClient create(Throwable cause) {\r\n                return new AuthClient() {\r\n                    @Override\r\n                    public UserProfile getProfile() {\r\n                        log.error(&quot;*** Fallback: error on get profile.&quot;, cause);\r\n                        return new UserProfile();\r\n                    }\r\n                };\r\n            }\r\n        }\r\n\r\nIf the **feign.circuitbreaker.enabled** property was set to false, this ignores the use of the fallback, but the **SecurityContextHolder.getContext()** object is inject correctly\r\n\r\nWhat am I doing wrong?\r\n\r\nUsing in this project:\r\n- JDK 11\r\n- Spring Boot [2.4.2]\r\n\r\n","title":"Feing and SecurityContextHolder is null","body":"<p>I'm experiencing this difficulty and I still don't understand what's happening, I have a scenario where an api uses a feing client to obtain a user's profile from an external service, until this moment everything was going well, but when I solved it add the fallback, spring starts to inject the SecurityContextHolder.getContext() always with a null value, and with that the interceptor cannot get the token of the user who made the primary call of the application.</p>\n<p><strong>appliction.properties</strong></p>\n<pre><code>application.authserver.url=http://localhost:8088/auth\nfeign.circuitbreaker.enabled=true\n</code></pre>\n<p><strong>Interceptor Class</strong></p>\n<pre><code>@Component\n@Slf4j\npublic class FeingClientConfig {\n\n@Value(&quot;${app.name}&quot;)\nprivate String appName;\n\n@Bean\npublic RequestInterceptor requestInterceptor() {\n    return new RequestInterceptor() {\n        @Override\n        public void apply(RequestTemplate template) {\n            if (SecurityContextHolder.getContext().getAuthentication() != null) {\n                Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\n                if (principal instanceof Jwt) {\n                    var jwt = (Jwt) principal;\n                    log.info(&quot;-------------------- service integration -----------------&quot;);\n                    log.info(String.format(&quot; Endpoint: %s&quot;, template.method() + &quot; &quot; + template.feignTarget().url() + template.url()));\n                    log.info(String.format(&quot; User: %s&quot;, jwt.getClaim(&quot;user_name&quot;).toString()));\n                    log.info(String.format(&quot; Bearer token: %s&quot;, jwt.getTokenValue().substring(0, 30) + &quot;.....&quot;));\n                    log.info(&quot;----------------------------------------------------------&quot;);\n                    template.header(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, jwt.getTokenValue()));\n                    template.header(&quot;x-app-name&quot;, appName);\n                }\n            }\n        }\n    };\n}\n}\n</code></pre>\n<p><strong>Client</strong></p>\n<pre><code>@FeignClient(url = &quot;${application.authserver.url}&quot;,  name = &quot;authClient&quot;,\n    fallbackFactory = AuthClientFallBackFactory.class)\npublic interface AuthClient {\n    @GetMapping(&quot;/user/profile&quot;)\n    public UserProfile getProfile();\n}\n</code></pre>\n<p><strong>Fallback</strong></p>\n<pre><code>    @Slf4j\n    @Component\n    public class AuthClientFallBackFactory implements FallbackFactory&lt;AuthClient&gt; {\n        @Override\n        public AuthClient create(Throwable cause) {\n            return new AuthClient() {\n                @Override\n                public UserProfile getProfile() {\n                    log.error(&quot;*** Fallback: error on get profile.&quot;, cause);\n                    return new UserProfile();\n                }\n            };\n        }\n    }\n</code></pre>\n<p>If the <strong>feign.circuitbreaker.enabled</strong> property was set to false, this ignores the use of the fallback, but the <strong>SecurityContextHolder.getContext()</strong> object is inject correctly</p>\n<p>What am I doing wrong?</p>\n<p>Using in this project:</p>\n<ul>\n<li>JDK 11</li>\n<li>Spring Boot [2.4.2]</li>\n</ul>\n"},{"tags":["java","sudo","jsch"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1451738670,"post_id":34565936,"comment_id":56875667,"body_markdown":"Don&#39;t think this has anything to do with the Java program since the command seems to have run at the server.","body":"Don&#39;t think this has anything to do with the Java program since the command seems to have run at the server."}],"answers":[{"comments":[{"owner":{"account_id":3195874,"reputation":33,"user_id":2699067,"display_name":"user2699067"},"score":0,"creation_date":1451924038,"post_id":34566054,"comment_id":56935759,"body_markdown":"Hi Kervin,\nI tried channelEx.setPty(false).It is not working.\nsetPty is to set the pseudo terminal,without that sudo command won&#39;t work.I tried setting true and later false.But nothing happened.\n\nI also tried nohup.\ncmd=&quot;nohup sudo path/script.sh start&quot;\n it didn&#39;t work.","body":"Hi Kervin, I tried channelEx.setPty(false).It is not working. setPty is to set the pseudo terminal,without that sudo command won&#39;t work.I tried setting true and later false.But nothing happened.  I also tried nohup. cmd=&quot;nohup sudo path/script.sh start&quot;  it didn&#39;t work."},{"owner":{"account_id":3195874,"reputation":33,"user_id":2699067,"display_name":"user2699067"},"score":0,"creation_date":1451924358,"post_id":34566054,"comment_id":56935950,"body_markdown":"I used sys.out in setPty(true) and setPty(false);During the execution of the single sudo command the terminal got set and reset twice, which means the terminal is disconnecting before it the executes the command. I think this is the point where it is failing.","body":"I used sys.out in setPty(true) and setPty(false);During the execution of the single sudo command the terminal got set and reset twice, which means the terminal is disconnecting before it the executes the command. I think this is the point where it is failing."},{"owner":{"account_id":3195874,"reputation":33,"user_id":2699067,"display_name":"user2699067"},"score":0,"creation_date":1451924498,"post_id":34566054,"comment_id":56936031,"body_markdown":"Is there any way to wait until the sudo command execution completes before it terminates?\nPlease help!","body":"Is there any way to wait until the sudo command execution completes before it terminates? Please help!"},{"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"score":0,"creation_date":1451927556,"post_id":34566054,"comment_id":56937800,"body_markdown":"Try nohup your shell instead of sudo directly.  What error are you getting?  Did you also redirect stderr as the link suggests? E.g. **nohup bash -c &quot;sudo path/script.sh start 2&gt;&amp;1 &amp;&quot; &amp;&amp; sleep 4** as your command","body":"Try nohup your shell instead of sudo directly.  What error are you getting?  Did you also redirect stderr as the link suggests? E.g. <b>nohup bash -c &quot;sudo path/script.sh start 2&gt;&amp;1 &amp;&quot; &amp;&amp; sleep 4</b> as your command"},{"owner":{"account_id":3195874,"reputation":33,"user_id":2699067,"display_name":"user2699067"},"score":0,"creation_date":1451931866,"post_id":34566054,"comment_id":56940197,"body_markdown":"I tried as what you have given(I replaced &quot; with &#39; since cmd is a String variable).It shows this\n\n&quot; nohup: ignoring input and appending output to `nohup.out&#39; &quot;\n\nAlso service is not starting.","body":"I tried as what you have given(I replaced &quot; with &#39; since cmd is a String variable).It shows this  &quot; nohup: ignoring input and appending output to `nohup.out&#39; &quot;  Also service is not starting."},{"owner":{"account_id":3195874,"reputation":33,"user_id":2699067,"display_name":"user2699067"},"score":0,"creation_date":1451932804,"post_id":34566054,"comment_id":56940700,"body_markdown":"http://stackoverflow.com/questions/24646320/nohupignoring-input-and-appending-output-to-nohup-out-in-linux-centos\n\nI went through this link,here the thing is not about this exception but it should execute the sudo command completely without termination in the middle.\n\nI also printed the exit status code before this exception which was 0,means the command executed successfully,but still why it is not starting the actual process which supposed to  start by this command","body":"<a href=\"http://stackoverflow.com/questions/24646320/nohupignoring-input-and-appending-output-to-nohup-out-in-linux-centos\" title=\"nohupignoring input and appending output to nohup out in linux centos\">stackoverflow.com/questions/24646320/&hellip;</a>  I went through this link,here the thing is not about this exception but it should execute the sudo command completely without termination in the middle.  I also printed the exit status code before this exception which was 0,means the command executed successfully,but still why it is not starting the actual process which supposed to  start by this command"},{"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"score":0,"creation_date":1451998017,"post_id":34566054,"comment_id":56969073,"body_markdown":"This is most likely an issue with your script.  Also you shouldn&#39;t replace the double quotes.  Try escaping them with backslash.","body":"This is most likely an issue with your script.  Also you shouldn&#39;t replace the double quotes.  Try escaping them with backslash."},{"owner":{"account_id":3195874,"reputation":33,"user_id":2699067,"display_name":"user2699067"},"score":0,"creation_date":1452005460,"post_id":34566054,"comment_id":56974366,"body_markdown":"while executing the code I did grep for the process ID ,the service was running..and it was running till the java program execution stop.Once the Java Program is terminated the process has stopped.\nBut this won&#39;t happen in linux machine.Even if exit out from linux and login again the process will be running.","body":"while executing the code I did grep for the process ID ,the service was running..and it was running till the java program execution stop.Once the Java Program is terminated the process has stopped. But this won&#39;t happen in linux machine.Even if exit out from linux and login again the process will be running."},{"owner":{"account_id":3195874,"reputation":33,"user_id":2699067,"display_name":"user2699067"},"score":0,"creation_date":1452005965,"post_id":34566054,"comment_id":56974718,"body_markdown":"Hi Kervin, I tried escaping the double quotes still got the same output nohup: ignoring input and appending output to `nohup.out&#39;. Moreover I did grep during execution of Java program for the process but for the nohup command which you sent,but the process didn&#39;t start even during Java execution","body":"Hi Kervin, I tried escaping the double quotes still got the same output nohup: ignoring input and appending output to `nohup.out&#39;. Moreover I did grep during execution of Java program for the process but for the nohup command which you sent,but the process didn&#39;t start even during Java execution"}],"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451738935,"creation_date":1451738935,"answer_id":34566054,"question_id":34565936,"body_markdown":"You are starting the process then immediately terminating the process tree.\r\n\r\nTry using \r\n\r\n    channelEx.setPty(false);\r\n\r\nOr alternatively adding *nohup* to your command line. See...\r\n\r\n[https://stackoverflow.com/questions/6224694/jsch-channelexec-run-a-sh-script-with-nohup-lose-some-commands][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6224694/jsch-channelexec-run-a-sh-script-with-nohup-lose-some-commands","title":"Executing a shell script to start a service by sudo command in linux using jsch in java","body":"<p>You are starting the process then immediately terminating the process tree.</p>\n\n<p>Try using </p>\n\n<pre><code>channelEx.setPty(false);\n</code></pre>\n\n<p>Or alternatively adding <em>nohup</em> to your command line. See...</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6224694/jsch-channelexec-run-a-sh-script-with-nohup-lose-some-commands\">jsch ChannelExec run a .sh script with nohup &quot;lose&quot; some commands</a></p>\n"},{"tags":[],"owner":{"account_id":9629579,"reputation":47,"user_id":7764874,"display_name":"SureshKumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490425876,"creation_date":1490410795,"answer_id":43012031,"question_id":34565936,"body_markdown":"I am able to start the command as the root user and see the process ID after the Java code exits.\r\n\r\n1. Use command `channelExec.setCommand(&quot;sudo -S -p &#39;&#39; &quot; + cmd);`\r\n1. Run your command with nohup (e.g. `nohup start.sh`)\r\n1. Make sure all the environment variables are set for the script using an `export` command.\r\n","title":"Executing a shell script to start a service by sudo command in linux using jsch in java","body":"<p>I am able to start the command as the root user and see the process ID after the Java code exits.</p>\n\n<ol>\n<li>Use command <code>channelExec.setCommand(\"sudo -S -p '' \" + cmd);</code></li>\n<li>Run your command with nohup (e.g. <code>nohup start.sh</code>)</li>\n<li>Make sure all the environment variables are set for the script using an <code>export</code> command.</li>\n</ol>\n"}],"owner":{"account_id":3195874,"reputation":33,"user_id":2699067,"display_name":"user2699067"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1026,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675979056,"creation_date":1451738159,"question_id":34565936,"body_markdown":"How to execute a shell script to start a service by sudo command in Linux via Java\r\nEx:cmd=&quot;sudo path/script.sh start&quot;\r\n\r\nThis Java program will execute commands in linux.\r\nEven I am able to do &#39;sudo ls -lt path&#39; and also &#39;sudo path/script.sh start&#39;\r\n\r\n\t//Java\r\n\tpublic List&lt;String&gt; sshConnection(String usr,String host,int port,String pass)\r\n\t{\r\n\t\t  Session session=null;\r\n\t\t  List&lt;String&gt; outputList = new ArrayList&lt;String&gt;();\r\n\t\t  try\r\n\t\t  {\r\n\t\t\tJSch jsch = new JSch();\r\n\t\t\tsession = jsch.getSession(usr, host, port);\r\n\t\t\tsession.setPassword(pass);\r\n\t\t\tsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\tsession.connect();\t\r\n\t\t\t\r\n\t\t\t//String cmd=&quot;sudo ls path&quot;; \t\t\t//working fine\r\n\t\t\tString cmd=&quot;sudo path/script.sh start&quot;; //service is not starting..but getting the exact output as linux\r\n\t\t\t\r\n\t\t\tChannelExec channelEx=new ChannelExec();\r\n\t\t\r\n\t\t\tchannelEx = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n\t\t\t\r\n\t\t\tif(cmd.contains(&quot;sudo&quot;))\r\n\t\t\t{\r\n\t\t\t\tchannelEx.setPty(true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t((ChannelExec) channelEx).setCommand(cmd);\r\n\t\t\tchannelEx.connect();\r\n\t\t\t\r\n\t\t\tInputStream cmdOp = channelEx.getInputStream();\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(cmdOp));\r\n\r\n\t\t\tString printOp;\r\n\t\t\twhile ((printOp = br.readLine()) != null) \r\n\t\t\t{\r\n\t\t\t\toutputList.add(printOp);\r\n\t\t\t}\r\n\t\t\tbr.close();\r\n\r\n\t\t\tchannelEx.disconnect();\r\n\r\n\t\t} \r\n\t\tcatch (Exception ex) \r\n\t\t{\r\n\t\t\tSystem.out.println(ex.getMessage());\r\n\t\t} \r\n\t\tfinally \r\n\t\t{\r\n\t\t\tif (channelEx != null) \r\n\t\t\t{\r\n\t\t\t\tchannelEx.disconnect();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(session!=null)\r\n\t\t{\r\n\t\t\tsession.disconnect();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;disconnected successfully&quot;);\r\n\t\treturn outputList;\r\n\t}\r\n\r\nI executed the same command directly in linux and got a output telling the &#39;service is running&#39; with the process id.When I did grep for the process ID using ps command it displayed the service with the same process ID.\r\nBut when I executed the same command via the above Java Program,I got the exact output(&#39;service is running&#39;) as linux with the process ID in the output console.After the java program execution, I did grep for the process ID(from Java output console) in linux,no such process was running with that process ID .\r\nI am not able to find where it is going wrong.  \r\nPlease help !","title":"Executing a shell script to start a service by sudo command in linux using jsch in java","body":"<p>How to execute a shell script to start a service by sudo command in Linux via Java\nEx:cmd=\"sudo path/script.sh start\"</p>\n\n<p>This Java program will execute commands in linux.\nEven I am able to do 'sudo ls -lt path' and also 'sudo path/script.sh start'</p>\n\n<pre><code>//Java\npublic List&lt;String&gt; sshConnection(String usr,String host,int port,String pass)\n{\n      Session session=null;\n      List&lt;String&gt; outputList = new ArrayList&lt;String&gt;();\n      try\n      {\n        JSch jsch = new JSch();\n        session = jsch.getSession(usr, host, port);\n        session.setPassword(pass);\n        session.setConfig(\"StrictHostKeyChecking\", \"no\");\n        session.connect();  \n\n        //String cmd=\"sudo ls path\";            //working fine\n        String cmd=\"sudo path/script.sh start\"; //service is not starting..but getting the exact output as linux\n\n        ChannelExec channelEx=new ChannelExec();\n\n        channelEx = (ChannelExec) session.openChannel(\"exec\");\n\n        if(cmd.contains(\"sudo\"))\n        {\n            channelEx.setPty(true);\n        }\n\n        ((ChannelExec) channelEx).setCommand(cmd);\n        channelEx.connect();\n\n        InputStream cmdOp = channelEx.getInputStream();\n        BufferedReader br = new BufferedReader(new InputStreamReader(cmdOp));\n\n        String printOp;\n        while ((printOp = br.readLine()) != null) \n        {\n            outputList.add(printOp);\n        }\n        br.close();\n\n        channelEx.disconnect();\n\n    } \n    catch (Exception ex) \n    {\n        System.out.println(ex.getMessage());\n    } \n    finally \n    {\n        if (channelEx != null) \n        {\n            channelEx.disconnect();\n        }\n    }\n\n    if(session!=null)\n    {\n        session.disconnect();\n    }\n    System.out.println(\"disconnected successfully\");\n    return outputList;\n}\n</code></pre>\n\n<p>I executed the same command directly in linux and got a output telling the 'service is running' with the process id.When I did grep for the process ID using ps command it displayed the service with the same process ID.\nBut when I executed the same command via the above Java Program,I got the exact output('service is running') as linux with the process ID in the output console.After the java program execution, I did grep for the process ID(from Java output console) in linux,no such process was running with that process ID .\nI am not able to find where it is going wrong.<br>\nPlease help !</p>\n"},{"tags":["java","tree","huffman-code"],"answers":[{"comments":[{"owner":{"account_id":24870141,"reputation":23,"user_id":18744736,"display_name":"intact473"},"score":0,"creation_date":1676123094,"post_id":75404566,"comment_id":133076536,"body_markdown":"Hello @Mark Adler Thank you for your help,\n\nI have to implement the huffman algorithm , which always includes the two characters\nof the lowest frequency into a combined character. \nAnd Ive got My own pritority Queue","body":"Hello @Mark Adler Thank you for your help,  I have to implement the huffman algorithm , which always includes the two characters of the lowest frequency into a combined character.  And Ive got My own pritority Queue"}],"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675977959,"creation_date":1675977959,"answer_id":75404566,"question_id":75403746,"body_markdown":"Go through all 256 histogram entries, and for each one whose count is not zero, you use `new LeafTreeNode(i, histogram[i])`.\r\n\r\nThe next question will be: what do you do with each leaf once it&#39;s created?","title":"How do I create a leaf node?","body":"<p>Go through all 256 histogram entries, and for each one whose count is not zero, you use <code>new LeafTreeNode(i, histogram[i])</code>.</p>\n<p>The next question will be: what do you do with each leaf once it's created?</p>\n"}],"owner":{"account_id":24870141,"reputation":23,"user_id":18744736,"display_name":"intact473"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75404566,"answer_count":1,"score":0,"last_activity_date":1675977959,"creation_date":1675972257,"question_id":75403746,"body_markdown":"This is homework. I&#39;ve been stuck on this a long time...\r\n\r\nI have to create leaf nodes. For this I have the class `LeafTreeNode`.\r\n\r\n\r\n\r\n&gt; LeafTreeNode.java : \r\n\r\n```\r\nimport java.util.Map;\r\n\r\npublic class LeafTreeNode implements TreeNode {\r\n\r\n\tprivate char symbol;\r\n\tprivate int symbolCount;\r\n\r\n\tpublic LeafTreeNode(char symbol, int symbolCount) {\r\n\t\tthis.symbol = symbol;\r\n\t\tthis.symbolCount = symbolCount;\r\n\t}\r\n\r\n\tpublic int symbolCount() {\r\n\t\treturn symbolCount;\r\n\t}\r\n\r\n\tpublic void getSymbolCodes(String prefix, Map&lt;Character, String&gt; symbolCodes) {\r\n\t\tsymbolCodes.put(symbol, prefix);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNow I have to use the method `characterHistogram(String s)`\r\nand create a leaf node for each character occurring in `s`.\r\nThis method is in a new class `Huffman`.\r\n\r\nI have to do this in the method `huffmanCode(String s)`.\r\n\r\n&gt; Huffman\r\n\r\n```\r\nimport java.util.Map;\r\n\r\npublic class Huffman{\r\n\r\n\tprivate LeafTreeNode Blattknoten;\r\n\r\n\tpublic int[] characterHistogram(String s) {\r\n\t\t// Only ASCII\r\n\t\tint[] histogram = new int[256];\r\n\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tchar c = s.charAt(i);\r\n\t\t\tif (c &lt; 256) {\r\n\t\t\t\thistogram[c]++;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(s.charAt(i) + &quot; &lt;-&gt; &quot; + histogram[c]);\r\n\t\t}\r\n\t\treturn histogram;\r\n\t}\r\n\r\n\tpublic void printHuffmanCoding(Map&lt;Character, String&gt; map) {\r\n\t\t// for (Character c : map.keySet()) {\r\n\t\t// System.out.println(&quot;&#39;&quot; + c + &quot;&#39;: &quot; + map.get(c));\r\n\t\t// }\r\n\t}\r\n\r\n\t/**\r\n\t * Compute the Huffman coding map for s\r\n\t * \r\n\t * @param s\r\n\t *          String to encode\r\n\t * @return Huffman coding map\r\n\t */\r\n\tpublic Map&lt;Character, String&gt; huffmanCode(String s) {\r\n\r\n\t\tint[] histogram = characterHistogram(s);\r\n\t\tSystem.out.println(1);\r\n\r\n\t\t// Blattknoten.symbolCount();\r\n\t\t// Blattknoten\r\n\t\t// Blattknoten.getSymbolCodes(s, null);\r\n\r\n\t\t// for( int i = 0; i &lt; histogram.length;i++){\r\n\t\t// histogram[i];\r\n\t\t// }\r\n\t\t// LeafTreeNode.getSymbolCodes(s, null)\r\n\t\t// TODO 3.\r\n\t\treturn null;\r\n\t}\r\n\r\n\t/**\r\n\t * @param s\r\n\t *            String to encode\r\n\t * @param map\r\n\t *            Huffman coding map\r\n\t * @return the length of the Huffman coding of s\r\n\t */\r\n\tpublic long lengthHuffmanCoding(String s, Map&lt;Character, String&gt; map) {\r\n\t\t// TODO 4.\r\n\t\treturn 42L;\r\n\t}\r\n\r\n\t/**\r\n\t * @param s\r\n\t *          String to encode\r\n\t * @return the length of the 8-bit coding of s\r\n\t */\r\n\tpublic long length8BitCoding(String s) {\r\n\t\t// TODO 4.\r\n\t\treturn 42L;\r\n\t}\r\n\r\n\t/**\r\n\t * Compute the compression ratio we can achieve for s given the Huffman\r\n\t * encoding map as compared to 8-bit coding of the symbols.\r\n\t * \r\n\t * @param s\r\n\t *            String to encode\r\n\t * @param map\r\n\t *            Huffman coding map\r\n\t * @return compression ratio\r\n\t */\r\n\tpublic float computeCompressionRatio(String s, Map&lt;Character, String&gt; map) {\r\n\t\t// TODO 4.\r\n\t\treturn 42.f;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tHuffman h = new Huffman();\r\n\t\tString s = &quot;Insert String here&quot;;\r\n\t\tMap&lt;Character, String&gt; map = h.huffmanCode(s);\r\n\t\th.printHuffmanCoding(map);\r\n\t\tfloat cr = h.computeCompressionRatio(s, map);\r\n\r\n\t\tSystem.out.println(&quot;Compression ratio: &quot; + (cr * 100) + &quot;%&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI tried to use the methods from `LeafTreeNode` but this didn&#39;t work. How I can create a leaf node?","title":"How do I create a leaf node?","body":"<p>This is homework. I've been stuck on this a long time...</p>\n<p>I have to create leaf nodes. For this I have the class <code>LeafTreeNode</code>.</p>\n<blockquote>\n<p>LeafTreeNode.java :</p>\n</blockquote>\n<pre><code>import java.util.Map;\n\npublic class LeafTreeNode implements TreeNode {\n\n    private char symbol;\n    private int symbolCount;\n\n    public LeafTreeNode(char symbol, int symbolCount) {\n        this.symbol = symbol;\n        this.symbolCount = symbolCount;\n    }\n\n    public int symbolCount() {\n        return symbolCount;\n    }\n\n    public void getSymbolCodes(String prefix, Map&lt;Character, String&gt; symbolCodes) {\n        symbolCodes.put(symbol, prefix);\n    }\n\n}\n</code></pre>\n<p>Now I have to use the method <code>characterHistogram(String s)</code>\nand create a leaf node for each character occurring in <code>s</code>.\nThis method is in a new class <code>Huffman</code>.</p>\n<p>I have to do this in the method <code>huffmanCode(String s)</code>.</p>\n<blockquote>\n<p>Huffman</p>\n</blockquote>\n<pre><code>import java.util.Map;\n\npublic class Huffman{\n\n    private LeafTreeNode Blattknoten;\n\n    public int[] characterHistogram(String s) {\n        // Only ASCII\n        int[] histogram = new int[256];\n\n        for (int i = 0; i &lt; s.length(); i++) {\n            char c = s.charAt(i);\n            if (c &lt; 256) {\n                histogram[c]++;\n            }\n            System.out.println(s.charAt(i) + &quot; &lt;-&gt; &quot; + histogram[c]);\n        }\n        return histogram;\n    }\n\n    public void printHuffmanCoding(Map&lt;Character, String&gt; map) {\n        // for (Character c : map.keySet()) {\n        // System.out.println(&quot;'&quot; + c + &quot;': &quot; + map.get(c));\n        // }\n    }\n\n    /**\n     * Compute the Huffman coding map for s\n     * \n     * @param s\n     *          String to encode\n     * @return Huffman coding map\n     */\n    public Map&lt;Character, String&gt; huffmanCode(String s) {\n\n        int[] histogram = characterHistogram(s);\n        System.out.println(1);\n\n        // Blattknoten.symbolCount();\n        // Blattknoten\n        // Blattknoten.getSymbolCodes(s, null);\n\n        // for( int i = 0; i &lt; histogram.length;i++){\n        // histogram[i];\n        // }\n        // LeafTreeNode.getSymbolCodes(s, null)\n        // TODO 3.\n        return null;\n    }\n\n    /**\n     * @param s\n     *            String to encode\n     * @param map\n     *            Huffman coding map\n     * @return the length of the Huffman coding of s\n     */\n    public long lengthHuffmanCoding(String s, Map&lt;Character, String&gt; map) {\n        // TODO 4.\n        return 42L;\n    }\n\n    /**\n     * @param s\n     *          String to encode\n     * @return the length of the 8-bit coding of s\n     */\n    public long length8BitCoding(String s) {\n        // TODO 4.\n        return 42L;\n    }\n\n    /**\n     * Compute the compression ratio we can achieve for s given the Huffman\n     * encoding map as compared to 8-bit coding of the symbols.\n     * \n     * @param s\n     *            String to encode\n     * @param map\n     *            Huffman coding map\n     * @return compression ratio\n     */\n    public float computeCompressionRatio(String s, Map&lt;Character, String&gt; map) {\n        // TODO 4.\n        return 42.f;\n    }\n\n    public static void main(String[] args) {\n\n        Huffman h = new Huffman();\n        String s = &quot;Insert String here&quot;;\n        Map&lt;Character, String&gt; map = h.huffmanCode(s);\n        h.printHuffmanCoding(map);\n        float cr = h.computeCompressionRatio(s, map);\n\n        System.out.println(&quot;Compression ratio: &quot; + (cr * 100) + &quot;%&quot;);\n    }\n\n}\n</code></pre>\n<p>I tried to use the methods from <code>LeafTreeNode</code> but this didn't work. How I can create a leaf node?</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1675965388,"post_id":75402573,"comment_id":133046225,"body_markdown":"do you even have any data in that table?..","body":"do you even have any data in that table?.."},{"owner":{"display_name":"user19577108"},"score":0,"creation_date":1675976680,"post_id":75402573,"comment_id":133049450,"body_markdown":"i do have 5 records in that table","body":"i do have 5 records in that table"},{"owner":{"display_name":"user19577108"},"score":0,"creation_date":1675977488,"post_id":75402573,"comment_id":133049646,"body_markdown":"i updated the post and added the response i get form postman","body":"i updated the post and added the response i get form postman"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1676020146,"post_id":75402573,"comment_id":133056859,"body_markdown":"This is almost always because of things like the table being used from Java differs from that used from the external SQL call because different schema/user being used. Are you using same credentials for both. Another possible reason is the records aren’t committed. Log out and into your DB client and check records. Next thing to do up the debugging to see the SQL - https://www.baeldung.com/sql-logging-spring-boot","body":"This is almost always because of things like the table being used from Java differs from that used from the external SQL call because different schema/user being used. Are you using same credentials for both. Another possible reason is the records aren’t committed. Log out and into your DB client and check records. Next thing to do up the debugging to see the SQL - <a href=\"https://www.baeldung.com/sql-logging-spring-boot\" rel=\"nofollow noreferrer\">baeldung.com/sql-logging-spring-boot</a>"},{"owner":{"display_name":"user19577108"},"score":0,"creation_date":1676036457,"post_id":75402573,"comment_id":133061645,"body_markdown":"i used intellij debugger and everything is alright the `userRepository.findAll()` method is equal to all the records but the rest controller is not returning the results","body":"i used intellij debugger and everything is alright the <code>userRepository.findAll()</code> method is equal to all the records but the rest controller is not returning the results"}],"owner":{"display_name":"user19577108"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675977454,"creation_date":1675965195,"question_id":75402573,"body_markdown":"I am trying to list all records form a user table.\r\n\r\neach time I send the request I get this log\r\n```\r\nHibernate: \r\n    select\r\n        u1_0.id,\r\n        u1_0.creation_date,\r\n        u1_0.email,\r\n        u1_0.full_name,\r\n        u1_0.password,\r\n        u1_0.updated_date,\r\n        u1_0.username \r\n    from\r\n        user u1_0\r\n```\r\n\r\nbut this query is not returning any results\r\n\r\nthis is the result I get from postman http request\r\n```\r\n[\r\n    {},\r\n    {},\r\n    {},\r\n    {},\r\n    {}\r\n]\r\n```\r\n\r\nI have a user entity like this:\r\n\r\n```\r\n@Table(name = &quot;user&quot;)\r\n@Entity\r\n@Setter\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    private String fullName;\r\n\r\n    private String username;\r\n    private String password;\r\n    private String email;\r\n    private Date creationDate;\r\n    private Date updatedDate;\r\n}\r\n```\r\n\r\na repository like this: \r\n\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n}\r\n```\r\n\r\na controller like this: \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/user&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @RequestMapping(&quot;/list&quot;)\r\n    public List&lt;User&gt; listAll(){\r\n        return userRepository.findAll();\r\n    }\r\n}\r\n```\r\nand this is my [table][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1RAr.png\r\n","title":"hibernate query not producing results","body":"<p>I am trying to list all records form a user table.</p>\n<p>each time I send the request I get this log</p>\n<pre><code>Hibernate: \n    select\n        u1_0.id,\n        u1_0.creation_date,\n        u1_0.email,\n        u1_0.full_name,\n        u1_0.password,\n        u1_0.updated_date,\n        u1_0.username \n    from\n        user u1_0\n</code></pre>\n<p>but this query is not returning any results</p>\n<p>this is the result I get from postman http request</p>\n<pre><code>[\n    {},\n    {},\n    {},\n    {},\n    {}\n]\n</code></pre>\n<p>I have a user entity like this:</p>\n<pre><code>@Table(name = &quot;user&quot;)\n@Entity\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String fullName;\n\n    private String username;\n    private String password;\n    private String email;\n    private Date creationDate;\n    private Date updatedDate;\n}\n</code></pre>\n<p>a repository like this:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n</code></pre>\n<p>a controller like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @RequestMapping(&quot;/list&quot;)\n    public List&lt;User&gt; listAll(){\n        return userRepository.findAll();\n    }\n}\n</code></pre>\n<p>and this is my <a href=\"https://i.stack.imgur.com/I1RAr.png\" rel=\"nofollow noreferrer\">table</a></p>\n"},{"tags":["java","android","button"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1675974592,"post_id":75403932,"comment_id":133048842,"body_markdown":"&quot;the button deosn&#39;t work&quot; -- what do you mean? What are your specific symptoms?","body":"&quot;the button deosn&#39;t work&quot; -- what do you mean? What are your specific symptoms?"},{"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"score":0,"creation_date":1676025878,"post_id":75403932,"comment_id":133058565,"body_markdown":"when i press the button nothing happen it doesn&#39;t work","body":"when i press the button nothing happen it doesn&#39;t work"}],"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675977167,"creation_date":1675973415,"question_id":75403932,"body_markdown":"I tried to send my location via SMS, but the button doesn&#39;t work.\r\nThe button was working fine before I added the code of getting current location.\r\n\r\nCan you please help me to fix that? I tried many solutions that I found in this website, but it doesn&#39;t work with me.\r\nI am totally new to Android Studio, so I don&#39;t know how to write my code that it will work the way I want it.\r\n\r\n    private LocationManager locationManager;\r\n    private LocationListener locationListener;\r\n\r\n    String[] appPermissions = {\r\n            android.Manifest.permission.ACCESS_FINE_LOCATION,\r\n            android.Manifest.permission.SEND_SMS\r\n    };\r\n    private static final int PERMISSIONS_REQUEST_CODE = 123;\r\n\r\n    private static final int MY_PERMISSIONS_REQUEST_SEND_SMS = 0;\r\n    double x,y;\r\n\r\n    Button sendBtn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        if (checkAndRequestPermissons()) {\r\n\r\n        }\r\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n        locationListener = new LocationListener() {\r\n            @Override\r\n            public void onLocationChanged(Location location) {\r\n                x = location.getAltitude() ;\r\n                y = location.getLongitude();\r\n                Log.d(&quot;Location&quot;, location.toString());\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStatusChanged(String provider, int status, Bundle extras) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onProviderEnabled(String provider) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onProviderDisabled(String provider) {\r\n\r\n            }\r\n\r\n        };\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            // here to request the missing permissions, and then overriding\r\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n            //                                          int[] grantResults)\r\n            // to handle the case where the user grants the permission. See the documentation\r\n            // for ActivityCompat#requestPermissions for more details.\r\n            return;\r\n        }\r\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);\r\n\r\n\r\n\r\n\r\n        sendBtn = (Button) findViewById(R.id.btnSendSMS);\r\n        sendBtn.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                sendSMSMessage();\r\n            }\r\n        });\r\n\r\n    }\r\n    protected void sendSMSMessage() {\r\n\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.SEND_SMS)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.SEND_SMS)) {\r\n            } else {\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.SEND_SMS},\r\n                        MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case MY_PERMISSIONS_REQUEST_SEND_SMS: {\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    SmsManager smsManager = SmsManager.getDefault();\r\n                    smsManager.sendTextMessage(&quot;+212xxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://www.google.com/maps/search/?api=1&amp;query=&quot; + x + &quot;,&quot; + y , null, null);\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    private boolean checkAndRequestPermissons() {\r\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n        for (String perm : appPermissions)\r\n        {\r\n            if (ContextCompat.checkSelfPermission(this,perm) != PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                listPermissionsNeeded.add(perm);\r\n            }\r\n        }\r\n        if (!listPermissionsNeeded.isEmpty())\r\n        {\r\n            ActivityCompat.requestPermissions(this,listPermissionsNeeded.toArray(\r\n                    new String[listPermissionsNeeded.size()]),PERMISSIONS_REQUEST_CODE\r\n            );\r\n            return  false;\r\n\r\n        }\r\n        return true;\r\n    }","title":"Send location via sms Button doesn&#39;t work - android studio","body":"<p>I tried to send my location via SMS, but the button doesn't work.\nThe button was working fine before I added the code of getting current location.</p>\n<p>Can you please help me to fix that? I tried many solutions that I found in this website, but it doesn't work with me.\nI am totally new to Android Studio, so I don't know how to write my code that it will work the way I want it.</p>\n<pre><code>private LocationManager locationManager;\nprivate LocationListener locationListener;\n\nString[] appPermissions = {\n        android.Manifest.permission.ACCESS_FINE_LOCATION,\n        android.Manifest.permission.SEND_SMS\n};\nprivate static final int PERMISSIONS_REQUEST_CODE = 123;\n\nprivate static final int MY_PERMISSIONS_REQUEST_SEND_SMS = 0;\ndouble x,y;\n\nButton sendBtn;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    if (checkAndRequestPermissons()) {\n\n    }\n    locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\n    locationListener = new LocationListener() {\n        @Override\n        public void onLocationChanged(Location location) {\n            x = location.getAltitude() ;\n            y = location.getLongitude();\n            Log.d(&quot;Location&quot;, location.toString());\n\n        }\n\n        @Override\n        public void onStatusChanged(String provider, int status, Bundle extras) {\n\n        }\n\n        @Override\n        public void onProviderEnabled(String provider) {\n\n        }\n\n        @Override\n        public void onProviderDisabled(String provider) {\n\n        }\n\n    };\n\n    if (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        // TODO: Consider calling\n        //    ActivityCompat#requestPermissions\n        // here to request the missing permissions, and then overriding\n        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n        //                                          int[] grantResults)\n        // to handle the case where the user grants the permission. See the documentation\n        // for ActivityCompat#requestPermissions for more details.\n        return;\n    }\n    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);\n\n\n\n\n    sendBtn = (Button) findViewById(R.id.btnSendSMS);\n    sendBtn.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View view) {\n            sendSMSMessage();\n        }\n    });\n\n}\nprotected void sendSMSMessage() {\n\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.SEND_SMS)\n            != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.SEND_SMS)) {\n        } else {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        }\n    }\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_SEND_SMS: {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                SmsManager smsManager = SmsManager.getDefault();\n                smsManager.sendTextMessage(&quot;+212xxxxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://www.google.com/maps/search/?api=1&amp;query=&quot; + x + &quot;,&quot; + y , null, null);\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\n            } else {\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\n                return;\n            }\n        }\n    }\n\n}\nprivate boolean checkAndRequestPermissons() {\n    List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n    for (String perm : appPermissions)\n    {\n        if (ContextCompat.checkSelfPermission(this,perm) != PackageManager.PERMISSION_GRANTED)\n        {\n            listPermissionsNeeded.add(perm);\n        }\n    }\n    if (!listPermissionsNeeded.isEmpty())\n    {\n        ActivityCompat.requestPermissions(this,listPermissionsNeeded.toArray(\n                new String[listPermissionsNeeded.size()]),PERMISSIONS_REQUEST_CODE\n        );\n        return  false;\n\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java","palindrome"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675976186,"post_id":75404272,"comment_id":133049329,"body_markdown":"A `char` in Java is a primitive. It is a type of integer. So, you can use [relational operators](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html)  on them. Where you have `inputString.charAt(0)`, instead of `0`, use an `int` variable, which you can get from a `for` loop index.  (By the way, you can do arithmetic with `char`,)","body":"A <code>char</code> in Java is a primitive. It is a type of integer. So, you can use <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"nofollow noreferrer\">relational operators</a>  on them. Where you have <code>inputString.charAt(0)</code>, instead of <code>0</code>, use an <code>int</code> variable, which you can get from a <code>for</code> loop index.  (By the way, you can do arithmetic with <code>char</code>,)"}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1675976538,"post_id":75404315,"comment_id":133049419,"body_markdown":"You think you&#39;re helping by providing code for a homework assignment, but doing so robs OP of a valuable learning experience.","body":"You think you&#39;re helping by providing code for a homework assignment, but doing so robs OP of a valuable learning experience."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675975963,"creation_date":1675975963,"answer_id":75404315,"question_id":75404272,"body_markdown":"Iterate from both ends of the string, moving toward the center and checking the corresponding characters each time.\r\n\r\n```java\r\nint nomatch = 0;\r\nfor (int i = 0, j = stringLength - 1; i &lt; j; i++, j--) {\r\n\tif (stringInput.charAt(i) != stringInput.charAt(j)) {\r\n\t\t++nomatch;\r\n\t\tSystem.out.format(&quot;The characters at index %d and %d do not match.%n&quot;, i, j);\r\n\t}\r\n}\r\nif (nomatch == 0) System.out.println(stringInput + &quot; is a palindrome.&quot;);\r\nelse System.out.println(stringInput + &quot; is not a palindrome. Number of invalid character matches: &quot; + nomatch);\r\n```","title":"How to identify which characters are mismatching in a user input string","body":"<p>Iterate from both ends of the string, moving toward the center and checking the corresponding characters each time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int nomatch = 0;\nfor (int i = 0, j = stringLength - 1; i &lt; j; i++, j--) {\n    if (stringInput.charAt(i) != stringInput.charAt(j)) {\n        ++nomatch;\n        System.out.format(&quot;The characters at index %d and %d do not match.%n&quot;, i, j);\n    }\n}\nif (nomatch == 0) System.out.println(stringInput + &quot; is a palindrome.&quot;);\nelse System.out.println(stringInput + &quot; is not a palindrome. Number of invalid character matches: &quot; + nomatch);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675976717,"creation_date":1675976411,"answer_id":75404372,"question_id":75404272,"body_markdown":"As this is [home work][1], I&#39;ll only give general hints:\r\n\r\n - an easy way to reverse a string is `inputReverse = new StringBuilder(stringInput).reverse().toString();`\r\n - you only need to compare each character of the first *half* of the input with its reverse\r\n - use a `for` loop of `int` from 0 to half the length and pass it to `charAt()` for both strings and compare using `==`\r\n - store the indexes of differences in a `List&lt;Integer&gt;`\r\n\r\n  [1]: https://softwareengineering.meta.stackexchange.com/q/6166","title":"How to identify which characters are mismatching in a user input string","body":"<p>As this is <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">home work</a>, I'll only give general hints:</p>\n<ul>\n<li>an easy way to reverse a string is <code>inputReverse = new StringBuilder(stringInput).reverse().toString();</code></li>\n<li>you only need to compare each character of the first <em>half</em> of the input with its reverse</li>\n<li>use a <code>for</code> loop of <code>int</code> from 0 to half the length and pass it to <code>charAt()</code> for both strings and compare using <code>==</code></li>\n<li>store the indexes of differences in a <code>List&lt;Integer&gt;</code></li>\n</ul>\n"}],"owner":{"account_id":27748009,"reputation":1,"user_id":21183050,"display_name":"Brooke Cruz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675976717,"creation_date":1675975611,"question_id":75404272,"body_markdown":"This project is used to identify whether or not a user&#39;s input is a palindrome, and if it&#39;s not, identifies how many characters don&#39;t match and their positions in the string (i.e characters 2 and 4 don&#39;t match). I&#39;ve been able to figure out how to identify whether or not a string is a palindrome, but I&#39;m struggling with how to specifically identify the characters that don&#39;t match in a non-palindrome. Here&#39;s my code so far:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Palindrome\r\n{\r\n   public static void main(String[] args)\r\n   {\r\n      \r\n      String stringInput = &quot;&quot;;\r\n      String inputReverse = &quot;&quot;;\r\n      \r\n      boolean isPalindrome = true;\r\n      \r\n      Scanner keyboard = new Scanner(System.in);\r\n      \r\n      System.out.print(&quot;Enter a string: &quot;);\r\n      stringInput = keyboard.nextLine();\r\n      \r\n      \r\n      int stringLength = stringInput.length();\r\n      \r\n      for(int i = stringLength - 1; i &gt;=0; i--)\r\n      {\r\n        inputReverse = inputReverse + stringInput.charAt(i);\r\n      }\r\n      \r\n      if(stringInput.equals(inputReverse))\r\n      {\r\n         System.out.println(stringInput + &quot; is a valid palindrome.&quot;);\r\n      }\r\n      else\r\n      {\r\n         System.out.println(stringInput + &quot; is not a valid palindrome.&quot;);\r\n      }\r\n   }\r\n}\r\n```\r\nthe output I want for when a string is not a palindrome is:\r\n&quot;The characters at index 0 and 3 do not match.\r\n goop is not a valid palindrome.\r\n number of invalid character matches: 1 &quot;\r\n\r\n\r\nI tried to use stringInput.charAt(0) but the user input is unpredictable, so I wouldn&#39;t be able to use char 0,1,2,3 etc forever. Any help?","title":"How to identify which characters are mismatching in a user input string","body":"<p>This project is used to identify whether or not a user's input is a palindrome, and if it's not, identifies how many characters don't match and their positions in the string (i.e characters 2 and 4 don't match). I've been able to figure out how to identify whether or not a string is a palindrome, but I'm struggling with how to specifically identify the characters that don't match in a non-palindrome. Here's my code so far:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Palindrome\n{\n   public static void main(String[] args)\n   {\n      \n      String stringInput = &quot;&quot;;\n      String inputReverse = &quot;&quot;;\n      \n      boolean isPalindrome = true;\n      \n      Scanner keyboard = new Scanner(System.in);\n      \n      System.out.print(&quot;Enter a string: &quot;);\n      stringInput = keyboard.nextLine();\n      \n      \n      int stringLength = stringInput.length();\n      \n      for(int i = stringLength - 1; i &gt;=0; i--)\n      {\n        inputReverse = inputReverse + stringInput.charAt(i);\n      }\n      \n      if(stringInput.equals(inputReverse))\n      {\n         System.out.println(stringInput + &quot; is a valid palindrome.&quot;);\n      }\n      else\n      {\n         System.out.println(stringInput + &quot; is not a valid palindrome.&quot;);\n      }\n   }\n}\n</code></pre>\n<p>the output I want for when a string is not a palindrome is:\n&quot;The characters at index 0 and 3 do not match.\ngoop is not a valid palindrome.\nnumber of invalid character matches: 1 &quot;</p>\n<p>I tried to use stringInput.charAt(0) but the user input is unpredictable, so I wouldn't be able to use char 0,1,2,3 etc forever. Any help?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1675977620,"post_id":75404308,"comment_id":133049670,"body_markdown":"See also: [Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?](https://stackoverflow.com/q/2745265/507738).","body":"See also: <a href=\"https://stackoverflow.com/q/2745265/507738\">Is List&lt;Dog&gt; a subclass of List&lt;Animal&gt;? Why are Java generics not implicitly polymorphic?</a>."}],"owner":{"account_id":27748052,"reputation":19,"user_id":21183086,"display_name":"Rick Yoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1675977776,"answer_count":0,"score":1,"last_activity_date":1675976212,"creation_date":1675975909,"question_id":75404308,"body_markdown":"In the following code, line 14 fails to compile with error:\r\n\r\n&gt;Type mismatch: cannot convert from `Map&lt;String,Set&lt;Integer&gt;&gt;` to `Map&lt;String,Set&lt;? extends Number&gt;&gt;`\r\n\r\n```\r\n  1 import java.util.HashMap;\r\n  2 import java.util.HashSet;\r\n  3 import java.util.Map;\r\n  4 import java.util.Set;\r\n  5\r\n  6 public class GenericTest\r\n  7 {\r\n  8     public static void main(String[] args)\r\n  9     {\r\n 10         Set&lt;? extends Number&gt; set = new HashSet&lt;Integer&gt;();\r\n 11\r\n 12         Map&lt;String, Set&lt;Integer&gt;&gt; intMap = new HashMap&lt;&gt;();\r\n 13         Map&lt;String, Set&lt;? extends Number&gt;&gt; numberMap = intMap;\r\n 14     }\r\n 15 }\r\n\r\n```\r\n\r\n\r\nIs there any way to declare the numberMap so this compiles? \r\n\r\nI know I can use `Map&lt;String, Object&gt;`, but I want to be able to retrieve values from the map as a set of numbers without having to cast.","title":"Java generics with maps","body":"<p>In the following code, line 14 fails to compile with error:</p>\n<blockquote>\n<p>Type mismatch: cannot convert from <code>Map&lt;String,Set&lt;Integer&gt;&gt;</code> to <code>Map&lt;String,Set&lt;? extends Number&gt;&gt;</code></p>\n</blockquote>\n<pre><code>  1 import java.util.HashMap;\n  2 import java.util.HashSet;\n  3 import java.util.Map;\n  4 import java.util.Set;\n  5\n  6 public class GenericTest\n  7 {\n  8     public static void main(String[] args)\n  9     {\n 10         Set&lt;? extends Number&gt; set = new HashSet&lt;Integer&gt;();\n 11\n 12         Map&lt;String, Set&lt;Integer&gt;&gt; intMap = new HashMap&lt;&gt;();\n 13         Map&lt;String, Set&lt;? extends Number&gt;&gt; numberMap = intMap;\n 14     }\n 15 }\n\n</code></pre>\n<p>Is there any way to declare the numberMap so this compiles?</p>\n<p>I know I can use <code>Map&lt;String, Object&gt;</code>, but I want to be able to retrieve values from the map as a set of numbers without having to cast.</p>\n"},{"tags":["java","junit"],"answers":[{"comments":[{"owner":{"account_id":330173,"reputation":1327,"user_id":654128,"accept_rate":72,"display_name":"Jonathan"},"score":0,"creation_date":1333668220,"post_id":10037226,"comment_id":12839980,"body_markdown":"How would I programmatically check if an assertion has failed?","body":"How would I programmatically check if an assertion has failed?"},{"owner":{"account_id":330173,"reputation":1327,"user_id":654128,"accept_rate":72,"display_name":"Jonathan"},"score":1,"creation_date":1333668843,"post_id":10037226,"comment_id":12840104,"body_markdown":"Ok, I see I could catch AssertionError in the first test and then call System.exit(), but then the JUnit test won&#39;t pass or fail, just stop running. Seems like there should be a more elegant way.","body":"Ok, I see I could catch AssertionError in the first test and then call System.exit(), but then the JUnit test won&#39;t pass or fail, just stop running. Seems like there should be a more elegant way."},{"owner":{"account_id":1328514,"reputation":4516,"user_id":1272885,"accept_rate":67,"display_name":"Ryan Nelson"},"score":5,"creation_date":1333671137,"post_id":10037226,"comment_id":12840489,"body_markdown":"Re: a more elegant way, I don&#39;t believe JUnit provides this functionality out of the box.  It can lead to coupling between tests.  Ideally your tests should run independent of one another and not be affected by other failures.  If you insist, then Hiro2k&#39;s suggestion is best.","body":"Re: a more elegant way, I don&#39;t believe JUnit provides this functionality out of the box.  It can lead to coupling between tests.  Ideally your tests should run independent of one another and not be affected by other failures.  If you insist, then Hiro2k&#39;s suggestion is best."},{"owner":{"account_id":36036,"reputation":5314,"user_id":102483,"accept_rate":100,"display_name":"Hiro2k"},"score":1,"creation_date":1333672654,"post_id":10037226,"comment_id":12840706,"body_markdown":"Yeah I didn&#39;t want to get into the whole debate but if you did want a more elegant way then you&#39;d have to find a way to decouple your tests from the order in which they run.","body":"Yeah I didn&#39;t want to get into the whole debate but if you did want a more elegant way then you&#39;d have to find a way to decouple your tests from the order in which they run."},{"owner":{"account_id":330173,"reputation":1327,"user_id":654128,"accept_rate":72,"display_name":"Jonathan"},"score":0,"creation_date":1333722166,"post_id":10037226,"comment_id":12850823,"body_markdown":"Thanks Hiro2k, after looking at the other options this seemed like the easiest to handle. I&#39;ve written up precisely what I did in a new answer.","body":"Thanks Hiro2k, after looking at the other options this seemed like the easiest to handle. I&#39;ve written up precisely what I did in a new answer."},{"owner":{"account_id":1307549,"reputation":2032,"user_id":1256210,"display_name":"Nishant Shah"},"score":0,"creation_date":1510722320,"post_id":10037226,"comment_id":81550585,"body_markdown":"assertion and system.exit won&#39;t go together.  \nIdeal soultion should be, \n@Rule\n public ErrorCollector collector = new ErrorCollector();","body":"assertion and system.exit won&#39;t go together.   Ideal soultion should be,  @Rule  public ErrorCollector collector = new ErrorCollector();"},{"owner":{"account_id":3084868,"reputation":462,"user_id":2612238,"accept_rate":86,"display_name":"Leonardo Leonardo"},"score":1,"creation_date":1570044396,"post_id":10037226,"comment_id":102794142,"body_markdown":"if you are using cucumber and configured your Hook&#39;s class, using System.exit(0) or 1 it does not go to after and before methods, in some cases those methods handle killing instances and finishing reports.","body":"if you are using cucumber and configured your Hook&#39;s class, using System.exit(0) or 1 it does not go to after and before methods, in some cases those methods handle killing instances and finishing reports."}],"tags":[],"owner":{"account_id":36036,"reputation":5314,"user_id":102483,"accept_rate":100,"display_name":"Hiro2k"},"comment_count":7,"down_vote_count":5,"up_vote_count":14,"is_accepted":true,"score":9,"last_activity_date":1333667052,"creation_date":1333667052,"answer_id":10037226,"question_id":10036894,"body_markdown":"What&#39;s wrong with calling `System.exit()`?","title":"Stopping JUnit suite if particular test fails","body":"<p>What's wrong with calling <code>System.exit()</code>?</p>\n"},{"comments":[{"owner":{"account_id":330173,"reputation":1327,"user_id":654128,"accept_rate":72,"display_name":"Jonathan"},"score":0,"creation_date":1333718094,"post_id":10038875,"comment_id":12849567,"body_markdown":"Although that is an option - I&#39;m generally not using Ant (using Run As &gt; JUnit Test in Eclipse).","body":"Although that is an option - I&#39;m generally not using Ant (using Run As &gt; JUnit Test in Eclipse)."},{"owner":{"account_id":6306880,"reputation":203,"user_id":4899726,"display_name":"Lorenzo Fidalgo"},"score":0,"creation_date":1486717828,"post_id":10038875,"comment_id":71476482,"body_markdown":"How would you create that &quot;custom test listener&quot;?\nI get the ant part with haltonfailure=&quot;true&quot;, but inside a Suite it does not stop if one of Suite&#39;s test fails. What &quot;custom test listener&quot; is able to do?","body":"How would you create that &quot;custom test listener&quot;? I get the ant part with haltonfailure=&quot;true&quot;, but inside a Suite it does not stop if one of Suite&#39;s test fails. What &quot;custom test listener&quot; is able to do?"}],"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333683687,"creation_date":1333683687,"answer_id":10038875,"question_id":10036894,"body_markdown":"Are you running tests using ant?\r\n\r\nYou could write  a custom test listener. You can set this in ant http://ant.apache.org/manual/Tasks/junit.html ( enableTestListenerEvents).\r\n\r\n","title":"Stopping JUnit suite if particular test fails","body":"<p>Are you running tests using ant?</p>\n\n<p>You could write  a custom test listener. You can set this in ant <a href=\"http://ant.apache.org/manual/Tasks/junit.html\" rel=\"nofollow\">http://ant.apache.org/manual/Tasks/junit.html</a> ( enableTestListenerEvents).</p>\n"},{"tags":[],"owner":{"account_id":23666,"reputation":19288,"user_id":59470,"accept_rate":79,"display_name":"topchef"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1333684515,"creation_date":1333684515,"answer_id":10038949,"question_id":10036894,"body_markdown":"If it&#39;s **first** test then consider moving its validation to @BeforeClass and throw exception if it fails. Then only @AfterClass method would run in case of this exception. \r\n\r\nOf course, that way you lack all the fixture artifacts created in test setup method(s).","title":"Stopping JUnit suite if particular test fails","body":"<p>If it's <strong>first</strong> test then consider moving its validation to @BeforeClass and throw exception if it fails. Then only @AfterClass method would run in case of this exception. </p>\n\n<p>Of course, that way you lack all the fixture artifacts created in test setup method(s).</p>\n"},{"comments":[{"owner":{"account_id":3901161,"reputation":184,"user_id":3228998,"display_name":"Raf"},"score":2,"creation_date":1560178411,"post_id":10044812,"comment_id":99640781,"body_markdown":"This can be made less clunky with something like  @Before\n    public void beforeEachTest() {\n        assertFalse(&quot;Testing has been aborted.&quot;,shouldStopRestOfSuite);}","body":"This can be made less clunky with something like  @Before     public void beforeEachTest() {         assertFalse(&quot;Testing has been aborted.&quot;,shouldStopRestOfSuite);}"}],"tags":[],"owner":{"account_id":330173,"reputation":1327,"user_id":654128,"accept_rate":72,"display_name":"Jonathan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1333722093,"creation_date":1333722093,"answer_id":10044812,"question_id":10036894,"body_markdown":"Based on the answer from Hiro2k (thanks!) I&#39;ve used the following solution. It&#39;s a bit of a hack but it works.\r\n\r\nThe test which can prevent other tests running goes at the top of the @Suite.SuiteClasses list. That test then has the following:\r\n\r\n\tprivate static boolean shouldStopRestOfSuite = false;\r\n\r\n    \t@Test\r\n        public void test () throws Throwable {\r\n\t    try {\r\n                ... run some test code...\r\n\t    }\r\n\t    catch (Throwable e) {\r\n\t        shouldStopRestOfSuite = true;\r\n\t        throw e;\r\n\t    }\r\n\t}\r\n\r\nNote the above does need to catch Throwable (not exception) so it catches assertion errors. It also re-throws the error so it&#39;s logged by JUnit for analysis.\r\n\r\nThen there&#39;s another test method:\r\n\r\n\t@Test\r\n\tpublic void testKillIfNeeded () throws Exception {\r\n\t\tif (!shouldStopRestOfSuite) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println (&quot;Test suite killed due to dangerous error / failure&quot;);\r\n\t\tSystem.exit(1);\r\n\t}\r\n\r\nThe above is run second and will kill the JUnit process.\r\n\r\nUsing this method the JUnit test won&#39;t end on fail / error if there&#39;s an issue but the fail / error is logged for analysis by JUnit and no further tests will run.\r\n\r\nNot too pretty but it does the job :)\r\n","title":"Stopping JUnit suite if particular test fails","body":"<p>Based on the answer from Hiro2k (thanks!) I've used the following solution. It's a bit of a hack but it works.</p>\n\n<p>The test which can prevent other tests running goes at the top of the @Suite.SuiteClasses list. That test then has the following:</p>\n\n<pre><code>private static boolean shouldStopRestOfSuite = false;\n\n    @Test\n    public void test () throws Throwable {\n    try {\n            ... run some test code...\n    }\n    catch (Throwable e) {\n        shouldStopRestOfSuite = true;\n        throw e;\n    }\n}\n</code></pre>\n\n<p>Note the above does need to catch Throwable (not exception) so it catches assertion errors. It also re-throws the error so it's logged by JUnit for analysis.</p>\n\n<p>Then there's another test method:</p>\n\n<pre><code>@Test\npublic void testKillIfNeeded () throws Exception {\n    if (!shouldStopRestOfSuite) {\n        return;\n    }\n\n    System.out.println (\"Test suite killed due to dangerous error / failure\");\n    System.exit(1);\n}\n</code></pre>\n\n<p>The above is run second and will kill the JUnit process.</p>\n\n<p>Using this method the JUnit test won't end on fail / error if there's an issue but the fail / error is logged for analysis by JUnit and no further tests will run.</p>\n\n<p>Not too pretty but it does the job :)</p>\n"},{"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1607972557,"post_id":27780112,"comment_id":115434474,"body_markdown":"I substituted `assumeTrue()` for your `assertTrue()`.","body":"I substituted <code>assumeTrue()</code> for your <code>assertTrue()</code>."}],"tags":[],"owner":{"account_id":3092205,"reputation":179,"user_id":2618110,"display_name":"Jorge"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1420462893,"creation_date":1420462893,"answer_id":27780112,"question_id":10036894,"body_markdown":"Like your answer but using `@Before` in an integration test, I did something like this:\r\n\r\n    public class FooTest {\r\n\r\n       private static boolean bar;\r\n       \r\n       @BeforeClass\r\n       public static void setUpBeforeClass() throws Exception {\r\n             bar = false;\r\n       }\r\n\r\n       @Before\r\n       public void setUp() throws Exception {\r\n             assertTrue(bar);\r\n       }\r\n\r\n       @Test\r\n       public void test() {\r\n             System.out.println(&quot;something&quot;);\r\n             assertTrue(true);\r\n       }\r\n       \r\n       @Test\r\n       public void test1() {\r\n             System.out.println(&quot;Something2&quot;);\r\n             assertTrue(true);\r\n       }\r\n    }\r\n\r\nRegards!","title":"Stopping JUnit suite if particular test fails","body":"<p>Like your answer but using <code>@Before</code> in an integration test, I did something like this:</p>\n\n<pre><code>public class FooTest {\n\n   private static boolean bar;\n\n   @BeforeClass\n   public static void setUpBeforeClass() throws Exception {\n         bar = false;\n   }\n\n   @Before\n   public void setUp() throws Exception {\n         assertTrue(bar);\n   }\n\n   @Test\n   public void test() {\n         System.out.println(\"something\");\n         assertTrue(true);\n   }\n\n   @Test\n   public void test1() {\n         System.out.println(\"Something2\");\n         assertTrue(true);\n   }\n}\n</code></pre>\n\n<p>Regards!</p>\n"},{"comments":[{"owner":{"account_id":5523473,"reputation":1467,"user_id":4385714,"accept_rate":67,"display_name":"qtopierw"},"score":0,"creation_date":1502093044,"post_id":31397394,"comment_id":78043888,"body_markdown":"To implement what the question ask, `FailureListener` should not stop test on any failure. It might be better to filter the failure type and only stop tests on specific error. eg, creating your own `Exception` class and throw that in your `FirstTestClass`. Then use `failure.getException()` to determine whether to stop the test.","body":"To implement what the question ask, <code>FailureListener</code> should not stop test on any failure. It might be better to filter the failure type and only stop tests on specific error. eg, creating your own <code>Exception</code> class and throw that in your <code>FirstTestClass</code>. Then use <code>failure.getException()</code> to determine whether to stop the test."},{"owner":{"account_id":4153245,"reputation":194,"user_id":3405109,"display_name":"nishantvas"},"score":0,"creation_date":1554191373,"post_id":31397394,"comment_id":97650040,"body_markdown":"This is absolutely perfect for what I was looking for. Instead of a particular error, I wanted the tests to stop if they exceed more than 30% failure, and I was using Cucumber BDD. I merely had to override the run function and add the listener","body":"This is absolutely perfect for what I was looking for. Instead of a particular error, I wanted the tests to stop if they exceed more than 30% failure, and I was using Cucumber BDD. I merely had to override the run function and add the listener"}],"tags":[],"owner":{"account_id":6073837,"reputation":330,"user_id":4741784,"display_name":"fab"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1436846369,"creation_date":1436846369,"answer_id":31397394,"question_id":10036894,"body_markdown":"First you need junit RunListener:\r\n\r\n    \r\n    import org.junit.runner.notification.Failure;\r\n    import org.junit.runner.notification.RunListener;\r\n    import org.junit.runner.notification.RunNotifier;\r\n    \r\n    public class FailureListener extends RunListener {\r\n    \r\n        private RunNotifier runNotifier;\r\n    \r\n        public FailureListener(RunNotifier runNotifier) {\r\n            super();\r\n            this.runNotifier=runNotifier;\r\n        }\r\n    \r\n        @Override\r\n        public void testFailure(Failure failure) throws Exception {\r\n            super.testFailure(failure);\r\n            this.runNotifier.pleaseStop();\r\n        }\r\n    }\r\n\r\nThen prepare a suite:\r\n\r\n    public class StopOnFailureSuite extends Suite {\r\n    \r\n        public StopOnFailureSuite(Class&lt;?&gt; klass, Class&lt;?&gt;[] suiteClasses) throws InitializationError {\r\n            super(klass, suiteClasses);\r\n        }\r\n    \r\n        public StopOnFailureSuite(Class&lt;?&gt; klass) throws InitializationError {\r\n            super(klass, klass.getAnnotation(SuiteClasses.class).value());\r\n        }\r\n    \r\n        @Override\r\n        public void run(RunNotifier runNotifier) {\r\n            runNotifier.addListener(new FailureListener(runNotifier));\r\n            super.run(runNotifier);\r\n        }\r\n    }\r\n\r\nAnd run your suite:\r\n\r\n    @RunWith(StopOnFailureSuite.class)\r\n    @Suite.SuiteClasses({\r\n        FirstTestClass.class,\r\n        SecondTestClass.class,\r\n        ...\r\n    })\r\n\r\n","title":"Stopping JUnit suite if particular test fails","body":"<p>First you need junit RunListener:</p>\n\n<pre><code>import org.junit.runner.notification.Failure;\nimport org.junit.runner.notification.RunListener;\nimport org.junit.runner.notification.RunNotifier;\n\npublic class FailureListener extends RunListener {\n\n    private RunNotifier runNotifier;\n\n    public FailureListener(RunNotifier runNotifier) {\n        super();\n        this.runNotifier=runNotifier;\n    }\n\n    @Override\n    public void testFailure(Failure failure) throws Exception {\n        super.testFailure(failure);\n        this.runNotifier.pleaseStop();\n    }\n}\n</code></pre>\n\n<p>Then prepare a suite:</p>\n\n<pre><code>public class StopOnFailureSuite extends Suite {\n\n    public StopOnFailureSuite(Class&lt;?&gt; klass, Class&lt;?&gt;[] suiteClasses) throws InitializationError {\n        super(klass, suiteClasses);\n    }\n\n    public StopOnFailureSuite(Class&lt;?&gt; klass) throws InitializationError {\n        super(klass, klass.getAnnotation(SuiteClasses.class).value());\n    }\n\n    @Override\n    public void run(RunNotifier runNotifier) {\n        runNotifier.addListener(new FailureListener(runNotifier));\n        super.run(runNotifier);\n    }\n}\n</code></pre>\n\n<p>And run your suite:</p>\n\n<pre><code>@RunWith(StopOnFailureSuite.class)\n@Suite.SuiteClasses({\n    FirstTestClass.class,\n    SecondTestClass.class,\n    ...\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1307549,"reputation":2032,"user_id":1256210,"display_name":"Nishant Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510722698,"creation_date":1510722698,"answer_id":47299798,"question_id":10036894,"body_markdown":"Firstly you should catch an error and check the same before you run the 2nd test. \r\n\r\n    @Rule\r\n    public ErrorCollector collector = new ErrorCollector();\r\n\r\n  **1. Add Error.**\r\n\r\n    collector.addError(new Throwable(&quot;first thing went wrong&quot;));\r\n\r\n **2. Check before the dependent run**.\r\n\r\n    collector.checkThat(getResult(), not(containsString(&quot;ERROR!&quot;)));\r\n\r\nReference - [ErrorCollector][1]\r\n  [1]: http://junit.org/junit4/javadoc/latest/org/junit/rules/ErrorCollector.html","title":"Stopping JUnit suite if particular test fails","body":"<p>Firstly you should catch an error and check the same before you run the 2nd test. </p>\n\n<pre><code>@Rule\npublic ErrorCollector collector = new ErrorCollector();\n</code></pre>\n\n<p><strong>1. Add Error.</strong></p>\n\n<pre><code>collector.addError(new Throwable(\"first thing went wrong\"));\n</code></pre>\n\n<p><strong>2. Check before the dependent run</strong>.</p>\n\n<pre><code>collector.checkThat(getResult(), not(containsString(\"ERROR!\")));\n</code></pre>\n\n<p>Reference - <a href=\"http://junit.org/junit4/javadoc/latest/org/junit/rules/ErrorCollector.html\" rel=\"nofollow noreferrer\">ErrorCollector</a></p>\n"},{"tags":[],"owner":{"account_id":6679362,"reputation":1250,"user_id":5153063,"accept_rate":60,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675975569,"creation_date":1675974942,"answer_id":75404167,"question_id":10036894,"body_markdown":"I find it troubling that this functionality is so tedious to implement in such a mature library.  If you&#39;re using JUnit 5 / Jupiter you can use an extension called **JUnit Pioneer** (https://junit-pioneer.org).\r\n\r\nWith JUnit Pioneer you can simply add a [```@DisableIfTestFails```][1] annotation to your test class to make all tests stop when one fails.\r\n\r\n\r\n\r\n  [1]: https://junit-pioneer.org/docs/disable-if-test-fails/","title":"Stopping JUnit suite if particular test fails","body":"<p>I find it troubling that this functionality is so tedious to implement in such a mature library.  If you're using JUnit 5 / Jupiter you can use an extension called <strong>JUnit Pioneer</strong> (<a href=\"https://junit-pioneer.org\" rel=\"nofollow noreferrer\">https://junit-pioneer.org</a>).</p>\n<p>With JUnit Pioneer you can simply add a <a href=\"https://junit-pioneer.org/docs/disable-if-test-fails/\" rel=\"nofollow noreferrer\"><code>@DisableIfTestFails</code></a> annotation to your test class to make all tests stop when one fails.</p>\n"}],"owner":{"account_id":330173,"reputation":1327,"user_id":654128,"accept_rate":72,"display_name":"Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40259,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":10037226,"answer_count":8,"score":26,"last_activity_date":1675975569,"creation_date":1333664888,"question_id":10036894,"body_markdown":"I have a JUnit test suite in the form:\r\n\r\n    @RunWith(Suite.class)\r\n    @Suite.SuiteClasses( { xx.class, yy.cass })\r\n\t\t\t\t\t   \r\n    public class AllTests {\r\n\r\n\tpublic static Test suite() {\r\n\t\tTestSuite suite = new TestSuite(AllTests.class.getName());\r\n\t\t//$JUnit-BEGIN$\r\n\r\n\t\t//$JUnit-END$\r\n\t\treturn suite;\r\n\t}\r\n    }\r\n\r\n\r\nThis then calls vanilla tests like this:\r\n\r\n    public class xxx {\r\n\r\n\t@Test\r\n\tpublic void test () throws {\r\n        ...\r\n\r\nI have a situation where I&#39;d like to stop the rest of the test suite running if there&#39;s an error or fail in the first test. But errors / fails in the others are ok and the suite should complete as many other tests as it can. Basically the first test failing would indicate it isn&#39;t safe to run the rest. \r\n\r\nIs this possible?\r\n","title":"Stopping JUnit suite if particular test fails","body":"<p>I have a JUnit test suite in the form:</p>\n\n<pre><code>@RunWith(Suite.class)\n@Suite.SuiteClasses( { xx.class, yy.cass })\n\npublic class AllTests {\n\npublic static Test suite() {\n    TestSuite suite = new TestSuite(AllTests.class.getName());\n    //$JUnit-BEGIN$\n\n    //$JUnit-END$\n    return suite;\n}\n}\n</code></pre>\n\n<p>This then calls vanilla tests like this:</p>\n\n<pre><code>public class xxx {\n\n@Test\npublic void test () throws {\n    ...\n</code></pre>\n\n<p>I have a situation where I'd like to stop the rest of the test suite running if there's an error or fail in the first test. But errors / fails in the others are ok and the suite should complete as many other tests as it can. Basically the first test failing would indicate it isn't safe to run the rest. </p>\n\n<p>Is this possible?</p>\n"},{"tags":["java","github","jflex"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675886452,"post_id":75391125,"comment_id":133026807,"body_markdown":"Are you using a dependency management tool such as Maven or Gradle?","body":"Are you using a dependency management tool such as Maven or Gradle?"},{"owner":{"account_id":27312861,"reputation":3,"user_id":20827745,"display_name":"Nicolas Bedoya"},"score":0,"creation_date":1675898973,"post_id":75391125,"comment_id":133029613,"body_markdown":"@BasilBourque i&#39;m not, i&#39;m kind of new to java so i actually don&#39;t know what maven or gradle is haha","body":"@BasilBourque i&#39;m not, i&#39;m kind of new to java so i actually don&#39;t know what maven or gradle is haha"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676033268,"post_id":75391125,"comment_id":133060698,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1675968579,"post_id":75393372,"comment_id":133047226,"body_markdown":"Good advice for beginners!","body":"Good advice for beginners!"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675975158,"creation_date":1675906695,"answer_id":75393372,"question_id":75391125,"body_markdown":"# Download needed library \r\n\r\nCommonly, projects uploaded to GitHub omit the various [libraries][1] needed by the app. \r\n\r\nSo you will need to manually obtain the needed library, usually a [JAR][2] file. Then place that JAR file in a location accessible by your project. \r\n\r\nWhen deploying your app, you will need to either include the library within your app, or make the library available on the runtime computer. \r\n\r\n# Dependency management &amp; build tool\r\n\r\nNeeded libraries are referred to as “dependencies”. \r\n\r\nIf doing any serious work in Java, I strongly recommend you learn how to use an [IDE][3] (such as [IntelliJ][4], Eclipse, or NetBeans) in conjunction with a dependency management tool (such as [Apache Maven][5] or Apache Gradle). \r\n\r\nTools like Maven &amp; Gradle will automatically locate a copy of your declared dependency libraries, automatically download from a repository, and then install within your project. \r\n\r\nThese tools (IDEs, and dependency managers) do come with a learning curve. But that learning time is well spent if you are invested in being a Java developer. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Library_(computing)\r\n  [2]: https://en.wikipedia.org/wiki/JAR_(file_format)\r\n  [3]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [4]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [5]: https://en.wikipedia.org/wiki/Apache_Maven","title":"How can I use JFlex if i&#180;m cloning a project from github","body":"<h1>Download needed library</h1>\n<p>Commonly, projects uploaded to GitHub omit the various <a href=\"https://en.wikipedia.org/wiki/Library_(computing)\" rel=\"nofollow noreferrer\">libraries</a> needed by the app.</p>\n<p>So you will need to manually obtain the needed library, usually a <a href=\"https://en.wikipedia.org/wiki/JAR_(file_format)\" rel=\"nofollow noreferrer\">JAR</a> file. Then place that JAR file in a location accessible by your project.</p>\n<p>When deploying your app, you will need to either include the library within your app, or make the library available on the runtime computer.</p>\n<h1>Dependency management &amp; build tool</h1>\n<p>Needed libraries are referred to as “dependencies”.</p>\n<p>If doing any serious work in Java, I strongly recommend you learn how to use an <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> (such as <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a>, Eclipse, or NetBeans) in conjunction with a dependency management tool (such as <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Apache Maven</a> or Apache Gradle).</p>\n<p>Tools like Maven &amp; Gradle will automatically locate a copy of your declared dependency libraries, automatically download from a repository, and then install within your project.</p>\n<p>These tools (IDEs, and dependency managers) do come with a learning curve. But that learning time is well spent if you are invested in being a Java developer.</p>\n"}],"owner":{"account_id":27312861,"reputation":3,"user_id":20827745,"display_name":"Nicolas Bedoya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675975158,"creation_date":1675886268,"question_id":75391125,"body_markdown":"i&#39;m currently working on a Lexer in Java, i&#39;m using jflex to do this, when my partner runs the code it works, he pushed it into a repo in github. I cloned it and when trying to run it, it says it cannot find a symbol which is Lexer, this is a class that jflex creates. I \r\n\r\nI was expecting to be able to use the jflex library, which is stored in the lib directory in the project, also, in the .vscode directory we created a settings.json in order to be able to use it, we thought it worked but apparently when someone clones the repo it doesn&#39;t work. How can i solve this?","title":"How can I use JFlex if i&#180;m cloning a project from github","body":"<p>i'm currently working on a Lexer in Java, i'm using jflex to do this, when my partner runs the code it works, he pushed it into a repo in github. I cloned it and when trying to run it, it says it cannot find a symbol which is Lexer, this is a class that jflex creates. I</p>\n<p>I was expecting to be able to use the jflex library, which is stored in the lib directory in the project, also, in the .vscode directory we created a settings.json in order to be able to use it, we thought it worked but apparently when someone clones the repo it doesn't work. How can i solve this?</p>\n"},{"tags":["java","java.util.logging"],"answers":[{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668178232,"creation_date":1668178232,"answer_id":74404257,"question_id":74404081,"body_markdown":"You could probably tackle this problem with using something like a `ThreadLocal` variable in your logging filter. That is set by the code that does the authentication. And based on that do your different logging. \r\n\r\nA simple example, in your filter class you could have something like this:\r\n\r\n```java\r\nprivate static final ThreadLocal&lt;String&gt; ROLE = new ThreadLocal&lt;&gt;();\r\n\r\npublic void doTheFiltering() {\r\n    String role = ROLE.get();\r\n    if (role == null) {\r\n        // not authenticated...\r\n    } else if (role.equals(&quot;ADMIN&quot;) {\r\n        // filter based on admin privileges\r\n    } else ...\r\n}\r\n\r\npublic static void setRole(String role) {\r\n    ROLE.set(role);\r\n}\r\n\r\npublic static void clearRole() {\r\n    ROLE.remove();\r\n}\r\n```\r\n\r\nAnd in your authentication code:\r\n\r\n```java\r\ntry {\r\n    String role = ... // find out role\r\n    MyFilter.setRole(role);\r\n    // continue with whatever you&#39;re doing\r\n} finally {\r\n    // clean up the role on this thread.\r\n    // this is especially needed when you&#39;re using a thread pool that handles requests.\r\n    MyFilter.clearRole();\r\n}","title":"How can I print different logs for different user roles in Java?","body":"<p>You could probably tackle this problem with using something like a <code>ThreadLocal</code> variable in your logging filter. That is set by the code that does the authentication. And based on that do your different logging.</p>\n<p>A simple example, in your filter class you could have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final ThreadLocal&lt;String&gt; ROLE = new ThreadLocal&lt;&gt;();\n\npublic void doTheFiltering() {\n    String role = ROLE.get();\n    if (role == null) {\n        // not authenticated...\n    } else if (role.equals(&quot;ADMIN&quot;) {\n        // filter based on admin privileges\n    } else ...\n}\n\npublic static void setRole(String role) {\n    ROLE.set(role);\n}\n\npublic static void clearRole() {\n    ROLE.remove();\n}\n</code></pre>\n<p>And in your authentication code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    String role = ... // find out role\n    MyFilter.setRole(role);\n    // continue with whatever you're doing\n} finally {\n    // clean up the role on this thread.\n    // this is especially needed when you're using a thread pool that handles requests.\n    MyFilter.clearRole();\n}\n</code></pre>\n"}],"owner":{"account_id":20876886,"reputation":31,"user_id":15335478,"display_name":"Sweta Dhanuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675975071,"creation_date":1668177519,"question_id":74404081,"body_markdown":"I&#39;m trying to do logging for different user roles (admin, developers, end users, etc.), and I want to show a different/filtered log for end-users. How can I achieve that?\r\n\r\nHow can I approach this problem?\r\n\r\n\r\n   ","title":"How can I print different logs for different user roles in Java?","body":"<p>I'm trying to do logging for different user roles (admin, developers, end users, etc.), and I want to show a different/filtered log for end-users. How can I achieve that?</p>\n<p>How can I approach this problem?</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1556595087,"post_id":55913491,"comment_id":98481544,"body_markdown":"What&#39;s the Suspend Policy? Does switching it to [Thread](https://i.imgur.com/c5vbeA2.png) help? See [this document](https://intellij-support.jetbrains.com/hc/articles/206544799). If it doesn&#39;t help, file a bug at https://youtrack.jetbrains.com/issues/IDEA and attach the following: [idea.log](https://intellij-support.jetbrains.com/hc/articles/207241085), [thread dumps](https://intellij-support.jetbrains.com/hc/articles/206544899) of IntelliJ IDEA and Tomcat processes using `jstack`, `.idea` directory contents from the project. Specify IntelliJ IDEA, Java and Tomcat versions you are using.","body":"What&#39;s the Suspend Policy? Does switching it to <a href=\"https://i.imgur.com/c5vbeA2.png\" rel=\"nofollow noreferrer\">Thread</a> help? See <a href=\"https://intellij-support.jetbrains.com/hc/articles/206544799\" rel=\"nofollow noreferrer\">this document</a>. If it doesn&#39;t help, file a bug at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> and attach the following: <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a>, <a href=\"https://intellij-support.jetbrains.com/hc/articles/206544899\" rel=\"nofollow noreferrer\">thread dumps</a> of IntelliJ IDEA and Tomcat processes using <code>jstack</code>, <code>.idea</code> directory contents from the project. Specify IntelliJ IDEA, Java and Tomcat versions you are using."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1556595107,"post_id":55913491,"comment_id":98481550,"body_markdown":"[Debugger logs](https://intellij-support.jetbrains.com/hc/articles/207241125) may be also helpful.","body":"<a href=\"https://intellij-support.jetbrains.com/hc/articles/207241125\" rel=\"nofollow noreferrer\">Debugger logs</a> may be also helpful."},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1556605276,"post_id":55913491,"comment_id":98484315,"body_markdown":"@CrazyCoder  It&#39;s thread policy.","body":"@CrazyCoder  It&#39;s thread policy."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1556607534,"post_id":55913491,"comment_id":98485269,"body_markdown":"Did you solve the problem?","body":"Did you solve the problem?"},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1556607941,"post_id":55913491,"comment_id":98485422,"body_markdown":"@CrazyCoder Not yet. I will file a bug and attach the log files.","body":"@CrazyCoder Not yet. I will file a bug and attach the log files."},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1557061120,"post_id":55913491,"comment_id":98632122,"body_markdown":"@CrazyCoder After closing the threads view, it became faster.","body":"@CrazyCoder After closing the threads view, it became faster."},{"owner":{"account_id":4356026,"reputation":1989,"user_id":3554624,"display_name":"panser"},"score":0,"creation_date":1597653657,"post_id":55913491,"comment_id":112192682,"body_markdown":"I had the same and here was my solution https://stackoverflow.com/a/63447369/3554624","body":"I had the same and here was my solution <a href=\"https://stackoverflow.com/a/63447369/3554624\">stackoverflow.com/a/63447369/3554624</a>"}],"answers":[{"comments":[{"owner":{"account_id":1510559,"reputation":3149,"user_id":1412803,"accept_rate":88,"display_name":"abiieez"},"score":3,"creation_date":1589548065,"post_id":55992190,"comment_id":109345104,"body_markdown":"I cant believe this actually solves my debugging issue.","body":"I cant believe this actually solves my debugging issue."},{"owner":{"account_id":1458297,"reputation":1783,"user_id":1373333,"display_name":"fireb86"},"score":3,"creation_date":1600353918,"post_id":55992190,"comment_id":113067159,"body_markdown":"I was hoping for it but it&#39;s not enough","body":"I was hoping for it but it&#39;s not enough"},{"owner":{"account_id":5880500,"reputation":1177,"user_id":4630050,"display_name":"Ariel Mirra"},"score":1,"creation_date":1652729627,"post_id":55992190,"comment_id":127671910,"body_markdown":"On intellij IDEA 2022.1 this doesn&#39;t solve the issue.","body":"On intellij IDEA 2022.1 this doesn&#39;t solve the issue."}],"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1600355530,"creation_date":1557061071,"answer_id":55992190,"question_id":55913491,"body_markdown":"I find this happens only when I open both *Thread View* and *Variable View*, like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo I closed the *Thread View*, and it became much faster:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yoFhT.png\r\n  [2]: https://i.stack.imgur.com/mMLSN.png","title":"IntelliJ IDEA stucks at &quot;collecting data&quot; while debug","body":"<p>I find this happens only when I open both <em>Thread View</em> and <em>Variable View</em>, like this</p>\n<p><a href=\"https://i.stack.imgur.com/yoFhT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yoFhT.png\" alt=\"enter image description here\" /></a></p>\n<p>So I closed the <em>Thread View</em>, and it became much faster:</p>\n<p><a href=\"https://i.stack.imgur.com/mMLSN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mMLSN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16623578,"reputation":171,"user_id":12013214,"display_name":"WASDi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666707919,"creation_date":1666707919,"answer_id":74195662,"question_id":55913491,"body_markdown":"A workaround for if the variable `x` is stuck at &quot;Collecting data...&quot;, evaluating its methods like `x.toString()` still worked for me to view its contents.","title":"IntelliJ IDEA stucks at &quot;collecting data&quot; while debug","body":"<p>A workaround for if the variable <code>x</code> is stuck at &quot;Collecting data...&quot;, evaluating its methods like <code>x.toString()</code> still worked for me to view its contents.</p>\n"},{"tags":[],"owner":{"account_id":17667530,"reputation":87,"user_id":12824563,"display_name":"Samantra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675973934,"creation_date":1675973934,"answer_id":75404006,"question_id":55913491,"body_markdown":"In my IntelliJ IDEA 2022.2 the issue touched only `List`-like collections (thus all objects containing them as fields).   \r\nWhat helped me is disabling `Enabling alternative view for Collection classes` option in Settings &gt; Debugger &gt; Data Views &gt; Java:\r\n[![enter image description here][1]][1]  \r\nNow it shows collection size and expandable items instead of `Collecting data...`:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KR9hk.png\r\n  [2]: https://i.stack.imgur.com/uQHXI.png","title":"IntelliJ IDEA stucks at &quot;collecting data&quot; while debug","body":"<p>In my IntelliJ IDEA 2022.2 the issue touched only <code>List</code>-like collections (thus all objects containing them as fields).<br />\nWhat helped me is disabling <code>Enabling alternative view for Collection classes</code> option in Settings &gt; Debugger &gt; Data Views &gt; Java:\n<a href=\"https://i.stack.imgur.com/KR9hk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KR9hk.png\" alt=\"enter image description here\" /></a><br />\nNow it shows collection size and expandable items instead of <code>Collecting data...</code>:\n<a href=\"https://i.stack.imgur.com/uQHXI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQHXI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11642,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":55992190,"answer_count":3,"score":11,"last_activity_date":1675973934,"creation_date":1556594040,"question_id":55913491,"body_markdown":"I&#39;m using IntelliJ IDEA to debug remote tomcat application.\r\n\r\nIt works perfect before.\r\n\r\nHowever, for recent times, it always get stuck at &quot;collecting data&quot;, though the data is very small.\r\n\r\nI have searched on this site, and tried:\r\n\r\nhttps://stackoverflow.com/questions/46292095/intelliji-idea-is-very-slow-in-debug-mode-and-it-is-running-perfectly-in-normal\r\n\r\nhttps://stackoverflow.com/questions/30625785/intellij-freezes-for-about-30-seconds-before-debugging\r\n\r\nStill does not work\r\n","title":"IntelliJ IDEA stucks at &quot;collecting data&quot; while debug","body":"<p>I'm using IntelliJ IDEA to debug remote tomcat application.</p>\n\n<p>It works perfect before.</p>\n\n<p>However, for recent times, it always get stuck at \"collecting data\", though the data is very small.</p>\n\n<p>I have searched on this site, and tried:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/46292095/intelliji-idea-is-very-slow-in-debug-mode-and-it-is-running-perfectly-in-normal\">Intelliji idea is very slow in debug mode and it is running perfectly in normal mode</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30625785/intellij-freezes-for-about-30-seconds-before-debugging\">IntelliJ freezes for about 30 seconds before debugging</a></p>\n\n<p>Still does not work</p>\n"},{"tags":["java","spring","spring-boot","docker","kubernetes"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675759000,"post_id":75370600,"comment_id":132992490,"body_markdown":"What are the differences between the versions? You actually left out the intersting bits in your logging (which is the information about the start (or non-start) of the application).","body":"What are the differences between the versions? You actually left out the intersting bits in your logging (which is the information about the start (or non-start) of the application)."},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1675763888,"post_id":75370600,"comment_id":132993987,"body_markdown":"could you post the full pod config yaml?\nis port 8080 exposed in the pod config?","body":"could you post the full pod config yaml? is port 8080 exposed in the pod config?"},{"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"score":0,"creation_date":1675764437,"post_id":75370600,"comment_id":132994160,"body_markdown":"have you checked the context path: https://stackoverflow.com/questions/55877188/spring-boot-actuator-returns-404-not-found","body":"have you checked the context path: <a href=\"https://stackoverflow.com/questions/55877188/spring-boot-actuator-returns-404-not-found\" title=\"spring boot actuator returns 404 not found\">stackoverflow.com/questions/55877188/&hellip;</a>"},{"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"score":0,"creation_date":1675801347,"post_id":75370600,"comment_id":133006048,"body_markdown":"@M.Deinum I added the description of the nodes, apart from the pods they&#39;re not different. I also added the full log","body":"@M.Deinum I added the description of the nodes, apart from the pods they&#39;re not different. I also added the full log"},{"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"score":0,"creation_date":1675801820,"post_id":75370600,"comment_id":133006177,"body_markdown":"@SimGel yes, te port 8080 is exposed, added the config yaml.","body":"@SimGel yes, te port 8080 is exposed, added the config yaml."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675843476,"post_id":75370600,"comment_id":133012871,"body_markdown":"The app takes some time to start about 30 seconds, is that a problem? You could enable full on debug logging `logging.level.root=DEBUG` or at least for the web stuff `logging.level.web=DEBUG` that will give some information on what is happening.","body":"The app takes some time to start about 30 seconds, is that a problem? You could enable full on debug logging <code>logging.level.root=DEBUG</code> or at least for the web stuff <code>logging.level.web=DEBUG</code> that will give some information on what is happening."},{"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"score":0,"creation_date":1675895804,"post_id":75370600,"comment_id":133029119,"body_markdown":"@M.Deinum Using the loggin level you suggested I can see the log from my last edit, so I can now confidently say that spring is reaching the readiness state but Tomcat (?) is not binding the port correctly.","body":"@M.Deinum Using the loggin level you suggested I can see the log from my last edit, so I can now confidently say that spring is reaching the readiness state but Tomcat (?) is not binding the port correctly."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675929610,"post_id":75370600,"comment_id":133034259,"body_markdown":"Did the exposed ports change? Here is nothing that should prevent it, so I suggest you go back and check what has changed between the working version and this one.","body":"Did the exposed ports change? Here is nothing that should prevent it, so I suggest you go back and check what has changed between the working version and this one."}],"answers":[{"comments":[{"owner":{"account_id":4541691,"reputation":54,"user_id":3689381,"display_name":"Gentoli"},"score":0,"creation_date":1675970473,"post_id":75403437,"comment_id":133047793,"body_markdown":"Thanks to stack overflow I can&#39;t comment on the question. But my spring boot app did start to have 404 on both actuator and the web parts after adding  opentelemetry-javaagent","body":"Thanks to stack overflow I can&#39;t comment on the question. But my spring boot app did start to have 404 on both actuator and the web parts after adding  opentelemetry-javaagent"},{"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"score":0,"creation_date":1676485348,"post_id":75403437,"comment_id":133148078,"body_markdown":"This is the reason, the pod gets ready with the latest tomcat if I either remove or add the new argument. Thanks!","body":"This is the reason, the pod gets ready with the latest tomcat if I either remove or add the new argument. Thanks!"},{"owner":{"account_id":8989466,"reputation":389,"user_id":6701921,"accept_rate":50,"display_name":"Kirit"},"score":0,"creation_date":1680288469,"post_id":75403437,"comment_id":133878887,"body_markdown":"Isn&#39;t that a bug on opentelemetry-javaagent though? What if we want auto-instrumentation on the tomcat library?","body":"Isn&#39;t that a bug on opentelemetry-javaagent though? What if we want auto-instrumentation on the tomcat library?"},{"owner":{"account_id":6681732,"reputation":353,"user_id":5154619,"display_name":"Davi Cavalcanti"},"score":0,"creation_date":1681186226,"post_id":75403437,"comment_id":134011811,"body_markdown":"I agree with @kirit\nI&#39;m having the same problem, but removing the agent is not an option.","body":"I agree with @kirit I&#39;m having the same problem, but removing the agent is not an option."}],"tags":[],"owner":{"account_id":4541691,"reputation":54,"user_id":3689381,"display_name":"Gentoli"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1675973833,"creation_date":1675970371,"answer_id":75403437,"question_id":75370600,"body_markdown":"remove `-javaagent:/workspace/WEB-INF/lib/honeycomb-opentelemetry-javaagent-1.0.0.jar`\r\n\r\nedit:\r\nLooks like adding `-Dotel.instrumentation.tomcat.enabled=false` will also fix the issue.","title":"Kubernetes pod with spring application is failing to start (all endpoints with 404)","body":"<p>remove <code>-javaagent:/workspace/WEB-INF/lib/honeycomb-opentelemetry-javaagent-1.0.0.jar</code></p>\n<p>edit:\nLooks like adding <code>-Dotel.instrumentation.tomcat.enabled=false</code> will also fix the issue.</p>\n"}],"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75403437,"answer_count":1,"score":0,"last_activity_date":1675973833,"creation_date":1675758061,"question_id":75370600,"body_markdown":"My team has a deployment process that involves using Spring&#39;s `bootBuildImage` to create the application image, then we deploy it to our Kubernetes cluster. Last week the deployment was working correctly but it suddenly stopped working.\r\n\r\nWhen we try to deploy a new version, the image is created correctly but the pod doesn&#39;t get `Ready` because the actuator endpoints return a 404 error.\r\n```bash\r\ncurl localhost:8080/actuator/health/liveness\r\n```\r\n```html\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;HTTP Status 404 – Not Found&lt;/title&gt;\r\n        &lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;HTTP Status 404 – Not Found&lt;/h1&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nI already added the health properties (even though we hadn&#39;t needed them before)\r\n```properties\r\nmanagement.endpoint.health.probes.enabled=true\r\nmanagement.health.livenessState.enabled=true\r\nmanagement.health.readinessState.enabled=true\r\n```\r\n\r\nThis is what Kubernetes says\r\n```\r\nPort:           8080/TCP\r\n    Host Port:      0/TCP\r\n    State:          Running\r\n      Started:      Tue, 07 Feb 2023 01:23:27 -0600\r\n    Ready:          False\r\n    Restart Count:  0\r\n    Liveness:       http-get http://:8080/actuator/health/liveness delay=60s timeout=1s period=30s #success=1 #failure=3\r\n    Readiness:      http-get http://:8080/actuator/health/readiness delay=60s timeout=1s period=10s #success=1 #failure=3\r\n...\r\nEvents:\r\n  Type     Reason     Age                From               Message\r\n  ----     ------     ----               ----               -------\r\n  Normal   Scheduled  2m30s              default-scheduler  Successfully assigned podname to ip-10-8-x-x.ap-northeast-1.compute.internal\r\n  Normal   Pulled     2m29s              kubelet            Container image &quot;registry.gitlab.com/integration-image&quot; already present on machine\r\n  Normal   Created    2m29s              kubelet            Created container ui-backend\r\n  Normal   Started    2m29s              kubelet            Started container ui-backend\r\n  Warning  Unhealthy  30s (x2 over 60s)  kubelet            Liveness probe failed: HTTP probe failed with statuscode: 404\r\n  Warning  Unhealthy  10s (x8 over 80s)  kubelet            Readiness probe failed: HTTP probe failed with statuscode: 404\r\n```\r\n\r\nI&#39;ve also tried:\r\n- extending the checks time\r\n- changing the port of the actuator\r\n- disabling spring tasks\r\n\r\nIn all of these cases spring starts but gets restarted by kubernetes after failing the readiness checks\r\n```\r\nSetting Active Processor Count to 2\r\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS\r\nCalculating JVM memory based on 5201M available memory\r\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator\r\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx4528339K -XX:MaxMetaspaceSize=285484K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5201M, Thread Count: 250, Loaded Class Count: 47989, Headroom: 0%)\r\nEnabling Java Native Memory Tracking\r\nAdding 124 container CA certificates to JVM truststore\r\nNOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=2 -Dspring.profiles.active=dev -Dspring.config.additional-location=optional:file:/config/,optional:file:/secret/ -Dsentry.environment=dev -Dhoneycomb.config.file=/secret/application.properties -javaagent:/workspace/WEB-INF/lib/honeycomb-opentelemetry-javaagent-1.0.0.jar -XX:MaxDirectMemorySize=10M -Xmx4528339K -XX:MaxMetaspaceSize=285484K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics\r\n[otel.javaagent 2023-02-02 03:27:59:129 +0000] [main] INFO io.opentelemetry.javaagent.tooling.VersionLogger - opentelemetry-javaagent - version: honeycomb-1.0.0-otel-1.12.0\r\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n[CONTAINER] org.apache.catalina.startup.Catalina               INFO    Server initialization in [968] milliseconds\r\n[CONTAINER] org.apache.catalina.core.StandardService           INFO    Starting service [Catalina]\r\n[CONTAINER] org.apache.catalina.core.StandardEngine            INFO    Starting Servlet engine: [Apache Tomcat/9.0.71]\r\n[CONTAINER] org.apache.catalina.startup.HostConfig             INFO    Deploying web application directory [/layers/paketo-buildpacks_apache-tomcat/catalina-base/webapps/ROOT]\r\n[CONTAINER] org.apache.jasper.servlet.TldScanner               INFO    At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    2 Spring WebApplicationInitializers detected on classpath\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.334Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Starting UiApplication using Java 11.0.18 on ui-backend-7b6ddf8f58-m8vtq with PID 1 (/workspace/WEB-INF/classes started by cnb in /workspace)&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774090677176}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.388Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Running with Spring Boot v2.5.8, Spring v5.3.14&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774144285955}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.388Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;The following profiles are active: dev&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774145291720}\r\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    Initializing Spring embedded WebApplicationContext\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:22.755Z&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration&quot;,&quot;message&quot;:&quot;spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377781511405545}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.660Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.report.ReportTemplateRegistry&quot;,&quot;message&quot;:&quot;report template registry -&gt; templates -&gt; {receipt_ja=app.route.ui.report.ReceiptReportTemplate@6dc0e992, invoice_ja=app.route.ui.report.InvoiceReportTemplate@6e221246}&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797416315839}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.675Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; start&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797431868400}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.721Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; cache created succefully&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797477131943}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.721Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; end&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797481925043}\r\n[CONTAINER] freemarker.configuration                           SEVERE  DefaultObjectWrapper.incompatibleImprovements was set to the object returned by Configuration.getVersion(). That defeats the purpose of incompatibleImprovements, and makes upgrading FreeMarker a potentially breaking change. Also, this probably won&#39;t be allowed starting from 2.4.0. Instead, set incompatibleImprovements to the highest concrete version that&#39;s known to be compatible with your application.\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:40.289Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.entity.storage.EntityStorageRegistry&quot;,&quot;message&quot;:&quot;entity storage registry -&gt; interceptors -&gt; [app.route.ui.entity.interceptor.UserInterceptor@3a94d628]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799045261311}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.091Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Ant [pattern=&#39;/actuator/health/**&#39;] with []&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799847478125}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.092Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Ant [pattern=&#39;/h2-console/**&#39;] with []&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799848958832}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.182Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Or [Ant [pattern=&#39;/admin/user/webhook&#39;], Ant [pattern=&#39;/v1/backups/webhoook/**&#39;]] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7843b634, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f514909, org.springframework.security.web.header.HeaderWriterFilter@22c59a39, org.springframework.security.web.authentication.logout.LogoutFilter@395a9cdb, app.route.ui.security.internal.ApiKeyAuthFilter@3d042a50, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1404f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50d8cc71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63b040d5, org.springframework.security.web.session.SessionManagementFilter@75c3b5ab, org.springframework.security.web.access.ExceptionTranslationFilter@763630ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7753b2e8]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799938730993}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.194Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c2cee82, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c3e87b8, org.springframework.security.web.header.HeaderWriterFilter@58e130bc, org.springframework.web.filter.CorsFilter@7c067793, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@43c49d4c, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@233b20ed, org.springframework.security.web.authentication.logout.LogoutFilter@4eb259f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@465b750a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@176ed9ad, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@1de33861, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@41dfea3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25cb293e, org.springframework.security.web.session.SessionManagementFilter@76a5b602, org.springframework.security.web.access.ExceptionTranslationFilter@160d925f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a5e6480]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799956811708}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:42.964Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Started UiApplication in 29.288 seconds (JVM running for 44.237)&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801720328782}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:43.156Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.interceptor.RequestLogFilter&quot;,&quot;message&quot;:&quot;Filter &#39;requestLogFilter&#39; configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801912945502}\r\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:43.160Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.security.UiAuthenticationFilter&quot;,&quot;message&quot;:&quot;Filter &#39;uiAuthenticationFilter&#39; configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801916847463}\r\n[CONTAINER] org.apache.catalina.startup.HostConfig             INFO    Deployment of web application directory [/layers/paketo-buildpacks_apache-tomcat/catalina-base/webapps/ROOT] has finished in [38,936] ms\r\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n[CONTAINER] org.apache.catalina.startup.Catalina               INFO    Server startup in [39138] milliseconds\r\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n[CONTAINER] org.apache.catalina.core.StandardService           INFO    Stopping service [Catalina]\r\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    Closing Spring root WebApplicationContext\r\n```\r\n\r\nI&#39;m not sure if this is a spring or a Kubernetes problem. Thank you.\r\n\r\nEdit: \r\nOther things that I&#39;ve tried are:\r\n- draining the nodes\r\n- running the images with `kubectl run` which starts spring, and I can reach the actuator endpoints but can&#39;t do anything else.\r\n\r\nNodes description.\r\n- Node where at least the previous deployment still works\r\n```\r\nName:               goodnode.ap-northeast-1.compute.internal\r\nRoles:              &lt;none&gt;\r\nLabels:             beta.kubernetes.io/arch=amd64\r\n                    beta.kubernetes.io/instance-type=m5.large\r\n                    beta.kubernetes.io/os=linux\r\n                    failure-domain.beta.kubernetes.io/region=ap-northeast-1\r\n                    failure-domain.beta.kubernetes.io/zone=ap-northeast-1a\r\n                    k8s.io/cloud-provider-aws=86af69e954aa5c8fc905ce14364ec305\r\n                    kubernetes.io/arch=amd64\r\n                    kubernetes.io/hostname=goodnode.ap-northeast-1.compute.internal\r\n                    kubernetes.io/os=linux\r\n                    node.kubernetes.io/instance-type=m5.large\r\n                    topology.kubernetes.io/region=ap-northeast-1\r\n                    topology.kubernetes.io/zone=ap-northeast-1a\r\nAnnotations:        node.alpha.kubernetes.io/ttl: 0\r\n                    volumes.kubernetes.io/controller-managed-attach-detach: true\r\nCreationTimestamp:  Tue, 22 Mar 2022 00:32:53 -0600\r\nTaints:             &lt;none&gt;\r\nUnschedulable:      false\r\nLease:\r\n  HolderIdentity:  goodnode.ap-northeast-1.compute.internal\r\n  AcquireTime:     &lt;unset&gt;\r\n  RenewTime:       Tue, 07 Feb 2023 13:13:59 -0600\r\nConditions:\r\n  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message\r\n  ----             ------  -----------------                 ------------------                ------                       -------\r\n  MemoryPressure   False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasSufficientMemory   kubelet has sufficient memory available\r\n  DiskPressure     False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasNoDiskPressure     kubelet has no disk pressure\r\n  PIDPressure      False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasSufficientPID      kubelet has sufficient PID available\r\n  Ready            True    Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:33:23 -0600   KubeletReady                 kubelet is posting ready status\r\nAddresses:\r\n  InternalIP:   goodnodeip\r\n  Hostname:     goodnode.ap-northeast-1.compute.internal\r\n  InternalDNS:  goodnode.ap-northeast-1.compute.internal\r\nCapacity:\r\n  attachable-volumes-aws-ebs:  25\r\n  cpu:                         2\r\n  ephemeral-storage:           52416492Ki\r\n  hugepages-1Gi:               0\r\n  hugepages-2Mi:               0\r\n  memory:                      7934440Ki\r\n  pods:                        29\r\nAllocatable:\r\n  attachable-volumes-aws-ebs:  25\r\n  cpu:                         1930m\r\n  ephemeral-storage:           47233297124\r\n  hugepages-1Gi:               0\r\n  hugepages-2Mi:               0\r\n  memory:                      7244264Ki\r\n  pods:                        29\r\nSystem Info:\r\n  Machine ID:                 ec26c540fc98771f\r\n  System UUID:                ec26c540-fc98-77\r\n  Boot ID:                    034cb48b-8129-40\r\n  Kernel Version:             5.4.181-99.354.amzn2.x86_64\r\n  OS Image:                   Amazon Linux 2\r\n  Operating System:           linux\r\n  Architecture:               amd64\r\n  Container Runtime Version:  docker://20.10.7\r\n  Kubelet Version:            v1.21.5-eks-9017834\r\n  Kube-Proxy Version:         v1.21.5-eks-9017834\r\nProviderID:                   aws:///ap-northeast-1a/i-01a03da4ffb56c6f0\r\nNon-terminated Pods:          (11 in total)\r\n  Namespace                   Name                                                               CPU Requests  CPU Limits  Memory Requests  Memory Limits  Age\r\n  ---------                   ----                                                               ------------  ----------  ---------------  -------------  ---\r\n  amazon-cloudwatch           cloudwatch-agent-b2cxj                                             200m (10%)    200m (10%)  200Mi (2%)       200Mi (2%)     322d\r\n  amazon-cloudwatch           fluent-bit-f825k                                                   500m (25%)    0 (0%)      100Mi (1%)       200Mi (2%)     322d\r\n  webapp                application A                            500m (25%)    1 (51%)     2G (26%)         4G (53%)       12h\r\n  webapp                application B                                  0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\r\n  webapp                APP_WITH_PROBLEMS                                         0 (0%)        0 (0%)      0 (0%)           0 (0%)         11h\r\n  kube-system                 alb-ingress-controller-aws-load-balancer-controller-76df65d6qrx    0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\r\n  kube-system                 alb-ingress-controller-aws-load-balancer-controller-76df65kwmss    0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\r\n  kube-system                 aws-node-g7bp7                                                     10m (0%)      0 (0%)      0 (0%)           0 (0%)         322d\r\n  kube-system                 coredns-54bc78bc49-6bdv6                                           100m (5%)     0 (0%)      70Mi (0%)        170Mi (2%)     12h\r\n  kube-system                 coredns-54bc78bc49-vh2rv                                           100m (5%)     0 (0%)      70Mi (0%)        170Mi (2%)     12h\r\n  kube-system                 kube-proxy-lt9bq                                                   100m (5%)     0 (0%)      0 (0%)           0 (0%)         322d\r\nAllocated resources:\r\n  (Total limits may be over 100 percent, i.e., overcommitted.)\r\n  Resource                    Requests         Limits\r\n  --------                    --------         ------\r\n  cpu                         1510m (78%)      1200m (62%)\r\n  memory                      2403685Ki (33%)  4664010Ki (64%)\r\n  ephemeral-storage           0 (0%)           0 (0%)\r\n  hugepages-1Gi               0 (0%)           0 (0%)\r\n  hugepages-2Mi               0 (0%)           0 (0%)\r\n  attachable-volumes-aws-ebs  0                0\r\nEvents:                       &lt;none&gt;\r\n```\r\n- Node where neither the previous deployment nor the new ones work.\r\n```\r\nName:               badnode.ap-northeast-1.compute.internal\r\nRoles:              &lt;none&gt;\r\nLabels:             beta.kubernetes.io/arch=amd64\r\n                    beta.kubernetes.io/instance-type=m5.large\r\n                    beta.kubernetes.io/os=linux\r\n                    failure-domain.beta.kubernetes.io/region=ap-northeast-1\r\n                    failure-domain.beta.kubernetes.io/zone=ap-northeast-1c\r\n                    k8s.io/cloud-provider-aws=86af69e954aa5c8fc905ce14364ec305\r\n                    kubernetes.io/arch=amd64\r\n                    kubernetes.io/hostname=badnode.ap-northeast-1.compute.internal\r\n                    kubernetes.io/os=linux\r\n                    node.kubernetes.io/instance-type=m5.large\r\n                    topology.kubernetes.io/region=ap-northeast-1\r\n                    topology.kubernetes.io/zone=ap-northeast-1c\r\nAnnotations:        node.alpha.kubernetes.io/ttl: 0\r\n                    volumes.kubernetes.io/controller-managed-attach-detach: true\r\nCreationTimestamp:  Tue, 22 Mar 2022 00:25:27 -0600\r\nTaints:             &lt;none&gt;\r\nUnschedulable:      false\r\nLease:\r\n  HolderIdentity:  badnode.ap-northeast-1.compute.internal\r\n  AcquireTime:     &lt;unset&gt;\r\n  RenewTime:       Tue, 07 Feb 2023 13:14:01 -0600\r\nConditions:\r\n  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message\r\n  ----             ------  -----------------                 ------------------                ------                       -------\r\n  MemoryPressure   False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasSufficientMemory   kubelet has sufficient memory available\r\n  DiskPressure     False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasNoDiskPressure     kubelet has no disk pressure\r\n  PIDPressure      False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasSufficientPID      kubelet has sufficient PID available\r\n  Ready            True    Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:57 -0600   KubeletReady                 kubelet is posting ready status\r\nAddresses:\r\n  InternalIP:   badnodeip\r\n  Hostname:     badnode.ap-northeast-1.compute.internal\r\n  InternalDNS:  badnode.ap-northeast-1.compute.internal\r\nCapacity:\r\n  attachable-volumes-aws-ebs:  25\r\n  cpu:                         2\r\n  ephemeral-storage:           52416492Ki\r\n  hugepages-1Gi:               0\r\n  hugepages-2Mi:               0\r\n  memory:                      7934440Ki\r\n  pods:                        29\r\nAllocatable:\r\n  attachable-volumes-aws-ebs:  25\r\n  cpu:                         1930m\r\n  ephemeral-storage:           47233297124\r\n  hugepages-1Gi:               0\r\n  hugepages-2Mi:               0\r\n  memory:                      7244264Ki\r\n  pods:                        29\r\nSystem Info:\r\n  Machine ID:                 ec28188afbf50b034\r\n  System UUID:                ec28188a-fbf5-0b0\r\n  Boot ID:                    316e2549-9735-4fe4\r\n  Kernel Version:             5.4.181-99.354.amzn2.x86_64\r\n  OS Image:                   Amazon Linux 2\r\n  Operating System:           linux\r\n  Architecture:               amd64\r\n  Container Runtime Version:  docker://20.10.7\r\n  Kubelet Version:            v1.21.5-eks-9017834\r\n  Kube-Proxy Version:         v1.21.5-eks-9017834\r\nProviderID:                   aws:///ap-northeast-1c/i-056ee5ae8f99b7076\r\nNon-terminated Pods:          (4 in total)\r\n  Namespace                   Name                      CPU Requests  CPU Limits  Memory Requests  Memory Limits  Age\r\n  ---------                   ----                      ------------  ----------  ---------------  -------------  ---\r\n  amazon-cloudwatch           cloudwatch-agent-v7kk2    200m (10%)    200m (10%)  200Mi (2%)       200Mi (2%)     322d\r\n  amazon-cloudwatch           fluent-bit-mfhxk          500m (25%)    0 (0%)      100Mi (1%)       200Mi (2%)     322d\r\n  kube-system                 aws-node-qsgkm            10m (0%)      0 (0%)      0 (0%)           0 (0%)         322d\r\n  kube-system                 kube-proxy-nlgxk          100m (5%)     0 (0%)      0 (0%)           0 (0%)         322d\r\nAllocated resources:\r\n  (Total limits may be over 100 percent, i.e., overcommitted.)\r\n  Resource                    Requests    Limits\r\n  --------                    --------    ------\r\n  cpu                         810m (41%)  200m (10%)\r\n  memory                      300Mi (4%)  400Mi (5%)\r\n  ephemeral-storage           0 (0%)      0 (0%)\r\n  hugepages-1Gi               0 (0%)      0 (0%)\r\n  hugepages-2Mi               0 (0%)      0 (0%)\r\n  attachable-volumes-aws-ebs  0           0\r\nEvents:                       &lt;none&gt;\r\n```\r\n```json\r\nresource &quot;kubernetes_deployment&quot; &quot;ui_backend&quot; {\r\n  metadata {\r\n    name      = local.name\r\n    namespace = local.namespace\r\n    labels = {\r\n      &quot;app.kubernetes.io/name&quot;       = local.name\r\n      &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\r\n    }\r\n  }\r\n\r\n  spec {\r\n    replicas = 1\r\n\r\n    selector {\r\n      match_labels = {\r\n        &quot;app.kubernetes.io/name&quot;       = local.name\r\n        &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\r\n      }\r\n    }\r\n\r\n    template {\r\n      metadata {\r\n        labels = {\r\n          &quot;app.kubernetes.io/name&quot;       = local.name\r\n          &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\r\n        }\r\n      }\r\n\r\n      spec {\r\n        service_account_name = local.name\r\n\r\n        image_pull_secrets {\r\n          name = &quot;gitlab-auth&quot;\r\n        }\r\n\r\n        container {\r\n          image = var.docker_image\r\n          name  = local.name\r\n          env {\r\n            name  = &quot;JAVA_OPTS&quot;\r\n            value = &quot;-Dspring.profiles.active=${var.environment} &quot;\r\n          }\r\n\r\n          port {\r\n            container_port = local.application_port\r\n          }\r\n\r\n          liveness_probe {\r\n            http_get {\r\n              path = &quot;/actuator/health/liveness&quot;\r\n              port = local.application_port\r\n            }\r\n\r\n            initial_delay_seconds = 60\r\n            period_seconds        = 30\r\n          }\r\n\r\n          readiness_probe {\r\n            http_get {\r\n              path = &quot;/actuator/health/readiness&quot;\r\n              port = local.application_port\r\n            }\r\n\r\n            initial_delay_seconds = 60\r\n            period_seconds        = 10\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nlogs with `logging.level.root=DEBUG`\r\n```\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.448Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state LivenessState changed to CORRECT&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674280192537}\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.451Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.devtools.restart.Restarter&quot;,&quot;message&quot;:&quot;Creating new Restarter for thread Thread[main,5,main]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674282973006}\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.454Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state ReadinessState changed to ACCEPTING_TRAFFIC&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674286139388}\r\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.496Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter&quot;,&quot;message&quot;:&quot;Filter &#39;requestContextFilter&#39; configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674328227052}\r\n```","title":"Kubernetes pod with spring application is failing to start (all endpoints with 404)","body":"<p>My team has a deployment process that involves using Spring's <code>bootBuildImage</code> to create the application image, then we deploy it to our Kubernetes cluster. Last week the deployment was working correctly but it suddenly stopped working.</p>\n<p>When we try to deploy a new version, the image is created correctly but the pod doesn't get <code>Ready</code> because the actuator endpoints return a 404 error.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl localhost:8080/actuator/health/liveness\n</code></pre>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n    &lt;head&gt;\n        &lt;title&gt;HTTP Status 404 – Not Found&lt;/title&gt;\n        &lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;HTTP Status 404 – Not Found&lt;/h1&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I already added the health properties (even though we hadn't needed them before)</p>\n<pre><code>management.endpoint.health.probes.enabled=true\nmanagement.health.livenessState.enabled=true\nmanagement.health.readinessState.enabled=true\n</code></pre>\n<p>This is what Kubernetes says</p>\n<pre><code>Port:           8080/TCP\n    Host Port:      0/TCP\n    State:          Running\n      Started:      Tue, 07 Feb 2023 01:23:27 -0600\n    Ready:          False\n    Restart Count:  0\n    Liveness:       http-get http://:8080/actuator/health/liveness delay=60s timeout=1s period=30s #success=1 #failure=3\n    Readiness:      http-get http://:8080/actuator/health/readiness delay=60s timeout=1s period=10s #success=1 #failure=3\n...\nEvents:\n  Type     Reason     Age                From               Message\n  ----     ------     ----               ----               -------\n  Normal   Scheduled  2m30s              default-scheduler  Successfully assigned podname to ip-10-8-x-x.ap-northeast-1.compute.internal\n  Normal   Pulled     2m29s              kubelet            Container image &quot;registry.gitlab.com/integration-image&quot; already present on machine\n  Normal   Created    2m29s              kubelet            Created container ui-backend\n  Normal   Started    2m29s              kubelet            Started container ui-backend\n  Warning  Unhealthy  30s (x2 over 60s)  kubelet            Liveness probe failed: HTTP probe failed with statuscode: 404\n  Warning  Unhealthy  10s (x8 over 80s)  kubelet            Readiness probe failed: HTTP probe failed with statuscode: 404\n</code></pre>\n<p>I've also tried:</p>\n<ul>\n<li>extending the checks time</li>\n<li>changing the port of the actuator</li>\n<li>disabling spring tasks</li>\n</ul>\n<p>In all of these cases spring starts but gets restarted by kubernetes after failing the readiness checks</p>\n<pre><code>Setting Active Processor Count to 2\nAdding $JAVA_OPTS to $JAVA_TOOL_OPTIONS\nCalculating JVM memory based on 5201M available memory\nFor more information on this calculation, see https://paketo.io/docs/reference/java-reference/#memory-calculator\nCalculated JVM Memory Configuration: -XX:MaxDirectMemorySize=10M -Xmx4528339K -XX:MaxMetaspaceSize=285484K -XX:ReservedCodeCacheSize=240M -Xss1M (Total Memory: 5201M, Thread Count: 250, Loaded Class Count: 47989, Headroom: 0%)\nEnabling Java Native Memory Tracking\nAdding 124 container CA certificates to JVM truststore\nNOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\nPicked up JAVA_TOOL_OPTIONS: -Djava.security.properties=/layers/paketo-buildpacks_bellsoft-liberica/java-security-properties/java-security.properties -XX:+ExitOnOutOfMemoryError -XX:ActiveProcessorCount=2 -Dspring.profiles.active=dev -Dspring.config.additional-location=optional:file:/config/,optional:file:/secret/ -Dsentry.environment=dev -Dhoneycomb.config.file=/secret/application.properties -javaagent:/workspace/WEB-INF/lib/honeycomb-opentelemetry-javaagent-1.0.0.jar -XX:MaxDirectMemorySize=10M -Xmx4528339K -XX:MaxMetaspaceSize=285484K -XX:ReservedCodeCacheSize=240M -Xss1M -XX:+UnlockDiagnosticVMOptions -XX:NativeMemoryTracking=summary -XX:+PrintNMTStatistics\n[otel.javaagent 2023-02-02 03:27:59:129 +0000] [main] INFO io.opentelemetry.javaagent.tooling.VersionLogger - opentelemetry-javaagent - version: honeycomb-1.0.0-otel-1.12.0\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n[CONTAINER] org.apache.catalina.startup.Catalina               INFO    Server initialization in [968] milliseconds\n[CONTAINER] org.apache.catalina.core.StandardService           INFO    Starting service [Catalina]\n[CONTAINER] org.apache.catalina.core.StandardEngine            INFO    Starting Servlet engine: [Apache Tomcat/9.0.71]\n[CONTAINER] org.apache.catalina.startup.HostConfig             INFO    Deploying web application directory [/layers/paketo-buildpacks_apache-tomcat/catalina-base/webapps/ROOT]\n[CONTAINER] org.apache.jasper.servlet.TldScanner               INFO    At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    2 Spring WebApplicationInitializers detected on classpath\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.334Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Starting UiApplication using Java 11.0.18 on ui-backend-7b6ddf8f58-m8vtq with PID 1 (/workspace/WEB-INF/classes started by cnb in /workspace)&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774090677176}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.388Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Running with Spring Boot v2.5.8, Spring v5.3.14&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774144285955}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:15.388Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;The following profiles are active: dev&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377774145291720}\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    Initializing Spring embedded WebApplicationContext\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:22.755Z&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration&quot;,&quot;message&quot;:&quot;spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377781511405545}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.660Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.report.ReportTemplateRegistry&quot;,&quot;message&quot;:&quot;report template registry -&gt; templates -&gt; {receipt_ja=app.route.ui.report.ReceiptReportTemplate@6dc0e992, invoice_ja=app.route.ui.report.InvoiceReportTemplate@6e221246}&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797416315839}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.675Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; start&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797431868400}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.721Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; cache created succefully&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797477131943}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:38.721Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.service.ReportService&quot;,&quot;message&quot;:&quot;report service -&gt; initialize -&gt; end&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377797481925043}\n[CONTAINER] freemarker.configuration                           SEVERE  DefaultObjectWrapper.incompatibleImprovements was set to the object returned by Configuration.getVersion(). That defeats the purpose of incompatibleImprovements, and makes upgrading FreeMarker a potentially breaking change. Also, this probably won't be allowed starting from 2.4.0. Instead, set incompatibleImprovements to the highest concrete version that's known to be compatible with your application.\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:40.289Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.entity.storage.EntityStorageRegistry&quot;,&quot;message&quot;:&quot;entity storage registry -&gt; interceptors -&gt; [app.route.ui.entity.interceptor.UserInterceptor@3a94d628]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799045261311}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.091Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Ant [pattern='/actuator/health/**'] with []&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799847478125}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.092Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Ant [pattern='/h2-console/**'] with []&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799848958832}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.182Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure Or [Ant [pattern='/admin/user/webhook'], Ant [pattern='/v1/backups/webhoook/**']] with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7843b634, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f514909, org.springframework.security.web.header.HeaderWriterFilter@22c59a39, org.springframework.security.web.authentication.logout.LogoutFilter@395a9cdb, app.route.ui.security.internal.ApiKeyAuthFilter@3d042a50, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1404f97, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50d8cc71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63b040d5, org.springframework.security.web.session.SessionManagementFilter@75c3b5ab, org.springframework.security.web.access.ExceptionTranslationFilter@763630ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7753b2e8]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799938730993}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:41.194Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.security.web.DefaultSecurityFilterChain&quot;,&quot;message&quot;:&quot;Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c2cee82, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c3e87b8, org.springframework.security.web.header.HeaderWriterFilter@58e130bc, org.springframework.web.filter.CorsFilter@7c067793, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@43c49d4c, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@233b20ed, org.springframework.security.web.authentication.logout.LogoutFilter@4eb259f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@465b750a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@176ed9ad, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@1de33861, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@41dfea3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25cb293e, org.springframework.security.web.session.SessionManagementFilter@76a5b602, org.springframework.security.web.access.ExceptionTranslationFilter@160d925f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a5e6480]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377799956811708}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:42.964Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app&quot;,&quot;message&quot;:&quot;Started UiApplication in 29.288 seconds (JVM running for 44.237)&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801720328782}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:43.156Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.interceptor.RequestLogFilter&quot;,&quot;message&quot;:&quot;Filter 'requestLogFilter' configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801912945502}\n{&quot;timestamp&quot;:&quot;2023-02-02T03:28:43.160Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;app.route.ui.security.UiAuthenticationFilter&quot;,&quot;message&quot;:&quot;Filter 'uiAuthenticationFilter' configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:27377801916847463}\n[CONTAINER] org.apache.catalina.startup.HostConfig             INFO    Deployment of web application directory [/layers/paketo-buildpacks_apache-tomcat/catalina-base/webapps/ROOT] has finished in [38,936] ms\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Starting ProtocolHandler [&quot;http-nio-8080&quot;]\n[CONTAINER] org.apache.catalina.startup.Catalina               INFO    Server startup in [39138] milliseconds\n[CONTAINER] org.apache.coyote.http11.Http11NioProtocol         INFO    Pausing ProtocolHandler [&quot;http-nio-8080&quot;]\n[CONTAINER] org.apache.catalina.core.StandardService           INFO    Stopping service [Catalina]\n[CONTAINER] lina.core.ContainerBase.[Catalina].[localhost].[/] INFO    Closing Spring root WebApplicationContext\n</code></pre>\n<p>I'm not sure if this is a spring or a Kubernetes problem. Thank you.</p>\n<p>Edit:\nOther things that I've tried are:</p>\n<ul>\n<li>draining the nodes</li>\n<li>running the images with <code>kubectl run</code> which starts spring, and I can reach the actuator endpoints but can't do anything else.</li>\n</ul>\n<p>Nodes description.</p>\n<ul>\n<li>Node where at least the previous deployment still works</li>\n</ul>\n<pre><code>Name:               goodnode.ap-northeast-1.compute.internal\nRoles:              &lt;none&gt;\nLabels:             beta.kubernetes.io/arch=amd64\n                    beta.kubernetes.io/instance-type=m5.large\n                    beta.kubernetes.io/os=linux\n                    failure-domain.beta.kubernetes.io/region=ap-northeast-1\n                    failure-domain.beta.kubernetes.io/zone=ap-northeast-1a\n                    k8s.io/cloud-provider-aws=86af69e954aa5c8fc905ce14364ec305\n                    kubernetes.io/arch=amd64\n                    kubernetes.io/hostname=goodnode.ap-northeast-1.compute.internal\n                    kubernetes.io/os=linux\n                    node.kubernetes.io/instance-type=m5.large\n                    topology.kubernetes.io/region=ap-northeast-1\n                    topology.kubernetes.io/zone=ap-northeast-1a\nAnnotations:        node.alpha.kubernetes.io/ttl: 0\n                    volumes.kubernetes.io/controller-managed-attach-detach: true\nCreationTimestamp:  Tue, 22 Mar 2022 00:32:53 -0600\nTaints:             &lt;none&gt;\nUnschedulable:      false\nLease:\n  HolderIdentity:  goodnode.ap-northeast-1.compute.internal\n  AcquireTime:     &lt;unset&gt;\n  RenewTime:       Tue, 07 Feb 2023 13:13:59 -0600\nConditions:\n  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message\n  ----             ------  -----------------                 ------------------                ------                       -------\n  MemoryPressure   False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasSufficientMemory   kubelet has sufficient memory available\n  DiskPressure     False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasNoDiskPressure     kubelet has no disk pressure\n  PIDPressure      False   Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:32:51 -0600   KubeletHasSufficientPID      kubelet has sufficient PID available\n  Ready            True    Tue, 07 Feb 2023 13:11:07 -0600   Tue, 22 Mar 2022 00:33:23 -0600   KubeletReady                 kubelet is posting ready status\nAddresses:\n  InternalIP:   goodnodeip\n  Hostname:     goodnode.ap-northeast-1.compute.internal\n  InternalDNS:  goodnode.ap-northeast-1.compute.internal\nCapacity:\n  attachable-volumes-aws-ebs:  25\n  cpu:                         2\n  ephemeral-storage:           52416492Ki\n  hugepages-1Gi:               0\n  hugepages-2Mi:               0\n  memory:                      7934440Ki\n  pods:                        29\nAllocatable:\n  attachable-volumes-aws-ebs:  25\n  cpu:                         1930m\n  ephemeral-storage:           47233297124\n  hugepages-1Gi:               0\n  hugepages-2Mi:               0\n  memory:                      7244264Ki\n  pods:                        29\nSystem Info:\n  Machine ID:                 ec26c540fc98771f\n  System UUID:                ec26c540-fc98-77\n  Boot ID:                    034cb48b-8129-40\n  Kernel Version:             5.4.181-99.354.amzn2.x86_64\n  OS Image:                   Amazon Linux 2\n  Operating System:           linux\n  Architecture:               amd64\n  Container Runtime Version:  docker://20.10.7\n  Kubelet Version:            v1.21.5-eks-9017834\n  Kube-Proxy Version:         v1.21.5-eks-9017834\nProviderID:                   aws:///ap-northeast-1a/i-01a03da4ffb56c6f0\nNon-terminated Pods:          (11 in total)\n  Namespace                   Name                                                               CPU Requests  CPU Limits  Memory Requests  Memory Limits  Age\n  ---------                   ----                                                               ------------  ----------  ---------------  -------------  ---\n  amazon-cloudwatch           cloudwatch-agent-b2cxj                                             200m (10%)    200m (10%)  200Mi (2%)       200Mi (2%)     322d\n  amazon-cloudwatch           fluent-bit-f825k                                                   500m (25%)    0 (0%)      100Mi (1%)       200Mi (2%)     322d\n  webapp                application A                            500m (25%)    1 (51%)     2G (26%)         4G (53%)       12h\n  webapp                application B                                  0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\n  webapp                APP_WITH_PROBLEMS                                         0 (0%)        0 (0%)      0 (0%)           0 (0%)         11h\n  kube-system                 alb-ingress-controller-aws-load-balancer-controller-76df65d6qrx    0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\n  kube-system                 alb-ingress-controller-aws-load-balancer-controller-76df65kwmss    0 (0%)        0 (0%)      0 (0%)           0 (0%)         12h\n  kube-system                 aws-node-g7bp7                                                     10m (0%)      0 (0%)      0 (0%)           0 (0%)         322d\n  kube-system                 coredns-54bc78bc49-6bdv6                                           100m (5%)     0 (0%)      70Mi (0%)        170Mi (2%)     12h\n  kube-system                 coredns-54bc78bc49-vh2rv                                           100m (5%)     0 (0%)      70Mi (0%)        170Mi (2%)     12h\n  kube-system                 kube-proxy-lt9bq                                                   100m (5%)     0 (0%)      0 (0%)           0 (0%)         322d\nAllocated resources:\n  (Total limits may be over 100 percent, i.e., overcommitted.)\n  Resource                    Requests         Limits\n  --------                    --------         ------\n  cpu                         1510m (78%)      1200m (62%)\n  memory                      2403685Ki (33%)  4664010Ki (64%)\n  ephemeral-storage           0 (0%)           0 (0%)\n  hugepages-1Gi               0 (0%)           0 (0%)\n  hugepages-2Mi               0 (0%)           0 (0%)\n  attachable-volumes-aws-ebs  0                0\nEvents:                       &lt;none&gt;\n</code></pre>\n<ul>\n<li>Node where neither the previous deployment nor the new ones work.</li>\n</ul>\n<pre><code>Name:               badnode.ap-northeast-1.compute.internal\nRoles:              &lt;none&gt;\nLabels:             beta.kubernetes.io/arch=amd64\n                    beta.kubernetes.io/instance-type=m5.large\n                    beta.kubernetes.io/os=linux\n                    failure-domain.beta.kubernetes.io/region=ap-northeast-1\n                    failure-domain.beta.kubernetes.io/zone=ap-northeast-1c\n                    k8s.io/cloud-provider-aws=86af69e954aa5c8fc905ce14364ec305\n                    kubernetes.io/arch=amd64\n                    kubernetes.io/hostname=badnode.ap-northeast-1.compute.internal\n                    kubernetes.io/os=linux\n                    node.kubernetes.io/instance-type=m5.large\n                    topology.kubernetes.io/region=ap-northeast-1\n                    topology.kubernetes.io/zone=ap-northeast-1c\nAnnotations:        node.alpha.kubernetes.io/ttl: 0\n                    volumes.kubernetes.io/controller-managed-attach-detach: true\nCreationTimestamp:  Tue, 22 Mar 2022 00:25:27 -0600\nTaints:             &lt;none&gt;\nUnschedulable:      false\nLease:\n  HolderIdentity:  badnode.ap-northeast-1.compute.internal\n  AcquireTime:     &lt;unset&gt;\n  RenewTime:       Tue, 07 Feb 2023 13:14:01 -0600\nConditions:\n  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message\n  ----             ------  -----------------                 ------------------                ------                       -------\n  MemoryPressure   False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasSufficientMemory   kubelet has sufficient memory available\n  DiskPressure     False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasNoDiskPressure     kubelet has no disk pressure\n  PIDPressure      False   Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:25 -0600   KubeletHasSufficientPID      kubelet has sufficient PID available\n  Ready            True    Tue, 07 Feb 2023 13:12:59 -0600   Tue, 22 Mar 2022 00:25:57 -0600   KubeletReady                 kubelet is posting ready status\nAddresses:\n  InternalIP:   badnodeip\n  Hostname:     badnode.ap-northeast-1.compute.internal\n  InternalDNS:  badnode.ap-northeast-1.compute.internal\nCapacity:\n  attachable-volumes-aws-ebs:  25\n  cpu:                         2\n  ephemeral-storage:           52416492Ki\n  hugepages-1Gi:               0\n  hugepages-2Mi:               0\n  memory:                      7934440Ki\n  pods:                        29\nAllocatable:\n  attachable-volumes-aws-ebs:  25\n  cpu:                         1930m\n  ephemeral-storage:           47233297124\n  hugepages-1Gi:               0\n  hugepages-2Mi:               0\n  memory:                      7244264Ki\n  pods:                        29\nSystem Info:\n  Machine ID:                 ec28188afbf50b034\n  System UUID:                ec28188a-fbf5-0b0\n  Boot ID:                    316e2549-9735-4fe4\n  Kernel Version:             5.4.181-99.354.amzn2.x86_64\n  OS Image:                   Amazon Linux 2\n  Operating System:           linux\n  Architecture:               amd64\n  Container Runtime Version:  docker://20.10.7\n  Kubelet Version:            v1.21.5-eks-9017834\n  Kube-Proxy Version:         v1.21.5-eks-9017834\nProviderID:                   aws:///ap-northeast-1c/i-056ee5ae8f99b7076\nNon-terminated Pods:          (4 in total)\n  Namespace                   Name                      CPU Requests  CPU Limits  Memory Requests  Memory Limits  Age\n  ---------                   ----                      ------------  ----------  ---------------  -------------  ---\n  amazon-cloudwatch           cloudwatch-agent-v7kk2    200m (10%)    200m (10%)  200Mi (2%)       200Mi (2%)     322d\n  amazon-cloudwatch           fluent-bit-mfhxk          500m (25%)    0 (0%)      100Mi (1%)       200Mi (2%)     322d\n  kube-system                 aws-node-qsgkm            10m (0%)      0 (0%)      0 (0%)           0 (0%)         322d\n  kube-system                 kube-proxy-nlgxk          100m (5%)     0 (0%)      0 (0%)           0 (0%)         322d\nAllocated resources:\n  (Total limits may be over 100 percent, i.e., overcommitted.)\n  Resource                    Requests    Limits\n  --------                    --------    ------\n  cpu                         810m (41%)  200m (10%)\n  memory                      300Mi (4%)  400Mi (5%)\n  ephemeral-storage           0 (0%)      0 (0%)\n  hugepages-1Gi               0 (0%)      0 (0%)\n  hugepages-2Mi               0 (0%)      0 (0%)\n  attachable-volumes-aws-ebs  0           0\nEvents:                       &lt;none&gt;\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>resource &quot;kubernetes_deployment&quot; &quot;ui_backend&quot; {\n  metadata {\n    name      = local.name\n    namespace = local.namespace\n    labels = {\n      &quot;app.kubernetes.io/name&quot;       = local.name\n      &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\n    }\n  }\n\n  spec {\n    replicas = 1\n\n    selector {\n      match_labels = {\n        &quot;app.kubernetes.io/name&quot;       = local.name\n        &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\n      }\n    }\n\n    template {\n      metadata {\n        labels = {\n          &quot;app.kubernetes.io/name&quot;       = local.name\n          &quot;app.kubernetes.io/managed-by&quot; = local.managed_by\n        }\n      }\n\n      spec {\n        service_account_name = local.name\n\n        image_pull_secrets {\n          name = &quot;gitlab-auth&quot;\n        }\n\n        container {\n          image = var.docker_image\n          name  = local.name\n          env {\n            name  = &quot;JAVA_OPTS&quot;\n            value = &quot;-Dspring.profiles.active=${var.environment} &quot;\n          }\n\n          port {\n            container_port = local.application_port\n          }\n\n          liveness_probe {\n            http_get {\n              path = &quot;/actuator/health/liveness&quot;\n              port = local.application_port\n            }\n\n            initial_delay_seconds = 60\n            period_seconds        = 30\n          }\n\n          readiness_probe {\n            http_get {\n              path = &quot;/actuator/health/readiness&quot;\n              port = local.application_port\n            }\n\n            initial_delay_seconds = 60\n            period_seconds        = 10\n          }\n\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>logs with <code>logging.level.root=DEBUG</code></p>\n<pre><code>{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.448Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state LivenessState changed to CORRECT&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674280192537}\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.451Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.devtools.restart.Restarter&quot;,&quot;message&quot;:&quot;Creating new Restarter for thread Thread[main,5,main]&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674282973006}\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.454Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.availability.ApplicationAvailabilityBean&quot;,&quot;message&quot;:&quot;Application availability state ReadinessState changed to ACCEPTING_TRAFFIC&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674286139388}\n{&quot;timestamp&quot;:&quot;2023-02-08T21:28:40.496Z&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter&quot;,&quot;message&quot;:&quot;Filter 'requestContextFilter' configured for use&quot;,&quot;context&quot;:&quot;default&quot;,&quot;nanotime&quot;:142674328227052}\n</code></pre>\n"},{"tags":["java","java-time","week-number","gregorian-calendar","java.util.calendar"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1672276279,"post_id":74946340,"comment_id":132257839,"body_markdown":"What is your LOCALE?","body":"What is your LOCALE?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1672276569,"post_id":74946340,"comment_id":132257872,"body_markdown":"Can you elaborate what you&#39;re using `GregorianCalendar` for?  It&#39;s based on `Calendar`, which is known to be almost impossible to use correctly.","body":"Can you elaborate what you&#39;re using <code>GregorianCalendar</code> for?  It&#39;s based on <code>Calendar</code>, which is known to be almost impossible to use correctly."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1672276590,"post_id":74946340,"comment_id":132257877,"body_markdown":"I think the accepted answer to [this question](https://stackoverflow.com/q/69300459/18157) is what you&#39;re looking for.  Java has ***three*** different locale settings, and a careful reading of the Javadoc shows the &quot;pure&quot; `GregorianCalendar` and the one from ZDT use _different_ locales.  As @LouisWasserman says, avoid `GregorianCalendar` if at all possible, it&#39;s a minefield.","body":"I think the accepted answer to <a href=\"https://stackoverflow.com/q/69300459/18157\">this question</a> is what you&#39;re looking for.  Java has <b><i>three</i></b> different locale settings, and a careful reading of the Javadoc shows the &quot;pure&quot; <code>GregorianCalendar</code> and the one from ZDT use <i>different</i> locales.  As @LouisWasserman says, avoid <code>GregorianCalendar</code> if at all possible, it&#39;s a minefield."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":2,"creation_date":1672277204,"post_id":74946340,"comment_id":132257952,"body_markdown":"Pro Tip: The only absolutely &quot;safe&quot; object that has no pitfalls is `Instant`. It represents a unique point on the time line.  Everything else has nuances related to politics and representation, and is incredibly messy. The newer `java.time` classes are a huge improvement, but there are still traps and unintuitive behaviors.","body":"Pro Tip: The only absolutely &quot;safe&quot; object that has no pitfalls is <code>Instant</code>. It represents a unique point on the time line.  Everything else has nuances related to politics and representation, and is incredibly messy. The newer <code>java.time</code> classes are a huge improvement, but there are still traps and unintuitive behaviors."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1672292622,"post_id":74946340,"comment_id":132259818,"body_markdown":"`ZonedDateTime` uses ISO chronology, so the `GregorianCalendar` that you get from it uses ISO weeks: the week starts on Monday, and week 1 is the first week that has at least 4 days of the new year in it. The `GregorianCalendar` that you create yourself follows your default locale (as @JimGarrison hinted), which probably has a different definition of weeks.  Try printing `cal.getFirstDayOfWeek()` and `cal.getMinimalDaysInFirstWeek()`. You may also try using the corresponding setters.","body":"<code>ZonedDateTime</code> uses ISO chronology, so the <code>GregorianCalendar</code> that you get from it uses ISO weeks: the week starts on Monday, and week 1 is the first week that has at least 4 days of the new year in it. The <code>GregorianCalendar</code> that you create yourself follows your default locale (as @JimGarrison hinted), which probably has a different definition of weeks.  Try printing <code>cal.getFirstDayOfWeek()</code> and <code>cal.getMinimalDaysInFirstWeek()</code>. You may also try using the corresponding setters."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672293062,"post_id":74946340,"comment_id":132259907,"body_markdown":"Or from the docs: *The `getFirstDayOfWeek()` and `getMinimalDaysInFirstWeek()` values are initialized using locale-dependent resources when constructing a `GregorianCalendar`. The week determination is compatible with the ISO 8601 standard when `getFirstDayOfWeek()` is `MONDAY` and `getMinimalDaysInFirstWeek()` is `4`, which values are used in locales where the standard is preferred. These values can explicitly be set by calling `setFirstDayOfWeek()` and `setMinimalDaysInFirstWeek()`.*","body":"Or from the docs: <i>The <code>getFirstDayOfWeek()</code> and <code>getMinimalDaysInFirstWeek()</code> values are initialized using locale-dependent resources when constructing a <code>GregorianCalendar</code>. The week determination is compatible with the ISO 8601 standard when <code>getFirstDayOfWeek()</code> is <code>MONDAY</code> and <code>getMinimalDaysInFirstWeek()</code> is <code>4</code>, which values are used in locales where the standard is preferred. These values can explicitly be set by calling <code>setFirstDayOfWeek()</code> and <code>setMinimalDaysInFirstWeek()</code>.</i>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672293164,"post_id":74946340,"comment_id":132259922,"body_markdown":"And about the `from` method: *the return GregorianCalendar ... uses ISO 8601 standard for week definitions, which has `MONDAY` as the `FirstDayOfWeek` and `4` as the value of the `MinimalDaysInFirstWeek`.*","body":"And about the <code>from</code> method: <i>the return GregorianCalendar ... uses ISO 8601 standard for week definitions, which has <code>MONDAY</code> as the <code>FirstDayOfWeek</code> and <code>4</code> as the value of the <code>MinimalDaysInFirstWeek</code>.</i>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672303345,"post_id":74946340,"comment_id":132261977,"body_markdown":"(What I said also means that [the documentation of `from()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/GregorianCalendar.html#from(java.time.ZonedDateTime)) is telling a lie when it says *Obtains an instance of `GregorianCalendar` with the default locale from a `ZonedDateTime` object.*. The default locale plays no effective role in the creation of the `GregorianCalendar`.)","body":"(What I said also means that <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/GregorianCalendar.html#from(java.time.ZonedDateTime)\" rel=\"nofollow noreferrer\">the documentation of <code>from()</code></a> is telling a lie when it says <i>Obtains an instance of <code>GregorianCalendar</code> with the default locale from a <code>ZonedDateTime</code> object.</i>. The default locale plays no effective role in the creation of the <code>GregorianCalendar</code>.)"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1672338747,"post_id":74946340,"comment_id":132271761,"body_markdown":"All of the above suggests: _&quot;Friends don&#39;t let friends use `GregorianCalendar`&quot;_","body":"All of the above suggests: <i>&quot;Friends don&#39;t let friends use <code>GregorianCalendar</code>&quot;</i>"},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1672442426,"post_id":74946340,"comment_id":132292274,"body_markdown":"Well... As I said... I&#39;m just making a bridge from an API to another. The target one uses GregorianCalendar and there is nothing I can do about it.","body":"Well... As I said... I&#39;m just making a bridge from an API to another. The target one uses GregorianCalendar and there is nothing I can do about it."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1672442782,"post_id":74946340,"comment_id":132292322,"body_markdown":"Adding `calendarFromZdt.setFirstDayOfWeek(Calendar.SUNDAY);` and `calendarFromZdt.setMinimalDaysInFirstWeek(1);` did the trick. Thank you.","body":"Adding <code>calendarFromZdt.setFirstDayOfWeek(Calendar.SUNDAY);</code> and <code>calendarFromZdt.setMinimalDaysInFirstWeek(1);</code> did the trick. Thank you."},{"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"score":0,"creation_date":1672442868,"post_id":74946340,"comment_id":132292334,"body_markdown":"Thanks @OleV.V. Your comments put all together completely answers the question. Put all together in an answer and I&#39;ll accept it.","body":"Thanks @OleV.V. Your comments put all together completely answers the question. Put all together in an answer and I&#39;ll accept it."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672469034,"post_id":74946340,"comment_id":132294907,"body_markdown":"Great to read. I no longer contribute answers to Stack Overflow for reasons that I try to explain in [my proflie](https://stackoverflow.com/users/5772882/ole-v-v). Please, if you put together the answer — I can’t promise to accept the answer, but will be happy to upvote it (and you can accept it yourself 12 hours later).","body":"Great to read. I no longer contribute answers to Stack Overflow for reasons that I try to explain in <a href=\"https://stackoverflow.com/users/5772882/ole-v-v\">my proflie</a>. Please, if you put together the answer — I can’t promise to accept the answer, but will be happy to upvote it (and you can accept it yourself 12 hours later)."}],"owner":{"account_id":154112,"reputation":4462,"user_id":369824,"accept_rate":50,"display_name":"L. Holanda"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675973667,"creation_date":1672275701,"question_id":74946340,"body_markdown":"I&#39;m writing some integration of legacy code that expects date/time as a GregorianCalendar. \r\n\r\nSo, I&#39;m creating the GregorianCalendar using `from(ZonedDateTime)` method.\r\n\r\nHowever, the result is showing some inconsistent behaviour when the GregorianCalendar is created from the ZonedDateTime versus when the GregorianCalendar is created, let&#39;s say, from a string parsing or even from epoch millis. For example, when setting the Calendar day_of_week. To demonstrate this (https://onecompiler.com/java/3yssz4q86):\r\n\r\n```\r\nimport java.util.*;\r\nimport java.time.*;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    final GregorianCalendar calendarPure = new GregorianCalendar(TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;));\r\n    printInfo(calendarPure);\r\n\r\n    ZoneId zone = ZoneId.of(&quot;America/Los_Angeles&quot;);\r\n    final ZonedDateTime zdtNow = ZonedDateTime.now(zone);\r\n    \r\n    final GregorianCalendar calendarFromZdt = GregorianCalendar.from(zdtNow);\r\n    printInfo(calendarFromZdt);\r\n    \r\n    final GregorianCalendar calendarFromZdtEpoch = new GregorianCalendar();\r\n    calendarFromZdtEpoch.setTimeInMillis(zdtNow.toInstant().toEpochMilli());\r\n\r\n    printInfo(calendarFromZdtEpoch);\r\n  }\r\n  \r\n  private static void printInfo(GregorianCalendar cal) {\r\n    System.out.printf(&quot;Now: %tc%n&quot;, cal);\r\n    System.out.printf(&quot;Last Sunday: %tc%n&quot;, getLastSunday(cal));\r\n    System.out.printf(&quot;Week of Year: %d%n&quot;, cal.get(Calendar.WEEK_OF_YEAR));\r\n    System.out.printf(&quot;Time in Millis: %d%n&quot;, cal.getTimeInMillis());\r\n    System.out.printf(&quot;toString(): %s%n&quot;, cal);\r\n    System.out.println();\r\n  }\r\n  \r\n  public static GregorianCalendar getLastSunday(GregorianCalendar referenceDate) {\r\n    final GregorianCalendar lastSundayMidNight = (GregorianCalendar)referenceDate.clone();\r\n    lastSundayMidNight.set(Calendar.DAY_OF_WEEK, Calendar.SUNDAY);\r\n    return lastSundayMidNight;\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe output is: \r\n\r\n```\r\nNow: Wed Dec 28 16:45:36 PST 2022\r\nLast Sunday: Sun Dec 25 16:45:36 PST 2022\r\nWeek of Year: 53\r\nTime in Millis: 1672274736631\r\ntoString(): java.util.GregorianCalendar[time=1672274736631,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=53,WEEK_OF_MONTH=5,DAY_OF_MONTH=28,DAY_OF_YEAR=362,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=4,HOUR_OF_DAY=16,MINUTE=45,SECOND=36,MILLISECOND=631,ZONE_OFFSET=-28800000,DST_OFFSET=0]\r\n\r\nNow: Wed Dec 28 16:45:36 PST 2022\r\nLast Sunday: Sun Jan 01 16:45:36 PST 2023\r\nWeek of Year: 52\r\nTime in Millis: 1672274736668\r\ntoString(): java.util.GregorianCalendar[time=1672274736668,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=52,WEEK_OF_MONTH=5,DAY_OF_MONTH=28,DAY_OF_YEAR=362,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=4,HOUR_OF_DAY=16,MINUTE=45,SECOND=36,MILLISECOND=668,ZONE_OFFSET=-28800000,DST_OFFSET=0]\r\n\r\nNow: Thu Dec 29 00:45:36 UTC 2022\r\nLast Sunday: Sun Dec 25 00:45:36 UTC 2022\r\nWeek of Year: 53\r\nTime in Millis: 1672274736668\r\ntoString(): java.util.GregorianCalendar[time=1672274736668,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Etc/UTC&quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=53,WEEK_OF_MONTH=5,DAY_OF_MONTH=29,DAY_OF_YEAR=363,DAY_OF_WEEK=5,DAY_OF_WEEK_IN_MONTH=5,AM_PM=0,HOUR=0,HOUR_OF_DAY=0,MINUTE=45,SECOND=36,MILLISECOND=668,ZONE_OFFSET=0,DST_OFFSET=0]\r\n```\r\n\r\nI noticed that, from `GregorianCalendar.toString()` that prints the internal fields a different in `firstDayOfWeek` and `minimalDaysInFirstWeek`. That could be the cause for the divergence in the after results. I wonder where the GregorianCalendar is getting these values from. Maybe there is a way to set something on ZonedDateTime object that will ensure the results will be the same? Couldn&#39;t find anything on javadocs.\r\n\r\nNote: Please, don&#39;t tell me not to use `GregorianCalendar`. I know, I know. I&#39;m just writing an integration for two pieces of code that I&#39;m not allowed to modify, one uses `GregorianCalendar` (sigh), the other uses `ZonedDateTime`.","title":"Inconsistent behaviour of GregorianCalendar when created from ZonedDateTime","body":"<p>I'm writing some integration of legacy code that expects date/time as a GregorianCalendar.</p>\n<p>So, I'm creating the GregorianCalendar using <code>from(ZonedDateTime)</code> method.</p>\n<p>However, the result is showing some inconsistent behaviour when the GregorianCalendar is created from the ZonedDateTime versus when the GregorianCalendar is created, let's say, from a string parsing or even from epoch millis. For example, when setting the Calendar day_of_week. To demonstrate this (<a href=\"https://onecompiler.com/java/3yssz4q86\" rel=\"nofollow noreferrer\">https://onecompiler.com/java/3yssz4q86</a>):</p>\n<pre><code>import java.util.*;\nimport java.time.*;\n\npublic class Main {\n  public static void main(String[] args) {\n    final GregorianCalendar calendarPure = new GregorianCalendar(TimeZone.getTimeZone(&quot;America/Los_Angeles&quot;));\n    printInfo(calendarPure);\n\n    ZoneId zone = ZoneId.of(&quot;America/Los_Angeles&quot;);\n    final ZonedDateTime zdtNow = ZonedDateTime.now(zone);\n    \n    final GregorianCalendar calendarFromZdt = GregorianCalendar.from(zdtNow);\n    printInfo(calendarFromZdt);\n    \n    final GregorianCalendar calendarFromZdtEpoch = new GregorianCalendar();\n    calendarFromZdtEpoch.setTimeInMillis(zdtNow.toInstant().toEpochMilli());\n\n    printInfo(calendarFromZdtEpoch);\n  }\n  \n  private static void printInfo(GregorianCalendar cal) {\n    System.out.printf(&quot;Now: %tc%n&quot;, cal);\n    System.out.printf(&quot;Last Sunday: %tc%n&quot;, getLastSunday(cal));\n    System.out.printf(&quot;Week of Year: %d%n&quot;, cal.get(Calendar.WEEK_OF_YEAR));\n    System.out.printf(&quot;Time in Millis: %d%n&quot;, cal.getTimeInMillis());\n    System.out.printf(&quot;toString(): %s%n&quot;, cal);\n    System.out.println();\n  }\n  \n  public static GregorianCalendar getLastSunday(GregorianCalendar referenceDate) {\n    final GregorianCalendar lastSundayMidNight = (GregorianCalendar)referenceDate.clone();\n    lastSundayMidNight.set(Calendar.DAY_OF_WEEK, Calendar.SUNDAY);\n    return lastSundayMidNight;\n  }\n\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>Now: Wed Dec 28 16:45:36 PST 2022\nLast Sunday: Sun Dec 25 16:45:36 PST 2022\nWeek of Year: 53\nTime in Millis: 1672274736631\ntoString(): java.util.GregorianCalendar[time=1672274736631,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=53,WEEK_OF_MONTH=5,DAY_OF_MONTH=28,DAY_OF_YEAR=362,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=4,HOUR_OF_DAY=16,MINUTE=45,SECOND=36,MILLISECOND=631,ZONE_OFFSET=-28800000,DST_OFFSET=0]\n\nNow: Wed Dec 28 16:45:36 PST 2022\nLast Sunday: Sun Jan 01 16:45:36 PST 2023\nWeek of Year: 52\nTime in Millis: 1672274736668\ntoString(): java.util.GregorianCalendar[time=1672274736668,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;America/Los_Angeles&quot;,offset=-28800000,dstSavings=3600000,useDaylight=true,transitions=185,lastRule=java.util.SimpleTimeZone[id=America/Los_Angeles,offset=-28800000,dstSavings=3600000,useDaylight=true,startYear=0,startMode=3,startMonth=2,startDay=8,startDayOfWeek=1,startTime=7200000,startTimeMode=0,endMode=3,endMonth=10,endDay=1,endDayOfWeek=1,endTime=7200000,endTimeMode=0]],firstDayOfWeek=2,minimalDaysInFirstWeek=4,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=52,WEEK_OF_MONTH=5,DAY_OF_MONTH=28,DAY_OF_YEAR=362,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=4,AM_PM=1,HOUR=4,HOUR_OF_DAY=16,MINUTE=45,SECOND=36,MILLISECOND=668,ZONE_OFFSET=-28800000,DST_OFFSET=0]\n\nNow: Thu Dec 29 00:45:36 UTC 2022\nLast Sunday: Sun Dec 25 00:45:36 UTC 2022\nWeek of Year: 53\nTime in Millis: 1672274736668\ntoString(): java.util.GregorianCalendar[time=1672274736668,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Etc/UTC&quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2022,MONTH=11,WEEK_OF_YEAR=53,WEEK_OF_MONTH=5,DAY_OF_MONTH=29,DAY_OF_YEAR=363,DAY_OF_WEEK=5,DAY_OF_WEEK_IN_MONTH=5,AM_PM=0,HOUR=0,HOUR_OF_DAY=0,MINUTE=45,SECOND=36,MILLISECOND=668,ZONE_OFFSET=0,DST_OFFSET=0]\n</code></pre>\n<p>I noticed that, from <code>GregorianCalendar.toString()</code> that prints the internal fields a different in <code>firstDayOfWeek</code> and <code>minimalDaysInFirstWeek</code>. That could be the cause for the divergence in the after results. I wonder where the GregorianCalendar is getting these values from. Maybe there is a way to set something on ZonedDateTime object that will ensure the results will be the same? Couldn't find anything on javadocs.</p>\n<p>Note: Please, don't tell me not to use <code>GregorianCalendar</code>. I know, I know. I'm just writing an integration for two pieces of code that I'm not allowed to modify, one uses <code>GregorianCalendar</code> (sigh), the other uses <code>ZonedDateTime</code>.</p>\n"},{"tags":["java","classloader","classnotfoundexception","vert.x"],"answers":[{"tags":[],"owner":{"account_id":8202001,"reputation":189,"user_id":6173055,"display_name":"Adarsh R Jayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675973127,"creation_date":1675973127,"answer_id":75403889,"question_id":29362644,"body_markdown":"    &lt;plugin&gt;\r\n        &lt;groupId&gt;io.reactiverse&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vertx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.28&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;vmp&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;initialize&lt;/goal&gt;\r\n              &lt;goal&gt;package&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;redeploy&gt;true&lt;/redeploy&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nadd the above plugin to your pom.xml file within &lt;plugins&gt; that worked for me","title":"java.lang.ClassNotFoundException when container.deployVerticle is called in Verticle","body":"<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;io.reactiverse&lt;/groupId&gt;\n    &lt;artifactId&gt;vertx-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.28&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;vmp&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;initialize&lt;/goal&gt;\n          &lt;goal&gt;package&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;redeploy&gt;true&lt;/redeploy&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n<p>add the above plugin to your pom.xml file within  that worked for me</p>\n"}],"owner":{"account_id":1931097,"reputation":85,"user_id":1740466,"display_name":"Hans Jacob Melby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675973127,"creation_date":1427785721,"question_id":29362644,"body_markdown":"I am a newbie regarding Vertx, so this might be a simple question. \r\nWhen i try to run a verticle from commandline i allways get a ClassNotFoundException when i try to programatically deploy another verticle :\r\n\r\ncontainer.deployVerticle(&quot;melby.poc.verticles.AuditVerticle&quot;);\r\nAuditVerticle is itself a verticle, and is located in a sub package from the main&quot; verticle that i try to run\r\n\r\nI have also tried to run this as a module as well without any luck\r\ncommand i use to run the verticle is :\r\nvertx run src\\main\\java\\melby\\poc\\Server.java\r\n\r\n\r\nConsolle output when i try to start the verticle is : \r\n\r\n   \r\n\r\n    Succeeded in deploying verticle\r\n    Exception in Java verticle\r\n    java.lang.ClassNotFoundException: melby.poc.verticles.AuditVerticle\r\n            at org.vertx.java.platform.impl.ModuleClassLoader.loadFromModule(ModuleC\r\n    lassLoader.java:127)\r\n            at org.vertx.java.platform.impl.ModuleClassLoader.loadClass(ModuleClassL\r\n    oader.java:108)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            at org.vertx.java.platform.impl.java.JavaVerticleFactory.createVerticle(\r\n    JavaVerticleFactory.java:55)\r\n            at org.vertx.java.platform.impl.DefaultPlatformManager$21.run(DefaultPla\r\n    tformManager.java:1748)\r\n            at org.vertx.java.core.impl.DefaultContext$3.run(DefaultContext.java:175\r\n    )\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(Single\r\n    ThreadEventExecutor.java:370)\r\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThread\r\n    EventExecutor.java:116)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nI use vertx 2.1.5 and java 8\r\nDo i somehow need to change/add the classpath for vertx so it is able to load the classes in the same source folder ? \r\n\r\n**Update :** \r\n*I was able to make it work by adding a mod.json file defining the runnable verticle and adding this file to the root catalog.\r\nFrom this catalog i am now able to run the command :\r\nvertx run src\\main\\java\\melby\\poc\\Server.java -cp target/classes\r\nI still dont anderstand why I need a mod.json file and why i need to define -cp\r\nIf i dont programatically deploy verticles i dont need this.*\r\n\r\n","title":"java.lang.ClassNotFoundException when container.deployVerticle is called in Verticle","body":"<p>I am a newbie regarding Vertx, so this might be a simple question. \nWhen i try to run a verticle from commandline i allways get a ClassNotFoundException when i try to programatically deploy another verticle :</p>\n\n<p>container.deployVerticle(\"melby.poc.verticles.AuditVerticle\");\nAuditVerticle is itself a verticle, and is located in a sub package from the main\" verticle that i try to run</p>\n\n<p>I have also tried to run this as a module as well without any luck\ncommand i use to run the verticle is :\nvertx run src\\main\\java\\melby\\poc\\Server.java</p>\n\n<p>Consolle output when i try to start the verticle is : </p>\n\n<pre><code>Succeeded in deploying verticle\nException in Java verticle\njava.lang.ClassNotFoundException: melby.poc.verticles.AuditVerticle\n        at org.vertx.java.platform.impl.ModuleClassLoader.loadFromModule(ModuleC\nlassLoader.java:127)\n        at org.vertx.java.platform.impl.ModuleClassLoader.loadClass(ModuleClassL\noader.java:108)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        at org.vertx.java.platform.impl.java.JavaVerticleFactory.createVerticle(\nJavaVerticleFactory.java:55)\n        at org.vertx.java.platform.impl.DefaultPlatformManager$21.run(DefaultPla\ntformManager.java:1748)\n        at org.vertx.java.core.impl.DefaultContext$3.run(DefaultContext.java:175\n)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(Single\nThreadEventExecutor.java:370)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThread\nEventExecutor.java:116)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I use vertx 2.1.5 and java 8\nDo i somehow need to change/add the classpath for vertx so it is able to load the classes in the same source folder ? </p>\n\n<p><strong>Update :</strong> \n<em>I was able to make it work by adding a mod.json file defining the runnable verticle and adding this file to the root catalog.\nFrom this catalog i am now able to run the command :\nvertx run src\\main\\java\\melby\\poc\\Server.java -cp target/classes\nI still dont anderstand why I need a mod.json file and why i need to define -cp\nIf i dont programatically deploy verticles i dont need this.</em></p>\n"},{"tags":["java","android","flutter","dart","flutter-method-channel"],"owner":{"account_id":18912484,"reputation":574,"user_id":13798282,"display_name":"Mohamadamin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675972611,"creation_date":1670144343,"question_id":74674099,"body_markdown":"I have a Flutter app with 2 screens. First is &quot;IntroPage&quot; and second is &quot;MainPage&quot;.\r\nI have run same channel and same code in these 2 screens for communicating to android native.\r\nBut in MainPage everything works correctly, but in IntroPage when I invoke a method from android to flutter, setMethodCallHandler in flutter not working.\r\n\r\nIntroPage and MainPage have same code:\r\n\r\n    class IntroPage extends StatefulWidget {\r\n      const IntroPage({Key? key}) : super(key: key);\r\n    \r\n      @override\r\n      _IntroPageState createState() =&gt; _IntroPageState();\r\n    }\r\n\r\n    class _IntroPageState extends State&lt;IntroPage&gt; {\r\n    \r\n      @override\r\n      void initState() {\r\n        super.initState();\r\n      }\r\n    \r\n      void select() async {\r\n        // this method not work correctly ...     \r\n\r\n        AndroidChannel.androidChannel.setMethodCallHandler((call) async {\r\n          if (call.method == AndroidConstants.SELECT) {\r\n            debugPrint(&quot;here&quot;);\r\n          }\r\n        });\r\n      }\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n    \r\n        return Scaffold(\r\n          body: Container(\r\n            child: Button(\r\n              onPressed: () {\r\n                select();\r\n              },\r\n              isActive: true,\r\n              title: &#39;Select&#39;,\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\nand simply I call invokeMethod in android layer like this in a handler: \r\n\r\n    Handler mainHandler = new Handler(Looper.getMainLooper());\r\n    Runnable myRunnable = () -&gt; {\r\n        methodChannel.invokeMethod(&quot;SELECT&quot;);\r\n    };\r\n    mainHandler.post(myRunnable);\r\n\r\nNote that this problem only occurres in android 12, in other devices every thing works correctly.","title":"Flutter MethodChannel from android to flutter not working","body":"<p>I have a Flutter app with 2 screens. First is &quot;IntroPage&quot; and second is &quot;MainPage&quot;.\nI have run same channel and same code in these 2 screens for communicating to android native.\nBut in MainPage everything works correctly, but in IntroPage when I invoke a method from android to flutter, setMethodCallHandler in flutter not working.</p>\n<p>IntroPage and MainPage have same code:</p>\n<pre><code>class IntroPage extends StatefulWidget {\n  const IntroPage({Key? key}) : super(key: key);\n\n  @override\n  _IntroPageState createState() =&gt; _IntroPageState();\n}\n\nclass _IntroPageState extends State&lt;IntroPage&gt; {\n\n  @override\n  void initState() {\n    super.initState();\n  }\n\n  void select() async {\n    // this method not work correctly ...     \n\n    AndroidChannel.androidChannel.setMethodCallHandler((call) async {\n      if (call.method == AndroidConstants.SELECT) {\n        debugPrint(&quot;here&quot;);\n      }\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    return Scaffold(\n      body: Container(\n        child: Button(\n          onPressed: () {\n            select();\n          },\n          isActive: true,\n          title: 'Select',\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>and simply I call invokeMethod in android layer like this in a handler:</p>\n<pre><code>Handler mainHandler = new Handler(Looper.getMainLooper());\nRunnable myRunnable = () -&gt; {\n    methodChannel.invokeMethod(&quot;SELECT&quot;);\n};\nmainHandler.post(myRunnable);\n</code></pre>\n<p>Note that this problem only occurres in android 12, in other devices every thing works correctly.</p>\n"},{"tags":["java","spring","ssl","keystore"],"owner":{"account_id":896384,"reputation":163,"user_id":933547,"accept_rate":71,"display_name":"Christof Buechi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675972410,"creation_date":1675972410,"question_id":75403767,"body_markdown":"I&#39;m trying to setup a spring boot application for development environment without SSL for the controllers, but still with a keystore set. The Keystore is required to gather information from surrounding services.\r\n\r\n - Whenever I set server.ssl.enabled = false, I&#39;m able to connect with\r\n   http, but the keystore is not used in connecting to the surrounding\r\n   services.\r\n - Whenever I set server.ssl.enabled = true the\r\n   controller is only reachable by https but works with surrounding\r\n   services.\r\n\r\nAs this is for development only there should be a way to connect with http from client-side. Spring Security is used inside the project.&lt;br&gt;\r\nIs there a chance to configure Spring Boot to work the way I described?\r\n","title":"Spring Boot http access with keystore set","body":"<p>I'm trying to setup a spring boot application for development environment without SSL for the controllers, but still with a keystore set. The Keystore is required to gather information from surrounding services.</p>\n<ul>\n<li>Whenever I set server.ssl.enabled = false, I'm able to connect with\nhttp, but the keystore is not used in connecting to the surrounding\nservices.</li>\n<li>Whenever I set server.ssl.enabled = true the\ncontroller is only reachable by https but works with surrounding\nservices.</li>\n</ul>\n<p>As this is for development only there should be a way to connect with http from client-side. Spring Security is used inside the project.<br>\nIs there a chance to configure Spring Boot to work the way I described?</p>\n"},{"tags":["java","arrays","casting"],"comments":[{"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"score":0,"creation_date":1675971546,"post_id":75403632,"comment_id":133048092,"body_markdown":"What line are you getting that on?","body":"What line are you getting that on?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1675971758,"post_id":75403632,"comment_id":133048150,"body_markdown":"You&#39;re expecting to be able to convert a `List&lt;Integer[]&gt;` (that is, a list of arrays of integers) to an `Integer[]` (that is, a single array of integers)?","body":"You&#39;re expecting to be able to convert a <code>List&lt;Integer[]&gt;</code> (that is, a list of arrays of integers) to an <code>Integer[]</code> (that is, a single array of integers)?"},{"owner":{"account_id":25622201,"reputation":3,"user_id":19393885,"display_name":"mar7y_k"},"score":0,"creation_date":1675971857,"post_id":75403632,"comment_id":133048173,"body_markdown":"I&#39;m getting this runtime error on \nInteger[] arr = (Integer[]) list.toArray();","body":"I&#39;m getting this runtime error on  Integer[] arr = (Integer[]) list.toArray();"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1675972082,"post_id":75403632,"comment_id":133048221,"body_markdown":"*&quot;I can&#39;t change the method header&quot;* — Why not?","body":"<i>&quot;I can&#39;t change the method header&quot;</i> — Why not?"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675972226,"creation_date":1675971867,"answer_id":75403690,"question_id":75403632,"body_markdown":"You can&#39;t use this:\r\n\r\n    Integer[] arr = (Integer[]) list.toArray();\r\n\r\nIf I understand what you want to do, you need something like this:\r\n\r\n    Integer[] arr = list.stream()\r\n            .flatMap(Arrays::stream)\r\n            .toArray(Integer[]::new);\r\n\r\nExample:\r\n\r\n    List&lt;Integer[]&gt; list = List.of(new Integer[]{1,2,3}, new Integer[]{4,5,5});\r\n    Integer[] arr = list.stream()\r\n                    .flatMap(Arrays::stream)\r\n                    .toArray(Integer[]::new);\r\n    \r\n    &gt; [1, 2, 3, 4, 5, 5]","title":"Running into [Ljava.lang.Object; cannot be cast to class [Ljava.lang.Integer at runtime","body":"<p>You can't use this:</p>\n<pre><code>Integer[] arr = (Integer[]) list.toArray();\n</code></pre>\n<p>If I understand what you want to do, you need something like this:</p>\n<pre><code>Integer[] arr = list.stream()\n        .flatMap(Arrays::stream)\n        .toArray(Integer[]::new);\n</code></pre>\n<p>Example:</p>\n<pre><code>List&lt;Integer[]&gt; list = List.of(new Integer[]{1,2,3}, new Integer[]{4,5,5});\nInteger[] arr = list.stream()\n                .flatMap(Arrays::stream)\n                .toArray(Integer[]::new);\n\n&gt; [1, 2, 3, 4, 5, 5]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1675972049,"post_id":75403698,"comment_id":133048214,"body_markdown":"Are you sure that this works ?","body":"Are you sure that this works ?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675972391,"post_id":75403698,"comment_id":133048291,"body_markdown":"The OP seems a little unclear on how `List&lt;Integer[]&gt;` translates into an `Integer[]` versus an `Integer[][]`.  This version seems pretty clearly what they want, though.","body":"The OP seems a little unclear on how <code>List&lt;Integer[]&gt;</code> translates into an <code>Integer[]</code> versus an <code>Integer[][]</code>.  This version seems pretty clearly what they want, though."},{"owner":{"account_id":25622201,"reputation":3,"user_id":19393885,"display_name":"mar7y_k"},"score":0,"creation_date":1675977800,"post_id":75403698,"comment_id":133049721,"body_markdown":"Thank you. This implementation was what ended up working for me\n\n`Integer[][] arr = list.toArray(new Integer[list.size()][]);`","body":"Thank you. This implementation was what ended up working for me  <code>Integer[][] arr = list.toArray(new Integer[list.size()][]);</code>"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675972348,"creation_date":1675971903,"answer_id":75403698,"question_id":75403632,"body_markdown":"You are going to _have_ to do that with something like\r\n\r\n```\r\nInteger[][] arr = list.toArray(new Integer[0][]);\r\n```\r\n\r\nor use streams.","title":"Running into [Ljava.lang.Object; cannot be cast to class [Ljava.lang.Integer at runtime","body":"<p>You are going to <em>have</em> to do that with something like</p>\n<pre><code>Integer[][] arr = list.toArray(new Integer[0][]);\n</code></pre>\n<p>or use streams.</p>\n"}],"owner":{"account_id":25622201,"reputation":3,"user_id":19393885,"display_name":"mar7y_k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75403698,"answer_count":2,"score":-1,"last_activity_date":1675972348,"creation_date":1675971496,"question_id":75403632,"body_markdown":"At runtime, I keep running into the error above when trying to make a List&lt;Integer[]&gt;  to an Integer[].\r\n\r\n```\r\n\tpublic static Integer[] findKthLargest(List&lt;Integer[]&gt; list, int k) throws IllegalArgumentException {\r\n\t\t\r\n\t\tInteger[] arr = (Integer[]) list.toArray();\r\n\t\tinsertionSort(arr, new ArrayComparator());\r\n\t\t\r\n\t\tSystem.out.println(Arrays.toString(arr));\r\n\t\t\r\n\t\treturn arr[k];\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried casting the List&lt;Integer[]&gt; into an Object[] and then to an Integer[] but I run into the same error. I can&#39;t change the method header\r\n\r\nI haven&#39;t finished the rest of the method&#39;s implementation yet so I placed a println to see if it&#39;d provide me with roughly the results I expected.","title":"Running into [Ljava.lang.Object; cannot be cast to class [Ljava.lang.Integer at runtime","body":"<p>At runtime, I keep running into the error above when trying to make a List&lt;Integer[]&gt;  to an Integer[].</p>\n<pre><code>    public static Integer[] findKthLargest(List&lt;Integer[]&gt; list, int k) throws IllegalArgumentException {\n        \n        Integer[] arr = (Integer[]) list.toArray();\n        insertionSort(arr, new ArrayComparator());\n        \n        System.out.println(Arrays.toString(arr));\n        \n        return arr[k];\n</code></pre>\n<p>I've tried casting the List&lt;Integer[]&gt; into an Object[] and then to an Integer[] but I run into the same error. I can't change the method header</p>\n<p>I haven't finished the rest of the method's implementation yet so I placed a println to see if it'd provide me with roughly the results I expected.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":13758544,"reputation":5117,"user_id":9928809,"display_name":"Nick_Kh"},"score":0,"creation_date":1580896866,"post_id":60066306,"comment_id":106245597,"body_markdown":"Did you try also to supply [DataflowPipelineOptions](https://beam.apache.org/releases/javadoc/2.3.0/org/apache/beam/runners/dataflow/options/DataflowPipelineOptions.html) interface for pipeline options?","body":"Did you try also to supply <a href=\"https://beam.apache.org/releases/javadoc/2.3.0/org/apache/beam/runners/dataflow/options/DataflowPipelineOptions.html\" rel=\"nofollow noreferrer\">DataflowPipelineOptions</a> interface for pipeline options?"},{"owner":{"account_id":12150669,"reputation":137,"user_id":8871064,"display_name":"eagerbeaver"},"score":0,"creation_date":1580918919,"post_id":60066306,"comment_id":106257934,"body_markdown":"@mk_sta I just tried extending DataflowPipelineOptions in the Options.class interface but the same issue seems to occur. I originally extended GcpOptions instead. If I don&#39;t define the tempLocation getter and setter in the Options interface it appears as though the tempLocation will automatically default to the newly created default bucket&#39;s temp folder (gs://dataflow-staging-us-central1-job_number/temp)","body":"@mk_sta I just tried extending DataflowPipelineOptions in the Options.class interface but the same issue seems to occur. I originally extended GcpOptions instead. If I don&#39;t define the tempLocation getter and setter in the Options interface it appears as though the tempLocation will automatically default to the newly created default bucket&#39;s temp folder (gs://dataflow-staging-us-central1-job_number/temp)"},{"owner":{"account_id":15711785,"reputation":1371,"user_id":11337033,"display_name":"Daniel Oliveira"},"score":0,"creation_date":1581023965,"post_id":60066306,"comment_id":106301750,"body_markdown":"Let me do some basic troubleshooting. Can you confirm that the bucket you&#39;re setting as the temp location has already been created? Can you confirm that you&#39;re supplying the options to the Pipeline like so: `Pipeline p = Pipeline.create(options);`?","body":"Let me do some basic troubleshooting. Can you confirm that the bucket you&#39;re setting as the temp location has already been created? Can you confirm that you&#39;re supplying the options to the Pipeline like so: <code>Pipeline p = Pipeline.create(options);</code>?"},{"owner":{"account_id":12150669,"reputation":137,"user_id":8871064,"display_name":"eagerbeaver"},"score":0,"creation_date":1581094551,"post_id":60066306,"comment_id":106327544,"body_markdown":"@Daniel Oliveira I can confirm that the bucket I am setting as the tempLocation is already existing on Google Cloud Storage. I am also supplying the options to the Pipeline using the code you included inside of the run method.  After observing the generated template file, I can also see that both options are correctly set in the template&#39;s PipelineOptions. After deploying the Dataflow job using the online Google Cloud interface however, the default gcpTempLocation is still created. I have included a new edit in my original post as my issue has been solved, but the solution confuses me.","body":"@Daniel Oliveira I can confirm that the bucket I am setting as the tempLocation is already existing on Google Cloud Storage. I am also supplying the options to the Pipeline using the code you included inside of the run method.  After observing the generated template file, I can also see that both options are correctly set in the template&#39;s PipelineOptions. After deploying the Dataflow job using the online Google Cloud interface however, the default gcpTempLocation is still created. I have included a new edit in my original post as my issue has been solved, but the solution confuses me."}],"answers":[{"comments":[{"owner":{"account_id":12150669,"reputation":137,"user_id":8871064,"display_name":"eagerbeaver"},"score":0,"creation_date":1581008210,"post_id":60092376,"comment_id":106294920,"body_markdown":"The default location seems to be created even when I specify the tempLocation and gcpTempLocation via both the command line arguments as well as in the code itself however, so this behavior shouldn&#39;t be expected right?","body":"The default location seems to be created even when I specify the tempLocation and gcpTempLocation via both the command line arguments as well as in the code itself however, so this behavior shouldn&#39;t be expected right?"},{"owner":{"account_id":13758544,"reputation":5117,"user_id":9928809,"display_name":"Nick_Kh"},"score":0,"creation_date":1581066915,"post_id":60092376,"comment_id":106313255,"body_markdown":"As per documentation lines: A default **gcpTempLocation** will be created if neither it nor **tempLocation** is specified.","body":"As per documentation lines: A default <b>gcpTempLocation</b> will be created if neither it nor <b>tempLocation</b> is specified."},{"owner":{"account_id":12150669,"reputation":137,"user_id":8871064,"display_name":"eagerbeaver"},"score":0,"creation_date":1581093999,"post_id":60092376,"comment_id":106327293,"body_markdown":"I see that, but the issue I am having is that the default gcpTempLocation is being created despite me specifying the tempLocation and gcpTempLocation explicitly in both the command line arguments and programatically (using the setters for tempLocation and gcpTempLocation on the PipelineOptions). After observing the generated template file, I can also see that both options are correctly set in the template&#39;s PipelineOptions. After deploying the Dataflow job using the online Google Cloud interface however, the default gcpTempLocation is still created.","body":"I see that, but the issue I am having is that the default gcpTempLocation is being created despite me specifying the tempLocation and gcpTempLocation explicitly in both the command line arguments and programatically (using the setters for tempLocation and gcpTempLocation on the PipelineOptions). After observing the generated template file, I can also see that both options are correctly set in the template&#39;s PipelineOptions. After deploying the Dataflow job using the online Google Cloud interface however, the default gcpTempLocation is still created."},{"owner":{"account_id":13758544,"reputation":5117,"user_id":9928809,"display_name":"Nick_Kh"},"score":0,"creation_date":1581494074,"post_id":60092376,"comment_id":106448380,"body_markdown":"I&#39;ve just seen you&#39;ve edited the answer, in this situation I would encourage to use [issue tracker](https://cloud.google.com/support/docs/issue-trackers#trackers-list) and report this kind of bug.","body":"I&#39;ve just seen you&#39;ve edited the answer, in this situation I would encourage to use <a href=\"https://cloud.google.com/support/docs/issue-trackers#trackers-list\" rel=\"nofollow noreferrer\">issue tracker</a> and report this kind of bug."}],"tags":[],"owner":{"account_id":13758544,"reputation":5117,"user_id":9928809,"display_name":"Nick_Kh"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580983594,"creation_date":1580983594,"answer_id":60092376,"question_id":60066306,"body_markdown":"I guess this behavior for particular [PipelineOptions][1] is well explained in  GCP [documentation][2]:\r\n\r\n&gt; **gcpTempLocation** - A Cloud Storage path for Dataflow to stage any temporary files. You must create this bucket ahead of time, before\r\n&gt; running your pipeline. In case you don&#39;t specify `gcpTempLocation`,\r\n&gt; you can specify the pipeline option `tempLocation` and then\r\n&gt; `gcpTempLocation` will be set to the value of `tempLocation`. **If\r\n&gt; neither are specified, a default `gcpTempLocation` will be created.**\r\n\r\nSo far, it seems to be the hard coded case for GCP Dataflow managed services.\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/guides/specifying-exec-params#setting-other-cloud-dataflow-pipeline-options\r\n  [2]: https://cloud.google.com/dataflow/docs/guides/specifying-exec-params#configuring-pipelineoptions-for-execution-on-the-cloud-dataflow-service","title":"Dataflow job always creates new default bucket even when tempLocation and gcpTempLocation are set?","body":"<p>I guess this behavior for particular <a href=\"https://cloud.google.com/dataflow/docs/guides/specifying-exec-params#setting-other-cloud-dataflow-pipeline-options\" rel=\"nofollow noreferrer\">PipelineOptions</a> is well explained in  GCP <a href=\"https://cloud.google.com/dataflow/docs/guides/specifying-exec-params#configuring-pipelineoptions-for-execution-on-the-cloud-dataflow-service\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p><strong>gcpTempLocation</strong> - A Cloud Storage path for Dataflow to stage any temporary files. You must create this bucket ahead of time, before\n  running your pipeline. In case you don't specify <code>gcpTempLocation</code>,\n  you can specify the pipeline option <code>tempLocation</code> and then\n  <code>gcpTempLocation</code> will be set to the value of <code>tempLocation</code>. <strong>If\n  neither are specified, a default <code>gcpTempLocation</code> will be created.</strong></p>\n</blockquote>\n\n<p>So far, it seems to be the hard coded case for GCP Dataflow managed services.</p>\n"},{"tags":[],"owner":{"account_id":1021596,"reputation":123,"user_id":1031796,"display_name":"Yevgeny Khodorkovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675971474,"creation_date":1675971474,"answer_id":75403628,"question_id":60066306,"body_markdown":"The bucket being created is for staging location, which is supposed to default to temp location, but it&#39;s broken (as of SDK v2.43.0).\r\nYou can specify your staging location to avoid creating the extra bucket.\r\n\r\nhttps://stackoverflow.com/a/75403319/1031796","title":"Dataflow job always creates new default bucket even when tempLocation and gcpTempLocation are set?","body":"<p>The bucket being created is for staging location, which is supposed to default to temp location, but it's broken (as of SDK v2.43.0).\nYou can specify your staging location to avoid creating the extra bucket.</p>\n<p><a href=\"https://stackoverflow.com/a/75403319/1031796\">https://stackoverflow.com/a/75403319/1031796</a></p>\n"}],"owner":{"account_id":12150669,"reputation":137,"user_id":8871064,"display_name":"eagerbeaver"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675971474,"creation_date":1580854448,"question_id":60066306,"body_markdown":"My Dataflow job seems to always create a new Default Google Cloud Storage bucket even with stagingLocation, tempLocation, and gcpTempLocation defined. After looking through the Apache Beam (2.6.0) library code, these lines in GcpOptions.java appear to be the culprit:\r\n\r\n    String tempLocation = options.getTempLocation();\r\n      if (isNullOrEmpty(tempLocation)) {\r\n        tempLocation =\r\n            tryCreateDefaultBucket(\r\n                options,\r\n                newCloudResourceManagerClient(options.as(CloudResourceManagerOptions.class))\r\n                    .build());\r\n        options.setTempLocation(tempLocation);\r\n      }\r\n\r\nHowever, this code should only be executed in the event that tempLocation is not defined in PipelineOptions, and I have set tempLocation both using the command line argument as well as using the setTempLocation method. I have defined the Options interface by extending GcpOptions and adding a few additional option getters and setters. \r\n\r\nIf I don&#39;t define the tempLocation getter and setter in the Options interface it appears as though the tempLocation will automatically default to the newly created default bucket&#39;s temp folder (gs://dataflow-staging-us-central1-job_number/temp), yet I have defined the tempLocation command line argument. \r\n\r\nHere is the main method of the Dataflow job: \r\n\r\n    public static void main(String[] args) {\r\n        Options options = PipelineOptionsFactory.fromArgs(args).as(Options.class);\r\n        GoogleCredentials credentials = null;\r\n        try {\r\n            credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;./src/main/resources/credentials.json&quot;))\r\n                    .createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        options.setGcpCredential(credentials);\r\n        options.setTempLocation(&quot;gs://example_bucket/temp&quot;);\r\n        options.setGcpTempLocation(&quot;gs://example_bucket/temp&quot;);\r\n        run(options);\r\n    }\r\n\r\nCan anyone explain why the default bucket is always created and how I can avoid this?\r\n\r\n**Edit:**\r\n\r\n\r\nIt looks as though if I deploy the Dataflow job directly from the command line with the same arguments instead of generating the Dataflow template and then deploying the job through the console interface the tempLocation seems to be set correctly and no additional bucket is created. This seems to resolve the issue I am having but I am not fully sure why this solution works.","title":"Dataflow job always creates new default bucket even when tempLocation and gcpTempLocation are set?","body":"<p>My Dataflow job seems to always create a new Default Google Cloud Storage bucket even with stagingLocation, tempLocation, and gcpTempLocation defined. After looking through the Apache Beam (2.6.0) library code, these lines in GcpOptions.java appear to be the culprit:</p>\n\n<pre><code>String tempLocation = options.getTempLocation();\n  if (isNullOrEmpty(tempLocation)) {\n    tempLocation =\n        tryCreateDefaultBucket(\n            options,\n            newCloudResourceManagerClient(options.as(CloudResourceManagerOptions.class))\n                .build());\n    options.setTempLocation(tempLocation);\n  }\n</code></pre>\n\n<p>However, this code should only be executed in the event that tempLocation is not defined in PipelineOptions, and I have set tempLocation both using the command line argument as well as using the setTempLocation method. I have defined the Options interface by extending GcpOptions and adding a few additional option getters and setters. </p>\n\n<p>If I don't define the tempLocation getter and setter in the Options interface it appears as though the tempLocation will automatically default to the newly created default bucket's temp folder (gs://dataflow-staging-us-central1-job_number/temp), yet I have defined the tempLocation command line argument. </p>\n\n<p>Here is the main method of the Dataflow job: </p>\n\n<pre><code>public static void main(String[] args) {\n    Options options = PipelineOptionsFactory.fromArgs(args).as(Options.class);\n    GoogleCredentials credentials = null;\n    try {\n        credentials = GoogleCredentials.fromStream(new FileInputStream(\"./src/main/resources/credentials.json\"))\n                .createScoped(Lists.newArrayList(\"https://www.googleapis.com/auth/cloud-platform\"));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    options.setGcpCredential(credentials);\n    options.setTempLocation(\"gs://example_bucket/temp\");\n    options.setGcpTempLocation(\"gs://example_bucket/temp\");\n    run(options);\n}\n</code></pre>\n\n<p>Can anyone explain why the default bucket is always created and how I can avoid this?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>It looks as though if I deploy the Dataflow job directly from the command line with the same arguments instead of generating the Dataflow template and then deploying the job through the console interface the tempLocation seems to be set correctly and no additional bucket is created. This seems to resolve the issue I am having but I am not fully sure why this solution works.</p>\n"},{"tags":["java","android","textview","lowercase"],"comments":[{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":0,"creation_date":1558595105,"post_id":56269710,"comment_id":99154397,"body_markdown":"Convert your text String to lower case and then set it to your `TextView` instead.","body":"Convert your text String to lower case and then set it to your <code>TextView</code> instead."},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1558595126,"post_id":56269710,"comment_id":99154406,"body_markdown":"add ontextchanged listener, where you change text to lowercase","body":"add ontextchanged listener, where you change text to lowercase"}],"answers":[{"tags":[],"owner":{"account_id":15521033,"reputation":481,"user_id":11197211,"display_name":"Infusion Analysts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558595096,"creation_date":1558595096,"answer_id":56269737,"question_id":56269710,"body_markdown":"Try this way.. what ever your string to want to set textview. the String class provide method for lower and upper letter.\r\n\r\n\r\n    tv.setText(strings.toLowerCase());","title":"Is there a way to style a TextView to lowercase all of its letters?","body":"<p>Try this way.. what ever your string to want to set textview. the String class provide method for lower and upper letter.</p>\n\n<pre><code>tv.setText(strings.toLowerCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15995252,"reputation":1,"user_id":11543301,"display_name":"Sinan thadathil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558595556,"creation_date":1558595556,"answer_id":56269875,"question_id":56269710,"body_markdown":"You can use getText() method in this TextView and save the text into a String object. And you can use toLowerCase() method to convert the string into all lowercase then use setText() method to set the modified String to that TextView\r\nRemember to set the setAllCaps() to false","title":"Is there a way to style a TextView to lowercase all of its letters?","body":"<p>You can use getText() method in this TextView and save the text into a String object. And you can use toLowerCase() method to convert the string into all lowercase then use setText() method to set the modified String to that TextView\nRemember to set the setAllCaps() to false</p>\n"},{"tags":[],"owner":{"account_id":15646870,"reputation":1440,"user_id":11288846,"display_name":"Ferran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558606145,"creation_date":1558606145,"answer_id":56272914,"question_id":56269710,"body_markdown":"As mentioned in other answers, you can use this to change to lowercase:\r\n\r\n        nameTextview.setText.nameTextview.getText().toString().toLowerCase());\r\n\r\nHowever, if you are looking for something like `setAllCaps` does, that is, change the text to lowercase without modifying the original text, then, you should use a transformation method.\r\n\r\nIndeed, `setAllCaps(true)`, change string to Uppercase:\r\n\r\n    &#39;Hello, This Is a Test&#39; =&gt; &#39;HELLO, THIS IS A TEST&#39;\r\n\r\nBut if you set setAllCaps(false) the text change like this\r\n\r\n    &#39;HELLO, THIS IS A TEST&#39; =&gt; &#39;Hello, This Is a Test&#39;\r\n\r\nThe original text is recovered as it was entered.\r\n\r\nTo accomplish this to Lowercase you should create a class like this:\r\n\r\n    public class AllLowTransformationMethod implements TransformationMethod {\r\n        private Locale mLocale;\r\n\r\n        public AllLowTransformationMethod(Context context) {\r\n            this.mLocale = context.getResources().getConfiguration().locale;\r\n        }\r\n\r\n        public CharSequence getTransformation(CharSequence source, View view) {\r\n            return source != null ? source.toString().toLowerCase(this.mLocale) : null;\r\n        }\r\n\r\n        public void onFocusChanged(View view, CharSequence sourceText, boolean focused, int direction, Rect previouslyFocusedRect) {\r\n        }\r\n    }\r\n \r\nThen, you can use this:\r\n\r\n    button2.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            nameTextview.setTransformation(new AllLowTransformationMethod); \r\n        }\r\n    });\r\n\r\nTo recover the original text:\r\n\r\n    nameTextview.setTransformation(null); \r\n","title":"Is there a way to style a TextView to lowercase all of its letters?","body":"<p>As mentioned in other answers, you can use this to change to lowercase:</p>\n\n<pre><code>    nameTextview.setText.nameTextview.getText().toString().toLowerCase());\n</code></pre>\n\n<p>However, if you are looking for something like <code>setAllCaps</code> does, that is, change the text to lowercase without modifying the original text, then, you should use a transformation method.</p>\n\n<p>Indeed, <code>setAllCaps(true)</code>, change string to Uppercase:</p>\n\n<pre><code>'Hello, This Is a Test' =&gt; 'HELLO, THIS IS A TEST'\n</code></pre>\n\n<p>But if you set setAllCaps(false) the text change like this</p>\n\n<pre><code>'HELLO, THIS IS A TEST' =&gt; 'Hello, This Is a Test'\n</code></pre>\n\n<p>The original text is recovered as it was entered.</p>\n\n<p>To accomplish this to Lowercase you should create a class like this:</p>\n\n<pre><code>public class AllLowTransformationMethod implements TransformationMethod {\n    private Locale mLocale;\n\n    public AllLowTransformationMethod(Context context) {\n        this.mLocale = context.getResources().getConfiguration().locale;\n    }\n\n    public CharSequence getTransformation(CharSequence source, View view) {\n        return source != null ? source.toString().toLowerCase(this.mLocale) : null;\n    }\n\n    public void onFocusChanged(View view, CharSequence sourceText, boolean focused, int direction, Rect previouslyFocusedRect) {\n    }\n}\n</code></pre>\n\n<p>Then, you can use this:</p>\n\n<pre><code>button2.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        nameTextview.setTransformation(new AllLowTransformationMethod); \n    }\n});\n</code></pre>\n\n<p>To recover the original text:</p>\n\n<pre><code>nameTextview.setTransformation(null); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3577319,"reputation":59,"user_id":2986233,"accept_rate":50,"display_name":"Sravanya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558614401,"creation_date":1558614401,"answer_id":56275219,"question_id":56269710,"body_markdown":"       button1.setOnClickListener {\r\n       tvId.setText(tvId.text.toString().toUpperCase())\r\n       }\r\n       button2.setOnClickListener {\r\n       tvId.setText(tvId.text.toString().toLowerCase())\r\n       }","title":"Is there a way to style a TextView to lowercase all of its letters?","body":"<pre><code>   button1.setOnClickListener {\n   tvId.setText(tvId.text.toString().toUpperCase())\n   }\n   button2.setOnClickListener {\n   tvId.setText(tvId.text.toString().toLowerCase())\n   }\n</code></pre>\n"}],"owner":{"account_id":8054276,"reputation":11,"user_id":6071915,"display_name":"Mahadi Hasan Jony"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1675971376,"creation_date":1558594971,"question_id":56269710,"body_markdown":"`nameTextview.setAllCaps(true);` by this we can set all text to Uppercase letter,\r\nHow I can set Lowercase ?\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView nameTextview;\r\n    private Button button1;\r\n    private Button button2;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        button1=findViewById(R.id.capsonID);\r\n        button2=findViewById(R.id.capsoffID);\r\n        nameTextview = findViewById(R.id.textview1);\r\n\r\n        button1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                nameTextview.setAllCaps(true);\r\n            }\r\n        });\r\n        button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                nameTextview.  // ???????????? What should I do here ?\r\n            }\r\n        });\r\n    }\r\n    }","title":"Is there a way to style a TextView to lowercase all of its letters?","body":"<p><code>nameTextview.setAllCaps(true);</code> by this we can set all text to Uppercase letter,\nHow I can set Lowercase ?</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate TextView nameTextview;\nprivate Button button1;\nprivate Button button2;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    button1=findViewById(R.id.capsonID);\n    button2=findViewById(R.id.capsoffID);\n    nameTextview = findViewById(R.id.textview1);\n\n    button1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            nameTextview.setAllCaps(true);\n        }\n    });\n    button2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            nameTextview.  // ???????????? What should I do here ?\n        }\n    });\n}\n}\n</code></pre>\n"},{"tags":["javascript","java","angular","spring","spring-boot"],"comments":[{"owner":{"account_id":9698609,"reputation":13718,"user_id":7194268,"display_name":"mbojko"},"score":0,"creation_date":1675971745,"post_id":75403546,"comment_id":133048147,"body_markdown":"&quot;accept the cookie send by backend and in the end send back the cookie on each request made using frontend&quot; - I don&#39;t believe you have to do anything, that should happen behind framework&#39;s back. Did you look in the browser&#39;s dev tools if cookies are sent, saved  and sent back?","body":"&quot;accept the cookie send by backend and in the end send back the cookie on each request made using frontend&quot; - I don&#39;t believe you have to do anything, that should happen behind framework&#39;s back. Did you look in the browser&#39;s dev tools if cookies are sent, saved  and sent back?"},{"owner":{"account_id":20319777,"reputation":13,"user_id":14904745,"display_name":"LazyCoder"},"score":0,"creation_date":1676000171,"post_id":75403546,"comment_id":133053306,"body_markdown":"@mbojko well I was using ngx-cookie-service where I set the cookie by myself and yeah I did saw that cookie in dev tool but the one send by backend, I saw it anywhere.","body":"@mbojko well I was using ngx-cookie-service where I set the cookie by myself and yeah I did saw that cookie in dev tool but the one send by backend, I saw it anywhere."}],"owner":{"account_id":20319777,"reputation":13,"user_id":14904745,"display_name":"LazyCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675971087,"creation_date":1675971087,"question_id":75403546,"body_markdown":"So, I&#39;m currently working on session management and found out that one of the ways of doing so is by using cookies. I&#39;m using spring boot as my backend tool. \r\nSo, \r\n\r\n    @PostMapping(&quot;/addUser&quot;)\r\n\tpublic User addUser(@RequestBody String name, HttpServletRequest request, HttpServletResponse response) {\r\n\t\t\r\n\t\tHttpSession getSession = (HttpSession) request.getAttribute(&quot;session&quot;);\r\n\t\tCookie cookie = new Cookie(&quot;sessionId&quot;, getSession.getId());\r\n\t\tresponse.addCookie(cookie);\r\n\r\n\t\tsessionService.addSession(getSession);\r\n\r\n\t\tString session = (String) getSession.getId();\r\n\t\tSystem.out.println(&quot;Session id is &quot; + session);\r\n\t\tUser newUser = new User(name, session);\r\n\t\tuserService.addUser(newUser);\r\n\r\n\t\treturn newUser;\r\n\t}\r\n\r\nThis is the code that&#39;s responsible for creating cookies. Where, what happen is user will enter the username on a form and click on submit and then it will be post mapped on this method. \r\n\r\nSo, I tried checking if I&#39;m getting cookies from frontend or not using this method\r\n\r\n    @PostMapping(&quot;/noOfUsers&quot;)\r\n\tpublic int userCount(@RequestBody String sessionId, HttpServletRequest request, HttpServletResponse response) {\r\n\t\tSystem.out.println(request.getSession().getId());\r\n\t\t Cookie[] cookies = request.getCookies();\r\n\t\t if (cookies != null) {\r\n\t\t\t    for (Cookie cookie : cookies) {\r\n\t\t\t      if (cookie.getName().equals(&quot;sessionId&quot;)) {\r\n\t\t\t         System.out.println(cookie.getValue());\r\n\t\t\t      }\r\n\t\t\t    }\r\n\t\t\t  }\r\n\r\n\t\r\n\t\treturn this.userService.noOfUser();\r\n\t}\r\n\r\nWhen I used postman, I did get the cookie value printed but don&#39;t know how in angular I&#39;m suppose to accept the cookie send by backend and in the end send back the cookie on each request made using frontend.","title":"Angular : accepting cookie send by backend","body":"<p>So, I'm currently working on session management and found out that one of the ways of doing so is by using cookies. I'm using spring boot as my backend tool.\nSo,</p>\n<pre><code>@PostMapping(&quot;/addUser&quot;)\npublic User addUser(@RequestBody String name, HttpServletRequest request, HttpServletResponse response) {\n    \n    HttpSession getSession = (HttpSession) request.getAttribute(&quot;session&quot;);\n    Cookie cookie = new Cookie(&quot;sessionId&quot;, getSession.getId());\n    response.addCookie(cookie);\n\n    sessionService.addSession(getSession);\n\n    String session = (String) getSession.getId();\n    System.out.println(&quot;Session id is &quot; + session);\n    User newUser = new User(name, session);\n    userService.addUser(newUser);\n\n    return newUser;\n}\n</code></pre>\n<p>This is the code that's responsible for creating cookies. Where, what happen is user will enter the username on a form and click on submit and then it will be post mapped on this method.</p>\n<p>So, I tried checking if I'm getting cookies from frontend or not using this method</p>\n<pre><code>@PostMapping(&quot;/noOfUsers&quot;)\npublic int userCount(@RequestBody String sessionId, HttpServletRequest request, HttpServletResponse response) {\n    System.out.println(request.getSession().getId());\n     Cookie[] cookies = request.getCookies();\n     if (cookies != null) {\n            for (Cookie cookie : cookies) {\n              if (cookie.getName().equals(&quot;sessionId&quot;)) {\n                 System.out.println(cookie.getValue());\n              }\n            }\n          }\n\n\n    return this.userService.noOfUser();\n}\n</code></pre>\n<p>When I used postman, I did get the cookie value printed but don't know how in angular I'm suppose to accept the cookie send by backend and in the end send back the cookie on each request made using frontend.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","springdoc-openapi-ui"],"answers":[{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1676554441,"post_id":75403402,"comment_id":133162916,"body_markdown":"Didn&#39;t this solve your problem?","body":"Didn&#39;t this solve your problem?"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675970519,"creation_date":1675970159,"answer_id":75403402,"question_id":75403260,"body_markdown":"My guess is that the confidential client obfuscated on your screenshot has no `Allowed Origins` configured with `http://localhost:9019` in Keycloak.\r\n\r\nIf the failing request is `https://test/auth/realms/test/protocol/openid-connect/token`, then it&#39;s a request to the token endpoint of the `test` realm on a Keycloak (19 or before) instance. It&#39;s the request for the REST client to get an access-token (using the client-credentials flow you configured), **before querying your resource-server** (your spring-security config on the resource-server has not been evaluated yet).\r\n\r\nGo to Keycloak administration console, browse to the test realm, open clients tab, select your confidential client and check allowed origins in its settings.","title":"springdoc openapi Failed to fetch","body":"<p>My guess is that the confidential client obfuscated on your screenshot has no <code>Allowed Origins</code> configured with <code>http://localhost:9019</code> in Keycloak.</p>\n<p>If the failing request is <code>https://test/auth/realms/test/protocol/openid-connect/token</code>, then it's a request to the token endpoint of the <code>test</code> realm on a Keycloak (19 or before) instance. It's the request for the REST client to get an access-token (using the client-credentials flow you configured), <strong>before querying your resource-server</strong> (your spring-security config on the resource-server has not been evaluated yet).</p>\n<p>Go to Keycloak administration console, browse to the test realm, open clients tab, select your confidential client and check allowed origins in its settings.</p>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675970519,"creation_date":1675969289,"question_id":75403260,"body_markdown":"In my spring boot application i used springdoc openapi.\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n           &lt;version&gt;1.6.11&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nAll the api in my app is secure by token, so i added OAuth2 authentication to my config like below.\r\n\r\n    @Bean\r\n    public OpenAPI openAPI() {\r\n        final String authUrl = &quot;https://test/auth/realms/test/protocol/openid-connect&quot;;\r\n        return new OpenAPI()\r\n                .components(new Components()\r\n                        .addSecuritySchemes(&quot;spring_oauth&quot;, new SecurityScheme()\r\n                                .type(SecurityScheme.Type.OAUTH2)\r\n                                .description(&quot;Oauth2 flow&quot;)\r\n                                .flows(new OAuthFlows()\r\n                                        .clientCredentials(new OAuthFlow()\r\n                                                .authorizationUrl(authUrl + &quot;/auth&quot;)\r\n                                                .refreshUrl(authUrl + &quot;/token&quot;)\r\n                                                .tokenUrl(authUrl + &quot;/token&quot;)\r\n                                                .scopes(new Scopes())\r\n                                        ))))\r\n                .security(Collections.singletonList(new SecurityRequirement().addList(&quot;spring_oauth&quot;)))\r\n                .info(new Info()\r\n                        .title(&quot;Test Service API&quot;)\r\n                        .description(&quot;Documentation Test Service API v1.0&quot;)\r\n                        .version(&quot;v1.0&quot;));\r\n    }\r\n\r\nI have the CorsFilter config\r\n\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        final CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.addAllowedMethod(&quot;GET&quot;);\r\n        config.addAllowedMethod(&quot;POST&quot;);\r\n        config.addAllowedMethod(&quot;OPTIONS&quot;);\r\n        config.addAllowedMethod(&quot;PATCH&quot;);\r\n\r\n        if (CollectionUtils.isNotEmpty(config.getAllowedOrigins())) {\r\n            source.registerCorsConfiguration(&quot;/api/**&quot;, config);\r\n            source.registerCorsConfiguration(&quot;/health&quot;, config);\r\n            source.registerCorsConfiguration(&quot;/info&quot;, config);\r\n            source.registerCorsConfiguration(&quot;/prometheus&quot;, config);\r\n            source.registerCorsConfiguration(&quot;/swagger-ui/**&quot;, config);\r\n            source.registerCorsConfiguration(&quot;/v3/api-docs/**&quot;, config);\r\n        }\r\n\r\n        return new CorsFilter(source);\r\n    }\r\n\r\nWhen i tried to authorize, i get an error `Auth ErrorTypeError: Failed to fetch`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the console i have the below error, even though i added `*` in the `AllowedOrigins`\r\n\r\n&gt; Access to fetch at\r\n&gt; &#39;https://test/auth/realms/test/protocol/openid-connect/token&#39; from\r\n&gt; origin &#39;http://localhost:9019&#39; has been blocked by CORS policy: No\r\n&gt; &#39;Access-Control-Allow-Origin&#39; header is present on the requested\r\n&gt; resource. If an opaque response serves your needs, set the request&#39;s\r\n&gt; mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zVhRF.png","title":"springdoc openapi Failed to fetch","body":"<p>In my spring boot application i used springdoc openapi.</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n       &lt;version&gt;1.6.11&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>All the api in my app is secure by token, so i added OAuth2 authentication to my config like below.</p>\n<pre><code>@Bean\npublic OpenAPI openAPI() {\n    final String authUrl = &quot;https://test/auth/realms/test/protocol/openid-connect&quot;;\n    return new OpenAPI()\n            .components(new Components()\n                    .addSecuritySchemes(&quot;spring_oauth&quot;, new SecurityScheme()\n                            .type(SecurityScheme.Type.OAUTH2)\n                            .description(&quot;Oauth2 flow&quot;)\n                            .flows(new OAuthFlows()\n                                    .clientCredentials(new OAuthFlow()\n                                            .authorizationUrl(authUrl + &quot;/auth&quot;)\n                                            .refreshUrl(authUrl + &quot;/token&quot;)\n                                            .tokenUrl(authUrl + &quot;/token&quot;)\n                                            .scopes(new Scopes())\n                                    ))))\n            .security(Collections.singletonList(new SecurityRequirement().addList(&quot;spring_oauth&quot;)))\n            .info(new Info()\n                    .title(&quot;Test Service API&quot;)\n                    .description(&quot;Documentation Test Service API v1.0&quot;)\n                    .version(&quot;v1.0&quot;));\n}\n</code></pre>\n<p>I have the CorsFilter config</p>\n<pre><code>@Bean\npublic CorsFilter corsFilter() {\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    final CorsConfiguration config = new CorsConfiguration();\n    config.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n    config.addAllowedHeader(&quot;*&quot;);\n    config.addAllowedMethod(&quot;GET&quot;);\n    config.addAllowedMethod(&quot;POST&quot;);\n    config.addAllowedMethod(&quot;OPTIONS&quot;);\n    config.addAllowedMethod(&quot;PATCH&quot;);\n\n    if (CollectionUtils.isNotEmpty(config.getAllowedOrigins())) {\n        source.registerCorsConfiguration(&quot;/api/**&quot;, config);\n        source.registerCorsConfiguration(&quot;/health&quot;, config);\n        source.registerCorsConfiguration(&quot;/info&quot;, config);\n        source.registerCorsConfiguration(&quot;/prometheus&quot;, config);\n        source.registerCorsConfiguration(&quot;/swagger-ui/**&quot;, config);\n        source.registerCorsConfiguration(&quot;/v3/api-docs/**&quot;, config);\n    }\n\n    return new CorsFilter(source);\n}\n</code></pre>\n<p>When i tried to authorize, i get an error <code>Auth ErrorTypeError: Failed to fetch</code></p>\n<p><a href=\"https://i.stack.imgur.com/zVhRF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zVhRF.png\" alt=\"enter image description here\" /></a></p>\n<p>In the console i have the below error, even though i added <code>*</code> in the <code>AllowedOrigins</code></p>\n<blockquote>\n<p>Access to fetch at\n'https://test/auth/realms/test/protocol/openid-connect/token' from\norigin 'http://localhost:9019' has been blocked by CORS policy: No\n'Access-Control-Allow-Origin' header is present on the requested\nresource. If an opaque response serves your needs, set the request's\nmode to 'no-cors' to fetch the resource with CORS disabled.</p>\n</blockquote>\n"},{"tags":["java","unit-testing","lombok"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1675932868,"post_id":75396162,"comment_id":133035193,"body_markdown":"Lombok replaces the annotations with actual code. The annotations are removed during compilation, which you can&#39;t beat AFAIK. However, you could test if the annotation would actually trigger by calling the method with parameters that cause the exception","body":"Lombok replaces the annotations with actual code. The annotations are removed during compilation, which you can&#39;t beat AFAIK. However, you could test if the annotation would actually trigger by calling the method with parameters that cause the exception"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1675933521,"post_id":75396162,"comment_id":133035363,"body_markdown":"What do you want to achieve? There might be other ways.","body":"What do you want to achieve? There might be other ways."},{"owner":{"account_id":19988121,"reputation":11,"user_id":14649844,"display_name":"HolyDrug"},"score":0,"creation_date":1675956167,"post_id":75396162,"comment_id":133042848,"body_markdown":"I want to test sneakythrows existence under private method, like I described below.","body":"I want to test sneakythrows existence under private method, like I described below."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":1,"creation_date":1675971475,"post_id":75396162,"comment_id":133048069,"body_markdown":"Unit test the behavior, not the presence of the annotation.","body":"Unit test the behavior, not the presence of the annotation."}],"answers":[{"comments":[{"owner":{"account_id":19988121,"reputation":11,"user_id":14649844,"display_name":"HolyDrug"},"score":0,"creation_date":1675956074,"post_id":75396242,"comment_id":133042815,"body_markdown":"Yes, because of retention I cannot test sneakythrows annotation existence. But I want to test It anyway somehow.","body":"Yes, because of retention I cannot test sneakythrows annotation existence. But I want to test It anyway somehow."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1675962941,"post_id":75396242,"comment_id":133045409,"body_markdown":"You should test the behavior: verify whether method throws unchecked exception and doesn&#39;t declare that exception in it&#39;s signature. You can use `Method.getExceptionTypes()` and `assertThrows` to implement described check.","body":"You should test the behavior: verify whether method throws unchecked exception and doesn&#39;t declare that exception in it&#39;s signature. You can use <code>Method.getExceptionTypes()</code> and <code>assertThrows</code> to implement described check."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1675970530,"post_id":75396242,"comment_id":133047816,"body_markdown":"@HolyDrug I&#39;ve updated my answer, try the example.","body":"@HolyDrug I&#39;ve updated my answer, try the example."}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675970511,"creation_date":1675932987,"answer_id":75396242,"question_id":75396162,"body_markdown":"As far as I understand Lombok&#39;s `@SneakyThrows` has retention `SOURCE`, so it&#39;s not preserved in the compiled code. See the sources:\r\n```java\r\n@Target({ElementType.METHOD, ElementType.CONSTRUCTOR})\r\n@Retention(RetentionPolicy.SOURCE)\r\npublic @interface SneakyThrows {\r\n\t/** @return The exception type(s) you want to sneakily throw onward. */\r\n\tClass&lt;? extends Throwable&gt;[] value() default java.lang.Throwable.class;\r\n\t\r\n\t//The fully qualified name is used for java.lang.Throwable in the parameter only. This works around a bug in javac:\r\n\t//   presence of an annotation processor throws off the type resolver for some reason.\r\n}\r\n```\r\nHere is a simple way to check whether `@SneakyThrows` is present over a method:\r\n```java\r\nclass MyTest {\r\n\r\n    @Test\r\n    void testSneakyThrows() throws NoSuchMethodException {\r\n        Class&lt;IOException&gt; exceptionType = IOException.class;\r\n\r\n        assertThrows(exceptionType, this::myMethod);\r\n        assertFalse(Arrays.asList(getClass().getMethod(&quot;myMethod&quot;).getExceptionTypes()).contains(exceptionType));\r\n    }\r\n\r\n    @SneakyThrows\r\n    public void myMethod() {\r\n        throw new IOException();\r\n    }\r\n}\r\n```","title":"How to unit test Lombok @SneakyThrows annotation existence under method","body":"<p>As far as I understand Lombok's <code>@SneakyThrows</code> has retention <code>SOURCE</code>, so it's not preserved in the compiled code. See the sources:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.METHOD, ElementType.CONSTRUCTOR})\n@Retention(RetentionPolicy.SOURCE)\npublic @interface SneakyThrows {\n    /** @return The exception type(s) you want to sneakily throw onward. */\n    Class&lt;? extends Throwable&gt;[] value() default java.lang.Throwable.class;\n    \n    //The fully qualified name is used for java.lang.Throwable in the parameter only. This works around a bug in javac:\n    //   presence of an annotation processor throws off the type resolver for some reason.\n}\n</code></pre>\n<p>Here is a simple way to check whether <code>@SneakyThrows</code> is present over a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyTest {\n\n    @Test\n    void testSneakyThrows() throws NoSuchMethodException {\n        Class&lt;IOException&gt; exceptionType = IOException.class;\n\n        assertThrows(exceptionType, this::myMethod);\n        assertFalse(Arrays.asList(getClass().getMethod(&quot;myMethod&quot;).getExceptionTypes()).contains(exceptionType));\n    }\n\n    @SneakyThrows\n    public void myMethod() {\n        throw new IOException();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19988121,"reputation":11,"user_id":14649844,"display_name":"HolyDrug"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1224,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675970511,"creation_date":1675932491,"question_id":75396162,"body_markdown":"\r\n```\r\n   @Test\r\n    void annotatedClass() throws NoSuchMethodException {\r\n        Class&lt;? extends service&gt; aClass = underTest.getClass();\r\n        Method method = aClass.getDeclaredMethod(&quot;create&quot;, param.class);\r\n        method.setAccessible(true);\r\n        SneakyThrows sneakyThrows = method.getAnnotation(SneakyThrows.class);\r\n        Assertions.assertNotNull(sneakyThrows);\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nBut assert is Null and private method annotated with @SneakyThrows  \r\n\r\nIDEA talk:\r\nAnnotation &#39;SneakyThrows.class&#39; is not retained for reflective access \r\n\r\nCan we beat annotation retention and be able to test it somehow?","title":"How to unit test Lombok @SneakyThrows annotation existence under method","body":"<pre><code>   @Test\n    void annotatedClass() throws NoSuchMethodException {\n        Class&lt;? extends service&gt; aClass = underTest.getClass();\n        Method method = aClass.getDeclaredMethod(&quot;create&quot;, param.class);\n        method.setAccessible(true);\n        SneakyThrows sneakyThrows = method.getAnnotation(SneakyThrows.class);\n        Assertions.assertNotNull(sneakyThrows);\n    }\n</code></pre>\n<p>But assert is Null and private method annotated with @SneakyThrows</p>\n<p>IDEA talk:\nAnnotation 'SneakyThrows.class' is not retained for reflective access</p>\n<p>Can we beat annotation retention and be able to test it somehow?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":18815791,"reputation":121,"user_id":13722952,"display_name":"Kawsar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675970436,"creation_date":1675970436,"answer_id":75403448,"question_id":73930748,"body_markdown":"    binding.bottomNavView.inflateMenu(R.menu.mymenu);\r\n    TransitionManager.endTransitions((NavigationBarMenuView) binding.bottomNavView.getChildAt(0));\r\n\r\nI am using this one. And its work fine.","title":"BottomNavigationView: Disable animation for adding/inflating menu runtime in java","body":"<pre><code>binding.bottomNavView.inflateMenu(R.menu.mymenu);\nTransitionManager.endTransitions((NavigationBarMenuView) binding.bottomNavView.getChildAt(0));\n</code></pre>\n<p>I am using this one. And its work fine.</p>\n"}],"owner":{"account_id":25352811,"reputation":31,"user_id":19169404,"display_name":"TP SINGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675970436,"creation_date":1664766250,"question_id":73930748,"body_markdown":"[![enter image description here][1]][1]I have a problem with BottomNavigationView. I have to inflate menu runtime and I have a problem with default animation. It looks like tabs slide from right. Do you know how to disable this animation/behavior.And when we inflate the menu it show not animation and apear without animation.\r\nPlease help me \r\n\r\nbottomnavigation.inflateMenu(R.menu.menufile)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iz5G8.gif","title":"BottomNavigationView: Disable animation for adding/inflating menu runtime in java","body":"<p><a href=\"https://i.stack.imgur.com/iz5G8.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iz5G8.gif\" alt=\"enter image description here\" /></a>I have a problem with BottomNavigationView. I have to inflate menu runtime and I have a problem with default animation. It looks like tabs slide from right. Do you know how to disable this animation/behavior.And when we inflate the menu it show not animation and apear without animation.\nPlease help me</p>\n<p>bottomnavigation.inflateMenu(R.menu.menufile)</p>\n"},{"tags":["java","intellij-idea","compiler-errors","sdk","ide"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1601877676,"post_id":64203073,"comment_id":113531046,"body_markdown":"Three notes: Your method should accept `List&lt;String&gt;` instead of requiring `ArrayList` specifically, it is not polite to modify the input, and your reversing logic is unnecessarily complicated. Instead, you can say `Collections.reverse(splitName.filter(n -&gt; !LORD_LADY.contains(n)).collect(toCollection(ArrayList::new)))`.","body":"Three notes: Your method should accept <code>List&lt;String&gt;</code> instead of requiring <code>ArrayList</code> specifically, it is not polite to modify the input, and your reversing logic is unnecessarily complicated. Instead, you can say <code>Collections.reverse(splitName.filter(n -&gt; !LORD_LADY.contains(n)).collect(toCollection(ArrayList::new)&zwnj;&#8203;))</code>."},{"owner":{"account_id":17061119,"reputation":77,"user_id":12344530,"display_name":"Bartosz_76"},"score":0,"creation_date":1601877896,"post_id":64203073,"comment_id":113531090,"body_markdown":"Thanks, I will modify my code. :-) Alas, that&#39;s beside my main problem. I don&#39;t even know what options I have because my IDE acts as if it was &quot;turned off&quot;.","body":"Thanks, I will modify my code. :-) Alas, that&#39;s beside my main problem. I don&#39;t even know what options I have because my IDE acts as if it was &quot;turned off&quot;."},{"owner":{"account_id":2491981,"reputation":1372,"user_id":2169264,"display_name":"Michał Schielmann"},"score":1,"creation_date":1601881447,"post_id":64203073,"comment_id":113532161,"body_markdown":"A bit hard to tell without seeing the setup. Is the file part of the project, meaning - is it in the src folder of any of your modules? How have you imported the project, is it maven, groovy, sbt?","body":"A bit hard to tell without seeing the setup. Is the file part of the project, meaning - is it in the src folder of any of your modules? How have you imported the project, is it maven, groovy, sbt?"},{"owner":{"account_id":17061119,"reputation":77,"user_id":12344530,"display_name":"Bartosz_76"},"score":0,"creation_date":1601884315,"post_id":64203073,"comment_id":113533382,"body_markdown":"I added a screenshot with my setup. The file is a part of the project, it&#39;s in the proper folder. The project is mine and built with Maven. The thing is - it worked without problems before. It&#39;s just that everything was fine and when I open it the next day - it&#39;s malfunctional like that. You can see it technically highlights the class name in the upper bar, but does not touch the code itself.","body":"I added a screenshot with my setup. The file is a part of the project, it&#39;s in the proper folder. The project is mine and built with Maven. The thing is - it worked without problems before. It&#39;s just that everything was fine and when I open it the next day - it&#39;s malfunctional like that. You can see it technically highlights the class name in the upper bar, but does not touch the code itself."}],"answers":[{"comments":[{"owner":{"account_id":17061119,"reputation":77,"user_id":12344530,"display_name":"Bartosz_76"},"score":0,"creation_date":1601890116,"post_id":64204518,"comment_id":113536025,"body_markdown":"Lilith almighty, it worked &lt;3 Thank you soooo muuuch &lt;3","body":"Lilith almighty, it worked &lt;3 Thank you soooo muuuch &lt;3"}],"tags":[],"owner":{"account_id":14235539,"reputation":88,"user_id":10283440,"display_name":"SaurPuss"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1601884444,"creation_date":1601884444,"answer_id":64204518,"question_id":64203073,"body_markdown":"Have you tried to invalidate the caches? That usually clears up issues like this. It&#39;s easy to do too: From the main menu, select File | Invalidate Caches / Restart.","title":"Intellij does not show any errors in the syntax/does not give any suggestions","body":"<p>Have you tried to invalidate the caches? That usually clears up issues like this. It's easy to do too: From the main menu, select File | Invalidate Caches / Restart.</p>\n"},{"tags":[],"owner":{"account_id":14248225,"reputation":657,"user_id":10292570,"display_name":"Sneha Mule"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675970419,"creation_date":1675970419,"answer_id":75403444,"question_id":64203073,"body_markdown":"As mentioned above try to do invalidate caches/Restart( File -&gt; invalidate caches/Restart)\r\n\r\nIf it did not work then check pom file name is not strikethrough. If pom file has strikethrogh then \r\nIntelljIdea -&gt; Select Build,Execution,Deployment -&gt; Select Build Tools -&gt; maven  -&gt; Select Ignored Files - Check pom is present in ignore file. If yes then uncheck it . and do mvn clean install \r\n\r\n","title":"Intellij does not show any errors in the syntax/does not give any suggestions","body":"<p>As mentioned above try to do invalidate caches/Restart( File -&gt; invalidate caches/Restart)</p>\n<p>If it did not work then check pom file name is not strikethrough. If pom file has strikethrogh then\nIntelljIdea -&gt; Select Build,Execution,Deployment -&gt; Select Build Tools -&gt; maven  -&gt; Select Ignored Files - Check pom is present in ignore file. If yes then uncheck it . and do mvn clean install</p>\n"}],"owner":{"account_id":17061119,"reputation":77,"user_id":12344530,"display_name":"Bartosz_76"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64204518,"answer_count":2,"score":1,"last_activity_date":1675970419,"creation_date":1601877124,"question_id":64203073,"body_markdown":"There&#39;s a couple of similar threads, but none seems to contain the answer to my issue.\r\n\r\nMy IDE does not show any error, does not give any suggestions, does not import anything. Example:\r\n\r\n```\r\npublic static String createInversion(ArrayList&lt;String&gt; splitName) {\r\n        splitName.removeIf(n -&gt; List.of(&quot;Lord&quot;, &quot;Lady&quot;).contains(n));\r\n        ArrayList&lt;String&gt; reverted = List.newArrayList(splitName.stream()\r\n        .collect(Collector.toCollection(LinkedList::new))\r\n        .descendingIterator());\r\n        return String.format(&quot;%s, %s&quot;, splitName.get(1), splitName.get(0));\r\n        gyugyuihu\r\n                dsfsdf\r\n                rewfewr\r\n    }\r\n```\r\nYou can clearly see that the last three lines are random chains of letters without any context. My IDE does not highlight them, does not report any problems. I don&#39;t even know if I should use Collector or Collectors class, because I am given zero suggestions, it&#39;s like writing in a Word Document.\r\n\r\nI am only given errors the moment I try to compile, but also just in the terminal. The code remains untouched by Intellij.\r\n\r\nI do not have the Power Safe Mode on, SDK is set correctly, language level in Modules is set correctly, Settings -&gt; Build, Execution, Deployment -&gt; Java Compiler -&gt; Target Bytecode Version is set correctly, the main folder is marked as the Source Root.\r\n\r\nI am out of ideas. Please help.\r\n\r\nEDIT:\r\nAdding a screenshot of my setup.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B33pb.png","title":"Intellij does not show any errors in the syntax/does not give any suggestions","body":"<p>There's a couple of similar threads, but none seems to contain the answer to my issue.</p>\n<p>My IDE does not show any error, does not give any suggestions, does not import anything. Example:</p>\n<pre><code>public static String createInversion(ArrayList&lt;String&gt; splitName) {\n        splitName.removeIf(n -&gt; List.of(&quot;Lord&quot;, &quot;Lady&quot;).contains(n));\n        ArrayList&lt;String&gt; reverted = List.newArrayList(splitName.stream()\n        .collect(Collector.toCollection(LinkedList::new))\n        .descendingIterator());\n        return String.format(&quot;%s, %s&quot;, splitName.get(1), splitName.get(0));\n        gyugyuihu\n                dsfsdf\n                rewfewr\n    }\n</code></pre>\n<p>You can clearly see that the last three lines are random chains of letters without any context. My IDE does not highlight them, does not report any problems. I don't even know if I should use Collector or Collectors class, because I am given zero suggestions, it's like writing in a Word Document.</p>\n<p>I am only given errors the moment I try to compile, but also just in the terminal. The code remains untouched by Intellij.</p>\n<p>I do not have the Power Safe Mode on, SDK is set correctly, language level in Modules is set correctly, Settings -&gt; Build, Execution, Deployment -&gt; Java Compiler -&gt; Target Bytecode Version is set correctly, the main folder is marked as the Source Root.</p>\n<p>I am out of ideas. Please help.</p>\n<p>EDIT:\nAdding a screenshot of my setup.\n<a href=\"https://i.stack.imgur.com/B33pb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B33pb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1675861696,"post_id":75367180,"comment_id":133018349,"body_markdown":"Try removing the `@MapsId` from `FilePermValuesPrimaryKey#filePermsEntity`","body":"Try removing the <code>@MapsId</code> from <code>FilePermValuesPrimaryKey#filePermsEntity</code>"},{"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"score":0,"creation_date":1675969878,"post_id":75367180,"comment_id":133047630,"body_markdown":"Thank you, Christian. That solved my issue. I will post my answer so that it will clarify the Q and help others too","body":"Thank you, Christian. That solved my issue. I will post my answer so that it will clarify the Q and help others too"}],"answers":[{"tags":[],"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675970212,"creation_date":1675970212,"answer_id":75403417,"question_id":75367180,"body_markdown":"The code below solved my problem:\r\n\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ToString(onlyExplicitlyIncluded = true)\r\n@Table(name = &quot;file_perm_values&quot;)\r\npublic class FilePermValuesEntity {\r\n\r\n    @EmbeddedId\r\n    @ToString.Include\r\n    private FilePermValuesPrimaryKey id;\r\n\r\n    @MapsId(&quot;filePermId&quot;)\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;file_perm_id&quot;)\r\n    private FilePermsEntity filePermsEntity;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;value&quot;)\r\n    private String value;\r\n\r\n    @Getter\r\n    @Builder\r\n    @Embeddable\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString(onlyExplicitlyIncluded = true)\r\n    public static class FilePermValuesPrimaryKey implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1223232L;\r\n\r\n        @ToString.Include\r\n        @Column(name = &quot;file_perm_id&quot;, nullable = false)\r\n        private UUID filePermId;\r\n\r\n        @ToString.Include\r\n        @Column(name = &quot;file_id&quot;, nullable = false)\r\n        private String fileId;\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            ...\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            ...\r\n        }\r\n    }\r\n}\r\n```","title":"How to fix JPA in Spring Boot error IllegalStateException: The column type is undefined?","body":"<p>The code below solved my problem:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString(onlyExplicitlyIncluded = true)\n@Table(name = &quot;file_perm_values&quot;)\npublic class FilePermValuesEntity {\n\n    @EmbeddedId\n    @ToString.Include\n    private FilePermValuesPrimaryKey id;\n\n    @MapsId(&quot;filePermId&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;file_perm_id&quot;)\n    private FilePermsEntity filePermsEntity;\n\n    @ToString.Include\n    @Column(name = &quot;value&quot;)\n    private String value;\n\n    @Getter\n    @Builder\n    @Embeddable\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @ToString(onlyExplicitlyIncluded = true)\n    public static class FilePermValuesPrimaryKey implements Serializable {\n\n        private static final long serialVersionUID = 1223232L;\n\n        @ToString.Include\n        @Column(name = &quot;file_perm_id&quot;, nullable = false)\n        private UUID filePermId;\n\n        @ToString.Include\n        @Column(name = &quot;file_id&quot;, nullable = false)\n        private String fileId;\n\n        @Override\n        public boolean equals(Object o) {\n            ...\n        }\n\n        @Override\n        public int hashCode() {\n            ...\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675970212,"creation_date":1675722050,"question_id":75367180,"body_markdown":"I am using JPA + Spring Boot for my project. This is the first time I&#39;m using JPA and I&#39;m also very new to Spring Boot.\r\n\r\nI want to create two tables `file_perms` and `file_perm_values`. I am able to get the definition of `file_perms` right. However, for my second table `file_perm_values`, I want to define a composite primary key that consists of the primary key of the `file_perms`, i.e., `id` and another String `file_id`. When I write the definition shown below and use the DDL creation button of Intellij, I get the error `Caused by: java.lang.IllegalStateException: The column type is undefined. Table - file_perm_values; Column - file_perm_id`\r\n\r\nWhat am I doing wrong?\r\n\r\nCould some of the experts out there please help me understand what&#39;s the problem and how to fix this?\r\n\r\nI&#39;ll be very grateful\r\n\r\n```\r\npackage com.some.project.persistence.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\nimport org.springframework.data.annotation.CreatedDate;\r\nimport org.springframework.data.annotation.LastModifiedDate;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport java.time.ZonedDateTime;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Getter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString(onlyExplicitlyIncluded = true)\r\n@Table(name = &quot;file_perms&quot;)\r\npublic class FilePermsEntity {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Builder.Default\r\n    @ToString.Include\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private UUID id = null;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;perm_name&quot;, nullable = false)\r\n    private String permName;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;is_active&quot;, nullable = false)\r\n    private boolean active;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;perm_guid&quot;)\r\n    private String permGuid;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;perm_index&quot;)\r\n    private int permIndex;\r\n\r\n    @CreatedDate\r\n    @Builder.Default\r\n    @ToString.Include\r\n    @Column(name = &quot;created_at&quot;)\r\n    private ZonedDateTime createdAt = ZonedDateTime.now();\r\n\r\n    @Builder.Default\r\n    @ToString.Include\r\n    @LastModifiedDate\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private ZonedDateTime updatedAt = ZonedDateTime.now();\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.some.project.persistence.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Embeddable;\r\nimport javax.persistence.EmbeddedId;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.MapsId;\r\nimport javax.persistence.Table;\r\nimport java.io.Serializable;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ToString(onlyExplicitlyIncluded = true)\r\n@Table(name = &quot;file_perm_values&quot;)\r\npublic class FilePermValuesEntity {\r\n\r\n    @EmbeddedId\r\n    @ToString.Include\r\n    private FilePermValuesPrimaryKey id;\r\n\r\n    @ToString.Include\r\n    @Column(name = &quot;value&quot;)\r\n    private String value;\r\n\r\n    @Getter\r\n    @Builder\r\n    @Embeddable\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString(onlyExplicitlyIncluded = true)\r\n    public static class FilePermValuesPrimaryKey implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1223232L;\r\n\r\n        @MapsId\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;file_perm_id&quot;, nullable = false)\r\n        private FilePermsEntity filePermsEntity;\r\n\r\n        @ToString.Include\r\n        @Column(name = &quot;file_id&quot;, nullable = false)\r\n        private String fileId;\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            ...\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            ...\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How to fix JPA in Spring Boot error IllegalStateException: The column type is undefined?","body":"<p>I am using JPA + Spring Boot for my project. This is the first time I'm using JPA and I'm also very new to Spring Boot.</p>\n<p>I want to create two tables <code>file_perms</code> and <code>file_perm_values</code>. I am able to get the definition of <code>file_perms</code> right. However, for my second table <code>file_perm_values</code>, I want to define a composite primary key that consists of the primary key of the <code>file_perms</code>, i.e., <code>id</code> and another String <code>file_id</code>. When I write the definition shown below and use the DDL creation button of Intellij, I get the error <code>Caused by: java.lang.IllegalStateException: The column type is undefined. Table - file_perm_values; Column - file_perm_id</code></p>\n<p>What am I doing wrong?</p>\n<p>Could some of the experts out there please help me understand what's the problem and how to fix this?</p>\n<p>I'll be very grateful</p>\n<pre><code>package com.some.project.persistence.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\nimport org.springframework.data.annotation.CreatedDate;\nimport org.springframework.data.annotation.LastModifiedDate;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport java.time.ZonedDateTime;\nimport java.util.UUID;\n\n@Entity\n@Getter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString(onlyExplicitlyIncluded = true)\n@Table(name = &quot;file_perms&quot;)\npublic class FilePermsEntity {\n\n    @Id\n    @GeneratedValue\n    @Builder.Default\n    @ToString.Include\n    @Column(name = &quot;id&quot;, nullable = false)\n    private UUID id = null;\n\n    @ToString.Include\n    @Column(name = &quot;perm_name&quot;, nullable = false)\n    private String permName;\n\n    @ToString.Include\n    @Column(name = &quot;is_active&quot;, nullable = false)\n    private boolean active;\n\n    @ToString.Include\n    @Column(name = &quot;perm_guid&quot;)\n    private String permGuid;\n\n    @ToString.Include\n    @Column(name = &quot;perm_index&quot;)\n    private int permIndex;\n\n    @CreatedDate\n    @Builder.Default\n    @ToString.Include\n    @Column(name = &quot;created_at&quot;)\n    private ZonedDateTime createdAt = ZonedDateTime.now();\n\n    @Builder.Default\n    @ToString.Include\n    @LastModifiedDate\n    @Column(name = &quot;updated_at&quot;)\n    private ZonedDateTime updatedAt = ZonedDateTime.now();\n}\n</code></pre>\n<pre><code>package com.some.project.persistence.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport javax.persistence.Column;\nimport javax.persistence.Embeddable;\nimport javax.persistence.EmbeddedId;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.MapsId;\nimport javax.persistence.Table;\nimport java.io.Serializable;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString(onlyExplicitlyIncluded = true)\n@Table(name = &quot;file_perm_values&quot;)\npublic class FilePermValuesEntity {\n\n    @EmbeddedId\n    @ToString.Include\n    private FilePermValuesPrimaryKey id;\n\n    @ToString.Include\n    @Column(name = &quot;value&quot;)\n    private String value;\n\n    @Getter\n    @Builder\n    @Embeddable\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @ToString(onlyExplicitlyIncluded = true)\n    public static class FilePermValuesPrimaryKey implements Serializable {\n\n        private static final long serialVersionUID = 1223232L;\n\n        @MapsId\n        @ManyToOne(fetch = FetchType.LAZY)\n        @JoinColumn(name = &quot;file_perm_id&quot;, nullable = false)\n        private FilePermsEntity filePermsEntity;\n\n        @ToString.Include\n        @Column(name = &quot;file_id&quot;, nullable = false)\n        private String fileId;\n\n        @Override\n        public boolean equals(Object o) {\n            ...\n        }\n\n        @Override\n        public int hashCode() {\n            ...\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","multithreading","concurrency"],"answers":[{"comments":[{"owner":{"account_id":16040627,"reputation":31,"user_id":11577121,"display_name":"Marco Jacobo"},"score":0,"creation_date":1675921816,"post_id":75393592,"comment_id":133032776,"body_markdown":"Thanks a lot Shagun Verma, \nI&#39;d like to make a question: &#191;What would be the difference between this executor and a thread?\n\nI appreciate a lot your answer, it is helping me to move foward. My code is partially working at this moment, I still need to make additional modifications... I&#39;m gonna continue tomorrow and update this post with additional feedback/comments.\n\nThanks again!!!","body":"Thanks a lot Shagun Verma,  I&#39;d like to make a question: &#191;What would be the difference between this executor and a thread?  I appreciate a lot your answer, it is helping me to move foward. My code is partially working at this moment, I still need to make additional modifications... I&#39;m gonna continue tomorrow and update this post with additional feedback/comments.  Thanks again!!!"},{"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"score":0,"creation_date":1675946402,"post_id":75393592,"comment_id":133039335,"body_markdown":"To know the difference, you can see https://javarevisited.blogspot.com/2016/12/difference-between-thread-and-executor.html?m=1","body":"To know the difference, you can see <a href=\"https://javarevisited.blogspot.com/2016/12/difference-between-thread-and-executor.html?m=1\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2016/12/&hellip;</a>"}],"tags":[],"owner":{"account_id":10611364,"reputation":163,"user_id":7815223,"display_name":"Shagun Verma"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675909718,"creation_date":1675909368,"answer_id":75393592,"question_id":75389536,"body_markdown":"To accomplish this, you have to use `Executors` in Java. The below code will be done the job for you-\r\n\r\n    btnPausePlay.setOnClickListener(view -&gt; {\r\n        btnPausePlay.setVisibility(View.GONE);\r\n        progressPausePlay.setVisibility(View.VISIBLE);\r\n        ExecutorService executorService =  Executors.newSingleThreadExecutor();\r\n            executorService.execute(() -&gt; {\r\n                // Implement your file download code here i.e.\r\n                // httpRequest_noBackgroundThread( urlStr, urlParams, fileStr, itf );\r\n            handler.post(() -&gt; {\r\n                btnPausePlay.setVisibility(View.VISIBLE);\r\n                progressPausePlay.setVisibility(View.GONE);\r\n            });\r\n        });\r\n    });\r\n\r\nWhen you press the btnPausePlay button, then it will become invisible and the progress bar becomes visible. After that, once the download is completed reverse will happen.","title":"How to force progressbar get visible just before a background thread starts its execution?","body":"<p>To accomplish this, you have to use <code>Executors</code> in Java. The below code will be done the job for you-</p>\n<pre><code>btnPausePlay.setOnClickListener(view -&gt; {\n    btnPausePlay.setVisibility(View.GONE);\n    progressPausePlay.setVisibility(View.VISIBLE);\n    ExecutorService executorService =  Executors.newSingleThreadExecutor();\n        executorService.execute(() -&gt; {\n            // Implement your file download code here i.e.\n            // httpRequest_noBackgroundThread( urlStr, urlParams, fileStr, itf );\n        handler.post(() -&gt; {\n            btnPausePlay.setVisibility(View.VISIBLE);\n            progressPausePlay.setVisibility(View.GONE);\n        });\n    });\n});\n</code></pre>\n<p>When you press the btnPausePlay button, then it will become invisible and the progress bar becomes visible. After that, once the download is completed reverse will happen.</p>\n"}],"owner":{"account_id":16040627,"reputation":31,"user_id":11577121,"display_name":"Marco Jacobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75393592,"answer_count":1,"score":0,"last_activity_date":1675969881,"creation_date":1675877127,"question_id":75389536,"body_markdown":"I think this is a very simple question for many people in this community, however, I can&#39;t make this to work after several experiments; I would appreciate any help. \r\n\r\n\r\nIt is JAVA-android platform: The code needs to execute the next steps when the user clicks a button:\r\n\r\n\r\n1) Make invisible the button      (run in main thread)\r\n2) Make visible a progress bar    (run in main thread)\r\n3) Download a file from internet  (run in background thread)\r\n\r\n4) Wait the download is completed\r\n5) Make invisible the progress bar\r\n6) Make visible again the button\r\n\r\nThat&#39;s it. It doesn&#39;t seem to be very difficult, however, it is not working as I need it. \r\n\r\n\r\nThis is the issue:\r\nStep 3 get executed before steps 1 and 2, ... I have tried several experiments with not success. \r\n\r\n\r\n    private void f1()\r\n    {\r\n        mDataBinding.btnPausePlay.setVisibility(btnVisibility);                    \r\n        mDataBinding.progressPausePlay.setVisibility(progressVisibility);\r\n    }\r\n    \r\n    private void f2()\r\n    {\r\n            Thread xThread = new Thread( new Runnable()\r\n            {   @Override\r\n                public void run()                            // run in background thread\r\n                { httpRequest_noBackgroundThread( urlStr, urlParams, fileStr, itf );  }\r\n            });\r\n            try\r\n            {\r\n                xThread.start();\r\n                xThread.join();     // wait for the thread to finish\r\n            }\r\n               catch( Exception e ){   e.printStackTrace();  }\r\n    }\r\n\r\n\r\n    private void f3()\r\n    {\r\n            f1();\r\n            f2();\r\n           // continues execution ...\r\n    }\r\n\r\n\r\n\r\n###########################################################\r\n# Based on Shagun Verma&#39;s feedback; It was the fix for my specific issue. Thank you! \r\n\r\n\r\n    private void f3()\r\n    {\r\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n        executorService.execute(() -&gt;\r\n        {       \r\n            f1();\r\n            f2();\r\n           // continues execution ...\r\n\r\n        });\r\n    }\r\n\r\n\r\n","title":"How to force progressbar get visible just before a background thread starts its execution?","body":"<p>I think this is a very simple question for many people in this community, however, I can't make this to work after several experiments; I would appreciate any help.</p>\n<p>It is JAVA-android platform: The code needs to execute the next steps when the user clicks a button:</p>\n<ol>\n<li><p>Make invisible the button      (run in main thread)</p>\n</li>\n<li><p>Make visible a progress bar    (run in main thread)</p>\n</li>\n<li><p>Download a file from internet  (run in background thread)</p>\n</li>\n<li><p>Wait the download is completed</p>\n</li>\n<li><p>Make invisible the progress bar</p>\n</li>\n<li><p>Make visible again the button</p>\n</li>\n</ol>\n<p>That's it. It doesn't seem to be very difficult, however, it is not working as I need it.</p>\n<p>This is the issue:\nStep 3 get executed before steps 1 and 2, ... I have tried several experiments with not success.</p>\n<pre><code>private void f1()\n{\n    mDataBinding.btnPausePlay.setVisibility(btnVisibility);                    \n    mDataBinding.progressPausePlay.setVisibility(progressVisibility);\n}\n\nprivate void f2()\n{\n        Thread xThread = new Thread( new Runnable()\n        {   @Override\n            public void run()                            // run in background thread\n            { httpRequest_noBackgroundThread( urlStr, urlParams, fileStr, itf );  }\n        });\n        try\n        {\n            xThread.start();\n            xThread.join();     // wait for the thread to finish\n        }\n           catch( Exception e ){   e.printStackTrace();  }\n}\n\n\nprivate void f3()\n{\n        f1();\n        f2();\n       // continues execution ...\n}\n</code></pre>\n<p>###########################################################</p>\n<h1>Based on Shagun Verma's feedback; It was the fix for my specific issue. Thank you!</h1>\n<pre><code>private void f3()\n{\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\n    executorService.execute(() -&gt;\n    {       \n        f1();\n        f2();\n       // continues execution ...\n\n    });\n}\n</code></pre>\n"},{"tags":["java","cplex"],"comments":[{"owner":{"account_id":2413938,"reputation":2052,"user_id":2108433,"accept_rate":20,"display_name":"TimChippingtonDerrick"},"score":0,"creation_date":1676021519,"post_id":75403348,"comment_id":133057268,"body_markdown":"What arguments does the staticLex function take?","body":"What arguments does the staticLex function take?"},{"owner":{"account_id":25218510,"reputation":1,"user_id":19055323,"display_name":"MARWA"},"score":0,"creation_date":1676036807,"post_id":75403348,"comment_id":133061774,"body_markdown":"It takes the two objective functions &quot;objective&quot; and &quot;secobj&quot; which are IloNumExpr. But the arguments should be IlonNumVar to work.","body":"It takes the two objective functions &quot;objective&quot; and &quot;secobj&quot; which are IloNumExpr. But the arguments should be IlonNumVar to work."}],"owner":{"account_id":25218510,"reputation":1,"user_id":19055323,"display_name":"MARWA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675969832,"creation_date":1675969832,"question_id":75403348,"body_markdown":"I need to blend two objective functions f1 and f2 ([see image here](https://i.stack.imgur.com/vB157.png)) where c is a continuous variable, C_{ug} is a binary variable and a,d and f are parameters. I&#39;m using Cplex Studio IDE 22.1.0  Java in eclipse.\r\n\r\n\r\n\r\n```\r\n// create the objetive function f1\r\n     IloLinearNumExpr firstPart = cplex.linearNumExpr();\r\n     int aSum = 0;\r\n     for (int k = 0; k &lt; inst.n + inst.m; k++) {\r\n         firstPart.addTerm(1, c[k]);\r\n       aSum += -inst.a[k];\r\n     }\r\n     firstPart.setConstant(aSum);\r\n\r\n     \r\n     IloLinearNumExpr secondPart = cplex.linearNumExpr();\r\n     for (int k = 0; k &lt; inst.n + inst.m; k++) {\r\n         // This is the equivalent to z[k] = max(c[k] - d[k], 0)\r\n         cplex.addEq(z[k], cplex.max(0,  cplex.sum(c[k], -inst.d[k])));\r\n          secondPart.addTerm(inst.f[k], z[k]);\r\n\r\n     }\r\n\r\n\r\n     IloLinearNumExpr objective = cplex.linearNumExpr();        \r\n     objective.add(firstPart);\r\n     objective.add(secondPart);\r\n\r\n \r\n     \r\n     // create the objetive function f2\r\n        IloLinearNumExpr secobj = cplex.linearNumExpr();       \r\n     for (int tt = 0; tt &lt; inst.T; tt++) {\r\n        for (int k = 0; k &lt; inst.q; k++) {\r\n                for (int j = 0; j &lt; inst.B; j++) {\r\n\r\n         secobj.addTerm(1, C[j][k]);\r\n       \r\n     }}}\r\n     \r\n\r\n      IloCplex.staticLex(objective, secobj );  \r\n```\r\n\r\nI&#39;m getting the following error: the method staticLex(IloNumExpr, String) in the type IloCplex is not applicable for the arguments (IloLinearNumExpr, IloLinearNumExpr). \r\nDoes anyone know how I can solve this problem? Many thanks.\r\n","title":"CPLEX Java StaticLex is not applicable for (iloNumexpr, iloNumexpr)","body":"<p>I need to blend two objective functions f1 and f2 (<a href=\"https://i.stack.imgur.com/vB157.png\" rel=\"nofollow noreferrer\">see image here</a>) where c is a continuous variable, C_{ug} is a binary variable and a,d and f are parameters. I'm using Cplex Studio IDE 22.1.0  Java in eclipse.</p>\n<pre><code>// create the objetive function f1\n     IloLinearNumExpr firstPart = cplex.linearNumExpr();\n     int aSum = 0;\n     for (int k = 0; k &lt; inst.n + inst.m; k++) {\n         firstPart.addTerm(1, c[k]);\n       aSum += -inst.a[k];\n     }\n     firstPart.setConstant(aSum);\n\n     \n     IloLinearNumExpr secondPart = cplex.linearNumExpr();\n     for (int k = 0; k &lt; inst.n + inst.m; k++) {\n         // This is the equivalent to z[k] = max(c[k] - d[k], 0)\n         cplex.addEq(z[k], cplex.max(0,  cplex.sum(c[k], -inst.d[k])));\n          secondPart.addTerm(inst.f[k], z[k]);\n\n     }\n\n\n     IloLinearNumExpr objective = cplex.linearNumExpr();        \n     objective.add(firstPart);\n     objective.add(secondPart);\n\n \n     \n     // create the objetive function f2\n        IloLinearNumExpr secobj = cplex.linearNumExpr();       \n     for (int tt = 0; tt &lt; inst.T; tt++) {\n        for (int k = 0; k &lt; inst.q; k++) {\n                for (int j = 0; j &lt; inst.B; j++) {\n\n         secobj.addTerm(1, C[j][k]);\n       \n     }}}\n     \n\n      IloCplex.staticLex(objective, secobj );  \n</code></pre>\n<p>I'm getting the following error: the method staticLex(IloNumExpr, String) in the type IloCplex is not applicable for the arguments (IloLinearNumExpr, IloLinearNumExpr).\nDoes anyone know how I can solve this problem? Many thanks.</p>\n"},{"tags":["java","postgresql","jdbc","keycloak","aws-secrets-manager"],"owner":{"account_id":6441761,"reputation":147,"user_id":4991573,"display_name":"tech_geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675969740,"creation_date":1675965647,"question_id":75402639,"body_markdown":"Hoping some one can point me in the right direction.\r\nTrying to get away from hardcoded passwd for postgres in the config file for keycloak 19. I dont want to make changes code nor write a custom class based on sdk aws provides, if possible ; keycloak 19.x and using legacy/wildfly\r\n\r\nwhat is needed here in the code below\r\n\r\n\r\n &lt;datasources&gt;\r\n\r\n&lt;datasource jndi-name=&quot;java:jboss/datasources/KeycloakDS&quot; pool-name=&quot;KeycloakDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\r\n &lt;connection-url&gt;jdbc-secretsmanager:postgresql://somename.rds.amazonaws.com:5432/keycloak?ssl=true;sslfactory=org.postgresql.ssl.NonValidatingFactory&lt;/connection-url&gt;\r\n\r\n                                        &lt;driver&gt;awspostgresql&lt;/driver&gt;\r\n                                        &lt;pool&gt;\r\n                                                &lt;max-pool-size&gt;20&lt;/max-pool-size&gt;\r\n                                        &lt;/pool&gt;\r\n                                        &lt;security&gt;\r\n                                                &lt;user-name&gt;_aws_secret_name&lt;/user-name&gt;\r\n                                        &lt;/security&gt;\r\n                               &lt;/datasource&gt;\r\n\r\n                &lt;drivers&gt;\r\n                        &lt;driver name=&quot;awspostgresql&quot; module=&quot;com.amazonaws&quot;&gt;\r\n                        &lt;driver-class&gt;com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver&lt;/driver-class&gt;\r\n                                        &lt;/driver&gt;\r\n                &lt;/drivers&gt;\r\n            &lt;/datasources&gt;\r\n===\r\n\r\nAfter satisfying all dependencies/jars, it throws error \r\n\r\n\r\n~~~~~~\r\n===\r\nJakarta Enterprise Beans subsystem suspension complete\r\n,522 WARN  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0003: Unable to instantiate driver class &quot;com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver&quot;: java.lang.IllegalStateException: Could not load real driver with name, &quot;org.postgresql.Driver&quot;.\r\n\r\nfollowed by\r\n\r\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.jdbc-driver.postgresql&quot;],\r\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\r\n        &quot;org.wildfly.data-source.KeycloakDS is missing [jboss.jdbc-driver.postgresql]&quot;,\r\n        &quot;jboss.driver-demander.java:jboss/datasources/KeycloakDS is missing [jboss.jdbc-driver.postgresql]&quot;\r\n====    ]\r\n\r\n~~~~~~\r\n\r\nWhat or how is this supposed to be configured? Appreciate any pointers. Thanks \r\n","title":"keycloak , aws secrets manager and postgres","body":"<p>Hoping some one can point me in the right direction.\nTrying to get away from hardcoded passwd for postgres in the config file for keycloak 19. I dont want to make changes code nor write a custom class based on sdk aws provides, if possible ; keycloak 19.x and using legacy/wildfly</p>\n<p>what is needed here in the code below</p>\n \n\n jdbc-secretsmanager:postgresql://somename.rds.amazonaws.com:5432/keycloak?ssl=true;sslfactory=org.postgresql.ssl.NonValidatingFactory\n<pre><code>                                    &lt;driver&gt;awspostgresql&lt;/driver&gt;\n                                    &lt;pool&gt;\n                                            &lt;max-pool-size&gt;20&lt;/max-pool-size&gt;\n                                    &lt;/pool&gt;\n                                    &lt;security&gt;\n                                            &lt;user-name&gt;_aws_secret_name&lt;/user-name&gt;\n                                    &lt;/security&gt;\n                           &lt;/datasource&gt;\n\n            &lt;drivers&gt;\n                    &lt;driver name=&quot;awspostgresql&quot; module=&quot;com.amazonaws&quot;&gt;\n                    &lt;driver-class&gt;com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver&lt;/driver-class&gt;\n                                    &lt;/driver&gt;\n            &lt;/drivers&gt;\n        &lt;/datasources&gt;\n</code></pre>\n<p>===</p>\n<p>After satisfying all dependencies/jars, it throws error</p>\n<pre><code>===\nJakarta Enterprise Beans subsystem suspension complete\n,522 WARN  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 32) WFLYJCA0003: Unable to instantiate driver class &quot;com.amazonaws.secretsmanager.sql.AWSSecretsManagerPostgreSQLDriver&quot;: java.lang.IllegalStateException: Could not load real driver with name, &quot;org.postgresql.Driver&quot;.\n\nfollowed by\n\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.jdbc-driver.postgresql&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [\n        &quot;org.wildfly.data-source.KeycloakDS is missing [jboss.jdbc-driver.postgresql]&quot;,\n        &quot;jboss.driver-demander.java:jboss/datasources/KeycloakDS is missing [jboss.jdbc-driver.postgresql]&quot;\n====    ]\n\n</code></pre>\n<p>What or how is this supposed to be configured? Appreciate any pointers. Thanks</p>\n"},{"tags":["java","validation","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1675994938,"post_id":75403247,"comment_id":133052667,"body_markdown":"you cant, routers are considered more low level. You either take the annotation way or the non annotation way","body":"you cant, routers are considered more low level. You either take the annotation way or the non annotation way"}],"owner":{"account_id":25326567,"reputation":69,"user_id":19147117,"display_name":"h1alexbel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675969263,"creation_date":1675969217,"question_id":75403247,"body_markdown":"I like using Spring WebFlux and Project Reactor itself. Mostly because it is pretty declarative and immutable. But how I can perform validation(@Validated) in the same declarative way using Routers instead of Controllers?\r\n\r\n```\r\n@Bean\r\n  public RouterFunction&lt;ServerResponse&gt; user() {\r\n    return RouterFunctions.route()\r\n      .GET(&quot;/api/v1/users/{id}&quot;,\r\n        req -&gt;\r\n          ServerResponse.ok().body(\r\n            this.users.findById(req.pathVariable(&quot;id&quot;)), User.class\r\n          )\r\n      ).build();\r\n  }\r\n```","title":"Is there a way to perform declarative validation using Routers in Spring WebFlux?","body":"<p>I like using Spring WebFlux and Project Reactor itself. Mostly because it is pretty declarative and immutable. But how I can perform validation(@Validated) in the same declarative way using Routers instead of Controllers?</p>\n<pre><code>@Bean\n  public RouterFunction&lt;ServerResponse&gt; user() {\n    return RouterFunctions.route()\n      .GET(&quot;/api/v1/users/{id}&quot;,\n        req -&gt;\n          ServerResponse.ok().body(\n            this.users.findById(req.pathVariable(&quot;id&quot;)), User.class\n          )\n      ).build();\n  }\n</code></pre>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":468289,"reputation":178225,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":1,"creation_date":1675969445,"post_id":36785425,"comment_id":133047478,"body_markdown":"The OP posted but then deleted an answer suggesting that poi 1.14 and xmlbean2.0 jar got it working for them. This could be untrue, of course; we can&#39;t know why they deleted it.","body":"The OP posted but then deleted an answer suggesting that poi 1.14 and xmlbean2.0 jar got it working for them. This could be untrue, of course; we can&#39;t know why they deleted it."}],"owner":{"account_id":8201327,"reputation":289,"user_id":6172595,"display_name":"Amit Rai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13197,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1675969218,"creation_date":1461302387,"question_id":36785425,"body_markdown":"Here is my piece of code for reading file in `xlsx` and `xls` format \r\n\r\n\tFile customerTemplateFileObj = new File(customerTemplateFullPath);\r\n    InputStream inputStream = new FileInputStream(customerTemplateFileObj);\r\n      \r\n    Workbook myWorkBook = null;\r\n    try {\r\n    \r\n    \t***myWorkBook = WorkbookFactory.create(inputStream);***\r\n    } \r\n    catch (Exception e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    }\r\n    \r\n    int totalSheets = myWorkBook.getNumberOfSheets();\r\n\r\nMy code is working fine for `xls` format but for `xlsx` its stop at \r\n\r\n    myWorkBook = WorkbookFactory.create(inputStream);\r\n\r\nwithout any Exception.\r\n","title":"WorkbookFactory.create(inputStream)","body":"<p>Here is my piece of code for reading file in <code>xlsx</code> and <code>xls</code> format </p>\n\n<pre><code>File customerTemplateFileObj = new File(customerTemplateFullPath);\nInputStream inputStream = new FileInputStream(customerTemplateFileObj);\n\nWorkbook myWorkBook = null;\ntry {\n\n    ***myWorkBook = WorkbookFactory.create(inputStream);***\n} \ncatch (Exception e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n\nint totalSheets = myWorkBook.getNumberOfSheets();\n</code></pre>\n\n<p>My code is working fine for <code>xls</code> format but for <code>xlsx</code> its stop at </p>\n\n<pre><code>myWorkBook = WorkbookFactory.create(inputStream);\n</code></pre>\n\n<p>without any Exception.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1675969028,"post_id":75403152,"comment_id":133047362,"body_markdown":"I think PreDestroy will be automatically called even if you shut down windows..","body":"I think PreDestroy will be automatically called even if you shut down windows.."},{"owner":{"account_id":27747279,"reputation":1,"user_id":21182498,"display_name":"rastorguev.i.a"},"score":0,"creation_date":1675969433,"post_id":75403152,"comment_id":133047476,"body_markdown":"I run the application from the command line, press shutdown computer and no query that should be executed in the method marked with @PreDestroy is executed. But if I try to terminate the app with ctrl+c everything works","body":"I run the application from the command line, press shutdown computer and no query that should be executed in the method marked with @PreDestroy is executed. But if I try to terminate the app with ctrl+c everything works"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1675969969,"post_id":75403152,"comment_id":133047652,"body_markdown":"Did you run with javaw.exe ?","body":"Did you run with javaw.exe ?"},{"owner":{"account_id":27747279,"reputation":1,"user_id":21182498,"display_name":"rastorguev.i.a"},"score":0,"creation_date":1676013279,"post_id":75403152,"comment_id":133055137,"body_markdown":"no, just in console","body":"no, just in console"},{"owner":{"account_id":27747279,"reputation":1,"user_id":21182498,"display_name":"rastorguev.i.a"},"score":0,"creation_date":1676015851,"post_id":75403152,"comment_id":133055693,"body_markdown":"i tried to wrap it in exe with launch4j, but the result didn&#39;t change - @PreDestroy didnt work","body":"i tried to wrap it in exe with launch4j, but the result didn&#39;t change - @PreDestroy didnt work"}],"owner":{"account_id":27747279,"reputation":1,"user_id":21182498,"display_name":"rastorguev.i.a"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675969019,"creation_date":1675968607,"question_id":75403152,"body_markdown":"I run the application from the command line and I need the method to be executed and send a post request when Windows shuts down\r\n\r\n@PreDestroy - It only works if I end the application manually. Is it possible to somehow call the method in the code when windows shuts down?\r\n\r\n\r\nI already tried to prescribe in the configuration server.shutdown: graceful\r\n\r\nOr maybe there is another way to call the method before Windows shuts down?","title":"Java Spring How to invoke @PreDestroy when windows shuts down?","body":"<p>I run the application from the command line and I need the method to be executed and send a post request when Windows shuts down</p>\n<p>@PreDestroy - It only works if I end the application manually. Is it possible to somehow call the method in the code when windows shuts down?</p>\n<p>I already tried to prescribe in the configuration server.shutdown: graceful</p>\n<p>Or maybe there is another way to call the method before Windows shuts down?</p>\n"},{"tags":["java","testing","junit"],"owner":{"account_id":7738097,"reputation":336,"user_id":5858995,"display_name":"Dzeri96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675968602,"creation_date":1675862095,"question_id":75386350,"body_markdown":"After spending some time away from java, where I used python&#39;s great [pytest](https://docs.pytest.org) framework, I got used to the functionality of setting up and tearing down test environments via chains (or rather graphs) of fixtures.\r\n\r\nFor those unfamiliar, a typical use case would be a base fixture that creates a self-reverting database transaction, then inheriting that fixture to insert some test data, and so on.\r\nOne would then require one or more fixtures on a per-test basis. This allows for a very concise setup of test environments, as opposed to `setUp` and `tearDown` methods found in most testing frameworks.\r\n\r\nComing back to java, I&#39;m not sure how something like this can be implemented in JUnit for example, or if an analogous framework exists.","title":"Pytest-style fixture dependencies in Java","body":"<p>After spending some time away from java, where I used python's great <a href=\"https://docs.pytest.org\" rel=\"nofollow noreferrer\">pytest</a> framework, I got used to the functionality of setting up and tearing down test environments via chains (or rather graphs) of fixtures.</p>\n<p>For those unfamiliar, a typical use case would be a base fixture that creates a self-reverting database transaction, then inheriting that fixture to insert some test data, and so on.\nOne would then require one or more fixtures on a per-test basis. This allows for a very concise setup of test environments, as opposed to <code>setUp</code> and <code>tearDown</code> methods found in most testing frameworks.</p>\n<p>Coming back to java, I'm not sure how something like this can be implemented in JUnit for example, or if an analogous framework exists.</p>\n"},{"tags":["java","do-while","inputmismatchexception"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1675966318,"post_id":75402617,"comment_id":133046497,"body_markdown":"What was the value you provided? Since you are using `next(pattern)` are you sure it matches `String pattern = &quot;^[a-zA-Z](\\\\s?[a-zA-Z]){2,29}$&quot;;`?","body":"What was the value you provided? Since you are using <code>next(pattern)</code> are you sure it matches <code>String pattern = &quot;^[a-zA-Z](\\\\s?[a-zA-Z]){2,29}$&quot;;</code>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1675966548,"post_id":75402617,"comment_id":133046574,"body_markdown":"Also note that `next` can only read values until *delimiter* of Scanner, which by default is set to *one or more whitespace*. This is why `next` can (by default) only return single words which don&#39;t contain whitespaces, so pattern which matches those words will never match `\\\\s`.","body":"Also note that <code>next</code> can only read values until <i>delimiter</i> of Scanner, which by default is set to <i>one or more whitespace</i>. This is why <code>next</code> can (by default) only return single words which don&#39;t contain whitespaces, so pattern which matches those words will never match <code>\\\\s</code>."},{"owner":{"account_id":2788377,"reputation":1,"user_id":2399174,"display_name":"donkey_junior"},"score":0,"creation_date":1675966567,"post_id":75402617,"comment_id":133046582,"body_markdown":"Yes, following same criteria. Here is example of what happens...  Please type your surname...\nSmith\nPlease type your age...\n22\nPlease type your motor type i.e. CAR, TAXI or BUS...\ncar\n\nSMITH, 22, CAR, SMI20231\n\nSurname      :SMITH\nAge          :22\nPolicy Ref   :SMI20231\nMotor Type:  :CAR\n\nAdd another Policy Holder (Y or N)..\ny\nPlease type your surname...\njones\nThere is a problem ... Policy Holder does meet necessary criteria, run the program again.\nProgram ended!","body":"Yes, following same criteria. Here is example of what happens...  Please type your surname... Smith Please type your age... 22 Please type your motor type i.e. CAR, TAXI or BUS... car  SMITH, 22, CAR, SMI20231  Surname      :SMITH Age          :22 Policy Ref   :SMI20231 Motor Type:  :CAR  Add another Policy Holder (Y or N).. y Please type your surname... jones There is a problem ... Policy Holder does meet necessary criteria, run the program again. Program ended!"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1675966728,"post_id":75402617,"comment_id":133046621,"body_markdown":"Please use [edit] option and add that to your question instead of comment (lets not force other people who may want to help you to look for necessary information all over the comments section).","body":"Please use <a href=\"https://stackoverflow.com/posts/75402617/edit\">edit</a> option and add that to your question instead of comment (lets not force other people who may want to help you to look for necessary information all over the comments section)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1675967722,"post_id":75402617,"comment_id":133046975,"body_markdown":"&quot;*..I try to run the program again using a do while loop but receive an inputmismatchexception after typing surname.*&quot; your console example doesn&#39;t let us see that problem. To get better help please consider reducing your example to [SSCCE](http://sscce.org) (a.k.a. [MCVE]) - in other words get rid of things which are not related to problem you are showing (this will also help you to narrow its cause which may lead you to solving it yourself). Also make it runnable/debuggable for us - maybe add to it `main` method which we could run and get exact error you are facing.","body":"&quot;<i>..I try to run the program again using a do while loop but receive an inputmismatchexception after typing surname.</i>&quot; your console example doesn&#39;t let us see that problem. To get better help please consider reducing your example to <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE</a> (a.k.a. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) - in other words get rid of things which are not related to problem you are showing (this will also help you to narrow its cause which may lead you to solving it yourself). Also make it runnable/debuggable for us - maybe add to it <code>main</code> method which we could run and get exact error you are facing."},{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":0,"creation_date":1675969335,"post_id":75402617,"comment_id":133047439,"body_markdown":"I half-suspect I know where the problem lies. Does it work after changing the line `addAnother = scanner.next();` to `addAnother = scanner.nextLine();`?","body":"I half-suspect I know where the problem lies. Does it work after changing the line <code>addAnother = scanner.next();</code> to <code>addAnother = scanner.nextLine();</code>?"},{"owner":{"account_id":2788377,"reputation":1,"user_id":2399174,"display_name":"donkey_junior"},"score":0,"creation_date":1675969708,"post_id":75402617,"comment_id":133047567,"body_markdown":"no, it ignores the do while loop and instead goes to finally &quot;Program ended!&quot;","body":"no, it ignores the do while loop and instead goes to finally &quot;Program ended!&quot;"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1675969862,"post_id":75402617,"comment_id":133047626,"body_markdown":"Off-Topic:  One poor practice in your code is printing a generic message when an exception is thrown:  `(Exception exception) { System.out.println(\n&quot;There is a problem ... Policy Holder does meet necessary criteria, run the program again.&quot;);`. In debugging, it  helps to display the actual `exception.toString`.","body":"Off-Topic:  One poor practice in your code is printing a generic message when an exception is thrown:  <code>(Exception exception) { System.out.println( &quot;There is a problem ... Policy Holder does meet necessary criteria, run the program again.&quot;);</code>. In debugging, it  helps to display the actual <code>exception.toString</code>."},{"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"score":1,"creation_date":1675970512,"post_id":75402617,"comment_id":133047806,"body_markdown":"Also, another good practice is to not depend on the exception throwing behavior of Scanner, and instead use the `hasNext...` methods (e.g., `hasNext`, `hasNextInt`, etc.) which you can use in if statements to determine if the next input meets the criteria.","body":"Also, another good practice is to not depend on the exception throwing behavior of Scanner, and instead use the <code>hasNext...</code> methods (e.g., <code>hasNext</code>, <code>hasNextInt</code>, etc.) which you can use in if statements to determine if the next input meets the criteria."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1675970518,"post_id":75402617,"comment_id":133047810,"body_markdown":"Remove `^` from your regex, as it indicates *start of data* which for first surname is valid (as it is provided at beginning of input stream) but after that `^` will *prevent* pattern from matching other surnames since they are no longer at &quot;*start of stream*&quot;. You can also remove `$` and `\\s` since it doesn&#39;t add anything here. In other words you can reduce your `pattern` to `private String pattern = &quot;[a-zA-Z][a-zA-Z]{2,29}&quot;;`","body":"Remove <code>^</code> from your regex, as it indicates <i>start of data</i> which for first surname is valid (as it is provided at beginning of input stream) but after that <code>^</code> will <i>prevent</i> pattern from matching other surnames since they are no longer at &quot;<i>start of stream</i>&quot;. You can also remove <code>$</code> and <code>\\s</code> since it doesn&#39;t add anything here. In other words you can reduce your <code>pattern</code> to <code>private String pattern = &quot;[a-zA-Z][a-zA-Z]{2,29}&quot;;</code>"},{"owner":{"account_id":2788377,"reputation":1,"user_id":2399174,"display_name":"donkey_junior"},"score":0,"creation_date":1675970831,"post_id":75402617,"comment_id":133047909,"body_markdown":"Thanks everyone for your help. Thank you Pshemo for identifying the problem. Much appreciated.","body":"Thanks everyone for your help. Thank you Pshemo for identifying the problem. Much appreciated."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1675971197,"post_id":75402617,"comment_id":133047989,"body_markdown":"You are welcome. BTW `private String pattern = &quot;[a-zA-Z][a-zA-Z]{2,29}&quot;;` can be farther simplified to `private String pattern = &quot;[a-zA-Z]{3,30}&quot;;`","body":"You are welcome. BTW <code>private String pattern = &quot;[a-zA-Z][a-zA-Z]{2,29}&quot;;</code> can be farther simplified to <code>private String pattern = &quot;[a-zA-Z]{3,30}&quot;;</code>"}],"owner":{"account_id":2788377,"reputation":1,"user_id":2399174,"display_name":"donkey_junior"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675968540,"creation_date":1675965490,"question_id":75402617,"body_markdown":"Having successfully created a policy holder and writing the information to csv I try to run the program again using a do while loop but receive an inputmismatchexception after typing surname.\r\n\r\nCan someone point me in the right direction or advise what I am doing wrong with this piece of code?\r\n\r\nHere is example of what happens...\r\n[console][1]\r\n\r\n\r\n```\r\n/**\r\n * \r\n */\r\npackage InsurancePolicySystem;\r\n\r\nimport java.io.BufferedWriter;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Scanner;\r\nimport java.util.stream.Collectors;\r\n\r\n/**\r\n * @author\r\n *\r\n */\r\npublic class InsurancePolicy {\r\n\r\n\t// create variables\r\n\tprivate String surname;\r\n\tprivate int age;\r\n\tprivate String motorType;\r\n\tprivate String motorPolicyId;\r\n\tprivate String addAnother;\r\n\tprivate String pattern = &quot;^[a-zA-Z](\\\\s?[a-zA-Z]){2,29}$&quot;;\r\n\r\n\t// import scanner for user input\r\n\tScanner scanner = new Scanner(System.in);\r\n\r\n\t// time stamp number. -1 used on month as time stamp displays next year instead\r\n\t// of current year\r\n\tint year = Calendar.getInstance().get(Calendar.YEAR);\r\n\tint month = Calendar.getInstance().get(Calendar.MONTH) - 1;\r\n\r\n\t// sum of the year and month\r\n\tint timeStamp = year + month;\r\n\r\n\t/**\r\n\t * default constructor\r\n\t */\r\n\tpublic InsurancePolicy() {\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * non default constructor\r\n\t * \r\n\t * @param surname\r\n\t * @param age\r\n\t * @param motorType\r\n\t * @param motorPolicyId\r\n\t */\r\n\tpublic InsurancePolicy(String surname, int age, String motorType, String motorPolicyId) {\r\n\t\tthis.surname = surname;\r\n\t\tthis.age = age;\r\n\t\tthis.motorType = motorType;\r\n\t\tthis.motorPolicyId = motorPolicyId;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic String getSurname() {\r\n\t\treturn surname;\r\n\t}\r\n\r\n\t/**\r\n\t * Surname should be more than 3 letters and not greater than 20. Anything more\r\n\t * will cause a not valid error!\r\n\t * \r\n\t * @param surname\r\n\t * @throws IllegalArgumentException\r\n\t */\r\n\tpublic void setSurname(String surname) throws IllegalArgumentException {\r\n\t\tthis.surname = surname;\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\r\n\t/**\r\n\t * Age must be between 18 &amp; 50 Any other age will produce not eligible error!\r\n\t * \r\n\t * @param age\r\n\t * @throws IllegalArgumentException\r\n\t */\r\n\tpublic void setAge(int age) throws IllegalArgumentException {\r\n\t\tif ((age &gt;= 18) &amp;&amp; (age &lt;= 50)) {\r\n\t\t\tthis.age = age;\r\n\t\t} else {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Not eligible for an insurance policy!&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic String getMotorType() {\r\n\t\treturn motorType;\r\n\t}\r\n\r\n\t/**\r\n\t * motor type should only be either CAR, TAXI or BUS. if statement to prevent\r\n\t * other vehicle types and throw error if user inputs a different vehicle.\r\n\t * \r\n\t * @param motorType\r\n\t * @throws IllegalArgumentException\r\n\t */\r\n\tpublic void setMotorType(String motorType) throws IllegalArgumentException {\r\n\t\tif (motorType.equals(&quot;CAR&quot;) || motorType.equals(&quot;TAXI&quot;) || motorType.equals(&quot;BUS&quot;)) {\r\n\t\t\tthis.motorType = motorType;\r\n\t\t} else {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Not eligible for an insurance policy!&quot;);\r\n\t\t}\r\n\t\tthis.motorType = motorType;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @return\r\n\t */\r\n\tpublic String getMotorPolicyId() {\r\n\t\treturn motorPolicyId;\r\n\t}\r\n\r\n\t/**\r\n\t * \r\n\t * @param motorPolicyId\r\n\t */\r\n\tpublic void setMotorPolicyId(String motorPolicyId) {\r\n\t\tthis.motorPolicyId = motorPolicyId;\r\n\t}\r\n\r\n\t/**\r\n\t * Method to write policy holder particulars to a csv file. Creates ArrayList\r\n\t * and uses collect joining to add comma for file.\r\n\t * \r\n\t * @throws IOException\r\n\t */\r\n\tpublic void writeToFile() throws IOException {\r\n\t\tBufferedWriter writer = new BufferedWriter(\r\n\t\t\t\tnew FileWriter(&quot;/Users/johnj/eclipse-workspace/InsuranceProject/insurance.csv&quot;, true));\r\n\r\n\t\t// creates policy holder (insurance) array\r\n\t\tArrayList&lt;String&gt; insurance = new ArrayList&lt;String&gt;();\r\n\t\tinsurance.add(surname);\r\n\t\tinsurance.add(Integer.toString(age));\r\n\t\tinsurance.add(motorType);\r\n\t\tinsurance.add(motorPolicyId);\r\n\r\n\t\t// write array to csv file\r\n\t\tString collect = insurance.stream().collect(Collectors.joining(&quot;, &quot;));\r\n\t\tSystem.out.println(collect);\r\n\t\twriter.write(collect);\r\n\t\twriter.newLine();\r\n\t\twriter.flush();\r\n\t\twriter.close();\r\n\t}\r\n\r\n\t/**\r\n\t * Builds and generates user input. Will then add it into an array list and\r\n\t * append to writeToFile(). Included do while loop for user to continue creating\r\n\t * policy profiles without having to re run program.\r\n\t * \r\n\t * @param motorType\r\n\t */\r\n\tpublic void addPolicyHolder() throws IOException {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\t// enter policy holder surname. Checks pattern to ensure compliance\r\n\t\t\t\tSystem.out.println(&quot;Please type your surname...&quot;);\r\n\t\t\t\tsurname = scanner.next(pattern).toUpperCase().trim();\r\n\t\t\t\tsetSurname(this.surname);\r\n\r\n\t\t\t\t// user input age\r\n\t\t\t\tSystem.out.println(&quot;Please type your age...&quot;);\r\n\t\t\t\tage = scanner.nextInt();\r\n\t\t\t\tsetAge(this.age);\r\n\r\n\t\t\t\t// user input motor type which is converted to upper case\r\n\t\t\t\tSystem.out.println(&quot;Please type your motor type i.e. CAR, TAXI or BUS...&quot;);\r\n\t\t\t\tmotorType = scanner.next().toUpperCase().trim();\r\n\t\t\t\tsetMotorType(this.motorType);\r\n\r\n\t\t\t\tSystem.out.println(); // used to create next line space\r\n\r\n\t\t\t\t// Motor Policy Id should be 3 characters from surname as well as time stamp. If\r\n\t\t\t\t// time stamp odd number add 1 or else add 0 if even.\r\n\t\t\t\tmotorPolicyId = surname.substring(0, 3) + timeStamp;\r\n\t\t\t\tif (timeStamp % 2 == 0) {\r\n\t\t\t\t\tmotorPolicyId = this.motorPolicyId + 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmotorPolicyId = this.motorPolicyId + 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// creates csv file\r\n\t\t\t\twriteToFile();\r\n\r\n\t\t\t\t// prints completed user input of policy holder\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tSystem.out.println(&quot;Surname      :&quot; + this.surname);\r\n\t\t\t\tSystem.out.println(&quot;Age          :&quot; + this.age);\r\n\t\t\t\tSystem.out.println(&quot;Policy Ref   :&quot; + this.motorPolicyId);\r\n\t\t\t\tSystem.out.println(&quot;Motor Type:  :&quot; + this.motorType);\r\n\r\n\t\t\t\tSystem.out.println(); // used to create next line space\r\n\r\n\t\t\t\t// asks user if they would like to create a different policy holder\r\n\t\t\t\tSystem.out.println(&quot;Add another Policy Holder (Y or N)..&quot;);\r\n\t\t\t\taddAnother = scanner.next();\r\n\t\t\t} while (addAnother.equalsIgnoreCase(&quot;Y&quot;)); // If N program ends.\r\n\t\t} catch (Exception exception) { // if exception program ends\r\n\t\t\tSystem.out.println(\r\n\t\t\t\t\t&quot;There is a problem ... Policy Holder does meet necessary criteria, run the program again.&quot;);\r\n\t\t} finally {\r\n\t\t\tscanner.close();\r\n\t\t\tSystem.out.println(&quot;Program ended!&quot;); // end of program\r\n\t\t}\r\n\r\n\t}\r\n\r\npublic static void main(String[] args) throws IOException {\r\n\r\n\t\tInsurancePolicy insurancePolicy = new InsurancePolicy();\r\n\t\tinsurancePolicy.addPolicyHolder();\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI am able to complete a first run but do while loop fails when trying to add another policy holder.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WxJlA.jpg","title":"InputMismatchException when attempting to run program again in do while loop","body":"<p>Having successfully created a policy holder and writing the information to csv I try to run the program again using a do while loop but receive an inputmismatchexception after typing surname.</p>\n<p>Can someone point me in the right direction or advise what I am doing wrong with this piece of code?</p>\n<p>Here is example of what happens...\n<a href=\"https://i.stack.imgur.com/WxJlA.jpg\" rel=\"nofollow noreferrer\">console</a></p>\n<pre><code>/**\n * \n */\npackage InsurancePolicySystem;\n\nimport java.io.BufferedWriter;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Scanner;\nimport java.util.stream.Collectors;\n\n/**\n * @author\n *\n */\npublic class InsurancePolicy {\n\n    // create variables\n    private String surname;\n    private int age;\n    private String motorType;\n    private String motorPolicyId;\n    private String addAnother;\n    private String pattern = &quot;^[a-zA-Z](\\\\s?[a-zA-Z]){2,29}$&quot;;\n\n    // import scanner for user input\n    Scanner scanner = new Scanner(System.in);\n\n    // time stamp number. -1 used on month as time stamp displays next year instead\n    // of current year\n    int year = Calendar.getInstance().get(Calendar.YEAR);\n    int month = Calendar.getInstance().get(Calendar.MONTH) - 1;\n\n    // sum of the year and month\n    int timeStamp = year + month;\n\n    /**\n     * default constructor\n     */\n    public InsurancePolicy() {\n\n    }\n\n    /**\n     * non default constructor\n     * \n     * @param surname\n     * @param age\n     * @param motorType\n     * @param motorPolicyId\n     */\n    public InsurancePolicy(String surname, int age, String motorType, String motorPolicyId) {\n        this.surname = surname;\n        this.age = age;\n        this.motorType = motorType;\n        this.motorPolicyId = motorPolicyId;\n\n    }\n\n    /**\n     * \n     * @return\n     */\n    public String getSurname() {\n        return surname;\n    }\n\n    /**\n     * Surname should be more than 3 letters and not greater than 20. Anything more\n     * will cause a not valid error!\n     * \n     * @param surname\n     * @throws IllegalArgumentException\n     */\n    public void setSurname(String surname) throws IllegalArgumentException {\n        this.surname = surname;\n    }\n\n    /**\n     * \n     * @return\n     */\n    public int getAge() {\n        return age;\n    }\n\n    /**\n     * Age must be between 18 &amp; 50 Any other age will produce not eligible error!\n     * \n     * @param age\n     * @throws IllegalArgumentException\n     */\n    public void setAge(int age) throws IllegalArgumentException {\n        if ((age &gt;= 18) &amp;&amp; (age &lt;= 50)) {\n            this.age = age;\n        } else {\n            throw new IllegalArgumentException(&quot;Not eligible for an insurance policy!&quot;);\n        }\n    }\n\n    /**\n     * \n     * @return\n     */\n    public String getMotorType() {\n        return motorType;\n    }\n\n    /**\n     * motor type should only be either CAR, TAXI or BUS. if statement to prevent\n     * other vehicle types and throw error if user inputs a different vehicle.\n     * \n     * @param motorType\n     * @throws IllegalArgumentException\n     */\n    public void setMotorType(String motorType) throws IllegalArgumentException {\n        if (motorType.equals(&quot;CAR&quot;) || motorType.equals(&quot;TAXI&quot;) || motorType.equals(&quot;BUS&quot;)) {\n            this.motorType = motorType;\n        } else {\n            throw new IllegalArgumentException(&quot;Not eligible for an insurance policy!&quot;);\n        }\n        this.motorType = motorType;\n\n    }\n\n    /**\n     * \n     * @return\n     */\n    public String getMotorPolicyId() {\n        return motorPolicyId;\n    }\n\n    /**\n     * \n     * @param motorPolicyId\n     */\n    public void setMotorPolicyId(String motorPolicyId) {\n        this.motorPolicyId = motorPolicyId;\n    }\n\n    /**\n     * Method to write policy holder particulars to a csv file. Creates ArrayList\n     * and uses collect joining to add comma for file.\n     * \n     * @throws IOException\n     */\n    public void writeToFile() throws IOException {\n        BufferedWriter writer = new BufferedWriter(\n                new FileWriter(&quot;/Users/johnj/eclipse-workspace/InsuranceProject/insurance.csv&quot;, true));\n\n        // creates policy holder (insurance) array\n        ArrayList&lt;String&gt; insurance = new ArrayList&lt;String&gt;();\n        insurance.add(surname);\n        insurance.add(Integer.toString(age));\n        insurance.add(motorType);\n        insurance.add(motorPolicyId);\n\n        // write array to csv file\n        String collect = insurance.stream().collect(Collectors.joining(&quot;, &quot;));\n        System.out.println(collect);\n        writer.write(collect);\n        writer.newLine();\n        writer.flush();\n        writer.close();\n    }\n\n    /**\n     * Builds and generates user input. Will then add it into an array list and\n     * append to writeToFile(). Included do while loop for user to continue creating\n     * policy profiles without having to re run program.\n     * \n     * @param motorType\n     */\n    public void addPolicyHolder() throws IOException {\n\n        try {\n\n            do {\n\n                // enter policy holder surname. Checks pattern to ensure compliance\n                System.out.println(&quot;Please type your surname...&quot;);\n                surname = scanner.next(pattern).toUpperCase().trim();\n                setSurname(this.surname);\n\n                // user input age\n                System.out.println(&quot;Please type your age...&quot;);\n                age = scanner.nextInt();\n                setAge(this.age);\n\n                // user input motor type which is converted to upper case\n                System.out.println(&quot;Please type your motor type i.e. CAR, TAXI or BUS...&quot;);\n                motorType = scanner.next().toUpperCase().trim();\n                setMotorType(this.motorType);\n\n                System.out.println(); // used to create next line space\n\n                // Motor Policy Id should be 3 characters from surname as well as time stamp. If\n                // time stamp odd number add 1 or else add 0 if even.\n                motorPolicyId = surname.substring(0, 3) + timeStamp;\n                if (timeStamp % 2 == 0) {\n                    motorPolicyId = this.motorPolicyId + 0;\n                } else {\n                    motorPolicyId = this.motorPolicyId + 1;\n                }\n\n                // creates csv file\n                writeToFile();\n\n                // prints completed user input of policy holder\n                System.out.println();\n                System.out.println(&quot;Surname      :&quot; + this.surname);\n                System.out.println(&quot;Age          :&quot; + this.age);\n                System.out.println(&quot;Policy Ref   :&quot; + this.motorPolicyId);\n                System.out.println(&quot;Motor Type:  :&quot; + this.motorType);\n\n                System.out.println(); // used to create next line space\n\n                // asks user if they would like to create a different policy holder\n                System.out.println(&quot;Add another Policy Holder (Y or N)..&quot;);\n                addAnother = scanner.next();\n            } while (addAnother.equalsIgnoreCase(&quot;Y&quot;)); // If N program ends.\n        } catch (Exception exception) { // if exception program ends\n            System.out.println(\n                    &quot;There is a problem ... Policy Holder does meet necessary criteria, run the program again.&quot;);\n        } finally {\n            scanner.close();\n            System.out.println(&quot;Program ended!&quot;); // end of program\n        }\n\n    }\n\npublic static void main(String[] args) throws IOException {\n\n        InsurancePolicy insurancePolicy = new InsurancePolicy();\n        insurancePolicy.addPolicyHolder();\n\n    }\n\n}\n\n</code></pre>\n<p>I am able to complete a first run but do while loop fails when trying to add another policy holder.</p>\n"},{"tags":["java","linux","tomcat"],"owner":{"account_id":52885,"reputation":2853,"user_id":158069,"accept_rate":88,"display_name":"thepip3r"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675968311,"creation_date":1675968001,"question_id":75403062,"body_markdown":"OS:  RHEL8\r\n\r\nServer:  Tomcat 9.0.71\r\n\r\nWe turned on JSM in tomcat (`catalina.sh run -security`) a few months ago and worked through the JSM policy in catalina.policy:\r\n\r\n    echo &quot;&quot; &gt;&gt; /opt/tomcat/conf/catalina.policy\r\n    echo &#39;// Add permissions for IdentityIq to the catalina.policy file&#39; &gt;&gt; /opt/tomcat/conf/catalina.policy\r\n    echo &#39;grant codeBase &quot;file:${catalina.base}/webapps/identityiq/-&quot; {&#39; &gt;&gt; /opt/tomcat/conf/catalina.policy    \r\n    echo &#39;     permission java.security.AllPermission;&#39; &gt;&gt; /opt/tomcat/conf/catalina.policy\r\n    #echo &#39;     permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;&#39; &gt;&gt; /opt/tomcat/conf/catalina.policy\r\n    echo &#39;};&#39; &gt;&gt; /opt/tomcat/conf/catalina.policy\r\n\r\n...however while we thought we&#39;d worked out all of the kinks, one of our app engineers brought to me today that they&#39;re getting java.security.AccessControlException &quot;read&quot; error for *new* files that are generated when the engineers attempt to perform an &quot;export&quot; operation.  These new export files *are* created under the applications web directory.\r\n\r\nThe commented line in the catalina.policy that you can see in the snippet (...java.util...) is the last attempt at updating the policy that did not resolve the issue.  And we tried that setting with &#39;java.util&#39; because we weren&#39;t sure if it&#39;s predecessor (the java.security.AllPermission) covered the &#39;java.util.&#39; namespace.\r\n\r\nDoes anyone know what policy item I need to modify that will allow newly generated files from getting this access denied error?\r\n\r\nEdit1:\r\n\r\nAlso tried:  permission java.io.FilePermission &quot;*&quot;,&quot;read,write,execute&quot;;\r\n\r\nEdit2:\r\n\r\nWe&#39;ve tested removing JSM and the entries in catalina.policy and the problem goes away so we&#39;re confident that with this and the provided exception message, that we&#39;re in the right area.","title":"Tomcat with JSM java.security.AccessControlException: Access denied on *new* files (created-exports)","body":"<p>OS:  RHEL8</p>\n<p>Server:  Tomcat 9.0.71</p>\n<p>We turned on JSM in tomcat (<code>catalina.sh run -security</code>) a few months ago and worked through the JSM policy in catalina.policy:</p>\n<pre><code>echo &quot;&quot; &gt;&gt; /opt/tomcat/conf/catalina.policy\necho '// Add permissions for IdentityIq to the catalina.policy file' &gt;&gt; /opt/tomcat/conf/catalina.policy\necho 'grant codeBase &quot;file:${catalina.base}/webapps/identityiq/-&quot; {' &gt;&gt; /opt/tomcat/conf/catalina.policy    \necho '     permission java.security.AllPermission;' &gt;&gt; /opt/tomcat/conf/catalina.policy\n#echo '     permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;' &gt;&gt; /opt/tomcat/conf/catalina.policy\necho '};' &gt;&gt; /opt/tomcat/conf/catalina.policy\n</code></pre>\n<p>...however while we thought we'd worked out all of the kinks, one of our app engineers brought to me today that they're getting java.security.AccessControlException &quot;read&quot; error for <em>new</em> files that are generated when the engineers attempt to perform an &quot;export&quot; operation.  These new export files <em>are</em> created under the applications web directory.</p>\n<p>The commented line in the catalina.policy that you can see in the snippet (...java.util...) is the last attempt at updating the policy that did not resolve the issue.  And we tried that setting with 'java.util' because we weren't sure if it's predecessor (the java.security.AllPermission) covered the 'java.util.' namespace.</p>\n<p>Does anyone know what policy item I need to modify that will allow newly generated files from getting this access denied error?</p>\n<p>Edit1:</p>\n<p>Also tried:  permission java.io.FilePermission &quot;*&quot;,&quot;read,write,execute&quot;;</p>\n<p>Edit2:</p>\n<p>We've tested removing JSM and the entries in catalina.policy and the problem goes away so we're confident that with this and the provided exception message, that we're in the right area.</p>\n"},{"tags":["java","bash","karate","intuit-partner-platform"],"answers":[{"comments":[{"owner":{"account_id":4770475,"reputation":59,"user_id":3855369,"accept_rate":0,"display_name":"Amit Chouksey"},"score":0,"creation_date":1610009730,"post_id":62911366,"comment_id":115999218,"body_markdown":"Is there any way to suppress the stdout getting printed on console when a script is executed through karate.fork()","body":"Is there any way to suppress the stdout getting printed on console when a script is executed through karate.fork()"},{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1610011609,"post_id":62911366,"comment_id":116000003,"body_markdown":"@AmitChouksey not directly as of now. you can try tweak the `logback-test.xml` file: https://github.com/intuit/karate#logging - anything more specific may need code changes","body":"@AmitChouksey not directly as of now. you can try tweak the <code>logback-test.xml</code> file: <a href=\"https://github.com/intuit/karate#logging\" rel=\"nofollow noreferrer\">github.com/intuit/karate#logging</a> - anything more specific may need code changes"}],"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1675967989,"creation_date":1594803996,"answer_id":62911366,"question_id":62910721,"body_markdown":"Great timing. We very recently did some work for CLI testing which I am sure you can use effectively. Here is a thread on Twitter: https://twitter.com/maxandersen/status/1276431309276151814\r\n\r\nAnd we have just released version 0.9.6.RC4 and new we have a new `karate.fork()` option that returns an instance of `Command` on which you can call `exitCode`\r\n\r\nHere&#39;s an example:\r\n\r\n    * def proc = karate.fork(&#39;script.sh arg1&#39;)\r\n    * proc.waitSync()\r\n    * match proc.exitCode == 0\r\n\r\nYou can get more ideas here: https://github.com/intuit/karate/issues/1191#issuecomment-650087023\r\n\r\nNote that the argument to `karate.fork()` can take multiple forms. If you are using [`karate.exec()`](https://github.com/karatelabs/karate#karate-exec) (which will block until the process completes) the same arguments work.\r\n\r\n* string - full command line as seen above\r\n* string array - e.g. `[&#39;script.sh&#39;, &#39;arg1&#39;]`\r\n* json where the keys can be\r\n  * `line` - string (OR)\r\n  * `args` - string array\r\n  * `env` - optional environment properties (as JSON)\r\n  * `redirectErrorStream` - boolean, true by default which means Sys.err appears in Sys.out\r\n  * `workingDir` - working directory\r\n  * `useShell` - default false, auto-prepend `cmd /c` or `sh -c` depending on OS\r\n\r\nAnd since `karate.fork()` is async, you need to call `waitSync()` if needed as in the example above. \r\n\r\nDo provide feedback and we can tweak further if needed.\r\n\r\nEDIT: here&#39;s a very advanced example that shows how to listen to the process output / log, collect the log, and conditionally exit: [`fork-listener.feature`](https://github.com/intuit/karate/blob/f18042b08a685d010bf3c01d8b881472ee7949de/karate-core/src/test/java/com/intuit/karate/core/fork-listener.feature)\r\n\r\nAnother answer which can be a useful reference: https://stackoverflow.com/q/69832481/143475\r\n\r\nAnd here&#39;s how to use cURL for advanced HTTP tests ! https://stackoverflow.com/a/73230200/143475\r\n\r\nIn case you need to do a lot of local file manipulation, you can use the `karate.toJavaFile()` utility so you can convert a relative path or a [&quot;prefixed&quot; path](https://github.com/karatelabs/karate#path-prefixes) to an absolute path.\r\n\r\n    * def file = karate.toJavaFile(&#39;classpath:some/file.txt&#39;)\r\n    * def path = file.getPath()","title":"How to execute bash script using karate and fail if script fails","body":"<p>Great timing. We very recently did some work for CLI testing which I am sure you can use effectively. Here is a thread on Twitter: <a href=\"https://twitter.com/maxandersen/status/1276431309276151814\" rel=\"nofollow noreferrer\">https://twitter.com/maxandersen/status/1276431309276151814</a></p>\n<p>And we have just released version 0.9.6.RC4 and new we have a new <code>karate.fork()</code> option that returns an instance of <code>Command</code> on which you can call <code>exitCode</code></p>\n<p>Here's an example:</p>\n<pre><code>* def proc = karate.fork('script.sh arg1')\n* proc.waitSync()\n* match proc.exitCode == 0\n</code></pre>\n<p>You can get more ideas here: <a href=\"https://github.com/intuit/karate/issues/1191#issuecomment-650087023\" rel=\"nofollow noreferrer\">https://github.com/intuit/karate/issues/1191#issuecomment-650087023</a></p>\n<p>Note that the argument to <code>karate.fork()</code> can take multiple forms. If you are using <a href=\"https://github.com/karatelabs/karate#karate-exec\" rel=\"nofollow noreferrer\"><code>karate.exec()</code></a> (which will block until the process completes) the same arguments work.</p>\n<ul>\n<li>string - full command line as seen above</li>\n<li>string array - e.g. <code>['script.sh', 'arg1']</code></li>\n<li>json where the keys can be\n<ul>\n<li><code>line</code> - string (OR)</li>\n<li><code>args</code> - string array</li>\n<li><code>env</code> - optional environment properties (as JSON)</li>\n<li><code>redirectErrorStream</code> - boolean, true by default which means Sys.err appears in Sys.out</li>\n<li><code>workingDir</code> - working directory</li>\n<li><code>useShell</code> - default false, auto-prepend <code>cmd /c</code> or <code>sh -c</code> depending on OS</li>\n</ul>\n</li>\n</ul>\n<p>And since <code>karate.fork()</code> is async, you need to call <code>waitSync()</code> if needed as in the example above.</p>\n<p>Do provide feedback and we can tweak further if needed.</p>\n<p>EDIT: here's a very advanced example that shows how to listen to the process output / log, collect the log, and conditionally exit: <a href=\"https://github.com/intuit/karate/blob/f18042b08a685d010bf3c01d8b881472ee7949de/karate-core/src/test/java/com/intuit/karate/core/fork-listener.feature\" rel=\"nofollow noreferrer\"><code>fork-listener.feature</code></a></p>\n<p>Another answer which can be a useful reference: <a href=\"https://stackoverflow.com/q/69832481/143475\">Conditional match based on OS</a></p>\n<p>And here's how to use cURL for advanced HTTP tests ! <a href=\"https://stackoverflow.com/a/73230200/143475\">https://stackoverflow.com/a/73230200/143475</a></p>\n<p>In case you need to do a lot of local file manipulation, you can use the <code>karate.toJavaFile()</code> utility so you can convert a relative path or a <a href=\"https://github.com/karatelabs/karate#path-prefixes\" rel=\"nofollow noreferrer\">&quot;prefixed&quot; path</a> to an absolute path.</p>\n<pre><code>* def file = karate.toJavaFile('classpath:some/file.txt')\n* def path = file.getPath()\n</code></pre>\n"}],"owner":{"account_id":9566508,"reputation":57,"user_id":7237258,"display_name":"Palo Lieskovsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5605,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62911366,"answer_count":1,"score":3,"last_activity_date":1675967989,"creation_date":1594801877,"question_id":62910721,"body_markdown":"I&#39;m trying to execute bash script using karate. I&#39;m able to execute the script from karate-config.js and also from .feature file. I&#39;m also able to pass the arguments to the script.\r\nThe problem is, that if the script fails (exits with something else than 0) the test execution continues and finishes as succesfull.\r\n\r\nI found out that when the script echo-es something then i can access it as a result of the script so I could possibly echo the exit value and do assertion on it (in some re-usable feature), but this seems like a workaround rather than a valid clean solution. Is there some clean way of accessing the exit code without echo-ing it? Am I missing on something?\r\n\r\n**script**\r\n\r\n    #!/bin/bash\r\n    \r\n    #possible solution\r\n    #echo 3\r\n\r\n    exit 3;\r\n\r\n**karate-config.js**\r\n\r\n    var result = karate.exec(&#39;script.sh arg1&#39;)\r\n\r\n**feture file**\r\n\r\n    def result = karate.exec(&#39;script.sh arg1&#39;)","title":"How to execute bash script using karate and fail if script fails","body":"<p>I'm trying to execute bash script using karate. I'm able to execute the script from karate-config.js and also from .feature file. I'm also able to pass the arguments to the script.\nThe problem is, that if the script fails (exits with something else than 0) the test execution continues and finishes as succesfull.</p>\n<p>I found out that when the script echo-es something then i can access it as a result of the script so I could possibly echo the exit value and do assertion on it (in some re-usable feature), but this seems like a workaround rather than a valid clean solution. Is there some clean way of accessing the exit code without echo-ing it? Am I missing on something?</p>\n<p><strong>script</strong></p>\n<pre><code>#!/bin/bash\n\n#possible solution\n#echo 3\n\nexit 3;\n</code></pre>\n<p><strong>karate-config.js</strong></p>\n<pre><code>var result = karate.exec('script.sh arg1')\n</code></pre>\n<p><strong>feture file</strong></p>\n<pre><code>def result = karate.exec('script.sh arg1')\n</code></pre>\n"},{"tags":["java","loops","if-statement","summary","sentinel"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1540507864,"post_id":52999147,"comment_id":92902926,"body_markdown":"== 1, == 2. Not == &#39;1&#39;.","body":"== 1, == 2. Not == &#39;1&#39;."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1540507870,"post_id":52999147,"comment_id":92902931,"body_markdown":"CarType is an int and you are trying to compare it to chars &#39;1&#39; etc... remove the &#39;s","body":"CarType is an int and you are trying to compare it to chars &#39;1&#39; etc... remove the &#39;s"},{"owner":{"display_name":"user10560256"},"score":0,"creation_date":1540508408,"post_id":52999147,"comment_id":92903091,"body_markdown":"Thank you a lot I appreciate the help a lot, I did this but still, my math formula still seems to be off when trying to calculate the rate times (*) the days rented Plus (+) that 6%.","body":"Thank you a lot I appreciate the help a lot, I did this but still, my math formula still seems to be off when trying to calculate the rate times (*) the days rented Plus (+) that 6%."},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1540510572,"post_id":52999147,"comment_id":92903571,"body_markdown":"Please don&#39;t edit out the questions once they&#39;re answered so that this makes sense to future readers who have a similar problem.","body":"Please don&#39;t edit out the questions once they&#39;re answered so that this makes sense to future readers who have a similar problem."},{"owner":{"display_name":"user10560256"},"score":0,"creation_date":1540510858,"post_id":52999147,"comment_id":92903628,"body_markdown":"@EJoshuaS but it isn&#39;t fully answered. was trying to allow clarity to the next two questions?","body":"@EJoshuaS but it isn&#39;t fully answered. was trying to allow clarity to the next two questions?"},{"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1540510946,"post_id":52999147,"comment_id":92903655,"body_markdown":"It&#39;s still better to leave it intact - part of the point of Stack Overflow is for questions and answers to be available to be searched for by other people with similar problems so that they can be helped by the information too.","body":"It&#39;s still better to leave it intact - part of the point of Stack Overflow is for questions and answers to be available to be searched for by other people with similar problems so that they can be helped by the information too."},{"owner":{"display_name":"user10560256"},"score":0,"creation_date":1540511051,"post_id":52999147,"comment_id":92903672,"body_markdown":"@EJoshuaS sounds good thanks. Sorry, I&#39;m kinda new this is the first question on here.","body":"@EJoshuaS sounds good thanks. Sorry, I&#39;m kinda new this is the first question on here."},{"owner":{"display_name":"user10560256"},"score":0,"creation_date":1540511177,"post_id":52999147,"comment_id":92903701,"body_markdown":"@EJoshuaS hey, also can i ask you so ive been stressing that im not doing what my instructer would want concerning the whole &quot;Use a sentinel value loop&quot; from what ive built so far am i following this?","body":"@EJoshuaS hey, also can i ask you so ive been stressing that im not doing what my instructer would want concerning the whole &quot;Use a sentinel value loop&quot; from what ive built so far am i following this?"}],"answers":[{"comments":[{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1540539226,"post_id":52999428,"comment_id":92911286,"body_markdown":"Re &quot;_In Java [...], `int` and `char` types are convertible to each other._&quot; I think one has to mention the important difference between [_widening_ and _narrowing_ conversion](http://www.atnyla.com/tutorial/data-type-conversion-or-casting-in-java/0/30):","body":"Re &quot;<i>In Java [...], <code>int</code> and <code>char</code> types are convertible to each other.</i>&quot; I think one has to mention the important difference between <a href=\"http://www.atnyla.com/tutorial/data-type-conversion-or-casting-in-java/0/30\" rel=\"nofollow noreferrer\"><i>widening</i> and <i>narrowing</i> conversion</a>:"}],"tags":[],"owner":{"account_id":5018541,"reputation":12090,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1540560058,"creation_date":1540510079,"answer_id":52999428,"question_id":52999147,"body_markdown":"Note that `&#39;1&#39;` is actually the *character* `1`, **not** the integer `1`. They&#39;re actually very different.\r\n\r\nIn Java (as well as C#), `int` and `char` types are convertible to each other.\r\n\r\nTo illustrate, the following actually prints 49:\r\n\r\n    public class HelloWorld\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        System.out.print((int)&#39;1&#39;);\r\n      }\r\n    }\r\n\r\nSimilarly, the following prints `true`:\r\n\r\n    System.out.println(&#39;1&#39; == 49);\r\n\r\nAs you can see, the character is implicitly being converted to an equivalent `int` value.\r\n\r\nTo understand why `&#39;1&#39;` is equal to 49 in particular, look at how characters are represented. In particular, look at the [ASCII chart](https://en.wikipedia.org/wiki/ASCII) (which is a common convention for character encoding) - it turns out that the character `&#39;1&#39;` is ASCII 49. Indeed, we can do the same thing we did above &quot;in reverse&quot; to &quot;convert&quot; ASCII 49 to its equivalent character, and the following line prints `1`:\r\n\r\n    System.out.println((char)49);\r\n\r\nTo understand how this kind of conversion works, you may want to read [this rather excellent article linked to in the comments](http://www.atnyla.com/tutorial/data-type-conversion-or-casting-in-java/0/30). If you&#39;re curious about how this works in C#, you may also want to read [this question](https://stackoverflow.com/questions/1503430/implicit-type-cast-in-c-sharp).\r\n\r\nOne more point: when you do `DailyFee=(int)31.76`, converting this to an `int` will actually &quot;drop&quot; everything after the decimal point, so this is no different than writing `DailyFee = 31`. This is because 31 is an integer whereas 31.76 is *not* (it&#39;s a rational number).\r\n\r\nOne minor stylistic point: you might consider using a `switch` statement here.","title":"Write a Basic Car rental program on java / problems","body":"<p>Note that <code>'1'</code> is actually the <em>character</em> <code>1</code>, <strong>not</strong> the integer <code>1</code>. They're actually very different.</p>\n\n<p>In Java (as well as C#), <code>int</code> and <code>char</code> types are convertible to each other.</p>\n\n<p>To illustrate, the following actually prints 49:</p>\n\n<pre><code>public class HelloWorld\n{\n  public static void main(String[] args)\n  {\n    System.out.print((int)'1');\n  }\n}\n</code></pre>\n\n<p>Similarly, the following prints <code>true</code>:</p>\n\n<pre><code>System.out.println('1' == 49);\n</code></pre>\n\n<p>As you can see, the character is implicitly being converted to an equivalent <code>int</code> value.</p>\n\n<p>To understand why <code>'1'</code> is equal to 49 in particular, look at how characters are represented. In particular, look at the <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">ASCII chart</a> (which is a common convention for character encoding) - it turns out that the character <code>'1'</code> is ASCII 49. Indeed, we can do the same thing we did above \"in reverse\" to \"convert\" ASCII 49 to its equivalent character, and the following line prints <code>1</code>:</p>\n\n<pre><code>System.out.println((char)49);\n</code></pre>\n\n<p>To understand how this kind of conversion works, you may want to read <a href=\"http://www.atnyla.com/tutorial/data-type-conversion-or-casting-in-java/0/30\" rel=\"nofollow noreferrer\">this rather excellent article linked to in the comments</a>. If you're curious about how this works in C#, you may also want to read <a href=\"https://stackoverflow.com/questions/1503430/implicit-type-cast-in-c-sharp\">this question</a>.</p>\n\n<p>One more point: when you do <code>DailyFee=(int)31.76</code>, converting this to an <code>int</code> will actually \"drop\" everything after the decimal point, so this is no different than writing <code>DailyFee = 31</code>. This is because 31 is an integer whereas 31.76 is <em>not</em> (it's a rational number).</p>\n\n<p>One minor stylistic point: you might consider using a <code>switch</code> statement here.</p>\n"},{"tags":[],"owner":{"account_id":26150349,"reputation":1,"user_id":19838411,"display_name":"Beyond Tech in telugu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661763174,"creation_date":1661350714,"answer_id":73474782,"question_id":52999147,"body_markdown":"\r\n```\r\npackage demo;\r\n\r\nimport java.util.Scanner; \r\npublic class Carrentals {\r\npublic static void main(String[] args) {\r\n\r\n\tDouble a,b,c,d,e ;\r\nScanner sc= new Scanner(System.in);\r\nSystem.out.println(&quot;Enter the number of days for rent&quot;);\r\na=sc.nextDouble();\r\nSystem.out.println(&quot;Select the type of vehicle&quot;);\r\nc=1000*a;\r\nd=1500*a;\r\ne=2000*a;\r\nSystem.out.println(&quot;Press 1 for SUV&quot;);\r\nSystem.out.println(&quot;Press 2 for SEDEN&quot;);\r\nSystem.out.println(&quot;Press 3 for ECONOMICAL&quot;);\r\nb=sc.nextDouble();\r\nif(b == 1)\r\n\tSystem.out.println(&quot;The rent is &quot;+c);\r\nelse if(b == 2)\r\n\tSystem.out.println(&quot;The rent is &quot;+d);\r\nelse if(b == 3)\r\n\tSystem.out.println(&quot;The rent is &quot;+e);\r\nsc.close();\r\n}\r\n}\r\n\r\n```","title":"Write a Basic Car rental program on java / problems","body":"<pre><code>package demo;\n\nimport java.util.Scanner; \npublic class Carrentals {\npublic static void main(String[] args) {\n\n    Double a,b,c,d,e ;\nScanner sc= new Scanner(System.in);\nSystem.out.println(&quot;Enter the number of days for rent&quot;);\na=sc.nextDouble();\nSystem.out.println(&quot;Select the type of vehicle&quot;);\nc=1000*a;\nd=1500*a;\ne=2000*a;\nSystem.out.println(&quot;Press 1 for SUV&quot;);\nSystem.out.println(&quot;Press 2 for SEDEN&quot;);\nSystem.out.println(&quot;Press 3 for ECONOMICAL&quot;);\nb=sc.nextDouble();\nif(b == 1)\n    System.out.println(&quot;The rent is &quot;+c);\nelse if(b == 2)\n    System.out.println(&quot;The rent is &quot;+d);\nelse if(b == 3)\n    System.out.println(&quot;The rent is &quot;+e);\nsc.close();\n}\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15159660,"reputation":1770,"user_id":10939204,"display_name":"Traian GEICU"},"score":1,"creation_date":1676295924,"post_id":75403039,"comment_id":133102759,"body_markdown":"Mainly the help should be focused on 1 question (small piece of code) and not do all the tasks for OP (help is fine but not writing service)","body":"Mainly the help should be focused on 1 question (small piece of code) and not do all the tasks for OP (help is fine but not writing service)"}],"tags":[],"owner":{"account_id":26150349,"reputation":1,"user_id":19838411,"display_name":"Beyond Tech in telugu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675967880,"creation_date":1675967880,"answer_id":75403039,"question_id":52999147,"body_markdown":"    package demo;\r\n    import java.util.Scanner;\r\n    public class carrent {\r\n    public static void main(String[] args) {\r\n    System.out.println(&quot;SELECT THE TYPE OF VEHICLE&quot;);\r\n    System.out.println(&quot;PRESS 1 FOR SUV&quot;);\r\n    System.out.println(&quot;PRESS 2 FOR SEDAN&quot;);\r\n    System.out.println(&quot;PRESS 3 FOR ECONOMICAL&quot;);\r\n    Scanner sc=new Scanner(System.in);\r\n    char z=sc.next().charAt(0);\r\n    switch(z) {\r\n    case&#39;1&#39;:\r\n\tSystem.out.println(&quot;YOU HAVE SELECTED SUV&quot;);\t\r\n\tScanner suv=new Scanner(System.in);\r\n\tSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\r\n\tint a=suv.nextInt();\r\n\tint rent1=1000*a;\r\n\tint rent2=750*a;\r\n\tSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\r\n\tSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\r\n\tSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\r\n    int b=suv.nextInt();\r\n    if(b==1)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a+ &quot; DAYS FOR SUV AC IS &quot; +rent1+ &quot; \r\n        Rupees&quot;);\r\n    else if(b==2)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a+ &quot; DAYS FOR SUV NON AC IS &quot; \r\n        +rent2+ &quot; Rupees&quot;);\r\n    break;\r\n    case&#39;2&#39;:\r\n\tSystem.out.println(&quot;YOU HAVE SELECTED SEDAN&quot;);\t\r\n\tScanner SEDAN=new Scanner(System.in);\r\n\tSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\r\n\tint a1=SEDAN.nextInt();\r\n\tint rent1S=1500*a1;\r\n\tint rent2S=12000*a1;\r\n\tSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\r\n\tSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\r\n\tSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\r\n    int b1=SEDAN.nextInt();\r\n    if(b1==1)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a1+ &quot; DAYS FOR SEDAN AC IS &quot; \r\n        +rent1S+ &quot; Rupees&quot;);\r\n       else if(b1==2)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a1+ &quot; DAYS FOR SEDAN NON AC IS &quot; \r\n        +rent2S+ &quot; Rupees&quot;);\r\n       break;\r\n      case&#39;3&#39;:\r\n    System.out.println(&quot;YOU HAVE SELECTED ECONOMICAL&quot;);\t\r\n\tScanner ECONOMICAL=new Scanner(System.in);\r\n\tSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\r\n\tint a2=ECONOMICAL.nextInt();\r\n\tint rent1E=2000*a2;\r\n\tint rent2E=1700*a2;\r\n\tSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\r\n\tSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\r\n\tSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\r\n    int b2=ECONOMICAL.nextInt();\r\n    if(b2==1)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a2+ &quot; DAYS FOR SUV AC IS &quot; +rent1E+ \r\n     &quot; Rupees&quot;);\r\n    else if(b2==2)\r\n    \tSystem.out.println(&quot;THE RENT FOR &quot; +a2+ &quot; DAYS FOR SUV NON AC IS &quot; \r\n       +rent2E+ &quot; Rupees&quot;);\r\n    break;\r\n     default:\r\n\tSystem.out.println(&quot;ERROR!!!&quot;);\r\n\tSystem.out.println(&quot;PLEASE SELECT BASED ON  ABOVE GIVEN INSTRUCTIONS&quot;);\r\n     }\r\n     sc.close();\r\n}\r\n}\r\n","title":"Write a Basic Car rental program on java / problems","body":"<pre><code>package demo;\nimport java.util.Scanner;\npublic class carrent {\npublic static void main(String[] args) {\nSystem.out.println(&quot;SELECT THE TYPE OF VEHICLE&quot;);\nSystem.out.println(&quot;PRESS 1 FOR SUV&quot;);\nSystem.out.println(&quot;PRESS 2 FOR SEDAN&quot;);\nSystem.out.println(&quot;PRESS 3 FOR ECONOMICAL&quot;);\nScanner sc=new Scanner(System.in);\nchar z=sc.next().charAt(0);\nswitch(z) {\ncase'1':\nSystem.out.println(&quot;YOU HAVE SELECTED SUV&quot;);    \nScanner suv=new Scanner(System.in);\nSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\nint a=suv.nextInt();\nint rent1=1000*a;\nint rent2=750*a;\nSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\nSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\nSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\nint b=suv.nextInt();\nif(b==1)\n    System.out.println(&quot;THE RENT FOR &quot; +a+ &quot; DAYS FOR SUV AC IS &quot; +rent1+ &quot; \n    Rupees&quot;);\nelse if(b==2)\n    System.out.println(&quot;THE RENT FOR &quot; +a+ &quot; DAYS FOR SUV NON AC IS &quot; \n    +rent2+ &quot; Rupees&quot;);\nbreak;\ncase'2':\nSystem.out.println(&quot;YOU HAVE SELECTED SEDAN&quot;);  \nScanner SEDAN=new Scanner(System.in);\nSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\nint a1=SEDAN.nextInt();\nint rent1S=1500*a1;\nint rent2S=12000*a1;\nSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\nSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\nSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\nint b1=SEDAN.nextInt();\nif(b1==1)\n    System.out.println(&quot;THE RENT FOR &quot; +a1+ &quot; DAYS FOR SEDAN AC IS &quot; \n    +rent1S+ &quot; Rupees&quot;);\n   else if(b1==2)\n    System.out.println(&quot;THE RENT FOR &quot; +a1+ &quot; DAYS FOR SEDAN NON AC IS &quot; \n    +rent2S+ &quot; Rupees&quot;);\n   break;\n  case'3':\nSystem.out.println(&quot;YOU HAVE SELECTED ECONOMICAL&quot;); \nScanner ECONOMICAL=new Scanner(System.in);\nSystem.out.println(&quot;ENTER THE NUMBER OF DAYS&quot;);\nint a2=ECONOMICAL.nextInt();\nint rent1E=2000*a2;\nint rent2E=1700*a2;\nSystem.out.println(&quot;SELECT THE CLASS OF VEHICLE&quot;);\nSystem.out.println(&quot;PRESS 1 FOR AC&quot;);\nSystem.out.println(&quot;PRESS 2 FOR NON AC&quot;);\nint b2=ECONOMICAL.nextInt();\nif(b2==1)\n    System.out.println(&quot;THE RENT FOR &quot; +a2+ &quot; DAYS FOR SUV AC IS &quot; +rent1E+ \n &quot; Rupees&quot;);\nelse if(b2==2)\n    System.out.println(&quot;THE RENT FOR &quot; +a2+ &quot; DAYS FOR SUV NON AC IS &quot; \n   +rent2E+ &quot; Rupees&quot;);\nbreak;\n default:\nSystem.out.println(&quot;ERROR!!!&quot;);\nSystem.out.println(&quot;PLEASE SELECT BASED ON  ABOVE GIVEN INSTRUCTIONS&quot;);\n }\n sc.close();\n</code></pre>\n<p>}\n}</p>\n"}],"owner":{"display_name":"user10560256"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11834,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":52999428,"answer_count":3,"score":0,"last_activity_date":1675967880,"creation_date":1540507723,"question_id":52999147,"body_markdown":"So I&#39;m super confused and just looking for help :L. This is what the instructions from my instructor were.\r\n\r\nInstructions : \r\nUse a sentinel value loop.\r\n\r\nAsk each user for: \r\n\r\n - Type of vehicle (May use something other than strings, such as: 1\r\n   for economy, 2 for sedan, etc.) \r\n - Days rented\r\n\r\nCalculate the (For each customer):\r\n \r\n - Rental cost, \r\n - Taxes, \r\n - Total Due.\r\n\r\nThere are three different rental options with seprate rates: Economy @ 31.76, sedan @ 40.32, SUV @ 47.56. [Note: only whole day units to be considered (no hourly rates)].\r\n\r\nSales tax is = to 6% on the TOTAL.\r\n\r\nCreate summary data with:\r\n\r\n - Number of customers \r\n - Total money collected.\r\n\r\nAlso, Include IPO, algorithm, and desk check values (design documents).\r\n\r\n{WHAT I HAVE GOING AND MY QUESTION}\r\n\r\n\r\n    package yipe;\r\n\r\n    public class Umm {\r\n\r\n        import java.util.*;\r\n\r\n        int count = 0;\r\n        static int CarType, days;\r\n        static double DailyFee, Total;\r\n        \r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            Scanner keyboard = new Scanner(System.in);\r\n            \r\n            System.out.print(&quot;What vehical would you like to rent?\\n&quot;);\r\n            System.out.println(&quot;Enter 1 for an economy car\\n&quot;);\r\n            System.out.println(&quot;Enter 2 for a sedan car\\n&quot;);\r\n            System.out.println(&quot;Enter 3 for an SUV&quot;);\r\n            CarType = keyboard.nextInt();\r\n            if (CarType == &#39;1&#39;)\r\n                  DailyFee=(int)31.76;\r\n                else if(CarType == &#39;2&#39;)\r\n                  DailyFee=(int)40.32;\r\n                else if(CarType == &#39;3&#39;)\r\n                  DailyFee=(int)43.50;\r\n            \r\n            System.out.print(&quot;Please enter the number of days rented. (Example; 3) : &quot;);\r\n            days = keyboard.nextInt();\r\n            \r\n            Total = (DailyFee * days * 6/100);\r\n            \r\n            System.out.printf(&quot;The total amount due is $&quot; + Total);\r\n            \r\n        }\r\n        \r\n\r\n    }\r\n\r\n\r\n1. How can I fix my IF statement(s) to get proper math results?\r\n2. how would I make it loop for to put in multiple information??\r\n3. how to make summary data?\r\n4. how can I round the Total to only two decimals?\r\n\r\n\r\n\r\n","title":"Write a Basic Car rental program on java / problems","body":"<p>So I'm super confused and just looking for help :L. This is what the instructions from my instructor were.</p>\n\n<p>Instructions : \nUse a sentinel value loop.</p>\n\n<p>Ask each user for: </p>\n\n<ul>\n<li>Type of vehicle (May use something other than strings, such as: 1\nfor economy, 2 for sedan, etc.) </li>\n<li>Days rented</li>\n</ul>\n\n<p>Calculate the (For each customer):</p>\n\n<ul>\n<li>Rental cost, </li>\n<li>Taxes, </li>\n<li>Total Due.</li>\n</ul>\n\n<p>There are three different rental options with seprate rates: Economy @ 31.76, sedan @ 40.32, SUV @ 47.56. [Note: only whole day units to be considered (no hourly rates)].</p>\n\n<p>Sales tax is = to 6% on the TOTAL.</p>\n\n<p>Create summary data with:</p>\n\n<ul>\n<li>Number of customers </li>\n<li>Total money collected.</li>\n</ul>\n\n<p>Also, Include IPO, algorithm, and desk check values (design documents).</p>\n\n<p>{WHAT I HAVE GOING AND MY QUESTION}</p>\n\n<pre><code>package yipe;\n\npublic class Umm {\n\n    import java.util.*;\n\n    int count = 0;\n    static int CarType, days;\n    static double DailyFee, Total;\n\n\n    public static void main(String[] args) {\n\n        Scanner keyboard = new Scanner(System.in);\n\n        System.out.print(\"What vehical would you like to rent?\\n\");\n        System.out.println(\"Enter 1 for an economy car\\n\");\n        System.out.println(\"Enter 2 for a sedan car\\n\");\n        System.out.println(\"Enter 3 for an SUV\");\n        CarType = keyboard.nextInt();\n        if (CarType == '1')\n              DailyFee=(int)31.76;\n            else if(CarType == '2')\n              DailyFee=(int)40.32;\n            else if(CarType == '3')\n              DailyFee=(int)43.50;\n\n        System.out.print(\"Please enter the number of days rented. (Example; 3) : \");\n        days = keyboard.nextInt();\n\n        Total = (DailyFee * days * 6/100);\n\n        System.out.printf(\"The total amount due is $\" + Total);\n\n    }\n\n\n}\n</code></pre>\n\n<ol>\n<li>How can I fix my IF statement(s) to get proper math results?</li>\n<li>how would I make it loop for to put in multiple information??</li>\n<li>how to make summary data?</li>\n<li>how can I round the Total to only two decimals?</li>\n</ol>\n"},{"tags":["java","hibernate","rest","jpa","jersey"],"comments":[{"owner":{"account_id":11076132,"reputation":552,"user_id":8132809,"display_name":"Daniel Black"},"score":0,"creation_date":1675967366,"post_id":75402880,"comment_id":133046845,"body_markdown":"Where is the error thrown?","body":"Where is the error thrown?"},{"owner":{"account_id":27166108,"reputation":13,"user_id":20703610,"display_name":"Splotchy"},"score":0,"creation_date":1675967473,"post_id":75402880,"comment_id":133046896,"body_markdown":"@DanielBlack On Postman when attempting to send the GET request and on the server console.","body":"@DanielBlack On Postman when attempting to send the GET request and on the server console."}],"owner":{"account_id":27166108,"reputation":13,"user_id":20703610,"display_name":"Splotchy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675967655,"creation_date":1675966927,"question_id":75402880,"body_markdown":"The error in question: jakarta.servlet.ServletException: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: Could not interpret path expression &#39;brand_id&#39;;\r\n\r\nI am new to hibernate and REST Api design, so it eludes me why I get this error, I have tried so many things. &quot;brand_id&quot; is the name of the foreign key column in my database, you know what, lemme show you.\r\n\r\nHere is my exposed GET endpoint:\r\n\r\n        `@GET\r\n\t@Path(&quot;/{brandID}/products&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic List&lt;ProductEntity&gt; getProductsByBrand(@PathParam(&quot;brandID&quot;) int brandID) {\r\n\t\tList&lt;ProductEntity&gt; productList = productsService.getProductsByBrand(brandID);\r\n\t\treturn productList;\r\n\t}`\r\n\r\nHere is my ProductsService class:\r\n\r\n    `public class ProductsService {\r\n\tprivate final ProductsDAO dao = new ProductsDAO();\r\n\r\n\tpublic List&lt;ProductEntity&gt; getProductsByBrand(int brandID) {\r\n\t\tList&lt;ProductEntity&gt; productList = dao.getProductsByBrand(brandID);\r\n\t\treturn productList;\r\n\t\t\r\n\t}\r\n\t\r\n    }`\r\n\r\nAnd here is the ProductsDAO class:\r\n\r\n     `public class ProductsDAO {\r\n\tprivate final SessionFactory factory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(ProductEntity.class).addAnnotatedClass(BrandEntity.class) // since we are defining a foreign key in the ProductEntity, we are required to add the BrandEntity class as an Annotated Class\t\t\t\t\t\t\t\t\t\t.buildSessionFactory();\r\n\r\n\tpublic List&lt;ProductEntity&gt; getProductsByBrand(int brandID) {\r\n\t\tSession session = factory.getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\t\r\n\t\tString hql = &quot;from products where brand_id = &#39;&quot; + brandID + &quot;&#39;&quot;;\r\n\t\tQuery query = session.createQuery(hql);\r\n\t\t\r\n\t\tList&lt;ProductEntity&gt; productList = query.getResultList();\r\n\t\treturn productList;\r\n\t\t\r\n\t}\r\n}`\r\n\r\nAnd of course, my ProductEntity class:\r\n\r\n    `@Entity(name = &quot;products&quot;)\r\n    @Table(name = &quot;products&quot;)\r\n    public class ProductEntity {\r\n\t@Id\r\n\t@Column(name = &quot;product_id&quot;)\r\n\tprivate int productId;\r\n\t\r\n\t// Essentially, this is how you specify a Foreign Key to hibernate\r\n\t@ManyToOne(targetEntity = BrandEntity.class) // Specifies that this column has a multiplicity defined relationship with other entities, such as tables. It cannot be used on a primitve data type, only a entity class type, in addition, the column annotation cannot be used in conjunction with it.\r\n\t@JoinColumn(name = &quot;brand_id&quot;)\r\n\tprivate BrandEntity brandEntity;\r\n\t\r\n\t@Column(name = &quot;product_name&quot;)\r\n\tprivate String productName;\r\n\t\r\n\t@Column(name = &quot;category&quot;)\r\n\tprivate String category;\r\n\t\r\n\t@Column(name = &quot;cost&quot;)\r\n\tprivate String cost;\r\n\r\n\tpublic ProductEntity() {\r\n\t\t\r\n\t}\r\n\r\n\tpublic ProductEntity(int productId, BrandEntity brandEntity, String productName, String category, String cost) {\r\n\t\tthis.productId = productId;\r\n\t\tthis.brandEntity = brandEntity;\r\n\t\tthis.productName = productName;\r\n\t\tthis.category = category;\r\n\t\tthis.cost = cost;\r\n\t}\r\n\r\n\tpublic int getProductId() {\r\n\t\treturn productId;\r\n\t}\r\n\r\n\tpublic void setProductId(int productId) {\r\n\t\tthis.productId = productId;\r\n\t}\r\n\r\n\tpublic BrandEntity getBrandEntity() {\r\n\t\treturn brandEntity;\r\n\t}\r\n\r\n\tpublic void setBrandEntity(BrandEntity brandEntity) {\r\n\t\tthis.brandEntity = brandEntity;\r\n\t}\r\n\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\r\n\tpublic void setProductName(String productName) {\r\n\t\tthis.productName = productName;\r\n\t}\r\n\r\n\tpublic String getCategory() {\r\n\t\treturn category;\r\n\t}\r\n\r\n\tpublic void setCategory(String category) {\r\n\t\tthis.category = category;\r\n\t}\r\n\r\n\tpublic String getCost() {\r\n\t\treturn cost;\r\n\t}\r\n\r\n\tpublic void setCost(String cost) {\r\n\t\tthis.cost = cost;\r\n\t}\r\n\t\r\n}`\r\n\r\nIf anyone can shed any light on this issue, i would be sincerely grateful.\r\n\r\nNote: I receive this error when sending a GET request to the URI defined as : http://localhost:8008/104_-_RESTApp_ManyToOne_Mapping_In_Hibernate/showroom/brands/2/products, for example.","title":"Why am I getting this error, regarding Hibernate on my RESTful API?","body":"<p>The error in question: jakarta.servlet.ServletException: java.lang.IllegalArgumentException: org.hibernate.query.SemanticException: Could not interpret path expression 'brand_id';</p>\n<p>I am new to hibernate and REST Api design, so it eludes me why I get this error, I have tried so many things. &quot;brand_id&quot; is the name of the foreign key column in my database, you know what, lemme show you.</p>\n<p>Here is my exposed GET endpoint:</p>\n<pre><code>    `@GET\n@Path(&quot;/{brandID}/products&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic List&lt;ProductEntity&gt; getProductsByBrand(@PathParam(&quot;brandID&quot;) int brandID) {\n    List&lt;ProductEntity&gt; productList = productsService.getProductsByBrand(brandID);\n    return productList;\n}`\n</code></pre>\n<p>Here is my ProductsService class:</p>\n<pre><code>`public class ProductsService {\nprivate final ProductsDAO dao = new ProductsDAO();\n\npublic List&lt;ProductEntity&gt; getProductsByBrand(int brandID) {\n    List&lt;ProductEntity&gt; productList = dao.getProductsByBrand(brandID);\n    return productList;\n    \n}\n\n}`\n</code></pre>\n<p>And here is the ProductsDAO class:</p>\n<pre><code> `public class ProductsDAO {\nprivate final SessionFactory factory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(ProductEntity.class).addAnnotatedClass(BrandEntity.class) // since we are defining a foreign key in the ProductEntity, we are required to add the BrandEntity class as an Annotated Class                                       .buildSessionFactory();\n\npublic List&lt;ProductEntity&gt; getProductsByBrand(int brandID) {\n    Session session = factory.getCurrentSession();\n    session.beginTransaction();\n    \n    String hql = &quot;from products where brand_id = '&quot; + brandID + &quot;'&quot;;\n    Query query = session.createQuery(hql);\n    \n    List&lt;ProductEntity&gt; productList = query.getResultList();\n    return productList;\n    \n}\n</code></pre>\n<p>}`</p>\n<p>And of course, my ProductEntity class:</p>\n<pre><code>`@Entity(name = &quot;products&quot;)\n@Table(name = &quot;products&quot;)\npublic class ProductEntity {\n@Id\n@Column(name = &quot;product_id&quot;)\nprivate int productId;\n\n// Essentially, this is how you specify a Foreign Key to hibernate\n@ManyToOne(targetEntity = BrandEntity.class) // Specifies that this column has a multiplicity defined relationship with other entities, such as tables. It cannot be used on a primitve data type, only a entity class type, in addition, the column annotation cannot be used in conjunction with it.\n@JoinColumn(name = &quot;brand_id&quot;)\nprivate BrandEntity brandEntity;\n\n@Column(name = &quot;product_name&quot;)\nprivate String productName;\n\n@Column(name = &quot;category&quot;)\nprivate String category;\n\n@Column(name = &quot;cost&quot;)\nprivate String cost;\n\npublic ProductEntity() {\n    \n}\n\npublic ProductEntity(int productId, BrandEntity brandEntity, String productName, String category, String cost) {\n    this.productId = productId;\n    this.brandEntity = brandEntity;\n    this.productName = productName;\n    this.category = category;\n    this.cost = cost;\n}\n\npublic int getProductId() {\n    return productId;\n}\n\npublic void setProductId(int productId) {\n    this.productId = productId;\n}\n\npublic BrandEntity getBrandEntity() {\n    return brandEntity;\n}\n\npublic void setBrandEntity(BrandEntity brandEntity) {\n    this.brandEntity = brandEntity;\n}\n\npublic String getProductName() {\n    return productName;\n}\n\npublic void setProductName(String productName) {\n    this.productName = productName;\n}\n\npublic String getCategory() {\n    return category;\n}\n\npublic void setCategory(String category) {\n    this.category = category;\n}\n\npublic String getCost() {\n    return cost;\n}\n\npublic void setCost(String cost) {\n    this.cost = cost;\n}\n</code></pre>\n<p>}`</p>\n<p>If anyone can shed any light on this issue, i would be sincerely grateful.</p>\n<p>Note: I receive this error when sending a GET request to the URI defined as : http://localhost:8008/104_-_RESTApp_ManyToOne_Mapping_In_Hibernate/showroom/brands/2/products, for example.</p>\n"},{"tags":["java","android","kotlin","native"],"comments":[{"owner":{"account_id":23533669,"reputation":55,"user_id":17578920,"display_name":"Mr T"},"score":0,"creation_date":1675970090,"post_id":75402997,"comment_id":133047690,"body_markdown":"I think a better way is to use a RecylcerView instead of a LinearLayout. With the RecyclerView it is very easy to scroll to a specific question. `recyclerView.scrollToPosition(&lt;position&gt;) `. Adapter View is then the ConstraintLayout.","body":"I think a better way is to use a RecylcerView instead of a LinearLayout. With the RecyclerView it is very easy to scroll to a specific question. <code>recyclerView.scrollToPosition(&lt;position&gt;) </code>. Adapter View is then the ConstraintLayout."},{"owner":{"account_id":22614408,"reputation":1,"user_id":16794109,"display_name":"ibrahim"},"score":0,"creation_date":1675972164,"post_id":75402997,"comment_id":133048242,"body_markdown":"I understand but I should use linear layout . are there any way ? thnks","body":"I understand but I should use linear layout . are there any way ? thnks"},{"owner":{"account_id":23533669,"reputation":55,"user_id":17578920,"display_name":"Mr T"},"score":0,"creation_date":1675978075,"post_id":75402997,"comment_id":133049790,"body_markdown":"You can scroll with the `ScrollView` and the [scrollTo()](https://developer.android.com/reference/android/widget/ScrollView#scrollTo(int,%20int)) function","body":"You can scroll with the <code>ScrollView</code> and the <a href=\"https://developer.android.com/reference/android/widget/ScrollView#scrollTo(int,%20int)\" rel=\"nofollow noreferrer\">scrollTo()</a> function"},{"owner":{"account_id":22614408,"reputation":1,"user_id":16794109,"display_name":"ibrahim"},"score":0,"creation_date":1675980082,"post_id":75402997,"comment_id":133050305,"body_markdown":"val sv = binding.linearLayoutGame\n        sv.smoothScrollTo(0, sv.getScrollY() + sv.getHeight()) . yes ı know I use like this . but it not always working . only works once .","body":"val sv = binding.linearLayoutGame         sv.smoothScrollTo(0, sv.getScrollY() + sv.getHeight()) . yes ı know I use like this . but it not always working . only works once ."},{"owner":{"account_id":22614408,"reputation":1,"user_id":16794109,"display_name":"ibrahim"},"score":0,"creation_date":1675983492,"post_id":75402997,"comment_id":133050924,"body_markdown":"thnks . I succesed .val layout = binding.linearLayoutGame\n                layout.smoothScrollTo(0, layout.getScrollY() + layout.getHeight());","body":"thnks . I succesed .val layout = binding.linearLayoutGame                 layout.smoothScrollTo(0, layout.getScrollY() + layout.getHeight());"}],"owner":{"account_id":22614408,"reputation":1,"user_id":16794109,"display_name":"ibrahim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675967633,"creation_date":1675967633,"question_id":75402997,"body_markdown":"I making a question app the questions page should be scrolling up when a question have an answer . How can I make this .e.g I want when an question have answer 100px scrolling up . How can I make thnks\r\n\r\n\\`\r\n\r\n\r\n\r\n```\r\n\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;fill_parent&quot; android:orientation=&quot;vertical&quot; tools:context=&quot;.Screens.GamePlayFragment&quot;&gt;\r\n&lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;@drawable/gameplay_background&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView5&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;120dp&quot;\r\n            android:layout_marginTop=&quot;-5dp&quot;\r\n            android:layout_marginBottom=&quot;-5dp&quot;\r\n            android:src=&quot;@drawable/gameapptop&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView2&quot;\r\n            android:layout_width=&quot;120dp&quot;\r\n            android:layout_height=&quot;70dp&quot;\r\n            android:layout_marginTop=&quot;-15dp&quot;\r\n            android:src=&quot;@drawable/placeofcountdown_game_screen&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageViewCounterIcon&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:paddingBottom=&quot;30dp&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:src=&quot;@drawable/gameovercountericon&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;Chronometer\r\n            android:id=&quot;@+id/textViewCounter&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;55dp&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/imageViewCounterIcon&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;6dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:text=&quot;2/17&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/linearLayoutGame&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_height=&quot;0dp&quot;\r\n            &gt;\r\n\r\n            &lt;!--Question 1 --&gt;\r\n\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/imageView9&quot;\r\n                    android:layout_width=&quot;400dp&quot;\r\n                    android:layout_height=&quot;220dp&quot;\r\n                    android:layout_marginTop=&quot;-2dp&quot;\r\n                    android:src=&quot;@drawable/placeofquestion3&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:id=&quot;@+id/questionLayout1&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/qRoof1&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/q1&quot;\r\n                        android:layout_width=&quot;270dp&quot;\r\n                        android:layout_height=&quot;120dp&quot;\r\n                        android:src=&quot;@drawable/q1&quot;\r\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n\r\n\\`\r\nHow can I make this .e.g I want when an question have answer 100px scrolling up . How can I make thnks","title":"how to scroll up auto in scroll view with kotlin","body":"<p>I making a question app the questions page should be scrolling up when a question have an answer . How can I make this .e.g I want when an question have answer 100px scrolling up . How can I make thnks</p>\n<p>`</p>\n<pre><code>\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;fill_parent&quot; android:layout_height=&quot;fill_parent&quot; android:orientation=&quot;vertical&quot; tools:context=&quot;.Screens.GamePlayFragment&quot;&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@drawable/gameplay_background&quot;\n    android:orientation=&quot;vertical&quot; &gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView5&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;120dp&quot;\n            android:layout_marginTop=&quot;-5dp&quot;\n            android:layout_marginBottom=&quot;-5dp&quot;\n            android:src=&quot;@drawable/gameapptop&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView2&quot;\n            android:layout_width=&quot;120dp&quot;\n            android:layout_height=&quot;70dp&quot;\n            android:layout_marginTop=&quot;-15dp&quot;\n            android:src=&quot;@drawable/placeofcountdown_game_screen&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageViewCounterIcon&quot;\n            android:layout_width=&quot;40dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:paddingBottom=&quot;30dp&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:src=&quot;@drawable/gameovercountericon&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;Chronometer\n            android:id=&quot;@+id/textViewCounter&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;55dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:textSize=&quot;20sp&quot;\n\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/imageViewCounterIcon&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n\n        &lt;TextView\n            android:id=&quot;@+id/textView4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;6dp&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:text=&quot;2/17&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:id=&quot;@+id/linearLayoutGame&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_height=&quot;0dp&quot;\n            &gt;\n\n            &lt;!--Question 1 --&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/imageView9&quot;\n                    android:layout_width=&quot;400dp&quot;\n                    android:layout_height=&quot;220dp&quot;\n                    android:layout_marginTop=&quot;-2dp&quot;\n                    android:src=&quot;@drawable/placeofquestion3&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n                &lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:id=&quot;@+id/questionLayout1&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    app:layout_constraintBottom_toTopOf=&quot;@+id/qRoof1&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n\n                    &lt;ImageView\n                        android:id=&quot;@+id/q1&quot;\n                        android:layout_width=&quot;270dp&quot;\n                        android:layout_height=&quot;120dp&quot;\n                        android:src=&quot;@drawable/q1&quot;\n                        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p>`\nHow can I make this .e.g I want when an question have answer 100px scrolling up . How can I make thnks</p>\n"},{"tags":["java","cucumber"],"owner":{"account_id":22647979,"reputation":13,"user_id":16823070,"display_name":"DevBox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675967615,"creation_date":1675967615,"question_id":75402987,"body_markdown":"I am fetching this List&lt;List&lt;Object&gt;&gt; resultSetDataLake, List&lt;List&lt;Object&gt;&gt; resultSetOIPA from &quot;When&quot; step, and I am getting cucumber exception in &quot;And&quot; step. Please guide how to fix this.\r\n\r\npayout.feature\r\nScenario Outline: Make a hive connection, extract and load the data\r\n  Given Connect to the Data Lake and Database\r\n  When Extract Initial Payout Data from Data Lake and OIPA for &quot;&lt;case_id&gt;&quot;,&quot;&lt;pin_number&gt;&quot;\r\n  And Validate the extracted data against both Data Lake and OIPA sources\r\n  Then Load the validated data into the IA Database\r\nExamples:\r\n  | case_id     | pin_number |\r\n  | ABCD\t| 12345      |\r\n\r\nStep definition:\r\n\r\n  @And (&quot;^Validate the extracted data against both Data Lake and OIPA sources$&quot;)\r\n    public void validate_the_initial_payout_datalake_oipa(List&lt;List&lt;Object&gt;&gt; resultSetDataLake, List&lt;List&lt;Object&gt;&gt; resultSetOIPA) { \r\n    //method \r\n    }\r\n\r\nGetting the error &quot;io.cucumber.core.exception.CucumberException: Step [^Validate the extracted data against both Data Lake and OIPA sources$] is defined with 2 parameters at &#39;stepdefinitions.factDBValidation.InitialPayoutDataLake.validate_the_initial_payout_datalake_oipa(java.util.List&lt;java.util.List&lt;java.lang.Object&gt;&gt;,java.util.List&lt;java.util.List&lt;java.lang.Object&gt;&gt;)&#39;.\r\nHowever, the gherkin step has 0 arguments.&quot;\r\n\r\n\r\n","title":"Java Cucumber BDD","body":"<p>I am fetching this List&lt;List&gt; resultSetDataLake, List&lt;List&gt; resultSetOIPA from &quot;When&quot; step, and I am getting cucumber exception in &quot;And&quot; step. Please guide how to fix this.</p>\n<p>payout.feature\nScenario Outline: Make a hive connection, extract and load the data\nGiven Connect to the Data Lake and Database\nWhen Extract Initial Payout Data from Data Lake and OIPA for &quot;&lt;case_id&gt;&quot;,&quot;&lt;pin_number&gt;&quot;\nAnd Validate the extracted data against both Data Lake and OIPA sources\nThen Load the validated data into the IA Database\nExamples:\n| case_id     | pin_number |\n| ABCD    | 12345      |</p>\n<p>Step definition:</p>\n<p>@And (&quot;^Validate the extracted data against both Data Lake and OIPA sources$&quot;)\npublic void validate_the_initial_payout_datalake_oipa(List&lt;List&gt; resultSetDataLake, List&lt;List&gt; resultSetOIPA) {\n//method\n}</p>\n<p>Getting the error &quot;io.cucumber.core.exception.CucumberException: Step [^Validate the extracted data against both Data Lake and OIPA sources$] is defined with 2 parameters at 'stepdefinitions.factDBValidation.InitialPayoutDataLake.validate_the_initial_payout_datalake_oipa(java.util.List&lt;java.util.List&lt;java.lang.Object&gt;&gt;,java.util.List&lt;java.util.List&lt;java.lang.Object&gt;&gt;)'.\nHowever, the gherkin step has 0 arguments.&quot;</p>\n"},{"tags":["java","json","regex"],"comments":[{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1675963869,"post_id":75402235,"comment_id":133045737,"body_markdown":"Why not use a JSON parser and change it? You must be producing or consuming this JSON, right? Don&#39;t use use Jackson or anything to do so?","body":"Why not use a JSON parser and change it? You must be producing or consuming this JSON, right? Don&#39;t use use Jackson or anything to do so?"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1675964011,"post_id":75402235,"comment_id":133045788,"body_markdown":"Yes i have used GSON but could not do the upperCase for arrays https://stackoverflow.com/questions/75386940/uppercaseadapter-does-not-support-json-array","body":"Yes i have used GSON but could not do the upperCase for arrays <a href=\"https://stackoverflow.com/questions/75386940/uppercaseadapter-does-not-support-json-array\" title=\"uppercaseadapter does not support json array\">stackoverflow.com/questions/75386940/&hellip;</a>"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1675964034,"post_id":75402235,"comment_id":133045797,"body_markdown":"@VLAZ If you have a suggestion i&#39;m taking it with pleasure","body":"@VLAZ If you have a suggestion i&#39;m taking it with pleasure"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1675964215,"post_id":75402235,"comment_id":133045863,"body_markdown":"But for your question i&#39;m just extracting the fields using an other IDE that is case sensitive and my end user is not respecting the input json case sensitivity , so i prefer to put all keys in upperCase and then extract all upperCase keys-Values so that i don&#39;t have problems after","body":"But for your question i&#39;m just extracting the fields using an other IDE that is case sensitive and my end user is not respecting the input json case sensitivity , so i prefer to put all keys in upperCase and then extract all upperCase keys-Values so that i don&#39;t have problems after"},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1675967477,"post_id":75402235,"comment_id":133046897,"body_markdown":"&quot;*If you have a suggestion i&#39;m taking it with pleasure*&quot; my suggestion is &quot;don&#39;t use regex for something that&#39;s not within the purview of regex&quot;. [Here](https://stackoverflow.com/a/22542141) is something that can change to upper case. [Here is some more](https://stackoverflow.com/q/29469788). Or [change the naming polcy](https://shekhargulati.com/2015/09/10/gson-tip-using-a-different-fieldnamingpolicy/). [Deserialise into a Map](https://www.baeldung.com/gson-json-to-map) and you can apply transformation to keys.","body":"&quot;<i>If you have a suggestion i&#39;m taking it with pleasure</i>&quot; my suggestion is &quot;don&#39;t use regex for something that&#39;s not within the purview of regex&quot;. <a href=\"https://stackoverflow.com/a/22542141\">Here</a> is something that can change to upper case. <a href=\"https://stackoverflow.com/q/29469788\">Here is some more</a>. Or <a href=\"https://shekhargulati.com/2015/09/10/gson-tip-using-a-different-fieldnamingpolicy/\" rel=\"nofollow noreferrer\">change the naming polcy</a>. <a href=\"https://www.baeldung.com/gson-json-to-map\" rel=\"nofollow noreferrer\">Deserialise into a Map</a> and you can apply transformation to keys."}],"answers":[{"comments":[{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1676015431,"post_id":75402964,"comment_id":133055608,"body_markdown":"what is the imports that i ave to do for this please ? thank s a lots","body":"what is the imports that i ave to do for this please ? thank s a lots"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1676020292,"post_id":75402964,"comment_id":133056899,"body_markdown":"It&#39;s compiling but getting a Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/datatype/jsr310/JavaTimeModule how could correct that , are there a specific version that i have to use so that Josson  would work ?","body":"It&#39;s compiling but getting a Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/datatype/jsr310/JavaTimeModule how could correct that , are there a specific version that i have to use so that Josson  would work ?"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1676022995,"post_id":75402964,"comment_id":133057711,"body_markdown":"And if you can take a look at an Adapter that you have done but missing a little piece to get Arrays https://stackoverflow.com/questions/75386940/uppercaseadapter-does-not-support-json-array , thank a lot","body":"And if you can take a look at an Adapter that you have done but missing a little piece to get Arrays <a href=\"https://stackoverflow.com/questions/75386940/uppercaseadapter-does-not-support-json-array\" title=\"uppercaseadapter does not support json array\">stackoverflow.com/questions/75386940/&hellip;</a> , thank a lot"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1676023721,"post_id":75402964,"comment_id":133057931,"body_markdown":"_Josson_ is using the latest _Jackson 2.14.2_. The exception `NoClassDefFoundError` will be gone if your project uses the correct one.","body":"<i>Josson</i> is using the latest <i>Jackson 2.14.2</i>. The exception <code>NoClassDefFoundError</code> will be gone if your project uses the correct one."},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1676024110,"post_id":75402964,"comment_id":133058055,"body_markdown":"imported jackson-datatype-jsr353-2.14.2.jar  , josson-1.4.3.jar ,  jackson-core-2.14.2.jar , jackson-databind-2.14.1.jar","body":"imported jackson-datatype-jsr353-2.14.2.jar  , josson-1.4.3.jar ,  jackson-core-2.14.2.jar , jackson-databind-2.14.1.jar"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1676024200,"post_id":75402964,"comment_id":133058090,"body_markdown":"Now getting this error ,  The type com.fasterxml.jackson.databind.JsonNode cannot be resolved.","body":"Now getting this error ,  The type com.fasterxml.jackson.databind.JsonNode cannot be resolved."},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1676024239,"post_id":75402964,"comment_id":133058097,"body_markdown":"Here are the imports import com.octomix.josson.Josson;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.*;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.node.ArrayNode;","body":"Here are the imports import com.octomix.josson.Josson; import com.fasterxml.jackson.databind.JsonNode; import com.fasterxml.jackson.*; import com.fasterxml.jackson.core.JsonProcessingException; import com.fasterxml.jackson.databind.node.ArrayNode;"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1676024292,"post_id":75402964,"comment_id":133058106,"body_markdown":"import com.fasterxml.jackson.databind.node.JsonNode;","body":"import com.fasterxml.jackson.databind.node.JsonNode;"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1676024534,"post_id":75402964,"comment_id":133058169,"body_markdown":"The import com.fasterxml.jackson.databind.node.JsonNode cannot be resolved Is there a specific version of jar that i have to install ? jackson-databind-2.14.1.jar i&#39;m using (maybe it is deprecated ? )","body":"The import com.fasterxml.jackson.databind.node.JsonNode cannot be resolved Is there a specific version of jar that i have to install ? jackson-databind-2.14.1.jar i&#39;m using (maybe it is deprecated ? )"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1676024963,"post_id":75402964,"comment_id":133058285,"body_markdown":"Sorry, should be this one: com.fasterxml.jackson.databind.JsonNode","body":"Sorry, should be this one: com.fasterxml.jackson.databind.JsonNode"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1676025413,"post_id":75402964,"comment_id":133058411,"body_markdown":"Yes , The type com.fasterxml.jackson.databind.JsonNode cannot be resolved. It is indirectly referenced from required .class files What does this mean :// sorry","body":"Yes , The type com.fasterxml.jackson.databind.JsonNode cannot be resolved. It is indirectly referenced from required .class files What does this mean :// sorry"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1676025457,"post_id":75402964,"comment_id":133058431,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251783/discussion-between-java-bee-and-raymond-choi).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251783/discussion-between-java-bee-and-raymond-choi\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675967473,"creation_date":1675967473,"answer_id":75402964,"question_id":75402235,"body_markdown":"One of the solutions is to flatten the JSON, upperCase() the keys and unflatten the JSON. Library _Josson_ can do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;transactionId\\&quot;: 181,&quot; +\r\n        &quot;    \\&quot;Shipments\\&quot;: [&quot; +\r\n        &quot;        {&quot; +\r\n        &quot;            \\&quot;shipmentId\\&quot;: 2,&quot; +\r\n        &quot;            \\&quot;picklistId\\&quot;: \\&quot;24RZ\\&quot;,&quot; +\r\n        &quot;            \\&quot;ExtOrderId\\&quot;: \\&quot;23-127\\&quot;,&quot; +\r\n        &quot;            \\&quot;boxType\\&quot;: \\&quot;120\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(\r\n        &quot;flatten(&#39;.&#39;).entries().map(key.upperCase()::value).mergeObjects().unflatten(&#39;.&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;TRANSACTIONID&quot; : 181,\r\n      &quot;SHIPMENTS&quot; : [ {\r\n        &quot;SHIPMENTID&quot; : 2,\r\n        &quot;PICKLISTID&quot; : &quot;24RZ&quot;,\r\n        &quot;EXTORDERID&quot; : &quot;23-127&quot;,\r\n        &quot;BOXTYPE&quot; : &quot;120&quot;\r\n      } ]\r\n    }\r\n\r\n","title":"UpperCase all json keys using java and regex to find the matches","body":"<p>One of the solutions is to flatten the JSON, upperCase() the keys and unflatten the JSON. Library <em>Josson</em> can do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;transactionId\\&quot;: 181,&quot; +\n    &quot;    \\&quot;Shipments\\&quot;: [&quot; +\n    &quot;        {&quot; +\n    &quot;            \\&quot;shipmentId\\&quot;: 2,&quot; +\n    &quot;            \\&quot;picklistId\\&quot;: \\&quot;24RZ\\&quot;,&quot; +\n    &quot;            \\&quot;ExtOrderId\\&quot;: \\&quot;23-127\\&quot;,&quot; +\n    &quot;            \\&quot;boxType\\&quot;: \\&quot;120\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    ]&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(\n    &quot;flatten('.').entries().map(key.upperCase()::value).mergeObjects().unflatten('.')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;TRANSACTIONID&quot; : 181,\n  &quot;SHIPMENTS&quot; : [ {\n    &quot;SHIPMENTID&quot; : 2,\n    &quot;PICKLISTID&quot; : &quot;24RZ&quot;,\n    &quot;EXTORDERID&quot; : &quot;23-127&quot;,\n    &quot;BOXTYPE&quot; : &quot;120&quot;\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75402964,"answer_count":1,"score":1,"last_activity_date":1675967473,"creation_date":1675963374,"question_id":75402235,"body_markdown":"I&#39;m beginner in java and have to replace all  `json Keys` to upper Case .\r\n\r\nMy json can contain `arrays` (maybe nested Ones) and objects\r\n\r\nHere is an example of my json input  :  \r\n\r\n     {\r\n     &quot;transactionId&quot;: 181,\r\n     &quot;Shipments&quot;: [\r\n       {\r\n         &quot;shipmentId&quot;: 2,\r\n         &quot;picklistId&quot;: &quot;24RZ&quot;,\r\n         &quot;ExtOrderId&quot;: &quot;23-127&quot;,\r\n         &quot;boxType&quot;: &quot;120&quot;\r\n        }\r\n       ]\r\n      }\r\nHere is an example of my json Output :  \r\n\r\n        {\r\n      &quot;TRANSACTIONID&quot;: 181,\r\n      &quot;SHIPMENTS&quot;: [\r\n       {\r\n         &quot;SHIPMENTID&quot;: 2,\r\n         &quot;PICKLISTID&quot;: &quot;24RZ&quot;,\r\n         &quot;EXTORDERID&quot;: &quot;23-127&quot;,\r\n         &quot;BOXTYPE&quot;: &quot;120&quot;\r\n        }\r\n       ]\r\n      }\r\n\r\nI have tried to create an adapter but no chance to make it work correctly , \r\n\r\n - Do i Have to use a `regex` and a `replaceAll(&quot;everything before a : &quot; , &quot;upperCase()&quot;)  `\r\n\r\nI&#39;m reaching out to you guys to help me on this task because i could not find a way out to find a solution  ","title":"UpperCase all json keys using java and regex to find the matches","body":"<p>I'm beginner in java and have to replace all  <code>json Keys</code> to upper Case .</p>\n<p>My json can contain <code>arrays</code> (maybe nested Ones) and objects</p>\n<p>Here is an example of my json input  :</p>\n<pre><code> {\n &quot;transactionId&quot;: 181,\n &quot;Shipments&quot;: [\n   {\n     &quot;shipmentId&quot;: 2,\n     &quot;picklistId&quot;: &quot;24RZ&quot;,\n     &quot;ExtOrderId&quot;: &quot;23-127&quot;,\n     &quot;boxType&quot;: &quot;120&quot;\n    }\n   ]\n  }\n</code></pre>\n<p>Here is an example of my json Output :</p>\n<pre><code>    {\n  &quot;TRANSACTIONID&quot;: 181,\n  &quot;SHIPMENTS&quot;: [\n   {\n     &quot;SHIPMENTID&quot;: 2,\n     &quot;PICKLISTID&quot;: &quot;24RZ&quot;,\n     &quot;EXTORDERID&quot;: &quot;23-127&quot;,\n     &quot;BOXTYPE&quot;: &quot;120&quot;\n    }\n   ]\n  }\n</code></pre>\n<p>I have tried to create an adapter but no chance to make it work correctly ,</p>\n<ul>\n<li>Do i Have to use a <code>regex</code> and a <code>replaceAll(&quot;everything before a : &quot; , &quot;upperCase()&quot;)  </code></li>\n</ul>\n<p>I'm reaching out to you guys to help me on this task because i could not find a way out to find a solution</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1675967248,"post_id":75402907,"comment_id":133046801,"body_markdown":"The &quot;bad practice&quot; you&#39;re truly running into (and not warned about) is introducing side-effects into your stream. This isn&#39;t as bad on a sequential stream, but when made parallel can become a nightmare. It&#39;s also generally against most functional programming paradigms. That said, if it works, it works, as long as you understand the implications. `#peek` would work fine if you&#39;re just returning the same reference, but `#map` may also be more self-documenting that you are mutating the stream.","body":"The &quot;bad practice&quot; you&#39;re truly running into (and not warned about) is introducing side-effects into your stream. This isn&#39;t as bad on a sequential stream, but when made parallel can become a nightmare. It&#39;s also generally against most functional programming paradigms. That said, if it works, it works, as long as you understand the implications. <code>#peek</code> would work fine if you&#39;re just returning the same reference, but <code>#map</code> may also be more self-documenting that you are mutating the stream."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1675967763,"post_id":75402907,"comment_id":133046990,"body_markdown":"Using `map` is already bad practice, because you shouldn&#39;t modify the elements of the stream as you consume it. Side-effects should be avoided. If you want to modify the elements of a collection, use a loop.","body":"Using <code>map</code> is already bad practice, because you shouldn&#39;t modify the elements of the stream as you consume it. Side-effects should be avoided. If you want to modify the elements of a collection, use a loop."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1675968273,"post_id":75402907,"comment_id":133047127,"body_markdown":"I&#39;m a bit unclear on the use case for streams in general.  Why not use a loop in all cases?  I think the answer is some problems work well (are cleanly implemented) using the stream syntax.  However, some is not all.  Don&#39;t force a stream implementation unless it&#39;s a clear good fit, imo.  (Answering a previous question here on SO, I implemented a loop much more quickly than I could the stream equivalent, and the eventual stream version had subtle traps for the unwary.  I honestly think streams are overrated.)","body":"I&#39;m a bit unclear on the use case for streams in general.  Why not use a loop in all cases?  I think the answer is some problems work well (are cleanly implemented) using the stream syntax.  However, some is not all.  Don&#39;t force a stream implementation unless it&#39;s a clear good fit, imo.  (Answering a previous question here on SO, I implemented a loop much more quickly than I could the stream equivalent, and the eventual stream version had subtle traps for the unwary.  I honestly think streams are overrated.)"}],"owner":{"account_id":2256668,"reputation":590,"user_id":1987724,"accept_rate":63,"display_name":"Fam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675968523,"answer_count":0,"score":0,"last_activity_date":1675967074,"creation_date":1675967074,"question_id":75402907,"body_markdown":"Scenario: I have a collection of objects that I want to do some work to, transform them, and collect the results. Initially, I had two map calls:\r\n\r\n```\r\nobjects.stream()\r\n       .map(o -&gt; {\r\n                // do something interesting...\r\n                // set some fields...\r\n                return o;\r\n            })\r\n       .map(transformer::mapToSomethingElse)\r\n       .collect(Collectors.toList());\r\n```\r\n\r\nMy IDE recommended using `.peek` for the first map, since I&#39;m just returning the same input. When I read the API notes for peek, I see the following: \r\n\r\n&gt; This method exists mainly to support debugging\r\n\r\nIs my usage of peek a bad idea? The operations happening within peek are necessary, so if they were optimized away, that would be bad. Due to the way this stream operation is structured, I don&#39;t have any reason to believe the peek would be elided.\r\n\r\nOf course I could just write this with a for loop, but I like the syntax of streams so I use them wherever I can.","title":"Bad practice to do &quot;interesting&quot; work inside a Stream.peek()?","body":"<p>Scenario: I have a collection of objects that I want to do some work to, transform them, and collect the results. Initially, I had two map calls:</p>\n<pre><code>objects.stream()\n       .map(o -&gt; {\n                // do something interesting...\n                // set some fields...\n                return o;\n            })\n       .map(transformer::mapToSomethingElse)\n       .collect(Collectors.toList());\n</code></pre>\n<p>My IDE recommended using <code>.peek</code> for the first map, since I'm just returning the same input. When I read the API notes for peek, I see the following:</p>\n<blockquote>\n<p>This method exists mainly to support debugging</p>\n</blockquote>\n<p>Is my usage of peek a bad idea? The operations happening within peek are necessary, so if they were optimized away, that would be bad. Due to the way this stream operation is structured, I don't have any reason to believe the peek would be elided.</p>\n<p>Of course I could just write this with a for loop, but I like the syntax of streams so I use them wherever I can.</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1676003118,"post_id":75402884,"comment_id":133053694,"body_markdown":"Setting the appearance for a ✔️ field is more complex, there is an example for this in the examples subproject in the source code download, CreateCheckBox.java https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java?view=markup","body":"Setting the appearance for a ✔️ field is more complex, there is an example for this in the examples subproject in the source code download, CreateCheckBox.java <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/interactive/form/CreateCheckBox.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":6124304,"reputation":13132,"user_id":4776831,"accept_rate":53,"display_name":"cre8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675966946,"creation_date":1675966946,"question_id":75402884,"body_markdown":"I am looping over my fields to update them, I have textfields and checkboxes:\r\n```\r\nfor (FieldInput formField : formFields) {\r\n    PDField field = acroForm.getField(formField.id);\r\n    if (field != null) {\r\n        if (field.getFieldType() == &quot;Btn&quot; &amp;&amp; formField.value.equals(&quot;true&quot;)) {\r\n            ((PDCheckBox) field).check();\r\n        } else {\r\n            field.setValue(formField.value);\r\n        }\r\n        field.setReadOnly(true);\r\n        field.getCOSObject().setNeedToBeUpdated(true);\r\n        if (field.getFieldType().equals(&quot;Tx&quot;)) {\r\n            field.getWidgets().get(0).getAppearance().getCOSObject().setNeedToBeUpdated(true);\r\n        }\r\n        Log.info(&quot;set field: &quot; + field.getFullyQualifiedName() + &quot; to &quot; + formField.value);\r\n    }\r\n}\r\n```\r\nBut in adobe the checkbox is not filled (it is in my viewer in vs-code). When I tried to update the appearance I get an error that there is no widget for this `the return value of &quot;org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationWidget.getAppearance()&quot; is null`.\r\n\r\nBut according to my creation code there should be one:\r\n```\r\nPDField formField;\r\nif (field.type.equals(&quot;checkbox&quot;)) {\r\n    formField = new PDCheckBox(form);\r\n} else {\r\n    formField = new PDTextField(form);\r\n}\r\nformField.setPartialName(field.id);\r\nif (!field.type.equals(&quot;checkbox&quot;)) {\r\n    String defaultAppearance = &quot;/Helv &quot; + (field.fontSize * height) + &quot; Tf 0 0 0 rg&quot;;\r\n    ((PDTextField) formField).setDefaultAppearance(defaultAppearance);\r\n}\r\nform.getFields().add(formField);\r\nPDAnnotationWidget widget = formField.getWidgets().get(0);\r\nLog.info(height - height * field.y);\r\nPDRectangle rect = new PDRectangle(field.x * width, height - field.y * height - field.height * height,\r\n        field.width * width,\r\n        field.height * height);\r\nwidget.setRectangle(rect);\r\nwidget.setPage(page);\r\n\r\nPDAppearanceCharacteristicsDictionary fieldAppearance = new PDAppearanceCharacteristicsDictionary(\r\n        new COSDictionary());\r\nwidget.setAppearanceCharacteristics(fieldAppearance);\r\n\r\nwidget.setPrinted(true);\r\n\r\npage.getAnnotations().add(widget);\r\n```","title":"PDCheckbox is not checked for signature","body":"<p>I am looping over my fields to update them, I have textfields and checkboxes:</p>\n<pre><code>for (FieldInput formField : formFields) {\n    PDField field = acroForm.getField(formField.id);\n    if (field != null) {\n        if (field.getFieldType() == &quot;Btn&quot; &amp;&amp; formField.value.equals(&quot;true&quot;)) {\n            ((PDCheckBox) field).check();\n        } else {\n            field.setValue(formField.value);\n        }\n        field.setReadOnly(true);\n        field.getCOSObject().setNeedToBeUpdated(true);\n        if (field.getFieldType().equals(&quot;Tx&quot;)) {\n            field.getWidgets().get(0).getAppearance().getCOSObject().setNeedToBeUpdated(true);\n        }\n        Log.info(&quot;set field: &quot; + field.getFullyQualifiedName() + &quot; to &quot; + formField.value);\n    }\n}\n</code></pre>\n<p>But in adobe the checkbox is not filled (it is in my viewer in vs-code). When I tried to update the appearance I get an error that there is no widget for this <code>the return value of &quot;org.apache.pdfbox.pdmodel.interactive.annotation.PDAnnotationWidget.getAppearance()&quot; is null</code>.</p>\n<p>But according to my creation code there should be one:</p>\n<pre><code>PDField formField;\nif (field.type.equals(&quot;checkbox&quot;)) {\n    formField = new PDCheckBox(form);\n} else {\n    formField = new PDTextField(form);\n}\nformField.setPartialName(field.id);\nif (!field.type.equals(&quot;checkbox&quot;)) {\n    String defaultAppearance = &quot;/Helv &quot; + (field.fontSize * height) + &quot; Tf 0 0 0 rg&quot;;\n    ((PDTextField) formField).setDefaultAppearance(defaultAppearance);\n}\nform.getFields().add(formField);\nPDAnnotationWidget widget = formField.getWidgets().get(0);\nLog.info(height - height * field.y);\nPDRectangle rect = new PDRectangle(field.x * width, height - field.y * height - field.height * height,\n        field.width * width,\n        field.height * height);\nwidget.setRectangle(rect);\nwidget.setPage(page);\n\nPDAppearanceCharacteristicsDictionary fieldAppearance = new PDAppearanceCharacteristicsDictionary(\n        new COSDictionary());\nwidget.setAppearanceCharacteristics(fieldAppearance);\n\nwidget.setPrinted(true);\n\npage.getAnnotations().add(widget);\n</code></pre>\n"},{"tags":["java","arrays","class","oop","constructor"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675966001,"post_id":75402673,"comment_id":133046411,"body_markdown":"`int[] example;` is the same as `int[] example = null;`, you never initialized your array.","body":"<code>int[] example;</code> is the same as <code>int[] example = null;</code>, you never initialized your array."},{"owner":{"account_id":20126468,"reputation":3,"user_id":14759806,"display_name":"stereophonicSound"},"score":0,"creation_date":1675966323,"post_id":75402673,"comment_id":133046500,"body_markdown":"@Rogue original code had\n`Model[] models = new Model[4];`\nin `CarBrand`&#39;s constructor body but there is still this error. I suppose this line doesn&#39;t initialize array too?","body":"@Rogue original code had <code>Model[] models = new Model[4];</code> in <code>CarBrand</code>&#39;s constructor body but there is still this error. I suppose this line doesn&#39;t initialize array too?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675966613,"post_id":75402673,"comment_id":133046597,"body_markdown":"That line you added makes a local `models` variable, but it does not assign to the field `this.models`, which is still null when (implicitly) referenced in `Model`&#39;s constructor.","body":"That line you added makes a local <code>models</code> variable, but it does not assign to the field <code>this.models</code>, which is still null when (implicitly) referenced in <code>Model</code>&#39;s constructor."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676034623,"post_id":75402673,"comment_id":133061072,"body_markdown":"The line `public Model[4] models;` doesn’t even pass the compiler. There can’t be a `NullPointerException` with the code you’ve posted.","body":"The line <code>public Model[4] models;</code> doesn’t even pass the compiler. There can’t be a <code>NullPointerException</code> with the code you’ve posted."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675966468,"creation_date":1675966468,"answer_id":75402798,"question_id":75402673,"body_markdown":"Your syntax is generally incorrect: you would need\r\n\r\n```\r\n  public Model[] models; // not Model[4]\r\n  public int curIndex = 0;\r\n  public CarBrand(String name) {\r\n    brand = name;\r\n    models = new Model[4]; // not Model[]\r\n  }\r\n```","title":"Java: how can I put new object into array of objects of its class inside a constructor function? Is it possible?","body":"<p>Your syntax is generally incorrect: you would need</p>\n<pre><code>  public Model[] models; // not Model[4]\n  public int curIndex = 0;\n  public CarBrand(String name) {\n    brand = name;\n    models = new Model[4]; // not Model[]\n  }\n</code></pre>\n"}],"owner":{"account_id":20126468,"reputation":3,"user_id":14759806,"display_name":"stereophonicSound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75402798,"answer_count":1,"score":0,"last_activity_date":1675966468,"creation_date":1675965809,"question_id":75402673,"body_markdown":"everyone! I&#39;m total noob in Java and in programming in general and I want to implement `CarBrand` class with its&#39; inner `Model` class (let there be no more than 4 models for each brand). For example:\r\n```java\r\npublic class CarBrand {\r\n  public String brand;\r\n  public Model[4] models;\r\n  public int curIndex = 0;\r\n  public CarBrand(String name) {\r\n    brand = name;\r\n    Model[] models = new Model[4];\r\n  }\r\n\r\n  public class Model {\r\n    public String modelName;\r\n    public Model(String name) {\r\n      modelName = name;\r\n      models[curIndex] = this;\r\n      curIndex = curIndex + 1;\r\n    }\r\n  }\r\n}\r\n```\r\nI want to make new instance of `CarBrand` and its new `Model` (and add this model into `models` array of new instance of `CarBrand`) this way:\r\n```java\r\npublic class App {\r\n  public static void main(String args[]) {\r\n    CarBrand subaru = new Auto(&quot;Subaru&quot;);\r\n    CarBrand.Model legacy = subaru.new Model(&quot;Legacy&quot;);\r\n    System.out.println(subaru.models[0]);\r\n  }\r\n}\r\n```\r\nBut unfortunately running `App` finishes with error:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot store to object array because &quot;&lt;parameter1&gt;.models&quot; is null\r\n```\r\nWhat is the reason behind that? Is there a way to add a new model in brand&#39;s `models` array? I suppose, the object wasn&#39;t created yet, that&#39;s why there is an error. How far am I from the truth? ","title":"Java: how can I put new object into array of objects of its class inside a constructor function? Is it possible?","body":"<p>everyone! I'm total noob in Java and in programming in general and I want to implement <code>CarBrand</code> class with its' inner <code>Model</code> class (let there be no more than 4 models for each brand). For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CarBrand {\n  public String brand;\n  public Model[4] models;\n  public int curIndex = 0;\n  public CarBrand(String name) {\n    brand = name;\n    Model[] models = new Model[4];\n  }\n\n  public class Model {\n    public String modelName;\n    public Model(String name) {\n      modelName = name;\n      models[curIndex] = this;\n      curIndex = curIndex + 1;\n    }\n  }\n}\n</code></pre>\n<p>I want to make new instance of <code>CarBrand</code> and its new <code>Model</code> (and add this model into <code>models</code> array of new instance of <code>CarBrand</code>) this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n  public static void main(String args[]) {\n    CarBrand subaru = new Auto(&quot;Subaru&quot;);\n    CarBrand.Model legacy = subaru.new Model(&quot;Legacy&quot;);\n    System.out.println(subaru.models[0]);\n  }\n}\n</code></pre>\n<p>But unfortunately running <code>App</code> finishes with error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot store to object array because &quot;&lt;parameter1&gt;.models&quot; is null\n</code></pre>\n<p>What is the reason behind that? Is there a way to add a new model in brand's <code>models</code> array? I suppose, the object wasn't created yet, that's why there is an error. How far am I from the truth?</p>\n"},{"tags":["java","android","android-studio","service","speech-recognition"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1654471266,"post_id":72511576,"comment_id":128092794,"body_markdown":"See my answer to [a similar question](https://stackoverflow.com/a/63804647/295004)","body":"See my answer to <a href=\"https://stackoverflow.com/a/63804647/295004\">a similar question</a>"}],"answers":[{"tags":[],"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675965854,"creation_date":1675965854,"answer_id":75402684,"question_id":72511576,"body_markdown":"By design, all [SpeechRecognizer][1]&#39;s methods *&quot;must be invoked only from the main application thread.&quot;*\r\n\r\nMain application thread is also referred to as &quot;[UI thread][2]&quot;.\r\n\r\nThis means that [SpeechRecognizer][1] cannot run in a service.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/speech/SpeechRecognizer\r\n  [2]: https://stackoverflow.com/q/75100880/2597758","title":"How to make my virtual assistant app run always in the background? (android studio)","body":"<p>By design, all <a href=\"https://developer.android.com/reference/android/speech/SpeechRecognizer\" rel=\"nofollow noreferrer\">SpeechRecognizer</a>'s methods <em>&quot;must be invoked only from the main application thread.&quot;</em></p>\n<p>Main application thread is also referred to as &quot;<a href=\"https://stackoverflow.com/q/75100880/2597758\">UI thread</a>&quot;.</p>\n<p>This means that <a href=\"https://developer.android.com/reference/android/speech/SpeechRecognizer\" rel=\"nofollow noreferrer\">SpeechRecognizer</a> cannot run in a service.</p>\n"}],"owner":{"account_id":17988024,"reputation":23,"user_id":13078600,"display_name":"AGJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675965854,"creation_date":1654468915,"question_id":72511576,"body_markdown":"I created a virtual assistant app in Android Studio and it working fine until I exit the app window and the process stops. I want to make the app run in the background always so when it get&#39;s the wake word anytime it will respond. I tried using a Service but I couldn&#39;t make it work.\r\nCan you help me please?\r\n\r\nThis is my code:\r\n\r\n```\r\npackage com.eylon.jarvis;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.media.MediaPlayer;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.speech.RecognitionListener;\r\nimport android.speech.RecognizerIntent;\r\nimport android.speech.SpeechRecognizer;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport android.widget.ToggleButton;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Locale;\r\n\r\nimport ai.picovoice.porcupine.Porcupine;\r\nimport ai.picovoice.porcupine.PorcupineActivationException;\r\nimport ai.picovoice.porcupine.PorcupineActivationLimitException;\r\nimport ai.picovoice.porcupine.PorcupineActivationRefusedException;\r\nimport ai.picovoice.porcupine.PorcupineActivationThrottledException;\r\nimport ai.picovoice.porcupine.PorcupineException;\r\nimport ai.picovoice.porcupine.PorcupineInvalidArgumentException;\r\nimport ai.picovoice.porcupine.PorcupineManager;\r\nimport ai.picovoice.porcupine.PorcupineManagerCallback;\r\n\r\nenum AppState {\r\n    STOPPED,\r\n    WAKEWORD,\r\n    STT\r\n}\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final String ACCESS_KEY = &quot;Oc8ZOSkVtJHWKhVW3iGMedHDSCSXn6P4vQtrQBl8hNLXwLmxLhs2AA==&quot;;\r\n\r\n    private PorcupineManager porcupineManager = null;\r\n\r\n    TextView textView;\r\n    ToggleButton button;\r\n\r\n    private SpeechRecognizer speechRecognizer;\r\n    private Intent speechRecognizerIntent;\r\n    private AppState currentState;\r\n\r\n    private void displayError(String message) {\r\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private final PorcupineManagerCallback porcupineManagerCallback = new PorcupineManagerCallback() {\r\n        @Override\r\n        public void invoke(int keywordIndex) {\r\n            runOnUiThread(() -&gt; {\r\n                textView.setText(&quot;&quot;);\r\n                try {\r\n                    // need to stop porcupine manager before speechRecognizer can start listening.\r\n                    porcupineManager.stop();\r\n                } catch (PorcupineException e) {\r\n                    displayError(&quot;Failed to stop Porcupine.&quot;);\r\n                    return;\r\n                }\r\n\r\n                speechRecognizer.startListening(speechRecognizerIntent);\r\n                currentState = AppState.STT;\r\n            });\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        textView = findViewById(R.id.text1);\r\n        button = findViewById(R.id.button1);\r\n\r\n        if (!SpeechRecognizer.isRecognitionAvailable(this)) {\r\n            displayError(&quot;Speech Recognition not available.&quot;);\r\n        }\r\n\r\n        // Creating the Intent of the Google speech to text and adding extra variables.\r\n        speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\r\n                RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en-US&quot;);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, &quot;en-US&quot;);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_ONLY_RETURN_LANGUAGE_PREFERENCE, &quot;en-US&quot;);\r\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_PROMPT, &quot;Start speaking&quot;);\r\n\r\n        try {\r\n            porcupineManager = new PorcupineManager.Builder()\r\n                    .setAccessKey(ACCESS_KEY)\r\n                    .setKeyword(Porcupine.BuiltInKeyword.JARVIS)\r\n                    .setSensitivity(0.7f)\r\n                    .build(getApplicationContext(), porcupineManagerCallback);\r\n        } catch (PorcupineInvalidArgumentException e) {\r\n            onPorcupineInitError(\r\n                    String.format(&quot;%s\\nEnsure your accessKey &#39;%s&#39; is a valid access key.&quot;, e.getMessage(), ACCESS_KEY)\r\n            );\r\n        } catch (PorcupineActivationException e) {\r\n            onPorcupineInitError(&quot;AccessKey activation error&quot;);\r\n        } catch (PorcupineActivationLimitException e) {\r\n            onPorcupineInitError(&quot;AccessKey reached its device limit&quot;);\r\n        } catch (PorcupineActivationRefusedException e) {\r\n            onPorcupineInitError(&quot;AccessKey refused&quot;);\r\n        } catch (PorcupineActivationThrottledException e) {\r\n            onPorcupineInitError(&quot;AccessKey has been throttled&quot;);\r\n        } catch (PorcupineException e) {\r\n            onPorcupineInitError(&quot;Failed to initialize Porcupine &quot; + e.getMessage());\r\n        }\r\n\r\n        currentState = AppState.STOPPED;\r\n    }\r\n\r\n    private void onPorcupineInitError(final String errorMessage) {\r\n        runOnUiThread(() -&gt; {\r\n            TextView errorText = findViewById(R.id.text1);\r\n            errorText.setText(errorMessage);\r\n\r\n            ToggleButton recordButton = findViewById(R.id.button1);\r\n            recordButton.setChecked(false);\r\n            recordButton.setEnabled(false);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        if (button.isChecked()) {\r\n            stopService();\r\n            button.toggle();\r\n            speechRecognizer.destroy();\r\n        }\r\n\r\n        super.onStop();\r\n    }\r\n\r\n    private boolean hasRecordPermission() {\r\n        return ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO)\r\n                == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n    private void requestRecordPermission() {\r\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO},\r\n                0);\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    private void playback(int milliSeconds) {\r\n        speechRecognizer.stopListening();\r\n        currentState = AppState.WAKEWORD;\r\n\r\n        new Handler(Looper.getMainLooper()).postDelayed(() -&gt; {\r\n            if (currentState == AppState.WAKEWORD) {\r\n                porcupineManager.start();\r\n                textView.setText(&quot;Listening for &quot; + Porcupine.BuiltInKeyword.JARVIS + &quot; ...&quot;);\r\n            }\r\n        }, milliSeconds);\r\n    }\r\n\r\n    private void stopService() {\r\n        if (porcupineManager != null) {\r\n            try {\r\n                porcupineManager.stop();\r\n            } catch (PorcupineException e) {\r\n                displayError(&quot;Failed to stop porcupine.&quot;);\r\n            }\r\n        }\r\n\r\n        textView.setText(&quot;&quot;);\r\n        speechRecognizer.stopListening();\r\n        speechRecognizer.destroy();\r\n        currentState = AppState.STOPPED;\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,\r\n                                           @NonNull String[] permissions,\r\n                                           @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (grantResults.length == 0 || grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n            displayError(&quot;Microphone permission is required for this app!&quot;);\r\n            requestRecordPermission();\r\n        } else {\r\n            speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n            speechRecognizer.setRecognitionListener(new SpeechListener());\r\n            playback(0);\r\n        }\r\n    }\r\n\r\n    public void process(View view) {\r\n        if (button.isChecked()) {\r\n            if (hasRecordPermission()) {\r\n                speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\r\n                speechRecognizer.setRecognitionListener(new SpeechListener());\r\n                playback(0);\r\n            } else {\r\n                requestRecordPermission();\r\n            }\r\n        } else {\r\n            stopService();\r\n        }\r\n    }\r\n\r\n    private class SpeechListener implements RecognitionListener {\r\n        @Override\r\n        public void onReadyForSpeech(Bundle params) {\r\n        }\r\n\r\n        @Override\r\n        public void onBeginningOfSpeech() {\r\n        }\r\n\r\n        @Override\r\n        public void onRmsChanged(float rmsdB) {\r\n        }\r\n\r\n        @Override\r\n        public void onBufferReceived(byte[] buffer) {\r\n        }\r\n\r\n        @Override\r\n        public void onEndOfSpeech() {\r\n        }\r\n\r\n        @SuppressLint(&quot;SwitchIntDef&quot;)\r\n        @Override\r\n        public void onError(int error) {\r\n            switch (error) {\r\n                case SpeechRecognizer.ERROR_AUDIO:\r\n                    displayError(&quot;Error recording audio.&quot;);\r\n                    break;\r\n                case SpeechRecognizer.ERROR_INSUFFICIENT_PERMISSIONS:\r\n                    displayError(&quot;Insufficient permissions.&quot;);\r\n                    break;\r\n                case SpeechRecognizer.ERROR_NETWORK_TIMEOUT:\r\n                case SpeechRecognizer.ERROR_NETWORK:\r\n                    displayError(&quot;Network Error.&quot;);\r\n                    break;\r\n                case SpeechRecognizer.ERROR_NO_MATCH:\r\n                    if (button.isChecked()) {\r\n                        displayError(&quot;No recognition result matched.&quot;);\r\n                        playback(1000);\r\n                    }\r\n                case SpeechRecognizer.ERROR_CLIENT:\r\n                    return;\r\n                case SpeechRecognizer.ERROR_RECOGNIZER_BUSY:\r\n                    displayError(&quot;Recognition service is busy.&quot;);\r\n                    break;\r\n                case SpeechRecognizer.ERROR_SERVER:\r\n                    displayError(&quot;Server Error.&quot;);\r\n                    break;\r\n                case SpeechRecognizer.ERROR_SPEECH_TIMEOUT:\r\n                    displayError(&quot;No speech input.&quot;);\r\n                    break;\r\n                default:\r\n                    displayError(&quot;Something wrong occurred.&quot;);\r\n            }\r\n\r\n            stopService();\r\n            button.toggle();\r\n        }\r\n\r\n        @Override\r\n        public void onResults(Bundle results) {\r\n            ArrayList&lt;String&gt; data = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n            audioResponseSelecting(data.get(0).toLowerCase(Locale.ROOT));\r\n            textView.setText(data.get(0));\r\n\r\n            playback(3000);\r\n        }\r\n\r\n        @Override\r\n        public void onPartialResults(Bundle partialResults) {\r\n            ArrayList&lt;String&gt; data = partialResults.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n            audioResponseSelecting(data.get(0).toLowerCase(Locale.ROOT));\r\n            textView.setText(data.get(0));\r\n        }\r\n\r\n        @Override\r\n        public void onEvent(int eventType, Bundle params) {\r\n        }\r\n    }\r\n\r\n    // The response selecting function.\r\n    public void audioResponseSelecting(String transcript)\r\n    {\r\n        if (transcript.equals((&quot;Good morning&quot;).toLowerCase(Locale.ROOT)))\r\n        {\r\n            executeResponse(R.raw.good_morning);\r\n        }\r\n        else if (transcript.equals((&quot;Who is your creator&quot;).toLowerCase(Locale.ROOT)))\r\n        {\r\n            executeResponse(R.raw.creator);\r\n        }\r\n    }\r\n\r\n    // The audio file response execution function.\r\n    public void executeResponse(final int audio)\r\n    {\r\n        MediaPlayer response = MediaPlayer.create(MainActivity.this, audio);\r\n        response.start();\r\n    }\r\n}\r\n```\r\n","title":"How to make my virtual assistant app run always in the background? (android studio)","body":"<p>I created a virtual assistant app in Android Studio and it working fine until I exit the app window and the process stops. I want to make the app run in the background always so when it get's the wake word anytime it will respond. I tried using a Service but I couldn't make it work.\nCan you help me please?</p>\n<p>This is my code:</p>\n<pre><code>package com.eylon.jarvis;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.speech.RecognitionListener;\nimport android.speech.RecognizerIntent;\nimport android.speech.SpeechRecognizer;\nimport android.view.View;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.widget.ToggleButton;\n\nimport java.util.ArrayList;\nimport java.util.Locale;\n\nimport ai.picovoice.porcupine.Porcupine;\nimport ai.picovoice.porcupine.PorcupineActivationException;\nimport ai.picovoice.porcupine.PorcupineActivationLimitException;\nimport ai.picovoice.porcupine.PorcupineActivationRefusedException;\nimport ai.picovoice.porcupine.PorcupineActivationThrottledException;\nimport ai.picovoice.porcupine.PorcupineException;\nimport ai.picovoice.porcupine.PorcupineInvalidArgumentException;\nimport ai.picovoice.porcupine.PorcupineManager;\nimport ai.picovoice.porcupine.PorcupineManagerCallback;\n\nenum AppState {\n    STOPPED,\n    WAKEWORD,\n    STT\n}\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final String ACCESS_KEY = &quot;Oc8ZOSkVtJHWKhVW3iGMedHDSCSXn6P4vQtrQBl8hNLXwLmxLhs2AA==&quot;;\n\n    private PorcupineManager porcupineManager = null;\n\n    TextView textView;\n    ToggleButton button;\n\n    private SpeechRecognizer speechRecognizer;\n    private Intent speechRecognizerIntent;\n    private AppState currentState;\n\n    private void displayError(String message) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\n    }\n\n    private final PorcupineManagerCallback porcupineManagerCallback = new PorcupineManagerCallback() {\n        @Override\n        public void invoke(int keywordIndex) {\n            runOnUiThread(() -&gt; {\n                textView.setText(&quot;&quot;);\n                try {\n                    // need to stop porcupine manager before speechRecognizer can start listening.\n                    porcupineManager.stop();\n                } catch (PorcupineException e) {\n                    displayError(&quot;Failed to stop Porcupine.&quot;);\n                    return;\n                }\n\n                speechRecognizer.startListening(speechRecognizerIntent);\n                currentState = AppState.STT;\n            });\n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.text1);\n        button = findViewById(R.id.button1);\n\n        if (!SpeechRecognizer.isRecognitionAvailable(this)) {\n            displayError(&quot;Speech Recognition not available.&quot;);\n        }\n\n        // Creating the Intent of the Google speech to text and adding extra variables.\n        speechRecognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\n                RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en-US&quot;);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, &quot;en-US&quot;);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_ONLY_RETURN_LANGUAGE_PREFERENCE, &quot;en-US&quot;);\n        speechRecognizerIntent.putExtra(RecognizerIntent.EXTRA_PROMPT, &quot;Start speaking&quot;);\n\n        try {\n            porcupineManager = new PorcupineManager.Builder()\n                    .setAccessKey(ACCESS_KEY)\n                    .setKeyword(Porcupine.BuiltInKeyword.JARVIS)\n                    .setSensitivity(0.7f)\n                    .build(getApplicationContext(), porcupineManagerCallback);\n        } catch (PorcupineInvalidArgumentException e) {\n            onPorcupineInitError(\n                    String.format(&quot;%s\\nEnsure your accessKey '%s' is a valid access key.&quot;, e.getMessage(), ACCESS_KEY)\n            );\n        } catch (PorcupineActivationException e) {\n            onPorcupineInitError(&quot;AccessKey activation error&quot;);\n        } catch (PorcupineActivationLimitException e) {\n            onPorcupineInitError(&quot;AccessKey reached its device limit&quot;);\n        } catch (PorcupineActivationRefusedException e) {\n            onPorcupineInitError(&quot;AccessKey refused&quot;);\n        } catch (PorcupineActivationThrottledException e) {\n            onPorcupineInitError(&quot;AccessKey has been throttled&quot;);\n        } catch (PorcupineException e) {\n            onPorcupineInitError(&quot;Failed to initialize Porcupine &quot; + e.getMessage());\n        }\n\n        currentState = AppState.STOPPED;\n    }\n\n    private void onPorcupineInitError(final String errorMessage) {\n        runOnUiThread(() -&gt; {\n            TextView errorText = findViewById(R.id.text1);\n            errorText.setText(errorMessage);\n\n            ToggleButton recordButton = findViewById(R.id.button1);\n            recordButton.setChecked(false);\n            recordButton.setEnabled(false);\n        });\n    }\n\n    @Override\n    protected void onStop() {\n        if (button.isChecked()) {\n            stopService();\n            button.toggle();\n            speechRecognizer.destroy();\n        }\n\n        super.onStop();\n    }\n\n    private boolean hasRecordPermission() {\n        return ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO)\n                == PackageManager.PERMISSION_GRANTED;\n    }\n\n    private void requestRecordPermission() {\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.RECORD_AUDIO},\n                0);\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    private void playback(int milliSeconds) {\n        speechRecognizer.stopListening();\n        currentState = AppState.WAKEWORD;\n\n        new Handler(Looper.getMainLooper()).postDelayed(() -&gt; {\n            if (currentState == AppState.WAKEWORD) {\n                porcupineManager.start();\n                textView.setText(&quot;Listening for &quot; + Porcupine.BuiltInKeyword.JARVIS + &quot; ...&quot;);\n            }\n        }, milliSeconds);\n    }\n\n    private void stopService() {\n        if (porcupineManager != null) {\n            try {\n                porcupineManager.stop();\n            } catch (PorcupineException e) {\n                displayError(&quot;Failed to stop porcupine.&quot;);\n            }\n        }\n\n        textView.setText(&quot;&quot;);\n        speechRecognizer.stopListening();\n        speechRecognizer.destroy();\n        currentState = AppState.STOPPED;\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           @NonNull String[] permissions,\n                                           @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (grantResults.length == 0 || grantResults[0] == PackageManager.PERMISSION_DENIED) {\n            displayError(&quot;Microphone permission is required for this app!&quot;);\n            requestRecordPermission();\n        } else {\n            speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n            speechRecognizer.setRecognitionListener(new SpeechListener());\n            playback(0);\n        }\n    }\n\n    public void process(View view) {\n        if (button.isChecked()) {\n            if (hasRecordPermission()) {\n                speechRecognizer = SpeechRecognizer.createSpeechRecognizer(this);\n                speechRecognizer.setRecognitionListener(new SpeechListener());\n                playback(0);\n            } else {\n                requestRecordPermission();\n            }\n        } else {\n            stopService();\n        }\n    }\n\n    private class SpeechListener implements RecognitionListener {\n        @Override\n        public void onReadyForSpeech(Bundle params) {\n        }\n\n        @Override\n        public void onBeginningOfSpeech() {\n        }\n\n        @Override\n        public void onRmsChanged(float rmsdB) {\n        }\n\n        @Override\n        public void onBufferReceived(byte[] buffer) {\n        }\n\n        @Override\n        public void onEndOfSpeech() {\n        }\n\n        @SuppressLint(&quot;SwitchIntDef&quot;)\n        @Override\n        public void onError(int error) {\n            switch (error) {\n                case SpeechRecognizer.ERROR_AUDIO:\n                    displayError(&quot;Error recording audio.&quot;);\n                    break;\n                case SpeechRecognizer.ERROR_INSUFFICIENT_PERMISSIONS:\n                    displayError(&quot;Insufficient permissions.&quot;);\n                    break;\n                case SpeechRecognizer.ERROR_NETWORK_TIMEOUT:\n                case SpeechRecognizer.ERROR_NETWORK:\n                    displayError(&quot;Network Error.&quot;);\n                    break;\n                case SpeechRecognizer.ERROR_NO_MATCH:\n                    if (button.isChecked()) {\n                        displayError(&quot;No recognition result matched.&quot;);\n                        playback(1000);\n                    }\n                case SpeechRecognizer.ERROR_CLIENT:\n                    return;\n                case SpeechRecognizer.ERROR_RECOGNIZER_BUSY:\n                    displayError(&quot;Recognition service is busy.&quot;);\n                    break;\n                case SpeechRecognizer.ERROR_SERVER:\n                    displayError(&quot;Server Error.&quot;);\n                    break;\n                case SpeechRecognizer.ERROR_SPEECH_TIMEOUT:\n                    displayError(&quot;No speech input.&quot;);\n                    break;\n                default:\n                    displayError(&quot;Something wrong occurred.&quot;);\n            }\n\n            stopService();\n            button.toggle();\n        }\n\n        @Override\n        public void onResults(Bundle results) {\n            ArrayList&lt;String&gt; data = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n            audioResponseSelecting(data.get(0).toLowerCase(Locale.ROOT));\n            textView.setText(data.get(0));\n\n            playback(3000);\n        }\n\n        @Override\n        public void onPartialResults(Bundle partialResults) {\n            ArrayList&lt;String&gt; data = partialResults.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n            audioResponseSelecting(data.get(0).toLowerCase(Locale.ROOT));\n            textView.setText(data.get(0));\n        }\n\n        @Override\n        public void onEvent(int eventType, Bundle params) {\n        }\n    }\n\n    // The response selecting function.\n    public void audioResponseSelecting(String transcript)\n    {\n        if (transcript.equals((&quot;Good morning&quot;).toLowerCase(Locale.ROOT)))\n        {\n            executeResponse(R.raw.good_morning);\n        }\n        else if (transcript.equals((&quot;Who is your creator&quot;).toLowerCase(Locale.ROOT)))\n        {\n            executeResponse(R.raw.creator);\n        }\n    }\n\n    // The audio file response execution function.\n    public void executeResponse(final int audio)\n    {\n        MediaPlayer response = MediaPlayer.create(MainActivity.this, audio);\n        response.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","kotlin","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1675960266,"post_id":75401521,"comment_id":133044416,"body_markdown":"&quot;Should&quot; they? :shrug: But they don&#39;t, so... it&#39;s unclear what kind of answer you&#39;re looking for.","body":"&quot;Should&quot; they? :shrug: But they don&#39;t, so... it&#39;s unclear what kind of answer you&#39;re looking for."}],"owner":{"account_id":8368622,"reputation":86,"user_id":6284416,"display_name":"Mr. Tomato"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675965596,"creation_date":1675959858,"question_id":75401521,"body_markdown":"I understand that counting many entries in a database may return more than int_max entries and therefore [Spring CRUD repository&#39;s count()](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#count()) method has long as return type.\r\n\r\n\r\nHowever, assuming that the DB contains more than int_max entries and I issue an update/delete query for all entries, I&#39;d also need a long to return the number of updated/deleted entries.\r\n\r\nTherefore I defined my Spring Data method as \r\n\r\n```\r\n@Modifying\r\n@Query(nativeQuery = true, value = &quot;delete from AUDIT_CREATE_SAVINGS_EASY_ACCESS_ACCOUNT where timestamp &lt; :cutOff&quot;)\r\nfun deleteByTimestampBefore(@Param(&quot;cutOff&quot;) cutOff: Instant): Long\r\n```\r\n\r\nTo my surprise the invocation of this method causes a stack trace \r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type! Offending method: public abstract long de.foo.FooRepository.deleteByTimestampBefore(java.time.Instant); nested exception is java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!\r\n[...]\r\n```\r\n\r\nI guess it makes sense since [JPA Query&#39;s executeUpdate()](https://docs.oracle.com/javaee/7/api/javax/persistence/Query.html#executeUpdate--) method returns int, but I am puzzled why that is the case.\r\n\r\nIn any way, shouldn&#39;t count and update-queries return the same type - i.e. int or long if int is too small?","title":"Why do Spring CRUD repository updates return int, but count long?","body":"<p>I understand that counting many entries in a database may return more than int_max entries and therefore <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#count()\" rel=\"nofollow noreferrer\">Spring CRUD repository's count()</a> method has long as return type.</p>\n<p>However, assuming that the DB contains more than int_max entries and I issue an update/delete query for all entries, I'd also need a long to return the number of updated/deleted entries.</p>\n<p>Therefore I defined my Spring Data method as</p>\n<pre><code>@Modifying\n@Query(nativeQuery = true, value = &quot;delete from AUDIT_CREATE_SAVINGS_EASY_ACCESS_ACCOUNT where timestamp &lt; :cutOff&quot;)\nfun deleteByTimestampBefore(@Param(&quot;cutOff&quot;) cutOff: Instant): Long\n</code></pre>\n<p>To my surprise the invocation of this method causes a stack trace</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Modifying queries can only use void or int/Integer as return type! Offending method: public abstract long de.foo.FooRepository.deleteByTimestampBefore(java.time.Instant); nested exception is java.lang.IllegalArgumentException: Modifying queries can only use void or int/Integer as return type!\n[...]\n</code></pre>\n<p>I guess it makes sense since <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/Query.html#executeUpdate--\" rel=\"nofollow noreferrer\">JPA Query's executeUpdate()</a> method returns int, but I am puzzled why that is the case.</p>\n<p>In any way, shouldn't count and update-queries return the same type - i.e. int or long if int is too small?</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"answers":[{"comments":[{"owner":{"account_id":27466333,"reputation":13,"user_id":20955979,"display_name":"ggwp"},"score":0,"creation_date":1674224402,"post_id":75185031,"comment_id":132674584,"body_markdown":"Thank you Thank you Thank you so much. The error is gone. But im so sorry the ask you this, what about the date picker (date_p) and time picker (time_p)","body":"Thank you Thank you Thank you so much. The error is gone. But im so sorry the ask you this, what about the date picker (date_p) and time picker (time_p)"},{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1674224587,"post_id":75185031,"comment_id":132674653,"body_markdown":"@ggwp you can do same with other just replace widget like private lateinit var time_p:TimePicker and time_p= findViewById(R.id.time_p)  and add all items like this","body":"@ggwp you can do same with other just replace widget like private lateinit var time_p:TimePicker and time_p= findViewById(R.id.time_p)  and add all items like this"}],"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674223223,"creation_date":1674223223,"answer_id":75185031,"question_id":75184884,"body_markdown":"Before **onCreate** you need to initialize all widget \r\nlike \r\n\r\n&gt; Button done_fab;//in JAVA\r\n\r\n&gt; private lateinit var done_fab: Button //in Kotlin\r\n\r\n//Add other here\r\n\r\nand after **setContentView** you need to initialize the same widget with name like\r\n\r\n&gt; done_fab=findViewById(R.id.done_fab);//in java\r\n\r\n&gt; done_fab= findViewById(R.id.done_fab)//in Kotlin\r\n\r\n//Add other here\r\n\r\nit will be ready to use in overall activity class.","title":"The activity and XML won&#39;t sync in Android Studio. I get the error: unresolved reference: android,toolbar. done_fab, date_p, etc","body":"<p>Before <strong>onCreate</strong> you need to initialize all widget\nlike</p>\n<blockquote>\n<p>Button done_fab;//in JAVA</p>\n</blockquote>\n<blockquote>\n<p>private lateinit var done_fab: Button //in Kotlin</p>\n</blockquote>\n<p>//Add other here</p>\n<p>and after <strong>setContentView</strong> you need to initialize the same widget with name like</p>\n<blockquote>\n<p>done_fab=findViewById(R.id.done_fab);//in java</p>\n</blockquote>\n<blockquote>\n<p>done_fab= findViewById(R.id.done_fab)//in Kotlin</p>\n</blockquote>\n<p>//Add other here</p>\n<p>it will be ready to use in overall activity class.</p>\n"}],"owner":{"account_id":27466333,"reputation":13,"user_id":20955979,"display_name":"ggwp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75185031,"answer_count":1,"score":1,"last_activity_date":1675965547,"creation_date":1674222604,"question_id":75184884,"body_markdown":"My activity does not sync with its layout xml. I really don&#39;t know why the coding seems okay. I&#39;m a beginner dev.\r\n\r\nThis is my activity using Kotlin in Android Studio:\r\n\r\n![](https://i.stack.imgur.com/rKR57.png)\r\n\r\nCode:\r\n\r\n```\r\npackage com.pkndegwa.mycarmaintenance\r\n\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.work.Data\r\nimport androidx.work.ExistingWorkPolicy.REPLACE\r\nimport androidx.work.OneTimeWorkRequest\r\nimport androidx.work.WorkManager\r\nimport kotlinx.android.synthetic.service_list_item.*\r\nimport com.google.android.material.snackbar.Snackbar.LENGTH_LONG\r\nimport com.google.android.material.snackbar.Snackbar.make\r\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_ID\r\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_WORK\r\nimport java.lang.System.currentTimeMillis\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\nimport java.util.Locale.getDefault\r\nimport java.util.concurrent.TimeUnit.MILLISECONDS\r\n\r\nclass AlarmActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.service_list_item)\r\n\r\n        userInterface()\r\n    }\r\n\r\n    private fun userInterface() {\r\n        setSupportActionBar(toolbar)\r\n\r\n        val titleNotification = getString(R.string.notification_title)\r\n\r\n        done_fab.setOnClickListener {\r\n            val customCalendar = Calendar.getInstance()\r\n            customCalendar.set(\r\n                date_p.year, date_p.month, date_p.dayOfMonth, time_p.hour, time_p.minute, 0\r\n            )\r\n            val customTime = customCalendar.timeInMillis\r\n            val currentTime = currentTimeMillis()\r\n            if (customTime &gt; currentTime) {\r\n                val data = Data.Builder().putInt(NOTIFICATION_ID, 0).build()\r\n                val delay = customTime - currentTime\r\n                scheduleNotification(delay, data)\r\n\r\n                val titleNotificationSchedule = getString(R.string.notification_schedule_title)\r\n                val patternNotificationSchedule = getString(R.string.notification_schedule_pattern)\r\n                make(\r\n                    service_card,\r\n                    titleNotificationSchedule + SimpleDateFormat(\r\n                        patternNotificationSchedule, getDefault()\r\n                    ).format(customCalendar.time).toString(),\r\n                    LENGTH_LONG\r\n                ).show()\r\n            } else {\r\n                val errorNotificationSchedule = getString(R.string.notification_schedule_error)\r\n                make(service_card, errorNotificationSchedule, LENGTH_LONG).show()\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun scheduleNotification(delay: Long, data: Data) {\r\n        val notificationWork = OneTimeWorkRequest.Builder(NotifyWork::class.java)\r\n            .setInitialDelay(delay, MILLISECONDS).setInputData(data).build()\r\n\r\n        val instanceWorkManager = WorkManager.getInstance(this)\r\n        instanceWorkManager.beginUniqueWork(NOTIFICATION_WORK, REPLACE, notificationWork).enqueue()\r\n    }\r\n}\r\n\r\n```\r\n \r\n\r\nThis is my layout.xml. This layout been use by two activity which is &quot;ServiceListAdapter&quot; and &quot;AlarmActivity&quot;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;com.google.android.material.card.MaterialCardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/service_card&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginHorizontal=&quot;8dp&quot;\r\n    android:layout_marginVertical=&quot;4dp&quot;\r\n    android:backgroundTint=&quot;#E9E9ED&quot;\r\n    android:clickable=&quot;true&quot;\r\n    android:focusable=&quot;true&quot;\r\n    android:minHeight=&quot;@dimen/button_min_height&quot;\r\n    app:cardElevation=&quot;1dp&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/services_heading_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_margin=&quot;12dp&quot;\r\n                android:layout_weight=&quot;0&quot;\r\n                android:importantForAccessibility=&quot;no&quot;\r\n                android:src=&quot;@drawable/ic_baseline_build_circle_24&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;2&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/services&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/services_done_list&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;Oil Filer, Spark Plugs, Battery&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/services_expand_view&quot;\r\n                android:layout_width=&quot;32dp&quot;\r\n                android:layout_height=&quot;32dp&quot;\r\n                android:layout_margin=&quot;12dp&quot;\r\n                android:layout_weight=&quot;0&quot;\r\n                android:contentDescription=&quot;@string/expand_more_button&quot;\r\n                android:src=&quot;@drawable/ic_baseline_expand_more_24&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;com.google.android.material.divider.MaterialDivider\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/services_details_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingHorizontal=&quot;6dp&quot;\r\n            android:paddingTop=&quot;0dp&quot;\r\n            android:paddingBottom=&quot;8dp&quot;\r\n            android:visibility=&quot;gone&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/services_left_layout&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/services_left_layout&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/services_left_layout&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@id/services_right_layout&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/service_date&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/service_date_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;01 Nov 2022&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:text=&quot;@string/current_mileage&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/current_mileage_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;2,000 km&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:text=&quot;@string/next_service_mileage&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/next_service_mileage_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;4,000 km&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/services_right_layout&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@id/services_left_layout&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/next_service_date&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/next_service_date_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;01 Mar 2023&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;24dp&quot;\r\n                    android:text=&quot;@string/total_cost&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/total_cost_text_view&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:textAllCaps=&quot;false&quot;\r\n                    android:textSize=&quot;14sp&quot;\r\n                    tools:text=&quot;1,500 KSH&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/service_notes_title_text_view&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:layout_marginTop=&quot;24dp&quot;\r\n                android:text=&quot;@string/notes&quot;\r\n                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/services_left_layout&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/service_notes_text_view&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:textAllCaps=&quot;false&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_title_text_view&quot;\r\n                tools:text=&quot;Testing out the notes appearance&quot; /&gt;\r\n\r\n            &lt;!--            This section is to create our alarm from different page since Examiner--&gt;\r\n            &lt;!--            want the user to separate the alarm from the add service --&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/titleET&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_text_view&quot;\r\n                android:hint=&quot;Title for your notification&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;\r\n                android:autofillHints=&quot;Which Car&quot; /&gt;\r\n\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/messageET&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;You can set your own notification here&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/titleET&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;\r\n                android:autofillHints=&quot;what service&quot; /&gt;\r\n\r\n            &lt;DatePicker\r\n                android:id=&quot;@+id/date_p&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;-30dp&quot;\r\n                android:layout_marginRight=&quot;-30dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:calendarViewShown=&quot;false&quot;\r\n                android:datePickerMode=&quot;spinner&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/messageET&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\r\n\r\n            &lt;TimePicker\r\n                android:id=&quot;@+id/time_p&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_marginLeft=&quot;-30dp&quot;\r\n                android:layout_marginRight=&quot;-30dp&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                android:timePickerMode=&quot;spinner&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/date_p&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/done_fab&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:text=&quot;schedule_notification&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/time_p&quot;\r\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\r\n\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/services_actions_container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;end|center_vertical&quot;\r\n                android:orientation=&quot;horizontal&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/done_fab&quot;&gt;\r\n\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/edit_service_button&quot;\r\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginHorizontal=&quot;4dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;4dp&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:text=&quot;@string/edit&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_edit_24&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/delete_service_button&quot;\r\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginHorizontal=&quot;2dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;4dp&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:text=&quot;@string/delete&quot;\r\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_delete_24&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/com.google.android.material.card.MaterialCardView&gt;\r\n```\r\n","title":"The activity and XML won&#39;t sync in Android Studio. I get the error: unresolved reference: android,toolbar. done_fab, date_p, etc","body":"<p>My activity does not sync with its layout xml. I really don't know why the coding seems okay. I'm a beginner dev.</p>\n<p>This is my activity using Kotlin in Android Studio:</p>\n<p><img src=\"https://i.stack.imgur.com/rKR57.png\" alt=\"\" /></p>\n<p>Code:</p>\n<pre><code>package com.pkndegwa.mycarmaintenance\n\nimport android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.work.Data\nimport androidx.work.ExistingWorkPolicy.REPLACE\nimport androidx.work.OneTimeWorkRequest\nimport androidx.work.WorkManager\nimport kotlinx.android.synthetic.service_list_item.*\nimport com.google.android.material.snackbar.Snackbar.LENGTH_LONG\nimport com.google.android.material.snackbar.Snackbar.make\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_ID\nimport com.pkndegwa.mycarmaintenance.NotifyWork.Companion.NOTIFICATION_WORK\nimport java.lang.System.currentTimeMillis\nimport java.text.SimpleDateFormat\nimport java.util.*\nimport java.util.Locale.getDefault\nimport java.util.concurrent.TimeUnit.MILLISECONDS\n\nclass AlarmActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.service_list_item)\n\n        userInterface()\n    }\n\n    private fun userInterface() {\n        setSupportActionBar(toolbar)\n\n        val titleNotification = getString(R.string.notification_title)\n\n        done_fab.setOnClickListener {\n            val customCalendar = Calendar.getInstance()\n            customCalendar.set(\n                date_p.year, date_p.month, date_p.dayOfMonth, time_p.hour, time_p.minute, 0\n            )\n            val customTime = customCalendar.timeInMillis\n            val currentTime = currentTimeMillis()\n            if (customTime &gt; currentTime) {\n                val data = Data.Builder().putInt(NOTIFICATION_ID, 0).build()\n                val delay = customTime - currentTime\n                scheduleNotification(delay, data)\n\n                val titleNotificationSchedule = getString(R.string.notification_schedule_title)\n                val patternNotificationSchedule = getString(R.string.notification_schedule_pattern)\n                make(\n                    service_card,\n                    titleNotificationSchedule + SimpleDateFormat(\n                        patternNotificationSchedule, getDefault()\n                    ).format(customCalendar.time).toString(),\n                    LENGTH_LONG\n                ).show()\n            } else {\n                val errorNotificationSchedule = getString(R.string.notification_schedule_error)\n                make(service_card, errorNotificationSchedule, LENGTH_LONG).show()\n            }\n        }\n    }\n\n    private fun scheduleNotification(delay: Long, data: Data) {\n        val notificationWork = OneTimeWorkRequest.Builder(NotifyWork::class.java)\n            .setInitialDelay(delay, MILLISECONDS).setInputData(data).build()\n\n        val instanceWorkManager = WorkManager.getInstance(this)\n        instanceWorkManager.beginUniqueWork(NOTIFICATION_WORK, REPLACE, notificationWork).enqueue()\n    }\n}\n\n</code></pre>\n<p>This is my layout.xml. This layout been use by two activity which is &quot;ServiceListAdapter&quot; and &quot;AlarmActivity&quot;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;com.google.android.material.card.MaterialCardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/service_card&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginHorizontal=&quot;8dp&quot;\n    android:layout_marginVertical=&quot;4dp&quot;\n    android:backgroundTint=&quot;#E9E9ED&quot;\n    android:clickable=&quot;true&quot;\n    android:focusable=&quot;true&quot;\n    android:minHeight=&quot;@dimen/button_min_height&quot;\n    app:cardElevation=&quot;1dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/services_heading_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_margin=&quot;12dp&quot;\n                android:layout_weight=&quot;0&quot;\n                android:importantForAccessibility=&quot;no&quot;\n                android:src=&quot;@drawable/ic_baseline_build_circle_24&quot; /&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;2&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/services&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/services_done_list&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;Oil Filer, Spark Plugs, Battery&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/services_expand_view&quot;\n                android:layout_width=&quot;32dp&quot;\n                android:layout_height=&quot;32dp&quot;\n                android:layout_margin=&quot;12dp&quot;\n                android:layout_weight=&quot;0&quot;\n                android:contentDescription=&quot;@string/expand_more_button&quot;\n                android:src=&quot;@drawable/ic_baseline_expand_more_24&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;com.google.android.material.divider.MaterialDivider\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/services_details_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:paddingHorizontal=&quot;6dp&quot;\n            android:paddingTop=&quot;0dp&quot;\n            android:paddingBottom=&quot;8dp&quot;\n            android:visibility=&quot;gone&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/services_left_layout&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/services_left_layout&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/services_left_layout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_margin=&quot;8dp&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@id/services_right_layout&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/service_date&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/service_date_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;01 Nov 2022&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;24dp&quot;\n                    android:text=&quot;@string/current_mileage&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/current_mileage_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;2,000 km&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;24dp&quot;\n                    android:text=&quot;@string/next_service_mileage&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/next_service_mileage_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;4,000 km&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/services_right_layout&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:layout_margin=&quot;8dp&quot;\n                android:orientation=&quot;vertical&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toEndOf=&quot;@id/services_left_layout&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/next_service_date&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/next_service_date_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;01 Mar 2023&quot; /&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;24dp&quot;\n                    android:text=&quot;@string/total_cost&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/total_cost_text_view&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:textAllCaps=&quot;false&quot;\n                    android:textSize=&quot;14sp&quot;\n                    tools:text=&quot;1,500 KSH&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/service_notes_title_text_view&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:layout_marginTop=&quot;24dp&quot;\n                android:text=&quot;@string/notes&quot;\n                android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                android:textColor=&quot;@color/black&quot;\n                android:textSize=&quot;16sp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/services_left_layout&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/service_notes_text_view&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;8dp&quot;\n                android:textAllCaps=&quot;false&quot;\n                android:textSize=&quot;14sp&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_title_text_view&quot;\n                tools:text=&quot;Testing out the notes appearance&quot; /&gt;\n\n            &lt;!--            This section is to create our alarm from different page since Examiner--&gt;\n            &lt;!--            want the user to separate the alarm from the add service --&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/titleET&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/service_notes_text_view&quot;\n                android:hint=&quot;Title for your notification&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;\n                android:autofillHints=&quot;Which Car&quot; /&gt;\n\n\n            &lt;EditText\n                android:id=&quot;@+id/messageET&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:hint=&quot;You can set your own notification here&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/titleET&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;\n                android:autofillHints=&quot;what service&quot; /&gt;\n\n            &lt;DatePicker\n                android:id=&quot;@+id/date_p&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginLeft=&quot;-30dp&quot;\n                android:layout_marginRight=&quot;-30dp&quot;\n                android:layout_weight=&quot;1&quot;\n                android:calendarViewShown=&quot;false&quot;\n                android:datePickerMode=&quot;spinner&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/messageET&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\n\n            &lt;TimePicker\n                android:id=&quot;@+id/time_p&quot;\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:layout_marginLeft=&quot;-30dp&quot;\n                android:layout_marginRight=&quot;-30dp&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                android:timePickerMode=&quot;spinner&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/date_p&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/done_fab&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:text=&quot;schedule_notification&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/time_p&quot;\n                tools:context=&quot;.ui.AlarmActivity&quot;/&gt;\n\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/services_actions_container&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:gravity=&quot;end|center_vertical&quot;\n                android:orientation=&quot;horizontal&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@id/done_fab&quot;&gt;\n\n\n                &lt;Button\n                    android:id=&quot;@+id/edit_service_button&quot;\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginHorizontal=&quot;4dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;4dp&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:text=&quot;@string/edit&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_edit_24&quot; /&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/delete_service_button&quot;\n                    style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginHorizontal=&quot;2dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;4dp&quot;\n                    android:padding=&quot;2dp&quot;\n                    android:text=&quot;@string/delete&quot;\n                    android:textAppearance=&quot;?attr/textAppearanceBody2&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    app:drawableTopCompat=&quot;@drawable/ic_baseline_delete_24&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/com.google.android.material.card.MaterialCardView&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"score":0,"creation_date":1675972625,"post_id":75402594,"comment_id":133048343,"body_markdown":"Don&#39;t know why you need it generic. I would not do it. Consider using AbstractAuditable: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/AbstractAuditable.html","body":"Don&#39;t know why you need it generic. I would not do it. Consider using AbstractAuditable: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/AbstractAuditable.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":15256646,"reputation":41,"user_id":11008159,"display_name":"parisa golmohammadi"},"score":0,"creation_date":1676055407,"post_id":75402594,"comment_id":133067506,"body_markdown":"@RobertNiestroj\nI have different entities with some of the same behaviors that I don&#39;t want to be repeated","body":"@RobertNiestroj I have different entities with some of the same behaviors that I don&#39;t want to be repeated"}],"owner":{"account_id":15256646,"reputation":41,"user_id":11008159,"display_name":"parisa golmohammadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675965372,"creation_date":1675965372,"question_id":75402594,"body_markdown":"I need to have generic service and repository classes in my project. I wrote it this way, but I don&#39;t know if it is correct or not.\r\n \r\n**BaseModel:**\r\n\r\n     @MappedSuperclass\r\n     @Data\r\n    public class AbstractBaseEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    @Version\r\n    private int version;\r\n    private LocalDateTime createdAt;\r\n    private LocalDateTime updatedAt;\r\n\r\n    public AbstractBaseEntity() {\r\n        this.createdAt = LocalDateTime.now();\r\n        this.updatedAt = LocalDateTime.now();\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n**GenericService:**\r\n\r\n    public interface AbstractBaseService&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;{\r\n    public abstract T save(T entity);\r\n    public abstract List&lt;T&gt; findAll(); // you might want a generic Collection if u prefer\r\n\r\n    public abstract Optional&lt;T&gt; findById(ID entityId);\r\n    public abstract T update(T entity);\r\n    public abstract T updateById(T entity, ID entityId);\r\n    public abstract void delete(T entity);\r\n    public abstract void deleteById(ID entityId);\r\n    // other methods u might need to be generic\r\n\r\n}\r\n\r\n\r\nHere I inherited from base service class and Autowired repository base classes.\r\n\r\n    @Service\r\n    @Transactional\r\n    public abstract class AbstractBaseServiceImpl&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;\r\n        implements AbstractBaseService&lt;T, ID&gt; {\r\n    @Autowired\r\n    private AbstractBaseRepository&lt;T, ID&gt; abstractBaseRepository;\r\n\r\n    protected abstract Class&lt;T&gt; getDomaimClass();\r\n\r\n    protected Class&lt;T&gt; domainClass = this.getDomaimClass();\r\n\r\n    @Override\r\n    public T save(T entity) {\r\n        return (T) abstractBaseRepository.save(entity);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;T&gt; findAll() {\r\n        return abstractBaseRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; findById(ID entityId) {\r\n        return abstractBaseRepository.findById(entityId);\r\n    }\r\n\r\n    @Override\r\n    public T update(T entity) {\r\n        return (T) abstractBaseRepository.save(entity);\r\n    }\r\n\r\n    @Override\r\n    public T updateById(T entity, ID entityId) {\r\n        Optional&lt;T&gt; optional = abstractBaseRepository.findById(entityId);\r\n        if (optional.isPresent()) {\r\n            return (T) abstractBaseRepository.save(entity);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void delete(T entity) {\r\n        abstractBaseRepository.delete(entity);\r\n    }\r\n\r\n    @Override\r\n    public void deleteById(ID entityId) {\r\n        abstractBaseRepository.deleteById(entityId);\r\n    }\r\n\r\n**GenericRepository:**\r\nI created a basic repository class and because I needed a custom Query that was not supported by jpa, I had to add two more classes.\r\n    @Repository\r\n    public interface AbstractBaseRepository&lt;T extends AbstractBaseEntity, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt;,AbstractBaseRepositoryCustom {\r\n\r\n}\r\n\r\n    public interface AbstractBaseRepositoryCustom&lt;T extends AbstractBaseEntity,ID extends Serializable&gt; {\r\n    List&lt;T&gt; findAllByFiter(String textQuery);\r\n}\r\n\r\n    public class AbstractBaseRepositoryCustomImpl&lt;T extends AbstractBaseEntity,ID extends Serializable&gt;  implements AbstractBaseRepositoryCustom {\r\n    @PersistenceContext\r\n    EntityManager entityManager;\r\n\r\n\r\n    @Override\r\n    public List findAllByFiter(String textQuery) {\r\n        Query query=entityManager.createQuery(textQuery);\r\n        return query.getResultList();\r\n    }\r\n}\r\n\r\nI don&#39;t know that the methods and wiring in my service class are correct. Is the repository installed correctly? Please help.\r\n","title":"How to implement generic service and repository class in spring boot","body":"<p>I need to have generic service and repository classes in my project. I wrote it this way, but I don't know if it is correct or not.</p>\n<p><strong>BaseModel:</strong></p>\n<pre><code> @MappedSuperclass\n @Data\npublic class AbstractBaseEntity implements Serializable {\n\n@Id\n@GeneratedValue\nprivate Long id;\n@Version\nprivate int version;\nprivate LocalDateTime createdAt;\nprivate LocalDateTime updatedAt;\n\npublic AbstractBaseEntity() {\n    this.createdAt = LocalDateTime.now();\n    this.updatedAt = LocalDateTime.now();\n}\n</code></pre>\n<p>}</p>\n<p><strong>GenericService:</strong></p>\n<pre><code>public interface AbstractBaseService&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;{\npublic abstract T save(T entity);\npublic abstract List&lt;T&gt; findAll(); // you might want a generic Collection if u prefer\n\npublic abstract Optional&lt;T&gt; findById(ID entityId);\npublic abstract T update(T entity);\npublic abstract T updateById(T entity, ID entityId);\npublic abstract void delete(T entity);\npublic abstract void deleteById(ID entityId);\n// other methods u might need to be generic\n</code></pre>\n<p>}</p>\n<p>Here I inherited from base service class and Autowired repository base classes.</p>\n<pre><code>@Service\n@Transactional\npublic abstract class AbstractBaseServiceImpl&lt;T extends AbstractBaseEntity, ID extends Serializable&gt;\n    implements AbstractBaseService&lt;T, ID&gt; {\n@Autowired\nprivate AbstractBaseRepository&lt;T, ID&gt; abstractBaseRepository;\n\nprotected abstract Class&lt;T&gt; getDomaimClass();\n\nprotected Class&lt;T&gt; domainClass = this.getDomaimClass();\n\n@Override\npublic T save(T entity) {\n    return (T) abstractBaseRepository.save(entity);\n}\n\n@Override\npublic List&lt;T&gt; findAll() {\n    return abstractBaseRepository.findAll();\n}\n\n@Override\npublic Optional&lt;T&gt; findById(ID entityId) {\n    return abstractBaseRepository.findById(entityId);\n}\n\n@Override\npublic T update(T entity) {\n    return (T) abstractBaseRepository.save(entity);\n}\n\n@Override\npublic T updateById(T entity, ID entityId) {\n    Optional&lt;T&gt; optional = abstractBaseRepository.findById(entityId);\n    if (optional.isPresent()) {\n        return (T) abstractBaseRepository.save(entity);\n    } else {\n        return null;\n    }\n}\n\n@Override\npublic void delete(T entity) {\n    abstractBaseRepository.delete(entity);\n}\n\n@Override\npublic void deleteById(ID entityId) {\n    abstractBaseRepository.deleteById(entityId);\n}\n</code></pre>\n<p><strong>GenericRepository:</strong>\nI created a basic repository class and because I needed a custom Query that was not supported by jpa, I had to add two more classes.\n@Repository\npublic interface AbstractBaseRepository&lt;T extends AbstractBaseEntity, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt;,AbstractBaseRepositoryCustom {</p>\n<p>}</p>\n<pre><code>public interface AbstractBaseRepositoryCustom&lt;T extends AbstractBaseEntity,ID extends Serializable&gt; {\nList&lt;T&gt; findAllByFiter(String textQuery);\n</code></pre>\n<p>}</p>\n<pre><code>public class AbstractBaseRepositoryCustomImpl&lt;T extends AbstractBaseEntity,ID extends Serializable&gt;  implements AbstractBaseRepositoryCustom {\n@PersistenceContext\nEntityManager entityManager;\n\n\n@Override\npublic List findAllByFiter(String textQuery) {\n    Query query=entityManager.createQuery(textQuery);\n    return query.getResultList();\n}\n</code></pre>\n<p>}</p>\n<p>I don't know that the methods and wiring in my service class are correct. Is the repository installed correctly? Please help.</p>\n"},{"tags":["java","jwt"],"owner":{"account_id":22894818,"reputation":1,"user_id":17034485,"display_name":"vijayasarathi japa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675964233,"creation_date":1675964233,"question_id":75402416,"body_markdown":"Getting java.security.spec.InvalidKeyspecException: java.security.InvalidKeyException: IOException : aglid parse error, not a sequence\r\n\r\nOur application changed the dependency from bcprov-jdk15on to bc-fips and because of this change replaced BouncyCastleProvider to BouncyCastleFipsProvider.\r\n\r\nafter this change getting the exception as algid parse error, not a sequence.\r\n\r\nSample Code - \r\n```\r\njava.security.Security.addProvider(new org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider());\r\nString privateKey = &quot;xxx&quot;;\r\nbyte[] keyBites = DataypeConverter.parseBase64Binary(privateKey);\r\nPKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBites);\r\nKeyFactory kfac = KeyFactory.getInstance(&quot;RSA&quot;);\r\nkfac.generatePrivate(keySpec); // Getting exception on this line.\r\n```\r\n","title":"getting InvalidKeySpecException: java.security.InvalidKeyException: IOException : algid parse error, not a sequence","body":"<p>Getting java.security.spec.InvalidKeyspecException: java.security.InvalidKeyException: IOException : aglid parse error, not a sequence</p>\n<p>Our application changed the dependency from bcprov-jdk15on to bc-fips and because of this change replaced BouncyCastleProvider to BouncyCastleFipsProvider.</p>\n<p>after this change getting the exception as algid parse error, not a sequence.</p>\n<p>Sample Code -</p>\n<pre><code>java.security.Security.addProvider(new org.bouncycastle.jcajce.provider.BouncyCastleFipsProvider());\nString privateKey = &quot;xxx&quot;;\nbyte[] keyBites = DataypeConverter.parseBase64Binary(privateKey);\nPKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBites);\nKeyFactory kfac = KeyFactory.getInstance(&quot;RSA&quot;);\nkfac.generatePrivate(keySpec); // Getting exception on this line.\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1675964180,"post_id":75402386,"comment_id":133045849,"body_markdown":"`Caused by: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0` Install a later java version.","body":"<code>Caused by: java.lang.UnsupportedClassVersionError: net&#47;minecraft&#47;bundler&#47;Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0</code> Install a later java version."}],"answers":[{"comments":[{"owner":{"account_id":27746702,"reputation":21,"user_id":21182041,"display_name":"Hoggagf2"},"score":0,"creation_date":1675966102,"post_id":75402407,"comment_id":133046434,"body_markdown":"Why am I so stupid?\nAnyways, Thank you!","body":"Why am I so stupid? Anyways, Thank you!"}],"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1675964174,"creation_date":1675964174,"answer_id":75402407,"question_id":75402386,"body_markdown":"https://javaalmanac.io/bytecode/versions/\r\n\r\nYou&#39;re trying to run a java 17 program with java 8\r\n\r\nUpgrade your java installation to run it properly","title":"I am having problems with launching a minecraft server, An UnsupportedClassVersionError","body":"<p><a href=\"https://javaalmanac.io/bytecode/versions/\" rel=\"nofollow noreferrer\">https://javaalmanac.io/bytecode/versions/</a></p>\n<p>You're trying to run a java 17 program with java 8</p>\n<p>Upgrade your java installation to run it properly</p>\n"}],"owner":{"account_id":27746702,"reputation":21,"user_id":21182041,"display_name":"Hoggagf2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14241,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1676267048,"answer_count":1,"score":1,"last_activity_date":1675964174,"creation_date":1675964077,"question_id":75402386,"body_markdown":"\r\n```\r\nUncaught exception in thread &quot;main&quot;\r\njava.lang.RuntimeException: An exception occurred when launching the server!\r\n\tat net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:71)\r\nCaused by: java.lang.RuntimeException: Error invoking MC server bundler: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:102)\r\n\tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.locateGame(MinecraftGameProvider.java:190)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.createGameProvider(Knot.java:177)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.init(Knot.java:130)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:68)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23)\r\n\tat net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:69)\r\nCaused by: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n\tat net.fabricmc.loader.impl.game.minecraft.BundlerProcessor$1.loadClass(BundlerProcessor.java:65)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Unknown Source)\r\n\tat net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:85)\r\n\t... 6 more\r\n```\r\nIs the error code I get. I am launching a Fabric server, but normal server jars only give me &quot;A Java Exception has occurred&quot;.\r\n\r\nI am using Windows 11, that is probably part of the issue, and there might not be a fix, but I have to ask in case there is one. ","title":"I am having problems with launching a minecraft server, An UnsupportedClassVersionError","body":"<pre><code>Uncaught exception in thread &quot;main&quot;\njava.lang.RuntimeException: An exception occurred when launching the server!\n    at net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:71)\nCaused by: java.lang.RuntimeException: Error invoking MC server bundler: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:102)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.locateGame(MinecraftGameProvider.java:190)\n    at net.fabricmc.loader.impl.launch.knot.Knot.createGameProvider(Knot.java:177)\n    at net.fabricmc.loader.impl.launch.knot.Knot.init(Knot.java:130)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:68)\n    at net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23)\n    at net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:69)\nCaused by: java.lang.UnsupportedClassVersionError: net/minecraft/bundler/Main has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at net.fabricmc.loader.impl.game.minecraft.BundlerProcessor$1.loadClass(BundlerProcessor.java:65)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Unknown Source)\n    at net.fabricmc.loader.impl.game.minecraft.BundlerProcessor.process(BundlerProcessor.java:85)\n    ... 6 more\n</code></pre>\n<p>Is the error code I get. I am launching a Fabric server, but normal server jars only give me &quot;A Java Exception has occurred&quot;.</p>\n<p>I am using Windows 11, that is probably part of the issue, and there might not be a fix, but I have to ask in case there is one.</p>\n"},{"tags":["java","excel","spring","spring-boot","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":17303066,"reputation":187,"user_id":12532393,"display_name":"Anant Doshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675964120,"creation_date":1675964120,"answer_id":75402394,"question_id":75352382,"body_markdown":"Try this\r\n\r\n    int pictureIdx = workbook.addPicture(bytes, Workbook.PICTURE_TYPE_PNG);\r\n\r\n    CreationHelper helper = workbook.getCreationHelper();\r\n    ClientAnchor anchor = helper.createClientAnchor();\r\n\r\n    anchor.setCol1(colStart); //Col Start\r\n    anchor.setRow1(rowStart); //Row Start\r\n    anchor.setCol2(colEnd); //Col End\r\n    anchor.setRow2(rowEnd); //Row End\r\n\r\n    //create a picture anchored to Top-Left Corner\r\n    Drawing drawing = sheet.createDrawingPatriarch();\r\n    Picture pict = drawing.createPicture(anchor, pictureIdx);\r\n    pict.resize(1);","title":"how to resize image width and height in excel using apache poi in java","body":"<p>Try this</p>\n<pre><code>int pictureIdx = workbook.addPicture(bytes, Workbook.PICTURE_TYPE_PNG);\n\nCreationHelper helper = workbook.getCreationHelper();\nClientAnchor anchor = helper.createClientAnchor();\n\nanchor.setCol1(colStart); //Col Start\nanchor.setRow1(rowStart); //Row Start\nanchor.setCol2(colEnd); //Col End\nanchor.setRow2(rowEnd); //Row End\n\n//create a picture anchored to Top-Left Corner\nDrawing drawing = sheet.createDrawingPatriarch();\nPicture pict = drawing.createPicture(anchor, pictureIdx);\npict.resize(1);\n</code></pre>\n"}],"owner":{"account_id":27705846,"reputation":1,"user_id":21149516,"display_name":"Prabhanshu gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675964120,"creation_date":1675601597,"question_id":75352382,"body_markdown":"I used picture.resize that not worked\r\n\r\nIf the picture size is big that it become large i want that picture fit into the excel cell\r\nif picture is big that it will resize according to the cell i want a rectange cell\r\n\r\nhere is the picture of excel sheet\r\n[enter image description here](https://i.stack.imgur.com/wB8oI.png)\r\n\r\n\r\nhere is the code that i write i inster data in two column and three rows\r\ni made it static but data will come dynamically\r\n\r\npublic static void main(String[] args) throws IOException {\r\n\r\n        Workbook workbook = new HSSFWorkbook();\r\n        Sheet sheet = workbook.createSheet(&quot;My Sheet2&quot;);\r\n\r\n        Cell cell1 = sheet.createRow(0).createCell(0);\r\n        Cell cell2 = sheet.createRow(1).createCell(0);\r\n        cell1.setCellValue(&quot;this is Image1&quot;);\r\n        cell2.setCellValue(&quot;this is Image2&quot;);\r\n\r\n        InputStream inputStream1 = new FileInputStream(&quot;src/main/resources/Image1.png&quot;);\r\n        InputStream inputStream2 = new FileInputStream(&quot;src/main/resources/Image2.png&quot;);\r\n\r\n        byte[] inputImage1 = IOUtils.toByteArray(inputStream1);\r\n        byte[] inputImage2 = IOUtils.toByteArray(inputStream2);\r\n\r\n        int inputImagePicture1 = workbook.addPicture(inputImage1 , Workbook.PICTURE_TYPE_PNG);\r\n        int inputImagePicture2 = workbook.addPicture(inputImage2 , Workbook.PICTURE_TYPE_PNG);\r\n\r\n        inputStream1.close();\r\n        inputStream2.close();\r\n\r\n        CreationHelper helper = workbook.getCreationHelper();\r\n\r\n        Drawing&lt;?&gt; drawing = sheet.createDrawingPatriarch();\r\n\r\n        ClientAnchor forImage1 = helper.createClientAnchor();\r\n        ClientAnchor forImage2 = helper.createClientAnchor();\r\n\r\n\r\n        forImage1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n        forImage2.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\r\n\r\n        forImage1.setCol1(1);\r\n        forImage1.setCol2(2);\r\n        forImage1.setRow1(0);\r\n        forImage1.setRow2(1);\r\n\r\n        forImage2.setCol1(1);\r\n        forImage2.setCol2(2);\r\n        forImage2.setRow1(1);\r\n        forImage2.setRow2(2);\r\n\r\n         drawing.createPicture(forImage1 , inputImagePicture1);\r\n         drawing.createPicture(forImage2 , inputImagePicture2);\r\n\r\n\r\n        int widthUnit = 25*256;\r\n        sheet.setColumnWidth(1,widthUnit);\r\n\r\n        short heightUnit = 60*20;\r\n        cell1.getRow().setHeight(heightUnit);\r\n        cell2.getRow().setHeight(heightUnit);\r\n\r\n\r\n        for(int i=0; i&lt;3; i++){\r\n            sheet.autoSizeColumn(i);\r\n        }\r\n\r\n        try(FileOutputStream saveExcel = new FileOutputStream(&quot;target/newWorkbook.xls&quot;)) {\r\n              workbook.write(saveExcel);\r\n        }\r\n    }","title":"how to resize image width and height in excel using apache poi in java","body":"<p>I used picture.resize that not worked</p>\n<p>If the picture size is big that it become large i want that picture fit into the excel cell\nif picture is big that it will resize according to the cell i want a rectange cell</p>\n<p>here is the picture of excel sheet\n<a href=\"https://i.stack.imgur.com/wB8oI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>here is the code that i write i inster data in two column and three rows\ni made it static but data will come dynamically</p>\n<p>public static void main(String[] args) throws IOException {</p>\n<pre><code>    Workbook workbook = new HSSFWorkbook();\n    Sheet sheet = workbook.createSheet(&quot;My Sheet2&quot;);\n\n    Cell cell1 = sheet.createRow(0).createCell(0);\n    Cell cell2 = sheet.createRow(1).createCell(0);\n    cell1.setCellValue(&quot;this is Image1&quot;);\n    cell2.setCellValue(&quot;this is Image2&quot;);\n\n    InputStream inputStream1 = new FileInputStream(&quot;src/main/resources/Image1.png&quot;);\n    InputStream inputStream2 = new FileInputStream(&quot;src/main/resources/Image2.png&quot;);\n\n    byte[] inputImage1 = IOUtils.toByteArray(inputStream1);\n    byte[] inputImage2 = IOUtils.toByteArray(inputStream2);\n\n    int inputImagePicture1 = workbook.addPicture(inputImage1 , Workbook.PICTURE_TYPE_PNG);\n    int inputImagePicture2 = workbook.addPicture(inputImage2 , Workbook.PICTURE_TYPE_PNG);\n\n    inputStream1.close();\n    inputStream2.close();\n\n    CreationHelper helper = workbook.getCreationHelper();\n\n    Drawing&lt;?&gt; drawing = sheet.createDrawingPatriarch();\n\n    ClientAnchor forImage1 = helper.createClientAnchor();\n    ClientAnchor forImage2 = helper.createClientAnchor();\n\n\n    forImage1.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n    forImage2.setAnchorType(ClientAnchor.AnchorType.DONT_MOVE_AND_RESIZE);\n\n    forImage1.setCol1(1);\n    forImage1.setCol2(2);\n    forImage1.setRow1(0);\n    forImage1.setRow2(1);\n\n    forImage2.setCol1(1);\n    forImage2.setCol2(2);\n    forImage2.setRow1(1);\n    forImage2.setRow2(2);\n\n     drawing.createPicture(forImage1 , inputImagePicture1);\n     drawing.createPicture(forImage2 , inputImagePicture2);\n\n\n    int widthUnit = 25*256;\n    sheet.setColumnWidth(1,widthUnit);\n\n    short heightUnit = 60*20;\n    cell1.getRow().setHeight(heightUnit);\n    cell2.getRow().setHeight(heightUnit);\n\n\n    for(int i=0; i&lt;3; i++){\n        sheet.autoSizeColumn(i);\n    }\n\n    try(FileOutputStream saveExcel = new FileOutputStream(&quot;target/newWorkbook.xls&quot;)) {\n          workbook.write(saveExcel);\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","pyspark","pycharm"],"comments":[{"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"score":0,"creation_date":1656278504,"post_id":72763727,"comment_id":128526781,"body_markdown":"EDIT: Successfully installed py4j-0.10.9 i was using version 0.10.9 which caused the error, installed 3.3.0 spark too which fixed errors. Hopefully it helps someone else.","body":"EDIT: Successfully installed py4j-0.10.9 i was using version 0.10.9 which caused the error, installed 3.3.0 spark too which fixed errors. Hopefully it helps someone else."}],"answers":[{"tags":[],"owner":{"account_id":27746640,"reputation":1,"user_id":21181990,"display_name":"Paris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675964006,"creation_date":1675964006,"answer_id":75402366,"question_id":72763727,"body_markdown":"I had the same problem and I solved it installing java version 1.8. (The version  of py4j was 0.10.9 and the version of spark was 3.2.1).","title":"Py4JJavaError when initialises a spark session in anaconda pycharm enviroment","body":"<p>I had the same problem and I solved it installing java version 1.8. (The version  of py4j was 0.10.9 and the version of spark was 3.2.1).</p>\n"}],"owner":{"account_id":22628154,"reputation":121,"user_id":18776287,"display_name":"Paul Corcoran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675964006,"creation_date":1656264048,"question_id":72763727,"body_markdown":"java was installed in my anaconda enivorment by conda install -c cyclus java-jdk,\r\nI am on windows.\r\n\r\npyspark-2.4.4\r\nPython version = 3.10.4\r\njava version = [![Java][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KZ2Qd.png\r\n\r\n\r\nwhen i initilise a spark session I get the following error.\r\n\r\n    findspark.init()\r\n    \r\n    spark = SparkSession \\\r\n        .builder \\\r\n        .appName(&quot;CustomerChurn&quot;) \\\r\n        .master(&quot;local&quot;) \\\r\n        .config() \\\r\n        .getOrCreate()\r\n    \r\n    \r\n    Py4JJavaError: An error occurred while calling o16.set.\r\n    : java.lang.NullPointerException\r\n    \tat org.apache.spark.SparkConf.set(SparkConf.scala:106)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n    \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n    \tat py4j.Gateway.invoke(Gateway.java:282)\r\n    \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n    \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n    \tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n    \tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nI have not seen this error online, does anyone know what is the issue\r\n\r\n\r\n\r\n\r\nEDIT: issue resolved, I added a comment beneath","title":"Py4JJavaError when initialises a spark session in anaconda pycharm enviroment","body":"<p>java was installed in my anaconda enivorment by conda install -c cyclus java-jdk,\nI am on windows.</p>\n<p>pyspark-2.4.4\nPython version = 3.10.4\njava version = <a href=\"https://i.stack.imgur.com/KZ2Qd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KZ2Qd.png\" alt=\"Java\" /></a></p>\n<p>when i initilise a spark session I get the following error.</p>\n<pre><code>findspark.init()\n\nspark = SparkSession \\\n    .builder \\\n    .appName(&quot;CustomerChurn&quot;) \\\n    .master(&quot;local&quot;) \\\n    .config() \\\n    .getOrCreate()\n\n\nPy4JJavaError: An error occurred while calling o16.set.\n: java.lang.NullPointerException\n    at org.apache.spark.SparkConf.set(SparkConf.scala:106)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I have not seen this error online, does anyone know what is the issue</p>\n<p>EDIT: issue resolved, I added a comment beneath</p>\n"},{"tags":["java","spring","spring-boot","model","data-access"],"owner":{"account_id":23823934,"reputation":3,"user_id":17831266,"display_name":"lWubaLubaDubDubl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675963061,"creation_date":1675962536,"question_id":75402086,"body_markdown":"I&#39;m new to spring. so I want to check how can I check if the transaction commit or it fails.\r\nand also I want to know about debugging transactions.\r\n\r\n\r\nI have no clue. I checked transactionDetails, transactionSynchronization, etc.\r\nonly a hint would be great too.\r\n","title":"how to check if transaction is committed or not? and how can we debug transaction?","body":"<p>I'm new to spring. so I want to check how can I check if the transaction commit or it fails.\nand also I want to know about debugging transactions.</p>\n<p>I have no clue. I checked transactionDetails, transactionSynchronization, etc.\nonly a hint would be great too.</p>\n"},{"tags":["java","spring-boot","command-line"],"comments":[{"owner":{"account_id":12036483,"reputation":980,"user_id":8804776,"display_name":"Justin Mathew"},"score":0,"creation_date":1675741069,"post_id":75368243,"comment_id":132989442,"body_markdown":"I dont think its possible to do. In my understanding it will run at the time of startup","body":"I dont think its possible to do. In my understanding it will run at the time of startup"},{"owner":{"account_id":19964620,"reputation":3,"user_id":14631498,"display_name":"popchan"},"score":0,"creation_date":1675746736,"post_id":75368243,"comment_id":132990102,"body_markdown":"Is there any way to implement this other than CommandLineRunner?","body":"Is there any way to implement this other than CommandLineRunner?"},{"owner":{"account_id":12036483,"reputation":980,"user_id":8804776,"display_name":"Justin Mathew"},"score":0,"creation_date":1675749734,"post_id":75368243,"comment_id":132990491,"body_markdown":"May be you just expose as an API and access via command line using curl command","body":"May be you just expose as an API and access via command line using curl command"}],"answers":[{"tags":[],"owner":{"account_id":12439293,"reputation":159,"user_id":9058307,"display_name":"abetobing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675962845,"creation_date":1675962845,"answer_id":75402142,"question_id":75368243,"body_markdown":"What are you trying to achieve here?\r\n\r\n## Scheduler?\r\nIf you want to create a scheduled operation, you can utilize spring scheduler:\r\n\r\n```java\r\n@Configuration\r\n@EnableScheduling\r\npublic class SchedulerConfig {\r\n    ...\r\n}\r\n```\r\n\r\n```java\r\n@Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\r\npublic void scheduleHello() {\r\n\r\n    long now = System.currentTimeMillis() / 1000;\r\n    System.out.println(&quot;Hello - &quot; + now);\r\n\r\n}\r\n```\r\n\r\nhttps://www.baeldung.com/spring-scheduled-tasks\r\n\r\n---\r\n\r\n## Monitoring??\r\n\r\nIf your purpose is to monitor your springboot service health, you might want to try `spring-actuator`\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nyou can monitor your service health in:\r\n`/actuator/health` or `/health`\r\n\r\nhttps://www.baeldung.com/spring-boot-actuators","title":"SpringBoot RestAPI and CommandLine","body":"<p>What are you trying to achieve here?</p>\n<h2>Scheduler?</h2>\n<p>If you want to create a scheduled operation, you can utilize spring scheduler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableScheduling\npublic class SchedulerConfig {\n    ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\npublic void scheduleHello() {\n\n    long now = System.currentTimeMillis() / 1000;\n    System.out.println(&quot;Hello - &quot; + now);\n\n}\n</code></pre>\n<p><a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n<hr />\n<h2>Monitoring??</h2>\n<p>If your purpose is to monitor your springboot service health, you might want to try <code>spring-actuator</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>you can monitor your service health in:\n<code>/actuator/health</code> or <code>/health</code></p>\n<p><a href=\"https://www.baeldung.com/spring-boot-actuators\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-actuators</a></p>\n"}],"owner":{"account_id":19964620,"reputation":3,"user_id":14631498,"display_name":"popchan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75402142,"answer_count":1,"score":0,"last_activity_date":1675962845,"creation_date":1675734383,"question_id":75368243,"body_markdown":"I am currently creating a RestApi project in SpringBoot.\r\nWe would like to add a program to this project that can be run from the command line.\r\nSpecifically, the image is that a monitoring batch on the server executes this program periodically.\r\n\r\nI did some research on my own and thought it might be possible to implement this using CommandLineRunner.\r\n\r\nI did some research on my own and thought it might be possible to implement this using CommandLineRunner.\r\n\r\n\r\n```\r\n@Component\r\npublic class DemoComponent implements CommandLineRunner{\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\r\n\t\tSystem.out.println(&quot;Hello&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen I start springBoot, &quot;Hello&quot; is output to the console.\r\n[enter image description here](https://i.stack.imgur.com/u1r7C.png)\r\n\r\nWhat I would like is to run this process from the command line.\r\nPlease let me know.\r\n\r\n\r\n","title":"SpringBoot RestAPI and CommandLine","body":"<p>I am currently creating a RestApi project in SpringBoot.\nWe would like to add a program to this project that can be run from the command line.\nSpecifically, the image is that a monitoring batch on the server executes this program periodically.</p>\n<p>I did some research on my own and thought it might be possible to implement this using CommandLineRunner.</p>\n<p>I did some research on my own and thought it might be possible to implement this using CommandLineRunner.</p>\n<pre><code>@Component\npublic class DemoComponent implements CommandLineRunner{\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        System.out.println(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n<p>When I start springBoot, &quot;Hello&quot; is output to the console.\n<a href=\"https://i.stack.imgur.com/u1r7C.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>What I would like is to run this process from the command line.\nPlease let me know.</p>\n"},{"tags":["java","loops","for-loop","permutation"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675953771,"post_id":75400151,"comment_id":133041957,"body_markdown":"It’s not clear why reflection would be helpful. Split the string on commas, create the permutations. Which part is causing the issue?","body":"It’s not clear why reflection would be helpful. Split the string on commas, create the permutations. Which part is causing the issue?"},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675954030,"post_id":75400151,"comment_id":133042062,"body_markdown":"I was reccomended to use reflection as a way of &quot;getting&quot; the declared fields of the object i believe, to put them in an array and then cycle through them to get the permutations using a for loop. I know split automatically puts its results in an array, so was I just thinking about this way harder than I should have?","body":"I was reccomended to use reflection as a way of &quot;getting&quot; the declared fields of the object i believe, to put them in an array and then cycle through them to get the permutations using a for loop. I know split automatically puts its results in an array, so was I just thinking about this way harder than I should have?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675954490,"post_id":75400151,"comment_id":133042243,"body_markdown":"Why complicate things with reflection? In your example you use the values of the fields in the object. Just create a method in your class to return those values as array - `public String[] getAlleles() { return new String[] {field1, field2}; }`","body":"Why complicate things with reflection? In your example you use the values of the fields in the object. Just create a method in your class to return those values as array - <code>public String[] getAlleles() { return new String[] {field1, field2}; }</code>"},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675956312,"post_id":75400151,"comment_id":133042901,"body_markdown":"Would i still be able to do something like this even if the fields become arrays of two strings due to the split method being used?","body":"Would i still be able to do something like this even if the fields become arrays of two strings due to the split method being used?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675956345,"post_id":75400151,"comment_id":133042909,"body_markdown":"Without much context it&#39;s difficult to provide meaningful help. Do all implementations have two alleles? *(Tangential: any time there&#39;s variables w/ numeric part names a collection might be a better choice, e.g., a `Creature` would have a `List&lt;Allele&gt;`, which in this case might just be `List&lt;String&gt;`, but the idea is the same.)*","body":"Without much context it&#39;s difficult to provide meaningful help. Do all implementations have two alleles? <i>(Tangential: any time there&#39;s variables w/ numeric part names a collection might be a better choice, e.g., a <code>Creature</code> would have a <code>List&lt;Allele&gt;</code>, which in this case might just be <code>List&lt;String&gt;</code>, but the idea is the same.)</i>"},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675956758,"post_id":75400151,"comment_id":133043054,"body_markdown":"I&#39;m sorry. I thought I gave enough context. When you ask if all implementations have two alleles, are you asking if every object has only one string? because the string of the Mom creature has two alleles, just seperated by a comma...What I want to do is seperate them with split, and then possibly put them in an array of strings and then loop through them. I can do that, right? I&#39;m sorry. I don&#39;t know where else to ask for help, and I don&#39;t think I&#39;m good at giving enough information...","body":"I&#39;m sorry. I thought I gave enough context. When you ask if all implementations have two alleles, are you asking if every object has only one string? because the string of the Mom creature has two alleles, just seperated by a comma...What I want to do is seperate them with split, and then possibly put them in an array of strings and then loop through them. I can do that, right? I&#39;m sorry. I don&#39;t know where else to ask for help, and I don&#39;t think I&#39;m good at giving enough information..."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675956802,"post_id":75400151,"comment_id":133043068,"body_markdown":"@este Just combine the resulting arrays into one. Or combine them into a `List` so you don&#39;t have to copy the contents manually.","body":"@este Just combine the resulting arrays into one. Or combine them into a <code>List</code> so you don&#39;t have to copy the contents manually."},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675957053,"post_id":75400151,"comment_id":133043142,"body_markdown":"@Chaosfire i&#39;ll try that and see where it gets me, thank you deeply.","body":"@Chaosfire i&#39;ll try that and see where it gets me, thank you deeply."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675957319,"post_id":75400151,"comment_id":133043235,"body_markdown":"@este When I ask if all implementations *(of `Creature`)* will have two alleles I&#39;m asking if each impl will have two alleles. *(Allele representation is unrelated to combining/permuting them.)* It&#39;s not clear what specific issue you&#39;re having, but reflection at this point seems unnecessary.","body":"@este When I ask if all implementations <i>(of <code>Creature</code>)</i> will have two alleles I&#39;m asking if each impl will have two alleles. <i>(Allele representation is unrelated to combining/permuting them.)</i> It&#39;s not clear what specific issue you&#39;re having, but reflection at this point seems unnecessary."},{"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"score":0,"creation_date":1675967731,"post_id":75400151,"comment_id":133046979,"body_markdown":"Yes, they will. Sorry, I got a bit confused. The issue im having is, I just didn&#39;t really know how to get the final &quot;permutation results&quot; from a bunch of string parameters in an object, which will then be turned into a bunch of arrays due to the split method. I know how to loop through two arrays of strings, but not how to loop through parameters in an object that get split into arrays of strings.","body":"Yes, they will. Sorry, I got a bit confused. The issue im having is, I just didn&#39;t really know how to get the final &quot;permutation results&quot; from a bunch of string parameters in an object, which will then be turned into a bunch of arrays due to the split method. I know how to loop through two arrays of strings, but not how to loop through parameters in an object that get split into arrays of strings."}],"owner":{"account_id":27745087,"reputation":1,"user_id":21180749,"display_name":"este"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675962560,"creation_date":1675953415,"question_id":75400151,"body_markdown":"I&#39;m not very good at this, but I am trying to create a program in Java that creates a polyhybrid cross punnett square from the parameters of two objects, which are the parents. every parameter is a string that is user defined with a scanner.\r\n\r\nThese are the two objects that I have, modified for the purpose of this question (they actually have seven strings parameters that are its genetic traits and they are all filled in by the user with scanner)\r\n\r\n Creature Mom = new Creature(&quot;B,b&quot;);\r\n Creature Dad = new Creature(&quot;C,c&quot;);\r\n\r\nand I want to use a for loop to get the results &quot;BC, bC, Bc, bc&quot; in the console.\r\n\r\ni know i need to use a delimiter or split somewhere to get those results, But I haven&#39;t really gotten to that point yet.\r\n\r\n\r\nI&#39;ve managed to create a punnett square with two arrays of strings that i loop through, as is seen here,\r\n\r\n    //accept user input\r\n       Scanner alleles = new Scanner(System.in);\r\n          System.out.println(&quot;enter first allele in mother&#39;s allele pair: &quot;);\r\n          Mom.alleleOne = alleles.nextLine();\r\n          System.out.println(&quot;enter second allele in mother&#39;s allele pair: &quot;);\r\n          Mom.alleleTwo = alleles.nextLine(); \r\n          System.out.println(&quot;enter first allele in father&#39;s allele pair: &quot;);\r\n          Dad.alleleOne = alleles.nextLine();\r\n          System.out.println(&quot;enter second allele in father&#39;s allele pair: &quot;);\r\n          Dad.alleleTwo = alleles.nextLine();\r\n       //close scanner\r\n       alleles.close();\r\n       //arrays for parents data\r\n       String[] Mother = {Mom.alleleOne, Mom.alleleTwo};\r\n       String[] Father = {Dad.alleleOne, Dad.alleleTwo};\r\n       //display data\r\n       System.out.println(&quot;Mother Result: &quot; + Arrays.toString(Mother));\r\n       System.out.println(&quot;Father Result: &quot; + Arrays.toString(Father));\r\n       System.out.println(&quot;Possible children: &quot;);\r\n       // for loop to cycle through combinations\r\n       for (int i = 0; i &lt; Mother.length; i++) {\r\n          for (int j = 0; j &lt; Father.length; j++) {\r\n             System.out.println(Mother[i] + Father[j]);\r\n\r\n          }\r\n        }//end for\r\n\r\nBut i really think continuing with objects is my best bet here for continuing this project. I&#39;ve thought about using reflection, and turning an object into an array of its fields/parameters, but nothing seems to click in my mind. I hope what I&#39;m asking makes sense, I apologize if it doesn&#39;t. Thank you in advance.","title":"How would I loop through the parameters of two different objects in java, to show all possible combinations of said parameters?","body":"<p>I'm not very good at this, but I am trying to create a program in Java that creates a polyhybrid cross punnett square from the parameters of two objects, which are the parents. every parameter is a string that is user defined with a scanner.</p>\n<p>These are the two objects that I have, modified for the purpose of this question (they actually have seven strings parameters that are its genetic traits and they are all filled in by the user with scanner)</p>\n<p>Creature Mom = new Creature(&quot;B,b&quot;);\nCreature Dad = new Creature(&quot;C,c&quot;);</p>\n<p>and I want to use a for loop to get the results &quot;BC, bC, Bc, bc&quot; in the console.</p>\n<p>i know i need to use a delimiter or split somewhere to get those results, But I haven't really gotten to that point yet.</p>\n<p>I've managed to create a punnett square with two arrays of strings that i loop through, as is seen here,</p>\n<pre><code>//accept user input\n   Scanner alleles = new Scanner(System.in);\n      System.out.println(&quot;enter first allele in mother's allele pair: &quot;);\n      Mom.alleleOne = alleles.nextLine();\n      System.out.println(&quot;enter second allele in mother's allele pair: &quot;);\n      Mom.alleleTwo = alleles.nextLine(); \n      System.out.println(&quot;enter first allele in father's allele pair: &quot;);\n      Dad.alleleOne = alleles.nextLine();\n      System.out.println(&quot;enter second allele in father's allele pair: &quot;);\n      Dad.alleleTwo = alleles.nextLine();\n   //close scanner\n   alleles.close();\n   //arrays for parents data\n   String[] Mother = {Mom.alleleOne, Mom.alleleTwo};\n   String[] Father = {Dad.alleleOne, Dad.alleleTwo};\n   //display data\n   System.out.println(&quot;Mother Result: &quot; + Arrays.toString(Mother));\n   System.out.println(&quot;Father Result: &quot; + Arrays.toString(Father));\n   System.out.println(&quot;Possible children: &quot;);\n   // for loop to cycle through combinations\n   for (int i = 0; i &lt; Mother.length; i++) {\n      for (int j = 0; j &lt; Father.length; j++) {\n         System.out.println(Mother[i] + Father[j]);\n\n      }\n    }//end for\n</code></pre>\n<p>But i really think continuing with objects is my best bet here for continuing this project. I've thought about using reflection, and turning an object into an array of its fields/parameters, but nothing seems to click in my mind. I hope what I'm asking makes sense, I apologize if it doesn't. Thank you in advance.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14557518,"reputation":755,"user_id":10514633,"display_name":"Robin"},"score":0,"creation_date":1675961094,"post_id":75401775,"comment_id":133044774,"body_markdown":"Sounds stupid but have you tried disonnecting the phone and trying again? Restaring the phone/computer might also help :)","body":"Sounds stupid but have you tried disonnecting the phone and trying again? Restaring the phone/computer might also help :)"}],"answers":[{"comments":[{"owner":{"account_id":19338624,"reputation":359,"user_id":14138691,"display_name":"Antony Nicolas Huaman Alikhan"},"score":0,"creation_date":1675962163,"post_id":75401929,"comment_id":133045154,"body_markdown":"Have you tried to disconnect the phone and try again the steps above?","body":"Have you tried to disconnect the phone and try again the steps above?"}],"tags":[],"owner":{"account_id":19338624,"reputation":359,"user_id":14138691,"display_name":"Antony Nicolas Huaman Alikhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675961702,"creation_date":1675961702,"answer_id":75401929,"question_id":75401775,"body_markdown":"**First**:\r\nI recommend disabling and enabling USB debugging again\r\n\r\n**Second**:\r\nTry to revoke USB Debugging authorizations\r\n\r\n**Third**:\r\nIf the problem still persists, Try to play with those options [FIRST, SECOND]","title":"Android doesn&#39;t show on Android Studio","body":"<p><strong>First</strong>:\nI recommend disabling and enabling USB debugging again</p>\n<p><strong>Second</strong>:\nTry to revoke USB Debugging authorizations</p>\n<p><strong>Third</strong>:\nIf the problem still persists, Try to play with those options [FIRST, SECOND]</p>\n"}],"owner":{"account_id":23598172,"reputation":3,"user_id":17635046,"display_name":"John Williams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75401929,"answer_count":1,"score":0,"last_activity_date":1675961702,"creation_date":1675960975,"question_id":75401775,"body_markdown":"So I&#39;ve been trying to debug my phone and at first it worked but later when I disconnected the phone and tried later it stopped working, it just wasn&#39;t showing up and the question: &quot;Do you grant permission....&quot; stopped showing up too. I also checked USB debugging is on I don&#39;t know what could cause this problem, it worked before why not again?\r\n\r\nI checked if USB debugging is on, I also watched youtube videos on how to fix this and it wasn&#39;t helpful.","title":"Android doesn&#39;t show on Android Studio","body":"<p>So I've been trying to debug my phone and at first it worked but later when I disconnected the phone and tried later it stopped working, it just wasn't showing up and the question: &quot;Do you grant permission....&quot; stopped showing up too. I also checked USB debugging is on I don't know what could cause this problem, it worked before why not again?</p>\n<p>I checked if USB debugging is on, I also watched youtube videos on how to fix this and it wasn't helpful.</p>\n"},{"tags":["java","switch-statement","switch-expression"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1675933668,"post_id":75396340,"comment_id":133035420,"body_markdown":"in your first example, nothing is returned for Type_D, in your second example, there is still a default value returned","body":"in your first example, nothing is returned for Type_D, in your second example, there is still a default value returned"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1675934078,"post_id":75396340,"comment_id":133035540,"body_markdown":"what about using default, ex `default -&gt; Map.of();`","body":"what about using default, ex <code>default -&gt; Map.of();</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1675934121,"post_id":75396340,"comment_id":133035555,"body_markdown":"first one is a *switch expression* ([15.28. switch Expressions](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28)), second a *switch statement* ([14.11. The switch Statement](https://docs.oracle.com/javase/specs/jls/se19/html/jls-14.html#jls-14.11)), and more [explicitly](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28.1-100-B): &quot;*If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type,*&quot;","body":"first one is a <i>switch expression</i> (<a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">15.28. switch Expressions</a>), second a <i>switch statement</i> (<a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-14.html#jls-14.11\" rel=\"nofollow noreferrer\">14.11. The switch Statement</a>), and more <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.28.1-100-B\" rel=\"nofollow noreferrer\">explicitly</a>: &quot;<i>If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type,</i>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1675934444,"post_id":75396340,"comment_id":133035652,"body_markdown":"( in other words, an expression must always return a value [or throw an Exception]; a statement can do nothing ) ( BTW some IDEs show a warning [configurable in Eclipse] for the second case )","body":"( in other words, an expression must always return a value [or throw an Exception]; a statement can do nothing ) ( BTW some IDEs show a warning [configurable in Eclipse] for the second case )"}],"answers":[{"comments":[{"owner":{"account_id":263193,"reputation":4084,"user_id":548601,"accept_rate":84,"display_name":"andriy"},"score":0,"creation_date":1675935119,"post_id":75396557,"comment_id":133035874,"body_markdown":"thank you! I just not 100% agree with `A switch expression must be exhaustive (14.11.1.1), or a compile-time error occurs.`. That is what I basically want. When I add a new type to the enum, I&#39;d like to compiler warn me that I have to update the switch where this enum is used.","body":"thank you! I just not 100% agree with <code>A switch expression must be exhaustive (14.11.1.1), or a compile-time error occurs.</code>. That is what I basically want. When I add a new type to the enum, I&#39;d like to compiler warn me that I have to update the switch where this enum is used."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1675934837,"creation_date":1675934756,"answer_id":75396557,"question_id":75396340,"body_markdown":"When you use a `switch` as part of a `return`, it is a *switch expression*. But if you just put the `switch` randomly in the middle of a method, it is parsed as a *switch statement*. These have different rules. Importantly, *switch expressions* need to be exhaustive.\r\n\r\nFrom the [Java Language Specification][1]:\r\n\r\n&gt;  If the type of the selector expression is not an enum type, then there is exactly one default label associated with the switch block.\r\n&gt;\r\n&gt; If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type, and (ii) at most one default label is associated with the switch block.\r\n\r\nOn the other hand, [switch statements][2] do not have this restriction.\r\n\r\nIntuitively, *expressions* have to evaluate to a value, but statements don&#39;t have to. Therefore, switch expressions have to cover all cases. If they don&#39;t, then there will be situations where it can&#39;t evaluate to anything.\r\n\r\nIn the [preview specifications][3] of later versions of Java, the idea of an &quot;exhaustive switch&quot; is more clearly defined, because they now need to support pattern matching among other things.\r\n\r\n&gt; The switch block of a switch expression or switch statement is exhaustive for a selector expression of type T if either (i) the switch block contains a default switch label, or (ii) the set containing all the unguarded case elements supported by switch labels in the switch block is exhaustive for T, which is specified as follows: [...]\r\n\r\nAnd [later][4], \r\n\r\n&gt; A switch expression must be exhaustive (14.11.1.1), or a compile-time error occurs.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.28.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11.1\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.11.1.1\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-15.28.1","title":"java 17 &quot;&#39;switch&#39; expression does not cover all possible input values&quot; is not shown if there is no return","body":"<p>When you use a <code>switch</code> as part of a <code>return</code>, it is a <em>switch expression</em>. But if you just put the <code>switch</code> randomly in the middle of a method, it is parsed as a <em>switch statement</em>. These have different rules. Importantly, <em>switch expressions</em> need to be exhaustive.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.28.1\" rel=\"noreferrer\">Java Language Specification</a>:</p>\n<blockquote>\n<p>If the type of the selector expression is not an enum type, then there is exactly one default label associated with the switch block.</p>\n<p>If the type of the selector expression is an enum type, then (i) the set of the case constants associated with the switch block includes every enum constant of the enum type, and (ii) at most one default label is associated with the switch block.</p>\n</blockquote>\n<p>On the other hand, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.11.1\" rel=\"noreferrer\">switch statements</a> do not have this restriction.</p>\n<p>Intuitively, <em>expressions</em> have to evaluate to a value, but statements don't have to. Therefore, switch expressions have to cover all cases. If they don't, then there will be situations where it can't evaluate to anything.</p>\n<p>In the <a href=\"https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.11.1.1\" rel=\"noreferrer\">preview specifications</a> of later versions of Java, the idea of an &quot;exhaustive switch&quot; is more clearly defined, because they now need to support pattern matching among other things.</p>\n<blockquote>\n<p>The switch block of a switch expression or switch statement is exhaustive for a selector expression of type T if either (i) the switch block contains a default switch label, or (ii) the set containing all the unguarded case elements supported by switch labels in the switch block is exhaustive for T, which is specified as follows: [...]</p>\n</blockquote>\n<p>And <a href=\"https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-15.28.1\" rel=\"noreferrer\">later</a>,</p>\n<blockquote>\n<p>A switch expression must be exhaustive (14.11.1.1), or a compile-time error occurs.</p>\n</blockquote>\n"}],"owner":{"account_id":263193,"reputation":4084,"user_id":548601,"accept_rate":84,"display_name":"andriy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2207,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":75396557,"answer_count":1,"score":5,"last_activity_date":1675961151,"creation_date":1675933518,"question_id":75396340,"body_markdown":"I&#39;m developing with java 17 in IntelliJ 2022.2.\r\n\r\nIn some cases `&#39;switch&#39; expression does not cover all possible input values` is shown, but in some not. I&#39;d like to figure out why. \r\n\r\nLet&#39;s assume that `entityType` is an enum with 3 values and I&#39;m adding 4th one `TYPE_D`. So  I expect to see `&#39;switch&#39; expression does not cover all possible input values` errors where I use this enum in `switch`.\r\n\r\nWhen it is shown:\r\n```java\r\npublic Map&lt;String, String&gt; getRecordDetails() {\r\n    return switch (entityType) {\r\n        case TYPE_A -&gt; Map.of(&quot;A&quot;,&quot;A&quot;);\r\n        case TYPE_B -&gt; Map.of(&quot;B&quot;,&quot;B&quot;);\r\n        case TYPE_C -&gt; Map.of(&quot;C&quot;,&quot;C&quot;);\r\n    };\r\n}\r\n```\r\n\r\nnot shown:\r\n```java\r\npublic String getRecordDetails() {\r\n    StringBuilder stringBuilder = new StringBuilder();\r\n    switch (entityType) {\r\n        case TYPE_A -&gt; stringBuilder.append(&quot;A&quot;);\r\n        case TYPE_B -&gt; stringBuilder.append(&quot;B&quot;);\r\n        case TYPE_C -&gt; stringBuilder.append(&quot;C&quot;);\r\n    };\r\n    return stringBuilder.toString(); \r\n}\r\n```\r\n\r\nI see it is related when I do return of switch case, but why it is not shown when I have switch case inside of function&#39;s code? ","title":"java 17 &quot;&#39;switch&#39; expression does not cover all possible input values&quot; is not shown if there is no return","body":"<p>I'm developing with java 17 in IntelliJ 2022.2.</p>\n<p>In some cases <code>'switch' expression does not cover all possible input values</code> is shown, but in some not. I'd like to figure out why.</p>\n<p>Let's assume that <code>entityType</code> is an enum with 3 values and I'm adding 4th one <code>TYPE_D</code>. So  I expect to see <code>'switch' expression does not cover all possible input values</code> errors where I use this enum in <code>switch</code>.</p>\n<p>When it is shown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;String, String&gt; getRecordDetails() {\n    return switch (entityType) {\n        case TYPE_A -&gt; Map.of(&quot;A&quot;,&quot;A&quot;);\n        case TYPE_B -&gt; Map.of(&quot;B&quot;,&quot;B&quot;);\n        case TYPE_C -&gt; Map.of(&quot;C&quot;,&quot;C&quot;);\n    };\n}\n</code></pre>\n<p>not shown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getRecordDetails() {\n    StringBuilder stringBuilder = new StringBuilder();\n    switch (entityType) {\n        case TYPE_A -&gt; stringBuilder.append(&quot;A&quot;);\n        case TYPE_B -&gt; stringBuilder.append(&quot;B&quot;);\n        case TYPE_C -&gt; stringBuilder.append(&quot;C&quot;);\n    };\n    return stringBuilder.toString(); \n}\n</code></pre>\n<p>I see it is related when I do return of switch case, but why it is not shown when I have switch case inside of function's code?</p>\n"},{"tags":["java","json","loops","bson"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675961437,"post_id":75398824,"comment_id":133044890,"body_markdown":"technical note that may change how you search for solutions: once you parse it, it&#39;s no longer json or bson, it&#39;s just a pure java datastructure, and depending on what library you used to parse it, you have methods available to traverse and work with the tree. You&#39;re interested in how to work with the java data structure, you technically don&#39;t care about the json/bson you had before you turned it into running code. Or even that it started life as json/bson at all.","body":"technical note that may change how you search for solutions: once you parse it, it&#39;s no longer json or bson, it&#39;s just a pure java datastructure, and depending on what library you used to parse it, you have methods available to traverse and work with the tree. You&#39;re interested in how to work with the java data structure, you technically don&#39;t care about the json/bson you had before you turned it into running code. Or even that it started life as json/bson at all."}],"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675961001,"creation_date":1675946866,"question_id":75398824,"body_markdown":"I have a BasicBSONList which contains multiple BSON objects like\r\n\r\n\r\n```\r\n[{\r\n\t&quot;serverName&quot;: &quot;myServer&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group1&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group2&quot;\r\n}, {\r\n\t&quot;serverName&quot;: &quot;myServer2&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group2&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group3&quot;\r\n}, {\r\n\t&quot;serverName&quot;: &quot;myServer3&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group3&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group4&quot;\r\n}, {\r\n\t&quot;serverName&quot;: &quot;myServer4&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group4&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group5&quot;\r\n},{\r\n\t&quot;serverName&quot;: &quot;myServer5&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group5&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group2&quot;\r\n}]\r\n```\r\n\r\n\r\nAnd have a bson object from this list that failed to execute like\r\n\r\n```\r\n{\r\n\t&quot;serverName&quot;: &quot;myServer3&quot;,\r\n\t&quot;serverGroupName&quot;: &quot;group3&quot;,\r\n\t&quot;syncServerGroupName&quot;: &quot;group4&quot;\r\n}\r\n```\r\n\r\nSo as the failed object &quot;serverGroupName&quot; property value is the parent of &quot;myServer2&quot; in the list because for myServer2 &quot;syncServerGroupName&quot; property has &quot;group3&quot; as value. And similar to that myServer2 is the parent of 2 children i.e.. myServer, myServer5.\r\n\r\nNow I want to remove all these dependents from the list as their parent(myServer3) already failed to execute, hence we cannot execute children. Parent can have multiple children and children can also have multiple children and soo on. So if Parent failed to execute I need to remove all dependents from the list.","title":"Find all child json/bson node from parent json/bson node","body":"<p>I have a BasicBSONList which contains multiple BSON objects like</p>\n<pre><code>[{\n    &quot;serverName&quot;: &quot;myServer&quot;,\n    &quot;serverGroupName&quot;: &quot;group1&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group2&quot;\n}, {\n    &quot;serverName&quot;: &quot;myServer2&quot;,\n    &quot;serverGroupName&quot;: &quot;group2&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group3&quot;\n}, {\n    &quot;serverName&quot;: &quot;myServer3&quot;,\n    &quot;serverGroupName&quot;: &quot;group3&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group4&quot;\n}, {\n    &quot;serverName&quot;: &quot;myServer4&quot;,\n    &quot;serverGroupName&quot;: &quot;group4&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group5&quot;\n},{\n    &quot;serverName&quot;: &quot;myServer5&quot;,\n    &quot;serverGroupName&quot;: &quot;group5&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group2&quot;\n}]\n</code></pre>\n<p>And have a bson object from this list that failed to execute like</p>\n<pre><code>{\n    &quot;serverName&quot;: &quot;myServer3&quot;,\n    &quot;serverGroupName&quot;: &quot;group3&quot;,\n    &quot;syncServerGroupName&quot;: &quot;group4&quot;\n}\n</code></pre>\n<p>So as the failed object &quot;serverGroupName&quot; property value is the parent of &quot;myServer2&quot; in the list because for myServer2 &quot;syncServerGroupName&quot; property has &quot;group3&quot; as value. And similar to that myServer2 is the parent of 2 children i.e.. myServer, myServer5.</p>\n<p>Now I want to remove all these dependents from the list as their parent(myServer3) already failed to execute, hence we cannot execute children. Parent can have multiple children and children can also have multiple children and soo on. So if Parent failed to execute I need to remove all dependents from the list.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1585228613,"post_id":60867780,"comment_id":107691720,"body_markdown":"You need a repository per entity.","body":"You need a repository per entity."}],"answers":[{"tags":[],"owner":{"account_id":6840438,"reputation":1508,"user_id":5261030,"display_name":"Dmitrii Cheremisin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1585229003,"creation_date":1585229003,"answer_id":60868283,"question_id":60867780,"body_markdown":"According to Spring Data documentation you should have one repository for each entity  \r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition\r\n\r\nIn your case the only way to do your job is with Spring Data JPA:  \r\n\r\n    public interface CountryRepository extends CrudRepository&lt;Country, Integer&gt; {\r\n\r\n       public List&lt;Country&gt; findAllByOrderByCountryNameAsc();\r\n    }\r\n\r\n    public interface BlockAttackDetailRepository extends CrudRepository&lt;BlockAttackDetail, Integer&gt; {\r\n\r\n       public List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\r\n    }","title":"Can I have a single JPA repository interface handling multiple entity classes using Spring Data JPA?","body":"<p>According to Spring Data documentation you should have one repository for each entity  </p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition\" rel=\"noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.definition</a></p>\n\n<p>In your case the only way to do your job is with Spring Data JPA:  </p>\n\n<pre><code>public interface CountryRepository extends CrudRepository&lt;Country, Integer&gt; {\n\n   public List&lt;Country&gt; findAllByOrderByCountryNameAsc();\n}\n\npublic interface BlockAttackDetailRepository extends CrudRepository&lt;BlockAttackDetail, Integer&gt; {\n\n   public List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\n}\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6176,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60868283,"answer_count":1,"score":4,"last_activity_date":1675960957,"creation_date":1585227380,"question_id":60867780,"body_markdown":"I am not so into **Spring Data JPA** and I have the following problem working on a **Spring Boot** project. \r\n\r\nI have the following architectural doubt about how to correctly handle this kind of situation:\r\n\r\nI have a repository implemented by an interface like this in which I am defining my &quot;query methods&quot;:\r\n\r\n    public interface ExcelRepository extends CrudRepository&lt;Country, Integer&gt; {\r\n    \t\r\n    \tpublic List&lt;Country&gt; findAllByOrderByCountryNameAsc();\r\n    \r\n    \tpublic List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\r\n    }\r\n\r\nAs you can see I am extending the **CrudRepository** interface and I specified a single model class named **Country** mapping a specific table on my database.\r\n\r\nI added a second method working on another entity class (**BlockAttackDetail**) mapping a different database table.\r\n\r\nSo starting my application I obtain this error because this repository is intended only for the database table mapped by the **Country** entity class:\r\n\r\n    Caused by: org.springframework.data.mapping.PropertyReferenceException: No property attackTypeAcronym found for type Country!\r\n\r\nMy problem is: Do I have to create multiple JPA repositories interfaces (one for each entity) or exist a way to have a single JPA repository interface working on multiple entity classes?\r\n\r\nIn my specific case I will have few methods that will interact with a specific datbase table (with an entity) and I prefear have a single repository interface handling multiple entity classes (to avoid confusion).\r\n\r\nCan I do it in some way? And if I can do it make it sense from an architectural point of view or it is better have a specific JPA repository interface for each entity class? \r\n\r\n\r\n","title":"Can I have a single JPA repository interface handling multiple entity classes using Spring Data JPA?","body":"<p>I am not so into <strong>Spring Data JPA</strong> and I have the following problem working on a <strong>Spring Boot</strong> project.</p>\n<p>I have the following architectural doubt about how to correctly handle this kind of situation:</p>\n<p>I have a repository implemented by an interface like this in which I am defining my &quot;query methods&quot;:</p>\n<pre><code>public interface ExcelRepository extends CrudRepository&lt;Country, Integer&gt; {\n    \n    public List&lt;Country&gt; findAllByOrderByCountryNameAsc();\n\n    public List&lt;BlockAttackDetail&gt; findAllByOrderByAttackTypeAcronymAsc();\n}\n</code></pre>\n<p>As you can see I am extending the <strong>CrudRepository</strong> interface and I specified a single model class named <strong>Country</strong> mapping a specific table on my database.</p>\n<p>I added a second method working on another entity class (<strong>BlockAttackDetail</strong>) mapping a different database table.</p>\n<p>So starting my application I obtain this error because this repository is intended only for the database table mapped by the <strong>Country</strong> entity class:</p>\n<pre><code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property attackTypeAcronym found for type Country!\n</code></pre>\n<p>My problem is: Do I have to create multiple JPA repositories interfaces (one for each entity) or exist a way to have a single JPA repository interface working on multiple entity classes?</p>\n<p>In my specific case I will have few methods that will interact with a specific datbase table (with an entity) and I prefear have a single repository interface handling multiple entity classes (to avoid confusion).</p>\n<p>Can I do it in some way? And if I can do it make it sense from an architectural point of view or it is better have a specific JPA repository interface for each entity class?</p>\n"},{"tags":["java","javafx","tableview","itext7","classcastexception"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675950135,"post_id":75399136,"comment_id":133040489,"body_markdown":"If the slf4j stuff works then why is it in the question? Please keep the question focused—it’s unclear what the actual problem is. Is there an exception? Is the pdf file invalid? Both? How is slf4j involved?","body":"If the slf4j stuff works then why is it in the question? Please keep the question focused—it’s unclear what the actual problem is. Is there an exception? Is the pdf file invalid? Both? How is slf4j involved?"},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675950553,"post_id":75399136,"comment_id":133040673,"body_markdown":"@DaveNewton Now the problem is ClassCastException as the title suggests and I mentioned all these details to make clear how it all went, and what I am trying to do.","body":"@DaveNewton Now the problem is ClassCastException as the title suggests and I mentioned all these details to make clear how it all went, and what I am trying to do."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675950745,"post_id":75399136,"comment_id":133040744,"body_markdown":"@DaveNewton And yes pdf file is still invalid not showing any content.","body":"@DaveNewton And yes pdf file is still invalid not showing any content."},{"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"score":0,"creation_date":1675950849,"post_id":75399136,"comment_id":133040787,"body_markdown":"If you find that you are missing some jar files, then add them to your project (pom/gradle/manually).","body":"If you find that you are missing some jar files, then add them to your project (pom/gradle/manually)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675952111,"post_id":75399136,"comment_id":133041305,"body_markdown":"Obviously, `item`, which you get from iterating through `tableName.getItems()` is not an `int`. It&#39;s not clear what you want anyone to tell you that the stack trace is not already telling you.","body":"Obviously, <code>item</code>, which you get from iterating through <code>tableName.getItems()</code> is not an <code>int</code>. It&#39;s not clear what you want anyone to tell you that the stack trace is not already telling you."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675952410,"post_id":75399136,"comment_id":133041434,"body_markdown":"@James_D I want to print the TableView as a pdf document containing all the data in the table","body":"@James_D I want to print the TableView as a pdf document containing all the data in the table"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675952588,"post_id":75399136,"comment_id":133041499,"body_markdown":"Yes, we know that. But no-one can help you do that from the information you&#39;ve provided. As previously suggested, create (probably from scratch) a [mre] and [edit] your question to include it. The question actually has nothing to do with creating a PDF; the error arises from trying to iterate through the table cells incorrectly. So your mre should have no code related to the PDF, just try to iterate through the cells in the table, and display the content in the console, for example.","body":"Yes, we know that. But no-one can help you do that from the information you&#39;ve provided. As previously suggested, create (probably from scratch) a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and <a href=\"https://stackoverflow.com/posts/75399136/edit\">edit</a> your question to include it. The question actually has nothing to do with creating a PDF; the error arises from trying to iterate through the table cells incorrectly. So your mre should have no code related to the PDF, just try to iterate through the cells in the table, and display the content in the console, for example."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675953599,"post_id":75399136,"comment_id":133041880,"body_markdown":"If you use proper types for your `TableView`, instead of wildcards, and properly type `item`, instead of using `Object`, then you should be able to call [`column.getCellData(item)`](https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/TableColumnBase.html#getCellData(S)) directly.","body":"If you use proper types for your <code>TableView</code>, instead of wildcards, and properly type <code>item</code>, instead of using <code>Object</code>, then you should be able to call <a href=\"https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/TableColumnBase.html#getCellData(S)\" rel=\"nofollow noreferrer\"><code>column.getCellData(item)</code></a> directly."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675953652,"post_id":75399136,"comment_id":133041903,"body_markdown":"“How it went” isn’t related, and it’s very distracting. Questions should include only **relevant** information.","body":"“How it went” isn’t related, and it’s very distracting. Questions should include only <b>relevant</b> information."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675953893,"post_id":75399136,"comment_id":133042005,"body_markdown":"@DaveNewton Accept my apologies dear.","body":"@DaveNewton Accept my apologies dear."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675954026,"post_id":75399136,"comment_id":133042060,"body_markdown":"@James_D Will you please elaborate on it a little?","body":"@James_D Will you please elaborate on it a little?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675955742,"post_id":75399136,"comment_id":133042688,"body_markdown":"What is there to elaborate on? Use the correct type for the table view, not a wildcard. Then you can use the same type for `item`, and consequently call the method I linked. That&#39;s all there is to it.","body":"What is there to elaborate on? Use the correct type for the table view, not a wildcard. Then you can use the same type for <code>item</code>, and consequently call the method I linked. That&#39;s all there is to it."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675957454,"post_id":75399136,"comment_id":133043274,"body_markdown":"@James_D problem is here:                                                                                                                            for (int i = 0; i &lt; TableName.getItems().size(); i++) {\n\t\t                \n\t\t            \tfor (TableColumn&lt;ClassName(represents a record), ?&gt; column : TableName.getColumns()) {\n\t\t     \t\n\t\t                    pdfTable.addCell(column.getCellData(i).toString());\n\t\t                }}                                                                                                                  this  is the code that is causing a null exception","body":"@James_D problem is here:                                                                                                                            for (int i = 0; i &lt; TableName.getItems().size(); i++) { \t\t                 \t\t            \tfor (TableColumn&lt;ClassName(represents a record), ?&gt; column : TableName.getColumns()) { \t\t     \t \t\t                    pdfTable.addCell(column.getCellData(i).toString()); \t\t                }}                                                                                                                  this  is the code that is causing a null exception"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675958106,"post_id":75399136,"comment_id":133043546,"body_markdown":"And as I&#39;ve already indicated, there is not enough information in the question to tell you why that is. As I said already, the problem is that you&#39;re not able to iterate through the cells in the table. Solve that problem in isolation, without any of the distraction of the PDF etc, and then incorporate it into your actual project. Create a new project from scratch which does nothing except create a table with some dummy data, iterates through the cells, and print their content to the console. If you get stuck with that, then post *that* project in the question.","body":"And as I&#39;ve already indicated, there is not enough information in the question to tell you why that is. As I said already, the problem is that you&#39;re not able to iterate through the cells in the table. Solve that problem in isolation, without any of the distraction of the PDF etc, and then incorporate it into your actual project. Create a new project from scratch which does nothing except create a table with some dummy data, iterates through the cells, and print their content to the console. If you get stuck with that, then post <i>that</i> project in the question."}],"answers":[{"comments":[{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675951817,"post_id":75399640,"comment_id":133041180,"body_markdown":"pdfTable.addCell(column.getCellData(TableName.getItems().indexOf(item)).toString()); It didn&#39;t help. And I am trying to print all the items in Table not index, But Code Editor suggested me to cast item to int.","body":"pdfTable.addCell(column.getCellData(TableName.getItems().ind&zwnj;&#8203;exOf(item)).toString&zwnj;&#8203;()); It didn&#39;t help. And I am trying to print all the items in Table not index, But Code Editor suggested me to cast item to int."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675952276,"post_id":75399640,"comment_id":133041376,"body_markdown":"when placing this code &#39;pdfTable.addCell(column.getCellData(TableName.getItems().indexOf(item)).toString());&#39; it is giving NullPointerException &#39;java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javafx.scene.control.TableColumn.getCellData(int)&quot; is null\n\tat application.ClassName(controller).DownloadMethod(ClassName(controller).java:254)&#39;","body":"when placing this code &#39;pdfTable.addCell(column.getCellData(TableName.getItems().in&zwnj;&#8203;dexOf(item)).toStrin&zwnj;&#8203;g());&#39; it is giving NullPointerException &#39;java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javafx.scene.control.TableColumn.getCellData(int)&quot; is null \tat application.ClassName(controller).DownloadMethod(ClassName(c&zwnj;&#8203;ontroller).java:254)&zwnj;&#8203;&#39;"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1675952704,"post_id":75399640,"comment_id":133041541,"body_markdown":"@SarmadAli So why do you say &quot;It didn&#39;t help&quot;? It clearly did help, because the error you were originally getting went away. The fact that you got a different error means something else is also wrong in your code.","body":"@SarmadAli So why do you say &quot;It didn&#39;t help&quot;? It clearly did help, because the error you were originally getting went away. The fact that you got a different error means something else is also wrong in your code."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1675953020,"post_id":75399640,"comment_id":133041668,"body_markdown":"@James_D well, yes it helped indeed :)","body":"@James_D well, yes it helped indeed :)"}],"tags":[],"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675951004,"creation_date":1675951004,"answer_id":75399640,"question_id":75399136,"body_markdown":"    Exception while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\n    java.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\n        at application.className(Controller).DownloadMethod(className(Controller).java:254)\r\n\r\n  \r\n\r\nAs this stack trace suggests, the error occurs because you are trying  to cast the table item, which apparently is not an integer, to an integer at line number 254. Note that the method `TableView#getItems` returns an iterable object of type `ObservableList&lt;S&gt;`. \r\n\r\nYou need to fix the following line at the minimum:\r\n`pdfTable.addCell(column.getCellData((int) item).toString());`\r\n\r\nIt looks like you intend to add the index of the item in the table view rather than the item itself to your pdf table. Try this instead:\r\n\r\n`pdfTable.addCell(column.getCellData(TableName.getItems().indexOf(item)).toString());`","title":"JavaFX ClassCastException using iText PDF","body":"<pre><code>Exception while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\njava.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\n    at application.className(Controller).DownloadMethod(className(Controller).java:254)\n</code></pre>\n<p>As this stack trace suggests, the error occurs because you are trying  to cast the table item, which apparently is not an integer, to an integer at line number 254. Note that the method <code>TableView#getItems</code> returns an iterable object of type <code>ObservableList&lt;S&gt;</code>.</p>\n<p>You need to fix the following line at the minimum:\n<code>pdfTable.addCell(column.getCellData((int) item).toString());</code></p>\n<p>It looks like you intend to add the index of the item in the table view rather than the item itself to your pdf table. Try this instead:</p>\n<p><code>pdfTable.addCell(column.getCellData(TableName.getItems().indexOf(item)).toString());</code></p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1675961874,"post_id":75401700,"comment_id":133045044,"body_markdown":"java naming conventions .. now please ..","body":"java naming conventions .. now please .."}],"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675960617,"creation_date":1675960617,"answer_id":75401700,"question_id":75399136,"body_markdown":"Thanks to all! \r\nSpecial Thanks to @James_D \r\n\r\nThis is the code that is printing the pdf correctly.\r\n\r\n    @FXML\r\n\t public void DownloadButtonMethod(ActionEvent event) {\r\n\t\t \r\n\t\t    DirectoryChooser directoryChooser = new DirectoryChooser();\r\n\t\t    File selectedDirectory = directoryChooser.showDialog(TableName.getScene().getWindow());\r\n\t\t    if (selectedDirectory == null) {\r\n\t\t        return;\r\n\t\t    }\r\n\t\t    \r\n\t\t    \r\n\t\t    TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\r\n\t\t    dialog.setTitle(&quot;Enter File Name&quot;);\r\n\t\t    dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\r\n\t\t    dialog.setContentText(&quot;File name:&quot;);\r\n\t\t    Optional&lt;String&gt; result = dialog.showAndWait();\r\n\t\t    \r\n\t\t    if (result.isPresent()) {\r\n\t\t        try {\r\n\t\t            String fileName = result.get();\r\n\t\t            if (!fileName.endsWith(&quot;.pdf&quot;)) {\r\n\t\t                fileName = fileName + &quot;.pdf&quot;;\r\n\t\t            }\r\n\t\t            String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\r\n\t\t            OutputStream file = new FileOutputStream(filePath);\r\n\t\t            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\r\n\t\t            Document document = new Document(pdfDoc);\r\n\t\t            Table pdfTable = new Table(TableName.getColumns().size());\r\n\t\t            \r\n\t\t            try {\r\n\t\t            \t\r\n\t\t            for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\r\n\t\t                pdfTable.addCell(column.getText());\r\n\t\t            }\r\n\t\t            \r\n\t\t            }catch(Exception e) {\r\n\t\t            \tSystem.out.println(&quot;E1: &quot;+e);\r\n\t\t            \te.printStackTrace();\r\n\t\t            }\r\n\t\t            \r\n\t\t            \r\n\t\t            try {\r\n\t\t            \t\r\n\t\t            \tfor (int i = 0; i &lt; TableName.getItems().size(); i++) {\r\n\t\t            \t    for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\r\n\t\t            \t        try {\r\n\t\t            \t            pdfTable.addCell(column.getCellData(i).toString());\r\n\t\t            \t        } catch (NullPointerException e) {\r\n\t\t            \t            pdfTable.addCell(&quot;&quot;);\r\n\t\t            \t        }\r\n\t\t            \t    }\r\n\t\t            \t}\r\n\t\t            \t\r\n\t\t            } catch(Exception e) {\r\n\t\t            \tSystem.out.println(&quot;E2: &quot;+e);\r\n\t\t            \te.printStackTrace();\r\n\t\t            }\r\n\t\t\r\n\t\t            document.add(pdfTable);\r\n\t\t            document.close();\r\n\t\t        } catch (Exception e) {\r\n\t\t        \tSystem.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\r\n\t\t            e.printStackTrace();\r\n\t\t        }\r\n\t\t    }\r\n\t    }\r\n\r\n\r\nWe have handled the NullPointerException by checking if the object is null, if yes then we have added the empty string to it so it couldn&#39;t throw a NullPointerException. \r\nAnd the ClassCastException was caused because when I was trying to cast an object to a type that it is not compatible with.\r\nThen I placed className(contains records: i.e variables, constructor, and getters and setters) as a type instead of using wildcards in TabelColumn as suggested by @James_D.\r\n \r\nThanks Again :)\r\n","title":"JavaFX ClassCastException using iText PDF","body":"<p>Thanks to all!\nSpecial Thanks to @James_D</p>\n<p>This is the code that is printing the pdf correctly.</p>\n<pre><code>@FXML\n public void DownloadButtonMethod(ActionEvent event) {\n     \n        DirectoryChooser directoryChooser = new DirectoryChooser();\n        File selectedDirectory = directoryChooser.showDialog(TableName.getScene().getWindow());\n        if (selectedDirectory == null) {\n            return;\n        }\n        \n        \n        TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\n        dialog.setTitle(&quot;Enter File Name&quot;);\n        dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\n        dialog.setContentText(&quot;File name:&quot;);\n        Optional&lt;String&gt; result = dialog.showAndWait();\n        \n        if (result.isPresent()) {\n            try {\n                String fileName = result.get();\n                if (!fileName.endsWith(&quot;.pdf&quot;)) {\n                    fileName = fileName + &quot;.pdf&quot;;\n                }\n                String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\n                OutputStream file = new FileOutputStream(filePath);\n                PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\n                Document document = new Document(pdfDoc);\n                Table pdfTable = new Table(TableName.getColumns().size());\n                \n                try {\n                    \n                for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\n                    pdfTable.addCell(column.getText());\n                }\n                \n                }catch(Exception e) {\n                    System.out.println(&quot;E1: &quot;+e);\n                    e.printStackTrace();\n                }\n                \n                \n                try {\n                    \n                    for (int i = 0; i &lt; TableName.getItems().size(); i++) {\n                        for (TableColumn&lt;ClassName(holds records), ?&gt; column : TableName.getColumns()) {\n                            try {\n                                pdfTable.addCell(column.getCellData(i).toString());\n                            } catch (NullPointerException e) {\n                                pdfTable.addCell(&quot;&quot;);\n                            }\n                        }\n                    }\n                    \n                } catch(Exception e) {\n                    System.out.println(&quot;E2: &quot;+e);\n                    e.printStackTrace();\n                }\n    \n                document.add(pdfTable);\n                document.close();\n            } catch (Exception e) {\n                System.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>We have handled the NullPointerException by checking if the object is null, if yes then we have added the empty string to it so it couldn't throw a NullPointerException.\nAnd the ClassCastException was caused because when I was trying to cast an object to a type that it is not compatible with.\nThen I placed className(contains records: i.e variables, constructor, and getters and setters) as a type instead of using wildcards in TabelColumn as suggested by @James_D.</p>\n<p>Thanks Again :)</p>\n"}],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1675960617,"creation_date":1675948505,"question_id":75399136,"body_markdown":"I am trying to download a `TableView` in JavaFx as an pdf document. I am using iText 7.2.5 .  When I am clicking the button to download the `TableView`, it is asking me to select the folder then it is asking to write the name for the pdf document then after it; when I press ok to download the document, it downloads the pdf file that is unable to show any content even a blank page. When I open the pdf file with chrome it shows this, and I also tried to open with Adobe Acrobat, but situation is the same with pdf file.\r\n\r\n&gt;Error Failed to load PDF document.\r\n\r\nFirst, it was giving an exception for slf4j; then I added these jar files in classpath:\r\nslf4j-simple-2.0.6.jar , slf4j-api-2.0.6-javadoc.jar , slf4j-api-2.0.6.jar .\r\nIt was giving warning for provider not found or something like that; that was solved after adding slf4j-simple-2.0.6.jar.\r\n\r\nI saw a similar question here \r\nhttps://stackoverflow.com/questions/66039987/java-lang-noclassdeffounderror-org-slf4j-loggerfactory-problem.\r\n\r\nAnswer of this question is: \r\nIt turns out that it missed the following 3 jars : slf4j.api, slf4j-log4j12, and log4j\r\n\r\nIt works now after adding the above 3 jars.\r\n\r\nThese are all the files at org/slf4j\r\nintegration/                                                     -         -      \r\njcl-over-slf4j/                                                  -         -      \r\njcl104-over-slf4j/                                               -         -      \r\njul-to-slf4j/                                                    -         -      \r\nlog4j-over-slf4j/                                                -         -      \r\nnlog4j/                                                          -         -      \r\nosgi-over-slf4j/                                                 -         -      \r\nslf4j-android/                                                   -         -      \r\nslf4j-api/                                                       -         -      \r\nslf4j-archetype/                                                 -         -      \r\nslf4j-converter/                                                 -         -      \r\nslf4j-ext/                                                       -         -      \r\nslf4j-jcl/                                                       -         -      \r\nslf4j-jdk-platform-logging/                                      -         -      \r\nslf4j-jdk14/                                                     -         -      \r\nslf4j-log4j12/                                                   -         -      \r\nslf4j-log4j13/                                                   -         -      \r\nslf4j-migrator/                                                  -         -      \r\nslf4j-nop/                                                       -         -      \r\nslf4j-parent/                                                    -         -      \r\nslf4j-reload4j/                                                  -         -      \r\nslf4j-simple/                                                    -         -      \r\nslf4j-site/                                                      -         -      \r\nslf4j-skin/                                                      -         -      \r\ntaglib/                                                          -         -      \r\n\r\n\r\nlog4j-over-slf4j/  ---&gt; is it the file \tlog4j that is mentioned in reference answer to the question.\r\n\r\nI am unable to get  slf4j-log4j12.\r\n\r\nbecause org/slf4j/slf4j-log4j12/2.0.6 contains no jar file but this\r\n\r\nslf4j-log4j12-2.0.6.pom                           2022-12-12 19:14       873      \r\nslf4j-log4j12-2.0.6.pom.asc                       2022-12-12 19:14       317      \r\nslf4j-log4j12-2.0.6.pom.md5                       2022-12-12 19:14        32      \r\nslf4j-log4j12-2.0.6.pom.sha1  \r\n\r\nHere is the code on download button:\r\n\r\n    @FXML\r\n\tpublic void ButtonDownload(ActionEvent event) {\r\n\t\t \r\n\t    DirectoryChooser directoryChooser = new DirectoryChooser();\r\n\t    File selectedDirectory =                directoryChooser.showDialog(TableName.getScene().getWindow());\r\n\t    if (selectedDirectory == null) {\r\n\t        return;\r\n\t    }\r\n\t    \r\n\t    \r\n\t    TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\r\n\t    dialog.setTitle(&quot;Enter File Name&quot;);\r\n\t    dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\r\n\t    dialog.setContentText(&quot;File name:&quot;);\r\n\t    Optional&lt;String&gt; result = dialog.showAndWait();\r\n\t    \r\n\t    if (result.isPresent()) {\r\n\t        try {\r\n\t            String fileName = result.get();\r\n\t            if (!fileName.endsWith(&quot;.pdf&quot;)) {\r\n\t                fileName = fileName + &quot;.pdf&quot;;\r\n\t            }\r\n\t            String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\r\n\t            OutputStream file = new FileOutputStream(filePath);\r\n\t            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\r\n\t            Document document = new Document(pdfDoc);\r\n\t            Table pdfTable = new Table(TableName.getColumns().size());\r\n\t            \r\n\t            \r\n\t            for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\r\n\t                pdfTable.addCell(column.getText());\r\n\t            }\r\n\t            \r\n\t            for (Object item : TableName.getItems()) {\r\n\t            \t\r\n\t                for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\r\n\t                /*this line is line:254*/\r\n\t                    pdfTable.addCell(column.getCellData((int) item).toString());\r\n\t                    \r\n\t                }\r\n\t            }\r\n\t            document.add(pdfTable);\r\n\t            document.close();\r\n\t        } catch (Exception e) {\r\n\t        \tSystem.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\r\n\t            e.printStackTrace();\r\n\t        }\r\n\t    }\r\n    }\r\n\r\nThis is the StackTrace:\r\n\r\n```\r\nException while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\njava.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader &#39;app&#39;; java.lang.Integer is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat application.className(Controller).DownloadMethod(className(Controller).java:254)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\r\n\tat javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\n\r\nEDIT: 254 original code\r\n\r\n     pdfTable.addCell(column.getCellData(item).toString());\r\n\r\nbut then It asked to cast argument item to int like this \r\n\r\n     pdfTable.addCell(column.getCellData((int) item).toString());\r\n\r\nKindly help out to solve this.\r\n\r\n","title":"JavaFX ClassCastException using iText PDF","body":"<p>I am trying to download a <code>TableView</code> in JavaFx as an pdf document. I am using iText 7.2.5 .  When I am clicking the button to download the <code>TableView</code>, it is asking me to select the folder then it is asking to write the name for the pdf document then after it; when I press ok to download the document, it downloads the pdf file that is unable to show any content even a blank page. When I open the pdf file with chrome it shows this, and I also tried to open with Adobe Acrobat, but situation is the same with pdf file.</p>\n<blockquote>\n<p>Error Failed to load PDF document.</p>\n</blockquote>\n<p>First, it was giving an exception for slf4j; then I added these jar files in classpath:\nslf4j-simple-2.0.6.jar , slf4j-api-2.0.6-javadoc.jar , slf4j-api-2.0.6.jar .\nIt was giving warning for provider not found or something like that; that was solved after adding slf4j-simple-2.0.6.jar.</p>\n<p>I saw a similar question here\n<a href=\"https://stackoverflow.com/questions/66039987/java-lang-noclassdeffounderror-org-slf4j-loggerfactory-problem\">java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory problem</a>.</p>\n<p>Answer of this question is:\nIt turns out that it missed the following 3 jars : slf4j.api, slf4j-log4j12, and log4j</p>\n<p>It works now after adding the above 3 jars.</p>\n<p>These are all the files at org/slf4j\nintegration/                                                     -         -<br />\njcl-over-slf4j/                                                  -         -<br />\njcl104-over-slf4j/                                               -         -<br />\njul-to-slf4j/                                                    -         -<br />\nlog4j-over-slf4j/                                                -         -<br />\nnlog4j/                                                          -         -<br />\nosgi-over-slf4j/                                                 -         -<br />\nslf4j-android/                                                   -         -<br />\nslf4j-api/                                                       -         -<br />\nslf4j-archetype/                                                 -         -<br />\nslf4j-converter/                                                 -         -<br />\nslf4j-ext/                                                       -         -<br />\nslf4j-jcl/                                                       -         -<br />\nslf4j-jdk-platform-logging/                                      -         -<br />\nslf4j-jdk14/                                                     -         -<br />\nslf4j-log4j12/                                                   -         -<br />\nslf4j-log4j13/                                                   -         -<br />\nslf4j-migrator/                                                  -         -<br />\nslf4j-nop/                                                       -         -<br />\nslf4j-parent/                                                    -         -<br />\nslf4j-reload4j/                                                  -         -<br />\nslf4j-simple/                                                    -         -<br />\nslf4j-site/                                                      -         -<br />\nslf4j-skin/                                                      -         -<br />\ntaglib/                                                          -         -</p>\n<p>log4j-over-slf4j/  ---&gt; is it the file  log4j that is mentioned in reference answer to the question.</p>\n<p>I am unable to get  slf4j-log4j12.</p>\n<p>because org/slf4j/slf4j-log4j12/2.0.6 contains no jar file but this</p>\n<p>slf4j-log4j12-2.0.6.pom                           2022-12-12 19:14       873<br />\nslf4j-log4j12-2.0.6.pom.asc                       2022-12-12 19:14       317<br />\nslf4j-log4j12-2.0.6.pom.md5                       2022-12-12 19:14        32<br />\nslf4j-log4j12-2.0.6.pom.sha1</p>\n<p>Here is the code on download button:</p>\n<pre><code>@FXML\npublic void ButtonDownload(ActionEvent event) {\n     \n    DirectoryChooser directoryChooser = new DirectoryChooser();\n    File selectedDirectory =                directoryChooser.showDialog(TableName.getScene().getWindow());\n    if (selectedDirectory == null) {\n        return;\n    }\n    \n    \n    TextInputDialog dialog = new TextInputDialog(&quot;table&quot;);\n    dialog.setTitle(&quot;Enter File Name&quot;);\n    dialog.setHeaderText(&quot;Enter the name for the PDF file:&quot;);\n    dialog.setContentText(&quot;File name:&quot;);\n    Optional&lt;String&gt; result = dialog.showAndWait();\n    \n    if (result.isPresent()) {\n        try {\n            String fileName = result.get();\n            if (!fileName.endsWith(&quot;.pdf&quot;)) {\n                fileName = fileName + &quot;.pdf&quot;;\n            }\n            String filePath = selectedDirectory.getAbsolutePath() + &quot;/&quot; + fileName;\n            OutputStream file = new FileOutputStream(filePath);\n            PdfDocument pdfDoc = new PdfDocument(new PdfWriter(filePath));\n            Document document = new Document(pdfDoc);\n            Table pdfTable = new Table(TableName.getColumns().size());\n            \n            \n            for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\n                pdfTable.addCell(column.getText());\n            }\n            \n            for (Object item : TableName.getItems()) {\n                \n                for (TableColumn&lt;?, ?&gt; column : TableName.getColumns()) {\n                /*this line is line:254*/\n                    pdfTable.addCell(column.getCellData((int) item).toString());\n                    \n                }\n            }\n            document.add(pdfTable);\n            document.close();\n        } catch (Exception e) {\n            System.out.println(&quot;Exception while downloading pdf tableView: &quot;+e);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is the StackTrace:</p>\n<pre><code>Exception while downloading pdf tableView: java.lang.ClassCastException: class application.(className --&gt; that is the controller of the fxml file where the download button is placed) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\njava.lang.ClassCastException: class application.className(Controller) cannot be cast to class java.lang.Integer (application.className(Controller) is in unnamed module of loader 'app'; java.lang.Integer is in module java.base of loader 'bootstrap')\n    at application.className(Controller).DownloadMethod(className(Controller).java:254)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1852)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>EDIT: 254 original code</p>\n<pre><code> pdfTable.addCell(column.getCellData(item).toString());\n</code></pre>\n<p>but then It asked to cast argument item to int like this</p>\n<pre><code> pdfTable.addCell(column.getCellData((int) item).toString());\n</code></pre>\n<p>Kindly help out to solve this.</p>\n"},{"tags":["java","spring-boot","docker","integration-testing","apple-m1"],"comments":[{"owner":{"account_id":1567451,"reputation":3382,"user_id":1455919,"accept_rate":62,"display_name":"Chinthaka Dinadasa"},"score":0,"creation_date":1632070767,"post_id":69244638,"comment_id":122388685,"body_markdown":"Can&#39;t you use MariaDB instead of MySQL, I&#39;m running MariaDB latest in a Macbook M1 without an issue :) The same should be usable with Test containers as well.","body":"Can&#39;t you use MariaDB instead of MySQL, I&#39;m running MariaDB latest in a Macbook M1 without an issue :) The same should be usable with Test containers as well."},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1632072139,"post_id":69244638,"comment_id":122389006,"body_markdown":"please add `docker logs` for the DB container and the application container","body":"please add <code>docker logs</code> for the DB container and the application container"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632082558,"post_id":69244638,"comment_id":122391394,"body_markdown":"@ChinthakaDinadasa I can not because we use SQL in the production environment","body":"@ChinthakaDinadasa I can not because we use SQL in the production environment"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632083722,"post_id":69244638,"comment_id":122391628,"body_markdown":"@NoamYizraeli . Here it is [logs](https://pastebin.com/bLcxWXpP) . I am not sure if it DB and the application container or not . I found more than logs files , I got the logs under the name of **com.docker.backend.log**","body":"@NoamYizraeli . Here it is <a href=\"https://pastebin.com/bLcxWXpP\" rel=\"nofollow noreferrer\">logs</a> . I am not sure if it DB and the application container or not . I found more than logs files , I got the logs under the name of <b>com.docker.backend.log</b>"},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1632083958,"post_id":69244638,"comment_id":122391677,"body_markdown":"I&#39;m confused, are these for the DB container? If it&#39;s both please separate them. and where is com.docker.backend.log?","body":"I&#39;m confused, are these for the DB container? If it&#39;s both please separate them. and where is com.docker.backend.log?"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632160003,"post_id":69244638,"comment_id":122413246,"body_markdown":"@NoamYizraeli Sorry for late reply , There is no logs for DB container , as it is mentioned in the spring boot logs in the post . spring boot failed to pull SQL docker image and application failed to run .`&#39;2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] &#128051; [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)\n2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication            : Application run failed\norg.testcontainers.containers.ContainerLaunchException: Container startup failed`","body":"@NoamYizraeli Sorry for late reply , There is no logs for DB container , as it is mentioned in the spring boot logs in the post . spring boot failed to pull SQL docker image and application failed to run .<code>&#39;2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] 🐳 [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes&#47;0 bytes) 2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication            : Application run failed org.testcontainers.containers.ContainerLaunchException: Container startup failed</code>"},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1632168283,"post_id":69244638,"comment_id":122415970,"body_markdown":"Can you pull other images like `ubuntu` or `nginx`?","body":"Can you pull other images like <code>ubuntu</code> or <code>nginx</code>?"},{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":0,"creation_date":1632172728,"post_id":69244638,"comment_id":122417234,"body_markdown":"@NoamYizraeli I don&#39;t think test containers in spring boot supports pulling Ubuntu images . I don&#39;t know if you noticed that I mentioned I can pull sql docker image using docker pull command on the terminal , but it fails to pull it as test container using spring boot . the logs in pervious comment came from IntelliJ (spring boot ) while it tries to pull test container image","body":"@NoamYizraeli I don&#39;t think test containers in spring boot supports pulling Ubuntu images . I don&#39;t know if you noticed that I mentioned I can pull sql docker image using docker pull command on the terminal , but it fails to pull it as test container using spring boot . the logs in pervious comment came from IntelliJ (spring boot ) while it tries to pull test container image"}],"answers":[{"comments":[{"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"score":1,"creation_date":1676301438,"post_id":75401698,"comment_id":133104658,"body_markdown":"The have fixed M1 issue in the new releases if you the test containers fails to run on M1 . you  just need to migrate for testContiner new release","body":"The have fixed M1 issue in the new releases if you the test containers fails to run on M1 . you  just need to migrate for testContiner new release"}],"tags":[],"owner":{"account_id":213608,"reputation":1,"user_id":467089,"display_name":"SQLDBA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675960610,"creation_date":1675960610,"answer_id":75401698,"question_id":69244638,"body_markdown":"I&#39;m the current PM for Azure SQL Edge at Microsoft dropping by with an update to share. Docker Desktop v4.16 introduced beta support for the Virtualization framework, meaning you can now run x86/amd64 based SQL Server containers on M1/M2 silicon with macOS 13. This will be our recommended path for running SQL server containers on ARM based macOS going forward as it will enable you to develop against SQL Server 2017-2022 in addition to Azure SQL Edge. For a walkthrough on how to enable the feature and run a SQL Server 2022 container on macOS, check out https://devblogs.microsoft.com/azure-sql/development-with-sql-in-containers-on-macos/\r\n","title":"SQL Test Container Fails to start on MacBook M1","body":"<p>I'm the current PM for Azure SQL Edge at Microsoft dropping by with an update to share. Docker Desktop v4.16 introduced beta support for the Virtualization framework, meaning you can now run x86/amd64 based SQL Server containers on M1/M2 silicon with macOS 13. This will be our recommended path for running SQL server containers on ARM based macOS going forward as it will enable you to develop against SQL Server 2017-2022 in addition to Azure SQL Edge. For a walkthrough on how to enable the feature and run a SQL Server 2022 container on macOS, check out <a href=\"https://devblogs.microsoft.com/azure-sql/development-with-sql-in-containers-on-macos/\" rel=\"nofollow noreferrer\">https://devblogs.microsoft.com/azure-sql/development-with-sql-in-containers-on-macos/</a></p>\n"}],"owner":{"account_id":2211298,"reputation":174,"user_id":1953066,"display_name":"Omar Abo Elsoud"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2200,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1675960610,"creation_date":1632065169,"question_id":69244638,"body_markdown":"According to Docker official website , Docker doesn&#39;t support SQL image for M1 processors ; however , it supports installing it by passing &quot; --platform linux/x86_64 mysql&quot; . \r\n\r\nActually , SQL docker is pulled successfully using  this command \r\n\r\n    docker pull --platform linux/x86_64 mysql\r\n\r\nthe output :\r\n\r\n    Using default tag: latest\r\n    latest: Pulling from library/mysql\r\n    a330b6cecb98: Pull complete \r\n    9c8f656c32b8: Pull complete \r\n    88e473c3f553: Pull complete \r\n    062463ea5d2f: Pull complete \r\n    daf7e3bdf4b6: Pull complete \r\n    1839c0b7aac9: Pull complete \r\n    cf0a0cfee6d0: Pull complete \r\n    1b42041bb11e: Pull complete \r\n    10459d86c7e6: Pull complete \r\n    b7199599d5f9: Pull complete \r\n    1d6f51e17d45: Pull complete \r\n    50e0789bacad: Pull complete \r\n    Digest: sha256:99e0989e7e3797cfbdb8d51a19d32c8d286dd8862794d01a547651a896bcf00c\r\n    Status: Downloaded newer image for mysql:latest\r\n    docker.io/library/mysql:late\r\n\r\n\r\nNow , I want to use SQL container in my integration test , but docker fails to pull SQL.\r\n\r\nThe code used to initialize SQL test container \r\n\r\n    @DynamicPropertySource\r\n    static void dynamicPropertySource(DynamicPropertyRegistry dynamicPropertyRegistry) {\r\n        MySQLContainer&lt;?&gt; container = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.26&quot;)\r\n                       .withDatabaseName(&quot;sympl&quot;)\r\n                .withUsername(&quot;test&quot;)\r\n                .withPassword(&quot;test&quot;)\r\n                .withCommand(&quot;docker pull --platform linux/x86_64 mysql&quot;);\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, () -&gt; container.getJdbcUrl());\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, () -&gt; container.getUsername());\r\n        dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, () -&gt; container.getPassword());\r\n        container.start();\r\n\r\n        }\r\n    \r\n      \r\nI tried to write the code `withCommand()` and without `.withCommand`.\r\n    After I run the test cases , it gives fails with the following logs : \r\n    \r\n    \r\n    \r\n        17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.015 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3faf2e7d testClass = CustomerApiIntegrationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4648ce9 testClass = CustomerApiIntegrationTests, locations = &#39;{}&#39;, classes = &#39;{class com.sympl.customer.CustomersApplication}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{test}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@78fa769e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2c78324b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3fd11d55, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ca18a14, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@1ec9bd38, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cd1e646, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@aa1b54d2, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5890e879], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; false]], class annotated with @DirtiesContext [false] with mode [null].\r\n    17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\r\n    17:18:25.088 [main] DEBUG org.springframework.core.env.StandardEnvironment - Activating profiles [test]\r\n    17:18:25.094 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.5.3)\r\n    \r\n    2021-09-19 17:18:26.039  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\r\n    2021-09-19 17:18:27.294  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)\r\n    2021-09-19 17:18:27.299  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost\r\n    2021-09-19 17:18:27.365  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Connected to docker: \r\n      Server Version: 20.10.8\r\n      API Version: 1.41\r\n      Operating System: Docker Desktop\r\n      Total Memory: 1988 MB\r\n    2021-09-19 17:18:27.369  INFO 9715 --- [           main] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of &#39;ConfigurationFileImageNameSubstitutor&#39; and &#39;PrefixingImageNameSubstitutor&#39;)\r\n    2021-09-19 17:18:27.547  INFO 9715 --- [           main] o.t.utility.RegistryAuthLocator          : Credential helper/store (docker-credential-desktop) does not have credentials for index.docker.io\r\n    2021-09-19 17:18:28.202  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit\r\n    2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Checking the system...\r\n    2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0\r\n    2021-09-19 17:18:28.322  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker environment should have more than 2GB free disk space\r\n    2021-09-19 17:18:28.388  INFO 9715 --- [           main] &#128051; [mysql:8.0.26]                        : Pulling docker image: mysql:8.0.26. Please be patient; this may take some time but only needs to be done once.\r\n    2021-09-19 17:18:32.326  INFO 9715 --- [stream--1235448] &#128051; [mysql:8.0.26]                        : Starting to pull image\r\n    2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] &#128051; [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)\r\n    2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n    \tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:330) ~[testcontainers-1.15.3.jar:na]\r\n    \tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:311) ~[testcontainers-1.15.3.jar:na]\r\n    \tat com.sympl.customer.api.CustomerApiIntegrationTests.dynamicPropertySource(CustomerApiIntegrationTests.java:79) ~[test-classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\r\nHere is the docker [logs](https://pastebin.com/bLcxWXpP)\r\n\r\nI am sure there is a workaround for this , but I couldn&#39;t find it till now .\r\n\r\n\r\n\r\n\r\n\r\n","title":"SQL Test Container Fails to start on MacBook M1","body":"<p>According to Docker official website , Docker doesn't support SQL image for M1 processors ; however , it supports installing it by passing &quot; --platform linux/x86_64 mysql&quot; .</p>\n<p>Actually , SQL docker is pulled successfully using  this command</p>\n<pre><code>docker pull --platform linux/x86_64 mysql\n</code></pre>\n<p>the output :</p>\n<pre><code>Using default tag: latest\nlatest: Pulling from library/mysql\na330b6cecb98: Pull complete \n9c8f656c32b8: Pull complete \n88e473c3f553: Pull complete \n062463ea5d2f: Pull complete \ndaf7e3bdf4b6: Pull complete \n1839c0b7aac9: Pull complete \ncf0a0cfee6d0: Pull complete \n1b42041bb11e: Pull complete \n10459d86c7e6: Pull complete \nb7199599d5f9: Pull complete \n1d6f51e17d45: Pull complete \n50e0789bacad: Pull complete \nDigest: sha256:99e0989e7e3797cfbdb8d51a19d32c8d286dd8862794d01a547651a896bcf00c\nStatus: Downloaded newer image for mysql:latest\ndocker.io/library/mysql:late\n</code></pre>\n<p>Now , I want to use SQL container in my integration test , but docker fails to pull SQL.</p>\n<p>The code used to initialize SQL test container</p>\n<pre><code>@DynamicPropertySource\nstatic void dynamicPropertySource(DynamicPropertyRegistry dynamicPropertyRegistry) {\n    MySQLContainer&lt;?&gt; container = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.26&quot;)\n                   .withDatabaseName(&quot;sympl&quot;)\n            .withUsername(&quot;test&quot;)\n            .withPassword(&quot;test&quot;)\n            .withCommand(&quot;docker pull --platform linux/x86_64 mysql&quot;);\n    dynamicPropertyRegistry.add(&quot;spring.datasource.url&quot;, () -&gt; container.getJdbcUrl());\n    dynamicPropertyRegistry.add(&quot;spring.datasource.username&quot;, () -&gt; container.getUsername());\n    dynamicPropertyRegistry.add(&quot;spring.datasource.password&quot;, () -&gt; container.getPassword());\n    container.start();\n\n    }\n\n  \n</code></pre>\n<p>I tried to write the code <code>withCommand()</code> and without <code>.withCommand</code>.\nAfter I run the test cases , it gives fails with the following logs :</p>\n<pre><code>    17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.003 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.005 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.015 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@3faf2e7d testClass = CustomerApiIntegrationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4648ce9 testClass = CustomerApiIntegrationTests, locations = '{}', classes = '{class com.sympl.customer.CustomersApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@78fa769e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2c78324b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3fd11d55, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6ca18a14, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@1ec9bd38, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@cd1e646, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@aa1b54d2, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@5890e879], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; false]], class annotated with @DirtiesContext [false] with mode [null].\n17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.021 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.sympl.customer.api.CustomerApiIntegrationTests]\n17:18:25.088 [main] DEBUG org.springframework.core.env.StandardEnvironment - Activating profiles [test]\n17:18:25.094 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.5.3)\n\n2021-09-19 17:18:26.039  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first\n2021-09-19 17:18:27.294  INFO 9715 --- [           main] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)\n2021-09-19 17:18:27.299  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost\n2021-09-19 17:18:27.365  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Connected to docker: \n  Server Version: 20.10.8\n  API Version: 1.41\n  Operating System: Docker Desktop\n  Total Memory: 1988 MB\n2021-09-19 17:18:27.369  INFO 9715 --- [           main] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')\n2021-09-19 17:18:27.547  INFO 9715 --- [           main] o.t.utility.RegistryAuthLocator          : Credential helper/store (docker-credential-desktop) does not have credentials for index.docker.io\n2021-09-19 17:18:28.202  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit\n2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : Checking the system...\n2021-09-19 17:18:28.203  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0\n2021-09-19 17:18:28.322  INFO 9715 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker environment should have more than 2GB free disk space\n2021-09-19 17:18:28.388  INFO 9715 --- [           main] 🐳 [mysql:8.0.26]                        : Pulling docker image: mysql:8.0.26. Please be patient; this may take some time but only needs to be done once.\n2021-09-19 17:18:32.326  INFO 9715 --- [stream--1235448] 🐳 [mysql:8.0.26]                        : Starting to pull image\n2021-09-19 17:18:32.369  INFO 9715 --- [stream--1235448] 🐳 [mysql:8.0.26]                        : Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)\n2021-09-19 17:18:32.422 ERROR 9715 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:330) ~[testcontainers-1.15.3.jar:na]\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:311) ~[testcontainers-1.15.3.jar:na]\n    at com.sympl.customer.api.CustomerApiIntegrationTests.dynamicPropertySource(CustomerApiIntegrationTests.java:79) ~[test-classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n</code></pre>\n<p>Here is the docker <a href=\"https://pastebin.com/bLcxWXpP\" rel=\"nofollow noreferrer\">logs</a></p>\n<p>I am sure there is a workaround for this , but I couldn't find it till now .</p>\n"},{"tags":["java","sql","oop"],"comments":[{"owner":{"account_id":8578263,"reputation":197,"user_id":6426884,"display_name":"Pedro Cavalheiro"},"score":1,"creation_date":1675956484,"post_id":75400707,"comment_id":133042955,"body_markdown":"Is getColumns always returning the same result? You might be able to turn it into a static final Map and avoid these issues, having extra peace of mind that only a subset of approved strings can be returned. Not to mention the obvious performance boost.","body":"Is getColumns always returning the same result? You might be able to turn it into a static final Map and avoid these issues, having extra peace of mind that only a subset of approved strings can be returned. Not to mention the obvious performance boost."},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":0,"creation_date":1675957231,"post_id":75400707,"comment_id":133043200,"body_markdown":"@PedroCavalheiro Sadly, it&#39;s not a fixed result for each Child class, it will remain the same most of the time but can occasionally change with other columns under a few specific conditions, however this could be a solution at least for the table name part.","body":"@PedroCavalheiro Sadly, it&#39;s not a fixed result for each Child class, it will remain the same most of the time but can occasionally change with other columns under a few specific conditions, however this could be a solution at least for the table name part."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1675957620,"post_id":75400707,"comment_id":133043329,"body_markdown":"You have implemented SQL Injection... intentionally? I would suggest you get rid of that piece of code, and use a safe ORM instead.","body":"You have implemented SQL Injection... intentionally? I would suggest you get rid of that piece of code, and use a safe ORM instead."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":1,"creation_date":1675957827,"post_id":75400707,"comment_id":133043415,"body_markdown":"&quot;...there is no way for a user to interfere in any way with the returned values of those methods...&quot; -- well, yes, today. The next developer that works wit the code next year won&#39;t know about this and could happily inject bad data in them. Be safe, don&#39;t concatenate SQL statements and use parameterized queries instead.","body":"&quot;...there is no way for a user to interfere in any way with the returned values of those methods...&quot; -- well, yes, today. The next developer that works wit the code next year won&#39;t know about this and could happily inject bad data in them. Be safe, don&#39;t concatenate SQL statements and use parameterized queries instead."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1675958709,"post_id":75400707,"comment_id":133043795,"body_markdown":"Parameterized queries will not help with things like dynamic column selection or table names, those are not bindable in jdbc. My personal way of handling these is to have `.sql` files with the query parameters already made out, and then loading those files at runtime (so you reference a query name instead of putting SQL into Java code). However, for the situation OP faces, short of files for every permutation this is the only way. An ORM or dynamic query builder will end up doing this under the hood anyhow, so it&#39;s a question of how to isolate these so user input doesn&#39;t make it there.","body":"Parameterized queries will not help with things like dynamic column selection or table names, those are not bindable in jdbc. My personal way of handling these is to have <code>.sql</code> files with the query parameters already made out, and then loading those files at runtime (so you reference a query name instead of putting SQL into Java code). However, for the situation OP faces, short of files for every permutation this is the only way. An ORM or dynamic query builder will end up doing this under the hood anyhow, so it&#39;s a question of how to isolate these so user input doesn&#39;t make it there."},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":1,"creation_date":1675958960,"post_id":75400707,"comment_id":133043909,"body_markdown":"@TheImpaler Normally I&#39;d agree with this, but in this case the parametrized part concern the columns and table name, which can&#39;t be passed using prepared statements. However, the part of considering what could the next developer do is still a good point that I didn&#39;t consider.","body":"@TheImpaler Normally I&#39;d agree with this, but in this case the parametrized part concern the columns and table name, which can&#39;t be passed using prepared statements. However, the part of considering what could the next developer do is still a good point that I didn&#39;t consider."}],"answers":[{"tags":[],"owner":{"account_id":8578263,"reputation":197,"user_id":6426884,"display_name":"Pedro Cavalheiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675960527,"creation_date":1675958197,"answer_id":75401177,"question_id":75400707,"body_markdown":"Reflect whether this isn&#39;t a design flaw on your inheritance model. If it isn&#39;t, well, stick with the solution that&#39;s less likely to introduce errors.\r\n\r\nWarnings are just that, warnings, you may proceed with caution. Having a lot of code duplication is more likely to introduce errors, in my personal experience. But make sure the methods are actually 100% controlled by you. Make the possible security concerns clear in the documentation, both for you and future maintainers. That documentation will serve to avoid having it being falsely flagged as a security flaw and to help prevent someone from introducing that same security flaw. As referenced in the comments, pass as many things as you can to a Set or another data structure that maps a specific input to a specific output, with special attention to the special output, both for performance reasons and some peace of mind.\r\n\r\nSee https://stackoverflow.com/questions/3135973/variable-column-names-using-prepared-statements for a similar question.","title":"Balance between maintenability and security with SQL code in Java program","body":"<p>Reflect whether this isn't a design flaw on your inheritance model. If it isn't, well, stick with the solution that's less likely to introduce errors.</p>\n<p>Warnings are just that, warnings, you may proceed with caution. Having a lot of code duplication is more likely to introduce errors, in my personal experience. But make sure the methods are actually 100% controlled by you. Make the possible security concerns clear in the documentation, both for you and future maintainers. That documentation will serve to avoid having it being falsely flagged as a security flaw and to help prevent someone from introducing that same security flaw. As referenced in the comments, pass as many things as you can to a Set or another data structure that maps a specific input to a specific output, with special attention to the special output, both for performance reasons and some peace of mind.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/3135973/variable-column-names-using-prepared-statements\">Variable column names using prepared statements</a> for a similar question.</p>\n"}],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675959268,"answer_count":1,"score":0,"last_activity_date":1675960527,"creation_date":1675956050,"question_id":75400707,"body_markdown":"I&#39;m in a situation where I have a parent class\r\n```java\r\nclass Parent&lt;T extends Entity&gt; {\r\n    ...\r\n    public List&lt;T&gt; selectSomething() {\r\n         String sql = &quot;SELECT &quot; + getColumns() + &quot; FROM &quot; + getTable() + &quot; WHERE ...&quot;;     \r\n         TypedQuery&lt;T&gt; query = this.entityManager.createQuery(sql, T.class);\r\n         return query.getResultList();\r\n    }\r\n\r\n\r\n}\r\n```\r\n*(For sake of simplicity, there is only a method described but in practice there are more with the same format)*\r\n\r\nAnd many child classes : \r\n```java \r\nclass Child1 extends Parent&lt;EntityChild1&gt; { ... }\r\nclass Child2 extends Parent&lt;EntityChild2&gt; { ... }\r\n...\r\nclass Child50 extends Parent&lt;EntityChild50&gt; { ... }\r\n```\r\n\r\n\r\nMy issue is that this piece of code in the `Parent` is detected as a security issue by tools like SonarQube for possible SQL injection, and this warning is a blocking point that I need to correct or bypass.\r\n\r\nI precise the both method getColumns() and getTables() are 100% controlled by me and I do know for sure that there is no way for a user to interfere in any way with the returned values of those methods. So even if it&#39;s detected as SQL injection, I do know it&#39;s not one.\r\n\r\nTo fix this, I can&#39;t just use a prepared statement since the whole point of a prepared statement is to prevent to inject SQL code, so you can&#39;t use them for dynamic columns name or table name. \r\n\r\nI&#39;m considering two options : \r\n 1. Make the `selectSomething` method from the `Parent` abstract and reimplement it in each child with a fixed string for the request directly containing the table name and columns name. \\\r\nThis would work fine and fix the warning, but due to the high number of `Child` it makes the code much less maintainable and evolutive (especially considering that the number of `Child` class could increase over time).\r\n\r\n 2. Simply let it as is and use a `@SupressWarning` annotation in the `selectSomething` method from the `Parent` this make the tools like SonarQube ignore this. \\\r\nAgain, it&#39;s a solution that would work but which is not very clean and filling code with many `@SupressWarning` is a bad practice.\r\n\r\n\r\nIs there any good way to handle this situation ? If not, is there any reason I should stick with a solution above the other ? ","title":"Balance between maintenability and security with SQL code in Java program","body":"<p>I'm in a situation where I have a parent class</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Parent&lt;T extends Entity&gt; {\n    ...\n    public List&lt;T&gt; selectSomething() {\n         String sql = &quot;SELECT &quot; + getColumns() + &quot; FROM &quot; + getTable() + &quot; WHERE ...&quot;;     \n         TypedQuery&lt;T&gt; query = this.entityManager.createQuery(sql, T.class);\n         return query.getResultList();\n    }\n\n\n}\n</code></pre>\n<p><em>(For sake of simplicity, there is only a method described but in practice there are more with the same format)</em></p>\n<p>And many child classes :</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Child1 extends Parent&lt;EntityChild1&gt; { ... }\nclass Child2 extends Parent&lt;EntityChild2&gt; { ... }\n...\nclass Child50 extends Parent&lt;EntityChild50&gt; { ... }\n</code></pre>\n<p>My issue is that this piece of code in the <code>Parent</code> is detected as a security issue by tools like SonarQube for possible SQL injection, and this warning is a blocking point that I need to correct or bypass.</p>\n<p>I precise the both method getColumns() and getTables() are 100% controlled by me and I do know for sure that there is no way for a user to interfere in any way with the returned values of those methods. So even if it's detected as SQL injection, I do know it's not one.</p>\n<p>To fix this, I can't just use a prepared statement since the whole point of a prepared statement is to prevent to inject SQL code, so you can't use them for dynamic columns name or table name.</p>\n<p>I'm considering two options :</p>\n<ol>\n<li><p>Make the <code>selectSomething</code> method from the <code>Parent</code> abstract and reimplement it in each child with a fixed string for the request directly containing the table name and columns name. <br />\nThis would work fine and fix the warning, but due to the high number of <code>Child</code> it makes the code much less maintainable and evolutive (especially considering that the number of <code>Child</code> class could increase over time).</p>\n</li>\n<li><p>Simply let it as is and use a <code>@SupressWarning</code> annotation in the <code>selectSomething</code> method from the <code>Parent</code> this make the tools like SonarQube ignore this. <br />\nAgain, it's a solution that would work but which is not very clean and filling code with many <code>@SupressWarning</code> is a bad practice.</p>\n</li>\n</ol>\n<p>Is there any good way to handle this situation ? If not, is there any reason I should stick with a solution above the other ?</p>\n"},{"tags":["java","spring-boot","gradle","compilation"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675937470,"post_id":75396291,"comment_id":133036637,"body_markdown":"`app/libs` is not the same as `libs`. Where is your `build.gradle` relative to the `app` directory?","body":"<code>app&#47;libs</code> is not the same as <code>libs</code>. Where is your <code>build.gradle</code> relative to the <code>app</code> directory?"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1675945000,"post_id":75396291,"comment_id":133038933,"body_markdown":"@JoachimSauer It is present in the same hierarchy as the ```build.gradle``` file","body":"@JoachimSauer It is present in the same hierarchy as the <code>build.gradle</code> file"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1675945516,"post_id":75396291,"comment_id":133039072,"body_markdown":"I tried to change the `build.gradle` to `implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;app/libs&#39;)` and I am able to access the `external-jar.jar` when I try to edit the code, but the compilation fails with the `ClassNotFoundException`.","body":"I tried to change the <code>build.gradle</code> to <code>implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;app&#47;libs&#39;)</code> and I am able to access the <code>external-jar.jar</code> when I try to edit the code, but the compilation fails with the <code>ClassNotFoundException</code>."}],"answers":[{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675960335,"creation_date":1675960335,"answer_id":75401636,"question_id":75396291,"body_markdown":"You can configure the `app/libs` directory as a [Gradle repository][1]: \r\n\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n    flatDir {\r\n        dirs &#39;app/libs&#39;\r\n    }\r\n}\r\n```\r\n\r\nThen declare the dependency like this: \r\n\r\n```\r\ndependencies {\r\n    implementation name: &#39;external-jar&#39;\r\n}\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html#sub:flat_dir_resolver","title":"Why am I not able to access the jar file in my gradle project?","body":"<p>You can configure the <code>app/libs</code> directory as a <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html#sub:flat_dir_resolver\" rel=\"nofollow noreferrer\">Gradle repository</a>:</p>\n<pre><code>repositories {\n    mavenCentral()\n    flatDir {\n        dirs 'app/libs'\n    }\n}\n</code></pre>\n<p>Then declare the dependency like this:</p>\n<pre><code>dependencies {\n    implementation name: 'external-jar'\n}\n</code></pre>\n"}],"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675960335,"creation_date":1675933295,"question_id":75396291,"body_markdown":"I have a springboot project that uses gradle. I am trying to add an external jar file locally and access it within the application. I have done the following:\r\n\r\n1. Created ```app/libs``` folder and placed my ```external-jar.jar``` file in it.\r\n2. In my ```build.gradle``` file I have added this line: ```implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)```\r\n\r\nI am unable to access the classes of the external jar in my application. I am not sure what I am doing wrong.\r\n\r\nAny input would help, thanks!\r\n\r\nJava: 11\r\nSpringboot: 2.7.9\r\nIDE: Intellij\r\nGradle: 6.8","title":"Why am I not able to access the jar file in my gradle project?","body":"<p>I have a springboot project that uses gradle. I am trying to add an external jar file locally and access it within the application. I have done the following:</p>\n<ol>\n<li>Created <code>app/libs</code> folder and placed my <code>external-jar.jar</code> file in it.</li>\n<li>In my <code>build.gradle</code> file I have added this line: <code>implementation fileTree(include: ['*.jar'], dir: 'libs')</code></li>\n</ol>\n<p>I am unable to access the classes of the external jar in my application. I am not sure what I am doing wrong.</p>\n<p>Any input would help, thanks!</p>\n<p>Java: 11\nSpringboot: 2.7.9\nIDE: Intellij\nGradle: 6.8</p>\n"},{"tags":["java","debugging","intellij-idea","classpath"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1675959556,"post_id":75401403,"comment_id":133044138,"body_markdown":"No, you should not be adding the .m2 to your CLASSPATH.  IntelliJ will use Maven to add external libraries to your project correctly.  You will see them under dependencies in the Maven window and external libraries in the project window.","body":"No, you should not be adding the .m2 to your CLASSPATH.  IntelliJ will use Maven to add external libraries to your project correctly.  You will see them under dependencies in the Maven window and external libraries in the project window."},{"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"score":0,"creation_date":1675962843,"post_id":75401403,"comment_id":133045379,"body_markdown":"How can I fix the problem then? I can&#180;t seem to find a way to go back work with what I have in my maven local repository","body":"How can I fix the problem then? I can&#180;t seem to find a way to go back work with what I have in my maven local repository"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1675965667,"post_id":75401403,"comment_id":133046310,"body_markdown":"You weren&#39;t using Maven properly before if you had that CLASSPATH.  I would make it work without changing CLASSPATH.  It&#39;s not clear to me what debugging your web app means.  Are you debugging locally or connecting to remote instance?","body":"You weren&#39;t using Maven properly before if you had that CLASSPATH.  I would make it work without changing CLASSPATH.  It&#39;s not clear to me what debugging your web app means.  Are you debugging locally or connecting to remote instance?"}],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675960169,"creation_date":1675959301,"question_id":75401403,"body_markdown":"Using IntelliJ Community Edition 2022.3.2 for Windows 10, I was debugging my webapp just fine until I decided to run some unit tests manually by going to the file in the proyect explorer, double clicking it and selecting &quot;run&quot;.\r\n\r\nAfter doing that, the remote JVM Debug I had been using for months stopped working in the sense that it no longer stops at breakpoints even though it shows its connected.\r\n\r\nAfter quite some digging I found that IntelliJ builds the project before running the tests [as shown here](https://i.stack.imgur.com/G1mLx.png) and therefore messes up my Java classpath. Normally I build my project via CMD using maven (mvn package and then mvn install) to install the built project in my local maven repository and that&#39;s where IntelliJ picks ups the classes but now it&#39;s picking up the classes that are the product of that build that happened because of that unit test run.\r\n\r\nTo give more context, my project is called &quot;JavaClasses&quot; and when I run mvn install each of the folders that are direct childs to the JavaClasses folder gets installed in my local maven repository and the output in the terminal is something like this for each child\r\n\r\n    [INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\target\\gxcloudstorage-tests-2.10-SNAPSHOT.jar to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloud\r\n    storage-tests\\2.10-SNAPSHOT\\gxcloudstorage-tests-2.10-SNAPSHOT.jar\r\n    [INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\.flattened-pom.xml to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloudstorage-tests\\2.10-SNAPSHOT\r\n    \\gxcloudstorage-tests-2.10-SNAPSHOT.pom\r\n\r\n\r\nSo my question is, how can I go back? I would assume it&#180;s a Java thing because there is no way for the IDE to know which copy of the class gets loaded\r\n\r\nThe route to the parent folder of the project in maven local repository is `C:\\Users\\MyUsername\\.m2\\repository\\com` so I tried setting my classpath via CMD like this `set classpath=C:\\Users\\MyUsername\\.m2\\repository\\com` but it did not work","title":"I built my project using IntelliJ and it changed my classpath, how can i go back?","body":"<p>Using IntelliJ Community Edition 2022.3.2 for Windows 10, I was debugging my webapp just fine until I decided to run some unit tests manually by going to the file in the proyect explorer, double clicking it and selecting &quot;run&quot;.</p>\n<p>After doing that, the remote JVM Debug I had been using for months stopped working in the sense that it no longer stops at breakpoints even though it shows its connected.</p>\n<p>After quite some digging I found that IntelliJ builds the project before running the tests <a href=\"https://i.stack.imgur.com/G1mLx.png\" rel=\"nofollow noreferrer\">as shown here</a> and therefore messes up my Java classpath. Normally I build my project via CMD using maven (mvn package and then mvn install) to install the built project in my local maven repository and that's where IntelliJ picks ups the classes but now it's picking up the classes that are the product of that build that happened because of that unit test run.</p>\n<p>To give more context, my project is called &quot;JavaClasses&quot; and when I run mvn install each of the folders that are direct childs to the JavaClasses folder gets installed in my local maven repository and the output in the terminal is something like this for each child</p>\n<pre><code>[INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\target\\gxcloudstorage-tests-2.10-SNAPSHOT.jar to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloud\nstorage-tests\\2.10-SNAPSHOT\\gxcloudstorage-tests-2.10-SNAPSHOT.jar\n[INFO] Installing C:\\Users\\MyUsername\\Desktop\\Genexus\\JavaClasses\\gxcloudstorage-tests\\.flattened-pom.xml to C:\\Users\\MyUsername\\.m2\\repository\\com\\genexus\\gxcloudstorage-tests\\2.10-SNAPSHOT\n\\gxcloudstorage-tests-2.10-SNAPSHOT.pom\n</code></pre>\n<p>So my question is, how can I go back? I would assume it´s a Java thing because there is no way for the IDE to know which copy of the class gets loaded</p>\n<p>The route to the parent folder of the project in maven local repository is <code>C:\\Users\\MyUsername\\.m2\\repository\\com</code> so I tried setting my classpath via CMD like this <code>set classpath=C:\\Users\\MyUsername\\.m2\\repository\\com</code> but it did not work</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-cloud"],"owner":{"account_id":9923904,"reputation":11,"user_id":7346187,"display_name":"Aviel Avitan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675959869,"creation_date":1675959869,"question_id":75401525,"body_markdown":"I have a Java project who is using spring security and spring cloud routing.\r\n\r\nas to my understanding spring cloud routing works with spring reactive security which is a bit different in her authentication managers and providers, and I want to know how can I integrate from an existing spring security configurations to reactive security.\r\n\r\nThis is my application regular security:\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n\tprivate final IUserProxy userProxy;\r\n\r\n\r\n\t@Bean\r\n\tpublic UserDetailsService userDetailsService() {\r\n\t\treturn details -&gt; {\r\n\t\t\tString[] userDetails = details.split(&quot;/&quot;);\r\n\t\t\tString serviceProvider = userDetails[0];\r\n\t\t\tString username = userDetails[1];\r\n\r\n\t\t\treturn userProxy.getUserByUsernameAndServiceProviderName(username, serviceProvider);\r\n\t\t};\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n\t\tauthenticationProvider.setUserDetailsService(userDetailsService());\r\n\t\tauthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\t\r\n\t\treturn authenticationProvider;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n\t\treturn authenticationConfiguration.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SecretGenerator secretGenerator(){\r\n\t\treturn new DefaultSecretGenerator();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic QrGenerator qrGenerator(){\r\n\t\treturn new ZxingPngQrGenerator();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CodeVerifier codeVerifier(){\r\n\t\tCodeGenerator codeGenerator = new DefaultCodeGenerator();\r\n\t\tTimeProvider timeProvider = new SystemTimeProvider();\r\n\r\n\t\treturn new DefaultCodeVerifier(codeGenerator, timeProvider);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nand this is my security filter chain:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\t\r\n\tprivate final JwtAuthenticationFilter authenticationFilter;\r\n\tprivate final AuthenticationProvider authenticationProvider;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf()\r\n\t\t.disable()\r\n\t\t.authorizeHttpRequests()\r\n\t\t.requestMatchers(&quot;/mng164/auth/**&quot;)\r\n\t\t.permitAll()\r\n\t\t.anyRequest()\r\n\t\t.authenticated()\r\n\t\t.and()\r\n\t\t.sessionManagement()\r\n\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t.and()\r\n\t\t.authenticationProvider(authenticationProvider)\r\n\t\t.addFilterBefore(authenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t\t\r\n\t\treturn http.build();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nfurthermore, is there a way to turn off the security config in my gateway application and just use this one instead of making the integration?\r\n\r\nI tried applying the same security configurations to my gateway application, but spring reacted about bean conflicts. one bean from spring-reactive-security and one from spring-security","title":"Integrating from Spring security to Spring reactive security","body":"<p>I have a Java project who is using spring security and spring cloud routing.</p>\n<p>as to my understanding spring cloud routing works with spring reactive security which is a bit different in her authentication managers and providers, and I want to know how can I integrate from an existing spring security configurations to reactive security.</p>\n<p>This is my application regular security:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final IUserProxy userProxy;\n\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return details -&gt; {\n            String[] userDetails = details.split(&quot;/&quot;);\n            String serviceProvider = userDetails[0];\n            String username = userDetails[1];\n\n            return userProxy.getUserByUsernameAndServiceProviderName(username, serviceProvider);\n        };\n    }\n    \n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        \n        return authenticationProvider;\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecretGenerator secretGenerator(){\n        return new DefaultSecretGenerator();\n    }\n\n    @Bean\n    public QrGenerator qrGenerator(){\n        return new ZxingPngQrGenerator();\n    }\n\n    @Bean\n    public CodeVerifier codeVerifier(){\n        CodeGenerator codeGenerator = new DefaultCodeGenerator();\n        TimeProvider timeProvider = new SystemTimeProvider();\n\n        return new DefaultCodeVerifier(codeGenerator, timeProvider);\n    }\n}\n</code></pre>\n<p>and this is my security filter chain:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n    \n    private final JwtAuthenticationFilter authenticationFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf()\n        .disable()\n        .authorizeHttpRequests()\n        .requestMatchers(&quot;/mng164/auth/**&quot;)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authenticationProvider(authenticationProvider)\n        .addFilterBefore(authenticationFilter, UsernamePasswordAuthenticationFilter.class);\n        \n        return http.build();\n    }\n\n}\n</code></pre>\n<p>furthermore, is there a way to turn off the security config in my gateway application and just use this one instead of making the integration?</p>\n<p>I tried applying the same security configurations to my gateway application, but spring reacted about bean conflicts. one bean from spring-reactive-security and one from spring-security</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675923991,"post_id":75394666,"comment_id":133033110,"body_markdown":"Please show the full error output... how you write/save your entity...","body":"Please show the full error output... how you write/save your entity..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675931529,"post_id":75394666,"comment_id":133034797,"body_markdown":"Which `@Id` are you using... It shold be from the `javax.persistence` or `jakarta.persistence` (depending on the JPA version in use) and not the `org.springframework.data.Id` one...","body":"Which <code>@Id</code> are you using... It shold be from the <code>javax.persistence</code> or <code>jakarta.persistence</code> (depending on the JPA version in use) and not the <code>org.springframework.data.Id</code> one..."}],"answers":[{"comments":[{"owner":{"account_id":21106053,"reputation":60,"user_id":15515026,"display_name":"Nguyen Huu Phuc"},"score":0,"creation_date":1675923272,"post_id":75394717,"comment_id":133032985,"body_markdown":"yeah I have already did that","body":"yeah I have already did that"}],"tags":[],"owner":{"account_id":25246919,"reputation":1,"user_id":19080043,"display_name":"Naveen-125-code"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675922075,"creation_date":1675921927,"answer_id":75394717,"question_id":75394666,"body_markdown":"Make sure you add your entity class  in repository interface\r\neg:\r\n\r\n    public interface Repository extends JpaRepository&lt;Product,Long&gt;{\r\n    }\r\n\r\nand in entity\r\nchange `private int year` \r\nto \r\n\r\n    private Integer year\r\n\r\n","title":"Entity did not have primary key","body":"<p>Make sure you add your entity class  in repository interface\neg:</p>\n<pre><code>public interface Repository extends JpaRepository&lt;Product,Long&gt;{\n}\n</code></pre>\n<p>and in entity\nchange <code>private int year</code>\nto</p>\n<pre><code>private Integer year\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21106053,"reputation":60,"user_id":15515026,"display_name":"Nguyen Huu Phuc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959844,"creation_date":1675959844,"answer_id":75401518,"question_id":75394666,"body_markdown":"Thanks, everyone help me with this. I had already fixed this. The problem was IJ auto complete wrong import. In this case I have to use ```javax.persistence``` but IJ auto complete it to a ```org.springframework.data.id```","title":"Entity did not have primary key","body":"<p>Thanks, everyone help me with this. I had already fixed this. The problem was IJ auto complete wrong import. In this case I have to use <code>javax.persistence</code> but IJ auto complete it to a <code>org.springframework.data.id</code></p>\n"}],"owner":{"account_id":21106053,"reputation":60,"user_id":15515026,"display_name":"Nguyen Huu Phuc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675959844,"creation_date":1675921470,"question_id":75394666,"body_markdown":"```\r\n\r\n@Entity\r\n\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String productName;\r\n    private int year;\r\n    private Double price;\r\n    private String url;\r\n\r\n    public  Product() { }\r\n     public Product(String productName, int year, Double price, String url) {\r\n         this.productName = productName;\r\n         this.year = year;\r\n         this.price = price;\r\n         this.url = url;\r\n     }\r\n}\r\n```\r\nI have a problem with my Springboot. Even when I add @Id, the log tells me that Product didn&#39;t have any Id.","title":"Entity did not have primary key","body":"<pre><code>\n@Entity\n\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String productName;\n    private int year;\n    private Double price;\n    private String url;\n\n    public  Product() { }\n     public Product(String productName, int year, Double price, String url) {\n         this.productName = productName;\n         this.year = year;\n         this.price = price;\n         this.url = url;\n     }\n}\n</code></pre>\n<p>I have a problem with my Springboot. Even when I add @Id, the log tells me that Product didn't have any Id.</p>\n"},{"tags":["java","kotlin"],"answers":[{"comments":[{"owner":{"account_id":4813796,"reputation":3248,"user_id":3886459,"display_name":"Maciej Beimcik"},"score":9,"creation_date":1560423002,"post_id":51654034,"comment_id":99735415,"body_markdown":"what follows for Android is that Java&#39;s removeIf is only available for API 24+ whereas Kotlin&#39;s removeAll will run on older APIs","body":"what follows for Android is that Java&#39;s removeIf is only available for API 24+ whereas Kotlin&#39;s removeAll will run on older APIs"}],"tags":[],"owner":{"account_id":6738,"reputation":6015,"user_id":11457,"display_name":"Matej"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1588233251,"creation_date":1533213932,"answer_id":51654034,"question_id":51653851,"body_markdown":"Java&#39;s `removeIf()` is there since Java 1.8. \r\n\r\nKotlin started at 2011 ([wikipedia][1]). Java 1.8 appeared in 2014.\r\n\r\nI&#39;m not sure when the Kotlin&#39;s `removeAll(predicate)` was specified and implemented, however it probably predates Java&#39;s `removeIf()`. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Kotlin_(programming_language)","title":"Use cases of removeall and removeif","body":"<p>Java's <code>removeIf()</code> is there since Java 1.8. </p>\n\n<p>Kotlin started at 2011 (<a href=\"https://en.wikipedia.org/wiki/Kotlin_(programming_language)\" rel=\"noreferrer\">wikipedia</a>). Java 1.8 appeared in 2014.</p>\n\n<p>I'm not sure when the Kotlin's <code>removeAll(predicate)</code> was specified and implemented, however it probably predates Java's <code>removeIf()</code>. </p>\n"},{"tags":[],"owner":{"account_id":8315485,"reputation":16101,"user_id":7128034,"accept_rate":85,"display_name":"developer_hatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1533214112,"creation_date":1533214112,"answer_id":51654099,"question_id":51653851,"body_markdown":"Those are very very different functions, but in kotlin the method is overloaded, it means, it has two different types of arguments for the function.\r\n\r\nIf you read the doc, you can see that you can use this function by giving a collection:\r\n\r\n    fun &lt;T&gt; MutableCollection&lt;out T&gt;.removeAll(\r\n        elements: Collection&lt;T&gt;\r\n    ): Boolean (source)\r\n\r\nOr giving a function to filter:\r\n\r\n    fun &lt;T&gt; MutableIterable&lt;T&gt;.removeAll(\r\n        predicate: (T) -&gt; Boolean\r\n    ): Boolean (source)\r\n\r\nSo, the second one is like the Java version of removeIf, the first one is not.\r\n\r\n","title":"Use cases of removeall and removeif","body":"<p>Those are very very different functions, but in kotlin the method is overloaded, it means, it has two different types of arguments for the function.</p>\n\n<p>If you read the doc, you can see that you can use this function by giving a collection:</p>\n\n<pre><code>fun &lt;T&gt; MutableCollection&lt;out T&gt;.removeAll(\n    elements: Collection&lt;T&gt;\n): Boolean (source)\n</code></pre>\n\n<p>Or giving a function to filter:</p>\n\n<pre><code>fun &lt;T&gt; MutableIterable&lt;T&gt;.removeAll(\n    predicate: (T) -&gt; Boolean\n): Boolean (source)\n</code></pre>\n\n<p>So, the second one is like the Java version of removeIf, the first one is not.</p>\n"},{"tags":[],"owner":{"account_id":505513,"reputation":3684,"user_id":959045,"display_name":"Stefan Paul Noack"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1581070699,"creation_date":1581070699,"answer_id":60111385,"question_id":51653851,"body_markdown":"There is one more important difference:\r\n\r\nCalling `removeIf` on a `CopyOnWriteArrayList` is **thread-safe**, but `removeAll` is **not**.\r\n\r\nLooking at the code, `removeIf` has a custom implementation for `CopyOnWriteArrayList`, but `removeAll` **iterates over the indices** and will end up throwing `ArrayIndexOutOfBoundsException` or even worse, **removing the wrong element**, if called concurrently.","title":"Use cases of removeall and removeif","body":"<p>There is one more important difference:</p>\n\n<p>Calling <code>removeIf</code> on a <code>CopyOnWriteArrayList</code> is <strong>thread-safe</strong>, but <code>removeAll</code> is <strong>not</strong>.</p>\n\n<p>Looking at the code, <code>removeIf</code> has a custom implementation for <code>CopyOnWriteArrayList</code>, but <code>removeAll</code> <strong>iterates over the indices</strong> and will end up throwing <code>ArrayIndexOutOfBoundsException</code> or even worse, <strong>removing the wrong element</strong>, if called concurrently.</p>\n"},{"tags":[],"owner":{"account_id":1057595,"reputation":5076,"user_id":1059969,"display_name":"Agent_L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959505,"creation_date":1675959505,"answer_id":75401441,"question_id":51653851,"body_markdown":"&gt; Both of them yield the same result. \r\n\r\nThe result is achieved in completely different ways, so it might not always be quite same.\r\n\r\n`removeAll` is a convenience method. It&#39;s a simple loop calling `removeAt` multiple times.\r\n\r\n`removeIf` is a native `ArrayList` method that directly manipulates internal `elementData`, bypassing all the older removal methods and any logic that might have been put there. The bad news here is that it got retroactively blanket-applied to everything that derives from `ArrayList`, disregarding older implementations.\r\n\r\n&gt; Or is there any use case that might need one over another?\r\n\r\nOne example is `androidx.databinding.ObservableList`, which predates `removeIf`, and doesn&#39;t send due removal notifications, thus either breaking your code **silently** or causing [cryptic errors][1].\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75401082/1059969","title":"Use cases of removeall and removeif","body":"<blockquote>\n<p>Both of them yield the same result.</p>\n</blockquote>\n<p>The result is achieved in completely different ways, so it might not always be quite same.</p>\n<p><code>removeAll</code> is a convenience method. It's a simple loop calling <code>removeAt</code> multiple times.</p>\n<p><code>removeIf</code> is a native <code>ArrayList</code> method that directly manipulates internal <code>elementData</code>, bypassing all the older removal methods and any logic that might have been put there. The bad news here is that it got retroactively blanket-applied to everything that derives from <code>ArrayList</code>, disregarding older implementations.</p>\n<blockquote>\n<p>Or is there any use case that might need one over another?</p>\n</blockquote>\n<p>One example is <code>androidx.databinding.ObservableList</code>, which predates <code>removeIf</code>, and doesn't send due removal notifications, thus either breaking your code <strong>silently</strong> or causing <a href=\"https://stackoverflow.com/a/75401082/1059969\">cryptic errors</a>.</p>\n"}],"owner":{"account_id":9012794,"reputation":473,"user_id":6717212,"display_name":"Yogesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22529,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":51654099,"answer_count":4,"score":20,"last_activity_date":1675959505,"creation_date":1533213444,"question_id":51653851,"body_markdown":"I found this:  \r\n\r\n    fun main() {\r\n        val list: MutableList&lt;Int&gt; = mutableListOf(1, 2, 3, 4, 5)\r\n\r\n        list.removeAll { x -&gt; x in 1..3 } // [4, 5]\r\n        list.removeIf { x -&gt; x in 1..3 } // [4, 5]\r\n    }\r\n\r\nBoth of them yield the same result.  \r\n\r\nThough I understand that `removeAll` is Kotlin and `removeIf` is Java but I don&#39;t understand why `removeAll` is there when `removeIf` was already there? \r\n\r\nAnd for the fact that we could use `removeIf` in Kotlin without any hassle. Or is there any use case that might need one over another?","title":"Use cases of removeall and removeif","body":"<p>I found this:  </p>\n\n<pre><code>fun main() {\n    val list: MutableList&lt;Int&gt; = mutableListOf(1, 2, 3, 4, 5)\n\n    list.removeAll { x -&gt; x in 1..3 } // [4, 5]\n    list.removeIf { x -&gt; x in 1..3 } // [4, 5]\n}\n</code></pre>\n\n<p>Both of them yield the same result.  </p>\n\n<p>Though I understand that <code>removeAll</code> is Kotlin and <code>removeIf</code> is Java but I don't understand why <code>removeAll</code> is there when <code>removeIf</code> was already there? </p>\n\n<p>And for the fact that we could use <code>removeIf</code> in Kotlin without any hassle. Or is there any use case that might need one over another?</p>\n"},{"tags":["java","apache-kafka","spring-kafka","avro"],"comments":[{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1675956202,"post_id":75400486,"comment_id":133042859,"body_markdown":"Could you check with this https://stackoverflow.com/a/63491078/15228699","body":"Could you check with this <a href=\"https://stackoverflow.com/a/63491078/15228699\">stackoverflow.com/a/63491078/15228699</a>"},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1675960460,"post_id":75400486,"comment_id":133044514,"body_markdown":"I see I will try this but can&#39;t I just added to the custom truststore  since this is specific only to the Kafka part of the code instead of modifying the truststore for the entire JVM?","body":"I see I will try this but can&#39;t I just added to the custom truststore  since this is specific only to the Kafka part of the code instead of modifying the truststore for the entire JVM?"},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1676019284,"post_id":75400486,"comment_id":133056590,"body_markdown":"I tried doing this and same error, I added this to my docker file\n`RUN \\\n    cd $JAVA_HOME/lib/security \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias sdb_root_ca -file $JAVA_HOME/lib/security/root_ca.crt`","body":"I tried doing this and same error, I added this to my docker file <code>RUN \\     cd $JAVA_HOME&#47;lib&#47;security \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias sdb_root_ca -file $JAVA_HOME&#47;lib&#47;security&#47;root_ca.crt</code>"},{"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"score":0,"creation_date":1676025307,"post_id":75400486,"comment_id":133058379,"body_markdown":"Add the intermediate or sub ca certs too.","body":"Add the intermediate or sub ca certs too."},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1676025636,"post_id":75400486,"comment_id":133058488,"body_markdown":"Yup thought of that too\n`RUN \\\n    cd $JAVA_HOME/lib/security \\\n    &amp;&amp; ls \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias root_ca -file $JAVA_HOME/lib/security/root_ca.crt \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias intermediate_ca_infra -file $JAVA_HOME/lib/security/intermediate_ca_infra.pem \\\n    &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias schema-registry -file $JAVA_HOME/lib/security/schema-registry.pem`\nBut still same error","body":"Yup thought of that too <code>RUN \\     cd $JAVA_HOME&#47;lib&#47;security \\     &amp;&amp; ls \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias root_ca -file $JAVA_HOME&#47;lib&#47;security&#47;root_ca.crt \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias intermediate_ca_infra -file $JAVA_HOME&#47;lib&#47;security&#47;intermediate_ca_infra.pem \\     &amp;&amp; keytool -keystore cacerts -storepass changeit -noprompt -trustcacerts -importcert -alias schema-registry -file $JAVA_HOME&#47;lib&#47;security&#47;schema-registry.pem</code> But still same error"},{"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"score":0,"creation_date":1676027339,"post_id":75400486,"comment_id":133059016,"body_markdown":"Also If I use curl with cacert option it works so I&#39;m really under the impression the Kafka producer is not picking up properly the certificate","body":"Also If I use curl with cacert option it works so I&#39;m really under the impression the Kafka producer is not picking up properly the certificate"}],"owner":{"account_id":152090,"reputation":1038,"user_id":366372,"accept_rate":65,"display_name":"ufasoli"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675959460,"creation_date":1675954967,"question_id":75400486,"body_markdown":"I recently migrated an application from `Spring Boot 2.6.x` to `Spring Boot 3.0.2`, this app interacts with `Kafka` and a schema registry with self-signed certificates, which are imported in both the truststore as well as the keystore.\r\nFrom what I can pinpoint the issue is related to the `AvroSerializer` (now version 7 before version 5) as it seems it does not take the SSL configuration from the properties file\r\n\r\n\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:41,947] [INFO] [i.c.k.s.KafkaAvroSerializerConfig AbstractConfig.java:376] KafkaAvroSerializerConfig values:\r\n    swarm-app.so5byi81c6md@swarmt33    |  auto.register.schemas = true\r\n    swarm-app.so5byi81c6md@swarmt33    |  avro.reflection.allow.null = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  avro.remove.java.properties = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  avro.use.logical.type.converters = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  basic.auth.credentials.source = URL\r\n    swarm-app.so5byi81c6md@swarmt33    |  basic.auth.user.info = [hidden]\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.cache.expiry.buffer.seconds = 300\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.id = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.secret = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.credentials.source = STATIC_TOKEN\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.identity.pool.id = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.issuer.endpoint.url = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.logical.cluster = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope.claim.name = scope\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.sub.claim.name = sub\r\n    swarm-app.so5byi81c6md@swarmt33    |  bearer.auth.token = [hidden]\r\n    swarm-app.so5byi81c6md@swarmt33    |  context.name.strategy = class io.confluent.kafka.serializers.context.NullContextNameStrategy\r\n    swarm-app.so5byi81c6md@swarmt33    |  id.compatibility.strict = true\r\n    swarm-app.so5byi81c6md@swarmt33    |  key.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\r\n    swarm-app.so5byi81c6md@swarmt33    |  latest.compatibility.strict = true\r\n    swarm-app.so5byi81c6md@swarmt33    |  max.schemas.per.subject = 1000\r\n    swarm-app.so5byi81c6md@swarmt33    |  normalize.schemas = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  proxy.host =\r\n    swarm-app.so5byi81c6md@swarmt33    |  proxy.port = -1\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.format = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.reflection = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.basic.auth.user.info = [hidden]\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.cipher.suites = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.endpoint.identification.algorithm = https\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.engine.factory.class = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.key.password = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keymanager.algorithm = SunX509\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.certificate.chain = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.key = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.location = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.password = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.type = JKS\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.protocol = TLSv1.3\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.provider = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.secure.random.implementation = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.trustmanager.algorithm = PKIX\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.certificates = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.location = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.password = null\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.type = JKS\r\n    swarm-app.so5byi81c6md@swarmt33    |  schema.registry.url = [https://xxx.xxx.xxxx]\r\n    swarm-app.so5byi81c6md@swarmt33    |  use.latest.version = false\r\n    swarm-app.so5byi81c6md@swarmt33    |  use.schema.id = -1\r\n    swarm-app.so5byi81c6md@swarmt33    |  value.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\r\n\r\nWhich causes the following error when the app starts :\r\n\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,221] [DEBUG] [o.a.k.c.s.s.DefaultSslEngineFactory DefaultSslEngineFactory.java:264] Created SSL context with keystore SecurityStore(\r\n    path=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), truststore SecurityStore(path=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), provider SunJSSE.\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,242] [DEBUG] [o.a.k.c.p.i.Sender Sender.java:238] [Producer clientId=kafka-client] Starting Kafka producer\r\n     I/O thread.\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:119] Kafka version: 3.3.2\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:120] Kafka commitId: b66af662e61082cb\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:121] Kafka startTimeMs: 1675953102242\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:988] [Producer clientId=kafka-client]\r\n     Transition from state UNINITIALIZED to INITIALIZING\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,245] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:466] [Producer clientId=kafka-client] Kafka produ\r\n    cer started\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,400] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:1028] [Producer clientId=kafka-client\r\n    ] Enqueuing transactional request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1)\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,401] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:1162] [Producer clientId=kafka-client] Initialize c\r\n    onnection to node xxx.xxx.net:9093 (id: -1 rack: null) for sending metadata request\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.ClientUtils ClientUtils.java:113] Resolved host xxxxxx as xx.xx.xx.xx,xx.xx.xx.xx\r\n    \r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:991] [Producer clientId=kafka-client] Initiating co\r\n    nnection to node xxx.xxx.net:9093 (id: -1 rack: null) using address xxxxxx/xxx.xxx.xxx.xxx\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,420] [DEBUG] [o.a.k.c.n.Selector Selector.java:531] [Producer clientId=kafka-client] Created socket with S\r\n    O_RCVBUF = 32768, SO_SNDBUF = 131072, SO_TIMEOUT = 0 to node -1\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,435] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:953] [Producer clientId=kafka-client] Completed con\r\n    nection to node -1. Fetching API versions.\r\n    swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,464] [DEBUG] [o.a.k.c.n.SslTransportLayer SslTransportLayer.java:882] [SslTransportLayer channelId=-1 key=channel=java.nio.channels.\r\n    SocketChannel[connection-pending remote=xxx.xxx.net/10.222.10.218:9093], selector=sun.nio.ch.EPollSelectorImpl@701bf320, interestOps=8, readyOps=0] SSL Handshake failed\r\n    swarm-app.1.so5byi81c6md@swarmt33    | javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path\r\n     to requested target\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.xxx.xxx.netssl.TransportContext.fatal(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLHandshake.consume(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.HandshakeContext.dispatch(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.security.AccessController.doPrivileged(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.runDelegatedTasks(SslTransportLayer.java:435)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshakeUnwrap(SslTransportLayer.java:523)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.doHandshake(SslTransportLayer.java:373)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshake(SslTransportLayer.java:293)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:178)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:73)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:534)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:455)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\r\n    swarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.lang.Thread.run(Unknown Source)\r\n    swarm-app.1.so5byi81c6md@swarmt33    | Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid c\r\n    ertification path to requested target\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.doBuild(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.Validator.validate(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  ... 23 common frames omitted\r\n    swarm-app.so5byi81c6md@swarmt33    | Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  at java.base/java.security.cert.CertPathBuilder.build(Unknown Source)\r\n    swarm-app.so5byi81c6md@swarmt33    |  ... 28 common frames omitted\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,466] [INFO] [o.a.k.c.n.Selector Selector.java:616] [Producer clientId=kafka-client] Failed authentication\r\n    with xxx.xxx.net/10.222.10.218 (channelId=-1) (SSL handshake failed)\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,467] [INFO] [o.a.k.c.NetworkClient NetworkClient.java:937] [Producer clientId=kafka-client] Node -1 discon\r\n    nected.\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [ERROR] [o.a.k.c.NetworkClient NetworkClient.java:764] [Producer clientId=kafka-client] Connection\r\n    to node -1 (xxx.xxx.net/10.222.10.218:9093) failed authentication due to: SSL handshake failed\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [WARN] [o.a.k.c.NetworkClient NetworkClient.java:1065] [Producer clientId=kafka-client] Bootstrap bro\r\n    ker xxx.xxx.net:9093 (id: -1 rack: null) disconnected\r\n    swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,469] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:1063] [Producer clientId=kafka-client] Exception\r\n    occurred during message send:\r\n    swarm-app.so5byi81c6md@swarmt33    | org.apache.kafka.common.errors.SslAuthenticationException: SSL handshake failed\r\n    swarm-app.so5byi81c6md@swarmt33    | Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certifi\r\n    cation path to requested target\r\n\r\nBelow is my `application.properties` file\r\n\r\n    spring.kafka.bootstrap-servers=xxx.xxx.xxx.xxx:9093\r\n    spring.kafka.properties.schema.registry.url=https://xxx.xxx.xxx.xxx\r\n    spring.kafka.producer.key-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\r\n    spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\r\n    spring.kafka.consumer.key-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    spring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\n    \r\n    spring.kafka.properties.security.protocol=SSL\r\n    spring.kafka.ssl.protocol=SSL\r\n    spring.kafka.ssl.trust-store-location=file:/var/lib/app/config/truststore.jks\r\n    spring.kafka.ssl.trust-store-type=JKS\r\n    spring.kafka.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.ssl.key-store-type=JKS\r\n    \r\n    spring.kafka.producer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.producer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.producer.ssl.protocol=SSL\r\n    spring.kafka.producer.security.protocol=SSL\r\n    spring.kafka.producer.ssl.key-store-type=JKS\r\n    \r\n    spring.kafka.consumer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.consumer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.consumer.ssl.protocol=SSL\r\n    spring.kafka.consumer.ssl.trust-store-type=JKS\r\n    spring.kafka.consumer.security.protocol=SSL\r\n    \r\n    spring.kafka.schema.registry.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.schema.registry.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\r\n    spring.kafka.schema.registry.ssl.protocol=SSL\r\n    spring.kafka.schema.registry.ssl.trust-store-type=JKS\r\n    spring.kafka.schema.registry.security.protocol=SSL\r\n    \r\n    \r\n    spring.kafka.producer.client-id=clientId\r\n    spring.kafka.consumer.client-id=clientId\r\n    spring.kafka.consumer.group-id=groupId\r\n    \r\n    \r\n    #\r\n    # Credentials\r\n    #\r\n    \r\n    # Kafka\r\n    spring.kafka.ssl.trust-store-password=changeit\r\n    spring.kafka.ssl.key-store-password=changeit\r\n    spring.kafka.producer.ssl.key-store-password=changeit\r\n    spring.kafka.producer.ssl.trust-store-password=changeit\r\n    spring.kafka.consumer.ssl.trust-store-password=changeit\r\n    spring.kafka.consumer.ssl.key-store-password=changeit\r\n    spring.kafka.schema.registry.ssl.trust-store-password=changeit\r\n    spring.kafka.schema.registry.ssl.key-store-password=changeit\r\n\r\nAny ideas as to how to make the `Serializer` pickup the SSL config?\r\n\r\nCurrent Stack:\r\n - Spring boot 3.0.2\r\n - Kafka Avro Serializer 7.3.1\r\n - Spring Kafka 3.0.2\r\n - Spring 6.0.4","title":"PKIX path building failed when using spring with Kafka and schema registry","body":"<p>I recently migrated an application from <code>Spring Boot 2.6.x</code> to <code>Spring Boot 3.0.2</code>, this app interacts with <code>Kafka</code> and a schema registry with self-signed certificates, which are imported in both the truststore as well as the keystore.\nFrom what I can pinpoint the issue is related to the <code>AvroSerializer</code> (now version 7 before version 5) as it seems it does not take the SSL configuration from the properties file</p>\n<pre><code>swarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:41,947] [INFO] [i.c.k.s.KafkaAvroSerializerConfig AbstractConfig.java:376] KafkaAvroSerializerConfig values:\nswarm-app.so5byi81c6md@swarmt33    |  auto.register.schemas = true\nswarm-app.so5byi81c6md@swarmt33    |  avro.reflection.allow.null = false\nswarm-app.so5byi81c6md@swarmt33    |  avro.remove.java.properties = false\nswarm-app.so5byi81c6md@swarmt33    |  avro.use.logical.type.converters = false\nswarm-app.so5byi81c6md@swarmt33    |  basic.auth.credentials.source = URL\nswarm-app.so5byi81c6md@swarmt33    |  basic.auth.user.info = [hidden]\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.cache.expiry.buffer.seconds = 300\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.id = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.client.secret = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.credentials.source = STATIC_TOKEN\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.identity.pool.id = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.issuer.endpoint.url = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.logical.cluster = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope = null\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.scope.claim.name = scope\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.sub.claim.name = sub\nswarm-app.so5byi81c6md@swarmt33    |  bearer.auth.token = [hidden]\nswarm-app.so5byi81c6md@swarmt33    |  context.name.strategy = class io.confluent.kafka.serializers.context.NullContextNameStrategy\nswarm-app.so5byi81c6md@swarmt33    |  id.compatibility.strict = true\nswarm-app.so5byi81c6md@swarmt33    |  key.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\nswarm-app.so5byi81c6md@swarmt33    |  latest.compatibility.strict = true\nswarm-app.so5byi81c6md@swarmt33    |  max.schemas.per.subject = 1000\nswarm-app.so5byi81c6md@swarmt33    |  normalize.schemas = false\nswarm-app.so5byi81c6md@swarmt33    |  proxy.host =\nswarm-app.so5byi81c6md@swarmt33    |  proxy.port = -1\nswarm-app.so5byi81c6md@swarmt33    |  schema.format = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.reflection = false\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.basic.auth.user.info = [hidden]\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.cipher.suites = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.enabled.protocols = [TLSv1.2, TLSv1.3]\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.endpoint.identification.algorithm = https\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.engine.factory.class = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.key.password = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keymanager.algorithm = SunX509\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.certificate.chain = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.key = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.location = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.password = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.keystore.type = JKS\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.protocol = TLSv1.3\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.provider = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.secure.random.implementation = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.trustmanager.algorithm = PKIX\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.certificates = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.location = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.password = null\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.ssl.truststore.type = JKS\nswarm-app.so5byi81c6md@swarmt33    |  schema.registry.url = [https://xxx.xxx.xxxx]\nswarm-app.so5byi81c6md@swarmt33    |  use.latest.version = false\nswarm-app.so5byi81c6md@swarmt33    |  use.schema.id = -1\nswarm-app.so5byi81c6md@swarmt33    |  value.subject.name.strategy = class io.confluent.kafka.serializers.subject.TopicNameStrategy\n</code></pre>\n<p>Which causes the following error when the app starts :</p>\n<pre><code>swarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,221] [DEBUG] [o.a.k.c.s.s.DefaultSslEngineFactory DefaultSslEngineFactory.java:264] Created SSL context with keystore SecurityStore(\npath=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), truststore SecurityStore(path=/var/lib/app/config/keystore.jks, modificationTime=Thu Feb 09 14:31:26 UTC 2023), provider SunJSSE.\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,242] [DEBUG] [o.a.k.c.p.i.Sender Sender.java:238] [Producer clientId=kafka-client] Starting Kafka producer\n I/O thread.\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:119] Kafka version: 3.3.2\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:120] Kafka commitId: b66af662e61082cb\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [INFO] [o.a.k.c.u.AppInfoParser AppInfoParser.java:121] Kafka startTimeMs: 1675953102242\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,243] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:988] [Producer clientId=kafka-client]\n Transition from state UNINITIALIZED to INITIALIZING\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,245] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:466] [Producer clientId=kafka-client] Kafka produ\ncer started\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,400] [DEBUG] [o.a.k.c.p.i.TransactionManager TransactionManager.java:1028] [Producer clientId=kafka-client\n] Enqueuing transactional request InitProducerIdRequestData(transactionalId=null, transactionTimeoutMs=2147483647, producerId=-1, producerEpoch=-1)\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,401] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:1162] [Producer clientId=kafka-client] Initialize c\nonnection to node xxx.xxx.net:9093 (id: -1 rack: null) for sending metadata request\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.ClientUtils ClientUtils.java:113] Resolved host xxxxxx as xx.xx.xx.xx,xx.xx.xx.xx\n\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,402] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:991] [Producer clientId=kafka-client] Initiating co\nnnection to node xxx.xxx.net:9093 (id: -1 rack: null) using address xxxxxx/xxx.xxx.xxx.xxx\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,420] [DEBUG] [o.a.k.c.n.Selector Selector.java:531] [Producer clientId=kafka-client] Created socket with S\nO_RCVBUF = 32768, SO_SNDBUF = 131072, SO_TIMEOUT = 0 to node -1\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,435] [DEBUG] [o.a.k.c.NetworkClient NetworkClient.java:953] [Producer clientId=kafka-client] Completed con\nnection to node -1. Fetching API versions.\nswarm-app.1.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,464] [DEBUG] [o.a.k.c.n.SslTransportLayer SslTransportLayer.java:882] [SslTransportLayer channelId=-1 key=channel=java.nio.channels.\nSocketChannel[connection-pending remote=xxx.xxx.net/10.222.10.218:9093], selector=sun.nio.ch.EPollSelectorImpl@701bf320, interestOps=8, readyOps=0] SSL Handshake failed\nswarm-app.1.so5byi81c6md@swarmt33    | javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path\n to requested target\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.xxx.xxx.netssl.TransportContext.fatal(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLHandshake.consume(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.HandshakeContext.dispatch(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.security.AccessController.doPrivileged(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.runDelegatedTasks(SslTransportLayer.java:435)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshakeUnwrap(SslTransportLayer.java:523)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.doHandshake(SslTransportLayer.java:373)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.SslTransportLayer.handshake(SslTransportLayer.java:293)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.KafkaChannel.prepare(KafkaChannel.java:178)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:543)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.common.network.Selector.poll(Selector.java:481)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.NetworkClientUtils.awaitReady(NetworkClientUtils.java:73)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.awaitNodeReady(Sender.java:534)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.maybeSendAndPollTransactionalRequest(Sender.java:455)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.runOnce(Sender.java:316)\nswarm-app.1.so5byi81c6md@swarmt33    |  at org.apache.kafka.clients.producer.internals.Sender.run(Sender.java:243)\nswarm-app.1.so5byi81c6md@swarmt33    |  at java.base/java.lang.Thread.run(Unknown Source)\nswarm-app.1.so5byi81c6md@swarmt33    | Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid c\nertification path to requested target\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.doBuild(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.PKIXValidator.engineValidate(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.validator.Validator.validate(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  ... 23 common frames omitted\nswarm-app.so5byi81c6md@swarmt33    | Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  at java.base/java.security.cert.CertPathBuilder.build(Unknown Source)\nswarm-app.so5byi81c6md@swarmt33    |  ... 28 common frames omitted\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,466] [INFO] [o.a.k.c.n.Selector Selector.java:616] [Producer clientId=kafka-client] Failed authentication\nwith xxx.xxx.net/10.222.10.218 (channelId=-1) (SSL handshake failed)\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,467] [INFO] [o.a.k.c.NetworkClient NetworkClient.java:937] [Producer clientId=kafka-client] Node -1 discon\nnected.\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [ERROR] [o.a.k.c.NetworkClient NetworkClient.java:764] [Producer clientId=kafka-client] Connection\nto node -1 (xxx.xxx.net/10.222.10.218:9093) failed authentication due to: SSL handshake failed\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,468] [WARN] [o.a.k.c.NetworkClient NetworkClient.java:1065] [Producer clientId=kafka-client] Bootstrap bro\nker xxx.xxx.net:9093 (id: -1 rack: null) disconnected\nswarm-app.so5byi81c6md@swarmt33    | [2023-02-09 14:31:42,469] [DEBUG] [o.a.k.c.p.KafkaProducer KafkaProducer.java:1063] [Producer clientId=kafka-client] Exception\noccurred during message send:\nswarm-app.so5byi81c6md@swarmt33    | org.apache.kafka.common.errors.SslAuthenticationException: SSL handshake failed\nswarm-app.so5byi81c6md@swarmt33    | Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certifi\ncation path to requested target\n</code></pre>\n<p>Below is my <code>application.properties</code> file</p>\n<pre><code>spring.kafka.bootstrap-servers=xxx.xxx.xxx.xxx:9093\nspring.kafka.properties.schema.registry.url=https://xxx.xxx.xxx.xxx\nspring.kafka.producer.key-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\nspring.kafka.producer.value-serializer=io.confluent.kafka.serializers.KafkaAvroSerializer\nspring.kafka.consumer.key-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\nspring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\n\nspring.kafka.properties.security.protocol=SSL\nspring.kafka.ssl.protocol=SSL\nspring.kafka.ssl.trust-store-location=file:/var/lib/app/config/truststore.jks\nspring.kafka.ssl.trust-store-type=JKS\nspring.kafka.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.ssl.key-store-type=JKS\n\nspring.kafka.producer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.producer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.producer.ssl.protocol=SSL\nspring.kafka.producer.security.protocol=SSL\nspring.kafka.producer.ssl.key-store-type=JKS\n\nspring.kafka.consumer.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.consumer.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.consumer.ssl.protocol=SSL\nspring.kafka.consumer.ssl.trust-store-type=JKS\nspring.kafka.consumer.security.protocol=SSL\n\nspring.kafka.schema.registry.ssl.key-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.schema.registry.ssl.trust-store-location=file:/var/lib/app/config/keystore.jks\nspring.kafka.schema.registry.ssl.protocol=SSL\nspring.kafka.schema.registry.ssl.trust-store-type=JKS\nspring.kafka.schema.registry.security.protocol=SSL\n\n\nspring.kafka.producer.client-id=clientId\nspring.kafka.consumer.client-id=clientId\nspring.kafka.consumer.group-id=groupId\n\n\n#\n# Credentials\n#\n\n# Kafka\nspring.kafka.ssl.trust-store-password=changeit\nspring.kafka.ssl.key-store-password=changeit\nspring.kafka.producer.ssl.key-store-password=changeit\nspring.kafka.producer.ssl.trust-store-password=changeit\nspring.kafka.consumer.ssl.trust-store-password=changeit\nspring.kafka.consumer.ssl.key-store-password=changeit\nspring.kafka.schema.registry.ssl.trust-store-password=changeit\nspring.kafka.schema.registry.ssl.key-store-password=changeit\n</code></pre>\n<p>Any ideas as to how to make the <code>Serializer</code> pickup the SSL config?</p>\n<p>Current Stack:</p>\n<ul>\n<li>Spring boot 3.0.2</li>\n<li>Kafka Avro Serializer 7.3.1</li>\n<li>Spring Kafka 3.0.2</li>\n<li>Spring 6.0.4</li>\n</ul>\n"},{"tags":["java","hibernate","jpa","jpa-2.0","ejb-3.0"],"answers":[{"comments":[{"owner":{"account_id":5596885,"reputation":945,"user_id":4434367,"display_name":"Mate Šimović"},"score":8,"creation_date":1495398360,"post_id":26607059,"comment_id":75223100,"body_markdown":"Try using Hibernate cascade annotations instead of JPA annotations. Eg.,@Cascade(CascadeType.SAVE_UPDATE) would replace {CascadeType.PERSIST,CascadeType.MERGE }. Check this article: [JPA &amp; Hibernate annotation common mistake](https://www.mkyong.com/hibernate/cascade-jpa-hibernate-annotation-common-mistake/)","body":"Try using Hibernate cascade annotations instead of JPA annotations. Eg.,@Cascade(CascadeType.SAVE_UPDATE) would replace {CascadeType.PERSIST,CascadeType.MERGE }. Check this article: <a href=\"https://www.mkyong.com/hibernate/cascade-jpa-hibernate-annotation-common-mistake/\" rel=\"nofollow noreferrer\">JPA &amp; Hibernate annotation common mistake</a>"},{"owner":{"account_id":3111325,"reputation":3304,"user_id":2632991,"accept_rate":42,"display_name":"El Mac"},"score":5,"creation_date":1526468461,"post_id":26607059,"comment_id":87754163,"body_markdown":"What effect does this have if I want to merge existing entities? What happens when I remove `CascadeType.MERGE`?","body":"What effect does this have if I want to merge existing entities? What happens when I remove <code>CascadeType.MERGE</code>?"},{"owner":{"account_id":440302,"reputation":5649,"user_id":829796,"accept_rate":69,"display_name":"securecurve"},"score":0,"creation_date":1527071421,"post_id":26607059,"comment_id":87984864,"body_markdown":"Yes, having the same question, what happens when we remove the MERGE cascade?","body":"Yes, having the same question, what happens when we remove the MERGE cascade?"},{"owner":{"account_id":440302,"reputation":5649,"user_id":829796,"accept_rate":69,"display_name":"securecurve"},"score":0,"creation_date":1527084416,"post_id":26607059,"comment_id":87993842,"body_markdown":"I think I know why. It means if the entity is merged, the related entity is merged too, which is not the case in this situation, because we only want to create a new Role, but we don&#39;t want to create/update a Permission.","body":"I think I know why. It means if the entity is merged, the related entity is merged too, which is not the case in this situation, because we only want to create a new Role, but we don&#39;t want to create/update a Permission."},{"owner":{"account_id":10057869,"reputation":744,"user_id":7435524,"display_name":"KareemJ"},"score":0,"creation_date":1609606447,"post_id":26607059,"comment_id":115876810,"body_markdown":"What if I&#39;m not using Hibernate?","body":"What if I&#39;m not using Hibernate?"}],"tags":[],"owner":{"account_id":1222524,"reputation":3794,"user_id":1188867,"accept_rate":60,"display_name":"user1188867"},"comment_count":5,"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1414495332,"creation_date":1414495332,"answer_id":26607059,"question_id":26591521,"body_markdown":"Fixed it by removing CascadeType.MERGE on Permission entity","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Fixed it by removing CascadeType.MERGE on Permission entity</p>\n"},{"comments":[{"owner":{"account_id":5248259,"reputation":4894,"user_id":4193263,"display_name":"ByteHamster"},"score":6,"creation_date":1424366067,"post_id":28611964,"comment_id":45528818,"body_markdown":"Please quote the most relevant part of the link, in case the target site is unreachable or goes permanently offline. See [How do I write a good answer](http://stackoverflow.com/help/how-to-answer).","body":"Please quote the most relevant part of the link, in case the target site is unreachable or goes permanently offline. See <a href=\"http://stackoverflow.com/help/how-to-answer\">How do I write a good answer</a>."},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1480354250,"post_id":28611964,"comment_id":68916866,"body_markdown":"Or in case, my network blocks some CSS files, the site is completely unreadable.","body":"Or in case, my network blocks some CSS files, the site is completely unreadable."},{"owner":{"account_id":1289016,"reputation":697,"user_id":1781376,"accept_rate":88,"display_name":"GuiRitter"},"score":0,"creation_date":1577105979,"post_id":28611964,"comment_id":105092685,"body_markdown":"The link is about the `hibernate.event.merge.entity_copy_observer` property, which is already (at the time of this writing) covered by other answers.","body":"The link is about the <code>hibernate.event.merge.entity_copy_observer</code> property, which is already (at the time of this writing) covered by other answers."}],"tags":[],"owner":{"account_id":4680854,"reputation":11,"user_id":3789608,"display_name":"user3789608"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1424364257,"creation_date":1424364257,"answer_id":28611964,"question_id":26591521,"body_markdown":"For Hibernate see the workaround here [HHH-9106][1].\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-9106 &quot;HHH-9106&quot;","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>For Hibernate see the workaround here <a href=\"https://hibernate.atlassian.net/browse/HHH-9106\" rel=\"nofollow\" title=\"HHH-9106\">HHH-9106</a>.</p>\n"},{"comments":[{"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"score":17,"creation_date":1479759287,"post_id":32182410,"comment_id":68684245,"body_markdown":"This property applies to the entire persistent context and should only be used for testing purposes. If you set it to &quot;allow&quot; or &quot;log&quot;, Hibernate will proceed with merging both the detached entities sequentially. However the order of the merge is not defined. So this can cause accidental data corruption. The correct solution is to fix the entity relationship.","body":"This property applies to the entire persistent context and should only be used for testing purposes. If you set it to &quot;allow&quot; or &quot;log&quot;, Hibernate will proceed with merging both the detached entities sequentially. However the order of the merge is not defined. So this can cause accidental data corruption. The correct solution is to fix the entity relationship."},{"owner":{"account_id":3111325,"reputation":3304,"user_id":2632991,"accept_rate":42,"display_name":"El Mac"},"score":4,"creation_date":1526468521,"post_id":32182410,"comment_id":87754203,"body_markdown":"@VHS can you explain what happens if I remove `CascadeType.MERGE`? I see it as the answer everywhere, but I *bet* it is a breaking change with side effects.","body":"@VHS can you explain what happens if I remove <code>CascadeType.MERGE</code>? I see it as the answer everywhere, but I <i>bet</i> it is a breaking change with side effects."},{"owner":{"account_id":1396943,"reputation":2013,"user_id":1326534,"accept_rate":62,"display_name":"marcotama"},"score":0,"creation_date":1615505131,"post_id":32182410,"comment_id":117718997,"body_markdown":"@ElMac without `CascadeType.MERGE`, if you save an object that has a reference to another, you need to manually also store that other object; with `CascadeType.MERGE`, on the other hand, Hibernate does it for you automatically. So you are correct, this might cause other problems.","body":"@ElMac without <code>CascadeType.MERGE</code>, if you save an object that has a reference to another, you need to manually also store that other object; with <code>CascadeType.MERGE</code>, on the other hand, Hibernate does it for you automatically. So you are correct, this might cause other problems."}],"tags":[],"owner":{"account_id":1831658,"reputation":1506,"user_id":1662935,"accept_rate":63,"display_name":"Suraj Menon"},"comment_count":3,"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1440419487,"creation_date":1440419487,"answer_id":32182410,"question_id":26591521,"body_markdown":"The correct solution would have been to upgrade to hibernate 4.2.15 / 4.3.6 or above and add the following lines to your persistence.xml:\r\n\r\n`&lt;property name=&quot;hibernate.event.merge.entity_copy_observer&quot; value=&quot;allow&quot;/&gt;` \r\n\r\n","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>The correct solution would have been to upgrade to hibernate 4.2.15 / 4.3.6 or above and add the following lines to your persistence.xml:</p>\n\n<p><code>&lt;property name=\"hibernate.event.merge.entity_copy_observer\" value=\"allow\"/&gt;</code> </p>\n"},{"tags":[],"owner":{"account_id":6871280,"reputation":3,"user_id":5281518,"display_name":"Beagle"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1440927467,"creation_date":1440926780,"answer_id":32295067,"question_id":26591521,"body_markdown":"Just a note to say I am using Hibernate Core 4.3.8 in a Spring MVC application, based on Spring Core 4.1.6. The workaround:\r\n\r\n    &lt;property name=&quot;hibernate.event.merge.entity_copy_observer&quot; value=&quot;allow&quot;/&gt;\r\n\r\nDid not work for me. I needed to remove the CascadeType.MERGE in order to correctly populate an @ManyToMany. Not sure if newer versions of Hibernate have fixed this.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Just a note to say I am using Hibernate Core 4.3.8 in a Spring MVC application, based on Spring Core 4.1.6. The workaround:</p>\n\n<pre><code>&lt;property name=\"hibernate.event.merge.entity_copy_observer\" value=\"allow\"/&gt;\n</code></pre>\n\n<p>Did not work for me. I needed to remove the CascadeType.MERGE in order to correctly populate an @ManyToMany. Not sure if newer versions of Hibernate have fixed this.</p>\n"},{"comments":[{"owner":{"account_id":2404155,"reputation":3688,"user_id":2101117,"display_name":"Aleksandar"},"score":2,"creation_date":1497947646,"post_id":34420512,"comment_id":76280722,"body_markdown":"Great answer! Thank You! IntelliJ has a procedure for generating `equals` and `hashCode`, You can check it out [on their website](https://www.jetbrains.com/help/idea/generating-equals-and-hashcode.html).","body":"Great answer! Thank You! IntelliJ has a procedure for generating <code>equals</code> and <code>hashCode</code>, You can check it out <a href=\"https://www.jetbrains.com/help/idea/generating-equals-and-hashcode.html\" rel=\"nofollow noreferrer\">on their website</a>."},{"owner":{"account_id":994336,"reputation":841,"user_id":1010678,"accept_rate":65,"display_name":"SP5RFD"},"score":1,"creation_date":1500967591,"post_id":34420512,"comment_id":77554743,"body_markdown":"This helped! I&#39;m using Lombok&#39;s Data annotation to generate all my additional methods, when changed to Getter Setter instead of @Data the problem has gone. Thank you.","body":"This helped! I&#39;m using Lombok&#39;s Data annotation to generate all my additional methods, when changed to Getter Setter instead of @Data the problem has gone. Thank you."},{"owner":{"account_id":10057869,"reputation":744,"user_id":7435524,"display_name":"KareemJ"},"score":0,"creation_date":1609609157,"post_id":34420512,"comment_id":115877792,"body_markdown":"`equals` and `hashCode` of the parent entity or the detached entity?","body":"<code>equals</code> and <code>hashCode</code> of the parent entity or the detached entity?"},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1696879688,"post_id":34420512,"comment_id":136207010,"body_markdown":"that... literally made zero difference dude","body":"that... literally made zero difference dude"}],"tags":[],"owner":{"account_id":1652963,"reputation":449,"user_id":1523177,"display_name":"user1523177"},"comment_count":4,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1450802397,"creation_date":1450802397,"answer_id":34420512,"question_id":26591521,"body_markdown":"Check your equals and hashCode method, ensure that it is consistent and correctly defined. For example I had copied and mistakenly pasted another-class when computing hashCode, this caused the object never to be equal with itself :(.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Check your equals and hashCode method, ensure that it is consistent and correctly defined. For example I had copied and mistakenly pasted another-class when computing hashCode, this caused the object never to be equal with itself :(.</p>\n"},{"tags":[],"owner":{"account_id":3769739,"reputation":370,"user_id":3132275,"accept_rate":50,"display_name":"Asif Aminur Rashid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526924576,"creation_date":1526924576,"answer_id":50454046,"question_id":26591521,"body_markdown":"In my case, moving the fetch operation and save operation in same @Transactional block solved the problem.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>In my case, moving the fetch operation and save operation in same @Transactional block solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":4111628,"reputation":41,"user_id":3374275,"display_name":"razi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1532806100,"creation_date":1532806100,"answer_id":51574551,"question_id":26591521,"body_markdown":"error occurs when we have multiple object of same time in HashSet.Possible due to incorrect hash function.Hashset check equality of object on the basis of hash function between two objects.\n# Way to debug #\nJust try to print hashset you will see multiple object of same type.\n# Solution::# \n - Use HashSet while defining one to many relationships.\n - Avoid using Lists. \n - Make sure your hash function should be correct.","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>error occurs when we have multiple object of same time in HashSet.Possible due to incorrect hash function.Hashset check equality of object on the basis of hash function between two objects.</p>\n<h1>Way to debug</h1>\n<p>Just try to print hashset you will see multiple object of same type.</p>\n<h1>Solution::#</h1>\n<ul>\n<li>Use HashSet while defining one to many relationships.</li>\n<li>Avoid using Lists.</li>\n<li>Make sure your hash function should be correct.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":224209,"reputation":81,"user_id":483866,"display_name":"udoline"},"score":0,"creation_date":1554895908,"post_id":52269979,"comment_id":97917098,"body_markdown":"Works for me ... :D (Spring Boot 1.4.1.RELEASE)","body":"Works for me ... :D (Spring Boot 1.4.1.RELEASE)"}],"tags":[],"owner":{"account_id":7513077,"reputation":630,"user_id":5707426,"display_name":"W.Man"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1536647712,"creation_date":1536647712,"answer_id":52269979,"question_id":26591521,"body_markdown":"I ran into the same problem too and solved it by add a few configs in `application.yaml` files.\r\n\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            enable_lazy_load_no_trans: true\r\n            event:\r\n              merge:\r\n                entity_copy_observer: allow\r\n\r\n\r\nSee it here [How to persist a new entity containing multiple identical instances of another unpersisted entity with spring-boot and JPA?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52250630/5707426","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I ran into the same problem too and solved it by add a few configs in <code>application.yaml</code> files.</p>\n\n<pre><code>  jpa:\n    properties:\n      hibernate:\n        enable_lazy_load_no_trans: true\n        event:\n          merge:\n            entity_copy_observer: allow\n</code></pre>\n\n<p>See it here <a href=\"https://stackoverflow.com/a/52250630/5707426\">How to persist a new entity containing multiple identical instances of another unpersisted entity with spring-boot and JPA?</a></p>\n"},{"tags":[],"owner":{"account_id":9428985,"reputation":1,"user_id":7013115,"display_name":"Paul Linux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610974415,"creation_date":1544212637,"answer_id":53676082,"question_id":26591521,"body_markdown":"    **@LazyCollection(LazyCollectionOption.FALSE** \r\n   \r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n\r\n    @JoinColumn(name = &quot;translate_id&quot;)","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<pre><code>**@LazyCollection(LazyCollectionOption.FALSE** \n\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n\n@JoinColumn(name = &quot;translate_id&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13149223,"reputation":689,"user_id":9498369,"display_name":"Arul Rozario"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1550376553,"creation_date":1550376553,"answer_id":54730020,"question_id":26591521,"body_markdown":"I could fix it by replacing \r\n\r\n    cascade = CascadeType.All\r\n\r\nwith\r\n\r\n    casecade={CascadeType.PERSIST,CascadeType.REMOVE}","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I could fix it by replacing </p>\n\n<pre><code>cascade = CascadeType.All\n</code></pre>\n\n<p>with</p>\n\n<pre><code>casecade={CascadeType.PERSIST,CascadeType.REMOVE}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1289016,"reputation":697,"user_id":1781376,"accept_rate":88,"display_name":"GuiRitter"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1577107080,"creation_date":1577107080,"answer_id":59456039,"question_id":26591521,"body_markdown":"Like others who based their answers on [HHH-9106](https://hibernate.atlassian.net/browse/HHH-9106) but, because I&#39;m using Spring Boot with Java-based annotation, I had to use the following in `application.properties`:\r\n\r\n    spring.jpa.properties.hibernate.event.merge.entity_copy_observer=allow\r\n","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>Like others who based their answers on <a href=\"https://hibernate.atlassian.net/browse/HHH-9106\" rel=\"noreferrer\">HHH-9106</a> but, because I'm using Spring Boot with Java-based annotation, I had to use the following in <code>application.properties</code>:</p>\n\n<pre><code>spring.jpa.properties.hibernate.event.merge.entity_copy_observer=allow\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2142253,"reputation":878,"user_id":1900629,"accept_rate":64,"display_name":"Daniel Jipa"},"score":0,"creation_date":1626192896,"post_id":65141220,"comment_id":120825533,"body_markdown":"never do CascadeType.ALL on ManyToMany","body":"never do CascadeType.ALL on ManyToMany"}],"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607074908,"creation_date":1607074908,"answer_id":65141220,"question_id":26591521,"body_markdown":"I fixed this issue by removing `cascade = CascadeType.ALL` in your case (`cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}`)\r\n\r\nMy code source:\r\n\r\n**Before**\r\n\r\n    @ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n        name = &quot;link_module_parcour&quot;,\r\n        joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n        inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    @BatchSize(size = 20)\r\n    private Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();\r\n\r\n**After**\r\n\r\n    @ManyToMany(fetch=FetchType.EAGER)\r\n    @JoinTable(\r\n        name = &quot;link_module_parcour&quot;,\r\n        joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\r\n        inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    @BatchSize(size = 20)\r\n    private Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I fixed this issue by removing <code>cascade = CascadeType.ALL</code> in your case (<code>cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}</code>)</p>\n<p>My code source:</p>\n<p><strong>Before</strong></p>\n<pre><code>@ManyToMany(fetch=FetchType.EAGER, cascade = CascadeType.ALL)\n@JoinTable(\n    name = &quot;link_module_parcour&quot;,\n    joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\n    inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n@BatchSize(size = 20)\nprivate Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>After</strong></p>\n<pre><code>@ManyToMany(fetch=FetchType.EAGER)\n@JoinTable(\n    name = &quot;link_module_parcour&quot;,\n    joinColumns = {@JoinColumn(name = &quot;module_id&quot;, referencedColumnName = &quot;id&quot;)},\n    inverseJoinColumns = {@JoinColumn(name = &quot;parcour_id&quot;, referencedColumnName = &quot;id&quot;)})\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n@BatchSize(size = 20)\nprivate Set&lt;Parcour&gt; parcours = new HashSet&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10554511,"reputation":11,"user_id":7776163,"display_name":"Muathe Jamil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669727396,"creation_date":1669727396,"answer_id":74614607,"question_id":26591521,"body_markdown":"If you remove the cascade merge you won&#39;t be able to update the entity when updating the parent. \r\nThe case will be right if you don&#39;t want to update the child, but if you want to update the child when updating the parent removing merge will only not show the error but the issue will still exist.\r\n\r\nWhat happened with me: I got the same exception but I need Cascade.merge. After searching I found that some of the values I was using when creating the entity for the first time are updated and removed from the code but in the database, they still exist and when removing them from the database also work as expected. \r\n\r\nTo clarify the case: \r\nLet&#39;s say I have an enum(&#39;ACTIVE&#39;, &#39;NOT_ACTIVE&#39;, &#39;SUSPENDED&#39;) and the field using this enum is key, when updating the code and removing the NOT_ACTIVE we should alter the database table with the new values enum(&#39;ACTIVE&#39;, &#39;SUSPENDED&#39;)","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>If you remove the cascade merge you won't be able to update the entity when updating the parent.\nThe case will be right if you don't want to update the child, but if you want to update the child when updating the parent removing merge will only not show the error but the issue will still exist.</p>\n<p>What happened with me: I got the same exception but I need Cascade.merge. After searching I found that some of the values I was using when creating the entity for the first time are updated and removed from the code but in the database, they still exist and when removing them from the database also work as expected.</p>\n<p>To clarify the case:\nLet's say I have an enum('ACTIVE', 'NOT_ACTIVE', 'SUSPENDED') and the field using this enum is key, when updating the code and removing the NOT_ACTIVE we should alter the database table with the new values enum('ACTIVE', 'SUSPENDED')</p>\n"},{"tags":[],"owner":{"account_id":16351408,"reputation":123,"user_id":11813982,"display_name":"Shrip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670870239,"creation_date":1670870239,"answer_id":74775810,"question_id":26591521,"body_markdown":"I had similar issue and it is resolved when I replace `CascadeType.All` with `{CascadeType.persist, CascadeType.remove}`.\r\n\r\nLet me know if it works. ","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I had similar issue and it is resolved when I replace <code>CascadeType.All</code> with <code>{CascadeType.persist, CascadeType.remove}</code>.</p>\n<p>Let me know if it works.</p>\n"},{"tags":[],"owner":{"account_id":9049597,"reputation":88,"user_id":6740371,"display_name":"Mohammed ESSABRI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675959452,"creation_date":1675959452,"answer_id":75401430,"question_id":26591521,"body_markdown":"We can also resolve that using `CascadeType.DETACH` . In this case, if we need to update something in Permission, we have to update Permession separately and not by updating the related entity! ","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>We can also resolve that using <code>CascadeType.DETACH</code> . In this case, if we need to update something in Permission, we have to update Permession separately and not by updating the related entity!</p>\n"}],"owner":{"account_id":1222524,"reputation":3794,"user_id":1188867,"accept_rate":60,"display_name":"user1188867"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122927,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"accepted_answer_id":26607059,"answer_count":15,"score":74,"last_activity_date":1675959452,"creation_date":1414425161,"question_id":26591521,"body_markdown":"I have 3 entities with ManyToMany relationships:\r\n\r\n**Role Entity:**\r\n\r\n    @Entity\r\n    public class Role {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer roleID;\r\n        private String roleName;\r\n        private String description;\r\n    \r\n        @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;role_permission&quot;, joinColumns = {@JoinColumn(name = &quot;role_id&quot;)}, inverseJoinColumns = {@JoinColumn(name = &quot;permission_id&quot;)})\r\n        private Set&lt;Permission&gt; permissions = new LinkedHashSet&lt;Permission&gt;();\r\n    }\r\n\r\n**Permission Entity:**\r\n\r\n    @Entity\r\n    public class Permission {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int permissionID;\r\n        private String permissionName;\r\n        private String description;\r\n    \r\n        @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;permission_functionality&quot;, joinColumns = {@JoinColumn(name = &quot;permission_id&quot;)}, inverseJoinColumns = {@JoinColumn(name = &quot;functionality_id&quot;)})\r\n        private Set&lt;Functionality&gt; functionalities = new LinkedHashSet&lt;&gt;();\r\n    }\r\n\r\n**Functionality Entity:**\r\n\r\n    @Entity\r\n    public class Functionality {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private String name;\r\n    }\r\n\r\n\r\nI did the following:\r\n\r\n 1. I have created 3 functionalities:\r\n\r\n        Functionality1, Functionality2, Functionality3\r\n   \r\n 2. Then created 2 permissions:\r\n\r\n        Permission1 with Functionality1, Functionality2\r\n\r\n        Permission2 with Functionality2, Functionality3\r\n\r\n 3. Then created a role:\r\n\r\n        Role1 with Permission1 and Permission2 \r\n\r\nI am getting the following exception:\r\n\r\n&gt; java.lang.IllegalStateException: Multiple representations of the same entity [com.persistence.entity.admin.Functionality#1] are being merged. Detached: [com.persistence.entity.admin.Functionality@4729256a]; Detached: [com.persistence.entity.admin.Functionality@56ed25db]\r\n","title":"java.lang.IllegalStateException: Multiple representations of the same entity with @ManyToMany 3 entities","body":"<p>I have 3 entities with ManyToMany relationships:</p>\n\n<p><strong>Role Entity:</strong></p>\n\n<pre><code>@Entity\npublic class Role {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer roleID;\n    private String roleName;\n    private String description;\n\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\n    @JoinTable(name = \"role_permission\", joinColumns = {@JoinColumn(name = \"role_id\")}, inverseJoinColumns = {@JoinColumn(name = \"permission_id\")})\n    private Set&lt;Permission&gt; permissions = new LinkedHashSet&lt;Permission&gt;();\n}\n</code></pre>\n\n<p><strong>Permission Entity:</strong></p>\n\n<pre><code>@Entity\npublic class Permission {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int permissionID;\n    private String permissionName;\n    private String description;\n\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH}, fetch = FetchType.EAGER)\n    @JoinTable(name = \"permission_functionality\", joinColumns = {@JoinColumn(name = \"permission_id\")}, inverseJoinColumns = {@JoinColumn(name = \"functionality_id\")})\n    private Set&lt;Functionality&gt; functionalities = new LinkedHashSet&lt;&gt;();\n}\n</code></pre>\n\n<p><strong>Functionality Entity:</strong></p>\n\n<pre><code>@Entity\npublic class Functionality {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n}\n</code></pre>\n\n<p>I did the following:</p>\n\n<ol>\n<li><p>I have created 3 functionalities:</p>\n\n<pre><code>Functionality1, Functionality2, Functionality3\n</code></pre></li>\n<li><p>Then created 2 permissions:</p>\n\n<pre><code>Permission1 with Functionality1, Functionality2\n\nPermission2 with Functionality2, Functionality3\n</code></pre></li>\n<li><p>Then created a role:</p>\n\n<pre><code>Role1 with Permission1 and Permission2 \n</code></pre></li>\n</ol>\n\n<p>I am getting the following exception:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Multiple representations of the same entity [com.persistence.entity.admin.Functionality#1] are being merged. Detached: [com.persistence.entity.admin.Functionality@4729256a]; Detached: [com.persistence.entity.admin.Functionality@56ed25db]</p>\n</blockquote>\n"},{"tags":["java","generics","wildcard","javac","ecj"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675957888,"post_id":75401080,"comment_id":133043445,"body_markdown":"Historically when the Eclipse compiler and javac disagree it *tends* to be javac that is correct, but I&#39;ve seen cases in the other direction as well. Did you try with different OpenJDK versions? Even if not, please specify the exact version of both Eclipse and `javac`.","body":"Historically when the Eclipse compiler and javac disagree it <i>tends</i> to be javac that is correct, but I&#39;ve seen cases in the other direction as well. Did you try with different OpenJDK versions? Even if not, please specify the exact version of both Eclipse and <code>javac</code>."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":1,"creation_date":1675958158,"post_id":75401080,"comment_id":133043573,"body_markdown":"@JoachimSauer I have added the versions to the question. I have also tried older versions (i.e. Java 17) before updating to test the latest versions of OpenJDK javac and Eclipse.","body":"@JoachimSauer I have added the versions to the question. I have also tried older versions (i.e. Java 17) before updating to test the latest versions of OpenJDK javac and Eclipse."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1675958354,"post_id":75401080,"comment_id":133043653,"body_markdown":"My gut feeling is that `javac` is correct here, since there is no correct value for `T` to infer, but I don&#39;t know the rules well enough to know for sure. Sorry.","body":"My gut feeling is that <code>javac</code> is correct here, since there is no correct value for <code>T</code> to infer, but I don&#39;t know the rules well enough to know for sure. Sorry."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1675958528,"post_id":75401080,"comment_id":133043714,"body_markdown":"Yes, thanks. Assuming you are correct, an explanation with the JLS would still be interesting.","body":"Yes, thanks. Assuming you are correct, an explanation with the JLS would still be interesting."}],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675959171,"creation_date":1675957713,"question_id":75401080,"body_markdown":"The following code compiles and runs just fine with Eclipse 2022-12 (4.26.0).\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    List&lt;List&lt;?&gt;&gt; list = Arrays.asList(Arrays.asList(&quot;test&quot;));\r\n    System.out.println(test(list));\r\n}\r\n\r\npublic static &lt;T&gt; T test(List&lt;? extends List&lt;T&gt;&gt; list) {\r\n    return list.get(0).get(0);\r\n}\r\n```\r\n\r\nHowever, when compiling with OpenJDK javac 19.0.2 I get the following error.\r\n\r\n```none\r\nerror: method test in class Test cannot be applied to given types;\r\n        System.out.println(test(list));\r\n                           ^\r\n  required: List&lt;? extends List&lt;T&gt;&gt;\r\n  found:    List&lt;List&lt;?&gt;&gt;\r\n  reason: cannot infer type-variable(s) T\r\n    (argument mismatch; List&lt;List&lt;?&gt;&gt; cannot be converted to List&lt;? extends List&lt;T&gt;&gt;)\r\n  where T is a type-variable:\r\n    T extends Object declared in method &lt;T&gt;test(List&lt;? extends List&lt;T&gt;&gt;)\r\n```\r\n\r\nWhich compiler is correct in this case, and why? Is there a JLS that specifies that this assignment is (not) allowed? I have also read [this][1] answer. However, this doesn&#39;t help me to figure out if the assignment is allowed or not because the case of a generic type parameter `T` is not treated there.\r\n\r\nHere is an example where this is relevant.\r\n\r\n```java\r\nExecutorService executorService = /* ... */;\r\nList&lt;Callable&lt;?&gt;&gt; callables = /* ... */;\r\nexecutorService.invokeAll(callables);\r\n```\r\n\r\nThis code compiles with Eclipse but not with OpenJDK javac.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24738592/3882565","title":"Eclipse compiler and OpenJDK javac behave differently when assigning generic types with wildcards","body":"<p>The following code compiles and runs just fine with Eclipse 2022-12 (4.26.0).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    List&lt;List&lt;?&gt;&gt; list = Arrays.asList(Arrays.asList(&quot;test&quot;));\n    System.out.println(test(list));\n}\n\npublic static &lt;T&gt; T test(List&lt;? extends List&lt;T&gt;&gt; list) {\n    return list.get(0).get(0);\n}\n</code></pre>\n<p>However, when compiling with OpenJDK javac 19.0.2 I get the following error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: method test in class Test cannot be applied to given types;\n        System.out.println(test(list));\n                           ^\n  required: List&lt;? extends List&lt;T&gt;&gt;\n  found:    List&lt;List&lt;?&gt;&gt;\n  reason: cannot infer type-variable(s) T\n    (argument mismatch; List&lt;List&lt;?&gt;&gt; cannot be converted to List&lt;? extends List&lt;T&gt;&gt;)\n  where T is a type-variable:\n    T extends Object declared in method &lt;T&gt;test(List&lt;? extends List&lt;T&gt;&gt;)\n</code></pre>\n<p>Which compiler is correct in this case, and why? Is there a JLS that specifies that this assignment is (not) allowed? I have also read <a href=\"https://stackoverflow.com/a/24738592/3882565\">this</a> answer. However, this doesn't help me to figure out if the assignment is allowed or not because the case of a generic type parameter <code>T</code> is not treated there.</p>\n<p>Here is an example where this is relevant.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executorService = /* ... */;\nList&lt;Callable&lt;?&gt;&gt; callables = /* ... */;\nexecutorService.invokeAll(callables);\n</code></pre>\n<p>This code compiles with Eclipse but not with OpenJDK javac.</p>\n"},{"tags":["java","spring","gradle","spring-boot"],"comments":[{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":0,"creation_date":1453562492,"post_id":34963056,"comment_id":57660762,"body_markdown":"You want to access gradle build script variables (such as version) programatically from your spring boot app?","body":"You want to access gradle build script variables (such as version) programatically from your spring boot app?"},{"owner":{"account_id":2128462,"reputation":5739,"user_id":1889928,"accept_rate":89,"display_name":"yyunikov"},"score":0,"creation_date":1476350114,"post_id":34963056,"comment_id":67310779,"body_markdown":"@Eric Have you finally managed to do that?","body":"@Eric Have you finally managed to do that?"}],"answers":[{"comments":[{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1453593351,"post_id":34969908,"comment_id":57670920,"body_markdown":"Hi Andy, thanks for the reply. I have tried this, but whenever I run the Spring Boot application from my IDE, I get the error: Could not resolve placeholder &#39;version&#39; in string value &quot;${version}&quot;. I added this to my application.properties: `info.build.version=${version}`, and this to my controller:     `@Value(&quot;${info.build.version}&quot;) private String applicationVersion;`","body":"Hi Andy, thanks for the reply. I have tried this, but whenever I run the Spring Boot application from my IDE, I get the error: Could not resolve placeholder &#39;version&#39; in string value &quot;${version}&quot;. I added this to my application.properties: <code>info.build.version=${version}</code>, and this to my controller:     <code>@Value(&quot;${info.build.version}&quot;) private String applicationVersion;</code>"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1453626776,"post_id":34969908,"comment_id":57677591,"body_markdown":"@ErikPragt Depending on what IDE you are using, and how you have imported your Gradle project, Gradle probably isn&#39;t being run so it hasn&#39;t had a chance to process your application.properties file. Does it work on the command line (`./gradlew bootRun`, for example)?","body":"@ErikPragt Depending on what IDE you are using, and how you have imported your Gradle project, Gradle probably isn&#39;t being run so it hasn&#39;t had a chance to process your application.properties file. Does it work on the command line (<code>.&#47;gradlew bootRun</code>, for example)?"},{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1453635722,"post_id":34969908,"comment_id":57680054,"body_markdown":"yes, that&#39;s of course a bit silly of me, I run it from my IDE, not from Gradle. Is there also a way to do it in a way that it always works? For example, the ResourceBanner.java of Spring Boot does a similar thing....","body":"yes, that&#39;s of course a bit silly of me, I run it from my IDE, not from Gradle. Is there also a way to do it in a way that it always works? For example, the ResourceBanner.java of Spring Boot does a similar thing...."},{"owner":{"account_id":2258168,"reputation":30504,"user_id":1988876,"accept_rate":73,"display_name":"brain storm"},"score":0,"creation_date":1470263717,"post_id":34969908,"comment_id":64883226,"body_markdown":"@AndyWilkinson: can you help with this post. http://stackoverflow.com/questions/38752485/how-to-ignore-placeholder-value-if-not-supplied-in-properties-file-in-spring-boo","body":"@AndyWilkinson: can you help with this post. <a href=\"http://stackoverflow.com/questions/38752485/how-to-ignore-placeholder-value-if-not-supplied-in-properties-file-in-spring-boo\" title=\"how to ignore placeholder value if not supplied in properties file in spring boo\">stackoverflow.com/questions/38752485/&hellip;</a>"},{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":0,"creation_date":1483807325,"post_id":34969908,"comment_id":70253394,"body_markdown":"This breaks integration tests.","body":"This breaks integration tests."},{"owner":{"account_id":4496487,"reputation":1008,"user_id":3656173,"display_name":"Tobias Tobiasen"},"score":0,"creation_date":1497594103,"post_id":34969908,"comment_id":76152315,"body_markdown":"You can use Spring profiles to enable running it from the IDE see my answer here  https://stackoverflow.com/questions/38752485/how-to-skip-placeholder-value-if-not-supplied-in-properties-file-in-spring-boot/44582048#44582048","body":"You can use Spring profiles to enable running it from the IDE see my answer here  <a href=\"https://stackoverflow.com/questions/38752485/how-to-skip-placeholder-value-if-not-supplied-in-properties-file-in-spring-boot/44582048#44582048\" title=\"how to skip placeholder value if not supplied in properties file in spring boot\">stackoverflow.com/questions/38752485/&hellip;</a>"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":6,"down_vote_count":2,"up_vote_count":19,"is_accepted":true,"score":17,"last_activity_date":1453589347,"creation_date":1453589347,"answer_id":34969908,"question_id":34963056,"body_markdown":"As [described in the reference documentation](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info-automatic-expansion-gradle), you need to instruct Gradle to process you application&#39;s resources so that it will replace the `${version}` placeholder with the project&#39;s version:\r\n\r\n    processResources {\r\n        expand(project.properties)\r\n    }\r\n\r\nTo be safe, you may want to narrow things down so that only `application.properties` is processed:\r\n\r\n    processResources {\r\n        filesMatching(&#39;application.properties&#39;) {\r\n            expand(project.properties)\r\n        }\r\n    }\r\n\r\nNow, assuming that your property is named `info.build.version`, it&#39;ll be available via `@Value`:\r\n\r\n    @Value(&quot;${info.build.version}&quot;)","title":"Getting the Gradle.build version into Spring Boot","body":"<p>As <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready-application-info-automatic-expansion-gradle\" rel=\"noreferrer\">described in the reference documentation</a>, you need to instruct Gradle to process you application's resources so that it will replace the <code>${version}</code> placeholder with the project's version:</p>\n\n<pre><code>processResources {\n    expand(project.properties)\n}\n</code></pre>\n\n<p>To be safe, you may want to narrow things down so that only <code>application.properties</code> is processed:</p>\n\n<pre><code>processResources {\n    filesMatching('application.properties') {\n        expand(project.properties)\n    }\n}\n</code></pre>\n\n<p>Now, assuming that your property is named <code>info.build.version</code>, it'll be available via <code>@Value</code>:</p>\n\n<pre><code>@Value(\"${info.build.version}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3734009,"reputation":1911,"user_id":3105453,"accept_rate":87,"display_name":"user3105453"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1475072273,"creation_date":1475065174,"answer_id":39747331,"question_id":34963056,"body_markdown":"I have solved it this way:\r\nDefine your `info.build.version` in `application.properties`:\r\n\r\n    info.build.version=whatever\r\n\r\nuse it in your component with \r\n\r\n    @Value(&quot;${info.build.version}&quot;)\r\n    private String version;\r\n\r\nnow add your version info to your `build.gradle` file like this:\r\n\r\n    version = &#39;0.0.2-SNAPSHOT&#39;\r\n\r\nthen add a method to replace your application.properties with a regex to update your version information there:\r\n\r\n    def updateApplicationProperties() {\r\n        def configFile = new File(&#39;src/main/resources/application.properties&#39;)\r\n        println &quot;updating version to &#39;${version}&#39; in ${configFile}&quot;\r\n        String configContent = configFile.getText(&#39;UTF-8&#39;)\r\n        configContent = configContent.replaceAll(/info\\.build\\.version=.*/, &quot;info.build.version=${version}&quot;)\r\n        configFile.write(configContent, &#39;UTF-8&#39;)\r\n    }\r\n\r\nfinally, ensure the method is called when you trigger `build` or `bootRun`:\r\n\r\n    allprojects {\r\n        updateVersion()\r\n    }\r\n\r\nthat&#39;s it. This solution works if you let Gradle compile your app as well as if you run your Spring Boot app from the IDE. The value will not get updated but won&#39;t throw an exception and as soon as you run Gradle it will be updated again.\r\n\r\nI hope this helps others as well as it solved the problem for me. I couldn&#39;t find a more proper solution so I scripted it by myself. ","title":"Getting the Gradle.build version into Spring Boot","body":"<p>I have solved it this way:\nDefine your <code>info.build.version</code> in <code>application.properties</code>:</p>\n\n<pre><code>info.build.version=whatever\n</code></pre>\n\n<p>use it in your component with </p>\n\n<pre><code>@Value(\"${info.build.version}\")\nprivate String version;\n</code></pre>\n\n<p>now add your version info to your <code>build.gradle</code> file like this:</p>\n\n<pre><code>version = '0.0.2-SNAPSHOT'\n</code></pre>\n\n<p>then add a method to replace your application.properties with a regex to update your version information there:</p>\n\n<pre><code>def updateApplicationProperties() {\n    def configFile = new File('src/main/resources/application.properties')\n    println \"updating version to '${version}' in ${configFile}\"\n    String configContent = configFile.getText('UTF-8')\n    configContent = configContent.replaceAll(/info\\.build\\.version=.*/, \"info.build.version=${version}\")\n    configFile.write(configContent, 'UTF-8')\n}\n</code></pre>\n\n<p>finally, ensure the method is called when you trigger <code>build</code> or <code>bootRun</code>:</p>\n\n<pre><code>allprojects {\n    updateVersion()\n}\n</code></pre>\n\n<p>that's it. This solution works if you let Gradle compile your app as well as if you run your Spring Boot app from the IDE. The value will not get updated but won't throw an exception and as soon as you run Gradle it will be updated again.</p>\n\n<p>I hope this helps others as well as it solved the problem for me. I couldn't find a more proper solution so I scripted it by myself. </p>\n"},{"tags":[],"owner":{"account_id":4421800,"reputation":814,"user_id":9586104,"display_name":"brebDev"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1525250755,"creation_date":1525250755,"answer_id":50130541,"question_id":34963056,"body_markdown":"I&#39;ve resolved this by adding into application.yml the following:\r\n\r\n    ${version?:unknown}\r\n\r\nIt also work from cli:**gradle bootRun** and also from IntelliJ and you don&#39;t have to call the Gradle task processResources before launching in IntelliJ or use spring profiles.\r\n\r\nThis work with Gradle ver:**4.6** and also Spring Boot ver: **2.0.1.RELEASE**.\r\nHope it helps ;)","title":"Getting the Gradle.build version into Spring Boot","body":"<p>I've resolved this by adding into application.yml the following:</p>\n\n<pre><code>${version?:unknown}\n</code></pre>\n\n<p>It also work from cli:<strong>gradle bootRun</strong> and also from IntelliJ and you don't have to call the Gradle task processResources before launching in IntelliJ or use spring profiles.</p>\n\n<p>This work with Gradle ver:<strong>4.6</strong> and also Spring Boot ver: <strong>2.0.1.RELEASE</strong>.\nHope it helps ;)</p>\n"},{"comments":[{"owner":{"account_id":12926779,"reputation":573,"user_id":9347205,"display_name":"aee"},"score":0,"creation_date":1592508385,"post_id":60074163,"comment_id":110459090,"body_markdown":"If you&#39;re using Eclipse IDE you may have some dificulties with that plugin. I&#39;ve made a post for this issue\nhttps://stackoverflow.com/questions/60140145/springboot-gradle-plugin-not-working-with-eclipse","body":"If you&#39;re using Eclipse IDE you may have some dificulties with that plugin. I&#39;ve made a post for this issue <a href=\"https://stackoverflow.com/questions/60140145/springboot-gradle-plugin-not-working-with-eclipse\" title=\"springboot gradle plugin not working with eclipse\">stackoverflow.com/questions/60140145/&hellip;</a>"}],"tags":[],"owner":{"account_id":4399098,"reputation":1329,"user_id":3585320,"accept_rate":83,"display_name":"Cl&#233;ment Poissonnier"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1580899905,"creation_date":1580899905,"answer_id":60074163,"question_id":34963056,"body_markdown":"You can also add this in `build.gradle` : \r\n\r\n    springBoot {    \r\n        buildInfo() \r\n    }\r\n\r\nThen, you can use `BuildProperties` bean : \r\n\r\n    @Autowired\r\n    private BuildProperties buildProperties;\r\n\r\nAnd get the version with `buildProperties.getVersion()`","title":"Getting the Gradle.build version into Spring Boot","body":"<p>You can also add this in <code>build.gradle</code> : </p>\n\n<pre><code>springBoot {    \n    buildInfo() \n}\n</code></pre>\n\n<p>Then, you can use <code>BuildProperties</code> bean : </p>\n\n<pre><code>@Autowired\nprivate BuildProperties buildProperties;\n</code></pre>\n\n<p>And get the version with <code>buildProperties.getVersion()</code></p>\n"},{"tags":[],"owner":{"account_id":3296456,"reputation":673,"user_id":2773618,"display_name":"Nicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675958607,"creation_date":1675958607,"answer_id":75401251,"question_id":34963056,"body_markdown":"For Kotlin user, what works for me was :\r\n\r\n\r\n1) application.properties\r\n\r\nIn the application.properties you add a placeholder that will be replace with your value by gradle.\r\n\r\n        project.version= ${version}\r\n\r\n2) build.gradle.kts\r\n\r\nAdd a task so gradle will replace the value\r\n\r\n        tasks.processResources { filesMatching(&quot;**/application.properties&quot;) { expand(project.properties) } }\r\n\r\n3) Service.kt\r\n\r\nInject the value in your services\r\n\r\n        @Value(&quot;\\${project.version}&quot;) lateinit var version: String\r\n\r\n\r\n\r\n","title":"Getting the Gradle.build version into Spring Boot","body":"<p>For Kotlin user, what works for me was :</p>\n<ol>\n<li>application.properties</li>\n</ol>\n<p>In the application.properties you add a placeholder that will be replace with your value by gradle.</p>\n<pre><code>    project.version= ${version}\n</code></pre>\n<ol start=\"2\">\n<li>build.gradle.kts</li>\n</ol>\n<p>Add a task so gradle will replace the value</p>\n<pre><code>    tasks.processResources { filesMatching(&quot;**/application.properties&quot;) { expand(project.properties) } }\n</code></pre>\n<ol start=\"3\">\n<li>Service.kt</li>\n</ol>\n<p>Inject the value in your services</p>\n<pre><code>    @Value(&quot;\\${project.version}&quot;) lateinit var version: String\n</code></pre>\n"}],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32386,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":34969908,"answer_count":5,"score":32,"last_activity_date":1675958607,"creation_date":1453549647,"question_id":34963056,"body_markdown":"I&#39;m trying to display the application version of my Spring Boot application in a view. I&#39;m sure I can access this version information, I just don&#39;t know how.\r\n\r\nI tried following this information: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html, and put this in my `application.properties`:\r\n\r\n    info.build.version=${version}\r\n\r\nAnd then loading it `@Value(&quot;${version.test}&quot;)` in my controller, but that doesn&#39;t work, I only get errors like:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;version&#39; in string value &quot;${version}&quot;\r\n\r\nAny suggestions on what the proper way to get information like my app version, the spring boot version, etc into my controller?","title":"Getting the Gradle.build version into Spring Boot","body":"<p>I'm trying to display the application version of my Spring Boot application in a view. I'm sure I can access this version information, I just don't know how.</p>\n\n<p>I tried following this information: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html</a>, and put this in my <code>application.properties</code>:</p>\n\n<pre><code>info.build.version=${version}\n</code></pre>\n\n<p>And then loading it <code>@Value(\"${version.test}\")</code> in my controller, but that doesn't work, I only get errors like:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'version' in string value \"${version}\"\n</code></pre>\n\n<p>Any suggestions on what the proper way to get information like my app version, the spring boot version, etc into my controller?</p>\n"},{"tags":["java","maven","gradle","apache-phoenix"],"owner":{"account_id":107310,"reputation":2662,"user_id":285409,"accept_rate":81,"display_name":"Limey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675958599,"creation_date":1675958599,"question_id":75401249,"body_markdown":"\r\nSo I am trying to upgrade my phoenix-core library from 5.0.0.-HBase-2.0 to 5.1.3\r\n\r\n    // https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core\r\n    implementation &#39;org.apache.phoenix:phoenix-core:5.1.3&#39;\r\n\r\nWhen I attempt to build the project, I always get a slew of errors around omid, but they all basically say the same thing, &quot;bad module name: expected=&#39;omid-hbase-client-hbase2.x&#39; found=&#39;omid-hbase-client-hbase1.x&#39;&quot;\r\n\r\n       &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\r\n     Required by:\r\n         project : &gt; org.apache.phoenix:phoenix-core:5.1.3\r\n        &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\r\n           &gt; inconsistent module metadata found. Descriptor: org.apache.omid:omid-hbase-client-hbase1.x:1.0.2 Errors: bad module name: expected=&#39;omid-hbase-client-hbase2.x&#39; found=&#39;omid-hbase-client-hbase1.x&#39;\r\n      &gt; Could not resolve org.apache.omid:omid-hbase-coprocessor-hbase2.x:1.0.2.\r\n\r\nI have search high and low on google, and can&#39;t find a reason for this.  I have tried clearing everything and nothing helps.\r\n\r\n\r\nThanks","title":"phoenix-core can&#39;t install because of omid error","body":"<p>So I am trying to upgrade my phoenix-core library from 5.0.0.-HBase-2.0 to 5.1.3</p>\n<pre><code>// https://mvnrepository.com/artifact/org.apache.phoenix/phoenix-core\nimplementation 'org.apache.phoenix:phoenix-core:5.1.3'\n</code></pre>\n<p>When I attempt to build the project, I always get a slew of errors around omid, but they all basically say the same thing, &quot;bad module name: expected='omid-hbase-client-hbase2.x' found='omid-hbase-client-hbase1.x'&quot;</p>\n<pre><code>   &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\n Required by:\n     project : &gt; org.apache.phoenix:phoenix-core:5.1.3\n    &gt; Could not resolve org.apache.omid:omid-hbase-client-hbase2.x:1.0.2.\n       &gt; inconsistent module metadata found. Descriptor: org.apache.omid:omid-hbase-client-hbase1.x:1.0.2 Errors: bad module name: expected='omid-hbase-client-hbase2.x' found='omid-hbase-client-hbase1.x'\n  &gt; Could not resolve org.apache.omid:omid-hbase-coprocessor-hbase2.x:1.0.2.\n</code></pre>\n<p>I have search high and low on google, and can't find a reason for this.  I have tried clearing everything and nothing helps.</p>\n<p>Thanks</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9562,"page":661,"page_size":100}
