{"items":[{"tags":["java","android","android-studio","android-layout","android-widget"],"answers":[{"tags":[],"owner":{"account_id":15826927,"reputation":3,"user_id":11419503,"display_name":"Jojoyel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632505666,"creation_date":1632505666,"answer_id":69319254,"question_id":69302167,"body_markdown":"Have you tried ```android:elevation``` property ? I think it is what you&#39;re looking for,\r\nHope will help","title":"How to set a layout on top of a ViewPager widget in Android Studio","body":"<p>Have you tried <code>android:elevation</code> property ? I think it is what you're looking for,\nHope will help</p>\n"}],"owner":{"account_id":17585753,"reputation":79,"user_id":12800048,"display_name":"Vmir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632522107,"creation_date":1632408086,"question_id":69302167,"body_markdown":"I want to have a layout constantly on top of everything and visible all the time, however, once I swipe to the next element in the ViewPager, the FrameLayout is getting behind the ViewPager.\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n\r\n    android:gravity=&quot;center_vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/videosViewPager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n\r\n        android:layout_height=&quot;match_parent&quot;\r\n\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\r\n\r\n    &lt;/androidx.viewpager2.widget.ViewPager2&gt;\r\n\r\n    &lt;RelativeLayout\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/preview_display_layout&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;200dp&quot;\r\n\r\n            android:visibility=&quot;visible&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot;\r\n            tools:layout_editor_absoluteX=&quot;216dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\r\n\r\n        &lt;/FrameLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nI tried to place a button instead of and on top of the FrameLayout and, guess what, the button remains on top of everything without going behind the ViewPager after each sroll.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/videosViewPager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n\r\n        android:layout_height=&quot;match_parent&quot;\r\n\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\r\n\r\n\r\n    &lt;/androidx.viewpager2.widget.ViewPager2&gt;\r\n&lt;RelativeLayout\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n    &lt;Button\r\n        android:layout_width=&quot;197dp&quot;\r\n        android:layout_height=&quot;286dp&quot;&gt;\r\n\r\n    &lt;/Button&gt;\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/preview_display_layout&quot;\r\n        android:layout_width=&quot;197dp&quot;\r\n        android:layout_height=&quot;286dp&quot;\r\n\r\n        android:visibility=&quot;visible&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot;\r\n        tools:layout_editor_absoluteX=&quot;216dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\nHere is my code in MainActivity \r\n```\r\n    private ViewPager2 videosViewPager;\r\n    private SurfaceView previewDisplayView;\r\n protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(getContentViewLayoutResId());\r\n\r\n        previewDisplayView = new SurfaceView(this);\r\n        setupPreviewDisplayView();\r\n\r\n\r\n         videosViewPager = findViewById(R.id.videosViewPager);\r\n\r\n        List&lt;VideoItem&gt; videoItems = new ArrayList&lt;&gt;();\r\n\r\n        VideoItem life = new VideoItem();\r\n        String path = &quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+ R.raw.video;\r\n        life.videoURL = Uri.parse(path);\r\n   \r\n        videoItems.add(life);\r\n\r\n        VideoItem rest = new VideoItem();\r\n        String path2 = &quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+ R.raw.video1;\r\n        rest.videoURL = Uri.parse(path);\r\n  \r\n        videoItems.add(rest);\r\n\r\n        videosViewPager.setAdapter(new VideoAdapter(videoItems));\r\n}\r\n\r\n    private void setupPreviewDisplayView() {\r\n        previewDisplayView.setVisibility(View.GONE);\r\n        ViewGroup viewGroup = findViewById(R.id.preview_display_layout);\r\n        viewGroup.addView(previewDisplayView);\r\n\r\n        previewDisplayView\r\n                .getHolder()\r\n                .addCallback(\r\n                        new SurfaceHolder.Callback() {\r\n                            @Override\r\n                            public void surfaceCreated(SurfaceHolder holder) {\r\n                                processor.getVideoSurfaceOutput().setSurface(holder.getSurface());\r\n                                Log.d(&quot;Surface&quot;,&quot;Surface Created&quot;);\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\r\n                                onPreviewDisplaySurfaceChanged(holder, format, width, height);\r\n                                \r\n                                Log.d(&quot;Surface&quot;,&quot;Surface Changed&quot;);\r\n                            }\r\n\r\n                            @Override\r\n                            public void surfaceDestroyed(SurfaceHolder holder) {\r\n                                processor.getVideoSurfaceOutput().setSurface(null);\r\n                                Log.d(&quot;Surface&quot;,&quot;Surface destroy&quot;);\r\n                            }\r\n\r\n                        });\r\n\r\n    }\r\n```\r\nI guess my issue is in adding SurfaceView(previewDisplayView)in ViewGroup.\r\nWhat can I do to make the previewDisplayView get always on top of everything? By the way, I tried bringToFront(), but after a swipe the previewDisplayLayout is automatically going behind the ViewPager.\r\nThank you in advance","title":"How to set a layout on top of a ViewPager widget in Android Studio","body":"<p>I want to have a layout constantly on top of everything and visible all the time, however, once I swipe to the next element in the ViewPager, the FrameLayout is getting behind the ViewPager.</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n\n    android:gravity=&quot;center_vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/videosViewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n\n        android:layout_height=&quot;match_parent&quot;\n\n        android:orientation=&quot;vertical&quot;\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\n\n    &lt;/androidx.viewpager2.widget.ViewPager2&gt;\n\n    &lt;RelativeLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/preview_display_layout&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;200dp&quot;\n\n            android:visibility=&quot;visible&quot;\n            tools:ignore=&quot;MissingConstraints&quot;\n            tools:layout_editor_absoluteX=&quot;216dp&quot;\n            tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\n\n        &lt;/FrameLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>I tried to place a button instead of and on top of the FrameLayout and, guess what, the button remains on top of everything without going behind the ViewPager after each sroll.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/videosViewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n\n        android:layout_height=&quot;match_parent&quot;\n\n        android:orientation=&quot;vertical&quot;\n        tools:layout_editor_absoluteX=&quot;0dp&quot;\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\n\n\n    &lt;/androidx.viewpager2.widget.ViewPager2&gt;\n&lt;RelativeLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;Button\n        android:layout_width=&quot;197dp&quot;\n        android:layout_height=&quot;286dp&quot;&gt;\n\n    &lt;/Button&gt;\n    &lt;FrameLayout\n        android:id=&quot;@+id/preview_display_layout&quot;\n        android:layout_width=&quot;197dp&quot;\n        android:layout_height=&quot;286dp&quot;\n\n        android:visibility=&quot;visible&quot;\n        tools:ignore=&quot;MissingConstraints&quot;\n        tools:layout_editor_absoluteX=&quot;216dp&quot;\n        tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\n    &lt;/FrameLayout&gt;\n\n&lt;/RelativeLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Here is my code in MainActivity</p>\n<pre><code>    private ViewPager2 videosViewPager;\n    private SurfaceView previewDisplayView;\n protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(getContentViewLayoutResId());\n\n        previewDisplayView = new SurfaceView(this);\n        setupPreviewDisplayView();\n\n\n         videosViewPager = findViewById(R.id.videosViewPager);\n\n        List&lt;VideoItem&gt; videoItems = new ArrayList&lt;&gt;();\n\n        VideoItem life = new VideoItem();\n        String path = &quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+ R.raw.video;\n        life.videoURL = Uri.parse(path);\n   \n        videoItems.add(life);\n\n        VideoItem rest = new VideoItem();\n        String path2 = &quot;android.resource://&quot;+getPackageName()+&quot;/&quot;+ R.raw.video1;\n        rest.videoURL = Uri.parse(path);\n  \n        videoItems.add(rest);\n\n        videosViewPager.setAdapter(new VideoAdapter(videoItems));\n}\n\n    private void setupPreviewDisplayView() {\n        previewDisplayView.setVisibility(View.GONE);\n        ViewGroup viewGroup = findViewById(R.id.preview_display_layout);\n        viewGroup.addView(previewDisplayView);\n\n        previewDisplayView\n                .getHolder()\n                .addCallback(\n                        new SurfaceHolder.Callback() {\n                            @Override\n                            public void surfaceCreated(SurfaceHolder holder) {\n                                processor.getVideoSurfaceOutput().setSurface(holder.getSurface());\n                                Log.d(&quot;Surface&quot;,&quot;Surface Created&quot;);\n\n                            }\n\n                            @Override\n                            public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {\n                                onPreviewDisplaySurfaceChanged(holder, format, width, height);\n                                \n                                Log.d(&quot;Surface&quot;,&quot;Surface Changed&quot;);\n                            }\n\n                            @Override\n                            public void surfaceDestroyed(SurfaceHolder holder) {\n                                processor.getVideoSurfaceOutput().setSurface(null);\n                                Log.d(&quot;Surface&quot;,&quot;Surface destroy&quot;);\n                            }\n\n                        });\n\n    }\n</code></pre>\n<p>I guess my issue is in adding SurfaceView(previewDisplayView)in ViewGroup.\nWhat can I do to make the previewDisplayView get always on top of everything? By the way, I tried bringToFront(), but after a swipe the previewDisplayLayout is automatically going behind the ViewPager.\nThank you in advance</p>\n"},{"tags":["java","spring-boot","spring-aop"],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632521372,"creation_date":1632521372,"answer_id":69321540,"question_id":69321465,"body_markdown":"This is a quote from Spring documentation\r\n\r\n&gt; **BeanPostProcessors and AOP auto-proxying**\r\n&gt; \r\n&gt; Classes that implement the BeanPostProcessor interface are special, and so they are treated differently by the container. All BeanPostProcessors and their directly referenced beans are instantiated on startup, as part of the special startup phase of the ApplicationContext. Next, all those BeanPostProcessors are registered in a sorted fashion - and applied to all further beans. Because AOP auto-proxying is implemented as a BeanPostProcessor itself, no BeanPostProcessors or directly referenced beans are eligible for auto-proxying, and thus do not have aspects woven into them.\r\n&gt;\r\n&gt; For any such bean, you should see an info log message: **“Bean foo is not eligible for getting processed by all BeanPostProcessor interfaces (for example: not eligible for auto-proxying)”**.\r\n\r\nSo, this is because `Advisor` bean participates very early in application bootstrap. This is probably ok, if you wanted it, and the warning you get is not a problem, but just a reminder.\r\n\r\n","title":"Bean &#39;advisor&#39; of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors","body":"<p>This is a quote from Spring documentation</p>\n<blockquote>\n<p><strong>BeanPostProcessors and AOP auto-proxying</strong></p>\n<p>Classes that implement the BeanPostProcessor interface are special, and so they are treated differently by the container. All BeanPostProcessors and their directly referenced beans are instantiated on startup, as part of the special startup phase of the ApplicationContext. Next, all those BeanPostProcessors are registered in a sorted fashion - and applied to all further beans. Because AOP auto-proxying is implemented as a BeanPostProcessor itself, no BeanPostProcessors or directly referenced beans are eligible for auto-proxying, and thus do not have aspects woven into them.</p>\n<p>For any such bean, you should see an info log message: <strong>“Bean foo is not eligible for getting processed by all BeanPostProcessor interfaces (for example: not eligible for auto-proxying)”</strong>.</p>\n</blockquote>\n<p>So, this is because <code>Advisor</code> bean participates very early in application bootstrap. This is probably ok, if you wanted it, and the warning you get is not a problem, but just a reminder.</p>\n"}],"owner":{"account_id":22642173,"reputation":113,"user_id":16818097,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69321540,"answer_count":1,"score":0,"last_activity_date":1632521372,"creation_date":1632520558,"question_id":69321465,"body_markdown":"I have a configuration class like this,\r\n\r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    public class Config {\r\n    \r\n       @Bean\r\n       public Advisor advisor() {\r\n            AspectJExpressionPointcut ajp = new AspectJExpressionPointcut();\r\n            ajp.setExpression(&quot;execution(public * my.package..*.*(..))&quot;);\r\n            return new DefaultPointcutAdvisor(ajp, interceptor());\r\n        }\r\n    }\r\n\r\nAnd whenever the project is starting I am getting the following warning.\r\n\r\n&gt; Bean &#39;advisor&#39; of type\r\n&gt; [org.springframework.aop.support.DefaultPointcutAdvisor] is not\r\n&gt; eligible for getting processed by all BeanPostProcessors (for example:\r\n&gt; not eligible for auto-proxying)\r\n\r\nWhy I am getting this warning. How can I fix this?","title":"Bean &#39;advisor&#39; of type [org.springframework.aop.support.DefaultPointcutAdvisor] is not eligible for getting processed by all BeanPostProcessors","body":"<p>I have a configuration class like this,</p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\npublic class Config {\n\n   @Bean\n   public Advisor advisor() {\n        AspectJExpressionPointcut ajp = new AspectJExpressionPointcut();\n        ajp.setExpression(&quot;execution(public * my.package..*.*(..))&quot;);\n        return new DefaultPointcutAdvisor(ajp, interceptor());\n    }\n}\n</code></pre>\n<p>And whenever the project is starting I am getting the following warning.</p>\n<blockquote>\n<p>Bean 'advisor' of type\n[org.springframework.aop.support.DefaultPointcutAdvisor] is not\neligible for getting processed by all BeanPostProcessors (for example:\nnot eligible for auto-proxying)</p>\n</blockquote>\n<p>Why I am getting this warning. How can I fix this?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632433216,"creation_date":1632433216,"answer_id":69307195,"question_id":69306578,"body_markdown":"Starting the character class with `[^` makes is a [negated character class](https://www.regular-expressions.info/charclass.html#negated).\r\n\r\nUsing `([^0-9]|[^A-Z])+` matches any char except a digit (but does match A-Z), or any char except A-Z (but does match a digit).\r\n\r\nThis way it can match any character.\r\n\r\nIf you would turn it into `[A-Z]([0-9]|[A-Z])+[A-Z]` it still does not make it mandatory to match at least a single digit on the inside due to the alternation `|` and it can still match `AAA` for example.\r\n\r\nYou might use:\r\n\r\n    ^[A-Z]+[0-9][A-Z0-9]*[A-Z]$\r\n\r\nThe pattern matches:\r\n\r\n- `^` Start of string\r\n- `[A-Z]+` Match 1+ times A-Z\r\n- `[0-9]` Match a single digit\r\n- `[A-Z0-9]*` Optionally match either A-Z or 0-9\r\n- `[A-Z]` Match a single char A-Z\r\n- `$` End of string\r\n\r\n[Regex demo](https://regex101.com/r/7LOWBl/1)\r\n","title":"How do I get a regex expression to contain only uppercase letters or numbers?","body":"<p>Starting the character class with <code>[^</code> makes is a <a href=\"https://www.regular-expressions.info/charclass.html#negated\" rel=\"nofollow noreferrer\">negated character class</a>.</p>\n<p>Using <code>([^0-9]|[^A-Z])+</code> matches any char except a digit (but does match A-Z), or any char except A-Z (but does match a digit).</p>\n<p>This way it can match any character.</p>\n<p>If you would turn it into <code>[A-Z]([0-9]|[A-Z])+[A-Z]</code> it still does not make it mandatory to match at least a single digit on the inside due to the alternation <code>|</code> and it can still match <code>AAA</code> for example.</p>\n<p>You might use:</p>\n<pre><code>^[A-Z]+[0-9][A-Z0-9]*[A-Z]$\n</code></pre>\n<p>The pattern matches:</p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>[A-Z]+</code> Match 1+ times A-Z</li>\n<li><code>[0-9]</code> Match a single digit</li>\n<li><code>[A-Z0-9]*</code> Optionally match either A-Z or 0-9</li>\n<li><code>[A-Z]</code> Match a single char A-Z</li>\n<li><code>$</code> End of string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/7LOWBl/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"tags":[],"owner":{"account_id":15702039,"reputation":18231,"user_id":11329890,"display_name":"Ryszard Czech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632521342,"creation_date":1632521342,"answer_id":69321535,"question_id":69306578,"body_markdown":"Use\r\n```java\r\n^(?=\\D*\\d\\D*$)[A-Z][A-Z\\d]*[A-Z]$\r\n```\r\nSee [regex proof][1]. \r\n\r\n`(?=\\D*\\d\\D*$)` requires only one digit in the string, no more no less.\r\n\r\n**EXPLANATION**\r\n```java\r\n--------------------------------------------------------------------------------\r\n  ^                        the beginning of the string\r\n--------------------------------------------------------------------------------\r\n  (?=                      look ahead to see if there is:\r\n--------------------------------------------------------------------------------\r\n    \\D*                      non-digits (all but 0-9) (0 or more\r\n                             times (matching the most amount\r\n                             possible))\r\n--------------------------------------------------------------------------------\r\n    \\d                       digits (0-9)\r\n--------------------------------------------------------------------------------\r\n    \\D*                      non-digits (all but 0-9) (0 or more\r\n                             times (matching the most amount\r\n                             possible))\r\n--------------------------------------------------------------------------------\r\n    $                        before an optional \\n, and the end of\r\n                             the string\r\n--------------------------------------------------------------------------------\r\n  )                        end of look-ahead\r\n--------------------------------------------------------------------------------\r\n  [A-Z]                    any character of: &#39;A&#39; to &#39;Z&#39;\r\n--------------------------------------------------------------------------------\r\n  [A-Z\\d]*                 any character of: &#39;A&#39; to &#39;Z&#39;, digits (0-9)\r\n                           (0 or more times (matching the most amount\r\n                           possible))\r\n--------------------------------------------------------------------------------\r\n  [A-Z]                    any character of: &#39;A&#39; to &#39;Z&#39;\r\n--------------------------------------------------------------------------------\r\n  $                        before an optional \\n, and the end of the\r\n                           string\r\n```\r\n\r\n  [1]: https://regex101.com/r/5rJ9qB/2","title":"How do I get a regex expression to contain only uppercase letters or numbers?","body":"<p>Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>^(?=\\D*\\d\\D*$)[A-Z][A-Z\\d]*[A-Z]$\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/5rJ9qB/2\" rel=\"nofollow noreferrer\">regex proof</a>.</p>\n<p><code>(?=\\D*\\d\\D*$)</code> requires only one digit in the string, no more no less.</p>\n<p><strong>EXPLANATION</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>--------------------------------------------------------------------------------\n  ^                        the beginning of the string\n--------------------------------------------------------------------------------\n  (?=                      look ahead to see if there is:\n--------------------------------------------------------------------------------\n    \\D*                      non-digits (all but 0-9) (0 or more\n                             times (matching the most amount\n                             possible))\n--------------------------------------------------------------------------------\n    \\d                       digits (0-9)\n--------------------------------------------------------------------------------\n    \\D*                      non-digits (all but 0-9) (0 or more\n                             times (matching the most amount\n                             possible))\n--------------------------------------------------------------------------------\n    $                        before an optional \\n, and the end of\n                             the string\n--------------------------------------------------------------------------------\n  )                        end of look-ahead\n--------------------------------------------------------------------------------\n  [A-Z]                    any character of: 'A' to 'Z'\n--------------------------------------------------------------------------------\n  [A-Z\\d]*                 any character of: 'A' to 'Z', digits (0-9)\n                           (0 or more times (matching the most amount\n                           possible))\n--------------------------------------------------------------------------------\n  [A-Z]                    any character of: 'A' to 'Z'\n--------------------------------------------------------------------------------\n  $                        before an optional \\n, and the end of the\n                           string\n</code></pre>\n"}],"owner":{"account_id":17478064,"reputation":61,"user_id":12672482,"display_name":"Bhavya Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5754,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69307195,"answer_count":2,"score":0,"last_activity_date":1632521342,"creation_date":1632429027,"question_id":69306578,"body_markdown":"Regex expression: ```[A-Z]([^0-9]|[^A-Z])+[A-Z]```\r\n\r\nThe requirements are that the string should start and end with a capital letter A-Z, and contain at least one number in between. It should not have anything else besides capital letters on the inside. However, it&#39;s accepting spaces and punctuation too.\r\n\r\nMy expression fails the following test case **A65AJ3L 3F,D** due to the comma and whitespace.\r\n\r\nWhy does this happen when I explicitly said only numbers and uppercase letters can be in the string?","title":"How do I get a regex expression to contain only uppercase letters or numbers?","body":"<p>Regex expression: <code>[A-Z]([^0-9]|[^A-Z])+[A-Z]</code></p>\n<p>The requirements are that the string should start and end with a capital letter A-Z, and contain at least one number in between. It should not have anything else besides capital letters on the inside. However, it's accepting spaces and punctuation too.</p>\n<p>My expression fails the following test case <strong>A65AJ3L 3F,D</strong> due to the comma and whitespace.</p>\n<p>Why does this happen when I explicitly said only numbers and uppercase letters can be in the string?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":10711397,"reputation":126,"user_id":7883514,"display_name":"Satyam Singh"},"score":1,"creation_date":1631208874,"post_id":69122433,"comment_id":122167704,"body_markdown":"Is your kafka running in local at 9092 port ? could you confirm","body":"Is your kafka running in local at 9092 port ? could you confirm"}],"answers":[{"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632520553,"creation_date":1632520553,"answer_id":69321463,"question_id":69122433,"body_markdown":"You are getting this warning because of below Apache-Kafka configuration\r\n\r\n    KAFKA_AUTO_CREATE_TOPICS_ENABLE: &#39;false&#39;\r\nWhich means at the time of Spring Boot start consumer try to listen/consume message from   **mytopic** but it&#39;s actually not exist.\r\n\r\nPlease create topic first or change above configuration to\r\n\r\n    KAFKA_AUTO_CREATE_TOPICS_ENABLE: &#39;true&#39;\r\n \r\n","title":"Kafka not connecting getting below issue","body":"<p>You are getting this warning because of below Apache-Kafka configuration</p>\n<pre><code>KAFKA_AUTO_CREATE_TOPICS_ENABLE: 'false'\n</code></pre>\n<p>Which means at the time of Spring Boot start consumer try to listen/consume message from   <strong>mytopic</strong> but it's actually not exist.</p>\n<p>Please create topic first or change above configuration to</p>\n<pre><code>KAFKA_AUTO_CREATE_TOPICS_ENABLE: 'true'\n</code></pre>\n"}],"owner":{"account_id":22705151,"reputation":21,"user_id":16871977,"display_name":"Aneesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2890,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1632520553,"creation_date":1631208355,"question_id":69122433,"body_markdown":"```\r\n2021-09-09 21:42:40.039  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2021-09-09 21:42:40.039  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2021-09-09 21:42:41.778  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2021-09-09 21:42:41.779  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2021-09-09 21:42:43.001  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2021-09-09 21:42:43.002  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2021-09-09 21:42:44.634  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2021-09-09 21:42:44.634  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\r\n2021-09-09 21:42:45.908  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n2021-09-09 21:42:45.908  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup]\r\n```\r\n\r\nCode \r\n\r\n```\r\n@Service\r\npublic class KafKaConsumerService {\r\n\tprivate final Logger logger = \r\n            LoggerFactory.getLogger(KafKaConsumerService.class);\r\n \r\n\t@KafkaListener(topics=&quot;mytopic&quot;, groupId=&quot;mygroup&quot;)\r\n\tpublic void consumeFromTopic(String message) {\r\n\t\tSystem.out.println(&quot;Consummed message &quot;+message);\r\n\t}\r\n\r\n}\r\n\r\n    public class KafKaProducerService {\r\n\tprivate static final Logger logger = \r\n            LoggerFactory.getLogger(KafKaProducerService.class);\r\n     \r\n\tpublic static final String topic = &quot;mytopic&quot;;\r\n\t  \r\n\t  @Autowired \r\n\t  private KafkaTemplate&lt;String, String&gt; kafkaTemp;\r\n\t  \r\n\t  public void publishToTopic(String message) {\r\n\t\t  System.out.println(&quot;Publishing to topic &quot;+topic);\r\n\t\t  this.kafkaTemp.send(topic, message);\r\n\t  }\r\n}\r\n```\r\n\r\nproperties\r\n   \r\n```\r\nspring.kafka.consumer.bootstrap-servers=localhost:9092\r\nspring.kafka.consumer.group-id=mygroup\r\nspring.kafka.consumer.auto-offset-reset=earliest\r\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n\r\nspring.kafka.producer.bootstrap-servers=localhost:9092\r\nspring.kafka.producer.key-deserializer = org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.producer.value-deserializer = org.apache.kafka.common.serialization.StringDeserializer\r\n```","title":"Kafka not connecting getting below issue","body":"<pre><code>2021-09-09 21:42:40.039  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2021-09-09 21:42:40.039  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2021-09-09 21:42:41.778  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2021-09-09 21:42:41.779  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2021-09-09 21:42:43.001  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2021-09-09 21:42:43.002  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2021-09-09 21:42:44.634  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2021-09-09 21:42:44.634  WARN 14636 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Bootstrap broker localhost:9092 (id: -1 rack: null) disconnected\n2021-09-09 21:42:45.908  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2021-09-09 21:42:45.908  WARN 14636 --- [ntainer#0-0-C-1] org.apache.kafka.clients.NetworkClient   : [Consumer clientId=consumer-mygroup-1, groupId=mygroup]\n</code></pre>\n<p>Code</p>\n<pre><code>@Service\npublic class KafKaConsumerService {\n    private final Logger logger = \n            LoggerFactory.getLogger(KafKaConsumerService.class);\n \n    @KafkaListener(topics=&quot;mytopic&quot;, groupId=&quot;mygroup&quot;)\n    public void consumeFromTopic(String message) {\n        System.out.println(&quot;Consummed message &quot;+message);\n    }\n\n}\n\n    public class KafKaProducerService {\n    private static final Logger logger = \n            LoggerFactory.getLogger(KafKaProducerService.class);\n     \n    public static final String topic = &quot;mytopic&quot;;\n      \n      @Autowired \n      private KafkaTemplate&lt;String, String&gt; kafkaTemp;\n      \n      public void publishToTopic(String message) {\n          System.out.println(&quot;Publishing to topic &quot;+topic);\n          this.kafkaTemp.send(topic, message);\n      }\n}\n</code></pre>\n<p>properties</p>\n<pre><code>spring.kafka.consumer.bootstrap-servers=localhost:9092\nspring.kafka.consumer.group-id=mygroup\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\n\nspring.kafka.producer.bootstrap-servers=localhost:9092\nspring.kafka.producer.key-deserializer = org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.producer.value-deserializer = org.apache.kafka.common.serialization.StringDeserializer\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":479759,"reputation":24867,"user_id":892629,"accept_rate":81,"display_name":"Liftoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632519390,"creation_date":1632519390,"answer_id":69321317,"question_id":69321300,"body_markdown":"Your arguments are 1 String. Your constructor is looking for String, int, double. You just put the closing quotation mark in the wrong spot.\r\n\r\n```\r\nEmployee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\r\nEmployee jim = new Employee (&quot;Jim, 124, 10000.0&quot;);\r\n```\r\n\r\nShould be\r\n\r\n```\r\nEmployee micheal = new Employee(&quot;Micheal&quot;, 124, 15000.0);\r\nEmployee jim = new Employee(&quot;Jim&quot;, 124, 10000.0);\r\n```","title":"How can I fix the constructor in my Employee program?","body":"<p>Your arguments are 1 String. Your constructor is looking for String, int, double. You just put the closing quotation mark in the wrong spot.</p>\n<pre><code>Employee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\nEmployee jim = new Employee (&quot;Jim, 124, 10000.0&quot;);\n</code></pre>\n<p>Should be</p>\n<pre><code>Employee micheal = new Employee(&quot;Micheal&quot;, 124, 15000.0);\nEmployee jim = new Employee(&quot;Jim&quot;, 124, 10000.0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19339689,"reputation":6375,"user_id":14529779,"display_name":"XM01 - stands with Palestine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632519524,"creation_date":1632519524,"answer_id":69321329,"question_id":69321300,"body_markdown":"You have to respect typing in java *String* enclosed within quoted, *int* and *double* must be numbers not strings. So Change\r\n```java\r\nEmployee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\r\n```\r\nto :\r\n```java\r\nEmployee micheal = new Employee (&quot;Micheal&quot;, 124, 15000.0);\r\n```","title":"How can I fix the constructor in my Employee program?","body":"<p>You have to respect typing in java <em>String</em> enclosed within quoted, <em>int</em> and <em>double</em> must be numbers not strings. So Change</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\n</code></pre>\n<p>to :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee micheal = new Employee (&quot;Micheal&quot;, 124, 15000.0);\n</code></pre>\n"}],"owner":{"account_id":22851886,"reputation":1,"user_id":16997371,"display_name":"McXombiGuts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1632661079,"accepted_answer_id":69321317,"answer_count":2,"score":-4,"last_activity_date":1632519524,"creation_date":1632519166,"question_id":69321300,"body_markdown":"I currently have an assignment in my coding class that has me stumped. I&#39;m a beginner at coding, and I am currently trying to get a constructor to work. I get the following *error:\r\n &quot;constructor Employee in class Employee cannot be applied to given types;\r\n  required: String,int,double\r\n  found:    String\r\n  reason: actual and formal argument lists differ in length&quot;*\r\n\r\nConstructor code: \r\n\r\n```java\r\npublic class Employee {\r\n    \r\n    String name; //Employee name\r\n    int employeeId; // employee id\r\n    double salary; // employee salary\r\n    \r\n    \r\n   //Constructor here\r\n    public Employee(String name, int employeeId, double salary) {\r\n        this.name = name;\r\n        this.employeeId = employeeId;\r\n        this.salary = salary;\r\n```\r\nProblem corresponding code: \r\n```java\r\nEmployee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\r\n        \r\nEmployee jim = new Employee (&quot;Jim, 124, 10000.0&quot;);\r\n```\r\n\r\n\r\nThe purpose of the program is to display two made up employee&#39;s names, ID #&#39;s, and salary. After that&#39;s done, I need to have it calculate and set a 10% raise in salary for one of the employee&#39;s.","title":"How can I fix the constructor in my Employee program?","body":"<p>I currently have an assignment in my coding class that has me stumped. I'm a beginner at coding, and I am currently trying to get a constructor to work. I get the following <em>error:\n&quot;constructor Employee in class Employee cannot be applied to given types;\nrequired: String,int,double\nfound:    String\nreason: actual and formal argument lists differ in length&quot;</em></p>\n<p>Constructor code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n    \n    String name; //Employee name\n    int employeeId; // employee id\n    double salary; // employee salary\n    \n    \n   //Constructor here\n    public Employee(String name, int employeeId, double salary) {\n        this.name = name;\n        this.employeeId = employeeId;\n        this.salary = salary;\n</code></pre>\n<p>Problem corresponding code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee micheal = new Employee (&quot;Micheal, 124, 15000.0&quot;);\n        \nEmployee jim = new Employee (&quot;Jim, 124, 10000.0&quot;);\n</code></pre>\n<p>The purpose of the program is to display two made up employee's names, ID #'s, and salary. After that's done, I need to have it calculate and set a 10% raise in salary for one of the employee's.</p>\n"},{"tags":["java","macos","terminal"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1632519334,"post_id":69321288,"comment_id":122524162,"body_markdown":"Is there a package declaration in the java file?","body":"Is there a package declaration in the java file?"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1632519581,"post_id":69321288,"comment_id":122524213,"body_markdown":"Use the command `vi DeptQuery.java` and check if you have a package declaration at the top.","body":"Use the command <code>vi DeptQuery.java</code> and check if you have a package declaration at the top."}],"owner":{"account_id":20843575,"reputation":1,"user_id":15309636,"display_name":"hashingboth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632552481,"answer_count":0,"score":0,"last_activity_date":1632519327,"creation_date":1632519071,"question_id":69321288,"body_markdown":"I am using Mac Big Sur terminal.\r\n\r\nI have a .java file. I can compile using:\r\njavac DeptQuery.java\r\n\r\nwhere it creates the class file within the same directory. But then when I type\r\n\r\njava DeptQuery \r\n\r\nto run it, it give the error: &quot;Error: Could not find or load main class DeptQuery&quot;\r\n\r\nI also can&#39;t open the .java file from the terminal, I can only compile it from there.","title":"Could not find or load main class Mac terminal .java","body":"<p>I am using Mac Big Sur terminal.</p>\n<p>I have a .java file. I can compile using:\njavac DeptQuery.java</p>\n<p>where it creates the class file within the same directory. But then when I type</p>\n<p>java DeptQuery</p>\n<p>to run it, it give the error: &quot;Error: Could not find or load main class DeptQuery&quot;</p>\n<p>I also can't open the .java file from the terminal, I can only compile it from there.</p>\n"},{"tags":["java","unit-testing","static","mockito"],"answers":[{"tags":[],"owner":{"account_id":1503775,"reputation":18065,"user_id":1407656,"accept_rate":81,"display_name":"toniedzwiedz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632519257,"creation_date":1632518507,"answer_id":69321217,"question_id":69317570,"body_markdown":"The static initializer is **only executed once**, when the class is loaded. This means it will only run for the first test case using the `Host` class.\r\n\r\nIn your example, once `testLocalhost` is run, the class is used in the line  `Host.getLOCALHOST()`, by which point its initializer has been executed. It never runs again throughout the rest of the unit tests. \r\n\r\nIf you switch the order of these test cases, you&#39;ll get a different result.\r\n\r\nJudging by your test cases, there&#39;s a few things you could do to make the code match your expectations. Since the IP and the host name will change throughout the execution of your program, they shouldn&#39;t be static members set in the static initializer block.\r\n\r\n 1. Get rid of shared state. Setting aside concurrency and memory visibility, `static` members will be visible to all instances of the class. Omit the `static` keyword and make these into regular fields\r\n    ```\r\n    public class Host {\r\n  \r\n        private final String hostName;\r\n\r\n        private final String ip;\r\n\r\n        // Constructor, use this to build new instances\r\n        public Host(String hostName, String ip) {\r\n            this.hostName = hostName;\r\n            this.ip = ip;\r\n        }\r\n\r\n        // No longer static, this is now an instance method\r\n        public getHostName() {\r\n            return this.hostName;\r\n        }\r\n\r\n        public getIp() {\r\n            return this.ip;\r\n        }\r\n    }\r\n    ```\r\n    \r\n 2. Build instances of your class, passing arguments to the constructor to customize its behaviour.\r\n    ```\r\n    // Host.getIp(); // If IP and host name can vary, don&#39;t make them static\r\n    InetAddress localhost = InetAddress.getLocalHost();\r\n    // build a new instance of Host, provide the relevant data at construction time\r\n    Host testedHost = new Host(localhost.getHostName(), localhost.getHostAddress());\r\n    // call the instance method, this doesn&#39;t affect your other tests\r\n    assertThat(testedHost.getIp()).is(someIp);\r\n    // at this point, the Host instance you created may be garbage-collected to free memory (you don&#39;t need to do that yourself)\r\n    ```\r\n    Now every test case will be independent from the others. Just create a new instance of `Host` every time you need one.\r\n 3. Get rid of static mocks. notice how the `InetAddress` method invocations were moved outside the `Host` class. By passing them through the constructor, you make the code easier to test. [Inversion of control](https://en.wikipedia.org/wiki/Inversion_of_control) is achieved.\r\n\r\nInstead of a public constructor, you could use a factory method. Bottom line is that if you want to have the class change its behaviour, it&#39;s usually better to create new instances and encapsulate any state.\r\n\r\nStatic classes and members are better suited for things like immutable contants that won&#39;t change throughout the execution of your program, or utility methods that don&#39;t rely on any internal state, i.e. [pure functions](https://en.wikipedia.org/wiki/Pure_function). ","title":"Failing unit test with mockito.mockStatic","body":"<p>The static initializer is <strong>only executed once</strong>, when the class is loaded. This means it will only run for the first test case using the <code>Host</code> class.</p>\n<p>In your example, once <code>testLocalhost</code> is run, the class is used in the line  <code>Host.getLOCALHOST()</code>, by which point its initializer has been executed. It never runs again throughout the rest of the unit tests.</p>\n<p>If you switch the order of these test cases, you'll get a different result.</p>\n<p>Judging by your test cases, there's a few things you could do to make the code match your expectations. Since the IP and the host name will change throughout the execution of your program, they shouldn't be static members set in the static initializer block.</p>\n<ol>\n<li><p>Get rid of shared state. Setting aside concurrency and memory visibility, <code>static</code> members will be visible to all instances of the class. Omit the <code>static</code> keyword and make these into regular fields</p>\n<pre><code>public class Host {\n\n    private final String hostName;\n\n    private final String ip;\n\n    // Constructor, use this to build new instances\n    public Host(String hostName, String ip) {\n        this.hostName = hostName;\n        this.ip = ip;\n    }\n\n    // No longer static, this is now an instance method\n    public getHostName() {\n        return this.hostName;\n    }\n\n    public getIp() {\n        return this.ip;\n    }\n}\n</code></pre>\n</li>\n<li><p>Build instances of your class, passing arguments to the constructor to customize its behaviour.</p>\n<pre><code>// Host.getIp(); // If IP and host name can vary, don't make them static\nInetAddress localhost = InetAddress.getLocalHost();\n// build a new instance of Host, provide the relevant data at construction time\nHost testedHost = new Host(localhost.getHostName(), localhost.getHostAddress());\n// call the instance method, this doesn't affect your other tests\nassertThat(testedHost.getIp()).is(someIp);\n// at this point, the Host instance you created may be garbage-collected to free memory (you don't need to do that yourself)\n</code></pre>\n<p>Now every test case will be independent from the others. Just create a new instance of <code>Host</code> every time you need one.</p>\n</li>\n<li><p>Get rid of static mocks. notice how the <code>InetAddress</code> method invocations were moved outside the <code>Host</code> class. By passing them through the constructor, you make the code easier to test. <a href=\"https://en.wikipedia.org/wiki/Inversion_of_control\" rel=\"nofollow noreferrer\">Inversion of control</a> is achieved.</p>\n</li>\n</ol>\n<p>Instead of a public constructor, you could use a factory method. Bottom line is that if you want to have the class change its behaviour, it's usually better to create new instances and encapsulate any state.</p>\n<p>Static classes and members are better suited for things like immutable contants that won't change throughout the execution of your program, or utility methods that don't rely on any internal state, i.e. <a href=\"https://en.wikipedia.org/wiki/Pure_function\" rel=\"nofollow noreferrer\">pure functions</a>.</p>\n"}],"owner":{"account_id":7399463,"reputation":1,"user_id":5630381,"display_name":"Josip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632519257,"creation_date":1632497175,"question_id":69317570,"body_markdown":"So, I&#39;m writing a junit test and I can&#39;t seem te figure out why it is failing. I&#39;m using Mockito.mockStatic in order to mock InetAddres.class. Running the unit tests all at once fails. Running them separately succeeds. I understand static blocks are initialized once. What I can&#39;t seem to figure out is why class Host is not reinitialized with every unit test. Any help is appreciated\r\n\r\nJ\r\n\r\nHere is my code:\r\n```\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockedStatic;\r\nimport org.mockito.Mockito;\r\n\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n\r\nclass HostTest {\r\n\r\n    @Test\r\n    void testLocalhost() {\r\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\r\n            InetAddress inetAddress = Mockito.mock(InetAddress.class);\r\n            Mockito.when(inetAddress.getHostName()).thenReturn(&quot;LOCALHOST&quot;);\r\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenReturn(inetAddress);\r\n            assertThat(Host.getLOCALHOST()).isEqualTo(&quot;LOCALHOST&quot;);\r\n            Mockito.reset(inetAddress);\r\n\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void testIP() {\r\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\r\n            InetAddress inetAddress = Mockito.mock(InetAddress.class);\r\n            Mockito.when(inetAddress.getHostAddress()).thenReturn(&quot;127.0.0.1&quot;);\r\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenReturn(inetAddress);\r\n            assertThat(Host.getIP()).isEqualTo(&quot;127.0.0.1&quot;);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void testUnkownHostExceptionIP() {\r\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\r\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenThrow(UnknownHostException.class);\r\n            assertThat(Host.getIP()).isEqualTo(&quot;Unkown ip&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    @Test\r\n    void testUnkownHostExceptionLocalhost() {\r\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\r\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenThrow(UnknownHostException.class);\r\n            assertThat(Host.getLOCALHOST()).isEqualTo(&quot;Unkown hostname&quot;);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\n\r\npublic class Host {\r\n\r\n    private static String LOCALHOST;\r\n    private static String IP;\r\n\r\n    static {\r\n        try {\r\n            InetAddress localhost = InetAddress.getLocalHost();\r\n            LOCALHOST = localhost.getHostName();\r\n            IP = localhost.getHostAddress();\r\n        } catch (UnknownHostException e) {\r\n            LOCALHOST = &quot;Unkown hostname&quot;;\r\n            IP = &quot;Unkown ip&quot;;\r\n        }\r\n    }\r\n\r\n    public static String getLOCALHOST() {\r\n        return LOCALHOST;\r\n    }\r\n\r\n    public static String getIP() {\r\n        return IP;\r\n    }\r\n}\r\n```","title":"Failing unit test with mockito.mockStatic","body":"<p>So, I'm writing a junit test and I can't seem te figure out why it is failing. I'm using Mockito.mockStatic in order to mock InetAddres.class. Running the unit tests all at once fails. Running them separately succeeds. I understand static blocks are initialized once. What I can't seem to figure out is why class Host is not reinitialized with every unit test. Any help is appreciated</p>\n<p>J</p>\n<p>Here is my code:</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.mockito.MockedStatic;\nimport org.mockito.Mockito;\n\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n\nclass HostTest {\n\n    @Test\n    void testLocalhost() {\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\n            InetAddress inetAddress = Mockito.mock(InetAddress.class);\n            Mockito.when(inetAddress.getHostName()).thenReturn(&quot;LOCALHOST&quot;);\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenReturn(inetAddress);\n            assertThat(Host.getLOCALHOST()).isEqualTo(&quot;LOCALHOST&quot;);\n            Mockito.reset(inetAddress);\n\n        }\n    }\n\n    @Test\n    void testIP() {\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\n            InetAddress inetAddress = Mockito.mock(InetAddress.class);\n            Mockito.when(inetAddress.getHostAddress()).thenReturn(&quot;127.0.0.1&quot;);\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenReturn(inetAddress);\n            assertThat(Host.getIP()).isEqualTo(&quot;127.0.0.1&quot;);\n        }\n    }\n\n    @Test\n    void testUnkownHostExceptionIP() {\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenThrow(UnknownHostException.class);\n            assertThat(Host.getIP()).isEqualTo(&quot;Unkown ip&quot;);\n        }\n\n    }\n\n    @Test\n    void testUnkownHostExceptionLocalhost() {\n        try (MockedStatic&lt;InetAddress&gt; inetAddressMockedStatic = Mockito.mockStatic(InetAddress.class)) {\n            inetAddressMockedStatic.when(InetAddress::getLocalHost).thenThrow(UnknownHostException.class);\n            assertThat(Host.getLOCALHOST()).isEqualTo(&quot;Unkown hostname&quot;);\n\n        }\n    }\n}\n\n\n\n\nimport java.net.InetAddress;\nimport java.net.UnknownHostException;\n\npublic class Host {\n\n    private static String LOCALHOST;\n    private static String IP;\n\n    static {\n        try {\n            InetAddress localhost = InetAddress.getLocalHost();\n            LOCALHOST = localhost.getHostName();\n            IP = localhost.getHostAddress();\n        } catch (UnknownHostException e) {\n            LOCALHOST = &quot;Unkown hostname&quot;;\n            IP = &quot;Unkown ip&quot;;\n        }\n    }\n\n    public static String getLOCALHOST() {\n        return LOCALHOST;\n    }\n\n    public static String getIP() {\n        return IP;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1632524947,"post_id":69320822,"comment_id":122525082,"body_markdown":"Looks like this [answer](https://stackoverflow.com/a/50114884/8370915) is related to your question. Please, check it. If it doesn&#39;t help you, update your question with attempts to continue investigation.","body":"Looks like this <a href=\"https://stackoverflow.com/a/50114884/8370915\">answer</a> is related to your question. Please, check it. If it doesn&#39;t help you, update your question with attempts to continue investigation."},{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1632546602,"post_id":69320822,"comment_id":122527614,"body_markdown":"This video could help you. [Selenium java](https://www.youtube.com/watch?v=NJZop3GZWQU&amp;lc=Ugw4fM2arcxSvYEieHx4AaABAg.9S8bG9W9G3c9SLFsYZMChk)","body":"This video could help you. <a href=\"https://www.youtube.com/watch?v=NJZop3GZWQU&amp;lc=Ugw4fM2arcxSvYEieHx4AaABAg.9S8bG9W9G3c9SLFsYZMChk\" rel=\"nofollow noreferrer\">Selenium java</a>"}],"answers":[{"tags":[],"owner":{"account_id":22851525,"reputation":1,"user_id":16997059,"display_name":"Liitlewheat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632517820,"creation_date":1632517820,"answer_id":69321133,"question_id":69320822,"body_markdown":"you write that you have jar in the libraries.\r\nDo you mean a libraries on a filesystem or a libraries in a project? \r\nIf not - then the JAR needs to be inserted into the Project (see picture)[Project / Libraries][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ik6PV.png","title":"Selenium Java setup eclipse","body":"<p>you write that you have jar in the libraries.\nDo you mean a libraries on a filesystem or a libraries in a project?\nIf not - then the JAR needs to be inserted into the Project (see picture)<a href=\"https://i.stack.imgur.com/Ik6PV.png\" rel=\"nofollow noreferrer\">Project / Libraries</a></p>\n"}],"owner":{"account_id":18686239,"reputation":69,"user_id":13621685,"display_name":"Anshul Thakur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632517820,"creation_date":1632515495,"question_id":69320822,"body_markdown":"I am new to java in selenium i am setting up the below code however eclipse is unable to recognize the webdriver and chromedriver below are the snap can someone please help me on this. I have also downloaded the JARS and kept it on the the libraries\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/meSUL.jpg","title":"Selenium Java setup eclipse","body":"<p>I am new to java in selenium i am setting up the below code however eclipse is unable to recognize the webdriver and chromedriver below are the snap can someone please help me on this. I have also downloaded the JARS and kept it on the the libraries</p>\n<p><a href=\"https://i.stack.imgur.com/meSUL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/meSUL.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-oauth2"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1632528883,"post_id":69319411,"comment_id":122525610,"body_markdown":"why not just generate a jwt that lasts for 100 years and use that... sounds a lot easier.","body":"why not just generate a jwt that lasts for 100 years and use that... sounds a lot easier."}],"owner":{"account_id":2556410,"reputation":51,"user_id":6062333,"display_name":"Juan Pablo Meza Utreras"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1561,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":0,"score":4,"last_activity_date":1632517820,"creation_date":1632506606,"question_id":69319411,"body_markdown":"I&#39;m migrating a microservice built on Spring Boot from Spring Security OAuth 2 (2.5.5) to Spring Security 5. For resource servers, this is easily done following many of the [tutorials found online][1]. \r\n\r\nProblem arises when there&#39;s Authorization server logic, which is not directly supported by Spring Security 5. Recently Spring has made available a production-ready version of their new Auth server, [Spring Authorization Server 0.2.0][2]. This components follows the same coding style and structure of Spring Security OAuth 2, but there is no documentation available yet, and very few tutorials online available.\r\n\r\nWhile this microservice is not a proper authorization server, it uses Spring auth server code to generate a custom `authenticationProvider` for our local environment that can return a `OAuth2Authentication` (deprecated) authentication token, all of this configuration is defined in a `ResourceServerConfigurerAdapter` (which is also deprecated). \r\n\r\nThis was done so that we can test endpoints in our local environment without the need of a JWT, and by having a `OAuth2Authentication` we don&#39;t need to make any changes in our code, if we ever need to get any claims from the JWT in the code. I haven&#39;t seen this kind of setup online, and I haven&#39;t been able to properly create an `authenticationProvider` using Spring Authorization Server&#39;s classes. I always get a 403 response from any endpoint.\r\n\r\nOriginal code with Spring Security OAuth 2\r\n\r\n    @EnableResourceServer\r\n    @Configuration\r\n    @Profile(&quot;local&quot;)\r\n    public class ResourceServerConfigurationLocal extends ResourceServerConfigurerAdapter{\r\n\r\n        private static final String LOCAL = &quot;local&quot;;\r\n        @Value(&quot;${id.local.oauth}&quot;)\r\n        private String id;\r\n        @Value(&quot;${clientId.local.oauth}&quot;)\r\n        private Integer clientId;\r\n\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n          http\r\n            .requestMatchers()\r\n                .antMatchers(&quot;/api/**&quot;)\r\n                .and()\r\n            .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n            .authenticationProvider(LocalAuthenticationProvider.getLocalAuthenticationProvider(id, clientId));\r\n        }\r\n\r\n        @Override\r\n        public void configure(final ResourceServerSecurityConfigurer resources) {\r\n        resources\r\n                .tokenExtractor(request -&gt; new UsernamePasswordAuthenticationToken(LOCAL, LOCAL))\r\n                .tokenServices(ResourceServerTokenServicesLocal.getResourceServerTokenServices());\r\n        }\r\n\r\n        private static class LocalAuthenticationProvider {\r\n            private static AuthenticationProvider getLocalAuthenticationProvider(String id, Integer clientId) {\r\n                return new AuthenticationProvider() {\r\n                    @Override\r\n                    public Authentication authenticate(Authentication authentication) {\r\n                        log.info(&quot;Logged with ID: {}&quot;, id);\r\n                        UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(id, LOCAL);\r\n                        token.setDetails(CustomUserDetails.builder().userId(clientId).build());\r\n                        return new OAuth2Authentication(null, token);\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean supports(Class&lt;?&gt; authentication) {\r\n                        return true;\r\n                    }\r\n                };\r\n            }\r\n        }\r\n\r\n        private static class ResourceServerTokenServicesLocal {\r\n            private static ResourceServerTokenServices getResourceServerTokenServices() {\r\n                return new ResourceServerTokenServices() {\r\n                    @Override\r\n                    public OAuth2Authentication loadAuthentication(String accessToken) {\r\n                        return new OAuth2Authentication(\r\n                            Oauth2RequestLocal.getOauth2Request(),\r\n                            new UsernamePasswordAuthenticationToken(LOCAL, LOCAL));\r\n                    }\r\n\r\n                    @Override\r\n                    public OAuth2AccessToken readAccessToken(String accessToken) {\r\n                        return new DefaultOAuth2AccessToken(LOCAL);\r\n                    }\r\n                };\r\n            }\r\n        }\r\n\r\n        private static class Oauth2RequestLocal {\r\n            private static OAuth2Request getOauth2Request() {\r\n                return new OAuth2Request(Collections.emptyMap(),\r\n                    &quot;clientId1&quot;,\r\n                    null,\r\n                    true,\r\n                    Collections.emptySet(),\r\n                    null,\r\n                    &quot;http://local&quot;,\r\n                    null,\r\n                    null);\r\n            }\r\n        }\r\n    }\r\n\r\nWhat I have tried so far:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @Profile(&quot;local&quot;)\r\n    public class ResourceServerConfigurationLocal extends WebSecurityConfigurerAdapter {\r\n\r\n        private static final String LOCAL = &quot;local&quot;;\r\n        @Value(&quot;${id.local.oauth}&quot;)\r\n        private String id;\r\n        @Value(&quot;${clientId.local.oauth}&quot;)\r\n        private Integer clientId;\r\n\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .requestMatchers()\r\n                \t.antMatchers(&quot;/api/**&quot;)\r\n                \t.and()\r\n                .authorizeRequests()\r\n                \t.anyRequest()\r\n                \t.authenticated()\r\n                \t.and()\r\n                .authenticationProvider(LocalAuthenticationProvider.getLocalAuthenticationProvider(id, clientId));\r\n        }\r\n        \r\n        private static class LocalAuthenticationProvider {\r\n            private static AuthenticationProvider getLocalAuthenticationProvider(String id, Integer clientId) {\r\n                return new AuthenticationProvider() {\r\n                    @Override\r\n                    public Authentication authenticate(Authentication authentication) {\r\n                    log.info(&quot;Logged with ID: {}&quot;, id);\r\n                        UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(id, LOCAL);\r\n                        token.setDetails(CustomUserDetails.builder().userId(clientId).build());\r\n\r\n                        return new OAuth2AccessTokenAuthenticationToken(\r\n                        \t\tRegisteredClient.withId(clientId.toString()).clientId(clientId.toString()).clientName(id).build(), \r\n                        \t\ttoken, \r\n                        \t\tnew OAuth2AccessToken(OAuth2AccessToken.TokenType.BEARER,&quot;a&quot;,null,null));\r\n                    }\r\n\r\n                    @Override\r\n                    public boolean supports(Class&lt;?&gt; authentication) {\r\n                        return true;\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    }\r\n\r\nThanks in advance.\r\n\r\n  [1]: https://www.baeldung.com/spring-security-oauth-resource-server\r\n  [2]: https://github.com/spring-projects/spring-authorization-server","title":"Custom authenticationProvider with Spring Authorization Server","body":"<p>I'm migrating a microservice built on Spring Boot from Spring Security OAuth 2 (2.5.5) to Spring Security 5. For resource servers, this is easily done following many of the <a href=\"https://www.baeldung.com/spring-security-oauth-resource-server\" rel=\"nofollow noreferrer\">tutorials found online</a>.</p>\n<p>Problem arises when there's Authorization server logic, which is not directly supported by Spring Security 5. Recently Spring has made available a production-ready version of their new Auth server, <a href=\"https://github.com/spring-projects/spring-authorization-server\" rel=\"nofollow noreferrer\">Spring Authorization Server 0.2.0</a>. This components follows the same coding style and structure of Spring Security OAuth 2, but there is no documentation available yet, and very few tutorials online available.</p>\n<p>While this microservice is not a proper authorization server, it uses Spring auth server code to generate a custom <code>authenticationProvider</code> for our local environment that can return a <code>OAuth2Authentication</code> (deprecated) authentication token, all of this configuration is defined in a <code>ResourceServerConfigurerAdapter</code> (which is also deprecated).</p>\n<p>This was done so that we can test endpoints in our local environment without the need of a JWT, and by having a <code>OAuth2Authentication</code> we don't need to make any changes in our code, if we ever need to get any claims from the JWT in the code. I haven't seen this kind of setup online, and I haven't been able to properly create an <code>authenticationProvider</code> using Spring Authorization Server's classes. I always get a 403 response from any endpoint.</p>\n<p>Original code with Spring Security OAuth 2</p>\n<pre><code>@EnableResourceServer\n@Configuration\n@Profile(&quot;local&quot;)\npublic class ResourceServerConfigurationLocal extends ResourceServerConfigurerAdapter{\n\n    private static final String LOCAL = &quot;local&quot;;\n    @Value(&quot;${id.local.oauth}&quot;)\n    private String id;\n    @Value(&quot;${clientId.local.oauth}&quot;)\n    private Integer clientId;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n      http\n        .requestMatchers()\n            .antMatchers(&quot;/api/**&quot;)\n            .and()\n        .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n        .authenticationProvider(LocalAuthenticationProvider.getLocalAuthenticationProvider(id, clientId));\n    }\n\n    @Override\n    public void configure(final ResourceServerSecurityConfigurer resources) {\n    resources\n            .tokenExtractor(request -&gt; new UsernamePasswordAuthenticationToken(LOCAL, LOCAL))\n            .tokenServices(ResourceServerTokenServicesLocal.getResourceServerTokenServices());\n    }\n\n    private static class LocalAuthenticationProvider {\n        private static AuthenticationProvider getLocalAuthenticationProvider(String id, Integer clientId) {\n            return new AuthenticationProvider() {\n                @Override\n                public Authentication authenticate(Authentication authentication) {\n                    log.info(&quot;Logged with ID: {}&quot;, id);\n                    UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(id, LOCAL);\n                    token.setDetails(CustomUserDetails.builder().userId(clientId).build());\n                    return new OAuth2Authentication(null, token);\n                }\n\n                @Override\n                public boolean supports(Class&lt;?&gt; authentication) {\n                    return true;\n                }\n            };\n        }\n    }\n\n    private static class ResourceServerTokenServicesLocal {\n        private static ResourceServerTokenServices getResourceServerTokenServices() {\n            return new ResourceServerTokenServices() {\n                @Override\n                public OAuth2Authentication loadAuthentication(String accessToken) {\n                    return new OAuth2Authentication(\n                        Oauth2RequestLocal.getOauth2Request(),\n                        new UsernamePasswordAuthenticationToken(LOCAL, LOCAL));\n                }\n\n                @Override\n                public OAuth2AccessToken readAccessToken(String accessToken) {\n                    return new DefaultOAuth2AccessToken(LOCAL);\n                }\n            };\n        }\n    }\n\n    private static class Oauth2RequestLocal {\n        private static OAuth2Request getOauth2Request() {\n            return new OAuth2Request(Collections.emptyMap(),\n                &quot;clientId1&quot;,\n                null,\n                true,\n                Collections.emptySet(),\n                null,\n                &quot;http://local&quot;,\n                null,\n                null);\n        }\n    }\n}\n</code></pre>\n<p>What I have tried so far:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@Profile(&quot;local&quot;)\npublic class ResourceServerConfigurationLocal extends WebSecurityConfigurerAdapter {\n\n    private static final String LOCAL = &quot;local&quot;;\n    @Value(&quot;${id.local.oauth}&quot;)\n    private String id;\n    @Value(&quot;${clientId.local.oauth}&quot;)\n    private Integer clientId;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n            .requestMatchers()\n                .antMatchers(&quot;/api/**&quot;)\n                .and()\n            .authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n            .authenticationProvider(LocalAuthenticationProvider.getLocalAuthenticationProvider(id, clientId));\n    }\n    \n    private static class LocalAuthenticationProvider {\n        private static AuthenticationProvider getLocalAuthenticationProvider(String id, Integer clientId) {\n            return new AuthenticationProvider() {\n                @Override\n                public Authentication authenticate(Authentication authentication) {\n                log.info(&quot;Logged with ID: {}&quot;, id);\n                    UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(id, LOCAL);\n                    token.setDetails(CustomUserDetails.builder().userId(clientId).build());\n\n                    return new OAuth2AccessTokenAuthenticationToken(\n                            RegisteredClient.withId(clientId.toString()).clientId(clientId.toString()).clientName(id).build(), \n                            token, \n                            new OAuth2AccessToken(OAuth2AccessToken.TokenType.BEARER,&quot;a&quot;,null,null));\n                }\n\n                @Override\n                public boolean supports(Class&lt;?&gt; authentication) {\n                    return true;\n                }\n            };\n        }\n    }\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1548040387,"post_id":54282556,"comment_id":95387761,"body_markdown":"The interesting thing is that the [Oracle Java SE FAQs](https://www.oracle.com/technetwork/java/javase/overview/faqs-jsp-136696.html) actually answer this directly:   *&quot;Is Java still free?\nThe current version of Java - Java SE 11 is available from Oracle under an open source license at http://jdk.java.net/11/.&quot;*","body":"The interesting thing is that the <a href=\"https://www.oracle.com/technetwork/java/javase/overview/faqs-jsp-136696.html\" rel=\"nofollow noreferrer\">Oracle Java SE FAQs</a> actually answer this directly:   <i>&quot;Is Java still free? The current version of Java - Java SE 11 is available from Oracle under an open source license at <a href=\"http://jdk.java.net/11/\" rel=\"nofollow noreferrer\">jdk.java.net/11</a>.&quot;</i>"},{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":0,"creation_date":1548040811,"post_id":54282556,"comment_id":95387841,"body_markdown":"A 10 minutes Devoxx video @ https://youtu.be/cUqcSFLnk_E?t=35 provides good info on free/commercial license, updates and support topics.","body":"A 10 minutes Devoxx video @ <a href=\"https://youtu.be/cUqcSFLnk_E?t=35\" rel=\"nofollow noreferrer\">youtu.be/cUqcSFLnk_E?t=35</a> provides good info on free/commercial license, updates and support topics."}],"answers":[{"tags":[],"owner":{"account_id":4401323,"reputation":2073,"user_id":3586940,"display_name":"Hisham Hijjawi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548036657,"creation_date":1548036657,"answer_id":54282731,"question_id":54282556,"body_markdown":"All Oracle&#39;s OpenJDK&#39;s are free, in any environment. The issue arises when you use the Oracle JDK (not with the OpenJDK). Since they are functionally the same since Java 11, there is no need to switch languages. \r\n\r\nMore details here:\r\nhttps://blog.jetbrains.com/idea/2018/09/using-java-11-in-production-important-things-to-know/","title":"Is there any OpenJDK that is fully free and will be available for commercial use","body":"<p>All Oracle's OpenJDK's are free, in any environment. The issue arises when you use the Oracle JDK (not with the OpenJDK). Since they are functionally the same since Java 11, there is no need to switch languages. </p>\n\n<p>More details here:\n<a href=\"https://blog.jetbrains.com/idea/2018/09/using-java-11-in-production-important-things-to-know/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/idea/2018/09/using-java-11-in-production-important-things-to-know/</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1632516982,"creation_date":1548040176,"answer_id":54283051,"question_id":54282556,"body_markdown":"# Yes, Java is still free\r\n\r\nIt is vital that you study: [*Java Is Still Free*](https://medium.com/@javachampions/java-is-still-free-c02aef8c9e04). Written by key members of the Java community, providing both a summary and all the gory details.\r\n\r\n# Guidance\r\n\r\nThe [OpenJDK][1] source code is [available free-of-cost][2] per its GNU GPL+linking exception license. \r\n\r\nSeveral vendors provide releases based on that OpenJDK source code. They can do so free-of-cost or they can charge a fee or set other licensing terms, as long as they abide by the GNU GPL+linking exception licensing. \r\n\r\nThe Oracle JDK in latest versions has changed its licensing. It can no longer be used in production without a paid support plan. Contact Oracle for details. The Oracle JDK has converged to be at feature-parity with OpenJDK, with Oracle having contributed to OpenJDK even more of their formerly commercial parts such as [Flight Recorder][3] and [Mission Control][4].\r\n\r\nOther vendors also provide releases with commercial terms, for a product which may contain some OpenJDK code. \r\n\r\nAnd some vendors such as Adoptium with their Eclipse Temurin product (formerly AdoptOpenJDK), Azul Systems with their Zulu product, and Amazon Web Services with their Corretto product, all provide builds of OpenJDK without payment required. \r\n\r\nA release may or may not be labeled “Java”. If a vendor want their release to carry the branding “Java”, they must pass rigorous testing for compliance with the Java specifications and abide by Oracle’s terms for using their trademark.\r\n\r\nHere is a flowchart that may help guide you in determining how and where to obtain Java 11. Important: This info may be incorrect. You are responsible for studying the details of the license under which you use any software. \r\n\r\n*(Note that the diagrams say &quot;Adoptium&quot;, which is not a distribution, but instead the organization that produces the distribution called &quot;Eclipse Temurin&quot;. See [here](https://adoptium.net/faq.html#temurinName) for more info.)*\r\n\r\n\r\n----------\r\n\r\n\r\n[![Flowchart guiding you in choosing a vendor for a Java 11 implementation][5]][5]\r\n\r\n\r\n----------\r\n\r\n[![Motivations in choosing a vendor for Java][6]][6]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [2]: https://openjdk.java.net/\r\n  [3]: https://openjdk.java.net/jeps/328\r\n  [4]: https://openjdk.java.net/projects/jmc/\r\n  [5]: https://i.stack.imgur.com/2k5u8.png\r\n  [6]: https://i.stack.imgur.com/unKsY.png","title":"Is there any OpenJDK that is fully free and will be available for commercial use","body":"<h1>Yes, Java is still free</h1>\n<p>It is vital that you study: <a href=\"https://medium.com/@javachampions/java-is-still-free-c02aef8c9e04\" rel=\"nofollow noreferrer\"><em>Java Is Still Free</em></a>. Written by key members of the Java community, providing both a summary and all the gory details.</p>\n<h1>Guidance</h1>\n<p>The <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> source code is <a href=\"https://openjdk.java.net/\" rel=\"nofollow noreferrer\">available free-of-cost</a> per its GNU GPL+linking exception license.</p>\n<p>Several vendors provide releases based on that OpenJDK source code. They can do so free-of-cost or they can charge a fee or set other licensing terms, as long as they abide by the GNU GPL+linking exception licensing.</p>\n<p>The Oracle JDK in latest versions has changed its licensing. It can no longer be used in production without a paid support plan. Contact Oracle for details. The Oracle JDK has converged to be at feature-parity with OpenJDK, with Oracle having contributed to OpenJDK even more of their formerly commercial parts such as <a href=\"https://openjdk.java.net/jeps/328\" rel=\"nofollow noreferrer\">Flight Recorder</a> and <a href=\"https://openjdk.java.net/projects/jmc/\" rel=\"nofollow noreferrer\">Mission Control</a>.</p>\n<p>Other vendors also provide releases with commercial terms, for a product which may contain some OpenJDK code.</p>\n<p>And some vendors such as Adoptium with their Eclipse Temurin product (formerly AdoptOpenJDK), Azul Systems with their Zulu product, and Amazon Web Services with their Corretto product, all provide builds of OpenJDK without payment required.</p>\n<p>A release may or may not be labeled “Java”. If a vendor want their release to carry the branding “Java”, they must pass rigorous testing for compliance with the Java specifications and abide by Oracle’s terms for using their trademark.</p>\n<p>Here is a flowchart that may help guide you in determining how and where to obtain Java 11. Important: This info may be incorrect. You are responsible for studying the details of the license under which you use any software.</p>\n<p><em>(Note that the diagrams say &quot;Adoptium&quot;, which is not a distribution, but instead the organization that produces the distribution called &quot;Eclipse Temurin&quot;. See <a href=\"https://adoptium.net/faq.html#temurinName\" rel=\"nofollow noreferrer\">here</a> for more info.)</em></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/2k5u8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2k5u8.png\" alt=\"Flowchart guiding you in choosing a vendor for a Java 11 implementation\" /></a></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/unKsY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/unKsY.png\" alt=\"Motivations in choosing a vendor for Java\" /></a></p>\n"}],"owner":{"account_id":13671084,"reputation":411,"user_id":9863738,"display_name":"Thanus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18139,"favorite_count":0,"down_vote_count":4,"up_vote_count":12,"answer_count":2,"score":8,"last_activity_date":1632516982,"creation_date":1548034612,"question_id":54282556,"body_markdown":"I just recently heard about the licensing for Oracle JDK, after trying to create a springboot app for a year.  I wanted to find out if there are other alternative JDK which are free for production/commercial use, and if they are what is the certainty that it wouldnt be paid for after or that it would be in the market for long. My only alternative now is to rewrite my code in another language. ","title":"Is there any OpenJDK that is fully free and will be available for commercial use","body":"<p>I just recently heard about the licensing for Oracle JDK, after trying to create a springboot app for a year.  I wanted to find out if there are other alternative JDK which are free for production/commercial use, and if they are what is the certainty that it wouldnt be paid for after or that it would be in the market for long. My only alternative now is to rewrite my code in another language. </p>\n"},{"tags":["java","switch-statement","expression"],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632508011,"creation_date":1632508011,"answer_id":69319641,"question_id":69319618,"body_markdown":"You need to remove this line because this is a different object from what you declared in the `main` method\r\n\r\n```\r\npublic class Menus {\r\n\r\n    public void loginChoiceCase() {\r\n        InputRequests inp = new InputRequests(); &lt;--- delete this line\r\n        switch (inp.getLoginRole()) {\r\n            case 1 -&gt; System.out.println(&quot;test&quot;);\r\n            case 2 -&gt; System.out.println(&quot;tested&quot;);\r\n            case 3 -&gt; System.exit(1);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nExplanation: why this happened?\r\n\r\nBecause the object you declared in the `loginChoiceCase` method has didn&#39;t store the value from the user console and the value of `loginRole` the default which is zero and you don&#39;t have a menu with zero case.","title":"Java Skipping switch statement using getter as expression","body":"<p>You need to remove this line because this is a different object from what you declared in the <code>main</code> method</p>\n<pre><code>public class Menus {\n\n    public void loginChoiceCase() {\n        InputRequests inp = new InputRequests(); &lt;--- delete this line\n        switch (inp.getLoginRole()) {\n            case 1 -&gt; System.out.println(&quot;test&quot;);\n            case 2 -&gt; System.out.println(&quot;tested&quot;);\n            case 3 -&gt; System.exit(1);\n        }\n    }\n}\n\n</code></pre>\n<p>Explanation: why this happened?</p>\n<p>Because the object you declared in the <code>loginChoiceCase</code> method has didn't store the value from the user console and the value of <code>loginRole</code> the default which is zero and you don't have a menu with zero case.</p>\n"},{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632516004,"creation_date":1632510307,"answer_id":69320000,"question_id":69319618,"body_markdown":"Your program isn&#39;t skipping over the switch statement.\r\nLook at the Menus.loginChoiceCase() method. It&#39;s creating a new instance of InputRequests. Which means inp.getLoginRole() is null, and your switch statement doesn&#39;t have a default case to catch nulls.\r\n\r\nAdd a default case to the switch statement\r\n\r\n    default -&gt; System.out.println(&quot;Null&quot;);\r\n\r\n\r\nIdeally what you would want to do is have your loginChoiceCase() method take in an int, and then use that in you case statement.\r\nWith loginChoiceCase() able to take in an int you can then use your getter. Like below.\r\n\r\n\r\nInputRequests\r\n\r\n    public class InputRequests {\r\n    public int loginRole;\r\n\r\n\r\n    public void loginChoice(){\r\n        Scanner login = new Scanner(System.in);\r\n        loginRole = login.nextInt();\r\n    }\r\n\r\n    public int getLoginRole() {\r\n        return loginRole;\r\n    }\r\n    }\r\n\r\nMenus\r\n\r\n    public class Menus {\r\n\r\n    public void loginChoiceCase(int choice) {\r\n        switch (choice) {\r\n            case 1 : System.out.println(&quot;test&quot;);\r\n            case 2 : System.out.println(&quot;tested&quot;);\r\n            case 3 : System.exit(1);\r\n            default : System.out.println(&quot;Null&quot;);\r\n        }\r\n    }\r\n    }\r\n\r\nMain\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        Printblocks print = new Printblocks();\r\n        InputRequests input = new InputRequests();\r\n        Menus menu = new Menus();\r\n        print.firstMenu();\r\n        menu.loginChoiceCase(input.getLoginRole);\r\n        System.out.println(input.getLoginRole());\r\n    }\r\n    }","title":"Java Skipping switch statement using getter as expression","body":"<p>Your program isn't skipping over the switch statement.\nLook at the Menus.loginChoiceCase() method. It's creating a new instance of InputRequests. Which means inp.getLoginRole() is null, and your switch statement doesn't have a default case to catch nulls.</p>\n<p>Add a default case to the switch statement</p>\n<pre><code>default -&gt; System.out.println(&quot;Null&quot;);\n</code></pre>\n<p>Ideally what you would want to do is have your loginChoiceCase() method take in an int, and then use that in you case statement.\nWith loginChoiceCase() able to take in an int you can then use your getter. Like below.</p>\n<p>InputRequests</p>\n<pre><code>public class InputRequests {\npublic int loginRole;\n\n\npublic void loginChoice(){\n    Scanner login = new Scanner(System.in);\n    loginRole = login.nextInt();\n}\n\npublic int getLoginRole() {\n    return loginRole;\n}\n}\n</code></pre>\n<p>Menus</p>\n<pre><code>public class Menus {\n\npublic void loginChoiceCase(int choice) {\n    switch (choice) {\n        case 1 : System.out.println(&quot;test&quot;);\n        case 2 : System.out.println(&quot;tested&quot;);\n        case 3 : System.exit(1);\n        default : System.out.println(&quot;Null&quot;);\n    }\n}\n}\n</code></pre>\n<p>Main</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    Printblocks print = new Printblocks();\n    InputRequests input = new InputRequests();\n    Menus menu = new Menus();\n    print.firstMenu();\n    menu.loginChoiceCase(input.getLoginRole);\n    System.out.println(input.getLoginRole());\n}\n}\n</code></pre>\n"}],"owner":{"account_id":21607416,"reputation":103,"user_id":15934606,"display_name":"ThatsALotOfSemiColons"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69320000,"answer_count":2,"score":4,"last_activity_date":1632516004,"creation_date":1632507866,"question_id":69319618,"body_markdown":"Hey Sorry for the what for you guys must seem like a stupid question but I&#39;ve been stuck on this for a while now, im using a getter from a different class as the switch expression in another class, my program keeps skipping the entire switch alltogether.\r\n\r\nThank you for your time!\r\n\r\nFirst class \r\n```import java.util.Scanner;\r\n\r\npublic class InputRequests {\r\n    public int loginRole;\r\n\r\n\r\n    public void loginChoice(){\r\n        Scanner login = new Scanner(System.in);\r\n        loginRole = login.nextInt();\r\n    }\r\n\r\n    public int getLoginRole() {\r\n        return loginRole;\r\n    }\r\n} \r\n```\r\n\r\nSecond class \r\n\r\n```\r\npublic class Menus {\r\n\r\n    public void loginChoiceCase() {\r\n        InputRequests inp = new InputRequests();\r\n        switch (inp.getLoginRole()) {\r\n            case 1 -&gt; System.out.println(&quot;test&quot;);\r\n            case 2 -&gt; System.out.println(&quot;tested&quot;);\r\n            case 3 -&gt; System.exit(1);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nmain\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Printblocks print = new Printblocks();\r\n        InputRequests input = new InputRequests();\r\n        Menus menu = new Menus();\r\n        print.firstMenu();\r\n        input.loginChoice();\r\n        menu.loginChoiceCase();\r\n        System.out.println(input.getLoginRole());\r\n    }\r\n}\r\n```\r\n\r\nThe first menu print is just a pintblock without anything else, \r\nwhen running the program I do get the int I enter back.\r\n\r\n\r\n\r\n","title":"Java Skipping switch statement using getter as expression","body":"<p>Hey Sorry for the what for you guys must seem like a stupid question but I've been stuck on this for a while now, im using a getter from a different class as the switch expression in another class, my program keeps skipping the entire switch alltogether.</p>\n<p>Thank you for your time!</p>\n<p>First class</p>\n<pre><code>\npublic class InputRequests {\n    public int loginRole;\n\n\n    public void loginChoice(){\n        Scanner login = new Scanner(System.in);\n        loginRole = login.nextInt();\n    }\n\n    public int getLoginRole() {\n        return loginRole;\n    }\n} \n</code></pre>\n<p>Second class</p>\n<pre><code>public class Menus {\n\n    public void loginChoiceCase() {\n        InputRequests inp = new InputRequests();\n        switch (inp.getLoginRole()) {\n            case 1 -&gt; System.out.println(&quot;test&quot;);\n            case 2 -&gt; System.out.println(&quot;tested&quot;);\n            case 3 -&gt; System.exit(1);\n        }\n    }\n}\n\n</code></pre>\n<p>main</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Printblocks print = new Printblocks();\n        InputRequests input = new InputRequests();\n        Menus menu = new Menus();\n        print.firstMenu();\n        input.loginChoice();\n        menu.loginChoiceCase();\n        System.out.println(input.getLoginRole());\n    }\n}\n</code></pre>\n<p>The first menu print is just a pintblock without anything else,\nwhen running the program I do get the int I enter back.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1632505518,"post_id":69319178,"comment_id":122519870,"body_markdown":"a 404? or an actual Exception?","body":"a 404? or an actual Exception?"},{"owner":{"account_id":15162508,"reputation":1322,"user_id":10941102,"display_name":"szatkus"},"score":0,"creation_date":1632506090,"post_id":69319178,"comment_id":122520067,"body_markdown":"@Eugene 404. As I said `HelloController` is missing, so there&#39;s no handler to serve the request.","body":"@Eugene 404. As I said <code>HelloController</code> is missing, so there&#39;s no handler to serve the request."}],"answers":[{"tags":[],"owner":{"account_id":4157256,"reputation":443,"user_id":3408204,"accept_rate":83,"display_name":"Nergon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632515715,"creation_date":1632515715,"answer_id":69320856,"question_id":69319178,"body_markdown":"The reason why this happens is because your `Config` annotation is looking in a sub-package to find the beans but it can no longer find them.\r\n\r\nIf you annotate your `Config` static class with a `@ComponentScan(&quot;package.of.your.helloController&quot;)` then your controller it will be found again.","title":"Spring can&#39;t resolve dependencies with an internal class","body":"<p>The reason why this happens is because your <code>Config</code> annotation is looking in a sub-package to find the beans but it can no longer find them.</p>\n<p>If you annotate your <code>Config</code> static class with a <code>@ComponentScan(&quot;package.of.your.helloController&quot;)</code> then your controller it will be found again.</p>\n"}],"owner":{"account_id":15162508,"reputation":1322,"user_id":10941102,"display_name":"szatkus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632515715,"creation_date":1632505268,"question_id":69319178,"body_markdown":"today I&#39;ve met online another poor soul learning Spring. I decided I&#39;ll help them. Story as old as Spring, a missing bean in unit tests. I made a quick fix, I put a configuration with the missing bean and it worked, seemed like everything was fine.\r\n\r\n```\r\n@Configuration\r\nclass Config {\r\n    @Bean\r\n    HelloService getHelloService() {\r\n        return new HelloService();\r\n    }\r\n}\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@WebMvcTest(HelloController.class)\r\n@Import({Config.class})\r\nclass HelloControllerIntTest {\r\n\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n\r\n    @Test\r\n    void hello() throws Exception {\r\n        RequestBuilder request = get(&quot;/hello&quot;);\r\n        MvcResult result = mvc.perform(request).andReturn();\r\n        assertEquals(&quot;Hello, World&quot;, result.getResponse().getContentAsString());\r\n    }\r\n\r\n    @Test\r\n    public void testHelloWithName() throws Exception {\r\n        mvc.perform(get(&quot;/hello?name=Dan&quot;))\r\n                .andExpect(content().string(&quot;Hello, Dan&quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\nOn the second thought, polluting the public space with additional and very genericly named class is not a good idea, so I decided to put it inside of the class.\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@WebMvcTest(HelloController.class)\r\n@Import({HelloControllerIntTest.Config.class})\r\nclass HelloControllerIntTest {\r\n\r\n   @Configuration\r\n   static class Config {\r\n    @Bean\r\n    HelloService getHelloService() {\r\n        return new HelloService();\r\n    }\r\n   }\r\n\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n\r\n    @Test\r\n    void hello() throws Exception {\r\n        RequestBuilder request = get(&quot;/hello&quot;);\r\n        MvcResult result = mvc.perform(request).andReturn();\r\n        assertEquals(&quot;Hello, World&quot;, result.getResponse().getContentAsString());\r\n    }\r\n\r\n    @Test\r\n    public void testHelloWithName() throws Exception {\r\n        mvc.perform(get(&quot;/hello?name=Dan&quot;))\r\n                .andExpect(content().string(&quot;Hello, Dan&quot;));\r\n    }\r\n}\r\n\r\n```\r\n\r\nTo my surprise, it doesn&#39;t work, 404 error. I put a breakpoint in the `HelloController` and it seems the bean is not constructed at all. Also I peeked into the beans definitions and it seems the first version has 91 beans, and the second 88, so we have missing beans over there.\r\n\r\nAny ideas what happened here? Why in the second version Spring ignores HelloController?","title":"Spring can&#39;t resolve dependencies with an internal class","body":"<p>today I've met online another poor soul learning Spring. I decided I'll help them. Story as old as Spring, a missing bean in unit tests. I made a quick fix, I put a configuration with the missing bean and it worked, seemed like everything was fine.</p>\n<pre><code>@Configuration\nclass Config {\n    @Bean\n    HelloService getHelloService() {\n        return new HelloService();\n    }\n}\n\n@ExtendWith(SpringExtension.class)\n@WebMvcTest(HelloController.class)\n@Import({Config.class})\nclass HelloControllerIntTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n\n    @Test\n    void hello() throws Exception {\n        RequestBuilder request = get(&quot;/hello&quot;);\n        MvcResult result = mvc.perform(request).andReturn();\n        assertEquals(&quot;Hello, World&quot;, result.getResponse().getContentAsString());\n    }\n\n    @Test\n    public void testHelloWithName() throws Exception {\n        mvc.perform(get(&quot;/hello?name=Dan&quot;))\n                .andExpect(content().string(&quot;Hello, Dan&quot;));\n    }\n}\n\n</code></pre>\n<p>On the second thought, polluting the public space with additional and very genericly named class is not a good idea, so I decided to put it inside of the class.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(HelloController.class)\n@Import({HelloControllerIntTest.Config.class})\nclass HelloControllerIntTest {\n\n   @Configuration\n   static class Config {\n    @Bean\n    HelloService getHelloService() {\n        return new HelloService();\n    }\n   }\n\n    @Autowired\n    private MockMvc mvc;\n\n\n    @Test\n    void hello() throws Exception {\n        RequestBuilder request = get(&quot;/hello&quot;);\n        MvcResult result = mvc.perform(request).andReturn();\n        assertEquals(&quot;Hello, World&quot;, result.getResponse().getContentAsString());\n    }\n\n    @Test\n    public void testHelloWithName() throws Exception {\n        mvc.perform(get(&quot;/hello?name=Dan&quot;))\n                .andExpect(content().string(&quot;Hello, Dan&quot;));\n    }\n}\n\n</code></pre>\n<p>To my surprise, it doesn't work, 404 error. I put a breakpoint in the <code>HelloController</code> and it seems the bean is not constructed at all. Also I peeked into the beans definitions and it seems the first version has 91 beans, and the second 88, so we have missing beans over there.</p>\n<p>Any ideas what happened here? Why in the second version Spring ignores HelloController?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20135765,"reputation":1239,"user_id":14766808,"display_name":"Dren"},"score":0,"creation_date":1632418216,"post_id":69304502,"comment_id":122493440,"body_markdown":"Decleare the array outside the constructor then pass it to it.","body":"Decleare the array outside the constructor then pass it to it."},{"owner":{"account_id":1601250,"reputation":1253,"user_id":1482231,"accept_rate":52,"display_name":"Prasath"},"score":0,"creation_date":1632418756,"post_id":69304502,"comment_id":122493647,"body_markdown":"What error it throws? It is straightforward only.","body":"What error it throws? It is straightforward only."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632418300,"creation_date":1632418300,"answer_id":69304556,"question_id":69304502,"body_markdown":"Your `List&lt;CategoryDto&gt; list` is a variable declaration, like `int i` or `String b` , you need to pass a value.\r\n\r\nDirectly, like the others\r\n\r\n    BookDto addBook = new BookDto(0, &quot;abc&quot;, &quot;xyi&quot;, Arrays.asList(), 1);\r\n\r\n\r\nUsing a variable\r\n\r\n    List&lt;CategoryDto&gt; list = Arrays.asList();\r\n    // List&lt;CategoryDto&gt; list = Arrays.asList(new CategoryDto(.., ..));\r\n    String title = &quot;abc&quot;;\r\n    String author = &quot;foo&quot;;\r\n\r\n    BookDto addBook = new BookDto(0, title, author, list, 1);\r\n\r\n\r\n\r\n","title":"How can I pass an arraylist to a constructor in Java?","body":"<p>Your <code>List&lt;CategoryDto&gt; list</code> is a variable declaration, like <code>int i</code> or <code>String b</code> , you need to pass a value.</p>\n<p>Directly, like the others</p>\n<pre><code>BookDto addBook = new BookDto(0, &quot;abc&quot;, &quot;xyi&quot;, Arrays.asList(), 1);\n</code></pre>\n<p>Using a variable</p>\n<pre><code>List&lt;CategoryDto&gt; list = Arrays.asList();\n// List&lt;CategoryDto&gt; list = Arrays.asList(new CategoryDto(.., ..));\nString title = &quot;abc&quot;;\nString author = &quot;foo&quot;;\n\nBookDto addBook = new BookDto(0, title, author, list, 1);\n</code></pre>\n"}],"owner":{"account_id":22839731,"reputation":105,"user_id":16986959,"display_name":"It&#39;s Siddiqi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1632515534,"creation_date":1632418032,"question_id":69304502,"body_markdown":"I have this class `BookDto`:\r\n\r\n```java\r\npublic class BookDto {\r\n\t    private int  id;\r\n\t\tprivate String title;\r\n\t\tprivate String author;\r\n\t\tprivate List&lt;CategoryDto&gt; category; \r\n\t\tprivate int copies;\r\n\t\t\r\n\t\tpublic BookDto(int id, String title, String author, List&lt;CategoryDto&gt; category, int copies) {\r\n\t\t\tthis.title = title;\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.author = author;\r\n\t\t\tthis.category = category;\r\n\t\t\tthis.copies = copies;\r\n\t\t}\r\n\r\n\t\t//getter and setters\r\n}\r\n```\r\n\r\nIn my main function I am trying to initialize `BookDto`:\r\n\r\n```java\r\nBookDto addBook = new BookDto(0, &quot;abc&quot;, &quot;xyi&quot;, List&lt;CategoryDto&gt; list, 1);\r\n```\r\n\r\nBut `List&lt;CategoryDTO&gt;` is throwing an error?","title":"How can I pass an arraylist to a constructor in Java?","body":"<p>I have this class <code>BookDto</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BookDto {\n        private int  id;\n        private String title;\n        private String author;\n        private List&lt;CategoryDto&gt; category; \n        private int copies;\n        \n        public BookDto(int id, String title, String author, List&lt;CategoryDto&gt; category, int copies) {\n            this.title = title;\n            this.id = id;\n            this.author = author;\n            this.category = category;\n            this.copies = copies;\n        }\n\n        //getter and setters\n}\n</code></pre>\n<p>In my main function I am trying to initialize <code>BookDto</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BookDto addBook = new BookDto(0, &quot;abc&quot;, &quot;xyi&quot;, List&lt;CategoryDto&gt; list, 1);\n</code></pre>\n<p>But <code>List&lt;CategoryDTO&gt;</code> is throwing an error?</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632515473,"creation_date":1632515473,"answer_id":69320819,"question_id":69318039,"body_markdown":"The code that is trying to access the field is inside the class `TestReflection` and that is all that matters. There is no indicator that the subclass is willing to grant its superclass access to its field, as `private` implies no access from any other class. The subclass is just invoking a method `update()` of its superclass without knowing what that method will do internally, so it’s not the subclass trying to access the subclass’s field here.\r\n\r\nTo be more precise, in your specific example, the subclass is a nested class of the superclass, so accessing each other’s `private` members is allowed, but you hit an old flaw of Reflection that existed as long as nested classes exist. When you compile your example with target JDK&#160;11 or newer, this specific example will work.\r\n\r\nBut for top level classes, `private` means that no other class can access it (without enabling access override first), regardless of whether it is a subclass or superclass of the the declaring class. Which seems to be your actual question.\r\n\r\nNote that using a construct like `getClass().getDeclaredFields()` is rather unusual. Even more is looping over the discovered fields and just setting all of them. Normally, you want to know what class and field you’re accessing. In your example, you’re trying to set the field `abc` of the subclass but when you change the example to `new TestReflection().update()`, you’re setting the field `foo` of `TestReflection` instead.","title":"Updating field using reflection from parent class","body":"<p>The code that is trying to access the field is inside the class <code>TestReflection</code> and that is all that matters. There is no indicator that the subclass is willing to grant its superclass access to its field, as <code>private</code> implies no access from any other class. The subclass is just invoking a method <code>update()</code> of its superclass without knowing what that method will do internally, so it’s not the subclass trying to access the subclass’s field here.</p>\n<p>To be more precise, in your specific example, the subclass is a nested class of the superclass, so accessing each other’s <code>private</code> members is allowed, but you hit an old flaw of Reflection that existed as long as nested classes exist. When you compile your example with target JDK 11 or newer, this specific example will work.</p>\n<p>But for top level classes, <code>private</code> means that no other class can access it (without enabling access override first), regardless of whether it is a subclass or superclass of the the declaring class. Which seems to be your actual question.</p>\n<p>Note that using a construct like <code>getClass().getDeclaredFields()</code> is rather unusual. Even more is looping over the discovered fields and just setting all of them. Normally, you want to know what class and field you’re accessing. In your example, you’re trying to set the field <code>abc</code> of the subclass but when you change the example to <code>new TestReflection().update()</code>, you’re setting the field <code>foo</code> of <code>TestReflection</code> instead.</p>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69320819,"answer_count":1,"score":0,"last_activity_date":1632515473,"creation_date":1632499325,"question_id":69318039,"body_markdown":"I have a Parent class that has a method that uses reflection to retrieve and update fields.  This method will be called by the child class\r\n```\r\npackage com.torchai.service.common.response;\r\n\r\nimport java.lang.reflect.Field;\r\n\r\npublic class TestReflection {\r\n    private String foo;\r\n\r\n    public void update() throws IllegalAccessException {\r\n        final Field[] fields = getClass().getDeclaredFields();\r\n        for (final Field f : fields) {\r\n            //   f.setAccessible(true);\r\n            //   final Object value = response.get(f.getName());\r\n            Object value = &quot;new value&quot;;\r\n            f.set(this, value);\r\n\r\n        }\r\n    }\r\n\r\n    public static void main(final String[] args) throws IllegalAccessException {\r\n        final TestReflection t = new TestReflection() {\r\n            private String abc;\r\n        };\r\n\r\n        t.update();\r\n    }\r\n}\r\n```\r\n\r\nWhen the child class (in this case, an anonymous class) calls the method, which is inherited form the parent, the value of `this` is the child class.  Because of that, I thought there would be no problem in retrieving and setting private fields.  It turns out that `getDeclaredFields()` can retrieve `private` fields, but `Field.set()` cannot update them, unless I `setAccessible` to true.  Is this correct behavior?  Why can&#39;t the child class set its own fields?  If I can see the field (i.e., I can retrieve the private field) shouldn&#39;t I be able to update it?\r\n\r\nThe exception I get is\r\n```\r\njava.lang.IllegalAccessException: Class com.torchai.service.common.response.TestReflection can not access a member of class com.torchai.service.common.response.TestReflection$1 with modifiers &quot;private&quot;\r\n```\r\nNote that it implies that it is the parent class that it trying to access the child class.  Why is the parent class being considered the caller?\r\n\r\nIf I change the main method to eliminate the use of the child class\r\n```\r\nTestReflection t = new TestReflection();\r\nt.update()\r\n```\r\n\r\nthen it works as expected.  The class is updating its own fields, so `setAccessbile` is not necessary\r\n","title":"Updating field using reflection from parent class","body":"<p>I have a Parent class that has a method that uses reflection to retrieve and update fields.  This method will be called by the child class</p>\n<pre><code>package com.torchai.service.common.response;\n\nimport java.lang.reflect.Field;\n\npublic class TestReflection {\n    private String foo;\n\n    public void update() throws IllegalAccessException {\n        final Field[] fields = getClass().getDeclaredFields();\n        for (final Field f : fields) {\n            //   f.setAccessible(true);\n            //   final Object value = response.get(f.getName());\n            Object value = &quot;new value&quot;;\n            f.set(this, value);\n\n        }\n    }\n\n    public static void main(final String[] args) throws IllegalAccessException {\n        final TestReflection t = new TestReflection() {\n            private String abc;\n        };\n\n        t.update();\n    }\n}\n</code></pre>\n<p>When the child class (in this case, an anonymous class) calls the method, which is inherited form the parent, the value of <code>this</code> is the child class.  Because of that, I thought there would be no problem in retrieving and setting private fields.  It turns out that <code>getDeclaredFields()</code> can retrieve <code>private</code> fields, but <code>Field.set()</code> cannot update them, unless I <code>setAccessible</code> to true.  Is this correct behavior?  Why can't the child class set its own fields?  If I can see the field (i.e., I can retrieve the private field) shouldn't I be able to update it?</p>\n<p>The exception I get is</p>\n<pre><code>java.lang.IllegalAccessException: Class com.torchai.service.common.response.TestReflection can not access a member of class com.torchai.service.common.response.TestReflection$1 with modifiers &quot;private&quot;\n</code></pre>\n<p>Note that it implies that it is the parent class that it trying to access the child class.  Why is the parent class being considered the caller?</p>\n<p>If I change the main method to eliminate the use of the child class</p>\n<pre><code>TestReflection t = new TestReflection();\nt.update()\n</code></pre>\n<p>then it works as expected.  The class is updating its own fields, so <code>setAccessbile</code> is not necessary</p>\n"},{"tags":["java","android","junit"],"answers":[{"tags":[],"owner":{"account_id":91981,"reputation":3055,"user_id":252308,"accept_rate":36,"display_name":"swooby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632514696,"creation_date":1632514696,"answer_id":69320714,"question_id":34618924,"body_markdown":"Revisiting over 5.5 years later after I saw someone upvoted.\r\n\r\nAnswering my own question.\r\n\r\nPer my experience and https://developer.android.com/training/testing/unit-testing/local-unit-tests#error-not-mocked\r\n\r\nAny Android API call in a unit test by default throws an exception.  \r\nThis is by design to force you to mock anything that you call.  \r\nYou can change this default behavior with the following in your module&#39;s build.gradle:\r\n\r\n```\r\nandroid {\r\n    ...\r\n    testOptions {\r\n        unitTests.returnDefaultValues = true\r\n    }\r\n}\r\n```\r\n\r\nDoing so will result in any Android API call being a no-op that always returns null or 0.  \r\nThis must have been what I was doing &gt;5.5 years ago.  \r\nThis is OK while developing test, but is not advised to leave in permanently.\r\n","title":"Android JUnit3 test ParcelUuid getUuid() returning null for non-null UUID?","body":"<p>Revisiting over 5.5 years later after I saw someone upvoted.</p>\n<p>Answering my own question.</p>\n<p>Per my experience and <a href=\"https://developer.android.com/training/testing/unit-testing/local-unit-tests#error-not-mocked\" rel=\"nofollow noreferrer\">https://developer.android.com/training/testing/unit-testing/local-unit-tests#error-not-mocked</a></p>\n<p>Any Android API call in a unit test by default throws an exception.<br />\nThis is by design to force you to mock anything that you call.<br />\nYou can change this default behavior with the following in your module's build.gradle:</p>\n<pre><code>android {\n    ...\n    testOptions {\n        unitTests.returnDefaultValues = true\n    }\n}\n</code></pre>\n<p>Doing so will result in any Android API call being a no-op that always returns null or 0.<br />\nThis must have been what I was doing &gt;5.5 years ago.<br />\nThis is OK while developing test, but is not advised to leave in permanently.</p>\n"}],"owner":{"account_id":91981,"reputation":3055,"user_id":252308,"accept_rate":36,"display_name":"swooby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69320714,"answer_count":1,"score":4,"last_activity_date":1632514696,"creation_date":1452019038,"question_id":34618924,"body_markdown":"I have the following code in an Android JUnit3 unit test:\r\n\r\n    public void testWTF()\r\n    {\r\n        UUID uuidExpected = UUID.fromString(&quot;00001234-0000-1000-8000-00805f9b34fb&quot;);\r\n        ParcelUuid parcelUuid = new ParcelUuid(uuidExpected);\r\n        UUID uuidActual = parcelUuid.getUuid();\r\n        Assert.assertEquals(&quot;uuidExpected != uuidActual&quot;, uuidExpected, uuidActual);\r\n    }\r\n\r\ngetUuid() is returning null, but the UUID passed to the ParcelUuid is non-null and valid.\r\n\r\nWhat gives?\r\n\r\nIs there something wrong w/ using the Android runtime library in a JUnit test?\r\n\r\nThanks!\r\n\r\nPv","title":"Android JUnit3 test ParcelUuid getUuid() returning null for non-null UUID?","body":"<p>I have the following code in an Android JUnit3 unit test:</p>\n\n<pre><code>public void testWTF()\n{\n    UUID uuidExpected = UUID.fromString(\"00001234-0000-1000-8000-00805f9b34fb\");\n    ParcelUuid parcelUuid = new ParcelUuid(uuidExpected);\n    UUID uuidActual = parcelUuid.getUuid();\n    Assert.assertEquals(\"uuidExpected != uuidActual\", uuidExpected, uuidActual);\n}\n</code></pre>\n\n<p>getUuid() is returning null, but the UUID passed to the ParcelUuid is non-null and valid.</p>\n\n<p>What gives?</p>\n\n<p>Is there something wrong w/ using the Android runtime library in a JUnit test?</p>\n\n<p>Thanks!</p>\n\n<p>Pv</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":4157256,"reputation":443,"user_id":3408204,"accept_rate":83,"display_name":"Nergon"},"score":1,"creation_date":1632483473,"post_id":69313853,"comment_id":122511178,"body_markdown":"Can you try adding `systemProperties project.properties.subMap([&quot;ipAmount&quot;])` in your gradle task and try to pass it with `-PipAmount=2` in your cmd?","body":"Can you try adding <code>systemProperties project.properties.subMap([&quot;ipAmount&quot;])</code> in your gradle task and try to pass it with <code>-PipAmount=2</code> in your cmd?"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1632504808,"post_id":69313853,"comment_id":122519622,"body_markdown":"@Billatron this is the solution! You can post the answer - I grade up him!","body":"@Billatron this is the solution! You can post the answer - I grade up him!"},{"owner":{"account_id":4157256,"reputation":443,"user_id":3408204,"accept_rate":83,"display_name":"Nergon"},"score":0,"creation_date":1632513262,"post_id":69313853,"comment_id":122522462,"body_markdown":"Awesome, posted below! Cheers.","body":"Awesome, posted below! Cheers."}],"answers":[{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632483529,"creation_date":1632483529,"answer_id":69314407,"question_id":69313853,"body_markdown":"If your tests are being launched by the gradle `JavaExec` task then you can configure gradle to pass through its system properties like this:\r\n&#160;\r\n```groovy\r\n// The run task added by the application plugin\r\n// is also of type JavaExec.\r\ntasks.withType(JavaExec) {\r\n&#160;&#160;&#160;&#160;// Assign all Java system properties from\r\n&#160;&#160;&#160;&#160;// the command line to the JavaExec task.\r\n&#160;&#160;&#160;&#160;systemProperties System.properties\r\n}\r\n```\r\n\r\nSee [the user guide](https://blog.mrhaki.com/2015/09/gradle-goodness-pass-java-system.html) for full details.","title":"Can&#39;t pass parameters/sytem properties with gradlew command line","body":"<p>If your tests are being launched by the gradle <code>JavaExec</code> task then you can configure gradle to pass through its system properties like this:\n </p>\n<pre><code>// The run task added by the application plugin\n// is also of type JavaExec.\ntasks.withType(JavaExec) {\n    // Assign all Java system properties from\n    // the command line to the JavaExec task.\n    systemProperties System.properties\n}\n</code></pre>\n<p>See <a href=\"https://blog.mrhaki.com/2015/09/gradle-goodness-pass-java-system.html\" rel=\"nofollow noreferrer\">the user guide</a> for full details.</p>\n"},{"tags":[],"owner":{"account_id":4157256,"reputation":443,"user_id":3408204,"accept_rate":83,"display_name":"Nergon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632513506,"creation_date":1632513153,"answer_id":69320477,"question_id":69313853,"body_markdown":"As explained also in the comment! \r\n\r\nAll you need to do is:\r\n```groovy\r\ntask task1(type: Test) {\r\nsystemProperties project.properties.subMap([&quot;ipAmount&quot;])\r\n        useTestNG() {\r\n            suites &#39;./src/test/resources/testng/task1.xml&#39;\r\n        }\r\n    }\r\n```\r\nThen you can pass the property using `gradlew clean task1 -PipAmount=2`\r\n\r\nFinally the `systemProperties` is a map so you can add more variables like `[&quot;ipAmount&quot;, &quot;anotherParam&quot;, &quot;moreParam&quot;]`","title":"Can&#39;t pass parameters/sytem properties with gradlew command line","body":"<p>As explained also in the comment!</p>\n<p>All you need to do is:</p>\n<pre><code>task task1(type: Test) {\nsystemProperties project.properties.subMap([&quot;ipAmount&quot;])\n        useTestNG() {\n            suites './src/test/resources/testng/task1.xml'\n        }\n    }\n</code></pre>\n<p>Then you can pass the property using <code>gradlew clean task1 -PipAmount=2</code></p>\n<p>Finally the <code>systemProperties</code> is a map so you can add more variables like <code>[&quot;ipAmount&quot;, &quot;anotherParam&quot;, &quot;moreParam&quot;]</code></p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69320477,"answer_count":2,"score":1,"last_activity_date":1632513506,"creation_date":1632480985,"question_id":69313853,"body_markdown":"I try to pass parameters with gradlew command line, but can&#39;t.\r\nI successfully pass the Optional parameter with XML file, but need have the possibility to pass with gradle CMD\r\n\r\nGradle task:\r\n\r\n```go\r\n    task task1(type: Test) {\r\n        useTestNG() {\r\n            suites &#39;./src/test/resources/testng/task1.xml&#39;\r\n        }\r\n    }\r\n```\r\n\r\nXML:\r\n```xml\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\r\n&lt;suite name=&quot;test1&quot;&gt;\r\n\r\n    &lt;test name=&quot;test1&quot;&gt;\r\n        &lt;parameter name=&quot;ipAmount&quot; value=&quot;20&quot;/&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;tests.traffic.Test1&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n\r\n&lt;/suite&gt;\r\n\r\n```\r\n\r\nCode:\r\n\r\n```java\r\n    @Test(testName = &quot;Name&quot;, description = &quot;description&quot;)\r\n    @Parameters({&quot;ipAmount&quot;})\r\n    public void createTrafficTest(\r\n            @Optional(&quot;1&quot;) Integer ipAmount\r\n    ){\r\n        final String IP_AMOUNT_PARAMETER = System.getProperty(&quot;ipAmount&quot;);\r\n\r\n        System.out.println(ipAmount);//20\r\n        System.out.println(IP_AMOUNT_PARAMETER);//null\r\n    }\r\n```\r\n\r\ngradle CMD:\r\n\r\n```bash\r\n    gradlew clean task1 -DipAmount=2 \r\n```\r\n\r\n\r\n```bash\r\n    gradlew clean task1 -PipAmount=2 \r\n```\r\n\r\nIn both cases I get the same result: ipAmount=20, IP_AMOUNT_PARAMETER = null\r\n\r\n\r\n# How to correctly pass parameters from the gradle cmd?","title":"Can&#39;t pass parameters/sytem properties with gradlew command line","body":"<p>I try to pass parameters with gradlew command line, but can't.\nI successfully pass the Optional parameter with XML file, but need have the possibility to pass with gradle CMD</p>\n<p>Gradle task:</p>\n<pre class=\"lang-golang prettyprint-override\"><code>    task task1(type: Test) {\n        useTestNG() {\n            suites './src/test/resources/testng/task1.xml'\n        }\n    }\n</code></pre>\n<p>XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot; &gt;\n&lt;suite name=&quot;test1&quot;&gt;\n\n    &lt;test name=&quot;test1&quot;&gt;\n        &lt;parameter name=&quot;ipAmount&quot; value=&quot;20&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;tests.traffic.Test1&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n\n&lt;/suite&gt;\n\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test(testName = &quot;Name&quot;, description = &quot;description&quot;)\n    @Parameters({&quot;ipAmount&quot;})\n    public void createTrafficTest(\n            @Optional(&quot;1&quot;) Integer ipAmount\n    ){\n        final String IP_AMOUNT_PARAMETER = System.getProperty(&quot;ipAmount&quot;);\n\n        System.out.println(ipAmount);//20\n        System.out.println(IP_AMOUNT_PARAMETER);//null\n    }\n</code></pre>\n<p>gradle CMD:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>    gradlew clean task1 -DipAmount=2 \n</code></pre>\n<pre class=\"lang-sh prettyprint-override\"><code>    gradlew clean task1 -PipAmount=2 \n</code></pre>\n<p>In both cases I get the same result: ipAmount=20, IP_AMOUNT_PARAMETER = null</p>\n<h1>How to correctly pass parameters from the gradle cmd?</h1>\n"},{"tags":["java","jboss","wildfly","wildfly-10"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1632774632,"post_id":69320520,"comment_id":122579788,"body_markdown":"Can you describe your deployment a bit? Is it large in size? Are you including a lot of dependencies?","body":"Can you describe your deployment a bit? Is it large in size? Are you including a lot of dependencies?"},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1632858049,"post_id":69320520,"comment_id":122606434,"body_markdown":"I got a webapp by Netbeans project. Then I apply Clean and Build. After that, I go to Wildfly admin Console-&gt;Deployments. I press Add button and select the War file where is located in project target folder. The War file has a size of 50MB aproximately or little more.","body":"I got a webapp by Netbeans project. Then I apply Clean and Build. After that, I go to Wildfly admin Console-&gt;Deployments. I press Add button and select the War file where is located in project target folder. The War file has a size of 50MB aproximately or little more."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1632861958,"post_id":69320520,"comment_id":122607649,"body_markdown":"Are you including the Jakarta EE specification libraries? That&#39;s not too big, but if you include those that may reduce the size by excluding them and allow a faster deployment.","body":"Are you including the Jakarta EE specification libraries? That&#39;s not too big, but if you include those that may reduce the size by excluding them and allow a faster deployment."}],"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632513391,"creation_date":1632513391,"question_id":69320520,"body_markdown":"I have a java web application and I uploaded it to Wildfly server by Admin Console. After that, I replaced in deployments section the same web application and it takes 15 seconds approximately. The question is that while it is replacing in those 15 seconds, the web application is unavailable for users?","title":"Is Java web application unavailable while Wildfly is replacing a deployment?","body":"<p>I have a java web application and I uploaded it to Wildfly server by Admin Console. After that, I replaced in deployments section the same web application and it takes 15 seconds approximately. The question is that while it is replacing in those 15 seconds, the web application is unavailable for users?</p>\n"},{"tags":["java","android","observable","retrofit2","rx-java"],"comments":[{"owner":{"account_id":5332007,"reputation":9649,"user_id":4252352,"accept_rate":43,"display_name":"Mark"},"score":1,"creation_date":1632514419,"post_id":69320480,"comment_id":122522824,"body_markdown":"&quot;Now I realized that I actually need the original list of my MyObjects from the observable to be stored in List&lt;MyObject&gt; myObjectsList&quot; - use a `ConnectableObservable` that shares one subscription to the upstream but can publish to multiple subscribers - http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/observables/ConnectableObservable.html","body":"&quot;Now I realized that I actually need the original list of my MyObjects from the observable to be stored in List&lt;MyObject&gt; myObjectsList&quot; - use a <code>ConnectableObservable</code> that shares one subscription to the upstream but can publish to multiple subscribers - <a href=\"http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/observables/ConnectableObservable.html\" rel=\"nofollow noreferrer\">reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/&hellip;</a>"},{"owner":{"account_id":22029870,"reputation":41,"user_id":16297309,"display_name":"programmingmanwithaplan"},"score":0,"creation_date":1632529825,"post_id":69320480,"comment_id":122525746,"body_markdown":"Thanks I did this and it works. For anyone wondering how I implemented it, I returned the observable from the repository to the viewmodel, moved my retry() and doOnError() operators to that observable and then called .publish() on that same observable chain and stored it in a ConnectableObservable&lt;List&lt;MyObject&gt;&gt; called connectable. Then I did two separate observable chains from that connectable and subscribed for each of my aforementioned needs and after that I called connect on the connectable. Worked perfectly, thanks!","body":"Thanks I did this and it works. For anyone wondering how I implemented it, I returned the observable from the repository to the viewmodel, moved my retry() and doOnError() operators to that observable and then called .publish() on that same observable chain and stored it in a ConnectableObservable&lt;List&lt;MyObject&gt;&gt; called connectable. Then I did two separate observable chains from that connectable and subscribed for each of my aforementioned needs and after that I called connect on the connectable. Worked perfectly, thanks!"},{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":1,"creation_date":1632613192,"post_id":69320480,"comment_id":122540618,"body_markdown":"Why doesn&#39;t a simple `doOnNext` after `myObjectsRepository.getMyObjectsObservable()` work in this case?","body":"Why doesn&#39;t a simple <code>doOnNext</code> after <code>myObjectsRepository.getMyObjectsObservable()</code> work in this case?"},{"owner":{"account_id":22029870,"reputation":41,"user_id":16297309,"display_name":"programmingmanwithaplan"},"score":0,"creation_date":1632623793,"post_id":69320480,"comment_id":122541760,"body_markdown":"I am not the right person to answer on which is better as I am just learning JavaRx and Android, but I did get that to work with doOnNext() in a little test I just did on some very similar code (not the original) including with correct threading as well. I was wondering if either is a better approach. Your way seems simpler @Fred however the threading is slightly more complicated, but still simpler overall.","body":"I am not the right person to answer on which is better as I am just learning JavaRx and Android, but I did get that to work with doOnNext() in a little test I just did on some very similar code (not the original) including with correct threading as well. I was wondering if either is a better approach. Your way seems simpler @Fred however the threading is slightly more complicated, but still simpler overall."},{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":0,"creation_date":1632740429,"post_id":69320480,"comment_id":122566231,"body_markdown":"I don&#39;t see why the threading is any different. To the best of my knowledge it works like any other rx method/operator. Could you elaborate? The reason why I think `doOnNext` or any of the `doOn*` methods for that matter is more appropriate is because you describe kind of a side effect/saving state, which I think the `doOn*` methods are the most appropriate for.","body":"I don&#39;t see why the threading is any different. To the best of my knowledge it works like any other rx method/operator. Could you elaborate? The reason why I think <code>doOnNext</code> or any of the <code>doOn*</code> methods for that matter is more appropriate is because you describe kind of a side effect/saving state, which I think the <code>doOn*</code> methods are the most appropriate for."},{"owner":{"account_id":22029870,"reputation":41,"user_id":16297309,"display_name":"programmingmanwithaplan"},"score":0,"creation_date":1632772375,"post_id":69320480,"comment_id":122579022,"body_markdown":"@Fred I meant in order to save List&lt;MyObject&gt; on the main thread, which would be the case implementing the connectable observer, I had to do an observeOn the main thread before doOnNext, and then I had to do another observeOn in order to switch the rest of the downstream like the mapping, toList, concatmap, doOnError operators and then one more observeOn right before subscribe in order to switch back to the main thread.","body":"@Fred I meant in order to save List&lt;MyObject&gt; on the main thread, which would be the case implementing the connectable observer, I had to do an observeOn the main thread before doOnNext, and then I had to do another observeOn in order to switch the rest of the downstream like the mapping, toList, concatmap, doOnError operators and then one more observeOn right before subscribe in order to switch back to the main thread."},{"owner":{"account_id":22029870,"reputation":41,"user_id":16297309,"display_name":"programmingmanwithaplan"},"score":0,"creation_date":1632772422,"post_id":69320480,"comment_id":122579047,"body_markdown":"@Fred Now I am a noob in android/Rx/developing, so I am not exactly sure if its necessary but I felt weird saving the state in the background thread of my repository when my Main thread would need access to the list, maybe I could just synchronize repository List&lt;MyObject&gt; get and set method to avoid any problems and avoid doing the aforementioned extra threading I am talking about, Idk if that is a good idea either though cuz it could hold up the main thread possibly.","body":"@Fred Now I am a noob in android/Rx/developing, so I am not exactly sure if its necessary but I felt weird saving the state in the background thread of my repository when my Main thread would need access to the list, maybe I could just synchronize repository List&lt;MyObject&gt; get and set method to avoid any problems and avoid doing the aforementioned extra threading I am talking about, Idk if that is a good idea either though cuz it could hold up the main thread possibly."},{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":1,"creation_date":1632833163,"post_id":69320480,"comment_id":122595711,"body_markdown":"ah! I get it now. I think moving it to the mainthread is better for the reasons you already mentioned. Ideally, you should try to find a way where you wouldn&#39;t need to keep this in memory or maybe even just save it in `subscribe`. That might not be straight forward though.","body":"ah! I get it now. I think moving it to the mainthread is better for the reasons you already mentioned. Ideally, you should try to find a way where you wouldn&#39;t need to keep this in memory or maybe even just save it in <code>subscribe</code>. That might not be straight forward though."}],"owner":{"account_id":22029870,"reputation":41,"user_id":16297309,"display_name":"programmingmanwithaplan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632513177,"creation_date":1632513177,"question_id":69320480,"body_markdown":"I have a retrofit api call that returns a javarx observable. Here is the retrofit interface\r\n\r\n    @GET(&quot;/myobjects&quot;)\r\n    Observable&lt;List&lt;MyObject&gt;&gt; getMyObjectsObservable();\r\n\r\nThen I have a repository method:\r\n\r\n    public Observable&lt;List&lt;MyObject&gt;&gt; getMyObjectsObservable(){\r\n        return api.getMyObjectsObservable();\r\n    }\r\n\r\nIn my viewmodel, I have a method that subscribes to the javarx observable returned by the repository. Inside the method, the observable chain in which I subscribe in that method sets values for two MutableLiveData objects that are observed by my activity. One MutableLiveData, &quot;succeededLiveData&quot;, holds a boolean which determines if the API call succeeded and displays this for the user in the activity, and the other &quot;myObjectStringsListLiveData&quot; is a list of strings with information from a MyObject object that will be displayed in a listview in the activity. Here is that observable chain:\r\n\r\n    Disposable disposable = myObjectsRepository.getMyObjectsObservable()\r\n\t\t.concatMapIterable(myObject -&gt; myObject)\r\n\t\t.map(myObject -&gt; myObject.getString1() + &quot; And &quot; + myObject.getString2())\r\n\t\t.toList()\r\n\t\t.doOnError(throwable -&gt; {succeededLiveData.postValue(false);\r\n\t\t\t\t\t\t\t\tmyObjectStringsListLiveData.postValue(null);})\r\n\t\t.retry(4)\r\n\t\t.observeOn(AndroidSchedulers.mainThread())\r\n\t\t.subscribe(myObjectStringsList -&gt; {\r\n\t\t\t\t\tsucceededLiveData.setValue(true);\r\n\t\t\t\t\tmyObjectStringsListLiveData.setValue(myObjectStringsList);\r\n\t\t\t\t},\r\n\t\t\t\tthrowable -&gt; {\r\n\t\t\t\t\tsucceededLiveData.setValue(false);\r\n\t\t\t\t\tmyObjectStringsListLiveData.setValue(null);});\r\n\r\nNow I realized that I actually need the original list of my MyObjects from the observable to be stored in ```List&lt;MyObject&gt; myObjectsList``` which is a field of my viewmodel, not just the ```List&lt;String&gt;``` that is stored in my LiveData &quot;myObjectStringsListLiveData&quot;. This means that I need a way to extract the myObjectsList from the observable before all the mapping. I can&#39;t observe the myObjectsObservable twice, once before the mapping, and then one mapped like my code above, because that would cause two API calls which I obviously do not want. At least it is my understanding that that would happen, as observables execute the code separately for each subscriber. \r\n\r\nSo I can only personally think of two possible solutions as I am still a javarx noob. One would be to use a type of Subject that subscribes to the retrofit myObjectsObservable so that the API wouldn&#39;t be called twice and then subsequently subscribe to that subject twice in my viewmodel. Although I am not quite sure how to implement this, but I think I could figure it out.\r\n\r\nThe other option I can think of would be to subscribe only once, and inside the lambda I pass the subscribe() method, store the ```List&lt;MyObject``` emitted by the Observable, and then instead of using the JavaRx map/concatMapIterable/toList() operators, use the java Stream library inside the lambda as well, and use that to map the myObjectsList to ```List&lt;String&gt;``` that will be posted to the myObjectStringsListLiveData. A downside to this would that this would occur on the main thread I believe. Although maybe I could change the &quot;setValue&quot; methods to &quot;postValue&quot; methods and observeOn a background thread. I am not really sure if that is okay to use the viewmodel in the background like that. \r\n\r\nThe second solution doesn&#39;t seem too elegant. Is it wise to do stuff with a viewmodel in the background? Maybe the first way with a Subject is better?\r\n\r\nWhat do you all think is the best way?\r\n\r\nAlso, as a bonus question, that is somewhat unrelated to the first question, I was wondering if postValue in MutableLiveData will always execute in order, like how I do so in my lambdas in the observable chain, because I will get a NullPointerException in my activity if ```succeededLiveData.getValue()``` is called after OnChanged is called for the MyObjectStringsList that I observe in my activity. Will postValue always propagate to each respective LiveData observer in the order they are called? \r\n\r\nThanks for any responses!","title":"What is the best way to get two lists of different object types from the same observable in javarx on Android?","body":"<p>I have a retrofit api call that returns a javarx observable. Here is the retrofit interface</p>\n<pre><code>@GET(&quot;/myobjects&quot;)\nObservable&lt;List&lt;MyObject&gt;&gt; getMyObjectsObservable();\n</code></pre>\n<p>Then I have a repository method:</p>\n<pre><code>public Observable&lt;List&lt;MyObject&gt;&gt; getMyObjectsObservable(){\n    return api.getMyObjectsObservable();\n}\n</code></pre>\n<p>In my viewmodel, I have a method that subscribes to the javarx observable returned by the repository. Inside the method, the observable chain in which I subscribe in that method sets values for two MutableLiveData objects that are observed by my activity. One MutableLiveData, &quot;succeededLiveData&quot;, holds a boolean which determines if the API call succeeded and displays this for the user in the activity, and the other &quot;myObjectStringsListLiveData&quot; is a list of strings with information from a MyObject object that will be displayed in a listview in the activity. Here is that observable chain:</p>\n<pre><code>Disposable disposable = myObjectsRepository.getMyObjectsObservable()\n    .concatMapIterable(myObject -&gt; myObject)\n    .map(myObject -&gt; myObject.getString1() + &quot; And &quot; + myObject.getString2())\n    .toList()\n    .doOnError(throwable -&gt; {succeededLiveData.postValue(false);\n                            myObjectStringsListLiveData.postValue(null);})\n    .retry(4)\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(myObjectStringsList -&gt; {\n                succeededLiveData.setValue(true);\n                myObjectStringsListLiveData.setValue(myObjectStringsList);\n            },\n            throwable -&gt; {\n                succeededLiveData.setValue(false);\n                myObjectStringsListLiveData.setValue(null);});\n</code></pre>\n<p>Now I realized that I actually need the original list of my MyObjects from the observable to be stored in <code>List&lt;MyObject&gt; myObjectsList</code> which is a field of my viewmodel, not just the <code>List&lt;String&gt;</code> that is stored in my LiveData &quot;myObjectStringsListLiveData&quot;. This means that I need a way to extract the myObjectsList from the observable before all the mapping. I can't observe the myObjectsObservable twice, once before the mapping, and then one mapped like my code above, because that would cause two API calls which I obviously do not want. At least it is my understanding that that would happen, as observables execute the code separately for each subscriber.</p>\n<p>So I can only personally think of two possible solutions as I am still a javarx noob. One would be to use a type of Subject that subscribes to the retrofit myObjectsObservable so that the API wouldn't be called twice and then subsequently subscribe to that subject twice in my viewmodel. Although I am not quite sure how to implement this, but I think I could figure it out.</p>\n<p>The other option I can think of would be to subscribe only once, and inside the lambda I pass the subscribe() method, store the <code>List&lt;MyObject</code> emitted by the Observable, and then instead of using the JavaRx map/concatMapIterable/toList() operators, use the java Stream library inside the lambda as well, and use that to map the myObjectsList to <code>List&lt;String&gt;</code> that will be posted to the myObjectStringsListLiveData. A downside to this would that this would occur on the main thread I believe. Although maybe I could change the &quot;setValue&quot; methods to &quot;postValue&quot; methods and observeOn a background thread. I am not really sure if that is okay to use the viewmodel in the background like that.</p>\n<p>The second solution doesn't seem too elegant. Is it wise to do stuff with a viewmodel in the background? Maybe the first way with a Subject is better?</p>\n<p>What do you all think is the best way?</p>\n<p>Also, as a bonus question, that is somewhat unrelated to the first question, I was wondering if postValue in MutableLiveData will always execute in order, like how I do so in my lambdas in the observable chain, because I will get a NullPointerException in my activity if <code>succeededLiveData.getValue()</code> is called after OnChanged is called for the MyObjectStringsList that I observe in my activity. Will postValue always propagate to each respective LiveData observer in the order they are called?</p>\n<p>Thanks for any responses!</p>\n"},{"tags":["java","spring-boot","performance","collections","java-stream"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":2,"creation_date":1632435065,"post_id":69307363,"comment_id":122498886,"body_markdown":"I&#39;d iterate on `tz.entrySet`  to avoid the unnecessary lookup of the key. I&#39;d also set the initial capacity on the ArrayList.  But otherwise, it&#39;s fine.","body":"I&#39;d iterate on <code>tz.entrySet</code>  to avoid the unnecessary lookup of the key. I&#39;d also set the initial capacity on the ArrayList.  But otherwise, it&#39;s fine."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632436170,"creation_date":1632436170,"answer_id":69307550,"question_id":69307363,"body_markdown":"Here&#39;s a &#39;modern&#39; way, using streams and a `record`, but what you have written is fine.\r\n\r\n```\r\npublic class SO69307363 {\r\n    record TimeZone(String name, String label){};\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String,String&gt; tz = new HashMap&lt;&gt;();\r\n        tz.put(&quot;America/New_York&quot;, &quot;US Eastern Time&quot;);\r\n        tz.put(&quot;America/Chicago&quot;, &quot;US Central Time&quot;);\r\n        tz.put(&quot;America/Denver&quot;, &quot;US Mountain Time&quot;);\r\n        tz.put(&quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;);\r\n\r\n        List&lt;TimeZone&gt; timeZones = tz.entrySet().stream()\r\n                .map(e -&gt; new TimeZone(e.getKey(), e.getValue()))\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\nI think that this way is easier to read and understand, simply because there is less code.","title":"Conversion of Map&lt;String, String&gt; to List of Objects","body":"<p>Here's a 'modern' way, using streams and a <code>record</code>, but what you have written is fine.</p>\n<pre><code>public class SO69307363 {\n    record TimeZone(String name, String label){};\n\n    public static void main(String[] args) {\n        Map&lt;String,String&gt; tz = new HashMap&lt;&gt;();\n        tz.put(&quot;America/New_York&quot;, &quot;US Eastern Time&quot;);\n        tz.put(&quot;America/Chicago&quot;, &quot;US Central Time&quot;);\n        tz.put(&quot;America/Denver&quot;, &quot;US Mountain Time&quot;);\n        tz.put(&quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;);\n\n        List&lt;TimeZone&gt; timeZones = tz.entrySet().stream()\n                .map(e -&gt; new TimeZone(e.getKey(), e.getValue()))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>I think that this way is easier to read and understand, simply because there is less code.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632436834,"creation_date":1632436834,"answer_id":69307632,"question_id":69307363,"body_markdown":"1. If the input data are provided as the mentioned JSON string, it would be better to implement a POJO and then deserialize that JSON as a list/array.\r\n\r\n2. If the input data are provided as a map, a constructor/mapper method/builder should be implemented for `Timezone` class to convert the map entries:\r\n```java\r\nMap&lt;String,String&gt; tz = Map.of(\r\n    &quot;America/New_York&quot;, &quot;US Eastern Time&quot;,\r\n    &quot;America/Chicago&quot;, &quot;US Central Time&quot;,\r\n    &quot;America/Denver&quot;, &quot;US Mountain Time&quot;,\r\n    &quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;\r\n);    \r\n\r\nList&lt;Timezone&gt; timezoneList = tz.entrySet()\r\n    .stream()\r\n    .map(e -&gt; new Timezone(e.getKey(), e.getValue())) // constructor\r\n//  .map(e -&gt; new TimezoneBuilder().withName(e.getKey()).withLabel(e.getValue()).build()\r\n    .collect(Collectors.toList());\r\n```\r\n","title":"Conversion of Map&lt;String, String&gt; to List of Objects","body":"<ol>\n<li><p>If the input data are provided as the mentioned JSON string, it would be better to implement a POJO and then deserialize that JSON as a list/array.</p>\n</li>\n<li><p>If the input data are provided as a map, a constructor/mapper method/builder should be implemented for <code>Timezone</code> class to convert the map entries:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String,String&gt; tz = Map.of(\n    &quot;America/New_York&quot;, &quot;US Eastern Time&quot;,\n    &quot;America/Chicago&quot;, &quot;US Central Time&quot;,\n    &quot;America/Denver&quot;, &quot;US Mountain Time&quot;,\n    &quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;\n);    \n\nList&lt;Timezone&gt; timezoneList = tz.entrySet()\n    .stream()\n    .map(e -&gt; new Timezone(e.getKey(), e.getValue())) // constructor\n//  .map(e -&gt; new TimezoneBuilder().withName(e.getKey()).withLabel(e.getValue()).build()\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11003756,"reputation":735,"user_id":8303430,"display_name":"Rituraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632438682,"creation_date":1632438682,"answer_id":69307834,"question_id":69307363,"body_markdown":"If you use Apache commons library, then here is a one liner solution for you. \r\n\r\n`List&lt;Timezone&gt; collect = CollectionUtils.collect(tz.entrySet().iterator(), entry -&gt; new Timezone(entry.getKey(), entry.getValue()), new ArrayList&lt;&gt;());`\r\n\r\n\r\nif you prefer to use Java-8 syntax, then follow the answer provided by tgdavies above.\r\n\r\n","title":"Conversion of Map&lt;String, String&gt; to List of Objects","body":"<p>If you use Apache commons library, then here is a one liner solution for you.</p>\n<p><code>List&lt;Timezone&gt; collect = CollectionUtils.collect(tz.entrySet().iterator(), entry -&gt; new Timezone(entry.getKey(), entry.getValue()), new ArrayList&lt;&gt;());</code></p>\n<p>if you prefer to use Java-8 syntax, then follow the answer provided by tgdavies above.</p>\n"},{"tags":[],"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632512322,"creation_date":1632512322,"answer_id":69320325,"question_id":69307363,"body_markdown":"All answers are correct, if you are using JDK16+, ```toList()``` could be used directly, and will return unmodifiableList, \r\n\r\n```\r\nList&lt;Timezone&gt; timezones = tz.entrySet()\r\n                                     .stream()\r\n                                     .map(a -&gt; new Timezone(a.getKey(), a.getValue()))\r\n                                     .toList();\r\n\r\n```","title":"Conversion of Map&lt;String, String&gt; to List of Objects","body":"<p>All answers are correct, if you are using JDK16+, <code>toList()</code> could be used directly, and will return unmodifiableList,</p>\n<pre><code>List&lt;Timezone&gt; timezones = tz.entrySet()\n                                     .stream()\n                                     .map(a -&gt; new Timezone(a.getKey(), a.getValue()))\n                                     .toList();\n\n</code></pre>\n"}],"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3586,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1632512322,"creation_date":1632434501,"question_id":69307363,"body_markdown":"Below is what I am trying to achieve.\r\n\r\n    &quot;timezones&quot;: [\r\n\t\t{\r\n\t\t\t&quot;name&quot; : &quot;America/New_York&quot;,\r\n\t\t\t&quot;label&quot; : &quot;US Eastern Time&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot; : &quot;America/Chicago&quot;,\r\n\t\t\t&quot;label&quot; : &quot;US Central Time&quot;\r\n\t\t},\r\n\t\t\r\n\t\t{\r\n\t\t\t&quot;name&quot; : &quot;America/Denver&quot;,\r\n\t\t\t&quot;label&quot; : &quot;US Mountain Time&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;name&quot; : &quot;America/Los_Angeles&quot;,\r\n\t\t\t&quot;label&quot; : &quot;US Pacific Time&quot;\r\n\t\t},\r\n\r\n     ]\r\n\r\nBelow is my code snippet.\r\n\r\n        Map&lt;String,String&gt; tz = new HashMap&lt;&gt;();\r\n\t\ttz.put(&quot;America/New_York&quot;, &quot;US Eastern Time&quot;);\r\n\t\ttz.put(&quot;America/Chicago&quot;, &quot;US Central Time&quot;);\r\n\t\ttz.put(&quot;America/Denver&quot;, &quot;US Mountain Time&quot;);\r\n\t\ttz.put(&quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;);\r\n\t\t\r\n\r\n\t\tList&lt;Timezone&gt; timezoneList = new ArrayList&lt;&gt;();\r\n\t\tfor (String key : tz.keySet()) {\r\n\t\t\tTimezone timezone = new Timezone();\r\n\t\t\tString value = tz.get(key);\r\n\t\t\ttimezone.setName(key);\r\n\t\t\ttimezone.setLabel(value);\r\n\t\t\ttimezoneList.add(timezone);\r\n\t\t}\r\n\r\nHere I am iterating map based on keyset and then getting value from it, then creating an object and adding it to list. This looks like lot of process.\r\n\r\nIs there any better way to do this?","title":"Conversion of Map&lt;String, String&gt; to List of Objects","body":"<p>Below is what I am trying to achieve.</p>\n<pre><code>&quot;timezones&quot;: [\n    {\n        &quot;name&quot; : &quot;America/New_York&quot;,\n        &quot;label&quot; : &quot;US Eastern Time&quot;\n    },\n    {\n        &quot;name&quot; : &quot;America/Chicago&quot;,\n        &quot;label&quot; : &quot;US Central Time&quot;\n    },\n    \n    {\n        &quot;name&quot; : &quot;America/Denver&quot;,\n        &quot;label&quot; : &quot;US Mountain Time&quot;\n    },\n    {\n        &quot;name&quot; : &quot;America/Los_Angeles&quot;,\n        &quot;label&quot; : &quot;US Pacific Time&quot;\n    },\n\n ]\n</code></pre>\n<p>Below is my code snippet.</p>\n<pre><code>    Map&lt;String,String&gt; tz = new HashMap&lt;&gt;();\n    tz.put(&quot;America/New_York&quot;, &quot;US Eastern Time&quot;);\n    tz.put(&quot;America/Chicago&quot;, &quot;US Central Time&quot;);\n    tz.put(&quot;America/Denver&quot;, &quot;US Mountain Time&quot;);\n    tz.put(&quot;America/Los_Angeles&quot;, &quot;US Pacific Time&quot;);\n    \n\n    List&lt;Timezone&gt; timezoneList = new ArrayList&lt;&gt;();\n    for (String key : tz.keySet()) {\n        Timezone timezone = new Timezone();\n        String value = tz.get(key);\n        timezone.setName(key);\n        timezone.setLabel(value);\n        timezoneList.add(timezone);\n    }\n</code></pre>\n<p>Here I am iterating map based on keyset and then getting value from it, then creating an object and adding it to list. This looks like lot of process.</p>\n<p>Is there any better way to do this?</p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632506082,"creation_date":1632498543,"answer_id":69317877,"question_id":69317317,"body_markdown":"### The syntax isn&#39;t supported by MySQL\r\n\r\nMySQL doesn&#39;t support this syntax yet. You can see that on the Javadoc of jOOQ&#39;s [`UpdateSetFirstStep.set(Row2, Select)`][1] method, which lists these dialects as supported:\r\n\r\n```java\r\n@Support({ASE,AURORA_POSTGRES,BIGQUERY,COCKROACHDB,DB2,H2,HANA,HSQLDB,INGRES,ORACLE,POSTGRES,SNOWFLAKE,SQLSERVER,SYBASE})\r\n```\r\n\r\njOOQ could emulate the syntax:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/10522 (Using `UPDATE .. FROM` for uncorrelated subqueries)\r\n- https://github.com/jOOQ/jOOQ/issues/10523 (By splitting the correlated subquery into two)\r\n\r\nBoth of these emulations aren&#39;t available yet as of jOOQ 3.15\r\n\r\n### If the syntax was supported, why the extra derived table?\r\n\r\nIf the syntax was supported, then the additional derived table is a workaround implemented by jOOQ for a limitation in MySQL, where an `UPDATE` or `DELETE` query cannot reference the DML statement&#39;s target table from within a correlated subquery (but magically, this limitations disappears when nesting the correlated subquery one level in a derived table). See:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/6583\r\n- https://dev.mysql.com/doc/refman/8.0/en/subquery-restrictions.html\r\n- https://stackoverflow.com/q/23853453/521799\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/UpdateSetFirstStep.html#set(org.jooq.Row2,org.jooq.Select)","title":"Subquery inside an update to set multiple values","body":"<h3>The syntax isn't supported by MySQL</h3>\n<p>MySQL doesn't support this syntax yet. You can see that on the Javadoc of jOOQ's <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/UpdateSetFirstStep.html#set(org.jooq.Row2,org.jooq.Select)\" rel=\"nofollow noreferrer\"><code>UpdateSetFirstStep.set(Row2, Select)</code></a> method, which lists these dialects as supported:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Support({ASE,AURORA_POSTGRES,BIGQUERY,COCKROACHDB,DB2,H2,HANA,HSQLDB,INGRES,ORACLE,POSTGRES,SNOWFLAKE,SQLSERVER,SYBASE})\n</code></pre>\n<p>jOOQ could emulate the syntax:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/10522\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/10522</a> (Using <code>UPDATE .. FROM</code> for uncorrelated subqueries)</li>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/10523\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/10523</a> (By splitting the correlated subquery into two)</li>\n</ul>\n<p>Both of these emulations aren't available yet as of jOOQ 3.15</p>\n<h3>If the syntax was supported, why the extra derived table?</h3>\n<p>If the syntax was supported, then the additional derived table is a workaround implemented by jOOQ for a limitation in MySQL, where an <code>UPDATE</code> or <code>DELETE</code> query cannot reference the DML statement's target table from within a correlated subquery (but magically, this limitations disappears when nesting the correlated subquery one level in a derived table). See:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/6583\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/6583</a></li>\n<li><a href=\"https://dev.mysql.com/doc/refman/8.0/en/subquery-restrictions.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/subquery-restrictions.html</a></li>\n<li><a href=\"https://stackoverflow.com/q/23853453/521799\">MySQL rationale behind &quot;Can&#39;t specify target table for update in FROM clause&quot;</a></li>\n</ul>\n"}],"owner":{"account_id":5959546,"reputation":37,"user_id":4685124,"display_name":"Bram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69317877,"answer_count":1,"score":1,"last_activity_date":1632511070,"creation_date":1632496110,"question_id":69317317,"body_markdown":"I want to move a DateTime of a record by using `update().set()`. When I try the [given example in the jOOQ docs for using a subselect][1] I found that I needed to cast to a `Row2` type because I want to set two variables. With this, the query gets build in an unusual way *(or at least not according to what I expect of the query given the example in the jOOQ docs)*:\r\n\r\n```java\r\npublic static void moveEventStart(final LocalDate previousEventStart, final LocalDate newEventStart) {\r\n    final Days changeInterval = Days.daysBetween(previousEventStart, newEventStart);\r\n    ActivityTbl a = ACTIVITY.as(&quot;a&quot;);\r\n    ActivityTbl a2 = ACTIVITY.as(&quot;a2&quot;)\r\n\r\n    jooq()\r\n        .update(a)\r\n        .set(\r\n            (Row2) row(a.START, a.END),\r\n            select(\r\n                 models.Jooq.dateAdd(a2.START, changeInterval.getDays(), DatePart.DAY),\r\n                 models.Jooq.dateAdd(a2.END, changeInterval.getDays(), DatePart.DAY))\r\n            .from(a2)\r\n            .where(...))\r\n        .where(...)\r\n        .execute();\r\n}\r\n```\r\nThe dateAdd function is build like this:\r\n```java\r\npublic static Field&lt;Date&gt; dateAdd(TableField&lt;?, LocalDateTime&gt; field, int interval, DatePart datePart) {\r\n    String unit;\r\n    switch (datePart) {\r\n      case YEAR:\r\n        unit = &quot;YEAR&quot;;\r\n        break;\r\n      case MONTH:\r\n        unit = &quot;MONTH&quot;;\r\n        break;\r\n      case DAY:\r\n        unit = &quot;DAY&quot;;\r\n        break;\r\n      case HOUR:\r\n        unit = &quot;HOUR&quot;;\r\n        break;\r\n      case MINUTE:\r\n        unit = &quot;MINUTE&quot;;\r\n        break;\r\n      case SECOND:\r\n        unit = &quot;SECOND&quot;;\r\n        break;\r\n      default:\r\n        unit = &quot;&quot;;\r\n    }\r\n    return DSL.field(\r\n        &quot;DATE_ADD({0}, INTERVAL {1} &quot; + unit + &quot;)&quot;, SQLDataType.DATE, field, DSL.inline(interval));\r\n  }\r\n```\r\n\r\nProduces:\r\n```sql\r\nupdate `Activity` as `a` \r\nset(`start`, `end`) = (\r\n\tselect * from (\r\n\t\tselect \r\n\t\t\tDATE_ADD(`a2`.`start`, INTERVAL 1 DAY), \r\n\t\t\tDATE_ADD(`a2`.`end`, INTERVAL 1 DAY) \r\n\t\tfrom `Activity` as `a2` \r\n\t\twhere (...) as `t`\r\n\t) \r\nwhere (...)\r\n```\r\nWhy does jOOQ build a `select` on top of the already given `select`? And how do I make this work, so it sets the multiple values according to the given select?\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/update-statement/","title":"Subquery inside an update to set multiple values","body":"<p>I want to move a DateTime of a record by using <code>update().set()</code>. When I try the <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/update-statement/\" rel=\"nofollow noreferrer\">given example in the jOOQ docs for using a subselect</a> I found that I needed to cast to a <code>Row2</code> type because I want to set two variables. With this, the query gets build in an unusual way <em>(or at least not according to what I expect of the query given the example in the jOOQ docs)</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void moveEventStart(final LocalDate previousEventStart, final LocalDate newEventStart) {\n    final Days changeInterval = Days.daysBetween(previousEventStart, newEventStart);\n    ActivityTbl a = ACTIVITY.as(&quot;a&quot;);\n    ActivityTbl a2 = ACTIVITY.as(&quot;a2&quot;)\n\n    jooq()\n        .update(a)\n        .set(\n            (Row2) row(a.START, a.END),\n            select(\n                 models.Jooq.dateAdd(a2.START, changeInterval.getDays(), DatePart.DAY),\n                 models.Jooq.dateAdd(a2.END, changeInterval.getDays(), DatePart.DAY))\n            .from(a2)\n            .where(...))\n        .where(...)\n        .execute();\n}\n</code></pre>\n<p>The dateAdd function is build like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Field&lt;Date&gt; dateAdd(TableField&lt;?, LocalDateTime&gt; field, int interval, DatePart datePart) {\n    String unit;\n    switch (datePart) {\n      case YEAR:\n        unit = &quot;YEAR&quot;;\n        break;\n      case MONTH:\n        unit = &quot;MONTH&quot;;\n        break;\n      case DAY:\n        unit = &quot;DAY&quot;;\n        break;\n      case HOUR:\n        unit = &quot;HOUR&quot;;\n        break;\n      case MINUTE:\n        unit = &quot;MINUTE&quot;;\n        break;\n      case SECOND:\n        unit = &quot;SECOND&quot;;\n        break;\n      default:\n        unit = &quot;&quot;;\n    }\n    return DSL.field(\n        &quot;DATE_ADD({0}, INTERVAL {1} &quot; + unit + &quot;)&quot;, SQLDataType.DATE, field, DSL.inline(interval));\n  }\n</code></pre>\n<p>Produces:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>update `Activity` as `a` \nset(`start`, `end`) = (\n    select * from (\n        select \n            DATE_ADD(`a2`.`start`, INTERVAL 1 DAY), \n            DATE_ADD(`a2`.`end`, INTERVAL 1 DAY) \n        from `Activity` as `a2` \n        where (...) as `t`\n    ) \nwhere (...)\n</code></pre>\n<p>Why does jOOQ build a <code>select</code> on top of the already given <code>select</code>? And how do I make this work, so it sets the multiple values according to the given select?</p>\n"},{"tags":["java","issue-tracking"],"comments":[{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":9,"creation_date":1440539151,"post_id":29379425,"comment_id":52312962,"body_markdown":"Similarly:  how do we add information to an existing bug report?  Several times I&#39;ve seen an older OpenJDK bug closed with &quot;cannot reproduce&quot; while I&#39;m sitting there with a perfect test case, but no way to contribute anything to the now-closed bug.  It&#39;s very discouraging.","body":"Similarly:  how do we add information to an existing bug report?  Several times I&#39;ve seen an older OpenJDK bug closed with &quot;cannot reproduce&quot; while I&#39;m sitting there with a perfect test case, but no way to contribute anything to the now-closed bug.  It&#39;s very discouraging."},{"owner":{"account_id":4365279,"reputation":14457,"user_id":3561275,"display_name":"omajid"},"score":2,"creation_date":1489515423,"post_id":29379425,"comment_id":72701771,"body_markdown":"It&#39;s a pretty crappy situation. Until it&#39;s fixed, I have a few workarounds. Post them to discuss@openjdk.java.net (or a better mailing list) or if you are using a linux distro, file it against your distribution&#39;s bug tracker. Often we have access to openjdk&#39;s bug system.","body":"It&#39;s a pretty crappy situation. Until it&#39;s fixed, I have a few workarounds. Post them to discuss@openjdk.java.net (or a better mailing list) or if you are using a linux distro, file it against your distribution&#39;s bug tracker. Often we have access to openjdk&#39;s bug system."},{"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"score":4,"creation_date":1550822524,"post_id":29379425,"comment_id":96419854,"body_markdown":"[This has been discussed on the OpenJDK mailing list](http://mail.openjdk.java.net/pipermail/discuss/2015-December/003840.html) as well.","body":"<a href=\"http://mail.openjdk.java.net/pipermail/discuss/2015-December/003840.html\" rel=\"nofollow noreferrer\">This has been discussed on the OpenJDK mailing list</a> as well."},{"owner":{"account_id":247716,"reputation":1009,"user_id":2047385,"display_name":"xorcus"},"score":0,"creation_date":1586610646,"post_id":29379425,"comment_id":108192195,"body_markdown":"https://bugreport.java.com/ (based on the link supplied by Karl Richter)","body":"<a href=\"https://bugreport.java.com/\" rel=\"nofollow noreferrer\">bugreport.java.com</a> (based on the link supplied by Karl Richter)"},{"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"score":1,"creation_date":1657704426,"post_id":29379425,"comment_id":128871646,"body_markdown":"@omajid At this point it will never be fixed, because it&#39;s not in Oracle interests to have a good working open source project competing with it&#39;s own products and services. That&#39;s why OpenJDK need to get their own foundation and git repo and issue tracker. This is getting annoying to a point where it&#39;s basically mismanagement and neglectance","body":"@omajid At this point it will never be fixed, because it&#39;s not in Oracle interests to have a good working open source project competing with it&#39;s own products and services. That&#39;s why OpenJDK need to get their own foundation and git repo and issue tracker. This is getting annoying to a point where it&#39;s basically mismanagement and neglectance"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1661691288,"post_id":29379425,"comment_id":129827283,"body_markdown":"[The bug submission FAQ list](https://bugs.java.com/bugdatabase/faq.do#faq-10) also refers to [the OpenJDK mailing lists](https://mail.openjdk.org/mailman/listinfo). I don’t know in which situations one is preferred over the other.","body":"<a href=\"https://bugs.java.com/bugdatabase/faq.do#faq-10\" rel=\"nofollow noreferrer\">The bug submission FAQ list</a> also refers to <a href=\"https://mail.openjdk.org/mailman/listinfo\" rel=\"nofollow noreferrer\">the OpenJDK mailing lists</a>. I don’t know in which situations one is preferred over the other."}],"answers":[{"tags":[],"owner":{"account_id":5660321,"reputation":534,"user_id":4478159,"display_name":"csauvanet"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1431078024,"creation_date":1431078024,"answer_id":30120615,"question_id":29379425,"body_markdown":"I wanted also to report a bug and the only place I could find is the following one:\r\n\r\nhttp://bugreport.java.com/\r\n\r\nI hope it is the correct place, Oracle engineer might end up creating an issue in the bugs.openjdk.java.net if it happen to be really an bug.\r\n\r\nHope this helps","title":"Where to report issues of OpenJDK when you&#39;re not a OpenJDK developer?","body":"<p>I wanted also to report a bug and the only place I could find is the following one:</p>\n\n<p><a href=\"http://bugreport.java.com/\" rel=\"noreferrer\">http://bugreport.java.com/</a></p>\n\n<p>I hope it is the correct place, Oracle engineer might end up creating an issue in the bugs.openjdk.java.net if it happen to be really an bug.</p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":894842,"reputation":3082,"user_id":932359,"display_name":"Luke Usherwood"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1632510846,"creation_date":1470400857,"answer_id":38789513,"question_id":29379425,"body_markdown":"Go to http://bugs.java.com or jump straight to the report page:    http://bugreport.java.com/\r\n\r\nMy interpretation of their [FAQ][1] is that this will be triaged by an Oracle engineer, and if accepted it will be assigned a number and (usually) become visible in both Oracles + the OpenJDK bug databases. \r\n\r\n*It would be **really** helpful if this info/link were on the OpenJDK bug page too. The database split is already confusing enough - when your goal is to contribute to __OpenJDK__ but you find yourself at an Oracle-branded page, it seems like you&#39;ve gone to the wrong place.*\r\n\r\n\r\nUDPATE (Nov 2019): To add **Additional information** to a bug ([FAQ][1] point 6):\r\n\r\n&gt; File a new incident with the subject line &quot;Additional information to JDK-XXXXXXX&#39;. Replace XXXXXXX with the reference number received when the report is filed. We are working on a system where you will be able to provide additional information to the existing bug.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/faq.do\r\n\r\n-----\r\n\r\nNow, if you&#39;re curious who can get *direct* access to the bug database...\r\n\r\nFrom (https://bugs.openjdk.java.net/):\r\n\r\n&gt; Everyone with OpenJDK **Author** status or above has a [JDK Bug System] account which may be used to create and edit bugs. Those without accounts can view bugs anonymously.\r\n\r\nTo understand that, you need to navigate the various &quot;role&quot; definitions: \r\n\r\nhttp://openjdk.java.net/bylaws#author\r\n\r\nFrom Section 7: \r\n\r\n&gt; An **Author** for a Project is a Contributor who has been granted the right to create changesets intended to be pushed into a specific Project’s code repositories, but does not have the right to push such changesets directly.\r\n\r\nFrom Section 2:\r\n\r\n&gt; A **Contributor** is a Participant who has signed the Oracle Contributor Agreement (OCA), or who works for an organization that has signed that agreement or its equivalent and makes contributions within the scope of that work and subject to that agreement. A Contributor may submit changes larger than a simple patch, may propose new Projects, and may take on various roles within Groups and Projects.\r\n\r\nand ...\r\n\r\n&gt; A **Participant** is an individual who has subscribed to one or more OpenJDK mailing lists. A Participant may post messages to a list, submit simple patches, and make other kinds of small contributions.\r\n\r\nSo the bar is set pretty high. `:-/`\r\n\r\n","title":"Where to report issues of OpenJDK when you&#39;re not a OpenJDK developer?","body":"<p>Go to <a href=\"http://bugs.java.com\" rel=\"nofollow noreferrer\">http://bugs.java.com</a> or jump straight to the report page:    <a href=\"http://bugreport.java.com/\" rel=\"nofollow noreferrer\">http://bugreport.java.com/</a></p>\n<p>My interpretation of their <a href=\"https://bugs.java.com/bugdatabase/faq.do\" rel=\"nofollow noreferrer\">FAQ</a> is that this will be triaged by an Oracle engineer, and if accepted it will be assigned a number and (usually) become visible in both Oracles + the OpenJDK bug databases.</p>\n<p><em>It would be <strong>really</strong> helpful if this info/link were on the OpenJDK bug page too. The database split is already confusing enough - when your goal is to contribute to <strong>OpenJDK</strong> but you find yourself at an Oracle-branded page, it seems like you've gone to the wrong place.</em></p>\n<p>UDPATE (Nov 2019): To add <strong>Additional information</strong> to a bug (<a href=\"https://bugs.java.com/bugdatabase/faq.do\" rel=\"nofollow noreferrer\">FAQ</a> point 6):</p>\n<blockquote>\n<p>File a new incident with the subject line &quot;Additional information to JDK-XXXXXXX'. Replace XXXXXXX with the reference number received when the report is filed. We are working on a system where you will be able to provide additional information to the existing bug.</p>\n</blockquote>\n<hr />\n<p>Now, if you're curious who can get <em>direct</em> access to the bug database...</p>\n<p>From (<a href=\"https://bugs.openjdk.java.net/\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/</a>):</p>\n<blockquote>\n<p>Everyone with OpenJDK <strong>Author</strong> status or above has a [JDK Bug System] account which may be used to create and edit bugs. Those without accounts can view bugs anonymously.</p>\n</blockquote>\n<p>To understand that, you need to navigate the various &quot;role&quot; definitions:</p>\n<p><a href=\"http://openjdk.java.net/bylaws#author\" rel=\"nofollow noreferrer\">http://openjdk.java.net/bylaws#author</a></p>\n<p>From Section 7:</p>\n<blockquote>\n<p>An <strong>Author</strong> for a Project is a Contributor who has been granted the right to create changesets intended to be pushed into a specific Project’s code repositories, but does not have the right to push such changesets directly.</p>\n</blockquote>\n<p>From Section 2:</p>\n<blockquote>\n<p>A <strong>Contributor</strong> is a Participant who has signed the Oracle Contributor Agreement (OCA), or who works for an organization that has signed that agreement or its equivalent and makes contributions within the scope of that work and subject to that agreement. A Contributor may submit changes larger than a simple patch, may propose new Projects, and may take on various roles within Groups and Projects.</p>\n</blockquote>\n<p>and ...</p>\n<blockquote>\n<p>A <strong>Participant</strong> is an individual who has subscribed to one or more OpenJDK mailing lists. A Participant may post messages to a list, submit simple patches, and make other kinds of small contributions.</p>\n</blockquote>\n<p>So the bar is set pretty high. <code>:-/</code></p>\n"}],"owner":{"account_id":2007569,"reputation":8114,"user_id":1797006,"accept_rate":63,"display_name":"Kalle Richter"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3849,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":38789513,"answer_count":2,"score":60,"last_activity_date":1632510846,"creation_date":1427839613,"question_id":29379425,"body_markdown":"First I thought it&#39;s strange that there&#39;s no link to a bug tracker on the [OpenJDK project page][1], then I found [bugs.openjdk.java.net][2], but it&#39;s only for accredited project members. How do people outside the ivory tower contribute issues? There&#39;s the mailing list and some people call sending issues and patches to a mailing list bug tracking... but the development and usage of bug tracker contradicts.\r\n\r\n[1]:http://openjdk.java.net/\r\n[2]:https://bugs.openjdk.java.net/","title":"Where to report issues of OpenJDK when you&#39;re not a OpenJDK developer?","body":"<p>First I thought it's strange that there's no link to a bug tracker on the <a href=\"http://openjdk.java.net/\" rel=\"noreferrer\">OpenJDK project page</a>, then I found <a href=\"https://bugs.openjdk.java.net/\" rel=\"noreferrer\">bugs.openjdk.java.net</a>, but it's only for accredited project members. How do people outside the ivory tower contribute issues? There's the mailing list and some people call sending issues and patches to a mailing list bug tracking... but the development and usage of bug tracker contradicts.</p>\n"},{"tags":["java","database","class","object","verification"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1632515947,"post_id":69319876,"comment_id":122523290,"body_markdown":"Note that you do not need to import anything from `java.lang`.","body":"Note that you do not need to import anything from <code>java.lang</code>."}],"answers":[{"tags":[],"owner":{"account_id":21379802,"reputation":188,"user_id":15745910,"display_name":"Flav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632510205,"creation_date":1632510205,"answer_id":69319985,"question_id":69319876,"body_markdown":"You are trying to create an instance of the class **Consumer** using the constructor ***Consumer()*** which is not defined.\r\n\r\nThe only constructor you have defined is ***Consumer(String name)***.\r\n\r\nYou need to add a default constructor to your **Consumer** class:\r\n\r\n     public Consumer() {\r\n        numConsumers++;\r\n        this.name = &quot;Undefined&quot;; //Or just set it to null\r\n        this.streetNumber = 0;\r\n        this.streetName = &quot; &quot;;\r\n        this.city = &quot; &quot;;\r\n        this.postalCode = &quot; &quot;;\r\n        this.age = 0;\r\n        this.gender = &quot; &quot;;\r\n        MaritalStatus maritalStatus = MaritalStatus.SINGLE;\r\n        Education education = Education.HIGH_SCHOOL;\r\n    }","title":"Java - Cannot create object. Getting error message: &quot;Object cannot be resolved to a type&quot;","body":"<p>You are trying to create an instance of the class <strong>Consumer</strong> using the constructor <em><strong>Consumer()</strong></em> which is not defined.</p>\n<p>The only constructor you have defined is <em><strong>Consumer(String name)</strong></em>.</p>\n<p>You need to add a default constructor to your <strong>Consumer</strong> class:</p>\n<pre><code> public Consumer() {\n    numConsumers++;\n    this.name = &quot;Undefined&quot;; //Or just set it to null\n    this.streetNumber = 0;\n    this.streetName = &quot; &quot;;\n    this.city = &quot; &quot;;\n    this.postalCode = &quot; &quot;;\n    this.age = 0;\n    this.gender = &quot; &quot;;\n    MaritalStatus maritalStatus = MaritalStatus.SINGLE;\n    Education education = Education.HIGH_SCHOOL;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22846762,"reputation":11,"user_id":16992994,"display_name":"pavel_msu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632510311,"creation_date":1632510311,"answer_id":69320002,"question_id":69319876,"body_markdown":"Your class `Consumer` has only one constructor with one required String parameter `public Consumer(String name)`, but in `main` you pass nothing to constructor. \r\n\r\nYou should write\r\n\r\n    Consumer consumerOne = new Consumer(&quot;John&quot;);","title":"Java - Cannot create object. Getting error message: &quot;Object cannot be resolved to a type&quot;","body":"<p>Your class <code>Consumer</code> has only one constructor with one required String parameter <code>public Consumer(String name)</code>, but in <code>main</code> you pass nothing to constructor.</p>\n<p>You should write</p>\n<pre><code>Consumer consumerOne = new Consumer(&quot;John&quot;);\n</code></pre>\n"}],"owner":{"account_id":19962714,"reputation":23,"user_id":14629924,"display_name":"Steven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69319985,"answer_count":2,"score":1,"last_activity_date":1632510511,"creation_date":1632509539,"question_id":69319876,"body_markdown":"New programmer learning Java. I have an assignment where I have to create a database of sorts to store Consumer information. For now I&#39;ve build two classes. The Consumer class itself, and a second, separate class with the main method. I&#39;m still building the program, but I&#39;ve run into something that I just can&#39;t seem to get past. My program won&#39;t let me create any objects of the class Consumer. Please help if anyone has a chance.\r\n\r\nConsumer class code:\r\n```\r\nimport java.lang.Enum;\r\n\r\npublic class Consumer {\r\n\t\r\n\tprivate String name;\r\n\tprivate int streetNumber;\r\n\tprivate String streetName;\r\n\tprivate String city;\r\n\tprivate String postalCode;\r\n\tprivate int age;\r\n\tprivate String gender;\r\n\tprivate static int numConsumers;\r\n\t\r\n\r\n\t\r\n\tpublic Consumer(String name) {\r\n\t\tnumConsumers++;\r\n\t\tthis.name = name;\r\n\t\tthis.streetNumber = 0;\r\n\t\tthis.streetName = &quot; &quot;;\r\n\t\tthis.city = &quot; &quot;;\r\n\t\tthis.postalCode = &quot; &quot;;\r\n\t\tthis.age = 0;\r\n\t\tthis.gender = &quot; &quot;;\r\n\t\tMaritalStatus maritalStatus = MaritalStatus.SINGLE;\r\n\t\tEducation education = Education.HIGH_SCHOOL;\r\n\t}\r\n\t\r\n\tpublic enum MaritalStatus {\r\n\t\tSINGLE,\r\n\t\tCOMMON_LAW,\r\n\t\tMARRIED,\r\n\t\tSEPARATED,\r\n\t\tDIVORCED,\r\n\t\tWIDOWED\r\n\t}\r\n\t\r\n\tpublic enum Education {\r\n\t\tHIGH_SCHOOL,\r\n\t\tCOLLEGE,\r\n\t\tUNIVERSITY,\r\n\t\tNONE\r\n\t}\r\n\t\r\n\tpublic void setName(String newName) {\r\n\t\tname = newName;\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic void setStreetNumber (int n) {\r\n\t\tstreetNumber = n;\r\n\t}\r\n\t\r\n\tpublic int getStreetNumber() {\r\n\t\treturn streetNumber;\r\n\t}\r\n\t\r\n\tpublic void setStreetName(String newStreetName) {\r\n\t\tstreetName = newStreetName;\r\n\t}\r\n\t\r\n\tpublic String getStreetName() {\r\n\t\treturn streetName;\r\n\t}\r\n\t\r\n\tpublic void setCity(String newCity) {\r\n\t\tcity = newCity;\r\n\t}\r\n\t\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\t\r\n\tpublic void setPostalCode(String newPostalCode) {\r\n\t\tpostalCode = newPostalCode;\r\n\t}\r\n\t\r\n\tpublic String getPostalCode() {\r\n\t\treturn postalCode;\r\n\t}\r\n\t\r\n\tpublic void setAge (int n) {\r\n\t\tage = n;\r\n\t}\r\n\t\r\n\tpublic int getAge() {\r\n\t\treturn age;\r\n\t}\r\n\t\r\n\tpublic void setGender(String newGender) {\r\n\t\tgender = newGender;\r\n\t}\r\n\t\r\n\tpublic String getGender() {\r\n\t\treturn gender;\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Displaying information for consumer &quot; + name);\r\n\t\tSystem.out.println(&quot;Address: &quot; + streetNumber + &quot; &quot; + streetName + &quot;, &quot; + city + &quot;, &quot; + postalCode);\r\n\t\tSystem.out.println(&quot;Age: &quot; + age);\r\n\t\tSystem.out.println(&quot;Gender: &quot; + gender);\r\n\t\tSystem.out.println(&quot;Marital status: &quot; + MaritalStatus.class);\r\n\t\tSystem.out.println(&quot;Education level: &quot; + Education.class);\r\n\t\treturn &quot; &quot;;\r\n\t}\r\n\t\r\n\tpublic static String menu() {\r\n\t\tSystem.out.println(&quot;What do you want to do?&quot;);\r\n\t\tSystem.out.println(&quot;\\t 1. Enter a new Consumer (password required)&quot;);\r\n\t\tSystem.out.println(&quot;\\t 2. Change all information of a Consumer (password required)&quot;);\r\n\t\tSystem.out.println(&quot;\\t 3. Display all Consumers similar to a given consumer&quot;);\r\n\t\tSystem.out.println(&quot;\\t 4. Display all Consumers with a given age and location&quot;);\r\n\t\tSystem.out.println(&quot;\\t 5. Quit&quot;);\r\n\t\tSystem.out.println(&quot;Please enter your choice &gt; &quot;);\r\n\t\treturn &quot; &quot;;\r\n\t}\r\n\t\r\n\tpublic static int getNumConsumers() {\r\n\t\treturn numConsumers;\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\nand the code from my main class/method\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Capitalism {\r\n\t\r\n\tprivate static boolean validatedPassword;\r\n\tprivate static String correctPassword = &quot;password&quot;;\r\n\tprivate static String passwordGuess;\r\n\tprivate static int passwordAttempts;\r\n\tprivate static int totalPasswordAttempts;\r\n\tprivate static int maxNumConsumers;\r\n\tprivate static int userMenuChoice;\r\n\t\r\n\tstatic int getMaxConsumers() {\r\n\t\t\r\n\t\tScanner userInput = new Scanner(System.in);\t\r\n\t\tSystem.out.println(&quot;Please enter the maximum number of consumers your company can handle&quot;);\r\n\t\t\r\n\t\tdo {\r\n\t\t\tif(userInput.hasNextInt()) {\r\n\t\t\t\tmaxNumConsumers = userInput.nextInt();\r\n\t\t\t\tif(maxNumConsumers &lt;= 0) {\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid input. Please enter a positive number&quot;);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Invalid input. Please enter a positive number (1, 8, 15, etc).&quot;);\r\n\t\t\t\tuserInput.nextLine();\r\n\t\t\t}\r\n\t\t} while (maxNumConsumers &lt;= 0);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Your company can handle &quot; + maxNumConsumers + &quot; consumers.\\n&quot;);\r\n\t\treturn maxNumConsumers;\r\n\t}\r\n\t\r\n\tstatic void menu() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;What do you want to do?&quot;);\r\n\t\tSystem.out.println(&quot;\\t 1. Enter a new Consumer (password required)&quot;);\r\n\t\tSystem.out.println(&quot;\\t 2. Change all information of a Consumer (password required)&quot;);\r\n\t\tSystem.out.println(&quot;\\t 3. Display all Consumers similar to a given consumer&quot;);\r\n\t\tSystem.out.println(&quot;\\t 4. Display all Consumers with a given age and location&quot;);\r\n\t\tSystem.out.println(&quot;\\t 5. Quit&quot;);\r\n\t\tSystem.out.println(&quot;Please enter your choice &gt; &quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\tstatic int getUserMenuChoice() {\r\n\t\tScanner userInput = new Scanner(System.in);\t\r\n\t\t\r\n\t\tdo {\r\n\t\t\tif(userInput.hasNextInt()) {\r\n\t\t\t\tuserMenuChoice = userInput.nextInt();\r\n\t\t\t\tif(userMenuChoice &lt;= 0 || userMenuChoice &gt;= 6) {\r\n\t\t\t\t\tSystem.out.println(&quot;Invalid input. Please enter a number between 1 and 5.&quot;);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Invalid input. User must enter a number with no letters (i.e. 4 instead of four).&quot;);\r\n\t\t\t\tuserInput.nextLine();\r\n\t\t\t}\r\n\t\t} while (userMenuChoice &lt;= 0 || userMenuChoice &gt;=6);\r\n\t\t\r\n\t\tSystem.out.println(&quot;You have selected option &quot; + userMenuChoice + &quot;.\\n&quot;);\r\n\t\treturn userMenuChoice;\r\n\t}\r\n\r\n\tstatic void validatePassword() {\r\n\t\twhile (!validatedPassword &amp;&amp; passwordAttempts &lt; 3) {\r\n\t\t\tSystem.out.println(&quot;Please enter your password.&quot;);\r\n\t\t\tScanner userInput = new Scanner(System.in);\r\n\t\t\tpasswordGuess = userInput.next();\r\n\t\t\tif (passwordGuess.equals(correctPassword)) {\r\n\t\t\t\tSystem.out.println(&quot;Correct password. Okay to proceed.&quot;);\r\n\t\t\t\tvalidatedPassword = true;\r\n\t\t\t\tbreak;\r\n\t\t\t} else if (passwordAttempts &lt; 2) {\r\n\t\t\t\tSystem.out.println(&quot;Incorrect password. Max of 3 attempts before returning to main menu.&quot;);\r\n\t\t\t\tpasswordAttempts++;\r\n\t\t\t\ttotalPasswordAttempts++;\r\n\t\t\t} else {\r\n\t\t\t\tpasswordAttempts = 0;\r\n\t\t\t\ttotalPasswordAttempts++;\r\n\t\t\t\tif (totalPasswordAttempts == 12) {\r\n\t\t\t\t\tSystem.out.println(&quot;Program has detected suspicious activity and will terminate immediately.&quot;);\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;Maximum number of attempts reached. Returning to main menu.&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic void validatePassword2() {\r\n\t\twhile (!validatedPassword &amp;&amp; passwordAttempts &lt; 3) {\r\n\t\t\tSystem.out.println(&quot;Please enter your password.&quot;);\r\n\t\t\tScanner userInput = new Scanner(System.in);\r\n\t\t\tpasswordGuess = userInput.next();\r\n\t\t\tif (passwordGuess.equals(correctPassword)) {\r\n\t\t\t\tSystem.out.println(&quot;Correct password. Okay to proceed.&quot;);\r\n\t\t\t\tvalidatedPassword = true;\r\n\t\t\t\tbreak;\r\n\t\t\t} else if (passwordAttempts &lt; 2) {\r\n\t\t\t\tSystem.out.println(&quot;Incorrect password. Max of 3 attempts.&quot;);\r\n\t\t\t\tpasswordAttempts++;\r\n\t\t\t\ttotalPasswordAttempts++;\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Program terminated due to safety reasons.&quot;);\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tConsumer consumerOne = new Consumer(); // this is the line where the error message comes up\r\n\t\t\r\n\t\tboolean runProgram = true;\r\n\t\tSystem.out.println(&quot;Welcome to the consumer information database. A place to store and update consumer information. \\n&quot;);\r\n\r\n\t\tgetMaxConsumers();\r\n\t\t\r\n\t\twhile(runProgram) {\r\n\t\t\tmenu();\r\n\t\t\tgetUserMenuChoice();\r\n\t\t\t\r\n\t\t\tswitch(userMenuChoice) {\r\n\t\t\tcase 1:\r\n\t\t\t\tvalidatePassword();\r\n\t\t\t\tSystem.out.println(&quot;Then we continue the rest of this nonesense&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tvalidatePassword2();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\tcase 4:\r\n\t\t\tcase 5:\r\n\t\t\t\trunProgram = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Thank you for using the database. May all your capitalist dreams come true.&quot;);\r\n\t\tSystem.out.println(&quot;Program is now terminated.&quot;);\r\n\r\n\t\t}\r\n\r\n\t\r\n\r\n}\r\n```","title":"Java - Cannot create object. Getting error message: &quot;Object cannot be resolved to a type&quot;","body":"<p>New programmer learning Java. I have an assignment where I have to create a database of sorts to store Consumer information. For now I've build two classes. The Consumer class itself, and a second, separate class with the main method. I'm still building the program, but I've run into something that I just can't seem to get past. My program won't let me create any objects of the class Consumer. Please help if anyone has a chance.</p>\n<p>Consumer class code:</p>\n<pre><code>import java.lang.Enum;\n\npublic class Consumer {\n    \n    private String name;\n    private int streetNumber;\n    private String streetName;\n    private String city;\n    private String postalCode;\n    private int age;\n    private String gender;\n    private static int numConsumers;\n    \n\n    \n    public Consumer(String name) {\n        numConsumers++;\n        this.name = name;\n        this.streetNumber = 0;\n        this.streetName = &quot; &quot;;\n        this.city = &quot; &quot;;\n        this.postalCode = &quot; &quot;;\n        this.age = 0;\n        this.gender = &quot; &quot;;\n        MaritalStatus maritalStatus = MaritalStatus.SINGLE;\n        Education education = Education.HIGH_SCHOOL;\n    }\n    \n    public enum MaritalStatus {\n        SINGLE,\n        COMMON_LAW,\n        MARRIED,\n        SEPARATED,\n        DIVORCED,\n        WIDOWED\n    }\n    \n    public enum Education {\n        HIGH_SCHOOL,\n        COLLEGE,\n        UNIVERSITY,\n        NONE\n    }\n    \n    public void setName(String newName) {\n        name = newName;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public void setStreetNumber (int n) {\n        streetNumber = n;\n    }\n    \n    public int getStreetNumber() {\n        return streetNumber;\n    }\n    \n    public void setStreetName(String newStreetName) {\n        streetName = newStreetName;\n    }\n    \n    public String getStreetName() {\n        return streetName;\n    }\n    \n    public void setCity(String newCity) {\n        city = newCity;\n    }\n    \n    public String getCity() {\n        return city;\n    }\n    \n    public void setPostalCode(String newPostalCode) {\n        postalCode = newPostalCode;\n    }\n    \n    public String getPostalCode() {\n        return postalCode;\n    }\n    \n    public void setAge (int n) {\n        age = n;\n    }\n    \n    public int getAge() {\n        return age;\n    }\n    \n    public void setGender(String newGender) {\n        gender = newGender;\n    }\n    \n    public String getGender() {\n        return gender;\n    }\n    \n    public String toString() {\n        System.out.println();\n        System.out.println(&quot;Displaying information for consumer &quot; + name);\n        System.out.println(&quot;Address: &quot; + streetNumber + &quot; &quot; + streetName + &quot;, &quot; + city + &quot;, &quot; + postalCode);\n        System.out.println(&quot;Age: &quot; + age);\n        System.out.println(&quot;Gender: &quot; + gender);\n        System.out.println(&quot;Marital status: &quot; + MaritalStatus.class);\n        System.out.println(&quot;Education level: &quot; + Education.class);\n        return &quot; &quot;;\n    }\n    \n    public static String menu() {\n        System.out.println(&quot;What do you want to do?&quot;);\n        System.out.println(&quot;\\t 1. Enter a new Consumer (password required)&quot;);\n        System.out.println(&quot;\\t 2. Change all information of a Consumer (password required)&quot;);\n        System.out.println(&quot;\\t 3. Display all Consumers similar to a given consumer&quot;);\n        System.out.println(&quot;\\t 4. Display all Consumers with a given age and location&quot;);\n        System.out.println(&quot;\\t 5. Quit&quot;);\n        System.out.println(&quot;Please enter your choice &gt; &quot;);\n        return &quot; &quot;;\n    }\n    \n    public static int getNumConsumers() {\n        return numConsumers;\n    }\n    \n\n}\n\n</code></pre>\n<p>and the code from my main class/method</p>\n<pre><code>import java.util.Scanner;\n\npublic class Capitalism {\n    \n    private static boolean validatedPassword;\n    private static String correctPassword = &quot;password&quot;;\n    private static String passwordGuess;\n    private static int passwordAttempts;\n    private static int totalPasswordAttempts;\n    private static int maxNumConsumers;\n    private static int userMenuChoice;\n    \n    static int getMaxConsumers() {\n        \n        Scanner userInput = new Scanner(System.in); \n        System.out.println(&quot;Please enter the maximum number of consumers your company can handle&quot;);\n        \n        do {\n            if(userInput.hasNextInt()) {\n                maxNumConsumers = userInput.nextInt();\n                if(maxNumConsumers &lt;= 0) {\n                    System.out.println(&quot;Invalid input. Please enter a positive number&quot;);\n                }\n            } else {\n                System.out.println(&quot;Invalid input. Please enter a positive number (1, 8, 15, etc).&quot;);\n                userInput.nextLine();\n            }\n        } while (maxNumConsumers &lt;= 0);\n        \n        System.out.println(&quot;Your company can handle &quot; + maxNumConsumers + &quot; consumers.\\n&quot;);\n        return maxNumConsumers;\n    }\n    \n    static void menu() {\n        \n        System.out.println(&quot;What do you want to do?&quot;);\n        System.out.println(&quot;\\t 1. Enter a new Consumer (password required)&quot;);\n        System.out.println(&quot;\\t 2. Change all information of a Consumer (password required)&quot;);\n        System.out.println(&quot;\\t 3. Display all Consumers similar to a given consumer&quot;);\n        System.out.println(&quot;\\t 4. Display all Consumers with a given age and location&quot;);\n        System.out.println(&quot;\\t 5. Quit&quot;);\n        System.out.println(&quot;Please enter your choice &gt; &quot;);\n        \n    }\n    \n    static int getUserMenuChoice() {\n        Scanner userInput = new Scanner(System.in); \n        \n        do {\n            if(userInput.hasNextInt()) {\n                userMenuChoice = userInput.nextInt();\n                if(userMenuChoice &lt;= 0 || userMenuChoice &gt;= 6) {\n                    System.out.println(&quot;Invalid input. Please enter a number between 1 and 5.&quot;);\n                }\n            } else {\n                System.out.println(&quot;Invalid input. User must enter a number with no letters (i.e. 4 instead of four).&quot;);\n                userInput.nextLine();\n            }\n        } while (userMenuChoice &lt;= 0 || userMenuChoice &gt;=6);\n        \n        System.out.println(&quot;You have selected option &quot; + userMenuChoice + &quot;.\\n&quot;);\n        return userMenuChoice;\n    }\n\n    static void validatePassword() {\n        while (!validatedPassword &amp;&amp; passwordAttempts &lt; 3) {\n            System.out.println(&quot;Please enter your password.&quot;);\n            Scanner userInput = new Scanner(System.in);\n            passwordGuess = userInput.next();\n            if (passwordGuess.equals(correctPassword)) {\n                System.out.println(&quot;Correct password. Okay to proceed.&quot;);\n                validatedPassword = true;\n                break;\n            } else if (passwordAttempts &lt; 2) {\n                System.out.println(&quot;Incorrect password. Max of 3 attempts before returning to main menu.&quot;);\n                passwordAttempts++;\n                totalPasswordAttempts++;\n            } else {\n                passwordAttempts = 0;\n                totalPasswordAttempts++;\n                if (totalPasswordAttempts == 12) {\n                    System.out.println(&quot;Program has detected suspicious activity and will terminate immediately.&quot;);\n                    System.exit(0);\n                }\n                System.out.println(&quot;Maximum number of attempts reached. Returning to main menu.&quot;);\n                break;\n            }   \n        }\n    }\n    \n    static void validatePassword2() {\n        while (!validatedPassword &amp;&amp; passwordAttempts &lt; 3) {\n            System.out.println(&quot;Please enter your password.&quot;);\n            Scanner userInput = new Scanner(System.in);\n            passwordGuess = userInput.next();\n            if (passwordGuess.equals(correctPassword)) {\n                System.out.println(&quot;Correct password. Okay to proceed.&quot;);\n                validatedPassword = true;\n                break;\n            } else if (passwordAttempts &lt; 2) {\n                System.out.println(&quot;Incorrect password. Max of 3 attempts.&quot;);\n                passwordAttempts++;\n                totalPasswordAttempts++;\n            } else {\n                System.out.println(&quot;Program terminated due to safety reasons.&quot;);\n                System.exit(0);\n            }   \n        }\n    }\n    \n    public static void main(String[] args) {\n        \n        Consumer consumerOne = new Consumer(); // this is the line where the error message comes up\n        \n        boolean runProgram = true;\n        System.out.println(&quot;Welcome to the consumer information database. A place to store and update consumer information. \\n&quot;);\n\n        getMaxConsumers();\n        \n        while(runProgram) {\n            menu();\n            getUserMenuChoice();\n            \n            switch(userMenuChoice) {\n            case 1:\n                validatePassword();\n                System.out.println(&quot;Then we continue the rest of this nonesense&quot;);\n                break;\n            case 2:\n                validatePassword2();\n                break;\n            case 3:\n            case 4:\n            case 5:\n                runProgram = false;\n                break;\n            }\n        \n        }\n        \n        System.out.println(&quot;Thank you for using the database. May all your capitalist dreams come true.&quot;);\n        System.out.println(&quot;Program is now terminated.&quot;);\n\n        }\n\n    \n\n}\n</code></pre>\n"},{"tags":["java","android","mediastore","android-mediascanner","android-10.0"],"comments":[{"owner":{"account_id":14831948,"reputation":2864,"user_id":10711216,"display_name":"Mohan Sai Manthri"},"score":1,"creation_date":1568376998,"post_id":57923329,"comment_id":102264545,"body_markdown":"Where is your fileOutputStream? In above code you&#39;re just making an directory and a file.","body":"Where is your fileOutputStream? In above code you&#39;re just making an directory and a file."},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1568377078,"post_id":57923329,"comment_id":102264586,"body_markdown":"@MohanSaiManthri thank you for your comment,actually, I want to create a path to use it","body":"@MohanSaiManthri thank you for your comment,actually, I want to create a path to use it"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1568377644,"post_id":57923329,"comment_id":102264860,"body_markdown":"@MohanSaiManthri can you please check the question again,I have updated it","body":"@MohanSaiManthri can you please check the question again,I have updated it"},{"owner":{"account_id":8739976,"reputation":837,"user_id":6537332,"accept_rate":33,"display_name":"Parag Pawar"},"score":0,"creation_date":1575544627,"post_id":57923329,"comment_id":104606284,"body_markdown":"@MouaadAbdelghafourAITALI Did you find the solution??","body":"@MouaadAbdelghafourAITALI Did you find the solution??"},{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1575560546,"post_id":57923329,"comment_id":104615132,"body_markdown":"@ParagPawar , just a temporary solution I ended this by adding `android:requestLegacyExternalStorage=&quot;true&quot;` inside the `Application` tag","body":"@ParagPawar , just a temporary solution I ended this by adding <code>android:requestLegacyExternalStorage=&quot;true&quot;</code> inside the <code>Application</code> tag"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1568377814,"creation_date":1568377814,"answer_id":57923693,"question_id":57923329,"body_markdown":"&gt; I want to create a path to use it\r\n\r\nYou are getting a `Uri` from `MediaStore`. There is no &quot;path&quot;. Not only can a `Uri` not be converted to a path, but you do not have filesystem access to that location on Android 10 and higher.\r\n\r\nGet rid of this:\r\n\r\n            if (videoUri != null) {\r\n                savedVideoPath = getRealPathFromURI(videoUri);\r\n            }\r\n\r\nas it will not work.\r\n\r\nReplace it with your code to write out your video to the location identified by the `Uri`. Use `resolver.openOutputStream()` to get an `OutputStream` to that location. In particular, do this *before* you call `resolver.update()` for an `IS_PENDING` of `0`, as that specifically says &quot;I am done writing to the `Uri`; you can use the content now&quot;.\r\n\r\nOr, use one of the filesystem locations that you *do* have access to, such as `getExternalFilesDir()` on `Context`, and get rid of the `MediaStore` stuff.","title":"Save and Insert video to gallery on Android 10","body":"<blockquote>\n  <p>I want to create a path to use it</p>\n</blockquote>\n\n<p>You are getting a <code>Uri</code> from <code>MediaStore</code>. There is no \"path\". Not only can a <code>Uri</code> not be converted to a path, but you do not have filesystem access to that location on Android 10 and higher.</p>\n\n<p>Get rid of this:</p>\n\n<pre><code>        if (videoUri != null) {\n            savedVideoPath = getRealPathFromURI(videoUri);\n        }\n</code></pre>\n\n<p>as it will not work.</p>\n\n<p>Replace it with your code to write out your video to the location identified by the <code>Uri</code>. Use <code>resolver.openOutputStream()</code> to get an <code>OutputStream</code> to that location. In particular, do this <em>before</em> you call <code>resolver.update()</code> for an <code>IS_PENDING</code> of <code>0</code>, as that specifically says \"I am done writing to the <code>Uri</code>; you can use the content now\".</p>\n\n<p>Or, use one of the filesystem locations that you <em>do</em> have access to, such as <code>getExternalFilesDir()</code> on <code>Context</code>, and get rid of the <code>MediaStore</code> stuff.</p>\n"},{"tags":[],"owner":{"account_id":5453331,"reputation":2758,"user_id":4337510,"accept_rate":30,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1632422611,"creation_date":1568513466,"answer_id":57940620,"question_id":57923329,"body_markdown":"I have answered you to your other post to... You need an inputstream (file, bitmap etc.)  and write an outputstream from the inputfile. \r\n\r\nYou have to change the library to make it work with Android Q . If you cannot do this you could copy the video to the media gallery and then delete the old video created in getExternalFilesDir(). After this you have the uri of the video and can do what you want with the uri \r\n\r\n\r\nIf you have saved the video with getExternalFilesDir() you could use my example here : The media uri you get is &quot;uriSavedVideo&quot; . This is only an example. A large video should also be copied in the background. \r\n```\r\nString videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\r\n\r\nContentValues valuesvideos;\r\nvaluesvideos = new ContentValues();\r\nvaluesvideos.put(MediaStore.Video.Media.RELATIVE_PATH, &quot;Movies/&quot; + &quot;Folder&quot;);\r\nvaluesvideos.put(MediaStore.Video.Media.TITLE, videoFileName);\r\nvaluesvideos.put(MediaStore.Video.Media.DISPLAY_NAME, videoFileName);\r\nvaluesvideos.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\r\nvaluesvideos.put(\r\n    MediaStore.Video.Media.DATE_ADDED, \r\n    System.currentTimeMillis() / 1000);\r\nvaluesvideos.put(MediaStore.Video.Media.DATE_TAKEN, System.currentTimeMillis());\r\nvaluesvideos.put(MediaStore.Video.Media.IS_PENDING, 1);\r\n\r\nContentResolver resolver = mContext.getContentResolver();\r\nUri collection = \r\n    MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\nUri uriSavedVideo = resolver.insert(collection, valuesvideos);\r\nParcelFileDescriptor pfd;\r\n\r\ntry {\r\n    pfd = mContext.getContentResolver().openFileDescriptor(uriSavedVideo, &quot;w&quot;);\r\n\r\n    FileOutputStream out = new FileOutputStream(pfd.getFileDescriptor());\r\n    // Get the already saved video as fileinputstream from here\r\n    File storageDir = new File(\r\n        mContext.getExternalFilesDir(Environment.DIRECTORY_MOVIES), \r\n        &quot;Folder&quot;);\r\n    File imageFile = new File(storageDir, &quot;Myvideo&quot;);\r\n    FileInputStream in = new FileInputStream(imageFile);\r\n\r\n    byte[] buf = new byte[8192];\r\n    int len;\r\n    while ((len = in.read(buf)) &gt; 0) {\r\n        out.write(buf, 0, len);\r\n    }\r\n\r\n    out.close();\r\n    in.close();\r\n    pfd.close();\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n\r\nvaluesvideos.clear();\r\nvaluesvideos.put(MediaStore.Video.Media.IS_PENDING, 0);\r\nmContext.getContentResolver().update(uriSavedVideo, valuesvideos, null, null);\r\n```\r\n\r\n\r\n\r\n","title":"Save and Insert video to gallery on Android 10","body":"<p>I have answered you to your other post to... You need an inputstream (file, bitmap etc.)  and write an outputstream from the inputfile.</p>\n<p>You have to change the library to make it work with Android Q . If you cannot do this you could copy the video to the media gallery and then delete the old video created in getExternalFilesDir(). After this you have the uri of the video and can do what you want with the uri</p>\n<p>If you have saved the video with getExternalFilesDir() you could use my example here : The media uri you get is &quot;uriSavedVideo&quot; . This is only an example. A large video should also be copied in the background.</p>\n<pre><code>String videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\n\nContentValues valuesvideos;\nvaluesvideos = new ContentValues();\nvaluesvideos.put(MediaStore.Video.Media.RELATIVE_PATH, &quot;Movies/&quot; + &quot;Folder&quot;);\nvaluesvideos.put(MediaStore.Video.Media.TITLE, videoFileName);\nvaluesvideos.put(MediaStore.Video.Media.DISPLAY_NAME, videoFileName);\nvaluesvideos.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\nvaluesvideos.put(\n    MediaStore.Video.Media.DATE_ADDED, \n    System.currentTimeMillis() / 1000);\nvaluesvideos.put(MediaStore.Video.Media.DATE_TAKEN, System.currentTimeMillis());\nvaluesvideos.put(MediaStore.Video.Media.IS_PENDING, 1);\n\nContentResolver resolver = mContext.getContentResolver();\nUri collection = \n    MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\nUri uriSavedVideo = resolver.insert(collection, valuesvideos);\nParcelFileDescriptor pfd;\n\ntry {\n    pfd = mContext.getContentResolver().openFileDescriptor(uriSavedVideo, &quot;w&quot;);\n\n    FileOutputStream out = new FileOutputStream(pfd.getFileDescriptor());\n    // Get the already saved video as fileinputstream from here\n    File storageDir = new File(\n        mContext.getExternalFilesDir(Environment.DIRECTORY_MOVIES), \n        &quot;Folder&quot;);\n    File imageFile = new File(storageDir, &quot;Myvideo&quot;);\n    FileInputStream in = new FileInputStream(imageFile);\n\n    byte[] buf = new byte[8192];\n    int len;\n    while ((len = in.read(buf)) &gt; 0) {\n        out.write(buf, 0, len);\n    }\n\n    out.close();\n    in.close();\n    pfd.close();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\nvaluesvideos.clear();\nvaluesvideos.put(MediaStore.Video.Media.IS_PENDING, 0);\nmContext.getContentResolver().update(uriSavedVideo, valuesvideos, null, null);\n</code></pre>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10505,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1632509731,"creation_date":1568376285,"question_id":57923329,"body_markdown":"I&#39;m trying to save a video to the gallery,the following code works well an all Android versions except the **Android Q**: \r\n\r\n```\r\nprivate void getPath() {\r\n    String videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n    ContentResolver resolver = getContentResolver();\r\n    ContentValues contentValues = new ContentValues();\r\n    contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, videoFileName);\r\n    contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\r\n    contentValues.put(\r\n        MediaStore.MediaColumns.RELATIVE_PATH, \r\n        &quot;Movies/&quot; + &quot;Folder&quot;);\r\n    contentValues.put(MediaStore.Video.Media.IS_PENDING, 1);\r\n    Uri collection = \r\n        MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\n    Uri videoUri = resolver.insert(collection, contentValues);\r\n    if (videoUri != null) {\r\n        try (ParcelFileDescriptor pfd = resolver.openFileDescriptor(videoUri, &quot;w&quot;, null)) {\r\n            OutputStream outputStream = null;\r\n            if (pfd != null) {\r\n                outputStream = resolver.openOutputStream(videoUri);\r\n                outputStream.flush();\r\n                outputStream.close();\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    contentValues.clear();\r\n    contentValues.put(MediaStore.Video.Media.IS_PENDING, 0);\r\n    if (videoUri != null) {\r\n        resolver.update(videoUri, contentValues, null, null);\r\n    }\r\n    } else {\r\n        File storageDir = new File(\r\n            Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES)\r\n            + &quot;/Folder&quot;);\r\n        boolean success = true;\r\n        if (!storageDir.exists()) {\r\n            success = storageDir.mkdirs();\r\n        }\r\n        if (success) {\r\n            File videoFile = new File(storageDir, videoFileName);\r\n            savedVideoPath = videoFile.getAbsolutePath();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI also tried using get `getExternalFilesDir()` , but doesn&#39;t work, no video created in the gallery\r\n\r\n```\r\nString videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n    File imageFile = null;\r\n    File storageDir = new File(\r\n        getExternalFilesDir(Environment.DIRECTORY_DCIM),\r\n        &quot;Folder&quot;);\r\n    boolean success = true;\r\n    if (!storageDir.exists()) {\r\n        success = storageDir.mkdirs();\r\n    }\r\n    if (success) {\r\n        imageFile = new File(storageDir, videoFileName);\r\n    }\r\n    savedVideoPath = imageFile.getAbsolutePath();\r\n```\r\n\r\nI use a 3rd-party library to record `SurfaceView`, this library requires a path to save the recorded video : \r\n\r\n     mRenderPipeline = EZFilter.input(this.effectBmp)\r\n                        .addFilter(new GalleryEffects().getEffect(VideoMaker.this, i))\r\n                        .enableRecord(savedVideoPath, true, false)\r\n                        .into(mRenderView);\r\n\r\nWhen record video finished, the recorded video saved with the given path `savedVideoPath` , everything works just fine on all android version except the **Android Q**\r\n\r\nAfter saving the video, when I check, I get an empty video in the gallery \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XyWCe.png","title":"Save and Insert video to gallery on Android 10","body":"<p>I'm trying to save a video to the gallery,the following code works well an all Android versions except the <strong>Android Q</strong>:</p>\n<pre><code>private void getPath() {\n    String videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    ContentResolver resolver = getContentResolver();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, videoFileName);\n    contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\n    contentValues.put(\n        MediaStore.MediaColumns.RELATIVE_PATH, \n        &quot;Movies/&quot; + &quot;Folder&quot;);\n    contentValues.put(MediaStore.Video.Media.IS_PENDING, 1);\n    Uri collection = \n        MediaStore.Video.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\n    Uri videoUri = resolver.insert(collection, contentValues);\n    if (videoUri != null) {\n        try (ParcelFileDescriptor pfd = resolver.openFileDescriptor(videoUri, &quot;w&quot;, null)) {\n            OutputStream outputStream = null;\n            if (pfd != null) {\n                outputStream = resolver.openOutputStream(videoUri);\n                outputStream.flush();\n                outputStream.close();\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    contentValues.clear();\n    contentValues.put(MediaStore.Video.Media.IS_PENDING, 0);\n    if (videoUri != null) {\n        resolver.update(videoUri, contentValues, null, null);\n    }\n    } else {\n        File storageDir = new File(\n            Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_MOVIES)\n            + &quot;/Folder&quot;);\n        boolean success = true;\n        if (!storageDir.exists()) {\n            success = storageDir.mkdirs();\n        }\n        if (success) {\n            File videoFile = new File(storageDir, videoFileName);\n            savedVideoPath = videoFile.getAbsolutePath();\n        }\n    }\n}\n</code></pre>\n<p>I also tried using get <code>getExternalFilesDir()</code> , but doesn't work, no video created in the gallery</p>\n<pre><code>String videoFileName = &quot;video_&quot; + System.currentTimeMillis() + &quot;.mp4&quot;;\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    File imageFile = null;\n    File storageDir = new File(\n        getExternalFilesDir(Environment.DIRECTORY_DCIM),\n        &quot;Folder&quot;);\n    boolean success = true;\n    if (!storageDir.exists()) {\n        success = storageDir.mkdirs();\n    }\n    if (success) {\n        imageFile = new File(storageDir, videoFileName);\n    }\n    savedVideoPath = imageFile.getAbsolutePath();\n</code></pre>\n<p>I use a 3rd-party library to record <code>SurfaceView</code>, this library requires a path to save the recorded video :</p>\n<pre><code> mRenderPipeline = EZFilter.input(this.effectBmp)\n                    .addFilter(new GalleryEffects().getEffect(VideoMaker.this, i))\n                    .enableRecord(savedVideoPath, true, false)\n                    .into(mRenderView);\n</code></pre>\n<p>When record video finished, the recorded video saved with the given path <code>savedVideoPath</code> , everything works just fine on all android version except the <strong>Android Q</strong></p>\n<p>After saving the video, when I check, I get an empty video in the gallery</p>\n<p><a href=\"https://i.stack.imgur.com/XyWCe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XyWCe.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","maven","junit","build"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1590443393,"post_id":62010685,"comment_id":109676733,"body_markdown":"Your coworker does not seem to be importing the project correctly; this will happen automatically on a correct import. Use File→Import→Existing Maven projects.","body":"Your coworker does not seem to be importing the project correctly; this will happen automatically on a correct import. Use File→Import→Existing Maven projects."},{"owner":{"account_id":5574704,"reputation":478,"user_id":4418511,"accept_rate":50,"display_name":"GC_"},"score":0,"creation_date":1590499455,"post_id":62010685,"comment_id":109697621,"body_markdown":"@chrylis-cautiouslyoptimistic- I think we tried it both ways.  We are using mvn eclsipe:eclipse.  Not sure why it only seems to work once in a while.","body":"@chrylis-cautiouslyoptimistic- I think we tried it both ways.  We are using mvn eclsipe:eclipse.  Not sure why it only seems to work once in a while."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1590504203,"post_id":62010685,"comment_id":109700502,"body_markdown":"`mvn eclipse:eclipse` has been obsolete for over 10 years.","body":"<code>mvn eclipse:eclipse</code> has been obsolete for over 10 years."}],"answers":[{"tags":[],"owner":{"account_id":2842663,"reputation":616,"user_id":2441939,"display_name":"petrubear"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1590442644,"creation_date":1590442644,"answer_id":62011172,"question_id":62010685,"body_markdown":"you have to go to Project -&gt; Build Path -&gt; Configure Build Path\r\n\r\nThen in the Source tab, you choose &quot;Add Folder&quot; and select that src/test/java, once it is added to your sources you double click where it says &quot;Contains test sources&quot; \r\n","title":"How can I change a source folder to a test source folder in Eclipse","body":"<p>you have to go to Project -> Build Path -> Configure Build Path</p>\n\n<p>Then in the Source tab, you choose \"Add Folder\" and select that src/test/java, once it is added to your sources you double click where it says \"Contains test sources\" </p>\n"}],"owner":{"account_id":5574704,"reputation":478,"user_id":4418511,"accept_rate":50,"display_name":"GC_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4022,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62011172,"answer_count":1,"score":3,"last_activity_date":1632509445,"creation_date":1590440294,"question_id":62010685,"body_markdown":"How can I define a folder, in eclipse, as a test folder?  On my machine, the test folder `/src/test` shows up correctly, with the test green test folder icon. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, one a coworker&#39;s computer it shows as a source package. How do I assign/update this value?\r\n\r\n  [1]: https://i.stack.imgur.com/S887i.png","title":"How can I change a source folder to a test source folder in Eclipse","body":"<p>How can I define a folder, in eclipse, as a test folder?  On my machine, the test folder <code>/src/test</code> shows up correctly, with the test green test folder icon.</p>\n<p><a href=\"https://i.stack.imgur.com/S887i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S887i.png\" alt=\"enter image description here\" /></a></p>\n<p>However, one a coworker's computer it shows as a source package. How do I assign/update this value?</p>\n"},{"tags":["java","spring","spring-boot","spring-profiles"],"answers":[{"tags":[],"owner":{"account_id":19357712,"reputation":159,"user_id":14153676,"display_name":"energy2522"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632355467,"creation_date":1632355467,"answer_id":69292486,"question_id":69292128,"body_markdown":"If I&#39;m not mistaken, the main file that spring load is `application.yaml`, you can override the value from this file in other profiles, but other profiles can&#39;t override the value that was declared in another profile. \r\n\r\nIn you case, you can declare all development configuration in `application.yaml` and in `application-docker.yaml` override the specific properties. Then, when you want to run your service in docker just set `docker` profile.","title":"Running Spring Boot App with Multiple Spring Profiles","body":"<p>If I'm not mistaken, the main file that spring load is <code>application.yaml</code>, you can override the value from this file in other profiles, but other profiles can't override the value that was declared in another profile.</p>\n<p>In you case, you can declare all development configuration in <code>application.yaml</code> and in <code>application-docker.yaml</code> override the specific properties. Then, when you want to run your service in docker just set <code>docker</code> profile.</p>\n"},{"tags":[],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632509111,"creation_date":1632509111,"answer_id":69319813,"question_id":69292128,"body_markdown":"Problem solved.  For development purposes, devs on this project create their own `application-development.properties` files which are not committed to Git.  I was under the assumption that everyone was creating this file under `src/main/resources`.  But the developer who experienced different behavior had placed this file in the root directory of the project.  This causes Spring  to load the properties in a different fashion (which caused only one profile to be picked up on startup.\r\n\r\nBe careful where you put your properties files.","title":"Running Spring Boot App with Multiple Spring Profiles","body":"<p>Problem solved.  For development purposes, devs on this project create their own <code>application-development.properties</code> files which are not committed to Git.  I was under the assumption that everyone was creating this file under <code>src/main/resources</code>.  But the developer who experienced different behavior had placed this file in the root directory of the project.  This causes Spring  to load the properties in a different fashion (which caused only one profile to be picked up on startup.</p>\n<p>Be careful where you put your properties files.</p>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632509111,"creation_date":1632351115,"question_id":69292128,"body_markdown":"I have a Spring Boot application (running in Docker, but I don&#39;t think that&#39;s relevant) that I start as follows:\r\n\r\n    java -Dspring.profiles.active=development,docker -jar /app.jar\r\n\r\nMy Spring Boot `development` profile includes an entry:\r\n\r\n    service.baseurl: http://foo\r\n\r\nMy Spring Boot `docker` profile includes an entry:\r\n\r\n    service.baseurl: http://bar\r\n\r\nMy understanding of how Spring profiles work is that values are picked up from the LAST value found when there are multiple profiles (see https://stackoverflow.com/a/51565684/2117355).  Based on this, I would expect that my application loads `http://bar` as the value for `service.baseurl`.  This is in fact what happens on my development machine.\r\n\r\nHowever, on my teammate&#39;s machine, the value loaded for `service.baseurl` is `http://foo`.\r\n\r\nThis one is a real head-scratcher.  Could there be some setting, or version of something, on my teammate&#39;s machine that is causing her to get different results here?\r\n\r\nFor what it&#39;s worth, we are both running:\r\n* Java JDK 16.0.2\r\n* Spring Boot 2.5.4\r\n* Gradle 7.2\r\n* Docker 20.10.8","title":"Running Spring Boot App with Multiple Spring Profiles","body":"<p>I have a Spring Boot application (running in Docker, but I don't think that's relevant) that I start as follows:</p>\n<pre><code>java -Dspring.profiles.active=development,docker -jar /app.jar\n</code></pre>\n<p>My Spring Boot <code>development</code> profile includes an entry:</p>\n<pre><code>service.baseurl: http://foo\n</code></pre>\n<p>My Spring Boot <code>docker</code> profile includes an entry:</p>\n<pre><code>service.baseurl: http://bar\n</code></pre>\n<p>My understanding of how Spring profiles work is that values are picked up from the LAST value found when there are multiple profiles (see <a href=\"https://stackoverflow.com/a/51565684/2117355\">https://stackoverflow.com/a/51565684/2117355</a>).  Based on this, I would expect that my application loads <code>http://bar</code> as the value for <code>service.baseurl</code>.  This is in fact what happens on my development machine.</p>\n<p>However, on my teammate's machine, the value loaded for <code>service.baseurl</code> is <code>http://foo</code>.</p>\n<p>This one is a real head-scratcher.  Could there be some setting, or version of something, on my teammate's machine that is causing her to get different results here?</p>\n<p>For what it's worth, we are both running:</p>\n<ul>\n<li>Java JDK 16.0.2</li>\n<li>Spring Boot 2.5.4</li>\n<li>Gradle 7.2</li>\n<li>Docker 20.10.8</li>\n</ul>\n"},{"tags":["java","spring-boot","bitbucket","application.xml"],"comments":[{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1632509067,"post_id":69307289,"comment_id":122521106,"body_markdown":"Note that this is specifically a Bitbucket feature. Git does not have this sort of thing. GitHub and GitLab provide other features that can be used in similar ways, but they are not the same.","body":"Note that this is specifically a Bitbucket feature. Git does not have this sort of thing. GitHub and GitLab provide other features that can be used in similar ways, but they are not the same."}],"answers":[{"tags":[],"owner":{"account_id":4946282,"reputation":1350,"user_id":3981539,"display_name":"Kavitha Karunakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632464907,"creation_date":1632464907,"answer_id":69310480,"question_id":69307289,"body_markdown":"The error is coming from some commit policy set up at bitbucket level. You need to ask your repository&#39;s maintainers about this. A temporary fix can be that you change the name of the property in your yml file and then create a configuration bean that reads the props and then initialize your javamailsender.\r\n\r\nNote: If MAIL_USERNAME and MAIL_PASSWORD are passed as command line arguments and the jar is instantiated using a script in the server, then you are not having that much of a vulnerability that the commit reject message is implying. You are also encrypting the password here. ","title":"GENERIC_PASSWORD vulnerability Spring boot","body":"<p>The error is coming from some commit policy set up at bitbucket level. You need to ask your repository's maintainers about this. A temporary fix can be that you change the name of the property in your yml file and then create a configuration bean that reads the props and then initialize your javamailsender.</p>\n<p>Note: If MAIL_USERNAME and MAIL_PASSWORD are passed as command line arguments and the jar is instantiated using a script in the server, then you are not having that much of a vulnerability that the commit reject message is implying. You are also encrypting the password here.</p>\n"},{"tags":[],"owner":{"account_id":22841606,"reputation":1,"user_id":16988509,"display_name":"Diego Avellaneda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632486460,"creation_date":1632486460,"answer_id":69315019,"question_id":69307289,"body_markdown":"A lot of people have been adding “gates” and “checks” to automate quality. It’s all a “process over people” thing … luckily as a “team_leader” on the project you can bypass all that (use it, don’t abuse it).\r\n\r\nThe check is per “push”, so you can disable it, push and re-enable it. In this case having a password coming from the shell’s environment and being injected in the spring configuration is not that offensive. \r\n\r\n&lt;br&gt;1. Repository settings&lt;br&gt;\r\n2- Hooks &lt;br&gt;\r\n3- Reject Vulnerable Commits&lt;br&gt;\r\n\r\nDisable it, push, re-enable it\r\n\r\n","title":"GENERIC_PASSWORD vulnerability Spring boot","body":"<p>A lot of people have been adding “gates” and “checks” to automate quality. It’s all a “process over people” thing … luckily as a “team_leader” on the project you can bypass all that (use it, don’t abuse it).</p>\n<p>The check is per “push”, so you can disable it, push and re-enable it. In this case having a password coming from the shell’s environment and being injected in the spring configuration is not that offensive.</p>\n<p><br>1. Repository settings<br>\n2- Hooks <br>\n3- Reject Vulnerable Commits<br></p>\n<p>Disable it, push, re-enable it</p>\n"}],"owner":{"account_id":22841606,"reputation":1,"user_id":16988509,"display_name":"Diego Avellaneda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632509017,"creation_date":1632433948,"question_id":69307289,"body_markdown":"*I got below message when I push on bitbucket:*\r\n\r\n    Repository https://git.xx.xxx/scm/appXXXx/appxxx-xx-gateway.git\r\n    pre-receive hook declined\r\n    Push rejected due to security vulnerabilities detected by security hook.\r\n    GENERIC_PASSWORD vulnerability detected in file src/main/resources/application.yml (678a59ebfee39534b4a68e1ad01c36f3cf2f9a2b) on line 14.\r\n\r\n*The reason of this message is because the word &#39;password &#39;is in the Application.xml as par below example:*\r\n\r\n    mail:\r\n    host: myhost.xxx.com\r\n    port: 123\r\n        username: ${MAIL_USERNAME}\r\n        password: ENC(${MAIL_PASSWORD})\r\n\r\n\r\n*Do you guys have an idea how to overcome this?*\r\n\r\n*Your help is great appreciated*\r\nThank you \r\n\r\n\r\n","title":"GENERIC_PASSWORD vulnerability Spring boot","body":"<p><em>I got below message when I push on bitbucket:</em></p>\n<pre><code>Repository https://git.xx.xxx/scm/appXXXx/appxxx-xx-gateway.git\npre-receive hook declined\nPush rejected due to security vulnerabilities detected by security hook.\nGENERIC_PASSWORD vulnerability detected in file src/main/resources/application.yml (678a59ebfee39534b4a68e1ad01c36f3cf2f9a2b) on line 14.\n</code></pre>\n<p><em>The reason of this message is because the word 'password 'is in the Application.xml as par below example:</em></p>\n<pre><code>mail:\nhost: myhost.xxx.com\nport: 123\n    username: ${MAIL_USERNAME}\n    password: ENC(${MAIL_PASSWORD})\n</code></pre>\n<p><em>Do you guys have an idea how to overcome this?</em></p>\n<p><em>Your help is great appreciated</em>\nThank you</p>\n"},{"tags":["java","android","nullpointerexception","rx-java","android-jetpack-datastore"],"comments":[{"owner":{"account_id":4341785,"reputation":12857,"user_id":3544839,"accept_rate":62,"display_name":"Moinkhan"},"score":0,"creation_date":1632398971,"post_id":69180313,"comment_id":122484666,"body_markdown":"Did you tried calling `readLayoutFlow` in `onActivityCreated()` or `onViewCreated()` ?","body":"Did you tried calling <code>readLayoutFlow</code> in <code>onActivityCreated()</code> or <code>onViewCreated()</code> ?"},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1632404819,"post_id":69180313,"comment_id":122487435,"body_markdown":"yes I tried it on `onViewCreated()` and the same error","body":"yes I tried it on <code>onViewCreated()</code> and the same error"}],"answers":[{"tags":[],"owner":{"account_id":13850701,"reputation":116,"user_id":9998698,"display_name":"D. Exter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632508827,"creation_date":1632480702,"answer_id":69313788,"question_id":69180313,"body_markdown":"The reason for the NullPointerException is the initialization of  `readLayoutFlow` before `dataStore`.  \r\nThe code\r\n\r\n```Java\r\npublic Flowable&lt;String&gt; readLayoutFlow =\r\n                dataStore.data().map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\r\n```\r\nis evaluated before the constructors&#39; code is executed. Therefore `dataStore` is `null` and the NullPointerException is thrown.  \r\n\r\nAn easy solution would be to move the initialization of `readLayoutFlow` into the constructor like this:\r\n```Java\r\npublic static class DataStoreRepository {\r\n    RxDataStore&lt;Preferences&gt; dataStore;\r\n    \r\n    public final Flowable&lt;String&gt; readLayoutFlow;\r\n\r\n    public DataStoreRepository(Context context) {\r\n        dataStore = new RxPreferenceDataStoreBuilder(\r\n                            Objects.requireNonNull(context),\r\n                            /*name=*/ &quot;settings&quot;)\r\n                        .build();\r\n\r\n        readLayoutFlow = dataStore.data()\r\n            .map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\r\n    }\r\n\r\n    \\\\ other code\r\n}\r\n```\r\n\r\n\r\n**Edit: Blank screen on first launch**\r\n\r\nThere are two different cases that you could mean. I&#39;m going to answer for both:\r\n\r\n**First start after installing the app**\r\n\r\nTo set the layout on the very first launch I would recommend setting a default value for the preference that is saved at the first start (set a `booleanPreferencesKey` to check if it is the first start).\r\n\r\n**Restart of the app**\r\n\r\nIf the blank screen occurs at every new start of the app, you probably have no check for the currently set preference in the fragments `onViewCreated`. Personally I would use a `MutableLiveData&lt;String&gt; recyclerViewLayoutPreference` in the Fragment to observe the preference like this:\r\n\r\n```Java\r\nprivate MutableLiveData&lt;String&gt; recyclerViewLayoutPreference;\r\n\r\n@Override\r\npublic void onCreate(/*params*/) {\r\n    super.onCreate(/*params*/);\r\n    recyclerViewLayoutPreferences = new MutableLiveData&lt;&gt;();\r\n}\r\n\r\n@Override\r\npublic void onViewCreated(/*params*/) {\r\n    super.onViewCreated(/*params*/),\r\n\r\n    dataStoreRepository.readLayoutFlow()\r\n        .subscribeOn(Schedulers.io())\r\n        .doOnNext(recyclerViewLayoutPreference::postValue)\r\n        .subscribe();\r\n\r\n    recyclerViewLayoutPreference.observe(getViewLifecycleOwner(), layoutString -&gt; {\r\n        if (layoutString == null) return;\r\n\r\n        switch (layoutString) {\r\n            case &quot;cardLayout&quot;:\r\n                adapter.setViewType(0);\r\n                binding.homeRecyclerView.setLayoutManager(layoutManager);\r\n                    binding.homeRecyclerView.setAdapter(adapter);\r\n            /* other cases */\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nThis way you only have to call `dataStoreRepository.saveValue(...)` in the cases in `changeAndSaveLayout` and the usage of `LiveData` keeps the necessary management of Lifecycle Events to a minimum.","title":"Migrate from SharedPreferences to Jetpack DataStore &quot;Java&quot;","body":"<p>The reason for the NullPointerException is the initialization of  <code>readLayoutFlow</code> before <code>dataStore</code>.<br />\nThe code</p>\n<pre><code>public Flowable&lt;String&gt; readLayoutFlow =\n                dataStore.data().map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\n</code></pre>\n<p>is evaluated before the constructors' code is executed. Therefore <code>dataStore</code> is <code>null</code> and the NullPointerException is thrown.</p>\n<p>An easy solution would be to move the initialization of <code>readLayoutFlow</code> into the constructor like this:</p>\n<pre><code>public static class DataStoreRepository {\n    RxDataStore&lt;Preferences&gt; dataStore;\n    \n    public final Flowable&lt;String&gt; readLayoutFlow;\n\n    public DataStoreRepository(Context context) {\n        dataStore = new RxPreferenceDataStoreBuilder(\n                            Objects.requireNonNull(context),\n                            /*name=*/ &quot;settings&quot;)\n                        .build();\n\n        readLayoutFlow = dataStore.data()\n            .map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\n    }\n\n    \\\\ other code\n}\n</code></pre>\n<p><strong>Edit: Blank screen on first launch</strong></p>\n<p>There are two different cases that you could mean. I'm going to answer for both:</p>\n<p><strong>First start after installing the app</strong></p>\n<p>To set the layout on the very first launch I would recommend setting a default value for the preference that is saved at the first start (set a <code>booleanPreferencesKey</code> to check if it is the first start).</p>\n<p><strong>Restart of the app</strong></p>\n<p>If the blank screen occurs at every new start of the app, you probably have no check for the currently set preference in the fragments <code>onViewCreated</code>. Personally I would use a <code>MutableLiveData&lt;String&gt; recyclerViewLayoutPreference</code> in the Fragment to observe the preference like this:</p>\n<pre><code>private MutableLiveData&lt;String&gt; recyclerViewLayoutPreference;\n\n@Override\npublic void onCreate(/*params*/) {\n    super.onCreate(/*params*/);\n    recyclerViewLayoutPreferences = new MutableLiveData&lt;&gt;();\n}\n\n@Override\npublic void onViewCreated(/*params*/) {\n    super.onViewCreated(/*params*/),\n\n    dataStoreRepository.readLayoutFlow()\n        .subscribeOn(Schedulers.io())\n        .doOnNext(recyclerViewLayoutPreference::postValue)\n        .subscribe();\n\n    recyclerViewLayoutPreference.observe(getViewLifecycleOwner(), layoutString -&gt; {\n        if (layoutString == null) return;\n\n        switch (layoutString) {\n            case &quot;cardLayout&quot;:\n                adapter.setViewType(0);\n                binding.homeRecyclerView.setLayoutManager(layoutManager);\n                    binding.homeRecyclerView.setAdapter(adapter);\n            /* other cases */\n        }\n    });\n}\n</code></pre>\n<p>This way you only have to call <code>dataStoreRepository.saveValue(...)</code> in the cases in <code>changeAndSaveLayout</code> and the usage of <code>LiveData</code> keeps the necessary management of Lifecycle Events to a minimum.</p>\n"}],"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69313788,"answer_count":1,"score":2,"last_activity_date":1632508827,"creation_date":1631632206,"question_id":69180313,"body_markdown":"According to this [question][1], I am trying to migrate the current project from SharedPreferences to the dataStore to store the value of layout chosen by the user, the problem is with reading the value, I got NPE, first this my code\r\n\r\n\r\nThe inner **DataStoreRepository** class\r\n\r\n```\r\npublic class Utils {\r\n\r\n/*\r\n* Some unrelated codes\r\n*/\r\n\r\npublic static class DataStoreRepository {\r\n        RxDataStore&lt;Preferences&gt; dataStore;\r\n\r\n        public DataStoreRepository(Context context) {\r\n            dataStore =\r\n                    new RxPreferenceDataStoreBuilder(Objects.requireNonNull(context), /*name=*/ &quot;settings&quot;).build();\r\n        }\r\n\r\n\r\n        public Preferences.Key&lt;String&gt; RECYCLER_VIEW_LAYOUT_KEY;\r\n\r\n\r\n        public void saveValue(String keyName, String value) {\r\n\r\n            RECYCLER_VIEW_LAYOUT_KEY = PreferencesKeys.stringKey(keyName);\r\n\r\n            dataStore.updateDataAsync(prefsIn -&gt; {\r\n                MutablePreferences mutablePreferences = prefsIn.toMutablePreferences();\r\n                String currentKey = prefsIn.get(RECYCLER_VIEW_LAYOUT_KEY);\r\n\r\n                if (currentKey == null) {\r\n                    saveValue(keyName, value);\r\n                }\r\n\r\n                mutablePreferences.set(RECYCLER_VIEW_LAYOUT_KEY,\r\n                        currentKey != null ? value : &quot;cardLayout&quot;);\r\n                return Single.just(mutablePreferences);\r\n            }).subscribe();\r\n           // The update is completed once updateResult is completed.\r\n        }\r\n\r\n        public Flowable&lt;String&gt; readLayoutFlow =\r\n                dataStore.data().map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\r\n\r\n    }\r\n}\r\n```\r\n\r\nand I use it in the fragment like this\r\n\r\n**first I read the flowable**\r\n\r\n```\r\nprivate Utils.DataStoreRepository dataStoreRepository;\r\nprivate String layout2;\r\n\r\n\r\npublic View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n\r\n        dataStoreRepository = new Utils.DataStoreRepository(requireContext());\r\n\r\n            dataStoreRepository.readLayoutFlow.subscribeOn(Schedulers.io())\r\n                    .observeOn(AndroidSchedulers.mainThread())\r\n                    .subscribe(new FlowableSubscriber&lt;String&gt;() {\r\n                        @Override\r\n                        public void onSubscribe(@io.reactivex.rxjava3.annotations.NonNull Subscription s) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onNext(String layout) {\r\n                            layout2 = layout;\r\n                        }\r\n\r\n                        @Override\r\n                        public void onError(Throwable t) {\r\n                            Log.e(TAG, &quot;onError: &quot; + t.getMessage());\r\n                        }\r\n\r\n                        @Override\r\n                        public void onComplete() {\r\n\r\n                        }\r\n                    });\r\n\r\n```\r\n\r\nthen in the same class I store the value on method **`changeAndSaveLayout()`**\r\n\r\n```\r\nprivate void changeAndSaveLayout() {\r\n        android.app.AlertDialog.Builder builder\r\n                = new android.app.AlertDialog.Builder(getContext());\r\n\r\n        builder.setTitle(getString(R.string.choose_layout));\r\n\r\n        String[] recyclerViewLayouts = getResources().getStringArray(R.array.RecyclerViewLayouts);\r\n//        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n\r\n\r\n        builder.setItems(recyclerViewLayouts, (dialog, index) -&gt; {\r\n            switch (index) {\r\n                case 0: // Card List Layout\r\n                    adapter.setViewType(0);\r\n                    binding.homeRecyclerView.setLayoutManager(layoutManager);\r\n                    binding.homeRecyclerView.setAdapter(adapter);\r\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;cardLayout&quot;);\r\n//                    editor.apply();\r\n\r\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;cardLayout&quot;);\r\n\r\n                    break;\r\n                case 1: // Cards Magazine Layout\r\n                    adapter.setViewType(1);\r\n                    binding.homeRecyclerView.setLayoutManager(layoutManager);\r\n                    binding.homeRecyclerView.setAdapter(adapter);\r\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;cardMagazineLayout&quot;);\r\n//                    editor.apply();\r\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;cardMagazineLayout&quot;);\r\n                    break;\r\n                case 2: // PostTitle Layout\r\n                    adapter.setViewType(2);\r\n                    binding.homeRecyclerView.setLayoutManager(titleLayoutManager);\r\n                    binding.homeRecyclerView.setAdapter(adapter);\r\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;titleLayout&quot;);\r\n//                    editor.apply();\r\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;titleLayout&quot;);\r\n                    break;\r\n                case 3: //Grid Layout\r\n                    adapter.setViewType(3);\r\n                    binding.homeRecyclerView.setLayoutManager(gridLayoutManager);\r\n                    binding.homeRecyclerView.setAdapter(adapter);\r\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;gridLayout&quot;);\r\n//                    editor.apply();\r\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;gridLayout&quot;);\r\n\r\n            }\r\n        });\r\n\r\n        android.app.AlertDialog alertDialog = builder.create();\r\n        alertDialog.show();\r\n    }\r\n```\r\n\r\nand when I run I got this NPE, and it about reading value **`readLayoutFlow`** , I tried to make the creation of the key outside the method like this\r\n\r\n```\r\npublic Preferences.Key&lt;String&gt; RECYCLER_VIEW_LAYOUT_KEY = PreferencesKeys.stringKey(&quot;recyclerViewLayout&quot;);\r\n```\r\n\r\nand in the saveValue() change it&#39;s value like this, but it also doesn&#39;t work\r\n\r\n`RECYCLER_VIEW_LAYOUT_KEY.to(keyName);`\r\n\r\n\r\n**the output of NPE**\r\n\r\n\r\n```\r\n Process: com.blogspot.abtallaldigital, PID: 9184\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;io.reactivex.rxjava3.core.Flowable androidx.datastore.rxjava3.RxDataStore.data()&#39; on a null object reference\r\n        at com.blogspot.abtallaldigital.utils.Utils$DataStoreRepository.&lt;init&gt;(Utils.java:4)\r\n        at com.blogspot.abtallaldigital.ui.home.HomeFragment.onCreateView(HomeFragment.java:10)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:4)\r\n        at androidx.fragment.app.FragmentStateManager.f(FragmentStateManager.java:15)\r\n        at androidx.fragment.app.FragmentStateManager.l(FragmentStateManager.java:20)\r\n        at androidx.fragment.app.FragmentStore.s(FragmentStore.java:3)\r\n        at androidx.fragment.app.FragmentManager.h0(FragmentManager.java:6)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3)\r\n        at androidx.fragment.app.FragmentManager.G(FragmentManager.java:1)\r\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:2)\r\n        at androidx.fragment.app.FragmentStateManager.f(FragmentStateManager.java:26)\r\n        at androidx.fragment.app.FragmentStateManager.l(FragmentStateManager.java:20)\r\n        at androidx.fragment.app.FragmentStore.s(FragmentStore.java:3)\r\n        at androidx.fragment.app.FragmentManager.h0(FragmentManager.java:6)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3)\r\n        at androidx.fragment.app.FragmentManager.m(FragmentManager.java:4)\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:1)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:6)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:1)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1435)\r\n        at android.app.Activity.performStart(Activity.java:8018)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3475)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55215641/7639296","title":"Migrate from SharedPreferences to Jetpack DataStore &quot;Java&quot;","body":"<p>According to this <a href=\"https://stackoverflow.com/a/55215641/7639296\">question</a>, I am trying to migrate the current project from SharedPreferences to the dataStore to store the value of layout chosen by the user, the problem is with reading the value, I got NPE, first this my code</p>\n<p>The inner <strong>DataStoreRepository</strong> class</p>\n<pre><code>public class Utils {\n\n/*\n* Some unrelated codes\n*/\n\npublic static class DataStoreRepository {\n        RxDataStore&lt;Preferences&gt; dataStore;\n\n        public DataStoreRepository(Context context) {\n            dataStore =\n                    new RxPreferenceDataStoreBuilder(Objects.requireNonNull(context), /*name=*/ &quot;settings&quot;).build();\n        }\n\n\n        public Preferences.Key&lt;String&gt; RECYCLER_VIEW_LAYOUT_KEY;\n\n\n        public void saveValue(String keyName, String value) {\n\n            RECYCLER_VIEW_LAYOUT_KEY = PreferencesKeys.stringKey(keyName);\n\n            dataStore.updateDataAsync(prefsIn -&gt; {\n                MutablePreferences mutablePreferences = prefsIn.toMutablePreferences();\n                String currentKey = prefsIn.get(RECYCLER_VIEW_LAYOUT_KEY);\n\n                if (currentKey == null) {\n                    saveValue(keyName, value);\n                }\n\n                mutablePreferences.set(RECYCLER_VIEW_LAYOUT_KEY,\n                        currentKey != null ? value : &quot;cardLayout&quot;);\n                return Single.just(mutablePreferences);\n            }).subscribe();\n           // The update is completed once updateResult is completed.\n        }\n\n        public Flowable&lt;String&gt; readLayoutFlow =\n                dataStore.data().map(prefs -&gt; prefs.get(RECYCLER_VIEW_LAYOUT_KEY));\n\n    }\n}\n</code></pre>\n<p>and I use it in the fragment like this</p>\n<p><strong>first I read the flowable</strong></p>\n<pre><code>private Utils.DataStoreRepository dataStoreRepository;\nprivate String layout2;\n\n\npublic View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n\n        dataStoreRepository = new Utils.DataStoreRepository(requireContext());\n\n            dataStoreRepository.readLayoutFlow.subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribe(new FlowableSubscriber&lt;String&gt;() {\n                        @Override\n                        public void onSubscribe(@io.reactivex.rxjava3.annotations.NonNull Subscription s) {\n\n                        }\n\n                        @Override\n                        public void onNext(String layout) {\n                            layout2 = layout;\n                        }\n\n                        @Override\n                        public void onError(Throwable t) {\n                            Log.e(TAG, &quot;onError: &quot; + t.getMessage());\n                        }\n\n                        @Override\n                        public void onComplete() {\n\n                        }\n                    });\n\n</code></pre>\n<p>then in the same class I store the value on method <strong><code>changeAndSaveLayout()</code></strong></p>\n<pre><code>private void changeAndSaveLayout() {\n        android.app.AlertDialog.Builder builder\n                = new android.app.AlertDialog.Builder(getContext());\n\n        builder.setTitle(getString(R.string.choose_layout));\n\n        String[] recyclerViewLayouts = getResources().getStringArray(R.array.RecyclerViewLayouts);\n//        SharedPreferences.Editor editor = sharedPreferences.edit();\n\n\n        builder.setItems(recyclerViewLayouts, (dialog, index) -&gt; {\n            switch (index) {\n                case 0: // Card List Layout\n                    adapter.setViewType(0);\n                    binding.homeRecyclerView.setLayoutManager(layoutManager);\n                    binding.homeRecyclerView.setAdapter(adapter);\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;cardLayout&quot;);\n//                    editor.apply();\n\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;cardLayout&quot;);\n\n                    break;\n                case 1: // Cards Magazine Layout\n                    adapter.setViewType(1);\n                    binding.homeRecyclerView.setLayoutManager(layoutManager);\n                    binding.homeRecyclerView.setAdapter(adapter);\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;cardMagazineLayout&quot;);\n//                    editor.apply();\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;cardMagazineLayout&quot;);\n                    break;\n                case 2: // PostTitle Layout\n                    adapter.setViewType(2);\n                    binding.homeRecyclerView.setLayoutManager(titleLayoutManager);\n                    binding.homeRecyclerView.setAdapter(adapter);\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;titleLayout&quot;);\n//                    editor.apply();\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;titleLayout&quot;);\n                    break;\n                case 3: //Grid Layout\n                    adapter.setViewType(3);\n                    binding.homeRecyclerView.setLayoutManager(gridLayoutManager);\n                    binding.homeRecyclerView.setAdapter(adapter);\n//                    editor.putString(&quot;recyclerViewLayout&quot;, &quot;gridLayout&quot;);\n//                    editor.apply();\n                    dataStoreRepository.saveValue(&quot;recyclerViewLayout&quot;,&quot;gridLayout&quot;);\n\n            }\n        });\n\n        android.app.AlertDialog alertDialog = builder.create();\n        alertDialog.show();\n    }\n</code></pre>\n<p>and when I run I got this NPE, and it about reading value <strong><code>readLayoutFlow</code></strong> , I tried to make the creation of the key outside the method like this</p>\n<pre><code>public Preferences.Key&lt;String&gt; RECYCLER_VIEW_LAYOUT_KEY = PreferencesKeys.stringKey(&quot;recyclerViewLayout&quot;);\n</code></pre>\n<p>and in the saveValue() change it's value like this, but it also doesn't work</p>\n<p><code>RECYCLER_VIEW_LAYOUT_KEY.to(keyName);</code></p>\n<p><strong>the output of NPE</strong></p>\n<pre><code> Process: com.blogspot.abtallaldigital, PID: 9184\n    java.lang.NullPointerException: Attempt to invoke virtual method 'io.reactivex.rxjava3.core.Flowable androidx.datastore.rxjava3.RxDataStore.data()' on a null object reference\n        at com.blogspot.abtallaldigital.utils.Utils$DataStoreRepository.&lt;init&gt;(Utils.java:4)\n        at com.blogspot.abtallaldigital.ui.home.HomeFragment.onCreateView(HomeFragment.java:10)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:4)\n        at androidx.fragment.app.FragmentStateManager.f(FragmentStateManager.java:15)\n        at androidx.fragment.app.FragmentStateManager.l(FragmentStateManager.java:20)\n        at androidx.fragment.app.FragmentStore.s(FragmentStore.java:3)\n        at androidx.fragment.app.FragmentManager.h0(FragmentManager.java:6)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3)\n        at androidx.fragment.app.FragmentManager.G(FragmentManager.java:1)\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:2)\n        at androidx.fragment.app.FragmentStateManager.f(FragmentStateManager.java:26)\n        at androidx.fragment.app.FragmentStateManager.l(FragmentStateManager.java:20)\n        at androidx.fragment.app.FragmentStore.s(FragmentStore.java:3)\n        at androidx.fragment.app.FragmentManager.h0(FragmentManager.java:6)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3)\n        at androidx.fragment.app.FragmentManager.m(FragmentManager.java:4)\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:1)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:6)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:1)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1435)\n        at android.app.Activity.performStart(Activity.java:8018)\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3475)\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":10721114,"reputation":1329,"user_id":7890197,"accept_rate":88,"display_name":"Badda"},"score":2,"creation_date":1632496033,"post_id":69308577,"comment_id":122516409,"body_markdown":"This error has nothing to do with Selenium and is more related to Java basics","body":"This error has nothing to do with Selenium and is more related to Java basics"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633107330,"post_id":69308577,"comment_id":122681060,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":10721114,"reputation":1329,"user_id":7890197,"accept_rate":88,"display_name":"Badda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632496485,"creation_date":1632496003,"answer_id":69317287,"question_id":69308577,"body_markdown":"The method `Duration.ofSeconds(seconds)` returns not a `int` but a `Duration`.\r\n\r\nYour error is stating that the function `parseInt(String, int)` requires an `int` as a second parameter, and that you are trying to give a `Duration` to it. \r\n\r\nHowever, what you are actually trying to do is setup a implicit wait for your Selenium Driver. To do that, you need to use the function :\r\n\r\n\tdriver.manage().timeouts().implicitlyWait(long time, TimeUnit unit)\r\n\r\nIn your case, that would be :\r\n\r\n    driver.manage().timeouts().implictlyWait(Config.getProperty(&quot;implicit.wait&quot;), TimeUnit.SECONDS);\r\n\r\nAs I am not sure what your `Config` class contains, I&#39;m not sure that the code will compile, but you should understand your mistake and be able to correct it by yourself if you understood correctly. \r\n\r\nDon&#39;t be afraid to ask questions if needed; however, you should know that you should be able to solve this kind of error which are only related to the basics of Java coding. If you still don&#39;t understand, I advise you read a few tutorial about the use of parameters in functions.\r\n\r\n","title":"Getting error : The method parseInt(String, int) in the type Integer is not applicable for the arguments (String, Duration)","body":"<p>The method <code>Duration.ofSeconds(seconds)</code> returns not a <code>int</code> but a <code>Duration</code>.</p>\n<p>Your error is stating that the function <code>parseInt(String, int)</code> requires an <code>int</code> as a second parameter, and that you are trying to give a <code>Duration</code> to it.</p>\n<p>However, what you are actually trying to do is setup a implicit wait for your Selenium Driver. To do that, you need to use the function :</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(long time, TimeUnit unit)\n</code></pre>\n<p>In your case, that would be :</p>\n<pre><code>driver.manage().timeouts().implictlyWait(Config.getProperty(&quot;implicit.wait&quot;), TimeUnit.SECONDS);\n</code></pre>\n<p>As I am not sure what your <code>Config</code> class contains, I'm not sure that the code will compile, but you should understand your mistake and be able to correct it by yourself if you understood correctly.</p>\n<p>Don't be afraid to ask questions if needed; however, you should know that you should be able to solve this kind of error which are only related to the basics of Java coding. If you still don't understand, I advise you read a few tutorial about the use of parameters in functions.</p>\n"}],"owner":{"account_id":22842675,"reputation":1,"user_id":16989410,"display_name":"Sakhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632508725,"creation_date":1632447569,"question_id":69308577,"body_markdown":"seek for your advise,\r\n\r\nGetting the error :\r\nThe method parseInt(String, int) in the type Integer is not applicable for the arguments (String, Duration)\r\n\r\nCode: Using Selenium 4\r\ndriver.manage().timeouts().implicitlyWait(Integer.parseInt(Config.getProperty(&quot;implicit.wait&quot;),Duration.ofSeconds(seconds)));","title":"Getting error : The method parseInt(String, int) in the type Integer is not applicable for the arguments (String, Duration)","body":"<p>seek for your advise,</p>\n<p>Getting the error :\nThe method parseInt(String, int) in the type Integer is not applicable for the arguments (String, Duration)</p>\n<p>Code: Using Selenium 4\ndriver.manage().timeouts().implicitlyWait(Integer.parseInt(Config.getProperty(&quot;implicit.wait&quot;),Duration.ofSeconds(seconds)));</p>\n"},{"tags":["java","spring","spring-mvc","fortify","mass-assignment"],"comments":[{"owner":{"account_id":358039,"reputation":5846,"user_id":3248158,"display_name":"derkoe"},"score":0,"creation_date":1514363747,"post_id":47945383,"comment_id":82946277,"body_markdown":"Why do you use a bean? You could just bind to a String in every method (since you only use the string anyway) E.g. findByDocName(String name)","body":"Why do you use a bean? You could just bind to a String in every method (since you only use the string anyway) E.g. findByDocName(String name)"}],"answers":[{"tags":[],"owner":{"account_id":8099621,"reputation":3911,"user_id":6103001,"display_name":"Michał Zaborowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514410377,"creation_date":1514410377,"answer_id":47998900,"question_id":47945383,"body_markdown":"Simple question - how your mapper can instantionate the bean? [Here][1] is answer / example. You can pass that data by `query parameter`, or in `header`. However that would be strange. Better is to have that methods with `@QueryParam` providing location, or name. That way it will be easier to protect your application. \r\n\r\nAs a side note, query has limited length, so if your search form is big and strange, `@POST` can be good idea, and that way you can pass all the data. For this, simple example that would be overkill. \r\n\r\n  [1]: https://blog.dejavu.sk/2014/02/11/inject-custom-java-types-via-jax-rs-parameter-annotations/","title":"How to fix Mass Assignment: Insecure Binder Configuration (API Abuse, Structural) in java","body":"<p>Simple question - how your mapper can instantionate the bean? <a href=\"https://blog.dejavu.sk/2014/02/11/inject-custom-java-types-via-jax-rs-parameter-annotations/\" rel=\"nofollow noreferrer\">Here</a> is answer / example. You can pass that data by <code>query parameter</code>, or in <code>header</code>. However that would be strange. Better is to have that methods with <code>@QueryParam</code> providing location, or name. That way it will be easier to protect your application. </p>\n\n<p>As a side note, query has limited length, so if your search form is big and strange, <code>@POST</code> can be good idea, and that way you can pass all the data. For this, simple example that would be overkill. </p>\n"},{"tags":[],"owner":{"account_id":5322213,"reputation":1420,"user_id":4245484,"display_name":"Christian Frommeyer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514885519,"creation_date":1514885519,"answer_id":48058485,"question_id":47945383,"body_markdown":"This looks like an unfortunate false positive. The rule behind this error is made to avoid that properties present in an object but not intended to be (unvalidated) user input are *accidentally* populated from a web request. An example would be a POST request creating a resource. If the request handler takes the full resource object and fills only missing properties an malicious user could populate fields that she shouldn&#39;t be able to edit.\r\n\r\nThis case however does not match the scheme. You just use the same mechanism to capture your different arguments. Additionally populated properties will not even be read. In\r\n\r\n```GET http://yourhost/findDocSearch/byName?name=Abuse&amp;zipCode=11111```\r\n\r\nthe additional zipCode would just be ignored. Therefore the assumed risk is not present here.\r\n\r\nTo *fix* the warning, you could mark it as a false positive (if this is possible inside your setup). If that is not possible you could also just map the query parameters to method arguments directly. As you only have limited parameters that should not harm too much. If this is also no option you probably need to figure out the exact algorithm your code analysis uses to figure out what checks it will recognize. Unfortunately most scanners are only  able to discover a limited set of ways to do input validation.","title":"How to fix Mass Assignment: Insecure Binder Configuration (API Abuse, Structural) in java","body":"<p>This looks like an unfortunate false positive. The rule behind this error is made to avoid that properties present in an object but not intended to be (unvalidated) user input are <em>accidentally</em> populated from a web request. An example would be a POST request creating a resource. If the request handler takes the full resource object and fills only missing properties an malicious user could populate fields that she shouldn't be able to edit.</p>\n\n<p>This case however does not match the scheme. You just use the same mechanism to capture your different arguments. Additionally populated properties will not even be read. In</p>\n\n<p><code>GET http://yourhost/findDocSearch/byName?name=Abuse&amp;zipCode=11111</code></p>\n\n<p>the additional zipCode would just be ignored. Therefore the assumed risk is not present here.</p>\n\n<p>To <em>fix</em> the warning, you could mark it as a false positive (if this is possible inside your setup). If that is not possible you could also just map the query parameters to method arguments directly. As you only have limited parameters that should not harm too much. If this is also no option you probably need to figure out the exact algorithm your code analysis uses to figure out what checks it will recognize. Unfortunately most scanners are only  able to discover a limited set of ways to do input validation.</p>\n"},{"tags":[],"owner":{"account_id":4827758,"reputation":2373,"user_id":3896780,"display_name":"Mehmet Sunkur"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1514911946,"creation_date":1514909822,"answer_id":48064311,"question_id":47945383,"body_markdown":"InitBinder can be used for methods. You can try this.\r\n    \r\n    @InitBinder(&quot;findDocByName&quot;)\r\n    public void initBinderByName(WebDataBinder binder) {\r\n        binder.setDisallowedFields(new String[]{&quot;distance&quot;,&quot;zipcode&quot;});\r\n    }\r\n\r\n\r\n    @InitBinder(&quot;findDocByLocation&quot;)\r\n    public void initBinderByZipCode(WebDataBinder binder) {\r\n        binder.setDisallowedFields(new String[]{&quot;distance&quot;,&quot;name&quot;});\r\n    }","title":"How to fix Mass Assignment: Insecure Binder Configuration (API Abuse, Structural) in java","body":"<p>InitBinder can be used for methods. You can try this.</p>\n\n<pre><code>@InitBinder(\"findDocByName\")\npublic void initBinderByName(WebDataBinder binder) {\n    binder.setDisallowedFields(new String[]{\"distance\",\"zipcode\"});\n}\n\n\n@InitBinder(\"findDocByLocation\")\npublic void initBinderByZipCode(WebDataBinder binder) {\n    binder.setDisallowedFields(new String[]{\"distance\",\"name\"});\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4569459,"reputation":89,"user_id":3709544,"display_name":"Suraj Sharma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1517842542,"creation_date":1517842542,"answer_id":48625284,"question_id":47945383,"body_markdown":"i was facing same issue, then i added below code in same rest controller class:\r\n\r\n    @InitBinder\r\n    public void populateCustomerRequest(WebDataBinder binder) {\r\n        binder.setDisallowedFields(new String[]{});\r\n    }\r\n\r\nnow its working fine for me and mass assignment issue was fixed.","title":"How to fix Mass Assignment: Insecure Binder Configuration (API Abuse, Structural) in java","body":"<p>i was facing same issue, then i added below code in same rest controller class:</p>\n\n<pre><code>@InitBinder\npublic void populateCustomerRequest(WebDataBinder binder) {\n    binder.setDisallowedFields(new String[]{});\n}\n</code></pre>\n\n<p>now its working fine for me and mass assignment issue was fixed.</p>\n"}],"owner":{"account_id":5439984,"reputation":1379,"user_id":4328321,"accept_rate":89,"display_name":"dildeepak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26526,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48064311,"answer_count":4,"score":7,"last_activity_date":1632508442,"creation_date":1513964594,"question_id":47945383,"body_markdown":"  I have a Controller class with the below two methods for finding a doctors (context changed). Getting the \r\n**Mass Assignment: Insecure Binder Configuration (API Abuse, Structural)** error on both methods. \r\n\r\n\t@Controller\r\n\t@RequestMapping(value = &quot;/findDocSearch&quot;)\r\n\tpublic class Controller {\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate IFindDocService findDocService;\r\n\t\r\n\t\t@RequestMapping(value = &quot;/byName&quot;, method = RequestMethod.GET)\r\n\t\t@ResponseBody\r\n\t\tpublic List&lt;FindDocDTO&gt; findDocByName(FindDocBean bean) {\r\n\t\t\treturn findDocService.retrieveDocByName(bean.getName());\r\n\t\t}\r\n\r\n\t\t@RequestMapping(value = &quot;/byLoc&quot;, method = RequestMethod.GET)\r\n\t\t@ResponseBody\r\n\t\tpublic List&lt;FindDocDTO&gt; findDocByLocation(FindDocBean bean) {\r\n\t\t\treturn findDocService.retrieveDocByZipCode(bean.getZipcode(),\r\n\t\t\tbean.getDistance());\r\n\t\t}\r\n\t}\r\n\r\nand my Bean is :\r\n\r\n    public class FindDocBean implements Serializable {\r\n    \tprivate static final long serialVersionUID = -1212xxxL;\r\n    \r\n    \tprivate String name;\r\n    \tprivate String zipcode;\r\n    \tprivate int distance;\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn String.format(&quot;FindDocBean[name: %s, zipcode:%s, distance:%s]&quot;,\r\n    \t\t\t\tname, zipcode, distance);\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getZipcode() {\r\n    \t\treturn zipcode;\r\n    \t}\r\n    \r\n    \tpublic void setZipcode(String zipcode) {\r\n    \t\tthis.zipcode = zipcode;\r\n    \t}\r\n    \r\n    \tpublic int getDistance() {\r\n    \t\treturn distance;\r\n    \t}\r\n    \r\n    \tpublic void setDistance(int distance) {\r\n    \t\tthis.distance = distance;\r\n    \t}\r\n\r\nAs per all the suggestions found so far, they are suggesting to restrict the bean with required parameters only by something like below :\r\n\r\n    final String[] DISALLOWED_FIELDS = new String[]{&quot;bean.name&quot;, &quot;bean.zipcode&quot;, };\r\n    \r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.setDisallowedFields(DISALLOWED_FIELDS);\r\n\r\nBut my problem is all the 3 parameters of the bean will be used in either of the method supplied on Controller.\r\n\r\nCan someone please suggest some solution for this. Thanks in advance.","title":"How to fix Mass Assignment: Insecure Binder Configuration (API Abuse, Structural) in java","body":"<p>I have a Controller class with the below two methods for finding a doctors (context changed). Getting the \n<strong>Mass Assignment: Insecure Binder Configuration (API Abuse, Structural)</strong> error on both methods. </p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/findDocSearch\")\npublic class Controller {\n\n    @Autowired\n    private IFindDocService findDocService;\n\n    @RequestMapping(value = \"/byName\", method = RequestMethod.GET)\n    @ResponseBody\n    public List&lt;FindDocDTO&gt; findDocByName(FindDocBean bean) {\n        return findDocService.retrieveDocByName(bean.getName());\n    }\n\n    @RequestMapping(value = \"/byLoc\", method = RequestMethod.GET)\n    @ResponseBody\n    public List&lt;FindDocDTO&gt; findDocByLocation(FindDocBean bean) {\n        return findDocService.retrieveDocByZipCode(bean.getZipcode(),\n        bean.getDistance());\n    }\n}\n</code></pre>\n\n<p>and my Bean is :</p>\n\n<pre><code>public class FindDocBean implements Serializable {\n    private static final long serialVersionUID = -1212xxxL;\n\n    private String name;\n    private String zipcode;\n    private int distance;\n\n    @Override\n    public String toString() {\n        return String.format(\"FindDocBean[name: %s, zipcode:%s, distance:%s]\",\n                name, zipcode, distance);\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getZipcode() {\n        return zipcode;\n    }\n\n    public void setZipcode(String zipcode) {\n        this.zipcode = zipcode;\n    }\n\n    public int getDistance() {\n        return distance;\n    }\n\n    public void setDistance(int distance) {\n        this.distance = distance;\n    }\n</code></pre>\n\n<p>As per all the suggestions found so far, they are suggesting to restrict the bean with required parameters only by something like below :</p>\n\n<pre><code>final String[] DISALLOWED_FIELDS = new String[]{\"bean.name\", \"bean.zipcode\", };\n\n@InitBinder\npublic void initBinder(WebDataBinder binder) {\n    binder.setDisallowedFields(DISALLOWED_FIELDS);\n</code></pre>\n\n<p>But my problem is all the 3 parameters of the bean will be used in either of the method supplied on Controller.</p>\n\n<p>Can someone please suggest some solution for this. Thanks in advance.</p>\n"},{"tags":["java","algorithm","math","data-structures"],"answers":[{"tags":[],"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632508408,"creation_date":1632504321,"answer_id":69319018,"question_id":69316775,"body_markdown":"You can solve the problem with a sliding window algorithm. The window&#39;s length should be `K+L`. Imagine robo1 leading, and robo2 following behind as they march across the array. \r\n\r\nAs the window moves you need to update separate sums for each robot: `sum1` and `sum2`. You also need to keep track of the best sum seen by the trailing robot: `best2`, and the best combined sum: `bestCombined`. \r\n\r\nAfter each window move, update the best results:\r\n\r\n    best2=max(best2, sum2) \r\n    bestCombined=max(bestCombined, best2+sum1)\r\n\r\nWhen the sliding window reaches the end of the array, `bestCombined` is one of two possible answers. Swap the robots, and run the algorithm again to find the other possible answer.\r\n\r\n\r\n----------\r\n\r\n\r\nHere&#39;s a sample run of the algorithm.  \r\n**First with robo1 leading (blue) and robo2 following (red):**  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Then with robo2 leading, and robo1 following:**  \r\n[![enter image description here][2]][2]\r\n\r\nThe best combined score is 24 which is achieved with robo2 leading.\r\n\r\n  [1]: https://i.stack.imgur.com/trOBX.png\r\n  [2]: https://i.stack.imgur.com/rg6Zo.png","title":"Collect Max Coins From An Array In 2 Consecutive Intervals","body":"<p>You can solve the problem with a sliding window algorithm. The window's length should be <code>K+L</code>. Imagine robo1 leading, and robo2 following behind as they march across the array.</p>\n<p>As the window moves you need to update separate sums for each robot: <code>sum1</code> and <code>sum2</code>. You also need to keep track of the best sum seen by the trailing robot: <code>best2</code>, and the best combined sum: <code>bestCombined</code>.</p>\n<p>After each window move, update the best results:</p>\n<pre><code>best2=max(best2, sum2) \nbestCombined=max(bestCombined, best2+sum1)\n</code></pre>\n<p>When the sliding window reaches the end of the array, <code>bestCombined</code> is one of two possible answers. Swap the robots, and run the algorithm again to find the other possible answer.</p>\n<hr />\n<p>Here's a sample run of the algorithm.<br />\n<strong>First with robo1 leading (blue) and robo2 following (red):</strong></p>\n<p><a href=\"https://i.stack.imgur.com/trOBX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/trOBX.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Then with robo2 leading, and robo1 following:</strong><br />\n<a href=\"https://i.stack.imgur.com/rg6Zo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rg6Zo.png\" alt=\"enter image description here\" /></a></p>\n<p>The best combined score is 24 which is achieved with robo2 leading.</p>\n"}],"owner":{"account_id":1893997,"reputation":494,"user_id":1711359,"accept_rate":50,"display_name":"Uppicharla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69319018,"answer_count":1,"score":1,"last_activity_date":1632508408,"creation_date":1632493973,"question_id":69316775,"body_markdown":"Given an array A consisting of N integers denoting the number of `coins` on each `box` in \r\nthe row, and integers K and L denoting, respectively, the number of boxes that `robo1 and robo2` can \r\nchoose when collecting, returns the maximum number of coins that can be collected by them, or -1 \r\nif there are no such intervals. \r\n\r\n&gt; For example, given A = [6, 1, 4, 6, 3, 2, 7, 4], K = 3, L = 2, your\r\n&gt; function should return 24, because robo1 can choose boxes 3 to 5 and\r\n&gt; collect 4 + 6 + 3 = 13 coins, and robo2 can choose boxes 7 to 8 and\r\n&gt; collect  7 +4 = 11 coins. Thus, they will collect 13 + 11 = 24 coins\r\n&gt; in total, and that is the maximum  number that can be achieved. \r\n&gt; \r\n&gt; Given A = [10, 19, 15], K = 2, L = 2, your function should return -1,\r\n&gt; because it is not possible for robo1 and robo2 to choose two disjoint\r\n&gt; intervals.\r\n\r\nI have written below function to collect max coins.\r\n\r\n    public static int getMaxCoins(int[] A, int K, int L) {\r\n\r\n        if(A.length&lt;K+L)\r\n            return -1;\r\n        \r\n        int highest = 0;\r\n        int lowest = 0;\r\n\r\n        if(K&gt;L){\r\n            highest = K;\r\n            lowest = L;\r\n        }\r\n        \r\n        int robo1Coins = 0;       \r\n        int remainingArray[] = null;\r\n        int part1[];\r\n        int part2[];\r\n        \r\n        int robo2Coins = 0;\r\n        \r\n        for(int i=0;i+highest&lt;=A.length;i++){\r\n            int[] sub = Arrays.copyOfRange(A, i, i+highest);\r\n            int count = IntStream.of(sub).sum();\r\n            if(count&gt;robo1Coins) {\r\n            \trobo1Coins = count;\r\n            \tpart1 = Arrays.copyOfRange(A, 0, i);\r\n            \tpart2 = Arrays.copyOfRange(A, i+highest, A.length);\r\n            \tremainingArray = IntStream.concat(Arrays.stream(part1), Arrays.stream(part2)).toArray();\r\n            }            \r\n        }\r\n        \r\n        for(int i=0;i+lowest&lt;=remainingArray.length;i++){\r\n            int[] sub = Arrays.copyOfRange(remainingArray, i, i+lowest);\r\n            int count = IntStream.of(sub).sum();\r\n            if(count&gt;robo2Coins) {\r\n            \trobo2Coins = count;\r\n            }            \r\n        }\r\n        \r\n        System.out.println(&quot;Robo1 Coins - &quot;+robo1Coins+&quot; Robo2 Coins-&quot;+robo2Coins);\r\n\r\n    return robo1Coins+robo2Coins;\r\n    }\r\n\r\nThe above solution is working fine for the given cases.\r\n\r\n&gt; But I feel my solution has few problems\r\n&gt; 1. Not optimistic/Less performant\r\n&gt; 2. Failing on edge cases\r\n&gt; 3. Not following any algorithmic approach\r\n\r\n*Please help to point out. What is the right approaches/algorithms available to solve this in more efficient manner.*","title":"Collect Max Coins From An Array In 2 Consecutive Intervals","body":"<p>Given an array A consisting of N integers denoting the number of <code>coins</code> on each <code>box</code> in\nthe row, and integers K and L denoting, respectively, the number of boxes that <code>robo1 and robo2</code> can\nchoose when collecting, returns the maximum number of coins that can be collected by them, or -1\nif there are no such intervals.</p>\n<blockquote>\n<p>For example, given A = [6, 1, 4, 6, 3, 2, 7, 4], K = 3, L = 2, your\nfunction should return 24, because robo1 can choose boxes 3 to 5 and\ncollect 4 + 6 + 3 = 13 coins, and robo2 can choose boxes 7 to 8 and\ncollect  7 +4 = 11 coins. Thus, they will collect 13 + 11 = 24 coins\nin total, and that is the maximum  number that can be achieved.</p>\n<p>Given A = [10, 19, 15], K = 2, L = 2, your function should return -1,\nbecause it is not possible for robo1 and robo2 to choose two disjoint\nintervals.</p>\n</blockquote>\n<p>I have written below function to collect max coins.</p>\n<pre><code>public static int getMaxCoins(int[] A, int K, int L) {\n\n    if(A.length&lt;K+L)\n        return -1;\n    \n    int highest = 0;\n    int lowest = 0;\n\n    if(K&gt;L){\n        highest = K;\n        lowest = L;\n    }\n    \n    int robo1Coins = 0;       \n    int remainingArray[] = null;\n    int part1[];\n    int part2[];\n    \n    int robo2Coins = 0;\n    \n    for(int i=0;i+highest&lt;=A.length;i++){\n        int[] sub = Arrays.copyOfRange(A, i, i+highest);\n        int count = IntStream.of(sub).sum();\n        if(count&gt;robo1Coins) {\n            robo1Coins = count;\n            part1 = Arrays.copyOfRange(A, 0, i);\n            part2 = Arrays.copyOfRange(A, i+highest, A.length);\n            remainingArray = IntStream.concat(Arrays.stream(part1), Arrays.stream(part2)).toArray();\n        }            \n    }\n    \n    for(int i=0;i+lowest&lt;=remainingArray.length;i++){\n        int[] sub = Arrays.copyOfRange(remainingArray, i, i+lowest);\n        int count = IntStream.of(sub).sum();\n        if(count&gt;robo2Coins) {\n            robo2Coins = count;\n        }            \n    }\n    \n    System.out.println(&quot;Robo1 Coins - &quot;+robo1Coins+&quot; Robo2 Coins-&quot;+robo2Coins);\n\nreturn robo1Coins+robo2Coins;\n}\n</code></pre>\n<p>The above solution is working fine for the given cases.</p>\n<blockquote>\n<p>But I feel my solution has few problems</p>\n<ol>\n<li>Not optimistic/Less performant</li>\n<li>Failing on edge cases</li>\n<li>Not following any algorithmic approach</li>\n</ol>\n</blockquote>\n<p><em>Please help to point out. What is the right approaches/algorithms available to solve this in more efficient manner.</em></p>\n"},{"tags":["java","caching","guava"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632447614,"post_id":69308342,"comment_id":122500945,"body_markdown":"So you would never want an entry to be evicted, except in the case where disk usage reaches some limit? And the cache *doesn&#39;t* contain the data which is in the files? And always has an entry for every file? Perhaps an actual caching library is overkill, and you could just use a Map with the last access time in its value, and scan the Map when you want to delete a file (as scanning the Map is cheap compared to any disk operation)","body":"So you would never want an entry to be evicted, except in the case where disk usage reaches some limit? And the cache <i>doesn&#39;t</i> contain the data which is in the files? And always has an entry for every file? Perhaps an actual caching library is overkill, and you could just use a Map with the last access time in its value, and scan the Map when you want to delete a file (as scanning the Map is cheap compared to any disk operation)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1632448320,"post_id":69308342,"comment_id":122501075,"body_markdown":"Why do you want a custom eviction policy?  The point of most caches is that they have their own eviction policy, smarter than what you might write yourself.","body":"Why do you want a custom eviction policy?  The point of most caches is that they have their own eviction policy, smarter than what you might write yourself."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":3,"creation_date":1632450013,"post_id":69308342,"comment_id":122501336,"body_markdown":"You need data to justify this requirement, because a [modern policy](https://github.com/ben-manes/caffeine/wiki/Efficiency) can make very smart decisions. If you can acquire traces, then you can use a [simulator](https://github.com/ben-manes/caffeine/wiki/Simulator) to look for improvement opportunities. In Guava (or Caffeine), you can use a `Weigher` that provides the file size and a `maximumWeight` to bound the cache by, and have a `RemovalListener` callback to delete the file on eviction. This would abstract the algorithms while solving your actual goal.","body":"You need data to justify this requirement, because a <a href=\"https://github.com/ben-manes/caffeine/wiki/Efficiency\" rel=\"nofollow noreferrer\">modern policy</a> can make very smart decisions. If you can acquire traces, then you can use a <a href=\"https://github.com/ben-manes/caffeine/wiki/Simulator\" rel=\"nofollow noreferrer\">simulator</a> to look for improvement opportunities. In Guava (or Caffeine), you can use a <code>Weigher</code> that provides the file size and a <code>maximumWeight</code> to bound the cache by, and have a <code>RemovalListener</code> callback to delete the file on eviction. This would abstract the algorithms while solving your actual goal."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632450307,"post_id":69308342,"comment_id":122501385,"body_markdown":"@LouisWasserman I think the reason is that the cache content is the files on disk, not the data in memory, so the in memory &#39;cache&#39; can&#39;t make eviction decisions, as it doesn&#39;t know when the storage limit has been reached.","body":"@LouisWasserman I think the reason is that the cache content is the files on disk, not the data in memory, so the in memory &#39;cache&#39; can&#39;t make eviction decisions, as it doesn&#39;t know when the storage limit has been reached."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":2,"creation_date":1632451164,"post_id":69308342,"comment_id":122501526,"body_markdown":"@tgdavies That is why a logical limit based on the entry&#39;s &quot;weight&quot; can be used instead. The cache will trigger an eviction not on the number of entries, `Map.size()`, but on the accumulated weight.","body":"@tgdavies That is why a logical limit based on the entry&#39;s &quot;weight&quot; can be used instead. The cache will trigger an eviction not on the number of entries, <code>Map.size()</code>, but on the accumulated weight."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1632451489,"post_id":69308342,"comment_id":122501564,"body_markdown":"@BenManes interesting, yes weigher and maximumWeight look like they&#39;d do what the OP wants.","body":"@BenManes interesting, yes weigher and maximumWeight look like they&#39;d do what the OP wants."},{"owner":{"account_id":5589289,"reputation":631,"user_id":4428999,"accept_rate":65,"display_name":"LearningToCode"},"score":0,"creation_date":1632501105,"post_id":69308342,"comment_id":122518423,"body_markdown":"Let me explore the Weigher and maximumWeight idea, looks promising. I think what I really want is a custom eviction trigger policy, most caches offer based on size or time and both of which don&#39;t work for my case. I don&#39;t want to implement the &#39;Map&#39; myself as I don&#39;t want to loose the eviction schemes implemented by these smart cache libraries already.","body":"Let me explore the Weigher and maximumWeight idea, looks promising. I think what I really want is a custom eviction trigger policy, most caches offer based on size or time and both of which don&#39;t work for my case. I don&#39;t want to implement the &#39;Map&#39; myself as I don&#39;t want to loose the eviction schemes implemented by these smart cache libraries already."},{"owner":{"account_id":5589289,"reputation":631,"user_id":4428999,"accept_rate":65,"display_name":"LearningToCode"},"score":0,"creation_date":1632852046,"post_id":69308342,"comment_id":122604156,"body_markdown":"The weight of a KV is a static value and determined only once at the insertion. Is there any way to make it dynamic? In my example - the weight of key varies with the current size of file and total weight is the total disk space.\nAlso, are there any other cache libraries that offer the same feature?","body":"The weight of a KV is a static value and determined only once at the insertion. Is there any way to make it dynamic? In my example - the weight of key varies with the current size of file and total weight is the total disk space. Also, are there any other cache libraries that offer the same feature?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632876461,"post_id":69308342,"comment_id":122610505,"body_markdown":"What if you `invalidate` the cache entry when the file size changes? (I&#39;m assuming that you take an action to change the file size)","body":"What if you <code>invalidate</code> the cache entry when the file size changes? (I&#39;m assuming that you take an action to change the file size)"}],"owner":{"account_id":5589289,"reputation":631,"user_id":4428999,"accept_rate":65,"display_name":"LearningToCode"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632508291,"creation_date":1632444698,"question_id":69308342,"body_markdown":"I am building a cache based storage server (in java) that accepts client requests and stores data in the corresponding files on disk. The file metadata is small and can be cached in memory. However, if the disk size reaches a limit, I would like to explicitly evict the next evictable entry in the cache. Most cache libraries offer eviction by cache size or eviction by time, however I want a custom eviction trigger policy. I don&#39;t plan on implementing any cache algorithm (if possible).\r\n\r\nI surveyed several java caching libraries but they don&#39;t provide an option for custom eviction trigger policy or a method that returns the `nextEvictableKey()`. The closest example would be guava library [here][1] but I cannot access it from the application because its at &#39;default&#39; access.\r\n\r\nAny ideas on how to solve this problem?\r\n\r\n\r\n  [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/cache/LocalCache.java#L2652","title":"Cache lib that supports custom eviction trigger or provides next evictable key","body":"<p>I am building a cache based storage server (in java) that accepts client requests and stores data in the corresponding files on disk. The file metadata is small and can be cached in memory. However, if the disk size reaches a limit, I would like to explicitly evict the next evictable entry in the cache. Most cache libraries offer eviction by cache size or eviction by time, however I want a custom eviction trigger policy. I don't plan on implementing any cache algorithm (if possible).</p>\n<p>I surveyed several java caching libraries but they don't provide an option for custom eviction trigger policy or a method that returns the <code>nextEvictableKey()</code>. The closest example would be guava library <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/cache/LocalCache.java#L2652\" rel=\"nofollow noreferrer\">here</a> but I cannot access it from the application because its at 'default' access.</p>\n<p>Any ideas on how to solve this problem?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409042681,"creation_date":1409042681,"answer_id":25501556,"question_id":25501503,"body_markdown":"You can use Quartz Scheduler. It integrates great with Spring.\r\n\r\nhttp://www.quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger\r\n\r\nhttp://www.quartz-scheduler.org/documentation/quartz-2.2.x/tutorials/tutorial-lesson-06\r\n\r\n","title":"Run a timer task on a specific day (1st of every month) using Spring","body":"<p>You can use Quartz Scheduler. It integrates great with Spring.</p>\n\n<p><a href=\"http://www.quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger\" rel=\"nofollow\">http://www.quartz-scheduler.org/documentation/quartz-1.x/tutorials/crontrigger</a></p>\n\n<p><a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.2.x/tutorials/tutorial-lesson-06\" rel=\"nofollow\">http://www.quartz-scheduler.org/documentation/quartz-2.2.x/tutorials/tutorial-lesson-06</a></p>\n"},{"tags":[],"owner":{"account_id":2647904,"reputation":2404,"user_id":2290235,"display_name":"rgrebski"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1504864374,"creation_date":1409043630,"answer_id":25501851,"question_id":25501503,"body_markdown":"If you don&#39;t have to run this job on a single node in a cluster you can use Spring Task, see:\r\nhttp://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Scheduled(cron=&quot;0 0 0 1 1/1 *&quot;)\r\n    public void doSomething() {\r\n        // something that should execute on 1st day every month @ 00:00\r\n    }\r\n\r\nFor generating cron expressions try [cronmaker.com][1]\r\n\r\n\r\n  [1]: http://www.cronmaker.com/\r\n\r\nPlease be aware that if you use this code in a cluster it will run on all nodes.","title":"Run a timer task on a specific day (1st of every month) using Spring","body":"<p>If you don't have to run this job on a single node in a cluster you can use Spring Task, see:\n<a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron=\"0 0 0 1 1/1 *\")\npublic void doSomething() {\n    // something that should execute on 1st day every month @ 00:00\n}\n</code></pre>\n\n<p>For generating cron expressions try <a href=\"http://www.cronmaker.com/\" rel=\"noreferrer\">cronmaker.com</a></p>\n\n<p>Please be aware that if you use this code in a cluster it will run on all nodes.</p>\n"},{"tags":[],"owner":{"account_id":8644989,"reputation":121,"user_id":6472461,"display_name":"C&#225;ssio Morales"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632507653,"creation_date":1632507653,"answer_id":69319593,"question_id":25501503,"body_markdown":"Since v5.3 Spring supports macros which represent commonly used sequences. See: [New in Spring 5.3: Improved Cron Expressions][1]\r\n\r\nIn your case you could use:\r\n\r\n    @Scheduled(cron = &quot;@monthly&quot;)\r\n    public void task() {\r\n        // your task\r\n    }\r\n\r\nwhich is the same as writing this:\r\n    \t\r\n    @Scheduled(cron = &quot;0 0 0 1 * *&quot;)\r\n    public void task() {\r\n        // your task\r\n    }\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions","title":"Run a timer task on a specific day (1st of every month) using Spring","body":"<p>Since v5.3 Spring supports macros which represent commonly used sequences. See: <a href=\"https://spring.io/blog/2020/11/10/new-in-spring-5-3-improved-cron-expressions\" rel=\"nofollow noreferrer\">New in Spring 5.3: Improved Cron Expressions</a></p>\n<p>In your case you could use:</p>\n<pre><code>@Scheduled(cron = &quot;@monthly&quot;)\npublic void task() {\n    // your task\n}\n</code></pre>\n<p>which is the same as writing this:</p>\n<pre><code>@Scheduled(cron = &quot;0 0 0 1 * *&quot;)\npublic void task() {\n    // your task\n}\n</code></pre>\n"}],"owner":{"account_id":2316112,"reputation":151,"user_id":2033149,"display_name":"dvrnaidu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20895,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":25501851,"answer_count":3,"score":7,"last_activity_date":1632507653,"creation_date":1409042545,"question_id":25501503,"body_markdown":"We have a requirement of running a job on 1st of every month (time: 00:00:00 AM) exactly.  \r\nWe are using Spring framework&#39;s *ScheduledTimerTask* to schedule jobs using delay and period properties. This class doesn&#39;t support running a job on specific date.\r\n\r\nCan somebody suggest, how we can solve that problem using Spring and Java technology?\r\n\r\n","title":"Run a timer task on a specific day (1st of every month) using Spring","body":"<p>We have a requirement of running a job on 1st of every month (time: 00:00:00 AM) exactly.<br>\nWe are using Spring framework's <em>ScheduledTimerTask</em> to schedule jobs using delay and period properties. This class doesn't support running a job on specific date.</p>\n\n<p>Can somebody suggest, how we can solve that problem using Spring and Java technology?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":5,"creation_date":1632506429,"post_id":69319318,"comment_id":122520173,"body_markdown":"&quot;`int [][] num = newList`&quot; that&#39;s not valid Java. Please post the actual code.","body":"&quot;<code>int [][] num = newList</code>&quot; that&#39;s not valid Java. Please post the actual code."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":2,"creation_date":1632506486,"post_id":69319318,"comment_id":122520193,"body_markdown":"Your code is not even compiling. How you are getting these values printed","body":"Your code is not even compiling. How you are getting these values printed"},{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":1,"creation_date":1632506632,"post_id":69319318,"comment_id":122520244,"body_markdown":"Please present the expected output alongside the output you&#39;re getting. Are the expected values in the int range?","body":"Please present the expected output alongside the output you&#39;re getting. Are the expected values in the int range?"}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632506856,"creation_date":1632506856,"answer_id":69319460,"question_id":69319318,"body_markdown":"In your String **Inodes = IUsed + IFree**. When you find with the matcher one by one in each iteration all 3 values **Inodes, IUsed, IFree** are getting picked up. So each iteration is printing **Inodes + IUsed + IFree**. That&#39;s why you are getting double values here. \r\n\r\nSo your code should be like this:\r\n\r\n    public static void main(String[] args) throws JSONException {\r\n        String strHDD = &quot;df -i\\n&quot; + &quot;Filesystem                    Inodes  IUsed    IFree IUse% Mounted on\\n&quot;\r\n            + &quot;/dev/mapper/vg0-rootvol       719488  42967   676521    6% /\\n&quot;\r\n            + &quot;devtmpfs                     4093600    436  4093164    1% /dev\\n&quot;\r\n            + &quot;tmpfs                        4096453      1  4096452    1% /dev/shm\\n&quot;\r\n            + &quot;tmpfs                        4096453   1384  4095069    1% /run\\n&quot;\r\n            + &quot;tmpfs                        4096453     16  4096437    1% /sys/fs/cgroup\\n&quot;\r\n            + &quot;/dev/sda1                      32768    351    32417    2% /boot\\n&quot;\r\n            + &quot;/dev/mapper/vg0-optvol        327680  19465   308215    6% /opt\\n&quot;\r\n            + &quot;/dev/mapper/vg0-homevol       131072    322   130750    1% /home\\n&quot;\r\n            + &quot;/dev/mapper/vg0-tmpvol        131072    166   130906    1% /tmp\\n&quot;\r\n            + &quot;/dev/mapper/vg0-varvol        327680   4486   323194    2% /var\\n&quot;\r\n            + &quot;/dev/mapper/vg0-logvol        131072    163   130909    1% /var/log\\n&quot;\r\n            + &quot;/dev/mapper/vg0-auditvol      327680     34   327646    1% /var/log/audit\\n&quot;\r\n            + &quot;/dev/mapper/vg1-optSPvol    32768000 156936 32611064    1% /opt/SP\\n&quot;\r\n            + &quot;/dev/mapper/vg0-varcrashvol  1048576     11  1048565    1% /var/crash\\n&quot;\r\n            + &quot;tmpfs                        4096453      1  4096452    1% /run/user/10603\\n&quot;;\r\n    \r\n        String strRegex = &quot;(\\\\d+)\\\\s+(\\\\d+\\\\s+(\\\\d+)(?=\\\\s+\\\\d+\\\\%))&quot;;\r\n        Pattern pattern = Pattern.compile(strRegex);\r\n        Matcher matcher = pattern.matcher(strHDD);\r\n        int columTotal = 0;\r\n        while (matcher.find()) {\r\n    \r\n          String[] stringArray = matcher.group().split(&quot;\\\\s+&quot;);\r\n    \r\n          List&lt;String&gt; list = Arrays.asList(stringArray);\r\n    \r\n          List&lt;Integer&gt; newList = list.stream().map(s -&gt; Integer.parseInt(s)).collect(Collectors.toList());\r\n    \r\n          columTotal += newList.get(0);\r\n          System.out.println(&quot;Value to add : &quot; + newList.get(0));\r\n          \r\n        }\r\n        System.out.println(&quot;Total : &quot; + columTotal);\r\n      }\r\n\r\n\r\n**Result:**\r\n\r\n    Value to add : 719488\r\n    Value to add : 4093600\r\n    Value to add : 4096453\r\n    Value to add : 4096453\r\n    Value to add : 4096453\r\n    Value to add : 32768\r\n    Value to add : 327680\r\n    Value to add : 131072\r\n    Value to add : 131072\r\n    Value to add : 327680\r\n    Value to add : 131072\r\n    Value to add : 327680\r\n    Value to add : 32768000\r\n    Value to add : 1048576\r\n    Value to add : 4096453\r\n    Total : 56424500","title":"Why i can&#39;t sum an ArrayList Integer colum?","body":"<p>In your String <strong>Inodes = IUsed + IFree</strong>. When you find with the matcher one by one in each iteration all 3 values <strong>Inodes, IUsed, IFree</strong> are getting picked up. So each iteration is printing <strong>Inodes + IUsed + IFree</strong>. That's why you are getting double values here.</p>\n<p>So your code should be like this:</p>\n<pre><code>public static void main(String[] args) throws JSONException {\n    String strHDD = &quot;df -i\\n&quot; + &quot;Filesystem                    Inodes  IUsed    IFree IUse% Mounted on\\n&quot;\n        + &quot;/dev/mapper/vg0-rootvol       719488  42967   676521    6% /\\n&quot;\n        + &quot;devtmpfs                     4093600    436  4093164    1% /dev\\n&quot;\n        + &quot;tmpfs                        4096453      1  4096452    1% /dev/shm\\n&quot;\n        + &quot;tmpfs                        4096453   1384  4095069    1% /run\\n&quot;\n        + &quot;tmpfs                        4096453     16  4096437    1% /sys/fs/cgroup\\n&quot;\n        + &quot;/dev/sda1                      32768    351    32417    2% /boot\\n&quot;\n        + &quot;/dev/mapper/vg0-optvol        327680  19465   308215    6% /opt\\n&quot;\n        + &quot;/dev/mapper/vg0-homevol       131072    322   130750    1% /home\\n&quot;\n        + &quot;/dev/mapper/vg0-tmpvol        131072    166   130906    1% /tmp\\n&quot;\n        + &quot;/dev/mapper/vg0-varvol        327680   4486   323194    2% /var\\n&quot;\n        + &quot;/dev/mapper/vg0-logvol        131072    163   130909    1% /var/log\\n&quot;\n        + &quot;/dev/mapper/vg0-auditvol      327680     34   327646    1% /var/log/audit\\n&quot;\n        + &quot;/dev/mapper/vg1-optSPvol    32768000 156936 32611064    1% /opt/SP\\n&quot;\n        + &quot;/dev/mapper/vg0-varcrashvol  1048576     11  1048565    1% /var/crash\\n&quot;\n        + &quot;tmpfs                        4096453      1  4096452    1% /run/user/10603\\n&quot;;\n\n    String strRegex = &quot;(\\\\d+)\\\\s+(\\\\d+\\\\s+(\\\\d+)(?=\\\\s+\\\\d+\\\\%))&quot;;\n    Pattern pattern = Pattern.compile(strRegex);\n    Matcher matcher = pattern.matcher(strHDD);\n    int columTotal = 0;\n    while (matcher.find()) {\n\n      String[] stringArray = matcher.group().split(&quot;\\\\s+&quot;);\n\n      List&lt;String&gt; list = Arrays.asList(stringArray);\n\n      List&lt;Integer&gt; newList = list.stream().map(s -&gt; Integer.parseInt(s)).collect(Collectors.toList());\n\n      columTotal += newList.get(0);\n      System.out.println(&quot;Value to add : &quot; + newList.get(0));\n      \n    }\n    System.out.println(&quot;Total : &quot; + columTotal);\n  }\n</code></pre>\n<p><strong>Result:</strong></p>\n<pre><code>Value to add : 719488\nValue to add : 4093600\nValue to add : 4096453\nValue to add : 4096453\nValue to add : 4096453\nValue to add : 32768\nValue to add : 327680\nValue to add : 131072\nValue to add : 131072\nValue to add : 327680\nValue to add : 131072\nValue to add : 327680\nValue to add : 32768000\nValue to add : 1048576\nValue to add : 4096453\nTotal : 56424500\n</code></pre>\n"}],"owner":{"account_id":18899223,"reputation":81,"user_id":13787632,"display_name":"Fabio Ochoa Restrepo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":69319460,"answer_count":1,"score":-2,"last_activity_date":1632506936,"creation_date":1632506058,"question_id":69319318,"body_markdown":"I&#39;m new to java and I can&#39;t figure it out, any tips?\r\n\r\n\r\n\r\n   \r\n\r\nI&#39;m trying to sum all this numbers\r\n\r\nlike 719488 + 4093600 + 4096453 + 4096453 + 4096453 = Something\r\n\r\nThe result I&#39;m getting is:\r\n\r\n    1438976\r\n    8187200\r\n    8192906\r\n    8192906\r\n    8192906\r\n    65536\r\n    655360\r\n    262144\r\n    262144\r\n    655360\r\n    262144\r\n    655360\r\n    65536000\r\n    2097152\r\n    8192906\r\n\r\nBasically is multiplicating by 2 each number in each line by its own value.\r\n\r\nPlease, I need help.\r\nThank you \r\n\r\n\r\nadding more info:\r\n\r\n    String strHDD = &quot;df -i\\n&quot; +\r\n            &quot;Filesystem                    Inodes  IUsed    IFree IUse% Mounted on\\n&quot; +\r\n            &quot;/dev/mapper/vg0-rootvol       719488  42967   676521    6% /\\n&quot; +\r\n            &quot;devtmpfs                     4093600    436  4093164    1% /dev\\n&quot; +\r\n            &quot;tmpfs                        4096453      1  4096452    1% /dev/shm\\n&quot; +\r\n            &quot;tmpfs                        4096453   1384  4095069    1% /run\\n&quot; +\r\n            &quot;tmpfs                        4096453     16  4096437    1% /sys/fs/cgroup\\n&quot; +\r\n            &quot;/dev/sda1                      32768    351    32417    2% /boot\\n&quot; +\r\n            &quot;/dev/mapper/vg0-optvol        327680  19465   308215    6% /opt\\n&quot; +\r\n            &quot;/dev/mapper/vg0-homevol       131072    322   130750    1% /home\\n&quot; +\r\n            &quot;/dev/mapper/vg0-tmpvol        131072    166   130906    1% /tmp\\n&quot; +\r\n            &quot;/dev/mapper/vg0-varvol        327680   4486   323194    2% /var\\n&quot; +\r\n            &quot;/dev/mapper/vg0-logvol        131072    163   130909    1% /var/log\\n&quot; +\r\n            &quot;/dev/mapper/vg0-auditvol      327680     34   327646    1% /var/log/audit\\n&quot; +\r\n            &quot;/dev/mapper/vg1-optSPvol    32768000 156936 32611064    1% /opt/SP\\n&quot; +\r\n            &quot;/dev/mapper/vg0-varcrashvol  1048576     11  1048565    1% /var/crash\\n&quot; +\r\n            &quot;tmpfs                        4096453      1  4096452    1% /run/user/10603\\n&quot; +\r\n            &quot;[1;31mvg1108yr:resolve:[0m/opt/SP/resolve \\$&quot;\r\n    \r\n          String strRegex = &quot;(\\\\d+)\\\\s+(\\\\d+\\\\s+(\\\\d+)(?=\\\\s+\\\\d+\\\\%))&quot;\r\n          Pattern pattern = Pattern.compile(strRegex);\r\n          Matcher matcher = pattern.matcher(strHDD);\r\n          while (matcher.find()) {\r\n    \r\n        String[] stringArray = matcher.group().split(&quot;\\\\s+&quot;)\r\n    \r\n              List&lt;String&gt; list = Arrays.asList(stringArray)\r\n    \r\n              List&lt;Integer&gt; newList = list.stream()\r\n                      .map(s -&gt; Integer.parseInt(s))\r\n                      .collect(Collectors.toList());\r\n    \r\n    \r\n              int [][] num = newList\r\n    \r\n              int columTotal = 0\r\n    \r\n              for (int i = 0; i &lt; num.length; i++){\r\n                  columTotal += num[i][0]\r\n              }\r\n              println(newList)\r\n    \r\n    \r\n    \r\n    }\r\n\r\noutput:\r\n\r\n    [719488, 42967, 676521]\r\n    [4093600, 436, 4093164]\r\n    [4096453, 1, 4096452]\r\n    [4096453, 1384, 4095069]\r\n    [4096453, 16, 4096437]\r\n    [32768, 351, 32417]\r\n    [327680, 19465, 308215]\r\n    [131072, 322, 130750]\r\n    [131072, 166, 130906]\r\n    [327680, 4486, 323194]\r\n    [131072, 163, 130909]\r\n    [327680, 34, 327646]\r\n    [32768000, 156936, 32611064]\r\n    [1048576, 11, 1048565]\r\n    [4096453, 1, 4096452]\r\n    \r\n    Process finished with exit code 0\r\nor:\r\n\r\n    int columTotal = 0\r\n    \r\n              for (int i = 0; i &lt; num.length; i++){\r\n                  columTotal += num[i][0]\r\n              }\r\n              println(columTotal)\r\n\r\n    1438976\r\n    8187200\r\n    8192906\r\n    8192906\r\n    8192906\r\n    65536\r\n    655360\r\n    262144\r\n    262144\r\n    655360\r\n    262144\r\n    655360\r\n    65536000\r\n    2097152\r\n    8192906\r\n    \r\n    Process finished with exit code 0\r\n\r\nBut it never sums only multiply by two ","title":"Why i can&#39;t sum an ArrayList Integer colum?","body":"<p>I'm new to java and I can't figure it out, any tips?</p>\n<p>I'm trying to sum all this numbers</p>\n<p>like 719488 + 4093600 + 4096453 + 4096453 + 4096453 = Something</p>\n<p>The result I'm getting is:</p>\n<pre><code>1438976\n8187200\n8192906\n8192906\n8192906\n65536\n655360\n262144\n262144\n655360\n262144\n655360\n65536000\n2097152\n8192906\n</code></pre>\n<p>Basically is multiplicating by 2 each number in each line by its own value.</p>\n<p>Please, I need help.\nThank you</p>\n<p>adding more info:</p>\n<pre><code>String strHDD = &quot;df -i\\n&quot; +\n        &quot;Filesystem                    Inodes  IUsed    IFree IUse% Mounted on\\n&quot; +\n        &quot;/dev/mapper/vg0-rootvol       719488  42967   676521    6% /\\n&quot; +\n        &quot;devtmpfs                     4093600    436  4093164    1% /dev\\n&quot; +\n        &quot;tmpfs                        4096453      1  4096452    1% /dev/shm\\n&quot; +\n        &quot;tmpfs                        4096453   1384  4095069    1% /run\\n&quot; +\n        &quot;tmpfs                        4096453     16  4096437    1% /sys/fs/cgroup\\n&quot; +\n        &quot;/dev/sda1                      32768    351    32417    2% /boot\\n&quot; +\n        &quot;/dev/mapper/vg0-optvol        327680  19465   308215    6% /opt\\n&quot; +\n        &quot;/dev/mapper/vg0-homevol       131072    322   130750    1% /home\\n&quot; +\n        &quot;/dev/mapper/vg0-tmpvol        131072    166   130906    1% /tmp\\n&quot; +\n        &quot;/dev/mapper/vg0-varvol        327680   4486   323194    2% /var\\n&quot; +\n        &quot;/dev/mapper/vg0-logvol        131072    163   130909    1% /var/log\\n&quot; +\n        &quot;/dev/mapper/vg0-auditvol      327680     34   327646    1% /var/log/audit\\n&quot; +\n        &quot;/dev/mapper/vg1-optSPvol    32768000 156936 32611064    1% /opt/SP\\n&quot; +\n        &quot;/dev/mapper/vg0-varcrashvol  1048576     11  1048565    1% /var/crash\\n&quot; +\n        &quot;tmpfs                        4096453      1  4096452    1% /run/user/10603\\n&quot; +\n        &quot;[1;31mvg1108yr:resolve:[0m/opt/SP/resolve \\$&quot;\n\n      String strRegex = &quot;(\\\\d+)\\\\s+(\\\\d+\\\\s+(\\\\d+)(?=\\\\s+\\\\d+\\\\%))&quot;\n      Pattern pattern = Pattern.compile(strRegex);\n      Matcher matcher = pattern.matcher(strHDD);\n      while (matcher.find()) {\n\n    String[] stringArray = matcher.group().split(&quot;\\\\s+&quot;)\n\n          List&lt;String&gt; list = Arrays.asList(stringArray)\n\n          List&lt;Integer&gt; newList = list.stream()\n                  .map(s -&gt; Integer.parseInt(s))\n                  .collect(Collectors.toList());\n\n\n          int [][] num = newList\n\n          int columTotal = 0\n\n          for (int i = 0; i &lt; num.length; i++){\n              columTotal += num[i][0]\n          }\n          println(newList)\n\n\n\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[719488, 42967, 676521]\n[4093600, 436, 4093164]\n[4096453, 1, 4096452]\n[4096453, 1384, 4095069]\n[4096453, 16, 4096437]\n[32768, 351, 32417]\n[327680, 19465, 308215]\n[131072, 322, 130750]\n[131072, 166, 130906]\n[327680, 4486, 323194]\n[131072, 163, 130909]\n[327680, 34, 327646]\n[32768000, 156936, 32611064]\n[1048576, 11, 1048565]\n[4096453, 1, 4096452]\n\nProcess finished with exit code 0\n</code></pre>\n<p>or:</p>\n<pre><code>int columTotal = 0\n\n          for (int i = 0; i &lt; num.length; i++){\n              columTotal += num[i][0]\n          }\n          println(columTotal)\n\n1438976\n8187200\n8192906\n8192906\n8192906\n65536\n655360\n262144\n262144\n655360\n262144\n655360\n65536000\n2097152\n8192906\n\nProcess finished with exit code 0\n</code></pre>\n<p>But it never sums only multiply by two</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":7881653,"reputation":305,"user_id":5955398,"display_name":"Amir Abbas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569392715,"creation_date":1569392715,"answer_id":58092266,"question_id":58092204,"body_markdown":"you can use this code in kotlin:\r\n\r\n    measureTimeMillis{\r\n        methodA()\r\n    }\r\n\r\nmeasureTimeMillis (as well as measureNanoTime) is a standard library function","title":"How to check performance time in java/kotlin?","body":"<p>you can use this code in kotlin:</p>\n\n<pre><code>measureTimeMillis{\n    methodA()\n}\n</code></pre>\n\n<p>measureTimeMillis (as well as measureNanoTime) is a standard library function</p>\n"},{"tags":[],"owner":{"account_id":11994192,"reputation":412,"user_id":8776305,"display_name":"Bhoomin Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569393172,"creation_date":1569393172,"answer_id":58092373,"question_id":58092204,"body_markdown":"you can check performance time in Profiler tab in Android Studio which is located above the status bar.","title":"How to check performance time in java/kotlin?","body":"<p>you can check performance time in Profiler tab in Android Studio which is located above the status bar.</p>\n"},{"tags":[],"owner":{"account_id":10697077,"reputation":1555,"user_id":7873768,"display_name":"MDT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632506161,"creation_date":1632506161,"answer_id":69319338,"question_id":58092204,"body_markdown":"**KOTLIN INLINE SOLUTION** \r\n\r\nLate for OP but may help others.\r\n\r\n*This solution will help folks who want to log and execute function inline same time after execution completes, also is a cleaner approach when there is multiple performance measurement involved of different functions*\r\n\r\nCreate functions as such:\r\n\r\n    //the inline performance measurement method\r\n    private inline fun &lt;T&gt; measurePerformanceInMS(\r\n            logger: (Long) -&gt; Unit,\r\n            function: () -&gt; T)\r\n    : T {\r\n        val startTime = System.currentTimeMillis()\r\n        val result: T = function.invoke()\r\n        val endTime = System.currentTimeMillis()\r\n        logger.invoke( endTime - startTime)\r\n        return result\r\n    }\r\n    \r\n    //the logger function\r\n    fun logPerf(time: Long){\r\n        Log.d(&quot;TAG&quot;,&quot;PERFORMANCE IN MS: $time ms &quot;)\r\n    }\r\n    \r\n    //the function whose performance needs to be checked\r\n    fun longRunningFunction() : Int{\r\n        var x = 0\r\n        for (i in 1..20000) x++\r\n        return x\r\n    }\r\n\r\nThis way you can keep logging, performance computation and function execution under a single function call and no code replication needed.\r\n\r\nIf you require nano second measurement then use `System.nanoTime()`\r\n\r\n**USAGE** : \r\n\r\n    val endResult = measurePerformanceInMS({time -&gt; logPerf(time)}){\r\n                longRunningFunction()\r\n            }\r\n\r\n**NOTE** : here the *&#39;endResult&#39;* will carry the result of function whose performance was being measured.\r\n\r\n","title":"How to check performance time in java/kotlin?","body":"<p><strong>KOTLIN INLINE SOLUTION</strong></p>\n<p>Late for OP but may help others.</p>\n<p><em>This solution will help folks who want to log and execute function inline same time after execution completes, also is a cleaner approach when there is multiple performance measurement involved of different functions</em></p>\n<p>Create functions as such:</p>\n<pre><code>//the inline performance measurement method\nprivate inline fun &lt;T&gt; measurePerformanceInMS(\n        logger: (Long) -&gt; Unit,\n        function: () -&gt; T)\n: T {\n    val startTime = System.currentTimeMillis()\n    val result: T = function.invoke()\n    val endTime = System.currentTimeMillis()\n    logger.invoke( endTime - startTime)\n    return result\n}\n\n//the logger function\nfun logPerf(time: Long){\n    Log.d(&quot;TAG&quot;,&quot;PERFORMANCE IN MS: $time ms &quot;)\n}\n\n//the function whose performance needs to be checked\nfun longRunningFunction() : Int{\n    var x = 0\n    for (i in 1..20000) x++\n    return x\n}\n</code></pre>\n<p>This way you can keep logging, performance computation and function execution under a single function call and no code replication needed.</p>\n<p>If you require nano second measurement then use <code>System.nanoTime()</code></p>\n<p><strong>USAGE</strong> :</p>\n<pre><code>val endResult = measurePerformanceInMS({time -&gt; logPerf(time)}){\n            longRunningFunction()\n        }\n</code></pre>\n<p><strong>NOTE</strong> : here the <em>'endResult'</em> will carry the result of function whose performance was being measured.</p>\n"}],"owner":{"account_id":2189290,"reputation":2657,"user_id":1936853,"accept_rate":0,"display_name":"yoonhok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1652,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1632506161,"creation_date":1569392436,"question_id":58092204,"body_markdown":"I want to check the performance time.\r\n\r\nI have an android app, but there is a claim about the performance.\r\n\r\nSo I am researching where is the slow part.\r\n\r\nTo do this, I add some logs like below:\r\n\r\n``` kotlin\r\nfun methodA() {\r\n    Log.d(TAG, &quot;start... &quot;)\r\n    \r\n    // my business logic\r\n\r\n    Log.d(TAG, &quot;end... &quot;)\r\n}\r\n```\r\n\r\nSo I can find the run time of the method.\r\n\r\nBut now, I want to know how to get the run time of the library method?\r\n\r\nIn the case of my app code, I can add the logging.\r\nBut I don&#39;t know how to check the library.\r\n\r\nIs there any good solution?","title":"How to check performance time in java/kotlin?","body":"<p>I want to check the performance time.</p>\n\n<p>I have an android app, but there is a claim about the performance.</p>\n\n<p>So I am researching where is the slow part.</p>\n\n<p>To do this, I add some logs like below:</p>\n\n<pre><code>fun methodA() {\n    Log.d(TAG, \"start... \")\n\n    // my business logic\n\n    Log.d(TAG, \"end... \")\n}\n</code></pre>\n\n<p>So I can find the run time of the method.</p>\n\n<p>But now, I want to know how to get the run time of the library method?</p>\n\n<p>In the case of my app code, I can add the logging.\nBut I don't know how to check the library.</p>\n\n<p>Is there any good solution?</p>\n"},{"tags":["java","selenium","xpath","webdriver"],"comments":[{"owner":{"account_id":14936451,"reputation":379,"user_id":10784315,"display_name":"Kazi"},"score":0,"creation_date":1632500315,"post_id":69318208,"comment_id":122518141,"body_markdown":"Could you please show us the HTML code of the website?","body":"Could you please show us the HTML code of the website?"},{"owner":{"account_id":14777225,"reputation":29,"user_id":10671769,"display_name":"Blue Fire"},"score":0,"creation_date":1632500382,"post_id":69318208,"comment_id":122518166,"body_markdown":"@Kazi https://atcoder.jp/contests/abc205/submissions this page for example\nAnd is wants to get the data of the table in it. i used xpath but I found that I differ from time to time wich cases errors","body":"@Kazi <a href=\"https://atcoder.jp/contests/abc205/submissions\" rel=\"nofollow noreferrer\">atcoder.jp/contests/abc205/submissions</a> this page for example And is wants to get the data of the table in it. i used xpath but I found that I differ from time to time wich cases errors"},{"owner":{"account_id":14936451,"reputation":379,"user_id":10784315,"display_name":"Kazi"},"score":0,"creation_date":1632500562,"post_id":69318208,"comment_id":122518229,"body_markdown":"&quot;//*[@id=&quot;main-container&quot;]/div[1]/div[3]/div[2]/div[2]/table&quot; \n\nThis xpath should always be there. Could you please check and confirm?","body":"&quot;//*[@id=&quot;main-container&quot;]/div[1]/div[3]/div[2]/div[2]/table&zwnj;&#8203;&quot;   This xpath should always be there. Could you please check and confirm?"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1632500813,"post_id":69318208,"comment_id":122518320,"body_markdown":"@BlueFire : which element you are looking to extract  ?","body":"@BlueFire : which element you are looking to extract  ?"},{"owner":{"account_id":14777225,"reputation":29,"user_id":10671769,"display_name":"Blue Fire"},"score":0,"creation_date":1632500968,"post_id":69318208,"comment_id":122518368,"body_markdown":"@Kazi but sometimes it becomes &quot;//*[@id=&quot;main-container&quot;]/div[1]/div[3]/div[1]/div[2]/table&quot; because the number of pages is not shown in some cases and in other cases there is another element at the top of the table wich changes its xpath. \nI tried to test every xpath but I am trying to find a more stable way than this","body":"@Kazi but sometimes it becomes &quot;//*[@id=&quot;main-container&quot;]/div[1]/div[3]/div[1]/div[2]/table&zwnj;&#8203;&quot; because the number of pages is not shown in some cases and in other cases there is another element at the top of the table wich changes its xpath.  I tried to test every xpath but I am trying to find a more stable way than this"},{"owner":{"account_id":14777225,"reputation":29,"user_id":10671769,"display_name":"Blue Fire"},"score":0,"creation_date":1632501045,"post_id":69318208,"comment_id":122518406,"body_markdown":"@cruisepandey the upper (first element) element of the column status","body":"@cruisepandey the upper (first element) element of the column status"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1632501273,"post_id":69318208,"comment_id":122518477,"body_markdown":"did not get which element is that ? can you upload a screenshot of the same ? not sure if this is the one `//div[@class=&#39;table-responsive&#39;]/table`","body":"did not get which element is that ? can you upload a screenshot of the same ? not sure if this is the one <code>&#47;&#47;div[@class=&#39;table-responsive&#39;]&#47;table</code>"},{"owner":{"account_id":14777225,"reputation":29,"user_id":10671769,"display_name":"Blue Fire"},"score":0,"creation_date":1632501377,"post_id":69318208,"comment_id":122518506,"body_markdown":"@cruisepandey this worked with me thanks alot. I was waiting to make your answer accepted","body":"@cruisepandey this worked with me thanks alot. I was waiting to make your answer accepted"}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632501097,"creation_date":1632501097,"answer_id":69318414,"question_id":69318208,"body_markdown":"I see a div and then we have a child table, please use the below xpath :\r\n\r\n    //div[@class=&#39;table-responsive&#39;]/table","title":"How to find the xpath of element of a web page that located by it&#39;s class name | Java selenuim","body":"<p>I see a div and then we have a child table, please use the below xpath :</p>\n<pre><code>//div[@class='table-responsive']/table\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632506140,"creation_date":1632506140,"answer_id":69319334,"question_id":69318208,"body_markdown":"Below `xPath` returns all the row values of the table.\r\n\r\n```\r\n//div[@class=&#39;table-responsive&#39;]/table/tbody/tr\r\n```\r\n\r\n&gt; how to deal with such elements that its xpath differs from time to\r\n&gt; time?\r\n\r\nIf a `xPath` value partially dynamic I would suggest you to us `contains` method. For an example, \r\n\r\n`&lt;input class = &quot;User1235&quot;&gt;`\r\n\r\nIn above `xPath` the value 1235 is dynamic in this case you can create a `xPath` with `contains` \r\n\r\n```\r\n//input[contains(@class,&#39;User&#39;)]","title":"How to find the xpath of element of a web page that located by it&#39;s class name | Java selenuim","body":"<p>Below <code>xPath</code> returns all the row values of the table.</p>\n<pre><code>//div[@class='table-responsive']/table/tbody/tr\n</code></pre>\n<blockquote>\n<p>how to deal with such elements that its xpath differs from time to\ntime?</p>\n</blockquote>\n<p>If a <code>xPath</code> value partially dynamic I would suggest you to us <code>contains</code> method. For an example,</p>\n<p><code>&lt;input class = &quot;User1235&quot;&gt;</code></p>\n<p>In above <code>xPath</code> the value 1235 is dynamic in this case you can create a <code>xPath</code> with <code>contains</code></p>\n<pre><code>//input[contains(@class,'User')]\n</code></pre>\n"}],"owner":{"account_id":14777225,"reputation":29,"user_id":10671769,"display_name":"Blue Fire"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69318414,"answer_count":2,"score":1,"last_activity_date":1632506140,"creation_date":1632500083,"question_id":69318208,"body_markdown":"I have a table on a web page that its xpath differs from time to time but its class name doesn&#39;t. so I can handle it by its class name but my code needs the xpath of that element so how to get the xpath of that element?\r\n**OR** how to deal with such elements that its xpath differs from time to time?\r\n\r\n        String xpath = &quot;here sould be the xpath of that element&quot;;\r\n        wait_page_loading(By.xpath(table_xpath)); //this other function in my class wait the page loading\r\n        WebElement Webtable = driver.findElement(By.xpath(table_xpath));\r\n        List&lt;WebElement&gt; totalRowCount = Webtable.findElements(By.xpath(table_xpath + &quot;/tbody/tr&quot;));\r\n        if(totalRowCount.size() &lt;= 1) {\r\n            throw new Exception(&quot;Can&#39;t find results in the problem page&quot;);\r\n        }\r\n        return totalRowCount.get(0).findElements(By.xpath(&quot;td&quot;)).get(6).getText();\r\n\r\n*Thanks a lot in advance.*","title":"How to find the xpath of element of a web page that located by it&#39;s class name | Java selenuim","body":"<p>I have a table on a web page that its xpath differs from time to time but its class name doesn't. so I can handle it by its class name but my code needs the xpath of that element so how to get the xpath of that element?\n<strong>OR</strong> how to deal with such elements that its xpath differs from time to time?</p>\n<pre><code>    String xpath = &quot;here sould be the xpath of that element&quot;;\n    wait_page_loading(By.xpath(table_xpath)); //this other function in my class wait the page loading\n    WebElement Webtable = driver.findElement(By.xpath(table_xpath));\n    List&lt;WebElement&gt; totalRowCount = Webtable.findElements(By.xpath(table_xpath + &quot;/tbody/tr&quot;));\n    if(totalRowCount.size() &lt;= 1) {\n        throw new Exception(&quot;Can't find results in the problem page&quot;);\n    }\n    return totalRowCount.get(0).findElements(By.xpath(&quot;td&quot;)).get(6).getText();\n</code></pre>\n<p><em>Thanks a lot in advance.</em></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16266234,"reputation":1914,"user_id":11746212,"display_name":"IronMan"},"score":1,"creation_date":1567611921,"post_id":57791791,"comment_id":102016913,"body_markdown":"Hi! `x` and `i` are initialized to 0. The value of `x` doesn&#39;t change when you modify `i`. Perhaps you would prefer calling a method on your `Calculator` object to compute the `sqrt` using the current value of `i`?","body":"Hi! <code>x</code> and <code>i</code> are initialized to 0. The value of <code>x</code> doesn&#39;t change when you modify <code>i</code>. Perhaps you would prefer calling a method on your <code>Calculator</code> object to compute the <code>sqrt</code> using the current value of <code>i</code>?"},{"owner":{"account_id":418208,"reputation":503,"user_id":794638,"accept_rate":57,"display_name":"sinned"},"score":0,"creation_date":1567613631,"post_id":57791791,"comment_id":102017822,"body_markdown":"Math.sqrt is only called on initialization, not after you&#39;ve assigned a value to i. Put it in a method with a parameter and call it when you want it calculated.","body":"Math.sqrt is only called on initialization, not after you&#39;ve assigned a value to i. Put it in a method with a parameter and call it when you want it calculated."},{"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"score":0,"creation_date":1567613850,"post_id":57791791,"comment_id":102017914,"body_markdown":"You can’t do it this way in Java; you need a method to compute the square root. (You could do this in C++ by the way).","body":"You can’t do it this way in Java; you need a method to compute the square root. (You could do this in C++ by the way)."}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1567617917,"creation_date":1567617917,"answer_id":57793202,"question_id":57791791,"body_markdown":"When you create new object of `Calculator` class using new keyword, both class level variables i and x are initialized considering default values. double i will be initialized with 0.0 and double x is initialized with resolving Math.sqrt(i) as 0.0 (where i is 0.0).\r\n\r\nTill here i is 0.0 and x is 0.0. When at next line you assign 55 to i, then the updated value for i is 55. But the value of x is not re-calculated, so x is still 0.0.\r\n\r\nIf you want to get x updated to after after assigning new value to i. Either use setter method to set i and in that setter method update the value of x as well. Like:\r\n\r\n    public void setI(double i) {\r\n         this.i = i;\r\n         this.x = Math.sqrt(i);\r\n    }\r\n\r\nor during printing of x, get the value of x using getter method. Like:\r\n\r\n    public double getX() {\r\n         this.x = Math.sqrt(i);\r\n         return x;\r\n    }\r\n\r\n**As well as per OOPS concepts variable should be accessed using getter/setter methods and variable should be private.**","title":"BAD : JAVA Math.sqrt(i) tends to 0","body":"<p>When you create new object of <code>Calculator</code> class using new keyword, both class level variables i and x are initialized considering default values. double i will be initialized with 0.0 and double x is initialized with resolving Math.sqrt(i) as 0.0 (where i is 0.0).</p>\n\n<p>Till here i is 0.0 and x is 0.0. When at next line you assign 55 to i, then the updated value for i is 55. But the value of x is not re-calculated, so x is still 0.0.</p>\n\n<p>If you want to get x updated to after after assigning new value to i. Either use setter method to set i and in that setter method update the value of x as well. Like:</p>\n\n<pre><code>public void setI(double i) {\n     this.i = i;\n     this.x = Math.sqrt(i);\n}\n</code></pre>\n\n<p>or during printing of x, get the value of x using getter method. Like:</p>\n\n<pre><code>public double getX() {\n     this.x = Math.sqrt(i);\n     return x;\n}\n</code></pre>\n\n<p><strong>As well as per OOPS concepts variable should be accessed using getter/setter methods and variable should be private.</strong></p>\n"}],"owner":{"account_id":16633360,"reputation":3,"user_id":12020692,"display_name":"shubham kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1632506043,"creation_date":1567611685,"question_id":57791791,"body_markdown":"This code is giving me 0.00 as output, what&#39;s wrong?\r\n\r\n```lang-java\r\nimport java.lang.Math;\r\n\r\nclass Calculator\r\n{\r\n\tdouble i;\r\n\tdouble x = Math.sqrt(i);\r\n}\r\n\r\n\r\npublic class p_4 \r\n{\r\n\tpublic static void main(String[] args) \r\n    {\r\n\t\tCalculator a=new Calculator();\r\n\t\ta.i=55;\r\n\t\tSystem.out.println(&quot;square root is &quot;+a.x); // this is printing 0.00 why ?\r\n\t\t\r\n\t}\r\n}\r\n```","title":"BAD : JAVA Math.sqrt(i) tends to 0","body":"<p>This code is giving me 0.00 as output, what's wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.Math;\n\nclass Calculator\n{\n    double i;\n    double x = Math.sqrt(i);\n}\n\n\npublic class p_4 \n{\n    public static void main(String[] args) \n    {\n        Calculator a=new Calculator();\n        a.i=55;\n        System.out.println(&quot;square root is &quot;+a.x); // this is printing 0.00 why ?\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","android","service","android-notifications","exoplayer"],"comments":[{"owner":{"account_id":22773148,"reputation":6705,"user_id":16930239,"display_name":"user16930239"},"score":0,"creation_date":1632504986,"post_id":69318953,"comment_id":122519680,"body_markdown":"is this helpful? [Android 11&#39;s media controls can be completely dismissed after the December patch](https://www.androidpolice.com/2020/12/14/android-11s-media-controls-can-be-completely-dismissed-after-the-december-patch/)","body":"is this helpful? <a href=\"https://www.androidpolice.com/2020/12/14/android-11s-media-controls-can-be-completely-dismissed-after-the-december-patch/\" rel=\"nofollow noreferrer\">Android 11&#39;s media controls can be completely dismissed after the December patch</a>"},{"owner":{"display_name":"user13674724"},"score":0,"creation_date":1632505140,"post_id":69318953,"comment_id":122519726,"body_markdown":"@Jabbar Actually this is something else what you have shared. My problem is the notification gets disappear after sometime from posting the notification","body":"@Jabbar Actually this is something else what you have shared. My problem is the notification gets disappear after sometime from posting the notification"}],"answers":[{"tags":[],"owner":{"account_id":22773148,"reputation":6705,"user_id":16930239,"display_name":"user16930239"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632506041,"creation_date":1632506041,"answer_id":69319317,"question_id":69318953,"body_markdown":"add `setChannelNameResourceId​(channelNameResourceId)` and `setChannelImportance​(NotificationUtil.IMPORTANCE_HIGH)` ","title":"Service notification automatically gets hidden after few minutes in Android 11","body":"<p>add <code>setChannelNameResourceId​(channelNameResourceId)</code> and <code>setChannelImportance​(NotificationUtil.IMPORTANCE_HIGH)</code></p>\n"}],"owner":{"display_name":"user13674724"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632506041,"creation_date":1632503989,"question_id":69318953,"body_markdown":"I am having a music player which shows notification using Exoplayer&#39;s Player Notification Manager from a service but the notification is automatically getting hidden after some minutes of posting. Again the notification gets shown once the state of the player gets changed, for example if I pause the audio the notification reappears on its own. I have tested it using default android&#39;s notification also but still having the same issue. \r\nBelow is the code used in the project -\r\n\r\n\r\n\r\n    private void createNotification() {\r\n        PlayerNotificationManager.NotificationListener listener = new PlayerNotificationManager.NotificationListener() {\r\n            @Override\r\n            public void onNotificationCancelled(int notificationId, boolean dismissedByUser) {\r\n                stopSelf();\r\n            }\r\n\r\n            @Override\r\n            public void onNotificationPosted(int notificationId, Notification notification, boolean ongoing) {\r\n                startForeground(notificationId, notification);\r\n            }\r\n        };\r\n        playerNotificationManager = new PlayerNotificationManager.Builder(this, NOTIFICATION_ID, NOTIFICATION_CHANNEL)\r\n                .setMediaDescriptionAdapter(new DescriptionAdapter())\r\n                .setNotificationListener(listener)\r\n                .setCustomActionReceiver(new CustomActionReceiver())\r\n                .build();\r\n            mediaSession = new MediaSessionCompat(getApplicationContext(), getResources().getString(R.string.app_name));\r\n            mediaSession.setActive(true);\r\n            playerNotificationManager.setMediaSessionToken(mediaSession.getSessionToken());\r\n            mediaSessionConnector = new MediaSessionConnector(mediaSession);\r\n            mediaSessionConnector.setPlayer(Constant.exoPlayer);\r\n            playerNotificationManager.setPlayer(Constant.exoPlayer);\r\n       }\r\n\r\n\r\n I am calling the above method from `onCreate()` of the service.\r\n\r\nCan anyone please help me in this. I am not getting any idea to solve it from last 2 days.","title":"Service notification automatically gets hidden after few minutes in Android 11","body":"<p>I am having a music player which shows notification using Exoplayer's Player Notification Manager from a service but the notification is automatically getting hidden after some minutes of posting. Again the notification gets shown once the state of the player gets changed, for example if I pause the audio the notification reappears on its own. I have tested it using default android's notification also but still having the same issue.\nBelow is the code used in the project -</p>\n<pre><code>private void createNotification() {\n    PlayerNotificationManager.NotificationListener listener = new PlayerNotificationManager.NotificationListener() {\n        @Override\n        public void onNotificationCancelled(int notificationId, boolean dismissedByUser) {\n            stopSelf();\n        }\n\n        @Override\n        public void onNotificationPosted(int notificationId, Notification notification, boolean ongoing) {\n            startForeground(notificationId, notification);\n        }\n    };\n    playerNotificationManager = new PlayerNotificationManager.Builder(this, NOTIFICATION_ID, NOTIFICATION_CHANNEL)\n            .setMediaDescriptionAdapter(new DescriptionAdapter())\n            .setNotificationListener(listener)\n            .setCustomActionReceiver(new CustomActionReceiver())\n            .build();\n        mediaSession = new MediaSessionCompat(getApplicationContext(), getResources().getString(R.string.app_name));\n        mediaSession.setActive(true);\n        playerNotificationManager.setMediaSessionToken(mediaSession.getSessionToken());\n        mediaSessionConnector = new MediaSessionConnector(mediaSession);\n        mediaSessionConnector.setPlayer(Constant.exoPlayer);\n        playerNotificationManager.setPlayer(Constant.exoPlayer);\n   }\n</code></pre>\n<p>I am calling the above method from <code>onCreate()</code> of the service.</p>\n<p>Can anyone please help me in this. I am not getting any idea to solve it from last 2 days.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":0,"creation_date":1429243058,"post_id":29689914,"comment_id":47516726,"body_markdown":"The output is not `Midpoint is 16 OR 14`. Please can you check again.","body":"The output is not <code>Midpoint is 16 OR 14</code>. Please can you check again."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1429244735,"post_id":29689914,"comment_id":47517203,"body_markdown":"You are basically asking the difference between pre-increment and post-increment, and pre-decrement and post-decrement.","body":"You are basically asking the difference between pre-increment and post-increment, and pre-decrement and post-decrement."},{"owner":{"account_id":4180297,"reputation":41806,"user_id":3425536,"accept_rate":72,"display_name":"Emil Laine"},"score":0,"creation_date":1429246382,"post_id":29689914,"comment_id":47517751,"body_markdown":"Consider increasing the line spacing in your editor so you don&#39;t have to put an empty line between each line of code.","body":"Consider increasing the line spacing in your editor so you don&#39;t have to put an empty line between each line of code."}],"answers":[{"tags":[],"owner":{"account_id":6156167,"reputation":492,"user_id":4799108,"accept_rate":100,"display_name":"Slow Trout"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429242561,"creation_date":1429242561,"answer_id":29689934,"question_id":29689914,"body_markdown":"If you have i = 1 and j = 2. The first one compares 2 &lt; 1 and the second one compares 1 &lt; 2. (In the first one the decrementation/incrementation are done before the comparing, while in the second one they are done after the comparison)","title":"What is difference between while(++i &lt; --j) &amp; while(i++&lt;j--)?","body":"<p>If you have i = 1 and j = 2. The first one compares 2 &lt; 1 and the second one compares 1 &lt; 2. (In the first one the decrementation/incrementation are done before the comparing, while in the second one they are done after the comparison)</p>\n"},{"tags":[],"owner":{"account_id":931282,"reputation":13327,"user_id":961125,"accept_rate":83,"display_name":"Sashi Kant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429243084,"creation_date":1429242628,"answer_id":29689941,"question_id":29689914,"body_markdown":"The `++` before any variable present in an expression indicates that increment has to be made before the expression executes.\r\n\r\nFor example \r\n\r\n    int i=2;\r\n    int x = ++i + 2\r\nHere since `++` is present before i, so first there will be an increment on **i**, and then the expression will be executed.\r\nThe steps involved is :\r\n\r\nStep 1 :\r\n\r\n    ++i : i=(i+1) = 3\r\nStep2:\r\n\r\n    int x = ++i + 2 = 3+2=5\r\nSo after this expression executes : **x=5 and i=3**\r\n\r\nBut if you consider post increment:\r\n\r\nFor example:\r\n\r\n     int i=2;\r\n     int x = i++ + 2;\r\n\r\nThis means that increment will happen after the line is executed.\r\nThe steps are:\r\n\r\nStep 1 :\r\n\r\n    int x = i++ + 2 = 2 + 2 =4; // i is still 2 here since the increment didn&#39;t happen by now\r\n\r\nStep 2:\r\n\r\n    i++ : i=i+1 = 3;\r\n\r\nSo after the execution **x=4 and i=3**\r\n\r\n \r\n","title":"What is difference between while(++i &lt; --j) &amp; while(i++&lt;j--)?","body":"<p>The <code>++</code> before any variable present in an expression indicates that increment has to be made before the expression executes.</p>\n\n<p>For example </p>\n\n<pre><code>int i=2;\nint x = ++i + 2\n</code></pre>\n\n<p>Here since <code>++</code> is present before i, so first there will be an increment on <strong>i</strong>, and then the expression will be executed.\nThe steps involved is :</p>\n\n<p>Step 1 :</p>\n\n<pre><code>++i : i=(i+1) = 3\n</code></pre>\n\n<p>Step2:</p>\n\n<pre><code>int x = ++i + 2 = 3+2=5\n</code></pre>\n\n<p>So after this expression executes : <strong>x=5 and i=3</strong></p>\n\n<p>But if you consider post increment:</p>\n\n<p>For example:</p>\n\n<pre><code> int i=2;\n int x = i++ + 2;\n</code></pre>\n\n<p>This means that increment will happen after the line is executed.\nThe steps are:</p>\n\n<p>Step 1 :</p>\n\n<pre><code>int x = i++ + 2 = 2 + 2 =4; // i is still 2 here since the increment didn't happen by now\n</code></pre>\n\n<p>Step 2:</p>\n\n<pre><code>i++ : i=i+1 = 3;\n</code></pre>\n\n<p>So after the execution <strong>x=4 and i=3</strong></p>\n"},{"tags":[],"owner":{"account_id":4548442,"reputation":1382,"user_id":3694267,"accept_rate":56,"display_name":"HJK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429243655,"creation_date":1429243104,"answer_id":29690005,"question_id":29689914,"body_markdown":"    ++i\r\nYou could think something like increment the value and then use the incremented value in the expression\r\n\r\n    i++\r\nUse the value in the expression before it gets incremented\r\n\r\nSay we have the following code:\r\n    \r\n    int i = 100;\r\n    int j = ++i + 50;  // statement 1\r\nHere `j` would have a value of 151, saying increment `i` first and then evaluate the expression, so 101+50.\r\n\r\nLets way we have\r\n \r\n    int j = i++ + 50;  // statement 2\r\nHere `j` would have a value of 150, saying evaluate the expression first, then increment the value `i`\r\n\r\nHowever, `i` would be 101 after executing the second statement\r\n","title":"What is difference between while(++i &lt; --j) &amp; while(i++&lt;j--)?","body":"<pre><code>++i\n</code></pre>\n\n<p>You could think something like increment the value and then use the incremented value in the expression</p>\n\n<pre><code>i++\n</code></pre>\n\n<p>Use the value in the expression before it gets incremented</p>\n\n<p>Say we have the following code:</p>\n\n<pre><code>int i = 100;\nint j = ++i + 50;  // statement 1\n</code></pre>\n\n<p>Here <code>j</code> would have a value of 151, saying increment <code>i</code> first and then evaluate the expression, so 101+50.</p>\n\n<p>Lets way we have</p>\n\n<pre><code>int j = i++ + 50;  // statement 2\n</code></pre>\n\n<p>Here <code>j</code> would have a value of 150, saying evaluate the expression first, then increment the value <code>i</code></p>\n\n<p>However, <code>i</code> would be 101 after executing the second statement</p>\n"},{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632505891,"creation_date":1429244782,"answer_id":29690297,"question_id":29689914,"body_markdown":"Its all about precedence, in java every operator has a precedence, **pre-increment** has very high precedence while **post-increment** come at last as compared to other operators. ","title":"What is difference between while(++i &lt; --j) &amp; while(i++&lt;j--)?","body":"<p>Its all about precedence, in java every operator has a precedence, <strong>pre-increment</strong> has very high precedence while <strong>post-increment</strong> come at last as compared to other operators.</p>\n"},{"tags":[],"owner":{"account_id":366493,"reputation":81,"user_id":712064,"display_name":"sbm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429246116,"creation_date":1429246116,"answer_id":29690558,"question_id":29689914,"body_markdown":"Basic difference between pre and post should be applied here.\r\n\r\nPre increment operator ++i : equivalent to replacing i with i+1 and using result in the expression.\r\n\r\n    while(++i &lt; --j);\r\n    //read as while( (i_new = i_old+1) &lt; (j_new =j_old -1) );\r\n    //In next expression i will be value of i_new and j value will be j_new\r\n\r\nPost increment operator i++ : equivalent to using the same value of i in the current expression. And in the next immediate expression use the increased value. \r\n\r\n    while(i++ &lt; j--);\r\n    //read as while( (i_old &lt; j_old );\r\n    //In next expression(even in next iteration of same above while) i will be value of i_old+1 and j value will be j_old-1\r\n\r\n","title":"What is difference between while(++i &lt; --j) &amp; while(i++&lt;j--)?","body":"<p>Basic difference between pre and post should be applied here.</p>\n\n<p>Pre increment operator ++i : equivalent to replacing i with i+1 and using result in the expression.</p>\n\n<pre><code>while(++i &lt; --j);\n//read as while( (i_new = i_old+1) &lt; (j_new =j_old -1) );\n//In next expression i will be value of i_new and j value will be j_new\n</code></pre>\n\n<p>Post increment operator i++ : equivalent to using the same value of i in the current expression. And in the next immediate expression use the increased value. </p>\n\n<pre><code>while(i++ &lt; j--);\n//read as while( (i_old &lt; j_old );\n//In next expression(even in next iteration of same above while) i will be value of i_old+1 and j value will be j_old-1\n</code></pre>\n"}],"owner":{"account_id":6124166,"reputation":1,"user_id":4776748,"display_name":"Poonam Patil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2506,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":5,"score":-3,"last_activity_date":1632505891,"creation_date":1429242412,"question_id":29689914,"body_markdown":"I try this below program which find midpoint between two no.\r\n\r\n    class FindMidPoint\r\n    \r\n    {\r\n    \r\n    public static void main(String args[])\r\n    \r\n    {\r\n    \r\n    int i, j;\r\n    \r\n    i = 100;\r\n    \r\n    j = 200;\r\n    \r\n    \r\n    // find midpoint between i and j\r\n    \r\n    while(++i &lt; --j) ;\r\n    \r\n    System.out.println(&quot;Midpoint is &quot; + i+&quot; OR &quot;+j);\r\n    \r\n    }\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    Midpoint is 150 OR 150\r\n    \r\n    But If I make changing in while condition that is\r\n    \r\n    while(i++&lt;j--)\r\n    \r\n    Then output is:\r\n    \r\n    Midpoint is 16 OR 14\r\n\r\nI also refer the below Link then also I&#39;m not understanding the difference between ++i &amp; i++ in this program.\r\n\r\nhttps://stackoverflow.com/questions/2315705/what-is-the-difference-between-i-i-in-for-loop-java\r\n\r\nPlease explain me if anyone have idea about.\r\n\r\n","title":"What is difference between while(++i &lt; --j) &amp; while(i++&lt;j--)?","body":"<p>I try this below program which find midpoint between two no.</p>\n\n<pre><code>class FindMidPoint\n\n{\n\npublic static void main(String args[])\n\n{\n\nint i, j;\n\ni = 100;\n\nj = 200;\n\n\n// find midpoint between i and j\n\nwhile(++i &lt; --j) ;\n\nSystem.out.println(\"Midpoint is \" + i+\" OR \"+j);\n\n}\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Midpoint is 150 OR 150\n\nBut If I make changing in while condition that is\n\nwhile(i++&lt;j--)\n\nThen output is:\n\nMidpoint is 16 OR 14\n</code></pre>\n\n<p>I also refer the below Link then also I'm not understanding the difference between ++i &amp; i++ in this program.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2315705/what-is-the-difference-between-i-i-in-for-loop-java\">what is the difference between i++ &amp; ++i in for loop (Java)?</a></p>\n\n<p>Please explain me if anyone have idea about.</p>\n"},{"tags":["java","button","javafx","colors","javafx-11"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1632458566,"post_id":69309635,"comment_id":122502575,"body_markdown":"So what you have is actually two concepts.  You have a concept of &quot;colors&quot; and a concept of &quot;displayed colors&quot;.  This is pretty much the bases for &quot;model/view/controller&quot; concept, which JavaFX is based on.  So, you start by figuring out how to &quot;model&quot; the colors in some meaningful way and then you figure out how a view might visualise that model.  This should also lead you down the path of using an &quot;observer&quot; to monitor changes to the model so the view can be updated when the model changes","body":"So what you have is actually two concepts.  You have a concept of &quot;colors&quot; and a concept of &quot;displayed colors&quot;.  This is pretty much the bases for &quot;model/view/controller&quot; concept, which JavaFX is based on.  So, you start by figuring out how to &quot;model&quot; the colors in some meaningful way and then you figure out how a view might visualise that model.  This should also lead you down the path of using an &quot;observer&quot; to monitor changes to the model so the view can be updated when the model changes"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632505492,"creation_date":1632504138,"answer_id":69318984,"question_id":69309635,"body_markdown":"#### Solution strategy\r\n\r\nThis solution uses the strategy suggested by MadProgrammer in comments:\r\n\r\n&gt; So what you have is actually two concepts. You have a concept of &quot;colors&quot; and a concept of &quot;displayed colors&quot;. This is pretty much the bases for &quot;model/view/controller&quot; concept, which JavaFX is based on. So, you start by figuring out how to &quot;model&quot; the colors in some meaningful way and then you figure out how a view might visualise that model. This should also lead you down the path of using an &quot;observer&quot; to monitor changes to the model so the view can be updated when the model changes \r\n\r\n[![screenshot][1]][1]\r\n\r\n#### How the solution works\r\n\r\nThe solution provides:\r\n\r\n 1. A ColorModel class with two `ObjectProperty&lt;Color&gt;` objects:\r\n   * `primaryColor` and `secondaryColor`. \r\n\r\n 2. Two color pickers, that allow the user to select colors to update in the model.\r\n\r\n 3. Two rectangular display swatches that depend on the color model and, when it changes, change their color in response.\r\n\r\n 4. Enforcement of the color change rules outlined in your question:\r\n  * If the secondary color changes, it is the only color that changes.  \r\n  * If the primary color changes, the secondary color is set to the old value of the primary color.\r\n\r\n 5. Bi-direction bindings between the color picker values and the model update the model when new colors are picked and update the picked colors when the model changes. \r\n\r\n 6. Uni-directional bindings to the color model colors update the fills of the swatches when the model changes.\r\n\r\n 7. A change listener defined in the color model for the primary color property enforces the rule to update the secondary color when the primary color changes.\r\n\r\n#### Example code\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.*;\r\n    import javafx.geometry.HPos;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.ColorPicker;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.paint.*;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ColorSelector extends Application {\r\n    \r\n        private static final Color INIT_COLOR = Color.GRAY;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            ColorModel colorModel = new ColorModel(INIT_COLOR, INIT_COLOR);\r\n    \r\n            ColorPicker[] colorPickers = {\r\n                    new ColorPicker(INIT_COLOR),\r\n                    new ColorPicker(INIT_COLOR)\r\n            };\r\n    \r\n            Rectangle[] swatches = {\r\n                    new Rectangle(50, 50, INIT_COLOR),\r\n                    new Rectangle(50, 50, INIT_COLOR)\r\n            };\r\n    \r\n            bindColorModel(colorModel, colorPickers, swatches);\r\n    \r\n            GridPane layout = layoutScene(colorPickers, swatches);\r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        private GridPane layoutScene(\r\n                ColorPicker[] colorPickers, \r\n                Rectangle[] swatches\r\n        ) {\r\n            GridPane layout = new GridPane();\r\n            layout.setHgap(10);\r\n            layout.setVgap(10);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            layout.addRow(0, colorPickers);\r\n            layout.addRow(1, swatches);\r\n            \r\n            layout.getChildren().forEach(child -&gt;\r\n                    GridPane.setHalignment(\r\n                            child,\r\n                            HPos.CENTER)\r\n            );\r\n    \r\n            return layout;\r\n        }\r\n    \r\n        private void bindColorModel(\r\n                ColorModel colorModel,\r\n                ColorPicker[] colorPickers,\r\n                Rectangle[] swatches\r\n        ) {\r\n            // because the pickers can change the colors in the model,\r\n            // we bidirectionally bind the colors in the model with the picker values.\r\n            colorModel.primaryColorProperty().bindBidirectional(\r\n                    colorPickers[0].valueProperty()\r\n            );\r\n            colorModel.secondaryColorProperty().bindBidirectional(\r\n                    colorPickers[1].valueProperty()\r\n            );\r\n    \r\n            // the swatches cannot change the colors in the model,\r\n            // so we only need a standard unidirectional bind.\r\n            swatches[0].fillProperty().bind(\r\n                    colorModel.primaryColorProperty()\r\n            );\r\n            swatches[1].fillProperty().bind(\r\n                    colorModel.secondaryColorProperty()\r\n            );\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n    \r\n    \r\n    class ColorModel {\r\n        private final ObjectProperty&lt;Color&gt; primaryColor;\r\n        private final ObjectProperty&lt;Color&gt; secondaryColor;\r\n    \r\n        public ColorModel(Color initPrimaryColor, Color initSecondaryColor) {\r\n            primaryColor = new SimpleObjectProperty&lt;&gt;(initPrimaryColor);\r\n            secondaryColor = new SimpleObjectProperty&lt;&gt;(initSecondaryColor);\r\n    \r\n            primaryColor.addListener(\r\n                    (observable, oldValue, newValue) -&gt;\r\n                            secondaryColor.set(oldValue)\r\n            );\r\n        }\r\n    \r\n        public Color getPrimaryColor() {\r\n            return primaryColor.get();\r\n        }\r\n    \r\n        public ObjectProperty&lt;Color&gt; primaryColorProperty() {\r\n            return primaryColor;\r\n        }\r\n    \r\n        public void setPrimaryColor(Color primaryColor) {\r\n            this.primaryColor.set(primaryColor);\r\n        }\r\n    \r\n        public Color getSecondaryColor() {\r\n            return secondaryColor.get();\r\n        }\r\n    \r\n        public ObjectProperty&lt;Color&gt; secondaryColorProperty() {\r\n            return secondaryColor;\r\n        }\r\n    \r\n        public void setSecondaryColor(Color secondaryColor) {\r\n            this.secondaryColor.set(secondaryColor);\r\n        }\r\n    }\r\n\r\n#### Why use a separate model for this\r\n\r\nThis could have been done without the abstraction of a separate model (by using and binding and listeners of the picker value properties and swatch fill properties).  \r\n\r\nHowever, the addition of the color model provides a bit more flexibility and separation of concerns:\r\n\r\n 1. It is also more scalable as you could bind anything you want to the values of the color model, so it could be used not just to update the swatches, but other items as well.\r\n\r\n 2. The model values could be independently saved and persisted to store and restore state.\r\n\r\n 3. You change the model and have the values automatically reflected in all relevant places in the UI, without having to directly refer to any UI components.\r\n\r\n 3. There are likely other benefits to this approach.\r\n\r\n\r\n#### Integrating a custom color chooser\r\n\r\nIn your example code, you don&#39;t use the standard JavaFX color pickers to allow the user to choose colors.  That is fine if that is best for your user experience.  \r\n\r\nTo integrate a custom color chooser into the solution outlined in this answer:\r\n\r\n 1. Create a class to represent your custom color chooser widgets.\r\n 2. Expose a value property for the currently selected color for the widget (similarly to how the standard color picker exposes a bindable color value property).\r\n 3. Appropriately bind to the new value property in the same way that this solution binds to the standard color picker value property.\r\n\r\nYour custom color chooser widgets could extend the standard JavaFX Control class, but that is more complex to implement, than not extending control and isn&#39;t strictly necessary to solve this problem.\r\n\r\nI won&#39;t provide additional code here to demonstrate integration of a custom color chooser solution.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gwLFn.png","title":"How do I add and store my custom color to a square in JavaFX when a button is clicked?","body":"<h4>Solution strategy</h4>\n<p>This solution uses the strategy suggested by MadProgrammer in comments:</p>\n<blockquote>\n<p>So what you have is actually two concepts. You have a concept of &quot;colors&quot; and a concept of &quot;displayed colors&quot;. This is pretty much the bases for &quot;model/view/controller&quot; concept, which JavaFX is based on. So, you start by figuring out how to &quot;model&quot; the colors in some meaningful way and then you figure out how a view might visualise that model. This should also lead you down the path of using an &quot;observer&quot; to monitor changes to the model so the view can be updated when the model changes</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/gwLFn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gwLFn.png\" alt=\"screenshot\" /></a></p>\n<h4>How the solution works</h4>\n<p>The solution provides:</p>\n<ol>\n<li>A ColorModel class with two <code>ObjectProperty&lt;Color&gt;</code> objects:</li>\n</ol>\n<ul>\n<li><code>primaryColor</code> and <code>secondaryColor</code>.</li>\n</ul>\n<ol start=\"2\">\n<li><p>Two color pickers, that allow the user to select colors to update in the model.</p>\n</li>\n<li><p>Two rectangular display swatches that depend on the color model and, when it changes, change their color in response.</p>\n</li>\n<li><p>Enforcement of the color change rules outlined in your question:</p>\n</li>\n</ol>\n<ul>\n<li>If the secondary color changes, it is the only color that changes.</li>\n<li>If the primary color changes, the secondary color is set to the old value of the primary color.</li>\n</ul>\n<ol start=\"5\">\n<li><p>Bi-direction bindings between the color picker values and the model update the model when new colors are picked and update the picked colors when the model changes.</p>\n</li>\n<li><p>Uni-directional bindings to the color model colors update the fills of the swatches when the model changes.</p>\n</li>\n<li><p>A change listener defined in the color model for the primary color property enforces the rule to update the secondary color when the primary color changes.</p>\n</li>\n</ol>\n<h4>Example code</h4>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.*;\nimport javafx.geometry.HPos;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ColorPicker;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.paint.*;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\npublic class ColorSelector extends Application {\n\n    private static final Color INIT_COLOR = Color.GRAY;\n\n    @Override\n    public void start(Stage stage) {\n        ColorModel colorModel = new ColorModel(INIT_COLOR, INIT_COLOR);\n\n        ColorPicker[] colorPickers = {\n                new ColorPicker(INIT_COLOR),\n                new ColorPicker(INIT_COLOR)\n        };\n\n        Rectangle[] swatches = {\n                new Rectangle(50, 50, INIT_COLOR),\n                new Rectangle(50, 50, INIT_COLOR)\n        };\n\n        bindColorModel(colorModel, colorPickers, swatches);\n\n        GridPane layout = layoutScene(colorPickers, swatches);\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    private GridPane layoutScene(\n            ColorPicker[] colorPickers, \n            Rectangle[] swatches\n    ) {\n        GridPane layout = new GridPane();\n        layout.setHgap(10);\n        layout.setVgap(10);\n        layout.setPadding(new Insets(10));\n\n        layout.addRow(0, colorPickers);\n        layout.addRow(1, swatches);\n        \n        layout.getChildren().forEach(child -&gt;\n                GridPane.setHalignment(\n                        child,\n                        HPos.CENTER)\n        );\n\n        return layout;\n    }\n\n    private void bindColorModel(\n            ColorModel colorModel,\n            ColorPicker[] colorPickers,\n            Rectangle[] swatches\n    ) {\n        // because the pickers can change the colors in the model,\n        // we bidirectionally bind the colors in the model with the picker values.\n        colorModel.primaryColorProperty().bindBidirectional(\n                colorPickers[0].valueProperty()\n        );\n        colorModel.secondaryColorProperty().bindBidirectional(\n                colorPickers[1].valueProperty()\n        );\n\n        // the swatches cannot change the colors in the model,\n        // so we only need a standard unidirectional bind.\n        swatches[0].fillProperty().bind(\n                colorModel.primaryColorProperty()\n        );\n        swatches[1].fillProperty().bind(\n                colorModel.secondaryColorProperty()\n        );\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\n\nclass ColorModel {\n    private final ObjectProperty&lt;Color&gt; primaryColor;\n    private final ObjectProperty&lt;Color&gt; secondaryColor;\n\n    public ColorModel(Color initPrimaryColor, Color initSecondaryColor) {\n        primaryColor = new SimpleObjectProperty&lt;&gt;(initPrimaryColor);\n        secondaryColor = new SimpleObjectProperty&lt;&gt;(initSecondaryColor);\n\n        primaryColor.addListener(\n                (observable, oldValue, newValue) -&gt;\n                        secondaryColor.set(oldValue)\n        );\n    }\n\n    public Color getPrimaryColor() {\n        return primaryColor.get();\n    }\n\n    public ObjectProperty&lt;Color&gt; primaryColorProperty() {\n        return primaryColor;\n    }\n\n    public void setPrimaryColor(Color primaryColor) {\n        this.primaryColor.set(primaryColor);\n    }\n\n    public Color getSecondaryColor() {\n        return secondaryColor.get();\n    }\n\n    public ObjectProperty&lt;Color&gt; secondaryColorProperty() {\n        return secondaryColor;\n    }\n\n    public void setSecondaryColor(Color secondaryColor) {\n        this.secondaryColor.set(secondaryColor);\n    }\n}\n</code></pre>\n<h4>Why use a separate model for this</h4>\n<p>This could have been done without the abstraction of a separate model (by using and binding and listeners of the picker value properties and swatch fill properties).</p>\n<p>However, the addition of the color model provides a bit more flexibility and separation of concerns:</p>\n<ol>\n<li><p>It is also more scalable as you could bind anything you want to the values of the color model, so it could be used not just to update the swatches, but other items as well.</p>\n</li>\n<li><p>The model values could be independently saved and persisted to store and restore state.</p>\n</li>\n<li><p>You change the model and have the values automatically reflected in all relevant places in the UI, without having to directly refer to any UI components.</p>\n</li>\n<li><p>There are likely other benefits to this approach.</p>\n</li>\n</ol>\n<h4>Integrating a custom color chooser</h4>\n<p>In your example code, you don't use the standard JavaFX color pickers to allow the user to choose colors.  That is fine if that is best for your user experience.</p>\n<p>To integrate a custom color chooser into the solution outlined in this answer:</p>\n<ol>\n<li>Create a class to represent your custom color chooser widgets.</li>\n<li>Expose a value property for the currently selected color for the widget (similarly to how the standard color picker exposes a bindable color value property).</li>\n<li>Appropriately bind to the new value property in the same way that this solution binds to the standard color picker value property.</li>\n</ol>\n<p>Your custom color chooser widgets could extend the standard JavaFX Control class, but that is more complex to implement, than not extending control and isn't strictly necessary to solve this problem.</p>\n<p>I won't provide additional code here to demonstrate integration of a custom color chooser solution.</p>\n"}],"owner":{"account_id":20829755,"reputation":5,"user_id":15299335,"display_name":"old-boysenberry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632505492,"creation_date":1632458258,"question_id":69309635,"body_markdown":"When I click on &quot;change color&quot; button, it should add the custom color(made using RGB sliders),to the first square(left one), then after I choose a second custom color and click on &quot;change color&quot; button, should move the first color to the second square(right one) and put the new custom color in the first square(left one). I should be able to do it multiple times thus repeating the cycle. It only need to show and store the last two custom colors I choose (the most recent two colors).\r\nI tried different ways but couldn&#39;t get it right. I have provided a clean working code below.\r\n\r\n\r\n    package com.example.tester;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.Slider;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.scene.shape.StrokeType;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.text.DecimalFormat;\r\n    \r\n    public class colormade extends Application {\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            GridPane root = new GridPane();\r\n    \r\n            GridPane grid = new GridPane();\r\n            grid.setPadding(new Insets(10, 10, 10, 10));\r\n            grid.setVgap(10);\r\n            grid.setHgap(70);\r\n    \r\n            //Circle creation\r\n            Circle circle = new Circle(150, Color.rgb(0,0,0));\r\n            circle.setStrokeType(StrokeType.CENTERED);\r\n            circle.setOpacity(0.5);\r\n            circle.minHeight(150);\r\n            circle.minWidth(170);\r\n            circle.setStroke(Color.web(&quot;black&quot;));\r\n            circle.setStrokeWidth(5);\r\n    \r\n            //rectangle 1\r\n            Rectangle rectangle = new Rectangle();\r\n            rectangle.setWidth(50);\r\n            rectangle.setHeight(50);\r\n            rectangle.setStroke(Color.web(&quot;blue&quot;));\r\n            rectangle.setFill(Color.GRAY);\r\n            grid.add(rectangle,4,0);\r\n    \r\n            //rectangle 2\r\n            Rectangle rectangle1 = new Rectangle();\r\n            rectangle1.setWidth(50);\r\n            rectangle1.setHeight(50);\r\n            rectangle1.setStroke(Color.web(&quot;blue&quot;));\r\n            rectangle1.setFill(Color.GRAY);\r\n            grid.add(rectangle1,5,0);\r\n    \r\n            root.getChildren().add(rectangle);\r\n            root.getChildren().add(rectangle1);\r\n    \r\n            //adding circle to root group\r\n            root.getChildren().add(circle);\r\n    \r\n            //Opacity Slider\r\n            Slider opacity = new Slider();\r\n            opacity.setMin(0);\r\n            opacity.setValue(0.5);\r\n            opacity.setMax(1);\r\n            Text opacitylevel = new Text(&quot;0.5&quot;);\r\n            javafx.scene.control.Label opacityCaption = new Label(&quot;Opacity Level:&quot;);\r\n            grid.add(opacityCaption,0,1);\r\n            grid.add(opacity,1,1);\r\n            grid.add(opacitylevel,2,1);\r\n    \r\n    \r\n            Button clbtn = new Button(&quot;Change Colour&quot;);\r\n            clbtn.setPrefSize(200,10);\r\n            grid.add(clbtn,1,3);\r\n    \r\n            //formatting\r\n            DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    \r\n            opacity.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n                public void changed(ObservableValue&lt;? extends Number&gt; ov,\r\n                                    Number old_val, Number new_val) {\r\n                    circle.setOpacity(new_val.doubleValue());\r\n                    opacitylevel.setText(df.format((double)new_val));\r\n                }\r\n            });\r\n            //R G B\r\n            Slider R = new Slider();\r\n            R.setMin(0);\r\n            R.setValue(0);\r\n            R.setMax(255);\r\n            Text red = new Text(&quot;0&quot;);\r\n    \r\n            javafx.scene.control.Label Rt = new Label(&quot;Red:&quot;);\r\n            grid.add(Rt,0,4);\r\n            grid.add(R,1,4);\r\n            grid.add(red,2,4);\r\n    \r\n            Slider G = new Slider();\r\n            G.setMin(0);\r\n            G.setValue(0);\r\n            G.setMax(255);\r\n            Text green = new Text(&quot;0&quot;);\r\n    \r\n            javafx.scene.control.Label Gt = new Label(&quot;Green:&quot;);\r\n            grid.add(Gt,0,5);\r\n            grid.add(G,1,5);\r\n            grid.add(green,2,5);\r\n    \r\n            Slider B = new Slider();\r\n            B.setMin(0);\r\n            B.setValue(0);\r\n            B.setMax(255);\r\n            Text blue = new Text(&quot;0&quot;);\r\n    \r\n            javafx.scene.control.Label Bt = new Label(&quot;Blue:&quot;);\r\n            grid.add(Bt,0,6);\r\n            grid.add(B,1,6);\r\n            grid.add(blue,2,6);\r\n            root.add(grid,1,0);\r\n    \r\n            //creating scene\r\n            Scene scene = new Scene(root,800,600,Color.web(&quot;white&quot;));\r\n    \r\n            //centering circle\r\n            circle.setCenterX(170);\r\n            circle.setCenterY(150);\r\n    \r\n    \r\n            //Change Colour event\r\n    \r\n            //clbtn.setOnAction(event -&gt; {\r\n    \r\n            //});\r\n    \r\n    \r\n    \r\n            //RGB events\r\n    \r\n            //red\r\n            R.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n                public void changed(ObservableValue&lt;? extends Number&gt; ov,\r\n                                    Number old_val, Number new_val) {\r\n                    red.setText(&quot;&quot; + new_val.intValue());\r\n                    circle.setFill(Color.rgb(new_val.intValue(),Integer.parseInt(green.getText()),Integer.parseInt(blue.getText())));\r\n                }\r\n            });\r\n    \r\n            //green\r\n            G.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n                public void changed(ObservableValue&lt;? extends Number&gt; ov,\r\n                                    Number old_val, Number new_val) {\r\n                    green.setText(&quot;&quot; + new_val.intValue());\r\n                    circle.setFill(Color.rgb(Integer.parseInt(red.getText()),new_val.intValue(),Integer.parseInt(blue.getText())));\r\n                }\r\n            });\r\n    \r\n            //blue\r\n            B.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n                public void changed(ObservableValue&lt;? extends Number&gt; ov,\r\n                                    Number old_val, Number new_val) {\r\n                    blue.setText(&quot;&quot; + new_val.intValue());\r\n                    circle.setFill(Color.rgb(Integer.parseInt(red.getText()),Integer.parseInt(green.getText()),new_val.intValue()));\r\n                }\r\n            });\r\n    \r\n            primaryStage.setScene(scene);\r\n    \r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }","title":"How do I add and store my custom color to a square in JavaFX when a button is clicked?","body":"<p>When I click on &quot;change color&quot; button, it should add the custom color(made using RGB sliders),to the first square(left one), then after I choose a second custom color and click on &quot;change color&quot; button, should move the first color to the second square(right one) and put the new custom color in the first square(left one). I should be able to do it multiple times thus repeating the cycle. It only need to show and store the last two custom colors I choose (the most recent two colors).\nI tried different ways but couldn't get it right. I have provided a clean working code below.</p>\n<pre><code>package com.example.tester;\n\nimport javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Slider;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.shape.StrokeType;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\n\nimport java.text.DecimalFormat;\n\npublic class colormade extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        GridPane root = new GridPane();\n\n        GridPane grid = new GridPane();\n        grid.setPadding(new Insets(10, 10, 10, 10));\n        grid.setVgap(10);\n        grid.setHgap(70);\n\n        //Circle creation\n        Circle circle = new Circle(150, Color.rgb(0,0,0));\n        circle.setStrokeType(StrokeType.CENTERED);\n        circle.setOpacity(0.5);\n        circle.minHeight(150);\n        circle.minWidth(170);\n        circle.setStroke(Color.web(&quot;black&quot;));\n        circle.setStrokeWidth(5);\n\n        //rectangle 1\n        Rectangle rectangle = new Rectangle();\n        rectangle.setWidth(50);\n        rectangle.setHeight(50);\n        rectangle.setStroke(Color.web(&quot;blue&quot;));\n        rectangle.setFill(Color.GRAY);\n        grid.add(rectangle,4,0);\n\n        //rectangle 2\n        Rectangle rectangle1 = new Rectangle();\n        rectangle1.setWidth(50);\n        rectangle1.setHeight(50);\n        rectangle1.setStroke(Color.web(&quot;blue&quot;));\n        rectangle1.setFill(Color.GRAY);\n        grid.add(rectangle1,5,0);\n\n        root.getChildren().add(rectangle);\n        root.getChildren().add(rectangle1);\n\n        //adding circle to root group\n        root.getChildren().add(circle);\n\n        //Opacity Slider\n        Slider opacity = new Slider();\n        opacity.setMin(0);\n        opacity.setValue(0.5);\n        opacity.setMax(1);\n        Text opacitylevel = new Text(&quot;0.5&quot;);\n        javafx.scene.control.Label opacityCaption = new Label(&quot;Opacity Level:&quot;);\n        grid.add(opacityCaption,0,1);\n        grid.add(opacity,1,1);\n        grid.add(opacitylevel,2,1);\n\n\n        Button clbtn = new Button(&quot;Change Colour&quot;);\n        clbtn.setPrefSize(200,10);\n        grid.add(clbtn,1,3);\n\n        //formatting\n        DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n\n        opacity.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\n            public void changed(ObservableValue&lt;? extends Number&gt; ov,\n                                Number old_val, Number new_val) {\n                circle.setOpacity(new_val.doubleValue());\n                opacitylevel.setText(df.format((double)new_val));\n            }\n        });\n        //R G B\n        Slider R = new Slider();\n        R.setMin(0);\n        R.setValue(0);\n        R.setMax(255);\n        Text red = new Text(&quot;0&quot;);\n\n        javafx.scene.control.Label Rt = new Label(&quot;Red:&quot;);\n        grid.add(Rt,0,4);\n        grid.add(R,1,4);\n        grid.add(red,2,4);\n\n        Slider G = new Slider();\n        G.setMin(0);\n        G.setValue(0);\n        G.setMax(255);\n        Text green = new Text(&quot;0&quot;);\n\n        javafx.scene.control.Label Gt = new Label(&quot;Green:&quot;);\n        grid.add(Gt,0,5);\n        grid.add(G,1,5);\n        grid.add(green,2,5);\n\n        Slider B = new Slider();\n        B.setMin(0);\n        B.setValue(0);\n        B.setMax(255);\n        Text blue = new Text(&quot;0&quot;);\n\n        javafx.scene.control.Label Bt = new Label(&quot;Blue:&quot;);\n        grid.add(Bt,0,6);\n        grid.add(B,1,6);\n        grid.add(blue,2,6);\n        root.add(grid,1,0);\n\n        //creating scene\n        Scene scene = new Scene(root,800,600,Color.web(&quot;white&quot;));\n\n        //centering circle\n        circle.setCenterX(170);\n        circle.setCenterY(150);\n\n\n        //Change Colour event\n\n        //clbtn.setOnAction(event -&gt; {\n\n        //});\n\n\n\n        //RGB events\n\n        //red\n        R.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\n            public void changed(ObservableValue&lt;? extends Number&gt; ov,\n                                Number old_val, Number new_val) {\n                red.setText(&quot;&quot; + new_val.intValue());\n                circle.setFill(Color.rgb(new_val.intValue(),Integer.parseInt(green.getText()),Integer.parseInt(blue.getText())));\n            }\n        });\n\n        //green\n        G.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\n            public void changed(ObservableValue&lt;? extends Number&gt; ov,\n                                Number old_val, Number new_val) {\n                green.setText(&quot;&quot; + new_val.intValue());\n                circle.setFill(Color.rgb(Integer.parseInt(red.getText()),new_val.intValue(),Integer.parseInt(blue.getText())));\n            }\n        });\n\n        //blue\n        B.valueProperty().addListener(new ChangeListener&lt;Number&gt;() {\n            public void changed(ObservableValue&lt;? extends Number&gt; ov,\n                                Number old_val, Number new_val) {\n                blue.setText(&quot;&quot; + new_val.intValue());\n                circle.setFill(Color.rgb(Integer.parseInt(red.getText()),Integer.parseInt(green.getText()),new_val.intValue()));\n            }\n        });\n\n        primaryStage.setScene(scene);\n\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1632504586,"post_id":69318914,"comment_id":122519536,"body_markdown":"You are using a `NavHostFragment` and `NavController`. That means you should not be using any fragment transactions at all. That means that your `onNavigationItemSelected` is not going to work in any case. What are you actually trying to do that isn&#39;t done for you by [tying your menu items to navigation graph destinations](https://developer.android.com/guide/navigation/navigation-ui#Tie-navdrawer)?","body":"You are using a <code>NavHostFragment</code> and <code>NavController</code>. That means you should not be using any fragment transactions at all. That means that your <code>onNavigationItemSelected</code> is not going to work in any case. What are you actually trying to do that isn&#39;t done for you by <a href=\"https://developer.android.com/guide/navigation/navigation-ui#Tie-navdrawer\" rel=\"nofollow noreferrer\">tying your menu items to navigation graph destinations</a>?"}],"answers":[{"tags":[],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632505332,"creation_date":1632504243,"answer_id":69319004,"question_id":69318914,"body_markdown":"if you want to implement your own NavigationItemSelectedListener, you shouldn&#39;t use the default setup in this line \r\n`NavigationUI.setupWithNavController(navigationView, navController);` and you should comment/remove it.  \r\nas if you inspected this method you will find it uses its own NavigationItemSelectedListener.\r\n\r\n","title":"why Navigation drawer ,no lintening MenuItem click?","body":"<p>if you want to implement your own NavigationItemSelectedListener, you shouldn't use the default setup in this line\n<code>NavigationUI.setupWithNavController(navigationView, navController);</code> and you should comment/remove it.<br />\nas if you inspected this method you will find it uses its own NavigationItemSelectedListener.</p>\n"}],"owner":{"account_id":14218270,"reputation":365,"user_id":11141671,"display_name":"Jhon Jesus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69319004,"answer_count":1,"score":1,"last_activity_date":1632505332,"creation_date":1632503800,"question_id":69318914,"body_markdown":"I have my Activity and implements NavigationView.OnNavigationItemSelectedListener\r\n ,this is mi code is  onCreate , don&#39;t print clicked too . previously it worked normal, without any inconvenience\r\n \r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            setSupportActionBar(binding.appBarMain.toolbar);\r\n            binding.appBarMain.fab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                            .setAction(&quot;Action&quot;, null).show();\r\n                }\r\n            });\r\n            DrawerLayout drawer = binding.drawerLayout;\r\n            NavigationView navigationView = binding.navView;\r\n            navigationView.setNavigationItemSelectedListener(this);\r\n            navigationView.bringToFront();\r\n            // Passing each menu ID as a set of Ids because each\r\n            // menu should be considered as top level destinations.\r\n            mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                    R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow)\r\n                    .setDrawerLayout(drawer)\r\n                    .build();\r\n            NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n            NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n            NavigationUI.setupWithNavController(navigationView, navController);\r\n        }\r\nwhen i use onNavigationItemSelected(@NonNull MenuItem menuItem) , don&#39;t work but change fragments automatically\r\n \r\n\r\n      @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n            String title;\r\n            boolean fragmentTransaction = false;\r\n            Fragment fragment = null;\r\n            System.out.println(&quot;clicked&quot;);\r\n            switch (menuItem.getItemId()) {\r\n                case R.id.nav_home:\r\n                    title = &quot;MyText&quot;;\r\n                    Bundle args = new Bundle();\r\n                   args.putString(&quot;url&quot;, &quot;MyText&quot;);\r\n                   fragment.setArguments(args);\r\n                   fragmentTransaction = true;\r\n                    break;\r\n                case R.id.nav_gallery:\r\n                    title = &quot;MyText2&quot;;\r\n                    Bundle args1 = new Bundle();\r\n                    args1.putString(&quot;url&quot;, &quot;My Text2&quot;);\r\n                    fragment = new HomeFragment();\r\n                    fragment.setArguments(args1);\r\n                    fragmentTransaction = true;\r\n                    break;\r\n              }\r\n           \r\n            if (fragmentTransaction) {\r\n               getSupportFragmentManager().beginTransaction()\r\n                        .replace(R.id.nav_host_fragment_content_main, fragment)\r\n                        .commit();\r\n              \r\n            }\r\n            DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n            drawer.closeDrawer(GravityCompat.START);\r\n            return true;\r\n        }\r\n\r\n","title":"why Navigation drawer ,no lintening MenuItem click?","body":"<p>I have my Activity and implements NavigationView.OnNavigationItemSelectedListener\n,this is mi code is  onCreate , don't print clicked too . previously it worked normal, without any inconvenience</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        setSupportActionBar(binding.appBarMain.toolbar);\n        binding.appBarMain.fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n                        .setAction(&quot;Action&quot;, null).show();\n            }\n        });\n        DrawerLayout drawer = binding.drawerLayout;\n        NavigationView navigationView = binding.navView;\n        navigationView.setNavigationItemSelectedListener(this);\n        navigationView.bringToFront();\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.nav_home, R.id.nav_gallery, R.id.nav_slideshow)\n                .setDrawerLayout(drawer)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n    }\n</code></pre>\n<p>when i use onNavigationItemSelected(@NonNull MenuItem menuItem) , don't work but change fragments automatically</p>\n<pre><code>  @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n        String title;\n        boolean fragmentTransaction = false;\n        Fragment fragment = null;\n        System.out.println(&quot;clicked&quot;);\n        switch (menuItem.getItemId()) {\n            case R.id.nav_home:\n                title = &quot;MyText&quot;;\n                Bundle args = new Bundle();\n               args.putString(&quot;url&quot;, &quot;MyText&quot;);\n               fragment.setArguments(args);\n               fragmentTransaction = true;\n                break;\n            case R.id.nav_gallery:\n                title = &quot;MyText2&quot;;\n                Bundle args1 = new Bundle();\n                args1.putString(&quot;url&quot;, &quot;My Text2&quot;);\n                fragment = new HomeFragment();\n                fragment.setArguments(args1);\n                fragmentTransaction = true;\n                break;\n          }\n       \n        if (fragmentTransaction) {\n           getSupportFragmentManager().beginTransaction()\n                    .replace(R.id.nav_host_fragment_content_main, fragment)\n                    .commit();\n          \n        }\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","eclipse","installation","ide"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1632563372,"post_id":69319092,"comment_id":122530377,"body_markdown":"In case you transferred also `%USERPROFILE%\\.eclipse` and/or `%USERPROFILE%\\.p2`, delete them too.","body":"In case you transferred also <code>%USERPROFILE%\\.eclipse</code> and/or <code>%USERPROFILE%\\.p2</code>, delete them too."},{"owner":{"account_id":11492865,"reputation":89,"user_id":13703788,"display_name":"DualBall"},"score":0,"creation_date":1633103437,"post_id":69319092,"comment_id":122679662,"body_markdown":"@howlger Apologies for the late reply! Where would I go to delete these?","body":"@howlger Apologies for the late reply! Where would I go to delete these?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1633166884,"post_id":69319092,"comment_id":122691914,"body_markdown":"Just paste `%USERPROFILE%` into the File Explorer of Windows and it will be automatically expanded (in your case, probably to `C:\\Users\\jdm23`).","body":"Just paste <code>%USERPROFILE%</code> into the File Explorer of Windows and it will be automatically expanded (in your case, probably to <code>C:\\Users\\jdm23</code>)."}],"owner":{"account_id":11492865,"reputation":89,"user_id":13703788,"display_name":"DualBall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632505093,"creation_date":1632504783,"question_id":69319092,"body_markdown":"I have a new computer with some data transferred onto it. Unfortunately, eclipse was no longer functional, so I deleted the folder with the IDE files and went to reinstall the IDE to that same folder. However, I got this error while trying to install:\r\n\r\n    [2021-09-24 13:26:34] ERROR: org.eclipse.equinox.p2.engine code=4 An error occurred while collecting items to be installed\r\n      at org.eclipse.oomph.util.OomphPlugin.coreException(OomphPlugin.java:291)\r\n      at org.eclipse.oomph.p2.internal.core.ProfileTransactionImpl$3.commit(ProfileTransactionImpl.java:553)\r\n      at org.eclipse.oomph.p2.internal.core.ProfileTransactionImpl.commit(ProfileTransactionImpl.java:345)\r\n      at org.eclipse.oomph.setup.p2.impl.P2TaskImpl.perform(P2TaskImpl.java:904)\r\n      at org.eclipse.oomph.setup.internal.core.SetupTaskPerformer.doPerformNeededSetupTasks(SetupTaskPerformer.java:3851)\r\n      at org.eclipse.oomph.setup.internal.core.SetupTaskPerformer.performNeededSetupTasks(SetupTaskPerformer.java:3779)\r\n      at org.eclipse.oomph.setup.internal.core.SetupTaskPerformer.performTriggeredSetupTasks(SetupTaskPerformer.java:3760)\r\n      at org.eclipse.oomph.setup.internal.core.SetupTaskPerformer.perform(SetupTaskPerformer.java:3638)\r\n      at org.eclipse.oomph.setup.internal.installer.SimpleVariablePage.installPerform(SimpleVariablePage.java:1343)\r\n      at org.eclipse.oomph.setup.internal.installer.SimpleVariablePage.access$33(SimpleVariablePage.java:1211)\r\n      at org.eclipse.oomph.setup.internal.installer.SimpleVariablePage$20.run(SimpleVariablePage.java:1156)\r\n      ERROR: org.eclipse.equinox.p2.engine code=0 session context was:(profile=C__Users_Owner_.eclipse_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\n      ERROR: org.eclipse.equinox.p2.artifact.repository code=1003 Unable to write to repository: file:/C:/Users/jdm23/.p2/pool.\r\n      java.io.IOException: Failed to create directory C:\\Users\\jdm23\\.p2\\pool\\plugins.\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getOutputStream(SimpleArtifactRepository.java:1039)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transferSingle(MirrorRequest.java:289)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transfer(MirrorRequest.java:234)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.perform(MirrorRequest.java:156)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getArtifact(SimpleArtifactRepository.java:770)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.simple.DownloadJob.run(DownloadJob.java:64)\r\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n      ERROR: org.eclipse.equinox.p2.artifact.repository code=1003 Unable to write to repository: file:/C:/Users/jdm23/.p2/pool.\r\n      java.io.IOException: Failed to create directory C:\\Users\\jdm23\\.p2\\pool\\plugins.\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getOutputStream(SimpleArtifactRepository.java:1039)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transferSingle(MirrorRequest.java:289)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transfer(MirrorRequest.java:234)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.perform(MirrorRequest.java:156)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getArtifact(SimpleArtifactRepository.java:770)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.simple.DownloadJob.run(DownloadJob.java:64)\r\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n      ERROR: org.eclipse.equinox.p2.artifact.repository code=1003 Unable to write to repository: file:/C:/Users/jdm23/.p2/pool.\r\n      java.io.IOException: Failed to create directory C:\\Users\\jdm23\\.p2\\pool\\plugins.\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getOutputStream(SimpleArtifactRepository.java:1039)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transferSingle(MirrorRequest.java:289)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transfer(MirrorRequest.java:234)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.perform(MirrorRequest.java:156)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getArtifact(SimpleArtifactRepository.java:770)\r\n        at org.eclipse.equinox.internal.p2.artifact.repository.simple.DownloadJob.run(DownloadJob.java:64)\r\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n\r\n\r\n\r\nIt keeps repeating that last block, but you get the idea. It keeps trying to install files to a user that no longer exists on my new computer, which is likely why my new computer would not let me open the eclipse files I used to have. I tried digging around for any lingering old files that needed to be deleted, but I must be missing something, because this error still pops up. What should I do?","title":"I cannot reinstall Eclipse IDE","body":"<p>I have a new computer with some data transferred onto it. Unfortunately, eclipse was no longer functional, so I deleted the folder with the IDE files and went to reinstall the IDE to that same folder. However, I got this error while trying to install:</p>\n<pre><code>[2021-09-24 13:26:34] ERROR: org.eclipse.equinox.p2.engine code=4 An error occurred while collecting items to be installed\n  at org.eclipse.oomph.util.OomphPlugin.coreException(OomphPlugin.java:291)\n  at org.eclipse.oomph.p2.internal.core.ProfileTransactionImpl$3.commit(ProfileTransactionImpl.java:553)\n  at org.eclipse.oomph.p2.internal.core.ProfileTransactionImpl.commit(ProfileTransactionImpl.java:345)\n  at org.eclipse.oomph.setup.p2.impl.P2TaskImpl.perform(P2TaskImpl.java:904)\n  at org.eclipse.oomph.setup.internal.core.SetupTaskPerformer.doPerformNeededSetupTasks(SetupTaskPerformer.java:3851)\n  at org.eclipse.oomph.setup.internal.core.SetupTaskPerformer.performNeededSetupTasks(SetupTaskPerformer.java:3779)\n  at org.eclipse.oomph.setup.internal.core.SetupTaskPerformer.performTriggeredSetupTasks(SetupTaskPerformer.java:3760)\n  at org.eclipse.oomph.setup.internal.core.SetupTaskPerformer.perform(SetupTaskPerformer.java:3638)\n  at org.eclipse.oomph.setup.internal.installer.SimpleVariablePage.installPerform(SimpleVariablePage.java:1343)\n  at org.eclipse.oomph.setup.internal.installer.SimpleVariablePage.access$33(SimpleVariablePage.java:1211)\n  at org.eclipse.oomph.setup.internal.installer.SimpleVariablePage$20.run(SimpleVariablePage.java:1156)\n  ERROR: org.eclipse.equinox.p2.engine code=0 session context was:(profile=C__Users_Owner_.eclipse_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\n  ERROR: org.eclipse.equinox.p2.artifact.repository code=1003 Unable to write to repository: file:/C:/Users/jdm23/.p2/pool.\n  java.io.IOException: Failed to create directory C:\\Users\\jdm23\\.p2\\pool\\plugins.\n    at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getOutputStream(SimpleArtifactRepository.java:1039)\n    at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transferSingle(MirrorRequest.java:289)\n    at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transfer(MirrorRequest.java:234)\n    at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.perform(MirrorRequest.java:156)\n    at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getArtifact(SimpleArtifactRepository.java:770)\n    at org.eclipse.equinox.internal.p2.artifact.repository.simple.DownloadJob.run(DownloadJob.java:64)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n  ERROR: org.eclipse.equinox.p2.artifact.repository code=1003 Unable to write to repository: file:/C:/Users/jdm23/.p2/pool.\n  java.io.IOException: Failed to create directory C:\\Users\\jdm23\\.p2\\pool\\plugins.\n    at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getOutputStream(SimpleArtifactRepository.java:1039)\n    at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transferSingle(MirrorRequest.java:289)\n    at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transfer(MirrorRequest.java:234)\n    at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.perform(MirrorRequest.java:156)\n    at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getArtifact(SimpleArtifactRepository.java:770)\n    at org.eclipse.equinox.internal.p2.artifact.repository.simple.DownloadJob.run(DownloadJob.java:64)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n  ERROR: org.eclipse.equinox.p2.artifact.repository code=1003 Unable to write to repository: file:/C:/Users/jdm23/.p2/pool.\n  java.io.IOException: Failed to create directory C:\\Users\\jdm23\\.p2\\pool\\plugins.\n    at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getOutputStream(SimpleArtifactRepository.java:1039)\n    at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transferSingle(MirrorRequest.java:289)\n    at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.transfer(MirrorRequest.java:234)\n    at org.eclipse.equinox.internal.p2.artifact.repository.MirrorRequest.perform(MirrorRequest.java:156)\n    at org.eclipse.equinox.internal.p2.artifact.repository.simple.SimpleArtifactRepository.getArtifact(SimpleArtifactRepository.java:770)\n    at org.eclipse.equinox.internal.p2.artifact.repository.simple.DownloadJob.run(DownloadJob.java:64)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\n</code></pre>\n<p>It keeps repeating that last block, but you get the idea. It keeps trying to install files to a user that no longer exists on my new computer, which is likely why my new computer would not let me open the eclipse files I used to have. I tried digging around for any lingering old files that needed to be deleted, but I must be missing something, because this error still pops up. What should I do?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"score":0,"creation_date":1632501954,"post_id":69318443,"comment_id":122518654,"body_markdown":"I am still a little unsure where some of the variables from your code sniped come from but. You could cast it is my guess.","body":"I am still a little unsure where some of the variables from your code sniped come from but. You could cast it is my guess."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1632501987,"post_id":69318443,"comment_id":122518672,"body_markdown":"`Object obj = s.get(applet);` if you are sure that `obj` will hold `People[] peoples` then you can cast it to `People[]` type like `People[] peopleArray = (People[])obj;`. This way you can write rest of code for `People[] peopleArray` type instead of having to use reflection.","body":"<code>Object obj = s.get(applet);</code> if you are sure that <code>obj</code> will hold <code>People[] peoples</code> then you can cast it to <code>People[]</code> type like <code>People[] peopleArray = (People[])obj;</code>. This way you can write rest of code for <code>People[] peopleArray</code> type instead of having to use reflection."},{"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"score":0,"creation_date":1632502037,"post_id":69318443,"comment_id":122518683,"body_markdown":"So what is &quot;s&quot; ?","body":"So what is &quot;s&quot; ?"},{"owner":{"account_id":22723816,"reputation":95,"user_id":16887933,"display_name":"asdasd31"},"score":0,"creation_date":1632502405,"post_id":69318443,"comment_id":122518804,"body_markdown":"@Pshemo So the jar that is executing this code doesn&#39;t have `People` defined and I intend to leave it that way, needs to be done all in reflection.","body":"@Pshemo So the jar that is executing this code doesn&#39;t have <code>People</code> defined and I intend to leave it that way, needs to be done all in reflection."},{"owner":{"account_id":22723816,"reputation":95,"user_id":16887933,"display_name":"asdasd31"},"score":0,"creation_date":1632502419,"post_id":69318443,"comment_id":122518808,"body_markdown":"@Alex Sorry, I updated the variables named incorrectly.","body":"@Alex Sorry, I updated the variables named incorrectly."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1632502609,"post_id":69318443,"comment_id":122518892,"body_markdown":"Then for &quot;How do I take my obj and loop through it to get individial People&quot; you are probably looking for: [Iterating over arrays by reflection](https://stackoverflow.com/q/2200399). &quot;and call `methodgetAge` on each person&quot; -&gt; [How do I invoke a Java method when given the method name as a string?](https://stackoverflow.com/q/160970)","body":"Then for &quot;How do I take my obj and loop through it to get individial People&quot; you are probably looking for: <a href=\"https://stackoverflow.com/q/2200399\">Iterating over arrays by reflection</a>. &quot;and call <code>methodgetAge</code> on each person&quot; -&gt; <a href=\"https://stackoverflow.com/q/160970\">How do I invoke a Java method when given the method name as a string?</a>"},{"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"score":0,"creation_date":1632502683,"post_id":69318443,"comment_id":122518919,"body_markdown":"Cast it to Object[]","body":"Cast it to Object[]"},{"owner":{"account_id":22723816,"reputation":95,"user_id":16887933,"display_name":"asdasd31"},"score":0,"creation_date":1632503956,"post_id":69318443,"comment_id":122519325,"body_markdown":"@Pshemo Thanks! So the first link helped, I&#39;m able to iterate over the array.. but invoking the method, still not sure there, this is not as standard as that question, tried that and it didn&#39;t work.  The problem is, normally you would refer your `Class` object from `ClassLoader.loadClass`  and then do `&lt;loadedClass&gt;.getDeclaredMethod(&quot;methodName&quot;)` but I need to somehow pass my iterated object as the class (I tried just casting it as a class or doing `getClass()` but it didn&#39;t work","body":"@Pshemo Thanks! So the first link helped, I&#39;m able to iterate over the array.. but invoking the method, still not sure there, this is not as standard as that question, tried that and it didn&#39;t work.  The problem is, normally you would refer your <code>Class</code> object from <code>ClassLoader.loadClass</code>  and then do <code>&lt;loadedClass&gt;.getDeclaredMethod(&quot;methodName&quot;)</code> but I need to somehow pass my iterated object as the class (I tried just casting it as a class or doing <code>getClass()</code> but it didn&#39;t work"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1632504305,"post_id":69318443,"comment_id":122519434,"body_markdown":"Assuming you have some `valueFromArray` you can also use `valueFromArray.getClass()` to get `Class` corresponding to its type. On it you can call `getDeclaredMethod`.","body":"Assuming you have some <code>valueFromArray</code> you can also use <code>valueFromArray.getClass()</code> to get <code>Class</code> corresponding to its type. On it you can call <code>getDeclaredMethod</code>."},{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1632505512,"post_id":69318443,"comment_id":122519865,"body_markdown":"Assuming your code snippet is right, your Classes full quallified names are  `com.api.Person.Person` and `com.client.Client.Client`. to get a full qualified class name as in `cl.loadClass(&quot;com.client.Client&quot;)` your package should be `com.client`","body":"Assuming your code snippet is right, your Classes full quallified names are  <code>com.api.Person.Person</code> and <code>com.client.Client.Client</code>. to get a full qualified class name as in <code>cl.loadClass(&quot;com.client.Client&quot;)</code> your package should be <code>com.client</code>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1632528469,"post_id":69318443,"comment_id":122525551,"body_markdown":"`allPersons.get(mainClass);` &lt;&lt; This would not work, as `mainClass` is a `Class` and not an instance of `com.client.Client`.","body":"<code>allPersons.get(mainClass);</code> &lt;&lt; This would not work, as <code>mainClass</code> is a <code>Class</code> and not an instance of <code>com.client.Client</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1632743483,"post_id":69318443,"comment_id":122567415,"body_markdown":"It seems you generally like to mix up classes and objects. It’s not only that `allPersons.get(mainClass);` is wrong because your passing a class where an object is required, your statement “I need to somehow pass my iterated object as the class” makes no sense either.","body":"It seems you generally like to mix up classes and objects. It’s not only that <code>allPersons.get(mainClass);</code> is wrong because your passing a class where an object is required, your statement “I need to somehow pass my iterated object as the class” makes no sense either."}],"owner":{"account_id":22723816,"reputation":95,"user_id":16887933,"display_name":"asdasd31"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632504121,"creation_date":1632501223,"question_id":69318443,"body_markdown":"I am trying to pull a field via reflection that is an array of the below class.\r\n\r\n```\r\npackage com.api.Person\r\npublic class Person {\r\n\r\n    private String name;\r\n    private int age;\r\n\r\n    public Person() {\r\n\r\n    }\r\n\r\n    public void setName(String name) {\r\n\tthis.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n\treturn name;\r\n    }\r\n    \r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\t\r\n}\r\n```\r\n\r\n```\r\npackage com.client.Client\r\npublic class Client{\r\n    ...\r\n    People[] peoples;\r\n    ...\r\n}\r\n```\r\n\r\n\r\nI know how to get the field I am looking for and declare my methods.  So below, `obj` would be my `People[]` and `methodgetAge` and `methodsetAge` are two methods I have defined that act on a `Person` class.  How do I take my `obj` and loop through it to get individual `People` and call `methodgetAge` on each person?\r\n\r\n```\r\nClass&lt;?&gt; mainClass = cl.loadClass(&quot;com.client.Client&quot;);\r\nClass&lt;?&gt; peopleClass = cl.loadClass(&quot;com.api.Person&quot;);\r\nField allPersons = mainClass.getDeclaredField(&quot;peoples&quot;);\r\nallPersons.setAccessible(true);\r\nObject obj = allPersons.get(mainClass);\r\n\r\nMethod methodgetAge = peopleClass .getDeclaredMethod(&quot;getAge&quot;);\r\nMethod methodsetAge = peopleClass .getDeclaredMethod(&quot;setAge&quot;, int.class);\r\n```\r\n","title":"How to invoke method on a specific definition of a class using reflection?","body":"<p>I am trying to pull a field via reflection that is an array of the below class.</p>\n<pre><code>package com.api.Person\npublic class Person {\n\n    private String name;\n    private int age;\n\n    public Person() {\n\n    }\n\n    public void setName(String name) {\n    this.name = name;\n    }\n\n    public String getName() {\n    return name;\n    }\n    \n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n    \n}\n</code></pre>\n<pre><code>package com.client.Client\npublic class Client{\n    ...\n    People[] peoples;\n    ...\n}\n</code></pre>\n<p>I know how to get the field I am looking for and declare my methods.  So below, <code>obj</code> would be my <code>People[]</code> and <code>methodgetAge</code> and <code>methodsetAge</code> are two methods I have defined that act on a <code>Person</code> class.  How do I take my <code>obj</code> and loop through it to get individual <code>People</code> and call <code>methodgetAge</code> on each person?</p>\n<pre><code>Class&lt;?&gt; mainClass = cl.loadClass(&quot;com.client.Client&quot;);\nClass&lt;?&gt; peopleClass = cl.loadClass(&quot;com.api.Person&quot;);\nField allPersons = mainClass.getDeclaredField(&quot;peoples&quot;);\nallPersons.setAccessible(true);\nObject obj = allPersons.get(mainClass);\n\nMethod methodgetAge = peopleClass .getDeclaredMethod(&quot;getAge&quot;);\nMethod methodsetAge = peopleClass .getDeclaredMethod(&quot;setAge&quot;, int.class);\n</code></pre>\n"},{"tags":["java","android","drawable"],"comments":[{"owner":{"account_id":11317635,"reputation":53199,"user_id":8298909,"display_name":"Ben P."},"score":0,"creation_date":1572804321,"post_id":58683085,"comment_id":103665655,"body_markdown":"What happens if you don&#39;t use `getIcon()` to create a drawable, and instead do something like this: `holder.imageView.setImageResource(addCategoriesList.get(position).getIconID())` ?","body":"What happens if you don&#39;t use <code>getIcon()</code> to create a drawable, and instead do something like this: <code>holder.imageView.setImageResource(addCategoriesList.get(posi&zwnj;&#8203;tion).getIconID())</code> ?"},{"owner":{"account_id":13777112,"reputation":329,"user_id":9943196,"display_name":"Asghar Nazir"},"score":0,"creation_date":1573056606,"post_id":58683085,"comment_id":103758696,"body_markdown":"its size stays smaller but I want a larger icon like the icon that is showing transport as you can there is a considerable difference in the size of the transport and other icons","body":"its size stays smaller but I want a larger icon like the icon that is showing transport as you can there is a considerable difference in the size of the transport and other icons"}],"answers":[{"tags":[],"owner":{"account_id":11317635,"reputation":53199,"user_id":8298909,"display_name":"Ben P."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572804485,"creation_date":1572804485,"answer_id":58683146,"question_id":58683085,"body_markdown":"This line looks like a likely culprit:\r\n\r\n    drawable.setBounds(0,0,100,100);\r\n\r\nThese are pixel values, and so they will cause the icon to appear at different physical sizes depending on the pixel density of the device you&#39;re using to test. If your device is xxxhdpi, 100px will be much smaller than 48dp.\r\n\r\nYou could convert px to dp in order to get the right values to use here, but I think you can go even simpler. Once you know that you&#39;re using a user-selected image, you don&#39;t actually have to build the `Drawable` object. Instead, you can use the resource value directly:\r\n\r\n    int iconId = addCategoriesList.get(position).getIconID();\r\n    holder.imageView.setImageResource(iconId);","title":"How to change the size of vector drawable programmatically using java","body":"<p>This line looks like a likely culprit:</p>\n\n<pre><code>drawable.setBounds(0,0,100,100);\n</code></pre>\n\n<p>These are pixel values, and so they will cause the icon to appear at different physical sizes depending on the pixel density of the device you're using to test. If your device is xxxhdpi, 100px will be much smaller than 48dp.</p>\n\n<p>You could convert px to dp in order to get the right values to use here, but I think you can go even simpler. Once you know that you're using a user-selected image, you don't actually have to build the <code>Drawable</code> object. Instead, you can use the resource value directly:</p>\n\n<pre><code>int iconId = addCategoriesList.get(position).getIconID();\nholder.imageView.setImageResource(iconId);\n</code></pre>\n"}],"owner":{"account_id":13777112,"reputation":329,"user_id":9943196,"display_name":"Asghar Nazir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632503513,"creation_date":1572804109,"question_id":58683085,"body_markdown":"I want to change the size of the icons that are displayed in my recycler view. My recycler view basically shows categories of expenses. I have hardcoded some of the categories with icons in the XML layout that I have created using the android studio, but the user can also define their own categories and can select an icon for that, I am using https://github.com/maltaisn/icondialoglib/wiki \r\ndialogue to allow users to select icons of their choice while defining a new category. I save the IDs of drawable icons from the dialogue to the database and in the onBindViewHolder method of adapter class I retrieve the ID and using that ID I get the icon. If I display a vector drawable that is defined in XML, the size(48x48) of the icon is showing perfect but the size of the icons that are selected from the dialogue is smaller(Image is shared below). I have tried to change it to 48x48 but it is not working. \r\n\r\n    &lt;ImageView\r\n            android:id=&quot;@+id/single_column_item_icon&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            &gt;&lt;/ImageView&gt;\r\n\r\nvector drawable that is defined in the XML.\r\n\r\n        &lt;vector android:autoMirrored=&quot;true&quot; android:height=&quot;48dp&quot;\r\n        android:viewportHeight=&quot;32&quot; android:viewportWidth=&quot;32&quot;\r\n        android:width=&quot;48dp&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;path android:fillColor=&quot;#333332&quot; android:pathData=&quot;M24.832,11.445C24.646,11.167 24.334,11 24,11h-1c-0.553,0 -1,0.447 -1,1v6c0,0.553 0.447,1 1,1h4c0.553,0 1,-0.447 1,-1v-1.5c0,-0.197 -0.059,-0.391 -0.168,-0.555L24.832,11.445zM27,18h-4v-6h1l3,4.5V18z&quot;/&gt;\r\n        &lt;path android:fillColor=&quot;#333332&quot; android:pathData=&quot;M31.496,15.336l-4,-6C26.938,8.499 26.004,8 25,8h-4V6c0,-1.654 -1.346,-3 -3,-3H3C1.346,3 0,4.346 0,6v11c0,1.654 1.346,3 3,3h0v3c0,1.654 1.346,3 3,3h1.142c0.447,1.721 2,3 3.859,3c1.857,0 3.41,-1.279 3.857,-3h5.282c0.447,1.721 2,3 3.859,3c1.857,0 3.41,-1.279 3.857,-3H29c1.654,0 3,-1.346 3,-3v-6C32,16.406 31.826,15.83 31.496,15.336zM3,18c-0.552,0 -1,-0.447 -1,-1V6c0,-0.553 0.448,-1 1,-1h15c0.553,0 1,0.447 1,1v2v2v7c0,0.553 -0.447,1 -1,1H3zM11.001,27c-1.105,0 -2,-0.896 -2,-2s0.895,-2 2,-2c1.104,0 2,0.896 2,2S12.104,27 11.001,27zM24,27c-1.105,0 -2,-0.896 -2,-2s0.895,-2 2,-2c1.104,0 2,0.896 2,2S25.104,27 24,27zM30,23c0,0.553 -0.447,1 -1,1h-1.143c-0.447,-1.721 -2,-3 -3.857,-3c-1.859,0 -3.412,1.279 -3.859,3h-5.282c-0.447,-1.721 -2,-3 -3.857,-3c-1.859,0 -3.412,1.279 -3.859,3H6c-0.552,0 -1,-0.447 -1,-1v-3h13c1.654,0 3,-1.346 3,-3v-7h4c0.334,0 0.646,0.167 0.832,0.445l4,6C29.941,16.609 30,16.803 30,17V23z&quot;/&gt;\r\n    &lt;/vector&gt;\r\n\r\nJava code \r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CategoryViewHolder holder, int position) {\r\n\r\n    String categoryName=addCategoriesList.get(position).getColumn_value();\r\n    holder.textView.setText(categoryName);\r\n    if(categoryName.equals(&quot;Transport&quot;)){\r\n        holder.imageView.setImageResource(R.drawable.ic_transport);\r\n    }else{\r\n        if(IconHelper.getInstance(holder.imageView.getContext()).getIcon(addCategoriesList.get(position).getIconID())!=null){\r\n            Drawable drawable=IconHelper.getInstance(holder.imageView.getContext()).getIcon(addCategoriesList.get(position).getIconID()).getDrawable(holder.imageView.getContext());\r\n            drawable.setBounds(0,0,100,100);\r\n\r\n        holder.imageView.setImageDrawable(drawable);\r\n    }}\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/89OhM.png","title":"How to change the size of vector drawable programmatically using java","body":"<p>I want to change the size of the icons that are displayed in my recycler view. My recycler view basically shows categories of expenses. I have hardcoded some of the categories with icons in the XML layout that I have created using the android studio, but the user can also define their own categories and can select an icon for that, I am using <a href=\"https://github.com/maltaisn/icondialoglib/wiki\" rel=\"nofollow noreferrer\">https://github.com/maltaisn/icondialoglib/wiki</a>\ndialogue to allow users to select icons of their choice while defining a new category. I save the IDs of drawable icons from the dialogue to the database and in the onBindViewHolder method of adapter class I retrieve the ID and using that ID I get the icon. If I display a vector drawable that is defined in XML, the size(48x48) of the icon is showing perfect but the size of the icons that are selected from the dialogue is smaller(Image is shared below). I have tried to change it to 48x48 but it is not working.</p>\n<pre><code>&lt;ImageView\n        android:id=&quot;@+id/single_column_item_icon&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        &gt;&lt;/ImageView&gt;\n</code></pre>\n<p>vector drawable that is defined in the XML.</p>\n<pre><code>    &lt;vector android:autoMirrored=&quot;true&quot; android:height=&quot;48dp&quot;\n    android:viewportHeight=&quot;32&quot; android:viewportWidth=&quot;32&quot;\n    android:width=&quot;48dp&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;path android:fillColor=&quot;#333332&quot; android:pathData=&quot;M24.832,11.445C24.646,11.167 24.334,11 24,11h-1c-0.553,0 -1,0.447 -1,1v6c0,0.553 0.447,1 1,1h4c0.553,0 1,-0.447 1,-1v-1.5c0,-0.197 -0.059,-0.391 -0.168,-0.555L24.832,11.445zM27,18h-4v-6h1l3,4.5V18z&quot;/&gt;\n    &lt;path android:fillColor=&quot;#333332&quot; android:pathData=&quot;M31.496,15.336l-4,-6C26.938,8.499 26.004,8 25,8h-4V6c0,-1.654 -1.346,-3 -3,-3H3C1.346,3 0,4.346 0,6v11c0,1.654 1.346,3 3,3h0v3c0,1.654 1.346,3 3,3h1.142c0.447,1.721 2,3 3.859,3c1.857,0 3.41,-1.279 3.857,-3h5.282c0.447,1.721 2,3 3.859,3c1.857,0 3.41,-1.279 3.857,-3H29c1.654,0 3,-1.346 3,-3v-6C32,16.406 31.826,15.83 31.496,15.336zM3,18c-0.552,0 -1,-0.447 -1,-1V6c0,-0.553 0.448,-1 1,-1h15c0.553,0 1,0.447 1,1v2v2v7c0,0.553 -0.447,1 -1,1H3zM11.001,27c-1.105,0 -2,-0.896 -2,-2s0.895,-2 2,-2c1.104,0 2,0.896 2,2S12.104,27 11.001,27zM24,27c-1.105,0 -2,-0.896 -2,-2s0.895,-2 2,-2c1.104,0 2,0.896 2,2S25.104,27 24,27zM30,23c0,0.553 -0.447,1 -1,1h-1.143c-0.447,-1.721 -2,-3 -3.857,-3c-1.859,0 -3.412,1.279 -3.859,3h-5.282c-0.447,-1.721 -2,-3 -3.857,-3c-1.859,0 -3.412,1.279 -3.859,3H6c-0.552,0 -1,-0.447 -1,-1v-3h13c1.654,0 3,-1.346 3,-3v-7h4c0.334,0 0.646,0.167 0.832,0.445l4,6C29.941,16.609 30,16.803 30,17V23z&quot;/&gt;\n&lt;/vector&gt;\n</code></pre>\n<p>Java code</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull CategoryViewHolder holder, int position) {\n\nString categoryName=addCategoriesList.get(position).getColumn_value();\nholder.textView.setText(categoryName);\nif(categoryName.equals(&quot;Transport&quot;)){\n    holder.imageView.setImageResource(R.drawable.ic_transport);\n}else{\n    if(IconHelper.getInstance(holder.imageView.getContext()).getIcon(addCategoriesList.get(position).getIconID())!=null){\n        Drawable drawable=IconHelper.getInstance(holder.imageView.getContext()).getIcon(addCategoriesList.get(position).getIconID()).getDrawable(holder.imageView.getContext());\n        drawable.setBounds(0,0,100,100);\n\n    holder.imageView.setImageDrawable(drawable);\n}}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/89OhM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/89OhM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1632147564,"post_id":69256008,"comment_id":122408121,"body_markdown":"Why would you want your date to be a bean in the spring context? replace `class` with `factory-method`.","body":"Why would you want your date to be a bean in the spring context? replace <code>class</code> with <code>factory-method</code>."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":4,"creation_date":1632147592,"post_id":69256008,"comment_id":122408138,"body_markdown":"As an aside, the `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).","body":"As an aside, the <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":971515,"reputation":1711,"user_id":994006,"accept_rate":75,"display_name":"Nice Books"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632503432,"creation_date":1632150816,"answer_id":69256860,"question_id":69256008,"body_markdown":"In a `&lt;bean&gt;` declaration `class` should specify the complete classname. `getInstance` is a factory method &amp; hence it should be as follows:\r\n\r\n    &lt;bean id=&quot;date&quot; class=&quot;java.util.Calendar&quot; factory-method=&quot;getInstance&quot;/&gt;\r\n\r\nIt might be better to use the `java.time` classes introduced in Java 8, rather than the old `java.util.Calendar` &amp; `java.util.Date`.\r\n\r\n    &lt;bean id=&quot;date&quot; class=&quot;java.time.LocalDate&quot; factory-method=&quot;now&quot;&gt;\r\n\r\n**NB:** Nevertheless, I can&#39;t think of a valid use case, to have the date as a bean. ","title":"how to Inject Calendar getInstance in Spring , please","body":"<p>In a <code>&lt;bean&gt;</code> declaration <code>class</code> should specify the complete classname. <code>getInstance</code> is a factory method &amp; hence it should be as follows:</p>\n<pre><code>&lt;bean id=&quot;date&quot; class=&quot;java.util.Calendar&quot; factory-method=&quot;getInstance&quot;/&gt;\n</code></pre>\n<p>It might be better to use the <code>java.time</code> classes introduced in Java 8, rather than the old <code>java.util.Calendar</code> &amp; <code>java.util.Date</code>.</p>\n<pre><code>&lt;bean id=&quot;date&quot; class=&quot;java.time.LocalDate&quot; factory-method=&quot;now&quot;&gt;\n</code></pre>\n<p><strong>NB:</strong> Nevertheless, I can't think of a valid use case, to have the date as a bean.</p>\n"}],"owner":{"account_id":21571689,"reputation":17,"user_id":15904495,"display_name":"LEARNER OLY ASKING "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69256860,"answer_count":1,"score":0,"last_activity_date":1632503432,"creation_date":1632147487,"question_id":69256008,"body_markdown":"**```&lt;bean id=&quot;date&quot; class=&quot;java.util.Calendar.getInstance&quot; /&gt;```**\r\n\r\nhow can i inject Calendar instance Please help\r\n\r\ni am confused what to use ,i am new to spring  In date where new keyword is required is fine but here what have to do ","title":"how to Inject Calendar getInstance in Spring , please","body":"<p><strong><code>&lt;bean id=&quot;date&quot; class=&quot;java.util.Calendar.getInstance&quot; /&gt;</code></strong></p>\n<p>how can i inject Calendar instance Please help</p>\n<p>i am confused what to use ,i am new to spring  In date where new keyword is required is fine but here what have to do</p>\n"},{"tags":["java","xml","kotlin","jaxb"],"comments":[{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":1,"creation_date":1632504058,"post_id":69318842,"comment_id":122519354,"body_markdown":"If the content is XML, why do you want to put it in as a string? Why not put it in as XML?","body":"If the content is XML, why do you want to put it in as a string? Why not put it in as XML?"},{"owner":{"account_id":12105257,"reputation":287,"user_id":8844276,"display_name":"J.Doe"},"score":1,"creation_date":1632511253,"post_id":69318842,"comment_id":122521798,"body_markdown":"Great idea, thanks. Now I&#39;m getting error &quot;The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed&quot;, but I guess I can remove offending line from input, if it cannot be avoided somehow.","body":"Great idea, thanks. Now I&#39;m getting error &quot;The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed&quot;, but I guess I can remove offending line from input, if it cannot be avoided somehow."}],"owner":{"account_id":12105257,"reputation":287,"user_id":8844276,"display_name":"J.Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632503378,"creation_date":1632503378,"question_id":69318842,"body_markdown":"I have this class:\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;MyObject&quot;, propOrder = [&quot;element&quot;])\r\nclass MyObject {\r\n    @XmlAnyElement\r\n    var element: Element? = null\r\n}\r\n```\r\nwhat I need to do is create an Element and put an xml string as a text node or cdata section so after marshalling MyObject to string it still looks like valid xml (may be in cdata or commented out). I tried: \r\n```\r\nfun main() {\r\n    val documentBuilderFactory = DocumentBuilderFactory.newInstance()\r\n    val document = documentBuilderFactory.newDocumentBuilder().newDocument()\r\n\r\n    val myElement = document.createElement(&quot;myTag&quot;)\r\n    myElement.appendChild(document.createCDATASection(&quot;&lt;xml&gt;&lt;a&gt;text&lt;/a&gt;&quot;))\r\n\r\n    val myObject = MyObject().apply {\r\n        element = myElement\r\n    }\r\n\r\n    val writer = StringWriter()\r\n    JAXB.marshal(myObject, writer)\r\n    println(writer.toString())\r\n}\r\n```\r\nbut this returns\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;myObject&gt;\r\n    &lt;myTag&gt;&amp;lt;xml&amp;gt;&amp;lt;a&amp;gt;text&amp;lt;/a&amp;gt;&lt;/myTag&gt;\r\n&lt;/myObject&gt; \r\n```\r\nwhat should I do to get :\r\n```\r\n&lt;myObject&gt;\r\n    &lt;myTag&gt;&lt;xml&gt;&lt;a&gt;text&lt;/a&gt;&lt;/myTag&gt;\r\n&lt;/myObject&gt; \r\n```\r\n\r\nI cannot modify/add annotations to `MyObject` class. ","title":"How to properly marshal to String object containing CDATA sections","body":"<p>I have this class:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;MyObject&quot;, propOrder = [&quot;element&quot;])\nclass MyObject {\n    @XmlAnyElement\n    var element: Element? = null\n}\n</code></pre>\n<p>what I need to do is create an Element and put an xml string as a text node or cdata section so after marshalling MyObject to string it still looks like valid xml (may be in cdata or commented out). I tried:</p>\n<pre><code>fun main() {\n    val documentBuilderFactory = DocumentBuilderFactory.newInstance()\n    val document = documentBuilderFactory.newDocumentBuilder().newDocument()\n\n    val myElement = document.createElement(&quot;myTag&quot;)\n    myElement.appendChild(document.createCDATASection(&quot;&lt;xml&gt;&lt;a&gt;text&lt;/a&gt;&quot;))\n\n    val myObject = MyObject().apply {\n        element = myElement\n    }\n\n    val writer = StringWriter()\n    JAXB.marshal(myObject, writer)\n    println(writer.toString())\n}\n</code></pre>\n<p>but this returns</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;myObject&gt;\n    &lt;myTag&gt;&amp;lt;xml&amp;gt;&amp;lt;a&amp;gt;text&amp;lt;/a&amp;gt;&lt;/myTag&gt;\n&lt;/myObject&gt; \n</code></pre>\n<p>what should I do to get :</p>\n<pre><code>&lt;myObject&gt;\n    &lt;myTag&gt;&lt;xml&gt;&lt;a&gt;text&lt;/a&gt;&lt;/myTag&gt;\n&lt;/myObject&gt; \n</code></pre>\n<p>I cannot modify/add annotations to <code>MyObject</code> class.</p>\n"},{"tags":["java","android","mediastore"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1628459748,"post_id":68705031,"comment_id":121419650,"body_markdown":"Did you request `READ_EXTERNAL_STORAGE` at runtime, in addition to your manifest entry?","body":"Did you request <code>READ_EXTERNAL_STORAGE</code> at runtime, in addition to your manifest entry?"},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1628460093,"post_id":68705031,"comment_id":121419684,"body_markdown":"yes, as one of my tries to solve the problem I tried to check if I have the permission with an if condition, but nothing popped up to request permissions again incase I don&#39;t have them. \n\nif (ActivityCompat.checkSelfPermission(MainActivity.this,\n                Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(MainActivity.this,\n                    new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},1);\n        }","body":"yes, as one of my tries to solve the problem I tried to check if I have the permission with an if condition, but nothing popped up to request permissions again incase I don&#39;t have them.   if (ActivityCompat.checkSelfPermission(MainActivity.this,                 Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {             ActivityCompat.requestPermissions(MainActivity.this,                     new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},1);         }"},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1628460851,"post_id":68705031,"comment_id":121419783,"body_markdown":"yea, you&#39;re correct, it was the permissions problem, first time I tried it nothing popped up to request permissions so I thought everything was fine, but now I tried it literally just before making a query and it popped up a message requesting to allow the app read storage which was very weird :\\","body":"yea, you&#39;re correct, it was the permissions problem, first time I tried it nothing popped up to request permissions so I thought everything was fine, but now I tried it literally just before making a query and it popped up a message requesting to allow the app read storage which was very weird :\\"},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1628460982,"post_id":68705031,"comment_id":121419804,"body_markdown":"shouldn&#39;t having the uses-permission in the manifest  guarantee that the app having the required permissions !!?","body":"shouldn&#39;t having the uses-permission in the manifest  guarantee that the app having the required permissions !!?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1628461206,"post_id":68705031,"comment_id":121419829,"body_markdown":"&quot;shouldn&#39;t having the uses-permission in the manifest guarantee that the app having the required permissions !!?&quot; -- not since Android 6.0, six years ago.","body":"&quot;shouldn&#39;t having the uses-permission in the manifest guarantee that the app having the required permissions !!?&quot; -- not since Android 6.0, six years ago."},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1628462032,"post_id":68705031,"comment_id":121419955,"body_markdown":"@OmarShawky does request the READ_EXTERNAL_STORAGE permission work ? Because I am currently facing this same issue.","body":"@OmarShawky does request the READ_EXTERNAL_STORAGE permission work ? Because I am currently facing this same issue."},{"owner":{"account_id":18834955,"reputation":641,"user_id":13737843,"display_name":"Noah"},"score":0,"creation_date":1628462415,"post_id":68705031,"comment_id":121420013,"body_markdown":"I have the READ_EXTERNAL_STORAGE permission in Manifest and requested it at runtime but it still crashes. My app works on API &lt; 30","body":"I have the READ_EXTERNAL_STORAGE permission in Manifest and requested it at runtime but it still crashes. My app works on API &lt; 30"},{"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"score":0,"creation_date":1628538905,"post_id":68705031,"comment_id":121443339,"body_markdown":"@EbenmeluNoah, will, first time I tried it as I said, it didn&#39;t show any pop-up message so I thought everything was fine, but now it shows it normally, so I don&#39;t know what changed exactly between that time and now, maybe that I was using the deprecated method in fragment to request permissions but now I switched to how I think they handle it according to android developers, anyway I can share in my post as an edit the code I&#39;m using now to check for permissions in a fragment without using the deprecated method (which might be the case of your problem) if that might help you :thonk:","body":"@EbenmeluNoah, will, first time I tried it as I said, it didn&#39;t show any pop-up message so I thought everything was fine, but now it shows it normally, so I don&#39;t know what changed exactly between that time and now, maybe that I was using the deprecated method in fragment to request permissions but now I switched to how I think they handle it according to android developers, anyway I can share in my post as an edit the code I&#39;m using now to check for permissions in a fragment without using the deprecated method (which might be the case of your problem) if that might help you :thonk:"}],"answers":[{"tags":[],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632502773,"creation_date":1631492120,"answer_id":69156092,"question_id":68705031,"body_markdown":"\r\nSolution was by asking for permissions again at runtime so that is my code that worked for me after reading the following tutorial [Request app permissions at runtime][1]: \r\n\r\n1. First initialize an `ActivityResultLauncher` and register it as an activity result which must be before {initialization, `onAttach()`, or `onCreate()`} fragment creation methods, so the only way was to initialize it as a global fragment variable \r\n\r\n2. Then when I need to start querying images from external storage, I use the `ActivityResultLauncher` I initialized before to launch a request for permissions needed.\r\n\r\n3. If permissions was granted the callback should run the method responsible for getting photos, else (temporarily) it will show a toast message telling user why he can&#39;t continue with his action\r\n\r\nMy fragment code : \r\n\r\n    public class myFragment extends Fragment {\r\n    ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\r\n                registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\r\n                    if (isGranted) goFetchPhotos();\r\n                    else\r\n                        Toast.makeText(getContext(), &quot;Can&#39;t continue without the required permissions&quot;, Toast.LENGTH_LONG).show();\r\n                });\r\n    //this function runs when something happens in my app\r\n    public void getNecessaryPermissionsAndFetchPhotos() {\r\n            if (ActivityCompat.checkSelfPermission(getContext(),\r\n                    Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n         requestPermissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\r\n            }else goFetchPhotos();\r\n        }\r\n\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting#request-permission","title":"Query all images from phone works on api 18 but not on api 30","body":"<p>Solution was by asking for permissions again at runtime so that is my code that worked for me after reading the following tutorial <a href=\"https://developer.android.com/training/permissions/requesting#request-permission\" rel=\"nofollow noreferrer\">Request app permissions at runtime</a>:</p>\n<ol>\n<li><p>First initialize an <code>ActivityResultLauncher</code> and register it as an activity result which must be before {initialization, <code>onAttach()</code>, or <code>onCreate()</code>} fragment creation methods, so the only way was to initialize it as a global fragment variable</p>\n</li>\n<li><p>Then when I need to start querying images from external storage, I use the <code>ActivityResultLauncher</code> I initialized before to launch a request for permissions needed.</p>\n</li>\n<li><p>If permissions was granted the callback should run the method responsible for getting photos, else (temporarily) it will show a toast message telling user why he can't continue with his action</p>\n</li>\n</ol>\n<p>My fragment code :</p>\n<pre><code>public class myFragment extends Fragment {\nActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\n            registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\n                if (isGranted) goFetchPhotos();\n                else\n                    Toast.makeText(getContext(), &quot;Can't continue without the required permissions&quot;, Toast.LENGTH_LONG).show();\n            });\n//this function runs when something happens in my app\npublic void getNecessaryPermissionsAndFetchPhotos() {\n        if (ActivityCompat.checkSelfPermission(getContext(),\n                Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n     requestPermissionLauncher.launch(Manifest.permission.READ_EXTERNAL_STORAGE);\n        }else goFetchPhotos();\n    }\n</code></pre>\n"}],"owner":{"account_id":13730197,"reputation":1242,"user_id":10485156,"display_name":"Omar Shawky"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69156092,"answer_count":1,"score":0,"last_activity_date":1632502773,"creation_date":1628459671,"question_id":68705031,"body_markdown":"**Solved by requesting permissions again at runtime**\r\n\r\nRecently I was working on my app and I wanted to query all images on my phone so I read [Android developers tutorial][1]\r\n\r\nAnd could retrieve all images normally on a phone with api 18, but when I tried it on a phone with api 30 it didn&#39;t retrieve even one image though it&#39;s the same application.\r\n\r\nI even later tried their code to get videos but it also didn&#39;t work, so I&#39;m now don&#39;t know what&#39;s missing, any advice would be really appreciated :( \r\n\r\nMy query code : \r\n\r\n    public ArrayList&lt;CustomPhoto&gt; getPhotosFromExternalStorage() {\r\n            Uri collection;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                collection = MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n            } else {\r\n                collection = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n            }\r\n    \r\n            String[] projection = new String[]{\r\n                    MediaStore.Images.Media._ID,\r\n                    MediaStore.Images.Media.DISPLAY_NAME,\r\n                    MediaStore.Images.Media.BUCKET_DISPLAY_NAME\r\n            };\r\n            String sortOrder = MediaStore.Images.Media.DATE_ADDED + &quot; ASC&quot;;\r\n            ArrayList&lt;CustomPhoto&gt; queryResult = new ArrayList&lt;&gt;();\r\n            try (Cursor cursor = context.getApplicationContext().getContentResolver().query(\r\n                    collection,\r\n                    projection,\r\n                    null,\r\n                    null,\r\n                    sortOrder\r\n            )) {\r\n                int idColumn = cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID);\r\n                int nameColumn =\r\n                        cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DISPLAY_NAME);\r\n                int bucketColumn = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.BUCKET_DISPLAY_NAME);\r\n                Log.e(&quot;retrieved = &quot; , Integer.valueOf(cursor.getCount()).toString());\r\n    \r\n                while (cursor.moveToNext()) {\r\n                    // Get values of columns for a given video.\r\n                    long id = cursor.getLong(idColumn);\r\n                    String name = cursor.getString(nameColumn);\r\n                    String bucket_display_name = cursor.getString(bucketColumn);\r\n                    Uri contentUri = ContentUris.withAppendedId(\r\n                            MediaStore.Images.Media.EXTERNAL_CONTENT_URI, id);\r\n                    Log.e(&quot;uri&quot; , bucket_display_name);\r\n                    queryResult.add(new CustomPhoto(contentUri.toString(),bucket_display_name, name));\r\n    \r\n                }\r\n            } catch (IllegalArgumentException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return queryResult;\r\n        }\r\n\r\nMy manifest : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.pretest&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n            /&gt;\r\n        &lt;!-- android:hardwareAccelerated=&quot;false&quot;\r\n            android:largeHeap=&quot;true&quot;--&gt;\r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.FacebookTest&quot;&gt;\r\n            &lt;meta-data android:name=&quot;com.facebook.sdk.ApplicationId&quot; android:value=&quot;@string/facebook_app_id&quot;/&gt;\r\n            &lt;meta-data android:name=&quot;com.facebook.sdk.ClientToken&quot; android:value=&quot;@string/facebook_client_token&quot;/&gt;\r\n            &lt;activity android:name=&quot;com.facebook.FacebookActivity&quot;\r\n                android:configChanges=\r\n                    &quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\r\n                android:label=&quot;@string/app_name&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.facebook.CustomTabActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                    &lt;data android:scheme=&quot;@string/fb_login_protocol_scheme&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n            &lt;activity\r\n                android:name=&quot;com.example.pretest.MainActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:theme=&quot;@style/Theme.FacebookTest.NoActionBar&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt; \r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/media\r\n  [2]: https://developer.android.com/training/permissions/requesting#request-permission","title":"Query all images from phone works on api 18 but not on api 30","body":"<p><strong>Solved by requesting permissions again at runtime</strong></p>\n<p>Recently I was working on my app and I wanted to query all images on my phone so I read <a href=\"https://developer.android.com/training/data-storage/shared/media\" rel=\"nofollow noreferrer\">Android developers tutorial</a></p>\n<p>And could retrieve all images normally on a phone with api 18, but when I tried it on a phone with api 30 it didn't retrieve even one image though it's the same application.</p>\n<p>I even later tried their code to get videos but it also didn't work, so I'm now don't know what's missing, any advice would be really appreciated :(</p>\n<p>My query code :</p>\n<pre><code>public ArrayList&lt;CustomPhoto&gt; getPhotosFromExternalStorage() {\n        Uri collection;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            collection = MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL);\n        } else {\n            collection = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n        }\n\n        String[] projection = new String[]{\n                MediaStore.Images.Media._ID,\n                MediaStore.Images.Media.DISPLAY_NAME,\n                MediaStore.Images.Media.BUCKET_DISPLAY_NAME\n        };\n        String sortOrder = MediaStore.Images.Media.DATE_ADDED + &quot; ASC&quot;;\n        ArrayList&lt;CustomPhoto&gt; queryResult = new ArrayList&lt;&gt;();\n        try (Cursor cursor = context.getApplicationContext().getContentResolver().query(\n                collection,\n                projection,\n                null,\n                null,\n                sortOrder\n        )) {\n            int idColumn = cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID);\n            int nameColumn =\n                    cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DISPLAY_NAME);\n            int bucketColumn = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.BUCKET_DISPLAY_NAME);\n            Log.e(&quot;retrieved = &quot; , Integer.valueOf(cursor.getCount()).toString());\n\n            while (cursor.moveToNext()) {\n                // Get values of columns for a given video.\n                long id = cursor.getLong(idColumn);\n                String name = cursor.getString(nameColumn);\n                String bucket_display_name = cursor.getString(bucketColumn);\n                Uri contentUri = ContentUris.withAppendedId(\n                        MediaStore.Images.Media.EXTERNAL_CONTENT_URI, id);\n                Log.e(&quot;uri&quot; , bucket_display_name);\n                queryResult.add(new CustomPhoto(contentUri.toString(),bucket_display_name, name));\n\n            }\n        } catch (IllegalArgumentException e) {\n            e.printStackTrace();\n        }\n        return queryResult;\n    }\n</code></pre>\n<p>My manifest :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.pretest&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n        /&gt;\n    &lt;!-- android:hardwareAccelerated=&quot;false&quot;\n        android:largeHeap=&quot;true&quot;--&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.FacebookTest&quot;&gt;\n        &lt;meta-data android:name=&quot;com.facebook.sdk.ApplicationId&quot; android:value=&quot;@string/facebook_app_id&quot;/&gt;\n        &lt;meta-data android:name=&quot;com.facebook.sdk.ClientToken&quot; android:value=&quot;@string/facebook_client_token&quot;/&gt;\n        &lt;activity android:name=&quot;com.facebook.FacebookActivity&quot;\n            android:configChanges=\n                &quot;keyboard|keyboardHidden|screenLayout|screenSize|orientation&quot;\n            android:label=&quot;@string/app_name&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.facebook.CustomTabActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                &lt;data android:scheme=&quot;@string/fb_login_protocol_scheme&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;com.example.pretest.MainActivity&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.FacebookTest.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt; \n</code></pre>\n"},{"tags":["java","c++","interface","header-files"],"comments":[{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":2,"creation_date":1298026017,"post_id":5039903,"comment_id":5639542,"body_markdown":"&quot;for every interface there is only one implementation&quot; - that just means they haven&#39;t written their unit tests yet ;-)","body":"&quot;for every interface there is only one implementation&quot; - that just means they haven&#39;t written their unit tests yet ;-)"},{"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"score":0,"creation_date":1298026891,"post_id":5039903,"comment_id":5639690,"body_markdown":"@Steve Jessop: But instead of using an interface and a dummy implementation for unit testing couldn&#39;t they simply implement a class and use a mocking framework for their unit tests?","body":"@Steve Jessop: But instead of using an interface and a dummy implementation for unit testing couldn&#39;t they simply implement a class and use a mocking framework for their unit tests?"},{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":0,"creation_date":1298036969,"post_id":5039903,"comment_id":5641537,"body_markdown":"yes, because mocking frameworks &quot;cheat&quot;, in the sense that they abstract an interface out of a class without formally declaring it. Defining an interface for *every* concrete class, and never using interfaces for any other purpose, so that there literally is only one class per interface and only ever will be no matter how the code is developed in future, could be considered premature and unused flexibility and is probably misguided.","body":"yes, because mocking frameworks &quot;cheat&quot;, in the sense that they abstract an interface out of a class without formally declaring it. Defining an interface for <i>every</i> concrete class, and never using interfaces for any other purpose, so that there literally is only one class per interface and only ever will be no matter how the code is developed in future, could be considered premature and unused flexibility and is probably misguided."},{"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"score":0,"creation_date":1298045746,"post_id":5039903,"comment_id":5643783,"body_markdown":"&quot;Premature Flexibilization Is The Root of Whatever Evil Is Left!&quot;\n\nhttp://dev.hubspot.com/bid/7271/Premature-Flexibilization-Is-The-Root-of-Whatever-Evil-Is-Left","body":"&quot;Premature Flexibilization Is The Root of Whatever Evil Is Left!&quot;  <a href=\"http://dev.hubspot.com/bid/7271/Premature-Flexibilization-Is-The-Root-of-Whatever-Evil-Is-Left\" rel=\"nofollow noreferrer\">dev.hubspot.com/bid/7271/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47491,"reputation":220833,"user_id":140719,"accept_rate":88,"display_name":"sbi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1298023943,"creation_date":1298023563,"answer_id":5039957,"question_id":5039903,"body_markdown":"No. In C++, files (headers) are _not_ the same as classes. \r\n\r\nProgramming against interfaces as in Java can be done in C++, too, by programming against [abstract base classes](https://stackoverflow.com/search?q=[c%2B%2B]+abstract+base). \r\n\r\nHowever, the Java term of &quot;interface&quot; is quite restricted. Basically, any function declaration is an interface: \r\n\r\n    void call_me(int times); \r\n\r\nAs are, of course, classes and other types. \r\n\r\nIn C++, you group such things in headers, so an interface _can_ consist of one header. However, it might just as well consist of multiple headers. ","title":"Is programming against interfaces in Java the same concept as using header files in C/C++?","body":"<p>No. In C++, files (headers) are <em>not</em> the same as classes. </p>\n\n<p>Programming against interfaces as in Java can be done in C++, too, by programming against <a href=\"https://stackoverflow.com/search?q=[c%2B%2B]+abstract+base\">abstract base classes</a>. </p>\n\n<p>However, the Java term of \"interface\" is quite restricted. Basically, any function declaration is an interface: </p>\n\n<pre><code>void call_me(int times); \n</code></pre>\n\n<p>As are, of course, classes and other types. </p>\n\n<p>In C++, you group such things in headers, so an interface <em>can</em> consist of one header. However, it might just as well consist of multiple headers. </p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1333556670,"creation_date":1298023577,"answer_id":5039963,"question_id":5039903,"body_markdown":"Interfaces doesn&#39;t come from a desire to keep header files.\r\n\r\nInterfaces the closest Java comes to supporting http://en.wikipedia.org/wiki/Design_by_contract","title":"Is programming against interfaces in Java the same concept as using header files in C/C++?","body":"<p>Interfaces doesn't come from a desire to keep header files.</p>\n\n<p>Interfaces the closest Java comes to supporting <a href=\"http://en.wikipedia.org/wiki/Design_by_contract\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Design_by_contract</a></p>\n"},{"tags":[],"owner":{"account_id":65015,"reputation":104282,"user_id":191596,"accept_rate":86,"display_name":"justin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1298024174,"creation_date":1298023746,"answer_id":5039987,"question_id":5039903,"body_markdown":"interfaces are more like abstract base classes in c++.\r\n\r\nthe reason they are often used in java is that multiple inheritance does not exist in java (both were design decisions). c++ supports multiple inheritance, so... it can accomplish the problem that way (and via a few others).\r\n\r\nonce a class implements an interface in java, then it can be passed as the type. the same principle in c++, although the written implementation is slightly different.\r\n\r\nso, the interface simplifies the programming process, since arbitrary objects may be passed, as long as they implement the interface (or in c++ are derived from a specific class). with an interface, you do not need to derive from a common base class -- it&#39;s a very simple, and usable design. multiple inheritance in c++ is a pitfall for many developers.","title":"Is programming against interfaces in Java the same concept as using header files in C/C++?","body":"<p>interfaces are more like abstract base classes in c++.</p>\n\n<p>the reason they are often used in java is that multiple inheritance does not exist in java (both were design decisions). c++ supports multiple inheritance, so... it can accomplish the problem that way (and via a few others).</p>\n\n<p>once a class implements an interface in java, then it can be passed as the type. the same principle in c++, although the written implementation is slightly different.</p>\n\n<p>so, the interface simplifies the programming process, since arbitrary objects may be passed, as long as they implement the interface (or in c++ are derived from a specific class). with an interface, you do not need to derive from a common base class -- it's a very simple, and usable design. multiple inheritance in c++ is a pitfall for many developers.</p>\n"},{"tags":[],"owner":{"account_id":280045,"reputation":6775,"user_id":575520,"accept_rate":67,"display_name":"Laurent Pireyn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298024574,"creation_date":1298024574,"answer_id":5040108,"question_id":5039903,"body_markdown":"In Java, an interface defines a **contract**, while a class provides an **implementation** of a contract.\r\n\r\nMost contracts have only one meaningful or relevant implementation; some even assume a specific implementation and do not allow any other. Those contracts and their implementations are defined together in classes, without any interfaces. Example: `java.lang.String`.\r\n\r\nOn the other hand, some contracts do not make any assumption on the possible implementations. Those are defined in interfaces. Partial implementations can be defined in **abstract classes**, and typical complete implementations can be defined in classes, but the fact that the contract is defined in an interface allows you to write your own implementation of that contract and use it wherever an instance of the contract is expected.\r\n\r\nAt the file level, both an interface and a class are compilation units and deserve their own file.\r\n\r\nAs you now hopefully understand, the distinction between header files and implementation files in C++ is very different.","title":"Is programming against interfaces in Java the same concept as using header files in C/C++?","body":"<p>In Java, an interface defines a <strong>contract</strong>, while a class provides an <strong>implementation</strong> of a contract.</p>\n\n<p>Most contracts have only one meaningful or relevant implementation; some even assume a specific implementation and do not allow any other. Those contracts and their implementations are defined together in classes, without any interfaces. Example: <code>java.lang.String</code>.</p>\n\n<p>On the other hand, some contracts do not make any assumption on the possible implementations. Those are defined in interfaces. Partial implementations can be defined in <strong>abstract classes</strong>, and typical complete implementations can be defined in classes, but the fact that the contract is defined in an interface allows you to write your own implementation of that contract and use it wherever an instance of the contract is expected.</p>\n\n<p>At the file level, both an interface and a class are compilation units and deserve their own file.</p>\n\n<p>As you now hopefully understand, the distinction between header files and implementation files in C++ is very different.</p>\n"},{"tags":[],"owner":{"account_id":4413,"reputation":40863,"user_id":6610,"accept_rate":72,"display_name":"xtofl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298025632,"creation_date":1298025632,"answer_id":5040290,"question_id":5039903,"body_markdown":"No, programming against interfaces has nothing to do with whether or not you use header files.\r\n\r\nDefining an interface explicitly will allow evolving the program on both sides independently.  The &#39;interface&#39; of a code body denotes the contract to which it obeys.\r\n\r\nProgramming languages never *fully* support interface definitions, they merely have some syntactic sugar to handle the type-correctness aspect.  Performance aspects, for one, are most of the time unspecificable, just like complexity rules etc... (C++ standard defines some complexity requirements for the containers and algorithms).\r\n\r\nThis limited support has left Java with the keyword `interface`: since object orientation is about grouping functionality into classes, it made sense to couple the concept of an &#39;interface&#39; to something that groups member function definitions.  Several classes can implement a given interface, and a class can implement many interfaces as well.\r\n\r\nIn C++, they didn&#39;t even bother to explicitly add &#39;interface&#39; to the language.  The thing that comes closest to the &#39;class interface&#39; of Java is a pure abtract class: a class with only pure virtual member functions.  Since C++ supports multiple inheritance, classes can implement multiple of these &#39;interfaces&#39;.\r\n\r\n\r\nWhen it comes to the separation of your code into headers and source files, that&#39;s totally irrelevant to the interface concept.  But indeed: in C++, the &#39;calling contract&#39; is mostly specified in a header file.  And indeed, that makes for shorter compilation times (less IO).  But that&#39;s a compiler-technical aspect.","title":"Is programming against interfaces in Java the same concept as using header files in C/C++?","body":"<p>No, programming against interfaces has nothing to do with whether or not you use header files.</p>\n\n<p>Defining an interface explicitly will allow evolving the program on both sides independently.  The 'interface' of a code body denotes the contract to which it obeys.</p>\n\n<p>Programming languages never <em>fully</em> support interface definitions, they merely have some syntactic sugar to handle the type-correctness aspect.  Performance aspects, for one, are most of the time unspecificable, just like complexity rules etc... (C++ standard defines some complexity requirements for the containers and algorithms).</p>\n\n<p>This limited support has left Java with the keyword <code>interface</code>: since object orientation is about grouping functionality into classes, it made sense to couple the concept of an 'interface' to something that groups member function definitions.  Several classes can implement a given interface, and a class can implement many interfaces as well.</p>\n\n<p>In C++, they didn't even bother to explicitly add 'interface' to the language.  The thing that comes closest to the 'class interface' of Java is a pure abtract class: a class with only pure virtual member functions.  Since C++ supports multiple inheritance, classes can implement multiple of these 'interfaces'.</p>\n\n<p>When it comes to the separation of your code into headers and source files, that's totally irrelevant to the interface concept.  But indeed: in C++, the 'calling contract' is mostly specified in a header file.  And indeed, that makes for shorter compilation times (less IO).  But that's a compiler-technical aspect.</p>\n"},{"tags":[],"owner":{"account_id":221263,"reputation":7560,"user_id":479137,"accept_rate":100,"display_name":"David M&#229;rtensson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632502642,"creation_date":1298025745,"answer_id":5040312,"question_id":5039903,"body_markdown":"Header files in C/C++ has nothing to do with classes or interfaces at all.\r\n\r\nA header file is more like the reference you add to your project, or the `using` statement.\r\n\r\nIt&#39;s an instruction to the compiler that the object (class) and function declarations in the header file exist so that the compiler can compile the file without having to look through the whole project.\r\n\r\nA header file in C++ can contain classes or function definitions, or macros, or enums... or many other things, but is conceptually very different from classes or interfaces.\r\n\r\nYou can use interfaces in C++, as shown here: https://stackoverflow.com/questions/318064/how-do-you-declare-an-interface-in-c.\r\n\r\n...and those definitions are placed in header files, but the header file itself is something else.\r\n\r\n\r\nThe reason to use interfaces instead of inheritance is that many classes can implement an interface or many interfaces but you can only inherit from one class.\r\n\r\nSo if you have many objects, that is, to be interchangeable, you would end up with a very complex class hierarchy - while with interfaces, the classes can be built completely separately with only the interface linking them.","title":"Is programming against interfaces in Java the same concept as using header files in C/C++?","body":"<p>Header files in C/C++ has nothing to do with classes or interfaces at all.</p>\n<p>A header file is more like the reference you add to your project, or the <code>using</code> statement.</p>\n<p>It's an instruction to the compiler that the object (class) and function declarations in the header file exist so that the compiler can compile the file without having to look through the whole project.</p>\n<p>A header file in C++ can contain classes or function definitions, or macros, or enums... or many other things, but is conceptually very different from classes or interfaces.</p>\n<p>You can use interfaces in C++, as shown here: <a href=\"https://stackoverflow.com/questions/318064/how-do-you-declare-an-interface-in-c\">How do you declare an interface in C++?</a>.</p>\n<p>...and those definitions are placed in header files, but the header file itself is something else.</p>\n<p>The reason to use interfaces instead of inheritance is that many classes can implement an interface or many interfaces but you can only inherit from one class.</p>\n<p>So if you have many objects, that is, to be interchangeable, you would end up with a very complex class hierarchy - while with interfaces, the classes can be built completely separately with only the interface linking them.</p>\n"},{"tags":[],"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507875941,"creation_date":1298026838,"answer_id":5040473,"question_id":5039903,"body_markdown":"The question is good, there *is* a connection between header files and classes/interfaces/OO programming, beyond the raw syntax of the languages. \r\n\r\nProper C++ program design:\r\n\r\n - Put one class declaration, and one\r\n   only, in a h-file.\r\n - Give said h-file the same name as the\r\n   class declared.\r\n - Put the class definition in a\r\n   cpp-file with the same name as the\r\n   h-file.\r\n\r\nProper Java program design:\r\n\r\n - Same as for C++, though also put interfaces in files of their own.  \r\n\r\nProper C design:\r\n\r\n - In the h-file, declare functions belonging to a particular &quot;code module&quot;.\r\n - Put the function definitions in a c-file with the same name as the h-file.\r\n - All variables you would have declared as private/protected if writing C++/Java should either be truly private through the concept of &quot;opaque type/pointers&quot;, or be placed at file scope and declared static, so that they can be shared between functions within the &quot;code module&quot; (though that makes the code non-reentrant).\r\n\r\nIf you don&#39;t use the above intimate connection between classes and h-files, there is a fine chance that your program is an unreadable mess, no matter how elegant your OO design is.","title":"Is programming against interfaces in Java the same concept as using header files in C/C++?","body":"<p>The question is good, there <em>is</em> a connection between header files and classes/interfaces/OO programming, beyond the raw syntax of the languages. </p>\n\n<p>Proper C++ program design:</p>\n\n<ul>\n<li>Put one class declaration, and one\nonly, in a h-file.</li>\n<li>Give said h-file the same name as the\nclass declared.</li>\n<li>Put the class definition in a\ncpp-file with the same name as the\nh-file.</li>\n</ul>\n\n<p>Proper Java program design:</p>\n\n<ul>\n<li>Same as for C++, though also put interfaces in files of their own.  </li>\n</ul>\n\n<p>Proper C design:</p>\n\n<ul>\n<li>In the h-file, declare functions belonging to a particular \"code module\".</li>\n<li>Put the function definitions in a c-file with the same name as the h-file.</li>\n<li>All variables you would have declared as private/protected if writing C++/Java should either be truly private through the concept of \"opaque type/pointers\", or be placed at file scope and declared static, so that they can be shared between functions within the \"code module\" (though that makes the code non-reentrant).</li>\n</ul>\n\n<p>If you don't use the above intimate connection between classes and h-files, there is a fine chance that your program is an unreadable mess, no matter how elegant your OO design is.</p>\n"}],"owner":{"account_id":59864,"reputation":11232,"user_id":179014,"accept_rate":60,"display_name":"asmaier"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8497,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":5039957,"answer_count":7,"score":17,"last_activity_date":1632502642,"creation_date":1298023249,"question_id":5039903,"body_markdown":"The java code I&#39;m working on at the moment has often a structure like\r\n\r\nfile Controller.java:\r\n\r\n    interface Controller {...}\r\n\r\nfile ControllerImpl.java:\r\n\r\n    class ControllerImpl implements Controller {...}\r\n\r\nBut for every interface there is only one implementation. Isn&#39;t that the same as using header files in C/C++ where I have the code split into files like \r\n\r\n    Controller.hpp\r\n    Controller.cpp\r\n\r\nFrom what I know, header files in C/C++ have been introduced to help the compiler, which is not necessary anymore in Java. Also header files should help with the readability of the code, but having a modern IDE with folding and outline view this is also not a necessity anymore. \r\n\r\nSo why do people again introduce header files in Java through the back door by programming against interfaces?","title":"Is programming against interfaces in Java the same concept as using header files in C/C++?","body":"<p>The java code I'm working on at the moment has often a structure like</p>\n\n<p>file Controller.java:</p>\n\n<pre><code>interface Controller {...}\n</code></pre>\n\n<p>file ControllerImpl.java:</p>\n\n<pre><code>class ControllerImpl implements Controller {...}\n</code></pre>\n\n<p>But for every interface there is only one implementation. Isn't that the same as using header files in C/C++ where I have the code split into files like </p>\n\n<pre><code>Controller.hpp\nController.cpp\n</code></pre>\n\n<p>From what I know, header files in C/C++ have been introduced to help the compiler, which is not necessary anymore in Java. Also header files should help with the readability of the code, but having a modern IDE with folding and outline view this is also not a necessity anymore. </p>\n\n<p>So why do people again introduce header files in Java through the back door by programming against interfaces?</p>\n"},{"tags":["java","arrays","while-loop","count"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1632503298,"post_id":69318684,"comment_id":122519139,"body_markdown":"You call `countJumps` twice in `main()`. Once to test `if (countJumps(rocks)==-1)` and once in the `else` if that test fails at `System.out.println(countJumps(rocks)+&quot; jumps&quot;);`","body":"You call <code>countJumps</code> twice in <code>main()</code>. Once to test <code>if (countJumps(rocks)==-1)</code> and once in the <code>else</code> if that test fails at <code>System.out.println(countJumps(rocks)+&quot; jumps&quot;);</code>"},{"owner":{"account_id":22505793,"reputation":21,"user_id":16701410,"display_name":"chickennugget"},"score":0,"creation_date":1632503875,"post_id":69318684,"comment_id":122519306,"body_markdown":"wait but how would that cause the &quot;count&quot; within the countJumps method to like revert to 1? for example, if i enter 11; 30 70 75 120 160 \n170 180 190 200 246 258, it will run smoothly and count till 4 but it starts all over at 30 at the 5th round and count reverts to 1?  @JohnnyMopp","body":"wait but how would that cause the &quot;count&quot; within the countJumps method to like revert to 1? for example, if i enter 11; 30 70 75 120 160  170 180 190 200 246 258, it will run smoothly and count till 4 but it starts all over at 30 at the 5th round and count reverts to 1?  @JohnnyMopp"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1632503916,"post_id":69318684,"comment_id":122519317,"body_markdown":"Because you modify the original list of `rocks` in `adjustArray()` so the 2nd time you call `countJumps()`, it&#39;s different data.","body":"Because you modify the original list of <code>rocks</code> in <code>adjustArray()</code> so the 2nd time you call <code>countJumps()</code>, it&#39;s different data."},{"owner":{"account_id":22505793,"reputation":21,"user_id":16701410,"display_name":"chickennugget"},"score":0,"creation_date":1632505007,"post_id":69318684,"comment_id":122519685,"body_markdown":"oHH that took quite awhile but i think i get it now... thanks!! @JohnnyMopp","body":"oHH that took quite awhile but i think i get it now... thanks!! @JohnnyMopp"}],"owner":{"account_id":22505793,"reputation":21,"user_id":16701410,"display_name":"chickennugget"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632502529,"creation_date":1632502529,"question_id":69318684,"body_markdown":"As a homework, i was supposed to find the min number of steps needed to reach the last value in the array, assuming each step can only be a maximum of 50. \r\n\r\nSo, i did this : \r\n```\r\nimport java.util.*;\r\n\r\nclass RabbitJumps {\r\n  \r\n  public static void main (String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.print(&quot;Enter the number of rocks: &quot;);\r\n    int size = sc.nextInt();\r\n    System.out.print(&quot;Enter locations of &quot; +size+ &quot; rocks: &quot;);\r\n    int[] rocks = new int[size];\r\n    for (int i = 0; i&lt;size; i++) {\r\n      rocks[i] = sc.nextInt();\r\n    }\r\n    if (countJumps(rocks)==-1) {\r\n      System.out.println(&quot;Impossible&quot;);\r\n    } else {\r\n      System.out.println(countJumps(rocks)+&quot; jumps&quot;);\r\n    }\r\n  }\r\n  public static int countJumps(int[] rocks) {\r\n    for (int i = 0; i&lt;rocks.length-1; i++) {\r\n      if (rocks[i+1]-rocks[i]&gt;50) {\r\n        return -1;\r\n      }\r\n    }\r\n    int count = 0;\r\n    int distjumped = 0;\r\n    while (distjumped &lt; rocks[rocks.length-1]) {\r\n      int whichrock = nextStep(rocks); \r\n      distjumped += rocks[whichrock];\r\n      adjustArray(rocks, whichrock);\r\n      count++;\r\n      System.out.println(&quot;count = &quot;+count);    //check\r\n    }\r\n    return count;\r\n  }\r\n  public static int nextStep(int[] rocks) {\r\n    int dist = 0;\r\n    int whichrock = 0;\r\n    for (int i = 0; i&lt;rocks.length; i++) {\r\n      if (rocks[i]&gt;dist &amp;&amp; rocks[i]&lt;=50) {\r\n        dist=rocks[i];\r\n        whichrock = i;\r\n        System.out.println(dist);    // check\r\n      } \r\n    }\r\n    System.out.println(&quot;whichrock = &quot;+whichrock);     //check\r\n    return whichrock;\r\n  }\r\n  public static void adjustArray(int[] rocks, int whichrock) {\r\n    int dist = rocks[whichrock];\r\n    for (int i = 0; i&lt;rocks.length; i++) {\r\n      rocks[i]-=dist;\r\n    }\r\n    for (int i = 0; i&lt;=whichrock; i++) {\r\n      rocks[i]=0;\r\n    }\r\n  }\r\n}\r\n```\r\nI&#39;m not quite sure why the count&#39;s kinda wonky? like this: [![image][1]][1] I&#39;m not sure why the count&#39;s starting from 1 again midway. This happens with other inputs as well :( \r\nWould appreciate some help!! thanks guys!!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T7sul.png","title":"Not quite sure why &quot;count&quot; is decreasing midway (java)","body":"<p>As a homework, i was supposed to find the min number of steps needed to reach the last value in the array, assuming each step can only be a maximum of 50.</p>\n<p>So, i did this :</p>\n<pre><code>import java.util.*;\n\nclass RabbitJumps {\n  \n  public static void main (String[] args) {\n    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;Enter the number of rocks: &quot;);\n    int size = sc.nextInt();\n    System.out.print(&quot;Enter locations of &quot; +size+ &quot; rocks: &quot;);\n    int[] rocks = new int[size];\n    for (int i = 0; i&lt;size; i++) {\n      rocks[i] = sc.nextInt();\n    }\n    if (countJumps(rocks)==-1) {\n      System.out.println(&quot;Impossible&quot;);\n    } else {\n      System.out.println(countJumps(rocks)+&quot; jumps&quot;);\n    }\n  }\n  public static int countJumps(int[] rocks) {\n    for (int i = 0; i&lt;rocks.length-1; i++) {\n      if (rocks[i+1]-rocks[i]&gt;50) {\n        return -1;\n      }\n    }\n    int count = 0;\n    int distjumped = 0;\n    while (distjumped &lt; rocks[rocks.length-1]) {\n      int whichrock = nextStep(rocks); \n      distjumped += rocks[whichrock];\n      adjustArray(rocks, whichrock);\n      count++;\n      System.out.println(&quot;count = &quot;+count);    //check\n    }\n    return count;\n  }\n  public static int nextStep(int[] rocks) {\n    int dist = 0;\n    int whichrock = 0;\n    for (int i = 0; i&lt;rocks.length; i++) {\n      if (rocks[i]&gt;dist &amp;&amp; rocks[i]&lt;=50) {\n        dist=rocks[i];\n        whichrock = i;\n        System.out.println(dist);    // check\n      } \n    }\n    System.out.println(&quot;whichrock = &quot;+whichrock);     //check\n    return whichrock;\n  }\n  public static void adjustArray(int[] rocks, int whichrock) {\n    int dist = rocks[whichrock];\n    for (int i = 0; i&lt;rocks.length; i++) {\n      rocks[i]-=dist;\n    }\n    for (int i = 0; i&lt;=whichrock; i++) {\n      rocks[i]=0;\n    }\n  }\n}\n</code></pre>\n<p>I'm not quite sure why the count's kinda wonky? like this: <a href=\"https://i.stack.imgur.com/T7sul.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T7sul.png\" alt=\"image\" /></a> I'm not sure why the count's starting from 1 again midway. This happens with other inputs as well :(\nWould appreciate some help!! thanks guys!!</p>\n"},{"tags":["java","recursion","matrix","permutation","combinatorics"],"comments":[{"owner":{"account_id":16726121,"reputation":455,"user_id":12089702,"display_name":"Stan van der Bend"},"score":1,"creation_date":1632496502,"post_id":69317324,"comment_id":122516593,"body_markdown":"Does this answer your question? [All possible permutations of a NxN matrix in Java](https://stackoverflow.com/questions/26549708/all-possible-permutations-of-a-nxn-matrix-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26549708/all-possible-permutations-of-a-nxn-matrix-in-java\">All possible permutations of a NxN matrix in Java</a>"},{"owner":{"account_id":9876989,"reputation":11,"user_id":7314351,"display_name":"Xore"},"score":0,"creation_date":1632497060,"post_id":69317324,"comment_id":122516834,"body_markdown":"Sadly not working with this case of Permutation matrices","body":"Sadly not working with this case of Permutation matrices"},{"owner":{"account_id":16726121,"reputation":455,"user_id":12089702,"display_name":"Stan van der Bend"},"score":1,"creation_date":1632497118,"post_id":69317324,"comment_id":122516866,"body_markdown":"Can u provide a [mre] ?","body":"Can u provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ?"},{"owner":{"account_id":17783121,"reputation":418,"user_id":12913865,"display_name":"Šimon Vyhnis"},"score":0,"creation_date":1632508983,"post_id":69317324,"comment_id":122521076,"body_markdown":"Why did you closed that, it isn&#39;t duplicate of that...?","body":"Why did you closed that, it isn&#39;t duplicate of that...?"},{"owner":{"account_id":9876989,"reputation":11,"user_id":7314351,"display_name":"Xore"},"score":0,"creation_date":1632535367,"post_id":69317324,"comment_id":122526401,"body_markdown":"Got closed because of duplicate....it&#39;s not","body":"Got closed because of duplicate....it&#39;s not"}],"answers":[{"tags":[],"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632502304,"creation_date":1632502304,"answer_id":69318641,"question_id":69317324,"body_markdown":"I think you could make an algorithm based on recursion, with this design:\r\n\r\n    public Collection&lt;Matrix&gt; permute(int n)\r\n\r\n1. Base case is `n=1`: It returns a single matrix `{1}`.\r\n2. The rest of cases must iterate from `i=0 to n-1`. On eeach iteration:\r\n\r\n      - Call to `permute(n-1)` and iterate the returned list. On each iteration:\r\n\r\n        - Convert the `n-1` matrix to a `n x n` matrix, inserting a row at position 0 and a column at position 0 (filled with 0).\r\n        - Set an 1 in the `(0,0)` position.\r\n        - Move the first **column** to the `i` position.\r\n\r\nI suggest you could also make a battery of unit tests. Each one should check, at least, that the size of the collection returned by `permute(n)` has `n!` elements:\r\n\r\n - 1-&gt;1\r\n - 2-&gt;2\r\n - 3-&gt;6\r\n - 4-&gt;24\r\n\r\n","title":"Generating all possible Permutation matrices","body":"<p>I think you could make an algorithm based on recursion, with this design:</p>\n<pre><code>public Collection&lt;Matrix&gt; permute(int n)\n</code></pre>\n<ol>\n<li><p>Base case is <code>n=1</code>: It returns a single matrix <code>{1}</code>.</p>\n</li>\n<li><p>The rest of cases must iterate from <code>i=0 to n-1</code>. On eeach iteration:</p>\n<ul>\n<li><p>Call to <code>permute(n-1)</code> and iterate the returned list. On each iteration:</p>\n<ul>\n<li>Convert the <code>n-1</code> matrix to a <code>n x n</code> matrix, inserting a row at position 0 and a column at position 0 (filled with 0).</li>\n<li>Set an 1 in the <code>(0,0)</code> position.</li>\n<li>Move the first <strong>column</strong> to the <code>i</code> position.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>I suggest you could also make a battery of unit tests. Each one should check, at least, that the size of the collection returned by <code>permute(n)</code> has <code>n!</code> elements:</p>\n<ul>\n<li>1-&gt;1</li>\n<li>2-&gt;2</li>\n<li>3-&gt;6</li>\n<li>4-&gt;24</li>\n</ul>\n"}],"owner":{"account_id":9876989,"reputation":11,"user_id":7314351,"display_name":"Xore"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1632502301,"answer_count":1,"score":-2,"last_activity_date":1632502304,"creation_date":1632496126,"question_id":69317324,"body_markdown":"Permutation matrices are matrices with exactly one 1 on each line and column.\r\n\r\nExample:\r\n\r\n(1 0 0)\r\n\r\n(0 1 0)\r\n\r\n(0 0 1)\r\n\r\nI am trying to generate all possible permutations of a n-sized matrix but this seems harder to solve than expected. I tried swapping rows at first, but if you only swap rows of one initial matrix, you can&#39;t generate all possibilities. So I tried some recursion, but sadly I can&#39;t get my head through recursion. Does somebody have some advice?","title":"Generating all possible Permutation matrices","body":"<p>Permutation matrices are matrices with exactly one 1 on each line and column.</p>\n<p>Example:</p>\n<p>(1 0 0)</p>\n<p>(0 1 0)</p>\n<p>(0 0 1)</p>\n<p>I am trying to generate all possible permutations of a n-sized matrix but this seems harder to solve than expected. I tried swapping rows at first, but if you only swap rows of one initial matrix, you can't generate all possibilities. So I tried some recursion, but sadly I can't get my head through recursion. Does somebody have some advice?</p>\n"},{"tags":["java","multithreading","concurrency","loops","message-passing"],"comments":[{"owner":{"account_id":110346,"reputation":3589,"user_id":292023,"accept_rate":95,"display_name":"Ryan"},"score":0,"creation_date":1280440140,"post_id":3367192,"comment_id":3497970,"body_markdown":"Why don&#39;t you give more detail about what you are trying to achieve and we will tell you if there&#39;s a better way to do it.","body":"Why don&#39;t you give more detail about what you are trying to achieve and we will tell you if there&#39;s a better way to do it."},{"owner":{"account_id":635999,"reputation":361,"user_id":406227,"display_name":"Mr. Burgundy"},"score":0,"creation_date":1280440574,"post_id":3367192,"comment_id":3498035,"body_markdown":"`@Ryan:` Updated; please take a look!","body":"<code>@Ryan:</code> Updated; please take a look!"},{"owner":{"account_id":7733,"reputation":13518,"user_id":13500,"accept_rate":75,"display_name":"Colen"},"score":2,"creation_date":1280441034,"post_id":3367192,"comment_id":3498094,"body_markdown":"10000 threads seems like a bad idea, since there may be overhead associated with each thread...","body":"10000 threads seems like a bad idea, since there may be overhead associated with each thread..."},{"owner":{"account_id":635999,"reputation":361,"user_id":406227,"display_name":"Mr. Burgundy"},"score":0,"creation_date":1280441650,"post_id":3367192,"comment_id":3498166,"body_markdown":"`@Colen:` Please see my new question, as I thought it was a bad idea too... What&#39;s the alternative? http://stackoverflow.com/questions/3367383/java-high-performance-message-passing-single-producer-single-consumer","body":"<code>@Colen:</code> Please see my new question, as I thought it was a bad idea too... What&#39;s the alternative? <a href=\"http://stackoverflow.com/questions/3367383/java-high-performance-message-passing-single-producer-single-consumer\" title=\"java high performance message passing single producer single consumer\">stackoverflow.com/questions/3367383/&hellip;</a>"},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1280442078,"post_id":3367192,"comment_id":3498210,"body_markdown":"The overhead of 10k threads will be extreme","body":"The overhead of 10k threads will be extreme"},{"owner":{"account_id":635999,"reputation":361,"user_id":406227,"display_name":"Mr. Burgundy"},"score":0,"creation_date":1280442434,"post_id":3367192,"comment_id":3498249,"body_markdown":"`Willi Sch&#246;nborn:` Then, what&#39;s the alternative?","body":"<code>Willi Sch&#246;nborn:</code> Then, what&#39;s the alternative?"},{"owner":{"account_id":10554252,"reputation":331,"user_id":7775986,"display_name":"Lealo"},"score":0,"creation_date":1502469728,"post_id":3367192,"comment_id":78239526,"body_markdown":"if you use a while instead of an if statement inside your thread - does that mean that you create a new loop everytime your thread runs?","body":"if you use a while instead of an if statement inside your thread - does that mean that you create a new loop everytime your thread runs?"}],"answers":[{"tags":[],"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280440015,"creation_date":1280440015,"answer_id":3367212,"question_id":3367192,"body_markdown":"Usually, you&#39;ll want to `wait` on a resource of some kind to do work, which hides actual threading details from you. It sounds like you wanted to implement your own [spinlock][1].\r\n\r\n[Here&#39;s some tutorial about locking I found I google.][2]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Spinlock\r\n  [2]: http://www.ibm.com/developerworks/library/j-thread.html","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>Usually, you'll want to <code>wait</code> on a resource of some kind to do work, which hides actual threading details from you. It sounds like you wanted to implement your own <a href=\"http://en.wikipedia.org/wiki/Spinlock\" rel=\"nofollow noreferrer\">spinlock</a>.</p>\n\n<p><a href=\"http://www.ibm.com/developerworks/library/j-thread.html\" rel=\"nofollow noreferrer\">Here's some tutorial about locking I found I google.</a></p>\n"},{"tags":[],"owner":{"account_id":117983,"reputation":17117,"user_id":308668,"accept_rate":77,"display_name":"mike3996"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1280440114,"creation_date":1280440114,"answer_id":3367228,"question_id":3367192,"body_markdown":"    while (!stop_running) { ... }\r\n\r\n...perhaps? A some sort of exit flag is often used to control thread running.","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<pre><code>while (!stop_running) { ... }\n</code></pre>\n\n<p>...perhaps? A some sort of exit flag is often used to control thread running.</p>\n"},{"tags":[],"owner":{"account_id":25331,"reputation":60040,"user_id":65070,"accept_rate":82,"display_name":"Eric Petroelje"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1280440152,"creation_date":1280440152,"answer_id":3367233,"question_id":3367192,"body_markdown":"Not inherently, no.  You can always bail using `break` or `return`.  Just make sure you actually do (at some point)\r\n\r\nThe problem is what happens when your thread has nothing to do?  If you just loop around and around checking a condition, your thread will eat up the whole CPU doing nothing.   So make sure to use `wait` to cause your thread to block, or `sleep` if you don&#39;t have anything to `wait` on.","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>Not inherently, no.  You can always bail using <code>break</code> or <code>return</code>.  Just make sure you actually do (at some point)</p>\n\n<p>The problem is what happens when your thread has nothing to do?  If you just loop around and around checking a condition, your thread will eat up the whole CPU doing nothing.   So make sure to use <code>wait</code> to cause your thread to block, or <code>sleep</code> if you don't have anything to <code>wait</code> on.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280440691,"creation_date":1280440691,"answer_id":3367289,"question_id":3367192,"body_markdown":"Depends on the definition of &quot;bad&quot;.  It means that the person trying to read the code has to look elsewhere for the reason that the loop is terminated.  That may make it less readable.\r\n\r\nThis mentality taken to the extreme results in the COMEFROM keyword.  http://en.wikipedia.org/wiki/COMEFROM\r\n\r\n    10 COMEFROM 40\r\n    20 INPUT &quot;WHAT IS YOUR NAME? &quot;; A$\r\n    30 PRINT &quot;HELLO, &quot;; A$\r\n    40 REM","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>Depends on the definition of \"bad\".  It means that the person trying to read the code has to look elsewhere for the reason that the loop is terminated.  That may make it less readable.</p>\n\n<p>This mentality taken to the extreme results in the COMEFROM keyword.  <a href=\"http://en.wikipedia.org/wiki/COMEFROM\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/COMEFROM</a></p>\n\n<pre><code>10 COMEFROM 40\n20 INPUT \"WHAT IS YOUR NAME? \"; A$\n30 PRINT \"HELLO, \"; A$\n40 REM\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164368,"reputation":104823,"user_id":387076,"accept_rate":47,"display_name":"Gilles &#39;SO- stop being evil&#39;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280440757,"creation_date":1280440757,"answer_id":3367296,"question_id":3367192,"body_markdown":"It&#39;s better to have the termination condition on the `while (...)` line, but sometimes the termination condition is something you can only test somewhere deep inside the loop. Then that&#39;s what `break` is for (or exceptions). In fact maybe your thread must run forever until your program terminates (with `System.exit`); then `while (true)` is definitely right.\r\n\r\nBut maybe you&#39;re asking about what should go inside the loop. You need to make sure to include some blocking operation, i.e., some function call where your thread will wait for someone else (another thread, another program, the OS) to do something. This is typically `Condition.wait` if you&#39;re programming with locks, or reading from a message queue, or reading from a file or network socket, or some other blocking I/O operation.\r\n\r\nNote that `sleep` is generally *not* good enough. You can&#39;t know when other participants are going to do something, so there&#39;s no way to avoid waking up too often (thus burning up CPU time needlessly) or too seldom (thus not reacting to events in a timely way). Always design your system so that when a thread has completed its job, it notifies whoever is waiting on that job (often with `Condition.signal` or by joining).","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>It's better to have the termination condition on the <code>while (...)</code> line, but sometimes the termination condition is something you can only test somewhere deep inside the loop. Then that's what <code>break</code> is for (or exceptions). In fact maybe your thread must run forever until your program terminates (with <code>System.exit</code>); then <code>while (true)</code> is definitely right.</p>\n\n<p>But maybe you're asking about what should go inside the loop. You need to make sure to include some blocking operation, i.e., some function call where your thread will wait for someone else (another thread, another program, the OS) to do something. This is typically <code>Condition.wait</code> if you're programming with locks, or reading from a message queue, or reading from a file or network socket, or some other blocking I/O operation.</p>\n\n<p>Note that <code>sleep</code> is generally <em>not</em> good enough. You can't know when other participants are going to do something, so there's no way to avoid waking up too often (thus burning up CPU time needlessly) or too seldom (thus not reacting to events in a timely way). Always design your system so that when a thread has completed its job, it notifies whoever is waiting on that job (often with <code>Condition.signal</code> or by joining).</p>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1280441029,"creation_date":1280441029,"answer_id":3367326,"question_id":3367192,"body_markdown":"Instead of looping forever and breaking or returning, you might choose to check the interrupted status.\r\n\r\n    while (!Thread.currentThread().isInterrupted()) {\r\n        try {\r\n            doWork();\r\n            wait(1000);\r\n        } catch (InterruptedException ex) {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n\r\nIf your threads are tasks managed by an ExecutorService, you can have them all end gracefully simply by calling shutdownNow().","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>Instead of looping forever and breaking or returning, you might choose to check the interrupted status.</p>\n\n<pre><code>while (!Thread.currentThread().isInterrupted()) {\n    try {\n        doWork();\n        wait(1000);\n    } catch (InterruptedException ex) {\n        Thread.currentThread().interrupt();\n    }\n}\n</code></pre>\n\n<p>If your threads are tasks managed by an ExecutorService, you can have them all end gracefully simply by calling shutdownNow().</p>\n"},{"tags":[],"owner":{"account_id":39758,"reputation":12690,"user_id":114847,"accept_rate":85,"display_name":"JustJeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280441208,"creation_date":1280441208,"answer_id":3367349,"question_id":3367192,"body_markdown":"I usually go with a class attribute boolean called &#39;done&#39;, then the threads&#39; run methods look like\r\n\r\n    done = false;\r\n    while( !done ) {\r\n        // ... process stuff\r\n    }\r\n\r\nYou can then set done=true to kill the loop. This can be done from inside the loop, or you can have another method that sets it, so that other threads can pull the plug.","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>I usually go with a class attribute boolean called 'done', then the threads' run methods look like</p>\n\n<pre><code>done = false;\nwhile( !done ) {\n    // ... process stuff\n}\n</code></pre>\n\n<p>You can then set done=true to kill the loop. This can be done from inside the loop, or you can have another method that sets it, so that other threads can pull the plug.</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280441268,"creation_date":1280441268,"answer_id":3367358,"question_id":3367192,"body_markdown":"`while (true)` isn&#39;t bad if there is a way to exit the loop otherwise the call will run indefinitely.\r\n\r\nFor 10000 threads doing the `while(true)` call is bad practice...why don&#39;t you have a `sleep()` on the thread to allow other threads to run or an exit strategy if the thread finish running?","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p><code>while (true)</code> isn't bad if there is a way to exit the loop otherwise the call will run indefinitely.</p>\n\n<p>For 10000 threads doing the <code>while(true)</code> call is bad practice...why don't you have a <code>sleep()</code> on the thread to allow other threads to run or an exit strategy if the thread finish running?</p>\n"},{"tags":[],"owner":{"account_id":159829,"reputation":195,"user_id":379472,"accept_rate":78,"display_name":"heater"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1280442063,"creation_date":1280442063,"answer_id":3367437,"question_id":3367192,"body_markdown":"If I were do what you are talking about I would try this:\r\n\r\n    private Object lock = new Object();    \r\n\r\n    public void run(){\r\n        while(true){\r\n            synchronized(lock){\r\n                Message msg = messageQueue.poll();\r\n                if (msg != null) {\r\n                    ... // do something with the message\r\n                }else{\r\n                    try{\r\n                        lock.wait();\r\n                    }catch(InterruptedException e){\r\n                        e.printStackTrace();\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis allows you to make sure that you don&#39;t get any concurrent modification exepction on your messageQueue, as well as when there is no message you will not be using CPU time in the while(true) loop. Now you just need to make sure that when you do add something to your messageQueue you can call `lock.notifyAll()` so that the thread will know to run again.","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>If I were do what you are talking about I would try this:</p>\n\n<pre><code>private Object lock = new Object();    \n\npublic void run(){\n    while(true){\n        synchronized(lock){\n            Message msg = messageQueue.poll();\n            if (msg != null) {\n                ... // do something with the message\n            }else{\n                try{\n                    lock.wait();\n                }catch(InterruptedException e){\n                    e.printStackTrace();\n                    continue;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This allows you to make sure that you don't get any concurrent modification exepction on your messageQueue, as well as when there is no message you will not be using CPU time in the while(true) loop. Now you just need to make sure that when you do add something to your messageQueue you can call <code>lock.notifyAll()</code> so that the thread will know to run again.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1280446315,"creation_date":1280446315,"answer_id":3367766,"question_id":3367192,"body_markdown":"It looks like you are busy waiting, assuming a standard `BlockingQueue`. Use `take` instead of `poll`.\r\n\r\nOther than that, `for (;;)` is nicer than `while (true)`, IMO. ","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>It looks like you are busy waiting, assuming a standard <code>BlockingQueue</code>. Use <code>take</code> instead of <code>poll</code>.</p>\n\n<p>Other than that, <code>for (;;)</code> is nicer than <code>while (true)</code>, IMO. </p>\n"},{"tags":[],"owner":{"account_id":2771244,"reputation":11224,"user_id":2385808,"accept_rate":62,"display_name":"Fritz Duchardt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537697179,"creation_date":1537696493,"answer_id":52464972,"question_id":3367192,"body_markdown":"First up, the straight answer to this problem by Dough Lea:\r\n\r\n&gt; It is almost never a good idea to use bare spins waiting for values of variables. Use Thread.onSpinWait, Thread.yield, and/or blocking synchronization to better cope with the fact that &quot;eventually&quot; can be a long time, especially when there are more threads than cores on a system. \r\n\r\nhttp://gee.cs.oswego.edu/dl/html/j9mm.html\r\n\r\n**Thead.onSpinWait was introduced with Java 9.** It could look like this.\r\n\r\n    while (true) {\r\n        while (messageQueue.peek() == null) {\r\n           Thread.onSpinWait();\r\n        }\r\n        // do something with the message\r\n    }\r\n\r\n&gt; By invoking this method within each iteration of a spin-wait loop construct, the calling thread indicates to the runtime that it is busy-waiting. The runtime may take action to improve the performance of invoking spin-wait loop constructions. \r\n\r\nhttps://docs.oracle.com/javase/9/docs/api/java/lang/Thread.html#onSpinWait--\r\n\r\n","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>First up, the straight answer to this problem by Dough Lea:</p>\n\n<blockquote>\n  <p>It is almost never a good idea to use bare spins waiting for values of variables. Use Thread.onSpinWait, Thread.yield, and/or blocking synchronization to better cope with the fact that \"eventually\" can be a long time, especially when there are more threads than cores on a system. </p>\n</blockquote>\n\n<p><a href=\"http://gee.cs.oswego.edu/dl/html/j9mm.html\" rel=\"nofollow noreferrer\">http://gee.cs.oswego.edu/dl/html/j9mm.html</a></p>\n\n<p><strong>Thead.onSpinWait was introduced with Java 9.</strong> It could look like this.</p>\n\n<pre><code>while (true) {\n    while (messageQueue.peek() == null) {\n       Thread.onSpinWait();\n    }\n    // do something with the message\n}\n</code></pre>\n\n<blockquote>\n  <p>By invoking this method within each iteration of a spin-wait loop construct, the calling thread indicates to the runtime that it is busy-waiting. The runtime may take action to improve the performance of invoking spin-wait loop constructions. </p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.html#onSpinWait--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/lang/Thread.html#onSpinWait--</a></p>\n"},{"tags":[],"owner":{"account_id":9195024,"reputation":823,"user_id":6834039,"display_name":"Areeha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632502261,"creation_date":1593453832,"answer_id":62644141,"question_id":3367192,"body_markdown":"Although all the above answers are correct, I want to suggest this one as I came across this situation myself:\r\nYou can use a flag say:\r\n\r\n    isRunning=true;\r\n    while(isRunning){\r\n       //do Something\r\n    }\r\n\r\nLater, make sure that isRunning is set to false after you are done reading from the buffer or data file.","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>Although all the above answers are correct, I want to suggest this one as I came across this situation myself:\nYou can use a flag say:</p>\n<pre><code>isRunning=true;\nwhile(isRunning){\n   //do Something\n}\n</code></pre>\n<p>Later, make sure that isRunning is set to false after you are done reading from the buffer or data file.</p>\n"}],"owner":{"account_id":635999,"reputation":361,"user_id":406227,"display_name":"Mr. Burgundy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58634,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":12,"score":29,"last_activity_date":1632502261,"creation_date":1280439837,"question_id":3367192,"body_markdown":"Is `while (true) { ... }` loop in threads bad? What&#39;s the alternative?\r\n\r\n__Update; what I&#39;m trying to to...__\r\n\r\nI have ~10,000 threads, each consuming messages from their private queues. I have one thread that&#39;s producing messages one by one and putting them in the correct consumer&#39;s queue. Each consumer thread loops indefinitely, checking for a message to appear in their queue and process it.\r\n\r\nInside Consumer.java:\r\n \r\n    @Override\r\n    public void run() {\r\n        while (true) {\r\n            Message msg = messageQueue.poll();\r\n            if (msg != null) {\r\n                ... // do something with the message\r\n            }\r\n        }\r\n    }\r\n\r\nThe Producer is putting messages inside Consumer message queues at a rapid pace (several million messages per second). Consumers should process these messages as fast as possible!\r\n\r\nNote: the `while (true) { ... }` is terminated by a KILL message sent by the Producer as its last message. However, my question is about the proper way to do this message-passing...\r\n\r\n__Please see [the new question](https://stackoverflow.com/questions/3367383/java-high-performance-message-passing-single-producer-single-consumer), regarding this design.__","title":"Java: Is `while (true) { ... }` loop in a thread bad? What&#39;s the alternative?","body":"<p>Is <code>while (true) { ... }</code> loop in threads bad? What's the alternative?</p>\n\n<p><strong>Update; what I'm trying to to...</strong></p>\n\n<p>I have ~10,000 threads, each consuming messages from their private queues. I have one thread that's producing messages one by one and putting them in the correct consumer's queue. Each consumer thread loops indefinitely, checking for a message to appear in their queue and process it.</p>\n\n<p>Inside Consumer.java:</p>\n\n<pre><code>@Override\npublic void run() {\n    while (true) {\n        Message msg = messageQueue.poll();\n        if (msg != null) {\n            ... // do something with the message\n        }\n    }\n}\n</code></pre>\n\n<p>The Producer is putting messages inside Consumer message queues at a rapid pace (several million messages per second). Consumers should process these messages as fast as possible!</p>\n\n<p>Note: the <code>while (true) { ... }</code> is terminated by a KILL message sent by the Producer as its last message. However, my question is about the proper way to do this message-passing...</p>\n\n<p><strong>Please see <a href=\"https://stackoverflow.com/questions/3367383/java-high-performance-message-passing-single-producer-single-consumer\">the new question</a>, regarding this design.</strong></p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":215245,"reputation":4343,"user_id":469755,"display_name":"Cadin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632502234,"creation_date":1632502234,"answer_id":69318626,"question_id":69312939,"body_markdown":"Looks like you never reset the `x` and `y` variables you are using to loop over the grid lines.\r\n\r\n\r\n\r\nSo after the first time through, `x` is always greater than `width` and `y` is always greater than `height` so your loops don&#39;t run.\r\n\r\n\r\n```\r\n  x = 0;\r\n  while(x &lt; width){\r\n    line(x, 0, x, height);\r\n    x = x + spacing;\r\n  }\r\n  \r\n  y = 0;\r\n  while(y &lt; height){\r\n    line(0, y, width, y);\r\n    y = y + spacing;\r\n  }\r\n```","title":"How to draw a grid on top of an image in Processing3 while using updatePixels()","body":"<p>Looks like you never reset the <code>x</code> and <code>y</code> variables you are using to loop over the grid lines.</p>\n<p>So after the first time through, <code>x</code> is always greater than <code>width</code> and <code>y</code> is always greater than <code>height</code> so your loops don't run.</p>\n<pre><code>  x = 0;\n  while(x &lt; width){\n    line(x, 0, x, height);\n    x = x + spacing;\n  }\n  \n  y = 0;\n  while(y &lt; height){\n    line(0, y, width, y);\n    y = y + spacing;\n  }\n</code></pre>\n"}],"owner":{"account_id":18574216,"reputation":3,"user_id":13535343,"display_name":"Nico De Jager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69318626,"answer_count":1,"score":0,"last_activity_date":1632502234,"creation_date":1632476851,"question_id":69312939,"body_markdown":"I am trying to draw a grid over an image, while the &quot;Dancing with friends and enemies&quot; algorithm is running and updating the pixels. However my grid only shows for a split second before vanishing. I guess it is due to the pixels updating, however the grid does not get updated with the pixels. How can I make my grid update with the rest of the pixels?\r\n\r\n    import java.util.Arrays;\r\n\r\n    int activeFollowers, totalFollowers;\r\n\r\n    Follower[] followers;\r\n    int[] blurFilter;\r\n    boolean saveNextFrame;\r\n    PImage img;\r\n    int x = 0; // Gaan dit gebruik vir die vertikale lyne\r\n    int y = 0; // Gaan dit gebruik vir die horisontale lyne\r\n    int spacing = 50; // Gaan dit gebruik om die grid groter en kleiner te maak\r\n    \r\n    \r\n    void setup() {\r\n      size(1280, 720);\r\n      frameRate(60);\r\n      activeFollowers = 2000;\r\n      totalFollowers = 10000;\r\n      initUI();\r\n      initFollowers(totalFollowers);\r\n      activeSlider.val = activeFollowers/(float)followers.length;\r\n      background(0);\r\n      \r\n    \r\n      loadPixels();\r\n    \r\n      blurFilter = new int[width*height];\r\n    \r\n      saveNextFrame = false;\r\n      noSmooth();\r\n      \r\n    }\r\n    \r\n    final static int wf = 4;\r\n    final static int hf = 3;\r\n    void draw() {\r\n      //VERANDER BACKGROUND KAART\r\n      //**********************************************************************************************************************************************\r\n      //**********************************************************************************************************************************************\r\n      //**********************************************************************************************************************************************\r\n      //**********************************************************************************************************************************************\r\n      //**********************************************************************************************************************************************\r\n      PImage img = loadImage(&quot;map3.jpg&quot;);\r\n      img.resize(1280, 720);\r\n      image(img,0,0);\r\n      int fullImage = img.width * img.height;\r\n      //**********************************************************************************************************************************************\r\n      //**********************************************************************************************************************************************\r\n      //**********************************************************************************************************************************************\r\n      //**********************************************************************************************************************************************\r\n      //**********************************************************************************************************************************************\r\n      \r\n      \r\n      loadPixels();\r\n      int maxCount = 0;\r\n      swarm(followers, activeFollowers);\r\n      if (!blurToggle.set) {\r\n        Arrays.fill(blurFilter, 0);\r\n      }\r\n    \r\n      // We want to set the brightness according to Follower density per pixel\r\n      // and we can have thousands of Followers overlapping in one pixel.\r\n      // Using FPM, we first we add 0x100 per Follower to every pixel\r\n      for (int i = 0; i &lt; activeFollowers; i++) {\r\n        Follower f = followers[i];\r\n        int x = (int)f.x;\r\n        int y = (int)f.y;\r\n        if (x &gt;= 0 &amp;&amp; x &lt; width &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; height) {\r\n          int c = blurFilter[x + width*y] + 0x100;\r\n          blurFilter[x + width*y] = c;\r\n    \r\n          //also keep count maximum value of the blurField, to normalise later on.\r\n          if (c &gt; maxCount) {\r\n            maxCount = c;\r\n          }\r\n        }\r\n      }\r\n      \r\n    \r\n      // Linear scaling of brightness doensn&#39;t work - we want to be able to distinguish from 1 to 100000 Followers\r\n      float mv = 1/sqrt(sqrt(maxCount));\r\n      for (int y = 0; y &lt; height; y++) {\r\n        for (int x = 0; x &lt; width; x++) {\r\n          int v = blurFilter[x + y*width];\r\n          if (v &gt; 0) {\r\n            v = (int)(0xFF*sqrt(sqrt(v))*mv);\r\n            pixels[x + y*width] = 0xFF000000 + v*0x10101;\r\n          }\r\n        }\r\n      }\r\n      \r\n      for (int i = 0; i &lt; fullImage; i++) {\r\n        pixels[i] = pixels[i];\r\n    }\r\n    \r\n      updatePixels();\r\n      \r\n      //Make the GRID\r\n      stroke(255); \r\n      strokeWeight(1); \r\n      \r\n      while(x &lt; width){\r\n        line(x, 0, x, height);\r\n        x = x + spacing;\r\n      }\r\n      \r\n      while(y &lt; height){\r\n        line(0, y, width, y);\r\n        y = y + spacing;\r\n      }\r\n    \r\n      // By blurring over time, both the path and the density of the Followers\r\n      // is easier to distinguish\r\n      if (blurToggle.set) {\r\n        blur(blurFilter, pixels, width, height);\r\n        fade(pixels, blurFilter, 15, 4);\r\n        //arrayCopy(pixels, blurFilter);\r\n      }\r\n      Arrays.fill(pixels, 0xFF000000);\r\n    \r\n      drawUI();\r\n      \r\n    }","title":"How to draw a grid on top of an image in Processing3 while using updatePixels()","body":"<p>I am trying to draw a grid over an image, while the &quot;Dancing with friends and enemies&quot; algorithm is running and updating the pixels. However my grid only shows for a split second before vanishing. I guess it is due to the pixels updating, however the grid does not get updated with the pixels. How can I make my grid update with the rest of the pixels?</p>\n<pre><code>import java.util.Arrays;\n\nint activeFollowers, totalFollowers;\n\nFollower[] followers;\nint[] blurFilter;\nboolean saveNextFrame;\nPImage img;\nint x = 0; // Gaan dit gebruik vir die vertikale lyne\nint y = 0; // Gaan dit gebruik vir die horisontale lyne\nint spacing = 50; // Gaan dit gebruik om die grid groter en kleiner te maak\n\n\nvoid setup() {\n  size(1280, 720);\n  frameRate(60);\n  activeFollowers = 2000;\n  totalFollowers = 10000;\n  initUI();\n  initFollowers(totalFollowers);\n  activeSlider.val = activeFollowers/(float)followers.length;\n  background(0);\n  \n\n  loadPixels();\n\n  blurFilter = new int[width*height];\n\n  saveNextFrame = false;\n  noSmooth();\n  \n}\n\nfinal static int wf = 4;\nfinal static int hf = 3;\nvoid draw() {\n  //VERANDER BACKGROUND KAART\n  //**********************************************************************************************************************************************\n  //**********************************************************************************************************************************************\n  //**********************************************************************************************************************************************\n  //**********************************************************************************************************************************************\n  //**********************************************************************************************************************************************\n  PImage img = loadImage(&quot;map3.jpg&quot;);\n  img.resize(1280, 720);\n  image(img,0,0);\n  int fullImage = img.width * img.height;\n  //**********************************************************************************************************************************************\n  //**********************************************************************************************************************************************\n  //**********************************************************************************************************************************************\n  //**********************************************************************************************************************************************\n  //**********************************************************************************************************************************************\n  \n  \n  loadPixels();\n  int maxCount = 0;\n  swarm(followers, activeFollowers);\n  if (!blurToggle.set) {\n    Arrays.fill(blurFilter, 0);\n  }\n\n  // We want to set the brightness according to Follower density per pixel\n  // and we can have thousands of Followers overlapping in one pixel.\n  // Using FPM, we first we add 0x100 per Follower to every pixel\n  for (int i = 0; i &lt; activeFollowers; i++) {\n    Follower f = followers[i];\n    int x = (int)f.x;\n    int y = (int)f.y;\n    if (x &gt;= 0 &amp;&amp; x &lt; width &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; height) {\n      int c = blurFilter[x + width*y] + 0x100;\n      blurFilter[x + width*y] = c;\n\n      //also keep count maximum value of the blurField, to normalise later on.\n      if (c &gt; maxCount) {\n        maxCount = c;\n      }\n    }\n  }\n  \n\n  // Linear scaling of brightness doensn't work - we want to be able to distinguish from 1 to 100000 Followers\n  float mv = 1/sqrt(sqrt(maxCount));\n  for (int y = 0; y &lt; height; y++) {\n    for (int x = 0; x &lt; width; x++) {\n      int v = blurFilter[x + y*width];\n      if (v &gt; 0) {\n        v = (int)(0xFF*sqrt(sqrt(v))*mv);\n        pixels[x + y*width] = 0xFF000000 + v*0x10101;\n      }\n    }\n  }\n  \n  for (int i = 0; i &lt; fullImage; i++) {\n    pixels[i] = pixels[i];\n}\n\n  updatePixels();\n  \n  //Make the GRID\n  stroke(255); \n  strokeWeight(1); \n  \n  while(x &lt; width){\n    line(x, 0, x, height);\n    x = x + spacing;\n  }\n  \n  while(y &lt; height){\n    line(0, y, width, y);\n    y = y + spacing;\n  }\n\n  // By blurring over time, both the path and the density of the Followers\n  // is easier to distinguish\n  if (blurToggle.set) {\n    blur(blurFilter, pixels, width, height);\n    fade(pixels, blurFilter, 15, 4);\n    //arrayCopy(pixels, blurFilter);\n  }\n  Arrays.fill(pixels, 0xFF000000);\n\n  drawUI();\n  \n}\n</code></pre>\n"},{"tags":["java","compatibility","nashorn","graalvm"],"comments":[{"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"score":0,"creation_date":1671714141,"post_id":69318568,"comment_id":132160175,"body_markdown":"Did you manage to get anything sorted with enums? I have exactly the same issue. Everything working so nicely otherwise.","body":"Did you manage to get anything sorted with enums? I have exactly the same issue. Everything working so nicely otherwise."},{"owner":{"account_id":22849814,"reputation":21,"user_id":16995610,"display_name":"S&#233;bastien Bouat"},"score":0,"creation_date":1672734466,"post_id":69318568,"comment_id":132336159,"body_markdown":"Unfortunately no :-(","body":"Unfortunately no :-("},{"owner":{"account_id":22849814,"reputation":21,"user_id":16995610,"display_name":"S&#233;bastien Bouat"},"score":0,"creation_date":1672737227,"post_id":69318568,"comment_id":132336928,"body_markdown":"The only option I can see is, in GraalVM case, converting input bindings into Map of Maps and Collections recursively (this also includes converting beans to Maps), and within this process replacing enum values by their string representation.","body":"The only option I can see is, in GraalVM case, converting input bindings into Map of Maps and Collections recursively (this also includes converting beans to Maps), and within this process replacing enum values by their string representation."},{"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"score":0,"creation_date":1672825186,"post_id":69318568,"comment_id":132358273,"body_markdown":"Tx. I ended up using JsProxy to convert enums fields to/from strings.","body":"Tx. I ended up using JsProxy to convert enums fields to/from strings."},{"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"score":0,"creation_date":1672825883,"post_id":69318568,"comment_id":132358501,"body_markdown":"Sorry mean to say ProxyObject","body":"Sorry mean to say ProxyObject"}],"owner":{"account_id":22849814,"reputation":21,"user_id":16995610,"display_name":"S&#233;bastien Bouat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1632501948,"creation_date":1632501948,"question_id":69318568,"body_markdown":"I&#39;m playing with GraalVM (v21.2.0), trying to assess backward compatibility with Nashorn.\r\nMany things work pretty well including Java Map, Collection, Beans handling.\r\nBut I have the following problem with enum:\r\n\r\n\t\r\n\tpublic static enum Color { GREEN, BLUE }\r\n\t\r\n\t@Test\r\n\tpublic void testNashornEnum() throws ScriptException {\r\n\t\tScriptEngineManager lManager = new ScriptEngineManager();\r\n\t\tScriptEngine lEngine = lManager.getEngineByName(&quot;nashorn&quot;);\r\n\r\n\t\tBindings lBindings = new SimpleBindings();\r\n\t\tlBindings.put(&quot;color&quot;, Color.GREEN);\r\n\t\tObject lResult = lEngine.eval(&quot;color == &#39;GREEN&#39;&quot;, lBindings);\r\n\t\tSystem.out.println(&quot;Nashorn: &quot; + lResult);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testGraalEnum() throws ScriptException {\r\n\t\tSystem.setProperty(&quot;polyglot.engine.WarnInterpreterOnly&quot;, &quot;false&quot;);\r\n\t\tScriptEngine lEngine = GraalJSScriptEngine.create(\r\n\t\t\tnull,\r\n\t        Context.newBuilder(&quot;js&quot;).allowHostClassLookup((s) -&gt; true)\r\n\t        \t\t\t\t\t\t.allowHostAccess(HostAccess.ALL)\r\n\t        \t\t\t\t\t\t.allowExperimentalOptions(true)\r\n\t        \t\t\t\t\t\t.option(&quot;js.nashorn-compat&quot;, &quot;true&quot;)\r\n\t\t);\r\n\t\t\r\n\t\tBindings lBindings = new SimpleBindings();\r\n\t\tlBindings.put(&quot;color&quot;, Color.GREEN);\r\n\t\tObject lResult = lEngine.eval(&quot;color == &#39;GREEN&#39;&quot;, lBindings);\r\n\t\tSystem.out.println(&quot;GraalVM: &quot; + lResult);\t\t\r\n\t}\r\n\r\nTest case testNashornEnum outputs &quot;true&quot;, whereas testGraalEnum() outputs &quot;false&quot;.\r\n\r\nDoes anyone know a way to fix this gap?\r\n\r\nThanks\r\n","title":"GraalVM / Nashorn compatibility for Java enum","body":"<p>I'm playing with GraalVM (v21.2.0), trying to assess backward compatibility with Nashorn.\nMany things work pretty well including Java Map, Collection, Beans handling.\nBut I have the following problem with enum:</p>\n<pre><code>public static enum Color { GREEN, BLUE }\n\n@Test\npublic void testNashornEnum() throws ScriptException {\n    ScriptEngineManager lManager = new ScriptEngineManager();\n    ScriptEngine lEngine = lManager.getEngineByName(&quot;nashorn&quot;);\n\n    Bindings lBindings = new SimpleBindings();\n    lBindings.put(&quot;color&quot;, Color.GREEN);\n    Object lResult = lEngine.eval(&quot;color == 'GREEN'&quot;, lBindings);\n    System.out.println(&quot;Nashorn: &quot; + lResult);\n}\n\n@Test\npublic void testGraalEnum() throws ScriptException {\n    System.setProperty(&quot;polyglot.engine.WarnInterpreterOnly&quot;, &quot;false&quot;);\n    ScriptEngine lEngine = GraalJSScriptEngine.create(\n        null,\n        Context.newBuilder(&quot;js&quot;).allowHostClassLookup((s) -&gt; true)\n                                .allowHostAccess(HostAccess.ALL)\n                                .allowExperimentalOptions(true)\n                                .option(&quot;js.nashorn-compat&quot;, &quot;true&quot;)\n    );\n    \n    Bindings lBindings = new SimpleBindings();\n    lBindings.put(&quot;color&quot;, Color.GREEN);\n    Object lResult = lEngine.eval(&quot;color == 'GREEN'&quot;, lBindings);\n    System.out.println(&quot;GraalVM: &quot; + lResult);      \n}\n</code></pre>\n<p>Test case testNashornEnum outputs &quot;true&quot;, whereas testGraalEnum() outputs &quot;false&quot;.</p>\n<p>Does anyone know a way to fix this gap?</p>\n<p>Thanks</p>\n"},{"tags":["java","list","tostring"],"answers":[{"tags":[],"owner":{"account_id":22826593,"reputation":39,"user_id":16975766,"display_name":"Zsolt Toth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632501359,"creation_date":1632501359,"answer_id":69318465,"question_id":69318338,"body_markdown":"You do not add node to your IntList in your constructor. You head is initialized with null so there is nothing to print.\r\n\r\nExtend your constructor with something like this.\r\n\r\n```java\r\npublic IntList(int n) {\r\n        LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\r\n        Random rand = new Random();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            list.add(rand.nextInt(n));\r\n        }\r\n        //Init head\r\n        this.head = new Node(list.get(0),null); //Add constructor to the Node\r\n        // Append all the elements from the list.\r\n        for(int i : list){\r\n        Node lastNode = head;\r\n        while(lastNode.getNext() != null){ \r\n           lastNode = lastNode.getNext(); \r\n        }\r\n        lastNode.setNext( new Node(i,null));\r\n        }\r\n    }\r\n```","title":"How can I use toString() to pring a linked list of integers in Java?","body":"<p>You do not add node to your IntList in your constructor. You head is initialized with null so there is nothing to print.</p>\n<p>Extend your constructor with something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public IntList(int n) {\n        LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\n        Random rand = new Random();\n        for (int i = 0; i &lt; n; i++) {\n            list.add(rand.nextInt(n));\n        }\n        //Init head\n        this.head = new Node(list.get(0),null); //Add constructor to the Node\n        // Append all the elements from the list.\n        for(int i : list){\n        Node lastNode = head;\n        while(lastNode.getNext() != null){ \n           lastNode = lastNode.getNext(); \n        }\n        lastNode.setNext( new Node(i,null));\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22849746,"reputation":1,"user_id":16995554,"display_name":"kafkashores"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632501359,"creation_date":1632500761,"question_id":69318338,"body_markdown":"I am currently creating a program to print a linked list of random integers using a toString() method. However, as it is, my program has no errors but will not print anything. I have a feeling that the error may be linked to the val != null statement in toString(), but I am super new to toString() and linked lists, so I can&#39;t say for sure. Why doesn&#39;t my program print a linked list?\r\n\r\n    import java.util.Random;\r\n    import java.util.*;\r\n    public class IntList {\r\n        private class Node {\r\n            int value;\r\n            Node next;\r\n        }\r\n        private Node head;\r\n    \r\n        public IntList(int n) {\r\n            LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\r\n            Random rand = new Random();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                list.add(rand.nextInt(n));\r\n            }\r\n        }\r\n    \r\n        public String toString() {\r\n            String result = &quot;&quot;;\r\n            for(IntList.Node val = head; val != null; val = val.next) {\r\n                result += val.value;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            IntList list = new IntList(6);\r\n            System.out.println(list);\r\n        }\r\n    }\r\n\r\nIf the error is somewhere else and not in toString(), please let me know and I will try to find it!","title":"How can I use toString() to pring a linked list of integers in Java?","body":"<p>I am currently creating a program to print a linked list of random integers using a toString() method. However, as it is, my program has no errors but will not print anything. I have a feeling that the error may be linked to the val != null statement in toString(), but I am super new to toString() and linked lists, so I can't say for sure. Why doesn't my program print a linked list?</p>\n<pre><code>import java.util.Random;\nimport java.util.*;\npublic class IntList {\n    private class Node {\n        int value;\n        Node next;\n    }\n    private Node head;\n\n    public IntList(int n) {\n        LinkedList&lt;Integer&gt; list = new LinkedList&lt;Integer&gt;();\n        Random rand = new Random();\n        for (int i = 0; i &lt; n; i++) {\n            list.add(rand.nextInt(n));\n        }\n    }\n\n    public String toString() {\n        String result = &quot;&quot;;\n        for(IntList.Node val = head; val != null; val = val.next) {\n            result += val.value;\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        IntList list = new IntList(6);\n        System.out.println(list);\n    }\n}\n</code></pre>\n<p>If the error is somewhere else and not in toString(), please let me know and I will try to find it!</p>\n"},{"tags":["java","spring","rest","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1617962932,"post_id":67016771,"comment_id":118463467,"body_markdown":"i dont really understand your question `in therory there should be exactly one fulfilling resource mono across all of those services` what do you mean by `fulfilling`. `but as soon as I have two or more` im guessing you mean two or more `flatMaps`?\n\n`flatMap` will take an item, and then return that item as a `Mono&lt;T&gt;` to the next `flatMap` in the chain. I think it would be better if you expanded your example and provided code that explains what all these `service1.findByFilter` do and what `res.setResource` do. What your intentions are.","body":"i dont really understand your question <code>in therory there should be exactly one fulfilling resource mono across all of those services</code> what do you mean by <code>fulfilling</code>. <code>but as soon as I have two or more</code> im guessing you mean two or more <code>flatMaps</code>?  <code>flatMap</code> will take an item, and then return that item as a <code>Mono&lt;T&gt;</code> to the next <code>flatMap</code> in the chain. I think it would be better if you expanded your example and provided code that explains what all these <code>service1.findByFilter</code> do and what <code>res.setResource</code> do. What your intentions are."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1617962995,"post_id":67016771,"comment_id":118463493,"body_markdown":"its very hard to give you any pointers when we dont have a fully running example.","body":"its very hard to give you any pointers when we dont have a fully running example."},{"owner":{"account_id":19680795,"reputation":33,"user_id":14407961,"display_name":"ichbintobias2"},"score":0,"creation_date":1617971255,"post_id":67016771,"comment_id":118466822,"body_markdown":"@Toerktumlare I meant one `Mono` that acutally holds a value as a `Mono` can only contain one object maximum. Sorry if this is an incorrect term. Basically I expect exactly one of either `service1`, `service2` or `service3` to return one value.\nYes, that &#39;two or more&#39; meant two or more `flatMap`s.\nThe &#39;findByFilter&#39; methods each return a model that they obtain from the database and the &#39;setResource&#39; methods are basic setters. They are intended to set the model that they received into the respective variable into the `ResourceModel` that comes from `resourceService`.","body":"@Toerktumlare I meant one <code>Mono</code> that acutally holds a value as a <code>Mono</code> can only contain one object maximum. Sorry if this is an incorrect term. Basically I expect exactly one of either <code>service1</code>, <code>service2</code> or <code>service3</code> to return one value. Yes, that &#39;two or more&#39; meant two or more <code>flatMap</code>s. The &#39;findByFilter&#39; methods each return a model that they obtain from the database and the &#39;setResource&#39; methods are basic setters. They are intended to set the model that they received into the respective variable into the <code>ResourceModel</code> that comes from <code>resourceService</code>."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1617974043,"post_id":67016771,"comment_id":118468056,"body_markdown":"well `map` and `flatMap` needs a return value. Reactive programming fetches a lot of its fundamentals from functional programming, which means that mutability is to be avoided. Which means that manipulating created objects by using setters is not something you should do, as it will give you a lot of problems. So as i dont have the full picture of your code its hard to actually give you any advice, but you need to pass your `res` class through the flatMaps if you want to mutate it. Which also means that after you have fetched new data, you need to pass on the `res` object","body":"well <code>map</code> and <code>flatMap</code> needs a return value. Reactive programming fetches a lot of its fundamentals from functional programming, which means that mutability is to be avoided. Which means that manipulating created objects by using setters is not something you should do, as it will give you a lot of problems. So as i dont have the full picture of your code its hard to actually give you any advice, but you need to pass your <code>res</code> class through the flatMaps if you want to mutate it. Which also means that after you have fetched new data, you need to pass on the <code>res</code> object"}],"answers":[{"tags":[],"owner":{"account_id":3352195,"reputation":137,"user_id":2816019,"display_name":"ashanshamika"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632500977,"creation_date":1632500977,"answer_id":69318389,"question_id":67016771,"body_markdown":"The reason for the mentioned output is due to this.\r\n- Let&#39;s assume you gets `Mono&lt;ResourceModel&gt;` from `resourceService.findByFilter(resourceName)` which is not **empty**.\r\n- But after the first `.flatmap` by calling `service1.findByFilter(resourceName)` it may return **empty**.\r\n- After returning empty, other `flatmap` s are not called as no element will be returned as `flatmap` is called upon each element.\r\n\r\nAlternatively you can use the following to achieve what you expected\r\n\r\n```java\r\nprivate Mono&lt;ResourceModel&gt; setResourcesIfExisting(String resourceName) {\r\n\r\n    return resourceService.findByFilter(resourceName)\r\n            .flatMap(res -&gt; service1.findByFilter(resourceName)\r\n                    .switchIfEmpty(service2.findByFilter(resourceName))\r\n                    .switchIfEmpty(service3.findByFilter(resourceName))\r\n                    .doOnEach(stringSignal -&gt; res.setResource(stringSignal.get()))\r\n                    .thenReturn(res));\r\n}\r\n```\r\n\r\n`thenReturn` will return the `ResourceModel` even if all the service1,2,3 return empty.","title":"Spring WebFlux: Perform multiple mappings on the same object?","body":"<p>The reason for the mentioned output is due to this.</p>\n<ul>\n<li>Let's assume you gets <code>Mono&lt;ResourceModel&gt;</code> from <code>resourceService.findByFilter(resourceName)</code> which is not <strong>empty</strong>.</li>\n<li>But after the first <code>.flatmap</code> by calling <code>service1.findByFilter(resourceName)</code> it may return <strong>empty</strong>.</li>\n<li>After returning empty, other <code>flatmap</code> s are not called as no element will be returned as <code>flatmap</code> is called upon each element.</li>\n</ul>\n<p>Alternatively you can use the following to achieve what you expected</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Mono&lt;ResourceModel&gt; setResourcesIfExisting(String resourceName) {\n\n    return resourceService.findByFilter(resourceName)\n            .flatMap(res -&gt; service1.findByFilter(resourceName)\n                    .switchIfEmpty(service2.findByFilter(resourceName))\n                    .switchIfEmpty(service3.findByFilter(resourceName))\n                    .doOnEach(stringSignal -&gt; res.setResource(stringSignal.get()))\n                    .thenReturn(res));\n}\n</code></pre>\n<p><code>thenReturn</code> will return the <code>ResourceModel</code> even if all the service1,2,3 return empty.</p>\n"}],"owner":{"account_id":19680795,"reputation":33,"user_id":14407961,"display_name":"ichbintobias2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69318389,"answer_count":1,"score":0,"last_activity_date":1632500977,"creation_date":1617953097,"question_id":67016771,"body_markdown":"I&#39;m currently making my first ever reactive project with Spring WebFlux. Unfortunately, I already got a task assigned that I cannot seem to find a solution for.\r\nI would like to receive a Mono and perform operations on it, depending on what other Monos complete. My idea goes like this:\r\n\r\n    private Mono&lt;ResourceModel&gt; setResourcesIfExisting(String resourceName) {\r\n    \t\t\r\n    \t\treturn resourceService.findByFilter(resourceName)\r\n    \t\t\t\t.flatMap(res -&gt; service1.findByFilter(resourceName).map(res::setResource))\r\n    \t\t\t\t.flatMap(res -&gt; service2.findByFilter(resourceName).map(res::setResource))\r\n    \t\t\t\t.flatMap(res -&gt; service3.findByFilter(resourceName).map(res::setResource))\r\n    \t\t\t\t;\r\n    \t}\r\nA Mono&lt;ResourceModel&gt; will be found by the resourceService, note that this is already the same type that I want to return. But now, I have some other services that deliver resources and in therory there should be exactly one fulfilling resource mono across all of those services.\r\nFrom my tests, it always works if I use one of those flatMaps but as soon as I have two or more consecutively the list that gets collected on the higher level method results empty (I am using the above method for each element of a `Flux&lt;String&gt;`).\r\n\r\nWould someone be able to give me a pointed why this happens? As said above, I barely understand what I&#39;m doing but tried out a lot with no success so far.","title":"Spring WebFlux: Perform multiple mappings on the same object?","body":"<p>I'm currently making my first ever reactive project with Spring WebFlux. Unfortunately, I already got a task assigned that I cannot seem to find a solution for.\nI would like to receive a Mono and perform operations on it, depending on what other Monos complete. My idea goes like this:</p>\n<pre><code>private Mono&lt;ResourceModel&gt; setResourcesIfExisting(String resourceName) {\n        \n        return resourceService.findByFilter(resourceName)\n                .flatMap(res -&gt; service1.findByFilter(resourceName).map(res::setResource))\n                .flatMap(res -&gt; service2.findByFilter(resourceName).map(res::setResource))\n                .flatMap(res -&gt; service3.findByFilter(resourceName).map(res::setResource))\n                ;\n    }\n</code></pre>\n<p>A Mono will be found by the resourceService, note that this is already the same type that I want to return. But now, I have some other services that deliver resources and in therory there should be exactly one fulfilling resource mono across all of those services.\nFrom my tests, it always works if I use one of those flatMaps but as soon as I have two or more consecutively the list that gets collected on the higher level method results empty (I am using the above method for each element of a <code>Flux&lt;String&gt;</code>).</p>\n<p>Would someone be able to give me a pointed why this happens? As said above, I barely understand what I'm doing but tried out a lot with no success so far.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","domain-driven-design","ddd-repositories"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1632401132,"post_id":69299506,"comment_id":122485631,"body_markdown":"I think we&#39;re going to need to see some code you have written.  It&#39;s not clear to me what &quot;interface&quot; you need to be &quot;generic.&quot;","body":"I think we&#39;re going to need to see some code you have written.  It&#39;s not clear to me what &quot;interface&quot; you need to be &quot;generic.&quot;"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1632401243,"post_id":69299506,"comment_id":122485685,"body_markdown":"Also, can you be a little clearer about what your goals are?  Two-way mapping suggests domain ignorance in both directions, and there&#39;s really no such thing as operating a repository, generic or not, without conferring any domain knowledge at all (at the very least, you would have knowledge of the domain entity you want to retrieve). If you really think you need that kind of two-way decoupling, you also need a good reason for doing it.  So tell us your reasoning.","body":"Also, can you be a little clearer about what your goals are?  Two-way mapping suggests domain ignorance in both directions, and there&#39;s really no such thing as operating a repository, generic or not, without conferring any domain knowledge at all (at the very least, you would have knowledge of the domain entity you want to retrieve). If you really think you need that kind of two-way decoupling, you also need a good reason for doing it.  So tell us your reasoning."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1632401413,"post_id":69299506,"comment_id":122485776,"body_markdown":"Otherwise, the obvious answer is to just pass strings around.  Strings are completely agnostic; it would be up to the receiving end to decode them.  There *are* legitimate use cases for that.","body":"Otherwise, the obvious answer is to just pass strings around.  Strings are completely agnostic; it would be up to the receiving end to decode them.  There <i>are</i> legitimate use cases for that."},{"owner":{"account_id":5321138,"reputation":1209,"user_id":4244550,"display_name":"advay rajhansa"},"score":0,"creation_date":1632401692,"post_id":69299506,"comment_id":122485926,"body_markdown":"Why is there a need to have this &quot;two-way&quot; mapping? The repository layer is meant to translate the model to an entity to be able to use ORM and interact with the database. I see no such case where you should interact with this database without a repository layer abstraction. Only the model should have a lifecycle. If you need to use an entity elsewhere, it will introduce coupling and heavily violate the SOLID principles. This defeats the purpose of going through the process of DDD in the first place.","body":"Why is there a need to have this &quot;two-way&quot; mapping? The repository layer is meant to translate the model to an entity to be able to use ORM and interact with the database. I see no such case where you should interact with this database without a repository layer abstraction. Only the model should have a lifecycle. If you need to use an entity elsewhere, it will introduce coupling and heavily violate the SOLID principles. This defeats the purpose of going through the process of DDD in the first place."},{"owner":{"account_id":11175682,"reputation":13,"user_id":8201370,"display_name":"npdrums"},"score":0,"creation_date":1632405167,"post_id":69299506,"comment_id":122487601,"body_markdown":"Hi @RobertHarvey, thanks for the comment! I edited the question and provided further clarification and example code.","body":"Hi @RobertHarvey, thanks for the comment! I edited the question and provided further clarification and example code."},{"owner":{"account_id":11175682,"reputation":13,"user_id":8201370,"display_name":"npdrums"},"score":0,"creation_date":1632405254,"post_id":69299506,"comment_id":122487643,"body_markdown":"Hey @advayrajhansa, I&#39;m not sure if you understood my question. I added some clarification and example code, to try to explain it specifically.","body":"Hey @advayrajhansa, I&#39;m not sure if you understood my question. I added some clarification and example code, to try to explain it specifically."}],"answers":[{"tags":[],"owner":{"account_id":11175682,"reputation":13,"user_id":8201370,"display_name":"npdrums"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632500940,"creation_date":1632500940,"answer_id":69318384,"question_id":69299506,"body_markdown":"I figured it out eventually. \r\n\r\nThe problem, as it was stated in the question, was the mapping between layers. I created a mapping interface to declare mapping methods. I used `@ObjectFactory` annotation from MapStruct to deal with generic mapping ([look here][1]):\r\n\r\n```\r\npublic interface EntityMapper&lt;M, E&gt; {\r\n    M toModel(E entity);\r\n    List&lt;M&gt; toModelList(List&lt;E&gt; entities);\r\n    E toEntity(M model);\r\n    List&lt;E&gt; toEntityList(List&lt;M&gt; models);\r\n\r\n    // default object factory methods\r\n}\r\n```\r\nThen I proceeded with creating a mapper for each of the child classes and extending it with the EntityMapper interface with concrete types that I want to map.\r\n\r\n```\r\n@Mapper(componentModel=&quot;spring&quot;)\r\npublic interface ConcreteEntityMapper extends EntityMapper&lt;ConcreteModelType, ConcreteJpaType&gt; {\r\n}\r\n```\r\nI created an abstract class where I injected the JPA repository and the mapper, and also implemented common methods.\r\n\r\n```\r\nabstract class CustomRepositoryImpl&lt;T extends AbstractModelMappedType, E extends AbstractJpaMappedType&gt; {\r\n\r\n    private final JpaMappedTypeRepository&lt;E&gt; repository;\r\n\r\n    private final EntityMapper&lt;M, E&gt; mapper;\r\n\r\n    //... common methods for mapping and querying repositories.\r\n}\r\n```\r\nThen I extended a ConcreteTypeRepositoryImpl with this abstract class, and implemented a generic interface, which I can later use as a reference in other layers.\r\n```\r\npublic interface CustomRepository&lt;M&gt; {\r\n\r\n    M saveOrUpdate(M model);\r\n    Optional&lt;M&gt; getById(Long id);\r\n    List&lt;M&gt; getByName(String name);\r\n    List&lt;M&gt; getAll();\r\n    void delete(Long id);\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class ConcreteTypeRepositoryImpl extends CustomRepositoryImpl&lt;ConcreteModelType,ConcreteJpaType&gt; implements CustomRepository&lt;ConcreteModelType&gt; {\r\n\r\n    public ConcreteTypeRepositoryImpl(JpaMappedTypeRepository&lt;ConcreteJpaType&gt; repository,\r\n                                  EntityMapper&lt;ConcreteModelType, ConcreteJpaType&gt; mapper) {\r\n        super(repository, mapper);\r\n    }\r\n}\r\n```\r\nAnd that would be it. Now I can inject CustomRepository&lt;ConcreteType&gt; into other layers and hit desired repository.\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#object-factories","title":"Generic Repository within DDD: How can I make this interface generic?","body":"<p>I figured it out eventually.</p>\n<p>The problem, as it was stated in the question, was the mapping between layers. I created a mapping interface to declare mapping methods. I used <code>@ObjectFactory</code> annotation from MapStruct to deal with generic mapping (<a href=\"https://mapstruct.org/documentation/stable/reference/html/#object-factories\" rel=\"nofollow noreferrer\">look here</a>):</p>\n<pre><code>public interface EntityMapper&lt;M, E&gt; {\n    M toModel(E entity);\n    List&lt;M&gt; toModelList(List&lt;E&gt; entities);\n    E toEntity(M model);\n    List&lt;E&gt; toEntityList(List&lt;M&gt; models);\n\n    // default object factory methods\n}\n</code></pre>\n<p>Then I proceeded with creating a mapper for each of the child classes and extending it with the EntityMapper interface with concrete types that I want to map.</p>\n<pre><code>@Mapper(componentModel=&quot;spring&quot;)\npublic interface ConcreteEntityMapper extends EntityMapper&lt;ConcreteModelType, ConcreteJpaType&gt; {\n}\n</code></pre>\n<p>I created an abstract class where I injected the JPA repository and the mapper, and also implemented common methods.</p>\n<pre><code>abstract class CustomRepositoryImpl&lt;T extends AbstractModelMappedType, E extends AbstractJpaMappedType&gt; {\n\n    private final JpaMappedTypeRepository&lt;E&gt; repository;\n\n    private final EntityMapper&lt;M, E&gt; mapper;\n\n    //... common methods for mapping and querying repositories.\n}\n</code></pre>\n<p>Then I extended a ConcreteTypeRepositoryImpl with this abstract class, and implemented a generic interface, which I can later use as a reference in other layers.</p>\n<pre><code>public interface CustomRepository&lt;M&gt; {\n\n    M saveOrUpdate(M model);\n    Optional&lt;M&gt; getById(Long id);\n    List&lt;M&gt; getByName(String name);\n    List&lt;M&gt; getAll();\n    void delete(Long id);\n}\n</code></pre>\n<pre><code>@Component\npublic class ConcreteTypeRepositoryImpl extends CustomRepositoryImpl&lt;ConcreteModelType,ConcreteJpaType&gt; implements CustomRepository&lt;ConcreteModelType&gt; {\n\n    public ConcreteTypeRepositoryImpl(JpaMappedTypeRepository&lt;ConcreteJpaType&gt; repository,\n                                  EntityMapper&lt;ConcreteModelType, ConcreteJpaType&gt; mapper) {\n        super(repository, mapper);\n    }\n}\n</code></pre>\n<p>And that would be it. Now I can inject CustomRepository into other layers and hit desired repository.</p>\n"}],"owner":{"account_id":11175682,"reputation":13,"user_id":8201370,"display_name":"npdrums"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69318384,"answer_count":1,"score":0,"last_activity_date":1632500940,"creation_date":1632398084,"question_id":69299506,"body_markdown":"I&#39;m developing a multi-module CMS application following Domain-Driven Design principles. I&#39;m trying to figure out how to implement Generic Repository, thus avoiding a lot of boiler-plate code.\r\n\r\nThe idea is to have a &quot;two-way&quot; mapping strategy (model to entity and vice versa) and Generic Repository implemented in the Persistence module. Further, an interface in the Domain module would act as a contract between Domain and Persistence, so I can use it for later injection in the other layers. \r\n\r\nHow can I make this interface generic?\r\n\r\nTo be specific, the problem here is the mapping. Since I&#39;m using a &quot;two-way&quot; mapping strategy, the Domain module has no idea about DB specific entities.\r\n\r\nIs there a way to map generic type models between layers? Or use some other mapping strategy while keeping the layers loosely coupled?\r\n\r\n\r\nHere is a code example to clarify what I&#39;m trying to achieve.\r\nThis would be the code example for Generic Repository:\r\n\r\n```\r\n@MappedSuperclass\r\npublic abstract class AbstractJpaMappedType {\r\n  …\r\n  String attribute\r\n}\r\n\r\n@Entity\r\npublic class ConcreteJpaType extends AbstractJpaMappedType { … }\r\n\r\n@NoRepositoryBean\r\npublic interface JpaMappedTypeRepository&lt;T extends AbstractJpaMappedType&gt;\r\n  extends Repository&lt;T, Long&gt; {\r\n\r\n  @Query(&quot;select t from #{#entityName} t where t.attribute = ?1&quot;)\r\n  List&lt;T&gt; findAllByAttribute(String attribute);\r\n}\r\n\r\npublic interface ConcreteRepository\r\n  extends JpaMappedTypeRepository&lt;ConcreteType&gt; { … }\r\n```\r\n\r\nFurther, I want to make my own Custom Repository to be able to do some mapping of model to entity and vice versa, so I wouldn&#39;t have JPA specific annotation in my domain classes, thus making it loosely coupled. I want this Custom Repository to implement an interface from Domain module, allowing me to inject it later in the Services layer.\r\n```\r\npublic class CustomRepositoryImpl implements CustomRepository {\r\n\r\n    public final JpaMappedTypeRepository&lt;T&gt; repository;\r\n    ...\r\n}\r\n```\r\n\r\nHow can I make this class and this interface generic so that I would be able to do mapping between model and entity, since Domain layer has no information about entity classes?","title":"Generic Repository within DDD: How can I make this interface generic?","body":"<p>I'm developing a multi-module CMS application following Domain-Driven Design principles. I'm trying to figure out how to implement Generic Repository, thus avoiding a lot of boiler-plate code.</p>\n<p>The idea is to have a &quot;two-way&quot; mapping strategy (model to entity and vice versa) and Generic Repository implemented in the Persistence module. Further, an interface in the Domain module would act as a contract between Domain and Persistence, so I can use it for later injection in the other layers.</p>\n<p>How can I make this interface generic?</p>\n<p>To be specific, the problem here is the mapping. Since I'm using a &quot;two-way&quot; mapping strategy, the Domain module has no idea about DB specific entities.</p>\n<p>Is there a way to map generic type models between layers? Or use some other mapping strategy while keeping the layers loosely coupled?</p>\n<p>Here is a code example to clarify what I'm trying to achieve.\nThis would be the code example for Generic Repository:</p>\n<pre><code>@MappedSuperclass\npublic abstract class AbstractJpaMappedType {\n  …\n  String attribute\n}\n\n@Entity\npublic class ConcreteJpaType extends AbstractJpaMappedType { … }\n\n@NoRepositoryBean\npublic interface JpaMappedTypeRepository&lt;T extends AbstractJpaMappedType&gt;\n  extends Repository&lt;T, Long&gt; {\n\n  @Query(&quot;select t from #{#entityName} t where t.attribute = ?1&quot;)\n  List&lt;T&gt; findAllByAttribute(String attribute);\n}\n\npublic interface ConcreteRepository\n  extends JpaMappedTypeRepository&lt;ConcreteType&gt; { … }\n</code></pre>\n<p>Further, I want to make my own Custom Repository to be able to do some mapping of model to entity and vice versa, so I wouldn't have JPA specific annotation in my domain classes, thus making it loosely coupled. I want this Custom Repository to implement an interface from Domain module, allowing me to inject it later in the Services layer.</p>\n<pre><code>public class CustomRepositoryImpl implements CustomRepository {\n\n    public final JpaMappedTypeRepository&lt;T&gt; repository;\n    ...\n}\n</code></pre>\n<p>How can I make this class and this interface generic so that I would be able to do mapping between model and entity, since Domain layer has no information about entity classes?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1462822286,"post_id":37123807,"comment_id":61788725,"body_markdown":"Your substring method fails as soon as one of the integers is greater than 9.  Try this algorithm: 1) Reverse the int array.  2) Look for the longest sequence in the original array and the reversed array.","body":"Your substring method fails as soon as one of the integers is greater than 9.  Try this algorithm: 1) Reverse the int array.  2) Look for the longest sequence in the original array and the reversed array."},{"owner":{"account_id":5976357,"reputation":496,"user_id":4697062,"accept_rate":67,"display_name":"Ervis Zyka"},"score":1,"creation_date":1462822971,"post_id":37123807,"comment_id":61789128,"body_markdown":"Also as Gilbert Le Blanc mentioned you only need to search for the the duplicate numbers since the duplicates can be the only candidates.","body":"Also as Gilbert Le Blanc mentioned you only need to search for the the duplicate numbers since the duplicates can be the only candidates."}],"answers":[{"tags":[],"owner":{"account_id":20694221,"reputation":11,"user_id":15194840,"display_name":"Tom Gerambio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632500428,"creation_date":1632492969,"answer_id":69316511,"question_id":37123807,"body_markdown":"I also toyed with the idea of a reverse/compare algo, but it&#39;s still going into O(n^..), so I settled on this solution. The idea here is for each int element moving forward in the array, we begin to iterate backward from the end. If we get a match, we go into the while()loop, continuing to compare and increment our size variable until they no longer match. From there, it&#39;s a simple matter of comparing to our max variable, updating max to either itself or var size,(whichever is higher) eventually returning max. \r\n\r\n\r\n    public int maxMirror(int[] nums) {\r\n        int max = 0;\r\n        for(int left = 0; left &lt; nums.length; left++) {\r\n            for(int right = nums.length -1; right &gt;= 0; right--) {\r\n                int size = 0;\r\n                int i = left;\r\n                int j = right;\r\n                while(i &lt; nums.length &amp;&amp; j &gt;= 0 &amp;&amp; nums[i] == nums[j]) {\r\n                    size++;\r\n                    i++;\r\n                    j--;\r\n              } max = Math.max(max, size);\r\n            }\r\n        } return max;\r\n    }","title":"CodingBat Array-maxMirror","body":"<p>I also toyed with the idea of a reverse/compare algo, but it's still going into O(n^..), so I settled on this solution. The idea here is for each int element moving forward in the array, we begin to iterate backward from the end. If we get a match, we go into the while()loop, continuing to compare and increment our size variable until they no longer match. From there, it's a simple matter of comparing to our max variable, updating max to either itself or var size,(whichever is higher) eventually returning max.</p>\n<pre><code>public int maxMirror(int[] nums) {\n    int max = 0;\n    for(int left = 0; left &lt; nums.length; left++) {\n        for(int right = nums.length -1; right &gt;= 0; right--) {\n            int size = 0;\n            int i = left;\n            int j = right;\n            while(i &lt; nums.length &amp;&amp; j &gt;= 0 &amp;&amp; nums[i] == nums[j]) {\n                size++;\n                i++;\n                j--;\n          } max = Math.max(max, size);\n        }\n    } return max;\n}\n</code></pre>\n"}],"owner":{"account_id":8057128,"reputation":39,"user_id":6073876,"display_name":"Burak G&#252;neş"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632500428,"creation_date":1462821693,"question_id":37123807,"body_markdown":"I&#39;m trying to solve this problem from CodingBat.\r\n\r\n&gt; We&#39;ll say that a &quot;mirror&quot; section in an array is a group of contiguous\r\n&gt; elements such that somewhere in the array, the same group appears in\r\n&gt; reverse order. For example, the largest mirror section in {1, 2, 3, 8,\r\n&gt; 9, 3, 2, 1} is length 3 (the {1, 2, 3} part). Return the size of the\r\n&gt; largest mirror section found in the given array.\r\n&gt; \r\n&gt; maxMirror([1, 2, 3, 8, 9, 3, 2, 1]) → 3 maxMirror([1, 2, 1, 4]) → 3\r\n&gt; maxMirror([7, 1, 2, 9, 7, 2, 1]) → 2\r\n\r\n    public int maxMirror(int[] nums)\r\n    {\r\n      int count = 0;\r\n      int max = 0;\r\n      int min = 0;\r\n  \r\n      String abc = &quot;&quot;;\r\n  \r\n      for(int i=0; i&lt;nums.length; i++)\r\n      {\r\n       abc += nums[i];\r\n      }//\r\n  \r\n      for(int i=0, k = abc.length(); i&lt;abc.length(); i++, k--)\r\n      {\r\n        for(int j=i, l = abc.length()-i; j&lt;abc.length(); j++, l--)\r\n        {\r\n          if(abc.substring(i,j).equals(abc.substring(k,l)))\r\n            min = abc.substring(i,j).length();\r\n            \r\n            if(min &gt; max)\r\n            max = min;\r\n            \r\n         }\r\n      }\r\n      count = max;\r\n      \r\n      return count;\r\n  \r\n    }\r\n\r\n\r\nI thought inserting the all elements of an array into a string is a very good idea, since string class has its own functions such as substring. \r\n\r\nI think my algorithm to this problem is simple, flexible and reliable but it doesn&#39;t work as i thought. I&#39;m getting exception errors which complains about the bounds of the string.\r\n\r\nWhat should i do?","title":"CodingBat Array-maxMirror","body":"<p>I'm trying to solve this problem from CodingBat.</p>\n\n<blockquote>\n  <p>We'll say that a \"mirror\" section in an array is a group of contiguous\n  elements such that somewhere in the array, the same group appears in\n  reverse order. For example, the largest mirror section in {1, 2, 3, 8,\n  9, 3, 2, 1} is length 3 (the {1, 2, 3} part). Return the size of the\n  largest mirror section found in the given array.</p>\n  \n  <p>maxMirror([1, 2, 3, 8, 9, 3, 2, 1]) → 3 maxMirror([1, 2, 1, 4]) → 3\n  maxMirror([7, 1, 2, 9, 7, 2, 1]) → 2</p>\n</blockquote>\n\n<pre><code>public int maxMirror(int[] nums)\n{\n  int count = 0;\n  int max = 0;\n  int min = 0;\n\n  String abc = \"\";\n\n  for(int i=0; i&lt;nums.length; i++)\n  {\n   abc += nums[i];\n  }//\n\n  for(int i=0, k = abc.length(); i&lt;abc.length(); i++, k--)\n  {\n    for(int j=i, l = abc.length()-i; j&lt;abc.length(); j++, l--)\n    {\n      if(abc.substring(i,j).equals(abc.substring(k,l)))\n        min = abc.substring(i,j).length();\n\n        if(min &gt; max)\n        max = min;\n\n     }\n  }\n  count = max;\n\n  return count;\n\n}\n</code></pre>\n\n<p>I thought inserting the all elements of an array into a string is a very good idea, since string class has its own functions such as substring. </p>\n\n<p>I think my algorithm to this problem is simple, flexible and reliable but it doesn't work as i thought. I'm getting exception errors which complains about the bounds of the string.</p>\n\n<p>What should i do?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-rest"],"answers":[{"tags":[],"owner":{"account_id":4454424,"reputation":7384,"user_id":3625215,"accept_rate":47,"display_name":"MyTwoCents"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561972198,"creation_date":1561972198,"answer_id":56832898,"question_id":56824071,"body_markdown":"Other configuration looks fine\r\n\r\nIf you notice swagger related urls are also are marked as `permitAll().` \r\n\r\nJust remove permitAll part of swagger and add this in last as authenticated() something like this\r\n\r\n\r\n    .antMatchers(&quot;/v2/api-docs&quot;, &quot;/swagger-accounts/configuration/ui&quot;, &quot;/swagger-accounts&quot;, &quot;/swagger-accounts/configuration/security&quot;,\r\n                            &quot;/swagger-ui.html&quot;, &quot;/webjars/**&quot;, &quot;/swagger-resources/**&quot;).authenticated()\r\n\t\t\t\t\t\t\r\n\t\t\r\nFor REST calls just see if they are added in  `permitAll()`\r\n\r\n\t\r\n**Also Note:** The order of the rules matters and the more specific rules should go first\r\n\r\neg\r\n\r\n    .antMatchers(&quot;/admin/**&quot;).authenticated()\r\n    .antMatchers(&quot;/admin/login&quot;).permitAll()\r\n\r\nHere `/admin/login` will also be authenticated.\r\n\r\n","title":"Spring Security, disable formLogin() for REST requests","body":"<p>Other configuration looks fine</p>\n\n<p>If you notice swagger related urls are also are marked as <code>permitAll().</code> </p>\n\n<p>Just remove permitAll part of swagger and add this in last as authenticated() something like this</p>\n\n<pre><code>.antMatchers(\"/v2/api-docs\", \"/swagger-accounts/configuration/ui\", \"/swagger-accounts\", \"/swagger-accounts/configuration/security\",\n                        \"/swagger-ui.html\", \"/webjars/**\", \"/swagger-resources/**\").authenticated()\n</code></pre>\n\n<p>For REST calls just see if they are added in  <code>permitAll()</code></p>\n\n<p><strong>Also Note:</strong> The order of the rules matters and the more specific rules should go first</p>\n\n<p>eg</p>\n\n<pre><code>.antMatchers(\"/admin/**\").authenticated()\n.antMatchers(\"/admin/login\").permitAll()\n</code></pre>\n\n<p>Here <code>/admin/login</code> will also be authenticated.</p>\n"},{"tags":[],"owner":{"account_id":1875677,"reputation":112,"user_id":1696944,"accept_rate":0,"display_name":"ruben056"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586100072,"creation_date":1586100072,"answer_id":61044888,"question_id":56824071,"body_markdown":"I don&#39;t know if or how you solved this, but i was looking for something similar. So for anybody who is also looking for this here are my thoughts:\r\n\r\nYou an *configure 2  HttpSecurity elements*. So you have  extends the WebSecurityConfigurerAdapter 2 times.\r\nMake your endpoints like this:\r\n\r\n - &#39;/view/**/*&#39; for everything that requires form login\r\n - &#39;/api/**/*&#39; for everything that juse needs a 403\r\n\r\nThen in one security config confiugre that /view/ with .formlogin()\r\nIn the other security don&#39;t configure the .formlogin()\r\n\r\nAn example of 2 securityConfigs in one app can be found here:\r\nhttps://www.baeldung.com/spring-security-two-login-pages\r\nHowever in that article they use it to show 2 different login pages, you could just use this to not show a formlogin in one case...\r\n\r\n\r\n","title":"Spring Security, disable formLogin() for REST requests","body":"<p>I don't know if or how you solved this, but i was looking for something similar. So for anybody who is also looking for this here are my thoughts:</p>\n\n<p>You an <em>configure 2  HttpSecurity elements</em>. So you have  extends the WebSecurityConfigurerAdapter 2 times.\nMake your endpoints like this:</p>\n\n<ul>\n<li>'/view/**/*' for everything that requires form login</li>\n<li>'/api/**/*' for everything that juse needs a 403</li>\n</ul>\n\n<p>Then in one security config confiugre that /view/ with .formlogin()\nIn the other security don't configure the .formlogin()</p>\n\n<p>An example of 2 securityConfigs in one app can be found here:\n<a href=\"https://www.baeldung.com/spring-security-two-login-pages\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-two-login-pages</a>\nHowever in that article they use it to show 2 different login pages, you could just use this to not show a formlogin in one case...</p>\n"},{"tags":[],"owner":{"account_id":11587486,"reputation":41,"user_id":8489104,"display_name":"RedRam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632500221,"creation_date":1632500221,"answer_id":69318240,"question_id":56824071,"body_markdown":"Look at https://stackoverflow.com/questions/33739359/combining-basic-authentication-and-form-login-for-the-same-rest-api, I believe it meets your requirement.\r\n\r\nThe only thing I think you may need to change is in `ApiWebSecurityConfigurationAdapter` since you only ask 403, the content should look like below (`hasRole(String...)` could be replaced by `authenticated()` if you don&#39;t like it&#39;s too strict).\r\n```lang-java\r\nhttp.antMatcher(&quot;/api/**&quot;).authorizeRequests().anyRequest().hasRole(&quot;ADMIN&quot;)\r\n```\r\n\r\n\r\n\r\n","title":"Spring Security, disable formLogin() for REST requests","body":"<p>Look at <a href=\"https://stackoverflow.com/questions/33739359/combining-basic-authentication-and-form-login-for-the-same-rest-api\">Combining basic authentication and form login for the same REST Api</a>, I believe it meets your requirement.</p>\n<p>The only thing I think you may need to change is in <code>ApiWebSecurityConfigurationAdapter</code> since you only ask 403, the content should look like below (<code>hasRole(String...)</code> could be replaced by <code>authenticated()</code> if you don't like it's too strict).</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.antMatcher(&quot;/api/**&quot;).authorizeRequests().anyRequest().hasRole(&quot;ADMIN&quot;)\n</code></pre>\n"}],"owner":{"account_id":2289332,"reputation":5954,"user_id":2012635,"accept_rate":54,"display_name":"drenda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1632500221,"creation_date":1561890126,"question_id":56824071,"body_markdown":"I&#39;m using Spring Boot, Spring Security, Spring Data REST, Hibernate.\r\nI&#39;m creating a REST API server.\r\n\r\nI configured security to access my REST API as:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private UserDetailsServiceImpl userDetailsService;\r\n    \r\n        @Autowired\r\n        private TenantFilter tenantFilter;\r\n    \r\n       \r\n        @Autowired\r\n        public void configureAuthentication(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n            authenticationManagerBuilder.userDetailsService(this.userDetailsService).passwordEncoder(User.PASSWORD_ENCODER);\r\n        }\r\n    \r\n        @Bean\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Bean\r\n        public JwtAuthenticationTokenFilter jwtTokenFilter() throws Exception {\r\n            return new JwtAuthenticationTokenFilter();\r\n        }\r\n    \r\n        @Bean\r\n        public CookieAuthFilter cookieAuthFilter() throws Exception {\r\n            return new CookieAuthFilter();\r\n        }\r\n    \r\n        @Bean\r\n        public CustomWebAuthenticationDetailsSource customWebAuthenticationDetailsSource() {\r\n            return new CustomWebAuthenticationDetailsSource();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                    //********************************************************************\r\n                    // PERMIT OPTIONS\r\n                    //********************************************************************\r\n                    .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll()\r\n    \r\n                    //********************************************************************\r\n                    //WEBSOCKET\r\n                    //********************************************************************\r\n                    .antMatchers(&quot;/socket/**&quot;).permitAll()\r\n    \r\n                    .antMatchers(&quot;/images/**&quot;).permitAll()\r\n    \r\n                    .antMatchers(&quot;/resources/templates/**&quot;).permitAll()\r\n                  \r\n                    .antMatchers(&quot;/api/v1/notifications/**&quot;).permitAll()\r\n    \r\n                    //********************************************************************\r\n                    // SWAGGER\r\n                    //********************************************************************\r\n                    .antMatchers(&quot;/v2/api-docs&quot;, &quot;/swagger-accounts/configuration/ui&quot;, &quot;/swagger-accounts&quot;, &quot;/swagger-accounts/configuration/security&quot;,\r\n                            &quot;/swagger-ui.html&quot;, &quot;/webjars/**&quot;, &quot;/swagger-resources/**&quot;).permitAll()\r\n    \r\n                    \r\n                    .antMatchers(&quot;/api/v1/&quot;).permitAll()\r\n                  \r\n                    .antMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/api/v1/formLogin/**&quot;).permitAll()\r\n                    \r\n                    .antMatchers(&quot;/api/v1/logout&quot;).permitAll()\r\n                    \r\n                    .antMatchers(&quot;/api/v1/agents/verifyEmail&quot;).permitAll()\r\n                   \r\n                    .antMatchers(&quot;/api/v1/agents/**/verificationToken&quot;).permitAll()\r\n                   \r\n                    .antMatchers(&quot;/api/v1/agents/**/resetPassword&quot;).permitAll()\r\n                   \r\n                    .antMatchers(&quot;/api/v1/agents/**/verifyPasswordReset&quot;).permitAll()\r\n                   \r\n                    .antMatchers(&quot;/api/v1/agents/**/changePassword&quot;).permitAll()\r\n                   \r\n                    .antMatchers(&quot;/api/v1/errors/**&quot;).permitAll()\r\n                  \r\n                    .antMatchers(&quot;/api/v1/verifyCaptcha&quot;).permitAll()\r\n                \r\n                    .antMatchers(&quot;/api/v1/ping&quot;).permitAll()\r\n                   \r\n                    .antMatchers(&quot;/api/v1/tenants/**&quot;).permitAll()\r\n    \r\n                    // all other endpoints are authenticated\r\n                    .antMatchers(&quot;/**&quot;).authenticated()\r\n    \r\n                    // global settings\r\n                    .and()\r\n                    .csrf()\r\n                    .disable();\r\n    \r\n           http.formLogin().loginPage(&quot;/login&quot;).permitAll();\r\n         \r\n    \r\n            // Custom JWT based security filter\r\n            http.addFilterBefore(tenantFilter, UsernamePasswordAuthenticationFilter.class);\r\n            http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n            http.addFilterBefore(cookieAuthFilter(), UsernamePasswordAuthenticationFilter.class);\r\n          \r\n            http.headers().cacheControl().disable();\r\n        }\r\n    }\r\n\r\n\r\nThe goal I want to get is:\r\n\r\n - show a form login when the user try to access to the url like http://myhost/swagger-ui.html#/ in order to be able to use swagger easily\r\n\r\n - avoid form login when the server is called with a REST call (through Angular or Postman or whatever). In fact, otherwise if the auth fails, the server replies with the html code of the login page\r\n\r\nis there a way to accomplish this with Spring, without turning off formLogin()?","title":"Spring Security, disable formLogin() for REST requests","body":"<p>I'm using Spring Boot, Spring Security, Spring Data REST, Hibernate.\nI'm creating a REST API server.</p>\n\n<p>I configured security to access my REST API as:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@CrossOrigin(origins = \"*\")\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private TenantFilter tenantFilter;\n\n\n    @Autowired\n    public void configureAuthentication(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(this.userDetailsService).passwordEncoder(User.PASSWORD_ENCODER);\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public JwtAuthenticationTokenFilter jwtTokenFilter() throws Exception {\n        return new JwtAuthenticationTokenFilter();\n    }\n\n    @Bean\n    public CookieAuthFilter cookieAuthFilter() throws Exception {\n        return new CookieAuthFilter();\n    }\n\n    @Bean\n    public CustomWebAuthenticationDetailsSource customWebAuthenticationDetailsSource() {\n        return new CustomWebAuthenticationDetailsSource();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                //********************************************************************\n                // PERMIT OPTIONS\n                //********************************************************************\n                .antMatchers(HttpMethod.OPTIONS, \"/**\").permitAll()\n\n                //********************************************************************\n                //WEBSOCKET\n                //********************************************************************\n                .antMatchers(\"/socket/**\").permitAll()\n\n                .antMatchers(\"/images/**\").permitAll()\n\n                .antMatchers(\"/resources/templates/**\").permitAll()\n\n                .antMatchers(\"/api/v1/notifications/**\").permitAll()\n\n                //********************************************************************\n                // SWAGGER\n                //********************************************************************\n                .antMatchers(\"/v2/api-docs\", \"/swagger-accounts/configuration/ui\", \"/swagger-accounts\", \"/swagger-accounts/configuration/security\",\n                        \"/swagger-ui.html\", \"/webjars/**\", \"/swagger-resources/**\").permitAll()\n\n\n                .antMatchers(\"/api/v1/\").permitAll()\n\n                .antMatchers(\"/api/v1/auth/**\").permitAll()\n                .antMatchers(\"/api/v1/formLogin/**\").permitAll()\n\n                .antMatchers(\"/api/v1/logout\").permitAll()\n\n                .antMatchers(\"/api/v1/agents/verifyEmail\").permitAll()\n\n                .antMatchers(\"/api/v1/agents/**/verificationToken\").permitAll()\n\n                .antMatchers(\"/api/v1/agents/**/resetPassword\").permitAll()\n\n                .antMatchers(\"/api/v1/agents/**/verifyPasswordReset\").permitAll()\n\n                .antMatchers(\"/api/v1/agents/**/changePassword\").permitAll()\n\n                .antMatchers(\"/api/v1/errors/**\").permitAll()\n\n                .antMatchers(\"/api/v1/verifyCaptcha\").permitAll()\n\n                .antMatchers(\"/api/v1/ping\").permitAll()\n\n                .antMatchers(\"/api/v1/tenants/**\").permitAll()\n\n                // all other endpoints are authenticated\n                .antMatchers(\"/**\").authenticated()\n\n                // global settings\n                .and()\n                .csrf()\n                .disable();\n\n       http.formLogin().loginPage(\"/login\").permitAll();\n\n\n        // Custom JWT based security filter\n        http.addFilterBefore(tenantFilter, UsernamePasswordAuthenticationFilter.class);\n        http.addFilterBefore(jwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n        http.addFilterBefore(cookieAuthFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        http.headers().cacheControl().disable();\n    }\n}\n</code></pre>\n\n<p>The goal I want to get is:</p>\n\n<ul>\n<li><p>show a form login when the user try to access to the url like <a href=\"http://myhost/swagger-ui.html#/\" rel=\"nofollow noreferrer\">http://myhost/swagger-ui.html#/</a> in order to be able to use swagger easily</p></li>\n<li><p>avoid form login when the server is called with a REST call (through Angular or Postman or whatever). In fact, otherwise if the auth fails, the server replies with the html code of the login page</p></li>\n</ul>\n\n<p>is there a way to accomplish this with Spring, without turning off formLogin()?</p>\n"},{"tags":["java","algorithm","unique"],"comments":[{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":0,"creation_date":1632424290,"post_id":69305710,"comment_id":122495742,"body_markdown":"Use Stream API of Java 8 : list.stream().distinct().collect(Collectors.toList()).","body":"Use Stream API of Java 8 : list.stream().distinct().collect(Collectors.toList())."},{"owner":{"account_id":11884699,"reputation":497,"user_id":8697412,"display_name":"Barracuda"},"score":2,"creation_date":1632424389,"post_id":69305710,"comment_id":122495773,"body_markdown":"Also, to define logical equality of two instances of the same class - better override equals() method instead of defining your own methods. Then you could use Set, which does not allow duplicates based on the equal method.","body":"Also, to define logical equality of two instances of the same class - better override equals() method instead of defining your own methods. Then you could use Set, which does not allow duplicates based on the equal method."},{"owner":{"account_id":21127701,"reputation":53,"user_id":15532692,"display_name":"guiqin"},"score":0,"creation_date":1632424644,"post_id":69305710,"comment_id":122495871,"body_markdown":"Thanks! I should have mentioned that I can&#39;t use java 8 for backward compatibility reason though, so yeah I would have to use some &#39;traditional&#39; iterative way to do that. Also the matching algorithm is quite complicated, so it is tricky to override equals and hashcode.","body":"Thanks! I should have mentioned that I can&#39;t use java 8 for backward compatibility reason though, so yeah I would have to use some &#39;traditional&#39; iterative way to do that. Also the matching algorithm is quite complicated, so it is tricky to override equals and hashcode."},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1632425933,"post_id":69305710,"comment_id":122496286,"body_markdown":"Can you explain how complicated it is that it doesn&#39;t make sense to put the logic in `equals/hashcode`?","body":"Can you explain how complicated it is that it doesn&#39;t make sense to put the logic in <code>equals&#47;hashcode</code>?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1632427643,"post_id":69305710,"comment_id":122496876,"body_markdown":"If you can&#39;t generate a hash code for your notion of equality, you can&#39;t do this efficiently, either.  You&#39;ve got to either have a hash code or an ordering to do this practically.","body":"If you can&#39;t generate a hash code for your notion of equality, you can&#39;t do this efficiently, either.  You&#39;ve got to either have a hash code or an ordering to do this practically."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632428355,"post_id":69305710,"comment_id":122497124,"body_markdown":"@guiqin Whatever you are doing in `isIdentical` can be done in an override of `equals`. And whatever values you are comparing in `isIdentical` can be hashed. If you cannot see how both of those statements are true, post another Question on that specific topic, with example code analogous to your own. But first search Stack Overflow to see many existing Questions and Answers about implementing overrides of `equals` &amp; `hashCode`. Lastly, in modern Java the revamped `Comparator` class, along with lambdas, can greatly assist. But you said you are stuck with Java versions before Java 8.","body":"@guiqin Whatever you are doing in <code>isIdentical</code> can be done in an override of <code>equals</code>. And whatever values you are comparing in <code>isIdentical</code> can be hashed. If you cannot see how both of those statements are true, post another Question on that specific topic, with example code analogous to your own. But first search Stack Overflow to see many existing Questions and Answers about implementing overrides of <code>equals</code> &amp; <code>hashCode</code>. Lastly, in modern Java the revamped <code>Comparator</code> class, along with lambdas, can greatly assist. But you said you are stuck with Java versions before Java 8."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632500141,"creation_date":1632425839,"answer_id":69306033,"question_id":69305710,"body_markdown":"# tl;dr\r\n\r\nGiven that you are constrained to versions of Java before Java 8…\r\n\r\nOverride `equals` and `hashCode` on your class, using same logic on both.\r\n\r\nInstantiate a [`Set`][1] such as [`HashSet`][2]. \r\n\r\nAdd your objects one at a time, but first ask the set if it already contains that object. If so, you have a duplicate in hand.\r\n\r\n# Example\r\n\r\nHere is some example code. I think this will run in Java 7, though I am using Java 17 today.\r\n\r\nHere we define a class `Employee` with three fields: id (UUID), name (String), and whenHired (LocalDate). \r\n\r\nWhen overriding `equals` and `hashCode`, we use only the `id` field with its [UUID][3] value. Study those two methods in this sample code.\r\n\r\n```java\r\npackage work.basil.comp;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.UUID;\r\n\r\npublic final class Employee\r\n{\r\n    private final UUID id;\r\n    private final String name;\r\n    private final LocalDate whenHired;\r\n\r\n    public Employee ( UUID id , String name , LocalDate whenHired )\r\n    {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.whenHired = whenHired;\r\n    }\r\n\r\n    public UUID id () { return id; }\r\n\r\n    public String name () { return name; }\r\n\r\n    public LocalDate whenHired () { return whenHired; }\r\n\r\n    @Override\r\n    public boolean equals ( Object obj )\r\n    {\r\n        // Match on `id` (UUID) field alone.\r\n        if ( obj == this ) return true;\r\n        if ( obj == null || obj.getClass() != this.getClass() ) return false;\r\n        Employee that = ( Employee ) obj;\r\n        return this.id.equals( that.id );\r\n    }\r\n\r\n    @Override\r\n    public int hashCode ()\r\n    {\r\n        // Hash `id` (UUID) field alone.\r\n        return this.id.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public String toString ()\r\n    {\r\n        return &quot;Employee[&quot; +\r\n                &quot;id=&quot; + id + &quot;, &quot; +\r\n                &quot;name=&quot; + name + &quot;, &quot; +\r\n                &quot;whenHired=&quot; + whenHired + &#39;]&#39;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMake some example data.\r\n\r\n```java\r\nEmployee alice = new Employee( UUID.fromString( &quot;5228256a-69c5-44d7-8ff5-40703f1b6491&quot; ) , &quot;Alice&quot; , LocalDate.of( 2010 , Month.MARCH , 15 ) );\r\nEmployee bob = new Employee( UUID.fromString( &quot;0ee605a2-24bf-4e35-ab68-54007c472717&quot; ) , &quot;Bob&quot; , LocalDate.of( 2021 , Month.JANUARY , 23 ) );\r\nEmployee bobby = new Employee( UUID.fromString( &quot;0ee605a2-24bf-4e35-ab68-54007c472717&quot; ) , &quot;Bobby&quot; , LocalDate.of( 2021 , Month.JANUARY , 23 ) );\r\nEmployee carol = new Employee( UUID.fromString( &quot;4b63c9ef-4921-46ff-a43a-60741bedf9a3&quot; ) , &quot;Carol&quot; , LocalDate.of( 2019 , Month.DECEMBER , 1 ) );\r\nList &lt; Employee &gt; inputs = new ArrayList &lt;&gt;();\r\ninputs.add( alice );\r\ninputs.add( bob );\r\ninputs.add( bobby );\r\ninputs.add( carol );\r\n```\r\n\r\nCreate an empty `Set` in which to put our `Employee` objects. A set by definition forbids duplicates. And we can ask the set if it contains a particular object. The objects’ `equals` method will be invoked to determine the answer to that &quot;contains&quot; query. And in a `HashSet`, the objects’ `hashCode` method will be invoked as part of the store-and-retrieve operations on the set.\r\n\r\n    Set &lt; Employee &gt; employees = new HashSet &lt;&gt;();\r\n\r\nLoop our inputs (`Employee` objects). For each one, ask if it is already contained in our set. If so, we have a duplicate. If not, add it.\r\n\r\n```java\r\nfor ( Employee input : inputs )\r\n{\r\n    if ( employees.contains( input ) )\r\n    {\r\n        System.out.println( &quot;duplicate = &quot; + input );\r\n    } else\r\n    {\r\n        employees.add( input );\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n&gt;duplicate = Employee[id=0ee605a2-24bf-4e35-ab68-54007c472717, name=Bobby, whenHired=2021-01-23]\r\n\r\nIf you do not care which items are duplicates, and just want to discard them, replace that `for` loop with a single line, a call to [`Set#addAll`][4]:\r\n\r\n```java\r\nSet &lt; Employee &gt; employees = new HashSet &lt;&gt;();\r\nemployees.addAll( inputs );  // Any duplicates are ignored. A `Set` is distinct by definition.\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/index.html?java/util/Comparator.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/Set.html#addAll(java.util.Collection)","title":"Efficient way to find unique instances with pre-defined rules (Java)","body":"<h1>tl;dr</h1>\n<p>Given that you are constrained to versions of Java before Java 8…</p>\n<p>Override <code>equals</code> and <code>hashCode</code> on your class, using same logic on both.</p>\n<p>Instantiate a <a href=\"https://docs.oracle.com/javase/7/docs/api/index.html?java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> such as <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a>.</p>\n<p>Add your objects one at a time, but first ask the set if it already contains that object. If so, you have a duplicate in hand.</p>\n<h1>Example</h1>\n<p>Here is some example code. I think this will run in Java 7, though I am using Java 17 today.</p>\n<p>Here we define a class <code>Employee</code> with three fields: id (UUID), name (String), and whenHired (LocalDate).</p>\n<p>When overriding <code>equals</code> and <code>hashCode</code>, we use only the <code>id</code> field with its <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/UUID.html\" rel=\"nofollow noreferrer\">UUID</a> value. Study those two methods in this sample code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.comp;\n\nimport java.time.LocalDate;\nimport java.util.UUID;\n\npublic final class Employee\n{\n    private final UUID id;\n    private final String name;\n    private final LocalDate whenHired;\n\n    public Employee ( UUID id , String name , LocalDate whenHired )\n    {\n        this.id = id;\n        this.name = name;\n        this.whenHired = whenHired;\n    }\n\n    public UUID id () { return id; }\n\n    public String name () { return name; }\n\n    public LocalDate whenHired () { return whenHired; }\n\n    @Override\n    public boolean equals ( Object obj )\n    {\n        // Match on `id` (UUID) field alone.\n        if ( obj == this ) return true;\n        if ( obj == null || obj.getClass() != this.getClass() ) return false;\n        Employee that = ( Employee ) obj;\n        return this.id.equals( that.id );\n    }\n\n    @Override\n    public int hashCode ()\n    {\n        // Hash `id` (UUID) field alone.\n        return this.id.hashCode();\n    }\n\n    @Override\n    public String toString ()\n    {\n        return &quot;Employee[&quot; +\n                &quot;id=&quot; + id + &quot;, &quot; +\n                &quot;name=&quot; + name + &quot;, &quot; +\n                &quot;whenHired=&quot; + whenHired + ']';\n    }\n\n}\n</code></pre>\n<p>Make some example data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee alice = new Employee( UUID.fromString( &quot;5228256a-69c5-44d7-8ff5-40703f1b6491&quot; ) , &quot;Alice&quot; , LocalDate.of( 2010 , Month.MARCH , 15 ) );\nEmployee bob = new Employee( UUID.fromString( &quot;0ee605a2-24bf-4e35-ab68-54007c472717&quot; ) , &quot;Bob&quot; , LocalDate.of( 2021 , Month.JANUARY , 23 ) );\nEmployee bobby = new Employee( UUID.fromString( &quot;0ee605a2-24bf-4e35-ab68-54007c472717&quot; ) , &quot;Bobby&quot; , LocalDate.of( 2021 , Month.JANUARY , 23 ) );\nEmployee carol = new Employee( UUID.fromString( &quot;4b63c9ef-4921-46ff-a43a-60741bedf9a3&quot; ) , &quot;Carol&quot; , LocalDate.of( 2019 , Month.DECEMBER , 1 ) );\nList &lt; Employee &gt; inputs = new ArrayList &lt;&gt;();\ninputs.add( alice );\ninputs.add( bob );\ninputs.add( bobby );\ninputs.add( carol );\n</code></pre>\n<p>Create an empty <code>Set</code> in which to put our <code>Employee</code> objects. A set by definition forbids duplicates. And we can ask the set if it contains a particular object. The objects’ <code>equals</code> method will be invoked to determine the answer to that &quot;contains&quot; query. And in a <code>HashSet</code>, the objects’ <code>hashCode</code> method will be invoked as part of the store-and-retrieve operations on the set.</p>\n<pre><code>Set &lt; Employee &gt; employees = new HashSet &lt;&gt;();\n</code></pre>\n<p>Loop our inputs (<code>Employee</code> objects). For each one, ask if it is already contained in our set. If so, we have a duplicate. If not, add it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( Employee input : inputs )\n{\n    if ( employees.contains( input ) )\n    {\n        System.out.println( &quot;duplicate = &quot; + input );\n    } else\n    {\n        employees.add( input );\n    }\n}\n</code></pre>\n<p>When run.</p>\n<blockquote>\n<p>duplicate = Employee[id=0ee605a2-24bf-4e35-ab68-54007c472717, name=Bobby, whenHired=2021-01-23]</p>\n</blockquote>\n<p>If you do not care which items are duplicates, and just want to discard them, replace that <code>for</code> loop with a single line, a call to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Set.html#addAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>Set#addAll</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; Employee &gt; employees = new HashSet &lt;&gt;();\nemployees.addAll( inputs );  // Any duplicates are ignored. A `Set` is distinct by definition.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2016660,"reputation":263,"user_id":1803810,"display_name":"leoconco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632438208,"creation_date":1632426118,"answer_id":69306093,"question_id":69305710,"body_markdown":"This:\r\n```\r\nList&lt;MyItem&gt; findUniqueItems(List&lt;MyItem&gt; allItems) {\r\n  List&lt;MyItem&gt; list = new ArrayList&lt;&gt;();\r\n  LinkedHashSet&lt;MyItem&gt; hashSet = new LinkedHashSet&lt;&gt;();\r\n  for(MyItem m: allItems){\r\n      if (hashSet.add(m)) list.add(m);\r\n  }\r\n  return list;\r\n}\r\n```\r\nOr wrap the hashSet in a LinkedHashList. Of course you have to implement equals and hashCode.","title":"Efficient way to find unique instances with pre-defined rules (Java)","body":"<p>This:</p>\n<pre><code>List&lt;MyItem&gt; findUniqueItems(List&lt;MyItem&gt; allItems) {\n  List&lt;MyItem&gt; list = new ArrayList&lt;&gt;();\n  LinkedHashSet&lt;MyItem&gt; hashSet = new LinkedHashSet&lt;&gt;();\n  for(MyItem m: allItems){\n      if (hashSet.add(m)) list.add(m);\n  }\n  return list;\n}\n</code></pre>\n<p>Or wrap the hashSet in a LinkedHashList. Of course you have to implement equals and hashCode.</p>\n"}],"owner":{"account_id":21127701,"reputation":53,"user_id":15532692,"display_name":"guiqin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69306033,"answer_count":2,"score":2,"last_activity_date":1632500141,"creation_date":1632424140,"question_id":69305710,"body_markdown":"I am trying to find all unique elements given a list of instances.\r\n\r\nI have had a matching algorithm that determines if two items should treated identical\r\n```\r\nboolean isIdentical(MyItem a, MyItem b) {\r\n//matching algorithm goes here\r\n//return true if a and b are identical with some rules; false otherwise\r\n}\r\n```\r\n\r\nWhat is the most efficient way to find all unique items?\r\n```\r\nList&lt;MyItem&gt; findUniqueItems(List&lt;MyItem&gt; allItems) {\r\n}\r\n```\r\n\r\nDue to backward compatibility, I can&#39;t use java 8 but will have to find a more iterative way to achieve that. \r\n","title":"Efficient way to find unique instances with pre-defined rules (Java)","body":"<p>I am trying to find all unique elements given a list of instances.</p>\n<p>I have had a matching algorithm that determines if two items should treated identical</p>\n<pre><code>boolean isIdentical(MyItem a, MyItem b) {\n//matching algorithm goes here\n//return true if a and b are identical with some rules; false otherwise\n}\n</code></pre>\n<p>What is the most efficient way to find all unique items?</p>\n<pre><code>List&lt;MyItem&gt; findUniqueItems(List&lt;MyItem&gt; allItems) {\n}\n</code></pre>\n<p>Due to backward compatibility, I can't use java 8 but will have to find a more iterative way to achieve that.</p>\n"},{"tags":["java","eclipse","spring-tool-suite"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1632500143,"post_id":69318144,"comment_id":122518083,"body_markdown":"When you hover the light bulb in the ruler on the top left, what does it say?","body":"When you hover the light bulb in the ruler on the top left, what does it say?"},{"owner":{"account_id":1440158,"reputation":102,"user_id":1360538,"display_name":"Arpit"},"score":0,"creation_date":1632506152,"post_id":69318144,"comment_id":122520089,"body_markdown":"There is no light bulb for the yellow highlight. The lightbulb you see is for the line my cursor is and is not lit and provides no suggestions.","body":"There is no light bulb for the yellow highlight. The lightbulb you see is for the line my cursor is and is not lit and provides no suggestions."},{"owner":{"account_id":5030450,"reputation":8573,"user_id":4040817,"accept_rate":75,"display_name":"Little Santi"},"score":0,"creation_date":1632507146,"post_id":69318144,"comment_id":122520431,"body_markdown":"Tried to remove **all** coverage executions?","body":"Tried to remove <b>all</b> coverage executions?"},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":2,"creation_date":1632559699,"post_id":69318144,"comment_id":122529682,"body_markdown":"I have never seen anything like this in a plain STS4 distribution installation. Do you have any additional plugins installed? And do you have any steps how to reproduce this?","body":"I have never seen anything like this in a plain STS4 distribution installation. Do you have any additional plugins installed? And do you have any steps how to reproduce this?"},{"owner":{"account_id":1440158,"reputation":102,"user_id":1360538,"display_name":"Arpit"},"score":0,"creation_date":1632837047,"post_id":69318144,"comment_id":122597751,"body_markdown":"There is no steps for reproduction as it is random behavior. I have not installed any plugins over the distribution installation. I am using STS 4.7 release.","body":"There is no steps for reproduction as it is random behavior. I have not installed any plugins over the distribution installation. I am using STS 4.7 release."}],"owner":{"account_id":1440158,"reputation":102,"user_id":1360538,"display_name":"Arpit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632499845,"creation_date":1632499845,"question_id":69318144,"body_markdown":"I am unable to figure the setting which could turn off the random highlighting of code with yellow which makes it very difficult to work. The java class has no compilation errors and also code coverage is not enabled. Any ideas ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FGO0q.png","title":"STS randomly highlights the code yellow making it difficult to work","body":"<p>I am unable to figure the setting which could turn off the random highlighting of code with yellow which makes it very difficult to work. The java class has no compilation errors and also code coverage is not enabled. Any ideas ?</p>\n<p><a href=\"https://i.stack.imgur.com/FGO0q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FGO0q.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","google-cloud-dataflow","dataflow"],"answers":[{"tags":[],"owner":{"account_id":14233114,"reputation":765,"user_id":10281741,"display_name":"sudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632440745,"creation_date":1632440745,"answer_id":69308014,"question_id":69265677,"body_markdown":"Assuming you will use the [projects/{projectId}/templates:launch][1] API from dataflow I have attached the body we are using to add `internet-access` to the network tags of the worker VMs to (in `additionalExperiments` of the `RuntimeEnvironment`):\r\n\r\n    {\r\n      &quot;jobName&quot;: &quot;name&quot;,\r\n      ...\r\n      &quot;environment&quot;: {\r\n        &quot;machineType&quot;: &quot;n1-standard-4&quot;,\r\n        ...\r\n        &quot;additionalExperiments&quot;: [&quot;use_network_tags=internet-access&quot;],\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.templates/launch","title":"Set network tag for Dataflow flex launcher","body":"<p>Assuming you will use the <a href=\"https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.templates/launch\" rel=\"nofollow noreferrer\">projects/{projectId}/templates:launch</a> API from dataflow I have attached the body we are using to add <code>internet-access</code> to the network tags of the worker VMs to (in <code>additionalExperiments</code> of the <code>RuntimeEnvironment</code>):</p>\n<pre><code>{\n  &quot;jobName&quot;: &quot;name&quot;,\n  ...\n  &quot;environment&quot;: {\n    &quot;machineType&quot;: &quot;n1-standard-4&quot;,\n    ...\n    &quot;additionalExperiments&quot;: [&quot;use_network_tags=internet-access&quot;],\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22849549,"reputation":26,"user_id":16995380,"display_name":"Melody Shen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632499830,"creation_date":1632499830,"answer_id":69318138,"question_id":69265677,"body_markdown":"Thanks for using Flex Templates! The custom tag will not be applied to launcher VM if you use it together with other experiments. The bug fix will be ready in next a few days. Please feel free to follow this thread for latest updates. ","title":"Set network tag for Dataflow flex launcher","body":"<p>Thanks for using Flex Templates! The custom tag will not be applied to launcher VM if you use it together with other experiments. The bug fix will be ready in next a few days. Please feel free to follow this thread for latest updates.</p>\n"}],"owner":{"account_id":2026980,"reputation":813,"user_id":1811688,"display_name":"sernle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69318138,"answer_count":2,"score":0,"last_activity_date":1632499830,"creation_date":1632212708,"question_id":69265677,"body_markdown":"have anyone try to set network tag for their Dataflow Flex Launcher? I am using KafkaIO and required to have a specific network tag to be able to launch the job. I am following https://cloud.google.com/dataflow/docs/guides/routes-firewall#enabling_network_tags_for_flex_template_launcher_vms . However, I could not set new custom tag. The only tag show up on the launcher is dataflow.\r\n\r\n","title":"Set network tag for Dataflow flex launcher","body":"<p>have anyone try to set network tag for their Dataflow Flex Launcher? I am using KafkaIO and required to have a specific network tag to be able to launch the job. I am following <a href=\"https://cloud.google.com/dataflow/docs/guides/routes-firewall#enabling_network_tags_for_flex_template_launcher_vms\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/routes-firewall#enabling_network_tags_for_flex_template_launcher_vms</a> . However, I could not set new custom tag. The only tag show up on the launcher is dataflow.</p>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":5071293,"reputation":236,"user_id":4069983,"display_name":"Bj&#246;rn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632405897,"creation_date":1632405897,"answer_id":69301603,"question_id":69295559,"body_markdown":"You cannot assign the focus to a page bean/ page bean component directly. But of course you can assign the focus to some control that is part of the page bean component (&quot;just normal&quot; focus management).\r\n\r\nThis means: \r\n\r\n1. define the corresponding control inside the page bean/ page bean component so that it can receive the focus by program logic (attribute &quot;requestfocus&quot; etc. - please check Demo Workplace: General &gt; Focus Management &gt; Request focus by application).\r\n\r\n2. expose the setting of the focus setting into some public method\r\n\r\n3. call this public method by the user of the page bean.","title":"CaptainCasa framework: There is missing option to set focus on Page Bean Component","body":"<p>You cannot assign the focus to a page bean/ page bean component directly. But of course you can assign the focus to some control that is part of the page bean component (&quot;just normal&quot; focus management).</p>\n<p>This means:</p>\n<ol>\n<li><p>define the corresponding control inside the page bean/ page bean component so that it can receive the focus by program logic (attribute &quot;requestfocus&quot; etc. - please check Demo Workplace: General &gt; Focus Management &gt; Request focus by application).</p>\n</li>\n<li><p>expose the setting of the focus setting into some public method</p>\n</li>\n<li><p>call this public method by the user of the page bean.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22759292,"reputation":1,"user_id":16918363,"display_name":"Atanas Yalandzhiev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632499219,"creation_date":1632381668,"question_id":69295559,"body_markdown":"When it is used Page Bean Component it is missing method &quot;setRequestfocus&quot; similar to other components.\r\nDo you have similar ?\r\nIf not can this be exposed ?\r\n","title":"CaptainCasa framework: There is missing option to set focus on Page Bean Component","body":"<p>When it is used Page Bean Component it is missing method &quot;setRequestfocus&quot; similar to other components.\nDo you have similar ?\nIf not can this be exposed ?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1632500295,"post_id":69317935,"comment_id":122518137,"body_markdown":"Inside the `.forEach` body, increment a variable counting the batches processed. After all batches are processed, check the count of batches processed equals the number of batches in the request.","body":"Inside the <code>.forEach</code> body, increment a variable counting the batches processed. After all batches are processed, check the count of batches processed equals the number of batches in the request."},{"owner":{"account_id":22492933,"reputation":247,"user_id":16690419,"display_name":"code99"},"score":0,"creation_date":1632503023,"post_id":69317935,"comment_id":122519049,"body_markdown":"So far I&#39;ve tried a similar way that compares the length of retrieved batch size and batchId count. Thanks! \nI was hoping for a  cleaner way other than this.","body":"So far I&#39;ve tried a similar way that compares the length of retrieved batch size and batchId count. Thanks!  I was hoping for a  cleaner way other than this."}],"owner":{"account_id":22492933,"reputation":247,"user_id":16690419,"display_name":"code99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632498768,"creation_date":1632498768,"question_id":69317935,"body_markdown":"I have a SpringBoot application that uses a MongoDB repository to store some batch data. I need to update the batch documents via a bulk endpoint where I pass a list of objects as follows.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    [\r\n     {\r\n      &quot;batchId&quot;: 1,\r\n      &quot;itemList&quot;: [\r\n        {\r\n          &quot;inventory&quot;: 12,\r\n          &quot;purchasePrice&quot;: 20,\r\n          &quot;itemId&quot;: &quot;1&quot;\r\n        },\r\n        ...\r\n      ]\r\n     },\r\n    ...\r\n    ]\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nMy update method works correctly and the content is simple as follows. \r\n\r\n    // batchIdList contains all batchIds extracted from the above list \r\n      \r\n    batchRepository.findAllById(batchIdList)\r\n            .forEach(existingBatch -&gt; {\r\n                // update the existingBatch with new itemList data\r\n            });\r\n\r\nThe batchRepository instance is extended from the MongoRepository&lt;T, I&gt; interface. And I have used the `findAllById` method here to find all matching batches in a single database query.\r\n\r\n**Is there a way to throw an exception if any id of the batchIdList is not found in the batchRepository?**\r\n\r\n(Given, one id, it can be achieved as follow.\r\n\r\n    Batch batch = batchRepository.findById(batchId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Batch not found&quot;));\r\n\r\n   I do not need to loop the ids as it can cause heavy database queries.)\r\n\r\n","title":"MongoRepository : how to throw an exception in findAllBy, if at least one value is not found in the repository","body":"<p>I have a SpringBoot application that uses a MongoDB repository to store some batch data. I need to update the batch documents via a bulk endpoint where I pass a list of objects as follows.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>[\n {\n  \"batchId\": 1,\n  \"itemList\": [\n    {\n      \"inventory\": 12,\n      \"purchasePrice\": 20,\n      \"itemId\": \"1\"\n    },\n    ...\n  ]\n },\n...\n]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>My update method works correctly and the content is simple as follows.</p>\n<pre><code>// batchIdList contains all batchIds extracted from the above list \n  \nbatchRepository.findAllById(batchIdList)\n        .forEach(existingBatch -&gt; {\n            // update the existingBatch with new itemList data\n        });\n</code></pre>\n<p>The batchRepository instance is extended from the MongoRepository&lt;T, I&gt; interface. And I have used the <code>findAllById</code> method here to find all matching batches in a single database query.</p>\n<p><strong>Is there a way to throw an exception if any id of the batchIdList is not found in the batchRepository?</strong></p>\n<p>(Given, one id, it can be achieved as follow.</p>\n<pre><code>Batch batch = batchRepository.findById(batchId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Batch not found&quot;));\n</code></pre>\n<p>I do not need to loop the ids as it can cause heavy database queries.)</p>\n"},{"tags":["java","android-studio","apple-m1","macos-monterey"],"owner":{"account_id":15798507,"reputation":375,"user_id":11399686,"display_name":"santosh adhikari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632498738,"creation_date":1632498738,"question_id":69317926,"body_markdown":"macOS monterey crashed while installing android studio after reset M1 where long logs details was generated. I tried installing android Studio Bumblebee | 2021.1.1 Canary 3 and Arctic Fox | 2020.3.1 Canary 15. ","title":"Java: ApplicationImpl pooled while installing android studio on mac m1 monterey os","body":"<p>macOS monterey crashed while installing android studio after reset M1 where long logs details was generated. I tried installing android Studio Bumblebee | 2021.1.1 Canary 3 and Arctic Fox | 2020.3.1 Canary 15.</p>\n"},{"tags":["java","decode","urlconnection"],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632498628,"creation_date":1632496158,"answer_id":69317330,"question_id":69315266,"body_markdown":"Your issue is that the response comes in a.. non-typical, Bengali encoding. I couldn&#39;t find the exact one, but seems to be something close to &quot;Windows-1252&quot;.\r\n\r\nRunning the below code gives me the following output, having issues with some composite characters:\r\n\r\n\tpublic static void main(String[] args) throws UnsupportedEncodingException {\r\n\t\tvar source = &quot;&#224;&#167;&#169;&#224;&#166;Ÿ&#224;&#166;&#191; &#224;&#166;&#167;&#224;&#166;&#190;&#224;&#166;&#170;&#224;&#167;‡ &#224;&#166;&#184;&#224;&#166;&#185;&#224;&#166;œ&#224;&#167;‡&#224;&#166;‡ &#224;&#166;†&#224;&#166;&#164;&#224;&#167;&#224;&#166;&#172;&#224;&#166;&#172;&#224;&#166;&#191;&#224;&#166;&#182;&#224;&#167;&#224;&#166;&#172;&#224;&#166;&#190;&#224;&#166;&#184;&#224;&#167;€ &#224;&#166;&#185;&#224;&#167;Ÿ&#224;&#167;‡ &#224;&#166;‰&#224;&#166; &#224;&#167;&#224;&#166;&#168;&quot;;\r\n\t\tvar bytes = source.getBytes(&quot;Windows-1252&quot;);\r\n\t\tSystem.out.println(&quot;Expected: &quot; + &quot;৩টি ধাপে সহজেই আত্ববিশ্বাসী হয়ে উঠুন&quot;);\r\n\t\tSystem.out.println(&quot;Actual  : &quot; + new String(bytes, StandardCharsets.UTF_8));\r\n\t}\r\n\r\n    Expected: ৩টি ধাপে সহজেই আত্ববিশ্বাসী হয়ে উঠুন\r\n    Actual  : ৩টি ধাপে সহজেই আত�ববিশ�বাসী হয়ে উ� �ন\r\n\r\nThe solution may be to find the right decoder for this encoding of Bengali text so you can convert it to Unicode.\r\nBest of luck!","title":"Java Resolve Response URLConnection Header Value","body":"<p>Your issue is that the response comes in a.. non-typical, Bengali encoding. I couldn't find the exact one, but seems to be something close to &quot;Windows-1252&quot;.</p>\n<p>Running the below code gives me the following output, having issues with some composite characters:</p>\n<pre><code>public static void main(String[] args) throws UnsupportedEncodingException {\n    var source = &quot;à§©à¦Ÿà¦¿ à¦§à¦¾à¦ªà§‡ à¦¸à¦¹à¦œà§‡à¦‡ à¦†à¦¤à§à¦¬à¦¬à¦¿à¦¶à§à¦¬à¦¾à¦¸à§€ à¦¹à§Ÿà§‡ à¦‰à¦ à§à¦¨&quot;;\n    var bytes = source.getBytes(&quot;Windows-1252&quot;);\n    System.out.println(&quot;Expected: &quot; + &quot;৩টি ধাপে সহজেই আত্ববিশ্বাসী হয়ে উঠুন&quot;);\n    System.out.println(&quot;Actual  : &quot; + new String(bytes, StandardCharsets.UTF_8));\n}\n\nExpected: ৩টি ধাপে সহজেই আত্ববিশ্বাসী হয়ে উঠুন\nActual  : ৩টি ধাপে সহজেই আত�ববিশ�বাসী হয়ে উ� �ন\n</code></pre>\n<p>The solution may be to find the right decoder for this encoding of Bengali text so you can convert it to Unicode.\nBest of luck!</p>\n"}],"owner":{"account_id":18108932,"reputation":81,"user_id":13166126,"display_name":"Baisnabi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69317330,"answer_count":1,"score":0,"last_activity_date":1632498628,"creation_date":1632487531,"question_id":69315266,"body_markdown":"I send http head request with URLConnection and got header value `Content-Disposition` Unreadable value like bellow. \r\n\r\n`Content-Disposition: attachment; filename=&quot;&#224;&#167;&#169;&#224;&#166;Ÿ&#224;&#166;&#191; &#224;&#166;&#167;&#224;&#166;&#190;&#224;&#166;&#170;&#224;&#167;‡ &#224;&#166;&#184;&#224;&#166;&#185;&#224;&#166;œ&#224;&#167;‡&#224;&#166;‡ &#224;&#166;†&#224;&#166;&#164;&#224;&#167;&#224;&#166;&#172;&#224;&#166;&#172;&#224;&#166;&#191;&#224;&#166;&#182;&#224;&#167;&#224;&#166;&#172;&#224;&#166;&#190;&#224;&#166;&#184;&#224;&#167;€ &#224;&#166;&#185;&#224;&#167;Ÿ&#224;&#167;‡ &#224;&#166;‰&#224;&#166; &#224;&#167;&#224;&#166;&#168; | Motivational Video in Bangla.mp4&quot;`\r\n\r\nHow to resolve this text `&#224;&#167;&#169;&#224;&#166;Ÿ&#224;&#166;&#191; &#224;&#166;&#167;&#224;&#166;&#190;&#224;&#166;&#170;&#224;&#167;‡ &#224;&#166;&#184;&#224;&#166;&#185;&#224;&#166;œ&#224;&#167;‡&#224;&#166;‡ &#224;&#166;†&#224;&#166;&#164;&#224;&#167;&#224;&#166;&#172;&#224;&#166;&#172;&#224;&#166;&#191;&#224;&#166;&#182;&#224;&#167;&#224;&#166;&#172;&#224;&#166;&#190;&#224;&#166;&#184;&#224;&#167;€ &#224;&#166;&#185;&#224;&#167;Ÿ&#224;&#167;‡ &#224;&#166;‰&#224;&#166; &#224;&#167;&#224;&#166;&#168;` to `৩টি ধাপে সহজেই আত্ববিশ্বাসী হয়ে উঠুন`","title":"Java Resolve Response URLConnection Header Value","body":"<p>I send http head request with URLConnection and got header value <code>Content-Disposition</code> Unreadable value like bellow.</p>\n<p><code>Content-Disposition: attachment; filename=&quot;à§©à¦Ÿà¦¿ à¦§à¦¾à¦ªà§‡ à¦¸à¦¹à¦œà§‡à¦‡ à¦†à¦¤à§à¦¬à¦¬à¦¿à¦¶à§à¦¬à¦¾à¦¸à§€ à¦¹à§Ÿà§‡ à¦‰à¦ à§à¦¨ | Motivational Video in Bangla.mp4&quot;</code></p>\n<p>How to resolve this text <code>à§©à¦Ÿà¦¿ à¦§à¦¾à¦ªà§‡ à¦¸à¦¹à¦œà§‡à¦‡ à¦†à¦¤à§à¦¬à¦¬à¦¿à¦¶à§à¦¬à¦¾à¦¸à§€ à¦¹à§Ÿà§‡ à¦‰à¦ à§à¦¨</code> to <code>৩টি ধাপে সহজেই আত্ববিশ্বাসী হয়ে উঠুন</code></p>\n"},{"tags":["java","gson"],"answers":[{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1429101904,"creation_date":1396275584,"answer_id":22764068,"question_id":22764011,"body_markdown":"From the [Gson documentation][1]\r\n\r\n&gt; Exclude fields and objects based on a particular class type:\r\n\r\n    private static class SpecificClassExclusionStrategy implements ExclusionStrategy {\r\n        private final Class&lt;?&gt; excludedThisClass;\r\n\r\n        public SpecificClassExclusionStrategy(Class&lt;?&gt; excludedThisClass) {\r\n            this.excludedThisClass = excludedThisClass;\r\n        }\r\n\r\n        public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n            return excludedThisClass.equals(clazz);\r\n       }\r\n\r\n       public boolean shouldSkipField(FieldAttributes f) {\r\n            return excludedThisClass.equals(f.getDeclaringClass()());\r\n       }\r\n    }\r\n \r\n\r\n\r\n  [1]: http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/ExclusionStrategy.html","title":"How can I make gson exclude my object&#39;s superclass?","body":"<p>From the <a href=\"http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/ExclusionStrategy.html\" rel=\"noreferrer\">Gson documentation</a></p>\n\n<blockquote>\n  <p>Exclude fields and objects based on a particular class type:</p>\n</blockquote>\n\n<pre><code>private static class SpecificClassExclusionStrategy implements ExclusionStrategy {\n    private final Class&lt;?&gt; excludedThisClass;\n\n    public SpecificClassExclusionStrategy(Class&lt;?&gt; excludedThisClass) {\n        this.excludedThisClass = excludedThisClass;\n    }\n\n    public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n        return excludedThisClass.equals(clazz);\n   }\n\n   public boolean shouldSkipField(FieldAttributes f) {\n        return excludedThisClass.equals(f.getDeclaringClass()());\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19226838,"reputation":253,"user_id":14049546,"display_name":"Jonathan Locke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632498590,"creation_date":1632498590,"answer_id":69317897,"question_id":22764011,"body_markdown":"Another way to do this is:\r\n\r\n        builder.excludeFieldsWithoutExposeAnnotation();\r\n\r\nThen explicitly expose only the fields you want exposed.","title":"How can I make gson exclude my object&#39;s superclass?","body":"<p>Another way to do this is:</p>\n<pre><code>    builder.excludeFieldsWithoutExposeAnnotation();\n</code></pre>\n<p>Then explicitly expose only the fields you want exposed.</p>\n"}],"owner":{"account_id":1873001,"reputation":996,"user_id":1694832,"accept_rate":62,"display_name":"Federico Perez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4188,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1632498590,"creation_date":1396275439,"question_id":22764011,"body_markdown":"Im trying to serialize/deserialize using Gson. I don&#39;t want the super class (which is abstract) to be considered, the problem is that I don&#39;t have access to the super class code.\r\n\r\nI&#39;ve tried with an `ExclusionStrategy` but it didn&#39;t work.\r\n\r\n    private class SuperClassExclusionStrategy implements ExclusionStrategy {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n    \t\t\treturn clazz.equals(SuperClass.class);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean shouldSkipField(FieldAttributes field) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\nHow can I solve this?\r\n\r\n**Edit:**\r\n\r\nI need the fields in the superclass to be ignored, this is because I am getting this error: `MyClass declares multiple JSON fields named`.\r\nI can not change the conflicting fields name.\r\n\r\n**Solution:**\r\n\r\nSolved with the following strategy:\r\n\r\n    private static class SuperClassExclusionStrategy implements ExclusionStrategy {\r\n    \r\n      public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n       return false;\r\n      }\r\n    \r\n      public boolean shouldSkipField(FieldAttributes field) {\r\n       return field.getDeclaringClass().equals(MySuperClass.class) &amp;&amp; field.getName()\r\n        .equals(&quot;id&quot;);\r\n      }\r\n     }","title":"How can I make gson exclude my object&#39;s superclass?","body":"<p>Im trying to serialize/deserialize using Gson. I don't want the super class (which is abstract) to be considered, the problem is that I don't have access to the super class code.</p>\n\n<p>I've tried with an <code>ExclusionStrategy</code> but it didn't work.</p>\n\n<pre><code>private class SuperClassExclusionStrategy implements ExclusionStrategy {\n\n        @Override\n        public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n            return clazz.equals(SuperClass.class);\n        }\n\n        @Override\n        public boolean shouldSkipField(FieldAttributes field) {\n            return false;\n        }\n\n    }\n</code></pre>\n\n<p>How can I solve this?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I need the fields in the superclass to be ignored, this is because I am getting this error: <code>MyClass declares multiple JSON fields named</code>.\nI can not change the conflicting fields name.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p>Solved with the following strategy:</p>\n\n<pre><code>private static class SuperClassExclusionStrategy implements ExclusionStrategy {\n\n  public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n   return false;\n  }\n\n  public boolean shouldSkipField(FieldAttributes field) {\n   return field.getDeclaringClass().equals(MySuperClass.class) &amp;&amp; field.getName()\n    .equals(\"id\");\n  }\n }\n</code></pre>\n"},{"tags":["java","spring","exception","dependency-injection","constructor"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1632497596,"post_id":69317614,"comment_id":122517092,"body_markdown":"&quot;Does Spring take care of this somewhere for me?&quot; yes. Spring has a &quot;context&quot; (think a Map) where all beans are present. If it &quot;seems&quot; a bean A that needs a bean B - it will just look in its context for bean B, if that one needs bean C - it will just search again, and so on. This is a simplified (and somehow wrong) explanation","body":"&quot;Does Spring take care of this somewhere for me?&quot; yes. Spring has a &quot;context&quot; (think a Map) where all beans are present. If it &quot;seems&quot; a bean A that needs a bean B - it will just look in its context for bean B, if that one needs bean C - it will just search again, and so on. This is a simplified (and somehow wrong) explanation"},{"owner":{"account_id":9547538,"reputation":129,"user_id":7092930,"display_name":"Alex"},"score":0,"creation_date":1632500699,"post_id":69317614,"comment_id":122518285,"body_markdown":"Thank you @Eugene I get the point. This makes it clearer for me and a great Segway into Jo&#227;o Dias answer. Now I know it&#39;s in a context which is like a map that keep tracks of all of these objects.","body":"Thank you @Eugene I get the point. This makes it clearer for me and a great Segway into Jo&#227;o Dias answer. Now I know it&#39;s in a context which is like a map that keep tracks of all of these objects."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632498389,"creation_date":1632498072,"answer_id":69317766,"question_id":69317614,"body_markdown":"Answering your question: yes. Spring manages all the Beans on your behalf. You can declare a Bean in multiple ways:\r\n\r\n 1. XML (the old way);\r\n 2. Using `@Bean` (but in this case you would actually instantiate the Bean);\r\n 3. Using `@Component`, `@Service`, `@Repository` or `@Controller` (the later 3 are basically specializations of the first).\r\n\r\nIn your case, you have annotated `SampleController` with `@Controller`, so now Spring knows that it will need to provide this Bean for you by managing it in the Spring IoC container. However, so that Spring can create the Bean it will also understand that it needs another Bean to be available, in your case `SomeRepository`. If such a Bean already exists in Spring IoC Container then Spring provides it to your `SampleController` constructor. For this to work, `SomeRepository` must also be a Spring-managed Bean, and thus defined by one of the previous three ways.\r\n\r\nIt is worth mentioning that if for example you would have multiple `SomeRepository` Beans in your application (imagine an interface having multiple implementations, being each one a different Bean), you would need to &quot;tell&quot; Spring which one you want to be used in `SampleController`, otherwise you would get an error. There are multiple ways to do this:\r\n\r\n 1. Using `@Qualifier` annotations;\r\n 2. Using `@Primary` on one of the implementations to mark it as the &quot;default&quot; in case you don&#39;t explicitly &quot;say&quot; which one you want.\r\n\r\nYou can check examples in https://www.baeldung.com/spring-qualifier-annotation.\r\n\r\nThis is a very high-level description, but you can find some good [articles][1] online about this or even check the [reference documentation][2].\r\n\r\n\r\n  [1]: https://medium.com/javarevisited/spring-beans-in-depth-a6d8b31db8a1\r\n  [2]: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html","title":"Java Spring Boot how does constructor method dependency injection actually work","body":"<p>Answering your question: yes. Spring manages all the Beans on your behalf. You can declare a Bean in multiple ways:</p>\n<ol>\n<li>XML (the old way);</li>\n<li>Using <code>@Bean</code> (but in this case you would actually instantiate the Bean);</li>\n<li>Using <code>@Component</code>, <code>@Service</code>, <code>@Repository</code> or <code>@Controller</code> (the later 3 are basically specializations of the first).</li>\n</ol>\n<p>In your case, you have annotated <code>SampleController</code> with <code>@Controller</code>, so now Spring knows that it will need to provide this Bean for you by managing it in the Spring IoC container. However, so that Spring can create the Bean it will also understand that it needs another Bean to be available, in your case <code>SomeRepository</code>. If such a Bean already exists in Spring IoC Container then Spring provides it to your <code>SampleController</code> constructor. For this to work, <code>SomeRepository</code> must also be a Spring-managed Bean, and thus defined by one of the previous three ways.</p>\n<p>It is worth mentioning that if for example you would have multiple <code>SomeRepository</code> Beans in your application (imagine an interface having multiple implementations, being each one a different Bean), you would need to &quot;tell&quot; Spring which one you want to be used in <code>SampleController</code>, otherwise you would get an error. There are multiple ways to do this:</p>\n<ol>\n<li>Using <code>@Qualifier</code> annotations;</li>\n<li>Using <code>@Primary</code> on one of the implementations to mark it as the &quot;default&quot; in case you don't explicitly &quot;say&quot; which one you want.</li>\n</ol>\n<p>You can check examples in <a href=\"https://www.baeldung.com/spring-qualifier-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-qualifier-annotation</a>.</p>\n<p>This is a very high-level description, but you can find some good <a href=\"https://medium.com/javarevisited/spring-beans-in-depth-a6d8b31db8a1\" rel=\"nofollow noreferrer\">articles</a> online about this or even check the <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html\" rel=\"nofollow noreferrer\">reference documentation</a>.</p>\n"}],"owner":{"account_id":9547538,"reputation":129,"user_id":7092930,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69317766,"answer_count":1,"score":0,"last_activity_date":1632498585,"creation_date":1632497406,"question_id":69317614,"body_markdown":"How does constructor method dependency injection work if I&#39;m not even initializing the class anywhere or passing in arguments. Does Spring take care of this somewhere for me? Would really like to know more about this, if anyone wouldn&#39;t mind sharing/teaching me. How does this work on the heap? Would there be a reference to the class being constructed and the dependency so I would have two instances of different objects or just one? I found this answer [How does constructor dependency injection work?][1], but it doesn&#39;t really answer my question in great detail.\r\n\r\nExample:\r\n\r\n```\r\n\r\n@Controller\r\n@RequestMapping\r\npublic class SampleController{\r\n\r\n    private final SomeRepository someRepository;\r\n\r\n    pulbic SampleController(SomeRepository someRepository) throws Exception{\r\n\r\n        // will someRepository ever be null? \r\n        if(someRepository == null)\r\n            throw new Exception(&quot;I told you it wouldn&#39;t work!&quot;);\r\n        this.someRepository = someRepository;\r\n    }\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/41498081/how-does-constructor-dependency-injection-work","title":"Java Spring Boot how does constructor method dependency injection actually work","body":"<p>How does constructor method dependency injection work if I'm not even initializing the class anywhere or passing in arguments. Does Spring take care of this somewhere for me? Would really like to know more about this, if anyone wouldn't mind sharing/teaching me. How does this work on the heap? Would there be a reference to the class being constructed and the dependency so I would have two instances of different objects or just one? I found this answer <a href=\"https://stackoverflow.com/questions/41498081/how-does-constructor-dependency-injection-work\">How does constructor dependency injection work?</a>, but it doesn't really answer my question in great detail.</p>\n<p>Example:</p>\n<pre><code>\n@Controller\n@RequestMapping\npublic class SampleController{\n\n    private final SomeRepository someRepository;\n\n    pulbic SampleController(SomeRepository someRepository) throws Exception{\n\n        // will someRepository ever be null? \n        if(someRepository == null)\n            throw new Exception(&quot;I told you it wouldn't work!&quot;);\n        this.someRepository = someRepository;\n    }\n</code></pre>\n"},{"tags":["java","multithreading","cucumber","maven-surefire-plugin"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1632492549,"post_id":69314988,"comment_id":122514887,"body_markdown":"there is no &quot;issue&quot; with ThreadLocals and pools. When using pools - you just need to do the cleap-up manually and since this is only for tests, honestly, who cares if you do not clean them up promptly? When tests are done they will be destroyed and clean-up will happen _anyway_","body":"there is no &quot;issue&quot; with ThreadLocals and pools. When using pools - you just need to do the cleap-up manually and since this is only for tests, honestly, who cares if you do not clean them up promptly? When tests are done they will be destroyed and clean-up will happen <i>anyway</i>"},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1632506353,"post_id":69314988,"comment_id":122520151,"body_markdown":"I suggest to not use `hooks` while using `ThreadLocal`","body":"I suggest to not use <code>hooks</code> while using <code>ThreadLocal</code>"},{"owner":{"account_id":8871826,"reputation":226,"user_id":6625327,"accept_rate":36,"display_name":"julew"},"score":0,"creation_date":1632728042,"post_id":69314988,"comment_id":122561179,"body_markdown":"@Eugene As fas as I understand the issue can occurs, when cucumber decides to reuse thread from the pool that was already used for different scenario. Then some thread related data can be associated with it.\nBut now I am thinking that if we clean all thread related data in one of cucumber hooks it should work properly.","body":"@Eugene As fas as I understand the issue can occurs, when cucumber decides to reuse thread from the pool that was already used for different scenario. Then some thread related data can be associated with it. But now I am thinking that if we clean all thread related data in one of cucumber hooks it should work properly."},{"owner":{"account_id":8871826,"reputation":226,"user_id":6625327,"accept_rate":36,"display_name":"julew"},"score":0,"creation_date":1632728067,"post_id":69314988,"comment_id":122561194,"body_markdown":"@NandanA Any reason behind?","body":"@NandanA Any reason behind?"}],"answers":[{"tags":[],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632498535,"creation_date":1632497360,"answer_id":69317602,"question_id":69314988,"body_markdown":"I am using  [`courgette-jvm`](https://github.com/prashant-ramcharan/courgette-jvm) in conjunction with [`cucumber-guice`](https://javadoc.io/doc/io.cucumber/cucumber-guice/latest/io/cucumber/guice/package-summary.html) to parallelize tests without `ThreadLocal`. It  enters scenario specific info from gherkin into the ui and doesn&#39;t require any `ThreadLocal` or `pool` . Also it doesn&#39;t require you to clean anything. This setup automatically creates separate webdriver instances per scenario and runs separate browsers in parallel. I use it with selenium hub and extend it to docker if needed\r\n\r\n    import courgette.api.CourgetteOptions;\r\n    import courgette.api.CourgetteRunLevel;\r\n    import courgette.api.CucumberOptions;\r\n    import courgette.api.testng.TestNGCourgette;\r\n    import org.testng.annotations.Test;\r\n    \r\n    @Test\r\n    @CourgetteOptions(\r\n            threads = 10,\r\n            runLevel = CourgetteRunLevel.SCENARIO,\r\n            rerunFailedScenarios = true,\r\n            rerunAttempts = 1,\r\n            showTestOutput = true,\r\n            reportTitle = &quot;Courgette-JVM Example&quot;,\r\n            reportTargetDir = &quot;build&quot;,\r\n            environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\r\n            cucumberOptions = @CucumberOptions(\r\n                    features = &quot;src/test/resources/com/test/&quot;,\r\n                    glue = &quot;com.test.stepdefs&quot;,\r\n                    //tags = {&quot;@post or @get&quot;},\r\n                    publish = true,\r\n                    plugin = {\r\n                            &quot;pretty&quot;,\r\n                            &quot;json:target/cucumber-report/cucumber.json&quot;,\r\n                            &quot;html:target/cucumber-report/cucumber.html&quot;}\r\n            ))\r\n    class AcceptanceIT extends TestNGCourgette {\r\n    }\r\n\r\nrelevant pom elements\r\n\r\n    &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        &lt;version&gt;6.14.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n        &lt;version&gt;6.9.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n        &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\r\n        &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\r\n        &lt;version&gt;5.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n      &lt;!-- httpclient dpendendecy is to resolve courgette-jvm error -  NoClassDefFoundError: org/apache/http/conn/ssl/TrustAllStrategy --&gt;        \r\n     &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nRemoteWebdriver config\r\n\r\n    protected RemoteWebDriver createDriver() throws MalformedURLException {\r\n           \r\n            String hubURL = \r\n                &quot;http://192.168.1.3:&quot;+&quot;selenium hub port here&quot;+&quot;/wd/hub&quot;;\r\n                 ChromeOptions options = new ChromeOptions();\r\n                 DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n                 capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n                 return (RemoteWebDriver) (driver = new RemoteWebDriver(new URL(hubURL), capabilities));\r\n    \r\n            }\r\n    \r\n            @Override\r\n             public RemoteWebDriver getDriver() throws MalformedURLException {\r\n                    this.createDriver();\r\n                    return (RemoteWebDriver) driver;\r\n            }\r\n    \r\ncucumber-guice related configs\r\n    \r\n        import io.cucumber.guice.ScenarioScoped;    \r\n        @ScenarioScoped\r\n              public class Global {\r\n              public RemoteWebDriver driver;\r\n               \r\n              public Global() throws MalformedURLException, IOException {\r\n                    driver = new DriverFactory().getManager();\r\n                   // getManager() should have driver from above createDriver()\r\n    \r\n              }\r\n        }\r\n\r\nInject `Global` class in your stepdefs like below (do necessary imports). You can inject helper classes also and guice will have it available per scenario\r\n\r\n     @Inject\r\n       Global global;\r\n     \r\n      //then you can do\r\n       global.driver.get(site);\r\n\r\npom for cucumber-guice\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-guice&lt;/artifactId&gt;\r\n          &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n","title":"Can ThreadLocal be used in Cucumber paralel tests using mvn surefire plugin","body":"<p>I am using  <a href=\"https://github.com/prashant-ramcharan/courgette-jvm\" rel=\"nofollow noreferrer\"><code>courgette-jvm</code></a> in conjunction with <a href=\"https://javadoc.io/doc/io.cucumber/cucumber-guice/latest/io/cucumber/guice/package-summary.html\" rel=\"nofollow noreferrer\"><code>cucumber-guice</code></a> to parallelize tests without <code>ThreadLocal</code>. It  enters scenario specific info from gherkin into the ui and doesn't require any <code>ThreadLocal</code> or <code>pool</code> . Also it doesn't require you to clean anything. This setup automatically creates separate webdriver instances per scenario and runs separate browsers in parallel. I use it with selenium hub and extend it to docker if needed</p>\n<pre><code>import courgette.api.CourgetteOptions;\nimport courgette.api.CourgetteRunLevel;\nimport courgette.api.CucumberOptions;\nimport courgette.api.testng.TestNGCourgette;\nimport org.testng.annotations.Test;\n\n@Test\n@CourgetteOptions(\n        threads = 10,\n        runLevel = CourgetteRunLevel.SCENARIO,\n        rerunFailedScenarios = true,\n        rerunAttempts = 1,\n        showTestOutput = true,\n        reportTitle = &quot;Courgette-JVM Example&quot;,\n        reportTargetDir = &quot;build&quot;,\n        environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\n        cucumberOptions = @CucumberOptions(\n                features = &quot;src/test/resources/com/test/&quot;,\n                glue = &quot;com.test.stepdefs&quot;,\n                //tags = {&quot;@post or @get&quot;},\n                publish = true,\n                plugin = {\n                        &quot;pretty&quot;,\n                        &quot;json:target/cucumber-report/cucumber.json&quot;,\n                        &quot;html:target/cucumber-report/cucumber.html&quot;}\n        ))\nclass AcceptanceIT extends TestNGCourgette {\n}\n</code></pre>\n<p>relevant pom elements</p>\n<pre><code>&lt;/dependency&gt;\n      &lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;6.14.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n      &lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n    &lt;version&gt;6.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n      &lt;dependency&gt;\n    &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\n    &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\n    &lt;version&gt;5.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n      &lt;dependency&gt;\n  &lt;!-- httpclient dpendendecy is to resolve courgette-jvm error -  NoClassDefFoundError: org/apache/http/conn/ssl/TrustAllStrategy --&gt;        \n &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;version&gt;4.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>RemoteWebdriver config</p>\n<pre><code>protected RemoteWebDriver createDriver() throws MalformedURLException {\n       \n        String hubURL = \n            &quot;http://192.168.1.3:&quot;+&quot;selenium hub port here&quot;+&quot;/wd/hub&quot;;\n             ChromeOptions options = new ChromeOptions();\n             DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n             capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n             return (RemoteWebDriver) (driver = new RemoteWebDriver(new URL(hubURL), capabilities));\n\n        }\n\n        @Override\n         public RemoteWebDriver getDriver() throws MalformedURLException {\n                this.createDriver();\n                return (RemoteWebDriver) driver;\n        }\n</code></pre>\n<p>cucumber-guice related configs</p>\n<pre><code>    import io.cucumber.guice.ScenarioScoped;    \n    @ScenarioScoped\n          public class Global {\n          public RemoteWebDriver driver;\n           \n          public Global() throws MalformedURLException, IOException {\n                driver = new DriverFactory().getManager();\n               // getManager() should have driver from above createDriver()\n\n          }\n    }\n</code></pre>\n<p>Inject <code>Global</code> class in your stepdefs like below (do necessary imports). You can inject helper classes also and guice will have it available per scenario</p>\n<pre><code> @Inject\n   Global global;\n \n  //then you can do\n   global.driver.get(site);\n</code></pre>\n<p>pom for cucumber-guice</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-guice&lt;/artifactId&gt;\n      &lt;version&gt;${cucumber.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8871826,"reputation":226,"user_id":6625327,"accept_rate":36,"display_name":"julew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632498535,"creation_date":1632486359,"question_id":69314988,"body_markdown":"In our e2e project we want to parallelise test scenarios execution. In few places we would like to have something stored per thread e.g. WebDriver, scenario specific state etc. My first approach would be to use ThreadLocal like:\r\n```\r\nprivate static ThreadLocal&lt;WebDriver&gt; driverHolder = new ThreadLocal&lt;&gt;();\r\n```\r\nBut also keeping in mind issues using combination of ThreadLocal and thread pools (for example the ones mentioned here [here][1]) I am wondering if ThreadLocal can actually be used in this context.\r\n\r\nI don&#39;t know the insights of cucumber or surefire implementation details so I don&#39;t know if that kind of setup is thread safe as I am not fully controlling how these thread spawned and how teared down, which means that I can&#39;t clean up the ThreadLocal in an appropriate moment.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-threadlocal#threadlocalsand-thread-pools","title":"Can ThreadLocal be used in Cucumber paralel tests using mvn surefire plugin","body":"<p>In our e2e project we want to parallelise test scenarios execution. In few places we would like to have something stored per thread e.g. WebDriver, scenario specific state etc. My first approach would be to use ThreadLocal like:</p>\n<pre><code>private static ThreadLocal&lt;WebDriver&gt; driverHolder = new ThreadLocal&lt;&gt;();\n</code></pre>\n<p>But also keeping in mind issues using combination of ThreadLocal and thread pools (for example the ones mentioned here <a href=\"https://www.baeldung.com/java-threadlocal#threadlocalsand-thread-pools\" rel=\"nofollow noreferrer\">here</a>) I am wondering if ThreadLocal can actually be used in this context.</p>\n<p>I don't know the insights of cucumber or surefire implementation details so I don't know if that kind of setup is thread safe as I am not fully controlling how these thread spawned and how teared down, which means that I can't clean up the ThreadLocal in an appropriate moment.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1632496794,"post_id":69316927,"comment_id":122516721,"body_markdown":"Take a look at the README for this [Bubble Sort Animation](https://github.com/ggleblanc2/bubble-sort-animation).  A Swing application that animates sorting algorithms is definitely not simple.","body":"Take a look at the README for this <a href=\"https://github.com/ggleblanc2/bubble-sort-animation\" rel=\"nofollow noreferrer\">Bubble Sort Animation</a>.  A Swing application that animates sorting algorithms is definitely not simple."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1632497623,"post_id":69316927,"comment_id":122517100,"body_markdown":"1) Don&#39;t use a null layout. Swing was designed to be used with layout managers 2) *i&#39;&#39;m trying to make a simple app that visualised sorting algorithms,* - check out [Bubble Sort Animation](https://stackoverflow.com/questions/64196198/bubble-sort-animation) for a different approach to animation for the next step of your project.","body":"1) Don&#39;t use a null layout. Swing was designed to be used with layout managers 2) <i>i&#39;&#39;m trying to make a simple app that visualised sorting algorithms,</i> - check out <a href=\"https://stackoverflow.com/questions/64196198/bubble-sort-animation\">Bubble Sort Animation</a> for a different approach to animation for the next step of your project."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632494990,"creation_date":1632494990,"answer_id":69317014,"question_id":69316927,"body_markdown":"Your problem is that your DrawRectangle is never given any size (height &amp; width). You could add\r\n\r\n    public Dimension getPreferredSize() {\r\n      return new Dimension(200,200);\r\n    }\r\n\r\nto DrawRectangle and turn the layoutmanger back on (preferred solution). Or you could manually setSize/setBounds of both the DrawRectangle and the Frame.","title":"Java Swing Drawing A Rectangle","body":"<p>Your problem is that your DrawRectangle is never given any size (height &amp; width). You could add</p>\n<pre><code>public Dimension getPreferredSize() {\n  return new Dimension(200,200);\n}\n</code></pre>\n<p>to DrawRectangle and turn the layoutmanger back on (preferred solution). Or you could manually setSize/setBounds of both the DrawRectangle and the Frame.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632496795,"creation_date":1632496795,"answer_id":69317471,"question_id":69316927,"body_markdown":"Usually, when you want to draw shapes, you define a class that extends `javax.swing.JPanel` (and not `JComponent`) and you override method `paintComponent` (as you have done).\r\n\r\nThe first line in the overridden `paintComponent` method should almost always be a call to the superclass method, i.e.\r\n```java\r\nsuper.paintComponent(g);\r\n```\r\nAs stated in [Performing Custom Painting][1]\r\n&gt; in Swing, your GUI creation code should be placed on the Event Dispatch Thread (EDT)\r\n\r\nThere is no need to set the layout to null in your `JFrame`. There is also no need to explicitly call method `repaint`.\r\n\r\nYou should add all the components to the `JFrame` before calling method `setVisible`.\r\n\r\nThe following code displays a pink rectangle in a `JFrame`. Note that I removed the irrelevant code concerning generating random numbers since that does not affect your desired result of displaying a rectangle.\r\n```java\r\nimport java.awt.Color;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.geom.Rectangle2D;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\nclass DrawRectangle extends JPanel {\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        Graphics2D g2=(Graphics2D) g;\r\n        g2.setPaint(Color.PINK);\r\n        Rectangle2D rect=new Rectangle2D.Double(50,50,200,200);\r\n        g2.draw(rect);\r\n        g2.fill(rect);\r\n    }\r\n}\r\n\r\npublic class Sorter {\r\n    static int width = 800;\r\n    static int height = 500;\r\n\r\n    private void createAndDisplayGui() {\r\n        JFrame f=new JFrame();\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        f.add(new DrawRectangle());\r\n        f.setSize(width,height);\r\n        f.setLocationByPlatform(true);\r\n        f.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final Sorter sorter = new Sorter();\r\n        EventQueue.invokeLater(() -&gt; sorter.createAndDisplayGui());\r\n    }  \r\n}\r\n```\r\nNote that in the tutorial, *Performing Custom Painting*, they call method `invokeLater` of class `SwingUtilities`. That method merely invokes the method in class `EventQueue` so I just call the `EventQueue` method directly.\r\n\r\nHere is a screen capture.\r\n\r\n[![screen capture][2]][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\r\n  [2]: https://i.stack.imgur.com/dUt70.png","title":"Java Swing Drawing A Rectangle","body":"<p>Usually, when you want to draw shapes, you define a class that extends <code>javax.swing.JPanel</code> (and not <code>JComponent</code>) and you override method <code>paintComponent</code> (as you have done).</p>\n<p>The first line in the overridden <code>paintComponent</code> method should almost always be a call to the superclass method, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>super.paintComponent(g);\n</code></pre>\n<p>As stated in <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a></p>\n<blockquote>\n<p>in Swing, your GUI creation code should be placed on the Event Dispatch Thread (EDT)</p>\n</blockquote>\n<p>There is no need to set the layout to null in your <code>JFrame</code>. There is also no need to explicitly call method <code>repaint</code>.</p>\n<p>You should add all the components to the <code>JFrame</code> before calling method <code>setVisible</code>.</p>\n<p>The following code displays a pink rectangle in a <code>JFrame</code>. Note that I removed the irrelevant code concerning generating random numbers since that does not affect your desired result of displaying a rectangle.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Rectangle2D;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nclass DrawRectangle extends JPanel {\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        Graphics2D g2=(Graphics2D) g;\n        g2.setPaint(Color.PINK);\n        Rectangle2D rect=new Rectangle2D.Double(50,50,200,200);\n        g2.draw(rect);\n        g2.fill(rect);\n    }\n}\n\npublic class Sorter {\n    static int width = 800;\n    static int height = 500;\n\n    private void createAndDisplayGui() {\n        JFrame f=new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(new DrawRectangle());\n        f.setSize(width,height);\n        f.setLocationByPlatform(true);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        final Sorter sorter = new Sorter();\n        EventQueue.invokeLater(() -&gt; sorter.createAndDisplayGui());\n    }  \n}\n</code></pre>\n<p>Note that in the tutorial, <em>Performing Custom Painting</em>, they call method <code>invokeLater</code> of class <code>SwingUtilities</code>. That method merely invokes the method in class <code>EventQueue</code> so I just call the <code>EventQueue</code> method directly.</p>\n<p>Here is a screen capture.</p>\n<p><a href=\"https://i.stack.imgur.com/dUt70.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dUt70.png\" alt=\"screen capture\" /></a></p>\n"}],"owner":{"account_id":18437727,"reputation":19,"user_id":13431114,"display_name":"tomjedi9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1632552973,"accepted_answer_id":69317014,"answer_count":2,"score":-2,"last_activity_date":1632498133,"creation_date":1632494625,"question_id":69316927,"body_markdown":"I&#39;m trying to make a simple app that visualised sorting algorithms, but have gotten stuck trying to draw a rectangle (these will later represent each number in the array). I have tried alot of tutorials, and my code compiles, but it just makes an empty screen when ran. Have I missed something obvious?\r\n\r\n```java\r\nimport javax.swing.*;  \r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Color;\r\nimport java.awt.Rectangle;\r\nimport java.awt.geom.Rectangle2D;\r\n\r\nclass DrawRectangle extends JComponent{\r\n    public void paintComponent(Graphics g){\r\n        Graphics2D g2=(Graphics2D) g;\r\n        g2.setPaint(Color.PINK);\r\n        Rectangle2D rect=new Rectangle2D.Double(50,50,200,200);\r\n        g2.draw(rect);\r\n        g2.fill(rect);\r\n    }\r\n}\r\n\r\npublic class Sorter {  \r\n\tstatic int numElements = 20; \r\n\tstatic int width = 800;\r\n\tstatic int height = 500;\r\n\r\n\tpublic void newList(){\r\n\r\n\t}\r\n\tpublic static void main(String[] args) {  \r\n\t\tArrayList&lt;Integer&gt; nums = new ArrayList&lt;Integer&gt;();\r\n\t\tRandom rand = new Random();\r\n\t\t\r\n\t\tfor(int i = 0; i &lt;= numElements; i++){\r\n\t\t\tint randomNum = rand.nextInt(100);\r\n\t\t\tnums.add(randomNum);\r\n\t\t}\r\n\r\n\t\t// Create J Frame\r\n\t\tJFrame f=new JFrame(); \r\n\t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n       \t\t\r\n\t\tint arrWidth = width - 200;\r\n\t\tint eachCol = arrWidth / nums.size();\r\n\t\tfor(int i = 0; i &lt;= numElements; i++){\r\n\r\n\t\t}\r\n\t\t\r\n\t\tf.setSize(width,height);\r\n\t\tf.setLayout(null);//using no layout managers  \r\n\t\tf.setVisible(true);//making the frame visible  \r\n\t\t\r\n\t\tDrawRectangle rec= new DrawRectangle();\r\n        f.add(rec);\r\n        \r\n\t\tf.add(new DrawRectangle());\r\n\t    f.repaint();\r\n\t}  \r\n}\r\n```","title":"Java Swing Drawing A Rectangle","body":"<p>I'm trying to make a simple app that visualised sorting algorithms, but have gotten stuck trying to draw a rectangle (these will later represent each number in the array). I have tried alot of tutorials, and my code compiles, but it just makes an empty screen when ran. Have I missed something obvious?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;  \nimport java.util.ArrayList;\nimport java.util.Random;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Color;\nimport java.awt.Rectangle;\nimport java.awt.geom.Rectangle2D;\n\nclass DrawRectangle extends JComponent{\n    public void paintComponent(Graphics g){\n        Graphics2D g2=(Graphics2D) g;\n        g2.setPaint(Color.PINK);\n        Rectangle2D rect=new Rectangle2D.Double(50,50,200,200);\n        g2.draw(rect);\n        g2.fill(rect);\n    }\n}\n\npublic class Sorter {  \n    static int numElements = 20; \n    static int width = 800;\n    static int height = 500;\n\n    public void newList(){\n\n    }\n    public static void main(String[] args) {  \n        ArrayList&lt;Integer&gt; nums = new ArrayList&lt;Integer&gt;();\n        Random rand = new Random();\n        \n        for(int i = 0; i &lt;= numElements; i++){\n            int randomNum = rand.nextInt(100);\n            nums.add(randomNum);\n        }\n\n        // Create J Frame\n        JFrame f=new JFrame(); \n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            \n        int arrWidth = width - 200;\n        int eachCol = arrWidth / nums.size();\n        for(int i = 0; i &lt;= numElements; i++){\n\n        }\n        \n        f.setSize(width,height);\n        f.setLayout(null);//using no layout managers  \n        f.setVisible(true);//making the frame visible  \n        \n        DrawRectangle rec= new DrawRectangle();\n        f.add(rec);\n        \n        f.add(new DrawRectangle());\n        f.repaint();\n    }  \n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch","spring-retry"],"comments":[{"owner":{"account_id":5552568,"reputation":751,"user_id":4405136,"display_name":"Marco"},"score":0,"creation_date":1632497219,"post_id":69316689,"comment_id":122516901,"body_markdown":"Which version of Spring are you using?","body":"Which version of Spring are you using?"},{"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"score":0,"creation_date":1632497409,"post_id":69316689,"comment_id":122517001,"body_markdown":"Spring boot &lt;spring-boot.version&gt;2.2.5.RELEASE&lt;/spring-boot.version&gt; / So Spring Batch 4.2.1.RELEASE","body":"Spring boot &lt;spring-boot.version&gt;2.2.5.RELEASE&lt;/spring-boot.version&gt; / So Spring Batch 4.2.1.RELEASE"}],"answers":[{"tags":[],"owner":{"account_id":4255880,"reputation":391,"user_id":3481598,"accept_rate":67,"display_name":"davidwillianx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632495396,"creation_date":1632495396,"answer_id":69317130,"question_id":69316689,"body_markdown":"Have you tried to include all expected exceptions as retryable param?\r\n\r\n```\r\n  @Retryable(maxAttempts = 10, backoff = @Backoff(delay = 1000),value={JobExecutionAlreadyRunningException.class})\r\n```\r\n\r\nI read a few tutorials and I&#39;m not sure how retryable behaves when no exception (expected) were specified","title":"@Retryable with @Scheduled don&#39;t fire","body":"<p>Have you tried to include all expected exceptions as retryable param?</p>\n<pre><code>  @Retryable(maxAttempts = 10, backoff = @Backoff(delay = 1000),value={JobExecutionAlreadyRunningException.class})\n</code></pre>\n<p>I read a few tutorials and I'm not sure how retryable behaves when no exception (expected) were specified</p>\n"},{"tags":[],"owner":{"account_id":5552568,"reputation":751,"user_id":4405136,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632498103,"creation_date":1632498103,"answer_id":69317774,"question_id":69316689,"body_markdown":"Check out [this issue][1] on Spring Retry.\r\nMost likely the problem you are experiencing is a Spring bug ([SPR-16196][2]) fixed only in versions 4.3.14, 5.0.3\r\nI tried your snippet without using Spring Batch and it works fine.\r\n\r\n    @Component\r\n    public class TestComponent {\r\n        \r\n        Logger logger = LoggerFactory.getLogger(TestApplication.class);\r\n    \r\n        @Retryable(maxAttempts = 10, backoff = @Backoff(delay = 1000))\r\n        @Scheduled(cron = &quot;0 0/2 * ? * *&quot;)\r\n        public void foo() {\r\n            logger.info(&quot;foo&quot;);\r\n            throw new RuntimeException(&quot;runtime&quot;);\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/spring-projects/spring-retry/issues/94\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/20744","title":"@Retryable with @Scheduled don&#39;t fire","body":"<p>Check out <a href=\"https://github.com/spring-projects/spring-retry/issues/94\" rel=\"nofollow noreferrer\">this issue</a> on Spring Retry.\nMost likely the problem you are experiencing is a Spring bug (<a href=\"https://github.com/spring-projects/spring-framework/issues/20744\" rel=\"nofollow noreferrer\">SPR-16196</a>) fixed only in versions 4.3.14, 5.0.3\nI tried your snippet without using Spring Batch and it works fine.</p>\n<pre><code>@Component\npublic class TestComponent {\n    \n    Logger logger = LoggerFactory.getLogger(TestApplication.class);\n\n    @Retryable(maxAttempts = 10, backoff = @Backoff(delay = 1000))\n    @Scheduled(cron = &quot;0 0/2 * ? * *&quot;)\n    public void foo() {\n        logger.info(&quot;foo&quot;);\n        throw new RuntimeException(&quot;runtime&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69317774,"answer_count":2,"score":0,"last_activity_date":1632498103,"creation_date":1632493655,"question_id":69316689,"body_markdown":"I&#39;ve written a Spring Boot Application where I&#39;ve enabled Spring Batch Scheduling and Retriable as follow:\r\n\r\n    @SpringBootApplication\r\n    @EnableBatchProcessing\r\n    @EnableScheduling\r\n    @EnableRetry\r\n    public class FilldashboardApp {\r\n\r\n    }\r\n\r\nI&#39;ve defined a controller as follow:\r\n\r\n    @Component\r\n    public class JobRunnerStats {\r\n\r\n        @Scheduled(cron = &quot;0 0/2 * ? * *&quot;)\r\n        @Retryable(maxAttempts = 10, backoff = @Backoff(delay = 1000))\r\n        protected JobExecution runJob() throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException, JobParametersInvalidException {\r\n    \t    JobParameters jobParameters = null;\r\n        \tif (this.jobParameters == null) {\r\n        \t\tjobParameters = buildJobParameters(null);\t\r\n    \t    } else {\r\n    \t\t    jobParameters = this.jobParameters;\r\n        \t\tthis.jobParameters = null;\r\n        \t}\r\n    \t\r\n        \treturn simpleJobLauncher.run(this.jobStats, jobParameters);\r\n        }\r\n\r\n    }\r\n\r\nAfter 2 minutes, as the cron expression specified starts the job, so in the first step of it I&#39;ll send it in exception so in the job execution and step I&#39;ve tracked the `FAILED` status.\r\n\r\nSo, as the @Retryable annotation explains, I&#39;m waiting to recall the job after 1 second (delay = 1000 microseconds) but the next access in the method is after 2 minutes (so, when the cron expression has matched)\r\n\r\nI don&#39;t know where my fault","title":"@Retryable with @Scheduled don&#39;t fire","body":"<p>I've written a Spring Boot Application where I've enabled Spring Batch Scheduling and Retriable as follow:</p>\n<pre><code>@SpringBootApplication\n@EnableBatchProcessing\n@EnableScheduling\n@EnableRetry\npublic class FilldashboardApp {\n\n}\n</code></pre>\n<p>I've defined a controller as follow:</p>\n<pre><code>@Component\npublic class JobRunnerStats {\n\n    @Scheduled(cron = &quot;0 0/2 * ? * *&quot;)\n    @Retryable(maxAttempts = 10, backoff = @Backoff(delay = 1000))\n    protected JobExecution runJob() throws JobExecutionAlreadyRunningException, JobRestartException, JobInstanceAlreadyCompleteException, JobParametersInvalidException {\n        JobParameters jobParameters = null;\n        if (this.jobParameters == null) {\n            jobParameters = buildJobParameters(null);   \n        } else {\n            jobParameters = this.jobParameters;\n            this.jobParameters = null;\n        }\n    \n        return simpleJobLauncher.run(this.jobStats, jobParameters);\n    }\n\n}\n</code></pre>\n<p>After 2 minutes, as the cron expression specified starts the job, so in the first step of it I'll send it in exception so in the job execution and step I've tracked the <code>FAILED</code> status.</p>\n<p>So, as the @Retryable annotation explains, I'm waiting to recall the job after 1 second (delay = 1000 microseconds) but the next access in the method is after 2 minutes (so, when the cron expression has matched)</p>\n<p>I don't know where my fault</p>\n"},{"tags":["java","gradle","build","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1632497828,"creation_date":1632497828,"answer_id":69317714,"question_id":69317637,"body_markdown":"Why don&#39;t you just google it?\r\n[http://sorcersoft.org/project/site/gradle/userguide/maven_plugin.html][1]\r\n\r\n\r\n  [1]: http://sorcersoft.org/project/site/gradle/userguide/maven_plugin.html\r\n\r\n\r\n&quot;The Maven plugin adds support for deploying artifacts to Maven repositories.&quot;","title":"What is the purpose of apply maven plugin in build.gradle?","body":"<p>Why don't you just google it?\n<a href=\"http://sorcersoft.org/project/site/gradle/userguide/maven_plugin.html\" rel=\"nofollow noreferrer\">http://sorcersoft.org/project/site/gradle/userguide/maven_plugin.html</a></p>\n<p>&quot;The Maven plugin adds support for deploying artifacts to Maven repositories.&quot;</p>\n"}],"owner":{"account_id":8896897,"reputation":53,"user_id":6641648,"display_name":"pietnam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69317714,"answer_count":1,"score":0,"last_activity_date":1632497828,"creation_date":1632497515,"question_id":69317637,"body_markdown":"I keep seeing `apply plugin: &#39;maven&#39;` in build.gradle files for Java projects. What is the purpose of adding a Maven plugin? I can&#39;t seem to find the plugin when querying for it on [plugins.gradle.org][1].\r\n\r\n\r\n  [1]: https://plugins.gradle.org/","title":"What is the purpose of apply maven plugin in build.gradle?","body":"<p>I keep seeing <code>apply plugin: 'maven'</code> in build.gradle files for Java projects. What is the purpose of adding a Maven plugin? I can't seem to find the plugin when querying for it on <a href=\"https://plugins.gradle.org/\" rel=\"nofollow noreferrer\">plugins.gradle.org</a>.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1632495832,"post_id":69317069,"comment_id":122516333,"body_markdown":"My guess is that the warning really refers to &quot;decoded&quot; in SecretKeySpec(decoded, keyAlgorithm), as the key is indeed based on the hard-coded byte array. Someone with access to your code (including access to easily reverse-engineered class files) will find that key and break your encryption, thus the warning.","body":"My guess is that the warning really refers to &quot;decoded&quot; in SecretKeySpec(decoded, keyAlgorithm), as the key is indeed based on the hard-coded byte array. Someone with access to your code (including access to easily reverse-engineered class files) will find that key and break your encryption, thus the warning."},{"owner":{"account_id":20963232,"reputation":25,"user_id":15402182,"display_name":"sb29595"},"score":0,"creation_date":1632496458,"post_id":69317069,"comment_id":122516572,"body_markdown":"Ok, what has to be done now?","body":"Ok, what has to be done now?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1632497244,"post_id":69317069,"comment_id":122516912,"body_markdown":"How about you try using `keyGenerator` instead of making your key with `generatekey()`? [Try adapting this guide with your code](https://www.javainterviewpoint.com/aes-encryption-and-decryption/).","body":"How about you try using <code>keyGenerator</code> instead of making your key with <code>generatekey()</code>? <a href=\"https://www.javainterviewpoint.com/aes-encryption-and-decryption/\" rel=\"nofollow noreferrer\">Try adapting this guide with your code</a>."},{"owner":{"account_id":20963232,"reputation":25,"user_id":15402182,"display_name":"sb29595"},"score":0,"creation_date":1632508884,"post_id":69317069,"comment_id":122521037,"body_markdown":"Ok I will try that","body":"Ok I will try that"}],"owner":{"account_id":20963232,"reputation":25,"user_id":15402182,"display_name":"sb29595"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632497105,"creation_date":1632495183,"question_id":69317069,"body_markdown":"I have written encrypt and decrypt methods to encrypt or decrypt string data. We have some vulnerability analyzer tool that says &quot;`javas.crypto.spec.SecretKeySpec.SecretKeySpec(byte[], java.lang.String) uses the constant string as a cryptographic key`&quot; at this line:\r\n\r\n    return new SecretKeySpec(decoded, keyAlgorithm);\r\n\r\nI tried giving &quot;AES&quot; directly instead of variable/field, still it gave the same error. Can you please help me on what changes need to be done in this code so that the errors won&#39;t appear and make this implementation more secure?\r\n\r\nHere is the complete code for it:\r\n\r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.*;\r\n    import java.util.Base64;\r\n    \r\n    public class EncryptDecryptImpl {\r\n\r\n    private static final String secretKey = &quot;abcdefghijklmnop&quot;;\r\n    private static final String otherSecretKey = &quot;somesecret&quot;;\r\n\r\n    private static final String encryptionAlgorithm = &quot;AES/CBC/PKCS5Padding&quot;;\r\n    private static final String keyAlgorithm = &quot;AES&quot;;\r\n\r\n    public static String encrypt(String data, String secret) {\r\n        try {\r\n            Key key = generateKey(secret);\r\n            Cipher cipher = Cipher.getInstance(encryptionAlgorithm);\r\n            SecureRandom secureRandom = new SecureRandom();\r\n            byte[] iv = new byte[16];\r\n            secureRandom.nextBytes(iv);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\r\n            byte[] ciphertext = cipher.doFinal(data.getBytes(StandardCharsets.UTF_8));\r\n            byte[] encryptedValue  = ByteBuffer.allocate(iv.length + ciphertext.length)\r\n                    .put(iv).put(ciphertext).array();\r\n            return Base64.getEncoder().encodeToString(encryptedValue);\r\n        } catch (InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException |\r\n                BadPaddingException | IllegalBlockSizeException | InvalidAlgorithmParameterException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static String decrypt(String strToDecrypt, String secret) {\r\n        try {\r\n            Key key = generateKey(secret);\r\n            Cipher cipher = Cipher.getInstance(encryptionAlgorithm);\r\n            cipher.init(Cipher.DECRYPT_MODE, key);\r\n            return new String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\r\n        } catch (NoSuchPaddingException | NoSuchAlgorithmException | InvalidKeyException |\r\n                BadPaddingException | IllegalBlockSizeException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static Key generateKey(String secret) {\r\n        byte[] decoded = Base64.getDecoder().decode(secret.getBytes());\r\n        return new SecretKeySpec(decoded, keyAlgorithm);\r\n    }\r\n\r\n    public static String encodeKey(String key) {\r\n        byte[] encoded = Base64.getEncoder().encode(key.getBytes());\r\n        return new String(encoded);\r\n    }\r\n\r\n    public static String decodeKey(String key) {\r\n        byte[] decoded = Base64.getDecoder().decode(key.getBytes());\r\n        return new String(decoded);\r\n    }\r\n\r\n    public static String encodedBase64Key() {\r\n        return encodeKey(secretKey); // need to be shared between client and server\r\n    }\r\n\r\n    public static String decodedBase64Key(String encryptedSecretKey) {\r\n        return decodeKey(encryptedSecretKey);\r\n    }\r\n\r\n    public static String aesEncryptedSecretKey() {\r\n        return EncryptDecryptImpl.encrypt(otherSecretKey, encodedBase64Key());\r\n    }\r\n\r\n    public static String aesDecryptedSecretKey() {\r\n        return EncryptDecryptImpl.decrypt(aesEncryptedSecretKey(), encodedBase64Key());\r\n    }\r\n    }\r\n\r\nCaller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/service/crypto&quot;)\r\n    public class EncryptDecryptController {\r\n    \r\n        @GetMapping(value = &quot;/secret-key&quot;)\r\n        public ResponseEntity&lt;?&gt; getEncryptedSecretKey() {\r\n            try {\r\n                String encryptedSecretKey = EncryptDecryptImpl.aesEncryptedSecretKey(); // cipher text\r\n                return ResponseEntity.ok(new ApiResponse(true, encryptedSecretKey));\r\n            } catch (Exception e) {\r\n                return ResponseEntity.ok(new ApiResponse(false, &quot;Error getting key&quot;));\r\n               // throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Error getting key&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd at the client side, I&#39;m using like this:\r\n\r\n    export const getSecretKey = () =&gt; {\r\n      const encryptedBase64Key = &#39;&lt;--base64kyesharedbyserver--&gt;&#39;;\r\n      const parsedBase64Key = enc.Base64.parse(encryptedBase64Key);\r\n      let encryptedCipherText = &#39;&#39;;\r\n      if (getSessionStorageItem(&#39;appKey&#39;) !== null) {\r\n        encryptedCipherText = getSessionStorageItem(&#39;appKey&#39;);\r\n      }\r\n      const parsedCipherText = enc.Base64.parse(encryptedCipherText);\r\n      const iv = lib.WordArray.create(parsedCipherText.words.slice(0, 16 / 4));\r\n      const ciphertext = lib.WordArray.create(parsedCipherText.words.slice(16 / 4));\r\n      let decryptedData = &#39;&#39;;\r\n      if (encryptedCipherText !== &#39;&#39; || encryptedCipherText !== undefined) {\r\n        decryptedData = AES.decrypt({\r\n          ciphertext: ciphertext\r\n        }, parsedBase64Key,{\r\n          iv: iv\r\n        });\r\n      }\r\n      return decryptedData.toString(enc.Utf8).toString();\r\n    }\r\n    \r\n    export const encryptData = (data) =&gt; {\r\n      return AES.encrypt(data, getSecretKey());\r\n    }\r\n    \r\n    export const decryptData = (data) =&gt; {\r\n      if (data !== undefined) {\r\n        return AES.decrypt(data, getSecretKey()).toString(enc.Utf8);\r\n      } else {\r\n        return &#39;&#39;;\r\n      }\r\n    }\r\n\r\n","title":"Encrypt and Decrypt Implementation in Java gives warning by security analysis tool","body":"<p>I have written encrypt and decrypt methods to encrypt or decrypt string data. We have some vulnerability analyzer tool that says &quot;<code>javas.crypto.spec.SecretKeySpec.SecretKeySpec(byte[], java.lang.String) uses the constant string as a cryptographic key</code>&quot; at this line:</p>\n<pre><code>return new SecretKeySpec(decoded, keyAlgorithm);\n</code></pre>\n<p>I tried giving &quot;AES&quot; directly instead of variable/field, still it gave the same error. Can you please help me on what changes need to be done in this code so that the errors won't appear and make this implementation more secure?</p>\n<p>Here is the complete code for it:</p>\n<pre><code>import javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.security.*;\nimport java.util.Base64;\n\npublic class EncryptDecryptImpl {\n\nprivate static final String secretKey = &quot;abcdefghijklmnop&quot;;\nprivate static final String otherSecretKey = &quot;somesecret&quot;;\n\nprivate static final String encryptionAlgorithm = &quot;AES/CBC/PKCS5Padding&quot;;\nprivate static final String keyAlgorithm = &quot;AES&quot;;\n\npublic static String encrypt(String data, String secret) {\n    try {\n        Key key = generateKey(secret);\n        Cipher cipher = Cipher.getInstance(encryptionAlgorithm);\n        SecureRandom secureRandom = new SecureRandom();\n        byte[] iv = new byte[16];\n        secureRandom.nextBytes(iv);\n        cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\n        byte[] ciphertext = cipher.doFinal(data.getBytes(StandardCharsets.UTF_8));\n        byte[] encryptedValue  = ByteBuffer.allocate(iv.length + ciphertext.length)\n                .put(iv).put(ciphertext).array();\n        return Base64.getEncoder().encodeToString(encryptedValue);\n    } catch (InvalidKeyException | NoSuchPaddingException | NoSuchAlgorithmException |\n            BadPaddingException | IllegalBlockSizeException | InvalidAlgorithmParameterException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\npublic static String decrypt(String strToDecrypt, String secret) {\n    try {\n        Key key = generateKey(secret);\n        Cipher cipher = Cipher.getInstance(encryptionAlgorithm);\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        return new String(cipher.doFinal(Base64.getDecoder().decode(strToDecrypt)));\n    } catch (NoSuchPaddingException | NoSuchAlgorithmException | InvalidKeyException |\n            BadPaddingException | IllegalBlockSizeException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\nprivate static Key generateKey(String secret) {\n    byte[] decoded = Base64.getDecoder().decode(secret.getBytes());\n    return new SecretKeySpec(decoded, keyAlgorithm);\n}\n\npublic static String encodeKey(String key) {\n    byte[] encoded = Base64.getEncoder().encode(key.getBytes());\n    return new String(encoded);\n}\n\npublic static String decodeKey(String key) {\n    byte[] decoded = Base64.getDecoder().decode(key.getBytes());\n    return new String(decoded);\n}\n\npublic static String encodedBase64Key() {\n    return encodeKey(secretKey); // need to be shared between client and server\n}\n\npublic static String decodedBase64Key(String encryptedSecretKey) {\n    return decodeKey(encryptedSecretKey);\n}\n\npublic static String aesEncryptedSecretKey() {\n    return EncryptDecryptImpl.encrypt(otherSecretKey, encodedBase64Key());\n}\n\npublic static String aesDecryptedSecretKey() {\n    return EncryptDecryptImpl.decrypt(aesEncryptedSecretKey(), encodedBase64Key());\n}\n}\n</code></pre>\n<p>Caller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/service/crypto&quot;)\npublic class EncryptDecryptController {\n\n    @GetMapping(value = &quot;/secret-key&quot;)\n    public ResponseEntity&lt;?&gt; getEncryptedSecretKey() {\n        try {\n            String encryptedSecretKey = EncryptDecryptImpl.aesEncryptedSecretKey(); // cipher text\n            return ResponseEntity.ok(new ApiResponse(true, encryptedSecretKey));\n        } catch (Exception e) {\n            return ResponseEntity.ok(new ApiResponse(false, &quot;Error getting key&quot;));\n           // throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Error getting key&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>And at the client side, I'm using like this:</p>\n<pre><code>export const getSecretKey = () =&gt; {\n  const encryptedBase64Key = '&lt;--base64kyesharedbyserver--&gt;';\n  const parsedBase64Key = enc.Base64.parse(encryptedBase64Key);\n  let encryptedCipherText = '';\n  if (getSessionStorageItem('appKey') !== null) {\n    encryptedCipherText = getSessionStorageItem('appKey');\n  }\n  const parsedCipherText = enc.Base64.parse(encryptedCipherText);\n  const iv = lib.WordArray.create(parsedCipherText.words.slice(0, 16 / 4));\n  const ciphertext = lib.WordArray.create(parsedCipherText.words.slice(16 / 4));\n  let decryptedData = '';\n  if (encryptedCipherText !== '' || encryptedCipherText !== undefined) {\n    decryptedData = AES.decrypt({\n      ciphertext: ciphertext\n    }, parsedBase64Key,{\n      iv: iv\n    });\n  }\n  return decryptedData.toString(enc.Utf8).toString();\n}\n\nexport const encryptData = (data) =&gt; {\n  return AES.encrypt(data, getSecretKey());\n}\n\nexport const decryptData = (data) =&gt; {\n  if (data !== undefined) {\n    return AES.decrypt(data, getSecretKey()).toString(enc.Utf8);\n  } else {\n    return '';\n  }\n}\n</code></pre>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"score":0,"creation_date":1632492583,"post_id":69316339,"comment_id":122514906,"body_markdown":"(I did not vote negative but) full reproducible example you want to do please (you want read an annotation in runtime? you want configure a class or global tests and extend with custom settings? ...)","body":"(I did not vote negative but) full reproducible example you want to do please (you want read an annotation in runtime? you want configure a class or global tests and extend with custom settings? ...)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1632493182,"post_id":69316339,"comment_id":122515174,"body_markdown":"Do you know what a [`TestInfo`](https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/TestInfo.html) can do in JUnit 5? It has a method `getTags()`... Ok, you don&#39;t want it...","body":"Do you know what a <a href=\"https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/TestInfo.html\" rel=\"nofollow noreferrer\"><code>TestInfo</code></a> can do in JUnit 5? It has a method <code>getTags()</code>... Ok, you don&#39;t want it..."},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1632493224,"post_id":69316339,"comment_id":122515191,"body_markdown":"@josejuan : thank you for reply, I have added tried solution but its not working atm.","body":"@josejuan : thank you for reply, I have added tried solution but its not working atm."},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1632493272,"post_id":69316339,"comment_id":122515217,"body_markdown":"@deHaar: thank you for reply, Yes I know TestInfo but don&#39;t want to use it.","body":"@deHaar: thank you for reply, Yes I know TestInfo but don&#39;t want to use it."},{"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"score":1,"creation_date":1632493446,"post_id":69316339,"comment_id":122515286,"body_markdown":"What&#39;s the reason you don&#39;t want to use `TestInfo`?  Is it because you don&#39;t want to add parameters to test methods?  Would writing a JUnit extension be an option if this is the case?","body":"What&#39;s the reason you don&#39;t want to use <code>TestInfo</code>?  Is it because you don&#39;t want to add parameters to test methods?  Would writing a JUnit extension be an option if this is the case?"},{"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"score":0,"creation_date":1632495258,"post_id":69316339,"comment_id":122516113,"body_markdown":"TestInfo as a parameter can be used in normal test methods as well as lifecycle methods such as before/after.","body":"TestInfo as a parameter can be used in normal test methods as well as lifecycle methods such as before/after."},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1632495670,"post_id":69316339,"comment_id":122516268,"body_markdown":"Any working solution ref do you have?","body":"Any working solution ref do you have?"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1632496141,"post_id":69316339,"comment_id":122516442,"body_markdown":"Also I have tried to print tag using System.out.println(testInfo.getTags()); : Its giving me below info[TT, MM, api, identifier, antkorwin-mongodb-testcontainers]","body":"Also I have tried to print tag using System.out.println(testInfo.getTags()); : Its giving me below info[TT, MM, api, identifier, antkorwin-mongodb-testcontainers]"},{"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"score":0,"creation_date":1632496779,"post_id":69316339,"comment_id":122516715,"body_markdown":"`TestInfo.getTags()` will only retrieve `@Tag` values and won&#39;t know anything about custom annotations.  For retrieving custom annotations, grab the `Method` of the test using `getTestMethod()` and then use the Java reflection API to read annotations from the method using something like `getAnnotation()`.","body":"<code>TestInfo.getTags()</code> will only retrieve <code>@Tag</code> values and won&#39;t know anything about custom annotations.  For retrieving custom annotations, grab the <code>Method</code> of the test using <code>getTestMethod()</code> and then use the Java reflection API to read annotations from the method using something like <code>getAnnotation()</code>."}],"answers":[{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632496581,"creation_date":1632496581,"answer_id":69317429,"question_id":69316339,"body_markdown":"If `TestInfo` is an option, it can be used as a parameter to test methods.\r\n\r\n```\r\npublic class TestMeta\r\n{\r\n    @Test\r\n    @TestCaseDetails(id = &quot;g1&quot;)\r\n    void test(TestInfo info)\r\n    {\r\n        //Retrieve test case details annotation for this test\r\n        Optional&lt;TestCaseDetails&gt; testCaseDetails = info.getTestMethod().flatMap(m -&gt; Optional.ofNullable(m.getAnnotation(TestCaseDetails.class)));\r\n        testCaseDetails.ifPresent(caseDetails -&gt; System.out.println(&quot;Test case: &quot; + caseDetails.id()));\r\n\r\n        //Remaining test code...\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nThis might be fine if it is only needed on one test, but it can also be put into an extension for reusability:\r\n\r\n```\r\npublic class TestCaseDetailsPrinter implements BeforeTestExecutionCallback\r\n{\r\n    @Override\r\n    public void beforeTestExecution(ExtensionContext context) throws Exception\r\n    {\r\n        context.getElement()\r\n               .flatMap(m -&gt; Optional.ofNullable(m.getAnnotation(TestCaseDetails.class)))\r\n               .ifPresent(testCaseDetails -&gt; System.out.println(&quot;Test case: &quot; + testCaseDetails.id()));\r\n    }\r\n}\r\n```\r\n\r\nand used like this:\r\n\r\n```\r\n@ExtendWith(TestCaseDetailsPrinter.class)\r\npublic class TestMeta2\r\n{\r\n    @Test\r\n    @TestCaseDetails(id = &quot;g2&quot;)\r\n    void test()\r\n    {\r\n        //Remaining test code\r\n    }\r\n}\r\n```\r\n\r\nThe key part to both of these approaches is to get access to the `Method` object of the test, which can then be queried via reflection (using `getAnnotation()`) to read annotations that are present on that method.","title":"How to retrieve value from custom junit 5 tags using java?","body":"<p>If <code>TestInfo</code> is an option, it can be used as a parameter to test methods.</p>\n<pre><code>public class TestMeta\n{\n    @Test\n    @TestCaseDetails(id = &quot;g1&quot;)\n    void test(TestInfo info)\n    {\n        //Retrieve test case details annotation for this test\n        Optional&lt;TestCaseDetails&gt; testCaseDetails = info.getTestMethod().flatMap(m -&gt; Optional.ofNullable(m.getAnnotation(TestCaseDetails.class)));\n        testCaseDetails.ifPresent(caseDetails -&gt; System.out.println(&quot;Test case: &quot; + caseDetails.id()));\n\n        //Remaining test code...\n    }\n}\n</code></pre>\n<hr />\n<p>This might be fine if it is only needed on one test, but it can also be put into an extension for reusability:</p>\n<pre><code>public class TestCaseDetailsPrinter implements BeforeTestExecutionCallback\n{\n    @Override\n    public void beforeTestExecution(ExtensionContext context) throws Exception\n    {\n        context.getElement()\n               .flatMap(m -&gt; Optional.ofNullable(m.getAnnotation(TestCaseDetails.class)))\n               .ifPresent(testCaseDetails -&gt; System.out.println(&quot;Test case: &quot; + testCaseDetails.id()));\n    }\n}\n</code></pre>\n<p>and used like this:</p>\n<pre><code>@ExtendWith(TestCaseDetailsPrinter.class)\npublic class TestMeta2\n{\n    @Test\n    @TestCaseDetails(id = &quot;g2&quot;)\n    void test()\n    {\n        //Remaining test code\n    }\n}\n</code></pre>\n<p>The key part to both of these approaches is to get access to the <code>Method</code> object of the test, which can then be queried via reflection (using <code>getAnnotation()</code>) to read annotations that are present on that method.</p>\n"}],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":903,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1632496581,"creation_date":1632492241,"question_id":69316339,"body_markdown":"I am trying to retrieve value from a custom Junit 5 tag but facing issue while retrieving value of TestCaseDetails tag.\r\n\r\n    @Test\r\n    @Tags(value ={@Tag(&quot;TT&quot;), @Tag(&quot;MM&quot;)})\r\n    @TestCaseDetails(Id=&quot;1234&quot;)\r\n    @MongoDataSet(value = &quot;/dataset/SampleTestData.json&quot;, cleanAfter = true, cleanBefore = true)\r\n\r\n**TestCaseDetails.class**\r\n\r\n    import org.junit.jupiter.api.Tag;\r\n    import org.junit.jupiter.api.Test;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Tag(&quot;api&quot;) @Tag(&quot;identifier&quot;)\r\n    @Test\r\n    public @interface TestCaseDetails {\r\n     String Id();\r\n    }\r\n\r\n\r\n\r\nI want to print  1234 value associated with the TestCaseDetails tag.\r\n\r\n**What I have tried:** \r\n\r\n \r\n\r\n       class JUnit5ExampleTest {\r\n    \r\n    \r\n        @Test\r\n        @Tags(value ={@Tag(&quot;TT&quot;), @Tag(&quot;MM&quot;)})\r\n        @TestCaseDetails(testcaseId=&quot;1234&quot;)\r\n        @MongoDataSet(value = &quot;/dataset/SampleTestData.json&quot;, cleanAfter = true, cleanBefore = true)\r\n        void multipleTags() throws Exception {\r\n    \r\n           System.out.println(&quot;*******************JUnit5ExampleTest********************************&quot;);\r\n       //Solution 1:     \r\n       Method[] methods = JUnit5ExampleTest.class.getMethods();\r\n            for (Method m : methods) {\r\n                if (m.isAnnotationPresent(TestCaseDetails.class)) {\r\n                    TestCaseDetails ta = m.getAnnotation(TestCaseDetails.class);\r\n                    System.out.println(&quot;%%%%%%%%%%%%&quot;+ta.Id());\r\n                }\r\n            }\r\n    \r\n      //Solution 2:      \r\n        JUnit5ExampleTest ob=new JUnit5ExampleTest();\r\n            try {\r\n                Class c = ob.getClass();\r\n    \r\n                Method m = c.getMethod(&quot;multipleTags&quot;);\r\n    \r\n                TestCaseDetails anno = m.getAnnotation(TestCaseDetails.class);\r\n    \r\n                System.out.println(anno.Id() );\r\n            } catch (NoSuchMethodException exc) {\r\n                System.out.println(&quot;Method Not Found.&quot;);\r\n            }\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n**don&#39;t want to use below solution:**\r\n\r\n - https://stackoverflow.com/questions/67788265/how-to-retrieve-tag-value-using-junit-jupiter","title":"How to retrieve value from custom junit 5 tags using java?","body":"<p>I am trying to retrieve value from a custom Junit 5 tag but facing issue while retrieving value of TestCaseDetails tag.</p>\n<pre><code>@Test\n@Tags(value ={@Tag(&quot;TT&quot;), @Tag(&quot;MM&quot;)})\n@TestCaseDetails(Id=&quot;1234&quot;)\n@MongoDataSet(value = &quot;/dataset/SampleTestData.json&quot;, cleanAfter = true, cleanBefore = true)\n</code></pre>\n<p><strong>TestCaseDetails.class</strong></p>\n<pre><code>import org.junit.jupiter.api.Tag;\nimport org.junit.jupiter.api.Test;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Tag(&quot;api&quot;) @Tag(&quot;identifier&quot;)\n@Test\npublic @interface TestCaseDetails {\n String Id();\n}\n</code></pre>\n<p>I want to print  1234 value associated with the TestCaseDetails tag.</p>\n<p><strong>What I have tried:</strong></p>\n<pre><code>   class JUnit5ExampleTest {\n\n\n    @Test\n    @Tags(value ={@Tag(&quot;TT&quot;), @Tag(&quot;MM&quot;)})\n    @TestCaseDetails(testcaseId=&quot;1234&quot;)\n    @MongoDataSet(value = &quot;/dataset/SampleTestData.json&quot;, cleanAfter = true, cleanBefore = true)\n    void multipleTags() throws Exception {\n\n       System.out.println(&quot;*******************JUnit5ExampleTest********************************&quot;);\n   //Solution 1:     \n   Method[] methods = JUnit5ExampleTest.class.getMethods();\n        for (Method m : methods) {\n            if (m.isAnnotationPresent(TestCaseDetails.class)) {\n                TestCaseDetails ta = m.getAnnotation(TestCaseDetails.class);\n                System.out.println(&quot;%%%%%%%%%%%%&quot;+ta.Id());\n            }\n        }\n\n  //Solution 2:      \n    JUnit5ExampleTest ob=new JUnit5ExampleTest();\n        try {\n            Class c = ob.getClass();\n\n            Method m = c.getMethod(&quot;multipleTags&quot;);\n\n            TestCaseDetails anno = m.getAnnotation(TestCaseDetails.class);\n\n            System.out.println(anno.Id() );\n        } catch (NoSuchMethodException exc) {\n            System.out.println(&quot;Method Not Found.&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>don't want to use below solution:</strong></p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/67788265/how-to-retrieve-tag-value-using-junit-jupiter\">How to retrieve tag value using junit.jupiter?</a></li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"score":1,"creation_date":1383219658,"post_id":19705499,"comment_id":29271116,"body_markdown":"Does the problem statement include a limit on the numbers in the array? I.e., are they all guaranteed to be less than 10?","body":"Does the problem statement include a limit on the numbers in the array? I.e., are they all guaranteed to be less than 10?"},{"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"score":0,"creation_date":1383219748,"post_id":19705499,"comment_id":29271163,"body_markdown":"http://stackoverflow.com/q/8098601/1007273","body":"<a href=\"http://stackoverflow.com/q/8098601/1007273\">stackoverflow.com/q/8098601/1007273</a>"},{"owner":{"account_id":1498910,"reputation":992,"user_id":1404195,"accept_rate":89,"display_name":"The_Lost_Avatar"},"score":0,"creation_date":1383219886,"post_id":19705499,"comment_id":29271243,"body_markdown":"You are trying to implement Counting Sort.","body":"You are trying to implement Counting Sort."},{"owner":{"account_id":983174,"reputation":259,"user_id":1002343,"accept_rate":33,"display_name":"Ree"},"score":0,"creation_date":1383220697,"post_id":19705499,"comment_id":29271730,"body_markdown":"@ErnestFriedman-Hill hi only count the occurrence of numbers in my output #1.","body":"@ErnestFriedman-Hill hi only count the occurrence of numbers in my output #1."}],"answers":[{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1383219675,"creation_date":1383219675,"answer_id":19705568,"question_id":19705499,"body_markdown":"I advise you to use a [`Map`][1]:\r\n\r\n - If a number doesn&#39;t exist in it, add it with the *value* of 1.\r\n - If the number exists, add 1 to the its value.\r\n\r\nThen you print the map as a `key` and `value`.\r\n\r\nFor example, for your array `{2,3,4,5,4,4,3}` this will work as follows:\r\n\r\nDoes the map contains the key `2`? No, add it with value 1. (The same for `3`, `4` and `5`)&lt;br&gt;\r\nDoes the map contains `4`? Yes! Add 1 to its value. Now the *key* 4 has the *value* of 2.&lt;br&gt;\r\n...\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html","title":"Java - Counting numbers in array","body":"<p>I advise you to use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html\" rel=\"nofollow\"><code>Map</code></a>:</p>\n\n<ul>\n<li>If a number doesn't exist in it, add it with the <em>value</em> of 1.</li>\n<li>If the number exists, add 1 to the its value.</li>\n</ul>\n\n<p>Then you print the map as a <code>key</code> and <code>value</code>.</p>\n\n<p>For example, for your array <code>{2,3,4,5,4,4,3}</code> this will work as follows:</p>\n\n<p>Does the map contains the key <code>2</code>? No, add it with value 1. (The same for <code>3</code>, <code>4</code> and <code>5</code>)<br>\nDoes the map contains <code>4</code>? Yes! Add 1 to its value. Now the <em>key</em> 4 has the <em>value</em> of 2.<br>\n...</p>\n"},{"tags":[],"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383219788,"creation_date":1383219788,"answer_id":19705612,"question_id":19705499,"body_markdown":"One approach is to use a map. When you read the first array on each number check if it exists in the map, if it does then just increment the value assigned to the number(key), if not then create a new key in the map with value &quot;1&quot;.\r\n\r\nCheck out http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html","title":"Java - Counting numbers in array","body":"<p>One approach is to use a map. When you read the first array on each number check if it exists in the map, if it does then just increment the value assigned to the number(key), if not then create a new key in the map with value \"1\".</p>\n\n<p>Check out <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html</a></p>\n"},{"tags":[],"owner":{"account_id":1321290,"reputation":9419,"user_id":1267068,"accept_rate":57,"display_name":"NickJ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383221016,"creation_date":1383219919,"answer_id":19705656,"question_id":19705499,"body_markdown":"Something like this:\r\n\r\n    //numbers to count\r\n    int arryNum[] = {2,3,4,5,4,4,3};\r\n\r\n    //map to store results in\r\n    Map&lt;Integer, Integer&gt; counts = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n    //Do the counting\r\n    for (int i : arryNum) {\r\n       if (counts.containsKey(i) {\r\n          counts.put(i, counts.get(i)+1);\r\n       } else {\r\n          counts.put(i, 1);\r\n       }\r\n    }\r\n\r\n    //Output the results\r\n    for (int i : counts.keySet()) {\r\n       System.out.println(i+&quot;:&quot;+counts.get(i));\r\n    }","title":"Java - Counting numbers in array","body":"<p>Something like this:</p>\n\n<pre><code>//numbers to count\nint arryNum[] = {2,3,4,5,4,4,3};\n\n//map to store results in\nMap&lt;Integer, Integer&gt; counts = new HashMap&lt;Integer, Integer&gt;();\n\n//Do the counting\nfor (int i : arryNum) {\n   if (counts.containsKey(i) {\n      counts.put(i, counts.get(i)+1);\n   } else {\n      counts.put(i, 1);\n   }\n}\n\n//Output the results\nfor (int i : counts.keySet()) {\n   System.out.println(i+\":\"+counts.get(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1051445,"reputation":5513,"user_id":1055284,"accept_rate":100,"display_name":"Ben Barkay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1383226986,"creation_date":1383220251,"answer_id":19705755,"question_id":19705499,"body_markdown":"This is a solution to this problem:\r\n\r\n\timport java.util.Arrays;\r\n\r\n\tpublic class array05 {\r\n\t    public static void main(String[] args) {\r\n\t        //placement of value\r\n\t        int arryNum[] = {2,3,4,5,4,4,3};\r\n\t        \r\n\t        // Sort the array so counting same objects is easy\r\n\t        Arrays.sort(arryNum);\r\n\t        \r\n\t        int index = 0;\t// The current index\r\n\t        int curnum;\t\t// The current number\r\n\t        int count;\t\t// The count of this number\r\n\t        while (index &lt; arryNum.length) {\r\n\t        \t// Obtain the current number\r\n\t        \tcurnum = arryNum[index];\r\n\t        \t\r\n\t        \t// Reset the counter\r\n\t        \tcount = 0;\r\n\t        \t\r\n\t        \t// &quot;while the index is smaller than the amount of items\r\n\t        \t// and the current number is equal to the number in the current index,\r\n\t        \t// increase the index position and the counter by 1&quot;\r\n\t        \tfor (; index &lt; arryNum.length &amp;&amp; curnum == arryNum[index]; index ++, count++);\r\n\t        \t\r\n\t        \t// count should contain the appropriate amount of the current\r\n\t        \t// number now\r\n\t        \tSystem.out.println(curnum + &quot;:&quot; + count);\r\n\t        }\r\n\t    }   \r\n\t}\r\n\r\nPeople posted good solutions using `Map`, so I figured I&#39;d contribute a good solution that will always work (not just for the current values), without using a `Map`.","title":"Java - Counting numbers in array","body":"<p>This is a solution to this problem:</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class array05 {\n    public static void main(String[] args) {\n        //placement of value\n        int arryNum[] = {2,3,4,5,4,4,3};\n\n        // Sort the array so counting same objects is easy\n        Arrays.sort(arryNum);\n\n        int index = 0;  // The current index\n        int curnum;     // The current number\n        int count;      // The count of this number\n        while (index &lt; arryNum.length) {\n            // Obtain the current number\n            curnum = arryNum[index];\n\n            // Reset the counter\n            count = 0;\n\n            // \"while the index is smaller than the amount of items\n            // and the current number is equal to the number in the current index,\n            // increase the index position and the counter by 1\"\n            for (; index &lt; arryNum.length &amp;&amp; curnum == arryNum[index]; index ++, count++);\n\n            // count should contain the appropriate amount of the current\n            // number now\n            System.out.println(curnum + \":\" + count);\n        }\n    }   \n}\n</code></pre>\n\n<p>People posted good solutions using <code>Map</code>, so I figured I'd contribute a good solution that will always work (not just for the current values), without using a <code>Map</code>.</p>\n"},{"tags":[],"owner":{"account_id":1498910,"reputation":992,"user_id":1404195,"accept_rate":89,"display_name":"The_Lost_Avatar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1383220289,"creation_date":1383220289,"answer_id":19705776,"question_id":19705499,"body_markdown":"    If you don&#39;t want to use Map, this is how you would do it with Arrays only(if you have numbers from 1 to 9 only)\r\n    \r\n    Integer[] countArray = new Integer[10]\r\n    \r\n    // Firstly Initialize all elements of countArray to zero\r\n    // Then\r\n    for(i=0;i&lt;arryNum.length();i++){\r\n    \r\n    int j = arryNum[i];\r\n    countArray[j]++;\r\n    \r\n    }\r\n\r\nThis countArray has number of 0&#39;s in 1st position, number of 1s in 2nd position and so on","title":"Java - Counting numbers in array","body":"<pre><code>If you don't want to use Map, this is how you would do it with Arrays only(if you have numbers from 1 to 9 only)\n\nInteger[] countArray = new Integer[10]\n\n// Firstly Initialize all elements of countArray to zero\n// Then\nfor(i=0;i&lt;arryNum.length();i++){\n\nint j = arryNum[i];\ncountArray[j]++;\n\n}\n</code></pre>\n\n<p>This countArray has number of 0's in 1st position, number of 1s in 2nd position and so on</p>\n"},{"tags":[],"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1383220312,"creation_date":1383220312,"answer_id":19705783,"question_id":19705499,"body_markdown":"if you are expecting in your array values between 1-5 (i assuming this from your expected output)\r\n\r\n    int arryNum[] = { 2, 3, 4, 5, 4, 4, 3 };\r\n    int[] counter = new int[] { 0, 0, 0, 0, 0 };\r\n    for (int i = 0; i &lt; arryNum.length; i++) {\r\n    \tcounter[arryNum[i] - 1]++;\r\n    }\r\n    \r\n    for (int i = 0; i &lt; counter.length; i++)\r\n    \tSystem.out.println((i + 1) + &quot;:&quot; + counter[i]);","title":"Java - Counting numbers in array","body":"<p>if you are expecting in your array values between 1-5 (i assuming this from your expected output)</p>\n\n<pre><code>int arryNum[] = { 2, 3, 4, 5, 4, 4, 3 };\nint[] counter = new int[] { 0, 0, 0, 0, 0 };\nfor (int i = 0; i &lt; arryNum.length; i++) {\n    counter[arryNum[i] - 1]++;\n}\n\nfor (int i = 0; i &lt; counter.length; i++)\n    System.out.println((i + 1) + \":\" + counter[i]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2794770,"reputation":4406,"user_id":2404181,"display_name":"Michael Kazarian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383222097,"creation_date":1383220678,"answer_id":19705924,"question_id":19705499,"body_markdown":"Use Map to store count values:\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    class array05{\r\n      public static void main(String[] args){\r\n          // Container for count values\r\n          Map &lt;Integer, Integer&gt; result = new HashMap&lt;Integer, Integer&gt;();\r\n          int arryNum[] = {2,3,4,5,4,4,3};\r\n          for(int i: arryNum){ //foreach more correct in this case\r\n                if (result.containsKey(i)) result.put(i, result.get(i)+1);\r\n                else result.put(i, 1);\r\n            }\r\n            for (int i: result.keySet()) System.out.println(i + &quot;:&quot; + result.get(i));\r\n      }\r\n    }\r\n\r\nResult below:\r\n\r\n    2:1\r\n    3:2\r\n    4:3\r\n    5:1\r\n\r\n","title":"Java - Counting numbers in array","body":"<p>Use Map to store count values:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nclass array05{\n  public static void main(String[] args){\n      // Container for count values\n      Map &lt;Integer, Integer&gt; result = new HashMap&lt;Integer, Integer&gt;();\n      int arryNum[] = {2,3,4,5,4,4,3};\n      for(int i: arryNum){ //foreach more correct in this case\n            if (result.containsKey(i)) result.put(i, result.get(i)+1);\n            else result.put(i, 1);\n        }\n        for (int i: result.keySet()) System.out.println(i + \":\" + result.get(i));\n  }\n}\n</code></pre>\n\n<p>Result below:</p>\n\n<pre><code>2:1\n3:2\n4:3\n5:1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383221781,"creation_date":1383221142,"answer_id":19706081,"question_id":19705499,"body_markdown":"You can try this way too\r\n\r\n     int arrayNum[] = {2,3,4,5,4,4,3};\r\n        Map&lt;Integer,Integer&gt; valMap=new HashMap&lt;&gt;();\r\n        for(int i:arrayNum){ // jdk version should &gt;1.7\r\n            Integer val=valMap.get(i);\r\n            if(val==null){\r\n                val=0;\r\n            }\r\n            valMap.put(i,val+1);\r\n        }\r\n        Arrays.sort(arrayNum);\r\n        for(int i=0;i&lt; arrayNum[arrayNum.length-1];i++){\r\n            System.out.println(i+1+&quot; : &quot;+((valMap.get(i+1)==null) ? 0:valMap.get(i+1)));\r\n        }\r\nOut put\r\n     \r\n        1 : 0\r\n        2 : 1\r\n        3 : 2\r\n        4 : 3\r\n        5 : 1\r\n    \r\n        \r\n\r\n\r\nBut following way is better\r\n\r\n        int arrayNum[] = {2,3,4,5,4,4,3};\r\n        Arrays.sort(arrayNum);\r\n        int countArray[]=new int[arrayNum[arrayNum.length-1]+1];\r\n        for(int i:arrayNum){\r\n           countArray[i]= countArray[i]+1;\r\n        }\r\n        for(int i=1;i&lt;countArray.length;i++){\r\n            System.out.println(i+&quot; : &quot;+countArray[i]);\r\n        }\r\n\r\n\r\nOut put\r\n\r\n\r\n       1 : 0\r\n       2 : 1\r\n       3 : 2\r\n       4 : 3\r\n       5 : 1\r\n\r\n\r\n\r\n    \r\n\r\n       \r\n","title":"Java - Counting numbers in array","body":"<p>You can try this way too</p>\n\n<pre><code> int arrayNum[] = {2,3,4,5,4,4,3};\n    Map&lt;Integer,Integer&gt; valMap=new HashMap&lt;&gt;();\n    for(int i:arrayNum){ // jdk version should &gt;1.7\n        Integer val=valMap.get(i);\n        if(val==null){\n            val=0;\n        }\n        valMap.put(i,val+1);\n    }\n    Arrays.sort(arrayNum);\n    for(int i=0;i&lt; arrayNum[arrayNum.length-1];i++){\n        System.out.println(i+1+\" : \"+((valMap.get(i+1)==null) ? 0:valMap.get(i+1)));\n    }\n</code></pre>\n\n<p>Out put</p>\n\n<pre><code>    1 : 0\n    2 : 1\n    3 : 2\n    4 : 3\n    5 : 1\n</code></pre>\n\n<p>But following way is better</p>\n\n<pre><code>    int arrayNum[] = {2,3,4,5,4,4,3};\n    Arrays.sort(arrayNum);\n    int countArray[]=new int[arrayNum[arrayNum.length-1]+1];\n    for(int i:arrayNum){\n       countArray[i]= countArray[i]+1;\n    }\n    for(int i=1;i&lt;countArray.length;i++){\n        System.out.println(i+\" : \"+countArray[i]);\n    }\n</code></pre>\n\n<p>Out put</p>\n\n<pre><code>   1 : 0\n   2 : 1\n   3 : 2\n   4 : 3\n   5 : 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1058077,"reputation":570,"user_id":3309694,"accept_rate":100,"display_name":"Vallerious"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562011026,"creation_date":1562011026,"answer_id":56841731,"question_id":19705499,"body_markdown":"I would prefer some generic solution like this one:\r\n\r\n    public static &lt;T&gt; Map&lt;T, Integer&gt; toCountMap(List&lt;T&gt; itemsToCount) {\r\n        Map&lt;T, Integer&gt; countMap = new HashMap&lt;&gt;();\r\n\r\n        for (T item : itemsToCount) {\r\n            countMap.putIfAbsent(item, 0);\r\n            countMap.put(item, countMap.get(item) + 1);\r\n        }\r\n\r\n        return countMap;\r\n    }","title":"Java - Counting numbers in array","body":"<p>I would prefer some generic solution like this one:</p>\n\n<pre><code>public static &lt;T&gt; Map&lt;T, Integer&gt; toCountMap(List&lt;T&gt; itemsToCount) {\n    Map&lt;T, Integer&gt; countMap = new HashMap&lt;&gt;();\n\n    for (T item : itemsToCount) {\n        countMap.putIfAbsent(item, 0);\n        countMap.put(item, countMap.get(item) + 1);\n    }\n\n    return countMap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13741216,"reputation":79,"user_id":13160949,"display_name":"Francisco Mendoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632496329,"creation_date":1632496329,"answer_id":69317361,"question_id":19705499,"body_markdown":"    //Count the times of numbers present in an array\r\n    private HashMap&lt;Integer, Integer&gt; countNumbersInArray(int[] array) {\r\n        HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;();\r\n        for (int item : array) {\r\n            if (hashMap.containsKey(item)) {\r\n                hashMap.put(item, hashMap.get(item) + 1);\r\n            } else {\r\n                hashMap.put(item, 1);\r\n            }\r\n        }\r\n        return hashMap;\r\n    }","title":"Java - Counting numbers in array","body":"<pre><code>//Count the times of numbers present in an array\nprivate HashMap&lt;Integer, Integer&gt; countNumbersInArray(int[] array) {\n    HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;();\n    for (int item : array) {\n        if (hashMap.containsKey(item)) {\n            hashMap.put(item, hashMap.get(item) + 1);\n        } else {\n            hashMap.put(item, 1);\n        }\n    }\n    return hashMap;\n}\n</code></pre>\n"}],"owner":{"account_id":983174,"reputation":259,"user_id":1002343,"accept_rate":33,"display_name":"Ree"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66791,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19705783,"answer_count":10,"score":0,"last_activity_date":1632496329,"creation_date":1383219469,"question_id":19705499,"body_markdown":"I&#39;ve written a java prog that stores some values:\r\n\r\n    public class array05 {\r\n        public static void main(String[] args) {\r\n        \r\n            //placement of value\r\n            int arryNum[] = {2,3,4,5,4,4,3};\r\n        \r\n            //placement of index, to start at 0\r\n            for(int counter=0;counter&lt;arryNum.length;counter++){\r\n                System.out.println(counter + &quot;:&quot; + arryNum[counter]);\r\n            }\r\n        }\t\r\n    }\r\n\r\nwhich generate such output:\r\n&lt;br /&gt;\r\n0:2 &lt;br /&gt;\r\n1:3 &lt;br /&gt;\r\n2:4 &lt;br /&gt;\r\n3:5&lt;br /&gt;\r\n4:4&lt;br /&gt;\r\n5:4&lt;br /&gt;\r\n6:3\r\n\r\nand now I need to count numbers in this output #1.\r\nOutput #2 should be this:\r\n\r\n1: 0 &lt;br /&gt;\r\n2: 1 &lt;br /&gt;\r\n3: 2 &lt;br /&gt;\r\n4: 3 &lt;br /&gt;\r\n5: 1 \r\n\r\nIt means it counts ONE 2, TWO 3, THREE 4, and only One 5.\r\n\r\nI am not sure how to write the code for output 2. \r\nIs a binary search needed here?\r\n\r\ncan anybody shed a light?","title":"Java - Counting numbers in array","body":"<p>I've written a java prog that stores some values:</p>\n\n<pre><code>public class array05 {\n    public static void main(String[] args) {\n\n        //placement of value\n        int arryNum[] = {2,3,4,5,4,4,3};\n\n        //placement of index, to start at 0\n        for(int counter=0;counter&lt;arryNum.length;counter++){\n            System.out.println(counter + \":\" + arryNum[counter]);\n        }\n    }   \n}\n</code></pre>\n\n<p>which generate such output:\n<br />\n0:2 <br />\n1:3 <br />\n2:4 <br />\n3:5<br />\n4:4<br />\n5:4<br />\n6:3</p>\n\n<p>and now I need to count numbers in this output #1.\nOutput #2 should be this:</p>\n\n<p>1: 0 <br />\n2: 1 <br />\n3: 2 <br />\n4: 3 <br />\n5: 1 </p>\n\n<p>It means it counts ONE 2, TWO 3, THREE 4, and only One 5.</p>\n\n<p>I am not sure how to write the code for output 2. \nIs a binary search needed here?</p>\n\n<p>can anybody shed a light?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","unique-constraint"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1632466637,"post_id":69310731,"comment_id":122504498,"body_markdown":"What do you mean you can&#39;t insert an item more than once? Also do you need a birectional or unidirectional relationship?","body":"What do you mean you can&#39;t insert an item more than once? Also do you need a birectional or unidirectional relationship?"},{"owner":{"account_id":18599428,"reputation":13,"user_id":13554599,"display_name":"Narendra Chand"},"score":0,"creation_date":1632467530,"post_id":69310731,"comment_id":122504792,"body_markdown":"Hi @akortex. I want **unidirectional** mapping. By inserting an ```item``` more than once, I mean I have already saved the items in database in the ```item``` table. When I save an ```item``` to ```orders``` table, the ```item_id``` will be saved into the ```orders_items``` table. So the ```unique key constraint``` on ```items_item_id``` is preventing from saving an ```item_id``` more than once.","body":"Hi @akortex. I want <b>unidirectional</b> mapping. By inserting an <code>item</code> more than once, I mean I have already saved the items in database in the <code>item</code> table. When I save an <code>item</code> to <code>orders</code> table, the <code>item_id</code> will be saved into the <code>orders_items</code> table. So the <code>unique key constraint</code> on <code>items_item_id</code> is preventing from saving an <code>item_id</code> more than once."}],"answers":[{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632496213,"creation_date":1632496213,"answer_id":69317340,"question_id":69310731,"body_markdown":"If you want to remove the unique constraint on `items_item_id` then you have a ManyToMany relationship, you want to associate an item to more than one order. Change your `@OneToMany` annotation to a `@ManyToMany` annotation.","title":"Hibernate adds unwanted unique key itself In @OneToMany mapping","body":"<p>If you want to remove the unique constraint on <code>items_item_id</code> then you have a ManyToMany relationship, you want to associate an item to more than one order. Change your <code>@OneToMany</code> annotation to a <code>@ManyToMany</code> annotation.</p>\n"}],"owner":{"account_id":18599428,"reputation":13,"user_id":13554599,"display_name":"Narendra Chand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69317340,"answer_count":1,"score":1,"last_activity_date":1632496213,"creation_date":1632466384,"question_id":69310731,"body_markdown":"I have 3 entities in my Spring boot application. ```User```,```Item``` and ```Orders```\r\nI want one ```Orders``` object to have multiple ```Items``` so, I used ```@OneToMany``` mapping in ```Orders``` class.\r\n\r\nThis is my code:\r\n\r\nThis is my ```Item.java``` file\r\n\r\n    @Entity\r\n    public class Item implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;item_id&quot;)\r\n    private int itemId;\r\n    @Column\r\n    private String name;\r\n    @Column\r\n    private int price;\r\n    @Column\r\n    private String image;\r\n    @Column(name = &quot;item_user_id&quot;)\r\n    private int userId;\r\n\r\n    //getters ssetters\r\n\r\n    }\r\n\r\n\r\nThis is my ```Orders.java``` file\r\n\r\n    @Entity\r\n    public class Orders implements Serializable {\r\n\r\n    private static final long serialVersionUID = 3L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;order_id&quot;)\r\n    private int orderId;\r\n    \r\n    @Column(name = &quot;order_user_id&quot;)\r\n    private int userId;\r\n\r\n    @Column\r\n    @OneToMany\r\n    private List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n\r\n    //getters setters\r\n\r\n    }\r\n\r\nHibernate is generating 3 tables as I expected \r\n```Item``` , ```Orders``` and ```Orders_Item``` from above code.\r\n\r\n```Orders``` table has two columns ```order_id``` and ```order_user_id```\r\n\r\nAlso\r\n *```Orders_Item``` table has two columns ```orders_order_id``` and ```items_item_id```*\r\n\r\n**hibernate is making ```items_item_id``` a unique key, I don&#39;t want this**\r\n\r\n```Hibernate: alter table orders_items add constraint UK_9uu7j0okufkkanam94v8gb2qa unique (items_item_id)```\r\n\r\n**SO MY ISSUE IS I CAN&#39;T INSERT AN ITEM HAVING ONE ID MORE THAN ONCE**\r\n\r\nHow can this issue be ressolved?","title":"Hibernate adds unwanted unique key itself In @OneToMany mapping","body":"<p>I have 3 entities in my Spring boot application. <code>User</code>,<code>Item</code> and <code>Orders</code>\nI want one <code>Orders</code> object to have multiple <code>Items</code> so, I used <code>@OneToMany</code> mapping in <code>Orders</code> class.</p>\n<p>This is my code:</p>\n<p>This is my <code>Item.java</code> file</p>\n<pre><code>@Entity\npublic class Item implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name=&quot;item_id&quot;)\nprivate int itemId;\n@Column\nprivate String name;\n@Column\nprivate int price;\n@Column\nprivate String image;\n@Column(name = &quot;item_user_id&quot;)\nprivate int userId;\n\n//getters ssetters\n\n}\n</code></pre>\n<p>This is my <code>Orders.java</code> file</p>\n<pre><code>@Entity\npublic class Orders implements Serializable {\n\nprivate static final long serialVersionUID = 3L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = &quot;order_id&quot;)\nprivate int orderId;\n\n@Column(name = &quot;order_user_id&quot;)\nprivate int userId;\n\n@Column\n@OneToMany\nprivate List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n\n//getters setters\n\n}\n</code></pre>\n<p>Hibernate is generating 3 tables as I expected\n<code>Item</code> , <code>Orders</code> and <code>Orders_Item</code> from above code.</p>\n<p><code>Orders</code> table has two columns <code>order_id</code> and <code>order_user_id</code></p>\n<p>Also\n<em><code>Orders_Item</code> table has two columns <code>orders_order_id</code> and <code>items_item_id</code></em></p>\n<p><strong>hibernate is making <code>items_item_id</code> a unique key, I don't want this</strong></p>\n<p><code>Hibernate: alter table orders_items add constraint UK_9uu7j0okufkkanam94v8gb2qa unique (items_item_id)</code></p>\n<p><strong>SO MY ISSUE IS I CAN'T INSERT AN ITEM HAVING ONE ID MORE THAN ONCE</strong></p>\n<p>How can this issue be ressolved?</p>\n"},{"tags":["java","assert"],"answers":[{"tags":[],"owner":{"account_id":680,"reputation":960675,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"down_vote_count":1,"up_vote_count":179,"is_accepted":true,"score":178,"last_activity_date":1632496010,"creation_date":1226088762,"answer_id":273488,"question_id":273485,"body_markdown":"You certainly can:\r\n\r\n    assert x &gt; 0 : &quot;x must be greater than zero, but x = &quot; + x;\r\n\r\nSee [Programming with Assertions](https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html) for more information.","title":"Can java&#39;s assert statement allow you to specify a message?","body":"<p>You certainly can:</p>\n<pre><code>assert x &gt; 0 : &quot;x must be greater than zero, but x = &quot; + x;\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/assert.html\" rel=\"noreferrer\">Programming with Assertions</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":15939,"reputation":78065,"user_id":34218,"display_name":"Jason Coco"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1226088842,"creation_date":1226088842,"answer_id":273492,"question_id":273485,"body_markdown":"It absolutely does:\r\n\r\n    assert importantVar != null : &quot;The important var was null!&quot;;\r\n\r\nThis will add &quot;The important var was null&quot; to the exception that is thrown.\r\n\r\n","title":"Can java&#39;s assert statement allow you to specify a message?","body":"<p>It absolutely does:</p>\n\n<pre><code>assert importantVar != null : \"The important var was null!\";\n</code></pre>\n\n<p>This will add \"The important var was null\" to the exception that is thrown.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1226088872,"creation_date":1226088872,"answer_id":273493,"question_id":273485,"body_markdown":"If you use\r\n\r\n    assert Expression1 : Expression2 ;\r\n\r\nExpression2 is used as a detail message for the AssertionError.","title":"Can java&#39;s assert statement allow you to specify a message?","body":"<p>If you use</p>\n\n<pre><code>assert Expression1 : Expression2 ;\n</code></pre>\n\n<p>Expression2 is used as a detail message for the AssertionError.</p>\n"},{"tags":[],"owner":{"account_id":102988,"reputation":24922,"user_id":276093,"accept_rate":60,"display_name":"matt burns"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1437558693,"creation_date":1233248544,"answer_id":492499,"question_id":273485,"body_markdown":"    assert (condition) : &quot;some message&quot;;\r\n\r\nI&#39;d recommend putting the conditional in brackets\r\n\r\n    assert (y &gt; x): &quot;y is too small. y = &quot; + y;\r\n\r\nImagine if you came across code like this...\r\n\r\n    assert isTrue() ? true : false : &quot;some message&quot;;\r\n\r\n\r\nDon&#39;t forget this has nothing to do with asserts you&#39;d write in JUnit.","title":"Can java&#39;s assert statement allow you to specify a message?","body":"<pre><code>assert (condition) : \"some message\";\n</code></pre>\n\n<p>I'd recommend putting the conditional in brackets</p>\n\n<pre><code>assert (y &gt; x): \"y is too small. y = \" + y;\n</code></pre>\n\n<p>Imagine if you came across code like this...</p>\n\n<pre><code>assert isTrue() ? true : false : \"some message\";\n</code></pre>\n\n<p>Don't forget this has nothing to do with asserts you'd write in JUnit.</p>\n"}],"owner":{"account_id":1781,"reputation":91962,"user_id":2443,"accept_rate":82,"display_name":"Allain Lalonde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50137,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":273488,"answer_count":4,"score":89,"last_activity_date":1632496010,"creation_date":1226088693,"question_id":273485,"body_markdown":"Seems likes it might be useful to have the assert display a message when an assertion fails.\r\n\r\nCurrently an `AssertionError` gets thrown, can you specify a custom message for it?\r\n\r\nCan you show an example mechanism for doing this (other than creating your own exception type and throwing it)?","title":"Can java&#39;s assert statement allow you to specify a message?","body":"<p>Seems likes it might be useful to have the assert display a message when an assertion fails.</p>\n\n<p>Currently an <code>AssertionError</code> gets thrown, can you specify a custom message for it?</p>\n\n<p>Can you show an example mechanism for doing this (other than creating your own exception type and throwing it)?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1632492961,"post_id":69316504,"comment_id":122515078,"body_markdown":"_always_, really.","body":"<i>always</i>, really."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1632493005,"post_id":69316504,"comment_id":122515096,"body_markdown":"`new ArrayList(map.values())` is a [raw type](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it). That is, a type for which all further generic type-checking is disabled. Don&#39;t use it.","body":"<code>new ArrayList(map.values())</code> is a <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">raw type</a>. That is, a type for which all further generic type-checking is disabled. Don&#39;t use it."},{"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"score":1,"creation_date":1632493315,"post_id":69316504,"comment_id":122515230,"body_markdown":"should be `Map&lt;String, List&lt;String&gt;&gt;`","body":"should be <code>Map&lt;String, List&lt;String&gt;&gt;</code>"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1632493338,"post_id":69316504,"comment_id":122515242,"body_markdown":"Your HashMap&#39;s values are `List`, which is basically `List&lt;Object&gt;`. It could hold a String, an Integer and a StringBuilder for all we know. That&#39;s why trying to create a `List&lt;String&gt;` from those values doesn&#39;t work - they aren&#39;t necessarily all Strings. We can&#39;t be sure it does hold strings. Change the map definition to `Map&lt;String, List&lt;String&gt;&gt;`, then revert the return to `return new ArrayList&lt;&gt;(map.values());`","body":"Your HashMap&#39;s values are <code>List</code>, which is basically <code>List&lt;Object&gt;</code>. It could hold a String, an Integer and a StringBuilder for all we know. That&#39;s why trying to create a <code>List&lt;String&gt;</code> from those values doesn&#39;t work - they aren&#39;t necessarily all Strings. We can&#39;t be sure it does hold strings. Change the map definition to <code>Map&lt;String, List&lt;String&gt;&gt;</code>, then revert the return to <code>return new ArrayList&lt;&gt;(map.values());</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632493455,"post_id":69316504,"comment_id":122515290,"body_markdown":"@Michael &quot;which is basically `List&lt;Object&gt;`&quot; please don&#39;t say things like this: it&#39;s entirely valid to use a `List&lt;Object&gt;`, and have heterogeneously-typed elements. The problem is that `List` *isn&#39;t* a `List&lt;Object&gt;`, it&#39;s not type checked, and the non-type checking is viral through its returned values. Saying &quot;is basically&quot; implies they are similar enough in function that it&#39;s OK to use either, which it&#39;s not.","body":"@Michael &quot;which is basically <code>List&lt;Object&gt;</code>&quot; please don&#39;t say things like this: it&#39;s entirely valid to use a <code>List&lt;Object&gt;</code>, and have heterogeneously-typed elements. The problem is that <code>List</code> <i>isn&#39;t</i> a <code>List&lt;Object&gt;</code>, it&#39;s not type checked, and the non-type checking is viral through its returned values. Saying &quot;is basically&quot; implies they are similar enough in function that it&#39;s OK to use either, which it&#39;s not."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1632493619,"post_id":69316504,"comment_id":122515352,"body_markdown":"&quot;*Saying &quot;is basically&quot; implies it&#39;s the same*&quot; Disagree","body":"&quot;<i>Saying &quot;is basically&quot; implies it&#39;s the same</i>&quot; Disagree"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632493726,"post_id":69316504,"comment_id":122515399,"body_markdown":"@Michael what do you mean then?","body":"@Michael what do you mean then?"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632493945,"creation_date":1632493319,"answer_id":69316601,"question_id":69316504,"body_markdown":"```\r\npublic List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\r\n  ...\r\n  Map&lt;String, List&gt; res = new HashMap&lt;&gt;();\r\n  ...\r\n  res.put(key, new ArrayList());\r\n  ...\r\n  return new ArrayList&lt;List&lt;String&gt;&gt;(res.values());\r\n}\r\n```\r\n\r\nThe problem here is that `res.values()` isn&#39;t a `Collection&lt;List&lt;String&gt;&gt;`, which is what would be required: it&#39;s a `Collection&lt;List&gt;`.\r\n\r\nThe elements of `res.values()` are _raw types_: you&#39;ve used `List` without specifying the type parameters.\r\n\r\nRaw types disable type checking, meaning you can end up putting things into collections with types you don&#39;t want.\r\n\r\nEvery time you use a generic type, make sure it has type parameters (or diamonds, if allowed:\r\n\r\n```\r\npublic List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\r\n  ...\r\n  Map&lt;String, List&lt;String&gt;&gt; res = new HashMap&lt;&gt;();\r\n  ...\r\n  res.put(key, new ArrayList&lt;&gt;());\r\n  ...\r\n  return new ArrayList&lt;&gt;(res.values());\r\n}\r\n```","title":"When to use &lt;&gt; when initiating an ArrayList (or any other object)?","body":"<pre><code>public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\n  ...\n  Map&lt;String, List&gt; res = new HashMap&lt;&gt;();\n  ...\n  res.put(key, new ArrayList());\n  ...\n  return new ArrayList&lt;List&lt;String&gt;&gt;(res.values());\n}\n</code></pre>\n<p>The problem here is that <code>res.values()</code> isn't a <code>Collection&lt;List&lt;String&gt;&gt;</code>, which is what would be required: it's a <code>Collection&lt;List&gt;</code>.</p>\n<p>The elements of <code>res.values()</code> are <em>raw types</em>: you've used <code>List</code> without specifying the type parameters.</p>\n<p>Raw types disable type checking, meaning you can end up putting things into collections with types you don't want.</p>\n<p>Every time you use a generic type, make sure it has type parameters (or diamonds, if allowed:</p>\n<pre><code>public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\n  ...\n  Map&lt;String, List&lt;String&gt;&gt; res = new HashMap&lt;&gt;();\n  ...\n  res.put(key, new ArrayList&lt;&gt;());\n  ...\n  return new ArrayList&lt;&gt;(res.values());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1575294,"reputation":47,"user_id":1461926,"display_name":"JZH"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632493387,"creation_date":1632493387,"answer_id":69316616,"question_id":69316504,"body_markdown":"Because the type of map value is List , but you define the type of list value is string.\r\n\r\nAnd suggest use guava Multimap instead of Map&lt;String ,List&gt;","title":"When to use &lt;&gt; when initiating an ArrayList (or any other object)?","body":"<p>Because the type of map value is List , but you define the type of list value is string.</p>\n<p>And suggest use guava Multimap instead of Map&lt;String ,List&gt;</p>\n"}],"owner":{"display_name":"user15064722"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1632495829,"creation_date":1632492940,"question_id":69316504,"body_markdown":"I have a question regarding the initiation of ArrayList in Java.\r\n\r\nAs far as I know I have to specify the type of my ArrayList when initialize it.\r\nFor example:\r\n\r\n```\r\nArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n```\r\nor \r\n```\r\nArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n```\r\nHowever, when I want to write a code to return an ArrayList of List, \r\nwhich is from the values of a map \r\n``` Map&lt;String, List&gt; map = new HashMap&lt;&gt;();``` \r\nIf I tried to use the following, error happens\r\n``` \r\nreturn new ArrayList&lt;&gt;(map.values())\r\n``` \r\nor \r\n``` \r\nreturn new ArrayList&lt;List&lt;String&gt;&gt;(map.values())\r\n``` \r\nInstead, I can only use the one, without the &lt;&gt;.\r\n``` \r\nreturn new ArrayList(map.values())\r\n``` \r\nCould anyone let me know when I should or should not use the &lt;&gt; when I initialize an ArrayList(or any other objects)? \r\n\r\nThe original code is as written below\r\n```\r\n    public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\r\n        if (strs.length == 0) return new ArrayList&lt;&gt;();\r\n        Map&lt;String, List&gt; res = new HashMap&lt;&gt;();\r\n        for (String s : strs) {\r\n            char[] charArray = s.toCharArray();\r\n            Arrays.sort(charArray);\r\n            String key = String.valueOf(charArray);\r\n            if (!res.containsKey(key)) res.put(key, new ArrayList());\r\n            res.get(key).add(s);\r\n        }\r\n        \r\n        return new ArrayList&lt;List&lt;String&gt;&gt;(res.values());\r\n    }\r\n```","title":"When to use &lt;&gt; when initiating an ArrayList (or any other object)?","body":"<p>I have a question regarding the initiation of ArrayList in Java.</p>\n<p>As far as I know I have to specify the type of my ArrayList when initialize it.\nFor example:</p>\n<pre><code>ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\n</code></pre>\n<p>or</p>\n<pre><code>ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\n</code></pre>\n<p>However, when I want to write a code to return an ArrayList of List,\nwhich is from the values of a map\n<code> Map&lt;String, List&gt; map = new HashMap&lt;&gt;();</code>\nIf I tried to use the following, error happens</p>\n<pre><code>return new ArrayList&lt;&gt;(map.values())\n</code></pre>\n<p>or</p>\n<pre><code>return new ArrayList&lt;List&lt;String&gt;&gt;(map.values())\n</code></pre>\n<p>Instead, I can only use the one, without the &lt;&gt;.</p>\n<pre><code>return new ArrayList(map.values())\n</code></pre>\n<p>Could anyone let me know when I should or should not use the &lt;&gt; when I initialize an ArrayList(or any other objects)?</p>\n<p>The original code is as written below</p>\n<pre><code>    public List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) {\n        if (strs.length == 0) return new ArrayList&lt;&gt;();\n        Map&lt;String, List&gt; res = new HashMap&lt;&gt;();\n        for (String s : strs) {\n            char[] charArray = s.toCharArray();\n            Arrays.sort(charArray);\n            String key = String.valueOf(charArray);\n            if (!res.containsKey(key)) res.put(key, new ArrayList());\n            res.get(key).add(s);\n        }\n        \n        return new ArrayList&lt;List&lt;String&gt;&gt;(res.values());\n    }\n</code></pre>\n"},{"tags":["java","try-with-resources"],"comments":[{"owner":{"account_id":3528351,"reputation":7733,"user_id":2948765,"display_name":"Tobias"},"score":7,"creation_date":1452260932,"post_id":34678538,"comment_id":57102310,"body_markdown":"If &quot;the constructor for `Child` throws a `Foo`&quot;, no instance of `Child` exists in the calling scope, so `close()` cannot be called.","body":"If &quot;the constructor for <code>Child</code> throws a <code>Foo</code>&quot;, no instance of <code>Child</code> exists in the calling scope, so <code>close()</code> cannot be called."},{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":2,"creation_date":1452262772,"post_id":34678538,"comment_id":57103518,"body_markdown":"If there is no object, there is no way `close` can be called on it.","body":"If there is no object, there is no way <code>close</code> can be called on it."}],"answers":[{"tags":[],"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1452260962,"creation_date":1452260962,"answer_id":34678630,"question_id":34678538,"body_markdown":"`close` will not be called. It wouldn&#39;t make sense to call it, since you don&#39;t have a fully-constructed object to close, and in similar calls, you might not have even entered a constructor:\r\n\r\n    try (Base b = makeBase()) {\r\n        ...\r\n    }\r\n\r\nwhere `makeBase` is\r\n\r\n    Base makeBase() {\r\n        throw new RuntimeException();\r\n    }","title":"Is the close method on a try-with-resources idiom not called if a constructor throws an exception?","body":"<p><code>close</code> will not be called. It wouldn't make sense to call it, since you don't have a fully-constructed object to close, and in similar calls, you might not have even entered a constructor:</p>\n\n<pre><code>try (Base b = makeBase()) {\n    ...\n}\n</code></pre>\n\n<p>where <code>makeBase</code> is</p>\n\n<pre><code>Base makeBase() {\n    throw new RuntimeException();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1452261100,"creation_date":1452261100,"answer_id":34678674,"question_id":34678538,"body_markdown":"Yes, `close` won&#39;t be called. This is specified in the JLS [section 14.20.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.20.3):\r\n&gt; Resources are initialized in left-to-right order. **If a resource fails to initialize (that is, its initializer expression throws an exception), then all resources initialized so far by the try-with-resources statement are closed**. If all resources initialize successfully, the try block executes as normal and then all non-null resources of the try-with-resources statement are closed.\r\n&gt;\r\n&gt;Resources are closed in the reverse order from that in which they were initialized. **A resource is closed only if it initialized to a non-null value**. An exception from the closing of one resource does not prevent the closing of other resources. Such an exception is suppressed if an exception was thrown previously by an initializer, the try block, or the closing of a resource. \r\n\r\nIn this case, an exception is thrown in the constructor so the resource is not initialized to a non-null value. Hence, the `close` method isn&#39;t called.","title":"Is the close method on a try-with-resources idiom not called if a constructor throws an exception?","body":"<p>Yes, <code>close</code> won't be called. This is specified in the JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.20.3\">section 14.20.3</a>:</p>\n\n<blockquote>\n  <p>Resources are initialized in left-to-right order. <strong>If a resource fails to initialize (that is, its initializer expression throws an exception), then all resources initialized so far by the try-with-resources statement are closed</strong>. If all resources initialize successfully, the try block executes as normal and then all non-null resources of the try-with-resources statement are closed.</p>\n  \n  <p>Resources are closed in the reverse order from that in which they were initialized. <strong>A resource is closed only if it initialized to a non-null value</strong>. An exception from the closing of one resource does not prevent the closing of other resources. Such an exception is suppressed if an exception was thrown previously by an initializer, the try block, or the closing of a resource. </p>\n</blockquote>\n\n<p>In this case, an exception is thrown in the constructor so the resource is not initialized to a non-null value. Hence, the <code>close</code> method isn't called.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632495341,"creation_date":1632495341,"answer_id":69317119,"question_id":34678538,"body_markdown":"This may not be the best way to handle it but MAYBE you could delay throwing the exception until AFTER the object is constructed. How? You could have an exception attribute on the class and add a clause to the class&#39;s public methods that if that exception attribute is not null, you could then throw the cached exception that originated during object instantiation. This way, you should be able to reclaim the resources that might have been allocated during the partial construction of the object in question. I believe this is how these IO readers and writers classes handle these cases.\r\n\r\nAgain, this might not be the best way, but it might be something to consider if you REALLY need to.","title":"Is the close method on a try-with-resources idiom not called if a constructor throws an exception?","body":"<p>This may not be the best way to handle it but MAYBE you could delay throwing the exception until AFTER the object is constructed. How? You could have an exception attribute on the class and add a clause to the class's public methods that if that exception attribute is not null, you could then throw the cached exception that originated during object instantiation. This way, you should be able to reclaim the resources that might have been allocated during the partial construction of the object in question. I believe this is how these IO readers and writers classes handle these cases.</p>\n<p>Again, this might not be the best way, but it might be something to consider if you REALLY need to.</p>\n"}],"owner":{"account_id":4166355,"reputation":8431,"user_id":3415258,"accept_rate":89,"display_name":"P45 Imminent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2438,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":34678674,"answer_count":3,"score":12,"last_activity_date":1632495341,"creation_date":1452260688,"question_id":34678538,"body_markdown":"I have a base class `Base` and a child class `Child` which extends it. `Base` implements `java.lang.AutoCloseable`.\r\n\r\nLet&#39;s suppose that the constructor for `Child` throws a `Foo`.\r\n\r\nNow consider\r\n\r\n    try (Base c = new Child()){\r\n        /*Some code*/\r\n    } catch (final Foo e){\r\n        /*Some more code*/\r\n    }\r\n\r\nIs the `Base#close` method called if the exception is thrown? It is not on my machine, but is this something that the JLS has standardised?","title":"Is the close method on a try-with-resources idiom not called if a constructor throws an exception?","body":"<p>I have a base class <code>Base</code> and a child class <code>Child</code> which extends it. <code>Base</code> implements <code>java.lang.AutoCloseable</code>.</p>\n\n<p>Let's suppose that the constructor for <code>Child</code> throws a <code>Foo</code>.</p>\n\n<p>Now consider</p>\n\n<pre><code>try (Base c = new Child()){\n    /*Some code*/\n} catch (final Foo e){\n    /*Some more code*/\n}\n</code></pre>\n\n<p>Is the <code>Base#close</code> method called if the exception is thrown? It is not on my machine, but is this something that the JLS has standardised?</p>\n"},{"tags":["java","wildcard","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632495258,"creation_date":1632406777,"answer_id":69301826,"question_id":69296757,"body_markdown":"What you are seeing _is_ the expected behavior. The key thing to keep in mind here is that you&#39;re leveraging [wildcard _routing_][1] and not wildcard _consuming_. With wildcard routing messages are not only routed to the queues of the address where the message is explicitly sent but also to any queues on matching wildcard addresses. Each queue to which the message is routed has its own copy of the message.\r\n\r\nWildcard routing was implemented with multicast (i.e. pub/sub) use-cases in mind (e.g. hierarchical topics), but there are a few options if you want to use it with anycast:\r\n\r\n - Accept the semantics as-is.\r\n - Create the address `test.A` _without_ a queue, e.g.:\r\n   ```java\r\n   session.createAddress(SimpleString.toSimpleString(&quot;test.A&quot;), RoutingType.ANYCAST, false);\r\n   ```\r\n   This is a perfectly valid configuration, but you won&#39;t be able to consume messages from `test.A` directly since no such queue exists. You&#39;d only be able to consume messages from the queue(s) on the wildcard address.\r\n - Set purge-on-no-consumer to `true` on the `test.A` queue, e.g.:\r\n   ```java\r\n   var testA = new QueueConfiguration(&quot;test.A&quot;)\r\n       .setRoutingType(RoutingType.ANYCAST)\r\n       .setPurgeOnNoConsumers(true)\r\n       .setAddress(&quot;test.A&quot;);\r\n   ```\r\n   This setting will allow the queue to receive messages while a consumer is connected, but as soon as the last consumer disconnects the queue will be purged of all messages and as long as there are no consumers messages will not be routed to it.\r\n\r\nUsing a wildcard from a consumer to receive messages from multiple queues is a nice convenience feature, but it&#39;s not implemented in ActiveMQ Artemis. However, it shouldn&#39;t be very difficult to create multiple consumers.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/wildcard-routing.html","title":"Messages not consumed when using wildcard queues in ActiveMQ Artemis","body":"<p>What you are seeing <em>is</em> the expected behavior. The key thing to keep in mind here is that you're leveraging <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/wildcard-routing.html\" rel=\"nofollow noreferrer\">wildcard <em>routing</em></a> and not wildcard <em>consuming</em>. With wildcard routing messages are not only routed to the queues of the address where the message is explicitly sent but also to any queues on matching wildcard addresses. Each queue to which the message is routed has its own copy of the message.</p>\n<p>Wildcard routing was implemented with multicast (i.e. pub/sub) use-cases in mind (e.g. hierarchical topics), but there are a few options if you want to use it with anycast:</p>\n<ul>\n<li>Accept the semantics as-is.</li>\n<li>Create the address <code>test.A</code> <em>without</em> a queue, e.g.:\n<pre class=\"lang-java prettyprint-override\"><code>session.createAddress(SimpleString.toSimpleString(&quot;test.A&quot;), RoutingType.ANYCAST, false);\n</code></pre>\nThis is a perfectly valid configuration, but you won't be able to consume messages from <code>test.A</code> directly since no such queue exists. You'd only be able to consume messages from the queue(s) on the wildcard address.</li>\n<li>Set purge-on-no-consumer to <code>true</code> on the <code>test.A</code> queue, e.g.:\n<pre class=\"lang-java prettyprint-override\"><code>var testA = new QueueConfiguration(&quot;test.A&quot;)\n    .setRoutingType(RoutingType.ANYCAST)\n    .setPurgeOnNoConsumers(true)\n    .setAddress(&quot;test.A&quot;);\n</code></pre>\nThis setting will allow the queue to receive messages while a consumer is connected, but as soon as the last consumer disconnects the queue will be purged of all messages and as long as there are no consumers messages will not be routed to it.</li>\n</ul>\n<p>Using a wildcard from a consumer to receive messages from multiple queues is a nice convenience feature, but it's not implemented in ActiveMQ Artemis. However, it shouldn't be very difficult to create multiple consumers.</p>\n"}],"owner":{"account_id":1187074,"reputation":1288,"user_id":1160824,"accept_rate":100,"display_name":"Lasse L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69301826,"answer_count":1,"score":1,"last_activity_date":1632495258,"creation_date":1632386621,"question_id":69296757,"body_markdown":"If I create queues on ActiveMQ Artemis `test.A` and a wildcard queue `test.#` then I can send a message to `test.A` and it will also be delivered to `test.#`. However, I am surprised to learn that when I consume the message from `test.#` then the message is still present on `test.A`\r\n\r\nHow can I change my code or configuration to get the expected behavior?\r\n\r\n**Example code:**\r\n\r\n```java\r\nimport org.apache.activemq.artemis.api.core.*;\r\nimport org.apache.activemq.artemis.api.core.client.*;\r\nimport org.apache.activemq.artemis.core.config.impl.ConfigurationImpl;\r\nimport org.apache.activemq.artemis.core.server.embedded.EmbeddedActiveMQ;\r\n\r\npublic class Main {\r\n    static String AMQ = &quot;vm://0&quot;;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        EmbeddedActiveMQ server = null;\r\n        try {\r\n            server = createEmbeddedBroker();\r\n\r\n            var serverLocator = ActiveMQClient.createServerLocator(AMQ);\r\n            var clientSessionFactory = serverLocator.createSessionFactory();\r\n\r\n            createQueues(clientSessionFactory);\r\n\r\n            // queues are empty on creation\r\n            try (var session = clientSessionFactory.createSession()) {\r\n                assertQueueLength(session, &quot;test.#&quot;, 0);\r\n                assertQueueLength(session, &quot;test.A&quot;, 0);\r\n            }\r\n            \r\n            sendMessage(clientSessionFactory, &quot;test.A&quot;);\r\n\r\n            // expect message is delivered to both\r\n            try (var session = clientSessionFactory.createSession()) {\r\n                assertQueueLength(session, &quot;test.#&quot;, 1);\r\n                assertQueueLength(session, &quot;test.A&quot;, 1);\r\n            }\r\n\r\n            consumeMessage(clientSessionFactory, &quot;test.#&quot;);\r\n\r\n            // expect message is consumed from both\r\n            try (var session = clientSessionFactory.createSession()) {\r\n                assertQueueLength(session, &quot;test.#&quot;, 0); // ok - message gone\r\n                assertQueueLength(session, &quot;test.A&quot;, 0); // fails! \r\n            }\r\n\r\n        } finally {\r\n            if (server != null) server.stop();\r\n        }\r\n    }\r\n\r\n    private static EmbeddedActiveMQ createEmbeddedBroker() throws Exception {\r\n        var config = new ConfigurationImpl();\r\n        config.addAcceptorConfiguration(&quot;vm&quot;, AMQ);\r\n        config.setSecurityEnabled(false);\r\n        config.setPersistenceEnabled(false);\r\n\r\n        var server = new EmbeddedActiveMQ();\r\n        server.setConfiguration(config);\r\n        server.start();\r\n\r\n        return server;\r\n    }\r\n\r\n    private static void createQueues(ClientSessionFactory csf)  throws Exception {\r\n        var session = csf.createSession();\r\n\r\n        /*\r\n        &lt;address name=&quot;test.A&quot;&gt;\r\n            &lt;anycast&gt;\r\n                &lt;queue name=&quot;test.A&quot; /&gt;\r\n            &lt;/anycast&gt;\r\n        &lt;/address&gt;\r\n        */\r\n        var testA = new QueueConfiguration(&quot;test.A&quot;)\r\n            .setRoutingType(RoutingType.ANYCAST)\r\n            .setAddress(&quot;test.A&quot;);\r\n        session.createQueue(testA);\r\n\r\n        /*\r\n        &lt;address name=&quot;test.#&quot;&gt;\r\n            &lt;anycast&gt;\r\n                &lt;queue name=&quot;test.#&quot; /&gt;\r\n            &lt;/anycast&gt;\r\n        &lt;/address&gt;\r\n        */\r\n        var testWildcard = new QueueConfiguration(&quot;test.#&quot;)\r\n            .setRoutingType(RoutingType.ANYCAST)\r\n            .setAddress(&quot;test.#&quot;);\r\n        session.createQueue(testWildcard);\r\n\r\n        // also tried to create address without a queue, but the message to test.A is not delivered to test.#\r\n        // session.createAddress(new SimpleString(&quot;test.#&quot;), RoutingType.ANYCAST, false);\r\n    }\r\n\r\n    private static void sendMessage(ClientSessionFactory csf, String queue) throws Exception {\r\n        var session = csf.createSession();\r\n        var producer = session.createProducer(queue);\r\n        producer.send(session.createMessage(true));\r\n        producer.close();\r\n        session.close();\r\n    }\r\n\r\n    private static void consumeMessage(ClientSessionFactory csf, String queue) throws Exception {\r\n        var session = csf.createSession();\r\n        var consumer = session.createConsumer(queue);\r\n        consumer.setMessageHandler(message -&gt; {\r\n            try {\r\n                log(&quot;Consuming one message from &quot; + queue);\r\n                message.acknowledge();\r\n                log(&quot;Consumed one message from &quot; + queue);\r\n            } catch (ActiveMQException e) {\r\n                throw new IllegalStateException(e);\r\n            }\r\n        });\r\n        session.start();\r\n\r\n        Thread.sleep(1000); // hack to wait\r\n\r\n        consumer.close();\r\n        session.close();\r\n    }\r\n\r\n    private static void assertQueueLength(ClientSession session, String queue, long expected) throws Exception {\r\n        long actual = session.queueQuery(SimpleString.toSimpleString(queue)).getMessageCount();\r\n        if (actual != expected) {\r\n            throw new IllegalStateException(&quot;Queue &quot; + queue + &quot; has &quot; + actual + &quot; messages. Expected &quot; + expected);\r\n        } else {\r\n            log(&quot;Queue &quot; + queue + &quot; has &quot; + actual + &quot; messages as expected&quot;);\r\n        }\r\n    }\r\n\r\n    private static void log(String msg) {\r\n        System.out.println(&quot;&gt;&gt;&gt; &quot; + msg);\r\n    }\r\n}\r\n```\r\n\r\n**Dependencies:** \r\n```\r\norg.apache.activemq:artemis-core-client:2.17.0\r\norg.apache.activemq:artemis-server:2.17.0\r\n```\r\n","title":"Messages not consumed when using wildcard queues in ActiveMQ Artemis","body":"<p>If I create queues on ActiveMQ Artemis <code>test.A</code> and a wildcard queue <code>test.#</code> then I can send a message to <code>test.A</code> and it will also be delivered to <code>test.#</code>. However, I am surprised to learn that when I consume the message from <code>test.#</code> then the message is still present on <code>test.A</code></p>\n<p>How can I change my code or configuration to get the expected behavior?</p>\n<p><strong>Example code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.activemq.artemis.api.core.*;\nimport org.apache.activemq.artemis.api.core.client.*;\nimport org.apache.activemq.artemis.core.config.impl.ConfigurationImpl;\nimport org.apache.activemq.artemis.core.server.embedded.EmbeddedActiveMQ;\n\npublic class Main {\n    static String AMQ = &quot;vm://0&quot;;\n\n    public static void main(String[] args) throws Exception {\n        EmbeddedActiveMQ server = null;\n        try {\n            server = createEmbeddedBroker();\n\n            var serverLocator = ActiveMQClient.createServerLocator(AMQ);\n            var clientSessionFactory = serverLocator.createSessionFactory();\n\n            createQueues(clientSessionFactory);\n\n            // queues are empty on creation\n            try (var session = clientSessionFactory.createSession()) {\n                assertQueueLength(session, &quot;test.#&quot;, 0);\n                assertQueueLength(session, &quot;test.A&quot;, 0);\n            }\n            \n            sendMessage(clientSessionFactory, &quot;test.A&quot;);\n\n            // expect message is delivered to both\n            try (var session = clientSessionFactory.createSession()) {\n                assertQueueLength(session, &quot;test.#&quot;, 1);\n                assertQueueLength(session, &quot;test.A&quot;, 1);\n            }\n\n            consumeMessage(clientSessionFactory, &quot;test.#&quot;);\n\n            // expect message is consumed from both\n            try (var session = clientSessionFactory.createSession()) {\n                assertQueueLength(session, &quot;test.#&quot;, 0); // ok - message gone\n                assertQueueLength(session, &quot;test.A&quot;, 0); // fails! \n            }\n\n        } finally {\n            if (server != null) server.stop();\n        }\n    }\n\n    private static EmbeddedActiveMQ createEmbeddedBroker() throws Exception {\n        var config = new ConfigurationImpl();\n        config.addAcceptorConfiguration(&quot;vm&quot;, AMQ);\n        config.setSecurityEnabled(false);\n        config.setPersistenceEnabled(false);\n\n        var server = new EmbeddedActiveMQ();\n        server.setConfiguration(config);\n        server.start();\n\n        return server;\n    }\n\n    private static void createQueues(ClientSessionFactory csf)  throws Exception {\n        var session = csf.createSession();\n\n        /*\n        &lt;address name=&quot;test.A&quot;&gt;\n            &lt;anycast&gt;\n                &lt;queue name=&quot;test.A&quot; /&gt;\n            &lt;/anycast&gt;\n        &lt;/address&gt;\n        */\n        var testA = new QueueConfiguration(&quot;test.A&quot;)\n            .setRoutingType(RoutingType.ANYCAST)\n            .setAddress(&quot;test.A&quot;);\n        session.createQueue(testA);\n\n        /*\n        &lt;address name=&quot;test.#&quot;&gt;\n            &lt;anycast&gt;\n                &lt;queue name=&quot;test.#&quot; /&gt;\n            &lt;/anycast&gt;\n        &lt;/address&gt;\n        */\n        var testWildcard = new QueueConfiguration(&quot;test.#&quot;)\n            .setRoutingType(RoutingType.ANYCAST)\n            .setAddress(&quot;test.#&quot;);\n        session.createQueue(testWildcard);\n\n        // also tried to create address without a queue, but the message to test.A is not delivered to test.#\n        // session.createAddress(new SimpleString(&quot;test.#&quot;), RoutingType.ANYCAST, false);\n    }\n\n    private static void sendMessage(ClientSessionFactory csf, String queue) throws Exception {\n        var session = csf.createSession();\n        var producer = session.createProducer(queue);\n        producer.send(session.createMessage(true));\n        producer.close();\n        session.close();\n    }\n\n    private static void consumeMessage(ClientSessionFactory csf, String queue) throws Exception {\n        var session = csf.createSession();\n        var consumer = session.createConsumer(queue);\n        consumer.setMessageHandler(message -&gt; {\n            try {\n                log(&quot;Consuming one message from &quot; + queue);\n                message.acknowledge();\n                log(&quot;Consumed one message from &quot; + queue);\n            } catch (ActiveMQException e) {\n                throw new IllegalStateException(e);\n            }\n        });\n        session.start();\n\n        Thread.sleep(1000); // hack to wait\n\n        consumer.close();\n        session.close();\n    }\n\n    private static void assertQueueLength(ClientSession session, String queue, long expected) throws Exception {\n        long actual = session.queueQuery(SimpleString.toSimpleString(queue)).getMessageCount();\n        if (actual != expected) {\n            throw new IllegalStateException(&quot;Queue &quot; + queue + &quot; has &quot; + actual + &quot; messages. Expected &quot; + expected);\n        } else {\n            log(&quot;Queue &quot; + queue + &quot; has &quot; + actual + &quot; messages as expected&quot;);\n        }\n    }\n\n    private static void log(String msg) {\n        System.out.println(&quot;&gt;&gt;&gt; &quot; + msg);\n    }\n}\n</code></pre>\n<p><strong>Dependencies:</strong></p>\n<pre><code>org.apache.activemq:artemis-core-client:2.17.0\norg.apache.activemq:artemis-server:2.17.0\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":17147715,"reputation":4182,"user_id":12410332,"display_name":"vitooh"},"score":0,"creation_date":1632759088,"post_id":69314284,"comment_id":122574164,"body_markdown":"What do you mean  locally?  Can you provide more details about testing environment?","body":"What do you mean  locally?  Can you provide more details about testing environment?"},{"owner":{"account_id":254676,"reputation":3898,"user_id":534238,"accept_rate":83,"display_name":"Mike Williamson"},"score":0,"creation_date":1698934708,"post_id":69314284,"comment_id":136469461,"body_markdown":"I think you need to give more details for some better answers.  Specifically, usually a minimal working example is expected / helpful.","body":"I think you need to give more details for some better answers.  Specifically, usually a minimal working example is expected / helpful."}],"answers":[{"tags":[],"owner":{"account_id":890599,"reputation":3775,"user_id":6760372,"display_name":"I&#241;igo Gonz&#225;lez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632495031,"creation_date":1632495031,"answer_id":69317030,"question_id":69314284,"body_markdown":"Do not use print inside Dataflow. Use logger instead:\r\n\r\n\r\n```pyhton\r\nimport logging\r\n\r\nlogging.getLogger().setLevel(logging.DEBUG)\r\n```\r\n\r\nYou can use `logging.debug()` inside a DoFn:\r\n```python\r\nclass JustPrintSomething (beam.DoFn):\r\n\r\n   def process (self, stuff):\r\n      logging.debug(f&quot;Stuff received: f{stuff}&quot;)\r\n      yield stuff\r\n\r\n```\r\n\r\nThis should send to stdout the message in DirectRunner. You&#39;ll get the log messages in Stackdriver if you&#39;re using Dataflow.","title":"Why DirectRunner is not executing steps from pipeline, while DataflowRunner it works","body":"<p>Do not use print inside Dataflow. Use logger instead:</p>\n<pre><code>import logging\n\nlogging.getLogger().setLevel(logging.DEBUG)\n</code></pre>\n<p>You can use <code>logging.debug()</code> inside a DoFn:</p>\n<pre class=\"lang-py prettyprint-override\"><code>class JustPrintSomething (beam.DoFn):\n\n   def process (self, stuff):\n      logging.debug(f&quot;Stuff received: f{stuff}&quot;)\n      yield stuff\n\n</code></pre>\n<p>This should send to stdout the message in DirectRunner. You'll get the log messages in Stackdriver if you're using Dataflow.</p>\n"}],"owner":{"account_id":6567889,"reputation":626,"user_id":5076865,"accept_rate":58,"display_name":"Michał"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632495031,"creation_date":1632482941,"question_id":69314284,"body_markdown":"I have a simple pipeline, with one Windowing function. Steps are as following: \r\n- read from pubsub\r\n- debugstep (printing aaa)\r\n- window 10s\r\n- debugstep (print bbb)\r\n- TextIO.writeDynamic to gcs.\r\n\r\nAnd, on Dataflow I&#39;ve got pretty nice debug messages, so that I know that steps after windowing functions are executed correctly. \r\n\r\nHowever, I need to debug stuff locally, and unfortunately my &quot;debugstep&quot; after window is not executed at all. No messages, no debugger attached. Nothing. Every once in a while it processes a window, but it feels very unstable. \r\n\r\nWhats the reason for this? I&#39;ve seen this problem many years ago when Dataflow was at its early stages, now, 4 years later, it still is an issue. Maybe am I doing something wrong? \r\n","title":"Why DirectRunner is not executing steps from pipeline, while DataflowRunner it works","body":"<p>I have a simple pipeline, with one Windowing function. Steps are as following:</p>\n<ul>\n<li>read from pubsub</li>\n<li>debugstep (printing aaa)</li>\n<li>window 10s</li>\n<li>debugstep (print bbb)</li>\n<li>TextIO.writeDynamic to gcs.</li>\n</ul>\n<p>And, on Dataflow I've got pretty nice debug messages, so that I know that steps after windowing functions are executed correctly.</p>\n<p>However, I need to debug stuff locally, and unfortunately my &quot;debugstep&quot; after window is not executed at all. No messages, no debugger attached. Nothing. Every once in a while it processes a window, but it feels very unstable.</p>\n<p>Whats the reason for this? I've seen this problem many years ago when Dataflow was at its early stages, now, 4 years later, it still is an issue. Maybe am I doing something wrong?</p>\n"},{"tags":["java","swing","locale"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1632493489,"post_id":69316615,"comment_id":122515305,"body_markdown":"All updates to the GUI should be done on the `Event Dispatch Thread (EDT)`. Put all the code in the invokeLater. This will make sure the code executes sequentially on the EDT.","body":"All updates to the GUI should be done on the <code>Event Dispatch Thread (EDT)</code>. Put all the code in the invokeLater. This will make sure the code executes sequentially on the EDT."},{"owner":{"account_id":20579921,"reputation":123,"user_id":15106272,"display_name":"loggeek"},"score":0,"creation_date":1632493622,"post_id":69316615,"comment_id":122515353,"body_markdown":"@camickr Could you provide an example please?","body":"@camickr Could you provide an example please?"},{"owner":{"account_id":20579921,"reputation":123,"user_id":15106272,"display_name":"loggeek"},"score":0,"creation_date":1632493837,"post_id":69316615,"comment_id":122515447,"body_markdown":"aaah, it was at the `exec()`... sorry! I understand now!","body":"aaah, it was at the <code>exec()</code>... sorry! I understand now!"}],"answers":[{"tags":[],"owner":{"account_id":20579921,"reputation":123,"user_id":15106272,"display_name":"loggeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632494132,"creation_date":1632494132,"answer_id":69316818,"question_id":69316615,"body_markdown":"Thanks @camickr for the tip!\r\n\r\nI had to move the locale code to my `exec()` function to implement the function:\r\n\r\n```java\r\npublic static void exec()\r\n{\r\n\tEventQueue.invokeLater(new Runnable()\r\n\t{\r\n\t\tpublic void run()\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tMainWindow window = new MainWindow();\r\n\t\t\t\t\r\n\t\t\t\twindow.frame.setVisible(true);\r\n\t\t\t\twindow.frame.setTitle(Main.getLocalizedName(&quot;title&quot;).replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;));\r\n\t\t\t\t// Other locales\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n```\r\n","title":"Function uses field before it has the time to be initialized","body":"<p>Thanks @camickr for the tip!</p>\n<p>I had to move the locale code to my <code>exec()</code> function to implement the function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void exec()\n{\n    EventQueue.invokeLater(new Runnable()\n    {\n        public void run()\n        {\n            try\n            {\n                MainWindow window = new MainWindow();\n                \n                window.frame.setVisible(true);\n                window.frame.setTitle(Main.getLocalizedName(&quot;title&quot;).replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;));\n                // Other locales\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace();\n            }\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":20579921,"reputation":123,"user_id":15106272,"display_name":"loggeek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632494882,"creation_date":1632493386,"question_id":69316615,"body_markdown":"I am making an UI project with a locale getter, but the UI claims the locale wasn&#39;t initialized when it was called.\r\n\r\nHere&#39;s `main()`:\r\n\r\n```java\r\npublic static void main(String[] argv)\r\n{\r\n\tinitLocale();\r\n\trefreshData();\r\n\tMainWindow.exec();\r\n}\r\n```\r\nThe `initLocale()` static function gets locale settings through a *properties* file, setting a HashMap of strings.\r\nThe `refreshData()` function doesn&#39;t interest us, and the `MainWindow.exec()` calls the main window.\r\n\r\nHere&#39;s the `exec()` function:\r\n\r\n```java\r\npublic static void exec()\r\n{\r\n\tEventQueue.invokeLater(new Runnable()\r\n\t{\r\n\t\tpublic void run()\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tMainWindow window = new MainWindow();\r\n\t\t\t\twindow.frame.setVisible(true);\r\n\t\t\t}\r\n\t\t\tcatch (Exception e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n```\r\nThe constructor calls the `initialize()` function there:\r\n\r\n```java\r\nprivate void initialize()\r\n{\r\n\tframe = new JFrame();\r\n\t\r\n\ttry\r\n\t{\r\n\t\tframe.setIconImage(ImageIO.read(new FileInputStream(&quot;icons/icon.png&quot;)));\r\n\t}\r\n\tcatch (IOException e) {}\r\n\t\r\n\tframe.setTitle(Main.getLocalizedName(&quot;title&quot;).replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;)); // &lt; The error is thrown here\r\n\tframe.setBounds(100, 100, 450, 300);\r\n\t\r\n\tpanel = new JPanel();\r\n\tframe.getContentPane().add(panel, BorderLayout.EAST);\r\n\tpanel.setLayout(new GridLayout(0, 1, 0, 0));\r\n\t\r\n\t// Rest of the function\r\n}\r\n```\r\nFirst an icon is imported, then I try to set the title as the locale settings. Every time i try this, a `NullPointerException` is thrown.\r\n\r\nLogically, the `initLocale()` function should have done its job before the window would have been initialized, but it&#39;s not the case. Could somebody help me here?\r\n","title":"Function uses field before it has the time to be initialized","body":"<p>I am making an UI project with a locale getter, but the UI claims the locale wasn't initialized when it was called.</p>\n<p>Here's <code>main()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] argv)\n{\n    initLocale();\n    refreshData();\n    MainWindow.exec();\n}\n</code></pre>\n<p>The <code>initLocale()</code> static function gets locale settings through a <em>properties</em> file, setting a HashMap of strings.\nThe <code>refreshData()</code> function doesn't interest us, and the <code>MainWindow.exec()</code> calls the main window.</p>\n<p>Here's the <code>exec()</code> function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void exec()\n{\n    EventQueue.invokeLater(new Runnable()\n    {\n        public void run()\n        {\n            try\n            {\n                MainWindow window = new MainWindow();\n                window.frame.setVisible(true);\n            }\n            catch (Exception e)\n            {\n                e.printStackTrace();\n            }\n        }\n    });\n}\n</code></pre>\n<p>The constructor calls the <code>initialize()</code> function there:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void initialize()\n{\n    frame = new JFrame();\n    \n    try\n    {\n        frame.setIconImage(ImageIO.read(new FileInputStream(&quot;icons/icon.png&quot;)));\n    }\n    catch (IOException e) {}\n    \n    frame.setTitle(Main.getLocalizedName(&quot;title&quot;).replaceAll(&quot;^\\&quot;|\\&quot;$&quot;, &quot;&quot;)); // &lt; The error is thrown here\n    frame.setBounds(100, 100, 450, 300);\n    \n    panel = new JPanel();\n    frame.getContentPane().add(panel, BorderLayout.EAST);\n    panel.setLayout(new GridLayout(0, 1, 0, 0));\n    \n    // Rest of the function\n}\n</code></pre>\n<p>First an icon is imported, then I try to set the title as the locale settings. Every time i try this, a <code>NullPointerException</code> is thrown.</p>\n<p>Logically, the <code>initLocale()</code> function should have done its job before the window would have been initialized, but it's not the case. Could somebody help me here?</p>\n"},{"tags":["java","list","nodes"],"answers":[{"tags":[],"owner":{"account_id":6234983,"reputation":159,"user_id":4850577,"display_name":"Vavaste"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632494817,"creation_date":1632494817,"answer_id":69316973,"question_id":69316809,"body_markdown":"The nodes are not &quot;Shifted around&quot;, imagine it like a chain (the one used to lock the gates), you go to disassemble a node of the chain, insert a new one and link the new node (temp) with the old node ) that was connected to the disessembled one (temp.next=last.next), then you link the old node of the chain (&quot;last&quot; in the code) with the new inserted node (temp) (last.next=temp)","title":"How do you insert elements into a circular singly linked list in Java?","body":"<p>The nodes are not &quot;Shifted around&quot;, imagine it like a chain (the one used to lock the gates), you go to disassemble a node of the chain, insert a new one and link the new node (temp) with the old node ) that was connected to the disessembled one (temp.next=last.next), then you link the old node of the chain (&quot;last&quot; in the code) with the new inserted node (temp) (last.next=temp)</p>\n"}],"owner":{"account_id":22799501,"reputation":1,"user_id":16952453,"display_name":"captaincabbage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632494817,"creation_date":1632494103,"question_id":69316809,"body_markdown":"I was looking at the following code for insertion of a node at the beginning of a circular linked list, but I am still very confused by the logic of how this is done. I understand the part where if a list is empty you can just equate the new node to the list&#39;s head, but I really do not understand how all the nodes are &#39;shifted around&#39; (I know that that&#39;s not quite how linked lists work, but so to speak) so that there is room for a new node and why you need a new dynamic node. Credit: [https://www.geeksforgeeks.org/circular-singly-linked-list-insertion/][1]\r\n\r\n    static Node addBegin(Node last, int data)\r\n    {\r\n        if (last == null)\r\n            return addToEmpty(last, data);\r\n       \r\n          // Creating a node dynamically\r\n        Node temp = new Node();\r\n          \r\n          // Assigning the data\r\n        temp.data = data;\r\n       \r\n          // Adjusting the links\r\n        temp.next = last.next;\r\n        last.next = temp;\r\n      \r\n        return last;\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/circular-singly-linked-list-insertion/","title":"How do you insert elements into a circular singly linked list in Java?","body":"<p>I was looking at the following code for insertion of a node at the beginning of a circular linked list, but I am still very confused by the logic of how this is done. I understand the part where if a list is empty you can just equate the new node to the list's head, but I really do not understand how all the nodes are 'shifted around' (I know that that's not quite how linked lists work, but so to speak) so that there is room for a new node and why you need a new dynamic node. Credit: <a href=\"https://www.geeksforgeeks.org/circular-singly-linked-list-insertion/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/circular-singly-linked-list-insertion/</a></p>\n<pre><code>static Node addBegin(Node last, int data)\n{\n    if (last == null)\n        return addToEmpty(last, data);\n   \n      // Creating a node dynamically\n    Node temp = new Node();\n      \n      // Assigning the data\n    temp.data = data;\n   \n      // Adjusting the links\n    temp.next = last.next;\n    last.next = temp;\n  \n    return last;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","backend"],"answers":[{"tags":[],"owner":{"account_id":7686773,"reputation":94,"user_id":5824274,"display_name":"Hendro Steven"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1628137714,"creation_date":1628137714,"answer_id":68660629,"question_id":68105980,"body_markdown":"I think your code are from codejava.net right? I also got the same issues and I fixed with update on the onAuthenticationSuccess function. I change the following code\r\n\r\n    CustomOAuth2User oauthUser = (CustomOAuth2User) authentication.getPrincipal();\r\n\r\n    userAuthService.processOAuthPostLogin(oauthUser.getEmail());\r\n\r\n \r\nwith this code\r\n\r\n    DefaultOidcUser oauthUser = (DefaultOidcUser) authentication.getPrincipal();\r\n    String email = oauthUser.getAttribute(&quot;email&quot;);\r\n    userDetailsService.processOAuthPostLogin(email);\r\n\r\n\r\nAnd it&#39;s working now :)","title":"DefaultOidcUser cannot be cast to class CustomOAuth2User","body":"<p>I think your code are from codejava.net right? I also got the same issues and I fixed with update on the onAuthenticationSuccess function. I change the following code</p>\n<pre><code>CustomOAuth2User oauthUser = (CustomOAuth2User) authentication.getPrincipal();\n\nuserAuthService.processOAuthPostLogin(oauthUser.getEmail());\n</code></pre>\n<p>with this code</p>\n<pre><code>DefaultOidcUser oauthUser = (DefaultOidcUser) authentication.getPrincipal();\nString email = oauthUser.getAttribute(&quot;email&quot;);\nuserDetailsService.processOAuthPostLogin(email);\n</code></pre>\n<p>And it's working now :)</p>\n"},{"tags":[],"owner":{"account_id":7253295,"reputation":663,"user_id":5532806,"accept_rate":75,"display_name":"Anurag"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632494771,"creation_date":1632494771,"answer_id":69316960,"question_id":68105980,"body_markdown":"You are getting this error because you have not defined the scopes explicitly in your app and by default scopes also include openId.\r\nIf you define your scopes in the `application.properties` like below you can cast the principal to `CustomOAuth2User` .\r\n\r\n```\r\nspring.security.oauth2.client.registration.google.scope=email,profile\r\n``` \r\n\r\nIf you wish to include openId in your scopes, then you need to cast your principal to `DefaultOidcUser` an you can create a `CustomOidcUserService` service like below\r\n\r\n```\r\n@Service\r\npublic class CustomOidcUserService extends OidcUserService {\r\n\r\n  @Autowired private UserRepository userRepository;\r\n  @Autowired private RoleRepository roleRepository;\r\n\r\n  @Override\r\n  public OidcUser loadUser(OidcUserRequest userRequest) throws OAuth2AuthenticationException {\r\n    final OidcUser oidcUser = super.loadUser(userRequest);\r\n    return oidcUser;\r\n}\r\n```\r\n\r\n","title":"DefaultOidcUser cannot be cast to class CustomOAuth2User","body":"<p>You are getting this error because you have not defined the scopes explicitly in your app and by default scopes also include openId.\nIf you define your scopes in the <code>application.properties</code> like below you can cast the principal to <code>CustomOAuth2User</code> .</p>\n<pre><code>spring.security.oauth2.client.registration.google.scope=email,profile\n</code></pre>\n<p>If you wish to include openId in your scopes, then you need to cast your principal to <code>DefaultOidcUser</code> an you can create a <code>CustomOidcUserService</code> service like below</p>\n<pre><code>@Service\npublic class CustomOidcUserService extends OidcUserService {\n\n  @Autowired private UserRepository userRepository;\n  @Autowired private RoleRepository roleRepository;\n\n  @Override\n  public OidcUser loadUser(OidcUserRequest userRequest) throws OAuth2AuthenticationException {\n    final OidcUser oidcUser = super.loadUser(userRequest);\n    return oidcUser;\n}\n</code></pre>\n"}],"owner":{"account_id":6607248,"reputation":165,"user_id":13270027,"display_name":"Abdelrahman Ragab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4144,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1632494771,"creation_date":1624475968,"question_id":68105980,"body_markdown":"I have the following success handler that is part of the WebSecurityConfig.java file:\r\n\r\n                .successHandler(new AuthenticationSuccessHandler() {\r\n\r\n                @Override\r\n                public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\r\n                                                    Authentication authentication) throws IOException, ServletException {\r\n\r\n                    CustomOAuth2User oauthUser = (CustomOAuth2User) authentication.getPrincipal();\r\n\r\n                    userAuthService.processOAuthPostLogin(oauthUser.getEmail());\r\n\r\n                    response.sendRedirect(&quot;/list&quot;);\r\n                }\r\n            })\r\n\r\nAt the line where casting is supposed to take place, it gives the error:\r\n\r\n&gt; java.lang.ClassCastException: class\r\n&gt; org.springframework.security.oauth2.core.oidc.user.DefaultOidcUser\r\n&gt; cannot be cast to class\r\n&gt; com.myapp.myapp.mvc.business.domain.user.CustomOAuth2User\r\n\r\n**How can I go about solving this?**\r\n\r\nThe CustomOAuth2User class is as follows:\r\n\r\n    public class CustomOAuth2User implements OAuth2User {\r\n    \r\n        private OAuth2User oauth2User;\r\n    \r\n        public CustomOAuth2User(OAuth2User oauth2User) {\r\n            this.oauth2User = oauth2User;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public Map&lt;String, Object&gt; getAttributes() {\r\n            return oauth2User.getAttributes();\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return oauth2User.getAuthorities();\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return oauth2User.getAttribute(&quot;name&quot;);\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return oauth2User.&lt;String&gt;getAttribute(&quot;email&quot;);\r\n        }\r\n    }","title":"DefaultOidcUser cannot be cast to class CustomOAuth2User","body":"<p>I have the following success handler that is part of the WebSecurityConfig.java file:</p>\n<pre><code>            .successHandler(new AuthenticationSuccessHandler() {\n\n            @Override\n            public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\n                                                Authentication authentication) throws IOException, ServletException {\n\n                CustomOAuth2User oauthUser = (CustomOAuth2User) authentication.getPrincipal();\n\n                userAuthService.processOAuthPostLogin(oauthUser.getEmail());\n\n                response.sendRedirect(&quot;/list&quot;);\n            }\n        })\n</code></pre>\n<p>At the line where casting is supposed to take place, it gives the error:</p>\n<blockquote>\n<p>java.lang.ClassCastException: class\norg.springframework.security.oauth2.core.oidc.user.DefaultOidcUser\ncannot be cast to class\ncom.myapp.myapp.mvc.business.domain.user.CustomOAuth2User</p>\n</blockquote>\n<p><strong>How can I go about solving this?</strong></p>\n<p>The CustomOAuth2User class is as follows:</p>\n<pre><code>public class CustomOAuth2User implements OAuth2User {\n\n    private OAuth2User oauth2User;\n\n    public CustomOAuth2User(OAuth2User oauth2User) {\n        this.oauth2User = oauth2User;\n    }\n\n\n    @Override\n    public Map&lt;String, Object&gt; getAttributes() {\n        return oauth2User.getAttributes();\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return oauth2User.getAuthorities();\n    }\n\n    @Override\n    public String getName() {\n        return oauth2User.getAttribute(&quot;name&quot;);\n    }\n\n    public String getEmail() {\n        return oauth2User.&lt;String&gt;getAttribute(&quot;email&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":18123582,"reputation":385,"user_id":13179300,"display_name":"Piotr M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603266571,"creation_date":1603266571,"answer_id":64458984,"question_id":64456577,"body_markdown":"WebDriver doesn&#39;t use an operating system input; it communicates directly with the browser via http protocol. If you want to simulate communication like a &#39;real&#39; mouse input you have to use an automation solution that uses operating system based frameworks. In case of Windows you can use e.g.:\r\n1) https://github.com/FlaUI/FlaUI (read https://github.com/FlaUI/FlaUI/wiki/FAQ to get the knowledge how to configure Chrome to expose web controls for FlaUI)\r\n2) https://github.com/microsoft/WinAppDriver","title":"Selenium WebDriver / Java - Simulate Human Like Cursor Movement","body":"<p>WebDriver doesn't use an operating system input; it communicates directly with the browser via http protocol. If you want to simulate communication like a 'real' mouse input you have to use an automation solution that uses operating system based frameworks. In case of Windows you can use e.g.:</p>\n<ol>\n<li><a href=\"https://github.com/FlaUI/FlaUI\" rel=\"nofollow noreferrer\">https://github.com/FlaUI/FlaUI</a> (read <a href=\"https://github.com/FlaUI/FlaUI/wiki/FAQ\" rel=\"nofollow noreferrer\">https://github.com/FlaUI/FlaUI/wiki/FAQ</a> to get the knowledge how to configure Chrome to expose web controls for FlaUI)</li>\n<li><a href=\"https://github.com/microsoft/WinAppDriver\" rel=\"nofollow noreferrer\">https://github.com/microsoft/WinAppDriver</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19018877,"reputation":340,"user_id":14104956,"display_name":"V-cash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632494759,"creation_date":1632494759,"answer_id":69316957,"question_id":64456577,"body_markdown":"I understand that this is not exactly what you asked, but in this case I recommend you to use the Facebook API instead of selenium.\r\n\r\nIt&#39;s more stable than your approach and without the risk of getting banned.\r\n\r\n    https://developers.facebook.com/docs/marketing-api/reference/v12.0","title":"Selenium WebDriver / Java - Simulate Human Like Cursor Movement","body":"<p>I understand that this is not exactly what you asked, but in this case I recommend you to use the Facebook API instead of selenium.</p>\n<p>It's more stable than your approach and without the risk of getting banned.</p>\n<pre><code>https://developers.facebook.com/docs/marketing-api/reference/v12.0\n</code></pre>\n"}],"owner":{"account_id":1140076,"reputation":3195,"user_id":1124242,"accept_rate":74,"display_name":"Jack Trowbridge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64458984,"answer_count":2,"score":1,"last_activity_date":1632494759,"creation_date":1603253617,"question_id":64456577,"body_markdown":"I want to automate a simple task inside Facebook Ads Manager. This task involves setting up a campaign and uploading some ads. It can take a human 30 minutes to do this. However, they&#39;re doing the same thing every single time. Often with mistakes. **It&#39;s something that should be automated. Done without human emotion or mistakes.**\r\n\r\nFacebook is very sensitive and I don&#39;t want it to ban me for the wrong reasons. So I need to feel human. I can take my time between clicks. However, the cursor movement itself needs to feel human. **I only need to simulate a real human click for ethical purposes.**\r\n\r\nSay I get an element I want to move my cursor towards:\r\n\r\n    WebDriver driver;    \r\n    \r\n    // Set file path of chrome driver\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chromedriver.exe&quot;);\r\n    \r\n    // Create object\r\n    ChromeDriver driver = new ChromeDriver(options);\r\n    \r\n    // Go to URL\r\n    driver.get(&quot;FACEBOOK URL&quot;);\r\n    \r\n    // Get element\r\n    driver.findElement(By.xpath(&quot;//span[contains(text(), &#39;Setup Campaign&#39;)]&quot;);\r\n\r\nWhat is the best way to move my cursor towards this element as a real human would?\r\n\r\n - A real human would first move the mouse. Not just click the element\r\n\r\n - They would move the mouse/cursor slowly. It could take up to say 500-1000 milliseconds. Certainly not instantly.\r\n\r\n - They would move the mouse/cursor in a curved fashion. Not just in a 100% straight line. Possibly, in a random fashion?  So some elements of randomness may be needed?\r\n\r\nI&#39;m quite new to Selenium, so any input would be greatly appreciated.\r\n\r\nI am writing my code in Java :) ","title":"Selenium WebDriver / Java - Simulate Human Like Cursor Movement","body":"<p>I want to automate a simple task inside Facebook Ads Manager. This task involves setting up a campaign and uploading some ads. It can take a human 30 minutes to do this. However, they're doing the same thing every single time. Often with mistakes. <strong>It's something that should be automated. Done without human emotion or mistakes.</strong></p>\n<p>Facebook is very sensitive and I don't want it to ban me for the wrong reasons. So I need to feel human. I can take my time between clicks. However, the cursor movement itself needs to feel human. <strong>I only need to simulate a real human click for ethical purposes.</strong></p>\n<p>Say I get an element I want to move my cursor towards:</p>\n<pre><code>WebDriver driver;    \n\n// Set file path of chrome driver\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\chromedriver.exe&quot;);\n\n// Create object\nChromeDriver driver = new ChromeDriver(options);\n\n// Go to URL\ndriver.get(&quot;FACEBOOK URL&quot;);\n\n// Get element\ndriver.findElement(By.xpath(&quot;//span[contains(text(), 'Setup Campaign')]&quot;);\n</code></pre>\n<p>What is the best way to move my cursor towards this element as a real human would?</p>\n<ul>\n<li><p>A real human would first move the mouse. Not just click the element</p>\n</li>\n<li><p>They would move the mouse/cursor slowly. It could take up to say 500-1000 milliseconds. Certainly not instantly.</p>\n</li>\n<li><p>They would move the mouse/cursor in a curved fashion. Not just in a 100% straight line. Possibly, in a random fashion?  So some elements of randomness may be needed?</p>\n</li>\n</ul>\n<p>I'm quite new to Selenium, so any input would be greatly appreciated.</p>\n<p>I am writing my code in Java :)</p>\n"},{"tags":["java","android","firebase","wonderpush"],"answers":[{"tags":[],"owner":{"account_id":239321,"reputation":4528,"user_id":508831,"display_name":"ofavre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1614077220,"creation_date":1614077220,"answer_id":66331648,"question_id":66321455,"body_markdown":"It is normal that `remoteMessage.getNotification()` returns `null` as WonderPush only uses FCM notifications with data inside them, nothing in the Firebase&#39;s own format.\r\n\r\n`remoteMessage.getData()` returns you with a map that can only store String values. This corresponds to the top-level JSON payload. This map&#39;s fields are the top-level JSON object fields, and its values are all stringified.\r\nSo you&#39;ll have to parse the `_wp` key using `new JSONObject(remoteMessage.getData().get(&quot;_wp&quot;))`.\r\nYou&#39;ll basically read the `title` and `text` fields of this parsed `_wp` JSON object to feed `.setContentTitle()` and `.setContentText()` of the `NotificationCompat.Builder`.\r\n\r\nBut you should note that the WonderPush Android SDK is precisely here for that purpose:\r\n* Here is the code that parses the notification&#39;s `_wp.alert` field: https://github.com/wonderpush/wonderpush-android-sdk/blob/v4.0.2/sdk/src/main/java/com/wonderpush/sdk/AlertModel.java\r\n* Here is the code that builds the notification: https://github.com/wonderpush/wonderpush-android-sdk/blob/v4.0.2/sdk/src/main/java/com/wonderpush/sdk/NotificationManager.java#L448-L775\r\n\r\nIf you have an addition, it would make more sense to fork, hack, submit a pull request, and use your fork in the meanwhile.\r\n\r\nBest,","title":"Firebase onMessageReceived() returns no getNotification","body":"<p>It is normal that <code>remoteMessage.getNotification()</code> returns <code>null</code> as WonderPush only uses FCM notifications with data inside them, nothing in the Firebase's own format.</p>\n<p><code>remoteMessage.getData()</code> returns you with a map that can only store String values. This corresponds to the top-level JSON payload. This map's fields are the top-level JSON object fields, and its values are all stringified.\nSo you'll have to parse the <code>_wp</code> key using <code>new JSONObject(remoteMessage.getData().get(&quot;_wp&quot;))</code>.\nYou'll basically read the <code>title</code> and <code>text</code> fields of this parsed <code>_wp</code> JSON object to feed <code>.setContentTitle()</code> and <code>.setContentText()</code> of the <code>NotificationCompat.Builder</code>.</p>\n<p>But you should note that the WonderPush Android SDK is precisely here for that purpose:</p>\n<ul>\n<li>Here is the code that parses the notification's <code>_wp.alert</code> field: <a href=\"https://github.com/wonderpush/wonderpush-android-sdk/blob/v4.0.2/sdk/src/main/java/com/wonderpush/sdk/AlertModel.java\" rel=\"nofollow noreferrer\">https://github.com/wonderpush/wonderpush-android-sdk/blob/v4.0.2/sdk/src/main/java/com/wonderpush/sdk/AlertModel.java</a></li>\n<li>Here is the code that builds the notification: <a href=\"https://github.com/wonderpush/wonderpush-android-sdk/blob/v4.0.2/sdk/src/main/java/com/wonderpush/sdk/NotificationManager.java#L448-L775\" rel=\"nofollow noreferrer\">https://github.com/wonderpush/wonderpush-android-sdk/blob/v4.0.2/sdk/src/main/java/com/wonderpush/sdk/NotificationManager.java#L448-L775</a></li>\n</ul>\n<p>If you have an addition, it would make more sense to fork, hack, submit a pull request, and use your fork in the meanwhile.</p>\n<p>Best,</p>\n"}],"owner":{"account_id":6655259,"reputation":115,"user_id":5136049,"accept_rate":100,"display_name":"pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66331648,"answer_count":1,"score":0,"last_activity_date":1632494436,"creation_date":1614018821,"question_id":66321455,"body_markdown":"Calling `remoteMessage.getNotification()` returns `null` and \r\nwhen calling `remoteMessage.getData()` I get a strange object back that has an initial property `_wp={` as listed below. I need to extract the alert property each time but I am not sure how. \r\n\r\n```java\r\npublic void onMessageReceived(RemoteMessage remoteMessage) {\r\n    super.onMessageReceived(remoteMessage);\r\n    \r\n    RemoteMessage.Notification notification = remoteMessage.getNotification();\r\n    Map&lt;String, String&gt; data = remoteMessage.getData();\r\n\r\n    Log.d(&quot;DATA&quot;, remoteMessage.getData().toString());\r\n    sendNotification(data);\r\n}\r\n```\r\n\r\nThe remote data log returns the below. So I can&#39;t seem get the title and text I need to in order to construct my notification. \r\n\r\n```\r\n{_wp={&quot;c&quot;:&quot;01euntvtna3epk83&quot;,&quot;alert&quot;:{&quot;text&quot;:&quot;Body text&quot;,&quot;title&quot;:&quot;test&quot;},&quot;receipt&quot;:false,&quot;type&quot;:&quot;simple&quot;,&quot;targetUrl&quot;:&quot;wonderpush:\\/\\/notificationOpen\\/default&quot;,&quot;n&quot;:&quot;01eunu08bjla8303&quot;,&quot;reporting&quot;:{&quot;campaignId&quot;:&quot;01euntvtna3epk83&quot;,&quot;notificationId&quot;:&quot;01eunu08bjla8303&quot;},&quot;receiptUsingMeasurements&quot;:true}, alert=Body text}\r\n```\r\n\r\nI basically want to use them with when using the `NotificationCompat.Builder`\r\n\r\n```java\r\n.setContentTitle(title)\r\n.setContentText(text)\r\n```\r\n\r\nAny help will be greatly appreciated.","title":"Firebase onMessageReceived() returns no getNotification","body":"<p>Calling <code>remoteMessage.getNotification()</code> returns <code>null</code> and\nwhen calling <code>remoteMessage.getData()</code> I get a strange object back that has an initial property <code>_wp={</code> as listed below. I need to extract the alert property each time but I am not sure how.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onMessageReceived(RemoteMessage remoteMessage) {\n    super.onMessageReceived(remoteMessage);\n    \n    RemoteMessage.Notification notification = remoteMessage.getNotification();\n    Map&lt;String, String&gt; data = remoteMessage.getData();\n\n    Log.d(&quot;DATA&quot;, remoteMessage.getData().toString());\n    sendNotification(data);\n}\n</code></pre>\n<p>The remote data log returns the below. So I can't seem get the title and text I need to in order to construct my notification.</p>\n<pre><code>{_wp={&quot;c&quot;:&quot;01euntvtna3epk83&quot;,&quot;alert&quot;:{&quot;text&quot;:&quot;Body text&quot;,&quot;title&quot;:&quot;test&quot;},&quot;receipt&quot;:false,&quot;type&quot;:&quot;simple&quot;,&quot;targetUrl&quot;:&quot;wonderpush:\\/\\/notificationOpen\\/default&quot;,&quot;n&quot;:&quot;01eunu08bjla8303&quot;,&quot;reporting&quot;:{&quot;campaignId&quot;:&quot;01euntvtna3epk83&quot;,&quot;notificationId&quot;:&quot;01eunu08bjla8303&quot;},&quot;receiptUsingMeasurements&quot;:true}, alert=Body text}\n</code></pre>\n<p>I basically want to use them with when using the <code>NotificationCompat.Builder</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>.setContentTitle(title)\n.setContentText(text)\n</code></pre>\n<p>Any help will be greatly appreciated.</p>\n"},{"tags":["java","android","listview","checkbox"],"comments":[{"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"score":0,"creation_date":1632418641,"post_id":69304358,"comment_id":122493594,"body_markdown":"If you want the checkboxes to go inside your ListView you need to create a custom layout for your list view items. You can check https://stackoverflow.com/questions/19615766/android-custom-layout-for-listview","body":"If you want the checkboxes to go inside your ListView you need to create a custom layout for your list view items. You can check <a href=\"https://stackoverflow.com/questions/19615766/android-custom-layout-for-listview\" title=\"android custom layout for listview\">stackoverflow.com/questions/19615766/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14519969,"reputation":43,"user_id":10487897,"display_name":"Patrick Dalington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632421258,"creation_date":1632421258,"answer_id":69305119,"question_id":69304358,"body_markdown":"Try creating a **custom layout** that will contain all the necessary views and pass the layout in the **onCreateView** of you adapter class with a **layout inflater**.","title":"Dynamically add checkboxes to a listview","body":"<p>Try creating a <strong>custom layout</strong> that will contain all the necessary views and pass the layout in the <strong>onCreateView</strong> of you adapter class with a <strong>layout inflater</strong>.</p>\n"}],"owner":{"account_id":19651912,"reputation":43,"user_id":14385491,"display_name":"levi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632494154,"creation_date":1632417329,"question_id":69304358,"body_markdown":"I am trying to make an app that takes the number of sets, and number of reps for each set from the user, and adds rows ( for each set) and checkboxes (for each rep) \r\n[![that is what is should look like:][1]][1]\r\n\r\n\r\n*for the reps:* i made a method that takes the number of reps from the SQLite server, and loops through the number of reps to make the checkboxes. \r\n\r\n*for the sets:* i made list adapter to make each row.\r\n\r\n \r\n[![the final results for 2 sets, and 2 reps each look like this:][2]][2]\r\n[![enter image description here][2]][2]\r\n\r\nhow can i make the reps be contained inside the rows?  thanks.\r\n\r\n\r\nrecyclerview adaptor:\r\n\r\n&#39;&#39;&#39;\r\n    package com.example.workouttracker;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.CheckBox;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class WorkoutInterfacesAdapter extends RecyclerView.Adapter&lt;WorkoutInterfacesAdapter.WorkoutInterfaceViewHolder&gt; {\r\n    \r\n        Context mContext;\r\n        private ArrayList&lt;WorkoutInterfaceClass&gt; sets;\r\n        private LinearLayout linearLayout;\r\n    \r\n        public WorkoutInterfacesAdapter(Context mContext , ArrayList&lt;WorkoutInterfaceClass&gt; sets) {\r\n    \r\n            this.sets = sets;\r\n            this.mContext = mContext;\r\n        }\r\n    \r\n    \r\n        @NonNull\r\n        @Override\r\n        public WorkoutInterfaceViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.workout_interface_item,parent,false);\r\n            return new WorkoutInterfacesAdapter.WorkoutInterfaceViewHolder(view);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull  WorkoutInterfacesAdapter.WorkoutInterfaceViewHolder holder, int position) {\r\n            holder.bind(sets.get(position));\r\n            //new code:\r\n    \r\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(mContext,&quot;Set number: &quot; + sets.get(position).numberOfSets + &quot; ,Rep Number: &quot;+sets.get(position).numberOfReps,Toast.LENGTH_LONG).show();\r\n                    Intent intent = new Intent(mContext,WorkoutInterface.class);\r\n                    intent.putExtra(&quot;workout_sets&quot;,sets.get(position).numberOfSets);\r\n                    intent.putExtra(&quot;workout_reps&quot;,sets.get(position).numberOfReps);\r\n                    mContext.startActivity(intent);\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return sets.size();\r\n        }\r\n        static class WorkoutInterfaceViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            TextView numberOfSets;\r\n            int numberOfReps;\r\n            CheckBox checkBox;\r\n            LinearLayout linearLayout;\r\n    \r\n    \r\n    \r\n            public WorkoutInterfaceViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                 numberOfSets =itemView.findViewById(R.id.edit_text_number_of_sets_item);\r\n                 checkBox=itemView.findViewById(R.id.checkbox_number_of_reps_item);\r\n                 linearLayout=itemView.findViewById(R.id.ll_checkbox_mother);\r\n            }\r\n    \r\n            public void bind(WorkoutInterfaceClass sets) {\r\n                // \r\n               numberOfSets.setText(&quot;Set number:&quot; + sets.numberOfSets); ;\r\n                linearLayout.setOrientation(LinearLayout.HORIZONTAL);\r\n                numberOfReps=sets.numberOfReps;\r\n                for (int i = 1; i &lt;= numberOfReps; i++) {\r\n                    CheckBox checkBox = new CheckBox(linearLayout.getContext());\r\n                    checkBox.setId(View.generateViewId());\r\n                    checkBox.setText(&quot;Rep: &quot;+checkBox.getId());\r\n                    checkBox.setOnClickListener((View.OnClickListener) linearLayout.getContext());\r\n                    System.out.println(&quot;Total Number Of Sets:&quot;+numberOfReps + &quot;And the index is : &quot;+ i );\r\n    \r\n                \r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    }}\r\n\r\n&#39;&#39;&#39;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mHapD.png\r\n  [2]: https://i.stack.imgur.com/s8gTK.png\r\n","title":"Dynamically add checkboxes to a listview","body":"<p>I am trying to make an app that takes the number of sets, and number of reps for each set from the user, and adds rows ( for each set) and checkboxes (for each rep)\n<a href=\"https://i.stack.imgur.com/mHapD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mHapD.png\" alt=\"that is what is should look like:\" /></a></p>\n<p><em>for the reps:</em> i made a method that takes the number of reps from the SQLite server, and loops through the number of reps to make the checkboxes.</p>\n<p><em>for the sets:</em> i made list adapter to make each row.</p>\n<p><a href=\"https://i.stack.imgur.com/s8gTK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s8gTK.png\" alt=\"the final results for 2 sets, and 2 reps each look like this:\" /></a>\n<a href=\"https://i.stack.imgur.com/s8gTK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s8gTK.png\" alt=\"enter image description here\" /></a></p>\n<p>how can i make the reps be contained inside the rows?  thanks.</p>\n<p>recyclerview adaptor:</p>\n<p>'''\npackage com.example.workouttracker;</p>\n<pre><code>import android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.CheckBox;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class WorkoutInterfacesAdapter extends RecyclerView.Adapter&lt;WorkoutInterfacesAdapter.WorkoutInterfaceViewHolder&gt; {\n\n    Context mContext;\n    private ArrayList&lt;WorkoutInterfaceClass&gt; sets;\n    private LinearLayout linearLayout;\n\n    public WorkoutInterfacesAdapter(Context mContext , ArrayList&lt;WorkoutInterfaceClass&gt; sets) {\n\n        this.sets = sets;\n        this.mContext = mContext;\n    }\n\n\n    @NonNull\n    @Override\n    public WorkoutInterfaceViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.workout_interface_item,parent,false);\n        return new WorkoutInterfacesAdapter.WorkoutInterfaceViewHolder(view);\n\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull  WorkoutInterfacesAdapter.WorkoutInterfaceViewHolder holder, int position) {\n        holder.bind(sets.get(position));\n        //new code:\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(mContext,&quot;Set number: &quot; + sets.get(position).numberOfSets + &quot; ,Rep Number: &quot;+sets.get(position).numberOfReps,Toast.LENGTH_LONG).show();\n                Intent intent = new Intent(mContext,WorkoutInterface.class);\n                intent.putExtra(&quot;workout_sets&quot;,sets.get(position).numberOfSets);\n                intent.putExtra(&quot;workout_reps&quot;,sets.get(position).numberOfReps);\n                mContext.startActivity(intent);\n\n            }\n        });\n\n\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return sets.size();\n    }\n    static class WorkoutInterfaceViewHolder extends RecyclerView.ViewHolder{\n\n        TextView numberOfSets;\n        int numberOfReps;\n        CheckBox checkBox;\n        LinearLayout linearLayout;\n\n\n\n        public WorkoutInterfaceViewHolder(@NonNull View itemView) {\n            super(itemView);\n             numberOfSets =itemView.findViewById(R.id.edit_text_number_of_sets_item);\n             checkBox=itemView.findViewById(R.id.checkbox_number_of_reps_item);\n             linearLayout=itemView.findViewById(R.id.ll_checkbox_mother);\n        }\n\n        public void bind(WorkoutInterfaceClass sets) {\n            // \n           numberOfSets.setText(&quot;Set number:&quot; + sets.numberOfSets); ;\n            linearLayout.setOrientation(LinearLayout.HORIZONTAL);\n            numberOfReps=sets.numberOfReps;\n            for (int i = 1; i &lt;= numberOfReps; i++) {\n                CheckBox checkBox = new CheckBox(linearLayout.getContext());\n                checkBox.setId(View.generateViewId());\n                checkBox.setText(&quot;Rep: &quot;+checkBox.getId());\n                checkBox.setOnClickListener((View.OnClickListener) linearLayout.getContext());\n                System.out.println(&quot;Total Number Of Sets:&quot;+numberOfReps + &quot;And the index is : &quot;+ i );\n\n            \n        }\n    }\n\n\n\n}}\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","spring","mongodb","web-services","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632419359,"creation_date":1632419359,"answer_id":69304752,"question_id":69304566,"body_markdown":"What&#39;s the IP address of your Docker host machine? \r\n\r\nYour app tries to connect to Mongo using *localhost*. Depending on what Docker installation you are using (taking the problem into account I assume Docker Toolbox), *localhost* won&#39;t work. You might try the IP address of Docker host instead of *localhost*. Most of the times, the IP is *192.168.99.100* but could be something else as well. \r\n\r\nYou can find the address by executing *docker-machine ip* using Docker command line.","title":"Dockerize spring boot mongo","body":"<p>What's the IP address of your Docker host machine?</p>\n<p>Your app tries to connect to Mongo using <em>localhost</em>. Depending on what Docker installation you are using (taking the problem into account I assume Docker Toolbox), <em>localhost</em> won't work. You might try the IP address of Docker host instead of <em>localhost</em>. Most of the times, the IP is <em>192.168.99.100</em> but could be something else as well.</p>\n<p>You can find the address by executing <em>docker-machine ip</em> using Docker command line.</p>\n"},{"tags":[],"owner":{"account_id":1939876,"reputation":111,"user_id":1746308,"display_name":"bipe15"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632420203,"creation_date":1632419811,"answer_id":69304846,"question_id":69304566,"body_markdown":"The problem begins with your *connectionString* to mongoDb and the architecture of containers\r\n\r\nYou are trying to connect to localhost:27017 from the java container. In the java container, Mongo is not running. Instead is running in another container. You have to change your connection string to point to ***my-mongodb-container:27017***\r\n\r\nI&#39;ll recommend using docker networks instead of --link since it is deprecated\r\nhttps://docs.docker.com/network/links/\r\n\r\n\r\nI&#39;ll give you a quick example\r\n\r\n```\r\ndocker network create -d brigde app-network\r\ndocker run -p27017:27017 --name my-mongodb-container -d mongo:latest\r\ndocker network connect app-network my-mongodb-container\r\ndocker run -p 4444:8080 --name mydoctest doc40\r\ndocker network connect app-network mydoctest\r\n\r\n```\r\n\r\n(I have not tested it, let me know if there is any mistake)\r\n\r\nDepends on the Mongo driver you are using to you have to set 2 different variables to change your connection string as stated in https://stackoverflow.com/questions/23515295/spring-boot-and-how-to-configure-connection-details-to-mongodb\r\n\r\nspring.data.mongodb.uri=mongodb://user:secret@mongo1.example.com:12345  \r\nspring.data.mongodb.host=127.0.0.1\r\n\r\nSo you can create the container respectively using \r\n```\r\ndocker run -p 4444:8080 --name mydoctest -e SPRING_DATA_MONGODB_URI=mongodb://my-mongodb-container:27017 doc40\r\nor\r\ndocker run -p 4444:8080 --name mydoctest -e SPRING_DATA_MONGODB_HOST=my-mongodb-container doc40\r\n```","title":"Dockerize spring boot mongo","body":"<p>The problem begins with your <em>connectionString</em> to mongoDb and the architecture of containers</p>\n<p>You are trying to connect to localhost:27017 from the java container. In the java container, Mongo is not running. Instead is running in another container. You have to change your connection string to point to <em><strong>my-mongodb-container:27017</strong></em></p>\n<p>I'll recommend using docker networks instead of --link since it is deprecated\n<a href=\"https://docs.docker.com/network/links/\" rel=\"nofollow noreferrer\">https://docs.docker.com/network/links/</a></p>\n<p>I'll give you a quick example</p>\n<pre><code>docker network create -d brigde app-network\ndocker run -p27017:27017 --name my-mongodb-container -d mongo:latest\ndocker network connect app-network my-mongodb-container\ndocker run -p 4444:8080 --name mydoctest doc40\ndocker network connect app-network mydoctest\n\n</code></pre>\n<p>(I have not tested it, let me know if there is any mistake)</p>\n<p>Depends on the Mongo driver you are using to you have to set 2 different variables to change your connection string as stated in <a href=\"https://stackoverflow.com/questions/23515295/spring-boot-and-how-to-configure-connection-details-to-mongodb\">Spring Boot and how to configure connection details to MongoDB?</a></p>\n<p>spring.data.mongodb.uri=mongodb://user:secret@mongo1.example.com:12345<br />\nspring.data.mongodb.host=127.0.0.1</p>\n<p>So you can create the container respectively using</p>\n<pre><code>docker run -p 4444:8080 --name mydoctest -e SPRING_DATA_MONGODB_URI=mongodb://my-mongodb-container:27017 doc40\nor\ndocker run -p 4444:8080 --name mydoctest -e SPRING_DATA_MONGODB_HOST=my-mongodb-container doc40\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19194547,"reputation":65,"user_id":14951366,"display_name":"Just Praveen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632494102,"creation_date":1632494102,"answer_id":69316808,"question_id":69304566,"body_markdown":"Finally got it to work.\r\n\r\nThe only change I did was to connect the instance to preferred n/w on startup.\r\n\r\n    docker run -p27017:27017 --name my-mongodb-container --network=app-network -d mongo:latest\r\n    \r\n    docker run -p 4444:8080 --name mydoctest --network=app-network -e SPRING_DATA_MONGODB_URI=mongodb://my-mongodb-container:27017/test doc40\r\n\r\n\r\nI was trying to run the container and then add it to a n/w.\r\n","title":"Dockerize spring boot mongo","body":"<p>Finally got it to work.</p>\n<p>The only change I did was to connect the instance to preferred n/w on startup.</p>\n<pre><code>docker run -p27017:27017 --name my-mongodb-container --network=app-network -d mongo:latest\n\ndocker run -p 4444:8080 --name mydoctest --network=app-network -e SPRING_DATA_MONGODB_URI=mongodb://my-mongodb-container:27017/test doc40\n</code></pre>\n<p>I was trying to run the container and then add it to a n/w.</p>\n"}],"owner":{"account_id":19194547,"reputation":65,"user_id":14951366,"display_name":"Just Praveen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69316808,"answer_count":3,"score":0,"last_activity_date":1632494102,"creation_date":1632418358,"question_id":69304566,"body_markdown":"I am trying to dockerize a spring boot web app with mongodb backend. \r\nI run mongo and map it to host with following command:\r\n\r\n    docker run -p27017:27017 --name my-mongodb-container -d mongo:latest\r\n\r\nI have built a jar with spring boot code and am able to run it successfully. It inserts and prints some data.\r\nNow I dockerize this jar with the following Dockerfile\r\n\r\n    FROM adoptopenjdk/openjdk11\r\n    EXPOSE 8080\r\n    COPY target/*.jar app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\nI run the docker container as:\r\n\r\n    docker run -p 4444:8080 --name mydoctest --link my-mongodb-container doc40\r\n\r\nThe instance comes up, tries to connect to mongo an fails. But the app get loaded as I have another url that functions properly. However, it just returns hard coded data.\r\n\r\nThe error that i see in the console \r\n\r\n\r\n    2021-09-23 17:13:02.725  INFO 1 --- [           main] org.mongodb.driver.cluster               : Cluster created with settings {\r\n    hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout=&#39;30000 ms&#39;}\r\n    2021-09-23 17:13:02.824  INFO 1 --- [localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread whi\r\n    le connecting to server localhost:27017\r\n    \r\n    com.mongodb.MongoSocketOpenException: Exception opening socket\r\n            at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.2.3.jar!/:na]\r\n            at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:143) ~[mongodb-driver-cor\r\n    e-4.2.3.jar!/:na]\r\n\r\n\r\n\r\nAny inputs are much appriciated\r\n","title":"Dockerize spring boot mongo","body":"<p>I am trying to dockerize a spring boot web app with mongodb backend.\nI run mongo and map it to host with following command:</p>\n<pre><code>docker run -p27017:27017 --name my-mongodb-container -d mongo:latest\n</code></pre>\n<p>I have built a jar with spring boot code and am able to run it successfully. It inserts and prints some data.\nNow I dockerize this jar with the following Dockerfile</p>\n<pre><code>FROM adoptopenjdk/openjdk11\nEXPOSE 8080\nCOPY target/*.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>I run the docker container as:</p>\n<pre><code>docker run -p 4444:8080 --name mydoctest --link my-mongodb-container doc40\n</code></pre>\n<p>The instance comes up, tries to connect to mongo an fails. But the app get loaded as I have another url that functions properly. However, it just returns hard coded data.</p>\n<p>The error that i see in the console</p>\n<pre><code>2021-09-23 17:13:02.725  INFO 1 --- [           main] org.mongodb.driver.cluster               : Cluster created with settings {\nhosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}\n2021-09-23 17:13:02.824  INFO 1 --- [localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread whi\nle connecting to server localhost:27017\n\ncom.mongodb.MongoSocketOpenException: Exception opening socket\n        at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.2.3.jar!/:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:143) ~[mongodb-driver-cor\ne-4.2.3.jar!/:na]\n</code></pre>\n<p>Any inputs are much appriciated</p>\n"},{"tags":["java","jsf","primefaces"],"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632493757,"creation_date":1632493757,"question_id":69316717,"body_markdown":"I need to conditionally make the rowToggler in my datatable disabled. I have a column like this:\r\n\r\n    &lt;p:column id=&quot;checkoutRowToggler&quot;&gt;\r\n\t\t\t\t&lt;div&gt;\r\n\t\t\t\t\t&lt;p:rowToggler/&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t&lt;/p:column&gt;\r\n\r\nI want to disable rowExpansion when FacesContext.isValidationFailed() returns true. Is there a way? \r\n\r\nUsing Primefaces 6/JSF.","title":"How to disable rowToggler conditionally in Primefaces/JSF","body":"<p>I need to conditionally make the rowToggler in my datatable disabled. I have a column like this:</p>\n<pre><code>&lt;p:column id=&quot;checkoutRowToggler&quot;&gt;\n            &lt;div&gt;\n                &lt;p:rowToggler/&gt;\n            &lt;/div&gt;\n&lt;/p:column&gt;\n</code></pre>\n<p>I want to disable rowExpansion when FacesContext.isValidationFailed() returns true. Is there a way?</p>\n<p>Using Primefaces 6/JSF.</p>\n"},{"tags":["java","character-encoding","websphere","ibmhttpserver"],"answers":[{"tags":[],"owner":{"account_id":34986,"reputation":17510,"user_id":98959,"display_name":"covener"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522428179,"creation_date":1522428179,"answer_id":49578120,"question_id":49576012,"body_markdown":"You can just append `AddDefaultCharset utf-8` to httpd.conf and everything will go out with that charset appended to it, even content generated by the application server.  htaccess is not necessary and not useful for appserver content.\r\n\r\nIf you find you need to blacklist context roots, extensions,\r\nor anything else, sue `&lt;LocationMatch&gt;` with `AddDefaultCharset off`.\r\n\r\nUnfortunately `Header edit Content-Type...` will not work in IBM HTTP Server prior to V9.  In V9 this allows you to easily cherry pick the current Content-Type:\r\n\r\n```\r\nHeader always edit Content-Type ^(text/html)$ &quot;$1 ; charset=utf8&quot;\r\nHeader always edit Content-Type ^(application/javascript)$ &quot;$1 ; charset=utf8&quot;\r\n```","title":"How do I set the charset portion of the Content-Type HTTP Header on an IBM HTTPD Server?","body":"<p>You can just append <code>AddDefaultCharset utf-8</code> to httpd.conf and everything will go out with that charset appended to it, even content generated by the application server.  htaccess is not necessary and not useful for appserver content.</p>\n\n<p>If you find you need to blacklist context roots, extensions,\nor anything else, sue <code>&lt;LocationMatch&gt;</code> with <code>AddDefaultCharset off</code>.</p>\n\n<p>Unfortunately <code>Header edit Content-Type...</code> will not work in IBM HTTP Server prior to V9.  In V9 this allows you to easily cherry pick the current Content-Type:</p>\n\n<p><code>\nHeader always edit Content-Type ^(text/html)$ \"$1 ; charset=utf8\"\nHeader always edit Content-Type ^(application/javascript)$ \"$1 ; charset=utf8\"\n</code></p>\n"},{"tags":[],"owner":{"account_id":16718325,"reputation":521,"user_id":12083845,"display_name":"BWappsAndmore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632493341,"creation_date":1631525329,"answer_id":69160355,"question_id":49576012,"body_markdown":"Just as same as [covener][1] described:\r\n\r\nAdd the following lines into the `conf/httpd.conf` file:\r\n```\r\nAddDefaultCharset utf-8\r\nAddCharset utf-8 .html .js .css\r\n&lt;Location /&gt;\r\n   Header always edit Content-Type ^(text/html)$ &quot;$1; charset=utf8&quot;\r\n   Header always edit Content-Type ^(application/javascript)$ &quot;$1; charset=utf8&quot;\r\n   RewriteRule ^(.*)$ $1 [R=200,L]\r\n&lt;/Location&gt;\r\n```\r\n\r\nand it should work. \r\n\r\n  [1]: https://stackoverflow.com/a/49578120/12083845","title":"How do I set the charset portion of the Content-Type HTTP Header on an IBM HTTPD Server?","body":"<p>Just as same as <a href=\"https://stackoverflow.com/a/49578120/12083845\">covener</a> described:</p>\n<p>Add the following lines into the <code>conf/httpd.conf</code> file:</p>\n<pre><code>AddDefaultCharset utf-8\nAddCharset utf-8 .html .js .css\n&lt;Location /&gt;\n   Header always edit Content-Type ^(text/html)$ &quot;$1; charset=utf8&quot;\n   Header always edit Content-Type ^(application/javascript)$ &quot;$1; charset=utf8&quot;\n   RewriteRule ^(.*)$ $1 [R=200,L]\n&lt;/Location&gt;\n</code></pre>\n<p>and it should work.</p>\n"}],"owner":{"account_id":3295900,"reputation":557,"user_id":2773169,"accept_rate":100,"display_name":"Patrick O&#39;Hara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1012,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632493341,"creation_date":1522419073,"question_id":49576012,"body_markdown":"I have an application which is a set of Java Web Services and some static content (HTML, XML, JavaScript, etc.). I know that JavaScript has a limited character encoding that is possible, but HTML and XML can use various character encodings. I happen to know that all of these files are UTF-8 encoded. The WebSphere application server that I am using properly sets the Content-Type to &#39;text/html; charset=utf-8&#39; for the HTML, but not for JavaScript or XML. They get the Content-Type header set to &#39;application/javascript&#39; and &#39;text/xml&#39; respectively. My security folks are telling me that ot specifying the charset for the XML files is a vulnerability. Remember these are static files. \r\n\r\nOn an IBM HTTPD web server (in front of the WebSphere application server) is there a directive that I can use to add the character encoding to the content type of &#39;text&#39; types? On WebSphere is there a directive I can use to set the default character encoding for text types? I assume that after I &quot;fix&quot; this for the XML files that I will then be asked to fix it for CSS files, JavaScript files, etc. I would rather fix it once and be done. \r\n\r\nIf this question has been asked before, please provide the URL. I did find [this][1] question, but it is not the same. I am looking into the feasibility of [this][2] answer, but there are many folders and I would rather not have to remember to add a .htaccess file with this directive to each one.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25662426/websphere-set-content-type-charset-of-external-resource\r\n  [2]: https://stackoverflow.com/questions/7963390/how-to-specify-the-character-set-in-the-http-content-type-response-header","title":"How do I set the charset portion of the Content-Type HTTP Header on an IBM HTTPD Server?","body":"<p>I have an application which is a set of Java Web Services and some static content (HTML, XML, JavaScript, etc.). I know that JavaScript has a limited character encoding that is possible, but HTML and XML can use various character encodings. I happen to know that all of these files are UTF-8 encoded. The WebSphere application server that I am using properly sets the Content-Type to 'text/html; charset=utf-8' for the HTML, but not for JavaScript or XML. They get the Content-Type header set to 'application/javascript' and 'text/xml' respectively. My security folks are telling me that ot specifying the charset for the XML files is a vulnerability. Remember these are static files. </p>\n\n<p>On an IBM HTTPD web server (in front of the WebSphere application server) is there a directive that I can use to add the character encoding to the content type of 'text' types? On WebSphere is there a directive I can use to set the default character encoding for text types? I assume that after I \"fix\" this for the XML files that I will then be asked to fix it for CSS files, JavaScript files, etc. I would rather fix it once and be done. </p>\n\n<p>If this question has been asked before, please provide the URL. I did find <a href=\"https://stackoverflow.com/questions/25662426/websphere-set-content-type-charset-of-external-resource\">this</a> question, but it is not the same. I am looking into the feasibility of <a href=\"https://stackoverflow.com/questions/7963390/how-to-specify-the-character-set-in-the-http-content-type-response-header\">this</a> answer, but there are many folders and I would rather not have to remember to add a .htaccess file with this directive to each one.</p>\n"},{"tags":["java","algorithm","time","binary-tree","big-o"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632493226,"creation_date":1632366694,"answer_id":69293580,"question_id":69293562,"body_markdown":"You are traversing both branches of every node, and there is only one path to each node, so you will visit each node exactly once, which itself is O(n).\r\n\r\nThe operation of traversing from one node to another is constant time.\r\n\r\nOverall, you have O(n) operations each costing O(1), so your algorithm is O(n).","title":"Proving time complexity for recursive function","body":"<p>You are traversing both branches of every node, and there is only one path to each node, so you will visit each node exactly once, which itself is O(n).</p>\n<p>The operation of traversing from one node to another is constant time.</p>\n<p>Overall, you have O(n) operations each costing O(1), so your algorithm is O(n).</p>\n"},{"tags":[],"owner":{"account_id":18650702,"reputation":62,"user_id":16048565,"display_name":"pavel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1632380736,"creation_date":1632380736,"answer_id":69295361,"question_id":69293562,"body_markdown":"Let&#39;s assume that we visited any of the vertices 2 times. This means that there is an edge from the current vertex to the vertex that we have already visited, that is, we have found a cycle in the tree-a contradiction. So, we visit each vertex only once, hence the complexity of the algorithm is O (n).","title":"Proving time complexity for recursive function","body":"<p>Let's assume that we visited any of the vertices 2 times. This means that there is an edge from the current vertex to the vertex that we have already visited, that is, we have found a cycle in the tree-a contradiction. So, we visit each vertex only once, hence the complexity of the algorithm is O (n).</p>\n"}],"owner":{"account_id":14374213,"reputation":11,"user_id":10383068,"display_name":"DexMax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1632493226,"creation_date":1632366577,"question_id":69293562,"body_markdown":"How would I prove that the time complexity of this algorithm that finds the depth of a binary tree is O(N) where N is the number of nodes? I understand the reasoning why this is true, since the algorithm checks each node once, but I&#39;m not sure how I would mathematically prove this. Thanks!\r\n\r\n```\r\nprivate static int depth(TreeNode node){\r\n    if(node == null){\r\n        return 0;\r\n    }\r\n\r\n    int leftDepth = depth(node.left);\r\n    int rightDepth = depth(node.right);\r\n\r\n    return 1 + Math.max(leftDepth, rightDepth);\r\n}\r\n```","title":"Proving time complexity for recursive function","body":"<p>How would I prove that the time complexity of this algorithm that finds the depth of a binary tree is O(N) where N is the number of nodes? I understand the reasoning why this is true, since the algorithm checks each node once, but I'm not sure how I would mathematically prove this. Thanks!</p>\n<pre><code>private static int depth(TreeNode node){\n    if(node == null){\n        return 0;\n    }\n\n    int leftDepth = depth(node.left);\n    int rightDepth = depth(node.right);\n\n    return 1 + Math.max(leftDepth, rightDepth);\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","hadoop","hdfs"],"comments":[{"owner":{"account_id":4846128,"reputation":341,"user_id":6034432,"display_name":"Yadunandan Batchu"},"score":0,"creation_date":1694477858,"post_id":69301460,"comment_id":135893206,"body_markdown":"How did you address this?","body":"How did you address this?"}],"answers":[{"tags":[],"owner":{"account_id":17134943,"reputation":9221,"user_id":12400214,"display_name":"Gabio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632493200,"creation_date":1632493200,"answer_id":69316570,"question_id":69301460,"body_markdown":"The config `spark.sql.aggregate.partialaggregate.skip.enabled` doesn&#39;t exist in spark source code.\r\n\r\nAll the `spark.sql.*` configurations are defined in the SQLConf object (and this one is not there):\r\nhttps://github.com/apache/spark/blob/651904a2ef57d2261ea6e256e4f3cdd26aa1b69d/sql/catalyst/src/main/scala/org/apache/spark/sql/internal/SQLConf.scala\r\n\r\nAs far as I checked, this config was not available in previous versions as well. \r\n\r\nIn the video you shared, in the relevant slide there is a link for a PR that enables skipping partial aggregation but it seems that it wasn&#39;t merged.\r\n\r\nThere was a PR for the spark project that addresses this issue and add this config (maybe this is the same PR that was presented in the video, I don&#39;t know) but it was closed:\r\nhttps://github.com/apache/spark/pull/28804\r\n\r\n","title":"Apache Spark Dataframe How to turn off partial aggregation when using groupBy?","body":"<p>The config <code>spark.sql.aggregate.partialaggregate.skip.enabled</code> doesn't exist in spark source code.</p>\n<p>All the <code>spark.sql.*</code> configurations are defined in the SQLConf object (and this one is not there):\n<a href=\"https://github.com/apache/spark/blob/651904a2ef57d2261ea6e256e4f3cdd26aa1b69d/sql/catalyst/src/main/scala/org/apache/spark/sql/internal/SQLConf.scala\" rel=\"nofollow noreferrer\">https://github.com/apache/spark/blob/651904a2ef57d2261ea6e256e4f3cdd26aa1b69d/sql/catalyst/src/main/scala/org/apache/spark/sql/internal/SQLConf.scala</a></p>\n<p>As far as I checked, this config was not available in previous versions as well.</p>\n<p>In the video you shared, in the relevant slide there is a link for a PR that enables skipping partial aggregation but it seems that it wasn't merged.</p>\n<p>There was a PR for the spark project that addresses this issue and add this config (maybe this is the same PR that was presented in the video, I don't know) but it was closed:\n<a href=\"https://github.com/apache/spark/pull/28804\" rel=\"nofollow noreferrer\">https://github.com/apache/spark/pull/28804</a></p>\n"}],"owner":{"account_id":10107264,"reputation":119,"user_id":7469409,"display_name":"Arjunlal M.A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69316570,"answer_count":1,"score":3,"last_activity_date":1632493200,"creation_date":1632405355,"question_id":69301460,"body_markdown":"In Spark 3.1.1, I did a groupBy without distinct on a DataFrame. I tried to turn off the partial aggregation using\r\n```\r\nspark.conf.set(&quot;spark.sql.aggregate.partialaggregate.skip.enabled&quot;, &quot;true&quot;)\r\n```\r\nand then ran the query\r\n```\r\ndf.groupBy(&quot;method&quot;).agg(sum(&quot;request_body_len&quot;))\r\n```\r\nSpark still ends up doing the partial aggreagtion as shown in the physical plan.\r\n\r\n```\r\n== Physical Plan ==\r\n*(2) HashAggregate(keys=[method#23], functions=[sum(cast(request_body_len#28 as bigint))], output=[method#23, sum(request_body_len)#142L])\r\n+- Exchange hashpartitioning(method#23, 200), ENSURE_REQUIREMENTS, [id=#58]\r\n   +- *(1) HashAggregate(keys=[method#23], functions=[partial_sum(cast(request_body_len#28 as bigint))], output=[method#23, sum#146L])\r\n      +- FileScan csv [method#23,request_body_len#28] Batched: false, DataFilters: [], Format: CSV, Location: InMemoryFileIndex[file:/mnt/http.csv], PartitionFilters: [], PushedFilters: [], ReadSchema: struct&lt;method:string,request_body_len:int&gt;\r\n\r\n```\r\n\r\nI tried this after viewing this video on Youtube : &lt;https://youtu.be/_Ne27JcLnEc&gt; @56:53\r\n\r\nIs this feature no longer available in the latest Spark or am I missing something?","title":"Apache Spark Dataframe How to turn off partial aggregation when using groupBy?","body":"<p>In Spark 3.1.1, I did a groupBy without distinct on a DataFrame. I tried to turn off the partial aggregation using</p>\n<pre><code>spark.conf.set(&quot;spark.sql.aggregate.partialaggregate.skip.enabled&quot;, &quot;true&quot;)\n</code></pre>\n<p>and then ran the query</p>\n<pre><code>df.groupBy(&quot;method&quot;).agg(sum(&quot;request_body_len&quot;))\n</code></pre>\n<p>Spark still ends up doing the partial aggreagtion as shown in the physical plan.</p>\n<pre><code>== Physical Plan ==\n*(2) HashAggregate(keys=[method#23], functions=[sum(cast(request_body_len#28 as bigint))], output=[method#23, sum(request_body_len)#142L])\n+- Exchange hashpartitioning(method#23, 200), ENSURE_REQUIREMENTS, [id=#58]\n   +- *(1) HashAggregate(keys=[method#23], functions=[partial_sum(cast(request_body_len#28 as bigint))], output=[method#23, sum#146L])\n      +- FileScan csv [method#23,request_body_len#28] Batched: false, DataFilters: [], Format: CSV, Location: InMemoryFileIndex[file:/mnt/http.csv], PartitionFilters: [], PushedFilters: [], ReadSchema: struct&lt;method:string,request_body_len:int&gt;\n\n</code></pre>\n<p>I tried this after viewing this video on Youtube : <a href=\"https://youtu.be/_Ne27JcLnEc\" rel=\"nofollow noreferrer\">https://youtu.be/_Ne27JcLnEc</a> @56:53</p>\n<p>Is this feature no longer available in the latest Spark or am I missing something?</p>\n"},{"tags":["java","swing","jlabel","paint"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1609086227,"post_id":65467820,"comment_id":115744500,"body_markdown":"Don&#39;t use a null layout. Don&#39;t use setBounds(). Don&#39;t override paint() on a JFrame. Custom painting is done by overriding paintComponent() on a JPanel and then you add the panel to the frame. The content pane of the frame already is a JPanel, to there is no need to create another panel. Read the section from the Swing tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html). Download one of the working examples and modify it for your specific requirement.","body":"Don&#39;t use a null layout. Don&#39;t use setBounds(). Don&#39;t override paint() on a JFrame. Custom painting is done by overriding paintComponent() on a JPanel and then you add the panel to the frame. The content pane of the frame already is a JPanel, to there is no need to create another panel. Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a>. Download one of the working examples and modify it for your specific requirement."},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":3,"creation_date":1609086710,"post_id":65467820,"comment_id":115744651,"body_markdown":"Never paint directly in a JFrame but rather override paintComponent in a JPanel, and when overriding any painting method (paint, paintComponent, paintBorders...), you almost *always* need to call the corresponding super method in your override.","body":"Never paint directly in a JFrame but rather override paintComponent in a JPanel, and when overriding any painting method (paint, paintComponent, paintBorders...), you almost <i>always</i> need to call the corresponding super method in your override."}],"answers":[{"tags":[],"owner":{"account_id":17001876,"reputation":96,"user_id":12299075,"display_name":"Corni"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1632493090,"creation_date":1609101338,"answer_id":65470204,"question_id":65467820,"body_markdown":"As already said in the comments, **don&#39;t override the** `#paint(Graphics g)` method of the `JFrame`. Instead override the `#paintComponent(Graphics g)` method of your `contentPane`.\r\n\r\n    contentPane = new JPanel() {\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            //Don&#39;t forget to call the super method\r\n            super.paintComponent(Graphics g);\r\n            //Draw the line\r\n            g.drawLine(100, 100, 0, 0);  //Maybe adapt the line&#39;s position\r\n        }\r\n    };","title":"JLabel doesn&#39;t show up when calling paint mehtod","body":"<p>As already said in the comments, <strong>don't override the</strong> <code>#paint(Graphics g)</code> method of the <code>JFrame</code>. Instead override the <code>#paintComponent(Graphics g)</code> method of your <code>contentPane</code>.</p>\n<pre><code>contentPane = new JPanel() {\n    @Override\n    protected void paintComponent(Graphics g) {\n        //Don't forget to call the super method\n        super.paintComponent(Graphics g);\n        //Draw the line\n        g.drawLine(100, 100, 0, 0);  //Maybe adapt the line's position\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":19192809,"reputation":11,"user_id":14022216,"display_name":"HunteredEvil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632493090,"creation_date":1609085923,"question_id":65467820,"body_markdown":"This is small part of my end of year project and I&#39;m trying to add a straight line with JLabel in a JFrame. if i remove the JLabel then the line will show up, else it won&#39;t. i only know about java swing therefore i don&#39;t have any experience for java graphics. &lt;br/&gt;&lt;br/&gt;__THANK YOU IN ADVANCE :)__ &lt;br/&gt;&lt;br/&gt;\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.JLabel;\r\n\r\n    public class Draw extends JFrame {\r\n    \r\n    \tprivate JPanel contentPane;\r\n    \r\n    \t/**\r\n    \t * Launch the application.\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tDraw frame = new Draw();\r\n    \t\t\t\t\tframe.setVisible(true);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create the frame.\r\n    \t */\r\n    \tpublic Draw() {\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetBounds(100, 100, 569, 461);\r\n    \t\tcontentPane = new JPanel();\r\n    \t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n    \t\tsetContentPane(contentPane);\r\n    \t\tcontentPane.setLayout(null);\r\n    \t\t\r\n    \t\tJLabel lbl = new JLabel(&quot;Show &quot;);\r\n    \t\tlbl.setBounds(263, 90, 49, 14);\r\n    \t\tcontentPane.add(lbl);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void paint(Graphics g) {\r\n    \t\tg.drawLine(100, 100, 0, 0);\r\n    \t\tg.drawArc(200, 200, 120, 100, 0, 180);\r\n    \t}\r\n    }\r\n\r\n","title":"JLabel doesn&#39;t show up when calling paint mehtod","body":"<p>This is small part of my end of year project and I'm trying to add a straight line with JLabel in a JFrame. if i remove the JLabel then the line will show up, else it won't. i only know about java swing therefore i don't have any experience for java graphics. <br/><br/><strong>THANK YOU IN ADVANCE :)</strong> <br/><br/></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.Graphics;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.JLabel;\n\npublic class Draw extends JFrame {\n\n    private JPanel contentPane;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Draw frame = new Draw();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public Draw() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 569, 461);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n        \n        JLabel lbl = new JLabel(&quot;Show &quot;);\n        lbl.setBounds(263, 90, 49, 14);\n        contentPane.add(lbl);\n    }\n    \n    @Override\n    public void paint(Graphics g) {\n        g.drawLine(100, 100, 0, 0);\n        g.drawArc(200, 200, 120, 100, 0, 180);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","jdbc","database-connection","blocked-threads"],"comments":[{"owner":{"account_id":5310400,"reputation":774,"user_id":4236965,"display_name":"fpezzini"},"score":0,"creation_date":1574773328,"post_id":59051491,"comment_id":104343183,"body_markdown":"Could you please post the block of code where the blocking happens? Usually it would block due to a database call and the lock on toUpperCase is just a symptom.","body":"Could you please post the block of code where the blocking happens? Usually it would block due to a database call and the lock on toUpperCase is just a symptom."},{"owner":{"account_id":5310400,"reputation":774,"user_id":4236965,"display_name":"fpezzini"},"score":0,"creation_date":1574773470,"post_id":59051491,"comment_id":104343260,"body_markdown":"You&#39;re looking here at IO (DB, network) calls that could block or blocks of code within synchronized blocks/methods, or maybe a Semaphore or one of the other more specialized threading classes. For instance if your database is set for row locking in serialized mode your code will have to wait anytime some other user of the application is querying that same row/table.","body":"You&#39;re looking here at IO (DB, network) calls that could block or blocks of code within synchronized blocks/methods, or maybe a Semaphore or one of the other more specialized threading classes. For instance if your database is set for row locking in serialized mode your code will have to wait anytime some other user of the application is querying that same row/table."},{"owner":{"account_id":2810252,"reputation":175,"user_id":2822768,"accept_rate":0,"display_name":"Vaidotas"},"score":0,"creation_date":1574774101,"post_id":59051491,"comment_id":104343569,"body_markdown":"DB admin sometimes notices that there are BLOCKED oracle sessions when this happens, and says that there is a commit missing somewhere, and hence blocking select statements. I find it weird how missing commit could block sessions, as I would expect something like Optimistic lock exception in this case. removeabandonedconnection in pool is set to 1 hour, and neither rollbackonReturn or commit on return are set.","body":"DB admin sometimes notices that there are BLOCKED oracle sessions when this happens, and says that there is a commit missing somewhere, and hence blocking select statements. I find it weird how missing commit could block sessions, as I would expect something like Optimistic lock exception in this case. removeabandonedconnection in pool is set to 1 hour, and neither rollbackonReturn or commit on return are set."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1574775007,"post_id":59051491,"comment_id":104344077,"body_markdown":"It&#39;s a shame because *it appears that* there is no reason for a lock there - an apparently effectively immutable `Hashtable` might as well be a `HashMap`. It looks like it gets locked frequently but not for long. I don&#39;t know HotSpot or other JVMs options well enough to know if there is a better configuration for extremely frequently used locks. Even if your SQL query strings were upper case, it still gets used a lot. (You are using the no-arg `executeQuery`, right?)","body":"It&#39;s a shame because <i>it appears that</i> there is no reason for a lock there - an apparently effectively immutable <code>Hashtable</code> might as well be a <code>HashMap</code>. It looks like it gets locked frequently but not for long. I don&#39;t know HotSpot or other JVMs options well enough to know if there is a better configuration for extremely frequently used locks. Even if your SQL query strings were upper case, it still gets used a lot. (You are using the no-arg <code>executeQuery</code>, right?)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1574776206,"post_id":59051491,"comment_id":104344771,"body_markdown":"What is the full version of the Java you&#39;re using?","body":"What is the full version of the Java you&#39;re using?"},{"owner":{"account_id":2810252,"reputation":175,"user_id":2822768,"accept_rate":0,"display_name":"Vaidotas"},"score":0,"creation_date":1574776973,"post_id":59051491,"comment_id":104345163,"body_markdown":"Java(TM) SE Runtime Environment  1.8.0_181-b13  Java HotSpot(TM) 64-Bit Server VM)","body":"Java(TM) SE Runtime Environment  1.8.0_181-b13  Java HotSpot(TM) 64-Bit Server VM)"},{"owner":{"account_id":2810252,"reputation":175,"user_id":2822768,"accept_rate":0,"display_name":"Vaidotas"},"score":0,"creation_date":1574777137,"post_id":59051491,"comment_id":104345249,"body_markdown":"Now I see that it is not clear if it was 30 seconds - I launched kill-3 command 5 times over 30 seconds, but in log it show that only 3 seconds have passed - probably because of some lag. But nevertheless, time is too long.","body":"Now I see that it is not clear if it was 30 seconds - I launched kill-3 command 5 times over 30 seconds, but in log it show that only 3 seconds have passed - probably because of some lag. But nevertheless, time is too long."},{"owner":{"account_id":2810252,"reputation":175,"user_id":2822768,"accept_rate":0,"display_name":"Vaidotas"},"score":0,"creation_date":1574777745,"post_id":59051491,"comment_id":104345568,"body_markdown":"select was (column and table names have been changed) SQL=select * from ( select count(*) as col_0_0_ from NUMBERS_VW eknumb0_, EK_DEPARTMENTS_VW ekdepart1_ where\n eknumb0_.DEPARTMENT_ID=ekdepart1_.IDD_CODE and 1=1 and (upper(eknumb0_.SERIES) like upper(?)) and (upper(ekdepart1_.IDD_NAME) \n like upper(?)) and (eknumb0_.PA_NUMBER is null) ) where rownum &lt;= ?; time=301772 ms;","body":"select was (column and table names have been changed) SQL=select * from ( select count(*) as col_0_0_ from NUMBERS_VW eknumb0_, EK_DEPARTMENTS_VW ekdepart1_ where  eknumb0_.DEPARTMENT_ID=ekdepart1_.IDD_CODE and 1=1 and (upper(eknumb0_.SERIES) like upper(?)) and (upper(ekdepart1_.IDD_NAME)   like upper(?)) and (eknumb0_.PA_NUMBER is null) ) where rownum &lt;= ?; time=301772 ms;"},{"owner":{"account_id":5310400,"reputation":774,"user_id":4236965,"display_name":"fpezzini"},"score":0,"creation_date":1574779052,"post_id":59051491,"comment_id":104346350,"body_markdown":"Could it be a portion of the code that is not rolling back the transaction when an exception happens? That would match what the DB admin is seeing. This is very likely Oracle blocking and the Java code is left waiting.","body":"Could it be a portion of the code that is not rolling back the transaction when an exception happens? That would match what the DB admin is seeing. This is very likely Oracle blocking and the Java code is left waiting."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1574785080,"post_id":59051491,"comment_id":104350021,"body_markdown":"There&#39;s further information on `ConditionalSpecialCasing.entrtyTable` lock contention in another question. I&#39;ve added a +500 bounty to that post if anybody wants the rep. https://stackoverflow.com/q/31987777/4725","body":"There&#39;s further information on <code>ConditionalSpecialCasing.entrtyTable</code> lock contention in another question. I&#39;ve added a +500 bounty to that post if anybody wants the rep. <a href=\"https://stackoverflow.com/q/31987777/4725\">stackoverflow.com/q/31987777/4725</a>"},{"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"score":2,"creation_date":1574862791,"post_id":59051491,"comment_id":104381327,"body_markdown":"I&#39;m betting your default Locale is &quot;lt&quot; (Lithuanian). It&#39;s one of three languages that require special casing rules, the others being &quot;tr&quot; (Turkish) and &quot;az&quot; (Azrbaijani). For other locales ConditionalSpecialCasing is not used. So unless you need the locale specific casing you could simply force your default Locale to something else and avoid this lock contention.","body":"I&#39;m betting your default Locale is &quot;lt&quot; (Lithuanian). It&#39;s one of three languages that require special casing rules, the others being &quot;tr&quot; (Turkish) and &quot;az&quot; (Azrbaijani). For other locales ConditionalSpecialCasing is not used. So unless you need the locale specific casing you could simply force your default Locale to something else and avoid this lock contention."},{"owner":{"account_id":2810252,"reputation":175,"user_id":2822768,"accept_rate":0,"display_name":"Vaidotas"},"score":0,"creation_date":1574864948,"post_id":59051491,"comment_id":104382652,"body_markdown":"You are correct on Locale. What  is strange that looking at source code of ConditionalSpecialCasing , none of the special letters are actually Lithuanian letters, and why only these 3 languages have special treatment remains a mystery. Changing whole locale could possibly fix the bug, but may introduce a lot of extra work in other parts of the system.","body":"You are correct on Locale. What  is strange that looking at source code of ConditionalSpecialCasing , none of the special letters are actually Lithuanian letters, and why only these 3 languages have special treatment remains a mystery. Changing whole locale could possibly fix the bug, but may introduce a lot of extra work in other parts of the system."}],"answers":[{"tags":[],"owner":{"account_id":2810252,"reputation":175,"user_id":2822768,"accept_rate":0,"display_name":"Vaidotas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1580214225,"creation_date":1575271408,"answer_id":59134284,"question_id":59051491,"body_markdown":"It appears the problem was not code related. We had 10GB size catalina.out log file, and 4 bash scripts which analyzed that file for specific errors every five minutes, and because of large file size, each such analysis (mostly tail/wc commands) took 3-4 minutes. I do not know if catalina.out was being locked, but CPU usage for &quot;tail&quot; and &quot;wc&quot; commands was quite significant. Memory usage did not increase significantly though.\r\n\r\nAfter manually rolling catalina.out, the problem is gone. Admin has been tasked with figuring out why logrotate is failing. \r\n\r\nUpdate: The problem kept reappearing under higher loads (&gt;50 users), so after some testing, locale was changed from &quot;lt&quot; to &quot;en&quot;. Together with fixing another MyFaces cache bug, response times from Tomcat decreased 10-20 times, and number of concurrent users that can use application increased &gt;10 times.","title":"Java blocked thread on String.toUpperCase()","body":"<p>It appears the problem was not code related. We had 10GB size catalina.out log file, and 4 bash scripts which analyzed that file for specific errors every five minutes, and because of large file size, each such analysis (mostly tail/wc commands) took 3-4 minutes. I do not know if catalina.out was being locked, but CPU usage for \"tail\" and \"wc\" commands was quite significant. Memory usage did not increase significantly though.</p>\n\n<p>After manually rolling catalina.out, the problem is gone. Admin has been tasked with figuring out why logrotate is failing. </p>\n\n<p>Update: The problem kept reappearing under higher loads (>50 users), so after some testing, locale was changed from \"lt\" to \"en\". Together with fixing another MyFaces cache bug, response times from Tomcat decreased 10-20 times, and number of concurrent users that can use application increased >10 times.</p>\n"}],"owner":{"account_id":2810252,"reputation":175,"user_id":2822768,"accept_rate":0,"display_name":"Vaidotas"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":59134284,"answer_count":1,"score":3,"last_activity_date":1632492914,"creation_date":1574772953,"question_id":59051491,"body_markdown":"One of the threads has a lock for more than 3 seconds when querying Oracle Database. This causes many blocked threads when accesing Oracle database, and hence sudden increases in number of threads and unresposiveness of application.  Im am using Tomcat 8.5, Tomcat connection pool, Java 8. Trace for blocking thread:\r\n\r\n    ***&quot;http-nio-80-exec-433&quot; #4207 daemon prio=5 os_prio=0 tid=0x00007fd9d8042000 nid=0x503b runnable [0x00007fd839f04000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.util.Hashtable.get(Hashtable.java:363)\r\n    \t- locked &lt;0x000000070193caa0&gt; (a java.util.Hashtable)\r\n    \tat java.lang.ConditionalSpecialCasing.lookUpTable(ConditionalSpecialCasing.java:151)\r\n    \tat java.lang.ConditionalSpecialCasing.toUpperCaseEx(ConditionalSpecialCasing.java:123)\r\n    \tat java.lang.String.toUpperCase(String.java:2775)\r\n    \tat java.lang.String.toUpperCase(String.java:2833)\r\n    \tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1638)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4401)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:4482)\r\n    \t- locked &lt;0x000000074cd7d868&gt; (a oracle.jdbc.driver.T4CConnection)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:6272)\r\n    \tat sun.reflect.GeneratedMethodAccessor400.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.jdbc.pool.interceptor.AbstractQueryReport$StatementProxy.invoke(AbstractQueryReport.java:210)\r\n    \tat com.sun.proxy.$Proxy637.executeQuery(Unknown Source)\r\n    \tat sun.reflect.GeneratedMethodAccessor400.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114)\r\n    \tat com.sun.proxy.$Proxy637.executeQuery(Unknown Source)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)\r\n    \tat org.hibernate.loader.Loader.getResultSet(Loader.java:1953)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:802)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2533)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2271)***\r\n\r\nHere is a trace for one of the 10+ BLOCKED threads\r\n\r\n    ***&quot;http-nio-80-exec-271&quot; #2777 daemon prio=5 os_prio=0 tid=0x00007fd9c8941800 nid=0x19c3 waiting for monitor entry [0x00007fd8356ca000]\r\n       java.lang.Thread.State: BLOCKED (on object monitor)\r\n    \tat java.util.Hashtable.get(Hashtable.java:363)\r\n    \t- waiting to lock &lt;0x000000070193caa0&gt; (a java.util.Hashtable)\r\n    \tat java.lang.ConditionalSpecialCasing.lookUpTable(ConditionalSpecialCasing.java:151)\r\n    \tat java.lang.ConditionalSpecialCasing.toUpperCaseEx(ConditionalSpecialCasing.java:123)\r\n    \tat java.lang.String.toUpperCase(String.java:2775)\r\n    \tat java.lang.String.toUpperCase(String.java:2833)\r\n    \tat oracle.jdbc.driver.CharCommonAccessor.init(CharCommonAccessor.java:164)\r\n    \tat oracle.jdbc.driver.VarcharAccessor.&lt;init&gt;(VarcharAccessor.java:88)\r\n    \tat oracle.jdbc.driver.T4CVarcharAccessor.&lt;init&gt;(T4CVarcharAccessor.java:108)\r\n    \tat oracle.jdbc.driver.T4CTTIdcb.fillupAccessors(T4CTTIdcb.java:431)\r\n    \tat oracle.jdbc.driver.T4CTTIdcb.receiveCommon(T4CTTIdcb.java:209)\r\n    \tat oracle.jdbc.driver.T4CTTIdcb.receive(T4CTTIdcb.java:145)\r\n    \tat oracle.jdbc.driver.T4C8Oall.readDCB(T4C8Oall.java:963)\r\n    \tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:447)\r\n    \tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:235)\r\n    \tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:543)\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:239)\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:1246)\r\n    \tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1500)\r\n    \tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1717)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4401)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:4482)\r\n    \t- locked &lt;0x000000074d203f60&gt; (a oracle.jdbc.driver.T4CConnection)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:6272)\r\n    \tat sun.reflect.GeneratedMethodAccessor400.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.jdbc.pool.interceptor.AbstractQueryReport$StatementProxy.invoke(AbstractQueryReport.java:210)\r\n    \tat com.sun.proxy.$Proxy637.executeQuery(Unknown Source)\r\n    \tat sun.reflect.GeneratedMethodAccessor400.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114)\r\n    \tat com.sun.proxy.$Proxy637.executeQuery(Unknown Source)\r\n    \tat org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)***\r\n\r\n\r\nI have no idea why toUpperCase() would lock something (it is some Integer object being locked, as far as i found) for 30+ seconds, but this keeps occuring multiple times per day. Thread dump analysers did not found any deadlocks in dump. Tomcat pools logs that query for blocking thread http-nio-80-exec-433 took 5 minutes to complete.\r\n\r\nCould this be a problem with jvm, memory or something else? Like jdbc driver or connection pool configuration problem?\r\n","title":"Java blocked thread on String.toUpperCase()","body":"<p>One of the threads has a lock for more than 3 seconds when querying Oracle Database. This causes many blocked threads when accesing Oracle database, and hence sudden increases in number of threads and unresposiveness of application.  Im am using Tomcat 8.5, Tomcat connection pool, Java 8. Trace for blocking thread:</p>\n\n<pre><code>***\"http-nio-80-exec-433\" #4207 daemon prio=5 os_prio=0 tid=0x00007fd9d8042000 nid=0x503b runnable [0x00007fd839f04000]\n   java.lang.Thread.State: RUNNABLE\n    at java.util.Hashtable.get(Hashtable.java:363)\n    - locked &lt;0x000000070193caa0&gt; (a java.util.Hashtable)\n    at java.lang.ConditionalSpecialCasing.lookUpTable(ConditionalSpecialCasing.java:151)\n    at java.lang.ConditionalSpecialCasing.toUpperCaseEx(ConditionalSpecialCasing.java:123)\n    at java.lang.String.toUpperCase(String.java:2775)\n    at java.lang.String.toUpperCase(String.java:2833)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1638)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4401)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:4482)\n    - locked &lt;0x000000074cd7d868&gt; (a oracle.jdbc.driver.T4CConnection)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:6272)\n    at sun.reflect.GeneratedMethodAccessor400.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.jdbc.pool.interceptor.AbstractQueryReport$StatementProxy.invoke(AbstractQueryReport.java:210)\n    at com.sun.proxy.$Proxy637.executeQuery(Unknown Source)\n    at sun.reflect.GeneratedMethodAccessor400.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114)\n    at com.sun.proxy.$Proxy637.executeQuery(Unknown Source)\n    at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)\n    at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:802)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)\n    at org.hibernate.loader.Loader.doList(Loader.java:2533)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2276)\n    at org.hibernate.loader.Loader.list(Loader.java:2271)***\n</code></pre>\n\n<p>Here is a trace for one of the 10+ BLOCKED threads</p>\n\n<pre><code>***\"http-nio-80-exec-271\" #2777 daemon prio=5 os_prio=0 tid=0x00007fd9c8941800 nid=0x19c3 waiting for monitor entry [0x00007fd8356ca000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n    at java.util.Hashtable.get(Hashtable.java:363)\n    - waiting to lock &lt;0x000000070193caa0&gt; (a java.util.Hashtable)\n    at java.lang.ConditionalSpecialCasing.lookUpTable(ConditionalSpecialCasing.java:151)\n    at java.lang.ConditionalSpecialCasing.toUpperCaseEx(ConditionalSpecialCasing.java:123)\n    at java.lang.String.toUpperCase(String.java:2775)\n    at java.lang.String.toUpperCase(String.java:2833)\n    at oracle.jdbc.driver.CharCommonAccessor.init(CharCommonAccessor.java:164)\n    at oracle.jdbc.driver.VarcharAccessor.&lt;init&gt;(VarcharAccessor.java:88)\n    at oracle.jdbc.driver.T4CVarcharAccessor.&lt;init&gt;(T4CVarcharAccessor.java:108)\n    at oracle.jdbc.driver.T4CTTIdcb.fillupAccessors(T4CTTIdcb.java:431)\n    at oracle.jdbc.driver.T4CTTIdcb.receiveCommon(T4CTTIdcb.java:209)\n    at oracle.jdbc.driver.T4CTTIdcb.receive(T4CTTIdcb.java:145)\n    at oracle.jdbc.driver.T4C8Oall.readDCB(T4C8Oall.java:963)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:447)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:235)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:543)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:239)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:1246)\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1500)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1717)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4401)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:4482)\n    - locked &lt;0x000000074d203f60&gt; (a oracle.jdbc.driver.T4CConnection)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:6272)\n    at sun.reflect.GeneratedMethodAccessor400.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.jdbc.pool.interceptor.AbstractQueryReport$StatementProxy.invoke(AbstractQueryReport.java:210)\n    at com.sun.proxy.$Proxy637.executeQuery(Unknown Source)\n    at sun.reflect.GeneratedMethodAccessor400.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.jdbc.pool.StatementFacade$StatementProxy.invoke(StatementFacade.java:114)\n    at com.sun.proxy.$Proxy637.executeQuery(Unknown Source)\n    at org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)***\n</code></pre>\n\n<p>I have no idea why toUpperCase() would lock something (it is some Integer object being locked, as far as i found) for 30+ seconds, but this keeps occuring multiple times per day. Thread dump analysers did not found any deadlocks in dump. Tomcat pools logs that query for blocking thread http-nio-80-exec-433 took 5 minutes to complete.</p>\n\n<p>Could this be a problem with jvm, memory or something else? Like jdbc driver or connection pool configuration problem?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":384985,"reputation":2176,"user_id":741849,"accept_rate":50,"display_name":"Moinul Hossain"},"score":1,"creation_date":1327476311,"post_id":8998887,"comment_id":11278791,"body_markdown":"May be you can use feature from an IDE having the option autodeploy","body":"May be you can use feature from an IDE having the option autodeploy"},{"owner":{"account_id":196909,"reputation":3855,"user_id":440621,"accept_rate":63,"display_name":"Akhil K Nambiar"},"score":0,"creation_date":1327477268,"post_id":8998887,"comment_id":11278952,"body_markdown":"@Rifat that I&#39;m using. But that&#39;s not solving my problem. Now I&#39;m having to stop tomcat, rebuild, and start the tomcat again. Autodeploy is happening but still some problem is there.","body":"@Rifat that I&#39;m using. But that&#39;s not solving my problem. Now I&#39;m having to stop tomcat, rebuild, and start the tomcat again. Autodeploy is happening but still some problem is there."},{"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":3,"creation_date":1327482621,"post_id":8998887,"comment_id":11280108,"body_markdown":"You don&#39;t need to rebuild, and restart webserver, set up you ide to hot deploy correctly http://stackoverflow.com/a/6189031/106261","body":"You don&#39;t need to rebuild, and restart webserver, set up you ide to hot deploy correctly <a href=\"http://stackoverflow.com/a/6189031/106261\">stackoverflow.com/a/6189031/106261</a>"}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1327481574,"creation_date":1327481574,"answer_id":8999918,"question_id":8998887,"body_markdown":"No there is no such configuration for Spring MVC. But it is a good idea for an feature request.","title":"dev mode in spring MVC","body":"<p>No there is no such configuration for Spring MVC. But it is a good idea for an feature request.</p>\n"},{"tags":[],"owner":{"account_id":76328,"reputation":33605,"user_id":218592,"accept_rate":77,"display_name":"ŁukaszBachman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1327524669,"creation_date":1327524669,"answer_id":9010076,"question_id":8998887,"body_markdown":"Answering both of your questions and keeping it short.\r\n\r\nNo, there is nothing like a devmode in Spring framework so you can throw it out of your head.\r\n\r\nYes, you could skip reloading by using some bytecode manipulation techniques. You can use either:\r\n\r\n - external tool (like [JRebel][1] or [Javaleon][2])\r\n - server with hot deployment (like Jetty)\r\n - IDE (some IDEs offer such functionalities as well)\r\n\r\nHope that helps.\r\n\r\n\r\n  [1]: http://zeroturnaround.com/jrebel/\r\n  [2]: http://javeleon.org/","title":"dev mode in spring MVC","body":"<p>Answering both of your questions and keeping it short.</p>\n\n<p>No, there is nothing like a devmode in Spring framework so you can throw it out of your head.</p>\n\n<p>Yes, you could skip reloading by using some bytecode manipulation techniques. You can use either:</p>\n\n<ul>\n<li>external tool (like <a href=\"http://zeroturnaround.com/jrebel/\" rel=\"nofollow\">JRebel</a> or <a href=\"http://javeleon.org/\" rel=\"nofollow\">Javaleon</a>)</li>\n<li>server with hot deployment (like Jetty)</li>\n<li>IDE (some IDEs offer such functionalities as well)</li>\n</ul>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":178361,"reputation":1833,"user_id":410293,"accept_rate":50,"display_name":"Rafael Sanches"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346857255,"creation_date":1329059016,"answer_id":9249792,"question_id":8998887,"body_markdown":"What change you refer to? Template changes? \r\n\r\nEven with struts, JSP and velocity templates shouldn&#39;t reload the servlet container. Only Java classes would do that. \r\n\r\nI have written a blog post [Spring-mvc + Velocity + DCEVM][1] about how to use Spring + Velocity + [Dynamic Code Evolution VM][2] (DCEVM) in order to not restart the server when developing: \r\n\r\n\r\n  [1]: http://blog.rafaelsanches.com/2012/02/02/spring-mvc-velocity-dcevm/\r\n  [2]: http://ssw.jku.at/dcevm/","title":"dev mode in spring MVC","body":"<p>What change you refer to? Template changes? </p>\n\n<p>Even with struts, JSP and velocity templates shouldn't reload the servlet container. Only Java classes would do that. </p>\n\n<p>I have written a blog post <a href=\"http://blog.rafaelsanches.com/2012/02/02/spring-mvc-velocity-dcevm/\" rel=\"nofollow\">Spring-mvc + Velocity + DCEVM</a> about how to use Spring + Velocity + <a href=\"http://ssw.jku.at/dcevm/\" rel=\"nofollow\">Dynamic Code Evolution VM</a> (DCEVM) in order to not restart the server when developing: </p>\n"},{"tags":[],"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347663590,"creation_date":1347663590,"answer_id":12433037,"question_id":8998887,"body_markdown":"Yes: If you are using Tomcat or a derivative (VMWare vFabric tc Server), you can configure application reload behavior (hot deploy).  This allows changes to say a method to be reloaded without restart.  The key is to set:\r\n\r\n  1. Publishing set to `Automatically publish when resources change` \r\n  2. Your web module set to Auto Reload `disabled`.\r\n\r\nVMWare vFabric tc Server 2.6+ (packaged with STS 2.9+) provides two options:\r\n\r\n- Java Agent-based reloading\r\n- JMX-based reloading\r\n\r\n","title":"dev mode in spring MVC","body":"<p>Yes: If you are using Tomcat or a derivative (VMWare vFabric tc Server), you can configure application reload behavior (hot deploy).  This allows changes to say a method to be reloaded without restart.  The key is to set:</p>\n\n<ol>\n<li>Publishing set to <code>Automatically publish when resources change</code> </li>\n<li>Your web module set to Auto Reload <code>disabled</code>.</li>\n</ol>\n\n<p>VMWare vFabric tc Server 2.6+ (packaged with STS 2.9+) provides two options:</p>\n\n<ul>\n<li>Java Agent-based reloading</li>\n<li>JMX-based reloading</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5895053,"reputation":65,"user_id":4640415,"display_name":"F4b3r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632492697,"creation_date":1632486744,"answer_id":69315081,"question_id":8998887,"body_markdown":"If you are using Spring Boot, then all you need to do is add the dependency devtools to your project. This allow you to have your application deployed each time you modify a classpath file.\r\n\r\n**maven**\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n**Gradle:**\r\n```\r\ndependencies {\r\n    compileOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n}\r\n````\r\n\r\nSpring docs: [Spring boot devtools][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html","title":"dev mode in spring MVC","body":"<p>If you are using Spring Boot, then all you need to do is add the dependency devtools to your project. This allow you to have your application deployed each time you modify a classpath file.</p>\n<p><strong>maven</strong></p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Gradle:</strong></p>\n<pre><code>dependencies {\n    compileOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n}\n</code></pre>\n<p>Spring docs: <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html\" rel=\"nofollow noreferrer\">Spring boot devtools</a></p>\n"}],"owner":{"account_id":196909,"reputation":3855,"user_id":440621,"accept_rate":63,"display_name":"Akhil K Nambiar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5268,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":8999918,"answer_count":5,"score":14,"last_activity_date":1632492697,"creation_date":1327474425,"question_id":8998887,"body_markdown":"Is there any development mode in Spring like in Struts. In Struts if we set dev mode to true all the configuration files are loaded in every request. However now when I&#39;m developing in Spring MVC, I have to restart server after every change. Or is there some other method by which I can force reload.","title":"dev mode in spring MVC","body":"<p>Is there any development mode in Spring like in Struts. In Struts if we set dev mode to true all the configuration files are loaded in every request. However now when I'm developing in Spring MVC, I have to restart server after every change. Or is there some other method by which I can force reload.</p>\n"},{"tags":["java","eclipse","keystore","pkcs#12"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1632344962,"post_id":69288114,"comment_id":122470388,"body_markdown":"&quot;I am 100% sure that the password and the alias are correct.&quot; How? Have you verified the keystore password with other code, for example using `keytool list` to list the entries of the keystore? Or something similar with OpenSSL?","body":"&quot;I am 100% sure that the password and the alias are correct.&quot; How? Have you verified the keystore password with other code, for example using <code>keytool list</code> to list the entries of the keystore? Or something similar with OpenSSL?"},{"owner":{"account_id":22827527,"reputation":57,"user_id":16976562,"display_name":"Prothy"},"score":0,"creation_date":1632376277,"post_id":69288114,"comment_id":122475839,"body_markdown":"@erickson I know because I work with these certificates a lot so I easily remember the password - and, as you recommend, I have verified it by using ```keystore list``` in Command Prompt (that&#39;s also how I checked the alias).","body":"@erickson I know because I work with these certificates a lot so I easily remember the password - and, as you recommend, I have verified it by using <code>keystore list</code> in Command Prompt (that&#39;s also how I checked the alias)."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1632400314,"post_id":69288114,"comment_id":122485271,"body_markdown":"Then it almost certainly is a &#39;key&#39; (entry) pw different from the store pw. `keytool` tries not to _create_ such a different pw but other Java code can and I&#39;m not sure about `-importkeystore`, plus non-Java tools of course. `keytool list` only shows the certificate info and does not &#39;open&#39; aka &#39;unwrap&#39; the privatekey(s) (although it does indicate their existence in the type) which for PKCS12 means it decrypts the certbag but not the shroudedkeybag(s). Your program does need to &#39;open&#39; the privatekey to do signing. By what procedure did you create this keystore?","body":"Then it almost certainly is a &#39;key&#39; (entry) pw different from the store pw. <code>keytool</code> tries not to <i>create</i> such a different pw but other Java code can and I&#39;m not sure about <code>-importkeystore</code>, plus non-Java tools of course. <code>keytool list</code> only shows the certificate info and does not &#39;open&#39; aka &#39;unwrap&#39; the privatekey(s) (although it does indicate their existence in the type) which for PKCS12 means it decrypts the certbag but not the shroudedkeybag(s). Your program does need to &#39;open&#39; the privatekey to do signing. By what procedure did you create this keystore?"},{"owner":{"account_id":22827527,"reputation":57,"user_id":16976562,"display_name":"Prothy"},"score":0,"creation_date":1632409038,"post_id":69288114,"comment_id":122489496,"body_markdown":"@dave_thompson_085 Thanks for the reply, my thoughts began to go somewhere in the same direction, too - unfortunately, I am not the creator of the keystore, as per Croatian law it is created for each business subject by the state Financial agency (the purpose of the project is the generation of a code needed to make possible the communication of the company with the Tax office information service).","body":"@dave_thompson_085 Thanks for the reply, my thoughts began to go somewhere in the same direction, too - unfortunately, I am not the creator of the keystore, as per Croatian law it is created for each business subject by the state Financial agency (the purpose of the project is the generation of a code needed to make possible the communication of the company with the Tax office information service)."},{"owner":{"account_id":22827527,"reputation":57,"user_id":16976562,"display_name":"Prothy"},"score":0,"creation_date":1632411553,"post_id":69288114,"comment_id":122490693,"body_markdown":"@dave_thompson_085 If it means anything: I&#39;ve tried converting the .p12 file to .jks and adding two distinct password with ```deststorepass``` and ```destkeypass``` commands - the error I am now getting is &quot;UnrecoverableKeyException: Cannot recover key&quot;","body":"@dave_thompson_085 If it means anything: I&#39;ve tried converting the .p12 file to .jks and adding two distinct password with <code>deststorepass</code> and <code>destkeypass</code> commands - the error I am now getting is &quot;UnrecoverableKeyException: Cannot recover key&quot;"}],"answers":[{"tags":[],"owner":{"account_id":22827527,"reputation":57,"user_id":16976562,"display_name":"Prothy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632492552,"creation_date":1632492552,"answer_id":69316403,"question_id":69288114,"body_markdown":"This is a very dumb mistake:\r\n```\r\nkeyStore.load( file_inputstream, &quot;PASSWORD&quot;.toCharArray() );\r\nKey privatni = keyStore.getKey( &quot;ALIAS&quot;, &quot; PASSWORD &quot;.toCharArray() );\r\n```\r\nThe spaces in the second PASSWORD were causing the error. It should be:\r\n```\r\nkeyStore.load( file_inputstream, &quot;PASSWORD&quot;.toCharArray() );\r\nKey privatni = keyStore.getKey( &quot;ALIAS&quot;, &quot;PASSWORD&quot;.toCharArray() );\r\n```","title":"&quot;Get Key Failed: Given final block not properly padded&quot; when I try loading .p12 certificate in a Java project","body":"<p>This is a very dumb mistake:</p>\n<pre><code>keyStore.load( file_inputstream, &quot;PASSWORD&quot;.toCharArray() );\nKey privatni = keyStore.getKey( &quot;ALIAS&quot;, &quot; PASSWORD &quot;.toCharArray() );\n</code></pre>\n<p>The spaces in the second PASSWORD were causing the error. It should be:</p>\n<pre><code>keyStore.load( file_inputstream, &quot;PASSWORD&quot;.toCharArray() );\nKey privatni = keyStore.getKey( &quot;ALIAS&quot;, &quot;PASSWORD&quot;.toCharArray() );\n</code></pre>\n"}],"owner":{"account_id":22827527,"reputation":57,"user_id":16976562,"display_name":"Prothy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6610,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69316403,"answer_count":1,"score":2,"last_activity_date":1632492552,"creation_date":1632328701,"question_id":69288114,"body_markdown":"Specifically, the relevant part of the code looks like this (capitalized words are placeholders):\r\n\r\n```\r\nFileInputStream(&quot;PATH TO P12 FILE&quot;);\r\n\r\n KeyStore keyStore = KeyStore.getInstance( &quot;PKCS12&quot; );\r\n\r\n keyStore.load( file_inputstream, &quot;PASSWORD&quot;.toCharArray() );\r\n\r\n Key privatni = keyStore.getKey( &quot;ALIAS&quot;, &quot; PASSWORD &quot;.toCharArray() );\r\n\r\n Signature biljeznik = Signature.getInstance( &quot;SHA256withRSA&quot; );\r\n\r\n biljeznik.initSign( ( PrivateKey )privatni );\r\n\r\n biljeznik.update( medjurezultat.getBytes() );\r\n\r\n potpisano = biljeznik.sign();\r\n```\r\n\r\nI am 100% sure that the password and the alias are correct. I am aware that P12 files can&#39;t have 2 passwords like JKS keystores, but I&#39;m not sure how to change the code if that&#39;s the problem (the only password is written under both &quot;PASSWORD&quot; placeholders).\r\n\r\nThe exact error message is this one:\r\n\r\n```\r\njava.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:450)\r\n\tat java.base/sun.security.util.KeyStoreDelegator.engineGetKey(KeyStoreDelegator.java:91)\r\n\tat java.base/java.security.KeyStore.getKey(KeyStore.java:1050)\r\n\tat primjer.ZastitniKodIzracun.main(ZastitniKodIzracun.java:56)\r\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n\tat java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:859)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:939)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:735)\r\n\tat java.base/com.sun.crypto.provider.PKCS12PBECipherCore.implDoFinal(PKCS12PBECipherCore.java:424)\r\n\tat java.base/com.sun.crypto.provider.PKCS12PBECipherCore$PBEWithSHA1AndDESede.engineDoFinal(PKCS12PBECipherCore.java:456)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205)\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.lambda$engineGetKey$0(PKCS12KeyStore.java:371)\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore$RetryWithZero.run(PKCS12KeyStore.java:257)\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:361)\r\n\t... 3 more\r\n```\r\n\r\nAny assistance is greatly appreciated.","title":"&quot;Get Key Failed: Given final block not properly padded&quot; when I try loading .p12 certificate in a Java project","body":"<p>Specifically, the relevant part of the code looks like this (capitalized words are placeholders):</p>\n<pre><code>FileInputStream(&quot;PATH TO P12 FILE&quot;);\n\n KeyStore keyStore = KeyStore.getInstance( &quot;PKCS12&quot; );\n\n keyStore.load( file_inputstream, &quot;PASSWORD&quot;.toCharArray() );\n\n Key privatni = keyStore.getKey( &quot;ALIAS&quot;, &quot; PASSWORD &quot;.toCharArray() );\n\n Signature biljeznik = Signature.getInstance( &quot;SHA256withRSA&quot; );\n\n biljeznik.initSign( ( PrivateKey )privatni );\n\n biljeznik.update( medjurezultat.getBytes() );\n\n potpisano = biljeznik.sign();\n</code></pre>\n<p>I am 100% sure that the password and the alias are correct. I am aware that P12 files can't have 2 passwords like JKS keystores, but I'm not sure how to change the code if that's the problem (the only password is written under both &quot;PASSWORD&quot; placeholders).</p>\n<p>The exact error message is this one:</p>\n<pre><code>java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:450)\n    at java.base/sun.security.util.KeyStoreDelegator.engineGetKey(KeyStoreDelegator.java:91)\n    at java.base/java.security.KeyStore.getKey(KeyStore.java:1050)\n    at primjer.ZastitniKodIzracun.main(ZastitniKodIzracun.java:56)\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:859)\n    at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:939)\n    at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:735)\n    at java.base/com.sun.crypto.provider.PKCS12PBECipherCore.implDoFinal(PKCS12PBECipherCore.java:424)\n    at java.base/com.sun.crypto.provider.PKCS12PBECipherCore$PBEWithSHA1AndDESede.engineDoFinal(PKCS12PBECipherCore.java:456)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2205)\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.lambda$engineGetKey$0(PKCS12KeyStore.java:371)\n    at java.base/sun.security.pkcs12.PKCS12KeyStore$RetryWithZero.run(PKCS12KeyStore.java:257)\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(PKCS12KeyStore.java:361)\n    ... 3 more\n</code></pre>\n<p>Any assistance is greatly appreciated.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":394499,"reputation":1752,"user_id":756968,"accept_rate":73,"display_name":"bigGuy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305626874,"creation_date":1305623832,"answer_id":6028708,"question_id":6028256,"body_markdown":"Method &quot;summate&quot; logic is realy messed up.\r\nIt should look something like function &quot;f&quot; here: \r\nhttps://stackoverflow.com/questions/83547/algorithm-to-find-which-numbers-from-a-list-of-size-n-sum-to-another-number/2629125#2629125\r\n\r\nQuick and dirty fix for your code:\r\n\r\n    class Demo {\r\n\tpublic static void main(String args[]) {\r\n\t\tDemo.groupSumClump(0, new int[] { 2, 4, 4, 8 }, 14);\r\n\t\tDemo.groupSumClump(0, new int[] {8, 2, 2, 1}, 9);\r\n\t}\r\n\r\n\tpublic static void groupSumClump(int start, int[] nums, int target) {\r\n\t\tstart = 0;\r\n\r\n\t\tnums = adjacents(start, nums);\r\n\r\n\t\tfor (int a_number = 0; a_number &lt; nums.length; a_number++) {\r\n\t\t\tSystem.out.println(&quot;Array is &quot; + nums[a_number]);\r\n\t\t}\r\n\t\tsummate(nums, 0, 0, target);\r\n\t\tSystem.out.println(false);\r\n\t}\r\n\r\n\tpublic static int[] adjacents(int start, int[] nums) {\r\n\t\tint sum = 0;\r\n\t\tfor (int i = 0; i &lt; nums.length - 1; i++) {\r\n\t\t\tif (nums[i] == nums[i + 1]) {\r\n\t\t\t\tsum += nums[i] + nums[i + 1];\r\n\t\t\t\tnums[i] = sum;\r\n\t\t\t\tnums[i + 1] = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn nums;\r\n\t}\r\n\r\n\tstatic void check(int sum, int target) {\r\n\t\tif (sum == target) {\r\n\t\t\tSystem.out.println(true);\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic void summate(int[] numbers, int index, int sum, int target) {\r\n\t\tcheck(sum, target);\r\n\t\tif (index == numbers.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsummate(numbers, index + 1, sum + numbers[index], target);\r\n\t\tcheck(sum, target);\r\n\t\tsummate(numbers, index + 1, sum, target);\r\n\t\tcheck(sum, target);\r\n\t}\r\n    }","title":"groupsumClump Problem","body":"<p>Method \"summate\" logic is realy messed up.\nIt should look something like function \"f\" here: \n<a href=\"https://stackoverflow.com/questions/83547/algorithm-to-find-which-numbers-from-a-list-of-size-n-sum-to-another-number/2629125#2629125\">Algorithm to find which numbers from a list of size n sum to another number</a></p>\n\n<p>Quick and dirty fix for your code:</p>\n\n<pre><code>class Demo {\npublic static void main(String args[]) {\n    Demo.groupSumClump(0, new int[] { 2, 4, 4, 8 }, 14);\n    Demo.groupSumClump(0, new int[] {8, 2, 2, 1}, 9);\n}\n\npublic static void groupSumClump(int start, int[] nums, int target) {\n    start = 0;\n\n    nums = adjacents(start, nums);\n\n    for (int a_number = 0; a_number &lt; nums.length; a_number++) {\n        System.out.println(\"Array is \" + nums[a_number]);\n    }\n    summate(nums, 0, 0, target);\n    System.out.println(false);\n}\n\npublic static int[] adjacents(int start, int[] nums) {\n    int sum = 0;\n    for (int i = 0; i &lt; nums.length - 1; i++) {\n        if (nums[i] == nums[i + 1]) {\n            sum += nums[i] + nums[i + 1];\n            nums[i] = sum;\n            nums[i + 1] = 0;\n        }\n    }\n    return nums;\n}\n\nstatic void check(int sum, int target) {\n    if (sum == target) {\n        System.out.println(true);\n        System.exit(0);\n    }\n}\n\nstatic void summate(int[] numbers, int index, int sum, int target) {\n    check(sum, target);\n    if (index == numbers.length) {\n        return;\n    }\n    summate(numbers, index + 1, sum + numbers[index], target);\n    check(sum, target);\n    summate(numbers, index + 1, sum, target);\n    check(sum, target);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20694221,"reputation":11,"user_id":15194840,"display_name":"Tom Gerambio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632492098,"creation_date":1632492098,"answer_id":69316309,"question_id":6028256,"body_markdown":"   \r\n\r\n     public boolean groupSumClump(int start, int[] nums, int target) {\r\n     \r\n          if(start &gt;= nums.length) return target == 0;\r\n      \r\n          if(start &lt; nums.length-1 &amp;&amp; nums[start] == nums[start+1]){\r\n             int span = 0;\r\n             for(int i = start; i &lt; nums.length &amp;&amp; nums[i] == nums[start]; i++){\r\n                 span++;\r\n            \r\n        } if(groupSumClump(start + span, nums, target)) return true;\r\n           return groupSumClump(start + span, nums, target - nums[start] * span);\r\n           \r\n      \r\n        \r\n        } if(groupSumClump(start + 1, nums, target-nums[start])) return true;\r\n          if(groupSumClump(start +1, nums, target)) return true;\r\n          return false;\r\n        }\r\n\r\n","title":"groupsumClump Problem","body":"<pre><code> public boolean groupSumClump(int start, int[] nums, int target) {\n \n      if(start &gt;= nums.length) return target == 0;\n  \n      if(start &lt; nums.length-1 &amp;&amp; nums[start] == nums[start+1]){\n         int span = 0;\n         for(int i = start; i &lt; nums.length &amp;&amp; nums[i] == nums[start]; i++){\n             span++;\n        \n    } if(groupSumClump(start + span, nums, target)) return true;\n       return groupSumClump(start + span, nums, target - nums[start] * span);\n       \n  \n    \n    } if(groupSumClump(start + 1, nums, target-nums[start])) return true;\n      if(groupSumClump(start +1, nums, target)) return true;\n      return false;\n    }\n</code></pre>\n"}],"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1632492098,"creation_date":1305621362,"question_id":6028256,"body_markdown":"Im struggling to get the below problem right for a quite a while sometime.\r\n\r\nGiven an array of ints, is it possible to choose a group of some of the ints, such that the group sums to the given target, with this additional constraint: if there are numbers in the array that are adjacent and the identical value, they must either all be chosen, or none of them chosen. For example, with the array {1, 2, 2, 2, 5, 2}, either all three 2&#39;s in the middle must be chosen or not, all as a group. (one loop can be used to find the extent of the identical values). \r\n\r\n      groupSumClump(0, {8, 2, 2, 1}, 9) → true      \r\n      groupSumClump(0, {2, 4, 4, 8}, 14) → false     \r\n\r\n\r\nThe code is at http://ideone.com/Udk5q\r\n\r\nFailing test case scenarios:\r\n\r\n           \r\n     groupSumClump(0, {2, 4, 4, 8}, 14) → false --&gt;NegativeArraySizeException\r\n     groupSumClump(0, {8, 2, 2, 1}, 9) → true false --&gt; X\r\n\r\ni have really tried my best to make it work but alas its failing always.\r\nPlease Need your help SO experts to resolve this problem\r\nI will be highly obliged and thankful to you,if you can spare a few minutes to look into my problem as well and help me in acheieving the desired solution.","title":"groupsumClump Problem","body":"<p>Im struggling to get the below problem right for a quite a while sometime.</p>\n\n<p>Given an array of ints, is it possible to choose a group of some of the ints, such that the group sums to the given target, with this additional constraint: if there are numbers in the array that are adjacent and the identical value, they must either all be chosen, or none of them chosen. For example, with the array {1, 2, 2, 2, 5, 2}, either all three 2's in the middle must be chosen or not, all as a group. (one loop can be used to find the extent of the identical values). </p>\n\n<pre><code>  groupSumClump(0, {8, 2, 2, 1}, 9) → true      \n  groupSumClump(0, {2, 4, 4, 8}, 14) → false     \n</code></pre>\n\n<p>The code is at <a href=\"http://ideone.com/Udk5q\" rel=\"nofollow\">http://ideone.com/Udk5q</a></p>\n\n<p>Failing test case scenarios:</p>\n\n<pre><code> groupSumClump(0, {2, 4, 4, 8}, 14) → false --&gt;NegativeArraySizeException\n groupSumClump(0, {8, 2, 2, 1}, 9) → true false --&gt; X\n</code></pre>\n\n<p>i have really tried my best to make it work but alas its failing always.\nPlease Need your help SO experts to resolve this problem\nI will be highly obliged and thankful to you,if you can spare a few minutes to look into my problem as well and help me in acheieving the desired solution.</p>\n"},{"tags":["java","logging"],"answers":[{"tags":[],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632492068,"creation_date":1632492068,"answer_id":69316302,"question_id":69316214,"body_markdown":"Step 1: Get the caller class. To avoid duplication, see this Q&amp;A: https://stackoverflow.com/a/45811032/2170192 \r\n\r\nStep 2: Get logger by the caller class. ","title":"How to get caller class&#39; logger","body":"<p>Step 1: Get the caller class. To avoid duplication, see this Q&amp;A: <a href=\"https://stackoverflow.com/a/45811032/2170192\">https://stackoverflow.com/a/45811032/2170192</a></p>\n<p>Step 2: Get logger by the caller class.</p>\n"}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69316302,"answer_count":1,"score":1,"last_activity_date":1632492088,"creation_date":1632491680,"question_id":69316214,"body_markdown":"I have a util class with static function `doSthAndLogIt()`.\r\n\r\nInside it I want to do something + logging.\r\n\r\nMy question is, without passing the logger as param in `doSthAndLogIt(Logger logger)`, is there a way to get the logger from the class that calls `doSthAndLogIt()`?\r\n\r\n---\r\nMore context:\r\n```java\r\npublic class UtilClz(){\r\n  // I don&#39;t want to use UtilClz&#39;s own logger, as caller&#39;s info will be lost\r\n  // Logger utilLogger = Logger.getLogger(UtilClz.class);\r\n\r\n  public static void doSthAndLogIt(Runnable runnable){\r\n    runnable.run();\r\n    //do logging\r\n    //callerLogger.info(...)\r\n  };\r\n}\r\n\r\npublic class Caller(){\r\n  Logger callerLogger = Logger.getLogger(Caller.class);\r\n\r\n  public void doIt(){\r\n    UtilClz.doSthAndLogIt( () -&gt; doSth() );\r\n  }\r\n}\r\n```\r\n\r\nWhat I want to achieve, is to somehow get `callerLogger` to log message in `UtilClz::doSthAndLogIt` without passing `callerLogger` in as function param","title":"How to get caller class&#39; logger","body":"<p>I have a util class with static function <code>doSthAndLogIt()</code>.</p>\n<p>Inside it I want to do something + logging.</p>\n<p>My question is, without passing the logger as param in <code>doSthAndLogIt(Logger logger)</code>, is there a way to get the logger from the class that calls <code>doSthAndLogIt()</code>?</p>\n<hr />\n<p>More context:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UtilClz(){\n  // I don't want to use UtilClz's own logger, as caller's info will be lost\n  // Logger utilLogger = Logger.getLogger(UtilClz.class);\n\n  public static void doSthAndLogIt(Runnable runnable){\n    runnable.run();\n    //do logging\n    //callerLogger.info(...)\n  };\n}\n\npublic class Caller(){\n  Logger callerLogger = Logger.getLogger(Caller.class);\n\n  public void doIt(){\n    UtilClz.doSthAndLogIt( () -&gt; doSth() );\n  }\n}\n</code></pre>\n<p>What I want to achieve, is to somehow get <code>callerLogger</code> to log message in <code>UtilClz::doSthAndLogIt</code> without passing <code>callerLogger</code> in as function param</p>\n"},{"tags":["java","spring","jackson","objectmapper","fasterxml"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1632490831,"post_id":69315789,"comment_id":122514097,"body_markdown":"I replicated your code and it worked, it needed to remove the line: `mapper.setAnnotationIntrospector(new JaxbAnnotationIntrospector(TypeFactory.defaultInstance()));`. Can you try it?","body":"I replicated your code and it worked, it needed to remove the line: <code>mapper.setAnnotationIntrospector(new JaxbAnnotationIntrospector(TypeFactory.defaultInstance()));</code>. Can you try it?"}],"answers":[{"tags":[],"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632491855,"creation_date":1632491855,"answer_id":69316248,"question_id":69315789,"body_markdown":"It was working fine for me.\r\n\r\n&gt; Test.java\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.test.check.Order;\r\n    \r\n    public abstract class Test {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \r\n    \t\tObjectMapper map = new ObjectMapper();\r\n    \r\n    \t\tString op = &quot;{\\&quot;ID_BUY\\&quot;:1234567}&quot;;\r\n    \t\tOrder orderObj = map.readValue(op, Order.class);\r\n    \r\n    \t\tSystem.out.println(&quot;printing output--&gt;&quot; + orderObj);\r\n    \t\tSystem.out.println(&quot;printing output--&gt;&quot; + orderObj.toString());\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n&gt; Order.java\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    \r\n    import lombok.Data;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @Setter\r\n    @Getter\r\n    @Data\r\n    public class Order {\r\n    \r\n    \t@JsonProperty(&quot;ID_BUY&quot;)\r\n    \tprivate String arun;\r\n    \r\n    }\r\n\r\n&gt; Output:\r\n\r\n    printing output--&gt;Order(arun=1234567)\r\n    printing output--&gt;Order(arun=1234567)\r\n\r\n","title":"Mapping JSON string to POJO with differing attributes","body":"<p>It was working fine for me.</p>\n<blockquote>\n<p>Test.java</p>\n</blockquote>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.test.check.Order;\n\npublic abstract class Test {\n\n    public static void main(String[] args) throws Exception {\n\n        ObjectMapper map = new ObjectMapper();\n\n        String op = &quot;{\\&quot;ID_BUY\\&quot;:1234567}&quot;;\n        Order orderObj = map.readValue(op, Order.class);\n\n        System.out.println(&quot;printing output--&gt;&quot; + orderObj);\n        System.out.println(&quot;printing output--&gt;&quot; + orderObj.toString());\n\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>Order.java</p>\n</blockquote>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\n\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Setter\n@Getter\n@Data\npublic class Order {\n\n    @JsonProperty(&quot;ID_BUY&quot;)\n    private String arun;\n\n}\n</code></pre>\n<blockquote>\n<p>Output:</p>\n</blockquote>\n<pre><code>printing output--&gt;Order(arun=1234567)\nprinting output--&gt;Order(arun=1234567)\n</code></pre>\n"}],"owner":{"account_id":12366930,"reputation":769,"user_id":9018573,"accept_rate":43,"display_name":"AKJ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632491855,"creation_date":1632489889,"question_id":69315789,"body_markdown":"I have a jsonString that looks like this:\r\n\r\n    String jsonString = &quot;{\\&quot;ID_BUY\\&quot;:1234567}&quot;;\r\n\r\nAnd I have a POJO:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @SuperBuilder\r\n    @JsonInclude(Include,NON_EMPTY)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Order() {\r\n      @JsonProperty(&quot;ID_BUY&quot;)\r\n      private String identityBuy;\r\n    }\r\n\r\nI am using ObjectMapper:\r\n\r\n    ObjectMapper mapper = new ObjectMapper()\r\n      .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\r\n      .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n      .configure(MapperFeature.USE_ANNOTATION, true);\r\n    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    mapper.setAnnotationIntrospector(new JaxbAnnotationIntrospector(TypeFactory.defaultInstance()));\r\n\r\nWhen I perform \r\n\r\n    Order output = mapper.readValue(jsonString, Order.class);\r\n\r\nand print out\r\n\r\n    System.out.println(output.toString());\r\n\r\nI notice that the identityBuy has a value of null.\r\n\r\nIs there a way to get the mapper to take note of the @JsonProperty annotation?\r\n\r\nCould someone point me in the right direction.","title":"Mapping JSON string to POJO with differing attributes","body":"<p>I have a jsonString that looks like this:</p>\n<pre><code>String jsonString = &quot;{\\&quot;ID_BUY\\&quot;:1234567}&quot;;\n</code></pre>\n<p>And I have a POJO:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@SuperBuilder\n@JsonInclude(Include,NON_EMPTY)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Order() {\n  @JsonProperty(&quot;ID_BUY&quot;)\n  private String identityBuy;\n}\n</code></pre>\n<p>I am using ObjectMapper:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper()\n  .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\n  .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n  .configure(MapperFeature.USE_ANNOTATION, true);\nmapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\nmapper.setAnnotationIntrospector(new JaxbAnnotationIntrospector(TypeFactory.defaultInstance()));\n</code></pre>\n<p>When I perform</p>\n<pre><code>Order output = mapper.readValue(jsonString, Order.class);\n</code></pre>\n<p>and print out</p>\n<pre><code>System.out.println(output.toString());\n</code></pre>\n<p>I notice that the identityBuy has a value of null.</p>\n<p>Is there a way to get the mapper to take note of the @JsonProperty annotation?</p>\n<p>Could someone point me in the right direction.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":2,"creation_date":1632479124,"post_id":69313415,"comment_id":122509403,"body_markdown":"Instead of one array per &quot;student&quot; make it one array for all student records, `&quot;student&quot;: [{&quot;name&quot;:...}, {&quot;name&quot;:...}]`","body":"Instead of one array per &quot;student&quot; make it one array for all student records, <code>&quot;student&quot;: [{&quot;name&quot;:...}, {&quot;name&quot;:...}]</code>"},{"owner":{"account_id":8199693,"reputation":21,"user_id":6171410,"display_name":"Dinesh"},"score":0,"creation_date":1632479513,"post_id":69313415,"comment_id":122509578,"body_markdown":"Thanks @JoakimDanielson.  I need structure like this instead of one array. Is it possible?","body":"Thanks @JoakimDanielson.  I need structure like this instead of one array. Is it possible?"},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":1,"creation_date":1632479828,"post_id":69313415,"comment_id":122509706,"body_markdown":"No, you don&#39;t need that. I of course have no idea what you are trying to do here but you need to re-think your solution or you have misunderstood some requirement because you can&#39;t have duplicate keys and there is really no point in having them either.","body":"No, you don&#39;t need that. I of course have no idea what you are trying to do here but you need to re-think your solution or you have misunderstood some requirement because you can&#39;t have duplicate keys and there is really no point in having them either."},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1632483975,"post_id":69313415,"comment_id":122511377,"body_markdown":"If you must have a structure that looks like this then can you replace &quot;student&quot; at the outer level with something that is actually a map key such as the &quot;id&quot; element from the student details map?","body":"If you must have a structure that looks like this then can you replace &quot;student&quot; at the outer level with something that is actually a map key such as the &quot;id&quot; element from the student details map?"}],"answers":[{"tags":[],"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632481250,"creation_date":1632481250,"answer_id":69313913,"question_id":69313415,"body_markdown":"The format you describe, with duplicated keys, is not a good one. As [RFC 8259](https://datatracker.ietf.org/doc/html/rfc8259#section-4) says:\r\n\r\n&gt; The names within an object SHOULD be unique.\r\n\r\nAs such, you&#39;re unlikely to find a library that makes it easy to generate this format, and you can&#39;t predict which `student` consumers would use.\r\n\r\nIt&#39;s reasonable to compose JSON as strings, if you&#39;re careful. The outer structure is simple. Generate it by concatenating hardcoded strings of JSON, then concatenate a [generated `String`](https://stackoverflow.com/questions/15786129/converting-java-objects-to-json-with-jackson) for each individual `student` object.\r\n\r\n","title":"Add Duplicate Keys in JSON - Java","body":"<p>The format you describe, with duplicated keys, is not a good one. As <a href=\"https://datatracker.ietf.org/doc/html/rfc8259#section-4\" rel=\"nofollow noreferrer\">RFC 8259</a> says:</p>\n<blockquote>\n<p>The names within an object SHOULD be unique.</p>\n</blockquote>\n<p>As such, you're unlikely to find a library that makes it easy to generate this format, and you can't predict which <code>student</code> consumers would use.</p>\n<p>It's reasonable to compose JSON as strings, if you're careful. The outer structure is simple. Generate it by concatenating hardcoded strings of JSON, then concatenate a <a href=\"https://stackoverflow.com/questions/15786129/converting-java-objects-to-json-with-jackson\">generated <code>String</code></a> for each individual <code>student</code> object.</p>\n"},{"tags":[],"owner":{"account_id":4157256,"reputation":443,"user_id":3408204,"accept_rate":83,"display_name":"Nergon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632491616,"creation_date":1632491616,"answer_id":69316200,"question_id":69313415,"body_markdown":"This is considered an invalid JSON as per [RFC-8259](https://datatracker.ietf.org/doc/html/rfc8259#section-4).\r\n\r\nInstead you can group your students in an array\r\n```json\r\n{\r\n    &quot;students&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;TEST&quot;,\r\n            &quot;id&quot;: &quot;1234&quot;,\r\n            &quot;@class&quot; : &quot;10&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;TEST12&quot;,\r\n            &quot;id&quot;: &quot;1235&quot;,\r\n            &quot;@class&quot; : &quot;12&quot;\r\n        }\r\n    ]\r\n}\r\n\r\n``` ","title":"Add Duplicate Keys in JSON - Java","body":"<p>This is considered an invalid JSON as per <a href=\"https://datatracker.ietf.org/doc/html/rfc8259#section-4\" rel=\"nofollow noreferrer\">RFC-8259</a>.</p>\n<p>Instead you can group your students in an array</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;students&quot;: [\n        {\n            &quot;name&quot;: &quot;TEST&quot;,\n            &quot;id&quot;: &quot;1234&quot;,\n            &quot;@class&quot; : &quot;10&quot;\n        },\n        {\n            &quot;name&quot;: &quot;TEST12&quot;,\n            &quot;id&quot;: &quot;1235&quot;,\n            &quot;@class&quot; : &quot;12&quot;\n        }\n    ]\n}\n\n</code></pre>\n"}],"owner":{"account_id":8199693,"reputation":21,"user_id":6171410,"display_name":"Dinesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1632491616,"creation_date":1632478937,"question_id":69313415,"body_markdown":"```json\r\n{\r\n\t&quot;student&quot;: [\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;TEST&quot;,\r\n\t\t\t&quot;id&quot;: &quot;1234&quot;,\r\n\t\t\t&quot;@class&quot; : &quot;10&quot;\r\n\t\t}\r\n\t],\r\n\t&quot;student&quot;: [\r\n\t\t{\r\n\t\t\t&quot;name&quot;: &quot;TEST12&quot;,\r\n\t\t\t&quot;id&quot;: &quot;1235&quot;,\r\n\t\t\t&quot;@class&quot; : &quot;12&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nHow to generate the JSON like this from classObj or any other way?","title":"Add Duplicate Keys in JSON - Java","body":"<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;student&quot;: [\n        {\n            &quot;name&quot;: &quot;TEST&quot;,\n            &quot;id&quot;: &quot;1234&quot;,\n            &quot;@class&quot; : &quot;10&quot;\n        }\n    ],\n    &quot;student&quot;: [\n        {\n            &quot;name&quot;: &quot;TEST12&quot;,\n            &quot;id&quot;: &quot;1235&quot;,\n            &quot;@class&quot; : &quot;12&quot;\n        }\n    ]\n}\n</code></pre>\n<p>How to generate the JSON like this from classObj or any other way?</p>\n"},{"tags":["java","eclipse","testing","intellij-idea","junit"],"answers":[{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418991877,"creation_date":1418978967,"answer_id":27562463,"question_id":27561391,"body_markdown":"Yes, given that you are using the IntelliJ test runner (rather than running the tests via maven), you can use the *Rerun Failed Tests* function.\r\n\r\nhttps://www.jetbrains.com/idea/help/rerunning-tests.html\r\n\r\nEdit: based on your comment, can I suggest you run the single test you are working on in &quot;debug&quot; mode, this won&#39;t erase the history of your compelte test suite, and you can do that in in combination with the *Rerun Failed Tests* as needed.","title":"Intellij test run history","body":"<p>Yes, given that you are using the IntelliJ test runner (rather than running the tests via maven), you can use the <em>Rerun Failed Tests</em> function.</p>\n\n<p><a href=\"https://www.jetbrains.com/idea/help/rerunning-tests.html\" rel=\"nofollow\">https://www.jetbrains.com/idea/help/rerunning-tests.html</a></p>\n\n<p>Edit: based on your comment, can I suggest you run the single test you are working on in \"debug\" mode, this won't erase the history of your compelte test suite, and you can do that in in combination with the <em>Rerun Failed Tests</em> as needed.</p>\n"},{"tags":[],"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1418992048,"creation_date":1418992048,"answer_id":27566183,"question_id":27561391,"body_markdown":"You can right-click a tab with test results and select the &quot;Pin Tab&quot; option from the context menu. Then further test executions will not overwrite this tab, and you can still refer to it to see which other tests you need to fix.","title":"Intellij test run history","body":"<p>You can right-click a tab with test results and select the \"Pin Tab\" option from the context menu. Then further test executions will not overwrite this tab, and you can still refer to it to see which other tests you need to fix.</p>\n"},{"tags":[],"owner":{"account_id":1419488,"reputation":2745,"user_id":1344424,"accept_rate":41,"display_name":"Teocali"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1472941109,"creation_date":1463147410,"answer_id":37211769,"question_id":27561391,"body_markdown":"On the current version of Intellij (2016), you have now a way to reimport older test Result. On the runner tab, click on the button &quot;Import test Results&quot;, and select the one you want\r\n[![Tests Tab Buttons bar screenshot][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/raV6u.png\r\n\r\nEDIT : In the latest version, you have a &quot;Recent Tests&quot; action which allow you to see older test result without a need to open the rest windows. Shortcut **Ctrl+Shift+Semicolon**","title":"Intellij test run history","body":"<p>On the current version of Intellij (2016), you have now a way to reimport older test Result. On the runner tab, click on the button \"Import test Results\", and select the one you want\n<a href=\"https://i.stack.imgur.com/raV6u.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/raV6u.png\" alt=\"Tests Tab Buttons bar screenshot\"></a></p>\n\n<p>EDIT : In the latest version, you have a \"Recent Tests\" action which allow you to see older test result without a need to open the rest windows. Shortcut <strong>Ctrl+Shift+Semicolon</strong></p>\n"},{"tags":[],"owner":{"account_id":309910,"reputation":1626,"user_id":622606,"accept_rate":89,"display_name":"Kirin Yao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608271699,"creation_date":1608271699,"answer_id":65352486,"question_id":27561391,"body_markdown":"You can also click the &quot;Test History&quot; button to see the old tests result.","title":"Intellij test run history","body":"<p>You can also click the &quot;Test History&quot; button to see the old tests result.</p>\n"},{"tags":[],"owner":{"account_id":22848383,"reputation":21,"user_id":16994403,"display_name":"Vlad Vershinin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632491600,"creation_date":1632491600,"answer_id":69316196,"question_id":27561391,"body_markdown":"Not relevant for Idea 13, but in 2021 this functionality is present in Idea.\r\nhttps://www.jetbrains.com/help/idea/viewing-and-exploring-test-results.html#view-previous","title":"Intellij test run history","body":"<p>Not relevant for Idea 13, but in 2021 this functionality is present in Idea.\n<a href=\"https://www.jetbrains.com/help/idea/viewing-and-exploring-test-results.html#view-previous\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/viewing-and-exploring-test-results.html#view-previous</a></p>\n"}],"owner":{"account_id":277253,"reputation":1066,"user_id":571143,"accept_rate":71,"display_name":"kajman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8078,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":27566183,"answer_count":5,"score":19,"last_activity_date":1632491600,"creation_date":1418973608,"question_id":27561391,"body_markdown":"What I miss the most in IntelliJ compared to Eclipse is the test run history window. Does anything like this exist in IntelliJ? I didn&#39;t find it anywhere so far and have looked a few times at least.\r\n\r\nIn our project we have ~500 integration test cases which take like 5 minutes to run from IDE. Often I have a situation where for e.g. 5 tests fail in 2-3 different classes. I fix something, that should remove failures from first test suite, rerun it to see if it helped and I must rerun all 500 tests to see which classes contained failures earlier. That is really painful. In eclipse I would just lookup those in test history, repair them also and finally run all 500 to check if nothing new camed up.\r\n\r\nIs there a plugin out there or do I miss something obvious?\r\n\r\nI use IntelliJ 13.","title":"Intellij test run history","body":"<p>What I miss the most in IntelliJ compared to Eclipse is the test run history window. Does anything like this exist in IntelliJ? I didn't find it anywhere so far and have looked a few times at least.</p>\n\n<p>In our project we have ~500 integration test cases which take like 5 minutes to run from IDE. Often I have a situation where for e.g. 5 tests fail in 2-3 different classes. I fix something, that should remove failures from first test suite, rerun it to see if it helped and I must rerun all 500 tests to see which classes contained failures earlier. That is really painful. In eclipse I would just lookup those in test history, repair them also and finally run all 500 to check if nothing new camed up.</p>\n\n<p>Is there a plugin out there or do I miss something obvious?</p>\n\n<p>I use IntelliJ 13.</p>\n"},{"tags":["java","micronaut"],"answers":[{"tags":[],"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632489534,"creation_date":1632489534,"answer_id":69315707,"question_id":69309508,"body_markdown":"You aren&#39;t setting the default environment here\r\n\r\n```\r\nApplicationContext.run();\r\n```\r\n\r\nThat is why","title":"Environment-specific properties are not loaded in Micronaut","body":"<p>You aren't setting the default environment here</p>\n<pre><code>ApplicationContext.run();\n</code></pre>\n<p>That is why</p>\n"},{"tags":[],"owner":{"account_id":1952700,"reputation":3,"user_id":1756456,"display_name":"ecagiral"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632491596,"creation_date":1632491596,"answer_id":69316194,"question_id":69309508,"body_markdown":"You create a second application without environment instead of using the existing one with &quot;dev&quot; environment. \r\n\r\nYou can inject the existing context instead of creating a new one\r\n\r\n    @Inject\r\n    ApplicationContext applicationContext;","title":"Environment-specific properties are not loaded in Micronaut","body":"<p>You create a second application without environment instead of using the existing one with &quot;dev&quot; environment.</p>\n<p>You can inject the existing context instead of creating a new one</p>\n<pre><code>@Inject\nApplicationContext applicationContext;\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632491596,"creation_date":1632457141,"question_id":69309508,"body_markdown":"I am trying to load the environment-specific properties using Micronaut 3. I have two files `application.yml` and `application-dev.yml`\r\n\r\n**application.yml**\r\n\r\n    micronaut:\r\n      security:\r\n        authentication: bearer\r\n        token:\r\n          jwt:\r\n            signatures:\r\n              jwks:\r\n                IdentityServer:\r\n                  url: &#39;https://localhost:5001/.well-known/openid-configuration/jwks&#39;\r\n\r\n**application-dev.yml**\r\n\r\n    micronaut:\r\n      security:\r\n        authentication: bearer\r\n        token:\r\n          jwt:\r\n            signatures:\r\n              jwks:\r\n                identityServer:\r\n                  url: &#39;https://falconidentity.azurewebsites.net/.well-known/openid-configuration/jwks&#39;\r\n\r\ntrying to access the URL \r\n\r\n    @ConfigurationProperties(&quot;micronaut.security.token.jwt.signatures.jwks.identityServer&quot;)\r\n    public record OAuthProperties(String url) {\r\n    }\r\n\r\n     var ctx = ApplicationContext.run();\r\n            var teamConfiguration = ctx.getBean(OAuthProperties.class);\r\n\r\nIn the teamConfiguration variable I am able to see the value from the `application.yml` file not from the `application-dev.yml` file.\r\n\r\nAs I know by default Micronaut only looks for application.yml. Then, for tests,dev and prod, it loads application.yml and overrides any values there with the ones defined in application-test.yml, application-dev.yml and application-prod.yml.However, this is not working for me.\r\n\r\nI have setup the default environment as well\r\n\r\n    Micronaut.build(args)\r\n                    .mainClass(ApiGateway.class)\r\n                    .defaultEnvironments(&quot;dev&quot;)\r\n                    .start();","title":"Environment-specific properties are not loaded in Micronaut","body":"<p>I am trying to load the environment-specific properties using Micronaut 3. I have two files <code>application.yml</code> and <code>application-dev.yml</code></p>\n<p><strong>application.yml</strong></p>\n<pre><code>micronaut:\n  security:\n    authentication: bearer\n    token:\n      jwt:\n        signatures:\n          jwks:\n            IdentityServer:\n              url: 'https://localhost:5001/.well-known/openid-configuration/jwks'\n</code></pre>\n<p><strong>application-dev.yml</strong></p>\n<pre><code>micronaut:\n  security:\n    authentication: bearer\n    token:\n      jwt:\n        signatures:\n          jwks:\n            identityServer:\n              url: 'https://falconidentity.azurewebsites.net/.well-known/openid-configuration/jwks'\n</code></pre>\n<p>trying to access the URL</p>\n<pre><code>@ConfigurationProperties(&quot;micronaut.security.token.jwt.signatures.jwks.identityServer&quot;)\npublic record OAuthProperties(String url) {\n}\n\n var ctx = ApplicationContext.run();\n        var teamConfiguration = ctx.getBean(OAuthProperties.class);\n</code></pre>\n<p>In the teamConfiguration variable I am able to see the value from the <code>application.yml</code> file not from the <code>application-dev.yml</code> file.</p>\n<p>As I know by default Micronaut only looks for application.yml. Then, for tests,dev and prod, it loads application.yml and overrides any values there with the ones defined in application-test.yml, application-dev.yml and application-prod.yml.However, this is not working for me.</p>\n<p>I have setup the default environment as well</p>\n<pre><code>Micronaut.build(args)\n                .mainClass(ApiGateway.class)\n                .defaultEnvironments(&quot;dev&quot;)\n                .start();\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7994,"page":1998,"page_size":100}
