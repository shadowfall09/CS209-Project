{"items":[{"tags":["java","generics","functional-programming","type-safety","generic-method"],"comments":[{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1681444897,"post_id":76011340,"comment_id":134060591,"body_markdown":"You&#39;re doing it. The inference engine goes: Oh, great, if `T` is `Object` everything works great - `123` (`Integer`) is an `Object`, and `String` indeed extends `Object`. What you &#39;want&#39; doesn&#39;t make sense. Separate from the non-sensical notion (which is that you want to treat, presumably, java as if it is invariant, it isn&#39;t), this method is a bad idea. `Class&lt;O&gt;` to attempt to reify generics is a bad idea (you can&#39;t then have e.g. `List&lt;String&gt;` for O, you can&#39;t stick generics in there. Just an example.","body":"You&#39;re doing it. The inference engine goes: Oh, great, if <code>T</code> is <code>Object</code> everything works great - <code>123</code> (<code>Integer</code>) is an <code>Object</code>, and <code>String</code> indeed extends <code>Object</code>. What you &#39;want&#39; doesn&#39;t make sense. Separate from the non-sensical notion (which is that you want to treat, presumably, java as if it is invariant, it isn&#39;t), this method is a bad idea. <code>Class&lt;O&gt;</code> to attempt to reify generics is a bad idea (you can&#39;t then have e.g. <code>List&lt;String&gt;</code> for O, you can&#39;t stick generics in there. Just an example."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1681445894,"post_id":76011340,"comment_id":134060702,"body_markdown":"If `t` must be an instance of a subclass, make the superclass `abstract` and all parameters will be subclasses because there won&#39;t be any instances of the parent classes.","body":"If <code>t</code> must be an instance of a subclass, make the superclass <code>abstract</code> and all parameters will be subclasses because there won&#39;t be any instances of the parent classes."},{"owner":{"account_id":3686279,"reputation":20084,"user_id":3757232,"accept_rate":90,"display_name":"Jared Smith"},"score":0,"creation_date":1681487431,"post_id":76011340,"comment_id":134069600,"body_markdown":"What does this have to do with Functional Programming?","body":"What does this have to do with Functional Programming?"},{"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"score":1,"creation_date":1681518783,"post_id":76011340,"comment_id":134074619,"body_markdown":"@JaredSmith I needed something like a Prism that&#39;s a functional programming concept","body":"@JaredSmith I needed something like a Prism that&#39;s a functional programming concept"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681454889,"creation_date":1681454083,"answer_id":76012191,"question_id":76011340,"body_markdown":"To simplify the question, I believe you cannot enforce a complication error for a function like this, if the arguments do not match the generic rule:\r\n\r\n    public &lt;A, B extends A&gt; void doNothing(A a, Class&lt;B&gt; b) {\r\n    }\r\n\r\n    @Test\r\n    void test() {   \r\n        doNothing(123, String.class);\r\n    }\r\n\r\nHowever, you can simplify the code a bit and you can throw runtime exceptions if the types do not match. Though, since you are going with Optionals, you can simply stick to Optional.empty, as you had in your example. A simple refactor:\r\n\r\n    public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(\r\n    \t\tT t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls) {\r\n    \r\n    \treturn assign(t, cls)\r\n    \t\t\t.flatMap(x -&gt; some(x))\r\n    \t\t\t.flatMap(f);\r\n    }\r\n    \r\n    private static &lt;T, O&gt; Optional&lt;O&gt; assign(T t, Class&lt;O&gt; cls) {\r\n    \tif (cls.isAssignableFrom(t.getClass())) {\r\n    \t\treturn Optional.ofNullable((O) t);\r\n    \t} \r\n    \treturn Optional.empty();\r\n    }","title":"Only permits children classes as generic parameters","body":"<p>To simplify the question, I believe you cannot enforce a complication error for a function like this, if the arguments do not match the generic rule:</p>\n<pre><code>public &lt;A, B extends A&gt; void doNothing(A a, Class&lt;B&gt; b) {\n}\n\n@Test\nvoid test() {   \n    doNothing(123, String.class);\n}\n</code></pre>\n<p>However, you can simplify the code a bit and you can throw runtime exceptions if the types do not match. Though, since you are going with Optionals, you can simply stick to Optional.empty, as you had in your example. A simple refactor:</p>\n<pre><code>public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(\n        T t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls) {\n\n    return assign(t, cls)\n            .flatMap(x -&gt; some(x))\n            .flatMap(f);\n}\n\nprivate static &lt;T, O&gt; Optional&lt;O&gt; assign(T t, Class&lt;O&gt; cls) {\n    if (cls.isAssignableFrom(t.getClass())) {\n        return Optional.ofNullable((O) t);\n    } \n    return Optional.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681454889,"creation_date":1681441985,"question_id":76011340,"body_markdown":"Java 17\r\n\r\nI&#39;m implementing the following method:\r\n\r\n    public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(T t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls){\r\n        Optional&lt;O&gt; opt;\r\n        if(cls.isAssignableFrom(t.getClass())){\r\n            opt = some((O) t);\r\n        } else\r\n            opt = empty();\r\n        return opt.flatMap(f);\r\n    }\r\n\r\nwhich is supposed to return non empty Optional if the runtime type of argument of type `T` is subclass of type parameter `O` and flatMap it with the given `Function`. The problem with this implementation is that the following still compiles:\r\n\r\n    toOption(123, v -&gt; Optional.of(v), String.class);\r\n\r\nBut `Integer` and `String` are unrelated. So `O extends T` does not really works. Is there a way to make such cases not compile?","title":"Only permits children classes as generic parameters","body":"<p>Java 17</p>\n<p>I'm implementing the following method:</p>\n<pre><code>public static &lt;T, O extends T, V&gt; Optional&lt;V&gt; toOption(T t, Function&lt;? super O, ? extends Optional&lt;V&gt;&gt; f, Class&lt;O&gt; cls){\n    Optional&lt;O&gt; opt;\n    if(cls.isAssignableFrom(t.getClass())){\n        opt = some((O) t);\n    } else\n        opt = empty();\n    return opt.flatMap(f);\n}\n</code></pre>\n<p>which is supposed to return non empty Optional if the runtime type of argument of type <code>T</code> is subclass of type parameter <code>O</code> and flatMap it with the given <code>Function</code>. The problem with this implementation is that the following still compiles:</p>\n<pre><code>toOption(123, v -&gt; Optional.of(v), String.class);\n</code></pre>\n<p>But <code>Integer</code> and <code>String</code> are unrelated. So <code>O extends T</code> does not really works. Is there a way to make such cases not compile?</p>\n"},{"tags":["java","class","object","methods"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":1,"creation_date":1681448416,"post_id":76011722,"comment_id":134060940,"body_markdown":"I notice that you&#39;re using `DEFAULT_SIDE_LENGTH` and `DEFAULT_SIDE_COUNT` instead of `polygon.getLength()` and `polygon.getSides()`. Is it possible you meant for the equals() method to compare to the other polygon argument, instead of to the default values?","body":"I notice that you&#39;re using <code>DEFAULT_SIDE_LENGTH</code> and <code>DEFAULT_SIDE_COUNT</code> instead of <code>polygon.getLength()</code> and <code>polygon.getSides()</code>. Is it possible you meant for the equals() method to compare to the other polygon argument, instead of to the default values?"},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1681449106,"post_id":76011722,"comment_id":134061004,"body_markdown":"but your equal methods says that they are NOT equal since (15.13 - 15.2 = ) 0.01 is NOT smaller than episilon 0.0000001d","body":"but your equal methods says that they are NOT equal since (15.13 - 15.2 = ) 0.01 is NOT smaller than episilon 0.0000001d"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681450288,"post_id":76011722,"comment_id":134061145,"body_markdown":"What types of polygons are you dealing with for equality here?  There are three properties to check for polygon equality, but there are only checks for two of the three here.  I only see #1 and #3 here.  Or are you always comparing two polygons of the same type--decagon and same angles?  (1) number of sides (2) angles between sides (3) length of the sides.","body":"What types of polygons are you dealing with for equality here?  There are three properties to check for polygon equality, but there are only checks for two of the three here.  I only see #1 and #3 here.  Or are you always comparing two polygons of the same type--decagon and same angles?  (1) number of sides (2) angles between sides (3) length of the sides."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1681454356,"post_id":76011722,"comment_id":134061775,"body_markdown":"This last comment was simply based on a link I found.  https://www.skillsyouneed.com/num/polygons.html","body":"This last comment was simply based on a link I found.  <a href=\"https://www.skillsyouneed.com/num/polygons.html\" rel=\"nofollow noreferrer\">skillsyouneed.com/num/polygons.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681454581,"creation_date":1681451186,"answer_id":76011930,"question_id":76011722,"body_markdown":"This is a good tutorial about Java object oriented programming concepts.\r\n\r\nhttps://turreta.com/2020/07/26/java-object-and-its-properties-and-behaviors/\r\n\r\nWhenever you have a class, any object instantiated with that class which calls a method of that class is the object (`this`) in question.  And any parameter with the same type of the class itself is the object you are comparing to, whenever the equals method is overridden.  This is true for a non static method, which you have.  For a static method, you would need to pass in both Polygon objects (two parameters).\r\n\r\nSo in your example, `poly1` is the instantiated object and `poly2` (Polygon polygon as parameter) is the compared object.  I just changed the object in reference to the properties length and sides.  I&#39;m assuming length is a property in your class and I&#39;m assuming sides is a property of your class.  The object `this` refers to `poly1` (instantiated object), but since we are in a method owned by `poly1`, we can refer to the object as `this`.  And `polygon` is the variable for the `poly2` object that is passed into the method parameter.\r\n\r\nMy answer is purely from an object oriented perspective!  I have no idea what the epsilon value is for, but I&#39;m assuming you know the math behind it.   I&#39;m assuming this is for percentage error checking with the observed value and the actual value, and nothing more.  And I&#39;m also assuming the type of polygon is the same for poly1 and poly2 when this method is called, with the exact same angles between sides.\r\n\r\n    public boolean equals(Polygon polygon){\r\n        boolean areEqual = false;\r\n        double episilon = 0.0000001d;\r\n        // double difference = Math.abs(this.length - polygon.length);\r\n        double difference = Math.abs(this.getLength() - polygon.getLength());\r\n        // if ((difference &lt; episilon) &amp;&amp; (this.sides == polygon.sides))\r\n        if ((difference &lt; episilon) &amp;&amp; (this.getSides() == polygon.getSides()))\r\n            areEqual = true;\r\n        return areEqual;\r\n    }\r\n\r\nThis assumes the Polygon class also has two properties.  Just make sure in your class constructor, you define these as parameters, and set the value of these properties in the class.  And in the comments of the question, there was mention of having a method getSides() and getLength().  I added these to the code above.  That is a cleaner way of getting the value of properties.  In fact, you may need to change the access modifier of the properties if you use the commented out lines of getting the properties directly, and it&#39;s not recommended in Java.\r\n\r\n    int sides = 0;\r\n    double length = 0;\r\n\r\n    public string getSides() {\r\n        return this.sides;\r\n    }\r\n    \r\n    public void getLength() {\r\n        return this.length\r\n    }\r\n\r\nSo if the method were static, then the method would NOT belong to a specific object, in which case you need two Polygon objects as parameters.  And you may need a different method name, since Object always has the method equals.  You were just overriding the equals method in the above version of the method.  This just shows the logic behind the Polygon class properties (length &amp; sides) you are checking in the logic, so it&#39;s easier to understand.  But your code is clearly for a non static method!  I believe your constants (variables in upper case) in your question was just a way to get the logic to work without understanding how objects work with object orientation.  Completely understandable.\r\n\r\n    public static boolean equals2(Polygon polygon1, Polygon polygon2){\r\n        boolean areEqual = false;\r\n        double episilon = 0.0000001d;\r\n        double difference = Math.abs(polygon1.length - polygon2.length);\r\n        if ((difference &lt; episilon) &amp;&amp; (polygon1.sides == polygon2.sides))\r\n            areEqual = true;\r\n        return areEqual;\r\n    }\r\n\r\nIn your question source code, `poly1` and `poly2` are already defined.  If you were to instantiate both objects yourself, they&#39;d look something like this.\r\n\r\n    Polygon poly1 = new Polygon(10, 5.13);\r\n    Polygon poly2 = new Polygon(10, 5.12);\r\n\r\nAssuming the constructor had a parameter sides and length respectively.  Inside the constructor, we are setting both properties for `this` object.\r\n\r\n    Polygon(int _sides, double _length){\r\n        System.out.println(&quot;Constructor with two parameters&quot;);\r\n        this.sides = _sides;\r\n        this.length = _length;\r\n    }","title":"Can&#39;t get boolean method to report correct results when comparing polygons in java","body":"<p>This is a good tutorial about Java object oriented programming concepts.</p>\n<p><a href=\"https://turreta.com/2020/07/26/java-object-and-its-properties-and-behaviors/\" rel=\"nofollow noreferrer\">https://turreta.com/2020/07/26/java-object-and-its-properties-and-behaviors/</a></p>\n<p>Whenever you have a class, any object instantiated with that class which calls a method of that class is the object (<code>this</code>) in question.  And any parameter with the same type of the class itself is the object you are comparing to, whenever the equals method is overridden.  This is true for a non static method, which you have.  For a static method, you would need to pass in both Polygon objects (two parameters).</p>\n<p>So in your example, <code>poly1</code> is the instantiated object and <code>poly2</code> (Polygon polygon as parameter) is the compared object.  I just changed the object in reference to the properties length and sides.  I'm assuming length is a property in your class and I'm assuming sides is a property of your class.  The object <code>this</code> refers to <code>poly1</code> (instantiated object), but since we are in a method owned by <code>poly1</code>, we can refer to the object as <code>this</code>.  And <code>polygon</code> is the variable for the <code>poly2</code> object that is passed into the method parameter.</p>\n<p>My answer is purely from an object oriented perspective!  I have no idea what the epsilon value is for, but I'm assuming you know the math behind it.   I'm assuming this is for percentage error checking with the observed value and the actual value, and nothing more.  And I'm also assuming the type of polygon is the same for poly1 and poly2 when this method is called, with the exact same angles between sides.</p>\n<pre><code>public boolean equals(Polygon polygon){\n    boolean areEqual = false;\n    double episilon = 0.0000001d;\n    // double difference = Math.abs(this.length - polygon.length);\n    double difference = Math.abs(this.getLength() - polygon.getLength());\n    // if ((difference &lt; episilon) &amp;&amp; (this.sides == polygon.sides))\n    if ((difference &lt; episilon) &amp;&amp; (this.getSides() == polygon.getSides()))\n        areEqual = true;\n    return areEqual;\n}\n</code></pre>\n<p>This assumes the Polygon class also has two properties.  Just make sure in your class constructor, you define these as parameters, and set the value of these properties in the class.  And in the comments of the question, there was mention of having a method getSides() and getLength().  I added these to the code above.  That is a cleaner way of getting the value of properties.  In fact, you may need to change the access modifier of the properties if you use the commented out lines of getting the properties directly, and it's not recommended in Java.</p>\n<pre><code>int sides = 0;\ndouble length = 0;\n\npublic string getSides() {\n    return this.sides;\n}\n\npublic void getLength() {\n    return this.length\n}\n</code></pre>\n<p>So if the method were static, then the method would NOT belong to a specific object, in which case you need two Polygon objects as parameters.  And you may need a different method name, since Object always has the method equals.  You were just overriding the equals method in the above version of the method.  This just shows the logic behind the Polygon class properties (length &amp; sides) you are checking in the logic, so it's easier to understand.  But your code is clearly for a non static method!  I believe your constants (variables in upper case) in your question was just a way to get the logic to work without understanding how objects work with object orientation.  Completely understandable.</p>\n<pre><code>public static boolean equals2(Polygon polygon1, Polygon polygon2){\n    boolean areEqual = false;\n    double episilon = 0.0000001d;\n    double difference = Math.abs(polygon1.length - polygon2.length);\n    if ((difference &lt; episilon) &amp;&amp; (polygon1.sides == polygon2.sides))\n        areEqual = true;\n    return areEqual;\n}\n</code></pre>\n<p>In your question source code, <code>poly1</code> and <code>poly2</code> are already defined.  If you were to instantiate both objects yourself, they'd look something like this.</p>\n<pre><code>Polygon poly1 = new Polygon(10, 5.13);\nPolygon poly2 = new Polygon(10, 5.12);\n</code></pre>\n<p>Assuming the constructor had a parameter sides and length respectively.  Inside the constructor, we are setting both properties for <code>this</code> object.</p>\n<pre><code>Polygon(int _sides, double _length){\n    System.out.println(&quot;Constructor with two parameters&quot;);\n    this.sides = _sides;\n    this.length = _length;\n}\n</code></pre>\n"}],"owner":{"account_id":28116113,"reputation":33,"user_id":21483200,"display_name":"GrasshopperAtBest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681454581,"creation_date":1681448276,"question_id":76011722,"body_markdown":"I&#39;m trying to compare the inputted polygon object to the default polygon class values. All the other math calculations are correct and properly printed. The only thing I cannot figure out is why this boolean method is reporting back incorrectly. The comparison is the default polygon&#39;s number of sides and side length to the inputted polygon&#39;s # of sides and side length. If both are even, then the polygons are equal. Here&#39;s the code I wrote to represent that:\r\n\r\n    public boolean equals(Polygon polygon){\r\n        boolean areEqual = false;\r\n        double episilon = 0.0000001d;\r\n        double difference = Math.abs((DEFAULT_SIDE_LENGTH) - length);\r\n        if ((difference &lt; episilon) &amp;&amp; (DEFAULT_SIDE_COUNT == sides))\r\n            areEqual = true;\r\n        return areEqual;\r\n    }\r\nHere&#39;s the code to print the results:\r\n\r\n    public static void printIfEqual\r\n    (Polygon poly1, Polygon poly2) {\r\n        System.out.println(&quot;Before checking equals(), print polygons&quot;);\r\n        System.out.println(&quot;poly1: &quot; + poly1);\r\n        System.out.println(&quot;poly2: &quot; + poly2);\r\n        if (poly1.equals(poly2))\r\n            System.out.println(&quot;Polygons are equal.&quot;);\r\n        else\r\n            System.out.println(&quot;Polygons are NOT equal.&quot;);        \r\n    }\r\n\r\nThis is the result of the code:\r\n[![result of code][1]][1]\r\n\r\n\r\nThis is what it&#39;s supposed to be.  Notice how the fourth line from the bottom is different:\r\n\r\n[![What it should be][2]][2]\r\n\r\nThe only difference is the boolean return. I&#39;ve been playing around with the debugger but to no success\r\n\r\n  [1]: https://i.stack.imgur.com/sFqRQ.png\r\n  [2]: https://i.stack.imgur.com/V4LLd.png","title":"Can&#39;t get boolean method to report correct results when comparing polygons in java","body":"<p>I'm trying to compare the inputted polygon object to the default polygon class values. All the other math calculations are correct and properly printed. The only thing I cannot figure out is why this boolean method is reporting back incorrectly. The comparison is the default polygon's number of sides and side length to the inputted polygon's # of sides and side length. If both are even, then the polygons are equal. Here's the code I wrote to represent that:</p>\n<pre><code>public boolean equals(Polygon polygon){\n    boolean areEqual = false;\n    double episilon = 0.0000001d;\n    double difference = Math.abs((DEFAULT_SIDE_LENGTH) - length);\n    if ((difference &lt; episilon) &amp;&amp; (DEFAULT_SIDE_COUNT == sides))\n        areEqual = true;\n    return areEqual;\n}\n</code></pre>\n<p>Here's the code to print the results:</p>\n<pre><code>public static void printIfEqual\n(Polygon poly1, Polygon poly2) {\n    System.out.println(&quot;Before checking equals(), print polygons&quot;);\n    System.out.println(&quot;poly1: &quot; + poly1);\n    System.out.println(&quot;poly2: &quot; + poly2);\n    if (poly1.equals(poly2))\n        System.out.println(&quot;Polygons are equal.&quot;);\n    else\n        System.out.println(&quot;Polygons are NOT equal.&quot;);        \n}\n</code></pre>\n<p>This is the result of the code:\n<a href=\"https://i.stack.imgur.com/sFqRQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sFqRQ.png\" alt=\"result of code\" /></a></p>\n<p>This is what it's supposed to be.  Notice how the fourth line from the bottom is different:</p>\n<p><a href=\"https://i.stack.imgur.com/V4LLd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V4LLd.png\" alt=\"What it should be\" /></a></p>\n<p>The only difference is the boolean return. I've been playing around with the debugger but to no success</p>\n"},{"tags":["java","spring","rabbitmq","amqp","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681391713,"creation_date":1681391713,"answer_id":76005888,"question_id":76003985,"body_markdown":"&gt;java.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException\r\n\r\nYou seem to be missing `spring-messaging` from the class path (or a version that is incompatible, or the jar is corrupt somehow).\r\n\r\nShow your versions/dependencies.","title":"Rabbit Mq Not Consuming Messages after first message","body":"<blockquote>\n<p>java.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException</p>\n</blockquote>\n<p>You seem to be missing <code>spring-messaging</code> from the class path (or a version that is incompatible, or the jar is corrupt somehow).</p>\n<p>Show your versions/dependencies.</p>\n"}],"owner":{"account_id":6445413,"reputation":129,"user_id":4994052,"display_name":"Prithivi Thiyagu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76005888,"answer_count":1,"score":0,"last_activity_date":1681454428,"creation_date":1681379073,"question_id":76003985,"body_markdown":"After posting message in queue, receiveing same message twice at the lisitener side.\r\nAfter receving the first message listner stops consuming furthe message . After i restart the listener application it picks the pending message in queue with duplicates.Also receving exception as .Same config is working with other queues                                              \r\n                                                                                           \r\n                                   \r\n                                            \r\n```\r\n SimpleMessageListenerContainer.run: 1251 | Consumer thread error, thread abort.\r\njava.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isCauseFatal(ConditionalRejectingErrorHandler.java:182)\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isFatal(ConditionalRejectingErrorHandler.java:169)\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:104)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1383)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1667)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1442)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:958)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:908)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:81)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1279)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1185)\r\n\tat java.lang.Thread.run(Thread.java:750) \r\n\r\n&gt;SimpleMessageListenerContainer.killOrRestart: 1398 | Stopping container from aborted consumer\r\n&gt; Dpendency:\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n ","title":"Rabbit Mq Not Consuming Messages after first message","body":"<p>After posting message in queue, receiveing same message twice at the lisitener side.\nAfter receving the first message listner stops consuming furthe message . After i restart the listener application it picks the pending message in queue with duplicates.Also receving exception as .Same config is working with other queues</p>\n<pre><code> SimpleMessageListenerContainer.run: 1251 | Consumer thread error, thread abort.\njava.lang.NoClassDefFoundError: org/springframework/messaging/handler/invocation/MethodArgumentResolutionException\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isCauseFatal(ConditionalRejectingErrorHandler.java:182)\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy.isFatal(ConditionalRejectingErrorHandler.java:169)\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:104)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1383)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1667)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1442)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:958)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:908)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:81)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1279)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1185)\n    at java.lang.Thread.run(Thread.java:750) \n\n&gt;SimpleMessageListenerContainer.killOrRestart: 1398 | Stopping container from aborted consumer\n&gt; Dpendency:\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n            &lt;version&gt;4.2.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n \n</code></pre>\n"},{"tags":["java","android","kotlin","opencv","canvas"],"owner":{"account_id":6597297,"reputation":751,"user_id":5096638,"display_name":"PalFS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681454099,"creation_date":1681454099,"question_id":76012194,"body_markdown":"I need to distort the image sub area from the selected shape in android application. I have searched online there are some techniques around it, we can use android canvas directly or open cv for that.\r\n\r\nWe can use image warping to do the desired effect using android canvas.\r\nHere is the code for that: https://github.com/jameswhite7/android_trapezoidal_imagewarp\r\n\r\nI have also tried in OpenCV using this code but its not working. \r\n\r\n    val originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\r\n    val rect: RectF = RectF(100f, 100f, 300f, 300f) // define the rectangle to be warped\r\n    \r\n    // Convert the bitmap to a Mat object\r\n    val originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\r\n    Utils.bitmapToMat(originalBitmap, originalMat)\r\n    \r\n    // Convert the selected rectangle to a Mat object\r\n    val roiMat: Mat = originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt()))\r\n    \r\n    // Convert the Mat objects to grayscale\r\n    val originalGrayMat: Mat = Mat(originalMat.size(), CvType.CV_8UC1)\r\n    Imgproc.cvtColor(originalMat, originalGrayMat, Imgproc.COLOR_RGBA2GRAY)\r\n    val roiGrayMat: Mat = Mat(roiMat.size(), CvType.CV_8UC1)\r\n    Imgproc.cvtColor(roiMat, roiGrayMat, Imgproc.COLOR_RGBA2GRAY)\r\n    \r\n    // Calculate the optical flow between the two grayscale Mats\r\n    val flow: Mat = Mat()\r\n    Video.calcOpticalFlowFarneback(originalGrayMat, roiGrayMat, flow, 0.5, 3, 15, 3, 5, 1.2, 0)\r\n    \r\n    // Apply the optical flow to the selected rectangle\r\n    val warpedRoiMat: Mat = Mat(roiMat.size(), CvType.CV_8UC4)\r\n    Imgproc.remap(roiMat, warpedRoiMat, flow, Mat(), Imgproc.INTER_LINEAR)\r\n    \r\n    // Copy the warped rectangle back to the original image\r\n    warpedRoiMat.copyTo(originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt())))\r\n    \r\n    // Convert the Mat object back to a bitmap\r\n    val warpedBitmap: Bitmap = Bitmap.createBitmap(originalMat.cols(), originalMat.rows(), Bitmap.Config.ARGB_8888)\r\n    Utils.matToBitmap(originalMat, warpedBitmap)\r\n\r\nHere is another version that I have tried:\r\n\r\n    // Load the original bitmap image\r\n    val originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\r\n    \r\n    // Convert the bitmap to a Mat object\r\n    val originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\r\n    Utils.bitmapToMat(originalBitmap, originalMat)\r\n    \r\n    // Define the points for the source (original) and destination (warped) rectangles\r\n    val srcPoints = MatOfPoint2f(\r\n            Point(0.0, 0.0),\r\n            Point(originalMat.cols().toDouble(), 0.0),\r\n            Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\r\n            Point(0.0, originalMat.rows().toDouble())\r\n    )\r\n    val dstPoints = MatOfPoint2f(\r\n            Point(originalMat.cols() * 0.1, 0.0),\r\n            Point(originalMat.cols() * 0.9, 0.0),\r\n            Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\r\n            Point(0.0, originalMat.rows().toDouble())\r\n    )\r\n    \r\n    // Calculate the perspective transformation matrix\r\n    val perspectiveTransform: Mat = Imgproc.getPerspectiveTransform(srcPoints, dstPoints)\r\n    \r\n    // Apply the perspective transformation to the original image\r\n    val warpedMat: Mat = Mat(originalMat.size(), originalMat.type())\r\n    Imgproc.warpPerspective(originalMat, warpedMat, perspectiveTransform, originalMat.size())\r\n    \r\n    // Convert the warped Mat object back to a bitmap\r\n    val warpedBitmap: Bitmap = Bitmap.createBitmap(warpedMat.cols(), warpedMat.rows(), Bitmap.Config.ARGB_8888)\r\n    Utils.matToBitmap(warpedMat, warpedBitmap)\r\n\r\nI want to add full bitmap behind the sub area so that when user apply distortion it can be applied on that. \r\n\r\nNeed help in applying this functionality.\r\n\r\nThanks\r\n","title":"How to distort image sub area only in android","body":"<p>I need to distort the image sub area from the selected shape in android application. I have searched online there are some techniques around it, we can use android canvas directly or open cv for that.</p>\n<p>We can use image warping to do the desired effect using android canvas.\nHere is the code for that: <a href=\"https://github.com/jameswhite7/android_trapezoidal_imagewarp\" rel=\"nofollow noreferrer\">https://github.com/jameswhite7/android_trapezoidal_imagewarp</a></p>\n<p>I have also tried in OpenCV using this code but its not working.</p>\n<pre><code>val originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\nval rect: RectF = RectF(100f, 100f, 300f, 300f) // define the rectangle to be warped\n\n// Convert the bitmap to a Mat object\nval originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\nUtils.bitmapToMat(originalBitmap, originalMat)\n\n// Convert the selected rectangle to a Mat object\nval roiMat: Mat = originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt()))\n\n// Convert the Mat objects to grayscale\nval originalGrayMat: Mat = Mat(originalMat.size(), CvType.CV_8UC1)\nImgproc.cvtColor(originalMat, originalGrayMat, Imgproc.COLOR_RGBA2GRAY)\nval roiGrayMat: Mat = Mat(roiMat.size(), CvType.CV_8UC1)\nImgproc.cvtColor(roiMat, roiGrayMat, Imgproc.COLOR_RGBA2GRAY)\n\n// Calculate the optical flow between the two grayscale Mats\nval flow: Mat = Mat()\nVideo.calcOpticalFlowFarneback(originalGrayMat, roiGrayMat, flow, 0.5, 3, 15, 3, 5, 1.2, 0)\n\n// Apply the optical flow to the selected rectangle\nval warpedRoiMat: Mat = Mat(roiMat.size(), CvType.CV_8UC4)\nImgproc.remap(roiMat, warpedRoiMat, flow, Mat(), Imgproc.INTER_LINEAR)\n\n// Copy the warped rectangle back to the original image\nwarpedRoiMat.copyTo(originalMat.submat(Rect(rect.left.toInt(), rect.top.toInt(), rect.width().toInt(), rect.height().toInt())))\n\n// Convert the Mat object back to a bitmap\nval warpedBitmap: Bitmap = Bitmap.createBitmap(originalMat.cols(), originalMat.rows(), Bitmap.Config.ARGB_8888)\nUtils.matToBitmap(originalMat, warpedBitmap)\n</code></pre>\n<p>Here is another version that I have tried:</p>\n<pre><code>// Load the original bitmap image\nval originalBitmap: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.my_image)\n\n// Convert the bitmap to a Mat object\nval originalMat: Mat = Mat(originalBitmap.height, originalBitmap.width, CvType.CV_8UC4)\nUtils.bitmapToMat(originalBitmap, originalMat)\n\n// Define the points for the source (original) and destination (warped) rectangles\nval srcPoints = MatOfPoint2f(\n        Point(0.0, 0.0),\n        Point(originalMat.cols().toDouble(), 0.0),\n        Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\n        Point(0.0, originalMat.rows().toDouble())\n)\nval dstPoints = MatOfPoint2f(\n        Point(originalMat.cols() * 0.1, 0.0),\n        Point(originalMat.cols() * 0.9, 0.0),\n        Point(originalMat.cols().toDouble(), originalMat.rows().toDouble()),\n        Point(0.0, originalMat.rows().toDouble())\n)\n\n// Calculate the perspective transformation matrix\nval perspectiveTransform: Mat = Imgproc.getPerspectiveTransform(srcPoints, dstPoints)\n\n// Apply the perspective transformation to the original image\nval warpedMat: Mat = Mat(originalMat.size(), originalMat.type())\nImgproc.warpPerspective(originalMat, warpedMat, perspectiveTransform, originalMat.size())\n\n// Convert the warped Mat object back to a bitmap\nval warpedBitmap: Bitmap = Bitmap.createBitmap(warpedMat.cols(), warpedMat.rows(), Bitmap.Config.ARGB_8888)\nUtils.matToBitmap(warpedMat, warpedBitmap)\n</code></pre>\n<p>I want to add full bitmap behind the sub area so that when user apply distortion it can be applied on that.</p>\n<p>Need help in applying this functionality.</p>\n<p>Thanks</p>\n"},{"tags":["java","javafx","visual-studio-2022"],"comments":[{"owner":{"account_id":26704455,"reputation":11,"user_id":20310916,"display_name":"wallyyopp"},"score":0,"creation_date":1681262156,"post_id":75990154,"comment_id":134027085,"body_markdown":"@GiovanniContreras no..The question is How can I use javafx in Visual Studio community 2022","body":"@GiovanniContreras no..The question is How can I use javafx in Visual Studio community 2022"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1681265216,"post_id":75990154,"comment_id":134027341,"body_markdown":"https://learn.microsoft.com/en-us/answers/questions/406652/is-it-possible-to-program-with-java-using-microsof","body":"<a href=\"https://learn.microsoft.com/en-us/answers/questions/406652/is-it-possible-to-program-with-java-using-microsof\" rel=\"nofollow noreferrer\" title=\"is it possible to program with java using microsof\">learn.microsoft.com/en-us/answers/questions/406652/&hellip;</a>"},{"owner":{"account_id":26704455,"reputation":11,"user_id":20310916,"display_name":"wallyyopp"},"score":1,"creation_date":1681266326,"post_id":75990154,"comment_id":134027432,"body_markdown":"@SedJ601 Thank you. Short answer is that it is not supported :)","body":"@SedJ601 Thank you. Short answer is that it is not supported :)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1681466074,"post_id":75990154,"comment_id":134064420,"body_markdown":"@SedJ601 hmm ..  the answer https://stackoverflow.com/a/76012042/203657 seems to have found a way - which is wrong: the reference or the answer? Just wondering, I&#39;m not using VS in any version :)","body":"@SedJ601 hmm ..  the answer <a href=\"https://stackoverflow.com/a/76012042/203657\">stackoverflow.com/a/76012042/203657</a> seems to have found a way - which is wrong: the reference or the answer? Just wondering, I&#39;m not using VS in any version :)"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1681496541,"post_id":75990154,"comment_id":134071579,"body_markdown":"@kleopatra, interesting. I personally would avoid using Visual Studios Community for `Java`. I do use it for `C#` regularly.","body":"@kleopatra, interesting. I personally would avoid using Visual Studios Community for <code>Java</code>. I do use it for <code>C#</code> regularly."}],"answers":[{"tags":[],"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681452660,"creation_date":1681452660,"answer_id":76012042,"question_id":75990154,"body_markdown":"1. JavaFX is no longer included as part of the JDK, it became separate project OpenJFX https://openjfx.io/ \r\n2. To use JavaFX in Visual Studio Community 2022, firstly make sure that JDK is installed, if not you can install from the following link https://www.oracle.com/kr/java/technologies/downloads/\r\n3. Then install the JavaFX SDK(oracle or gluonhq)  https://www.oracle.com/java/technologies/install-javafx-sdk.html\r\n4. Configure the Visual Studio to use JDK and JavaFX SDK. In Visual Studio: go to\r\n\r\n   `Tools-&gt;Options-&gt;Java-&gt;&quot;JDK_Directory&quot;`\r\n\r\n   `Tools-&gt;Options-&gt;Java-&gt;&quot;JavaFX_SDK_Directory&quot;`\r\n5. Create new java project and set the path to the JavaFX SDK installation directory\r\n6. In new created java project, add the JavaFX libraries to your project. Right click on your project and select `Properties`. In the properties window, select `Java Build Path` tab and click `Add External JARs` button. Go to your JavaFX lib folder then select all the `jar` files. After doing above steps it JavaFX project should run successfully.\r\n\r\n7. Lastly, from my personal experience, if you want to use JavaFX a lot in your projects, I would suggest `IntelliJ IDEA IDE Ultimate` version, because it has JavaFX built in plugins, so it doesn&#39;t require you to install extra configurations. IntelliJ IDEA is very advised to work with JavaFX projects.\r\n","title":"Java/JavaFX in Visual Studio Community 2022","body":"<ol>\n<li><p>JavaFX is no longer included as part of the JDK, it became separate project OpenJFX <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">https://openjfx.io/</a></p>\n</li>\n<li><p>To use JavaFX in Visual Studio Community 2022, firstly make sure that JDK is installed, if not you can install from the following link <a href=\"https://www.oracle.com/kr/java/technologies/downloads/\" rel=\"nofollow noreferrer\">https://www.oracle.com/kr/java/technologies/downloads/</a></p>\n</li>\n<li><p>Then install the JavaFX SDK(oracle or gluonhq)  <a href=\"https://www.oracle.com/java/technologies/install-javafx-sdk.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/install-javafx-sdk.html</a></p>\n</li>\n<li><p>Configure the Visual Studio to use JDK and JavaFX SDK. In Visual Studio: go to</p>\n<p><code>Tools-&gt;Options-&gt;Java-&gt;&quot;JDK_Directory&quot;</code></p>\n<p><code>Tools-&gt;Options-&gt;Java-&gt;&quot;JavaFX_SDK_Directory&quot;</code></p>\n</li>\n<li><p>Create new java project and set the path to the JavaFX SDK installation directory</p>\n</li>\n<li><p>In new created java project, add the JavaFX libraries to your project. Right click on your project and select <code>Properties</code>. In the properties window, select <code>Java Build Path</code> tab and click <code>Add External JARs</code> button. Go to your JavaFX lib folder then select all the <code>jar</code> files. After doing above steps it JavaFX project should run successfully.</p>\n</li>\n<li><p>Lastly, from my personal experience, if you want to use JavaFX a lot in your projects, I would suggest <code>IntelliJ IDEA IDE Ultimate</code> version, because it has JavaFX built in plugins, so it doesn't require you to install extra configurations. IntelliJ IDEA is very advised to work with JavaFX projects.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26704455,"reputation":11,"user_id":20310916,"display_name":"wallyyopp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681452660,"creation_date":1681247360,"question_id":75990154,"body_markdown":"Is there a way to make JavaFX/Java work in visual studio 2022? Every tutorial shows VSCode but I am looking to try and do a project in Visual studio 2022 for collaborative efforts. \r\n","title":"Java/JavaFX in Visual Studio Community 2022","body":"<p>Is there a way to make JavaFX/Java work in visual studio 2022? Every tutorial shows VSCode but I am looking to try and do a project in Visual studio 2022 for collaborative efforts.</p>\n"},{"tags":["python","java","algorithm","optimization","linear-programming"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1679861901,"post_id":75840798,"comment_id":133792585,"body_markdown":"How do each of the columns correspond to the last one?","body":"How do each of the columns correspond to the last one?"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1680020358,"post_id":75840798,"comment_id":133824006,"body_markdown":"Still not very sure how you are calculating PnL.\nBut this seems to me like a linear regression problem.","body":"Still not very sure how you are calculating PnL. But this seems to me like a linear regression problem."},{"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"score":0,"creation_date":1680083780,"post_id":75840798,"comment_id":133835698,"body_markdown":"@ryanwebjackson the PnL values are from actual trades and variable values are captured at the entry time of those trades. so PnL values are not calculated using the variables.","body":"@ryanwebjackson the PnL values are from actual trades and variable values are captured at the entry time of those trades. so PnL values are not calculated using the variables."},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":1,"creation_date":1680095435,"post_id":75840798,"comment_id":133838794,"body_markdown":"Are you saying that you&#39;re trying to find mix/max of pnl dynamically and it&#39;s too slow on the machine you are running on? Please share that relevant code if so.","body":"Are you saying that you&#39;re trying to find mix/max of pnl dynamically and it&#39;s too slow on the machine you are running on? Please share that relevant code if so."},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680131526,"post_id":75840798,"comment_id":133847796,"body_markdown":"Have you actually run your algorithm on your sample data? What outputs do you expect to get for it?","body":"Have you actually run your algorithm on your sample data? What outputs do you expect to get for it?"},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680131921,"post_id":75840798,"comment_id":133847844,"body_markdown":"I&#39;ve written a local LP implementation, and for your sample data the optimal thing to do for subsets of your data above the first ~10 rows is to select nothing. Are the data randomly generated? If so this is expected and your sample data need to be more realistic.","body":"I&#39;ve written a local LP implementation, and for your sample data the optimal thing to do for subsets of your data above the first ~10 rows is to select nothing. Are the data randomly generated? If so this is expected and your sample data need to be more realistic."},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680279952,"post_id":75840798,"comment_id":133877060,"body_markdown":"Don&#39;t link a gist; you need to embed your code","body":"Don&#39;t link a gist; you need to embed your code"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1680293686,"post_id":75840798,"comment_id":133879991,"body_markdown":"varMinMaxConditions seems arbitrary - why are you looping to create this, and what is the significance of 19?","body":"varMinMaxConditions seems arbitrary - why are you looping to create this, and what is the significance of 19?"},{"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"score":0,"creation_date":1680308557,"post_id":75840798,"comment_id":133882052,"body_markdown":"@ryanwebjackson varMinMaxConditions has min/max conditions of all vars to check if row PnL has to be included or not. each var value is: 0 &lt;= var &amp;&amp; var &lt;= 19","body":"@ryanwebjackson varMinMaxConditions has min/max conditions of all vars to check if row PnL has to be included or not. each var value is: 0 &lt;= var &amp;&amp; var &lt;= 19"},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1680654188,"post_id":75840798,"comment_id":133933987,"body_markdown":"Your brute-force approach does not show its output. When I run the example data it processes, the optimal strategy is to select only one row, so it&#39;s not a very good illustration, and I expect that for larger-scale problems (which it seems your brute-force solution has not attempted at all), the original problem remains: for the construction of your problem, unless the `v` dimensions are highly correlated, the best strategy will be to select nothing.","body":"Your brute-force approach does not show its output. When I run the example data it processes, the optimal strategy is to select only one row, so it&#39;s not a very good illustration, and I expect that for larger-scale problems (which it seems your brute-force solution has not attempted at all), the original problem remains: for the construction of your problem, unless the <code>v</code> dimensions are highly correlated, the best strategy will be to select nothing."}],"answers":[{"tags":[],"owner":{"account_id":28013032,"reputation":7,"user_id":21395238,"display_name":"Eddy"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1680063240,"creation_date":1680063240,"answer_id":75873079,"question_id":75840798,"body_markdown":"To determine the minimum and maximum change rates that result in maximum PnL (Profit and Loss).\r\n\r\nWe can perform an optimization analysis. it involves defining an objective function that represents profit and loss, then identifying the number of coefficients for each variable that maximizes this function.\r\n\r\n- **Define your objective function:** Start by defining the function that represents your profit and loss. This function. takes input of the values of the variables that we are optimizing for, and outputs the corresponding profit and loss value.\r\n\r\n- **Identify the changes:** Identify the changes what we want to optimize for. These are usually inputs to your value function.\r\n\r\n - **Set constraints:** Define any constraints that limit the values of\r\n   each variable.\r\n    - For example, if a variable represents the number of\r\n      units you can produce, then it may be limited by resources or time. \r\n   \r\n-  **Choose an optimization algorithm:** There are many algorithms you can\r\n   use to optimize your objective function, such as gradient descent,\r\n   genetic algorithms, or simulated annealing\r\n   \r\n -  **Perform the optimization:** Run the optimization algorithm for\r\n   the objective function with all of the constraints and wait for the solution.\r\n   \r\n -  **Check the results:** When the optimization is completed, consider the\r\n   result value for each variable and the corresponding Profit and Loss value.\r\n\r\n\r\n## Example ##\r\n\r\nSuppose you are a farmer who wants to maximize the profit from selling crops. You have two variables to optimize for: the number of acres to plant and the amount of fertilizer to use per acre.\r\n\r\n&gt; **Profit = (Price per unit of crop * Yield per acre * Number of acres) - (Cost per unit of fertilizer * Amount of fertilizer per acre * Number of acres)**\r\n\r\n- where Price per unit of the crop is the price you can sell the crop for, Yield per acre is the expected yield per acre\r\n\r\n- Cost per unit of fertilizer is the cost of buying fertilizer per unit\r\n\r\n- Amount of fertilizer per acre is the amount of fertilizer you use per acre.\r\n\r\n### Constraints: ###\r\n\r\n- You have 100 acres of land available to plant.\r\n- You can use at most 500 units of fertilizer.\r\n\r\n## Approach ##\r\n\r\nTo solve this problem we can use an optimization algorithm like linear programming.\r\n\r\nHere are the steps involved:\r\n\r\n- Formulate the objective function in terms of linear equations/inequalities.\r\n\r\n    \r\n\r\n&gt; **Objective function: Maximize Profit = 10 * Yield * A - 2 * F * A**\r\n\r\nwhere A is the number of acres, F is the amount of fertilizer per acre, and Yield is the yield per acre.\r\n\r\n- Implement the linear programming algorithm to find the optimal values of A, F, and Yield that maximize the profit.\r\n\r\n- Evaluate the results and check if they make sense. For example, if algorithm suggests that use 200 acres and 400 units of fertilizer, you can check if this is feasible and profitable from a business perspective.","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>To determine the minimum and maximum change rates that result in maximum PnL (Profit and Loss).</p>\n<p>We can perform an optimization analysis. it involves defining an objective function that represents profit and loss, then identifying the number of coefficients for each variable that maximizes this function.</p>\n<ul>\n<li><p><strong>Define your objective function:</strong> Start by defining the function that represents your profit and loss. This function. takes input of the values of the variables that we are optimizing for, and outputs the corresponding profit and loss value.</p>\n</li>\n<li><p><strong>Identify the changes:</strong> Identify the changes what we want to optimize for. These are usually inputs to your value function.</p>\n</li>\n<li><p><strong>Set constraints:</strong> Define any constraints that limit the values of\neach variable.</p>\n<ul>\n<li>For example, if a variable represents the number of\nunits you can produce, then it may be limited by resources or time.</li>\n</ul>\n</li>\n<li><p><strong>Choose an optimization algorithm:</strong> There are many algorithms you can\nuse to optimize your objective function, such as gradient descent,\ngenetic algorithms, or simulated annealing</p>\n</li>\n<li><p><strong>Perform the optimization:</strong> Run the optimization algorithm for\nthe objective function with all of the constraints and wait for the solution.</p>\n</li>\n<li><p><strong>Check the results:</strong> When the optimization is completed, consider the\nresult value for each variable and the corresponding Profit and Loss value.</p>\n</li>\n</ul>\n<h2>Example</h2>\n<p>Suppose you are a farmer who wants to maximize the profit from selling crops. You have two variables to optimize for: the number of acres to plant and the amount of fertilizer to use per acre.</p>\n<blockquote>\n<p><strong>Profit = (Price per unit of crop * Yield per acre * Number of acres) - (Cost per unit of fertilizer * Amount of fertilizer per acre * Number of acres)</strong></p>\n</blockquote>\n<ul>\n<li><p>where Price per unit of the crop is the price you can sell the crop for, Yield per acre is the expected yield per acre</p>\n</li>\n<li><p>Cost per unit of fertilizer is the cost of buying fertilizer per unit</p>\n</li>\n<li><p>Amount of fertilizer per acre is the amount of fertilizer you use per acre.</p>\n</li>\n</ul>\n<h3>Constraints:</h3>\n<ul>\n<li>You have 100 acres of land available to plant.</li>\n<li>You can use at most 500 units of fertilizer.</li>\n</ul>\n<h2>Approach</h2>\n<p>To solve this problem we can use an optimization algorithm like linear programming.</p>\n<p>Here are the steps involved:</p>\n<ul>\n<li>Formulate the objective function in terms of linear equations/inequalities.</li>\n</ul>\n<blockquote>\n<p><strong>Objective function: Maximize Profit = 10 * Yield * A - 2 * F * A</strong></p>\n</blockquote>\n<p>where A is the number of acres, F is the amount of fertilizer per acre, and Yield is the yield per acre.</p>\n<ul>\n<li><p>Implement the linear programming algorithm to find the optimal values of A, F, and Yield that maximize the profit.</p>\n</li>\n<li><p>Evaluate the results and check if they make sense. For example, if algorithm suggests that use 200 acres and 400 units of fertilizer, you can check if this is feasible and profitable from a business perspective.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680133815,"creation_date":1680133141,"answer_id":75883015,"question_id":75840798,"body_markdown":"Linear programming is a viable approach, made a little tricky by the fact that your range constraints need to fit into two cases:\r\n\r\n- When a row needs to be included, it needs to fit within the range when the assignment boolean is high (or relaxed constraints when it&#39;s low) - easy, but...\r\n- When a row needs to be _excluded_, it needs to be _outside_ of the range. This is easier said than done. Enforcing a range exclusion, as [Cornell University](https://optimization.cbe.cornell.edu/index.php?title=Optimization_with_absolute_values#Form_when_.7F.27.22.60UNIQ--postMath-00000013-QINU.60.22.27.7F) writes, is non-convex and requires a new binary variable for each element.\r\n\r\nThis approach is able to run pretty quickly on your sample of 150 rows. However, those sample data are (I&#39;m guessing) randomly generated, and as such are uniquely terrible for this algorithm: for a perfectly uniform distribution of your input variables, as the number of rows increases, the optimal strategy will always be to select nothing.\r\n\r\nRunning on this toy example instead:\r\n\r\n```csv\r\nv1,v2,v3,v4,v5,PnL\r\n1,3,3,3,3,-500\r\n2,4,4,4,4,100\r\n2,4,5,4,5,100\r\n4,7,7,7,7,100\r\n5,8,8,8,8,-500\r\n6,9,9,9,9,150\r\n```\r\n\r\nis much more illustrative of what a successful algorithm should do, and indeed, it produces a sensible choice:\r\n\r\n```none\r\nPnL total: 300.00\r\nAssigned rows: 3/6\r\nBounds:\r\n    lower  upper\r\nv1    1.5    4.0\r\nv2    3.5    7.0\r\nv3    3.5    7.0\r\nv4    3.5    7.0\r\nv5    3.5    7.0\r\n```\r\n\r\nImplementation\r\n-------------\r\n\r\nShown in Python for brevity.\r\n\r\n```python\r\nimport pandas as pd\r\nimport pulp\r\n\r\n\r\ndef make_col_vars(v_name: str) -&gt; pd.Series:\r\n    lower = pulp.LpVariable(name=&#39;lower_&#39; + v_name, lowBound=0, upBound=19)\r\n    upper = pulp.LpVariable(name=&#39;upper_&#39; + v_name, lowBound=0, upBound=19)\r\n    prob.addConstraint(name=&#39;interval_&#39; + v_name, constraint=lower &lt;= upper)\r\n    return pd.Series(data=(lower, upper), index=(&#39;lower&#39;, &#39;upper&#39;))\r\n\r\n\r\ndef make_row_vars(row: pd.Series) -&gt; pd.Series:\r\n    assign = pulp.LpVariable(name=f&#39;asn_{row.idx:03.0f}&#39;, cat=pulp.LpBinary)\r\n\r\n    for v_name, v in row[:-2].iteritems():\r\n        v_bounds = bounds.loc[v_name]\r\n        suffix = f&#39;_{v_name}_{row.idx:03.0f}&#39;\r\n\r\n        # If assign, then v_bounds.lower &lt;= v &lt;= v_bounds.upper\r\n        prob.addConstraint(name=&#39;lower_in&#39; + suffix, constraint=v &gt;= v_bounds.lower - 25*(1 - assign))\r\n        prob.addConstraint(name=&#39;upper_in&#39; + suffix, constraint=v &lt;= v_bounds.upper + 25*(1 - assign))\r\n\r\n        # otherwise v must be outside of those bounds\r\n        # v &lt;= lower-1 || upper+1 &lt;= v\r\n\r\n        is_upper = pulp.LpVariable(name=&#39;is_upper&#39; + suffix, cat=pulp.LpBinary)\r\n        # enforce if is_upper &amp;&amp; !assigned\r\n        prob.addConstraint(name=&#39;upper_out&#39; + suffix, constraint=v &gt;= v_bounds.upper+0.5 - 25*(assign - is_upper + 1))\r\n        # enforce if !is_upper &amp;&amp; !assigned\r\n        prob.addConstraint(name=&#39;lower_out&#39; + suffix, constraint=v &lt;= v_bounds.lower-0.5 + 25*(assign + is_upper))\r\n\r\n    return pd.Series((assign,))\r\n\r\n\r\ndf = pd.read_csv(&#39;Optimize-MinMax.csv&#39;)\r\nprob = pulp.LpProblem(name=&#39;profit_loss&#39;, sense=pulp.LpMaximize)\r\nbounds = df.columns[:-1].to_series().apply(make_col_vars)\r\ndf[&#39;idx&#39;] = df.index\r\ndf[&#39;assign&#39;] = df.apply(make_row_vars, axis=1)\r\n\r\nprob.objective = pulp.lpDot(df.PnL, df[&#39;assign&#39;])\r\n\r\nprint(prob)\r\nprob.solve()\r\nassert prob.status == pulp.const.LpStatusOptimal\r\n\r\nprint(f&#39;PnL total: {prob.objective.value():.2f}&#39;)\r\nn_assigned = df[&quot;assign&quot;].apply(pulp.LpVariable.value).sum()\r\nprint(f&#39;Assigned rows: {n_assigned:.0f}/{len(df)}&#39;)\r\nprint(&#39;Bounds:&#39;)\r\nprint(bounds.applymap(pulp.LpVariable.value))\r\n```\r\n\r\nOutput\r\n------\r\n\r\n```none\r\nprofit_loss:\r\nMAXIMIZE\r\n-500*asn_000 + 100*asn_001 + 100*asn_002 + 100*asn_003 + -500*asn_004 + 150*asn_005 + 0\r\nSUBJECT TO\r\ninterval_v1: lower_v1 - upper_v1 &lt;= 0\r\n\r\ninterval_v2: lower_v2 - upper_v2 &lt;= 0\r\n\r\ninterval_v3: lower_v3 - upper_v3 &lt;= 0\r\n\r\ninterval_v4: lower_v4 - upper_v4 &lt;= 0\r\n\r\ninterval_v5: lower_v5 - upper_v5 &lt;= 0\r\n\r\nlower_in_v1_000: 25 asn_000 + lower_v1 &lt;= 26\r\n\r\nupper_in_v1_000: - 25 asn_000 + upper_v1 &gt;= -24\r\n\r\nupper_out_v1_000: - 25 asn_000 + 25 is_upper_v1_000 + upper_v1 &lt;= 25.5\r\n\r\nlower_out_v1_000: 25 asn_000 + 25 is_upper_v1_000 + lower_v1 &gt;= 1.5\r\n\r\nlower_in_v2_000: 25 asn_000 + lower_v2 &lt;= 28\r\n\r\nupper_in_v2_000: - 25 asn_000 + upper_v2 &gt;= -22\r\n\r\nupper_out_v2_000: - 25 asn_000 + 25 is_upper_v2_000 + upper_v2 &lt;= 27.5\r\n\r\nlower_out_v2_000: 25 asn_000 + 25 is_upper_v2_000 + lower_v2 &gt;= 3.5\r\n\r\nlower_in_v3_000: 25 asn_000 + lower_v3 &lt;= 28\r\n\r\nupper_in_v3_000: - 25 asn_000 + upper_v3 &gt;= -22\r\n\r\nupper_out_v3_000: - 25 asn_000 + 25 is_upper_v3_000 + upper_v3 &lt;= 27.5\r\n\r\nlower_out_v3_000: 25 asn_000 + 25 is_upper_v3_000 + lower_v3 &gt;= 3.5\r\n\r\nlower_in_v4_000: 25 asn_000 + lower_v4 &lt;= 28\r\n\r\nupper_in_v4_000: - 25 asn_000 + upper_v4 &gt;= -22\r\n\r\nupper_out_v4_000: - 25 asn_000 + 25 is_upper_v4_000 + upper_v4 &lt;= 27.5\r\n\r\nlower_out_v4_000: 25 asn_000 + 25 is_upper_v4_000 + lower_v4 &gt;= 3.5\r\n\r\nlower_in_v5_000: 25 asn_000 + lower_v5 &lt;= 28\r\n\r\nupper_in_v5_000: - 25 asn_000 + upper_v5 &gt;= -22\r\n\r\nupper_out_v5_000: - 25 asn_000 + 25 is_upper_v5_000 + upper_v5 &lt;= 27.5\r\n\r\nlower_out_v5_000: 25 asn_000 + 25 is_upper_v5_000 + lower_v5 &gt;= 3.5\r\n\r\nlower_in_v1_001: 25 asn_001 + lower_v1 &lt;= 27\r\n\r\nupper_in_v1_001: - 25 asn_001 + upper_v1 &gt;= -23\r\n\r\nupper_out_v1_001: - 25 asn_001 + 25 is_upper_v1_001 + upper_v1 &lt;= 26.5\r\n\r\nlower_out_v1_001: 25 asn_001 + 25 is_upper_v1_001 + lower_v1 &gt;= 2.5\r\n\r\nlower_in_v2_001: 25 asn_001 + lower_v2 &lt;= 29\r\n\r\nupper_in_v2_001: - 25 asn_001 + upper_v2 &gt;= -21\r\n\r\nupper_out_v2_001: - 25 asn_001 + 25 is_upper_v2_001 + upper_v2 &lt;= 28.5\r\n\r\nlower_out_v2_001: 25 asn_001 + 25 is_upper_v2_001 + lower_v2 &gt;= 4.5\r\n\r\nlower_in_v3_001: 25 asn_001 + lower_v3 &lt;= 29\r\n\r\nupper_in_v3_001: - 25 asn_001 + upper_v3 &gt;= -21\r\n\r\nupper_out_v3_001: - 25 asn_001 + 25 is_upper_v3_001 + upper_v3 &lt;= 28.5\r\n\r\nlower_out_v3_001: 25 asn_001 + 25 is_upper_v3_001 + lower_v3 &gt;= 4.5\r\n\r\nlower_in_v4_001: 25 asn_001 + lower_v4 &lt;= 29\r\n\r\nupper_in_v4_001: - 25 asn_001 + upper_v4 &gt;= -21\r\n\r\nupper_out_v4_001: - 25 asn_001 + 25 is_upper_v4_001 + upper_v4 &lt;= 28.5\r\n\r\nlower_out_v4_001: 25 asn_001 + 25 is_upper_v4_001 + lower_v4 &gt;= 4.5\r\n\r\nlower_in_v5_001: 25 asn_001 + lower_v5 &lt;= 29\r\n\r\nupper_in_v5_001: - 25 asn_001 + upper_v5 &gt;= -21\r\n\r\nupper_out_v5_001: - 25 asn_001 + 25 is_upper_v5_001 + upper_v5 &lt;= 28.5\r\n\r\nlower_out_v5_001: 25 asn_001 + 25 is_upper_v5_001 + lower_v5 &gt;= 4.5\r\n\r\nlower_in_v1_002: 25 asn_002 + lower_v1 &lt;= 27\r\n\r\nupper_in_v1_002: - 25 asn_002 + upper_v1 &gt;= -23\r\n\r\nupper_out_v1_002: - 25 asn_002 + 25 is_upper_v1_002 + upper_v1 &lt;= 26.5\r\n\r\nlower_out_v1_002: 25 asn_002 + 25 is_upper_v1_002 + lower_v1 &gt;= 2.5\r\n\r\nlower_in_v2_002: 25 asn_002 + lower_v2 &lt;= 29\r\n\r\nupper_in_v2_002: - 25 asn_002 + upper_v2 &gt;= -21\r\n\r\nupper_out_v2_002: - 25 asn_002 + 25 is_upper_v2_002 + upper_v2 &lt;= 28.5\r\n\r\nlower_out_v2_002: 25 asn_002 + 25 is_upper_v2_002 + lower_v2 &gt;= 4.5\r\n\r\nlower_in_v3_002: 25 asn_002 + lower_v3 &lt;= 30\r\n\r\nupper_in_v3_002: - 25 asn_002 + upper_v3 &gt;= -20\r\n\r\nupper_out_v3_002: - 25 asn_002 + 25 is_upper_v3_002 + upper_v3 &lt;= 29.5\r\n\r\nlower_out_v3_002: 25 asn_002 + 25 is_upper_v3_002 + lower_v3 &gt;= 5.5\r\n\r\nlower_in_v4_002: 25 asn_002 + lower_v4 &lt;= 29\r\n\r\nupper_in_v4_002: - 25 asn_002 + upper_v4 &gt;= -21\r\n\r\nupper_out_v4_002: - 25 asn_002 + 25 is_upper_v4_002 + upper_v4 &lt;= 28.5\r\n\r\nlower_out_v4_002: 25 asn_002 + 25 is_upper_v4_002 + lower_v4 &gt;= 4.5\r\n\r\nlower_in_v5_002: 25 asn_002 + lower_v5 &lt;= 30\r\n\r\nupper_in_v5_002: - 25 asn_002 + upper_v5 &gt;= -20\r\n\r\nupper_out_v5_002: - 25 asn_002 + 25 is_upper_v5_002 + upper_v5 &lt;= 29.5\r\n\r\nlower_out_v5_002: 25 asn_002 + 25 is_upper_v5_002 + lower_v5 &gt;= 5.5\r\n\r\nlower_in_v1_003: 25 asn_003 + lower_v1 &lt;= 29\r\n\r\nupper_in_v1_003: - 25 asn_003 + upper_v1 &gt;= -21\r\n\r\nupper_out_v1_003: - 25 asn_003 + 25 is_upper_v1_003 + upper_v1 &lt;= 28.5\r\n\r\nlower_out_v1_003: 25 asn_003 + 25 is_upper_v1_003 + lower_v1 &gt;= 4.5\r\n\r\nlower_in_v2_003: 25 asn_003 + lower_v2 &lt;= 32\r\n\r\nupper_in_v2_003: - 25 asn_003 + upper_v2 &gt;= -18\r\n\r\nupper_out_v2_003: - 25 asn_003 + 25 is_upper_v2_003 + upper_v2 &lt;= 31.5\r\n\r\nlower_out_v2_003: 25 asn_003 + 25 is_upper_v2_003 + lower_v2 &gt;= 7.5\r\n\r\nlower_in_v3_003: 25 asn_003 + lower_v3 &lt;= 32\r\n\r\nupper_in_v3_003: - 25 asn_003 + upper_v3 &gt;= -18\r\n\r\nupper_out_v3_003: - 25 asn_003 + 25 is_upper_v3_003 + upper_v3 &lt;= 31.5\r\n\r\nlower_out_v3_003: 25 asn_003 + 25 is_upper_v3_003 + lower_v3 &gt;= 7.5\r\n\r\nlower_in_v4_003: 25 asn_003 + lower_v4 &lt;= 32\r\n\r\nupper_in_v4_003: - 25 asn_003 + upper_v4 &gt;= -18\r\n\r\nupper_out_v4_003: - 25 asn_003 + 25 is_upper_v4_003 + upper_v4 &lt;= 31.5\r\n\r\nlower_out_v4_003: 25 asn_003 + 25 is_upper_v4_003 + lower_v4 &gt;= 7.5\r\n\r\nlower_in_v5_003: 25 asn_003 + lower_v5 &lt;= 32\r\n\r\nupper_in_v5_003: - 25 asn_003 + upper_v5 &gt;= -18\r\n\r\nupper_out_v5_003: - 25 asn_003 + 25 is_upper_v5_003 + upper_v5 &lt;= 31.5\r\n\r\nlower_out_v5_003: 25 asn_003 + 25 is_upper_v5_003 + lower_v5 &gt;= 7.5\r\n\r\nlower_in_v1_004: 25 asn_004 + lower_v1 &lt;= 30\r\n\r\nupper_in_v1_004: - 25 asn_004 + upper_v1 &gt;= -20\r\n\r\nupper_out_v1_004: - 25 asn_004 + 25 is_upper_v1_004 + upper_v1 &lt;= 29.5\r\n\r\nlower_out_v1_004: 25 asn_004 + 25 is_upper_v1_004 + lower_v1 &gt;= 5.5\r\n\r\nlower_in_v2_004: 25 asn_004 + lower_v2 &lt;= 33\r\n\r\nupper_in_v2_004: - 25 asn_004 + upper_v2 &gt;= -17\r\n\r\nupper_out_v2_004: - 25 asn_004 + 25 is_upper_v2_004 + upper_v2 &lt;= 32.5\r\n\r\nlower_out_v2_004: 25 asn_004 + 25 is_upper_v2_004 + lower_v2 &gt;= 8.5\r\n\r\nlower_in_v3_004: 25 asn_004 + lower_v3 &lt;= 33\r\n\r\nupper_in_v3_004: - 25 asn_004 + upper_v3 &gt;= -17\r\n\r\nupper_out_v3_004: - 25 asn_004 + 25 is_upper_v3_004 + upper_v3 &lt;= 32.5\r\n\r\nlower_out_v3_004: 25 asn_004 + 25 is_upper_v3_004 + lower_v3 &gt;= 8.5\r\n\r\nlower_in_v4_004: 25 asn_004 + lower_v4 &lt;= 33\r\n\r\nupper_in_v4_004: - 25 asn_004 + upper_v4 &gt;= -17\r\n\r\nupper_out_v4_004: - 25 asn_004 + 25 is_upper_v4_004 + upper_v4 &lt;= 32.5\r\n\r\nlower_out_v4_004: 25 asn_004 + 25 is_upper_v4_004 + lower_v4 &gt;= 8.5\r\n\r\nlower_in_v5_004: 25 asn_004 + lower_v5 &lt;= 33\r\n\r\nupper_in_v5_004: - 25 asn_004 + upper_v5 &gt;= -17\r\n\r\nupper_out_v5_004: - 25 asn_004 + 25 is_upper_v5_004 + upper_v5 &lt;= 32.5\r\n\r\nlower_out_v5_004: 25 asn_004 + 25 is_upper_v5_004 + lower_v5 &gt;= 8.5\r\n\r\nlower_in_v1_005: 25 asn_005 + lower_v1 &lt;= 31\r\n\r\nupper_in_v1_005: - 25 asn_005 + upper_v1 &gt;= -19\r\n\r\nupper_out_v1_005: - 25 asn_005 + 25 is_upper_v1_005 + upper_v1 &lt;= 30.5\r\n\r\nlower_out_v1_005: 25 asn_005 + 25 is_upper_v1_005 + lower_v1 &gt;= 6.5\r\n\r\nlower_in_v2_005: 25 asn_005 + lower_v2 &lt;= 34\r\n\r\nupper_in_v2_005: - 25 asn_005 + upper_v2 &gt;= -16\r\n\r\nupper_out_v2_005: - 25 asn_005 + 25 is_upper_v2_005 + upper_v2 &lt;= 33.5\r\n\r\nlower_out_v2_005: 25 asn_005 + 25 is_upper_v2_005 + lower_v2 &gt;= 9.5\r\n\r\nlower_in_v3_005: 25 asn_005 + lower_v3 &lt;= 34\r\n\r\nupper_in_v3_005: - 25 asn_005 + upper_v3 &gt;= -16\r\n\r\nupper_out_v3_005: - 25 asn_005 + 25 is_upper_v3_005 + upper_v3 &lt;= 33.5\r\n\r\nlower_out_v3_005: 25 asn_005 + 25 is_upper_v3_005 + lower_v3 &gt;= 9.5\r\n\r\nlower_in_v4_005: 25 asn_005 + lower_v4 &lt;= 34\r\n\r\nupper_in_v4_005: - 25 asn_005 + upper_v4 &gt;= -16\r\n\r\nupper_out_v4_005: - 25 asn_005 + 25 is_upper_v4_005 + upper_v4 &lt;= 33.5\r\n\r\nlower_out_v4_005: 25 asn_005 + 25 is_upper_v4_005 + lower_v4 &gt;= 9.5\r\n\r\nlower_in_v5_005: 25 asn_005 + lower_v5 &lt;= 34\r\n\r\nupper_in_v5_005: - 25 asn_005 + upper_v5 &gt;= -16\r\n\r\nupper_out_v5_005: - 25 asn_005 + 25 is_upper_v5_005 + upper_v5 &lt;= 33.5\r\n\r\nlower_out_v5_005: 25 asn_005 + 25 is_upper_v5_005 + lower_v5 &gt;= 9.5\r\n\r\nVARIABLES\r\n0 &lt;= asn_000 &lt;= 1 Integer\r\n0 &lt;= asn_001 &lt;= 1 Integer\r\n0 &lt;= asn_002 &lt;= 1 Integer\r\n0 &lt;= asn_003 &lt;= 1 Integer\r\n0 &lt;= asn_004 &lt;= 1 Integer\r\n0 &lt;= asn_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v1_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v2_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v3_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v4_005 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_000 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_001 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_002 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_003 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_004 &lt;= 1 Integer\r\n0 &lt;= is_upper_v5_005 &lt;= 1 Integer\r\nlower_v1 &lt;= 19 Continuous\r\nlower_v2 &lt;= 19 Continuous\r\nlower_v3 &lt;= 19 Continuous\r\nlower_v4 &lt;= 19 Continuous\r\nlower_v5 &lt;= 19 Continuous\r\nupper_v1 &lt;= 19 Continuous\r\nupper_v2 &lt;= 19 Continuous\r\nupper_v3 &lt;= 19 Continuous\r\nupper_v4 &lt;= 19 Continuous\r\nupper_v5 &lt;= 19 Continuous\r\n\r\nWelcome to the CBC MILP Solver \r\nVersion: 2.10.3 \r\nBuild Date: Dec 15 2019 \r\n\r\ncommand line - .venv/lib/python3.10/site-packages/pulp/solverdir/cbc/linux/64/cbc /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.mps max timeMode elapsed branch printingOptions all solution /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.sol (default strategy 1)\r\nAt line 2 NAME          MODEL\r\nAt line 3 ROWS\r\nAt line 130 COLUMNS\r\nAt line 519 RHS\r\nAt line 645 BOUNDS\r\nAt line 692 ENDATA\r\nProblem MODEL has 125 rows, 46 columns and 310 elements\r\nCoin0008I MODEL read with 0 errors\r\nOption for timeMode changed from cpu to elapsed\r\nContinuous objective value is 450 - 0.00 seconds\r\nCgl0003I 0 fixed, 0 tightened bounds, 60 strengthened rows, 0 substitutions\r\nCgl0003I 0 fixed, 0 tightened bounds, 15 strengthened rows, 0 substitutions\r\nCgl0003I 0 fixed, 0 tightened bounds, 10 strengthened rows, 0 substitutions\r\nCgl0004I processed model has 125 rows, 46 columns (36 integer (36 of which binary)) and 385 elements\r\nCutoff increment increased from 1e-05 to 49.9999\r\nCbc0038I Initial state - 10 integers unsatisfied sum - 2.62534\r\nCbc0038I Pass   1: suminf.    0.51766 (6) obj. -262.65 iterations 40\r\nCbc0038I Pass   2: suminf.    0.37920 (2) obj. 810.4 iterations 24\r\nCbc0038I Pass   3: suminf.    0.55711 (3) obj. 119.936 iterations 5\r\nCbc0038I Pass   4: suminf.    0.24000 (2) obj. 269 iterations 10\r\nCbc0038I Pass   5: suminf.    0.51356 (2) obj. 119.936 iterations 7\r\nCbc0038I Pass   6: suminf.    0.89604 (5) obj. 141.923 iterations 14\r\nCbc0038I Pass   7: suminf.    0.59491 (5) obj. 670.688 iterations 15\r\nCbc0038I Pass   8: suminf.    0.92668 (5) obj. 51.2876 iterations 25\r\nCbc0038I Pass   9: suminf.    0.92668 (5) obj. 51.2876 iterations 7\r\nCbc0038I Pass  10: suminf.    0.59689 (6) obj. 667.219 iterations 33\r\nCbc0038I Pass  11: suminf.    0.92668 (5) obj. 51.2876 iterations 29\r\nCbc0038I Pass  12: suminf.    0.48428 (4) obj. 662.897 iterations 20\r\nCbc0038I Pass  13: suminf.    0.95405 (6) obj. 119.888 iterations 20\r\nCbc0038I Pass  14: suminf.    0.27012 (5) obj. 612.921 iterations 30\r\nCbc0038I Pass  15: suminf.    0.92255 (5) obj. 116.433 iterations 26\r\nCbc0038I Pass  16: suminf.    0.65069 (6) obj. 181.373 iterations 17\r\nCbc0038I Pass  17: suminf.    0.85917 (5) obj. 551.764 iterations 24\r\nCbc0038I Pass  18: suminf.    0.23280 (4) obj. 140.28 iterations 22\r\nCbc0038I Pass  19: suminf.    0.81237 (3) obj. 84.7919 iterations 23\r\nCbc0038I Pass  20: suminf.    0.45133 (3) obj. 192.419 iterations 8\r\nCbc0038I Pass  21: suminf.    0.67675 (6) obj. 579.906 iterations 21\r\nCbc0038I Pass  22: suminf.    0.89960 (5) obj. -94.0115 iterations 29\r\nCbc0038I Pass  23: suminf.    0.56051 (3) obj. 180.957 iterations 14\r\nCbc0038I Pass  24: suminf.    0.74317 (3) obj. 37.3469 iterations 14\r\nCbc0038I Pass  25: suminf.    0.84688 (5) obj. 158.839 iterations 20\r\nCbc0038I Pass  26: suminf.    0.12352 (3) obj. 695.44 iterations 22\r\nCbc0038I Pass  27: suminf.    0.54921 (5) obj. 35.9499 iterations 17\r\nCbc0038I Pass  28: suminf.    0.54457 (4) obj. 782.282 iterations 27\r\nCbc0038I Pass  29: suminf.    0.53404 (4) obj. 32.8182 iterations 25\r\nCbc0038I Pass  30: suminf.    0.50976 (4) obj. 311.676 iterations 11\r\nCbc0038I Rounding solution of 700 is better than previous of 1e+50\r\n\r\nCbc0038I Before mini branch and bound, 9 integers at bound fixed and 0 continuous\r\nCbc0038I Full problem 125 rows 46 columns, reduced to 116 rows 37 columns\r\nCbc0038I Mini branch and bound improved solution from 700 to -150 (0.02 seconds)\r\nCbc0038I Round again with cutoff of -225\r\nCbc0038I Reduced cost fixing fixed 2 variables on major pass 2\r\nCbc0038I Pass  30: suminf.    0.98992 (5) obj. -344.44 iterations 23\r\nCbc0038I Pass  31: suminf.    1.64306 (8) obj. -225 iterations 19\r\nCbc0038I Pass  32: suminf.    1.01520 (8) obj. -225 iterations 9\r\nCbc0038I Pass  33: suminf.    0.59837 (5) obj. -225 iterations 29\r\nCbc0038I Pass  34: suminf.    0.12000 (2) obj. -235 iterations 21\r\nCbc0038I Pass  35: suminf.    0.56667 (3) obj. -225 iterations 7\r\nCbc0038I Pass  36: suminf.    0.23800 (3) obj. -225 iterations 4\r\nCbc0038I Pass  37: suminf.    0.18667 (2) obj. -225 iterations 13\r\nCbc0038I Pass  38: suminf.    0.60572 (4) obj. -225 iterations 10\r\nCbc0038I Pass  39: suminf.    0.55246 (4) obj. -225 iterations 3\r\nCbc0038I Pass  40: suminf.    0.90000 (3) obj. -225 iterations 8\r\nCbc0038I Pass  41: suminf.    0.90000 (3) obj. -225 iterations 1\r\nCbc0038I Pass  42: suminf.    0.72410 (4) obj. -225 iterations 10\r\nCbc0038I Pass  43: suminf.    0.56667 (3) obj. -225 iterations 11\r\nCbc0038I Pass  44: suminf.    0.25143 (3) obj. -225 iterations 6\r\nCbc0038I Pass  45: suminf.    0.18667 (2) obj. -225 iterations 16\r\nCbc0038I Pass  46: suminf.    0.12000 (2) obj. -235 iterations 1\r\nCbc0038I Pass  47: suminf.    0.56667 (3) obj. -225 iterations 6\r\nCbc0038I Pass  48: suminf.    0.82724 (7) obj. -225 iterations 31\r\nCbc0038I Pass  49: suminf.    0.82730 (7) obj. -225 iterations 2\r\nCbc0038I Pass  50: suminf.    0.59837 (5) obj. -225 iterations 25\r\nCbc0038I Pass  51: suminf.    0.61314 (6) obj. -273.399 iterations 23\r\nCbc0038I Pass  52: suminf.    0.63333 (3) obj. -225 iterations 25\r\nCbc0038I Pass  53: suminf.    0.89613 (4) obj. -225 iterations 7\r\nCbc0038I Pass  54: suminf.    0.40296 (5) obj. -225 iterations 8\r\nCbc0038I Pass  55: suminf.    0.52545 (3) obj. -225 iterations 17\r\nCbc0038I Pass  56: suminf.    0.35917 (4) obj. -247.806 iterations 4\r\nCbc0038I Pass  57: suminf.    0.23800 (3) obj. -225 iterations 19\r\nCbc0038I Pass  58: suminf.    0.23800 (3) obj. -225 iterations 0\r\nCbc0038I Pass  59: suminf.    0.44904 (3) obj. -225 iterations 12\r\nCbc0038I No solution found this major pass\r\nCbc0038I Before mini branch and bound, 12 integers at bound fixed and 0 continuous\r\nCbc0038I Full problem 125 rows 46 columns, reduced to 95 rows 34 columns\r\nCbc0038I Mini branch and bound did not improve solution (0.03 seconds)\r\nCbc0038I After 0.03 seconds - Feasibility pump exiting with objective of -150 - took 0.02 seconds\r\nCbc0012I Integer solution of -150 found by feasibility pump after 0 iterations and 0 nodes (0.03 seconds)\r\nCbc0038I Full problem 125 rows 46 columns, reduced to 0 rows 0 columns\r\nCbc0012I Integer solution of -300 found by DiveCoefficient after 31 iterations and 0 nodes (0.03 seconds)\r\nCbc0013I At root node, 0 cuts changed objective from -450 to -300 in 3 passes\r\nCbc0014I Cut generator 0 (Probing) - 37 row cuts average 2.0 elements, 12 column cuts (12 active)  in 0.000 seconds - new frequency is 1\r\nCbc0014I Cut generator 1 (Gomory) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 2 (Knapsack) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 3 (Clique) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 4 (MixedIntegerRounding2) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0014I Cut generator 5 (FlowCover) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\r\nCbc0001I Search completed - best objective -300, took 31 iterations and 0 nodes (0.03 seconds)\r\nCbc0035I Maximum depth 0, 2 variables fixed on reduced cost\r\nCuts at root node changed objective from -450 to -300\r\nProbing was tried 3 times and created 49 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nGomory was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nKnapsack was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nClique was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nMixedIntegerRounding2 was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nFlowCover was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nTwoMirCuts was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\nZeroHalf was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\r\n\r\nResult - Optimal solution found\r\n\r\nObjective value:                300.00000000\r\nEnumerated nodes:               0\r\nTotal iterations:               31\r\nTime (CPU seconds):             0.03\r\nTime (Wallclock seconds):       0.03\r\n\r\nOption for printingOptions changed from normal to all\r\nTotal time (CPU seconds):       0.03   (Wallclock seconds):       0.03\r\n\r\nPnL total: 300.00\r\nAssigned rows: 3/6\r\nBounds:\r\n    lower  upper\r\nv1    1.5    4.0\r\nv2    3.5    7.0\r\nv3    3.5    7.0\r\nv4    3.5    7.0\r\nv5    3.5    7.0\r\n```\r\n\r\nThis strategy can be [carried to Java](https://or.stackexchange.com/questions/617/solving-mip-in-java-with-free-software) without too much fuss.","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>Linear programming is a viable approach, made a little tricky by the fact that your range constraints need to fit into two cases:</p>\n<ul>\n<li>When a row needs to be included, it needs to fit within the range when the assignment boolean is high (or relaxed constraints when it's low) - easy, but...</li>\n<li>When a row needs to be <em>excluded</em>, it needs to be <em>outside</em> of the range. This is easier said than done. Enforcing a range exclusion, as <a href=\"https://optimization.cbe.cornell.edu/index.php?title=Optimization_with_absolute_values#Form_when_.7F.27.22.60UNIQ--postMath-00000013-QINU.60.22.27.7F\" rel=\"nofollow noreferrer\">Cornell University</a> writes, is non-convex and requires a new binary variable for each element.</li>\n</ul>\n<p>This approach is able to run pretty quickly on your sample of 150 rows. However, those sample data are (I'm guessing) randomly generated, and as such are uniquely terrible for this algorithm: for a perfectly uniform distribution of your input variables, as the number of rows increases, the optimal strategy will always be to select nothing.</p>\n<p>Running on this toy example instead:</p>\n<pre><code>v1,v2,v3,v4,v5,PnL\n1,3,3,3,3,-500\n2,4,4,4,4,100\n2,4,5,4,5,100\n4,7,7,7,7,100\n5,8,8,8,8,-500\n6,9,9,9,9,150\n</code></pre>\n<p>is much more illustrative of what a successful algorithm should do, and indeed, it produces a sensible choice:</p>\n<pre class=\"lang-none prettyprint-override\"><code>PnL total: 300.00\nAssigned rows: 3/6\nBounds:\n    lower  upper\nv1    1.5    4.0\nv2    3.5    7.0\nv3    3.5    7.0\nv4    3.5    7.0\nv5    3.5    7.0\n</code></pre>\n<h2>Implementation</h2>\n<p>Shown in Python for brevity.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\nimport pulp\n\n\ndef make_col_vars(v_name: str) -&gt; pd.Series:\n    lower = pulp.LpVariable(name='lower_' + v_name, lowBound=0, upBound=19)\n    upper = pulp.LpVariable(name='upper_' + v_name, lowBound=0, upBound=19)\n    prob.addConstraint(name='interval_' + v_name, constraint=lower &lt;= upper)\n    return pd.Series(data=(lower, upper), index=('lower', 'upper'))\n\n\ndef make_row_vars(row: pd.Series) -&gt; pd.Series:\n    assign = pulp.LpVariable(name=f'asn_{row.idx:03.0f}', cat=pulp.LpBinary)\n\n    for v_name, v in row[:-2].iteritems():\n        v_bounds = bounds.loc[v_name]\n        suffix = f'_{v_name}_{row.idx:03.0f}'\n\n        # If assign, then v_bounds.lower &lt;= v &lt;= v_bounds.upper\n        prob.addConstraint(name='lower_in' + suffix, constraint=v &gt;= v_bounds.lower - 25*(1 - assign))\n        prob.addConstraint(name='upper_in' + suffix, constraint=v &lt;= v_bounds.upper + 25*(1 - assign))\n\n        # otherwise v must be outside of those bounds\n        # v &lt;= lower-1 || upper+1 &lt;= v\n\n        is_upper = pulp.LpVariable(name='is_upper' + suffix, cat=pulp.LpBinary)\n        # enforce if is_upper &amp;&amp; !assigned\n        prob.addConstraint(name='upper_out' + suffix, constraint=v &gt;= v_bounds.upper+0.5 - 25*(assign - is_upper + 1))\n        # enforce if !is_upper &amp;&amp; !assigned\n        prob.addConstraint(name='lower_out' + suffix, constraint=v &lt;= v_bounds.lower-0.5 + 25*(assign + is_upper))\n\n    return pd.Series((assign,))\n\n\ndf = pd.read_csv('Optimize-MinMax.csv')\nprob = pulp.LpProblem(name='profit_loss', sense=pulp.LpMaximize)\nbounds = df.columns[:-1].to_series().apply(make_col_vars)\ndf['idx'] = df.index\ndf['assign'] = df.apply(make_row_vars, axis=1)\n\nprob.objective = pulp.lpDot(df.PnL, df['assign'])\n\nprint(prob)\nprob.solve()\nassert prob.status == pulp.const.LpStatusOptimal\n\nprint(f'PnL total: {prob.objective.value():.2f}')\nn_assigned = df[&quot;assign&quot;].apply(pulp.LpVariable.value).sum()\nprint(f'Assigned rows: {n_assigned:.0f}/{len(df)}')\nprint('Bounds:')\nprint(bounds.applymap(pulp.LpVariable.value))\n</code></pre>\n<h2>Output</h2>\n<pre class=\"lang-none prettyprint-override\"><code>profit_loss:\nMAXIMIZE\n-500*asn_000 + 100*asn_001 + 100*asn_002 + 100*asn_003 + -500*asn_004 + 150*asn_005 + 0\nSUBJECT TO\ninterval_v1: lower_v1 - upper_v1 &lt;= 0\n\ninterval_v2: lower_v2 - upper_v2 &lt;= 0\n\ninterval_v3: lower_v3 - upper_v3 &lt;= 0\n\ninterval_v4: lower_v4 - upper_v4 &lt;= 0\n\ninterval_v5: lower_v5 - upper_v5 &lt;= 0\n\nlower_in_v1_000: 25 asn_000 + lower_v1 &lt;= 26\n\nupper_in_v1_000: - 25 asn_000 + upper_v1 &gt;= -24\n\nupper_out_v1_000: - 25 asn_000 + 25 is_upper_v1_000 + upper_v1 &lt;= 25.5\n\nlower_out_v1_000: 25 asn_000 + 25 is_upper_v1_000 + lower_v1 &gt;= 1.5\n\nlower_in_v2_000: 25 asn_000 + lower_v2 &lt;= 28\n\nupper_in_v2_000: - 25 asn_000 + upper_v2 &gt;= -22\n\nupper_out_v2_000: - 25 asn_000 + 25 is_upper_v2_000 + upper_v2 &lt;= 27.5\n\nlower_out_v2_000: 25 asn_000 + 25 is_upper_v2_000 + lower_v2 &gt;= 3.5\n\nlower_in_v3_000: 25 asn_000 + lower_v3 &lt;= 28\n\nupper_in_v3_000: - 25 asn_000 + upper_v3 &gt;= -22\n\nupper_out_v3_000: - 25 asn_000 + 25 is_upper_v3_000 + upper_v3 &lt;= 27.5\n\nlower_out_v3_000: 25 asn_000 + 25 is_upper_v3_000 + lower_v3 &gt;= 3.5\n\nlower_in_v4_000: 25 asn_000 + lower_v4 &lt;= 28\n\nupper_in_v4_000: - 25 asn_000 + upper_v4 &gt;= -22\n\nupper_out_v4_000: - 25 asn_000 + 25 is_upper_v4_000 + upper_v4 &lt;= 27.5\n\nlower_out_v4_000: 25 asn_000 + 25 is_upper_v4_000 + lower_v4 &gt;= 3.5\n\nlower_in_v5_000: 25 asn_000 + lower_v5 &lt;= 28\n\nupper_in_v5_000: - 25 asn_000 + upper_v5 &gt;= -22\n\nupper_out_v5_000: - 25 asn_000 + 25 is_upper_v5_000 + upper_v5 &lt;= 27.5\n\nlower_out_v5_000: 25 asn_000 + 25 is_upper_v5_000 + lower_v5 &gt;= 3.5\n\nlower_in_v1_001: 25 asn_001 + lower_v1 &lt;= 27\n\nupper_in_v1_001: - 25 asn_001 + upper_v1 &gt;= -23\n\nupper_out_v1_001: - 25 asn_001 + 25 is_upper_v1_001 + upper_v1 &lt;= 26.5\n\nlower_out_v1_001: 25 asn_001 + 25 is_upper_v1_001 + lower_v1 &gt;= 2.5\n\nlower_in_v2_001: 25 asn_001 + lower_v2 &lt;= 29\n\nupper_in_v2_001: - 25 asn_001 + upper_v2 &gt;= -21\n\nupper_out_v2_001: - 25 asn_001 + 25 is_upper_v2_001 + upper_v2 &lt;= 28.5\n\nlower_out_v2_001: 25 asn_001 + 25 is_upper_v2_001 + lower_v2 &gt;= 4.5\n\nlower_in_v3_001: 25 asn_001 + lower_v3 &lt;= 29\n\nupper_in_v3_001: - 25 asn_001 + upper_v3 &gt;= -21\n\nupper_out_v3_001: - 25 asn_001 + 25 is_upper_v3_001 + upper_v3 &lt;= 28.5\n\nlower_out_v3_001: 25 asn_001 + 25 is_upper_v3_001 + lower_v3 &gt;= 4.5\n\nlower_in_v4_001: 25 asn_001 + lower_v4 &lt;= 29\n\nupper_in_v4_001: - 25 asn_001 + upper_v4 &gt;= -21\n\nupper_out_v4_001: - 25 asn_001 + 25 is_upper_v4_001 + upper_v4 &lt;= 28.5\n\nlower_out_v4_001: 25 asn_001 + 25 is_upper_v4_001 + lower_v4 &gt;= 4.5\n\nlower_in_v5_001: 25 asn_001 + lower_v5 &lt;= 29\n\nupper_in_v5_001: - 25 asn_001 + upper_v5 &gt;= -21\n\nupper_out_v5_001: - 25 asn_001 + 25 is_upper_v5_001 + upper_v5 &lt;= 28.5\n\nlower_out_v5_001: 25 asn_001 + 25 is_upper_v5_001 + lower_v5 &gt;= 4.5\n\nlower_in_v1_002: 25 asn_002 + lower_v1 &lt;= 27\n\nupper_in_v1_002: - 25 asn_002 + upper_v1 &gt;= -23\n\nupper_out_v1_002: - 25 asn_002 + 25 is_upper_v1_002 + upper_v1 &lt;= 26.5\n\nlower_out_v1_002: 25 asn_002 + 25 is_upper_v1_002 + lower_v1 &gt;= 2.5\n\nlower_in_v2_002: 25 asn_002 + lower_v2 &lt;= 29\n\nupper_in_v2_002: - 25 asn_002 + upper_v2 &gt;= -21\n\nupper_out_v2_002: - 25 asn_002 + 25 is_upper_v2_002 + upper_v2 &lt;= 28.5\n\nlower_out_v2_002: 25 asn_002 + 25 is_upper_v2_002 + lower_v2 &gt;= 4.5\n\nlower_in_v3_002: 25 asn_002 + lower_v3 &lt;= 30\n\nupper_in_v3_002: - 25 asn_002 + upper_v3 &gt;= -20\n\nupper_out_v3_002: - 25 asn_002 + 25 is_upper_v3_002 + upper_v3 &lt;= 29.5\n\nlower_out_v3_002: 25 asn_002 + 25 is_upper_v3_002 + lower_v3 &gt;= 5.5\n\nlower_in_v4_002: 25 asn_002 + lower_v4 &lt;= 29\n\nupper_in_v4_002: - 25 asn_002 + upper_v4 &gt;= -21\n\nupper_out_v4_002: - 25 asn_002 + 25 is_upper_v4_002 + upper_v4 &lt;= 28.5\n\nlower_out_v4_002: 25 asn_002 + 25 is_upper_v4_002 + lower_v4 &gt;= 4.5\n\nlower_in_v5_002: 25 asn_002 + lower_v5 &lt;= 30\n\nupper_in_v5_002: - 25 asn_002 + upper_v5 &gt;= -20\n\nupper_out_v5_002: - 25 asn_002 + 25 is_upper_v5_002 + upper_v5 &lt;= 29.5\n\nlower_out_v5_002: 25 asn_002 + 25 is_upper_v5_002 + lower_v5 &gt;= 5.5\n\nlower_in_v1_003: 25 asn_003 + lower_v1 &lt;= 29\n\nupper_in_v1_003: - 25 asn_003 + upper_v1 &gt;= -21\n\nupper_out_v1_003: - 25 asn_003 + 25 is_upper_v1_003 + upper_v1 &lt;= 28.5\n\nlower_out_v1_003: 25 asn_003 + 25 is_upper_v1_003 + lower_v1 &gt;= 4.5\n\nlower_in_v2_003: 25 asn_003 + lower_v2 &lt;= 32\n\nupper_in_v2_003: - 25 asn_003 + upper_v2 &gt;= -18\n\nupper_out_v2_003: - 25 asn_003 + 25 is_upper_v2_003 + upper_v2 &lt;= 31.5\n\nlower_out_v2_003: 25 asn_003 + 25 is_upper_v2_003 + lower_v2 &gt;= 7.5\n\nlower_in_v3_003: 25 asn_003 + lower_v3 &lt;= 32\n\nupper_in_v3_003: - 25 asn_003 + upper_v3 &gt;= -18\n\nupper_out_v3_003: - 25 asn_003 + 25 is_upper_v3_003 + upper_v3 &lt;= 31.5\n\nlower_out_v3_003: 25 asn_003 + 25 is_upper_v3_003 + lower_v3 &gt;= 7.5\n\nlower_in_v4_003: 25 asn_003 + lower_v4 &lt;= 32\n\nupper_in_v4_003: - 25 asn_003 + upper_v4 &gt;= -18\n\nupper_out_v4_003: - 25 asn_003 + 25 is_upper_v4_003 + upper_v4 &lt;= 31.5\n\nlower_out_v4_003: 25 asn_003 + 25 is_upper_v4_003 + lower_v4 &gt;= 7.5\n\nlower_in_v5_003: 25 asn_003 + lower_v5 &lt;= 32\n\nupper_in_v5_003: - 25 asn_003 + upper_v5 &gt;= -18\n\nupper_out_v5_003: - 25 asn_003 + 25 is_upper_v5_003 + upper_v5 &lt;= 31.5\n\nlower_out_v5_003: 25 asn_003 + 25 is_upper_v5_003 + lower_v5 &gt;= 7.5\n\nlower_in_v1_004: 25 asn_004 + lower_v1 &lt;= 30\n\nupper_in_v1_004: - 25 asn_004 + upper_v1 &gt;= -20\n\nupper_out_v1_004: - 25 asn_004 + 25 is_upper_v1_004 + upper_v1 &lt;= 29.5\n\nlower_out_v1_004: 25 asn_004 + 25 is_upper_v1_004 + lower_v1 &gt;= 5.5\n\nlower_in_v2_004: 25 asn_004 + lower_v2 &lt;= 33\n\nupper_in_v2_004: - 25 asn_004 + upper_v2 &gt;= -17\n\nupper_out_v2_004: - 25 asn_004 + 25 is_upper_v2_004 + upper_v2 &lt;= 32.5\n\nlower_out_v2_004: 25 asn_004 + 25 is_upper_v2_004 + lower_v2 &gt;= 8.5\n\nlower_in_v3_004: 25 asn_004 + lower_v3 &lt;= 33\n\nupper_in_v3_004: - 25 asn_004 + upper_v3 &gt;= -17\n\nupper_out_v3_004: - 25 asn_004 + 25 is_upper_v3_004 + upper_v3 &lt;= 32.5\n\nlower_out_v3_004: 25 asn_004 + 25 is_upper_v3_004 + lower_v3 &gt;= 8.5\n\nlower_in_v4_004: 25 asn_004 + lower_v4 &lt;= 33\n\nupper_in_v4_004: - 25 asn_004 + upper_v4 &gt;= -17\n\nupper_out_v4_004: - 25 asn_004 + 25 is_upper_v4_004 + upper_v4 &lt;= 32.5\n\nlower_out_v4_004: 25 asn_004 + 25 is_upper_v4_004 + lower_v4 &gt;= 8.5\n\nlower_in_v5_004: 25 asn_004 + lower_v5 &lt;= 33\n\nupper_in_v5_004: - 25 asn_004 + upper_v5 &gt;= -17\n\nupper_out_v5_004: - 25 asn_004 + 25 is_upper_v5_004 + upper_v5 &lt;= 32.5\n\nlower_out_v5_004: 25 asn_004 + 25 is_upper_v5_004 + lower_v5 &gt;= 8.5\n\nlower_in_v1_005: 25 asn_005 + lower_v1 &lt;= 31\n\nupper_in_v1_005: - 25 asn_005 + upper_v1 &gt;= -19\n\nupper_out_v1_005: - 25 asn_005 + 25 is_upper_v1_005 + upper_v1 &lt;= 30.5\n\nlower_out_v1_005: 25 asn_005 + 25 is_upper_v1_005 + lower_v1 &gt;= 6.5\n\nlower_in_v2_005: 25 asn_005 + lower_v2 &lt;= 34\n\nupper_in_v2_005: - 25 asn_005 + upper_v2 &gt;= -16\n\nupper_out_v2_005: - 25 asn_005 + 25 is_upper_v2_005 + upper_v2 &lt;= 33.5\n\nlower_out_v2_005: 25 asn_005 + 25 is_upper_v2_005 + lower_v2 &gt;= 9.5\n\nlower_in_v3_005: 25 asn_005 + lower_v3 &lt;= 34\n\nupper_in_v3_005: - 25 asn_005 + upper_v3 &gt;= -16\n\nupper_out_v3_005: - 25 asn_005 + 25 is_upper_v3_005 + upper_v3 &lt;= 33.5\n\nlower_out_v3_005: 25 asn_005 + 25 is_upper_v3_005 + lower_v3 &gt;= 9.5\n\nlower_in_v4_005: 25 asn_005 + lower_v4 &lt;= 34\n\nupper_in_v4_005: - 25 asn_005 + upper_v4 &gt;= -16\n\nupper_out_v4_005: - 25 asn_005 + 25 is_upper_v4_005 + upper_v4 &lt;= 33.5\n\nlower_out_v4_005: 25 asn_005 + 25 is_upper_v4_005 + lower_v4 &gt;= 9.5\n\nlower_in_v5_005: 25 asn_005 + lower_v5 &lt;= 34\n\nupper_in_v5_005: - 25 asn_005 + upper_v5 &gt;= -16\n\nupper_out_v5_005: - 25 asn_005 + 25 is_upper_v5_005 + upper_v5 &lt;= 33.5\n\nlower_out_v5_005: 25 asn_005 + 25 is_upper_v5_005 + lower_v5 &gt;= 9.5\n\nVARIABLES\n0 &lt;= asn_000 &lt;= 1 Integer\n0 &lt;= asn_001 &lt;= 1 Integer\n0 &lt;= asn_002 &lt;= 1 Integer\n0 &lt;= asn_003 &lt;= 1 Integer\n0 &lt;= asn_004 &lt;= 1 Integer\n0 &lt;= asn_005 &lt;= 1 Integer\n0 &lt;= is_upper_v1_000 &lt;= 1 Integer\n0 &lt;= is_upper_v1_001 &lt;= 1 Integer\n0 &lt;= is_upper_v1_002 &lt;= 1 Integer\n0 &lt;= is_upper_v1_003 &lt;= 1 Integer\n0 &lt;= is_upper_v1_004 &lt;= 1 Integer\n0 &lt;= is_upper_v1_005 &lt;= 1 Integer\n0 &lt;= is_upper_v2_000 &lt;= 1 Integer\n0 &lt;= is_upper_v2_001 &lt;= 1 Integer\n0 &lt;= is_upper_v2_002 &lt;= 1 Integer\n0 &lt;= is_upper_v2_003 &lt;= 1 Integer\n0 &lt;= is_upper_v2_004 &lt;= 1 Integer\n0 &lt;= is_upper_v2_005 &lt;= 1 Integer\n0 &lt;= is_upper_v3_000 &lt;= 1 Integer\n0 &lt;= is_upper_v3_001 &lt;= 1 Integer\n0 &lt;= is_upper_v3_002 &lt;= 1 Integer\n0 &lt;= is_upper_v3_003 &lt;= 1 Integer\n0 &lt;= is_upper_v3_004 &lt;= 1 Integer\n0 &lt;= is_upper_v3_005 &lt;= 1 Integer\n0 &lt;= is_upper_v4_000 &lt;= 1 Integer\n0 &lt;= is_upper_v4_001 &lt;= 1 Integer\n0 &lt;= is_upper_v4_002 &lt;= 1 Integer\n0 &lt;= is_upper_v4_003 &lt;= 1 Integer\n0 &lt;= is_upper_v4_004 &lt;= 1 Integer\n0 &lt;= is_upper_v4_005 &lt;= 1 Integer\n0 &lt;= is_upper_v5_000 &lt;= 1 Integer\n0 &lt;= is_upper_v5_001 &lt;= 1 Integer\n0 &lt;= is_upper_v5_002 &lt;= 1 Integer\n0 &lt;= is_upper_v5_003 &lt;= 1 Integer\n0 &lt;= is_upper_v5_004 &lt;= 1 Integer\n0 &lt;= is_upper_v5_005 &lt;= 1 Integer\nlower_v1 &lt;= 19 Continuous\nlower_v2 &lt;= 19 Continuous\nlower_v3 &lt;= 19 Continuous\nlower_v4 &lt;= 19 Continuous\nlower_v5 &lt;= 19 Continuous\nupper_v1 &lt;= 19 Continuous\nupper_v2 &lt;= 19 Continuous\nupper_v3 &lt;= 19 Continuous\nupper_v4 &lt;= 19 Continuous\nupper_v5 &lt;= 19 Continuous\n\nWelcome to the CBC MILP Solver \nVersion: 2.10.3 \nBuild Date: Dec 15 2019 \n\ncommand line - .venv/lib/python3.10/site-packages/pulp/solverdir/cbc/linux/64/cbc /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.mps max timeMode elapsed branch printingOptions all solution /tmp/a0190fc1d26e4a6483cbe40c45b4eb2f-pulp.sol (default strategy 1)\nAt line 2 NAME          MODEL\nAt line 3 ROWS\nAt line 130 COLUMNS\nAt line 519 RHS\nAt line 645 BOUNDS\nAt line 692 ENDATA\nProblem MODEL has 125 rows, 46 columns and 310 elements\nCoin0008I MODEL read with 0 errors\nOption for timeMode changed from cpu to elapsed\nContinuous objective value is 450 - 0.00 seconds\nCgl0003I 0 fixed, 0 tightened bounds, 60 strengthened rows, 0 substitutions\nCgl0003I 0 fixed, 0 tightened bounds, 15 strengthened rows, 0 substitutions\nCgl0003I 0 fixed, 0 tightened bounds, 10 strengthened rows, 0 substitutions\nCgl0004I processed model has 125 rows, 46 columns (36 integer (36 of which binary)) and 385 elements\nCutoff increment increased from 1e-05 to 49.9999\nCbc0038I Initial state - 10 integers unsatisfied sum - 2.62534\nCbc0038I Pass   1: suminf.    0.51766 (6) obj. -262.65 iterations 40\nCbc0038I Pass   2: suminf.    0.37920 (2) obj. 810.4 iterations 24\nCbc0038I Pass   3: suminf.    0.55711 (3) obj. 119.936 iterations 5\nCbc0038I Pass   4: suminf.    0.24000 (2) obj. 269 iterations 10\nCbc0038I Pass   5: suminf.    0.51356 (2) obj. 119.936 iterations 7\nCbc0038I Pass   6: suminf.    0.89604 (5) obj. 141.923 iterations 14\nCbc0038I Pass   7: suminf.    0.59491 (5) obj. 670.688 iterations 15\nCbc0038I Pass   8: suminf.    0.92668 (5) obj. 51.2876 iterations 25\nCbc0038I Pass   9: suminf.    0.92668 (5) obj. 51.2876 iterations 7\nCbc0038I Pass  10: suminf.    0.59689 (6) obj. 667.219 iterations 33\nCbc0038I Pass  11: suminf.    0.92668 (5) obj. 51.2876 iterations 29\nCbc0038I Pass  12: suminf.    0.48428 (4) obj. 662.897 iterations 20\nCbc0038I Pass  13: suminf.    0.95405 (6) obj. 119.888 iterations 20\nCbc0038I Pass  14: suminf.    0.27012 (5) obj. 612.921 iterations 30\nCbc0038I Pass  15: suminf.    0.92255 (5) obj. 116.433 iterations 26\nCbc0038I Pass  16: suminf.    0.65069 (6) obj. 181.373 iterations 17\nCbc0038I Pass  17: suminf.    0.85917 (5) obj. 551.764 iterations 24\nCbc0038I Pass  18: suminf.    0.23280 (4) obj. 140.28 iterations 22\nCbc0038I Pass  19: suminf.    0.81237 (3) obj. 84.7919 iterations 23\nCbc0038I Pass  20: suminf.    0.45133 (3) obj. 192.419 iterations 8\nCbc0038I Pass  21: suminf.    0.67675 (6) obj. 579.906 iterations 21\nCbc0038I Pass  22: suminf.    0.89960 (5) obj. -94.0115 iterations 29\nCbc0038I Pass  23: suminf.    0.56051 (3) obj. 180.957 iterations 14\nCbc0038I Pass  24: suminf.    0.74317 (3) obj. 37.3469 iterations 14\nCbc0038I Pass  25: suminf.    0.84688 (5) obj. 158.839 iterations 20\nCbc0038I Pass  26: suminf.    0.12352 (3) obj. 695.44 iterations 22\nCbc0038I Pass  27: suminf.    0.54921 (5) obj. 35.9499 iterations 17\nCbc0038I Pass  28: suminf.    0.54457 (4) obj. 782.282 iterations 27\nCbc0038I Pass  29: suminf.    0.53404 (4) obj. 32.8182 iterations 25\nCbc0038I Pass  30: suminf.    0.50976 (4) obj. 311.676 iterations 11\nCbc0038I Rounding solution of 700 is better than previous of 1e+50\n\nCbc0038I Before mini branch and bound, 9 integers at bound fixed and 0 continuous\nCbc0038I Full problem 125 rows 46 columns, reduced to 116 rows 37 columns\nCbc0038I Mini branch and bound improved solution from 700 to -150 (0.02 seconds)\nCbc0038I Round again with cutoff of -225\nCbc0038I Reduced cost fixing fixed 2 variables on major pass 2\nCbc0038I Pass  30: suminf.    0.98992 (5) obj. -344.44 iterations 23\nCbc0038I Pass  31: suminf.    1.64306 (8) obj. -225 iterations 19\nCbc0038I Pass  32: suminf.    1.01520 (8) obj. -225 iterations 9\nCbc0038I Pass  33: suminf.    0.59837 (5) obj. -225 iterations 29\nCbc0038I Pass  34: suminf.    0.12000 (2) obj. -235 iterations 21\nCbc0038I Pass  35: suminf.    0.56667 (3) obj. -225 iterations 7\nCbc0038I Pass  36: suminf.    0.23800 (3) obj. -225 iterations 4\nCbc0038I Pass  37: suminf.    0.18667 (2) obj. -225 iterations 13\nCbc0038I Pass  38: suminf.    0.60572 (4) obj. -225 iterations 10\nCbc0038I Pass  39: suminf.    0.55246 (4) obj. -225 iterations 3\nCbc0038I Pass  40: suminf.    0.90000 (3) obj. -225 iterations 8\nCbc0038I Pass  41: suminf.    0.90000 (3) obj. -225 iterations 1\nCbc0038I Pass  42: suminf.    0.72410 (4) obj. -225 iterations 10\nCbc0038I Pass  43: suminf.    0.56667 (3) obj. -225 iterations 11\nCbc0038I Pass  44: suminf.    0.25143 (3) obj. -225 iterations 6\nCbc0038I Pass  45: suminf.    0.18667 (2) obj. -225 iterations 16\nCbc0038I Pass  46: suminf.    0.12000 (2) obj. -235 iterations 1\nCbc0038I Pass  47: suminf.    0.56667 (3) obj. -225 iterations 6\nCbc0038I Pass  48: suminf.    0.82724 (7) obj. -225 iterations 31\nCbc0038I Pass  49: suminf.    0.82730 (7) obj. -225 iterations 2\nCbc0038I Pass  50: suminf.    0.59837 (5) obj. -225 iterations 25\nCbc0038I Pass  51: suminf.    0.61314 (6) obj. -273.399 iterations 23\nCbc0038I Pass  52: suminf.    0.63333 (3) obj. -225 iterations 25\nCbc0038I Pass  53: suminf.    0.89613 (4) obj. -225 iterations 7\nCbc0038I Pass  54: suminf.    0.40296 (5) obj. -225 iterations 8\nCbc0038I Pass  55: suminf.    0.52545 (3) obj. -225 iterations 17\nCbc0038I Pass  56: suminf.    0.35917 (4) obj. -247.806 iterations 4\nCbc0038I Pass  57: suminf.    0.23800 (3) obj. -225 iterations 19\nCbc0038I Pass  58: suminf.    0.23800 (3) obj. -225 iterations 0\nCbc0038I Pass  59: suminf.    0.44904 (3) obj. -225 iterations 12\nCbc0038I No solution found this major pass\nCbc0038I Before mini branch and bound, 12 integers at bound fixed and 0 continuous\nCbc0038I Full problem 125 rows 46 columns, reduced to 95 rows 34 columns\nCbc0038I Mini branch and bound did not improve solution (0.03 seconds)\nCbc0038I After 0.03 seconds - Feasibility pump exiting with objective of -150 - took 0.02 seconds\nCbc0012I Integer solution of -150 found by feasibility pump after 0 iterations and 0 nodes (0.03 seconds)\nCbc0038I Full problem 125 rows 46 columns, reduced to 0 rows 0 columns\nCbc0012I Integer solution of -300 found by DiveCoefficient after 31 iterations and 0 nodes (0.03 seconds)\nCbc0013I At root node, 0 cuts changed objective from -450 to -300 in 3 passes\nCbc0014I Cut generator 0 (Probing) - 37 row cuts average 2.0 elements, 12 column cuts (12 active)  in 0.000 seconds - new frequency is 1\nCbc0014I Cut generator 1 (Gomory) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 2 (Knapsack) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 3 (Clique) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 4 (MixedIntegerRounding2) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0014I Cut generator 5 (FlowCover) - 0 row cuts average 0.0 elements, 0 column cuts (0 active)  in 0.000 seconds - new frequency is -100\nCbc0001I Search completed - best objective -300, took 31 iterations and 0 nodes (0.03 seconds)\nCbc0035I Maximum depth 0, 2 variables fixed on reduced cost\nCuts at root node changed objective from -450 to -300\nProbing was tried 3 times and created 49 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nGomory was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nKnapsack was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nClique was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nMixedIntegerRounding2 was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nFlowCover was tried 3 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nTwoMirCuts was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\nZeroHalf was tried 1 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)\n\nResult - Optimal solution found\n\nObjective value:                300.00000000\nEnumerated nodes:               0\nTotal iterations:               31\nTime (CPU seconds):             0.03\nTime (Wallclock seconds):       0.03\n\nOption for printingOptions changed from normal to all\nTotal time (CPU seconds):       0.03   (Wallclock seconds):       0.03\n\nPnL total: 300.00\nAssigned rows: 3/6\nBounds:\n    lower  upper\nv1    1.5    4.0\nv2    3.5    7.0\nv3    3.5    7.0\nv4    3.5    7.0\nv5    3.5    7.0\n</code></pre>\n<p>This strategy can be <a href=\"https://or.stackexchange.com/questions/617/solving-mip-in-java-with-free-software\">carried to Java</a> without too much fuss.</p>\n"},{"tags":[],"owner":{"account_id":24435593,"reputation":1,"user_id":18359920,"display_name":"GodCatHuSky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681452658,"creation_date":1681452658,"answer_id":76012041,"question_id":75840798,"body_markdown":"i have two questions , i think you hope one table have many columnsyou need get every columns min and max value? \r\n v1 v2  v3  pnl\r\n7, 8, 12, 100.50,\r\n6, 9, 14, -200.10,\r\n5, 10, 13, 150.25,\r\n8, 11, 15, -510.35,\r\ni run you code ,result is \r\n\r\nmaxPnL: 250.75\r\nv0 Min: 5, Max: 8\r\nv1 Min: 8, Max: 11\r\nv2 Min: 12, Max: 13\r\nquestion 1:last result ,max why is 13? ,But isn&#39;t it 15.\r\nquestion 2:maxPnL How is it calculated?","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>i have two questions , i think you hope one table have many columnsyou need get every columns min and max value?\nv1 v2  v3  pnl\n7, 8, 12, 100.50,\n6, 9, 14, -200.10,\n5, 10, 13, 150.25,\n8, 11, 15, -510.35,\ni run you code ,result is</p>\n<p>maxPnL: 250.75\nv0 Min: 5, Max: 8\nv1 Min: 8, Max: 11\nv2 Min: 12, Max: 13\nquestion 1:last result ,max why is 13? ,But isn't it 15.\nquestion 2:maxPnL How is it calculated?</p>\n"}],"owner":{"account_id":1187182,"reputation":31,"user_id":1160919,"display_name":"Amar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1681452658,"creation_date":1679736985,"question_id":75840798,"body_markdown":"Given a table of N columns, all columns except last are variables and the last column is PnL (Profit and Loss). Each variable value is a whole number (no fractions, decimals) greater than or equals 0 and less than 20. PnL values can be greater than or less than zero.\r\n\r\nActual dataset may have upto 40 variables and 30,000 rows.\r\n\r\nI&#39;m trying to write a program to find minimum and maximum value for each variable such that the sum of matching PnL values derived from combination of all those minimum and maximum ranges results in the highest value.\r\n\r\nSample Data:  \r\nLarge: https://drive.google.com/file/d/1afKF0mepBUWq0-inKIEOpKpzawBh9Z0Q/view?usp=sharing   \r\nMedium: https://drive.google.com/file/d/1MGHdwBHYc0XVsup7I4bAJSHCl7V_J428/view?usp=sharing\r\n\r\nAnother example. A solution for below tiny table is:\r\n```none\r\n(1 &lt;= v1 &lt;= 2) &amp;&amp; (4 &lt;= v2 &lt;= 5); PnL Sum = 6 (3.5 + 2.5)\r\n\r\nV1\tV2\tPnL\r\n1\t4\t3.5\r\n2\t5\t2.5\r\n2\t6\t-11.0\r\n```\r\nI came up with [brute force approach][1], i.e. trying all possible combinations to find maximum PnL, but it takes too much time when more than 3 variables are involved.  \r\n\r\nBrute Force Approach (too slow for &gt;3 variables):\r\n```java\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n/*\r\n * Brute Force Solution\r\n */\r\npublic class VariableOptimizer {\r\n\r\n    double maxPnL = Double.NEGATIVE_INFINITY;\r\n    int[][] optimalMinMax = null;\r\n    double[][] varMinMax = null;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        /*\r\n            Constraints:\r\n            Vairables are whole Numbers (no fractions, decimals) and range between 0 to 19;\r\n            i.e. variable v &gt;= 0 and &lt;= 19\r\n         */\r\n        double[][] data = {\r\n              //{v1, v2, v3, PnL}\r\n                {7, 8, 12, 100.50},\r\n                {6, 9, 14, -200.10},\r\n                {5, 10, 13, 150.25},\r\n                {8, 11, 15, -510.35},\r\n        };\r\n\r\n        //data = loadCsv(&quot;./Optimize-MinMax.csv&quot;); //or load data from file\r\n\r\n        VariableOptimizer variableOptimizer = new VariableOptimizer();\r\n\r\n        variableOptimizer.findOptimalMinMax(data, 0, null);\r\n\r\n        System.out.println(&quot;maxPnL: &quot; + variableOptimizer.maxPnL);\r\n\r\n        for (int i = 0; i &lt; variableOptimizer.optimalMinMax.length; i++){\r\n            System.out.println(&quot;v&quot; +i + &quot; Min: &quot; + variableOptimizer.optimalMinMax[i][0] + &quot;, Max: &quot; + variableOptimizer.optimalMinMax[i][1]);\r\n        }\r\n    }\r\n\r\n    public void findOptimalMinMax(double[][] data, int varIdx, int[][] varMinMaxConditions){\r\n\r\n        int noOfVars = data[0].length-1;\r\n\r\n        if (varMinMaxConditions == null) {\r\n            varMinMaxConditions = new int[noOfVars][2];\r\n        }\r\n\r\n        if (varIdx == noOfVars) {\r\n\r\n            double pnl = calculatePnl(data, varMinMaxConditions);\r\n\r\n            if (pnl &gt;= maxPnL) {\r\n                maxPnL = pnl;\r\n                optimalMinMax = java.util.Arrays.stream(varMinMaxConditions)\r\n                        .map(a -&gt;  java.util.Arrays.copyOf(a, a.length))\r\n                        .toArray(int[][]::new);\r\n            }\r\n            return;\r\n        }\r\n\r\n        double[][] varMinMax = getVarMinMax(data);\r\n        int varMin = (int)varMinMax[varIdx][0];\r\n        int varMax = (int)varMinMax[varIdx][1];\r\n\r\n        for (int i = varMin; i &lt;= varMax; i++) {\r\n            for (int j = i; j &lt;= varMax; j++ ) {\r\n\r\n                varMinMaxConditions[varIdx][0] = i;\r\n                varMinMaxConditions[varIdx][1] = j;\r\n\r\n                findOptimalMinMax(data, varIdx + 1, varMinMaxConditions);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static double calculatePnl(double[][] data, int[][] varMinMaxConditions){\r\n\r\n        double pnl = 0;\r\n\r\n        for (int i = 0; i &lt; data.length; i++) {\r\n\r\n            double[] row = data[i];\r\n            double rowPnl = row[row.length-1];\r\n\r\n            boolean includeRow = true;\r\n            for (int j = 0; j &lt; varMinMaxConditions.length; j++){\r\n\r\n                double varMin = varMinMaxConditions[j][0];\r\n                double varMax = varMinMaxConditions[j][1];\r\n\r\n                if (varMin &gt; row[j] || row[j] &gt; varMax){\r\n                    includeRow = false;\r\n                }\r\n            }\r\n\r\n            if (includeRow) {\r\n                pnl += rowPnl;\r\n            }\r\n        }\r\n\r\n        return pnl;\r\n    }\r\n\r\n    public double[][] getVarMinMax(double[][] data){\r\n\r\n        if (varMinMax == null) {\r\n            int noOfVars = data[0].length - 1;\r\n\r\n            varMinMax = new double[noOfVars][2];\r\n\r\n            for (int rowIdx = 0; rowIdx &lt; data.length; rowIdx++) {\r\n                for (int varIdx = 0; varIdx &lt; noOfVars; varIdx++) {\r\n                    if (rowIdx &gt; 0) {\r\n                        varMinMax[varIdx][0] = Math.min(data[rowIdx][varIdx], varMinMax[varIdx][0]);\r\n                        varMinMax[varIdx][1] = (int)Math.max(data[rowIdx][varIdx], varMinMax[varIdx][1]);\r\n                    } else {\r\n                        varMinMax[varIdx][0] = data[rowIdx][varIdx];\r\n                        varMinMax[varIdx][1] = data[rowIdx][varIdx];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return varMinMax;\r\n    }\r\n\r\n    public static double[][] loadCsv(String file){\r\n        List&lt;double[]&gt; rows = new ArrayList&lt;&gt;();\r\n        try {\r\n            Files.lines(Paths.get(file)).forEach(s -&gt; {\r\n                if (!java.lang.Character.isDigit(s.charAt(0))) return;\r\n                String[] line = s.split(&quot;,&quot;);\r\n                double[] row = Arrays.stream(line)\r\n                        .mapToDouble(Double::parseDouble)\r\n                        .toArray();\r\n                rows.add(row);\r\n            });\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        double[][] result = new double[rows.size()][];\r\n        for (int i = 0; i &lt; rows.size(); i++) {\r\n            result[i] = rows.get(i);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n```\r\n\r\nCan someone please help solve this? \r\n\r\n\r\n  [1]: https://gist.github.com/amarsheriff/00427e74bcc578c1c13b0e7eaf171060","title":"Find min max range of multiple variables the results in maximum PnL","body":"<p>Given a table of N columns, all columns except last are variables and the last column is PnL (Profit and Loss). Each variable value is a whole number (no fractions, decimals) greater than or equals 0 and less than 20. PnL values can be greater than or less than zero.</p>\n<p>Actual dataset may have upto 40 variables and 30,000 rows.</p>\n<p>I'm trying to write a program to find minimum and maximum value for each variable such that the sum of matching PnL values derived from combination of all those minimum and maximum ranges results in the highest value.</p>\n<p>Sample Data:<br />\nLarge: <a href=\"https://drive.google.com/file/d/1afKF0mepBUWq0-inKIEOpKpzawBh9Z0Q/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1afKF0mepBUWq0-inKIEOpKpzawBh9Z0Q/view?usp=sharing</a><br />\nMedium: <a href=\"https://drive.google.com/file/d/1MGHdwBHYc0XVsup7I4bAJSHCl7V_J428/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1MGHdwBHYc0XVsup7I4bAJSHCl7V_J428/view?usp=sharing</a></p>\n<p>Another example. A solution for below tiny table is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(1 &lt;= v1 &lt;= 2) &amp;&amp; (4 &lt;= v2 &lt;= 5); PnL Sum = 6 (3.5 + 2.5)\n\nV1  V2  PnL\n1   4   3.5\n2   5   2.5\n2   6   -11.0\n</code></pre>\n<p>I came up with <a href=\"https://gist.github.com/amarsheriff/00427e74bcc578c1c13b0e7eaf171060\" rel=\"nofollow noreferrer\">brute force approach</a>, i.e. trying all possible combinations to find maximum PnL, but it takes too much time when more than 3 variables are involved.</p>\n<p>Brute Force Approach (too slow for &gt;3 variables):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/*\n * Brute Force Solution\n */\npublic class VariableOptimizer {\n\n    double maxPnL = Double.NEGATIVE_INFINITY;\n    int[][] optimalMinMax = null;\n    double[][] varMinMax = null;\n\n    public static void main(String[] args) {\n\n        /*\n            Constraints:\n            Vairables are whole Numbers (no fractions, decimals) and range between 0 to 19;\n            i.e. variable v &gt;= 0 and &lt;= 19\n         */\n        double[][] data = {\n              //{v1, v2, v3, PnL}\n                {7, 8, 12, 100.50},\n                {6, 9, 14, -200.10},\n                {5, 10, 13, 150.25},\n                {8, 11, 15, -510.35},\n        };\n\n        //data = loadCsv(&quot;./Optimize-MinMax.csv&quot;); //or load data from file\n\n        VariableOptimizer variableOptimizer = new VariableOptimizer();\n\n        variableOptimizer.findOptimalMinMax(data, 0, null);\n\n        System.out.println(&quot;maxPnL: &quot; + variableOptimizer.maxPnL);\n\n        for (int i = 0; i &lt; variableOptimizer.optimalMinMax.length; i++){\n            System.out.println(&quot;v&quot; +i + &quot; Min: &quot; + variableOptimizer.optimalMinMax[i][0] + &quot;, Max: &quot; + variableOptimizer.optimalMinMax[i][1]);\n        }\n    }\n\n    public void findOptimalMinMax(double[][] data, int varIdx, int[][] varMinMaxConditions){\n\n        int noOfVars = data[0].length-1;\n\n        if (varMinMaxConditions == null) {\n            varMinMaxConditions = new int[noOfVars][2];\n        }\n\n        if (varIdx == noOfVars) {\n\n            double pnl = calculatePnl(data, varMinMaxConditions);\n\n            if (pnl &gt;= maxPnL) {\n                maxPnL = pnl;\n                optimalMinMax = java.util.Arrays.stream(varMinMaxConditions)\n                        .map(a -&gt;  java.util.Arrays.copyOf(a, a.length))\n                        .toArray(int[][]::new);\n            }\n            return;\n        }\n\n        double[][] varMinMax = getVarMinMax(data);\n        int varMin = (int)varMinMax[varIdx][0];\n        int varMax = (int)varMinMax[varIdx][1];\n\n        for (int i = varMin; i &lt;= varMax; i++) {\n            for (int j = i; j &lt;= varMax; j++ ) {\n\n                varMinMaxConditions[varIdx][0] = i;\n                varMinMaxConditions[varIdx][1] = j;\n\n                findOptimalMinMax(data, varIdx + 1, varMinMaxConditions);\n            }\n        }\n    }\n\n    public static double calculatePnl(double[][] data, int[][] varMinMaxConditions){\n\n        double pnl = 0;\n\n        for (int i = 0; i &lt; data.length; i++) {\n\n            double[] row = data[i];\n            double rowPnl = row[row.length-1];\n\n            boolean includeRow = true;\n            for (int j = 0; j &lt; varMinMaxConditions.length; j++){\n\n                double varMin = varMinMaxConditions[j][0];\n                double varMax = varMinMaxConditions[j][1];\n\n                if (varMin &gt; row[j] || row[j] &gt; varMax){\n                    includeRow = false;\n                }\n            }\n\n            if (includeRow) {\n                pnl += rowPnl;\n            }\n        }\n\n        return pnl;\n    }\n\n    public double[][] getVarMinMax(double[][] data){\n\n        if (varMinMax == null) {\n            int noOfVars = data[0].length - 1;\n\n            varMinMax = new double[noOfVars][2];\n\n            for (int rowIdx = 0; rowIdx &lt; data.length; rowIdx++) {\n                for (int varIdx = 0; varIdx &lt; noOfVars; varIdx++) {\n                    if (rowIdx &gt; 0) {\n                        varMinMax[varIdx][0] = Math.min(data[rowIdx][varIdx], varMinMax[varIdx][0]);\n                        varMinMax[varIdx][1] = (int)Math.max(data[rowIdx][varIdx], varMinMax[varIdx][1]);\n                    } else {\n                        varMinMax[varIdx][0] = data[rowIdx][varIdx];\n                        varMinMax[varIdx][1] = data[rowIdx][varIdx];\n                    }\n                }\n            }\n        }\n\n        return varMinMax;\n    }\n\n    public static double[][] loadCsv(String file){\n        List&lt;double[]&gt; rows = new ArrayList&lt;&gt;();\n        try {\n            Files.lines(Paths.get(file)).forEach(s -&gt; {\n                if (!java.lang.Character.isDigit(s.charAt(0))) return;\n                String[] line = s.split(&quot;,&quot;);\n                double[] row = Arrays.stream(line)\n                        .mapToDouble(Double::parseDouble)\n                        .toArray();\n                rows.add(row);\n            });\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n\n        double[][] result = new double[rows.size()][];\n        for (int i = 0; i &lt; rows.size(); i++) {\n            result[i] = rows.get(i);\n        }\n        return result;\n    }\n}\n\n</code></pre>\n<p>Can someone please help solve this?</p>\n"},{"tags":["java","android","google-cloud-platform","google-cloud-firestore","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681452346,"post_id":76009624,"comment_id":134061445,"body_markdown":"Aside from my answer, if you understand Kotlin, I think that this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithGoogle).","body":"Aside from my answer, if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithGoogle\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681452166,"creation_date":1681452166,"answer_id":76012003,"question_id":76009624,"body_markdown":"As far as I can see, all exceptions are present inside [com.google.android.gms.common.api][1] package. If you check the [Exceptions][2] section, you&#39;ll see that only 4 exceptions are present:\r\n\r\n 1. [ApiException][3]\r\n 2. [AvailabilityException][4]\r\n 3. [ResolvableApiException][5]\r\n 4. [UnsupportedApiCallException][6]\r\n\r\nNow, when it comes to the [SignInClient#bbeginSignIn(BeginSignInRequest signInRequest)][7] method, we can see that it is not declared to throw an exception at all. However, the documentation says:\r\n\r\n&gt; If the request cannot be honored, an **exception** will be set on the returned Task. In all other cases, a BeginSignInResult will be returned.\r\n\r\nSo if there is a failure, [OnFailureListener#onFailure(Exception e)][8] will be called with an Exception. As you noticed, it can be an [UnsupportedApiCallException][6].\r\n\r\nOn the other hand, methods like [SignInClient#getPhoneNumberFromIntent(Intent data)][9] or [SignInClient#getSignInCredentialFromIntent(Intent data)][10] are explicitly declared that can throw an [ApiException][3].\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary\r\n  [2]: https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary#exceptions\r\n  [3]: https://developers.google.com/android/reference/com/google/android/gms/common/api/ApiException\r\n  [4]: https://developers.google.com/android/reference/com/google/android/gms/common/api/AvailabilityException\r\n  [5]: https://developers.google.com/android/reference/com/google/android/gms/common/api/ResolvableApiException\r\n  [6]: https://developers.google.com/android/reference/com/google/android/gms/common/api/UnsupportedApiCallException\r\n  [7]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)\r\n  [8]: https://developers.google.com/android/reference/com/google/android/gms/tasks/OnFailureListener#onFailure(java.lang.Exception)\r\n  [9]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getPhoneNumberFromIntent(android.content.Intent)\r\n  [10]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getSignInCredentialFromIntent(android.content.Intent)","title":"Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener","body":"<p>As far as I can see, all exceptions are present inside <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary\" rel=\"nofollow noreferrer\">com.google.android.gms.common.api</a> package. If you check the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/package-summary#exceptions\" rel=\"nofollow noreferrer\">Exceptions</a> section, you'll see that only 4 exceptions are present:</p>\n<ol>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/ApiException\" rel=\"nofollow noreferrer\">ApiException</a></li>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/AvailabilityException\" rel=\"nofollow noreferrer\">AvailabilityException</a></li>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/ResolvableApiException\" rel=\"nofollow noreferrer\">ResolvableApiException</a></li>\n<li><a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/UnsupportedApiCallException\" rel=\"nofollow noreferrer\">UnsupportedApiCallException</a></li>\n</ol>\n<p>Now, when it comes to the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)\" rel=\"nofollow noreferrer\">SignInClient#bbeginSignIn(BeginSignInRequest signInRequest)</a> method, we can see that it is not declared to throw an exception at all. However, the documentation says:</p>\n<blockquote>\n<p>If the request cannot be honored, an <strong>exception</strong> will be set on the returned Task. In all other cases, a BeginSignInResult will be returned.</p>\n</blockquote>\n<p>So if there is a failure, <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/OnFailureListener#onFailure(java.lang.Exception)\" rel=\"nofollow noreferrer\">OnFailureListener#onFailure(Exception e)</a> will be called with an Exception. As you noticed, it can be an <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/UnsupportedApiCallException\" rel=\"nofollow noreferrer\">UnsupportedApiCallException</a>.</p>\n<p>On the other hand, methods like <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getPhoneNumberFromIntent(android.content.Intent)\" rel=\"nofollow noreferrer\">SignInClient#getPhoneNumberFromIntent(Intent data)</a> or <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#getSignInCredentialFromIntent(android.content.Intent)\" rel=\"nofollow noreferrer\">SignInClient#getSignInCredentialFromIntent(Intent data)</a> are explicitly declared that can throw an <a href=\"https://developers.google.com/android/reference/com/google/android/gms/common/api/ApiException\" rel=\"nofollow noreferrer\">ApiException</a>.</p>\n"}],"owner":{"account_id":11052429,"reputation":478,"user_id":10089200,"display_name":"Shout"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76012003,"answer_count":1,"score":1,"last_activity_date":1681452232,"creation_date":1681418002,"question_id":76009624,"body_markdown":"Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener?\r\n\r\n```java\r\nSignInClient oneTapClient = Identity.getSignInClient(requireActivity());\r\noneTapClient.beginSignIn(oneTapSignInRequest).\r\n    addOnSuccessListener(requireActivity(), result -&gt; {\r\n        //...\r\n    }).\r\n    addOnFailureListener(requireActivity(), exception -&gt; {\r\n        //What kind of exception can be caught here?\r\n    });\r\n```\r\n\r\nI&#39;ve found that one possible exception may be `UnsupportedApiCallException` and I&#39;ve got it handled. There probably are more different types of exceptions and I want to handle them separately. \r\n\r\nIn the [documentation][1], there is nothing written that could help me.\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)","title":"Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener","body":"<p>Where can I find a list of possible exceptions that SignInClient.beginSignIn can throw on addOnFailureListener?</p>\n<pre class=\"lang-java prettyprint-override\"><code>SignInClient oneTapClient = Identity.getSignInClient(requireActivity());\noneTapClient.beginSignIn(oneTapSignInRequest).\n    addOnSuccessListener(requireActivity(), result -&gt; {\n        //...\n    }).\n    addOnFailureListener(requireActivity(), exception -&gt; {\n        //What kind of exception can be caught here?\n    });\n</code></pre>\n<p>I've found that one possible exception may be <code>UnsupportedApiCallException</code> and I've got it handled. There probably are more different types of exceptions and I want to handle them separately.</p>\n<p>In the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/auth/api/identity/SignInClient#beginSignIn(com.google.android.gms.auth.api.identity.BeginSignInRequest)\" rel=\"nofollow noreferrer\">documentation</a>, there is nothing written that could help me.</p>\n"},{"tags":["java","spring-boot","logging","slf4j","java.util.logging"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1681451692,"post_id":76011916,"comment_id":134061335,"body_markdown":"generally, for info, its something that NEED TO KNOW, so that when looking over a log you can probably trace the execution of your program from a &quot;larger&quot; perspective. Then debug would be finer grained so that you can look at the values etc as it is being processed. Then trace would be even finer grained where you can even see how it enters/exits a method. Though this is kinda subjective, and up to you","body":"generally, for info, its something that NEED TO KNOW, so that when looking over a log you can probably trace the execution of your program from a &quot;larger&quot; perspective. Then debug would be finer grained so that you can look at the values etc as it is being processed. Then trace would be even finer grained where you can even see how it enters/exits a method. Though this is kinda subjective, and up to you"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681467937,"answer_count":0,"score":0,"last_activity_date":1681451065,"creation_date":1681451065,"question_id":76011916,"body_markdown":"I am working on a project that enhances the operability of my application by going through all the application logic and decide what to log and what level where to use. I am stuck between the usage of TRACE and DEBUG. For example in a method:\r\n\r\n    public void search(String text) {\r\n       log.trace(&quot;Inside search() method&quot;);\r\n       log.info(&quot;search text value:{}&quot;, text);\r\n       ...\r\n    }\r\n\r\nIs this the correct approach for logging?","title":"Slf4j/logging When to use TRACE and DEBUG in your applicaton?","body":"<p>I am working on a project that enhances the operability of my application by going through all the application logic and decide what to log and what level where to use. I am stuck between the usage of TRACE and DEBUG. For example in a method:</p>\n<pre><code>public void search(String text) {\n   log.trace(&quot;Inside search() method&quot;);\n   log.info(&quot;search text value:{}&quot;, text);\n   ...\n}\n</code></pre>\n<p>Is this the correct approach for logging?</p>\n"},{"tags":["java","pcf"],"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681450862,"creation_date":1681450862,"question_id":76011898,"body_markdown":"I use PCF with buildpacks for Java app and I want to go to the docker shell and run some tools inside on docker container. \r\n\r\nHow can I do that? In K8S is very easy but in PCF is terrible to get there. ","title":"PCF how go to docker shell","body":"<p>I use PCF with buildpacks for Java app and I want to go to the docker shell and run some tools inside on docker container.</p>\n<p>How can I do that? In K8S is very easy but in PCF is terrible to get there.</p>\n"},{"tags":["javascript","java","encryption","aes"],"comments":[{"owner":{"account_id":4229706,"reputation":10684,"user_id":3462319,"accept_rate":85,"display_name":"depperm"},"score":0,"creation_date":1680529236,"post_id":75920107,"comment_id":133909109,"body_markdown":"in js your `encrypt` is passed a param but doesn&#39;t take one","body":"in js your <code>encrypt</code> is passed a param but doesn&#39;t take one"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":2,"creation_date":1680529309,"post_id":75920107,"comment_id":133909125,"body_markdown":"Why is this encryption needed? If your website properly uses SSL/TLS (as it should) then the data is already encrypted when it&#39;s in transit.","body":"Why is this encryption needed? If your website properly uses SSL/TLS (as it should) then the data is already encrypted when it&#39;s in transit."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1680529761,"post_id":75920107,"comment_id":133909260,"body_markdown":"And if your website doesn&#39;t use SSL/TLS. or its content can be read in transit in any other way, then the encryption would still add no value, because your JS encryption method and keys are then also visible, meaning an attacker could just decrypt the data with this information.","body":"And if your website doesn&#39;t use SSL/TLS. or its content can be read in transit in any other way, then the encryption would still add no value, because your JS encryption method and keys are then also visible, meaning an attacker could just decrypt the data with this information."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1680530531,"post_id":75920107,"comment_id":133909506,"body_markdown":"Obviously in the Java code `md5()` returns the hex encoded IV. This must therefore be hex decoded before being passed to `IvParameterSpec` (e.g. with `HexFormat.of().parseHex()`). Furthermore the ciphertext has to be hex encoded for a comparison with the JavaScript code (e.g. with `HexFormat.of().formatHex()`).","body":"Obviously in the Java code <code>md5()</code> returns the hex encoded IV. This must therefore be hex decoded before being passed to <code>IvParameterSpec</code> (e.g. with <code>HexFormat.of().parseHex()</code>). Furthermore the ciphertext has to be hex encoded for a comparison with the JavaScript code (e.g. with <code>HexFormat.of().formatHex()</code>)."},{"owner":{"account_id":17124342,"reputation":1,"user_id":12391920,"display_name":"vicinl"},"score":0,"creation_date":1680532812,"post_id":75920107,"comment_id":133910225,"body_markdown":"Thanks Topaco, that makes full sense. I have updated the question with the MD5 method.\nOnly I cannot use HexFormat as I am obliged to use Java 8.. Any suggestion on how to do this in Java 8, without using HexFormat ?","body":"Thanks Topaco, that makes full sense. I have updated the question with the MD5 method. Only I cannot use HexFormat as I am obliged to use Java 8.. Any suggestion on how to do this in Java 8, without using HexFormat ?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1680534303,"post_id":75920107,"comment_id":133910661,"body_markdown":"See e.g. [hex encoding](https://stackoverflow.com/a/9855338/9014097) and [hex decoding](https://stackoverflow.com/a/140861/9014097) or third party libraries like BouncyCastle or Apache Commons Codec","body":"See e.g. <a href=\"https://stackoverflow.com/a/9855338/9014097\">hex encoding</a> and <a href=\"https://stackoverflow.com/a/140861/9014097\">hex decoding</a> or third party libraries like BouncyCastle or Apache Commons Codec"}],"answers":[{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680534378,"creation_date":1680534378,"answer_id":75920966,"question_id":75920107,"body_markdown":"Well vicinl, Your Java code has few issues.\r\n\r\nThe first fact I want to point you out is Whenever we convert bytes to Hex String. The length of the Hex String will be doubled. i.e. 16 bytes will produce 32 lengths of worth Hexadecimal string in their equivalent representation.\r\n\r\nNot to mention in your Java code you are converting something which is inherently in bytes to a hex string and giving input using tobytes of the hexadecimal string which doesn&#39;t makes sense as those are not the same. This is the unnecessary overhead of conversion (That too incorrect one).\r\n\r\nInstead, I  can rewrite my md5 method as follow:\r\n\r\n \r\n\r\n     public static String md5(String str) {\r\n            MessageDigest messageDigest = null;\r\n            try {//from   w w  w  . j a  v  a  2  s.  c o m\r\n                messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n                messageDigest.reset();\r\n                messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\r\n            } catch (NoSuchAlgorithmException e) {\r\n                System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\r\n                System.exit(-1);\r\n            } catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n            }\r\n            byte[] byteArray = messageDigest.digest();\r\n            byte[] iv = new byte[16];\r\n            for (int x=0; x&lt; 16;x++){\r\n            // this for loop need to be written as per your requirement.\r\n            iv[x]=byteArray[x];\r\n            }\r\n            return iv;\r\n        }\r\n\r\nBasic reference:\r\nhttps://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\r\n\r\nReference for AES:\r\nhttps://www.baeldung.com/java-aes-encryption-decryption\r\n\r\nHope this helps, Thanks.","title":"AES encryption between Java (server) and JS (client)","body":"<p>Well vicinl, Your Java code has few issues.</p>\n<p>The first fact I want to point you out is Whenever we convert bytes to Hex String. The length of the Hex String will be doubled. i.e. 16 bytes will produce 32 lengths of worth Hexadecimal string in their equivalent representation.</p>\n<p>Not to mention in your Java code you are converting something which is inherently in bytes to a hex string and giving input using tobytes of the hexadecimal string which doesn't makes sense as those are not the same. This is the unnecessary overhead of conversion (That too incorrect one).</p>\n<p>Instead, I  can rewrite my md5 method as follow:</p>\n<pre><code> public static String md5(String str) {\n        MessageDigest messageDigest = null;\n        try {//from   w w  w  . j a  v  a  2  s.  c o m\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\n            messageDigest.reset();\n            messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\n        } catch (NoSuchAlgorithmException e) {\n            System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\n            System.exit(-1);\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        byte[] byteArray = messageDigest.digest();\n        byte[] iv = new byte[16];\n        for (int x=0; x&lt; 16;x++){\n        // this for loop need to be written as per your requirement.\n        iv[x]=byteArray[x];\n        }\n        return iv;\n    }\n</code></pre>\n<p>Basic reference:\n<a href=\"https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\">How to convert a byte array to a hex string in Java?</a></p>\n<p>Reference for AES:\n<a href=\"https://www.baeldung.com/java-aes-encryption-decryption\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-aes-encryption-decryption</a></p>\n<p>Hope this helps, Thanks.</p>\n"},{"tags":[],"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681450678,"creation_date":1681450174,"answer_id":76011851,"question_id":75920107,"body_markdown":"&gt; I need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java.\r\n\r\n**Just use proper TLS/SSL.** Do not reinvent the wheel please. The SSL will properly encrypt all traffic between the client and server. You cannot do better yourself. \r\n\r\nThe code provided (both Java and JS) has multiple issues (from hardcoded iv/key, no integrity validation for cbc,.. to potentially different encoding). Yet for the defined use case it is completely not needed.\r\n\r\n&gt; InvalidAlgorithmParameterException\r\n\r\nIV must be 128 bit (16 bytes) long. JS quietly and unfortunately truncaces or zero-pads input with invalid length. \r\n\r\n**The md5 fn returns hex encoded digest, which leads to 32 byte value.** When using crypto, always use byte array (or buffer for JS) and encode/decode to text for final input/output. \r\n\r\nI wrote [some notes](https://gusto77.wordpress.com/2017/10/30/encryption-reference-project/) for crypto basics. Hard part in crypto is that all pieces must be present and fit. Just copy/paste code without understanding will provide false feeling for security. \r\n\r\nWe can just hope the credentials stored in DB are properly encrypted.\r\n\r\np.s.: why the ***** are people writing own hex encode/decode functions?? (except for homework) ","title":"AES encryption between Java (server) and JS (client)","body":"<blockquote>\n<p>I need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java.</p>\n</blockquote>\n<p><strong>Just use proper TLS/SSL.</strong> Do not reinvent the wheel please. The SSL will properly encrypt all traffic between the client and server. You cannot do better yourself.</p>\n<p>The code provided (both Java and JS) has multiple issues (from hardcoded iv/key, no integrity validation for cbc,.. to potentially different encoding). Yet for the defined use case it is completely not needed.</p>\n<blockquote>\n<p>InvalidAlgorithmParameterException</p>\n</blockquote>\n<p>IV must be 128 bit (16 bytes) long. JS quietly and unfortunately truncaces or zero-pads input with invalid length.</p>\n<p><strong>The md5 fn returns hex encoded digest, which leads to 32 byte value.</strong> When using crypto, always use byte array (or buffer for JS) and encode/decode to text for final input/output.</p>\n<p>I wrote <a href=\"https://gusto77.wordpress.com/2017/10/30/encryption-reference-project/\" rel=\"nofollow noreferrer\">some notes</a> for crypto basics. Hard part in crypto is that all pieces must be present and fit. Just copy/paste code without understanding will provide false feeling for security.</p>\n<p>We can just hope the credentials stored in DB are properly encrypted.</p>\n<p>p.s.: why the ***** are people writing own hex encode/decode functions?? (except for homework)</p>\n"}],"owner":{"account_id":17124342,"reputation":1,"user_id":12391920,"display_name":"vicinl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681450678,"creation_date":1680529117,"question_id":75920107,"body_markdown":"I have a server running in JAVA and I am creating a client with HTML and Javascript (about which I am less knowledgeable). The server accesses log-in credentials stored in a database with AES encryption.\r\nI need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java. I have found many threads online but cannot solve my problem: the encryption with JS and Java produce different results.\r\n\r\nThis is my Javascript code.\r\n\r\n```\r\nvar key = &quot;0123456789ABCDEF&quot;;\r\n\r\nfunction encrypt() {\r\n    const ivMd5Hash = CryptoJS.MD5(CryptoJS.enc.Utf8.parse(key));\r\n    console.log(&quot;Hash: &quot;+ivMd5Hash)\r\n    const cipher = this.cipher(CryptoJS.enc.Utf8.parse(value), CryptoJS.enc.Utf8.parse(key), ivMd5Hash);\r\n\r\n    return cipher.ciphertext.toString();\r\n  }\r\n\r\n  function cipher(value, key, iv) {\r\n    const cipher = CryptoJS.AES.encrypt(value, key, {\r\n      iv: iv,\r\n      mode: CryptoJS.mode.CBC,\r\n      keySize: 128,\r\n      padding: CryptoJS.pad.Pkcs7\r\n    });\r\n\r\n    return cipher;\r\n  }\r\n\r\nconsole.log(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;, key);\r\n```\r\n**The result from the console log is**\r\nHASH: e43df9b5a46b755ea8f1b4dd08265544\r\nEncrypted value: fc88ab1f7821b9f8c5b46ab1d41250a2\r\n\r\n\r\nNow the JAVA part.\r\n\r\n```\r\npublic class MainClass {\r\n\r\n\tprivate static final String key = &quot;0123456789ABCDEF&quot;;\r\n\tprivate static String initVector = &quot;&quot;;\r\n\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t\r\n\t\tinitVector=md5(key);  // md5 is an external method, which works\r\n\t\tSystem.out.println(&quot;HASH: &quot;+initVector);\r\n\t\tSystem.out.println(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;));\r\n\r\n  }\r\n  \r\n\tpublic static String encrypt(String value) {\r\n\t    try {\r\n\t        IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\r\n\t        SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\r\n\t \r\n\t        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n\t        cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\r\n\t \r\n\t        byte[] encrypted = cipher.doFinal(value.getBytes());\r\n\t        return Base64.encodeBase64String(encrypted);\r\n\t    } catch (Exception ex) {\r\n\t        ex.printStackTrace();\r\n\t    }\r\n\t    return null;\r\n\t}\r\n}\r\n\r\n\tpublic static String md5(String str) {\r\n        MessageDigest messageDigest = null;\r\n        try {//from   w w  w  . j a  v  a  2  s.  c o m\r\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            messageDigest.reset();\r\n            messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\r\n        } catch (NoSuchAlgorithmException e) {\r\n            System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\r\n            System.exit(-1);\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n        byte[] byteArray = messageDigest.digest();\r\n        StringBuffer md5StrBuff = new StringBuffer();\r\n        for (int i = 0; i &lt; byteArray.length; i++) {\r\n            if (Integer.toHexString(0xFF &amp; byteArray[i]).length() == 1)\r\n                md5StrBuff.append(&quot;0&quot;).append(\r\n                        Integer.toHexString(0xFF &amp; byteArray[i]));\r\n            else\r\n                md5StrBuff.append(Integer.toHexString(0xFF &amp; byteArray[i]));\r\n        }\r\n        return md5StrBuff.toString();\r\n    }\r\n```\r\n\r\n**The result from the console is**\r\nHASH: e43df9b5a46b755ea8f1b4dd08265544    **OK**\r\nEncrypted value does not appear - I get instead an InvalidAlgorithmParameterException saying the IV length must be 16 bytes long.\r\n\r\nCan anyone help me understand why the MD5 works on JS and not on JAVA ?\r\nI would need to have in Java the same encrypted value I get from JS..\r\n\r\nThanks!!\r\n","title":"AES encryption between Java (server) and JS (client)","body":"<p>I have a server running in JAVA and I am creating a client with HTML and Javascript (about which I am less knowledgeable). The server accesses log-in credentials stored in a database with AES encryption.\nI need the user to enter credentials into the HTML page, then javascript to encrypt them and send them to the server, where I need to decrypt them in Java. I have found many threads online but cannot solve my problem: the encryption with JS and Java produce different results.</p>\n<p>This is my Javascript code.</p>\n<pre><code>var key = &quot;0123456789ABCDEF&quot;;\n\nfunction encrypt() {\n    const ivMd5Hash = CryptoJS.MD5(CryptoJS.enc.Utf8.parse(key));\n    console.log(&quot;Hash: &quot;+ivMd5Hash)\n    const cipher = this.cipher(CryptoJS.enc.Utf8.parse(value), CryptoJS.enc.Utf8.parse(key), ivMd5Hash);\n\n    return cipher.ciphertext.toString();\n  }\n\n  function cipher(value, key, iv) {\n    const cipher = CryptoJS.AES.encrypt(value, key, {\n      iv: iv,\n      mode: CryptoJS.mode.CBC,\n      keySize: 128,\n      padding: CryptoJS.pad.Pkcs7\n    });\n\n    return cipher;\n  }\n\nconsole.log(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;, key);\n</code></pre>\n<p><strong>The result from the console log is</strong>\nHASH: e43df9b5a46b755ea8f1b4dd08265544\nEncrypted value: fc88ab1f7821b9f8c5b46ab1d41250a2</p>\n<p>Now the JAVA part.</p>\n<pre><code>public class MainClass {\n\n    private static final String key = &quot;0123456789ABCDEF&quot;;\n    private static String initVector = &quot;&quot;;\n\n    \n    public static void main(String[] args) throws Exception {\n        \n        initVector=md5(key);  // md5 is an external method, which works\n        System.out.println(&quot;HASH: &quot;+initVector);\n        System.out.println(&quot;Encrypted value: &quot;+encrypt(&quot;testuser&quot;));\n\n  }\n  \n    public static String encrypt(String value) {\n        try {\n            IvParameterSpec iv = new IvParameterSpec(initVector.getBytes(&quot;UTF-8&quot;));\n            SecretKeySpec skeySpec = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), &quot;AES&quot;);\n     \n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, skeySpec, iv);\n     \n            byte[] encrypted = cipher.doFinal(value.getBytes());\n            return Base64.encodeBase64String(encrypted);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n}\n\n    public static String md5(String str) {\n        MessageDigest messageDigest = null;\n        try {//from   w w  w  . j a  v  a  2  s.  c o m\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\n            messageDigest.reset();\n            messageDigest.update(str.getBytes(&quot;UTF-8&quot;));\n        } catch (NoSuchAlgorithmException e) {\n            System.out.println(&quot;NoSuchAlgorithmException caught!&quot;);\n            System.exit(-1);\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        byte[] byteArray = messageDigest.digest();\n        StringBuffer md5StrBuff = new StringBuffer();\n        for (int i = 0; i &lt; byteArray.length; i++) {\n            if (Integer.toHexString(0xFF &amp; byteArray[i]).length() == 1)\n                md5StrBuff.append(&quot;0&quot;).append(\n                        Integer.toHexString(0xFF &amp; byteArray[i]));\n            else\n                md5StrBuff.append(Integer.toHexString(0xFF &amp; byteArray[i]));\n        }\n        return md5StrBuff.toString();\n    }\n</code></pre>\n<p><strong>The result from the console is</strong>\nHASH: e43df9b5a46b755ea8f1b4dd08265544    <strong>OK</strong>\nEncrypted value does not appear - I get instead an InvalidAlgorithmParameterException saying the IV length must be 16 bytes long.</p>\n<p>Can anyone help me understand why the MD5 works on JS and not on JAVA ?\nI would need to have in Java the same encrypted value I get from JS..</p>\n<p>Thanks!!</p>\n"},{"tags":["java","onnx","onnxruntime","onnx-coreml"],"answers":[{"tags":[],"owner":{"account_id":13357631,"reputation":1,"user_id":9640670,"display_name":"Marslinho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681450333,"creation_date":1680990828,"answer_id":75967859,"question_id":64802377,"body_markdown":"I think this is an old issue. The example code works with the current version of the onnxruntime API (1.14.0).\r\n\r\n```java\r\n...\r\nvar myTensor = OnnxTensor.createTensor(env, 10.0f);\r\nSystem.out.println(myTensor);\r\n```\r\n\r\n---\r\noutput: \r\n\r\n```java\r\nOnnxTensor(info=TensorInfo(javaType=FLOAT,onnxType=ONNX_TENSOR_ELEMENT_DATA_TYPE_FLOAT,shape=[]))\r\n```","title":"How to create ONNXTensor for a single float value?","body":"<p>I think this is an old issue. The example code works with the current version of the onnxruntime API (1.14.0).</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nvar myTensor = OnnxTensor.createTensor(env, 10.0f);\nSystem.out.println(myTensor);\n</code></pre>\n<hr />\n<p>output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OnnxTensor(info=TensorInfo(javaType=FLOAT,onnxType=ONNX_TENSOR_ELEMENT_DATA_TYPE_FLOAT,shape=[]))\n</code></pre>\n"}],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681450333,"creation_date":1605177813,"question_id":64802377,"body_markdown":"I have the following java code :\r\n\r\n    try (OrtEnvironment env = OrtEnvironment.getEnvironment();\r\n                 OrtSession.SessionOptions opts = new OrtSession.SessionOptions()) {\r\n                opts.setOptimizationLevel(OrtSession.SessionOptions.OptLevel.BASIC_OPT);\r\n    \r\n                try (OrtSession session = env.createSession(&quot;model.onnx&quot;, opts)) {\r\n                    OnnxTensor.createTensor(env, 10.0f);\r\n                }\r\n            }\r\n\r\nI want to create an OnnxTensor of a float value. I am getting the below Exception:\r\n\r\n    Exception in thread &quot;main&quot; ai.onnxruntime.OrtException: Cannot convert class java.lang.Float to an OnnxTensor.\r\n    \tat ai.onnxruntime.TensorInfo.constructFromJavaArray(TensorInfo.java:208)\r\n    \tat ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:330)\r\n    \tat ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:314)","title":"How to create ONNXTensor for a single float value?","body":"<p>I have the following java code :</p>\n<pre><code>try (OrtEnvironment env = OrtEnvironment.getEnvironment();\n             OrtSession.SessionOptions opts = new OrtSession.SessionOptions()) {\n            opts.setOptimizationLevel(OrtSession.SessionOptions.OptLevel.BASIC_OPT);\n\n            try (OrtSession session = env.createSession(&quot;model.onnx&quot;, opts)) {\n                OnnxTensor.createTensor(env, 10.0f);\n            }\n        }\n</code></pre>\n<p>I want to create an OnnxTensor of a float value. I am getting the below Exception:</p>\n<pre><code>Exception in thread &quot;main&quot; ai.onnxruntime.OrtException: Cannot convert class java.lang.Float to an OnnxTensor.\n    at ai.onnxruntime.TensorInfo.constructFromJavaArray(TensorInfo.java:208)\n    at ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:330)\n    at ai.onnxruntime.OnnxTensor.createTensor(OnnxTensor.java:314)\n</code></pre>\n"},{"tags":["java","audio","resampling"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1616686367,"post_id":66802589,"comment_id":118086343,"body_markdown":"Does this help? https://stackoverflow.com/a/26520951/2851311. You may want to read the other answers as well.","body":"Does this help? <a href=\"https://stackoverflow.com/a/26520951/2851311\">stackoverflow.com/a/26520951/2851311</a>. You may want to read the other answers as well."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1616688751,"post_id":66802589,"comment_id":118087595,"body_markdown":"I didn&#39;t quite read your entire post. You ended with this question `how do I know how many bytes are added at the beginning and end of the frame?` Well, the simplest answer I can give you is to look up the format specification. For example, a `.WAV` file will be formatted differently than an `MP3`.","body":"I didn&#39;t quite read your entire post. You ended with this question <code>how do I know how many bytes are added at the beginning and end of the frame?</code> Well, the simplest answer I can give you is to look up the format specification. For example, a <code>.WAV</code> file will be formatted differently than an <code>MP3</code>."},{"owner":{"account_id":10220931,"reputation":115,"user_id":7545148,"display_name":"DirkG"},"score":1,"creation_date":1616691504,"post_id":66802589,"comment_id":118089072,"body_markdown":"@hfontanez - The link does not explain the extra samples from resampling. Format is uncompressed pcm audio data. I have edited my question to make this clearer.","body":"@hfontanez - The link does not explain the extra samples from resampling. Format is uncompressed pcm audio data. I have edited my question to make this clearer."}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616730965,"creation_date":1616730965,"answer_id":66810841,"question_id":66802589,"body_markdown":"I was playing around with this. I don&#39;t really have an answer, just a couple thoughts. I suspect the streams are &quot;padded&quot; with beginning or ending zeroes for algorithmic purposes.\r\n\r\nFirst off, this doesn&#39;t seem to make a difference, but your `AudioInputStream` instantiation should be the number of frames, not the number of bytes.\r\n\r\nI ran your program with just 1 byte per sample as it seems to make things clearer, with a value of 10 in each frame.\r\n\r\n    Original number of samples: 4\r\n    Expected number of samples after resampling 3\r\n    Actual number of samples after resampling 5\r\n    original data: [10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 6]\r\n\r\n    Original number of samples: 5\r\n    Expected number of samples after resampling 3\r\n    Actual number of samples after resampling 6\r\n    original data: [10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 3]\r\n\r\n    Original number of samples: 6\r\n    Expected number of samples after resampling 4\r\n    Actual number of samples after resampling 7\r\n    original data: [10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 0]\r\n\r\n    Original number of samples: 7\r\n    Expected number of samples after resampling 5\r\n    Actual number of samples after resampling 7\r\n    original data: [10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10]\r\n\r\n    Original number of samples: 8\r\n    Expected number of samples after resampling 6\r\n    Actual number of samples after resampling 8\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 6]\r\n\r\n    Original number of samples: 9\r\n    Expected number of samples after resampling 6\r\n    Actual number of samples after resampling 9\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 10, 3]\r\n\r\n    Original number of samples: 10\r\n    Expected number of samples after resampling 7\r\n    Actual number of samples after resampling 10\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 0]\r\n\r\n    Original number of samples: 11\r\n    Expected number of samples after resampling 8\r\n    Actual number of samples after resampling 10\r\n    original data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\r\n    resampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 10]\r\n\r\nMaybe the algorithm is treating the input line as if there is a preceding 0 value and an ending 0 value. The latter seems more clearly in evidence.\r\n\r\nIf you look at the ends of lines 7, 8, and 9. In the first instance, I&#39;m assuming the two sample rates &quot;line up&quot; in that the last point on the inputline is also a point on the output, not an &quot;intermediate value&quot;. When the last point on the output line falls beyond the input signal, it looks like linear interpolation is used between the last inputline value and 0. \r\n\r\nI&#39;m not clear what is going on at the start, but it seems like the algorithm may also be coming up with a linear interpolation between 0 and the first inputline value, but I don&#39;t understand why it isn&#39;t a 0.6 instead of a 0.3 or why there is a leading zero.\r\n\r\nFor the most part, though, notice that we do have the predicted number of 10&#39;s! The exception is when the leading and ending partial values add up to 10 (less rounding, I&#39;m assuming 3 should be 3.3 and 6 should be 6.7 if extended a decimal point--try putting in 100 instead of 10 and you will see), on lines 4 and 8.\r\n\r\nI am also going to assume the transform algorithm was made with a use case in mind that there would be 1000&#39;s of samples, in which case one or two leading/ending additional values are not going to affect the sound meaningfully, especially given that they are ramping between the source signal and 0.","title":"Resampling Audio in Java","body":"<p>I was playing around with this. I don't really have an answer, just a couple thoughts. I suspect the streams are &quot;padded&quot; with beginning or ending zeroes for algorithmic purposes.</p>\n<p>First off, this doesn't seem to make a difference, but your <code>AudioInputStream</code> instantiation should be the number of frames, not the number of bytes.</p>\n<p>I ran your program with just 1 byte per sample as it seems to make things clearer, with a value of 10 in each frame.</p>\n<pre><code>Original number of samples: 4\nExpected number of samples after resampling 3\nActual number of samples after resampling 5\noriginal data: [10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 6]\n\nOriginal number of samples: 5\nExpected number of samples after resampling 3\nActual number of samples after resampling 6\noriginal data: [10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 3]\n\nOriginal number of samples: 6\nExpected number of samples after resampling 4\nActual number of samples after resampling 7\noriginal data: [10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 0]\n\nOriginal number of samples: 7\nExpected number of samples after resampling 5\nActual number of samples after resampling 7\noriginal data: [10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10]\n\nOriginal number of samples: 8\nExpected number of samples after resampling 6\nActual number of samples after resampling 8\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 6]\n\nOriginal number of samples: 9\nExpected number of samples after resampling 6\nActual number of samples after resampling 9\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 10, 3]\n\nOriginal number of samples: 10\nExpected number of samples after resampling 7\nActual number of samples after resampling 10\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 0]\n\nOriginal number of samples: 11\nExpected number of samples after resampling 8\nActual number of samples after resampling 10\noriginal data: [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10]\nresampled data: [0, 3, 10, 10, 10, 10, 10, 10, 10, 10]\n</code></pre>\n<p>Maybe the algorithm is treating the input line as if there is a preceding 0 value and an ending 0 value. The latter seems more clearly in evidence.</p>\n<p>If you look at the ends of lines 7, 8, and 9. In the first instance, I'm assuming the two sample rates &quot;line up&quot; in that the last point on the inputline is also a point on the output, not an &quot;intermediate value&quot;. When the last point on the output line falls beyond the input signal, it looks like linear interpolation is used between the last inputline value and 0.</p>\n<p>I'm not clear what is going on at the start, but it seems like the algorithm may also be coming up with a linear interpolation between 0 and the first inputline value, but I don't understand why it isn't a 0.6 instead of a 0.3 or why there is a leading zero.</p>\n<p>For the most part, though, notice that we do have the predicted number of 10's! The exception is when the leading and ending partial values add up to 10 (less rounding, I'm assuming 3 should be 3.3 and 6 should be 6.7 if extended a decimal point--try putting in 100 instead of 10 and you will see), on lines 4 and 8.</p>\n<p>I am also going to assume the transform algorithm was made with a use case in mind that there would be 1000's of samples, in which case one or two leading/ending additional values are not going to affect the sound meaningfully, especially given that they are ramping between the source signal and 0.</p>\n"},{"tags":[],"owner":{"account_id":97926,"reputation":823,"user_id":265374,"accept_rate":75,"display_name":"reddot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681449073,"creation_date":1681449073,"answer_id":76011777,"question_id":66802589,"body_markdown":"I&#39;ve bumped into the same issue recently and made some research. Here is what I have found. The code responsible for re-sampling is located at:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/com/sun/media/sound/AudioFloatFormatConverter.java\r\n\r\nIn particular it is a class `AudioFloatInputStreamResampler` and it&#39;s methods `read`/`readNextBuffer`. Those extra-bytes added on re-sampling indeed are used for padding for interpolation algorithm. It worth noting that there are several interpolation algorithms supported. It&#39;s possible to choose one using &quot;interpolation&quot; property of target format, i.e.:\r\n\r\n```\r\nAudioFormat targetAudioFormat = new AudioFormat(\r\n   AudioFormat.Encoding.PCM_SIGNED,\r\n   16000, 16, 1, 2, 16000, false,\r\n   Map.of(&quot;interpolation&quot;, &quot;linear&quot;))\r\n```\r\n\r\nThe list of interpolation algorithms supported is hard-coded and consists of: `linear` (same as `linear2`), `linear1`, `linear2` (default), `cubic`, `lanczos`, `sinc` and `point`. Amount of padding bytes depends on the algorithm chosen. And `linear` requires least amount of bytes added among other options. I.e. `linear` algorithm requires padding of 2 bytes, whereas `point` requires 100 bytes.\r\n\r\nI don&#39;t know if leaving those padded bytes in final output is a bug or not. As to me it would be pretty okay to trim those padding bytes. At least zeroed ones.\r\n\r\nIn my case those extra bytes are especially weird due to the need to re-sample streaming audio. And initially I implemented my re-sampling with construction of audio streams per buffer. As a result I had a trade off between real-time processing and frequency of extra-bytes (sounded as clicks) depending on buffer size used. So basically I see two ways to deal with it:\r\n\r\n1) Run conversion with constant buffer data and determine how the padded bytes are added. I.e. I have to re-sample 8kHz to 16kHz and vice versa. I&#39;ve got a buffer filled with uniform values (i.e. 120 for 8-bit samples) and run the conversion. As a result I found that on downsampling there is a single zero byte added at the begging of the buffer and on upsampling there are 3 zero bytes and 1 interpolated to zero byte (60) in the beginning. However the last byte was also interpolated to zero (60). Based on these results I then trim extra bytes in my code.\r\n\r\n2) Wrap the overall incoming/outgoing streaming audio data into InputStream/AudioInputStream subclasses. So the padding bytes are added only once per stream, which is not so crucial for sound quality and let to avoid trade-offs with real-time processing.","title":"Resampling Audio in Java","body":"<p>I've bumped into the same issue recently and made some research. Here is what I have found. The code responsible for re-sampling is located at:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/com/sun/media/sound/AudioFloatFormatConverter.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.desktop/share/classes/com/sun/media/sound/AudioFloatFormatConverter.java</a></p>\n<p>In particular it is a class <code>AudioFloatInputStreamResampler</code> and it's methods <code>read</code>/<code>readNextBuffer</code>. Those extra-bytes added on re-sampling indeed are used for padding for interpolation algorithm. It worth noting that there are several interpolation algorithms supported. It's possible to choose one using &quot;interpolation&quot; property of target format, i.e.:</p>\n<pre><code>AudioFormat targetAudioFormat = new AudioFormat(\n   AudioFormat.Encoding.PCM_SIGNED,\n   16000, 16, 1, 2, 16000, false,\n   Map.of(&quot;interpolation&quot;, &quot;linear&quot;))\n</code></pre>\n<p>The list of interpolation algorithms supported is hard-coded and consists of: <code>linear</code> (same as <code>linear2</code>), <code>linear1</code>, <code>linear2</code> (default), <code>cubic</code>, <code>lanczos</code>, <code>sinc</code> and <code>point</code>. Amount of padding bytes depends on the algorithm chosen. And <code>linear</code> requires least amount of bytes added among other options. I.e. <code>linear</code> algorithm requires padding of 2 bytes, whereas <code>point</code> requires 100 bytes.</p>\n<p>I don't know if leaving those padded bytes in final output is a bug or not. As to me it would be pretty okay to trim those padding bytes. At least zeroed ones.</p>\n<p>In my case those extra bytes are especially weird due to the need to re-sample streaming audio. And initially I implemented my re-sampling with construction of audio streams per buffer. As a result I had a trade off between real-time processing and frequency of extra-bytes (sounded as clicks) depending on buffer size used. So basically I see two ways to deal with it:</p>\n<ol>\n<li><p>Run conversion with constant buffer data and determine how the padded bytes are added. I.e. I have to re-sample 8kHz to 16kHz and vice versa. I've got a buffer filled with uniform values (i.e. 120 for 8-bit samples) and run the conversion. As a result I found that on downsampling there is a single zero byte added at the begging of the buffer and on upsampling there are 3 zero bytes and 1 interpolated to zero byte (60) in the beginning. However the last byte was also interpolated to zero (60). Based on these results I then trim extra bytes in my code.</p>\n</li>\n<li><p>Wrap the overall incoming/outgoing streaming audio data into InputStream/AudioInputStream subclasses. So the padding bytes are added only once per stream, which is not so crucial for sound quality and let to avoid trade-offs with real-time processing.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":10220931,"reputation":115,"user_id":7545148,"display_name":"DirkG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1681449073,"creation_date":1616685814,"question_id":66802589,"body_markdown":"In one of my projects, I need to resample PCM audio data to a different sample rate. I am using javax.sound.sampled.AudioSystem for this task. The resampling seems to add additional samples at the beginning and end of the frame. Here is a minimal working example:\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport javax.sound.sampled.AudioFormat;\r\nimport javax.sound.sampled.AudioInputStream;\r\nimport javax.sound.sampled.AudioSystem;\r\n\r\nublic class ResamplingTest {\r\n\r\n  public static void main(final String[] args) throws IOException {\r\n    final int nrOfSamples = 4;\r\n    final int bytesPerSample = 2;\r\n    final byte[] data = new byte[nrOfSamples * bytesPerSample];\r\n    Arrays.fill(data, (byte) 10);\r\n    final AudioFormat inputFormat = new AudioFormat(32000, bytesPerSample * 8, 1, true, false);\r\n    final AudioInputStream inputStream = new AudioInputStream(new ByteArrayInputStream(data), inputFormat, data.length);\r\n    final AudioFormat outputFormat = new AudioFormat(24000, bytesPerSample * 8, 1, true, false);\r\n    final AudioInputStream outputStream = AudioSystem.getAudioInputStream(outputFormat, inputStream);\r\n    final var resampledBytes = outputStream.readAllBytes();\r\n    System.out.println(&quot;Expected number of samples after resampling &quot;\r\n        + (int) (nrOfSamples * outputFormat.getSampleRate() / inputFormat.getSampleRate()));\r\n    System.out.println(&quot;Actual number of samples after resampling &quot; + resampledBytes.length / bytesPerSample);\r\n    System.out.println(Arrays.toString(resampledBytes));\r\n  }\r\n}\r\n```\r\nI would expect exactly 3 samples when resampling 4 samples from 32 kHz to 24 kHz. However, the above code generates 5 samples. The number of extra samples seems to depend on the input and output sample rate. For example, if I resample from 8 kHz to 32 kHz, 8 additional samples are generated. Why does resampling add additional samples, and how do I know how many samples are added at the beginning and end of a frame?","title":"Resampling Audio in Java","body":"<p>In one of my projects, I need to resample PCM audio data to a different sample rate. I am using javax.sound.sampled.AudioSystem for this task. The resampling seems to add additional samples at the beginning and end of the frame. Here is a minimal working example:</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\n\nublic class ResamplingTest {\n\n  public static void main(final String[] args) throws IOException {\n    final int nrOfSamples = 4;\n    final int bytesPerSample = 2;\n    final byte[] data = new byte[nrOfSamples * bytesPerSample];\n    Arrays.fill(data, (byte) 10);\n    final AudioFormat inputFormat = new AudioFormat(32000, bytesPerSample * 8, 1, true, false);\n    final AudioInputStream inputStream = new AudioInputStream(new ByteArrayInputStream(data), inputFormat, data.length);\n    final AudioFormat outputFormat = new AudioFormat(24000, bytesPerSample * 8, 1, true, false);\n    final AudioInputStream outputStream = AudioSystem.getAudioInputStream(outputFormat, inputStream);\n    final var resampledBytes = outputStream.readAllBytes();\n    System.out.println(&quot;Expected number of samples after resampling &quot;\n        + (int) (nrOfSamples * outputFormat.getSampleRate() / inputFormat.getSampleRate()));\n    System.out.println(&quot;Actual number of samples after resampling &quot; + resampledBytes.length / bytesPerSample);\n    System.out.println(Arrays.toString(resampledBytes));\n  }\n}\n</code></pre>\n<p>I would expect exactly 3 samples when resampling 4 samples from 32 kHz to 24 kHz. However, the above code generates 5 samples. The number of extra samples seems to depend on the input and output sample rate. For example, if I resample from 8 kHz to 32 kHz, 8 additional samples are generated. Why does resampling add additional samples, and how do I know how many samples are added at the beginning and end of a frame?</p>\n"},{"tags":["java","binary-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1681456846,"post_id":76011260,"comment_id":134062208,"body_markdown":"Your `Node` class has a `parent` member, but your `add` method never sets the `parent` member of the newly added node.","body":"Your <code>Node</code> class has a <code>parent</code> member, but your <code>add</code> method never sets the <code>parent</code> member of the newly added node."}],"answers":[{"tags":[],"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681448175,"creation_date":1681448175,"answer_id":76011715,"question_id":76011260,"body_markdown":"Your `searchR` function is screwing up the tree due to the `c.right` and `c.left` assignments. You&#39;re very close, though.\r\n\r\nAfter all the `add` calls are complete, your tree looks like this:\r\n```\r\n    7\r\n   /  \\\r\n  5    9\r\n / \\  /\r\n3  6 8\r\n```\r\n\r\nWhen you call `searchR(test.root, 5)`, your tree winds up looking like this**:\r\n```\r\n  7\r\n / \\\r\n9   9\r\n```\r\n\r\nAs you can see, not only is this not a valid binary tree, but many of the nodes are missing, and the node with a value of 9 was duplicated.\r\n\r\nGet rid of the assignments, wrap the `.right` traversal in an `else` block, get rid of the final `return` statement, and you&#39;ll be good to go:\r\n```\r\npublic Node search(Node node, int target) {\r\n    if (node == null) return null;\r\n\r\n    if (node.value == target) {\r\n        return node;\r\n    } else if (target &lt; node.value) {\r\n        return search(node.left, target);\r\n    } else {\r\n        return search(node.right, target);\r\n    }\r\n}\r\n```\r\nYour `preorderNext` looks OK.\r\n\r\nYour `postorderNext` looks almost OK. The issue is that I don&#39;t see you setting up the `.parent` members of the `Node`s, so your `postorderNext` function will always crash with a `NullPointerException` at the `parent.right == null || parent.right == n` conditional check.\r\n\r\nYour `inorderNext` will break for the same reason; no `parent` members are set up. My recommendation would be to add a parameter to your `add` function to hold the `parent` node. Then, when you `return new Node(x)`, you can also set the `parent` member appropriately. Note that you should pass `c` as the parent node in each recursive call.\r\n\r\n\r\n\r\n** If you&#39;re curious how I figured out the exact nature of the tree after your `searchR` function, I threw a handful of print statements into the `searchR` function and ran it myself. This was the result:\r\n```\r\nStarting recursive call for node 1933863327 and x = 5\r\n5 &lt; 7, doing c.left = searchR(c.right, x)\r\nStarting recursive call for node 146589023 and x = 5\r\n5 &lt; 9, doing c.left = searchR(c.right, x)\r\nc == null, returning null\r\nRecursive call for c.left returned, c.left.value = null\r\nDoing c.right = searchR(c.right, 5)\r\nc == null, returning null\r\nRecursive call for c.right returned, c.right.value = null\r\nEnding recursive call for node 146589023 and x = 5\r\nc.value = 9\r\nRecursive call for c.left returned, c.left.value = 9\r\nDoing c.right = searchR(c.right, 5)\r\nStarting recursive call for node 146589023 and x = 5\r\n5 &lt; 9, doing c.left = searchR(c.right, x)\r\nc == null, returning null\r\nRecursive call for c.left returned, c.left.value = null\r\nDoing c.right = searchR(c.right, 5)\r\nc == null, returning null\r\nRecursive call for c.right returned, c.right.value = null\r\nEnding recursive call for node 146589023 and x = 5\r\nc.value = 9\r\nRecursive call for c.right returned, c.right.value = 9\r\nEnding recursive call for node 1933863327 and x = 5\r\nc.value = 7\r\n```","title":"Binary Trees in Java: preorderNext, postorderNext, inorderNext","body":"<p>Your <code>searchR</code> function is screwing up the tree due to the <code>c.right</code> and <code>c.left</code> assignments. You're very close, though.</p>\n<p>After all the <code>add</code> calls are complete, your tree looks like this:</p>\n<pre><code>    7\n   /  \\\n  5    9\n / \\  /\n3  6 8\n</code></pre>\n<p>When you call <code>searchR(test.root, 5)</code>, your tree winds up looking like this**:</p>\n<pre><code>  7\n / \\\n9   9\n</code></pre>\n<p>As you can see, not only is this not a valid binary tree, but many of the nodes are missing, and the node with a value of 9 was duplicated.</p>\n<p>Get rid of the assignments, wrap the <code>.right</code> traversal in an <code>else</code> block, get rid of the final <code>return</code> statement, and you'll be good to go:</p>\n<pre><code>public Node search(Node node, int target) {\n    if (node == null) return null;\n\n    if (node.value == target) {\n        return node;\n    } else if (target &lt; node.value) {\n        return search(node.left, target);\n    } else {\n        return search(node.right, target);\n    }\n}\n</code></pre>\n<p>Your <code>preorderNext</code> looks OK.</p>\n<p>Your <code>postorderNext</code> looks almost OK. The issue is that I don't see you setting up the <code>.parent</code> members of the <code>Node</code>s, so your <code>postorderNext</code> function will always crash with a <code>NullPointerException</code> at the <code>parent.right == null || parent.right == n</code> conditional check.</p>\n<p>Your <code>inorderNext</code> will break for the same reason; no <code>parent</code> members are set up. My recommendation would be to add a parameter to your <code>add</code> function to hold the <code>parent</code> node. Then, when you <code>return new Node(x)</code>, you can also set the <code>parent</code> member appropriately. Note that you should pass <code>c</code> as the parent node in each recursive call.</p>\n<p>** If you're curious how I figured out the exact nature of the tree after your <code>searchR</code> function, I threw a handful of print statements into the <code>searchR</code> function and ran it myself. This was the result:</p>\n<pre><code>Starting recursive call for node 1933863327 and x = 5\n5 &lt; 7, doing c.left = searchR(c.right, x)\nStarting recursive call for node 146589023 and x = 5\n5 &lt; 9, doing c.left = searchR(c.right, x)\nc == null, returning null\nRecursive call for c.left returned, c.left.value = null\nDoing c.right = searchR(c.right, 5)\nc == null, returning null\nRecursive call for c.right returned, c.right.value = null\nEnding recursive call for node 146589023 and x = 5\nc.value = 9\nRecursive call for c.left returned, c.left.value = 9\nDoing c.right = searchR(c.right, 5)\nStarting recursive call for node 146589023 and x = 5\n5 &lt; 9, doing c.left = searchR(c.right, x)\nc == null, returning null\nRecursive call for c.left returned, c.left.value = null\nDoing c.right = searchR(c.right, 5)\nc == null, returning null\nRecursive call for c.right returned, c.right.value = null\nEnding recursive call for node 146589023 and x = 5\nc.value = 9\nRecursive call for c.right returned, c.right.value = 9\nEnding recursive call for node 1933863327 and x = 5\nc.value = 7\n</code></pre>\n"}],"owner":{"account_id":6356472,"reputation":11,"user_id":4933552,"display_name":"Dash Harber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76011715,"answer_count":1,"score":1,"last_activity_date":1681448175,"creation_date":1681440874,"question_id":76011260,"body_markdown":"I&#39;m having some trouble with Binary Trees in java. The assignment wants me to build a binary tree and then create functions to return the next node in preorder, postorder, and inorder. So here is my attempt;\r\n\r\n\r\n```\r\npublic class BinaryTree {\r\n\tNode root;\r\n\t\r\n\tprivate Node addR(Node c, int x) {\r\n\t\tif (c == null) {\r\n\t\t\treturn new Node(x);\r\n\t\t}\r\n\t\tif (x &lt; c.value) {\r\n\t\t\tc.left = addR(c.left, x);\r\n\t\t}\r\n\t\telse if (x &gt; c.value) {\r\n\t\t\tc.right = addR(c.right, x);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tpublic void add(int x) {\r\n\t\troot = addR(root, x);\r\n\t}\r\n\t\r\n\tpublic Node preorderNext(Node n) {\r\n\t\tif (n.left != null) {\r\n\t\t\tSystem.out.println(n.left.value);\r\n\t\t\treturn n.left;\r\n\t\t}\r\n\t\telse if (n.right != null) {\r\n\t\t\tSystem.out.println(n.right.value);\r\n\t\t\treturn n.right;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Empty&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic Node postorderNext(Node root, Node n) {\r\n\t\tif (n == root) {\r\n\t\t\tSystem.out.println(&quot;Empty&quot;);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tNode parent = n.parent;\r\n\t\tif(parent.right == null || parent.right == n) {\r\n\t\t\tSystem.out.println(parent.value);\r\n\t\t\treturn parent;\r\n\t\t}\r\n\t\tNode c = parent.right;\r\n\t\twhile (c.left != null) {\r\n\t\t\tSystem.out.println(c.left);\r\n\t\t\tc = c.left;\r\n\t\t}\r\n\t\tSystem.out.println(c.value);\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tpublic Node inorderNext(Node root, Node n) {\r\n\t\tif (n.right != null) {\r\n\t\t\tSystem.out.println(n.right.value);\r\n\t\t\treturn minValue(n.right);\r\n\t\t}\r\n\t\tNode p = n.parent;\r\n\t\twhile (p != null &amp;&amp; n == p.right) {\r\n\t\t\tn=p;\r\n\t\t\tp=p.parent;\r\n\t\t}\r\n\t\tSystem.out.println(p.value);\r\n\t\treturn p;\r\n\t}\r\n\t\r\n\tNode minValue(Node n) {\r\n\t\tNode c = n;\r\n\t\twhile (c.left != null) {\r\n\t\t\tc = c.left;\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\t\r\n\tpublic Node searchR(Node c, int x) {\r\n\t\tif(c==null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (x==c.value) {\r\n\t\t\treturn c;\r\n\t\t}\r\n\t\tif (x&lt;c.value) {\r\n\t\t\tc.left = searchR(c.right, x);\r\n\t\t}\r\n\t\tc.right = searchR(c.right, x);\r\n\t\treturn c;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd here is my main;\r\n\r\n\r\n```public class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBinaryTree test = new BinaryTree();\r\n\t\ttest.add(7);\r\n\t\ttest.add(5);\r\n\t\ttest.add(6);\r\n\t\ttest.add(9);\r\n\t\ttest.add(3);\r\n\t\ttest.add(8);\r\n\t\ttest.preorderNext(test.searchR(test.root, 5));\r\n\t\ttest.postorderNext(test.root, test.searchR(test.root, 5));\r\n\t\ttest.inorderNext(test.root, test.searchR(test.root, 5));\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nSo the code works as far as nothing crashes, but it returns the wrong nodes. I double checked to make sure the searchR method was returning the right value, and it was, but the other functions simply return the wrong numbers. Anyone have any guidance on where I&#39;m going wrong? I&#39;m a little lost since it&#39;s not actually an error and clearly an issue within my code. I also can&#39;t use collections in this problem, but I don&#39;t think that would be relevant here anyway.","title":"Binary Trees in Java: preorderNext, postorderNext, inorderNext","body":"<p>I'm having some trouble with Binary Trees in java. The assignment wants me to build a binary tree and then create functions to return the next node in preorder, postorder, and inorder. So here is my attempt;</p>\n<pre><code>public class BinaryTree {\n    Node root;\n    \n    private Node addR(Node c, int x) {\n        if (c == null) {\n            return new Node(x);\n        }\n        if (x &lt; c.value) {\n            c.left = addR(c.left, x);\n        }\n        else if (x &gt; c.value) {\n            c.right = addR(c.right, x);\n        }\n        else {\n            return c;\n        }\n        return c;\n    }\n    \n    public void add(int x) {\n        root = addR(root, x);\n    }\n    \n    public Node preorderNext(Node n) {\n        if (n.left != null) {\n            System.out.println(n.left.value);\n            return n.left;\n        }\n        else if (n.right != null) {\n            System.out.println(n.right.value);\n            return n.right;\n        }\n        else {\n            System.out.println(&quot;Empty&quot;);\n            return null;\n        }\n    }\n    \n    public Node postorderNext(Node root, Node n) {\n        if (n == root) {\n            System.out.println(&quot;Empty&quot;);\n            return null;\n        }\n        Node parent = n.parent;\n        if(parent.right == null || parent.right == n) {\n            System.out.println(parent.value);\n            return parent;\n        }\n        Node c = parent.right;\n        while (c.left != null) {\n            System.out.println(c.left);\n            c = c.left;\n        }\n        System.out.println(c.value);\n        return c;\n    }\n    \n    public Node inorderNext(Node root, Node n) {\n        if (n.right != null) {\n            System.out.println(n.right.value);\n            return minValue(n.right);\n        }\n        Node p = n.parent;\n        while (p != null &amp;&amp; n == p.right) {\n            n=p;\n            p=p.parent;\n        }\n        System.out.println(p.value);\n        return p;\n    }\n    \n    Node minValue(Node n) {\n        Node c = n;\n        while (c.left != null) {\n            c = c.left;\n        }\n        return c;\n    }\n    \n    public Node searchR(Node c, int x) {\n        if(c==null) {\n            return null;\n        }\n        if (x==c.value) {\n            return c;\n        }\n        if (x&lt;c.value) {\n            c.left = searchR(c.right, x);\n        }\n        c.right = searchR(c.right, x);\n        return c;\n    }\n}\n\n</code></pre>\n<p>And here is my main;</p>\n<pre><code>\n    public static void main(String[] args) {\n        BinaryTree test = new BinaryTree();\n        test.add(7);\n        test.add(5);\n        test.add(6);\n        test.add(9);\n        test.add(3);\n        test.add(8);\n        test.preorderNext(test.searchR(test.root, 5));\n        test.postorderNext(test.root, test.searchR(test.root, 5));\n        test.inorderNext(test.root, test.searchR(test.root, 5));\n        \n    }\n\n}\n</code></pre>\n<p>So the code works as far as nothing crashes, but it returns the wrong nodes. I double checked to make sure the searchR method was returning the right value, and it was, but the other functions simply return the wrong numbers. Anyone have any guidance on where I'm going wrong? I'm a little lost since it's not actually an error and clearly an issue within my code. I also can't use collections in this problem, but I don't think that would be relevant here anyway.</p>\n"},{"tags":["java","itext","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1632993688,"post_id":69387514,"comment_id":122645267,"body_markdown":"Neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...). You can use them to render the different revisions of the PDF as bitmaps and compare those images. Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...). But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment *and only a comment* has been added, is highly non-trivial.","body":"Neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...). You can use them to render the different revisions of the PDF as bitmaps and compare those images. Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...). But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment <i>and only a comment</i> has been added, is highly non-trivial."},{"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"score":0,"creation_date":1634503567,"post_id":69387514,"comment_id":123036138,"body_markdown":"Can you explain more, how can I detect changes in low level COS objects.","body":"Can you explain more, how can I detect changes in low level COS objects."},{"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"score":0,"creation_date":1634503925,"post_id":69387514,"comment_id":123036209,"body_markdown":"And if we are talking about setting a flag to true if any changes were done before the second signature, how can we achieve this?","body":"And if we are talking about setting a flag to true if any changes were done before the second signature, how can we achieve this?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1634729055,"post_id":69387514,"comment_id":123101875,"body_markdown":"*&quot;Can you explain more, how can I detect changes in low level COS objects.&quot;* - Does my answer give you an idea?","body":"<i>&quot;Can you explain more, how can I detect changes in low level COS objects.&quot;</i> - Does my answer give you an idea?"},{"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"score":1,"creation_date":1647249749,"post_id":69387514,"comment_id":126314785,"body_markdown":"I used PdfCompare you provide in your comment and it was satisfying for me, Thanks a lot.","body":"I used PdfCompare you provide in your comment and it was satisfying for me, Thanks a lot."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1647251152,"post_id":69387514,"comment_id":126315309,"body_markdown":"Great! (Whenever an answer to one of your questions on stackoverflow helps you that far, you may consider marking it as the &quot;accepted answer&quot; by [clicking the check mark at its upper left](https://i.stack.imgur.com/LkiIZ.png).)","body":"Great! (Whenever an answer to one of your questions on stackoverflow helps you that far, you may consider marking it as the &quot;accepted answer&quot; by <a href=\"https://i.stack.imgur.com/LkiIZ.png\" rel=\"nofollow noreferrer\">clicking the check mark at its upper left</a>.)"}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634564428,"creation_date":1634564428,"answer_id":69617158,"question_id":69387514,"body_markdown":"As already explained in a [comment][1], *neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...).*\r\n\r\n*You can use them to render the different revisions of the PDF as bitmaps and compare those images.*\r\n\r\n*Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...).*\r\n\r\n*But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment and only a comment has been added, is highly non-trivial.*\r\n\r\n[In response][2] you asked\r\n\r\n&gt;Can you explain more, how can I detect changes in low level COS objects.\r\n\r\n### What to Compare And What Changes to Consider\r\n\r\nFirst of all you have to be clear about what document states you can compare to detect changes.\r\n\r\nThe PDF format allows to append changes to a PDF in so called incremental updates. This allows changes to signed documents without cryptographically breaking those signatures as the original signed bytes are left as is:\r\n\r\n[![Structure][3]][3]\r\n\r\nThere can be more incremental updates in-between, though, which are not signed; e.g. the &quot;Changes for version 2&quot; might include multiple incremental updates.\r\n\r\nOne might consider comparing the revisions created by arbitrary incremental updates. The problem here is, though, that you cannot identify the person who applied an incremental update without signature.\r\n\r\nThus, it usually makes more sense to compare the signed revisions only and to hold each signer responsible for *all changes since the previous signed revision*. The only exception here is the whole file which as the current version of the PDF is of special interest even if it there is no signature covering all of it.\r\n\r\nNext you have to decide what you consider a change. In particular:\r\n\r\n* Is every object override in an incremental update a change? Even those that override the original object with an identical copy?\r\n\r\n* What about changes that make a direct object indirect (or vice versa) but keep all contents and references intact?\r\n\r\n* What about addition of new objects that are not referred to from anywhere in the standard structure?\r\n\r\n* What about addition of objects that are not referenced from the cross reference streams or tables?\r\n\r\n* What about addition of data that&#39;s not following PDF syntax at all?\r\n\r\nIf you are indeed interested in such changes, too, existing PDF libraries out-of-the-box usually don&#39;t provide you the means to determine them; you most likely will at least have to change their code for traversing the chain of cross reference tables/streams or even analyze the file bytes in the update directly.\r\n\r\nIf you are not interested in such changes, though, there usually is no need to change or replace library routines.\r\n\r\nAs the enumerated and similar changes make no difference when the PDF is processed by specification conform PDF processors, one can usually ignore such changes.\r\n\r\nIf this is your position, too, the following example tool might give you a starting point.\r\n\r\n### An Example Tool Based on iText 7\r\n\r\nWith the limitations explained above you can compare signed revisions of a PDF using iText 7 without changes to the library by loading the revisions to compare into separate `PdfDocument` instances and recursively comparing the PDF objects starting with the trailer.\r\n\r\nI once implemented this as a small helper tool for personal use (so it is not completely finished yet, more work-in-progress). First there is the base class that allows comparing two arbitrary documents:\r\n\r\n```\r\npublic class PdfCompare {\r\n    public static void main(String[] args) throws IOException {\r\n        System.out.printf(&quot;Comparing:\\n* %s\\n* %s\\n&quot;, args[0], args[1]);\r\n        try (   PdfDocument pdfDocument1 = new PdfDocument(new PdfReader(args[0]));\r\n                PdfDocument pdfDocument2 = new PdfDocument(new PdfReader(args[1]))  ) {\r\n            PdfCompare pdfCompare = new PdfCompare(pdfDocument1, pdfDocument2);\r\n            pdfCompare.compare();\r\n\r\n            List&lt;Difference&gt; differences = pdfCompare.getDifferences();\r\n            if (differences == null || differences.isEmpty()) {\r\n                System.out.println(&quot;No differences found.&quot;);\r\n            } else {\r\n                System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\r\n                for (Difference difference : pdfCompare.getDifferences()) {\r\n                    for (String element : difference.getPath()) {\r\n                        System.out.print(element);\r\n                    }\r\n                    System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public interface Difference {\r\n        List&lt;String&gt; getPath();\r\n        String getDescription();\r\n    }\r\n\r\n    public PdfCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\r\n        trailer1 = pdfDocument1.getTrailer();\r\n        trailer2 = pdfDocument2.getTrailer();\r\n    }\r\n\r\n    public void compare() {\r\n        LOGGER.info(&quot;Starting comparison&quot;);\r\n        try {\r\n            compared.clear();\r\n            differences.clear();\r\n            LOGGER.info(&quot;START COMPARE&quot;);\r\n            compare(trailer1, trailer2, Collections.singletonList(&quot;trailer&quot;));\r\n            LOGGER.info(&quot;START SHORTEN PATHS&quot;);\r\n            shortenPaths();\r\n        } finally {\r\n            LOGGER.info(&quot;Finished comparison and shortening&quot;);\r\n        }\r\n    }\r\n\r\n    public List&lt;Difference&gt; getDifferences() {\r\n        return differences;\r\n    }\r\n\r\n    class DifferenceImplSimple implements Difference {\r\n        DifferenceImplSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path, String description) {\r\n            this.pair = Pair.of(object1, object2);\r\n            this.path = path;\r\n            this.description = description;\r\n        }\r\n\r\n        @Override\r\n        public List&lt;String&gt; getPath() {\r\n            List&lt;String&gt; byPair = getShortestPath(pair);\r\n            return byPair != null ? byPair : shorten(path);\r\n        }\r\n        @Override public String getDescription()    { return description;           }\r\n\r\n        final Pair&lt;PdfObject, PdfObject&gt; pair;\r\n        final List&lt;String&gt; path;\r\n        final String description;\r\n    }\r\n\r\n    void compare(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\r\n        LOGGER.debug(&quot;Comparing objects at {}.&quot;, path);\r\n        if (object1 == null &amp;&amp; object2 == null)\r\n        {\r\n            LOGGER.debug(&quot;Both objects are null at {}.&quot;, path);\r\n            return;\r\n        }\r\n        if (object1 == null) {\r\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 1&quot;));\r\n            LOGGER.info(&quot;Object in document 1 is missing at {}.&quot;, path);\r\n            return;\r\n        }\r\n        if (object2 == null) {\r\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 2&quot;));\r\n            LOGGER.info(&quot;Object in document 2 is missing at {}.&quot;, path);\r\n            return;\r\n        }\r\n\r\n        if (object1.getType() != object2.getType()) {\r\n            differences.add(new DifferenceImplSimple(object1, object2, path,\r\n                    String.format(&quot;Type difference, %s in document 1 and %s in document 2&quot;,\r\n                            getTypeName(object1.getType()), getTypeName(object2.getType()))));\r\n            LOGGER.info(&quot;Objects have different types at {}, {} and {}.&quot;, path, getTypeName(object1.getType()), getTypeName(object2.getType()));\r\n            return;\r\n        }\r\n\r\n        switch (object1.getType()) {\r\n        case PdfObject.ARRAY:\r\n            compareContents((PdfArray) object1, (PdfArray) object2, path);\r\n            break;\r\n        case PdfObject.DICTIONARY:\r\n            compareContents((PdfDictionary) object1, (PdfDictionary) object2, path);\r\n            break;\r\n        case PdfObject.STREAM:\r\n            compareContents((PdfStream)object1, (PdfStream)object2, path);\r\n            break;\r\n        case PdfObject.BOOLEAN:\r\n        case PdfObject.INDIRECT_REFERENCE:\r\n        case PdfObject.LITERAL:\r\n        case PdfObject.NAME:\r\n        case PdfObject.NULL:\r\n        case PdfObject.NUMBER:\r\n        case PdfObject.STRING:\r\n            compareContentsSimple(object1, object2, path);\r\n            break;\r\n        default:\r\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Unknown object type &quot; + object1.getType() + &quot;; cannot compare&quot;));\r\n            LOGGER.warn(&quot;Unknown object type at {}, {}.&quot;, path, object1.getType());\r\n            break;\r\n        }\r\n    }\r\n\r\n    void compareContents(PdfArray array1, PdfArray array2, List&lt;String&gt; path) {\r\n        int count1 = array1.size();\r\n        int count2 = array2.size();\r\n        if (count1 &lt; count2) {\r\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 1 misses &quot; + (count2-count1) + &quot; array entries&quot;));\r\n            LOGGER.info(&quot;Array in document 1 is missing {} entries at {} for {}.&quot;, (count2-count1), path);\r\n        }\r\n        if (count1 &gt; count2) {\r\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 2 misses &quot; + (count1-count2) + &quot; array entries&quot;));\r\n            LOGGER.info(&quot;Array in document 2 is missing {} entries at {} for {}.&quot;, (count1-count2), path);\r\n        }\r\n\r\n        if (alreadyCompared(array1, array2, path)) {\r\n            return;\r\n        }\r\n\r\n        int count = Math.min(count1, count2);\r\n        for (int i = 0; i &lt; count; i++) {\r\n            compare(array1.get(i), array2.get(i), join(path, String.format(&quot;[%d]&quot;, i)));\r\n        }\r\n    }\r\n\r\n    void compareContents(PdfDictionary dictionary1, PdfDictionary dictionary2, List&lt;String&gt; path) {\r\n        List&lt;PdfName&gt; missing1 = new ArrayList&lt;PdfName&gt;(dictionary2.keySet());\r\n        missing1.removeAll(dictionary1.keySet());\r\n        if (!missing1.isEmpty()) {\r\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 1 misses dictionary entries for &quot; + missing1));\r\n            LOGGER.info(&quot;Dictionary in document 1 is missing entries at {} for {}.&quot;, path, missing1);\r\n        }\r\n\r\n        List&lt;PdfName&gt; missing2 = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\r\n        missing2.removeAll(dictionary2.keySet());\r\n        if (!missing2.isEmpty()) {\r\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 2 misses dictionary entries for &quot; + missing2));\r\n            LOGGER.info(&quot;Dictionary in document 2 is missing entries at {} for {}.&quot;, path, missing2);\r\n        }\r\n\r\n        if (alreadyCompared(dictionary1, dictionary2, path)) {\r\n            return;\r\n        }\r\n\r\n        List&lt;PdfName&gt; common = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\r\n        common.retainAll(dictionary2.keySet());\r\n        for (PdfName name : common) {\r\n            compare(dictionary1.get(name), dictionary2.get(name), join(path, name.toString()));\r\n        }\r\n    }\r\n\r\n    void compareContents(PdfStream stream1, PdfStream stream2, List&lt;String&gt; path) {\r\n        compareContents((PdfDictionary)stream1, (PdfDictionary)stream2, path);\r\n\r\n        byte[] bytes1 = stream1.getBytes();\r\n        byte[] bytes2 = stream2.getBytes();\r\n        if (!Arrays.equals(bytes1, bytes2)) {\r\n            differences.add(new DifferenceImplSimple(stream1, stream2, path, &quot;Stream contents differ&quot;));\r\n            LOGGER.info(&quot;Stream contents differ at {}.&quot;, path);\r\n        }\r\n    }\r\n\r\n    void compareContentsSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\r\n        // vvv--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\r\n        if (object1 instanceof PdfNumber)\r\n            ((PdfNumber)object1).getValue();\r\n        if (object2 instanceof PdfNumber)\r\n            ((PdfNumber)object2).getValue();\r\n        // ^^^--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\r\n        if (!object1.equals(object2)) {\r\n            if (object1 instanceof PdfString) {\r\n                String string1 = object1.toString();\r\n                if (string1.length() &gt; 40)\r\n                    string1 = string1.substring(0, 40) + &#39;\\u22EF&#39;;\r\n                string1 = sanitize(string1);\r\n                String string2 = object2.toString();\r\n                if (string2.length() &gt; 40)\r\n                    string2 = string2.substring(0, 40) + &#39;\\u22EF&#39;;\r\n                string2 = sanitize(string2);\r\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;String values differ, &#39;%s&#39; and &#39;%s&#39;&quot;, string1, string2)));\r\n                LOGGER.info(&quot;String values differ at {}, &#39;{}&#39; and &#39;{}&#39;.&quot;, path, string1, string2);\r\n            } else {\r\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;Object values differ, &#39;%s&#39; and &#39;%s&#39;&quot;, object1, object2)));\r\n                LOGGER.info(&quot;Object values differ at {}, &#39;{}&#39; and &#39;{}&#39;.&quot;, path, object1, object2);\r\n            }\r\n        }\r\n    }\r\n\r\n    String sanitize(CharSequence string) {\r\n        char[] sanitized = new char[string.length()];\r\n        for (int i = 0; i &lt; sanitized.length; i++) {\r\n            char c = string.charAt(i);\r\n            if (c &gt;= 0 &amp;&amp; c &lt; &#39; &#39;)\r\n                c = &#39;\\uFFFD&#39;;\r\n            sanitized[i] = c;\r\n        }\r\n        return new String(sanitized);\r\n    }\r\n\r\n    String getTypeName(byte type) {\r\n        switch (type) {\r\n        case PdfObject.ARRAY:               return &quot;ARRAY&quot;;\r\n        case PdfObject.BOOLEAN:             return &quot;BOOLEAN&quot;;\r\n        case PdfObject.DICTIONARY:          return &quot;DICTIONARY&quot;;\r\n        case PdfObject.LITERAL:             return &quot;LITERAL&quot;;\r\n        case PdfObject.INDIRECT_REFERENCE:  return &quot;REFERENCE&quot;;\r\n        case PdfObject.NAME:                return &quot;NAME&quot;;\r\n        case PdfObject.NULL:                return &quot;NULL&quot;;\r\n        case PdfObject.NUMBER:              return &quot;NUMBER&quot;;\r\n        case PdfObject.STREAM:              return &quot;STREAM&quot;;\r\n        case PdfObject.STRING:              return &quot;STRING&quot;;\r\n        default:\r\n            return &quot;UNKNOWN&quot;;\r\n        }\r\n    }\r\n\r\n    List&lt;String&gt; join(List&lt;String&gt; path, String element) {\r\n        String[] array = path.toArray(new String[path.size() + 1]);\r\n        array[array.length-1] = element;\r\n        return Arrays.asList(array);\r\n    }\r\n\r\n    boolean alreadyCompared(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\r\n        Pair&lt;PdfObject, PdfObject&gt; pair = Pair.of(object1, object2);\r\n        if (compared.containsKey(pair)) {\r\n            //LOGGER.debug(&quot;Objects already compared at {}, previously at {}.&quot;, path, compared.get(pair));\r\n            Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\r\n            boolean alreadyPresent = false;\r\n//            List&lt;List&lt;String&gt;&gt; toRemove = new ArrayList&lt;&gt;();\r\n//            for (List&lt;String&gt; formerPath : paths) {\r\n//                for (int i = 0; ; i++) {\r\n//                    if (i == path.size()) {\r\n//                        toRemove.add(formerPath);\r\n//                        System.out.print(&#39;.&#39;);\r\n//                        break;\r\n//                    }\r\n//                    if (i == formerPath.size()) {\r\n//                        alreadyPresent = true;\r\n//                        System.out.print(&#39;:&#39;);\r\n//                        break;\r\n//                    }\r\n//                    if (!path.get(i).equals(formerPath.get(i)))\r\n//                        break;\r\n//                }\r\n//            }\r\n//            paths.removeAll(toRemove);\r\n            if (!alreadyPresent)\r\n                paths.add(path);\r\n            return true;\r\n        }\r\n        compared.put(pair, new HashSet&lt;&gt;(Collections.singleton(path)));\r\n        return false;\r\n    }\r\n\r\n    List&lt;String&gt; getShortestPath(Pair&lt;PdfObject, PdfObject&gt; pair) {\r\n        Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\r\n        //return (paths == null) ? null : Collections.min(paths, pathComparator);\r\n        return (paths == null || paths.isEmpty()) ? null : shortened.get(paths.stream().findFirst().get());\r\n    }\r\n\r\n    void shortenPaths() {\r\n        List&lt;Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt;&gt; data = new ArrayList&lt;&gt;();\r\n        for (Set&lt;List&lt;String&gt;&gt; set : compared.values()) {\r\n            SortedSet&lt;List&lt;String&gt;&gt; sortedSet = new TreeSet&lt;List&lt;String&gt;&gt;(pathComparator);\r\n            sortedSet.addAll(set);\r\n            for (List&lt;String&gt; path : sortedSet) {\r\n                while (path.size() &gt;= data.size()) {\r\n                    data.add(new HashMap&lt;&gt;());\r\n                }\r\n                SortedSet&lt;List&lt;String&gt;&gt; former = data.get(path.size()).put(path, sortedSet);\r\n                if (former != null) {\r\n                    LOGGER.error(&quot;Path not well-defined for {}&quot;, path);\r\n                }\r\n            }\r\n        }\r\n        for (int pathSize = 3; pathSize &lt; data.size(); pathSize++) {\r\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; pathEntry : data.get(pathSize).entrySet()) {\r\n                List&lt;String&gt; path = pathEntry.getKey();\r\n                SortedSet&lt;List&lt;String&gt;&gt; equivalents = pathEntry.getValue();\r\n                for (int subpathSize = 2; subpathSize &lt; pathSize; subpathSize++) {\r\n                    List&lt;String&gt; subpath = path.subList(0, subpathSize);\r\n                    List&lt;String&gt; remainder = path.subList(subpathSize, pathSize); \r\n                    SortedSet&lt;List&lt;String&gt;&gt; subequivalents = data.get(subpathSize).get(subpath);\r\n                    if (subequivalents != null &amp;&amp; subequivalents.size() &gt; 1) {\r\n                        List&lt;String&gt; subequivalent = subequivalents.first();\r\n                        if (subequivalent.size() &lt; subpathSize) {\r\n                            List&lt;String&gt; replacement = join(subequivalent, remainder);\r\n                            if (equivalents.add(replacement)) {\r\n                                data.get(replacement.size()).put(replacement, equivalents);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        shortened.clear();\r\n        for (Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; singleLengthData : data) {\r\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; entry : singleLengthData.entrySet()) {\r\n                List&lt;String&gt; path = entry.getKey();\r\n                List&lt;String&gt; shortenedPath = entry.getValue().first();\r\n                shortened.put(path, shortenedPath);\r\n            }\r\n        }\r\n    }\r\n\r\n    List&lt;String&gt; join(List&lt;String&gt; path, List&lt;String&gt; elements) {\r\n        String[] array = path.toArray(new String[path.size() + elements.size()]);\r\n        for (int i = 0; i &lt; elements.size(); i++) {\r\n            array[path.size() + i] = elements.get(i);\r\n        }\r\n        return Arrays.asList(array);\r\n    }\r\n\r\n    List&lt;String&gt; shorten(List&lt;String&gt; path) {\r\n        List&lt;String&gt; shortPath = path;\r\n        for (int subpathSize = path.size(); subpathSize &gt; 2; subpathSize--) {\r\n            List&lt;String&gt; subpath = path.subList(0, subpathSize);\r\n            List&lt;String&gt; shortSubpath = shortened.get(subpath);\r\n            if (shortSubpath != null &amp;&amp; shortSubpath.size() &lt; subpathSize) {\r\n                List&lt;String&gt; remainder = path.subList(subpathSize, path.size());\r\n                List&lt;String&gt; replacement = join(shortSubpath, remainder);\r\n                if (replacement.size() &lt; shortPath.size())\r\n                    shortPath = replacement;\r\n            }\r\n        }\r\n        return shortPath;\r\n    }\r\n\r\n    final static Logger LOGGER = LoggerFactory.getLogger(PdfCompare.class);\r\n    final PdfDictionary trailer1;\r\n    final PdfDictionary trailer2;\r\n    final Map&lt;Pair&lt;PdfObject, PdfObject&gt;, Set&lt;List&lt;String&gt;&gt;&gt; compared = new HashMap&lt;&gt;();\r\n    final List&lt;Difference&gt; differences = new ArrayList&lt;&gt;();\r\n    final Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; shortened = new HashMap&lt;&gt;();\r\n    final static Comparator&lt;List&lt;String&gt;&gt; pathComparator = new Comparator&lt;List&lt;String&gt;&gt;() {\r\n        @Override\r\n        public int compare(List&lt;String&gt; o1, List&lt;String&gt; o2) {\r\n            int compare = Integer.compare(o1.size(), o2.size());\r\n            if (compare != 0)\r\n                return compare;\r\n            for (int i = 0; i &lt; o1.size(); i++) {\r\n                compare = o1.get(i).compareTo(o2.get(i));\r\n                if (compare != 0)\r\n                    return compare;\r\n            }\r\n            return 0;\r\n        }\r\n    };\r\n}\r\n```\r\n*([PdfCompare.java][4])*\r\n\r\nThe tool to use this code for revision comparison is a subclass thereof:\r\n\r\n```\r\npublic class PdfRevisionCompare extends PdfCompare {\r\n    public static void main(String[] args) throws IOException {\r\n        for (String arg : args) {\r\n            System.out.printf(&quot;\\nComparing revisions of: %s\\n***********************\\n&quot;, args[0]);\r\n            try (PdfDocument pdfDocument = new PdfDocument(new PdfReader(arg))) {\r\n                SignatureUtil signatureUtil = new SignatureUtil(pdfDocument);\r\n                List&lt;String&gt; signatureNames = signatureUtil.getSignatureNames();\r\n                if (signatureNames.isEmpty()) {\r\n                    System.out.println(&quot;No signed revisions detected. (no AcroForm)&quot;);\r\n                    continue;\r\n                }\r\n                String previousRevision = signatureNames.get(0);\r\n                PdfDocument previousDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(previousRevision)));\r\n                System.out.printf(&quot;* Initial signed revision: %s\\n&quot;, previousRevision);\r\n                for (int i = 1; i &lt; signatureNames.size(); i++) {\r\n                    String currentRevision = signatureNames.get(i);\r\n                    PdfDocument currentDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(currentRevision)));\r\n                    showDifferences(previousDocument, currentDocument);\r\n                    System.out.printf(&quot;* Next signed revision (%d): %s\\n&quot;, i+1, currentRevision);\r\n                    previousDocument.close();\r\n                    previousDocument = currentDocument;\r\n                    previousRevision = currentRevision;\r\n                }\r\n                if (signatureUtil.signatureCoversWholeDocument(previousRevision)) {\r\n                    System.out.println(&quot;No unsigned updates.&quot;);\r\n                } else {\r\n                    showDifferences(previousDocument, pdfDocument);\r\n                    System.out.println(&quot;* Final unsigned revision&quot;);\r\n                }\r\n                previousDocument.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    static void showDifferences(PdfDocument previousDocument, PdfDocument currentDocument) {\r\n        PdfRevisionCompare pdfRevisionCompare = new PdfRevisionCompare(previousDocument, currentDocument);\r\n        pdfRevisionCompare.compare();\r\n        List&lt;Difference&gt; differences = pdfRevisionCompare.getDifferences();\r\n        if (differences == null || differences.isEmpty()) {\r\n            System.out.println(&quot;No differences found.&quot;);\r\n        } else {\r\n            System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\r\n            for (Difference difference : differences) {\r\n                for (String element : difference.getPath()) {\r\n                    System.out.print(element);\r\n                }\r\n                System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\r\n            }\r\n        }\r\n    }\r\n\r\n    public PdfRevisionCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\r\n        super(pdfDocument1, pdfDocument2);\r\n    }\r\n}\r\n```\r\n*([PdfRevisionCompare.java][5])*\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment122645267_69387514\r\n  [2]: https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment123036138_69387514\r\n  [3]: https://i.stack.imgur.com/GKdYw.jpg\r\n  [4]: https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfCompare.java\r\n  [5]: https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfRevisionCompare.java","title":"Detect Changes on Signed PDF that was done between signatures","body":"<p>As already explained in a <a href=\"https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment122645267_69387514\">comment</a>, <em>neither iText nor PDFBox bring along a high-level API telling you what changed in an incremental update in terms of UI objects (comments, text content, ...).</em></p>\n<p><em>You can use them to render the different revisions of the PDF as bitmaps and compare those images.</em></p>\n<p><em>Or you can use them to tell you the changes in terms of low level COS objects (dictionaries, arrays, numbers, strings, ...).</em></p>\n<p><em>But analyzing the changes in those images or low level objects and determining their meaning in terms of UI objects, that e.g. a comment and only a comment has been added, is highly non-trivial.</em></p>\n<p><a href=\"https://stackoverflow.com/questions/69387514/detect-changes-on-signed-pdf-that-was-done-between-signatures#comment123036138_69387514\">In response</a> you asked</p>\n<blockquote>\n<p>Can you explain more, how can I detect changes in low level COS objects.</p>\n</blockquote>\n<h3>What to Compare And What Changes to Consider</h3>\n<p>First of all you have to be clear about what document states you can compare to detect changes.</p>\n<p>The PDF format allows to append changes to a PDF in so called incremental updates. This allows changes to signed documents without cryptographically breaking those signatures as the original signed bytes are left as is:</p>\n<p><a href=\"https://i.stack.imgur.com/GKdYw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GKdYw.jpg\" alt=\"Structure\" /></a></p>\n<p>There can be more incremental updates in-between, though, which are not signed; e.g. the &quot;Changes for version 2&quot; might include multiple incremental updates.</p>\n<p>One might consider comparing the revisions created by arbitrary incremental updates. The problem here is, though, that you cannot identify the person who applied an incremental update without signature.</p>\n<p>Thus, it usually makes more sense to compare the signed revisions only and to hold each signer responsible for <em>all changes since the previous signed revision</em>. The only exception here is the whole file which as the current version of the PDF is of special interest even if it there is no signature covering all of it.</p>\n<p>Next you have to decide what you consider a change. In particular:</p>\n<ul>\n<li><p>Is every object override in an incremental update a change? Even those that override the original object with an identical copy?</p>\n</li>\n<li><p>What about changes that make a direct object indirect (or vice versa) but keep all contents and references intact?</p>\n</li>\n<li><p>What about addition of new objects that are not referred to from anywhere in the standard structure?</p>\n</li>\n<li><p>What about addition of objects that are not referenced from the cross reference streams or tables?</p>\n</li>\n<li><p>What about addition of data that's not following PDF syntax at all?</p>\n</li>\n</ul>\n<p>If you are indeed interested in such changes, too, existing PDF libraries out-of-the-box usually don't provide you the means to determine them; you most likely will at least have to change their code for traversing the chain of cross reference tables/streams or even analyze the file bytes in the update directly.</p>\n<p>If you are not interested in such changes, though, there usually is no need to change or replace library routines.</p>\n<p>As the enumerated and similar changes make no difference when the PDF is processed by specification conform PDF processors, one can usually ignore such changes.</p>\n<p>If this is your position, too, the following example tool might give you a starting point.</p>\n<h3>An Example Tool Based on iText 7</h3>\n<p>With the limitations explained above you can compare signed revisions of a PDF using iText 7 without changes to the library by loading the revisions to compare into separate <code>PdfDocument</code> instances and recursively comparing the PDF objects starting with the trailer.</p>\n<p>I once implemented this as a small helper tool for personal use (so it is not completely finished yet, more work-in-progress). First there is the base class that allows comparing two arbitrary documents:</p>\n<pre><code>public class PdfCompare {\n    public static void main(String[] args) throws IOException {\n        System.out.printf(&quot;Comparing:\\n* %s\\n* %s\\n&quot;, args[0], args[1]);\n        try (   PdfDocument pdfDocument1 = new PdfDocument(new PdfReader(args[0]));\n                PdfDocument pdfDocument2 = new PdfDocument(new PdfReader(args[1]))  ) {\n            PdfCompare pdfCompare = new PdfCompare(pdfDocument1, pdfDocument2);\n            pdfCompare.compare();\n\n            List&lt;Difference&gt; differences = pdfCompare.getDifferences();\n            if (differences == null || differences.isEmpty()) {\n                System.out.println(&quot;No differences found.&quot;);\n            } else {\n                System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\n                for (Difference difference : pdfCompare.getDifferences()) {\n                    for (String element : difference.getPath()) {\n                        System.out.print(element);\n                    }\n                    System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\n                }\n            }\n        }\n    }\n\n    public interface Difference {\n        List&lt;String&gt; getPath();\n        String getDescription();\n    }\n\n    public PdfCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\n        trailer1 = pdfDocument1.getTrailer();\n        trailer2 = pdfDocument2.getTrailer();\n    }\n\n    public void compare() {\n        LOGGER.info(&quot;Starting comparison&quot;);\n        try {\n            compared.clear();\n            differences.clear();\n            LOGGER.info(&quot;START COMPARE&quot;);\n            compare(trailer1, trailer2, Collections.singletonList(&quot;trailer&quot;));\n            LOGGER.info(&quot;START SHORTEN PATHS&quot;);\n            shortenPaths();\n        } finally {\n            LOGGER.info(&quot;Finished comparison and shortening&quot;);\n        }\n    }\n\n    public List&lt;Difference&gt; getDifferences() {\n        return differences;\n    }\n\n    class DifferenceImplSimple implements Difference {\n        DifferenceImplSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path, String description) {\n            this.pair = Pair.of(object1, object2);\n            this.path = path;\n            this.description = description;\n        }\n\n        @Override\n        public List&lt;String&gt; getPath() {\n            List&lt;String&gt; byPair = getShortestPath(pair);\n            return byPair != null ? byPair : shorten(path);\n        }\n        @Override public String getDescription()    { return description;           }\n\n        final Pair&lt;PdfObject, PdfObject&gt; pair;\n        final List&lt;String&gt; path;\n        final String description;\n    }\n\n    void compare(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\n        LOGGER.debug(&quot;Comparing objects at {}.&quot;, path);\n        if (object1 == null &amp;&amp; object2 == null)\n        {\n            LOGGER.debug(&quot;Both objects are null at {}.&quot;, path);\n            return;\n        }\n        if (object1 == null) {\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 1&quot;));\n            LOGGER.info(&quot;Object in document 1 is missing at {}.&quot;, path);\n            return;\n        }\n        if (object2 == null) {\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Missing in document 2&quot;));\n            LOGGER.info(&quot;Object in document 2 is missing at {}.&quot;, path);\n            return;\n        }\n\n        if (object1.getType() != object2.getType()) {\n            differences.add(new DifferenceImplSimple(object1, object2, path,\n                    String.format(&quot;Type difference, %s in document 1 and %s in document 2&quot;,\n                            getTypeName(object1.getType()), getTypeName(object2.getType()))));\n            LOGGER.info(&quot;Objects have different types at {}, {} and {}.&quot;, path, getTypeName(object1.getType()), getTypeName(object2.getType()));\n            return;\n        }\n\n        switch (object1.getType()) {\n        case PdfObject.ARRAY:\n            compareContents((PdfArray) object1, (PdfArray) object2, path);\n            break;\n        case PdfObject.DICTIONARY:\n            compareContents((PdfDictionary) object1, (PdfDictionary) object2, path);\n            break;\n        case PdfObject.STREAM:\n            compareContents((PdfStream)object1, (PdfStream)object2, path);\n            break;\n        case PdfObject.BOOLEAN:\n        case PdfObject.INDIRECT_REFERENCE:\n        case PdfObject.LITERAL:\n        case PdfObject.NAME:\n        case PdfObject.NULL:\n        case PdfObject.NUMBER:\n        case PdfObject.STRING:\n            compareContentsSimple(object1, object2, path);\n            break;\n        default:\n            differences.add(new DifferenceImplSimple(object1, object2, path, &quot;Unknown object type &quot; + object1.getType() + &quot;; cannot compare&quot;));\n            LOGGER.warn(&quot;Unknown object type at {}, {}.&quot;, path, object1.getType());\n            break;\n        }\n    }\n\n    void compareContents(PdfArray array1, PdfArray array2, List&lt;String&gt; path) {\n        int count1 = array1.size();\n        int count2 = array2.size();\n        if (count1 &lt; count2) {\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 1 misses &quot; + (count2-count1) + &quot; array entries&quot;));\n            LOGGER.info(&quot;Array in document 1 is missing {} entries at {} for {}.&quot;, (count2-count1), path);\n        }\n        if (count1 &gt; count2) {\n            differences.add(new DifferenceImplSimple(array1, array2, path, &quot;Document 2 misses &quot; + (count1-count2) + &quot; array entries&quot;));\n            LOGGER.info(&quot;Array in document 2 is missing {} entries at {} for {}.&quot;, (count1-count2), path);\n        }\n\n        if (alreadyCompared(array1, array2, path)) {\n            return;\n        }\n\n        int count = Math.min(count1, count2);\n        for (int i = 0; i &lt; count; i++) {\n            compare(array1.get(i), array2.get(i), join(path, String.format(&quot;[%d]&quot;, i)));\n        }\n    }\n\n    void compareContents(PdfDictionary dictionary1, PdfDictionary dictionary2, List&lt;String&gt; path) {\n        List&lt;PdfName&gt; missing1 = new ArrayList&lt;PdfName&gt;(dictionary2.keySet());\n        missing1.removeAll(dictionary1.keySet());\n        if (!missing1.isEmpty()) {\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 1 misses dictionary entries for &quot; + missing1));\n            LOGGER.info(&quot;Dictionary in document 1 is missing entries at {} for {}.&quot;, path, missing1);\n        }\n\n        List&lt;PdfName&gt; missing2 = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\n        missing2.removeAll(dictionary2.keySet());\n        if (!missing2.isEmpty()) {\n            differences.add(new DifferenceImplSimple(dictionary1, dictionary2, path, &quot;Document 2 misses dictionary entries for &quot; + missing2));\n            LOGGER.info(&quot;Dictionary in document 2 is missing entries at {} for {}.&quot;, path, missing2);\n        }\n\n        if (alreadyCompared(dictionary1, dictionary2, path)) {\n            return;\n        }\n\n        List&lt;PdfName&gt; common = new ArrayList&lt;PdfName&gt;(dictionary1.keySet());\n        common.retainAll(dictionary2.keySet());\n        for (PdfName name : common) {\n            compare(dictionary1.get(name), dictionary2.get(name), join(path, name.toString()));\n        }\n    }\n\n    void compareContents(PdfStream stream1, PdfStream stream2, List&lt;String&gt; path) {\n        compareContents((PdfDictionary)stream1, (PdfDictionary)stream2, path);\n\n        byte[] bytes1 = stream1.getBytes();\n        byte[] bytes2 = stream2.getBytes();\n        if (!Arrays.equals(bytes1, bytes2)) {\n            differences.add(new DifferenceImplSimple(stream1, stream2, path, &quot;Stream contents differ&quot;));\n            LOGGER.info(&quot;Stream contents differ at {}.&quot;, path);\n        }\n    }\n\n    void compareContentsSimple(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\n        // vvv--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\n        if (object1 instanceof PdfNumber)\n            ((PdfNumber)object1).getValue();\n        if (object2 instanceof PdfNumber)\n            ((PdfNumber)object2).getValue();\n        // ^^^--- work-around for DEVSIX-4931, likely to be fixed in 7.1.15\n        if (!object1.equals(object2)) {\n            if (object1 instanceof PdfString) {\n                String string1 = object1.toString();\n                if (string1.length() &gt; 40)\n                    string1 = string1.substring(0, 40) + '\\u22EF';\n                string1 = sanitize(string1);\n                String string2 = object2.toString();\n                if (string2.length() &gt; 40)\n                    string2 = string2.substring(0, 40) + '\\u22EF';\n                string2 = sanitize(string2);\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;String values differ, '%s' and '%s'&quot;, string1, string2)));\n                LOGGER.info(&quot;String values differ at {}, '{}' and '{}'.&quot;, path, string1, string2);\n            } else {\n                differences.add(new DifferenceImplSimple(object1, object2, path, String.format(&quot;Object values differ, '%s' and '%s'&quot;, object1, object2)));\n                LOGGER.info(&quot;Object values differ at {}, '{}' and '{}'.&quot;, path, object1, object2);\n            }\n        }\n    }\n\n    String sanitize(CharSequence string) {\n        char[] sanitized = new char[string.length()];\n        for (int i = 0; i &lt; sanitized.length; i++) {\n            char c = string.charAt(i);\n            if (c &gt;= 0 &amp;&amp; c &lt; ' ')\n                c = '\\uFFFD';\n            sanitized[i] = c;\n        }\n        return new String(sanitized);\n    }\n\n    String getTypeName(byte type) {\n        switch (type) {\n        case PdfObject.ARRAY:               return &quot;ARRAY&quot;;\n        case PdfObject.BOOLEAN:             return &quot;BOOLEAN&quot;;\n        case PdfObject.DICTIONARY:          return &quot;DICTIONARY&quot;;\n        case PdfObject.LITERAL:             return &quot;LITERAL&quot;;\n        case PdfObject.INDIRECT_REFERENCE:  return &quot;REFERENCE&quot;;\n        case PdfObject.NAME:                return &quot;NAME&quot;;\n        case PdfObject.NULL:                return &quot;NULL&quot;;\n        case PdfObject.NUMBER:              return &quot;NUMBER&quot;;\n        case PdfObject.STREAM:              return &quot;STREAM&quot;;\n        case PdfObject.STRING:              return &quot;STRING&quot;;\n        default:\n            return &quot;UNKNOWN&quot;;\n        }\n    }\n\n    List&lt;String&gt; join(List&lt;String&gt; path, String element) {\n        String[] array = path.toArray(new String[path.size() + 1]);\n        array[array.length-1] = element;\n        return Arrays.asList(array);\n    }\n\n    boolean alreadyCompared(PdfObject object1, PdfObject object2, List&lt;String&gt; path) {\n        Pair&lt;PdfObject, PdfObject&gt; pair = Pair.of(object1, object2);\n        if (compared.containsKey(pair)) {\n            //LOGGER.debug(&quot;Objects already compared at {}, previously at {}.&quot;, path, compared.get(pair));\n            Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\n            boolean alreadyPresent = false;\n//            List&lt;List&lt;String&gt;&gt; toRemove = new ArrayList&lt;&gt;();\n//            for (List&lt;String&gt; formerPath : paths) {\n//                for (int i = 0; ; i++) {\n//                    if (i == path.size()) {\n//                        toRemove.add(formerPath);\n//                        System.out.print('.');\n//                        break;\n//                    }\n//                    if (i == formerPath.size()) {\n//                        alreadyPresent = true;\n//                        System.out.print(':');\n//                        break;\n//                    }\n//                    if (!path.get(i).equals(formerPath.get(i)))\n//                        break;\n//                }\n//            }\n//            paths.removeAll(toRemove);\n            if (!alreadyPresent)\n                paths.add(path);\n            return true;\n        }\n        compared.put(pair, new HashSet&lt;&gt;(Collections.singleton(path)));\n        return false;\n    }\n\n    List&lt;String&gt; getShortestPath(Pair&lt;PdfObject, PdfObject&gt; pair) {\n        Set&lt;List&lt;String&gt;&gt; paths = compared.get(pair);\n        //return (paths == null) ? null : Collections.min(paths, pathComparator);\n        return (paths == null || paths.isEmpty()) ? null : shortened.get(paths.stream().findFirst().get());\n    }\n\n    void shortenPaths() {\n        List&lt;Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt;&gt; data = new ArrayList&lt;&gt;();\n        for (Set&lt;List&lt;String&gt;&gt; set : compared.values()) {\n            SortedSet&lt;List&lt;String&gt;&gt; sortedSet = new TreeSet&lt;List&lt;String&gt;&gt;(pathComparator);\n            sortedSet.addAll(set);\n            for (List&lt;String&gt; path : sortedSet) {\n                while (path.size() &gt;= data.size()) {\n                    data.add(new HashMap&lt;&gt;());\n                }\n                SortedSet&lt;List&lt;String&gt;&gt; former = data.get(path.size()).put(path, sortedSet);\n                if (former != null) {\n                    LOGGER.error(&quot;Path not well-defined for {}&quot;, path);\n                }\n            }\n        }\n        for (int pathSize = 3; pathSize &lt; data.size(); pathSize++) {\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; pathEntry : data.get(pathSize).entrySet()) {\n                List&lt;String&gt; path = pathEntry.getKey();\n                SortedSet&lt;List&lt;String&gt;&gt; equivalents = pathEntry.getValue();\n                for (int subpathSize = 2; subpathSize &lt; pathSize; subpathSize++) {\n                    List&lt;String&gt; subpath = path.subList(0, subpathSize);\n                    List&lt;String&gt; remainder = path.subList(subpathSize, pathSize); \n                    SortedSet&lt;List&lt;String&gt;&gt; subequivalents = data.get(subpathSize).get(subpath);\n                    if (subequivalents != null &amp;&amp; subequivalents.size() &gt; 1) {\n                        List&lt;String&gt; subequivalent = subequivalents.first();\n                        if (subequivalent.size() &lt; subpathSize) {\n                            List&lt;String&gt; replacement = join(subequivalent, remainder);\n                            if (equivalents.add(replacement)) {\n                                data.get(replacement.size()).put(replacement, equivalents);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        shortened.clear();\n        for (Map&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; singleLengthData : data) {\n            for (Map.Entry&lt;List&lt;String&gt;, SortedSet&lt;List&lt;String&gt;&gt;&gt; entry : singleLengthData.entrySet()) {\n                List&lt;String&gt; path = entry.getKey();\n                List&lt;String&gt; shortenedPath = entry.getValue().first();\n                shortened.put(path, shortenedPath);\n            }\n        }\n    }\n\n    List&lt;String&gt; join(List&lt;String&gt; path, List&lt;String&gt; elements) {\n        String[] array = path.toArray(new String[path.size() + elements.size()]);\n        for (int i = 0; i &lt; elements.size(); i++) {\n            array[path.size() + i] = elements.get(i);\n        }\n        return Arrays.asList(array);\n    }\n\n    List&lt;String&gt; shorten(List&lt;String&gt; path) {\n        List&lt;String&gt; shortPath = path;\n        for (int subpathSize = path.size(); subpathSize &gt; 2; subpathSize--) {\n            List&lt;String&gt; subpath = path.subList(0, subpathSize);\n            List&lt;String&gt; shortSubpath = shortened.get(subpath);\n            if (shortSubpath != null &amp;&amp; shortSubpath.size() &lt; subpathSize) {\n                List&lt;String&gt; remainder = path.subList(subpathSize, path.size());\n                List&lt;String&gt; replacement = join(shortSubpath, remainder);\n                if (replacement.size() &lt; shortPath.size())\n                    shortPath = replacement;\n            }\n        }\n        return shortPath;\n    }\n\n    final static Logger LOGGER = LoggerFactory.getLogger(PdfCompare.class);\n    final PdfDictionary trailer1;\n    final PdfDictionary trailer2;\n    final Map&lt;Pair&lt;PdfObject, PdfObject&gt;, Set&lt;List&lt;String&gt;&gt;&gt; compared = new HashMap&lt;&gt;();\n    final List&lt;Difference&gt; differences = new ArrayList&lt;&gt;();\n    final Map&lt;List&lt;String&gt;, List&lt;String&gt;&gt; shortened = new HashMap&lt;&gt;();\n    final static Comparator&lt;List&lt;String&gt;&gt; pathComparator = new Comparator&lt;List&lt;String&gt;&gt;() {\n        @Override\n        public int compare(List&lt;String&gt; o1, List&lt;String&gt; o2) {\n            int compare = Integer.compare(o1.size(), o2.size());\n            if (compare != 0)\n                return compare;\n            for (int i = 0; i &lt; o1.size(); i++) {\n                compare = o1.get(i).compareTo(o2.get(i));\n                if (compare != 0)\n                    return compare;\n            }\n            return 0;\n        }\n    };\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfCompare.java\" rel=\"nofollow noreferrer\">PdfCompare.java</a>)</em></p>\n<p>The tool to use this code for revision comparison is a subclass thereof:</p>\n<pre><code>public class PdfRevisionCompare extends PdfCompare {\n    public static void main(String[] args) throws IOException {\n        for (String arg : args) {\n            System.out.printf(&quot;\\nComparing revisions of: %s\\n***********************\\n&quot;, args[0]);\n            try (PdfDocument pdfDocument = new PdfDocument(new PdfReader(arg))) {\n                SignatureUtil signatureUtil = new SignatureUtil(pdfDocument);\n                List&lt;String&gt; signatureNames = signatureUtil.getSignatureNames();\n                if (signatureNames.isEmpty()) {\n                    System.out.println(&quot;No signed revisions detected. (no AcroForm)&quot;);\n                    continue;\n                }\n                String previousRevision = signatureNames.get(0);\n                PdfDocument previousDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(previousRevision)));\n                System.out.printf(&quot;* Initial signed revision: %s\\n&quot;, previousRevision);\n                for (int i = 1; i &lt; signatureNames.size(); i++) {\n                    String currentRevision = signatureNames.get(i);\n                    PdfDocument currentDocument = new PdfDocument(new PdfReader(signatureUtil.extractRevision(currentRevision)));\n                    showDifferences(previousDocument, currentDocument);\n                    System.out.printf(&quot;* Next signed revision (%d): %s\\n&quot;, i+1, currentRevision);\n                    previousDocument.close();\n                    previousDocument = currentDocument;\n                    previousRevision = currentRevision;\n                }\n                if (signatureUtil.signatureCoversWholeDocument(previousRevision)) {\n                    System.out.println(&quot;No unsigned updates.&quot;);\n                } else {\n                    showDifferences(previousDocument, pdfDocument);\n                    System.out.println(&quot;* Final unsigned revision&quot;);\n                }\n                previousDocument.close();\n            }\n        }\n    }\n\n    static void showDifferences(PdfDocument previousDocument, PdfDocument currentDocument) {\n        PdfRevisionCompare pdfRevisionCompare = new PdfRevisionCompare(previousDocument, currentDocument);\n        pdfRevisionCompare.compare();\n        List&lt;Difference&gt; differences = pdfRevisionCompare.getDifferences();\n        if (differences == null || differences.isEmpty()) {\n            System.out.println(&quot;No differences found.&quot;);\n        } else {\n            System.out.printf(&quot;%d differences found:\\n&quot;, differences.size());\n            for (Difference difference : differences) {\n                for (String element : difference.getPath()) {\n                    System.out.print(element);\n                }\n                System.out.printf(&quot; - %s\\n&quot;, difference.getDescription());\n            }\n        }\n    }\n\n    public PdfRevisionCompare(PdfDocument pdfDocument1, PdfDocument pdfDocument2) {\n        super(pdfDocument1, pdfDocument2);\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-itext7/blob/master/src/main/java/mkl/testarea/itext7/meta/PdfRevisionCompare.java\" rel=\"nofollow noreferrer\">PdfRevisionCompare.java</a>)</em></p>\n"},{"tags":[],"owner":{"account_id":970661,"reputation":17,"user_id":9204729,"display_name":"Radek Kantor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681448063,"creation_date":1681448063,"answer_id":76011707,"question_id":69387514,"body_markdown":"Use iText class `com.itextpdf.kernel.utils.CompareTool`. \r\n\r\nShould do the same as custom implementation mentioned by mkl. Tool class contains a lot off compare methods including visually compare.","title":"Detect Changes on Signed PDF that was done between signatures","body":"<p>Use iText class <code>com.itextpdf.kernel.utils.CompareTool</code>.</p>\n<p>Should do the same as custom implementation mentioned by mkl. Tool class contains a lot off compare methods including visually compare.</p>\n"}],"owner":{"account_id":21479412,"reputation":21,"user_id":15827051,"display_name":"Asmaa Fathy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69617158,"answer_count":2,"score":1,"last_activity_date":1681448063,"creation_date":1632984928,"question_id":69387514,"body_markdown":"I&#39;m developing an application that should verify signatures of pdf files. The application should detect full history of updates done on the file content before each signature is applied. \r\nFor example: \r\n1. Signer 1 signed the plain pdf file\r\n2. Signer 2 added comment to the signed file, then signed it \r\n\r\nHow can application detect that Signer 2 added a comment before his signature.\r\n\r\nI have tried to use itext and pdfbox ","title":"Detect Changes on Signed PDF that was done between signatures","body":"<p>I'm developing an application that should verify signatures of pdf files. The application should detect full history of updates done on the file content before each signature is applied.\nFor example:</p>\n<ol>\n<li>Signer 1 signed the plain pdf file</li>\n<li>Signer 2 added comment to the signed file, then signed it</li>\n</ol>\n<p>How can application detect that Signer 2 added a comment before his signature.</p>\n<p>I have tried to use itext and pdfbox</p>\n"},{"tags":["java","swing","jslider","changelistener"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1451696719,"post_id":34561596,"comment_id":56866874,"body_markdown":"You will probably need to provide a custom `BoundedRangeModel`","body":"You will probably need to provide a custom <code>BoundedRangeModel</code>"},{"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"score":0,"creation_date":1451703170,"post_id":34561596,"comment_id":56867967,"body_markdown":"@MadProgrammer I believe that is what I have created, in effect. The ChangeListener decides if the value is valid or not, and if not, sets the JSlider value to a &quot;legal&quot; value (which does persist). However, the thumb does not reflect that value, but rather the value where the thumb was moved by the user..","body":"@MadProgrammer I believe that is what I have created, in effect. The ChangeListener decides if the value is valid or not, and if not, sets the JSlider value to a &quot;legal&quot; value (which does persist). However, the thumb does not reflect that value, but rather the value where the thumb was moved by the user.."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1451704023,"post_id":34561596,"comment_id":56868098,"body_markdown":"How about rather than &quot;in effect&quot; you make it actual, after all, it&#39;s the `BoundedRangeModel`s responsibility to manage these things, and your current approach doesn&#39;t seem to work","body":"How about rather than &quot;in effect&quot; you make it actual, after all, it&#39;s the <code>BoundedRangeModel</code>s responsibility to manage these things, and your current approach doesn&#39;t seem to work"},{"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"score":0,"creation_date":1452048715,"post_id":34561596,"comment_id":56995479,"body_markdown":"@MadProgrammer with a custom model based on DefaultBoundedRangeModel I was still unsuccessful. Overriding setValue() and intercepting an illegal attempted value and substituting a legal value did  not work. Even when forcing a fireStateChanged() call just to be sure. I can&#39;t see the source (working on Mac, Aqua LaF) but symptoms lead me to suspect that the mouse release always sets the thumb position despite the value set in the model.","body":"@MadProgrammer with a custom model based on DefaultBoundedRangeModel I was still unsuccessful. Overriding setValue() and intercepting an illegal attempted value and substituting a legal value did  not work. Even when forcing a fireStateChanged() call just to be sure. I can&#39;t see the source (working on Mac, Aqua LaF) but symptoms lead me to suspect that the mouse release always sets the thumb position despite the value set in the model."}],"answers":[{"tags":[],"owner":{"account_id":59184,"reputation":9708,"user_id":177145,"display_name":"aterai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452235756,"creation_date":1451730965,"answer_id":34564924,"question_id":34561596,"body_markdown":"You might be able to override the `createTrackListener(...)` method of `MetalSliderUI` to prevent that dragging.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Edit**\r\n\r\n- Another option is to use a `JLayer`(untested code, may take some customization to work for other `LookAndFeel`):\r\n\r\n&lt;!--  --&gt;\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.beans.PropertyChangeEvent;\r\n    import java.util.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.*;\r\n    import javax.swing.plaf.*;\r\n    import javax.swing.plaf.basic.BasicSliderUI;\r\n    // import javax.swing.plaf.metal.MetalSliderUI;\r\n    // import javax.swing.plaf.synth.SynthSliderUI;\r\n    // import com.sun.java.swing.plaf.windows.WindowsSliderUI;\r\n    \r\n    public class DragLimitedSliderTest {\r\n      private static int MAXI = 80;\r\n      private JComponent makeUI() {\r\n        JSlider slider1 = makeSlider();\r\n        JSlider slider2 = makeSlider();\r\n        slider2.setUI(new BasicSliderUI(slider2) {\r\n        //slider2.setUI(new WindowsSliderUI(slider2) {\r\n        //slider2.setUI(new MetalSliderUI() {\r\n        //slider2.setUI(new SynthSliderUI(slider2) {\r\n          @Override protected TrackListener createTrackListener(JSlider slider) {\r\n            return new TrackListener() {\r\n              @Override public void mouseDragged(MouseEvent e) {\r\n                //case HORIZONTAL:\r\n                int halfThumbWidth = thumbRect.width / 2;\r\n                int thumbLeft = e.getX() - offset;\r\n                int maxPos = xPositionForValue(MAXI) - halfThumbWidth;\r\n                if (thumbLeft &gt; maxPos) {\r\n                  int x = maxPos + offset;\r\n                  MouseEvent me = new MouseEvent(\r\n                    e.getComponent(), e.getID(), e.getWhen(), e.getModifiers(),\r\n                    x, e.getY(),\r\n                    e.getXOnScreen(), e.getYOnScreen(),\r\n                    e.getClickCount(), e.isPopupTrigger(), e.getButton());\r\n                  e.consume();\r\n                  super.mouseDragged(me);\r\n                } else {\r\n                  super.mouseDragged(e);\r\n                }\r\n              }\r\n            };\r\n          }\r\n        });\r\n        JSlider slider3 = makeSlider();\r\n    \r\n        JPanel p = new JPanel(new GridLayout(3, 1));\r\n        p.add(slider1);\r\n        p.add(slider2);\r\n        p.add(new JLayer&lt;JSlider&gt;(slider3, new DisableInputLayerUI()));\r\n        return p;\r\n      }\r\n      private static JSlider makeSlider() {\r\n        JSlider slider = new JSlider(0, 100, 40) {\r\n          @Override public void setValue(int n) {\r\n            super.setValue(n);\r\n          }\r\n        };\r\n        slider.setMajorTickSpacing(10);\r\n        slider.setPaintTicks(true);\r\n        slider.setPaintLabels(true);\r\n        Dictionary dictionary = slider.getLabelTable();\r\n        if (dictionary != null) {\r\n          Enumeration elements = dictionary.elements();\r\n          while (elements.hasMoreElements()) {\r\n            JLabel label = (JLabel) elements.nextElement();\r\n            int v = Integer.parseInt(label.getText());\r\n            if (v &gt; MAXI) {\r\n              label.setForeground(Color.RED);\r\n            }\r\n          }\r\n        }\r\n        slider.getModel().addChangeListener(new ChangeListener() {\r\n          @Override public void stateChanged(ChangeEvent e) {\r\n            BoundedRangeModel m = (BoundedRangeModel) e.getSource();\r\n            if (m.getValue() &gt; MAXI) {\r\n              m.setValue(MAXI);\r\n            }\r\n          }\r\n        });\r\n        return slider;\r\n      }\r\n      public static void main(String... args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n          try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n    //         for (UIManager.LookAndFeelInfo laf: UIManager.getInstalledLookAndFeels()) {\r\n    //           if (&quot;Nimbus&quot;.equals(laf.getName())) {\r\n    //             UIManager.setLookAndFeel(laf.getClassName());\r\n    //           }\r\n    //         }\r\n          } catch (Exception e) {\r\n            e.printStackTrace();\r\n          }\r\n          JFrame f = new JFrame();\r\n          f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n          f.getContentPane().add(new DragLimitedSliderTest().makeUI());\r\n          f.setSize(320, 240);\r\n          f.setLocationRelativeTo(null);\r\n          f.setVisible(true);\r\n        });\r\n      }\r\n    }\r\n    \r\n    class DisableInputLayerUI extends LayerUI&lt;JSlider&gt; {\r\n      @Override public void installUI(JComponent c) {\r\n        super.installUI(c);\r\n        if (c instanceof JLayer) {\r\n          JLayer jlayer = (JLayer) c;\r\n          jlayer.setLayerEventMask(\r\n            AWTEvent.MOUSE_EVENT_MASK |\r\n            AWTEvent.MOUSE_MOTION_EVENT_MASK);\r\n        }\r\n      }\r\n      @Override public void uninstallUI(JComponent c) {\r\n        if (c instanceof JLayer) {\r\n          JLayer jlayer = (JLayer) c;\r\n          jlayer.setLayerEventMask(0);\r\n        }\r\n        super.uninstallUI(c);\r\n      }\r\n      private Rectangle thumbRect = new Rectangle(11, 19); //magic number\r\n      private Rectangle focusRect = new Rectangle();\r\n      private Rectangle contentRect = new Rectangle();\r\n      private Rectangle trackRect = new Rectangle();\r\n      private int offset;\r\n    \r\n      protected int xPositionForValue(JSlider slider, int value) {\r\n        int min = slider.getMinimum();\r\n        int max = slider.getMaximum();\r\n        int trackLength = trackRect.width;\r\n        double valueRange = (double) max - (double) min;\r\n        double pixelsPerValue = (double) trackLength / valueRange;\r\n        int trackLeft = trackRect.x;\r\n        int trackRight = trackRect.x + (trackRect.width - 1);\r\n        int xPosition;\r\n    \r\n        xPosition = trackLeft;\r\n        xPosition += Math.round(pixelsPerValue * ((double) value - min));\r\n    \r\n        xPosition = Math.max(trackLeft, xPosition);\r\n        xPosition = Math.min(trackRight, xPosition);\r\n    \r\n        return xPosition;\r\n      }\r\n      protected int getHeightOfTallestLabel(JSlider slider) {\r\n        Dictionary dictionary = slider.getLabelTable();\r\n        int tallest = 0;\r\n        if (dictionary != null) {\r\n          Enumeration keys = dictionary.keys();\r\n          while (keys.hasMoreElements()) {\r\n            JComponent label = (JComponent) dictionary.get(keys.nextElement());\r\n            tallest = Math.max(label.getPreferredSize().height, tallest);\r\n          }\r\n        }\r\n        return tallest;\r\n      }\r\n      @Override protected void processMouseEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\r\n        JSlider slider = l.getView();\r\n        if (e.getID() == MouseEvent.MOUSE_PRESSED) {\r\n          //case HORIZONTAL:\r\n    \r\n          //recalculateIfInsetsChanged()\r\n          Insets insetCache = slider.getInsets();\r\n          Insets focusInsets = UIManager.getInsets(&quot;Slider.focusInsets&quot;);\r\n          if (focusInsets == null) {\r\n            focusInsets = new Insets(2, 2, 2, 2); //magic number\r\n          }\r\n    \r\n          //calculateFocusRect()\r\n          focusRect.x = insetCache.left;\r\n          focusRect.y = insetCache.top;\r\n          focusRect.width = slider.getWidth() - (insetCache.left + insetCache.right);\r\n          focusRect.height = slider.getHeight() - (insetCache.top + insetCache.bottom);\r\n    \r\n          //calculateContentRect()\r\n          contentRect.x = focusRect.x + focusInsets.left;\r\n          contentRect.y = focusRect.y + focusInsets.top;\r\n          contentRect.width = focusRect.width - (focusInsets.left + focusInsets.right);\r\n          contentRect.height = focusRect.height - (focusInsets.top + focusInsets.bottom);\r\n    \r\n          //calculateThumbSize()\r\n          Icon ti = UIManager.getIcon(&quot;Slider.horizontalThumbIcon&quot;);\r\n          if (ti != null) {\r\n            thumbRect.width = ti.getIconWidth();\r\n            thumbRect.height = ti.getIconHeight();\r\n          }\r\n    \r\n          //calculateTrackBuffer()\r\n          int trackBuffer = 9; //magic number, Windows: 9, Metal: 10 ...\r\n    \r\n          //calculateTrackRect()\r\n          int centerSpacing = thumbRect.height;\r\n          if (slider.getPaintTicks())  centerSpacing += 8; //magic number getTickLength();\r\n          if (slider.getPaintLabels()) centerSpacing += getHeightOfTallestLabel(slider);\r\n          trackRect.x = contentRect.x + trackBuffer;\r\n          trackRect.y = contentRect.y + (contentRect.height - centerSpacing - 1) / 2;\r\n          trackRect.width = contentRect.width - (trackBuffer * 2);\r\n          trackRect.height = thumbRect.height;\r\n    \r\n          //calculateThumbLocation()\r\n          int valuePosition = xPositionForValue(slider, slider.getValue());\r\n          thumbRect.x = valuePosition - (thumbRect.width / 2);\r\n          thumbRect.y = trackRect.y;\r\n          offset = e.getX() - thumbRect.x;\r\n        }\r\n      }\r\n      @Override protected void processMouseMotionEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\r\n        if (e.getID() == MouseEvent.MOUSE_DRAGGED) {\r\n          JSlider slider = l.getView();\r\n          //case HORIZONTAL:\r\n          int halfThumbWidth = thumbRect.width / 2;\r\n          int thumbLeft = e.getX() - offset;\r\n          int maxPos = xPositionForValue(slider, 80) - halfThumbWidth;\r\n          if (thumbLeft &gt; maxPos) {\r\n            e.consume();\r\n            SliderUI ui = slider.getUI();\r\n            if (ui instanceof BasicSliderUI) {\r\n              ((BasicSliderUI) ui).setThumbLocation(maxPos, thumbRect.y);\r\n            }\r\n            slider.getModel().setValue(80);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/bUiTN.png\r\n","title":"How can I prevent a JSlider from moving full-range?","body":"<p>You might be able to override the <code>createTrackListener(...)</code> method of <code>MetalSliderUI</code> to prevent that dragging.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bUiTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bUiTN.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Edit</strong></p>\n\n<ul>\n<li>Another option is to use a <code>JLayer</code>(untested code, may take some customization to work for other <code>LookAndFeel</code>):</li>\n</ul>\n\n\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.beans.PropertyChangeEvent;\nimport java.util.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\nimport javax.swing.plaf.*;\nimport javax.swing.plaf.basic.BasicSliderUI;\n// import javax.swing.plaf.metal.MetalSliderUI;\n// import javax.swing.plaf.synth.SynthSliderUI;\n// import com.sun.java.swing.plaf.windows.WindowsSliderUI;\n\npublic class DragLimitedSliderTest {\n  private static int MAXI = 80;\n  private JComponent makeUI() {\n    JSlider slider1 = makeSlider();\n    JSlider slider2 = makeSlider();\n    slider2.setUI(new BasicSliderUI(slider2) {\n    //slider2.setUI(new WindowsSliderUI(slider2) {\n    //slider2.setUI(new MetalSliderUI() {\n    //slider2.setUI(new SynthSliderUI(slider2) {\n      @Override protected TrackListener createTrackListener(JSlider slider) {\n        return new TrackListener() {\n          @Override public void mouseDragged(MouseEvent e) {\n            //case HORIZONTAL:\n            int halfThumbWidth = thumbRect.width / 2;\n            int thumbLeft = e.getX() - offset;\n            int maxPos = xPositionForValue(MAXI) - halfThumbWidth;\n            if (thumbLeft &gt; maxPos) {\n              int x = maxPos + offset;\n              MouseEvent me = new MouseEvent(\n                e.getComponent(), e.getID(), e.getWhen(), e.getModifiers(),\n                x, e.getY(),\n                e.getXOnScreen(), e.getYOnScreen(),\n                e.getClickCount(), e.isPopupTrigger(), e.getButton());\n              e.consume();\n              super.mouseDragged(me);\n            } else {\n              super.mouseDragged(e);\n            }\n          }\n        };\n      }\n    });\n    JSlider slider3 = makeSlider();\n\n    JPanel p = new JPanel(new GridLayout(3, 1));\n    p.add(slider1);\n    p.add(slider2);\n    p.add(new JLayer&lt;JSlider&gt;(slider3, new DisableInputLayerUI()));\n    return p;\n  }\n  private static JSlider makeSlider() {\n    JSlider slider = new JSlider(0, 100, 40) {\n      @Override public void setValue(int n) {\n        super.setValue(n);\n      }\n    };\n    slider.setMajorTickSpacing(10);\n    slider.setPaintTicks(true);\n    slider.setPaintLabels(true);\n    Dictionary dictionary = slider.getLabelTable();\n    if (dictionary != null) {\n      Enumeration elements = dictionary.elements();\n      while (elements.hasMoreElements()) {\n        JLabel label = (JLabel) elements.nextElement();\n        int v = Integer.parseInt(label.getText());\n        if (v &gt; MAXI) {\n          label.setForeground(Color.RED);\n        }\n      }\n    }\n    slider.getModel().addChangeListener(new ChangeListener() {\n      @Override public void stateChanged(ChangeEvent e) {\n        BoundedRangeModel m = (BoundedRangeModel) e.getSource();\n        if (m.getValue() &gt; MAXI) {\n          m.setValue(MAXI);\n        }\n      }\n    });\n    return slider;\n  }\n  public static void main(String... args) {\n    EventQueue.invokeLater(() -&gt; {\n      try {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n//         for (UIManager.LookAndFeelInfo laf: UIManager.getInstalledLookAndFeels()) {\n//           if (\"Nimbus\".equals(laf.getName())) {\n//             UIManager.setLookAndFeel(laf.getClassName());\n//           }\n//         }\n      } catch (Exception e) {\n        e.printStackTrace();\n      }\n      JFrame f = new JFrame();\n      f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n      f.getContentPane().add(new DragLimitedSliderTest().makeUI());\n      f.setSize(320, 240);\n      f.setLocationRelativeTo(null);\n      f.setVisible(true);\n    });\n  }\n}\n\nclass DisableInputLayerUI extends LayerUI&lt;JSlider&gt; {\n  @Override public void installUI(JComponent c) {\n    super.installUI(c);\n    if (c instanceof JLayer) {\n      JLayer jlayer = (JLayer) c;\n      jlayer.setLayerEventMask(\n        AWTEvent.MOUSE_EVENT_MASK |\n        AWTEvent.MOUSE_MOTION_EVENT_MASK);\n    }\n  }\n  @Override public void uninstallUI(JComponent c) {\n    if (c instanceof JLayer) {\n      JLayer jlayer = (JLayer) c;\n      jlayer.setLayerEventMask(0);\n    }\n    super.uninstallUI(c);\n  }\n  private Rectangle thumbRect = new Rectangle(11, 19); //magic number\n  private Rectangle focusRect = new Rectangle();\n  private Rectangle contentRect = new Rectangle();\n  private Rectangle trackRect = new Rectangle();\n  private int offset;\n\n  protected int xPositionForValue(JSlider slider, int value) {\n    int min = slider.getMinimum();\n    int max = slider.getMaximum();\n    int trackLength = trackRect.width;\n    double valueRange = (double) max - (double) min;\n    double pixelsPerValue = (double) trackLength / valueRange;\n    int trackLeft = trackRect.x;\n    int trackRight = trackRect.x + (trackRect.width - 1);\n    int xPosition;\n\n    xPosition = trackLeft;\n    xPosition += Math.round(pixelsPerValue * ((double) value - min));\n\n    xPosition = Math.max(trackLeft, xPosition);\n    xPosition = Math.min(trackRight, xPosition);\n\n    return xPosition;\n  }\n  protected int getHeightOfTallestLabel(JSlider slider) {\n    Dictionary dictionary = slider.getLabelTable();\n    int tallest = 0;\n    if (dictionary != null) {\n      Enumeration keys = dictionary.keys();\n      while (keys.hasMoreElements()) {\n        JComponent label = (JComponent) dictionary.get(keys.nextElement());\n        tallest = Math.max(label.getPreferredSize().height, tallest);\n      }\n    }\n    return tallest;\n  }\n  @Override protected void processMouseEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\n    JSlider slider = l.getView();\n    if (e.getID() == MouseEvent.MOUSE_PRESSED) {\n      //case HORIZONTAL:\n\n      //recalculateIfInsetsChanged()\n      Insets insetCache = slider.getInsets();\n      Insets focusInsets = UIManager.getInsets(\"Slider.focusInsets\");\n      if (focusInsets == null) {\n        focusInsets = new Insets(2, 2, 2, 2); //magic number\n      }\n\n      //calculateFocusRect()\n      focusRect.x = insetCache.left;\n      focusRect.y = insetCache.top;\n      focusRect.width = slider.getWidth() - (insetCache.left + insetCache.right);\n      focusRect.height = slider.getHeight() - (insetCache.top + insetCache.bottom);\n\n      //calculateContentRect()\n      contentRect.x = focusRect.x + focusInsets.left;\n      contentRect.y = focusRect.y + focusInsets.top;\n      contentRect.width = focusRect.width - (focusInsets.left + focusInsets.right);\n      contentRect.height = focusRect.height - (focusInsets.top + focusInsets.bottom);\n\n      //calculateThumbSize()\n      Icon ti = UIManager.getIcon(\"Slider.horizontalThumbIcon\");\n      if (ti != null) {\n        thumbRect.width = ti.getIconWidth();\n        thumbRect.height = ti.getIconHeight();\n      }\n\n      //calculateTrackBuffer()\n      int trackBuffer = 9; //magic number, Windows: 9, Metal: 10 ...\n\n      //calculateTrackRect()\n      int centerSpacing = thumbRect.height;\n      if (slider.getPaintTicks())  centerSpacing += 8; //magic number getTickLength();\n      if (slider.getPaintLabels()) centerSpacing += getHeightOfTallestLabel(slider);\n      trackRect.x = contentRect.x + trackBuffer;\n      trackRect.y = contentRect.y + (contentRect.height - centerSpacing - 1) / 2;\n      trackRect.width = contentRect.width - (trackBuffer * 2);\n      trackRect.height = thumbRect.height;\n\n      //calculateThumbLocation()\n      int valuePosition = xPositionForValue(slider, slider.getValue());\n      thumbRect.x = valuePosition - (thumbRect.width / 2);\n      thumbRect.y = trackRect.y;\n      offset = e.getX() - thumbRect.x;\n    }\n  }\n  @Override protected void processMouseMotionEvent(MouseEvent e, JLayer&lt;? extends JSlider&gt; l) {\n    if (e.getID() == MouseEvent.MOUSE_DRAGGED) {\n      JSlider slider = l.getView();\n      //case HORIZONTAL:\n      int halfThumbWidth = thumbRect.width / 2;\n      int thumbLeft = e.getX() - offset;\n      int maxPos = xPositionForValue(slider, 80) - halfThumbWidth;\n      if (thumbLeft &gt; maxPos) {\n        e.consume();\n        SliderUI ui = slider.getUI();\n        if (ui instanceof BasicSliderUI) {\n          ((BasicSliderUI) ui).setThumbLocation(maxPos, thumbRect.y);\n        }\n        slider.getModel().setValue(80);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452383148,"creation_date":1452375826,"answer_id":34699281,"question_id":34561596,"body_markdown":"It seems there&#39;s really no way to do what I wanted in a way that will be consistent across different Look and Feel implementations. Tracing through the notifications and listeners of the JSlider, BasicSliderUI, and BoundedRangeModel it turns out that there is no way to force a recalculation of the thumb position through public methods and the base listener implementation specifically prevents this from happening when dragging or terminating the drag (mouse release). See update to original question for more.","title":"How can I prevent a JSlider from moving full-range?","body":"<p>It seems there's really no way to do what I wanted in a way that will be consistent across different Look and Feel implementations. Tracing through the notifications and listeners of the JSlider, BasicSliderUI, and BoundedRangeModel it turns out that there is no way to force a recalculation of the thumb position through public methods and the base listener implementation specifically prevents this from happening when dragging or terminating the drag (mouse release). See update to original question for more.</p>\n"},{"tags":[],"owner":{"account_id":26923114,"reputation":3,"user_id":20496791,"display_name":"DragoStarh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681447787,"creation_date":1681447787,"answer_id":76011689,"question_id":34561596,"body_markdown":"Hey I know this is a really old post but there is a method which might not have existed before called &quot;slider.setExtent(int value)&quot; It does exactly what you&#39;re looking for. It takes an int value that represents the value that is taken away from the max value of the JSlider. For example if I have a slider that goes from 0-100 and I use &quot;slider.setExtent(20)&quot; then the user will only be able to slide up to the value 80 in the JSlider and it won&#39;t let them slide past that. Hope this helps, sorry if this is poorly explained it is my first time answering a question on here.\r\n\r\nHere is the link that explains this better, this is where I discovered this:\r\nhttps://www.tutorialspoint.com/java-program-to-set-the-extent-in-jslider","title":"How can I prevent a JSlider from moving full-range?","body":"<p>Hey I know this is a really old post but there is a method which might not have existed before called &quot;slider.setExtent(int value)&quot; It does exactly what you're looking for. It takes an int value that represents the value that is taken away from the max value of the JSlider. For example if I have a slider that goes from 0-100 and I use &quot;slider.setExtent(20)&quot; then the user will only be able to slide up to the value 80 in the JSlider and it won't let them slide past that. Hope this helps, sorry if this is poorly explained it is my first time answering a question on here.</p>\n<p>Here is the link that explains this better, this is where I discovered this:\n<a href=\"https://www.tutorialspoint.com/java-program-to-set-the-extent-in-jslider\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java-program-to-set-the-extent-in-jslider</a></p>\n"}],"owner":{"account_id":1394557,"reputation":719,"user_id":1324599,"accept_rate":70,"display_name":"ags"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1264,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1681447787,"creation_date":1451696603,"question_id":34561596,"body_markdown":"I have an application where I want to use a `JSlider` for user input, representing a percentage of an absolute value.  \r\n Based on other variables, the minimum/maximum percentage value will be limited. I don&#39;t want to change the scale (min/max) of the `JSlider` itself (I want to preserve the full-range percentage scale). I created a `ChangeListener` that determines if the range needs to be limited, and when so, I call the `JSlider.setValue()` method with the appropriate (limited min/max) value. However, the `JSlider` itself does not reflect the value I&#39;ve set. If I query the value with `JSlider.getValue()` it returns what I would expect (the value I set).\r\n\r\nIs there a way to force the `JSlider` to only allow dragging the actual slider (thumb, knob) to a certain point, then stopping?\r\n\r\nUpdate:\r\n\r\nAfter spending too much time on this, I&#39;ve decided that the root problem is that I&#39;m misusing/abusing the JSlider in an unintended use model. Restricting the range of movement of the thumb to be less than the BoundedRangeModel range requires modification of the BasicSliderUI class. While the original solution proposed by *aterai* below does work, it requires overriding a SliderUI implementation class, impacting the portability and consistency of a plaf. So, either I have to find a different UI element or modify the JSlider BoundedRangeModel limits based on the other interdependent variable values. The downside of the latter is that the same thumb position will represent a different value based on the value of other user-editable parameters.","title":"How can I prevent a JSlider from moving full-range?","body":"<p>I have an application where I want to use a <code>JSlider</code> for user input, representing a percentage of an absolute value.<br>\n Based on other variables, the minimum/maximum percentage value will be limited. I don't want to change the scale (min/max) of the <code>JSlider</code> itself (I want to preserve the full-range percentage scale). I created a <code>ChangeListener</code> that determines if the range needs to be limited, and when so, I call the <code>JSlider.setValue()</code> method with the appropriate (limited min/max) value. However, the <code>JSlider</code> itself does not reflect the value I've set. If I query the value with <code>JSlider.getValue()</code> it returns what I would expect (the value I set).</p>\n\n<p>Is there a way to force the <code>JSlider</code> to only allow dragging the actual slider (thumb, knob) to a certain point, then stopping?</p>\n\n<p>Update:</p>\n\n<p>After spending too much time on this, I've decided that the root problem is that I'm misusing/abusing the JSlider in an unintended use model. Restricting the range of movement of the thumb to be less than the BoundedRangeModel range requires modification of the BasicSliderUI class. While the original solution proposed by <em>aterai</em> below does work, it requires overriding a SliderUI implementation class, impacting the portability and consistency of a plaf. So, either I have to find a different UI element or modify the JSlider BoundedRangeModel limits based on the other interdependent variable values. The downside of the latter is that the same thumb position will represent a different value based on the value of other user-editable parameters.</p>\n"},{"tags":["java","android","rx-java","rx-android"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1483715449,"post_id":41508408,"comment_id":70222774,"body_markdown":"Note: `1 / 0` triggers as `Error` not an `Exception` though that shouldn&#39;t matter here.","body":"Note: <code>1 &#47; 0</code> triggers as <code>Error</code> not an <code>Exception</code> though that shouldn&#39;t matter here."}],"answers":[{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1483716128,"creation_date":1483716128,"answer_id":41508728,"question_id":41508408,"body_markdown":"Keep in mind that `.doOnError()` catches the exception, does something with it *and then re-throws it*. If you want different behavior, use one of the `.onError*` methods.\r\n\r\nNow, the reason why the exception does not propagate to the caller in #1 but does in #2 is that you&#39;ve provided an error handler in #1, but not in #2, in which case the default is to propagate the exception.","title":"doOnError does not catch the exception","body":"<p>Keep in mind that <code>.doOnError()</code> catches the exception, does something with it <em>and then re-throws it</em>. If you want different behavior, use one of the <code>.onError*</code> methods.</p>\n\n<p>Now, the reason why the exception does not propagate to the caller in #1 but does in #2 is that you've provided an error handler in #1, but not in #2, in which case the default is to propagate the exception.</p>\n"},{"tags":[],"owner":{"account_id":1981904,"reputation":571,"user_id":1778299,"accept_rate":71,"display_name":"Tadhg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681447778,"creation_date":1681412037,"answer_id":76008909,"question_id":41508408,"body_markdown":"To complete Tassos&#39;s answer:\r\n\r\nRxJava does not allow exception &#39;bubbling&#39;. If an exception escapes the execution chain without getting caught, rather than propagate it up to your calling code, Rx will catch it and log an error message like `onErrorDropped\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: &lt;your exeception and message here&gt;`. See https://github.com/reactor/reactor-core/issues/2677\r\n\r\nAs Tassos said, the exception is rethrown from `doOnError()`. So if you use this functionality for error handling, you should remove the error from the chain, like so\r\n\r\n    Observable.from(items)\r\n        .map(this::invert)\r\n        .doOnError(t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()))\r\n        .onErrorResume(e -&gt; Mono.empty()) // Replace Mono.empty() with an alternative function if you want some behavior on error\r\n        .doOnNext(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i))\r\n        .subscribe();\r\n\r\nSee https://nickolasfisher.com/blog/Making-Sense-of-Mono-Error-Handling-in-Spring-Boot-WebfluxProject-Reactor for more details on how that onErrorX works","title":"doOnError does not catch the exception","body":"<p>To complete Tassos's answer:</p>\n<p>RxJava does not allow exception 'bubbling'. If an exception escapes the execution chain without getting caught, rather than propagate it up to your calling code, Rx will catch it and log an error message like <code>onErrorDropped reactor.core.Exceptions$ErrorCallbackNotImplemented: &lt;your exeception and message here&gt;</code>. See <a href=\"https://github.com/reactor/reactor-core/issues/2677\" rel=\"nofollow noreferrer\">https://github.com/reactor/reactor-core/issues/2677</a></p>\n<p>As Tassos said, the exception is rethrown from <code>doOnError()</code>. So if you use this functionality for error handling, you should remove the error from the chain, like so</p>\n<pre><code>Observable.from(items)\n    .map(this::invert)\n    .doOnError(t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()))\n    .onErrorResume(e -&gt; Mono.empty()) // Replace Mono.empty() with an alternative function if you want some behavior on error\n    .doOnNext(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i))\n    .subscribe();\n</code></pre>\n<p>See <a href=\"https://nickolasfisher.com/blog/Making-Sense-of-Mono-Error-Handling-in-Spring-Boot-WebfluxProject-Reactor\" rel=\"nofollow noreferrer\">https://nickolasfisher.com/blog/Making-Sense-of-Mono-Error-Handling-in-Spring-Boot-WebfluxProject-Reactor</a> for more details on how that onErrorX works</p>\n"}],"owner":{"account_id":5865787,"reputation":1694,"user_id":4619812,"accept_rate":64,"display_name":"thyago stall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11546,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":41508728,"answer_count":2,"score":15,"last_activity_date":1681447778,"creation_date":1483715053,"question_id":41508408,"body_markdown":"I am just getting started with RxJava, but maybe something did not click yet.\r\n\r\n**1.**\r\n\r\n    Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\r\n    Observable.from(items)\r\n            .map(this::invert)\r\n            .subscribe(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i), t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()));\r\n\r\n**2.**\r\n\r\n    Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\r\n    Observable.from(items)\r\n            .map(this::invert)\r\n            .doOnError(t -&gt; Log.d(LOG_TAG, &quot;Error: &quot; + t.getMessage()))\r\n            .doOnNext(i -&gt; Log.d(LOG_TAG, &quot;Inverted: &quot; + i))\r\n            .subscribe();\r\n\r\nThe `invert` function:\r\n\r\n    int invert(int i) {\r\n        return 1 / i;\r\n    }\r\n\r\nThe first executes normally, and when the exception is thrown the `onError` is executed. But on the other hand, the second does not work, so the exception is thrown all the way up to the calling method. \r\n\r\nWhat is the difference between the two blocks of code? ","title":"doOnError does not catch the exception","body":"<p>I am just getting started with RxJava, but maybe something did not click yet.</p>\n\n<p><strong>1.</strong></p>\n\n<pre><code>Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\nObservable.from(items)\n        .map(this::invert)\n        .subscribe(i -&gt; Log.d(LOG_TAG, \"Inverted: \" + i), t -&gt; Log.d(LOG_TAG, \"Error: \" + t.getMessage()));\n</code></pre>\n\n<p><strong>2.</strong></p>\n\n<pre><code>Integer[] items = {1, 2, 3, 0, 0, 4, 5, 6, 1};\nObservable.from(items)\n        .map(this::invert)\n        .doOnError(t -&gt; Log.d(LOG_TAG, \"Error: \" + t.getMessage()))\n        .doOnNext(i -&gt; Log.d(LOG_TAG, \"Inverted: \" + i))\n        .subscribe();\n</code></pre>\n\n<p>The <code>invert</code> function:</p>\n\n<pre><code>int invert(int i) {\n    return 1 / i;\n}\n</code></pre>\n\n<p>The first executes normally, and when the exception is thrown the <code>onError</code> is executed. But on the other hand, the second does not work, so the exception is thrown all the way up to the calling method. </p>\n\n<p>What is the difference between the two blocks of code? </p>\n"},{"tags":["java","eclipse","http","proxy","http-get"],"answers":[{"tags":[],"owner":{"account_id":3242625,"reputation":376,"user_id":4301614,"display_name":"michael - mlc"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574164933,"creation_date":1574164933,"answer_id":58933677,"question_id":58933418,"body_markdown":"As you said :\r\n\r\n&gt; I think I might be related to the proxy configuration at my workplace,  [...]\r\n\r\nYou should ask your **IT** how to use your companies proxy (or check your network settings, which might show you the proxy settings)\r\n\r\nAlso have a look here:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\r\n","title":"Connection timed out when trying to make a simple Http GET request","body":"<p>As you said :</p>\n\n<blockquote>\n  <p>I think I might be related to the proxy configuration at my workplace,  [...]</p>\n</blockquote>\n\n<p>You should ask your <strong>IT</strong> how to use your companies proxy (or check your network settings, which might show you the proxy settings)</p>\n\n<p>Also have a look here:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html</a></p>\n"},{"tags":[],"owner":{"account_id":8401265,"reputation":29,"user_id":6306383,"display_name":"vishal sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681447081,"creation_date":1681447081,"answer_id":76011642,"question_id":58933418,"body_markdown":"I faced similar issue while running Performance Test with 200 concurrent users for my java application and I was connected through evpn to my workplace network. I tried switching to a different network and it worked.\r\n\r\nThe issue occurred once the number of request reaches ~16K( this might be specific to my application), but switching to a different network and restarting my evpn worked for me.","title":"Connection timed out when trying to make a simple Http GET request","body":"<p>I faced similar issue while running Performance Test with 200 concurrent users for my java application and I was connected through evpn to my workplace network. I tried switching to a different network and it worked.</p>\n<p>The issue occurred once the number of request reaches ~16K( this might be specific to my application), but switching to a different network and restarting my evpn worked for me.</p>\n"}],"owner":{"account_id":11028106,"reputation":125,"user_id":8100304,"display_name":"Juan Antonio Rodr&#237;guez Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10389,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1681447081,"creation_date":1574164081,"question_id":58933418,"body_markdown":"I&#39;m trying to make a simple GET request: \r\n\r\n    https://www.google.com/search?q=stuff\r\n\r\n\r\nI&#39;ve used the Apache Http Lybrary:\r\n\r\n    import java.io.IOException;    \r\n    import org.apache.http.Header;\r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpHeaders;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.methods.CloseableHttpResponse;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.util.EntityUtils;\r\n    \r\n    public class INRIX {\r\n    \r\n    \tprivate final CloseableHttpClient httpClient = HttpClients.createDefault();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tINRIX inrix = new INRIX();\r\n    \r\n    \r\n    \t\ttry {\r\n    \t\t\tinrix.peticionGet();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tinrix.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate void close() throws IOException {\r\n    \t\thttpClient.close();\r\n    \t}\r\n    \r\n    \tprivate void peticionGet() throws Exception {\r\n    \r\n    \t\tHttpGet getRequest = new HttpGet(&quot;https://www.google.com/search?q=stuff&quot;);\r\n    \r\n    \t\t// Request Headers\r\n    \t\tgetRequest.addHeader(&quot;custom-key&quot;, &quot;stuff&quot;);\r\n    \t\tgetRequest.addHeader(HttpHeaders.USER_AGENT, &quot;Googlebot&quot;);\r\n    \r\n    \t\ttry (CloseableHttpResponse response = httpClient.execute(getRequest)) {\r\n    \r\n    \t\t\t// Get HttpResponse Status\r\n    \t\t\tSystem.out.println(response.getStatusLine().toString());\r\n    \r\n    \t\t\tHttpEntity entity = response.getEntity();\r\n    \t\t\tHeader headers = entity.getContentType();\r\n    \t\t\tSystem.out.println(headers);\r\n    \r\n    \t\t\tif (entity != null) {\r\n    \t\t\t\t// return it as a String\r\n    \t\t\t\tString result = EntityUtils.toString(entity);\r\n    \t\t\t\tSystem.out.println(result);\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (ClientProtocolException e) {\r\n    \t\t\tSystem.out.println(&quot;ClientProtocolException&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tSystem.out.println(&quot;IOException&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nAnd HttpURLConnection:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class INRIXURL {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tINRIXURL inrix = new INRIXURL();\r\n    \r\n    \t\tinrix.peticionGet();\r\n    \t}\r\n    \r\n    \tpublic void peticionGet() {\r\n    \r\n    \t\tString url = &quot;https://www.google.com/search?q=stuff&quot;;\r\n    \r\n    \t\tHttpURLConnection httpClient;\r\n    \t\ttry {\r\n    \t\t\thttpClient = (HttpURLConnection) new URL(url).openConnection();\r\n    \r\n    \t\t\t// optional default is GET\r\n    \t\t\thttpClient.setRequestMethod(&quot;GET&quot;);\r\n    \r\n    \t\t\t// add request header\r\n    \t\t\thttpClient.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n    \r\n    \t\t\tint responseCode = httpClient.getResponseCode();\r\n    \t\t\tSystem.out.println(&quot;\\nSending &#39;GET&#39; request to URL : &quot; + url);\r\n    \t\t\tSystem.out.println(&quot;Response Code : &quot; + responseCode);\r\n    \r\n    \t\t\ttry (BufferedReader in = new BufferedReader(new InputStreamReader(httpClient.getInputStream()))) {\r\n    \r\n    \t\t\t\tStringBuilder response = new StringBuilder();\r\n    \t\t\t\tString line;\r\n    \r\n    \t\t\t\twhile ((line = in.readLine()) != null) {\r\n    \t\t\t\t\tresponse.append(line);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t// print result\r\n    \t\t\t\tSystem.out.println(response.toString());\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nIn both cases I get timed out.\r\n\r\nError in the first case:\r\n\r\n&gt; org.apache.http.conn.HttpHostConnectException: Connect to\r\n&gt; www.google.com:443 [www.google.com/216.58.201.132] failed: Connection\r\n&gt; timed out: connect \tat\r\n&gt; org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n&gt; \tat connCarPackage.INRIX.peticionGet(INRIX.java:53) \tat\r\n&gt; connCarPackage.INRIX.main(INRIX.java:26) Caused by:\r\n&gt; java.net.ConnectException: Connection timed out: connect \tat\r\n&gt; java.net.DualStackPlainSocketImpl.connect0(Native Method) \tat\r\n&gt; java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.PlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.SocksSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.Socket.connect(Unknown Source) \tat\r\n&gt; org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\r\n&gt; \tat\r\n&gt; org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n&gt; \t... 11 more\r\n\r\nFor the second case:\r\n\r\n&gt; java.net.ConnectException: Connection timed out: connect \tat\r\n&gt; java.net.DualStackPlainSocketImpl.connect0(Native Method) \tat\r\n&gt; java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.PlainSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.SocksSocketImpl.connect(Unknown Source) \tat\r\n&gt; java.net.Socket.connect(Unknown Source) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.connect(Unknown Source) \tat\r\n&gt; sun.security.ssl.BaseSSLSocketImpl.connect(Unknown Source) \tat\r\n&gt; sun.net.NetworkClient.doConnect(Unknown Source) \tat\r\n&gt; sun.net.www.http.HttpClient.openServer(Unknown Source) \tat\r\n&gt; sun.net.www.http.HttpClient.openServer(Unknown Source) \tat\r\n&gt; sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(Unknown Source) \tat\r\n&gt; sun.net.www.protocol.https.HttpsClient.New(Unknown Source) \tat\r\n&gt; sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown\r\n&gt; Source) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown\r\n&gt; Source) \tat java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown\r\n&gt; Source) \tat urlConnection.INRIXURL.peticionGet(INRIXURL.java:31) \tat\r\n&gt; urlConnection.INRIXURL.main(INRIXURL.java:14)\r\n\r\nI think I might be related to the proxy configuration at my workplace, but I don&#39;t know how to check or fix it if that&#39;s the case or if I&#39;m just not doing the request properly. I noticed that I can&#39;t ping sites or machines outside the company network but I don&#39;t know if it is related.\r\n\r\nAlso using [https://reqbin.com/][1] the request works fine and I can browse without problems.\r\n\r\n\r\n  [1]: https://reqbin.com/","title":"Connection timed out when trying to make a simple Http GET request","body":"<p>I'm trying to make a simple GET request: </p>\n\n<pre><code>https://www.google.com/search?q=stuff\n</code></pre>\n\n<p>I've used the Apache Http Lybrary:</p>\n\n<pre><code>import java.io.IOException;    \nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n\npublic class INRIX {\n\n    private final CloseableHttpClient httpClient = HttpClients.createDefault();\n\n    public static void main(String[] args) {\n\n        INRIX inrix = new INRIX();\n\n\n        try {\n            inrix.peticionGet();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                inrix.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n\n    private void close() throws IOException {\n        httpClient.close();\n    }\n\n    private void peticionGet() throws Exception {\n\n        HttpGet getRequest = new HttpGet(\"https://www.google.com/search?q=stuff\");\n\n        // Request Headers\n        getRequest.addHeader(\"custom-key\", \"stuff\");\n        getRequest.addHeader(HttpHeaders.USER_AGENT, \"Googlebot\");\n\n        try (CloseableHttpResponse response = httpClient.execute(getRequest)) {\n\n            // Get HttpResponse Status\n            System.out.println(response.getStatusLine().toString());\n\n            HttpEntity entity = response.getEntity();\n            Header headers = entity.getContentType();\n            System.out.println(headers);\n\n            if (entity != null) {\n                // return it as a String\n                String result = EntityUtils.toString(entity);\n                System.out.println(result);\n            }\n\n        } catch (ClientProtocolException e) {\n            System.out.println(\"ClientProtocolException\");\n            e.printStackTrace();\n        } catch (IOException e) {\n            System.out.println(\"IOException\");\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n\n<p>And HttpURLConnection:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class INRIXURL {\n\n    public static void main(String[] args) {\n        INRIXURL inrix = new INRIXURL();\n\n        inrix.peticionGet();\n    }\n\n    public void peticionGet() {\n\n        String url = \"https://www.google.com/search?q=stuff\";\n\n        HttpURLConnection httpClient;\n        try {\n            httpClient = (HttpURLConnection) new URL(url).openConnection();\n\n            // optional default is GET\n            httpClient.setRequestMethod(\"GET\");\n\n            // add request header\n            httpClient.setRequestProperty(\"User-Agent\", \"Mozilla/5.0\");\n\n            int responseCode = httpClient.getResponseCode();\n            System.out.println(\"\\nSending 'GET' request to URL : \" + url);\n            System.out.println(\"Response Code : \" + responseCode);\n\n            try (BufferedReader in = new BufferedReader(new InputStreamReader(httpClient.getInputStream()))) {\n\n                StringBuilder response = new StringBuilder();\n                String line;\n\n                while ((line = in.readLine()) != null) {\n                    response.append(line);\n                }\n\n                // print result\n                System.out.println(response.toString());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>In both cases I get timed out.</p>\n\n<p>Error in the first case:</p>\n\n<blockquote>\n  <p>org.apache.http.conn.HttpHostConnectException: Connect to\n  www.google.com:443 [www.google.com/216.58.201.132] failed: Connection\n  timed out: connect    at\n  org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\n    at\n  org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:374)\n    at\n  org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at\n  org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at\n  org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at\n  org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at\n  org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at\n  org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at\n  org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at\n  org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at connCarPackage.INRIX.peticionGet(INRIX.java:53)  at\n  connCarPackage.INRIX.main(INRIX.java:26) Caused by:\n  java.net.ConnectException: Connection timed out: connect  at\n  java.net.DualStackPlainSocketImpl.connect0(Native Method)     at\n  java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)   at\n  java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)    at\n  java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)     at\n  java.net.AbstractPlainSocketImpl.connect(Unknown Source)  at\n  java.net.PlainSocketImpl.connect(Unknown Source)  at\n  java.net.SocksSocketImpl.connect(Unknown Source)  at\n  java.net.Socket.connect(Unknown Source)   at\n  org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\n    at\n  org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    ... 11 more</p>\n</blockquote>\n\n<p>For the second case:</p>\n\n<blockquote>\n  <p>java.net.ConnectException: Connection timed out: connect  at\n  java.net.DualStackPlainSocketImpl.connect0(Native Method)     at\n  java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)   at\n  java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)    at\n  java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)     at\n  java.net.AbstractPlainSocketImpl.connect(Unknown Source)  at\n  java.net.PlainSocketImpl.connect(Unknown Source)  at\n  java.net.SocksSocketImpl.connect(Unknown Source)  at\n  java.net.Socket.connect(Unknown Source)   at\n  sun.security.ssl.SSLSocketImpl.connect(Unknown Source)    at\n  sun.security.ssl.BaseSSLSocketImpl.connect(Unknown Source)    at\n  sun.net.NetworkClient.doConnect(Unknown Source)   at\n  sun.net.www.http.HttpClient.openServer(Unknown Source)    at\n  sun.net.www.http.HttpClient.openServer(Unknown Source)    at\n  sun.net.www.protocol.https.HttpsClient.(Unknown Source)     at\n  sun.net.www.protocol.https.HttpsClient.New(Unknown Source)    at\n  sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.plainConnect0(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown\n  Source)   at\n  sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.getInputStream0(Unknown\n  Source)   at\n  sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown\n  Source)   at java.net.HttpURLConnection.getResponseCode(Unknown Source)\n    at\n  sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(Unknown\n  Source)   at urlConnection.INRIXURL.peticionGet(INRIXURL.java:31)     at\n  urlConnection.INRIXURL.main(INRIXURL.java:14)</p>\n</blockquote>\n\n<p>I think I might be related to the proxy configuration at my workplace, but I don't know how to check or fix it if that's the case or if I'm just not doing the request properly. I noticed that I can't ping sites or machines outside the company network but I don't know if it is related.</p>\n\n<p>Also using <a href=\"https://reqbin.com/\" rel=\"nofollow noreferrer\">https://reqbin.com/</a> the request works fine and I can browse without problems.</p>\n"},{"tags":["java","oauth-2.0","azure-active-directory","smtp","office365"],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681446541,"creation_date":1681130702,"question_id":75977242,"body_markdown":"I could able to access mailbox using IMAP protocol and client credentials flow but if I try to send mail then it got failed with exception:\r\n\r\n```\r\n535 5.7.3 Authentication unsuccessful [PN2PR01CA0190.INDPRD01.PROD.OUTLOOK.COM 2023-04-10T11:36:49.717Z 08DB38497E3FD62E]\r\n\r\n\tat com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)\r\n\tat com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)\r\n\tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)\r\n\tat jakarta.mail.Service.connect(Service.java:364)\r\n\tat jakarta.mail.Service.connect(Service.java:222)\r\n\tat jakarta.mail.Service.connect(Service.java:171)\r\n```\r\n\r\n\r\nI am sure that on Azure app I have added `SMTP.SendAsApp` permission and admin grant is also given to the permission. Also by using power shell I have also given mailbox permission to application&#39;s service principle with access rights as `FullAccess`.\r\n\r\nAfter little bit googling about the problem, I come across [this](https://stackoverflow.com/questions/73558889/azure-ad-service-principal-client-credentials-grant-authenticate-failed-accessin?rq=3), [this](https://stackoverflow.com/questions/73543343/office365-smtp-with-oauth2-client-credentials-flow-returns-authentication-unsuc) and even some post from Microsoft mentions that [this URL](https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth#smtp-protocol-exchange) states that SMTP + client credentials flow is not supported but now I visit the URL then there is nothing any such thing mentioned by Microsoft, which is creating confusing state, whether I am doing something wrong that&#39;s why getting above exception or still SMTP with client credentials flow is not supported?","title":"Microsoft Exchnage SMTP AUTH using client credentials flow","body":"<p>I could able to access mailbox using IMAP protocol and client credentials flow but if I try to send mail then it got failed with exception:</p>\n<pre><code>535 5.7.3 Authentication unsuccessful [PN2PR01CA0190.INDPRD01.PROD.OUTLOOK.COM 2023-04-10T11:36:49.717Z 08DB38497E3FD62E]\n\n    at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947)\n    at com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762)\n    at jakarta.mail.Service.connect(Service.java:364)\n    at jakarta.mail.Service.connect(Service.java:222)\n    at jakarta.mail.Service.connect(Service.java:171)\n</code></pre>\n<p>I am sure that on Azure app I have added <code>SMTP.SendAsApp</code> permission and admin grant is also given to the permission. Also by using power shell I have also given mailbox permission to application's service principle with access rights as <code>FullAccess</code>.</p>\n<p>After little bit googling about the problem, I come across <a href=\"https://stackoverflow.com/questions/73558889/azure-ad-service-principal-client-credentials-grant-authenticate-failed-accessin?rq=3\">this</a>, <a href=\"https://stackoverflow.com/questions/73543343/office365-smtp-with-oauth2-client-credentials-flow-returns-authentication-unsuc\">this</a> and even some post from Microsoft mentions that <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/legacy-protocols/how-to-authenticate-an-imap-pop-smtp-application-by-using-oauth#smtp-protocol-exchange\" rel=\"nofollow noreferrer\">this URL</a> states that SMTP + client credentials flow is not supported but now I visit the URL then there is nothing any such thing mentioned by Microsoft, which is creating confusing state, whether I am doing something wrong that's why getting above exception or still SMTP with client credentials flow is not supported?</p>\n"},{"tags":["java","android"],"owner":{"account_id":26488482,"reputation":104,"user_id":20126668,"display_name":"Best Thinking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681446419,"creation_date":1681015987,"question_id":75968829,"body_markdown":"I am applying data in listview with the help of given code.\r\n\r\n     final ListView listNames = (ListView) findViewById(R.id.listNamesId);\r\n        final TextView namesText = (TextView) findViewById(R.id.namesTexter);\r\n        final ArrayAdapter&lt;String&gt; adapterNames1 = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, new ArrayList&lt;String&gt;());\r\n        listNames.setAdapter(adapterNames);\r\n      button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(!namesText.getText().toString().isEmpty()){\r\n                    adapterNames.add(namesText.getText().toString());\r\n                    namesText.setText(&quot;&quot;);\r\n                    adapterNames.notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\nWhen the button is clicked, the data has put to the list view and \r\nFor scroll a listview i use this code that work fine.\r\n\r\n       public void timerDelayRunForScroll(long time) {\r\n        Handler handler = new Handler();\r\n        handler.postDelayed(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    int h1 = listNamesId.getHeight();\r\n                    int h2 = listNamesId.getHeight();\r\n\r\n                    listNamesId.smoothScrollToPositionFromTop(5, h1/2 - h2/2, 500);\r\n\r\n                } catch (Exception e) {}\r\n            }\r\n        }, time);\r\n    }\r\n\r\nBut i want to select every Listview Item one by one through timer count and put Listview Item text to a textview. My question is how can we select items of list view one by one with timer count and show the selected item text in a Textview.?\r\n ","title":"How to auto select Listview Item through Timer and put Listview Item text in Textview","body":"<p>I am applying data in listview with the help of given code.</p>\n<pre><code> final ListView listNames = (ListView) findViewById(R.id.listNamesId);\n    final TextView namesText = (TextView) findViewById(R.id.namesTexter);\n    final ArrayAdapter&lt;String&gt; adapterNames1 = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, new ArrayList&lt;String&gt;());\n    listNames.setAdapter(adapterNames);\n  button2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(!namesText.getText().toString().isEmpty()){\n                adapterNames.add(namesText.getText().toString());\n                namesText.setText(&quot;&quot;);\n                adapterNames.notifyDataSetChanged();\n            }\n        }\n    });\n</code></pre>\n<p>When the button is clicked, the data has put to the list view and\nFor scroll a listview i use this code that work fine.</p>\n<pre><code>   public void timerDelayRunForScroll(long time) {\n    Handler handler = new Handler();\n    handler.postDelayed(new Runnable() {\n        public void run() {\n            try {\n                int h1 = listNamesId.getHeight();\n                int h2 = listNamesId.getHeight();\n\n                listNamesId.smoothScrollToPositionFromTop(5, h1/2 - h2/2, 500);\n\n            } catch (Exception e) {}\n        }\n    }, time);\n}\n</code></pre>\n<p>But i want to select every Listview Item one by one through timer count and put Listview Item text to a textview. My question is how can we select items of list view one by one with timer count and show the selected item text in a Textview.?</p>\n"},{"tags":["java","xml","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"score":0,"creation_date":1504633575,"post_id":46060590,"comment_id":79081645,"body_markdown":"Possible duplicate of [How to use XML configuration for named queries in Spring data JPA?](https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa\">How to use XML configuration for named queries in Spring data JPA?</a>"},{"owner":{"account_id":4654003,"reputation":653,"user_id":3770020,"accept_rate":63,"display_name":"Anusha"},"score":0,"creation_date":1504633665,"post_id":46060590,"comment_id":79081689,"body_markdown":"Yes, I have come across this question. But like I mentioned, I do not have a `META-INF` folder, and I am very much confused as to where these `properties/ xml` files have to be stored. @Todd","body":"Yes, I have come across this question. But like I mentioned, I do not have a <code>META-INF</code> folder, and I am very much confused as to where these <code>properties&#47; xml</code> files have to be stored. @Todd"},{"owner":{"account_id":4323464,"reputation":6780,"user_id":3530898,"display_name":"Amit K Bist"},"score":1,"creation_date":1504635300,"post_id":46060590,"comment_id":79082406,"body_markdown":"Please check github example at https://github.com/eclipse/examples/tree/master/jpa/employee.dynamic/src/main/resources/META-INF and http://webdev.jhuep.com/~jcs/ejava-javaee/coursedocs/605-784-site/docs/content/html/hibernate-migration-orm.html, if META-INF is not present then you have to create it.","body":"Please check github example at <a href=\"https://github.com/eclipse/examples/tree/master/jpa/employee.dynamic/src/main/resources/META-INF\" rel=\"nofollow noreferrer\">github.com/eclipse/examples/tree/master/jpa/employee.dynamic&zwnj;&#8203;/&hellip;</a> and <a href=\"http://webdev.jhuep.com/~jcs/ejava-javaee/coursedocs/605-784-site/docs/content/html/hibernate-migration-orm.html\" rel=\"nofollow noreferrer\">webdev.jhuep.com/~jcs/ejava-javaee/coursedocs/605-784-site/d&zwnj;&#8203;ocs/&hellip;</a>, if META-INF is not present then you have to create it."}],"answers":[{"tags":[],"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1504634601,"creation_date":1504634601,"answer_id":46060898,"question_id":46060590,"body_markdown":"Create `META-INF` inside `resources` folder . Now create `jpa-named-queries.properties` file inside that `META-INF` folder.\r\n\r\nWrite your query inside this properties file like this:\r\n\r\n`Customer.findAllCustomerByNamedQuery=Select c from Customer c`\r\n\r\nWhere `Customer` denote name of entity class and `findAllCustomerByNamedQuery` is the query name\r\n\r\nIn your customer repository write this to call your query written in properties file:\r\n\r\n`List&lt;Customer&gt; findAllCustomerByNamedQuery();`\r\n\r\n","title":"Externalize query in spring boot application","body":"<p>Create <code>META-INF</code> inside <code>resources</code> folder . Now create <code>jpa-named-queries.properties</code> file inside that <code>META-INF</code> folder.</p>\n\n<p>Write your query inside this properties file like this:</p>\n\n<p><code>Customer.findAllCustomerByNamedQuery=Select c from Customer c</code></p>\n\n<p>Where <code>Customer</code> denote name of entity class and <code>findAllCustomerByNamedQuery</code> is the query name</p>\n\n<p>In your customer repository write this to call your query written in properties file:</p>\n\n<p><code>List&lt;Customer&gt; findAllCustomerByNamedQuery();</code></p>\n"},{"tags":[],"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681445840,"creation_date":1681445840,"answer_id":76011556,"question_id":46060590,"body_markdown":"There is possibility to use named queries from [spring data jpa][1].\r\n\r\n\r\n     &lt;named-query name=&quot;MyData.ultimateFind&quot;&gt;\r\n        &lt;query&gt;select d from MyData d where d.column3 = ?1&lt;/query&gt;\r\n     &lt;/named-query&gt;\r\n\r\nTo bind it with repository method, your repository class can look like this:\r\n\r\n    public interface MyDataRepository extends JpaRepository&lt;MyData, Long&gt; {\r\n      List&lt;User&gt; ultimateFind(String dataForColumn3);   \r\n    }\r\n\r\nOther approach (more sexy, but as of now, [having problem with java 17][2]) is to use [spring-native-query][3], which reads sql filed from resources. It allows you to have custom repository type with nice bindings directly to sql files (also with conditional parts of sql if needed.).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\r\n  [2]: https://github.com/gasparbarancelli/spring-native-query/issues/46\r\n  [3]: https://gasparbarancelli.github.io/spring-native-query/","title":"Externalize query in spring boot application","body":"<p>There is possibility to use named queries from <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\" rel=\"nofollow noreferrer\">spring data jpa</a>.</p>\n<pre><code> &lt;named-query name=&quot;MyData.ultimateFind&quot;&gt;\n    &lt;query&gt;select d from MyData d where d.column3 = ?1&lt;/query&gt;\n &lt;/named-query&gt;\n</code></pre>\n<p>To bind it with repository method, your repository class can look like this:</p>\n<pre><code>public interface MyDataRepository extends JpaRepository&lt;MyData, Long&gt; {\n  List&lt;User&gt; ultimateFind(String dataForColumn3);   \n}\n</code></pre>\n<p>Other approach (more sexy, but as of now, <a href=\"https://github.com/gasparbarancelli/spring-native-query/issues/46\" rel=\"nofollow noreferrer\">having problem with java 17</a>) is to use <a href=\"https://gasparbarancelli.github.io/spring-native-query/\" rel=\"nofollow noreferrer\">spring-native-query</a>, which reads sql filed from resources. It allows you to have custom repository type with nice bindings directly to sql files (also with conditional parts of sql if needed.).</p>\n"}],"owner":{"account_id":4654003,"reputation":653,"user_id":3770020,"accept_rate":63,"display_name":"Anusha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4616,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":46060898,"answer_count":2,"score":6,"last_activity_date":1681445840,"creation_date":1504633286,"question_id":46060590,"body_markdown":"I am using `spring-boot 1.5.6 RELEASE`. I want to do a basic thing, move my queries from the `@Query` annotation in the repository to any xml file. \r\n\r\nAfter some reading, I figured out that we can use `orm.xml` or `jpa-named-queries.properties` to write my custom query.\r\n\r\nI don&#39;t understand the file structure as to where these XML files have to be present. And I don&#39;t have a `META-INF` folder in my project.\r\n\r\nExample:\r\n\r\nPOJO Class:\r\n\r\n    @Entity\r\n    public Class Customer {\r\n\r\n    private int id;\r\n    private String name;\r\n    \r\n    // getters and setters\r\n    }\r\n\r\nRepository:\r\n\r\n    public interface CustomerRepository extends PagingAndSortingRepository&lt;Customer,Integer&gt; {\r\n    \r\n    // this query I need from an external xml file as it might be quite complex in terms of joins\r\n    @Query(&quot;Select cust from Customers cust&quot;)\r\n    public List&lt;Customer&gt; findAllCustomers();\r\n    \r\n    }\r\n\r\nEDIT: Referred to [this stackoverflow question][1]. I need to know where these files (`orm.xml` and `persistence.xml`) need to be stored as I don&#39;t have a `META-INF` folder.\r\n\r\nThanks in advance!!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa","title":"Externalize query in spring boot application","body":"<p>I am using <code>spring-boot 1.5.6 RELEASE</code>. I want to do a basic thing, move my queries from the <code>@Query</code> annotation in the repository to any xml file. </p>\n\n<p>After some reading, I figured out that we can use <code>orm.xml</code> or <code>jpa-named-queries.properties</code> to write my custom query.</p>\n\n<p>I don't understand the file structure as to where these XML files have to be present. And I don't have a <code>META-INF</code> folder in my project.</p>\n\n<p>Example:</p>\n\n<p>POJO Class:</p>\n\n<pre><code>@Entity\npublic Class Customer {\n\nprivate int id;\nprivate String name;\n\n// getters and setters\n}\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>public interface CustomerRepository extends PagingAndSortingRepository&lt;Customer,Integer&gt; {\n\n// this query I need from an external xml file as it might be quite complex in terms of joins\n@Query(\"Select cust from Customers cust\")\npublic List&lt;Customer&gt; findAllCustomers();\n\n}\n</code></pre>\n\n<p>EDIT: Referred to <a href=\"https://stackoverflow.com/questions/24931248/how-to-use-xml-configuration-for-named-queries-in-spring-data-jpa\">this stackoverflow question</a>. I need to know where these files (<code>orm.xml</code> and <code>persistence.xml</code>) need to be stored as I don't have a <code>META-INF</code> folder.</p>\n\n<p>Thanks in advance!!</p>\n"},{"tags":["java","while-loop","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":20051595,"reputation":155,"user_id":14700182,"display_name":"Benevos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681445767,"creation_date":1681443713,"answer_id":76011439,"question_id":76011391,"body_markdown":"&lt;!-- lang java --&gt;\r\n\r\nInitialize means it needs to have an initial value, like this:\r\n\r\n    int birthDay = 0;\r\n\r\nSo the only thing you need is to add a value to your variable\r\n\r\n**EDIT:** try out this code\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class MyStarSign \r\n    {\r\n    \r\n        public static void main(String[] args) \r\n        {\r\n    \r\n            Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\r\n            System.out.println(&quot;What month were you born?&quot;);\r\n    \r\n            String birthMonth = &quot;&quot;;\r\n    \r\n            birthMonth= myScanner.next();  // Read user input\r\n    \r\n            System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\r\n    \r\n            System.out.println(&quot;What day of the month were you born?&quot;);\r\n    \r\n            int birthDay = 0;\r\n    \r\n            while (birthDay &gt; 31) \r\n            {\r\n    \r\n                System.out.println(&quot;Please enter a valid day of the month&quot;);\r\n    \r\n                birthDay = myScanner.nextInt();\r\n    \r\n            }\r\n        }\r\n    }\r\n    ","title":"Java: Trying to use a while loop to check scanner input for an int variable, not sure how to initialize the variable?","body":"\n<p>Initialize means it needs to have an initial value, like this:</p>\n<pre><code>int birthDay = 0;\n</code></pre>\n<p>So the only thing you need is to add a value to your variable</p>\n<p><strong>EDIT:</strong> try out this code</p>\n<pre><code>import java.util.Scanner;\n\npublic class MyStarSign \n{\n\n    public static void main(String[] args) \n    {\n\n        Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\n        System.out.println(&quot;What month were you born?&quot;);\n\n        String birthMonth = &quot;&quot;;\n\n        birthMonth= myScanner.next();  // Read user input\n\n        System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\n\n        System.out.println(&quot;What day of the month were you born?&quot;);\n\n        int birthDay = 0;\n\n        while (birthDay &gt; 31) \n        {\n\n            System.out.println(&quot;Please enter a valid day of the month&quot;);\n\n            birthDay = myScanner.nextInt();\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28300548,"reputation":1,"user_id":21639288,"display_name":"Nitin Magadum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681444977,"creation_date":1681443827,"answer_id":76011443,"question_id":76011391,"body_markdown":"```java\r\npublic static void main(String[] args) {\r\n\r\n\tScanner myScanner = new Scanner(System.in);  // Create a Scanner object\r\n\tSystem.out.println(&quot;What month were you born?&quot;);\r\n\r\n\tString birthMonth = &quot;&quot;;\r\n\r\n\tbirthMonth= myScanner.next();  // Read user input\r\n\r\n\tSystem.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\r\n\tSystem.out.println(&quot;What day of the month were you born?&quot;);\r\n\r\n\tint birthDay;\r\n\tbirthDay = myScanner.nextInt();\r\n\r\n\twhile (birthDay &gt; 31) {\r\n\t\tSystem.out.println(&quot;Please enter a valid day of the month&quot;);\r\n\t\tbirthDay = myScanner.nextInt();\r\n\t}\r\n}\r\n```","title":"Java: Trying to use a while loop to check scanner input for an int variable, not sure how to initialize the variable?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\n    System.out.println(&quot;What month were you born?&quot;);\n\n    String birthMonth = &quot;&quot;;\n\n    birthMonth= myScanner.next();  // Read user input\n\n    System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\n    System.out.println(&quot;What day of the month were you born?&quot;);\n\n    int birthDay;\n    birthDay = myScanner.nextInt();\n\n    while (birthDay &gt; 31) {\n        System.out.println(&quot;Please enter a valid day of the month&quot;);\n        birthDay = myScanner.nextInt();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28300417,"reputation":9,"user_id":21639182,"display_name":"dietCokeIsTheDevil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681445767,"creation_date":1681442792,"question_id":76011391,"body_markdown":"This is one of the first programs I&#39;ve written on my own. I&#39;m writing a program to tell you what your zodiac sign is, and I got the program to run with a scanner method that I imported, but the problem I&#39;m running into is now that I&#39;m trying to check user input using a while loop, it&#39;s not running as I intended and as I compile my code the error I&#39;m running into is that my variable of type int is not initialized. I wrote it when declaring it with no assigned value, and I&#39;m unsure of what I should be assigning it to fix this issue.\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class MyStarSign {\r\n\r\n    public static void main(String[] args) {\r\n\r\n    Scanner myScanner = new Scanner(System.in);  // Create a Scanner object\r\n    System.out.println(&quot;What month were you born?&quot;);\r\n\r\n    String birthMonth = &quot;&quot;;\r\n\r\n        \r\n\r\n    birthMonth= myScanner.next();  // Read user input\r\n\r\n\r\n\r\n    System.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\r\n\r\n    System.out.println(&quot;What day of the month were you born?&quot;);\r\n\r\n    int birthDay;\r\n\r\n        while (birthDay &gt; 31) {\r\n\r\n            System.out.println(&quot;Please enter a valid day of the month&quot;);\r\n\r\n            birthDay = myScanner.nextInt();\r\n        \r\n        }\r\n\r\nThis is what my code looks like as of right now ^^\r\n\r\nNow for my attempted solution:\r\n\r\nint birthDay = myScanner.nextInt();\r\n\r\n        while (birthDay &gt; 31) {\r\n\r\n            System.out.println(&quot;Please enter a valid day of the month&quot;);\r\n\r\n            birthDay = myScanner.nextInt();\r\n        \r\n        }\r\n\r\nThis was what I attempted to fix the issue, though I&#39;m running into the same issue again when compiling my code","title":"Java: Trying to use a while loop to check scanner input for an int variable, not sure how to initialize the variable?","body":"<p>This is one of the first programs I've written on my own. I'm writing a program to tell you what your zodiac sign is, and I got the program to run with a scanner method that I imported, but the problem I'm running into is now that I'm trying to check user input using a while loop, it's not running as I intended and as I compile my code the error I'm running into is that my variable of type int is not initialized. I wrote it when declaring it with no assigned value, and I'm unsure of what I should be assigning it to fix this issue.</p>\n<p>import java.util.Scanner;</p>\n<p>public class MyStarSign {</p>\n<pre><code>public static void main(String[] args) {\n\nScanner myScanner = new Scanner(System.in);  // Create a Scanner object\nSystem.out.println(&quot;What month were you born?&quot;);\n\nString birthMonth = &quot;&quot;;\n\n    \n\nbirthMonth= myScanner.next();  // Read user input\n\n\n\nSystem.out.println(&quot;You were born in &quot; + birthMonth + &quot;?&quot;);  // Output user input\n\nSystem.out.println(&quot;What day of the month were you born?&quot;);\n\nint birthDay;\n\n    while (birthDay &gt; 31) {\n\n        System.out.println(&quot;Please enter a valid day of the month&quot;);\n\n        birthDay = myScanner.nextInt();\n    \n    }\n</code></pre>\n<p>This is what my code looks like as of right now ^^</p>\n<p>Now for my attempted solution:</p>\n<p>int birthDay = myScanner.nextInt();</p>\n<pre><code>    while (birthDay &gt; 31) {\n\n        System.out.println(&quot;Please enter a valid day of the month&quot;);\n\n        birthDay = myScanner.nextInt();\n    \n    }\n</code></pre>\n<p>This was what I attempted to fix the issue, though I'm running into the same issue again when compiling my code</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":261035,"reputation":6348,"user_id":544963,"accept_rate":100,"display_name":"fireshadow52"},"score":1,"creation_date":1681436809,"post_id":76010976,"comment_id":134059898,"body_markdown":"If I understand correctly, you&#39;re asking how to remove a word and its leading/trailing comma (if there is one)?","body":"If I understand correctly, you&#39;re asking how to remove a word and its leading/trailing comma (if there is one)?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681436863,"post_id":76010976,"comment_id":134059903,"body_markdown":"Apparently, it could be trailing coma if the first word, leading comma if the last word, and either comma if an &quot;in-between&quot; word.","body":"Apparently, it could be trailing coma if the first word, leading comma if the last word, and either comma if an &quot;in-between&quot; word."},{"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"score":0,"creation_date":1681437092,"post_id":76010976,"comment_id":134059919,"body_markdown":"Sorry ,I didn&#39;t make the question clear.What I want to do is replace &quot;Tom,&quot;  or &quot;,Jerry&quot; in one line of code.But the position of comma is different.Is there an regular expression can use?","body":"Sorry ,I didn&#39;t make the question clear.What I want to do is replace &quot;Tom,&quot;  or &quot;,Jerry&quot; in one line of code.But the position of comma is different.Is there an regular expression can use?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1681437182,"post_id":76010976,"comment_id":134059933,"body_markdown":"What have you tried? Please see the [Tour](https://stackoverflow.com/tour) and [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask)","body":"What have you tried? Please see the <a href=\"https://stackoverflow.com/tour\">Tour</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681437326,"post_id":76010976,"comment_id":134059946,"body_markdown":"You may edit the question to include that information. While you are at it, I suggest changing the title.  One possibility is &quot;Looking for Regex to replace or remove, from a String, a word and its delimiter.&quot;","body":"You may edit the question to include that information. While you are at it, I suggest changing the title.  One possibility is &quot;Looking for Regex to replace or remove, from a String, a word and its delimiter.&quot;"},{"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"score":0,"creation_date":1681438288,"post_id":76010976,"comment_id":134060011,"body_markdown":"OK, thanks for your suggestion.I go to the right way with your help after my first question in StackOverFlow.I value this.Thank you so much.","body":"OK, thanks for your suggestion.I go to the right way with your help after my first question in StackOverFlow.I value this.Thank you so much."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681444306,"post_id":76010976,"comment_id":134060538,"body_markdown":"If the string is `Tom` alone (so no comma, neither before nor after), do you want the empty string as result? Or something else?","body":"If the string is <code>Tom</code> alone (so no comma, neither before nor after), do you want the empty string as result? Or something else?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681445518,"post_id":76010976,"comment_id":134060667,"body_markdown":"You may use `str.replaceFirst(&quot;Tom,|,Tom|Tom&quot;, &quot;&quot;)`. This turns `Tom,Jerry,Brady` into `Jerry,Brady`, `Brady,Tom,Jerry` into `Brady,Jerry`, `Jerry,Brady,Tom`  into `Jerry,Brady` and `Tom` alone into the empty string. Assuming that the name to remove can change, build the string `Tom,|,Tom|Tom` from `name + &quot;,|,&quot; + name + &quot;|&quot; + name`.","body":"You may use <code>str.replaceFirst(&quot;Tom,|,Tom|Tom&quot;, &quot;&quot;)</code>. This turns <code>Tom,Jerry,Brady</code> into <code>Jerry,Brady</code>, <code>Brady,Tom,Jerry</code> into <code>Brady,Jerry</code>, <code>Jerry,Brady,Tom</code>  into <code>Jerry,Brady</code> and <code>Tom</code> alone into the empty string. Assuming that the name to remove can change, build the string <code>Tom,|,Tom|Tom</code> from <code>name + &quot;,|,&quot; + name + &quot;|&quot; + name</code>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681437174,"creation_date":1681437174,"answer_id":76011023,"question_id":76010976,"body_markdown":"You can use `replaceAll` with a regular expression to match the word followed by a comma, with a special case for the last word where we would have to remove a leading comma.\r\n\r\n```java\r\nvar word = Pattern.quote(&quot;Tom&quot;); // in case there are special characters\r\nstr = str.replaceAll(&quot;,&quot; + word + &quot;$|\\\\b&quot; + word + &quot;,&quot;, &quot;&quot;);\r\n```","title":"How can I remove a word and a comma which I don&#39;t know where it is?","body":"<p>You can use <code>replaceAll</code> with a regular expression to match the word followed by a comma, with a special case for the last word where we would have to remove a leading comma.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var word = Pattern.quote(&quot;Tom&quot;); // in case there are special characters\nstr = str.replaceAll(&quot;,&quot; + word + &quot;$|\\\\b&quot; + word + &quot;,&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681437198,"creation_date":1681437198,"answer_id":76011025,"question_id":76010976,"body_markdown":"No doubt the other folks here will have a much better and simpler way of accomplishing this, but one way that is fairly basic, easy to modify, and doesn&#39;t require you to know regex/Java Streams is something like this:\r\n\r\n\t\tString  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\r\n        List&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(str.split(&quot;,&quot;)));  // split the string into pieces based on the , character\r\n        list.remove(&quot;Tom&quot;);  // remove your target string from the array, if it exists at all\r\n        str = String.join(&quot;,&quot;, list);  // re-join the remaining elements of the array using the , character\r\n\r\nI don&#39;t think this will be the most performant option available to you, so depending on your use case, it may or may not be appropriate, but hopefully it at least makes sense.  ","title":"How can I remove a word and a comma which I don&#39;t know where it is?","body":"<p>No doubt the other folks here will have a much better and simpler way of accomplishing this, but one way that is fairly basic, easy to modify, and doesn't require you to know regex/Java Streams is something like this:</p>\n<pre><code>    String  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\n    List&lt;String&gt; list = new LinkedList&lt;String&gt;(Arrays.asList(str.split(&quot;,&quot;)));  // split the string into pieces based on the , character\n    list.remove(&quot;Tom&quot;);  // remove your target string from the array, if it exists at all\n    str = String.join(&quot;,&quot;, list);  // re-join the remaining elements of the array using the , character\n</code></pre>\n<p>I don't think this will be the most performant option available to you, so depending on your use case, it may or may not be appropriate, but hopefully it at least makes sense.</p>\n"}],"owner":{"account_id":26746614,"reputation":15,"user_id":20346594,"display_name":"Nicholas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76011025,"answer_count":2,"score":0,"last_activity_date":1681444148,"creation_date":1681436335,"question_id":76010976,"body_markdown":"Such as \r\n```\r\nString  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\r\n```\r\nI want to remove one of the word in one function. .What I want to do is replace &quot;Tom,&quot; or &quot;,Jerry&quot; in one line of code.vBut the position of comma is different. Is there an regular expression can use?\r\n\r\nI try to write the codes like this.\r\n\r\n```\r\nstr = str.replace(&quot;Tom&quot;,&quot;&quot;);\r\n//then the result is &quot;,Jerry,Brady,Patriots,TempaBay&quot;\r\n//I have to write another line of code\r\nstr = str.substring(1);\r\n//It&#39;s Jerry turn\r\nstr = str.replace(&quot;Jerry&quot;,&quot;&quot;);\r\nstr.substring(1);\r\n```\r\n","title":"How can I remove a word and a comma which I don&#39;t know where it is?","body":"<p>Such as</p>\n<pre><code>String  str = &quot;Tom,Jerry,Brady,Patriots,TempaBay&quot;;\n</code></pre>\n<p>I want to remove one of the word in one function. .What I want to do is replace &quot;Tom,&quot; or &quot;,Jerry&quot; in one line of code.vBut the position of comma is different. Is there an regular expression can use?</p>\n<p>I try to write the codes like this.</p>\n<pre><code>str = str.replace(&quot;Tom&quot;,&quot;&quot;);\n//then the result is &quot;,Jerry,Brady,Patriots,TempaBay&quot;\n//I have to write another line of code\nstr = str.substring(1);\n//It's Jerry turn\nstr = str.replace(&quot;Jerry&quot;,&quot;&quot;);\nstr.substring(1);\n</code></pre>\n"},{"tags":["java","android","methods","fragment"],"comments":[{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681444707,"post_id":76011424,"comment_id":134060576,"body_markdown":"You can&#39;t stick methods in methods. It&#39;s as simple as that. You can stick types in methods and then stick methods in types, but you can&#39;t invoke a `main` in a method-local type, and from these snippets it does not sound like you&#39;d want to do that here. Just `main` back out, or explain what you wanted to accomplish by moving it within.","body":"You can&#39;t stick methods in methods. It&#39;s as simple as that. You can stick types in methods and then stick methods in types, but you can&#39;t invoke a <code>main</code> in a method-local type, and from these snippets it does not sound like you&#39;d want to do that here. Just <code>main</code> back out, or explain what you wanted to accomplish by moving it within."},{"owner":{"account_id":28218518,"reputation":17,"user_id":21569643,"display_name":"Vyacheslav Parinov"},"score":0,"creation_date":1681445513,"post_id":76011424,"comment_id":134060665,"body_markdown":"thanks for answer. I&#39;m trying create method inside fragment with spinners and check boxes. Depending on values in spinners and checkboxes it will give back different values. I&#39;m using simple example of method to avoid complications. However I don&#39;t understand how to make correct syntax.","body":"thanks for answer. I&#39;m trying create method inside fragment with spinners and check boxes. Depending on values in spinners and checkboxes it will give back different values. I&#39;m using simple example of method to avoid complications. However I don&#39;t understand how to make correct syntax."}],"owner":{"account_id":28218518,"reputation":17,"user_id":21569643,"display_name":"Vyacheslav Parinov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681443433,"creation_date":1681443433,"question_id":76011424,"body_markdown":"could you please help with suggestion? \r\nI&#39;m trying to create method inside fragment, but facing with I believe some syntax error.\r\n\r\nMy code\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class PageFragment1 extends Fragment implements AdapterView.OnItemSelectedListener {\r\n\r\n\r\n    public int addTwoInt(int a, int b)\r\n    {\r\n        sum = a + b;\r\n    }\r\n\r\n    public void main (String[] args)\r\n    {\r\n        int s = addTwoInt(1, 2);\r\n        System.out.println(&quot;Sum of two integer values :&quot;+ s);   \r\n        Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut when I copy it inside OnCreate activity, parameter &quot;args&quot; becoming red\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater,\r\n                                 @Nullable ViewGroup container,\r\n                                 @Nullable Bundle savedInstanceState) {\r\n\r\n            ViewGroup rootView = (ViewGroup) inflater\r\n                    .inflate(R.layout.page_1, container\r\n                    \r\n                    public int addTwoInt(int a, int b)\r\n            {\r\n                sum = a + b;\r\n                return sum;\r\n            }\r\n\r\n            public void main (String[] args)\r\n            {\r\n                int s = addTwoInt(1, 2);\r\n                System.out.println(&quot;Sum of two integer values :&quot;+ s);\r\n                Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\r\n            }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAndroid Studio offers to create the variable &quot;args&quot;, but I expect that there is something simple - something wrong with the syntax or something in code that needs to be slightly adjusted.\r\nActual method that I&#39;m trying to create is more complicated with many variables that I create inside fragment, but to easiness of the code in my question I put that one basic element. But the structure of the method remains the same.\r\nAppreciate your help community.\r\n","title":"Syntax of method inside fragment","body":"<p>could you please help with suggestion?\nI'm trying to create method inside fragment, but facing with I believe some syntax error.</p>\n<p>My code</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class PageFragment1 extends Fragment implements AdapterView.OnItemSelectedListener {\n\n\npublic int addTwoInt(int a, int b)\n{\n    sum = a + b;\n}\n\npublic void main (String[] args)\n{\n    int s = addTwoInt(1, 2);\n    System.out.println(\"Sum of two integer values :\"+ s);   \n    Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\n}\n\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But when I copy it inside OnCreate activity, parameter &quot;args&quot; becoming red</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater,\n                             @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState) {\n\n        ViewGroup rootView = (ViewGroup) inflater\n                .inflate(R.layout.page_1, container\n                \n                public int addTwoInt(int a, int b)\n        {\n            sum = a + b;\n            return sum;\n        }\n\n        public void main (String[] args)\n        {\n            int s = addTwoInt(1, 2);\n            System.out.println(\"Sum of two integer values :\"+ s);\n            Toast.makeText(getContext(), s, Toast.LENGTH_LONG).show();\n        }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Android Studio offers to create the variable &quot;args&quot;, but I expect that there is something simple - something wrong with the syntax or something in code that needs to be slightly adjusted.\nActual method that I'm trying to create is more complicated with many variables that I create inside fragment, but to easiness of the code in my question I put that one basic element. But the structure of the method remains the same.\nAppreciate your help community.</p>\n"},{"tags":["java","spring-boot","zk"],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681442134,"creation_date":1681441758,"answer_id":76011325,"question_id":76002826,"body_markdown":"In a `Spring boot` project, in order to configure `static files` including `images` you need to have a class that implements `WebMvcConfigurer`. Please check below example:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class StaticResourceConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            System.out.println(&quot;WebMvcConfigurer loaded...&quot;);\r\n            registry.addResourceHandler(&quot;/**&quot;)\r\n            .addResourceLocations(&quot;classpath:/static/&quot;,&quot;classpath:/img/&quot;)\r\n            .setCachePeriod(0);\r\n    \r\n         }\r\n    }\r\n\r\n**Sample Project structure**\r\n\r\n    src\r\n    main\r\n       java\r\n          com\r\n              mypackage\r\n                     Application.java\r\n                  controller\r\n                         MyController.java\r\n                  model\r\n                          MyMessage.java\r\n       resources\r\n              application.properties\r\n           static\r\n                  index.html\r\n               img\r\n                       zklogo3.png\r\n    test\r\n        java\r\n            com\r\n                zetcode\r\n                    controller\r\n                            MyControllerTest.java\r\n\r\n\r\n\r\n\r\n\r\nThen you can simply display images like this in your `HTML` files.\r\n\r\n    &lt;img src=&quot;zklogo3.png&quot;/&gt;\r\n\r\n\r\nReference doc: [Spring WebMvcConfigurer][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html\r\n\r\n\r\n","title":"Resolve background image url Zk","body":"<p>In a <code>Spring boot</code> project, in order to configure <code>static files</code> including <code>images</code> you need to have a class that implements <code>WebMvcConfigurer</code>. Please check below example:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class StaticResourceConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        System.out.println(&quot;WebMvcConfigurer loaded...&quot;);\n        registry.addResourceHandler(&quot;/**&quot;)\n        .addResourceLocations(&quot;classpath:/static/&quot;,&quot;classpath:/img/&quot;)\n        .setCachePeriod(0);\n\n     }\n}\n</code></pre>\n<p><strong>Sample Project structure</strong></p>\n<pre><code>src\nmain\n   java\n      com\n          mypackage\n                 Application.java\n              controller\n                     MyController.java\n              model\n                      MyMessage.java\n   resources\n          application.properties\n       static\n              index.html\n           img\n                   zklogo3.png\ntest\n    java\n        com\n            zetcode\n                controller\n                        MyControllerTest.java\n</code></pre>\n<p>Then you can simply display images like this in your <code>HTML</code> files.</p>\n<pre><code>&lt;img src=&quot;zklogo3.png&quot;/&gt;\n</code></pre>\n<p>Reference doc: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html\" rel=\"nofollow noreferrer\">Spring WebMvcConfigurer</a></p>\n"}],"owner":{"account_id":12486830,"reputation":249,"user_id":9089791,"display_name":"Park Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681442134,"creation_date":1681371550,"question_id":76002826,"body_markdown":"I&#39;m running demo project from [ZK][1] and try to add image tag and find this problem\r\nI have two tag\r\n\r\n    1. &lt;div style=&quot;background-image: url(&#39;img/zklogo3.png&#39;);padding:0px 0px 0px 0px;&quot;&gt;\r\n    2. &lt;image src=&quot;~./img/zklogo3.png&quot; width=&quot;100px&quot;/&gt;\r\nThe image 2 can show on the screen and being resolved with this URL:\r\n\r\n     http://localhost:8080/zkres/web/6cbcf362/img/zklogo3.png\r\nbut the one in style can not resolve and return error not found, URL: http://localhost:8080/img/zklogo3.png, if I copy and append /zkres/web/6cbcf362 to the URL then it can show successfully\r\n\r\nAny one, know how to solve it?\r\n\r\n\r\n  [1]: https://github.com/zkoss/zkspringboot/tree/master/zkspringboot-demos/zkspringboot-demo-jar","title":"Resolve background image url Zk","body":"<p>I'm running demo project from <a href=\"https://github.com/zkoss/zkspringboot/tree/master/zkspringboot-demos/zkspringboot-demo-jar\" rel=\"nofollow noreferrer\">ZK</a> and try to add image tag and find this problem\nI have two tag</p>\n<pre><code>1. &lt;div style=&quot;background-image: url('img/zklogo3.png');padding:0px 0px 0px 0px;&quot;&gt;\n2. &lt;image src=&quot;~./img/zklogo3.png&quot; width=&quot;100px&quot;/&gt;\n</code></pre>\n<p>The image 2 can show on the screen and being resolved with this URL:</p>\n<pre><code> http://localhost:8080/zkres/web/6cbcf362/img/zklogo3.png\n</code></pre>\n<p>but the one in style can not resolve and return error not found, URL: http://localhost:8080/img/zklogo3.png, if I copy and append /zkres/web/6cbcf362 to the URL then it can show successfully</p>\n<p>Any one, know how to solve it?</p>\n"},{"tags":["java","hadoop","memory","mapreduce","jvm"],"answers":[{"tags":[],"owner":{"account_id":2335531,"reputation":180,"user_id":2047975,"accept_rate":100,"display_name":"Frunk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413381799,"creation_date":1413381799,"answer_id":26384541,"question_id":26382989,"body_markdown":"You can try to increase the memory allocation size by passing these Runtime Parameters.\r\n\r\nFor example:\r\n\r\n    java -Xms1024M -Xmx2048M -jar application.jar\r\n\r\n- Xmx is the maximum size\r\n- Xms is the minimum size","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>You can try to increase the memory allocation size by passing these Runtime Parameters.</p>\n\n<p>For example:</p>\n\n<pre><code>java -Xms1024M -Xmx2048M -jar application.jar\n</code></pre>\n\n<ul>\n<li>Xmx is the maximum size</li>\n<li>Xms is the minimum size</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2877558,"reputation":543,"user_id":2587178,"accept_rate":100,"display_name":"Prometheus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413384510,"creation_date":1413384510,"answer_id":26385506,"question_id":26382989,"body_markdown":"There can be a container memory overflow with the parameters that you are using for the JVM\r\n\r\nCheck if the attributes:\r\n\r\n    yarn.nodemanager.resource.memory-mb\r\n    yarn.scheduler.minimum-allocation-mb\r\n    yarn.scheduler.maximum-allocation-mb\r\n\r\non yarn.xml matches the desired value.\r\n\r\nFor more memory reference, read the:\r\n\r\n[HortonWorks memory reference][1]\r\n\r\n[Similar problem][2]\r\n\r\nNote: This is for Hadoop 2.0, if you are running hadoop 1.0 check the Task attributes.\r\n\r\n\r\n  [1]: http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.0.6.0/bk_installing_manually_book/content/rpm-chap1-11.html\r\n  [2]: https://stackoverflow.com/questions/19047879/hadoop-cannot-allocate-memory-java-io-ioexception-error-12","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>There can be a container memory overflow with the parameters that you are using for the JVM</p>\n\n<p>Check if the attributes:</p>\n\n<pre><code>yarn.nodemanager.resource.memory-mb\nyarn.scheduler.minimum-allocation-mb\nyarn.scheduler.maximum-allocation-mb\n</code></pre>\n\n<p>on yarn.xml matches the desired value.</p>\n\n<p>For more memory reference, read the:</p>\n\n<p><a href=\"http://docs.hortonworks.com/HDPDocuments/HDP2/HDP-2.0.6.0/bk_installing_manually_book/content/rpm-chap1-11.html\" rel=\"nofollow noreferrer\">HortonWorks memory reference</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/19047879/hadoop-cannot-allocate-memory-java-io-ioexception-error-12\">Similar problem</a></p>\n\n<p>Note: This is for Hadoop 2.0, if you are running hadoop 1.0 check the Task attributes.</p>\n"},{"tags":[],"owner":{"account_id":3796566,"reputation":1160,"user_id":3151462,"accept_rate":70,"display_name":"Shihao Xu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467420195,"creation_date":1467419346,"answer_id":38155358,"question_id":26382989,"body_markdown":"make sure you have `swap` space on your machine\r\n\r\n    ubuntu@VM-ubuntu:~$ free -m\r\n                 total       used       free     shared    buffers     cached\r\n    Mem:           994        928         65          0          1         48\r\n    -/+ buffers/cache:        878        115\r\n    Swap:         4095       1086       3009\r\n\r\nnotice the `Swap` line.\r\n\r\nI just encountered this problem on an Elastic Computing instance. Turned out swap space is not mounted by default.","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>make sure you have <code>swap</code> space on your machine</p>\n\n<pre><code>ubuntu@VM-ubuntu:~$ free -m\n             total       used       free     shared    buffers     cached\nMem:           994        928         65          0          1         48\n-/+ buffers/cache:        878        115\nSwap:         4095       1086       3009\n</code></pre>\n\n<p>notice the <code>Swap</code> line.</p>\n\n<p>I just encountered this problem on an Elastic Computing instance. Turned out swap space is not mounted by default.</p>\n"},{"tags":[],"owner":{"account_id":20335927,"reputation":1,"user_id":14916640,"display_name":"Styz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681441534,"creation_date":1681441534,"answer_id":76011311,"question_id":26382989,"body_markdown":"for me, the available memory is less than the jvm required memory which result in &quot;There is insufficient memory for the Java Runtime Environment to continue&quot;.\r\n\r\ncheck your available memory:\r\n\r\n    free -h\r\nstop some useless process and get more memory.","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>for me, the available memory is less than the jvm required memory which result in &quot;There is insufficient memory for the Java Runtime Environment to continue&quot;.</p>\n<p>check your available memory:</p>\n<pre><code>free -h\n</code></pre>\n<p>stop some useless process and get more memory.</p>\n"}],"owner":{"account_id":4974185,"reputation":453,"user_id":4001057,"accept_rate":12,"display_name":"Sushmita Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14055,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1681441534,"creation_date":1413377119,"question_id":26382989,"body_markdown":"I am running Hadoop map reduce job on a cluster. \nI am getting this error. \n\n\n\n&gt; OpenJDK Client VM warning: INFO: os::commit_memory(0x79f20000, 104861696, 0) failed; error=&#39;Cannot allocate memory&#39; (errno=12) \n&gt;\n&gt; There is insufficient memory for the Java Runtime Environment to continue. \n&gt;\n&gt; Native memory allocation (malloc) failed to allocate 104861696 bytes for committing reserved memory.\n\nwhat to do ?","title":"OpenJDK Client VM - Cannot allocate memory","body":"<p>I am running Hadoop map reduce job on a cluster.\nI am getting this error.</p>\n<blockquote>\n<p>OpenJDK Client VM warning: INFO: os::commit_memory(0x79f20000, 104861696, 0) failed; error='Cannot allocate memory' (errno=12)</p>\n<p>There is insufficient memory for the Java Runtime Environment to continue.</p>\n<p>Native memory allocation (malloc) failed to allocate 104861696 bytes for committing reserved memory.</p>\n</blockquote>\n<p>what to do ?</p>\n"},{"tags":["java","regex","string","split"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681438777,"creation_date":1681438777,"answer_id":76011138,"question_id":76011067,"body_markdown":"The or part with `|` should be put inside the lookahead and there should not be quotes around `LM`.\r\n\r\n```java\r\ninputString.split(&quot;(?&lt;!^)(?=\\\\d|LM)&quot;)\r\n```","title":"Java Regex with OR condition to Split String","body":"<p>The or part with <code>|</code> should be put inside the lookahead and there should not be quotes around <code>LM</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>inputString.split(&quot;(?&lt;!^)(?=\\\\d|LM)&quot;)\n</code></pre>\n"}],"owner":{"account_id":387940,"reputation":37,"user_id":746575,"display_name":"jasmeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76011138,"answer_count":1,"score":0,"last_activity_date":1681441046,"creation_date":1681437815,"question_id":76011067,"body_markdown":"I need to build a regex to Split my string starting with a number or LM(exact match as it is a special case)\r\n\r\n    For example - \r\n    Input : 1LM355PL6R5L8\r\n    Output : [1,LM,3,5,5PL,6R,5L,8]\r\n    \r\n    Input : 349AB8LM7Y4II\r\n    Output : [3,4,9AB,8,LM,7Y,4II]\r\n\r\nFor numbers, i&#39;ve build this regex `(?&lt;!^)(?=\\\\d)` and it seems to be working fine.\r\nNow i&#39;m confused how to add this exact match of &#39;LM&#39;. It can be at any position\r\n\r\n    List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)&quot;));\r\n\r\nActual Output with above code\r\n    \r\n    Output : [1LM,3,5,5PL,6R,5L,8]\r\n        \r\n    Output : [3,4,9AB,8LM,7Y,4II]\r\n\r\n\r\nI&#39;m trying to put an OR condition in my regex and make strict match for LM but not getting correct results from it.\r\n\r\n    List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)|(&#39;LM&#39;)&quot;));\r\n\r\n","title":"Java Regex with OR condition to Split String","body":"<p>I need to build a regex to Split my string starting with a number or LM(exact match as it is a special case)</p>\n<pre><code>For example - \nInput : 1LM355PL6R5L8\nOutput : [1,LM,3,5,5PL,6R,5L,8]\n\nInput : 349AB8LM7Y4II\nOutput : [3,4,9AB,8,LM,7Y,4II]\n</code></pre>\n<p>For numbers, i've build this regex <code>(?&lt;!^)(?=\\\\d)</code> and it seems to be working fine.\nNow i'm confused how to add this exact match of 'LM'. It can be at any position</p>\n<pre><code>List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)&quot;));\n</code></pre>\n<p>Actual Output with above code</p>\n<pre><code>Output : [1LM,3,5,5PL,6R,5L,8]\n    \nOutput : [3,4,9AB,8LM,7Y,4II]\n</code></pre>\n<p>I'm trying to put an OR condition in my regex and make strict match for LM but not getting correct results from it.</p>\n<pre><code>List&lt;String&gt; diff = Arrays.asList(inputString.split(&quot;(?&lt;!^)(?=\\\\d)|('LM')&quot;));\n</code></pre>\n"},{"tags":["java","ios","android-studio","android-ndk","ndk-build"],"owner":{"account_id":18855528,"reputation":83,"user_id":13753575,"display_name":"Joanne Chang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681440935,"creation_date":1681440935,"question_id":76011262,"body_markdown":"Run the following command in Terminal :\r\n\r\n```user@UserMacBook-Pro androidStudio_test % java -jar project/libs/javacpp.jar -cp project/libs/javacpp.jar:project/build/intermediates/javac/debug/classes com.project.mobile.jni.* -Dplatform.name=android-arm -d project/src/main/jni/proj/src/bin/sdkAndroid -cpp```\r\n\r\nGet error message:\r\n\r\n``` zsh: no matches found: com.project.mobile.jni.*  ```\r\n\r\nI have checked the folder path **com.project.mobile.jni.***, it&#39;s correct.\r\n","title":"iOS: NDK build can not found the matched jni files","body":"<p>Run the following command in Terminal :</p>\n<p><code>user@UserMacBook-Pro androidStudio_test % java -jar project/libs/javacpp.jar -cp project/libs/javacpp.jar:project/build/intermediates/javac/debug/classes com.project.mobile.jni.* -Dplatform.name=android-arm -d project/src/main/jni/proj/src/bin/sdkAndroid -cpp</code></p>\n<p>Get error message:</p>\n<p><code>zsh: no matches found: com.project.mobile.jni.* </code></p>\n<p>I have checked the folder path <strong>com.project.mobile.jni.</strong>*, it's correct.</p>\n"},{"tags":["java","spring-boot","logback"],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681439498,"creation_date":1681439498,"question_id":76011182,"body_markdown":"`springboot 2.1.3`\r\n\r\nI set logback-spring.xml, \r\n```xml\r\n&lt;springProperty scope=&quot;context&quot; name=&quot;logPath&quot;, source=&quot;myapp.log.path&quot; defaultValue=&quot;/home/logs/myappLog&quot;&gt;&lt;/springProperty&gt;\r\n&lt;springProperty scope=&quot;context&quot; name=&quot;varname&quot;, source=&quot;spring.application.name&quot; defaultValue=&quot;abc&quot;&gt;&lt;/springProperty&gt;\r\n\r\n&lt;contextName&gt;${varname}&lt;/contextName&gt;\r\n```\r\napplication.properties\r\n```text\r\nspring.application.name=myproject\r\n```\r\n\r\nI got error\r\n\r\n```java\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Logback configuration error detected:\r\nERROR in ch.qos.logback.classic.joran.action.ContextNameAction - Failed to rename context [abc] as [myproject] java.lang.IllegalStateException: Context has been already given a name\r\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\r\n...\r\n...\r\n\r\n```\r\n\r\nI search some articles, [springboot-with-logback-creating-log-path-is-undefined-folder](https://stackoverflow.com/questions/25251983/springboot-with-logback-creating-log-path-is-undefined-folder), [LOG_FILE_IS_UNDEFINED log file is being created in boot 1.4.5](https://github.com/spring-projects/spring-boot/issues/8675), but I did not fine the solution.","title":"logback failed to rename context [varname_IS_UNDEFINED] as [myproject]","body":"<p><code>springboot 2.1.3</code></p>\n<p>I set logback-spring.xml,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;springProperty scope=&quot;context&quot; name=&quot;logPath&quot;, source=&quot;myapp.log.path&quot; defaultValue=&quot;/home/logs/myappLog&quot;&gt;&lt;/springProperty&gt;\n&lt;springProperty scope=&quot;context&quot; name=&quot;varname&quot;, source=&quot;spring.application.name&quot; defaultValue=&quot;abc&quot;&gt;&lt;/springProperty&gt;\n\n&lt;contextName&gt;${varname}&lt;/contextName&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.application.name=myproject\n</code></pre>\n<p>I got error</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: Logback configuration error detected:\nERROR in ch.qos.logback.classic.joran.action.ContextNameAction - Failed to rename context [abc] as [myproject] java.lang.IllegalStateException: Context has been already given a name\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:169)\n...\n...\n\n</code></pre>\n<p>I search some articles, <a href=\"https://stackoverflow.com/questions/25251983/springboot-with-logback-creating-log-path-is-undefined-folder\">springboot-with-logback-creating-log-path-is-undefined-folder</a>, <a href=\"https://github.com/spring-projects/spring-boot/issues/8675\" rel=\"nofollow noreferrer\">LOG_FILE_IS_UNDEFINED log file is being created in boot 1.4.5</a>, but I did not fine the solution.</p>\n"},{"tags":["java","interface","equals","comparable"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681456026,"post_id":76011181,"comment_id":134062071,"body_markdown":"Your answer looks perfect to me. Try adding the @Override annotation to the public boolean equals(Object other) method.","body":"Your answer looks perfect to me. Try adding the @Override annotation to the public boolean equals(Object other) method."}],"owner":{"account_id":18067205,"reputation":1,"user_id":21638885,"display_name":"Sumlina Alam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681439490,"creation_date":1681439490,"question_id":76011181,"body_markdown":"I am trying to implement a Comparable interface in a Fraction class that I coded for an exercise problem in CodeHS. The objective of the code is to compare two fractions and determine whether they are the same or not. However, when I check my code, it says that I haven&#39;t implemented &#39;.equals&#39; which I am supposed to implement. I added a equals method in my code but I don&#39;t know where I can put in &#39;.equals&#39; anywhere else.\r\n\r\nHere&#39;s my assignment description:\r\n\r\nIn this exercise we are going to extend the Fraction class to have it implement the Comparable&lt;Fraction&gt; interface. To do this you need to implement the compareTo method:\r\n\r\npublic int compareTo(Fraction other)\r\nIt is not required to implement the equals method to implement the Comparable&lt;Fraction&gt; interface, but we will implement that one here as well:\r\n\r\npublic boolean equals(Object other)\r\nequals should return true only if the Object other is an instanceof the Fraction class, AND the result of calling compareTo on other is 0.\r\n\r\nMy code:\r\n```\r\npublic class Fraction implements Comparable&lt;Fraction&gt;\r\n{\r\n    private int num;\r\n    private int den;\r\n        \r\n    public Fraction(int numerator, int denominator)\r\n    {\r\n        num = numerator;\r\n        den = denominator;\r\n    }\r\n    \r\n    public int compareTo(Fraction other)\r\n    {\r\n        int num2 = other.getNumerator(); //          1\r\n        int den2 = other.getDenominator(); //        4\r\n        int diff;\r\n        System.out.println(den - den2);\r\n        \r\n       \r\n        if ((den % den2 == 0) &amp;&amp; (den - den2 != 0))\r\n        {\r\n            num2 *= (den / den2);\r\n            \r\n            diff = num - num2;\r\n            return diff;\r\n        }\r\n        else if ((den2 % den == 0) &amp;&amp; (den - den2 != 0))\r\n        {\r\n            num *= (den2 / den);\r\n            \r\n            diff = num - num2;\r\n            return diff;\r\n        }\r\n        else if ((den % den2 == 0) &amp;&amp; (den - den2 == 0))\r\n        {\r\n            diff = 0;\r\n            return diff;\r\n        }\r\n        else\r\n        {\r\n            diff = (num * den2) - (num2 * den);\r\n            System.out.println(diff);\r\n            return diff;\r\n        }\r\n        \r\n    }\r\n    \r\n    public boolean equals(Object other)\r\n    {\r\n        return other instanceof Fraction &amp;&amp; compareTo((Fraction)other) == 0;\r\n    }\r\n    \r\n    public int getNumerator() {\r\n        return num;\r\n    }\r\n    \r\n    public int getDenominator() {\r\n        return den;\r\n    }\r\n    \r\n    public void setNumerator(int x) {\r\n        num = x;\r\n    }\r\n    \r\n    public void setDenominator(int x) {\r\n        den = x;\r\n    }\r\n    \r\n    \r\n    public String toString() {\r\n        return num + &quot;/&quot; + den;\r\n    }\r\n\r\n}\r\n```\r\n\r\n[The assignment description](https://i.stack.imgur.com/0FBP5.jpg)\r\n[My test cases](https://i.stack.imgur.com/ZxKO4.jpg)\r\n\r\nI tried to replace the equal operator but my code wouldn&#39;t compile. My code is running fine and the comparing function is working; it&#39;s just that in order to fulfill all the assignment&#39;s requirements, I have to implement &#39;.equals&#39;. I assumed implementing &#39;.equals&#39; was adding the equals method so I don&#39;t really know where to go from here.","title":"4.15.5 Fraction is Comparable Java CodeHS","body":"<p>I am trying to implement a Comparable interface in a Fraction class that I coded for an exercise problem in CodeHS. The objective of the code is to compare two fractions and determine whether they are the same or not. However, when I check my code, it says that I haven't implemented '.equals' which I am supposed to implement. I added a equals method in my code but I don't know where I can put in '.equals' anywhere else.</p>\n<p>Here's my assignment description:</p>\n<p>In this exercise we are going to extend the Fraction class to have it implement the Comparable interface. To do this you need to implement the compareTo method:</p>\n<p>public int compareTo(Fraction other)\nIt is not required to implement the equals method to implement the Comparable interface, but we will implement that one here as well:</p>\n<p>public boolean equals(Object other)\nequals should return true only if the Object other is an instanceof the Fraction class, AND the result of calling compareTo on other is 0.</p>\n<p>My code:</p>\n<pre><code>public class Fraction implements Comparable&lt;Fraction&gt;\n{\n    private int num;\n    private int den;\n        \n    public Fraction(int numerator, int denominator)\n    {\n        num = numerator;\n        den = denominator;\n    }\n    \n    public int compareTo(Fraction other)\n    {\n        int num2 = other.getNumerator(); //          1\n        int den2 = other.getDenominator(); //        4\n        int diff;\n        System.out.println(den - den2);\n        \n       \n        if ((den % den2 == 0) &amp;&amp; (den - den2 != 0))\n        {\n            num2 *= (den / den2);\n            \n            diff = num - num2;\n            return diff;\n        }\n        else if ((den2 % den == 0) &amp;&amp; (den - den2 != 0))\n        {\n            num *= (den2 / den);\n            \n            diff = num - num2;\n            return diff;\n        }\n        else if ((den % den2 == 0) &amp;&amp; (den - den2 == 0))\n        {\n            diff = 0;\n            return diff;\n        }\n        else\n        {\n            diff = (num * den2) - (num2 * den);\n            System.out.println(diff);\n            return diff;\n        }\n        \n    }\n    \n    public boolean equals(Object other)\n    {\n        return other instanceof Fraction &amp;&amp; compareTo((Fraction)other) == 0;\n    }\n    \n    public int getNumerator() {\n        return num;\n    }\n    \n    public int getDenominator() {\n        return den;\n    }\n    \n    public void setNumerator(int x) {\n        num = x;\n    }\n    \n    public void setDenominator(int x) {\n        den = x;\n    }\n    \n    \n    public String toString() {\n        return num + &quot;/&quot; + den;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0FBP5.jpg\" rel=\"nofollow noreferrer\">The assignment description</a>\n<a href=\"https://i.stack.imgur.com/ZxKO4.jpg\" rel=\"nofollow noreferrer\">My test cases</a></p>\n<p>I tried to replace the equal operator but my code wouldn't compile. My code is running fine and the comparing function is working; it's just that in order to fulfill all the assignment's requirements, I have to implement '.equals'. I assumed implementing '.equals' was adding the equals method so I don't really know where to go from here.</p>\n"},{"tags":["java","maven","apache-flink","amazon-kinesis","pyflink"],"comments":[{"owner":{"account_id":1369965,"reputation":7479,"user_id":1305461,"display_name":"felipe"},"score":0,"creation_date":1682085322,"post_id":76000492,"comment_id":134164719,"body_markdown":"Does this answer your question? [Deploy a Python Flink application on AWS Kinesis](https://stackoverflow.com/questions/71271291/deploy-a-python-flink-application-on-aws-kinesis)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71271291/deploy-a-python-flink-application-on-aws-kinesis\">Deploy a Python Flink application on AWS Kinesis</a>"}],"answers":[{"tags":[],"owner":{"account_id":5449795,"reputation":2687,"user_id":6352160,"accept_rate":75,"display_name":"Shankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681439461,"creation_date":1681439461,"answer_id":76011177,"question_id":76000492,"body_markdown":"There are many ways to create this fat (combined) jar. I recommend using the [Apache Maven shade plugin][1].\r\n\r\nThis is the basic Maven configuration to construct the fat Jar.\r\n\r\n    &lt;dependencies&gt;\r\n            &lt;!-- Add your dependencies here --&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- The maven-shade plugin creates a fat jar that contains all\r\n                  dependencies. --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;                       &lt;shadedClassifierName&gt;combined&lt;/shadedClassifierName&gt; \r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nSince you are a Python developer, I am assuming you are not familiar with Maven projects. Hence, I have created an open source project with installation instructions that you can use for constructing your fat jar. \r\n\r\nhttps://github.com/shankarps/FatJarMaker\r\n\r\nIf you face issues, please report an issue on the GitHub project.\r\n\r\n \r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/index.html","title":"How to make fat jar in AWS KDA Flink Application?","body":"<p>There are many ways to create this fat (combined) jar. I recommend using the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/index.html\" rel=\"nofollow noreferrer\">Apache Maven shade plugin</a>.</p>\n<p>This is the basic Maven configuration to construct the fat Jar.</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;!-- Add your dependencies here --&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- The maven-shade plugin creates a fat jar that contains all\n              dependencies. --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;                       &lt;shadedClassifierName&gt;combined&lt;/shadedClassifierName&gt; \n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Since you are a Python developer, I am assuming you are not familiar with Maven projects. Hence, I have created an open source project with installation instructions that you can use for constructing your fat jar.</p>\n<p><a href=\"https://github.com/shankarps/FatJarMaker\" rel=\"nofollow noreferrer\">https://github.com/shankarps/FatJarMaker</a></p>\n<p>If you face issues, please report an issue on the GitHub project.</p>\n"}],"owner":{"account_id":5538812,"reputation":388,"user_id":4396196,"accept_rate":50,"display_name":"piby180"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681439461,"creation_date":1681341116,"question_id":76000492,"body_markdown":"I need the following jar dependencies for my pyflink application. \r\n\r\n 1. flink-s3-fs-hadoop-1.15.2.jar\r\n 2. flink-sql-parquet-1.15.2.jar\r\n 3. flink-s3-fs-presto-1.15.2.jar\r\n\r\nI want to package and deploy it to AWS Kinesis Data Analytics. AWS KDA needs one single fat jar for all the dependencies as described [here][1]\r\n\r\nAs a python developer, I am not much familiar how to package them. Any hints on how to create this fat jar from multiple jar dependencies?\r\n\r\n\r\n  [1]: https://github.com/aws-samples/pyflink-getting-started/tree/main/packaging#jar-dependencies","title":"How to make fat jar in AWS KDA Flink Application?","body":"<p>I need the following jar dependencies for my pyflink application.</p>\n<ol>\n<li>flink-s3-fs-hadoop-1.15.2.jar</li>\n<li>flink-sql-parquet-1.15.2.jar</li>\n<li>flink-s3-fs-presto-1.15.2.jar</li>\n</ol>\n<p>I want to package and deploy it to AWS Kinesis Data Analytics. AWS KDA needs one single fat jar for all the dependencies as described <a href=\"https://github.com/aws-samples/pyflink-getting-started/tree/main/packaging#jar-dependencies\" rel=\"nofollow noreferrer\">here</a></p>\n<p>As a python developer, I am not much familiar how to package them. Any hints on how to create this fat jar from multiple jar dependencies?</p>\n"},{"tags":["java","json","websocket","esp8266"],"answers":[{"tags":[],"owner":{"account_id":27944726,"reputation":16,"user_id":21339953,"display_name":"Sandiorl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681439419,"creation_date":1681439419,"answer_id":76011175,"question_id":76008691,"body_markdown":"You need to update the --box-color property value using the received RGB values from the WebSocket message. Change the line:\r\n\r\n    root.style.setProperty(&#39;--box-color&#39;, &#39;120, 120, 0&#39;);\r\n\r\nto:\r\n```\r\nroot.style.setProperty(&#39;--box-color&#39;, `${obj.Rvalue}, ${obj.Gvalue}, ${obj.Bvalue}`);\r\n```\r\nThis will set the --box-color property to the received RGB values in the format &#39;Rvalue, Gvalue, Bvalue&#39;.\r\n\r\nFor more information on setting CSS variables using JavaScript, refer to this link: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty","title":"Can&#39;t change value of box storing color in real-time","body":"<p>You need to update the --box-color property value using the received RGB values from the WebSocket message. Change the line:</p>\n<pre><code>root.style.setProperty('--box-color', '120, 120, 0');\n</code></pre>\n<p>to:</p>\n<pre><code>root.style.setProperty('--box-color', `${obj.Rvalue}, ${obj.Gvalue}, ${obj.Bvalue}`);\n</code></pre>\n<p>This will set the --box-color property to the received RGB values in the format 'Rvalue, Gvalue, Bvalue'.</p>\n<p>For more information on setting CSS variables using JavaScript, refer to this link: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/setProperty</a></p>\n"}],"owner":{"account_id":28297352,"reputation":13,"user_id":21636596,"display_name":"krakosky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76011175,"answer_count":1,"score":1,"last_activity_date":1681439419,"creation_date":1681410288,"question_id":76008691,"body_markdown":"I have a problem with the project on ESP8266. I use a color sensor that collects RGB values and sends them via WebSockets to a server created on ESP, the values pass normally and display on the website in real time. I also wanted to add functionality so that the resulting color appears in the color box. Unfortunately, I can&#39;t get this, I have searched all I could.\r\n[This is how it looks, this olive-green color is permanently assigned rgb(120, 120, 0)](https://i.stack.imgur.com/sGMvi.png)\r\n\r\nThis is code I use for this:\r\n\r\n```\r\nwebsock.onmessage=function(event)\r\n        {\r\n          var obj = JSON.parse(event.data);\r\n                    \r\n          document.getElementById(&#39;Rvalue&#39;).innerHTML = obj.Rvalue;\r\n          document.getElementById(&#39;Gvalue&#39;).innerHTML = obj.Gvalue;\r\n          document.getElementById(&#39;Bvalue&#39;).innerHTML = obj.Bvalue;\r\n\r\n          const root = document.documentElement;\r\n          root.style.setProperty(&#39;--box-color&#39;, &#39;120, 120, 0&#39;);\r\n        }\r\n      }\r\n\r\n      window.onload = function(event)\r\n      {\r\n        InitWebSocket();\r\n      }\r\n```\r\n\r\nI want to change this line: root.style.setProperty(&#39;--box-color&#39;, &#39;120, 120, 0&#39;); to look like this and work if it is possible.\r\nroot.style.setProperty(&#39;--box-color&#39;, &#39;Rvalue, Bvalue, Gvalue&#39;);\r\n\r\nI also used this code to send data to server via WebSocket. Now I have random values, but later I want to attach it to the sensor.\r\n\r\n\r\n```\r\nunsigned long now = millis();\r\n  if ((unsigned long)(now - previousMillis) &gt; interval) \r\n  { \r\n    String jsonString = &quot;&quot;;\r\n    StaticJsonDocument&lt;200&gt; doc;\r\n    JsonObject object = doc.to&lt;JsonObject&gt;();\r\n    object[&quot;Rvalue&quot;] = random(100);\r\n    object[&quot;Gvalue&quot;] = random(100);\r\n    object[&quot;Bvalue&quot;] = random(100);\r\n    serializeJson(doc, jsonString);\r\n    Serial.println(jsonString);\r\n    webSocket.broadcastTXT(jsonString);\r\n    \r\n    previousMillis = now;\r\n  }\r\n```\r\n\r\nI thought it was a problem with the fact that RGB values are string not INT.\r\n\r\n\r\n\r\nI tried to convert string into INT values in different ways, e.g.: \r\nint Rvalue_int = Integer.valueOf((String) &quot;Rvalue&quot;); \r\nor \r\nint Rvalue_int = jsonObj.get(&quot;Rvalue&quot;).asInt(); but this blocks sending RGB values","title":"Can&#39;t change value of box storing color in real-time","body":"<p>I have a problem with the project on ESP8266. I use a color sensor that collects RGB values and sends them via WebSockets to a server created on ESP, the values pass normally and display on the website in real time. I also wanted to add functionality so that the resulting color appears in the color box. Unfortunately, I can't get this, I have searched all I could.\n<a href=\"https://i.stack.imgur.com/sGMvi.png\" rel=\"nofollow noreferrer\">This is how it looks, this olive-green color is permanently assigned rgb(120, 120, 0)</a></p>\n<p>This is code I use for this:</p>\n<pre><code>websock.onmessage=function(event)\n        {\n          var obj = JSON.parse(event.data);\n                    \n          document.getElementById('Rvalue').innerHTML = obj.Rvalue;\n          document.getElementById('Gvalue').innerHTML = obj.Gvalue;\n          document.getElementById('Bvalue').innerHTML = obj.Bvalue;\n\n          const root = document.documentElement;\n          root.style.setProperty('--box-color', '120, 120, 0');\n        }\n      }\n\n      window.onload = function(event)\n      {\n        InitWebSocket();\n      }\n</code></pre>\n<p>I want to change this line: root.style.setProperty('--box-color', '120, 120, 0'); to look like this and work if it is possible.\nroot.style.setProperty('--box-color', 'Rvalue, Bvalue, Gvalue');</p>\n<p>I also used this code to send data to server via WebSocket. Now I have random values, but later I want to attach it to the sensor.</p>\n<pre><code>unsigned long now = millis();\n  if ((unsigned long)(now - previousMillis) &gt; interval) \n  { \n    String jsonString = &quot;&quot;;\n    StaticJsonDocument&lt;200&gt; doc;\n    JsonObject object = doc.to&lt;JsonObject&gt;();\n    object[&quot;Rvalue&quot;] = random(100);\n    object[&quot;Gvalue&quot;] = random(100);\n    object[&quot;Bvalue&quot;] = random(100);\n    serializeJson(doc, jsonString);\n    Serial.println(jsonString);\n    webSocket.broadcastTXT(jsonString);\n    \n    previousMillis = now;\n  }\n</code></pre>\n<p>I thought it was a problem with the fact that RGB values are string not INT.</p>\n<p>I tried to convert string into INT values in different ways, e.g.:\nint Rvalue_int = Integer.valueOf((String) &quot;Rvalue&quot;);\nor\nint Rvalue_int = jsonObj.get(&quot;Rvalue&quot;).asInt(); but this blocks sending RGB values</p>\n"},{"tags":["java","while-loop","try-catch","user-input"],"comments":[{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1681439072,"post_id":76011136,"comment_id":134060069,"body_markdown":"If `nextInt()` causes an exception, the token is not consumed. Say I enter &quot;20A&quot;. which isn&#39;t a number. Then the `input.next()` in your &#39;would you like to try agian?&#39; prompt immediately returns with `20A`. If you want to ditch it, call `input.next();` without doing anything with it to &#39;consume&#39; the invalid token.","body":"If <code>nextInt()</code> causes an exception, the token is not consumed. Say I enter &quot;20A&quot;. which isn&#39;t a number. Then the <code>input.next()</code> in your &#39;would you like to try agian?&#39; prompt immediately returns with <code>20A</code>. If you want to ditch it, call <code>input.next();</code> without doing anything with it to &#39;consume&#39; the invalid token."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681439192,"post_id":76011136,"comment_id":134060087,"body_markdown":"You could also move your &quot;yes/no&quot; prompt outside the `try-catch` block, so you don&#39;t need to repeat the code","body":"You could also move your &quot;yes/no&quot; prompt outside the <code>try-catch</code> block, so you don&#39;t need to repeat the code"}],"owner":{"account_id":28299919,"reputation":1,"user_id":21638740,"display_name":"JVG_2002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681439104,"answer_count":0,"score":0,"last_activity_date":1681438741,"creation_date":1681438741,"question_id":76011136,"body_markdown":"Simple program prompts user to enter array size, then subsequently enter values.Then display sum, average,sum of odd and even numbers, highest and lowest number then displays Y/N try again prompt to restart or exit program. Try-catch for exceptions and Y/N try again prompt to restart or exit program.\r\n\r\n    import java.util.*;\r\n    public class oneDarray {\r\n    public static void main(String[]args){\r\n        Scanner input = new Scanner(System.in);\r\n        float sum = 0,ave,oddsum=0,evesum=0,highnum=0,lownum=0;\r\n        boolean prog=true;\r\n            while(prog==true){\r\n                try{\r\n                System.out.println(&quot;Enter size of array&quot;);\r\n                int arrSize = input.nextInt();\r\n                if(arrSize&gt;0 &amp;&amp; arrSize&lt;=25){\r\n                     System.out.println(&quot;Enter array elements&quot;);\r\n                     float numbers[] = new float [arrSize];\r\n                    for(int i=0; i&lt;numbers.length;i++){\r\n                    numbers[i] = input.nextFloat();\r\n                    sum = sum + numbers[i];\r\n                if(numbers[i]==0){\r\n                    highnum=numbers[i];\r\n                    lownum=numbers[i];\r\n                }\r\n                if(numbers[i]%2==0){\r\n                    evesum=evesum+numbers[i];\r\n                }\r\n                if(numbers[i]%2!=0){\r\n                   oddsum=oddsum+numbers[i];\r\n                }\r\n                if(i==0){\r\n                    lownum=numbers[i];\r\n                    highnum=numbers[i];\r\n                }\r\n                if(numbers[i]&lt;lownum)\r\n                    lownum=numbers[i];\r\n                else if(numbers[i]&gt;highnum)\r\n                    highnum=numbers[i];      \r\n        }\r\n            ave= sum/numbers.length;\r\n            System.out.println(&quot;The sum: &quot;+sum);\r\n            System.out.println(&quot;The average &quot;+ave);\r\n            System.out.println(&quot;odd sum &quot;+oddsum);\r\n            System.out.println(&quot;even sum &quot;+evesum);\r\n            System.out.println(&quot;highest num &quot;+highnum);\r\n            System.out.println(&quot;lowest num &quot;+lownum);\r\n            highnum=0;\r\n            lownum=0;\r\n            sum=0;\r\n            ave=0;\r\n            oddsum=0;\r\n            evesum=0;\r\n        }\r\n        else{\r\n            System.out.println(&quot;Invalid input&quot;);\r\n        }\r\n            System.out.println(&quot;Would you like to try again? Y/N&quot;);\r\n            char YN = input.next().charAt(0);\r\n            if(YN==&#39;Y&#39;||YN==&#39;y&#39;){\r\n            prog=true;}\r\n            else if(YN==&#39;N&#39;||YN==&#39;n&#39;){\r\n            prog=false;\r\n            System.out.println(&quot;Thank you for using the program, have a nice day&quot;);\r\n            }\r\n    }catch(InputMismatchException ime){\r\n        System.out.println(&quot;Invalid input&quot;);\r\n        System.out.println(&quot;Would you like to try again? Y/N&quot;);\r\n            char YN = input.next().charAt(0);\r\n            if(YN==&#39;Y&#39;||YN==&#39;y&#39;){\r\n            prog=true;}\r\n            else if(YN==&#39;N&#39;||YN==&#39;n&#39;){\r\n            prog=false;\r\n            System.out.println(&quot;Thank you for using the program, have a nice day&quot;);\r\n            }\r\n            }\r\n        }\r\n        }\r\n    }\r\n\r\nCopy pasted contents of try again prompt in catch, expected to answer Y/N prompt. display but skips prompt entirely and loops to start of program.","title":"Java try-catch Y/N input skipped, restart program instead","body":"<p>Simple program prompts user to enter array size, then subsequently enter values.Then display sum, average,sum of odd and even numbers, highest and lowest number then displays Y/N try again prompt to restart or exit program. Try-catch for exceptions and Y/N try again prompt to restart or exit program.</p>\n<pre><code>import java.util.*;\npublic class oneDarray {\npublic static void main(String[]args){\n    Scanner input = new Scanner(System.in);\n    float sum = 0,ave,oddsum=0,evesum=0,highnum=0,lownum=0;\n    boolean prog=true;\n        while(prog==true){\n            try{\n            System.out.println(&quot;Enter size of array&quot;);\n            int arrSize = input.nextInt();\n            if(arrSize&gt;0 &amp;&amp; arrSize&lt;=25){\n                 System.out.println(&quot;Enter array elements&quot;);\n                 float numbers[] = new float [arrSize];\n                for(int i=0; i&lt;numbers.length;i++){\n                numbers[i] = input.nextFloat();\n                sum = sum + numbers[i];\n            if(numbers[i]==0){\n                highnum=numbers[i];\n                lownum=numbers[i];\n            }\n            if(numbers[i]%2==0){\n                evesum=evesum+numbers[i];\n            }\n            if(numbers[i]%2!=0){\n               oddsum=oddsum+numbers[i];\n            }\n            if(i==0){\n                lownum=numbers[i];\n                highnum=numbers[i];\n            }\n            if(numbers[i]&lt;lownum)\n                lownum=numbers[i];\n            else if(numbers[i]&gt;highnum)\n                highnum=numbers[i];      \n    }\n        ave= sum/numbers.length;\n        System.out.println(&quot;The sum: &quot;+sum);\n        System.out.println(&quot;The average &quot;+ave);\n        System.out.println(&quot;odd sum &quot;+oddsum);\n        System.out.println(&quot;even sum &quot;+evesum);\n        System.out.println(&quot;highest num &quot;+highnum);\n        System.out.println(&quot;lowest num &quot;+lownum);\n        highnum=0;\n        lownum=0;\n        sum=0;\n        ave=0;\n        oddsum=0;\n        evesum=0;\n    }\n    else{\n        System.out.println(&quot;Invalid input&quot;);\n    }\n        System.out.println(&quot;Would you like to try again? Y/N&quot;);\n        char YN = input.next().charAt(0);\n        if(YN=='Y'||YN=='y'){\n        prog=true;}\n        else if(YN=='N'||YN=='n'){\n        prog=false;\n        System.out.println(&quot;Thank you for using the program, have a nice day&quot;);\n        }\n}catch(InputMismatchException ime){\n    System.out.println(&quot;Invalid input&quot;);\n    System.out.println(&quot;Would you like to try again? Y/N&quot;);\n        char YN = input.next().charAt(0);\n        if(YN=='Y'||YN=='y'){\n        prog=true;}\n        else if(YN=='N'||YN=='n'){\n        prog=false;\n        System.out.println(&quot;Thank you for using the program, have a nice day&quot;);\n        }\n        }\n    }\n    }\n}\n</code></pre>\n<p>Copy pasted contents of try again prompt in catch, expected to answer Y/N prompt. display but skips prompt entirely and loops to start of program.</p>\n"},{"tags":["java","serialization","avro"],"comments":[{"owner":{"account_id":6627875,"reputation":5335,"user_id":5117474,"accept_rate":93,"display_name":"Pythoner"},"score":0,"creation_date":1468247662,"post_id":38275061,"comment_id":64035957,"body_markdown":"@Alex A. Could you help me on this hint, please?","body":"@Alex A. Could you help me on this hint, please?"}],"answers":[{"tags":[],"owner":{"account_id":6627875,"reputation":5335,"user_id":5117474,"accept_rate":93,"display_name":"Pythoner"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1468270399,"creation_date":1468270399,"answer_id":38316041,"question_id":38275061,"body_markdown":"My own solution:\r\n\r\n    {&quot;namespace&quot;: &quot;Schema&quot;,\r\n      &quot;name&quot;:&quot;PvMap&quot;,\r\n      &quot;type&quot;:&quot;record&quot;,\r\n      &quot;fields&quot;:[\r\n      {&quot;name&quot;: &quot;TradeId&quot;, &quot;type&quot;: &quot;int&quot;},\r\n        { &quot;name&quot;: &quot;Tmap&quot;,\r\n          &quot;type&quot;:{\r\n    \t  &quot;type&quot;:&quot;map&quot;,\r\n          &quot;values&quot;:&quot;float&quot;}\r\n          }\r\n      ]\r\n    }","title":"How to create Avro schema for Map&lt;Integer,Map&lt;Integer,Float&gt;&gt;?","body":"<p>My own solution:</p>\n\n<pre><code>{\"namespace\": \"Schema\",\n  \"name\":\"PvMap\",\n  \"type\":\"record\",\n  \"fields\":[\n  {\"name\": \"TradeId\", \"type\": \"int\"},\n    { \"name\": \"Tmap\",\n      \"type\":{\n      \"type\":\"map\",\n      \"values\":\"float\"}\n      }\n  ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1335180,"reputation":2681,"user_id":1278112,"accept_rate":93,"display_name":"Shihe Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681437935,"creation_date":1681437935,"answer_id":76011077,"question_id":38275061,"body_markdown":"That field should be something like:\r\n\r\n    {\r\n        &quot;type&quot;: &quot;map&quot;,\r\n        &quot;values&quot;: {\r\n            &quot;type&quot;: &quot;map&quot;,\r\n            &quot;values&quot;: &quot;float&quot;\r\n        }\r\n    }\r\n\r\nExplanation:\r\n1. The outer map&#39;s type is set to &quot;map&quot;, and values specifies the schema of the inner map.\r\n2. The inner map&#39;s type is also set to &quot;map&quot;, and values specifies the value type of the inner map as &quot;float&quot;.\r\n3. According to the Avro map schema rule, the key type is not defined and is specified when using the map in the code.\r\n\r\n\r\n","title":"How to create Avro schema for Map&lt;Integer,Map&lt;Integer,Float&gt;&gt;?","body":"<p>That field should be something like:</p>\n<pre><code>{\n    &quot;type&quot;: &quot;map&quot;,\n    &quot;values&quot;: {\n        &quot;type&quot;: &quot;map&quot;,\n        &quot;values&quot;: &quot;float&quot;\n    }\n}\n</code></pre>\n<p>Explanation:</p>\n<ol>\n<li>The outer map's type is set to &quot;map&quot;, and values specifies the schema of the inner map.</li>\n<li>The inner map's type is also set to &quot;map&quot;, and values specifies the value type of the inner map as &quot;float&quot;.</li>\n<li>According to the Avro map schema rule, the key type is not defined and is specified when using the map in the code.</li>\n</ol>\n"}],"owner":{"account_id":6627875,"reputation":5335,"user_id":5117474,"accept_rate":93,"display_name":"Pythoner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6524,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38316041,"answer_count":2,"score":3,"last_activity_date":1681437935,"creation_date":1468010399,"question_id":38275061,"body_markdown":"The documentation of map of map is not very clear. I&#39;m trying to serialize such an object(Map&lt;Integer,Map&lt;Integer,Float&gt;&gt;) to Avro, how can I achieve that.\r\n\r\n    {&quot;namespace&quot;: &quot;example&quot;,\r\n     &quot;type&quot;: &quot;map&quot;,\r\n     &quot;name&quot;: &quot;Map&quot;,\r\n     &quot;keys&quot;: &quot;int&quot;,\r\n     &quot;values&quot;: {\r\n      &quot;type&quot;:&quot;map&quot;,\r\n      &quot;keys&quot;:&quot;int&quot;,\r\n      &quot;values&quot;:&quot;float&quot; \r\n     }\r\n    }  ","title":"How to create Avro schema for Map&lt;Integer,Map&lt;Integer,Float&gt;&gt;?","body":"<p>The documentation of map of map is not very clear. I'm trying to serialize such an object(Map>) to Avro, how can I achieve that.</p>\n\n<pre><code>{\"namespace\": \"example\",\n \"type\": \"map\",\n \"name\": \"Map\",\n \"keys\": \"int\",\n \"values\": {\n  \"type\":\"map\",\n  \"keys\":\"int\",\n  \"values\":\"float\" \n }\n}  \n</code></pre>\n"},{"tags":["java","list","arraylist","java-8"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1605782851,"post_id":64910080,"comment_id":114760219,"body_markdown":"Please provide a [mcve] - it&#39;ll be a lot easier to help you that way.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - it&#39;ll be a lot easier to help you that way."},{"owner":{"account_id":14120599,"reputation":453,"user_id":10201184,"display_name":"code-geek"},"score":0,"creation_date":1605784815,"post_id":64910080,"comment_id":114761098,"body_markdown":"Thank you very much! I was having another issue too that let to this prblem","body":"Thank you very much! I was having another issue too that let to this prblem"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1605790395,"post_id":64910080,"comment_id":114763608,"body_markdown":"In general query results are not guaranteed to be mutable, so you may not be able to do what you are trying. With a mutable list (an `ArrayList` in my case) nos. 2 and 4 work for me (no. 1 removes only the first `null` and no. 3 throws).","body":"In general query results are not guaranteed to be mutable, so you may not be able to do what you are trying. With a mutable list (an <code>ArrayList</code> in my case) nos. 2 and 4 work for me (no. 1 removes only the first <code>null</code> and no. 3 throws)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1605793526,"post_id":64910080,"comment_id":114765038,"body_markdown":"Please, *nothing seemed to work* is not very helpful. Please quote the exact error messages you get so we may help you how to solve them. Or if you dont get any error messages, specify precisely how observed result differs from the expected. [I downvoted because &quot;it&#39;s not working&quot; is not helpful](http://idownvotedbecau.se/itsnotworking/).","body":"Please, <i>nothing seemed to work</i> is not very helpful. Please quote the exact error messages you get so we may help you how to solve them. Or if you dont get any error messages, specify precisely how observed result differs from the expected. <a href=\"http://idownvotedbecau.se/itsnotworking/\" rel=\"nofollow noreferrer\">I downvoted because &quot;it&#39;s not working&quot; is not helpful</a>."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1605783312,"creation_date":1605782907,"answer_id":64910109,"question_id":64910080,"body_markdown":"**Mutable list**\r\n\r\nYou can use `List::removeIf` with a predicate detecting `null` items.\r\n\r\n    List&lt;Object[]&gt; mutableList = new ArrayList&lt;&gt;(Arrays.asList(\r\n        new Object[] {}, \r\n        null, \r\n        new Object[] {}));\r\n\r\n    mutableList.removeIf(Objects::isNull);\r\n\r\n**Immutable list**\r\n\r\n   In this case you have to use Stream API or a for-loop to find non-null elements and add them to a new list.\r\n\r\n    List&lt;Object[]&gt; immutableList = Arrays.asList(\r\n        new Object[] {}, \r\n        null, \r\n        new Object[] {});\r\n\r\n    List&lt;Object[]&gt; newList = immutableList.stream()\r\n                                          .filter(Objects::nonNull)\r\n                                          .collect(Collectors.toList());","title":"Java - Remove null from list of Objects","body":"<p><strong>Mutable list</strong></p>\n<p>You can use <code>List::removeIf</code> with a predicate detecting <code>null</code> items.</p>\n<pre><code>List&lt;Object[]&gt; mutableList = new ArrayList&lt;&gt;(Arrays.asList(\n    new Object[] {}, \n    null, \n    new Object[] {}));\n\nmutableList.removeIf(Objects::isNull);\n</code></pre>\n<p><strong>Immutable list</strong></p>\n<p>In this case you have to use Stream API or a for-loop to find non-null elements and add them to a new list.</p>\n<pre><code>List&lt;Object[]&gt; immutableList = Arrays.asList(\n    new Object[] {}, \n    null, \n    new Object[] {});\n\nList&lt;Object[]&gt; newList = immutableList.stream()\n                                      .filter(Objects::nonNull)\n                                      .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":14120599,"reputation":453,"user_id":10201184,"display_name":"code-geek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3221,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":64910109,"answer_count":1,"score":-1,"last_activity_date":1681437858,"creation_date":1605782766,"question_id":64910080,"body_markdown":"I have a huge sized java list object as follows :\r\n\r\n    List&lt;Object[]&gt; res = // repo method that will return query result\r\n\r\nI have to remove nulls from the res object.\r\n\r\nI tried below methods so far but nothing seemed to work:\r\n\r\n    1. res.remove(null);\r\n    2. res.removeAll(Collections.singleton(null));\r\n    3. res.removeAll(null);\r\n    4. while(res.remove(null));\r\n\r\nHow can I remove nulls efficiently as the list size is going to be huge?\r\n","title":"Java - Remove null from list of Objects","body":"<p>I have a huge sized java list object as follows :</p>\n<pre><code>List&lt;Object[]&gt; res = // repo method that will return query result\n</code></pre>\n<p>I have to remove nulls from the res object.</p>\n<p>I tried below methods so far but nothing seemed to work:</p>\n<pre><code>1. res.remove(null);\n2. res.removeAll(Collections.singleton(null));\n3. res.removeAll(null);\n4. while(res.remove(null));\n</code></pre>\n<p>How can I remove nulls efficiently as the list size is going to be huge?</p>\n"},{"tags":["java","android","camera","arrays","photo"],"comments":[{"owner":{"account_id":1406240,"reputation":134,"user_id":1333880,"accept_rate":100,"display_name":"DevinFalgoust"},"score":0,"creation_date":1359391352,"post_id":14556569,"comment_id":20325839,"body_markdown":"See a similar question [here](http://stackoverflow.com/questions/11674816/android-image-orientation-issue-with-custom-camera-activity).","body":"See a similar question <a href=\"http://stackoverflow.com/questions/11674816/android-image-orientation-issue-with-custom-camera-activity\">here</a>."},{"owner":{"account_id":255731,"reputation":32942,"user_id":535967,"accept_rate":90,"display_name":"lisovaccaro"},"score":0,"creation_date":1359396116,"post_id":14556569,"comment_id":20328356,"body_markdown":"I had seen that answer. I just downloaded the source he provided and it&#39;s actually not for a camera app but for using the default camera to take a picture. I simply don&#39;t understand how to implement the code on the answer. There is a bitmap variable I don&#39;t have. If you know how to include the answer inside onPictureTaken I&#39;ll accept the answer.","body":"I had seen that answer. I just downloaded the source he provided and it&#39;s actually not for a camera app but for using the default camera to take a picture. I simply don&#39;t understand how to implement the code on the answer. There is a bitmap variable I don&#39;t have. If you know how to include the answer inside onPictureTaken I&#39;ll accept the answer."}],"answers":[{"tags":[],"owner":{"account_id":1956860,"reputation":2527,"user_id":1759687,"accept_rate":60,"display_name":"GioLaq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359546259,"creation_date":1359546259,"answer_id":14603215,"question_id":14556569,"body_markdown":"Try something like this:\r\n\r\n \r\n    int orientation = Exif.getOrientation(data);\r\n    Log.d(&quot;#&quot;, &quot;onPictureTaken().orientation = &quot; + orientation);\r\n    if(orientation != 0) {\r\n         Bitmap bmpSrc = BitmapFactory.decodeByteArray(data, 0, data.length);\r\n         Bitmap bmpRotated = CameraUtil.rotate(bmpSrc, orientation);\r\n         bmpSrc.recycle();\r\n                                        \r\n                                           \r\n           try {\r\n                                                   \r\n                 FileOutputStream localFileOutputStream = new FileOutputStream(filePath);\r\n                 bmpRotated.compress(Bitmap.CompressFormat.JPEG, 90,localFileOutputStream);\r\n                 localFileOutputStream.flush();\r\n                 localFileOutputStream.close();\r\n                 bmpRotated.recycle();\r\n                                                   \r\n               }\r\n            catch (FileNotFoundException e) \r\n               {\r\n                  e.printStackTrace();\r\n               }\r\n            catch (IOException e) \r\n               {\r\n                   e.printStackTrace();\r\n               }\r\n                                   \r\n          } else {\r\n    \r\n              try {\r\n           \r\n                   FileOutputStream localFileOutputStream = new FileOutputStream(filePath);\r\n                   localFileOutputStream.write(data);\r\n                   localFileOutputStream.flush();\r\n                   localFileOutputStream.close();\r\n           \r\n                   } catch (IOException localIOException)\r\n                      {\r\n                                            Log.e(&quot;#&quot;,localIOException.getMessage());\r\n                      }\r\n       }\r\n\r\n","title":"Make sure photos are saved with the same orientation they were taken?","body":"<p>Try something like this:</p>\n\n<pre><code>int orientation = Exif.getOrientation(data);\nLog.d(\"#\", \"onPictureTaken().orientation = \" + orientation);\nif(orientation != 0) {\n     Bitmap bmpSrc = BitmapFactory.decodeByteArray(data, 0, data.length);\n     Bitmap bmpRotated = CameraUtil.rotate(bmpSrc, orientation);\n     bmpSrc.recycle();\n\n\n       try {\n\n             FileOutputStream localFileOutputStream = new FileOutputStream(filePath);\n             bmpRotated.compress(Bitmap.CompressFormat.JPEG, 90,localFileOutputStream);\n             localFileOutputStream.flush();\n             localFileOutputStream.close();\n             bmpRotated.recycle();\n\n           }\n        catch (FileNotFoundException e) \n           {\n              e.printStackTrace();\n           }\n        catch (IOException e) \n           {\n               e.printStackTrace();\n           }\n\n      } else {\n\n          try {\n\n               FileOutputStream localFileOutputStream = new FileOutputStream(filePath);\n               localFileOutputStream.write(data);\n               localFileOutputStream.flush();\n               localFileOutputStream.close();\n\n               } catch (IOException localIOException)\n                  {\n                                        Log.e(\"#\",localIOException.getMessage());\n                  }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5052277,"reputation":71,"user_id":4056472,"display_name":"Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411086719,"creation_date":1411086719,"answer_id":25924566,"question_id":14556569,"body_markdown":"There are different ways to get your image, as data, as stream, as file, also it is different for camera and gallery and other apps. For each of them you have another way to access the orientation tag. Once you have the orientation, you can rotate your image. \r\n\r\nYou - or for that matter everyone - should really get a Nexus, they are nice and rotate the image for you and set orientation to 0, while the lazy ones like Samsung just store the image and set the orientation tag. ;)\r\n","title":"Make sure photos are saved with the same orientation they were taken?","body":"<p>There are different ways to get your image, as data, as stream, as file, also it is different for camera and gallery and other apps. For each of them you have another way to access the orientation tag. Once you have the orientation, you can rotate your image. </p>\n\n<p>You - or for that matter everyone - should really get a Nexus, they are nice and rotate the image for you and set orientation to 0, while the lazy ones like Samsung just store the image and set the orientation tag. ;)</p>\n"},{"tags":[],"owner":{"account_id":27491284,"reputation":16,"user_id":20976604,"display_name":"24tr6637"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681437359,"creation_date":1681437359,"answer_id":76011036,"question_id":14556569,"body_markdown":"Assuming you&#39;re using the [`Android graphics framework`][1], something like the following might work for you:\r\n\r\n```java\r\npublic void onPictureTaken(byte[] data, Camera camera) {\r\n    try {\r\n        Bitmap bitmap = BitmapFactory.decodeByteArray(data, 0, data.length);\r\n        ExifInterface exif = new ExifInterface(filePath);\r\n        int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\r\n        Matrix matrix = new Matrix();\r\n        switch (orientation) {\r\n            case ExifInterface.ORIENTATION_ROTATE_90:\r\n                matrix.postRotate(90);\r\n                break;\r\n            case ExifInterface.ORIENTATION_ROTATE_180:\r\n                matrix.postRotate(180);\r\n                break;\r\n            case ExifInterface.ORIENTATION_ROTATE_270:\r\n                matrix.postRotate(270);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        Bitmap rotatedBitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);\r\n        FileOutputStream outStream = new FileOutputStream(filePath);\r\n        rotatedBitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\r\n        outStream.close();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n - First, we can use the [`Bitmap`][2] object as an easy way to decode and manipulate image data.\r\n - Then we create a [`Matrix`][3] because rotation is a linear transformation represented by matrix multiplication and because we don&#39;t need to manipulate pixel values directly.\r\n - We then use the [`Exif`][4] metadata to determine how we need to rotate the image to get it oriented correctly.\r\n - After creating the correct [rotation matrix][4] for the image, create a new `Bitmap` using the new transformation `Matrix` and the original `Bitmap`.\r\n - Finally, we use [`FileOutputStream`][5] to write the image to the predefined class member `filePath`.\r\n\r\n\r\n  [1]: https://source.android.com/docs/core/graphics\r\n  [2]: https://developer.android.com/reference/android/graphics/Bitmap\r\n  [3]: https://developer.android.com/reference/android/graphics/Matrix\r\n  [4]: https://developer.android.com/reference/android/media/ExifInterface\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html","title":"Make sure photos are saved with the same orientation they were taken?","body":"<p>Assuming you're using the <a href=\"https://source.android.com/docs/core/graphics\" rel=\"nofollow noreferrer\"><code>Android graphics framework</code></a>, something like the following might work for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onPictureTaken(byte[] data, Camera camera) {\n    try {\n        Bitmap bitmap = BitmapFactory.decodeByteArray(data, 0, data.length);\n        ExifInterface exif = new ExifInterface(filePath);\n        int orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_UNDEFINED);\n        Matrix matrix = new Matrix();\n        switch (orientation) {\n            case ExifInterface.ORIENTATION_ROTATE_90:\n                matrix.postRotate(90);\n                break;\n            case ExifInterface.ORIENTATION_ROTATE_180:\n                matrix.postRotate(180);\n                break;\n            case ExifInterface.ORIENTATION_ROTATE_270:\n                matrix.postRotate(270);\n                break;\n            default:\n                break;\n        }\n        Bitmap rotatedBitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);\n        FileOutputStream outStream = new FileOutputStream(filePath);\n        rotatedBitmap.compress(Bitmap.CompressFormat.JPEG, 100, outStream);\n        outStream.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<ul>\n<li>First, we can use the <a href=\"https://developer.android.com/reference/android/graphics/Bitmap\" rel=\"nofollow noreferrer\"><code>Bitmap</code></a> object as an easy way to decode and manipulate image data.</li>\n<li>Then we create a <a href=\"https://developer.android.com/reference/android/graphics/Matrix\" rel=\"nofollow noreferrer\"><code>Matrix</code></a> because rotation is a linear transformation represented by matrix multiplication and because we don't need to manipulate pixel values directly.</li>\n<li>We then use the <a href=\"https://developer.android.com/reference/android/media/ExifInterface\" rel=\"nofollow noreferrer\"><code>Exif</code></a> metadata to determine how we need to rotate the image to get it oriented correctly.</li>\n<li>After creating the correct <a href=\"https://developer.android.com/reference/android/media/ExifInterface\" rel=\"nofollow noreferrer\">rotation matrix</a> for the image, create a new <code>Bitmap</code> using the new transformation <code>Matrix</code> and the original <code>Bitmap</code>.</li>\n<li>Finally, we use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html\" rel=\"nofollow noreferrer\"><code>FileOutputStream</code></a> to write the image to the predefined class member <code>filePath</code>.</li>\n</ul>\n"}],"owner":{"account_id":255731,"reputation":32942,"user_id":535967,"accept_rate":90,"display_name":"lisovaccaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1469,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1681437359,"creation_date":1359354459,"question_id":14556569,"body_markdown":"For some reason, my camera app saves all photos rotated 90 degrees (pictures only look right when taken with camera on landscape mode) I believe onPictureTaken should rotate photos automatically but I read there is a problem with Samsung devices (I haven&#39;t been able to test it on another brand so I don&#39;t know if it&#39;s the case). This is my code:\r\n\r\n       public void onPictureTaken(byte[] data, Camera camera) {\r\n          // Generate file name\r\n          FileOutputStream outStream = null;\r\n          outStream = new FileOutputStream(filePath);\r\n          outStream.write(data);\r\n          outStream.close();\r\n\r\nI was thinking it could be fixed by checking the orientation and rotating the byte array but there must be a more straightforward way to do it since handling byte arrays is a pain.\r\nHow can I make sure photos are saved matching the orientation they were taken?","title":"Make sure photos are saved with the same orientation they were taken?","body":"<p>For some reason, my camera app saves all photos rotated 90 degrees (pictures only look right when taken with camera on landscape mode) I believe onPictureTaken should rotate photos automatically but I read there is a problem with Samsung devices (I haven't been able to test it on another brand so I don't know if it's the case). This is my code:</p>\n\n<pre><code>   public void onPictureTaken(byte[] data, Camera camera) {\n      // Generate file name\n      FileOutputStream outStream = null;\n      outStream = new FileOutputStream(filePath);\n      outStream.write(data);\n      outStream.close();\n</code></pre>\n\n<p>I was thinking it could be fixed by checking the orientation and rotating the byte array but there must be a more straightforward way to do it since handling byte arrays is a pain.\nHow can I make sure photos are saved matching the orientation they were taken?</p>\n"},{"tags":["java","spring-boot","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681296748,"creation_date":1681296748,"answer_id":75994610,"question_id":75961137,"body_markdown":"`ContainerResponseContext` has two methods being confused here:\r\n\r\n - [getEntity()][1] - returns the actual Java entity object before it has been written\r\n - [getOutputStream()][2] - returns the `OutputStream` used for writing the entity. The entity is written during the writer interceptor phase.\r\n\r\nThe `OutputStream` can be decorated by a user-provided `OutputStream` which does what is required, for instance, it logs the information and writes the data to the original stream. This new decorator `OutputStream` can be registered by [ContainerResponseContext#setEntityStream()][3].\r\n\r\nJersey comes with [LoggingFeature][4] / [ServerLoggingFilter][5] / [LoggingInterceptor][6]. Together, they do exactly this logging, the filter decorates the original `OutputStream` and they log the entity, headers, and other response-related information.\r\n\r\nIn those Jersey classes, you can see how [ContainerRequestContext#setProperty()][7] and [WriterInterceptorContext#getProperty][8] are used for passing the information from the `Filter` to the `Interceptor`.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#getEntity()\r\n  [2]: https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#getEntityStream()\r\n  [3]: https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#setEntityStream(java.io.OutputStream)\r\n  [4]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/logging_chapter.html#logging\r\n  [5]: https://github.com/eclipse-ee4j/jersey/blob/3.1/core-common/src/main/java/org/glassfish/jersey/logging/ServerLoggingFilter.java\r\n  [6]: https://github.com/eclipse-ee4j/jersey/blob/3.1/core-common/src/main/java/org/glassfish/jersey/logging/LoggingInterceptor.java\r\n  [7]: https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerrequestcontext#setProperty(java.lang.String,java.lang.Object)\r\n  [8]: https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/ext/interceptorcontext#getProperty(java.lang.String)","title":"Fetch response body using ContainerResponseFilter","body":"<p><code>ContainerResponseContext</code> has two methods being confused here:</p>\n<ul>\n<li><a href=\"https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#getEntity()\" rel=\"nofollow noreferrer\">getEntity()</a> - returns the actual Java entity object before it has been written</li>\n<li><a href=\"https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#getEntityStream()\" rel=\"nofollow noreferrer\">getOutputStream()</a> - returns the <code>OutputStream</code> used for writing the entity. The entity is written during the writer interceptor phase.</li>\n</ul>\n<p>The <code>OutputStream</code> can be decorated by a user-provided <code>OutputStream</code> which does what is required, for instance, it logs the information and writes the data to the original stream. This new decorator <code>OutputStream</code> can be registered by <a href=\"https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerresponsecontext#setEntityStream(java.io.OutputStream)\" rel=\"nofollow noreferrer\">ContainerResponseContext#setEntityStream()</a>.</p>\n<p>Jersey comes with <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/logging_chapter.html#logging\" rel=\"nofollow noreferrer\">LoggingFeature</a> / <a href=\"https://github.com/eclipse-ee4j/jersey/blob/3.1/core-common/src/main/java/org/glassfish/jersey/logging/ServerLoggingFilter.java\" rel=\"nofollow noreferrer\">ServerLoggingFilter</a> / <a href=\"https://github.com/eclipse-ee4j/jersey/blob/3.1/core-common/src/main/java/org/glassfish/jersey/logging/LoggingInterceptor.java\" rel=\"nofollow noreferrer\">LoggingInterceptor</a>. Together, they do exactly this logging, the filter decorates the original <code>OutputStream</code> and they log the entity, headers, and other response-related information.</p>\n<p>In those Jersey classes, you can see how <a href=\"https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/container/containerrequestcontext#setProperty(java.lang.String,java.lang.Object)\" rel=\"nofollow noreferrer\">ContainerRequestContext#setProperty()</a> and <a href=\"https://jakarta.ee/specifications/restful-ws/3.0/apidocs/jakarta/ws/rs/ext/interceptorcontext#getProperty(java.lang.String)\" rel=\"nofollow noreferrer\">WriterInterceptorContext#getProperty</a> are used for passing the information from the <code>Filter</code> to the <code>Interceptor</code>.</p>\n"},{"tags":[],"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681408111,"creation_date":1681408111,"answer_id":76008425,"question_id":75961137,"body_markdown":"I think there&#39;s a misunderstanding about the usage of the method `ContainerResponseContext#getEntityStream()`. One isn&#39;t supposed to read from an `OutputStream`.\r\n\r\nAs @jan-supol says in his answer, you can decorate the `OutputStream` with a logger, for example.\r\n\r\nBut, if you still want to log your response the way you&#39;re doing, you could retrieve the entity directly.\r\n\r\nThe code you wrote:\r\n\r\n```java\r\n    OutputStream originalStream = context.getEntityStream();\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream(); // it&#39;s empty\r\n    context.setEntityStream(baos); // why? you&#39;re replacing the original os by this one\r\n    String body = baos.toString(); // empty stream, empty string\r\n    baos.writeTo(originalStream); // you&#39;re writing your empty stream to os, which doesn&#39;t affect the os\r\n    baos.close();\r\n    context.setEntityStream(originalStream); // assignment rollback?\r\n    return body; // returning an empty string\r\n```\r\n\r\nThe way I&#39;d do it:\r\n\r\n```java\r\n    @Override\r\n    public void filter(ContainerRequestContext request, ContainerResponseContext response) {\r\n        if (response.hasEntity()) {\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot; - Response Entity Class: &quot;).append(response.getEntityClass())\r\n                    .append(System.getProperty(&quot;line.separator&quot;));\r\n            // in order to work, you should guarantee that entity has reasonable #toString implementation\r\n            Object entity = response.getEntity();\r\n            sb.append(&quot; - Response Entity Stream: &quot;).append(entity.toString())\r\n                    .append(System.getProperty(&quot;line.separator&quot;));\r\n            System.out.println(&quot;HTTP RESPONSE : &quot; + &quot;\\n&quot; + sb.toString());\r\n        }\r\n    }\r\n```\r\n","title":"Fetch response body using ContainerResponseFilter","body":"<p>I think there's a misunderstanding about the usage of the method <code>ContainerResponseContext#getEntityStream()</code>. One isn't supposed to read from an <code>OutputStream</code>.</p>\n<p>As @jan-supol says in his answer, you can decorate the <code>OutputStream</code> with a logger, for example.</p>\n<p>But, if you still want to log your response the way you're doing, you could retrieve the entity directly.</p>\n<p>The code you wrote:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    OutputStream originalStream = context.getEntityStream();\n    ByteArrayOutputStream baos = new ByteArrayOutputStream(); // it's empty\n    context.setEntityStream(baos); // why? you're replacing the original os by this one\n    String body = baos.toString(); // empty stream, empty string\n    baos.writeTo(originalStream); // you're writing your empty stream to os, which doesn't affect the os\n    baos.close();\n    context.setEntityStream(originalStream); // assignment rollback?\n    return body; // returning an empty string\n</code></pre>\n<p>The way I'd do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void filter(ContainerRequestContext request, ContainerResponseContext response) {\n        if (response.hasEntity()) {\n            StringBuilder sb = new StringBuilder();\n            sb.append(&quot; - Response Entity Class: &quot;).append(response.getEntityClass())\n                    .append(System.getProperty(&quot;line.separator&quot;));\n            // in order to work, you should guarantee that entity has reasonable #toString implementation\n            Object entity = response.getEntity();\n            sb.append(&quot; - Response Entity Stream: &quot;).append(entity.toString())\n                    .append(System.getProperty(&quot;line.separator&quot;));\n            System.out.println(&quot;HTTP RESPONSE : &quot; + &quot;\\n&quot; + sb.toString());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681436868,"creation_date":1680892630,"question_id":75961137,"body_markdown":"I am trying to catch the response entity stream using `getEntityStream()` of `ContainerResponseContext`. Below is the code:\r\n\r\n```java\r\npublic String getResponseEntityStream(ContainerResponseContext context) throws IOException {\r\n\r\n\tOutputStream originalStream = context.getEntityStream();\r\n\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\tcontext.setEntityStream(baos);\r\n\r\n\tString body = baos.toString();\r\n\tbaos.writeTo(originalStream);\r\n\tbaos.close();\r\n\tcontext.setEntityStream(originalStream);\r\n\treturn body;\r\n}\r\n```\r\n\r\nI call the above method in below code to fetch the entire response stream:\r\n\r\n```java\r\n@Override\r\npublic void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext)\r\n\t\tthrows IOException {\r\n\r\n\tStringBuilder sbResponse = new StringBuilder();\r\n\t\r\n\tsbResponse.append(&quot; - Response Entity Class: &quot;).append(responseContext.getEntityClass())\r\n\t\t.append(System.getProperty(&quot;line.separator&quot;));\r\n\r\n\tsbResponse.append(&quot; - Response Entity Stream: &quot;).append(getResponseEntityStream(responseContext))\r\n\t\t.append(System.getProperty(&quot;line.separator&quot;));\r\n\r\n\tSystem.out.println(&quot;HTTP RESPONSE : &quot; + &quot;\\n&quot; + sbResponse.toString());\r\n}\r\n```\r\n\r\n**My question:**\r\n\r\nIn the above code, `Response Entity Stream` is always blank. I am just trying to read the entire response entity stream and print it to show how the original stream looks like, before I do some processing on the stream. Where am I making the mistake? Thanks in advance.\r\n\r\n**UPDATE:**\r\nI am able to fetch the response body using `WriterInterceptor`. However the `WriterInterceptor` is invoked only when there is a response payload. I am using `ContainerResponseFilter` as I want to read response details even when there is no payload. Also, Writer Interceptor does not help `getStatus()` and `getStatusInfo()` like the `ContainerResponseFilter`. Is there a way that I can combine the data of both `ContainerResponseFilter` and `WriterInterceptor` in a string and print the entire response in logs. may be by using Thread Local?","title":"Fetch response body using ContainerResponseFilter","body":"<p>I am trying to catch the response entity stream using <code>getEntityStream()</code> of <code>ContainerResponseContext</code>. Below is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getResponseEntityStream(ContainerResponseContext context) throws IOException {\n\n    OutputStream originalStream = context.getEntityStream();\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    context.setEntityStream(baos);\n\n    String body = baos.toString();\n    baos.writeTo(originalStream);\n    baos.close();\n    context.setEntityStream(originalStream);\n    return body;\n}\n</code></pre>\n<p>I call the above method in below code to fetch the entire response stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext)\n        throws IOException {\n\n    StringBuilder sbResponse = new StringBuilder();\n    \n    sbResponse.append(&quot; - Response Entity Class: &quot;).append(responseContext.getEntityClass())\n        .append(System.getProperty(&quot;line.separator&quot;));\n\n    sbResponse.append(&quot; - Response Entity Stream: &quot;).append(getResponseEntityStream(responseContext))\n        .append(System.getProperty(&quot;line.separator&quot;));\n\n    System.out.println(&quot;HTTP RESPONSE : &quot; + &quot;\\n&quot; + sbResponse.toString());\n}\n</code></pre>\n<p><strong>My question:</strong></p>\n<p>In the above code, <code>Response Entity Stream</code> is always blank. I am just trying to read the entire response entity stream and print it to show how the original stream looks like, before I do some processing on the stream. Where am I making the mistake? Thanks in advance.</p>\n<p><strong>UPDATE:</strong>\nI am able to fetch the response body using <code>WriterInterceptor</code>. However the <code>WriterInterceptor</code> is invoked only when there is a response payload. I am using <code>ContainerResponseFilter</code> as I want to read response details even when there is no payload. Also, Writer Interceptor does not help <code>getStatus()</code> and <code>getStatusInfo()</code> like the <code>ContainerResponseFilter</code>. Is there a way that I can combine the data of both <code>ContainerResponseFilter</code> and <code>WriterInterceptor</code> in a string and print the entire response in logs. may be by using Thread Local?</p>\n"},{"tags":["java","generics","overriding"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1681435818,"post_id":76010950,"comment_id":134059807,"body_markdown":"The interface isn&#39;t generic. You have defined two totally independent generic methods.","body":"The interface isn&#39;t generic. You have defined two totally independent generic methods."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681435897,"creation_date":1681435897,"answer_id":76010958,"question_id":76010950,"body_markdown":"The type parameter `T` should be declared at the `interface` level, not separately for each method.\r\n\r\n```java\r\npublic interface I&lt;T&gt; {\r\n    T getValue();\r\n    void setValue(T diagram);\r\n}\r\nenum E implements I&lt;C&gt; {\r\n    // ...\r\n}\r\n```","title":"enum implementing interface with generic methods","body":"<p>The type parameter <code>T</code> should be declared at the <code>interface</code> level, not separately for each method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface I&lt;T&gt; {\n    T getValue();\n    void setValue(T diagram);\n}\nenum E implements I&lt;C&gt; {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":26181927,"reputation":31,"user_id":19865178,"display_name":"Flo Flo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76010958,"answer_count":1,"score":0,"last_activity_date":1681435897,"creation_date":1681435683,"question_id":76010950,"body_markdown":"I have an interface:\r\n\r\n    public interface I {\r\n        &lt;T&gt; T getValue();\r\n        &lt;T&gt; void setValue(T diagram);\r\n    }\r\n\r\nbut when I set\r\n\r\n    enum E implements I {\r\n            A {\r\n                private C c;\r\n    \r\n                @Override\r\n                public C getValue() {\r\n                    return c;\r\n                }\r\n    \r\n                @Override\r\n                public void setValue(C c) {\r\n                    this.c = c;\r\n                }\r\n            };\r\n        }\r\n\r\nI have an error on the setValue method (&quot;Method does not override method from its superclass&quot;), why is it ok for the first method only to replace the generic ?\r\n\r\nThanks","title":"enum implementing interface with generic methods","body":"<p>I have an interface:</p>\n<pre><code>public interface I {\n    &lt;T&gt; T getValue();\n    &lt;T&gt; void setValue(T diagram);\n}\n</code></pre>\n<p>but when I set</p>\n<pre><code>enum E implements I {\n        A {\n            private C c;\n\n            @Override\n            public C getValue() {\n                return c;\n            }\n\n            @Override\n            public void setValue(C c) {\n                this.c = c;\n            }\n        };\n    }\n</code></pre>\n<p>I have an error on the setValue method (&quot;Method does not override method from its superclass&quot;), why is it ok for the first method only to replace the generic ?</p>\n<p>Thanks</p>\n"},{"tags":["java","oop","static","default","super"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":1,"creation_date":1681430399,"post_id":76010464,"comment_id":134059287,"body_markdown":"The first way with constant looks more clear as for me. Why do you want defining them as methods instead? isn&#39;t it the same just looks longer?","body":"The first way with constant looks more clear as for me. Why do you want defining them as methods instead? isn&#39;t it the same just looks longer?"},{"owner":{"account_id":11083707,"reputation":13,"user_id":8138183,"display_name":"theNovice"},"score":0,"creation_date":1681490433,"post_id":76010464,"comment_id":134070357,"body_markdown":"@IgorArtamonov, the first way is defining global variables. When these are passed on to the superclass, then the superclass could change them, affecting other instances of the subclass. The static methods don&#39;t return static variables, so new instances of the subclass are unaffected if another superclass instance changes the variable.","body":"@IgorArtamonov, the first way is defining global variables. When these are passed on to the superclass, then the superclass could change them, affecting other instances of the subclass. The static methods don&#39;t return static variables, so new instances of the subclass are unaffected if another superclass instance changes the variable."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1681492672,"post_id":76010464,"comment_id":134070833,"body_markdown":"But you cannot &quot;override&quot; static methods anyway, so that would be independent constants just written like it&#39;s a method. That&#39;s why I&#39;m asking, since I don&#39;t see any technical difference except it looks longer.","body":"But you cannot &quot;override&quot; static methods anyway, so that would be independent constants just written like it&#39;s a method. That&#39;s why I&#39;m asking, since I don&#39;t see any technical difference except it looks longer."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681434228,"creation_date":1681434228,"answer_id":76010870,"question_id":76010464,"body_markdown":"What you want doesn&#39;t work. static methods do not &#39;do&#39; inheritance. You&#39;re better off thinking of static methods as existing fully outside classes entirely.\r\n\r\nIn java, classes (well, types) have 2 roles. They define types, sure, but, they have a second role as namespaces. It&#39;s types that have a fully qualified namespace (they exist in a package, hence, you can have 2 classes both named `Foo` and java allows you to differentiate via packages). Methods then exist _inside_ one, and thus, the fact that you can fully qualify classes means methods, too, are namespaced. This is how java solves the cameragun problem (both cameras and guns have a `shoot(Person p)` method, but, you wouldn&#39;t want to get confused!).\r\n\r\nHence, static methods have to be in a class. But they don&#39;t do inheritance, unlike instance methods  You can&#39;t &quot;override&quot; static methods:\r\n\r\n```\r\nclass Parent {\r\n  Parent() {\r\n    System.out.println(&quot;This is the result of foo: &quot; + foo());\r\n  }\r\n\r\n  static String foo() {\r\n    return &quot;in parent&quot;;\r\n  }\r\n}\r\n\r\nclass Child extends Parent {\r\n  static String foo() {\r\n    return &quot;in child&quot;;\r\n  }\r\n}\r\n\r\nnew Child();\r\n```\r\n\r\nwill print __in parent__, showing how you __cannot__ &#39;override&#39; static methods.\r\n\r\nBecause of this, the solution of immutable fields is simpler and more clear, so, you should probably stick with what you already have. However, note that your static constants aren&#39;t marked `final` which means you now have global mutable state. If you like maintainable code, you don&#39;t want that. Mark them `final`. And, make them `ALL_CAPS` (java convention for &#39;constant&#39; - avoids having to document &#39;these should be immutable types&#39;, as the all-caps implies it).\r\n\r\nIf you want extension-style things as part of the job of construction, __this is what factories are for__. Factories are the mechanism by which you give `static` aspects of classes (and constructors _are_ static, in the sense that you do not need to have an instance of the class to call one, and they don&#39;t &#39;inherit&#39; / cannot be overridden):\r\n\r\n```\r\nclass ParentFactory {\r\n  public double defaultFooVal() {\r\n    return 2.0;\r\n  }\r\n\r\n  public Parent create() {\r\n    return new Parent(defaultFooVal());\r\n}\r\n\r\nclass ChildFactory extends Parent {\r\n  @Override public double defaultFooVal() {\r\n    return 3.0;\r\n  }\r\n}\r\n\r\nParentFactory f = new ChildFactory();\r\nParent p = f.create();\r\nSystem.out.println(p.getFooVal());\r\n```\r\n\r\nwould print `3.0` as you want it to.\r\n\r\n\r\n\r\n  ","title":"How to declare default member values in Java that are passed to super class but cannot be inline","body":"<p>What you want doesn't work. static methods do not 'do' inheritance. You're better off thinking of static methods as existing fully outside classes entirely.</p>\n<p>In java, classes (well, types) have 2 roles. They define types, sure, but, they have a second role as namespaces. It's types that have a fully qualified namespace (they exist in a package, hence, you can have 2 classes both named <code>Foo</code> and java allows you to differentiate via packages). Methods then exist <em>inside</em> one, and thus, the fact that you can fully qualify classes means methods, too, are namespaced. This is how java solves the cameragun problem (both cameras and guns have a <code>shoot(Person p)</code> method, but, you wouldn't want to get confused!).</p>\n<p>Hence, static methods have to be in a class. But they don't do inheritance, unlike instance methods  You can't &quot;override&quot; static methods:</p>\n<pre><code>class Parent {\n  Parent() {\n    System.out.println(&quot;This is the result of foo: &quot; + foo());\n  }\n\n  static String foo() {\n    return &quot;in parent&quot;;\n  }\n}\n\nclass Child extends Parent {\n  static String foo() {\n    return &quot;in child&quot;;\n  }\n}\n\nnew Child();\n</code></pre>\n<p>will print <strong>in parent</strong>, showing how you <strong>cannot</strong> 'override' static methods.</p>\n<p>Because of this, the solution of immutable fields is simpler and more clear, so, you should probably stick with what you already have. However, note that your static constants aren't marked <code>final</code> which means you now have global mutable state. If you like maintainable code, you don't want that. Mark them <code>final</code>. And, make them <code>ALL_CAPS</code> (java convention for 'constant' - avoids having to document 'these should be immutable types', as the all-caps implies it).</p>\n<p>If you want extension-style things as part of the job of construction, <strong>this is what factories are for</strong>. Factories are the mechanism by which you give <code>static</code> aspects of classes (and constructors <em>are</em> static, in the sense that you do not need to have an instance of the class to call one, and they don't 'inherit' / cannot be overridden):</p>\n<pre><code>class ParentFactory {\n  public double defaultFooVal() {\n    return 2.0;\n  }\n\n  public Parent create() {\n    return new Parent(defaultFooVal());\n}\n\nclass ChildFactory extends Parent {\n  @Override public double defaultFooVal() {\n    return 3.0;\n  }\n}\n\nParentFactory f = new ChildFactory();\nParent p = f.create();\nSystem.out.println(p.getFooVal());\n</code></pre>\n<p>would print <code>3.0</code> as you want it to.</p>\n"}],"owner":{"account_id":11083707,"reputation":13,"user_id":8138183,"display_name":"theNovice"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76010870,"answer_count":1,"score":0,"last_activity_date":1681434228,"creation_date":1681427160,"question_id":76010464,"body_markdown":"I have code that I think is using static members incorrectly. \r\n\r\nAn example is below. Variable types and names might not make sense.\r\n\r\n\r\n```\r\npublic class subclass extends superclass {\r\n    private static Boolean varBool = new Boolean(true);\r\n    private static Double  varDoub = new Double(4.3);\r\n    private static CustomType varCustom = new CustomType(varBool, varDoub);\r\n\r\n    public subclass() { super(varCustom); }\r\n}\r\n```\r\n\r\nI think this is an incorrect use of static. I see that the author wanted to define default values that can be passed to the super class, and used static to do so. The way this class was used, I believe did not cause issues since the values didn&#39;t change, but now I want them to for different instances.\r\n\r\n\r\nI&#39;m instead considering using static methods to define these defaults.\r\n\r\n```\r\npublic class subclass extends superclass {\r\n\r\n    public subclass() { super(getVarCustom()); }\r\n\r\n    private static getVarBool() { return new Boolean(true); }\r\n\r\n    private static getVarDoub() { return new Double(4.3); }\r\n\r\n    private static getVarCustom() { return new CustomType(getVarBool(), getVarDoub()); }\r\n}\r\n```\r\n\r\nWhich will allow me to change the defaults by passing in values to new constructors without affecting other instances.\r\n\r\nFor example:\r\n\r\n```\r\npublic class subclass extends superclass {\r\n\r\n    public subclass() { super(getVarCustom()); }\r\n\r\n    public subclass(double dub) { super(getVarCustom(dub)); }\r\n\r\n    private static getVarBool() { return new Boolean(true); }\r\n\r\n    private static getVarDoub() { return new Double(4.3); }\r\n\r\n    private static getVarCustom() { return new CustomType(getVarBool(), getVarDoub()); }\r\n\r\n    private static getVarCustom(double dub) { return new CustomType(getVarBool(), dub); }\r\n}\r\n```\r\n\r\nI guess this isn&#39;t perfect, but I&#39;m trying to minimize the impact in the codebase by not changing how other classes are using this class. \r\n\r\nIs this okay to do, or am I misunderstanding something?\r\n","title":"How to declare default member values in Java that are passed to super class but cannot be inline","body":"<p>I have code that I think is using static members incorrectly.</p>\n<p>An example is below. Variable types and names might not make sense.</p>\n<pre><code>public class subclass extends superclass {\n    private static Boolean varBool = new Boolean(true);\n    private static Double  varDoub = new Double(4.3);\n    private static CustomType varCustom = new CustomType(varBool, varDoub);\n\n    public subclass() { super(varCustom); }\n}\n</code></pre>\n<p>I think this is an incorrect use of static. I see that the author wanted to define default values that can be passed to the super class, and used static to do so. The way this class was used, I believe did not cause issues since the values didn't change, but now I want them to for different instances.</p>\n<p>I'm instead considering using static methods to define these defaults.</p>\n<pre><code>public class subclass extends superclass {\n\n    public subclass() { super(getVarCustom()); }\n\n    private static getVarBool() { return new Boolean(true); }\n\n    private static getVarDoub() { return new Double(4.3); }\n\n    private static getVarCustom() { return new CustomType(getVarBool(), getVarDoub()); }\n}\n</code></pre>\n<p>Which will allow me to change the defaults by passing in values to new constructors without affecting other instances.</p>\n<p>For example:</p>\n<pre><code>public class subclass extends superclass {\n\n    public subclass() { super(getVarCustom()); }\n\n    public subclass(double dub) { super(getVarCustom(dub)); }\n\n    private static getVarBool() { return new Boolean(true); }\n\n    private static getVarDoub() { return new Double(4.3); }\n\n    private static getVarCustom() { return new CustomType(getVarBool(), getVarDoub()); }\n\n    private static getVarCustom(double dub) { return new CustomType(getVarBool(), dub); }\n}\n</code></pre>\n<p>I guess this isn't perfect, but I'm trying to minimize the impact in the codebase by not changing how other classes are using this class.</p>\n<p>Is this okay to do, or am I misunderstanding something?</p>\n"},{"tags":["java","project-reactor","reactive-streams"],"answers":[{"tags":[],"owner":{"account_id":3837601,"reputation":731,"user_id":3181570,"display_name":"G SriHAri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681433996,"creation_date":1681433996,"answer_id":76010860,"question_id":75968487,"body_markdown":"     Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2);\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));\r\n        flux = flux.replay().autoConnect(2).share();   //hot publisher\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));   \r\n        sleep(2000);\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\r\n    \r\noutput : \r\nsource 0\r\nsource 1\r\n(here only source printed because, we are calling share() after subscribe)\r\n\r\n     Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2);\r\n        flux.replay().autoConnect(3).share().\r\n            subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));   \r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));\r\n        sleep(2000);\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\r\n\r\noutput : \r\nfirst 0\r\nfirst 1\r\nsecond 0\r\nsecond 1\r\n(here source not printed )\r\n\r\n    Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2).replay().autoConnect(3);\r\n        flux.share().subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));  \r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));\r\n        sleep(2000);\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\r\n\r\noutput : \r\nsource 0\r\nfirst 0\r\nsecond 0\r\nsource 1\r\nfirst 1\r\nsecond 1\r\n\r\nObserve these 3 scenarios and its outputs,its important here where and when you are subscribed and shared  ","title":"Transforming a Connectable Flux into Hot via share operator not working","body":"<pre><code> Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2);\n    flux.subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));\n    flux = flux.replay().autoConnect(2).share();   //hot publisher\n    flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));   \n    sleep(2000);\n    flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\n</code></pre>\n<p>output :\nsource 0\nsource 1\n(here only source printed because, we are calling share() after subscribe)</p>\n<pre><code> Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2);\n    flux.replay().autoConnect(3).share().\n        subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));   \n    flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));\n    sleep(2000);\n    flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\n</code></pre>\n<p>output :\nfirst 0\nfirst 1\nsecond 0\nsecond 1\n(here source not printed )</p>\n<pre><code>Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(2).replay().autoConnect(3);\n    flux.share().subscribe(aLong -&gt; System.out.println(&quot;source &quot; + aLong));  \n    flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));\n    sleep(2000);\n    flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));\n</code></pre>\n<p>output :\nsource 0\nfirst 0\nsecond 0\nsource 1\nfirst 1\nsecond 1</p>\n<p>Observe these 3 scenarios and its outputs,its important here where and when you are subscribed and shared</p>\n"}],"owner":{"account_id":10877520,"reputation":120,"user_id":7997517,"display_name":"ABHISHEK KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76010860,"answer_count":1,"score":0,"last_activity_date":1681433996,"creation_date":1681006566,"question_id":75968487,"body_markdown":"I have below program which first creates an interval flux, taking 5 elements and subscribe to it. &lt;br&gt;\r\nPost that,I convert it to connectable flux using **replay** operator with **auto connect** 2 and then convert it to hot publisher. However,any subequent subsription doesn&#39;t receive any data irrespective of any number of subscriber I add. (sleep is used here to show effect of hot stream)\r\n```\r\n        Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(5);\r\n        flux.subscribe();\r\n        flux = flux.replay().autoConnect(2).share();   //hot publisher     \r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));   //no data\r\n        sleep(2000);\r\n        flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));  //no data\r\n```\r\n\r\n\r\nThe catching thing is that, if I set auto connect to 1 (effectively making it a normal flux), then expected behaviour is observed (Output shown below).\r\n\r\nOutput: &lt;br&gt;\r\nfirst 0 &lt;br&gt;\r\nfirst 1 &lt;br&gt;\r\nfirst 2 &lt;br&gt;\r\nsecond 2 &lt;br&gt;\r\nfirst 3 &lt;br&gt;\r\nsecond 3 &lt;br&gt;\r\nfirst 4 &lt;br&gt;\r\nsecond 4 &lt;br&gt;\r\n\r\nPlease clarify or correct me, if I am wrong.","title":"Transforming a Connectable Flux into Hot via share operator not working","body":"<p>I have below program which first creates an interval flux, taking 5 elements and subscribe to it. <br>\nPost that,I convert it to connectable flux using <strong>replay</strong> operator with <strong>auto connect</strong> 2 and then convert it to hot publisher. However,any subequent subsription doesn't receive any data irrespective of any number of subscriber I add. (sleep is used here to show effect of hot stream)</p>\n<pre><code>        Flux&lt;Long&gt; flux = Flux.interval(Duration.ofSeconds(1)).take(5);\n        flux.subscribe();\n        flux = flux.replay().autoConnect(2).share();   //hot publisher     \n        flux.subscribe(aLong -&gt; System.out.println(&quot;first &quot; + aLong));   //no data\n        sleep(2000);\n        flux.subscribe(aLong -&gt; System.out.println(&quot;second &quot; + aLong));  //no data\n</code></pre>\n<p>The catching thing is that, if I set auto connect to 1 (effectively making it a normal flux), then expected behaviour is observed (Output shown below).</p>\n<p>Output: <br>\nfirst 0 <br>\nfirst 1 <br>\nfirst 2 <br>\nsecond 2 <br>\nfirst 3 <br>\nsecond 3 <br>\nfirst 4 <br>\nsecond 4 <br></p>\n<p>Please clarify or correct me, if I am wrong.</p>\n"},{"tags":["java","flutter","android-emulator","build.gradle"],"owner":{"account_id":23744554,"reputation":45,"user_id":17762181,"display_name":"Rachita Dongre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681429524,"creation_date":1681429524,"question_id":76010602,"body_markdown":"I tried running my flutter app without debugging in android emulator on vs code but it failed and I got the following message in the debug console:- (Here&#39;s the link to the codebase &lt;https://github.com/Rachita-Dongre/productivityplus&gt;)\r\n&#39;&#39;&#39;\r\nLaunching lib\\main.dart on Android SDK built for x86 64 in debug mode...\r\n\r\nmain.dart:1\r\nChecking the license for package Android SDK Tools in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses\r\n\r\nLicense for package Android SDK Tools accepted.\r\n\r\nPreparing &quot;Install Android SDK Tools (revision: 26.1.1)&quot;.\r\n\r\n&quot;Install Android SDK Tools (revision: 26.1.1)&quot; ready.\r\n\r\nInstalling Android SDK Tools in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\tools\r\n\r\n&quot;Install Android SDK Tools (revision: 26.1.1)&quot; complete.\r\n\r\n&quot;Install Android SDK Tools (revision: 26.1.1)&quot; finished.\r\n\r\nChecking the license for package Android SDK Build-Tools 30.0.3 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses\r\nLicense for package Android SDK Build-Tools 30.0.3 accepted.\r\n\r\nPreparing &quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot;.\r\n\r\n&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; ready.\r\n\r\nInstalling Android SDK Build-Tools 30.0.3 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\build-tools\\30.0.3\r\n\r\n&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; complete.\r\n\r\n&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; finished.\r\nChecking the license for package Android SDK Platform 33 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses\r\n\r\nLicense for package Android SDK Platform 33 accepted.\r\n\r\nPreparing &quot;Install Android SDK Platform 33 (revision: 2)&quot;.\r\n\r\nWarning: An error occurred while preparing SDK package Android SDK Platform 33: C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\.temp\\PackageOperation01\\unzip\\android-13\\data\\res\\drawable-ldpi\\sym_keyboard_num5.png.:\r\n\r\njava.nio.file.FileAlreadyExistsException: C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\.temp\\PackageOperation01\\unzip\\android-13\\data\\res\\drawable-ldpi\\sym_keyboard_num5.png\r\nat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:87)\r\n\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n\r\n\tat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n\r\n\tat java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:235)\r\n\r\n\tat java.base/java.nio.file.Files.newByteChannel(Files.java:371)\r\n\r\n\tat java.base/java.nio.file.Files.createFile(Files.java:648)\r\nat com.android.repository.util.InstallerUtil.unzip(InstallerUtil.java:138)\r\n\r\n\tat com.android.repository.impl.installer.BasicInstaller.doPrepare(BasicInstaller.java:90)\r\n\r\n\tat com.android.repository.impl.installer.AbstractPackageOperation.prepare(AbstractPackageOperation.java:335)\r\n\r\n\tat com.android.builder.sdk.DefaultSdkLoader.installRemotePackages(DefaultSdkLoader.java:365)\r\n\r\n\tat com.android.builder.sdk.DefaultSdkLoader.installTarget(DefaultSdkLoader.java:244)\r\n\r\n\tat com.android.builder.sdk.DefaultSdkLoader.getTargetInfo(DefaultSdkLoader.java:161)\r\nat com.android.build.gradle.internal.SdkHandler.initTarget(SdkHandler.java:128)\r\n\r\n\tat com.android.build.gradle.internal.SdkFullLoadingStrategy.init(SdkFullLoadingStrategy.kt:49)\r\n\r\n\tat com.android.build.gradle.internal.SdkFullLoadingStrategy.getTargetBootClasspath(SdkFullLoadingStrategy.kt:71)\r\n\r\n\tat com.android.build.gradle.internal.SdkLoadingStrategy.getTargetBootClasspath(SdkLoadingStrategy.kt:36)\r\n\r\n\tat com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$targetBootClasspathProvider$1.call(SdkComponents.kt:184)\r\n\r\n\tat com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$targetBootClasspathProvider$1.call(SdkComponents.kt:183)\r\n\r\n\tat org.gradle.api.internal.provider.DefaultProvider.calculateOwnValue(DefaultProvider.java:72)\r\nat org.gradle.api.internal.provider.AbstractMinimalProvider.calculateValue(AbstractMinimalProvider.java:102)\r\n\r\n\tat org.gradle.api.internal.provider.FlatMapProvider.calculateOwnValue(FlatMapProvider.java:50)\r\n\r\n\tat org.gradle.api.internal.provider.AbstractMinimalProvider.calculateValue(AbstractMinimalProvider.java:102)\r\n\r\n\tat org.gradle.api.internal.provider.FlatMapProvider.backingProvider(FlatMapProvider.java:62)\r\n\r\n\tat org.gradle.api.internal.provider.FlatMapProvider.getProducer(FlatMapProvider.java:71)\r\n\r\n\tat org.gradle.api.internal.provider.Collectors$ElementsFromCollectionProvider.getProducer(Collectors.java:235)\r\nat org.gradle.api.internal.provider.AbstractCollectionProperty$CollectingSupplier.getProducer(AbstractCollectionProperty.java:389)\r\n\r\n\tat org.gradle.api.internal.provider.AbstractProperty.getProducer(AbstractProperty.java:178)\r\n\r\n\tat org.gradle.api.internal.provider.Collectors$ElementsFromCollectionProvider.getProducer(Collectors.java:235)\r\n\r\n\tat org.gradle.api.internal.provider.AbstractCollectionProperty$PlusCollector.getProducer(AbstractCollectionProperty.java:465)\r\n\r\n\tat org.gradle.api.internal.provider.AbstractCollectionProperty$CollectingSupplier.getProducer(AbstractCollectionProperty.java:389)\r\n\r\n\tat org.gradle.api.internal.provider.AbstractProperty.getProducer(AbstractProperty.java:178)\r\nat org.gradle.api.internal.file.collections.ProviderBackedFileCollection.visitDependencies(ProviderBackedFileCollection.java:50)\r\n\r\n\tat org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext$TaskGraphImpl.getNodeValues(CachingTaskDependencyResolveContext.java:103)\r\n\r\n\tat org.gradle.internal.graph.CachingDirectedGraphWalker$GraphWithEmptyEdges.getNodeValues(CachingDirectedGraphWalker.java:213)\r\n\r\n\tat org.gradle.internal.graph.CachingDirectedGraphWalker.doSearch(CachingDirectedGraphWalker.java:121)\r\n\r\n\tat org.gradle.internal.graph.CachingDirectedGraphWalker.findValues(CachingDirectedGraphWalker.java:73)\r\n\r\n\tat org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:66)\r\n\r\n\tat org.gradle.execution.plan.TaskDependencyResolver.resolveDependenciesFor(TaskDependencyResolver.java:49)\r\nat org.gradle.execution.plan.LocalTaskNode.getDependencies(LocalTaskNode.java:162)\r\n\r\n\tat org.gradle.execution.plan.LocalTaskNode.resolveDependencies(LocalTaskNode.java:136)\r\n\r\n\tat org.gradle.execution.plan.DefaultExecutionPlan.doAddNodes(DefaultExecutionPlan.java:208)\r\n\r\n\tat org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:173)\r\n\r\n\tat org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:158)\r\n\r\n\tat org.gradle.execution.TaskNameResolvingBuildConfigurationAction.configure(TaskNameResolvingBuildConfigurationAction.java:47)\r\nat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:49)\r\n\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$000(DefaultBuildConfigurationActionExecuter.java:25)\r\n\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.proceed(DefaultBuildConfigurationActionExecuter.java:62)\r\n\r\n\tat org.gradle.execution.DefaultTasksBuildExecutionAction.configure(DefaultTasksBuildExecutionAction.java:48)\r\n\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:49)\r\n\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.lambda$select$0(DefaultBuildConfigurationActionExecuter.java:36)\r\nat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\r\n\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$DefaultBuildProjectRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:197)\r\n\r\n\tat org.gradle.api.internal.project.DefaultProjectStateRegistry$DefaultBuildProjectRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:190)\r\n\r\n\tat org.gradle.execution.DefaultBuildConfigurationActionExecuter.select(DefaultBuildConfigurationActionExecuter.java:35)\r\nat org.gradle.initialization.DefaultTaskExecutionPreparer.prepareForTaskExecution(DefaultTaskExecutionPreparer.java:42)\r\n\r\n\tat org.gradle.initialization.VintageBuildModelController.lambda$scheduleRequestedTasks$1(VintageBuildModelController.java:81)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$inState$1(StateTransitionController.java:110)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$inState$2(StateTransitionController.java:125)\r\n\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:121)\r\n\r\nat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:109)\r\n\r\n\tat org.gradle.initialization.VintageBuildModelController.scheduleRequestedTasks(VintageBuildModelController.java:81)\r\n\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController$DefaultWorkGraphBuilder.addRequestedTasks(DefaultBuildLifecycleController.java:242)\r\n\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$populateWorkGraph$4(DefaultBuildLifecycleController.java:143)\r\n\r\n\tat org.gradle.internal.build.DefaultBuildWorkPreparer.populateWorkGraph(DefaultBuildWorkPreparer.java:41)\r\n\r\n\tat org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer$PopulateWorkGraph.populateTaskGraph(BuildOperationFiringBuildWorkPreparer.java:138)\r\nat org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer$PopulateWorkGraph.run(BuildOperationFiringBuildWorkPreparer.java:89)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\r\n\tat org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer.populateWorkGraph(BuildOperationFiringBuildWorkPreparer.java:66)\r\n\r\n\tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$populateWorkGraph$5(DefaultBuildLifecycleController.java:143)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$inState$1(StateTransitionController.java:110)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$inState$2(StateTransitionController.java:125)\r\n\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:121)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:109)\r\nat org.gradle.internal.build.DefaultBuildLifecycleController.populateWorkGraph(DefaultBuildLifecycleController.java:143)\r\n\r\n\tat org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.populateWorkGraph(DefaultBuildWorkGraphController.java:126)\r\n\r\n\tat org.gradle.composite.internal.DefaultBuildController.populateWorkGraph(DefaultBuildController.java:71)\r\n\r\n\tat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraphBuilder.withWorkGraph(DefaultIncludedBuildTaskGraph.java:142)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.lambda$scheduleRequestedTasks$0(DefaultBuildTreeWorkPreparer.java:34)\r\n\r\n\tat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraph$1.run(DefaultIncludedBuildTaskGraph.java:170)\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\r\n\tat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraph.scheduleWork(DefaultIncludedBuildTaskGraph.java:167)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:34)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$2(DefaultBuildTreeLifecycleController.java:89)\r\n\r\n\tat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewWorkGraph(DefaultIncludedBuildTaskGraph.java:101)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:88)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\r\nat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)\r\n\r\n\tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n\r\n\tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.scheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:69)\r\n\r\n\tat org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\r\nat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\r\n\tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\r\n\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\r\n\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\r\n\tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\r\nat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\nat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n\r\n\tat org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\r\n\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\nat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\r\nat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)\r\n\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\nat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\nat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\nat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n&quot;Install Android SDK Platform 33 (revision: 2)&quot; failed.\r\n\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Failed to install the following SDK components:\r\n      platforms;android-33 Android SDK Platform 33\r\n  Install the missing components using the SDK manager in Android Studio.\r\n\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 3m 56s\r\n\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\nExited (sigterm)\r\n&#39;&#39;&#39;\r\n\r\nI wasn&#39;t able to run the app on emulator because of not having java installed so I installed it and the tried to run the app again on android emulator but the task failed and I got the above message in debug console.","title":"Gradle task assembleDebug failed with exit code 1. &quot;Install Android SDK Platform 33 (revision: 2)&quot; failed","body":"<p>I tried running my flutter app without debugging in android emulator on vs code but it failed and I got the following message in the debug console:- (Here's the link to the codebase <a href=\"https://github.com/Rachita-Dongre/productivityplus\" rel=\"nofollow noreferrer\">https://github.com/Rachita-Dongre/productivityplus</a>)\n'''\nLaunching lib\\main.dart on Android SDK built for x86 64 in debug mode...</p>\n<p>main.dart:1\nChecking the license for package Android SDK Tools in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses</p>\n<p>License for package Android SDK Tools accepted.</p>\n<p>Preparing &quot;Install Android SDK Tools (revision: 26.1.1)&quot;.</p>\n<p>&quot;Install Android SDK Tools (revision: 26.1.1)&quot; ready.</p>\n<p>Installing Android SDK Tools in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\tools</p>\n<p>&quot;Install Android SDK Tools (revision: 26.1.1)&quot; complete.</p>\n<p>&quot;Install Android SDK Tools (revision: 26.1.1)&quot; finished.</p>\n<p>Checking the license for package Android SDK Build-Tools 30.0.3 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses\nLicense for package Android SDK Build-Tools 30.0.3 accepted.</p>\n<p>Preparing &quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot;.</p>\n<p>&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; ready.</p>\n<p>Installing Android SDK Build-Tools 30.0.3 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\build-tools\\30.0.3</p>\n<p>&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; complete.</p>\n<p>&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; finished.\nChecking the license for package Android SDK Platform 33 in C:\\Users\\dell\\AppData\\Local\\Android\\sdk\\licenses</p>\n<p>License for package Android SDK Platform 33 accepted.</p>\n<p>Preparing &quot;Install Android SDK Platform 33 (revision: 2)&quot;.</p>\n<p>Warning: An error occurred while preparing SDK package Android SDK Platform 33: C:\\Users\\dell\\AppData\\Local\\Android\\sdk.temp\\PackageOperation01\\unzip\\android-13\\data\\res\\drawable-ldpi\\sym_keyboard_num5.png.:</p>\n<p>java.nio.file.FileAlreadyExistsException: C:\\Users\\dell\\AppData\\Local\\Android\\sdk.temp\\PackageOperation01\\unzip\\android-13\\data\\res\\drawable-ldpi\\sym_keyboard_num5.png\nat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:87)</p>\n<pre><code>at java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n\nat java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n\nat java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:235)\n\nat java.base/java.nio.file.Files.newByteChannel(Files.java:371)\n\nat java.base/java.nio.file.Files.createFile(Files.java:648)\n</code></pre>\n<p>at com.android.repository.util.InstallerUtil.unzip(InstallerUtil.java:138)</p>\n<pre><code>at com.android.repository.impl.installer.BasicInstaller.doPrepare(BasicInstaller.java:90)\n\nat com.android.repository.impl.installer.AbstractPackageOperation.prepare(AbstractPackageOperation.java:335)\n\nat com.android.builder.sdk.DefaultSdkLoader.installRemotePackages(DefaultSdkLoader.java:365)\n\nat com.android.builder.sdk.DefaultSdkLoader.installTarget(DefaultSdkLoader.java:244)\n\nat com.android.builder.sdk.DefaultSdkLoader.getTargetInfo(DefaultSdkLoader.java:161)\n</code></pre>\n<p>at com.android.build.gradle.internal.SdkHandler.initTarget(SdkHandler.java:128)</p>\n<pre><code>at com.android.build.gradle.internal.SdkFullLoadingStrategy.init(SdkFullLoadingStrategy.kt:49)\n\nat com.android.build.gradle.internal.SdkFullLoadingStrategy.getTargetBootClasspath(SdkFullLoadingStrategy.kt:71)\n\nat com.android.build.gradle.internal.SdkLoadingStrategy.getTargetBootClasspath(SdkLoadingStrategy.kt:36)\n\nat com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$targetBootClasspathProvider$1.call(SdkComponents.kt:184)\n\nat com.android.build.gradle.internal.SdkComponentsBuildService$VersionedSdkLoader$targetBootClasspathProvider$1.call(SdkComponents.kt:183)\n\nat org.gradle.api.internal.provider.DefaultProvider.calculateOwnValue(DefaultProvider.java:72)\n</code></pre>\n<p>at org.gradle.api.internal.provider.AbstractMinimalProvider.calculateValue(AbstractMinimalProvider.java:102)</p>\n<pre><code>at org.gradle.api.internal.provider.FlatMapProvider.calculateOwnValue(FlatMapProvider.java:50)\n\nat org.gradle.api.internal.provider.AbstractMinimalProvider.calculateValue(AbstractMinimalProvider.java:102)\n\nat org.gradle.api.internal.provider.FlatMapProvider.backingProvider(FlatMapProvider.java:62)\n\nat org.gradle.api.internal.provider.FlatMapProvider.getProducer(FlatMapProvider.java:71)\n\nat org.gradle.api.internal.provider.Collectors$ElementsFromCollectionProvider.getProducer(Collectors.java:235)\n</code></pre>\n<p>at org.gradle.api.internal.provider.AbstractCollectionProperty$CollectingSupplier.getProducer(AbstractCollectionProperty.java:389)</p>\n<pre><code>at org.gradle.api.internal.provider.AbstractProperty.getProducer(AbstractProperty.java:178)\n\nat org.gradle.api.internal.provider.Collectors$ElementsFromCollectionProvider.getProducer(Collectors.java:235)\n\nat org.gradle.api.internal.provider.AbstractCollectionProperty$PlusCollector.getProducer(AbstractCollectionProperty.java:465)\n\nat org.gradle.api.internal.provider.AbstractCollectionProperty$CollectingSupplier.getProducer(AbstractCollectionProperty.java:389)\n\nat org.gradle.api.internal.provider.AbstractProperty.getProducer(AbstractProperty.java:178)\n</code></pre>\n<p>at org.gradle.api.internal.file.collections.ProviderBackedFileCollection.visitDependencies(ProviderBackedFileCollection.java:50)</p>\n<pre><code>at org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext$TaskGraphImpl.getNodeValues(CachingTaskDependencyResolveContext.java:103)\n\nat org.gradle.internal.graph.CachingDirectedGraphWalker$GraphWithEmptyEdges.getNodeValues(CachingDirectedGraphWalker.java:213)\n\nat org.gradle.internal.graph.CachingDirectedGraphWalker.doSearch(CachingDirectedGraphWalker.java:121)\n\nat org.gradle.internal.graph.CachingDirectedGraphWalker.findValues(CachingDirectedGraphWalker.java:73)\n\nat org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:66)\n\nat org.gradle.execution.plan.TaskDependencyResolver.resolveDependenciesFor(TaskDependencyResolver.java:49)\n</code></pre>\n<p>at org.gradle.execution.plan.LocalTaskNode.getDependencies(LocalTaskNode.java:162)</p>\n<pre><code>at org.gradle.execution.plan.LocalTaskNode.resolveDependencies(LocalTaskNode.java:136)\n\nat org.gradle.execution.plan.DefaultExecutionPlan.doAddNodes(DefaultExecutionPlan.java:208)\n\nat org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:173)\n\nat org.gradle.execution.plan.DefaultExecutionPlan.addEntryTasks(DefaultExecutionPlan.java:158)\n\nat org.gradle.execution.TaskNameResolvingBuildConfigurationAction.configure(TaskNameResolvingBuildConfigurationAction.java:47)\n</code></pre>\n<p>at org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:49)</p>\n<pre><code>at org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$000(DefaultBuildConfigurationActionExecuter.java:25)\n\nat org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.proceed(DefaultBuildConfigurationActionExecuter.java:62)\n\nat org.gradle.execution.DefaultTasksBuildExecutionAction.configure(DefaultTasksBuildExecutionAction.java:48)\n\nat org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:49)\n\nat org.gradle.execution.DefaultBuildConfigurationActionExecuter.lambda$select$0(DefaultBuildConfigurationActionExecuter.java:36)\n</code></pre>\n<p>at org.gradle.internal.Factories$1.create(Factories.java:31)</p>\n<pre><code>at org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\n\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$DefaultBuildProjectRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:197)\n\nat org.gradle.api.internal.project.DefaultProjectStateRegistry$DefaultBuildProjectRegistry.withMutableStateOfAllProjects(DefaultProjectStateRegistry.java:190)\n\nat org.gradle.execution.DefaultBuildConfigurationActionExecuter.select(DefaultBuildConfigurationActionExecuter.java:35)\n</code></pre>\n<p>at org.gradle.initialization.DefaultTaskExecutionPreparer.prepareForTaskExecution(DefaultTaskExecutionPreparer.java:42)</p>\n<pre><code>at org.gradle.initialization.VintageBuildModelController.lambda$scheduleRequestedTasks$1(VintageBuildModelController.java:81)\n\nat org.gradle.internal.model.StateTransitionController.lambda$inState$1(StateTransitionController.java:110)\n\nat org.gradle.internal.model.StateTransitionController.lambda$inState$2(StateTransitionController.java:125)\n\nat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n\nat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:121)\n</code></pre>\n<p>at org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:109)</p>\n<pre><code>at org.gradle.initialization.VintageBuildModelController.scheduleRequestedTasks(VintageBuildModelController.java:81)\n\nat org.gradle.internal.build.DefaultBuildLifecycleController$DefaultWorkGraphBuilder.addRequestedTasks(DefaultBuildLifecycleController.java:242)\n\nat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$populateWorkGraph$4(DefaultBuildLifecycleController.java:143)\n\nat org.gradle.internal.build.DefaultBuildWorkPreparer.populateWorkGraph(DefaultBuildWorkPreparer.java:41)\n\nat org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer$PopulateWorkGraph.populateTaskGraph(BuildOperationFiringBuildWorkPreparer.java:138)\n</code></pre>\n<p>at org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer$PopulateWorkGraph.run(BuildOperationFiringBuildWorkPreparer.java:89)</p>\n<pre><code>at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n</code></pre>\n<p>at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)</p>\n<pre><code>at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n\nat org.gradle.internal.build.BuildOperationFiringBuildWorkPreparer.populateWorkGraph(BuildOperationFiringBuildWorkPreparer.java:66)\n\nat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$populateWorkGraph$5(DefaultBuildLifecycleController.java:143)\n\nat org.gradle.internal.model.StateTransitionController.lambda$inState$1(StateTransitionController.java:110)\n\nat org.gradle.internal.model.StateTransitionController.lambda$inState$2(StateTransitionController.java:125)\n\nat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n\nat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:121)\n\nat org.gradle.internal.model.StateTransitionController.inState(StateTransitionController.java:109)\n</code></pre>\n<p>at org.gradle.internal.build.DefaultBuildLifecycleController.populateWorkGraph(DefaultBuildLifecycleController.java:143)</p>\n<pre><code>at org.gradle.internal.build.DefaultBuildWorkGraphController$DefaultBuildWorkGraph.populateWorkGraph(DefaultBuildWorkGraphController.java:126)\n\nat org.gradle.composite.internal.DefaultBuildController.populateWorkGraph(DefaultBuildController.java:71)\n\nat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraphBuilder.withWorkGraph(DefaultIncludedBuildTaskGraph.java:142)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.lambda$scheduleRequestedTasks$0(DefaultBuildTreeWorkPreparer.java:34)\n\nat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraph$1.run(DefaultIncludedBuildTaskGraph.java:170)\n</code></pre>\n<p>at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)</p>\n<pre><code>at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n</code></pre>\n<p>at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)</p>\n<pre><code>at org.gradle.composite.internal.DefaultIncludedBuildTaskGraph$DefaultBuildTreeWorkGraph.scheduleWork(DefaultIncludedBuildTaskGraph.java:167)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:34)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$2(DefaultBuildTreeLifecycleController.java:89)\n\nat org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewWorkGraph(DefaultIncludedBuildTaskGraph.java:101)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:88)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:106)\n\nat org.gradle.internal.model.StateTransitionController.lambda$transition$5(StateTransitionController.java:166)\n\nat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:247)\n</code></pre>\n<p>at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:166)</p>\n<pre><code>at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n\nat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:166)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:103)\n\nat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.scheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:69)\n\nat org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:31)\n</code></pre>\n<p>at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)</p>\n<pre><code>at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n\nat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\n\nat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:136)\n\nat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n\nat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n\nat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\n</code></pre>\n<p>at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)</p>\n<pre><code>at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n\nat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n\nat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n\nat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n</code></pre>\n<p>at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)</p>\n<pre><code>at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n</code></pre>\n<p>at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)</p>\n<pre><code>at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n\nat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n\nat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n\nat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n</code></pre>\n<p>at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)</p>\n<pre><code>at org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\n\nat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n\nat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n\nat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n\nat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n</code></pre>\n<p>at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)</p>\n<pre><code>at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n\nat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n\nat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n\nat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n\nat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:52)\n</code></pre>\n<p>at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:40)</p>\n<pre><code>at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n\nat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n\nat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n</code></pre>\n<p>at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)</p>\n<pre><code>at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n\nat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n\nat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n</code></pre>\n<p>at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)</p>\n<pre><code>at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n\nat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n</code></pre>\n<p>at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)</p>\n<pre><code>at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n\nat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n</code></pre>\n<p>at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)</p>\n<pre><code>at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n</code></pre>\n<p>at java.base/java.lang.Thread.run(Thread.java:834)</p>\n<p>&quot;Install Android SDK Platform 33 (revision: 2)&quot; failed.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Failed to install the following SDK components:\nplatforms;android-33 Android SDK Platform 33\nInstall the missing components using the SDK manager in Android Studio.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 3m 56s</p>\n<p>Exception: Gradle task assembleDebug failed with exit code 1</p>\n<p>Exited (sigterm)\n'''</p>\n<p>I wasn't able to run the app on emulator because of not having java installed so I installed it and the tried to run the app again on android emulator but the task failed and I got the above message in debug console.</p>\n"},{"tags":["java","cucumber","gherkin"],"comments":[{"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"score":0,"creation_date":1681474384,"post_id":76008163,"comment_id":134066238,"body_markdown":"Is it something you have to do multiple times? Outlines are meant to capture different data driven flows.  In your case, is it a data driven case?","body":"Is it something you have to do multiple times? Outlines are meant to capture different data driven flows.  In your case, is it a data driven case?"}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681428279,"creation_date":1681428279,"answer_id":76010535,"question_id":76008163,"body_markdown":"You would say in your feature file that you are using a random email. The details don&#39;t matter, so don&#39;t mention those.\r\n\r\n```feature\r\nFeature: Login User\r\n   Scenario: Login\r\n    Given a user account with a random email and password\r\n    When the credentials from the user account are used to login on the web\r\n    Then a new web login event is emitted\r\n```\r\n\r\nIf you want to know after the test what the credentials where you can use the `Scenario.log` method to add them into the Cucumber report.","title":"Pass variable of a java file to feature file in java","body":"<p>You would say in your feature file that you are using a random email. The details don't matter, so don't mention those.</p>\n<pre><code>Feature: Login User\n   Scenario: Login\n    Given a user account with a random email and password\n    When the credentials from the user account are used to login on the web\n    Then a new web login event is emitted\n</code></pre>\n<p>If you want to know after the test what the credentials where you can use the <code>Scenario.log</code> method to add them into the Cucumber report.</p>\n"}],"owner":{"account_id":27733412,"reputation":161,"user_id":21171478,"display_name":"qatesterbecomingprogrammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681428279,"creation_date":1681405968,"question_id":76008163,"body_markdown":"I am working on mobile automation using appium with Cucumber, I have to generate an email with random value on other java file i.e. ```EmailUtils.java```\r\n\r\n, whose method can be like this \r\n\r\n    public String generateEmail(){\r\n          return emailAddress;\r\n    }\r\n\r\nNow I have feature file:\r\n\r\n    Feature: Login User\r\n       Scenario Outline:\r\n        Given: Add &quot;&lt;Email&gt;&quot; address on field\r\n    Examples:\r\n    |Email|\r\n    | Add that value of generateEmail.java |\r\n\r\nIs that achievable or do I need to create step method dedicatedly for this.","title":"Pass variable of a java file to feature file in java","body":"<p>I am working on mobile automation using appium with Cucumber, I have to generate an email with random value on other java file i.e. <code>EmailUtils.java</code></p>\n<p>, whose method can be like this</p>\n<pre><code>public String generateEmail(){\n      return emailAddress;\n}\n</code></pre>\n<p>Now I have feature file:</p>\n<pre><code>Feature: Login User\n   Scenario Outline:\n    Given: Add &quot;&lt;Email&gt;&quot; address on field\nExamples:\n|Email|\n| Add that value of generateEmail.java |\n</code></pre>\n<p>Is that achievable or do I need to create step method dedicatedly for this.</p>\n"},{"tags":["java","templates"],"comments":[{"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":0,"creation_date":1321975237,"post_id":2613404,"comment_id":10120164,"body_markdown":"possible duplicate of [Suggestions for a Java-based templating engine?](http://stackoverflow.com/questions/174204/suggestions-for-a-java-based-templating-engine)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/174204/suggestions-for-a-java-based-templating-engine\">Suggestions for a Java-based templating engine?</a>"}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1270904161,"creation_date":1270904161,"answer_id":2613424,"question_id":2613404,"body_markdown":"How about [Velocity][1]?\r\n\r\n- full Java\r\n- does not require servlets\r\n- it has file, jar, classpath &amp; URL resource loaders (and maybe more)\r\n- templates can include other templates (if this is what you mean)\r\n- has good tutorials, so far I could get what I needed from the docs\r\n\r\n\r\n  [1]: http://velocity.apache.org/","title":"Template engine recommendations","body":"<p>How about <a href=\"http://velocity.apache.org/\" rel=\"nofollow noreferrer\">Velocity</a>?</p>\n\n<ul>\n<li>full Java</li>\n<li>does not require servlets</li>\n<li>it has file, jar, classpath &amp; URL resource loaders (and maybe more)</li>\n<li>templates can include other templates (if this is what you mean)</li>\n<li>has good tutorials, so far I could get what I needed from the docs</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":117733,"reputation":5301,"user_id":308193,"accept_rate":59,"display_name":"Little Bobby Tables"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1270912787,"creation_date":1270912787,"answer_id":2613847,"question_id":2613404,"body_markdown":"If my memory serves, [FreeMaker][1] is decent - Suppose to be some sort of &quot;Velocity, the next generation&quot;. \r\n\r\n\r\n  [1]: http://freemarker.sourceforge.net/","title":"Template engine recommendations","body":"<p>If my memory serves, <a href=\"http://freemarker.sourceforge.net/\" rel=\"nofollow noreferrer\">FreeMaker</a> is decent - Suppose to be some sort of \"Velocity, the next generation\". </p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1270961664,"creation_date":1270961664,"answer_id":2616089,"question_id":2613404,"body_markdown":"maybe check out &quot;JSTP&quot;, http://jstp.sourceforge.net/manual.html\r\n\r\nits syntax is subset of JSP, therefore IDE support is excellent.\r\n\r\na &quot;jstp&quot; template is translated into a plain java class at build time. there is no runtime dependency.\r\n\r\n&quot;parameters&quot; to a template should be passed by member fields. static typing all the way.\r\n\r\nBar.jstp\r\n\r\n    &lt;%!                                        \r\n        public String name;                    \r\n    %&gt;\r\n                                         \r\n    Hello &lt;%= name %&gt; \r\n\r\nbuild converts it into Bar.java\r\n\r\n    public class Bar                                        \r\n    {                                                       \r\n        public String name;                                 \r\n        public void render(java.io.PrintWriter out)         \r\n        {                                                   \r\n            out.print(&quot;Hello &quot;);                            \r\n            out.print(String.valueOf(name));                \r\n            ...                                             \r\n        }                                                   \r\n    }  \r\n\r\nand you invoke the template by\r\n\r\n    Bar bar = new Bar();                              \r\n    bar.name = &quot;John&quot;;                               \r\n    bar.render(..);       \r\n\r\n\r\n\r\nwith typical &quot;hotswap&quot; you shouldn&#39;t have to restart serve when editing the template.","title":"Template engine recommendations","body":"<p>maybe check out \"JSTP\", <a href=\"http://jstp.sourceforge.net/manual.html\" rel=\"nofollow noreferrer\">http://jstp.sourceforge.net/manual.html</a></p>\n\n<p>its syntax is subset of JSP, therefore IDE support is excellent.</p>\n\n<p>a \"jstp\" template is translated into a plain java class at build time. there is no runtime dependency.</p>\n\n<p>\"parameters\" to a template should be passed by member fields. static typing all the way.</p>\n\n<p>Bar.jstp</p>\n\n<pre><code>&lt;%!                                        \n    public String name;                    \n%&gt;\n\nHello &lt;%= name %&gt; \n</code></pre>\n\n<p>build converts it into Bar.java</p>\n\n<pre><code>public class Bar                                        \n{                                                       \n    public String name;                                 \n    public void render(java.io.PrintWriter out)         \n    {                                                   \n        out.print(\"Hello \");                            \n        out.print(String.valueOf(name));                \n        ...                                             \n    }                                                   \n}  \n</code></pre>\n\n<p>and you invoke the template by</p>\n\n<pre><code>Bar bar = new Bar();                              \nbar.name = \"John\";                               \nbar.render(..);       \n</code></pre>\n\n<p>with typical \"hotswap\" you shouldn't have to restart serve when editing the template.</p>\n"},{"tags":[],"owner":{"account_id":1221800,"reputation":1317,"user_id":1188310,"display_name":"Bernd Ebertz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346509702,"creation_date":1346509702,"answer_id":12228578,"question_id":2613404,"body_markdown":"What about [Snippetory][1]? \r\n\r\n - It&#39;s full java, (even your logic is written in java!) \r\n - Templates are loaded by the UriResolver, with implementations for calsspath, file system and URL. \r\n - It can be used outside Servlets, for example as ad hoc template like `String.format`. \r\n - It&#39;s entirely based on parametrized inclusion of templates.\r\n - The docs are ok and it&#39;s much simpler than the script based engines, so you really don&#39;t need that much.\r\n - And a new version with [great new freatures][2] is coming soon, I think\r\n\r\n\r\n  [1]: http://www.jproggy.org/snippetory\r\n  [2]: http://snippetory.wordpress.com/feature-announcement-for-snippetory-0-9-5/","title":"Template engine recommendations","body":"<p>What about <a href=\"http://www.jproggy.org/snippetory\" rel=\"nofollow\">Snippetory</a>? </p>\n\n<ul>\n<li>It's full java, (even your logic is written in java!) </li>\n<li>Templates are loaded by the UriResolver, with implementations for calsspath, file system and URL. </li>\n<li>It can be used outside Servlets, for example as ad hoc template like <code>String.format</code>. </li>\n<li>It's entirely based on parametrized inclusion of templates.</li>\n<li>The docs are ok and it's much simpler than the script based engines, so you really don't need that much.</li>\n<li>And a new version with <a href=\"http://snippetory.wordpress.com/feature-announcement-for-snippetory-0-9-5/\" rel=\"nofollow\">great new freatures</a> is coming soon, I think</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3412024,"reputation":1,"user_id":2861736,"display_name":"nabedge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381304963,"creation_date":1381304963,"answer_id":19266048,"question_id":2613404,"body_markdown":"Try Mixer2. http://mixer2.org/\r\nMixer2 has no dependency for servlet-API.\r\nYou can store the template on String, java.io.File, and java.io.InputStream.\r\n","title":"Template engine recommendations","body":"<p>Try Mixer2. <a href=\"http://mixer2.org/\" rel=\"nofollow\">http://mixer2.org/</a>\nMixer2 has no dependency for servlet-API.\nYou can store the template on String, java.io.File, and java.io.InputStream.</p>\n"},{"tags":[],"owner":{"account_id":666985,"reputation":6699,"user_id":490322,"display_name":"Tom McClure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382759406,"creation_date":1382759406,"answer_id":19602592,"question_id":2613404,"body_markdown":"Chunk, my no-nonsense template engine for Java, would be a good choice.\r\n\r\n * Lightweight.\r\n * Great docs with examples and recipes: http://www.x5software.com/chunk\r\n * Standalone - no servlets required.\r\n * Templates from filesystem, classpath, strings, a [webserver, or write your own template provider][1].\r\n * Based on simple templates with {$tags}.\r\n * Templates can include other templates or even execute them as macros with a json-formatted dictionary of tag values.\r\n * Looping, conditionals, filters, all the typical goodies.\r\n\r\n  [1]: http://www.x5software.com/chunk/examples/ChunkExample?example=net&amp;loc=en_US#input-more-EG1","title":"Template engine recommendations","body":"<p>Chunk, my no-nonsense template engine for Java, would be a good choice.</p>\n\n<ul>\n<li>Lightweight.</li>\n<li>Great docs with examples and recipes: <a href=\"http://www.x5software.com/chunk\" rel=\"nofollow\">http://www.x5software.com/chunk</a></li>\n<li>Standalone - no servlets required.</li>\n<li>Templates from filesystem, classpath, strings, a <a href=\"http://www.x5software.com/chunk/examples/ChunkExample?example=net&amp;loc=en_US#input-more-EG1\" rel=\"nofollow\">webserver, or write your own template provider</a>.</li>\n<li>Based on simple templates with {$tags}.</li>\n<li>Templates can include other templates or even execute them as macros with a json-formatted dictionary of tag values.</li>\n<li>Looping, conditionals, filters, all the typical goodies.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1003184,"reputation":852,"user_id":1017571,"accept_rate":75,"display_name":"mbosecke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681427410,"creation_date":1405041702,"answer_id":24688812,"question_id":2613404,"body_markdown":"I&#39;m the author of [Pebble][1] which fits your criteria quite well. \r\n\r\n\r\n  [1]: https://github.com/PebbleTemplates/pebble","title":"Template engine recommendations","body":"<p>I'm the author of <a href=\"https://github.com/PebbleTemplates/pebble\" rel=\"nofollow noreferrer\">Pebble</a> which fits your criteria quite well.</p>\n"}],"owner":{"account_id":13361,"reputation":5213,"user_id":26787,"accept_rate":50,"display_name":"alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2430,"favorite_count":0,"down_vote_count":3,"up_vote_count":9,"closed_date":1405042001,"answer_count":7,"score":6,"last_activity_date":1681427410,"creation_date":1270903588,"question_id":2613404,"body_markdown":"I&#39;m looking for a template engine. Requirements:\r\n\r\n* Runs on a JVM. Java is good; Jython, JRuby and the like, too...\r\n* Can be used outside of servlets (unlike JSP)\r\n* Is flexible wrt. to where the templates are stored (JSP and a lot of people require the templates to be stored in the FS). It should provide a template loading interface which one can implement or something like that\r\n* Easy inclusion of parameterized templates- I really like JSP&#39;s tag fragments\r\n* Good docs, nice code, etc., the usual suspects\r\n\r\nI&#39;ve looked at JSP- it&#39;s nearly perfect except for the servlet and filesystem coupling, Stringtemplate- I love the template syntax, but it fails on the filesystem coupling, the documentation is lacking and template groups and stuff are confusing, GXP, TAL, etc.\r\n\r\nIdeas, thoughts?","title":"Template engine recommendations","body":"<p>I'm looking for a template engine. Requirements:</p>\n\n<ul>\n<li>Runs on a JVM. Java is good; Jython, JRuby and the like, too...</li>\n<li>Can be used outside of servlets (unlike JSP)</li>\n<li>Is flexible wrt. to where the templates are stored (JSP and a lot of people require the templates to be stored in the FS). It should provide a template loading interface which one can implement or something like that</li>\n<li>Easy inclusion of parameterized templates- I really like JSP's tag fragments</li>\n<li>Good docs, nice code, etc., the usual suspects</li>\n</ul>\n\n<p>I've looked at JSP- it's nearly perfect except for the servlet and filesystem coupling, Stringtemplate- I love the template syntax, but it fails on the filesystem coupling, the documentation is lacking and template groups and stuff are confusing, GXP, TAL, etc.</p>\n\n<p>Ideas, thoughts?</p>\n"},{"tags":["java","android","android-fragments","android-adapter"],"comments":[{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":0,"creation_date":1681427608,"post_id":76010469,"comment_id":134058981,"body_markdown":"This suggests that the adapter is trying to call the toString() on a null object, which is likely caused by the itemArray containing null values. Have you checked your data?","body":"This suggests that the adapter is trying to call the toString() on a null object, which is likely caused by the itemArray containing null values. Have you checked your data?"},{"owner":{"account_id":16544414,"reputation":5,"user_id":11954318,"display_name":"deeko"},"score":0,"creation_date":1681429046,"post_id":76010469,"comment_id":134059125,"body_markdown":"@MarcinOrlowski I have made a silly mistake. I forgot to include the &quot;j++&quot; line to continue past the first array index. Silly question as I was thinking my adapter was the issue as I have only just started covering these. Simple iteration was the issue ! ;-;","body":"@MarcinOrlowski I have made a silly mistake. I forgot to include the &quot;j++&quot; line to continue past the first array index. Silly question as I was thinking my adapter was the issue as I have only just started covering these. Simple iteration was the issue ! ;-;"}],"owner":{"account_id":16544414,"reputation":5,"user_id":11954318,"display_name":"deeko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681427231,"creation_date":1681427231,"question_id":76010469,"body_markdown":"I am unsure where I am going wrong. I have used an array before to populate a listview and had no issues. Now that I am using a fragment I receive errors that I am unable to fix. I log to find where the error is and the application only crashes when running the last commented out line.\r\n\r\nMy error message is `Attempt to invoke virtual method &#39;java.lang.String java.lang.Object.toString()&#39; on a null object reference` but how can this be when I am performing the to string on an array of strings (which I believe I have done before without fragments). If it is an issue with the adapter please enlighten me as to what should be there.\r\n\r\n\r\n**ListView Fragment**\r\n    public class ListviewFragment extends Fragment implements AdapterView.OnItemClickListener, View.OnClickListener {\r\n    private LinkedList&lt;ItemClass&gt; linkedList;\r\n    private ListView listView;\r\n\r\n\r\n    @Override\r\n    public View onCreateView(\r\n            LayoutInflater inflater, ViewGroup container,\r\n            Bundle savedInstanceState\r\n    )\r\n    {\r\n\r\n\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.frag_listviewfragment, container, false);\r\n        MainActivity mainActivity = (MainActivity) getActivity();\r\n\r\n        LinkedList&lt;ItemClass&gt; items = mainActivity.alist;\r\n\r\n        int size = items.size();\r\n        int j = 0;\r\n        String itemArray[ ] = new String[size];\r\n\r\n        if(items == null){\r\n            Log.d(&quot;UI thread&quot;, &quot;SHITS EMPTY FAM &quot; );\r\n        }\r\n        else{\r\n            for(ItemClass i : items){\r\n\r\n                Log.d(&quot;UI thread&quot;, &quot;I am the UI thread &quot; + i.getdescription());\r\n                //Log.d(&quot;UI thread&quot;, &quot;The size of items is: &quot; + size);\r\n                itemArray[j] = i.getTitle();\r\n                Log.d(&quot;UI thread&quot;, &quot;following was added to array: &quot; + i.getTitle());\r\n                Log.d(&quot;UI thread&quot;, &quot;The size of the array is: &quot; + itemArray.length);\r\n            }\r\n        }\r\n\r\n        Log.d(&quot;UI thread&quot;, &quot;The size of the array is STILL: &quot; + itemArray.length);\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(getActivity(), R.layout.activity_listview, itemArray);\r\n        if (adapter == null)\r\n        {\r\n            Log.e(&quot;MyTag&quot;,&quot;Adapter error&quot;);\r\n        }\r\n        listView = (ListView) v.findViewById(R.id.list);\r\n        if(listView == null){\r\n            Log.e(&quot;MyTag&quot;,&quot;listview error&quot;);\r\n        }\r\n\r\n        //listView.setAdapter(adapter);\r\n\r\n\r\n\r\n\r\n        return v;\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState)\r\n    {\r\n\r\n\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n\r\n\r\n\r\n//        ListView listView = (ListView) view.findViewById(R.id.list);\r\n//        listView.setOnItemClickListener((AdapterView.OnItemClickListener) this);\r\n\r\n        //ArrayList&lt;ItemClass&gt; newList = null;\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n} // End of listview Fragment","title":"Unable to populate listview fragment from array of string","body":"<p>I am unsure where I am going wrong. I have used an array before to populate a listview and had no issues. Now that I am using a fragment I receive errors that I am unable to fix. I log to find where the error is and the application only crashes when running the last commented out line.</p>\n<p>My error message is <code>Attempt to invoke virtual method 'java.lang.String java.lang.Object.toString()' on a null object reference</code> but how can this be when I am performing the to string on an array of strings (which I believe I have done before without fragments). If it is an issue with the adapter please enlighten me as to what should be there.</p>\n<p><strong>ListView Fragment</strong>\npublic class ListviewFragment extends Fragment implements AdapterView.OnItemClickListener, View.OnClickListener {\nprivate LinkedList linkedList;\nprivate ListView listView;</p>\n<pre><code>@Override\npublic View onCreateView(\n        LayoutInflater inflater, ViewGroup container,\n        Bundle savedInstanceState\n)\n{\n\n\n    // Inflate the layout for this fragment\n    View v = inflater.inflate(R.layout.frag_listviewfragment, container, false);\n    MainActivity mainActivity = (MainActivity) getActivity();\n\n    LinkedList&lt;ItemClass&gt; items = mainActivity.alist;\n\n    int size = items.size();\n    int j = 0;\n    String itemArray[ ] = new String[size];\n\n    if(items == null){\n        Log.d(&quot;UI thread&quot;, &quot;SHITS EMPTY FAM &quot; );\n    }\n    else{\n        for(ItemClass i : items){\n\n            Log.d(&quot;UI thread&quot;, &quot;I am the UI thread &quot; + i.getdescription());\n            //Log.d(&quot;UI thread&quot;, &quot;The size of items is: &quot; + size);\n            itemArray[j] = i.getTitle();\n            Log.d(&quot;UI thread&quot;, &quot;following was added to array: &quot; + i.getTitle());\n            Log.d(&quot;UI thread&quot;, &quot;The size of the array is: &quot; + itemArray.length);\n        }\n    }\n\n    Log.d(&quot;UI thread&quot;, &quot;The size of the array is STILL: &quot; + itemArray.length);\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(getActivity(), R.layout.activity_listview, itemArray);\n    if (adapter == null)\n    {\n        Log.e(&quot;MyTag&quot;,&quot;Adapter error&quot;);\n    }\n    listView = (ListView) v.findViewById(R.id.list);\n    if(listView == null){\n        Log.e(&quot;MyTag&quot;,&quot;listview error&quot;);\n    }\n\n    //listView.setAdapter(adapter);\n\n\n\n\n    return v;\n}\n\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState)\n{\n\n\n    super.onViewCreated(view, savedInstanceState);\n</code></pre>\n<p>//        ListView listView = (ListView) view.findViewById(R.id.list);\n//        listView.setOnItemClickListener((AdapterView.OnItemClickListener) this);</p>\n<pre><code>    //ArrayList&lt;ItemClass&gt; newList = null;\n\n\n}\n\n\n@Override\npublic void onClick(View view) {\n\n}\n\n@Override\npublic void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n}\n</code></pre>\n<p>} // End of listview Fragment</p>\n"},{"tags":["java","url","jersey","jetty","guice"],"answers":[{"tags":[],"owner":{"account_id":407754,"reputation":46,"user_id":778003,"display_name":"ydarias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399994377,"creation_date":1399994377,"answer_id":23635285,"question_id":16568939,"body_markdown":"Maybe your current endpoints should be refactored, but anyway your code looks a bit more complicated than neccesary. In my case it works like this.\r\n\r\n    ...\r\n    String packages = &quot;com.abc.web.stats.services;com.abc.web.stats.otherservices&quot;;\r\n    params.put(PackagesResourceConfig.PROPERTY_PACKAGES, packages);\r\n    \r\n    serve(&quot;/api/v1/*&quot;).with(GuiceContainer.class, params);\r\n    serve(&quot;/api/*&quot;).with(GuiceContainer.class, params);\r\n    ...\r\n\r\nJersey can scan multiple packages with a list separated by ;\r\n\r\nMaybe you should change your &quot;api/*&quot; endpoint but I&#39;m not really sure about how Jersey will work in that situation. I could bet it works fine with this code.\r\n    ","title":"Google Guice &amp; Jersey multiple URL patterns to same servlet while applying package filtering","body":"<p>Maybe your current endpoints should be refactored, but anyway your code looks a bit more complicated than neccesary. In my case it works like this.</p>\n\n<pre><code>...\nString packages = \"com.abc.web.stats.services;com.abc.web.stats.otherservices\";\nparams.put(PackagesResourceConfig.PROPERTY_PACKAGES, packages);\n\nserve(\"/api/v1/*\").with(GuiceContainer.class, params);\nserve(\"/api/*\").with(GuiceContainer.class, params);\n...\n</code></pre>\n\n<p>Jersey can scan multiple packages with a list separated by ;</p>\n\n<p>Maybe you should change your \"api/*\" endpoint but I'm not really sure about how Jersey will work in that situation. I could bet it works fine with this code.</p>\n"},{"tags":[],"owner":{"account_id":28299116,"reputation":1,"user_id":21638083,"display_name":"FaceMcBashy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681427147,"creation_date":1681427147,"answer_id":76010462,"question_id":16568939,"body_markdown":"I ran into the same issue. I think that by default, GuiceContainer specified in the serve function will be created as singleton, thus, even though you have different params for it, it will still be serve under the same path.\r\n\r\nTo get around the issue, I had to create a different GuiceContainer. However, creating GuiceContainer requires an Injector as parameter, which you might not have in configureServlets function. Thus a provider is used to inject the GuiceContainer when it is needed. Guice Key is used so we ensure a different instance of it is created.\r\n\r\n    public final class GuiceContextListener extends GuiceServletContextListener {\r\n        private JerseyServletModule getJerseyServletModule() {\r\n            JerseyServletModule jerseyModule = new JerseyServletModule() {\r\n                @Override\r\n                protected void configureServlets() {\r\n                    filter(&quot;/*&quot;).through(WebServerStateFilter.class);\r\n                    final Map&lt;String, String&gt; params1 = new HashMap&lt;String, String&gt;();\r\n                    StringBuilder sb = new StringBuilder();\r\n                    sb.append(&quot;com.abc.web.stats.services&quot;);\r\n                    params.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb.toString());\r\n                    bind(GuiceContainer.class)\r\n                      .annotatedWith(Names.named(&quot;path1&quot;))\r\n                      .toProvider(GuiceContainerProvider.class).in(Scopes.SINGLETON);\r\n                    serve(&quot;/api/*&quot;).with(Key.get(GuiceContainer.class, Names.named(&quot;path1&quot;)), params1);\r\n\r\n                    final Map&lt;String, String&gt; params2 = new HashMap&lt;String, String&gt;();\r\n                    StringBuilder sb2 = new StringBuilder();\r\n                    sb2.append(&quot;com.abc.web.stats.otherservices&quot;);\r\n                    params2.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb2.toString());\r\n                    bind(GuiceContainer.class)\r\n                      .annotatedWith(Names.named(&quot;path2&quot;))\r\n                      .toProvider(GuiceContainerProvider.class).in(Scopes.SINGLETON);\r\n                    serve(&quot;/api/*&quot;).with(Key.get(GuiceContainer.class, Names.named(&quot;path2&quot;)), params2);\r\n                }\r\n            }\r\n        }\r\n        ...\r\n        private GuiceContainerProvider implements Provider&lt;GuiceContainer&gt; {\r\n            @Inject\r\n            private Injector injector;\r\n            @Override\r\n            public GuiceContainer get() {\r\n              return new GuiceContainer(this.injector);\r\n            } \r\n        }\r\n    }\r\n\r\nNot sure if this is best practice but it helped me get around the issue.","title":"Google Guice &amp; Jersey multiple URL patterns to same servlet while applying package filtering","body":"<p>I ran into the same issue. I think that by default, GuiceContainer specified in the serve function will be created as singleton, thus, even though you have different params for it, it will still be serve under the same path.</p>\n<p>To get around the issue, I had to create a different GuiceContainer. However, creating GuiceContainer requires an Injector as parameter, which you might not have in configureServlets function. Thus a provider is used to inject the GuiceContainer when it is needed. Guice Key is used so we ensure a different instance of it is created.</p>\n<pre><code>public final class GuiceContextListener extends GuiceServletContextListener {\n    private JerseyServletModule getJerseyServletModule() {\n        JerseyServletModule jerseyModule = new JerseyServletModule() {\n            @Override\n            protected void configureServlets() {\n                filter(&quot;/*&quot;).through(WebServerStateFilter.class);\n                final Map&lt;String, String&gt; params1 = new HashMap&lt;String, String&gt;();\n                StringBuilder sb = new StringBuilder();\n                sb.append(&quot;com.abc.web.stats.services&quot;);\n                params.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb.toString());\n                bind(GuiceContainer.class)\n                  .annotatedWith(Names.named(&quot;path1&quot;))\n                  .toProvider(GuiceContainerProvider.class).in(Scopes.SINGLETON);\n                serve(&quot;/api/*&quot;).with(Key.get(GuiceContainer.class, Names.named(&quot;path1&quot;)), params1);\n\n                final Map&lt;String, String&gt; params2 = new HashMap&lt;String, String&gt;();\n                StringBuilder sb2 = new StringBuilder();\n                sb2.append(&quot;com.abc.web.stats.otherservices&quot;);\n                params2.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb2.toString());\n                bind(GuiceContainer.class)\n                  .annotatedWith(Names.named(&quot;path2&quot;))\n                  .toProvider(GuiceContainerProvider.class).in(Scopes.SINGLETON);\n                serve(&quot;/api/*&quot;).with(Key.get(GuiceContainer.class, Names.named(&quot;path2&quot;)), params2);\n            }\n        }\n    }\n    ...\n    private GuiceContainerProvider implements Provider&lt;GuiceContainer&gt; {\n        @Inject\n        private Injector injector;\n        @Override\n        public GuiceContainer get() {\n          return new GuiceContainer(this.injector);\n        } \n    }\n}\n</code></pre>\n<p>Not sure if this is best practice but it helped me get around the issue.</p>\n"}],"owner":{"account_id":1321531,"reputation":287,"user_id":1267252,"accept_rate":80,"display_name":"Paul Chiritescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1687,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1681427147,"creation_date":1368631129,"question_id":16568939,"body_markdown":"I am trying, using Jersey &amp; Google Guice 3.0, to map 2 different URL patterns to the same servlet and each of these URL patterns to be applied to a different package in my project.\r\n\r\nTo be clear I am pasting part of the code below and I will also explain.\r\n\r\n**web.xml**\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;com.abc.web.listeners.GuiceContextListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;filter&gt;\r\n    \t&lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\r\n    \t&lt;filter-class&gt;com.google.inject.servlet.GuiceFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n    \t&lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\r\n    \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n**GuiceContextListener**\r\n\r\n    public final class GuiceContextListener extends GuiceServletContextListener {\r\n    ...\r\n        private JerseyServletModule getJerseyServletModule() {\r\n            JerseyServletModule jerseyModule = new JerseyServletModule() {\r\n    \t        @Override\r\n    \t        protected void configureServlets() {\r\n                    filter(&quot;/*&quot;).through(WebServerStateFilter.class);\r\n                    final Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n                    StringBuilder sb = new StringBuilder();\r\n                    sb.append(&quot;com.abc.web.stats.services&quot;);\r\n                    params.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb.toString());\r\n                    serve(&quot;/api/v1/*&quot;).with(GuiceContainer.class, params);\r\n\r\n                    final Map&lt;String, String&gt; params1 = new HashMap&lt;String, String&gt;();\r\n                    StringBuilder sb1 = new StringBuilder();\r\n                    sb1.append(&quot;com.abc.web.stats.otherservices&quot;);\r\n                    params1.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb1.toString());\r\n                    serve(&quot;/api/*&quot;).with(GuiceContainer.class, params1);\r\n                }\r\n            }\r\n        }\r\n    ...\r\n    }\r\n\r\nSo basically I want:\r\n\r\n - URLs starting with **&quot;/api/v1/*&quot;** to be handled through servlet GuiceContainer by services in package &quot;com.abc.web.stats.**services**&quot;\r\n - URLs starting with **&quot;/api/*&quot;** to be handled through same servlet GuiceContainer by services in package &quot;com.abc.web.stats.**otherservices**&quot;\r\n\r\nI used the code above but it does not seem to work, it seems that only the first &quot;serve&quot; call is taken into consideration so in this case only URLs matching &quot;/api/v1/*&quot; are served. \r\nI do not want to hardcode &quot;v1&quot; in my services since the version might change (to &quot;v2&quot;) in the future.\r\n\r\nCan somebody help me out?\r\n\r\nThanks,\r\nPaul","title":"Google Guice &amp; Jersey multiple URL patterns to same servlet while applying package filtering","body":"<p>I am trying, using Jersey &amp; Google Guice 3.0, to map 2 different URL patterns to the same servlet and each of these URL patterns to be applied to a different package in my project.</p>\n\n<p>To be clear I am pasting part of the code below and I will also explain.</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;com.abc.web.listeners.GuiceContextListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;filter&gt;\n    &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.google.inject.servlet.GuiceFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p><strong>GuiceContextListener</strong></p>\n\n<pre><code>public final class GuiceContextListener extends GuiceServletContextListener {\n...\n    private JerseyServletModule getJerseyServletModule() {\n        JerseyServletModule jerseyModule = new JerseyServletModule() {\n            @Override\n            protected void configureServlets() {\n                filter(\"/*\").through(WebServerStateFilter.class);\n                final Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n                StringBuilder sb = new StringBuilder();\n                sb.append(\"com.abc.web.stats.services\");\n                params.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb.toString());\n                serve(\"/api/v1/*\").with(GuiceContainer.class, params);\n\n                final Map&lt;String, String&gt; params1 = new HashMap&lt;String, String&gt;();\n                StringBuilder sb1 = new StringBuilder();\n                sb1.append(\"com.abc.web.stats.otherservices\");\n                params1.put(PackagesResourceConfig.PROPERTY_PACKAGES, sb1.toString());\n                serve(\"/api/*\").with(GuiceContainer.class, params1);\n            }\n        }\n    }\n...\n}\n</code></pre>\n\n<p>So basically I want:</p>\n\n<ul>\n<li>URLs starting with <strong>\"/api/v1/*\"</strong> to be handled through servlet GuiceContainer by services in package \"com.abc.web.stats.<strong>services</strong>\"</li>\n<li>URLs starting with <strong>\"/api/*\"</strong> to be handled through same servlet GuiceContainer by services in package \"com.abc.web.stats.<strong>otherservices</strong>\"</li>\n</ul>\n\n<p>I used the code above but it does not seem to work, it seems that only the first \"serve\" call is taken into consideration so in this case only URLs matching \"/api/v1/*\" are served. \nI do not want to hardcode \"v1\" in my services since the version might change (to \"v2\") in the future.</p>\n\n<p>Can somebody help me out?</p>\n\n<p>Thanks,\nPaul</p>\n"},{"tags":["java","groovy","mocking","mockito","powermockito"],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681426688,"creation_date":1681426688,"answer_id":76010423,"question_id":76010365,"body_markdown":"I can recommend you to use mockito-inline to mock static methods like this:\r\n\r\n    try (MockedStatic&lt;FileUtils&gt; MockedStatic = mockStatic(FileUtils.class)) {\r\n\r\n        MockedStatic\r\n            .verify(() -&gt; FileUtils.deleteDirectory(dummyFile), times(1));\r\n    }\r\n\r\nSome examples here -&gt; [mocking static methods][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-mock-static-methods","title":"Mocking: Verify Static Void Method Is Called","body":"<p>I can recommend you to use mockito-inline to mock static methods like this:</p>\n<pre><code>try (MockedStatic&lt;FileUtils&gt; MockedStatic = mockStatic(FileUtils.class)) {\n\n    MockedStatic\n        .verify(() -&gt; FileUtils.deleteDirectory(dummyFile), times(1));\n}\n</code></pre>\n<p>Some examples here -&gt; <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">mocking static methods</a></p>\n"}],"owner":{"account_id":10356769,"reputation":23,"user_id":7638459,"display_name":"maiah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681426688,"creation_date":1681425852,"question_id":76010365,"body_markdown":"I am having trouble with the test cases for methods: deleteOldBermudaFolder and isExistingDirectory.\r\nBelow is the code:\r\n\r\n```\r\nclass BermudaCacheDumpServiceImpl implements BermudaCacheDumpService {\r\n\r\n    @Autowired\r\n    PreferenceService preferenceService\r\n\r\n    @Autowired\r\n    FileUtils fileUtils\r\n\r\n    static final String WORKING_DIR = &#39;bermudaCacheDumpWorkDir&#39;\r\n    static final String FOLDER_TO_DELETE = &#39;bermudaCacheDumpDeleteFolder&#39;\r\n\r\n    boolean isLandingStripAssembled(){\r\n        boolean isLSAssembled\r\n        File oldBermudaFolder = new File(workingDirectory + folderToDelete)\r\n\r\n        deleteOldBermudaFolder(oldBermudaFolder)\r\n\r\n        isLSAssembled = hasValidFiles()\r\n        isLSAssembled\r\n    }\r\n\r\n    void deleteOldBermudaFolder(File oldBermudaFolder) throws IOException{\r\n        if(isExistingDirectory(oldBermudaFolder)){\r\n            fileUtils.deleteDirectory(oldBermudaFolder)\r\n        }\r\n        else{\r\n            log.error(&quot;Unable to delete directory&quot;)\r\n        }\r\n    }\r\n\r\n    boolean isExistingDirectory(File file){\r\n        file.exists() &amp;&amp; file.isDirectory()\r\n    }\r\n\r\n    boolean isExistingFile(File file){\r\n        file.exists() &amp;&amp; file.isFile()\r\n    }\r\n\r\n    private String getWorkingDirectory(){    preferenceService.getValue(WORKING_DIR)    }\r\n\r\n    private String getFolderToDelete(){    preferenceService.getValue(FOLDER_TO_DELETE)    }\r\n\r\n```\r\n\r\nMy testing cases:\r\n\r\n\r\n```\r\nclass BermudaCacheDumpServiceImplTest extends GroovyTestCase{\r\n\r\n    BermudaCacheDumpServiceImpl bermudaCacheDumpService\r\n    PreferenceService mockPreferenceService\r\n    FileUtils mockFileUtils\r\n\r\n    void setUp(){\r\n        mockPreferenceService = mock(PreferenceService) //Line 18\r\n        mockFileUtils = mock(FileUtils)\r\n        bermudaCacheDumpService = new BermudaCacheDumpServiceImpl(preferenceService: mockPreferenceService, fileUtils: mockFileUtils)\r\n    }\r\n\r\n    void testIsExistingFile()\r\n    {\r\n        File mockedFile = mock(File.class)\r\n        when(mockedFile.exists()).thenReturn(true)\r\n        when(mockedFile.isFile()).thenReturn(true)\r\n\r\n        assert bermudaCacheDumpService.isExistingFile(mockedFile)\r\n    }\r\n\r\n    void testIsExistingDirectory(){\r\n        File mockedFile = mock(File.class)\r\n        when(mockedFile.exists()).thenReturn(true)\r\n        when(mockedFile.isDirectory()).thenReturn(true)\r\n\r\n        assert bermudaCacheDumpService.isExistingDirectory(mockedFile)\r\n    }\r\n\r\n    void testDeleteOldBermudaFolder(){\r\n        def dummyFile = new File(&quot;/apps/Codes/PLS/LS/bermuda&quot;)\r\n        File mockedFile = mock(File.class)\r\n\r\n        when(bermudaCacheDumpService.isExistingDirectory(mockedFile)).thenReturn(true)\r\n        bermudaCacheDumpService.deleteOldBermudaFolder(mockedFile)\r\n        verify(bermudaCacheDumpService.fileUtils, times(1)).deleteDirectory(dummyFile)\r\n    }\r\n}\r\n```\r\n\r\nThe issue:\r\nWhen I comment out the testDeleteOldBermudaFolder() the entire test file runs with no errors. But the moment I uncomment testDeleteOldBermudaFolder() I get an error on testIsExistingDirectory()\r\n\r\nAll of the tests when run individually give no errors and show as passing but when run together as a unit with testDeleteOldBermudaFolder() uncommented, the testIsExistingDirectory() test fails.\r\n\r\n```\r\norg.mockito.exceptions.misusing.UnfinishedVerificationException: \r\nMissing method call for verify(mock) here:\r\n-&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:53)\r\nExample of correct verification:\r\n    verify(mock).doSomething()\r\n\r\nAlso, this error might show up because you verify either of: final/private/equals()/hashCode() methods.\r\nThose methods *cannot* be stubbed/verified.\r\nMocking methods declared on non-public parent classes is not supported.\r\n\r\nat com.thomsonreuters.legal.lpa.bermudacachedump.BermudaCacheDumpServiceImplTest.setUp(BermudaCacheDumpServiceImplTest.groovy:18)\r\n```\r\n\r\nFrom the error above it is saying that the CallSiteArray is not being verified but no where is that being called. Line 18 of the code points to the PreferenceService being made in SetUp(). From debugging, after running testDeleteOldBermudaFolder() and showing that it is correct it goes to run testIsExistingDirectory() and when it tries to mock up the PreferenceService it is unable too and claims it to be null.\r\nWhenever the testIsExistingDirectory() test is uncommented the  testIsExistingDirectory() test always runs after it. I&#39;m not sure why though.\r\n\r\nEven the testIsExistingDirectory() test is failing and showing the error I don&#39;t believe that test is incorrect.\r\nI believe this issue has to do with the testDeleteOldBermudaFolder() since it is the only test that causes problems with testIsExistingDirectory(). And it is the only one with the verify in it.\r\n\r\nIn my main code I am calling FileUtils.deleteDirectory which is a static void method.\r\n\r\nI have started to look into PowerMockito but every example I have seen shows a method that returns a value and uses the when/do syntax. For this if the directory exists then I need to verify the FileUtils.deleteDirectory will be called. I need that verify statement.\r\n\r\n**I&#39;m looking for an explanation on why this specific mocking is not working? And I&#39;m looking for an example on how to correctly mock FileUtils.deleteDirectory to verify that is being called.** Specifically the syntax.\r\nOr looking for a workaround to verify FileUtils.\r\n\r\n\r\n\r\n```\r\nverify(fileUtils, times(1)).deleteDirectory(new File(&quot;/apps/Codes/PLS/LS/bermuda&quot;))\r\n```\r\nSame error as above\r\n\r\n```\r\nverify(FileUtils, times(1)).deleteDirectory(dummyFile)\r\n```\r\nSame error as above\r\n\r\n```\r\nverify(bermudaCacheDumpService.fileUtils).deleteDirectory(dummyFile)\r\n```\r\nSame error as above\r\n\r\n```\r\nFileUtils fileUtils = mock(FileUtils.class)\r\nverify(fileUtils, times(1)).deleteDirectory(dummyFile)\r\n```\r\nSame error as above\r\n\r\n```\r\nPowerMockito.verifyStatic(bermudaCacheDumpService.fileUtils, times(1)).deleteDirectory(dummyFile)\r\n```\r\nincorrect syntax - PowerMockito cannot be applied to FileUtils\r\n\r\n```\r\nPowerMockito.verifyStatic(FileUtils.class, times(1))\r\n```\r\nincorrect syntax - PowerMockito cannot be applied to FileUtils\r\n\r\n\r\n```\r\nPowerMockito.mockStatic(FileUtils.class, { invocationOnMock -&gt;\r\n    assertEquals(dummyFile, invocationOnMock.getArgument(0, File.class))\r\n    return null\r\n})\r\n```\r\nI saw this on StackOverflow and tried it out. But the syntax is incorrect. It also doesn&#39;t help verify that the deletedirectory is called.\r\n","title":"Mocking: Verify Static Void Method Is Called","body":"<p>I am having trouble with the test cases for methods: deleteOldBermudaFolder and isExistingDirectory.\nBelow is the code:</p>\n<pre><code>class BermudaCacheDumpServiceImpl implements BermudaCacheDumpService {\n\n    @Autowired\n    PreferenceService preferenceService\n\n    @Autowired\n    FileUtils fileUtils\n\n    static final String WORKING_DIR = 'bermudaCacheDumpWorkDir'\n    static final String FOLDER_TO_DELETE = 'bermudaCacheDumpDeleteFolder'\n\n    boolean isLandingStripAssembled(){\n        boolean isLSAssembled\n        File oldBermudaFolder = new File(workingDirectory + folderToDelete)\n\n        deleteOldBermudaFolder(oldBermudaFolder)\n\n        isLSAssembled = hasValidFiles()\n        isLSAssembled\n    }\n\n    void deleteOldBermudaFolder(File oldBermudaFolder) throws IOException{\n        if(isExistingDirectory(oldBermudaFolder)){\n            fileUtils.deleteDirectory(oldBermudaFolder)\n        }\n        else{\n            log.error(&quot;Unable to delete directory&quot;)\n        }\n    }\n\n    boolean isExistingDirectory(File file){\n        file.exists() &amp;&amp; file.isDirectory()\n    }\n\n    boolean isExistingFile(File file){\n        file.exists() &amp;&amp; file.isFile()\n    }\n\n    private String getWorkingDirectory(){    preferenceService.getValue(WORKING_DIR)    }\n\n    private String getFolderToDelete(){    preferenceService.getValue(FOLDER_TO_DELETE)    }\n\n</code></pre>\n<p>My testing cases:</p>\n<pre><code>class BermudaCacheDumpServiceImplTest extends GroovyTestCase{\n\n    BermudaCacheDumpServiceImpl bermudaCacheDumpService\n    PreferenceService mockPreferenceService\n    FileUtils mockFileUtils\n\n    void setUp(){\n        mockPreferenceService = mock(PreferenceService) //Line 18\n        mockFileUtils = mock(FileUtils)\n        bermudaCacheDumpService = new BermudaCacheDumpServiceImpl(preferenceService: mockPreferenceService, fileUtils: mockFileUtils)\n    }\n\n    void testIsExistingFile()\n    {\n        File mockedFile = mock(File.class)\n        when(mockedFile.exists()).thenReturn(true)\n        when(mockedFile.isFile()).thenReturn(true)\n\n        assert bermudaCacheDumpService.isExistingFile(mockedFile)\n    }\n\n    void testIsExistingDirectory(){\n        File mockedFile = mock(File.class)\n        when(mockedFile.exists()).thenReturn(true)\n        when(mockedFile.isDirectory()).thenReturn(true)\n\n        assert bermudaCacheDumpService.isExistingDirectory(mockedFile)\n    }\n\n    void testDeleteOldBermudaFolder(){\n        def dummyFile = new File(&quot;/apps/Codes/PLS/LS/bermuda&quot;)\n        File mockedFile = mock(File.class)\n\n        when(bermudaCacheDumpService.isExistingDirectory(mockedFile)).thenReturn(true)\n        bermudaCacheDumpService.deleteOldBermudaFolder(mockedFile)\n        verify(bermudaCacheDumpService.fileUtils, times(1)).deleteDirectory(dummyFile)\n    }\n}\n</code></pre>\n<p>The issue:\nWhen I comment out the testDeleteOldBermudaFolder() the entire test file runs with no errors. But the moment I uncomment testDeleteOldBermudaFolder() I get an error on testIsExistingDirectory()</p>\n<p>All of the tests when run individually give no errors and show as passing but when run together as a unit with testDeleteOldBermudaFolder() uncommented, the testIsExistingDirectory() test fails.</p>\n<pre><code>org.mockito.exceptions.misusing.UnfinishedVerificationException: \nMissing method call for verify(mock) here:\n-&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:53)\nExample of correct verification:\n    verify(mock).doSomething()\n\nAlso, this error might show up because you verify either of: final/private/equals()/hashCode() methods.\nThose methods *cannot* be stubbed/verified.\nMocking methods declared on non-public parent classes is not supported.\n\nat com.thomsonreuters.legal.lpa.bermudacachedump.BermudaCacheDumpServiceImplTest.setUp(BermudaCacheDumpServiceImplTest.groovy:18)\n</code></pre>\n<p>From the error above it is saying that the CallSiteArray is not being verified but no where is that being called. Line 18 of the code points to the PreferenceService being made in SetUp(). From debugging, after running testDeleteOldBermudaFolder() and showing that it is correct it goes to run testIsExistingDirectory() and when it tries to mock up the PreferenceService it is unable too and claims it to be null.\nWhenever the testIsExistingDirectory() test is uncommented the  testIsExistingDirectory() test always runs after it. I'm not sure why though.</p>\n<p>Even the testIsExistingDirectory() test is failing and showing the error I don't believe that test is incorrect.\nI believe this issue has to do with the testDeleteOldBermudaFolder() since it is the only test that causes problems with testIsExistingDirectory(). And it is the only one with the verify in it.</p>\n<p>In my main code I am calling FileUtils.deleteDirectory which is a static void method.</p>\n<p>I have started to look into PowerMockito but every example I have seen shows a method that returns a value and uses the when/do syntax. For this if the directory exists then I need to verify the FileUtils.deleteDirectory will be called. I need that verify statement.</p>\n<p><strong>I'm looking for an explanation on why this specific mocking is not working? And I'm looking for an example on how to correctly mock FileUtils.deleteDirectory to verify that is being called.</strong> Specifically the syntax.\nOr looking for a workaround to verify FileUtils.</p>\n<pre><code>verify(fileUtils, times(1)).deleteDirectory(new File(&quot;/apps/Codes/PLS/LS/bermuda&quot;))\n</code></pre>\n<p>Same error as above</p>\n<pre><code>verify(FileUtils, times(1)).deleteDirectory(dummyFile)\n</code></pre>\n<p>Same error as above</p>\n<pre><code>verify(bermudaCacheDumpService.fileUtils).deleteDirectory(dummyFile)\n</code></pre>\n<p>Same error as above</p>\n<pre><code>FileUtils fileUtils = mock(FileUtils.class)\nverify(fileUtils, times(1)).deleteDirectory(dummyFile)\n</code></pre>\n<p>Same error as above</p>\n<pre><code>PowerMockito.verifyStatic(bermudaCacheDumpService.fileUtils, times(1)).deleteDirectory(dummyFile)\n</code></pre>\n<p>incorrect syntax - PowerMockito cannot be applied to FileUtils</p>\n<pre><code>PowerMockito.verifyStatic(FileUtils.class, times(1))\n</code></pre>\n<p>incorrect syntax - PowerMockito cannot be applied to FileUtils</p>\n<pre><code>PowerMockito.mockStatic(FileUtils.class, { invocationOnMock -&gt;\n    assertEquals(dummyFile, invocationOnMock.getArgument(0, File.class))\n    return null\n})\n</code></pre>\n<p>I saw this on StackOverflow and tried it out. But the syntax is incorrect. It also doesn't help verify that the deletedirectory is called.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681424505,"creation_date":1681424069,"answer_id":76010243,"question_id":76009816,"body_markdown":"if you want to add the id as a UUID and auto generated one, you can use the annotation to do that. then you don&#39;t  want to provide the id each time. the id will be generated by the framework.\r\n\r\n```java\r\n@Id\r\n@GeneratedValue(generator = &quot;uuid&quot;)\r\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\nprivate String id;\r\n```\r\n\r\nor, if the Id generating is required by the Database, **you have to manage another column as a primary key in the database besides the main primary key**. because JPA requires that every entity has an ID. ","title":"ids for this class must be manually assigned before calling save() in spring data jpa","body":"<p>if you want to add the id as a UUID and auto generated one, you can use the annotation to do that. then you don't  want to provide the id each time. the id will be generated by the framework.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\nprivate String id;\n</code></pre>\n<p>or, if the Id generating is required by the Database, <strong>you have to manage another column as a primary key in the database besides the main primary key</strong>. because JPA requires that every entity has an ID.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681424505,"creation_date":1681419815,"question_id":76009816,"body_markdown":"I want to generate uuid into database as primary key. I tried this:\r\n\r\n    CREATE TABLE IF NOT EXISTS product_keys\r\n    (\r\n        id uuid DEFAULT gen_random_uuid()\r\n        ....\r\n    }\r\n\r\nI tried to insert new key using this Java code:\r\n\r\n\r\n    @Repository\r\n    public interface ProductKeysRepository extends JpaRepository&lt;ProductKeys, UUID&gt;, JpaSpecificationExecutor&lt;ProductKeys&gt; {\r\n    \r\n        ......\r\n    }\r\n    \r\n    ProductKeys productKeys= ProductKeys.builder().build();\r\n    productKeysRepository.saveAndFlush(productKeys);\r\n\r\n\r\nEntity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;product_keys&quot;)\r\n    public class ProductKeys{\r\n    \r\n        @Id\r\n        @Column(name = &quot;ID&quot;, nullable = false)\r\n        private UUID id;\r\n        ....\r\n    }\r\n\r\nWhen I try to insert a new record I get a error: `org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.ProductKeys`\r\n\r\nI don&#39;t have a sequencer. I want to leave database to generate the unique uuid. Do you know how I can fix this issue?","title":"ids for this class must be manually assigned before calling save() in spring data jpa","body":"<p>I want to generate uuid into database as primary key. I tried this:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS product_keys\n(\n    id uuid DEFAULT gen_random_uuid()\n    ....\n}\n</code></pre>\n<p>I tried to insert new key using this Java code:</p>\n<pre><code>@Repository\npublic interface ProductKeysRepository extends JpaRepository&lt;ProductKeys, UUID&gt;, JpaSpecificationExecutor&lt;ProductKeys&gt; {\n\n    ......\n}\n\nProductKeys productKeys= ProductKeys.builder().build();\nproductKeysRepository.saveAndFlush(productKeys);\n</code></pre>\n<p>Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;product_keys&quot;)\npublic class ProductKeys{\n\n    @Id\n    @Column(name = &quot;ID&quot;, nullable = false)\n    private UUID id;\n    ....\n}\n</code></pre>\n<p>When I try to insert a new record I get a error: <code>org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save(): com.ProductKeys</code></p>\n<p>I don't have a sequencer. I want to leave database to generate the unique uuid. Do you know how I can fix this issue?</p>\n"},{"tags":["java","json","spring","spring-mvc","jackson"],"comments":[{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":1,"creation_date":1305559517,"post_id":6019562,"comment_id":6958007,"body_markdown":"Using a BufferedReader and iterating line by line is a really bad idea because your code might then be sensitive to changes in the formatting of the json received from the Javascript. Much better to use a real json parser.","body":"Using a BufferedReader and iterating line by line is a really bad idea because your code might then be sensitive to changes in the formatting of the json received from the Javascript. Much better to use a real json parser."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":1,"creation_date":1305559532,"post_id":6019562,"comment_id":6958012,"body_markdown":"please post the code that you&#39;ve tried and tell us what doesn&#39;t work about it (i.e. you expect A but instead you get B), it&#39;s far easier to help you out with this info.","body":"please post the code that you&#39;ve tried and tell us what doesn&#39;t work about it (i.e. you expect A but instead you get B), it&#39;s far easier to help you out with this info."}],"answers":[{"tags":[],"owner":{"account_id":46450,"reputation":199,"user_id":137236,"display_name":"denny"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1444044897,"creation_date":1305560222,"answer_id":6019757,"question_id":6019562,"body_markdown":"I&#39;m using json lib from http://json-lib.sourceforge.net/  \r\njson-lib-2.1-jdk15.jar\r\n\r\n    import net.sf.json.JSONObject;\r\n    ...\r\n\r\n    public void send()\r\n    {\r\n        //put attributes\r\n        Map m = New HashMap();\r\n        m.put(&quot;send_to&quot;,&quot;my@admin.lan&quot;);\r\n        m.put(&quot;email_subject&quot;,&quot;this is a test email&quot;);\r\n        m.put(&quot;email_content&quot;,&quot;test email content&quot;);\r\n\r\n        //generate JSON Object\r\n        JSONObject json = JSONObject.fromObject(content);\r\n        String message = json.toString();\r\n        ...\r\n    }\r\n\r\n    public void receive(String jsonMessage)\r\n    {\r\n        //parse attributes\r\n        JSONObject json = JSONObject.fromObject(jsonMessage);\r\n        String to = (String) json.get(&quot;send_to&quot;);\r\n        String title = (String) json.get(&quot;email_subject&quot;);\r\n        String content = (String) json.get(&quot;email_content&quot;);\r\n        ...\r\n    }\r\n\r\nMore samples here http://json-lib.sourceforge.net/usage.html","title":"Parsing JSON in Spring MVC using Jackson JSON","body":"<p>I'm using json lib from <a href=\"http://json-lib.sourceforge.net/\" rel=\"nofollow\">http://json-lib.sourceforge.net/</a><br>\njson-lib-2.1-jdk15.jar</p>\n\n<pre><code>import net.sf.json.JSONObject;\n...\n\npublic void send()\n{\n    //put attributes\n    Map m = New HashMap();\n    m.put(\"send_to\",\"my@admin.lan\");\n    m.put(\"email_subject\",\"this is a test email\");\n    m.put(\"email_content\",\"test email content\");\n\n    //generate JSON Object\n    JSONObject json = JSONObject.fromObject(content);\n    String message = json.toString();\n    ...\n}\n\npublic void receive(String jsonMessage)\n{\n    //parse attributes\n    JSONObject json = JSONObject.fromObject(jsonMessage);\n    String to = (String) json.get(\"send_to\");\n    String title = (String) json.get(\"email_subject\");\n    String content = (String) json.get(\"email_content\");\n    ...\n}\n</code></pre>\n\n<p>More samples here <a href=\"http://json-lib.sourceforge.net/usage.html\" rel=\"nofollow\">http://json-lib.sourceforge.net/usage.html</a></p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":103,"is_accepted":true,"score":103,"last_activity_date":1681422265,"creation_date":1305560243,"answer_id":6019761,"question_id":6019562,"body_markdown":"The whole point of using a mapping technology like Jackson is that you can use Objects (you don&#39;t have to parse the JSON yourself).\r\n\r\nDefine a Java class that resembles the JSON you will be expecting.\r\n\r\ne.g. this JSON:\r\n\r\n    {\r\n    &quot;foo&quot; : [&quot;abc&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;],\r\n    &quot;bar&quot; : &quot;true&quot;,\r\n    &quot;baz&quot; : 1\r\n    }\r\n\r\ncould be mapped to this class:\r\n\r\n    public class Fizzle{\r\n        private List&lt;String&gt; foo;\r\n        private boolean bar;\r\n        private int baz;\r\n        // getters and setters omitted\r\n    }\r\n\r\nNow if you have a Controller method like this:\r\n\r\n    @RequestMapping(&quot;somepath&quot;)\r\n    @ResponseBody\r\n    public Fozzle doSomeThing(@RequestBody Fizzle input){\r\n        return new Fozzle(input);\r\n    }\r\n\r\nand you pass in the JSON from above, Jackson will automatically create a Fizzle object for you, and it will serialize a JSON view of the returned Object out to the response with mime type `application/json`.\r\n\r\nFor a full working example [see this previous answer of mine][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5908466/jquery-spring-mvc-requestbody-and-json-making-it-work-together/5908632#5908632","title":"Parsing JSON in Spring MVC using Jackson JSON","body":"<p>The whole point of using a mapping technology like Jackson is that you can use Objects (you don't have to parse the JSON yourself).</p>\n<p>Define a Java class that resembles the JSON you will be expecting.</p>\n<p>e.g. this JSON:</p>\n<pre><code>{\n&quot;foo&quot; : [&quot;abc&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;],\n&quot;bar&quot; : &quot;true&quot;,\n&quot;baz&quot; : 1\n}\n</code></pre>\n<p>could be mapped to this class:</p>\n<pre><code>public class Fizzle{\n    private List&lt;String&gt; foo;\n    private boolean bar;\n    private int baz;\n    // getters and setters omitted\n}\n</code></pre>\n<p>Now if you have a Controller method like this:</p>\n<pre><code>@RequestMapping(&quot;somepath&quot;)\n@ResponseBody\npublic Fozzle doSomeThing(@RequestBody Fizzle input){\n    return new Fozzle(input);\n}\n</code></pre>\n<p>and you pass in the JSON from above, Jackson will automatically create a Fizzle object for you, and it will serialize a JSON view of the returned Object out to the response with mime type <code>application/json</code>.</p>\n<p>For a full working example <a href=\"https://stackoverflow.com/questions/5908466/jquery-spring-mvc-requestbody-and-json-making-it-work-together/5908632#5908632\">see this previous answer of mine</a>.</p>\n"}],"owner":{"account_id":280090,"reputation":6832,"user_id":575596,"accept_rate":94,"display_name":"MeanwhileInHell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125698,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":6019761,"answer_count":2,"score":46,"last_activity_date":1681422265,"creation_date":1305559328,"question_id":6019562,"body_markdown":"Ok, so I&#39;ve been looking at this for a little while now and am no further on.  I&#39;ve got a Spring MVC servlet that I need to accept JSON from a JavaScript front end web app.  To parse the JSON I need to use Jackson.  I need to take the values within the JSON and store them into a List in the order they appear in the JSON.  I&#39;ve tried using the JsonFactory with the JsonParser and JsonNode objects but can quite get it to work.  I&#39;ve also tried to just open a BufferedReader and iterate through the request body line by line but again can&#39;t quite get this either.  I&#39;ve looked at a couple of related questions on here, but none so far have worked for me.\r\n\r\nCould anyone in the know point me in the right direction here please, a web page with an example would be great!","title":"Parsing JSON in Spring MVC using Jackson JSON","body":"<p>Ok, so I've been looking at this for a little while now and am no further on.  I've got a Spring MVC servlet that I need to accept JSON from a JavaScript front end web app.  To parse the JSON I need to use Jackson.  I need to take the values within the JSON and store them into a List in the order they appear in the JSON.  I've tried using the JsonFactory with the JsonParser and JsonNode objects but can quite get it to work.  I've also tried to just open a BufferedReader and iterate through the request body line by line but again can't quite get this either.  I've looked at a couple of related questions on here, but none so far have worked for me.</p>\n\n<p>Could anyone in the know point me in the right direction here please, a web page with an example would be great!</p>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681410518,"post_id":76008614,"comment_id":134055953,"body_markdown":"Hello, please remove the line @Column(name = &quot;phoneNumber&quot;) from the Expert entity. This is wrong. There is no such column.","body":"Hello, please remove the line @Column(name = &quot;phoneNumber&quot;) from the Expert entity. This is wrong. There is no such column."},{"owner":{"account_id":16252871,"reputation":11,"user_id":11736319,"display_name":"Mechanizm"},"score":0,"creation_date":1681410751,"post_id":76008614,"comment_id":134055998,"body_markdown":"Thanks, I removed @Column(name = &quot;phoneNumber&quot;). However, that didn&#39;t solve the problem.","body":"Thanks, I removed @Column(name = &quot;phoneNumber&quot;). However, that didn&#39;t solve the problem."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681411309,"post_id":76008614,"comment_id":134056104,"body_markdown":"Please add nullable=false to @JoinColumn Also: @JoinColumn(name = &quot;expert_id&quot;, referencedColumnName = &quot;expert_id&quot;, nullable=false)","body":"Please add nullable=false to @JoinColumn Also: @JoinColumn(name = &quot;expert_id&quot;, referencedColumnName = &quot;expert_id&quot;, nullable=false)"},{"owner":{"account_id":16252871,"reputation":11,"user_id":11736319,"display_name":"Mechanizm"},"score":0,"creation_date":1681412206,"post_id":76008614,"comment_id":134056296,"body_markdown":"This property generate error because expert_id is null.\n\norg.hibernate.PropertyValueException: not-null property references a null or transient value : pl.diet.expert.jpa.PhoneNumber.expert","body":"This property generate error because expert_id is null.  org.hibernate.PropertyValueException: not-null property references a null or transient value : pl.diet.expert.jpa.PhoneNumber.expert"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681412541,"post_id":76008614,"comment_id":134056385,"body_markdown":"OK. It shows that you have an issue while saving the entities to the database. The relationship to the Expert need to be set prior to saving a new PhoneNumber. You can use the setExpert() method for it. In case of doubts please share the code of service classes in use.","body":"OK. It shows that you have an issue while saving the entities to the database. The relationship to the Expert need to be set prior to saving a new PhoneNumber. You can use the setExpert() method for it. In case of doubts please share the code of service classes in use."},{"owner":{"account_id":16252871,"reputation":11,"user_id":11736319,"display_name":"Mechanizm"},"score":0,"creation_date":1681412907,"post_id":76008614,"comment_id":134056465,"body_markdown":"Service class have a method and repository is clear JpaRepository interface.\n\n`public Expert saveOrUpdateExpert(Expert expert) {\n        return expertRepository.save(expert);\n    }`\n\nWhen I was used setExpert() method from PhoneNumber it create database entry twice. \n\nI would like hibernate to do this saving itself using only annotations.","body":"Service class have a method and repository is clear JpaRepository interface.  <code>public Expert saveOrUpdateExpert(Expert expert) {         return expertRepository.save(expert);     }</code>  When I was used setExpert() method from PhoneNumber it create database entry twice.   I would like hibernate to do this saving itself using only annotations."}],"answers":[{"tags":[],"owner":{"account_id":16252871,"reputation":11,"user_id":11736319,"display_name":"Mechanizm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681422009,"creation_date":1681422009,"answer_id":76010035,"question_id":76008614,"body_markdown":"I managed to solve the problem by editing the method in the ExpertService class\r\n\r\n```\r\npublic Expert saveOrUpdateExpert(Expert expert) {\r\n    Set&lt;PhoneNumber&gt; phoneNumbers = expert.getPhoneNumbers();\r\n    phoneNumbers.forEach(phoneNumber -&gt; {\r\n       phoneNumber.setExpert(expert);\r\n    });\r\n    return expertRepository.save(expert);\r\n}\r\n```\r\n\r\nThe problem was that Hibernate first tried to write to Phone_number and then to Expert, hence the expert_id on the Phone_number table was null.\r\n\r\nThank you @Mar-Z for your help :)","title":"Hibernate doesn&#39;t save the FOREIGN KEY (OneToMany relationship)","body":"<p>I managed to solve the problem by editing the method in the ExpertService class</p>\n<pre><code>public Expert saveOrUpdateExpert(Expert expert) {\n    Set&lt;PhoneNumber&gt; phoneNumbers = expert.getPhoneNumbers();\n    phoneNumbers.forEach(phoneNumber -&gt; {\n       phoneNumber.setExpert(expert);\n    });\n    return expertRepository.save(expert);\n}\n</code></pre>\n<p>The problem was that Hibernate first tried to write to Phone_number and then to Expert, hence the expert_id on the Phone_number table was null.</p>\n<p>Thank you @Mar-Z for your help :)</p>\n"}],"owner":{"account_id":16252871,"reputation":11,"user_id":11736319,"display_name":"Mechanizm"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681422009,"creation_date":1681409721,"question_id":76008614,"body_markdown":"I have 2 tables (Expert and PhoneNumber). Each expert can have several numbers. That&#39;s why I use @OneToMany in Expert.java, @ManyToOne in PhoneNumber.java\r\n\r\nFor some reason the expert_id is not saving to the Phone_number table. What am I doing wrong?\r\n\r\nI am using Spring Data JPA and PostgreSQL.\r\n\r\n**DB Schema**\r\n\r\n```\r\nCREATE TABLE Expert (\r\n    expert_id INT PRIMARY KEY,\r\n    first_name VARCHAR(50),\r\n    last_name VARCHAR(50),\r\n    email VARCHAR(100),\r\n    join_date DATE,\r\n    subscription_expiry_date DATE,\r\n    is_specialist BOOLEAN,\r\n    is_premium BOOLEAN,\r\n    description TEXT,\r\n    photo TEXT\r\n);\r\n\r\nCREATE TABLE Phone_number (\r\n    id INT PRIMARY KEY,\r\n    expert_id INT,\r\n    phone_number VARCHAR(20),\r\n    FOREIGN KEY (expert_id) REFERENCES Expert(expert_id)\r\n);\r\n```\r\n\r\n**Expert.java**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;expert&quot;)\r\npublic class Expert {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;expert_id&quot;)\r\n    private Long expertId;\r\n\r\n    // Simple fields\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;expert&quot;)\r\n    @Column(name = &quot;phoneNumber&quot;)\r\n    private Set&lt;PhoneNumber&gt; phoneNumbers;\r\n\r\n    // Getters, setters\r\n```\r\n\r\n**PhoneNumber.java**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;phone_number&quot;)\r\npublic class PhoneNumber {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;expert_id&quot;, referencedColumnName = &quot;expert_id&quot;)\r\n    private Expert expert;\r\n\r\n    @Column(name = &quot;phone_number&quot;)\r\n    private String phoneNumber;\r\n\r\n\r\n    // Getters, setters\r\n```\r\n\r\nTo comunicate with app I used JpaRepository interface.\r\n\r\n**Request**\r\n\r\n```\r\n{\r\n    &quot;expertId&quot;: 1,\r\n    &quot;phoneNumbers&quot;: [\r\n        {\r\n            &quot;phoneNumber&quot;: &quot;123-456-7890&quot;\r\n        },\r\n        {\r\n            &quot;phoneNumber&quot;: &quot;555-555-5555&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n**Response**\r\n\r\n```\r\n{\r\n    &quot;expertId&quot;: 1,\r\n    &quot;phoneNumbers&quot;: [\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;expert&quot;: null,\r\n            &quot;phoneNumber&quot;: &quot;555-555-5555&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;expert&quot;: null,\r\n            &quot;phoneNumber&quot;: &quot;123-456-7890&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n\r\n\r\n**ExpertService.java**\r\n\r\n```\r\n@Service\r\npublic class ExpertService {\r\n\r\n    @Autowired\r\n    private ExpertRepository expertRepository;\r\n\r\n    public List&lt;Expert&gt; getExperts() {\r\n        return expertRepository.findAll();\r\n    }\r\n\r\n    public Optional&lt;Expert&gt; getExpert(Long id) {\r\n        return expertRepository.findById(id);\r\n    }\r\n\r\n    public void saveOrUpdateExperts(List&lt;Expert&gt; experts) {\r\n        expertRepository.saveAll(experts);\r\n    }\r\n\r\n    public Expert saveOrUpdateExpert(Expert expert) {\r\n        return expertRepository.save(expert);\r\n    }\r\n}\r\n\r\n```","title":"Hibernate doesn&#39;t save the FOREIGN KEY (OneToMany relationship)","body":"<p>I have 2 tables (Expert and PhoneNumber). Each expert can have several numbers. That's why I use @OneToMany in Expert.java, @ManyToOne in PhoneNumber.java</p>\n<p>For some reason the expert_id is not saving to the Phone_number table. What am I doing wrong?</p>\n<p>I am using Spring Data JPA and PostgreSQL.</p>\n<p><strong>DB Schema</strong></p>\n<pre><code>CREATE TABLE Expert (\n    expert_id INT PRIMARY KEY,\n    first_name VARCHAR(50),\n    last_name VARCHAR(50),\n    email VARCHAR(100),\n    join_date DATE,\n    subscription_expiry_date DATE,\n    is_specialist BOOLEAN,\n    is_premium BOOLEAN,\n    description TEXT,\n    photo TEXT\n);\n\nCREATE TABLE Phone_number (\n    id INT PRIMARY KEY,\n    expert_id INT,\n    phone_number VARCHAR(20),\n    FOREIGN KEY (expert_id) REFERENCES Expert(expert_id)\n);\n</code></pre>\n<p><strong>Expert.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;expert&quot;)\npublic class Expert {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;expert_id&quot;)\n    private Long expertId;\n\n    // Simple fields\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;expert&quot;)\n    @Column(name = &quot;phoneNumber&quot;)\n    private Set&lt;PhoneNumber&gt; phoneNumbers;\n\n    // Getters, setters\n</code></pre>\n<p><strong>PhoneNumber.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;phone_number&quot;)\npublic class PhoneNumber {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;expert_id&quot;, referencedColumnName = &quot;expert_id&quot;)\n    private Expert expert;\n\n    @Column(name = &quot;phone_number&quot;)\n    private String phoneNumber;\n\n\n    // Getters, setters\n</code></pre>\n<p>To comunicate with app I used JpaRepository interface.</p>\n<p><strong>Request</strong></p>\n<pre><code>{\n    &quot;expertId&quot;: 1,\n    &quot;phoneNumbers&quot;: [\n        {\n            &quot;phoneNumber&quot;: &quot;123-456-7890&quot;\n        },\n        {\n            &quot;phoneNumber&quot;: &quot;555-555-5555&quot;\n        }\n    ]\n}\n</code></pre>\n<p><strong>Response</strong></p>\n<pre><code>{\n    &quot;expertId&quot;: 1,\n    &quot;phoneNumbers&quot;: [\n        {\n            &quot;id&quot;: 2,\n            &quot;expert&quot;: null,\n            &quot;phoneNumber&quot;: &quot;555-555-5555&quot;\n        },\n        {\n            &quot;id&quot;: 1,\n            &quot;expert&quot;: null,\n            &quot;phoneNumber&quot;: &quot;123-456-7890&quot;\n        }\n    ]\n}\n</code></pre>\n<p><strong>ExpertService.java</strong></p>\n<pre><code>@Service\npublic class ExpertService {\n\n    @Autowired\n    private ExpertRepository expertRepository;\n\n    public List&lt;Expert&gt; getExperts() {\n        return expertRepository.findAll();\n    }\n\n    public Optional&lt;Expert&gt; getExpert(Long id) {\n        return expertRepository.findById(id);\n    }\n\n    public void saveOrUpdateExperts(List&lt;Expert&gt; experts) {\n        expertRepository.saveAll(experts);\n    }\n\n    public Expert saveOrUpdateExpert(Expert expert) {\n        return expertRepository.save(expert);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-integration","datasource","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681421089,"creation_date":1681421089,"answer_id":76009940,"question_id":76009712,"body_markdown":"See `com.hazelcast.config.Config`:\r\n\r\n    /**\r\n     * Adds an external data store configuration.\r\n     * &lt;p&gt;\r\n     * &lt;p&gt;\r\n     * Example:\r\n     * &lt;pre&gt;{@code\r\n     *      Config config = new Config();\r\n     *      Properties properties = new Properties();\r\n     *      properties.put(&quot;jdbcUrl&quot;, jdbcUrl);\r\n     *      properties.put(&quot;username&quot;, username);\r\n     *      properties.put(&quot;password&quot;, password);\r\n     *      ExternalDataStoreConfig externalDataStoreConfig = new ExternalDataStoreConfig()\r\n     *              .setName(&quot;my-jdbc-data-store&quot;)\r\n     *              .setClassName(JdbcDataStoreFactory.class.getName())\r\n     *              .setProperties(properties);\r\n     *      config.addExternalDataStoreConfig(externalDataStoreConfig);\r\n     * }&lt;/pre&gt;\r\n     *\r\n     * @since 5.2\r\n     */\r\n    @Beta\r\n    public Config addExternalDataStoreConfig(ExternalDataStoreConfig externalDataStoreConfig) {\r\n\r\nTo register an external data store.\r\n\r\nThen it looks like you need to do something like this:\r\n\r\n    NodeEngineImpl nodeEngine = Util.getNodeEngine(hazelcastInstance);\r\n    ExternalDataStoreFactory&lt;?&gt; dataStoreFactory = nodeEngine.getExternalDataStoreService().getExternalDataStoreFactory(name);\r\n\r\nand call its `getDataStore()`.\r\n\r\nThis is something new since Hazelcast `5.2` and looks lie we really need it for its Jet streaming processor. Not sure why would one deal with Hazelcast facade if it is still an external DB, so you simply can configure regular `DataSource` for that `jdbc:mysql://127.0.0.1:5701`.","title":"How to create a Hazelcast DataSource","body":"<p>See <code>com.hazelcast.config.Config</code>:</p>\n<pre><code>/**\n * Adds an external data store configuration.\n * &lt;p&gt;\n * &lt;p&gt;\n * Example:\n * &lt;pre&gt;{@code\n *      Config config = new Config();\n *      Properties properties = new Properties();\n *      properties.put(&quot;jdbcUrl&quot;, jdbcUrl);\n *      properties.put(&quot;username&quot;, username);\n *      properties.put(&quot;password&quot;, password);\n *      ExternalDataStoreConfig externalDataStoreConfig = new ExternalDataStoreConfig()\n *              .setName(&quot;my-jdbc-data-store&quot;)\n *              .setClassName(JdbcDataStoreFactory.class.getName())\n *              .setProperties(properties);\n *      config.addExternalDataStoreConfig(externalDataStoreConfig);\n * }&lt;/pre&gt;\n *\n * @since 5.2\n */\n@Beta\npublic Config addExternalDataStoreConfig(ExternalDataStoreConfig externalDataStoreConfig) {\n</code></pre>\n<p>To register an external data store.</p>\n<p>Then it looks like you need to do something like this:</p>\n<pre><code>NodeEngineImpl nodeEngine = Util.getNodeEngine(hazelcastInstance);\nExternalDataStoreFactory&lt;?&gt; dataStoreFactory = nodeEngine.getExternalDataStoreService().getExternalDataStoreFactory(name);\n</code></pre>\n<p>and call its <code>getDataStore()</code>.</p>\n<p>This is something new since Hazelcast <code>5.2</code> and looks lie we really need it for its Jet streaming processor. Not sure why would one deal with Hazelcast facade if it is still an external DB, so you simply can configure regular <code>DataSource</code> for that <code>jdbc:mysql://127.0.0.1:5701</code>.</p>\n"}],"owner":{"account_id":16108109,"reputation":47,"user_id":11627119,"display_name":"Jacob Goldverg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76009940,"answer_count":1,"score":1,"last_activity_date":1681421089,"creation_date":1681418847,"question_id":76009712,"body_markdown":"Hello everyone I am currently experimenting with using Hazelcast as a persistence layer with Spring Batch and to do this I need to create a DataSource that has Hazelcast backing it. \r\nThis way projects like Spring Batch &amp; Spring Data can use the Repository and TransactionManager provided by the Hazelcast + Spring Integration.\r\n\r\nDoes anyone know how to create a DataSource that points to Hazelcast?\r\n\r\nI have tried defining a bean like so but to no avail it does not work:\r\n```\r\n@Configuration\r\npublic class DataSourceConfig {\r\n\r\n//    @Value(&quot;${spring.datasource.url}&quot;)\r\n//    String url;\r\n//    @Value(&quot;${spring.datasource.username}&quot;)\r\n//    String userName;\r\n//    @Value(&quot;${spring.datasource.password}&quot;)\r\n//    String pwd;\r\n\r\n    @SneakyThrows\r\n    @Bean\r\n    public JobRepository hazelCastJobRepo(DataSource dataSource, HazelcastTransactionManager hazelcastTransactionManager){\r\n        JobRepositoryFactoryBean jobRepositoryFactoryBean = new JobRepositoryFactoryBean();\r\n        jobRepositoryFactoryBean.setDataSource(dataSource);\r\n        jobRepositoryFactoryBean.setDatabaseType(&quot;POSTGRES&quot;);\r\n        jobRepositoryFactoryBean.setTransactionManager(hazelcastTransactionManager);\r\n        return jobRepositoryFactoryBean.getObject();\r\n    }\r\n\r\n    @Bean\r\n    public HazelcastInstance hazelcastInstance() {\r\n        ClientConfig config = new ClientConfig();\r\n        config.setClusterName(&quot;dev&quot;);\r\n        return HazelcastClient.newHazelcastClient(config);\r\n    }\r\n\r\n    @Bean\r\n    public HazelcastTransactionManager hazelcastTransactionManager(HazelcastInstance hazelcastInstance) {\r\n        return new HazelcastTransactionManager(hazelcastInstance);\r\n    }\r\n\r\n    @Bean\r\n    public JobBuilderFactory jobBuilderFactory(JobRepository hazelCastJobRepo){\r\n        JobBuilderFactory jobBuilderFactory = new JobBuilderFactory(hazelCastJobRepo);\r\n        return jobBuilderFactory;\r\n    }\r\n\r\n    @Bean\r\n    public StepBuilderFactory stepBuilderFactory(JobRepository hazelCastJobRepo, HazelcastTransactionManager hazelcastTransactionManager){\r\n        StepBuilderFactory stepBuilderFactory = new StepBuilderFactory(hazelCastJobRepo, hazelcastTransactionManager);\r\n        return stepBuilderFactory;\r\n    }\r\n\r\n    @Bean\r\n    public JobExplorer jobExplorer(){\r\n        JobInstanceDao jdbcJobInstanceDao = new JdbcJobInstanceDao();\r\n        JobExecutionDao jobExecutionDao = new JdbcJobExecutionDao();\r\n        StepExecutionDao stepExecutionDao = new JdbcStepExecutionDao();\r\n        ExecutionContextDao executionContextDao = new JdbcExecutionContextDao();\r\n        return new SimpleJobExplorer(jdbcJobInstanceDao, jobExecutionDao, stepExecutionDao, executionContextDao);\r\n    }\r\n\r\n    @Bean\r\n    public ListableJobLocator listableJobLocator(){\r\n        return new MapJobRegistry();\r\n    }\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        return new DriverDataSource(&quot;jdbc:mysql://127.0.0.1:5701&quot;, &quot;com.hazelcast.datastore.JdbcDataStoreFactory&quot;, new Properties(), &quot;&quot;, &quot;&quot;);\r\n    }\r\n\r\n}\r\n```\r\n","title":"How to create a Hazelcast DataSource","body":"<p>Hello everyone I am currently experimenting with using Hazelcast as a persistence layer with Spring Batch and to do this I need to create a DataSource that has Hazelcast backing it.\nThis way projects like Spring Batch &amp; Spring Data can use the Repository and TransactionManager provided by the Hazelcast + Spring Integration.</p>\n<p>Does anyone know how to create a DataSource that points to Hazelcast?</p>\n<p>I have tried defining a bean like so but to no avail it does not work:</p>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n\n//    @Value(&quot;${spring.datasource.url}&quot;)\n//    String url;\n//    @Value(&quot;${spring.datasource.username}&quot;)\n//    String userName;\n//    @Value(&quot;${spring.datasource.password}&quot;)\n//    String pwd;\n\n    @SneakyThrows\n    @Bean\n    public JobRepository hazelCastJobRepo(DataSource dataSource, HazelcastTransactionManager hazelcastTransactionManager){\n        JobRepositoryFactoryBean jobRepositoryFactoryBean = new JobRepositoryFactoryBean();\n        jobRepositoryFactoryBean.setDataSource(dataSource);\n        jobRepositoryFactoryBean.setDatabaseType(&quot;POSTGRES&quot;);\n        jobRepositoryFactoryBean.setTransactionManager(hazelcastTransactionManager);\n        return jobRepositoryFactoryBean.getObject();\n    }\n\n    @Bean\n    public HazelcastInstance hazelcastInstance() {\n        ClientConfig config = new ClientConfig();\n        config.setClusterName(&quot;dev&quot;);\n        return HazelcastClient.newHazelcastClient(config);\n    }\n\n    @Bean\n    public HazelcastTransactionManager hazelcastTransactionManager(HazelcastInstance hazelcastInstance) {\n        return new HazelcastTransactionManager(hazelcastInstance);\n    }\n\n    @Bean\n    public JobBuilderFactory jobBuilderFactory(JobRepository hazelCastJobRepo){\n        JobBuilderFactory jobBuilderFactory = new JobBuilderFactory(hazelCastJobRepo);\n        return jobBuilderFactory;\n    }\n\n    @Bean\n    public StepBuilderFactory stepBuilderFactory(JobRepository hazelCastJobRepo, HazelcastTransactionManager hazelcastTransactionManager){\n        StepBuilderFactory stepBuilderFactory = new StepBuilderFactory(hazelCastJobRepo, hazelcastTransactionManager);\n        return stepBuilderFactory;\n    }\n\n    @Bean\n    public JobExplorer jobExplorer(){\n        JobInstanceDao jdbcJobInstanceDao = new JdbcJobInstanceDao();\n        JobExecutionDao jobExecutionDao = new JdbcJobExecutionDao();\n        StepExecutionDao stepExecutionDao = new JdbcStepExecutionDao();\n        ExecutionContextDao executionContextDao = new JdbcExecutionContextDao();\n        return new SimpleJobExplorer(jdbcJobInstanceDao, jobExecutionDao, stepExecutionDao, executionContextDao);\n    }\n\n    @Bean\n    public ListableJobLocator listableJobLocator(){\n        return new MapJobRegistry();\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        return new DriverDataSource(&quot;jdbc:mysql://127.0.0.1:5701&quot;, &quot;com.hazelcast.datastore.JdbcDataStoreFactory&quot;, new Properties(), &quot;&quot;, &quot;&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","graphql-java","graphiql"],"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":1,"creation_date":1531488654,"post_id":51325556,"comment_id":89627665,"body_markdown":"I&#39;m just here to shamelessly plug our own project: [GraphQL SPQR Spring Boot Starter](https://github.com/leangen/graphql-spqr-spring-boot-starter). it works with both Spring Boot 1 and 2, and is (in my honest but obviously biased opinion) infinitely easier to use. It&#39;s in very early stages of development, but is already quite stable and usable. See an example project [here](https://github.com/leangen/graphql-spqr-samples/tree/master/spring-boot-starter-sample).","body":"I&#39;m just here to shamelessly plug our own project: <a href=\"https://github.com/leangen/graphql-spqr-spring-boot-starter\" rel=\"nofollow noreferrer\">GraphQL SPQR Spring Boot Starter</a>. it works with both Spring Boot 1 and 2, and is (in my honest but obviously biased opinion) infinitely easier to use. It&#39;s in very early stages of development, but is already quite stable and usable. See an example project <a href=\"https://github.com/leangen/graphql-spqr-samples/tree/master/spring-boot-starter-sample\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":7590654,"reputation":203,"user_id":5758429,"accept_rate":0,"display_name":"Jonas Wolff"},"score":0,"creation_date":1531727557,"post_id":51325556,"comment_id":89686115,"body_markdown":"@kaqqao I have seen your Framework allready. It seems to be the best way now to Use Spring Boot 2 and GraphQL. I will check it out.","body":"@kaqqao I have seen your Framework allready. It seems to be the best way now to Use Spring Boot 2 and GraphQL. I will check it out."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1531487535,"creation_date":1531487535,"answer_id":51325982,"question_id":51325556,"body_markdown":"You&#39;re creating your resolver beans twice. Both your `MutationResolver` and `QueryResolver` are annotated with `@Component`, which means that Spring will create an instance and register it. However, within the `GraphqlApplication` you also created beans for both resolvers using the `@Bean` annotation.\r\n\r\nThis causes an issue, because the GraphQL library will look for a proper resolver for `greetingsAll`, but it will find two resolvers due to your bean being mapped twice. \r\n\r\nThe solution is to either remove the `@Component` annotation, or to remove the following bean configuration:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Bean\r\n    public QueryResolver query() {\r\n        return new QueryResolver();\r\n    }\r\n\r\n    @Bean\r\n    public MutationResolver mutation() {\r\n        return new MutationResolver();\r\n    }","title":"GraphQL and Spring Boot 2.0.3","body":"<p>You're creating your resolver beans twice. Both your <code>MutationResolver</code> and <code>QueryResolver</code> are annotated with <code>@Component</code>, which means that Spring will create an instance and register it. However, within the <code>GraphqlApplication</code> you also created beans for both resolvers using the <code>@Bean</code> annotation.</p>\n\n<p>This causes an issue, because the GraphQL library will look for a proper resolver for <code>greetingsAll</code>, but it will find two resolvers due to your bean being mapped twice. </p>\n\n<p>The solution is to either remove the <code>@Component</code> annotation, or to remove the following bean configuration:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic QueryResolver query() {\n    return new QueryResolver();\n}\n\n@Bean\npublic MutationResolver mutation() {\n    return new MutationResolver();\n}\n</code></pre>\n"}],"owner":{"account_id":7590654,"reputation":203,"user_id":5758429,"accept_rate":0,"display_name":"Jonas Wolff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15373,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1681420935,"creation_date":1531486312,"question_id":51325556,"body_markdown":"I want to test `GraphQL` in a project that also uses `Spring Boot`, `Spring Security`; and I hope to use the latest [as of writing] Spring Boot `2.0.3.RELEASE`. As described in more detail below, I found that an older version of GraphQL along with an older Spring Boot solved an initial problem I faced (also described below).  **I am hoping to solve how to use the latest versions of all these dependencies (without any of the below problems).**\r\n\r\n*Here is how I started from the beginning:*\r\nSo I created a new Spring Boot App in IntelliJ using the build in Spring Initializr. The Spring Boot version is, of course, the latest (2.0.3.RELEASE)\r\nNow I add the dependencies for GraphQL and GraphiQL.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n        &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;4.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n        &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n        &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;4.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTo test this, I ran the application but there was no `/graphql` endpoint. In this case, I configured it in `application.properties` without a problem:\r\n\r\n    # GraphQL\r\n    graphql.servlet.mapping=/graphql\r\n    graphql.servlet.enabled=true\r\n    graphql.servlet.corsEnabled=true\r\n    # GraphiQL\r\n    graphiql.mapping=/graphiql\r\n    graphiql.endpoint=/graphql\r\n    graphiql.enabled=true\r\n    graphiql.cdn.enabled=true\r\n    graphiql.cdn.version=0.11.11\r\n\r\nAfter testing again, the endpoint is there, so now I could write a schema, resolvers and so on. This is what I implemented:\r\n\r\nSchema:\r\n\r\n    schema {\r\n        query: Query\r\n        mutation: Mutation\r\n    }\r\n    \r\n    type Greeting {\r\n        id: ID!\r\n        message: String!\r\n    }\r\n    \r\n    type Query {\r\n        greetingsAll: [Greeting]\r\n    }\r\n    \r\n    type Mutation {\r\n        greeting(message: String!): Greeting\r\n    }\r\n\r\nModel:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @ToString\r\n    @Entity\r\n    public class Greeting {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        private String message;\r\n    }\r\n\r\nRepository\r\n\r\n    @Repository\r\n    public interface GreetingRepository extends JpaRepository&lt;Greeting, Long&gt; {\r\n    }\r\n\r\nQueryResolver\r\n\r\n    @Component\r\n    public class QueryResolver implements GraphQLQueryResolver {\r\n    \r\n        @Autowired\r\n        private GreetingRepository greetingRepository;\r\n    \r\n        public Greeting greeting(Long id) {\r\n            return greetingRepository.getOne(id);\r\n        }\r\n    \r\n        public Iterable&lt;Greeting&gt; getGreetingsAll() {\r\n            return greetingRepository.findAll();\r\n        }\r\n    }\r\n\r\nMutationResolver\r\n\r\n    @Component\r\n    public class MutationResolver implements GraphQLMutationResolver {\r\n    \r\n        @Autowired\r\n        private GreetingRepository greetingRepository;\r\n    \r\n        public Greeting newGreeting(String message) {\r\n            Greeting greeting = new Greeting();\r\n            greeting.setMessage(message);\r\n    \r\n            return greetingRepository.save(greeting);\r\n        }\r\n    }\r\n\r\nBeans for SpringBoot\r\n\r\n    @SpringBootApplication\r\n    public class GraphqlApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(GraphqlApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        ApplicationRunner init(GreetingRepository greetingRepository) {\r\n            return args -&gt; {\r\n                Stream.of(&quot;Hallo&quot;, &quot;Guten Tag&quot;, &quot;Moin&quot;).forEach(greeting -&gt; greetingRepository.save(Greeting.builder().message(greeting).build()));\r\n                greetingRepository.findAll().forEach(System.out::println);\r\n            };\r\n        }\r\n    \r\n        @Bean\r\n        public QueryResolver query() {\r\n            return new QueryResolver();\r\n        }\r\n    \r\n        @Bean\r\n        public MutationResolver mutation() {\r\n            return new MutationResolver();\r\n        }\r\n    }\r\n\r\nWhile trying to test the application again to see if I could run a query using GraphiQL, the application wouldn&#39;t start:\r\n\r\n    org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:155) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat de.eno.prototyp.graphql.GraphqlApplication.main(GraphqlApplication.java:14) [classes/:na]\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:413) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \t... 8 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLServletRegistrationBean&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLServletRegistrationBean&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLServlet&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLServlet&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLServlet&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLServlet&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 24 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchemaProvider&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchemaProvider&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 38 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;graphQLSchema&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;graphQLSchema&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) \r\n    \t... 52 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;schemaParser&#39; defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) \r\n    \t... 66 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method &#39;schemaParser&#39; threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 79 common frames omitted\r\n    Caused by: com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field &#39;FieldDefinition{name=&#39;greetingsAll&#39;, type=ListType{type=TypeName{name=&#39;Greeting&#39;}}, inputValueDefinitions=[], directives=[]}&#39;: [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\r\n    \tat com.coxautodev.graphql.tools.FieldResolverScanner.findFieldResolver(FieldResolverScanner.kt:39) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.coxautodev.graphql.tools.SchemaClassScanner.scanResolverInfoForPotentialMatches(SchemaClassScanner.kt:227) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.coxautodev.graphql.tools.SchemaClassScanner.handleRootType(SchemaClassScanner.kt:122) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.coxautodev.graphql.tools.SchemaClassScanner.scanForClasses(SchemaClassScanner.kt:80) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.coxautodev.graphql.tools.SchemaParserBuilder.scan(SchemaParserBuilder.kt:150) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.coxautodev.graphql.tools.SchemaParserBuilder.build(SchemaParserBuilder.kt:156) ~[graphql-java-tools-5.2.0.jar:na]\r\n    \tat com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration.schemaParser(GraphQLJavaToolsAutoConfiguration.java:65) ~[graphql-spring-boot-autoconfigure-4.3.0.jar:na]\r\n\r\nSo I don&#39;t know what happened but I think GraphQL can not map the `Query` type to the `QueryResolver`. But why?\r\n\r\nWhen checking the internet, I read that Spring Boot Version is the reason. So I tested it with Spring Boot 1.5.8.RELEASE, without result.\r\n\r\nHowever, when using an older GraphQL version (4.3.0 and 5.2.0) with Spring boot 1.5.8, it did seem to work fine. So then I tried to use these older GraphQL versions with the new Spring boot version, but then I get another exception:\r\n\r\n    2018-07-13 14:45:57.666  INFO 12872 --- [io-8080-exec-10] graphql.servlet.GraphQLServlet           : Bad POST request: parsing failed\r\n    \r\n    java.lang.IllegalStateException: Unable to process parts as no multi-part configuration has been provided\r\n    \tat org.apache.catalina.connector.Request.parseParts(Request.java:2826) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.connector.Request.getParts(Request.java:2793) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1084) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat graphql.servlet.GraphQLServlet.lambda$new$2(GraphQLServlet.java:129) ~[graphql-java-servlet-5.1.0.jar:na]\r\n    \tat graphql.servlet.GraphQLServlet.doRequest(GraphQLServlet.java:260) ~[graphql-java-servlet-5.1.0.jar:na]\r\n    \tat graphql.servlet.GraphQLServlet.doPost(GraphQLServlet.java:278) ~[graphql-java-servlet-5.1.0.jar:na]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\r\n\r\nNow I&#39;m really screwed up because of this incompatibility. I want to use the new versions of all libraries. Does anybody have a solution?","title":"GraphQL and Spring Boot 2.0.3","body":"<p>I want to test <code>GraphQL</code> in a project that also uses <code>Spring Boot</code>, <code>Spring Security</code>; and I hope to use the latest [as of writing] Spring Boot <code>2.0.3.RELEASE</code>. As described in more detail below, I found that an older version of GraphQL along with an older Spring Boot solved an initial problem I faced (also described below).  <strong>I am hoping to solve how to use the latest versions of all these dependencies (without any of the below problems).</strong></p>\n<p><em>Here is how I started from the beginning:</em>\nSo I created a new Spring Boot App in IntelliJ using the build in Spring Initializr. The Spring Boot version is, of course, the latest (2.0.3.RELEASE)\nNow I add the dependencies for GraphQL and GraphiQL.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n    &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;4.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n    &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n    &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;4.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To test this, I ran the application but there was no <code>/graphql</code> endpoint. In this case, I configured it in <code>application.properties</code> without a problem:</p>\n<pre><code># GraphQL\ngraphql.servlet.mapping=/graphql\ngraphql.servlet.enabled=true\ngraphql.servlet.corsEnabled=true\n# GraphiQL\ngraphiql.mapping=/graphiql\ngraphiql.endpoint=/graphql\ngraphiql.enabled=true\ngraphiql.cdn.enabled=true\ngraphiql.cdn.version=0.11.11\n</code></pre>\n<p>After testing again, the endpoint is there, so now I could write a schema, resolvers and so on. This is what I implemented:</p>\n<p>Schema:</p>\n<pre><code>schema {\n    query: Query\n    mutation: Mutation\n}\n\ntype Greeting {\n    id: ID!\n    message: String!\n}\n\ntype Query {\n    greetingsAll: [Greeting]\n}\n\ntype Mutation {\n    greeting(message: String!): Greeting\n}\n</code></pre>\n<p>Model:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Builder\n@ToString\n@Entity\npublic class Greeting {\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String message;\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>@Repository\npublic interface GreetingRepository extends JpaRepository&lt;Greeting, Long&gt; {\n}\n</code></pre>\n<p>QueryResolver</p>\n<pre><code>@Component\npublic class QueryResolver implements GraphQLQueryResolver {\n\n    @Autowired\n    private GreetingRepository greetingRepository;\n\n    public Greeting greeting(Long id) {\n        return greetingRepository.getOne(id);\n    }\n\n    public Iterable&lt;Greeting&gt; getGreetingsAll() {\n        return greetingRepository.findAll();\n    }\n}\n</code></pre>\n<p>MutationResolver</p>\n<pre><code>@Component\npublic class MutationResolver implements GraphQLMutationResolver {\n\n    @Autowired\n    private GreetingRepository greetingRepository;\n\n    public Greeting newGreeting(String message) {\n        Greeting greeting = new Greeting();\n        greeting.setMessage(message);\n\n        return greetingRepository.save(greeting);\n    }\n}\n</code></pre>\n<p>Beans for SpringBoot</p>\n<pre><code>@SpringBootApplication\npublic class GraphqlApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GraphqlApplication.class, args);\n    }\n\n    @Bean\n    ApplicationRunner init(GreetingRepository greetingRepository) {\n        return args -&gt; {\n            Stream.of(&quot;Hallo&quot;, &quot;Guten Tag&quot;, &quot;Moin&quot;).forEach(greeting -&gt; greetingRepository.save(Greeting.builder().message(greeting).build()));\n            greetingRepository.findAll().forEach(System.out::println);\n        };\n    }\n\n    @Bean\n    public QueryResolver query() {\n        return new QueryResolver();\n    }\n\n    @Bean\n    public MutationResolver mutation() {\n        return new MutationResolver();\n    }\n}\n</code></pre>\n<p>While trying to test the application again to see if I could run a query using GraphiQL, the application wouldn't start:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:155) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at de.eno.prototyp.graphql.GraphqlApplication.main(GraphqlApplication.java:14) [classes/:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:86) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:413) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:174) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:179) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:152) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    ... 8 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLServletRegistrationBean' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLServletRegistrationBean' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLServlet' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLServlet' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) \nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLServlet' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLServlet' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchemaProvider' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLWebAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchemaProvider' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 38 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'graphQLSchema' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'graphQLSchema' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:732) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:474) \n    ... 52 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'schemaParser' defined in class path resource [com/oembedler/moon/graphql/boot/GraphQLJavaToolsAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256) \n    ... 66 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 79 common frames omitted\nCaused by: com.coxautodev.graphql.tools.FieldResolverError: Found more than one matching resolver for field 'FieldDefinition{name='greetingsAll', type=ListType{type=TypeName{name='Greeting'}}, inputValueDefinitions=[], directives=[]}': [MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}, MethodFieldResolver{method=public java.lang.Iterable de.eno.prototyp.graphql.QueryResolver.getGreetingsAll()}]\n    at com.coxautodev.graphql.tools.FieldResolverScanner.findFieldResolver(FieldResolverScanner.kt:39) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner.scanResolverInfoForPotentialMatches(SchemaClassScanner.kt:227) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner.handleRootType(SchemaClassScanner.kt:122) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.coxautodev.graphql.tools.SchemaClassScanner.scanForClasses(SchemaClassScanner.kt:80) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.coxautodev.graphql.tools.SchemaParserBuilder.scan(SchemaParserBuilder.kt:150) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.coxautodev.graphql.tools.SchemaParserBuilder.build(SchemaParserBuilder.kt:156) ~[graphql-java-tools-5.2.0.jar:na]\n    at com.oembedler.moon.graphql.boot.GraphQLJavaToolsAutoConfiguration.schemaParser(GraphQLJavaToolsAutoConfiguration.java:65) ~[graphql-spring-boot-autoconfigure-4.3.0.jar:na]\n</code></pre>\n<p>So I don't know what happened but I think GraphQL can not map the <code>Query</code> type to the <code>QueryResolver</code>. But why?</p>\n<p>When checking the internet, I read that Spring Boot Version is the reason. So I tested it with Spring Boot 1.5.8.RELEASE, without result.</p>\n<p>However, when using an older GraphQL version (4.3.0 and 5.2.0) with Spring boot 1.5.8, it did seem to work fine. So then I tried to use these older GraphQL versions with the new Spring boot version, but then I get another exception:</p>\n<pre><code>2018-07-13 14:45:57.666  INFO 12872 --- [io-8080-exec-10] graphql.servlet.GraphQLServlet           : Bad POST request: parsing failed\n\njava.lang.IllegalStateException: Unable to process parts as no multi-part configuration has been provided\n    at org.apache.catalina.connector.Request.parseParts(Request.java:2826) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.connector.Request.getParts(Request.java:2793) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at org.apache.catalina.connector.RequestFacade.getParts(RequestFacade.java:1084) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at graphql.servlet.GraphQLServlet.lambda$new$2(GraphQLServlet.java:129) ~[graphql-java-servlet-5.1.0.jar:na]\n    at graphql.servlet.GraphQLServlet.doRequest(GraphQLServlet.java:260) ~[graphql-java-servlet-5.1.0.jar:na]\n    at graphql.servlet.GraphQLServlet.doPost(GraphQLServlet.java:278) ~[graphql-java-servlet-5.1.0.jar:na]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) ~[tomcat-embed-core-8.5.31.jar:8.5.31]\n</code></pre>\n<p>Now I'm really screwed up because of this incompatibility. I want to use the new versions of all libraries. Does anybody have a solution?</p>\n"},{"tags":["java","spring","spring-boot","graalvm-native-image","spring-logback"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681311931,"post_id":75996820,"comment_id":134036706,"body_markdown":"Is it you full `logback-spring.xml`? Did you use any `RollingFileAppender`?","body":"Is it you full <code>logback-spring.xml</code>? Did you use any <code>RollingFileAppender</code>?"},{"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"score":0,"creation_date":1681313801,"post_id":75996820,"comment_id":134037203,"body_markdown":"@samabcde no, it&#39;s not. I&#39;ve just update my question and put my full `logback-spring.xml`","body":"@samabcde no, it&#39;s not. I&#39;ve just update my question and put my full <code>logback-spring.xml</code>"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681316255,"post_id":75996820,"comment_id":134037843,"body_markdown":"I suspect the problem is `application.yml` not included as resources, try add `-H:Log=registerResource:` to see what is actually included.","body":"I suspect the problem is <code>application.yml</code> not included as resources, try add <code>-H:Log=registerResource:</code> to see what is actually included."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1681318629,"post_id":75996820,"comment_id":134038377,"body_markdown":"The failure appears to be happening during the `process-aot` goal of Spring Boot&#39;s Maven plugin which happens before native image compilation, but you&#39;ve said that you&#39;re compiling the native image manually. Can you clarify the steps that are necessary to reproduce the problem?","body":"The failure appears to be happening during the <code>process-aot</code> goal of Spring Boot&#39;s Maven plugin which happens before native image compilation, but you&#39;ve said that you&#39;re compiling the native image manually. Can you clarify the steps that are necessary to reproduce the problem?"},{"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"score":0,"creation_date":1681419222,"post_id":75996820,"comment_id":134057690,"body_markdown":"@AndyWilkinson I&#39;ve added my `pom.xml`. Can you see what I do bad?","body":"@AndyWilkinson I&#39;ve added my <code>pom.xml</code>. Can you see what I do bad?"},{"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"score":0,"creation_date":1681419975,"post_id":75996820,"comment_id":134057837,"body_markdown":"I moved `logging.*` to internal (classpath) config and it crash on another error. How can I have `logging.*` in external file?","body":"I moved <code>logging.*</code> to internal (classpath) config and it crash on another error. How can I have <code>logging.*</code> in external file?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1681459991,"post_id":75996820,"comment_id":134062965,"body_markdown":"Why are you using `spring-boot:build-image` which builds a container (Docker) image for your application and then also manually running native image compilation? Have you considered using the [approach that&#39;s described in the documentation](https://docs.spring.io/spring-boot/docs/3.0.x/maven-plugin/reference/htmlsingle/#_using_the_native_profile) instead? In short, you&#39;d add the `org.graalvm.buildtools:native-maven-plugin` plugin and then build the native image using `mvn package -Pnative`. If this approach doesn&#39;t work, you&#39;ll need to describe exactly what you&#39;re trying to achieve.","body":"Why are you using <code>spring-boot:build-image</code> which builds a container (Docker) image for your application and then also manually running native image compilation? Have you considered using the <a href=\"https://docs.spring.io/spring-boot/docs/3.0.x/maven-plugin/reference/htmlsingle/#_using_the_native_profile\" rel=\"nofollow noreferrer\">approach that&#39;s described in the documentation</a> instead? In short, you&#39;d add the <code>org.graalvm.buildtools:native-maven-plugin</code> plugin and then build the native image using <code>mvn package -Pnative</code>. If this approach doesn&#39;t work, you&#39;ll need to describe exactly what you&#39;re trying to achieve."},{"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"score":0,"creation_date":1681492728,"post_id":75996820,"comment_id":134070844,"body_markdown":"@AndyWilkinson I removed `buildpacks` from my `pom.xml`. I don&#39;t need docker image, I need only nativeimage (binary). It works - thank you.\nBut I still don&#39;t know how to fix `logging.*` in yaml file loaded using `--spring.config.import=application.yaml&quot;`. Is it possible?","body":"@AndyWilkinson I removed <code>buildpacks</code> from my <code>pom.xml</code>. I don&#39;t need docker image, I need only nativeimage (binary). It works - thank you. But I still don&#39;t know how to fix <code>logging.*</code> in yaml file loaded using <code>--spring.config.import=application.yaml&quot;</code>. Is it possible?"}],"owner":{"account_id":2238936,"reputation":1737,"user_id":1974494,"accept_rate":43,"display_name":"martin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681420705,"creation_date":1681310593,"question_id":75996820,"body_markdown":"I&#39;m using Spring Boot 3.0.5, Java 17, GraalVM 22.3.1.\r\n\r\nIt crash during compilation on error:\r\n```\r\n[INFO] --- spring-boot:3.0.5:process-aot (process-aot) @ app ---\r\nLogging system failed to initialize using configuration from &#39;null&#39;\r\njava.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\r\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n\tat net.example.app.appApplication.main(appApplication.java:48)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\r\n\tat org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\r\n2023-04-12 14:31:36.686+0000 ERROR [                                ] 937 [           main] ---  822:g.springframework.boot.SpringApplication : Application run failed\r\njava.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\r\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n\tat net.example.app.appApplication.main(appApplication.java:48)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\r\n\tat org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\r\nCaused by: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\r\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\r\n\t... 34 common frames omitted\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\r\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n\tat net.example.app.appApplication.main(appApplication.java:48)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n\tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n\tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\r\n\tat org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\r\n\tat org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\r\n\tat org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\r\nCaused by: java.lang.IllegalStateException: Logback configuration error detected: \r\nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\r\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\r\n\tat org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\r\n\tat org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\r\n\tat org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\r\n\t... 34 more\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n```\r\n\r\nThis is my `logback-spring.yml`:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- https://github.com/spring-projects/spring-boot/issues/32968#issuecomment-1303213314 --&gt;\r\n&lt;configuration&gt;\r\n\r\n\t&lt;conversionRule conversionWord=&quot;clr&quot; converterClass=&quot;org.springframework.boot.logging.logback.ColorConverter&quot; /&gt;\r\n\t&lt;conversionRule conversionWord=&quot;wex&quot; converterClass=&quot;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&quot; /&gt;\r\n\t&lt;conversionRule conversionWord=&quot;wEx&quot; converterClass=&quot;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&quot; /&gt;\r\n\r\n\t&lt;springProperty scope=&quot;context&quot; name=&quot;LOG_PATH&quot; source=&quot;logging.file.path&quot; /&gt;\r\n\t&lt;springProperty scope=&quot;context&quot; name=&quot;LOG_MAXSIZE&quot; source=&quot;logging.logback.rollingpolicy.max-file-size&quot; /&gt;\r\n\t&lt;springProperty scope=&quot;context&quot; name=&quot;LOG_MAXHISTORY&quot; source=&quot;logging.logback.rollingpolicy.max-history&quot; /&gt;\r\n\t&lt;springProperty scope=&quot;context&quot; name=&quot;LOG_TOTALSIZECAP&quot; source=&quot;logging.logback.rollingpolicy.total-size-cap&quot; /&gt;\r\n\r\n\t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n\t\t\t&lt;Pattern&gt;\r\n                %clr(%d{yyyy-MM-dd HH:mm:ss.SSSZ}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) [%32X{requestId}] %clr(${PID:- }){magenta} %clr([%15.15t]){faint} %clr(---){faint} %clr(%4line:%-40.40logger){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\r\n            &lt;/Pattern&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\t&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\t\t&lt;file&gt;${LOG_PATH}/mwhs.log&lt;/file&gt;\r\n\t\t&lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n\t\t\t&lt;Pattern&gt;\r\n                %clr(%d{yyyy-MM-dd HH:mm:ss.SSSZ}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) [%32X{requestId}] %clr(${PID:- }){magenta} %clr([%15.15t]){faint} %clr(---){faint} %clr(%4line:%-40.40logger){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\r\n            &lt;/Pattern&gt;\r\n\t\t&lt;/encoder&gt;\r\n\r\n\t\t&lt;!-- daily rollover --&gt;\r\n\t\t&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n\t\t\t&lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\r\n\t\t\t&lt;fileNamePattern&gt;${LOG_PATH}/archived/mwhs-%d{yyyy-MM-dd}.%i.log\r\n            &lt;/fileNamePattern&gt;\r\n\t\t\t&lt;!-- https://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy --&gt;\r\n\t\t\t&lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n\t\t\t\t&lt;maxFileSize&gt;${LOG_MAXSIZE}&lt;/maxFileSize&gt;\r\n\t\t\t\t&lt;maxHistory&gt;$100&lt;/maxHistory&gt;\r\n\t\t\t\t&lt;totalSizeCap&gt;${LOG_TOTALSIZECAP}&lt;/totalSizeCap&gt;\r\n\t\t\t&lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n\t\t&lt;/rollingPolicy&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\t&lt;root level=&quot;info&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\n```\r\n`pom.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;net.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mwhs&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;app&lt;/name&gt;\r\n\t&lt;description&gt;app&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.pebbletemplates&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pebble&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;8.0.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;image&gt;\r\n\t\t\t\t\t\t&lt;buildpacks&gt;\r\n\t\t\t\t\t\t\t&lt;buildpack&gt;gcr.io/paketo-buildpacks/bellsoft-liberica:10.1.0&lt;/buildpack&gt;\r\n\t\t\t\t\t\t\t&lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image&lt;/buildpack&gt;\r\n\t\t\t\t\t\t&lt;/buildpacks&gt;\r\n\t\t\t\t\t&lt;/image&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nand `application.yml`:\r\n```yaml\r\nlogging:\r\n  level:\r\n    root: INFO\r\n    org:\r\n      hibernate:\r\n        SQL: INFO\r\n        stat: DEBUG\r\n        type:\r\n          descriptor:\r\n            sql: TRACE\r\n    net.example.app.app: DEBUG\r\n  file:\r\n    path: /tmp/app\r\n  logback:\r\n    rollingpolicy:\r\n      max-file-size: 10MB\r\n      max-history: 90\r\n      total-size-cap: 2GB\r\n```\r\n\r\nI compile using:\r\n```bash\r\nmvn -Pnative spring-boot:build-image\r\nrm -rf target/native\r\nmkdir -p target/native\r\ncd target/native\r\njar -xvf ../app.jar\r\ntouch META-INF/native-image/argfile\r\n\r\nnative-image -H:Name=app \\\r\n@META-INF/native-image/argfile \\\r\n-H:+ReportExceptionStackTraces \\\r\n-H:TraceClassInitialization=true \\\r\n-H:IncludeResources=&quot;.*&quot; \\\r\n--initialize-at-build-time=\\\r\ncom.fasterxml.jackson.annotation.JsonProperty\\\r\n,org.slf4j.impl.StaticLoggerBinder\\\r\n,org.slf4j.LoggerFactory\\\r\n,org.slf4j.simple.SimpleLogger\\\r\n,ch.qos.logback\\\r\n-cp .:BOOT-INF/classes:`find BOOT-INF/lib | tr &#39;\\n&#39; &#39;:&#39;`\r\n```\r\n\r\nand run application using:\r\n```bash\r\njava -jar -Xmx64m app.jar --spring.config.import=application.yaml&quot;\r\n```\r\nso my configuration of logging is external. Is it problem?\r\n\r\nI&#39;m totally lost. Can someone please help me?","title":"Spring Boot GraalVM Native Image compilation crash on ch.qos.logback","body":"<p>I'm using Spring Boot 3.0.5, Java 17, GraalVM 22.3.1.</p>\n<p>It crash during compilation on error:</p>\n<pre><code>[INFO] --- spring-boot:3.0.5:process-aot (process-aot) @ app ---\nLogging system failed to initialize using configuration from 'null'\njava.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n    at net.example.app.appApplication.main(appApplication.java:48)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\n    at org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\n    at org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\n    at org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\n    at org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\n    at org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\n2023-04-12 14:31:36.686+0000 ERROR [                                ] 937 [           main] ---  822:g.springframework.boot.SpringApplication : Application run failed\njava.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n    at net.example.app.appApplication.main(appApplication.java:48)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\n    at org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\n    at org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\n    at org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\n    at org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\n    at org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\nCaused by: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\n    ... 34 common frames omitted\nException in thread &quot;main&quot; java.lang.IllegalStateException: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:347)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initialize(LoggingApplicationListener.java:298)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEnvironmentPreparedEvent(LoggingApplicationListener.java:246)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:223)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:354)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n    at net.example.app.appApplication.main(appApplication.java:48)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)\n    at org.springframework.boot.SpringApplicationAotProcessor.lambda$prepareApplicationContext$0(SpringApplicationAotProcessor.java:62)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\n    at org.springframework.boot.SpringApplicationAotProcessor$AotProcessorHook.run(SpringApplicationAotProcessor.java:109)\n    at org.springframework.boot.SpringApplicationAotProcessor.prepareApplicationContext(SpringApplicationAotProcessor.java:60)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:83)\n    at org.springframework.context.aot.ContextAotProcessor.doProcess(ContextAotProcessor.java:49)\n    at org.springframework.context.aot.AbstractAotProcessor.process(AbstractAotProcessor.java:82)\n    at org.springframework.boot.SpringApplicationAotProcessor.main(SpringApplicationAotProcessor.java:80)\nCaused by: java.lang.IllegalStateException: Logback configuration error detected: \nERROR in ch.qos.logback.core.joran.util.PropertySetter@60b4beb4 - Failed to invoke valueOf{} method in class [ch.qos.logback.core.util.FileSize] with value [LOG_MAXSIZE_IS_UNDEFINED]\nERROR in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@7fcf2fc1 - maxFileSize property is mandatory.\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.reportConfigurationErrorsIfNecessary(LogbackLoggingSystem.java:260)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.loadConfiguration(LogbackLoggingSystem.java:247)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initializeWithConventions(AbstractLoggingSystem.java:80)\n    at org.springframework.boot.logging.AbstractLoggingSystem.initialize(AbstractLoggingSystem.java:60)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.initialize(LogbackLoggingSystem.java:187)\n    at org.springframework.boot.context.logging.LoggingApplicationListener.initializeSystem(LoggingApplicationListener.java:332)\n    ... 34 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n</code></pre>\n<p>This is my <code>logback-spring.yml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- https://github.com/spring-projects/spring-boot/issues/32968#issuecomment-1303213314 --&gt;\n&lt;configuration&gt;\n\n    &lt;conversionRule conversionWord=&quot;clr&quot; converterClass=&quot;org.springframework.boot.logging.logback.ColorConverter&quot; /&gt;\n    &lt;conversionRule conversionWord=&quot;wex&quot; converterClass=&quot;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&quot; /&gt;\n    &lt;conversionRule conversionWord=&quot;wEx&quot; converterClass=&quot;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&quot; /&gt;\n\n    &lt;springProperty scope=&quot;context&quot; name=&quot;LOG_PATH&quot; source=&quot;logging.file.path&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;LOG_MAXSIZE&quot; source=&quot;logging.logback.rollingpolicy.max-file-size&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;LOG_MAXHISTORY&quot; source=&quot;logging.logback.rollingpolicy.max-history&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;LOG_TOTALSIZECAP&quot; source=&quot;logging.logback.rollingpolicy.total-size-cap&quot; /&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %clr(%d{yyyy-MM-dd HH:mm:ss.SSSZ}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) [%32X{requestId}] %clr(${PID:- }){magenta} %clr([%15.15t]){faint} %clr(---){faint} %clr(%4line:%-40.40logger){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOG_PATH}/mwhs.log&lt;/file&gt;\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;Pattern&gt;\n                %clr(%d{yyyy-MM-dd HH:mm:ss.SSSZ}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) [%32X{requestId}] %clr(${PID:- }){magenta} %clr([%15.15t]){faint} %clr(---){faint} %clr(%4line:%-40.40logger){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}\n            &lt;/Pattern&gt;\n        &lt;/encoder&gt;\n\n        &lt;!-- daily rollover --&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\n            &lt;fileNamePattern&gt;${LOG_PATH}/archived/mwhs-%d{yyyy-MM-dd}.%i.log\n            &lt;/fileNamePattern&gt;\n            &lt;!-- https://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy --&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;${LOG_MAXSIZE}&lt;/maxFileSize&gt;\n                &lt;maxHistory&gt;$100&lt;/maxHistory&gt;\n                &lt;totalSizeCap&gt;${LOG_TOTALSIZECAP}&lt;/totalSizeCap&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n\n</code></pre>\n<p><code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;net.example&lt;/groupId&gt;\n    &lt;artifactId&gt;mwhs&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;app&lt;/name&gt;\n    &lt;description&gt;app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.pebbletemplates&lt;/groupId&gt;\n            &lt;artifactId&gt;pebble&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;buildpacks&gt;\n                            &lt;buildpack&gt;gcr.io/paketo-buildpacks/bellsoft-liberica:10.1.0&lt;/buildpack&gt;\n                            &lt;buildpack&gt;gcr.io/paketo-buildpacks/java-native-image&lt;/buildpack&gt;\n                        &lt;/buildpacks&gt;\n                    &lt;/image&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and <code>application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>logging:\n  level:\n    root: INFO\n    org:\n      hibernate:\n        SQL: INFO\n        stat: DEBUG\n        type:\n          descriptor:\n            sql: TRACE\n    net.example.app.app: DEBUG\n  file:\n    path: /tmp/app\n  logback:\n    rollingpolicy:\n      max-file-size: 10MB\n      max-history: 90\n      total-size-cap: 2GB\n</code></pre>\n<p>I compile using:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -Pnative spring-boot:build-image\nrm -rf target/native\nmkdir -p target/native\ncd target/native\njar -xvf ../app.jar\ntouch META-INF/native-image/argfile\n\nnative-image -H:Name=app \\\n@META-INF/native-image/argfile \\\n-H:+ReportExceptionStackTraces \\\n-H:TraceClassInitialization=true \\\n-H:IncludeResources=&quot;.*&quot; \\\n--initialize-at-build-time=\\\ncom.fasterxml.jackson.annotation.JsonProperty\\\n,org.slf4j.impl.StaticLoggerBinder\\\n,org.slf4j.LoggerFactory\\\n,org.slf4j.simple.SimpleLogger\\\n,ch.qos.logback\\\n-cp .:BOOT-INF/classes:`find BOOT-INF/lib | tr '\\n' ':'`\n</code></pre>\n<p>and run application using:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar -Xmx64m app.jar --spring.config.import=application.yaml&quot;\n</code></pre>\n<p>so my configuration of logging is external. Is it problem?</p>\n<p>I'm totally lost. Can someone please help me?</p>\n"},{"tags":["java","apache-kafka","avro"],"comments":[{"owner":{"account_id":28066508,"reputation":11,"user_id":21439818,"display_name":"Stuart Odom"},"score":0,"creation_date":1679330999,"post_id":75791711,"comment_id":133698793,"body_markdown":"The link sent does NOT answer my question; I&#39;d seen that link a number of times perviously. It shows how to SERIALIZE objects to a file, then DESERIALIZE by reading from that file. I specifically stated that that&#39;s NOT what I need to do. I need to simply take an already-serialized that&#39;s NOT in a file, and deserialize it.","body":"The link sent does NOT answer my question; I&#39;d seen that link a number of times perviously. It shows how to SERIALIZE objects to a file, then DESERIALIZE by reading from that file. I specifically stated that that&#39;s NOT what I need to do. I need to simply take an already-serialized that&#39;s NOT in a file, and deserialize it."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679339466,"post_id":75791711,"comment_id":133701008,"body_markdown":"There is one file. An AVSC file. Using a Schema is a requirement to use Avro. You can also hard-code the schema in a `String` and use `Schema.Parser`.... The rest is coming from Avro `byte[]` data already in Kafka, not any &quot;files&quot;","body":"There is one file. An AVSC file. Using a Schema is a requirement to use Avro. You can also hard-code the schema in a <code>String</code> and use <code>Schema.Parser</code>.... The rest is coming from Avro <code>byte[]</code> data already in Kafka, not any &quot;files&quot;"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1679339683,"post_id":75791711,"comment_id":133701065,"body_markdown":"Maybe you can edit your question to clarify what exactly you tried as a [mcve]? Otherwise, we can only speculate what your actual problem is.","body":"Maybe you can edit your question to clarify what exactly you tried as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Otherwise, we can only speculate what your actual problem is."},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1681421128,"post_id":75791711,"comment_id":134058012,"body_markdown":"Are your messages coming from an environment with the Confluent Schema Registry? If yes - take a look at this [answer](https://stackoverflow.com/a/31206063/355438). It reveals the structure of such messages that were serialized using Confluent&#39;s `KafkaAvroSerializer`.\nAlso, you may take a look at the alternative implementation of this format: https://github.com/LinkedInAttic/camus/tree/master/camus-kafka-coders/src/main/java/com/linkedin/camus/etl/kafka/coders","body":"Are your messages coming from an environment with the Confluent Schema Registry? If yes - take a look at this <a href=\"https://stackoverflow.com/a/31206063/355438\">answer</a>. It reveals the structure of such messages that were serialized using Confluent&#39;s <code>KafkaAvroSerializer</code>. Also, you may take a look at the alternative implementation of this format: <a href=\"https://github.com/LinkedInAttic/camus/tree/master/camus-kafka-coders/src/main/java/com/linkedin/camus/etl/kafka/coders\" rel=\"nofollow noreferrer\">github.com/LinkedInAttic/camus/tree/master/camus-kafka-coder&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1681421593,"post_id":75791711,"comment_id":134058105,"body_markdown":"If you control serialization by yourself, then you can utilize an approach without Confluent Schema Registry: https://stackoverflow.com/questions/47268010/avro-serializer-and-deserializer-with-kafka-java-api","body":"If you control serialization by yourself, then you can utilize an approach without Confluent Schema Registry: <a href=\"https://stackoverflow.com/questions/47268010/avro-serializer-and-deserializer-with-kafka-java-api\" title=\"avro serializer and deserializer with kafka java api\">stackoverflow.com/questions/47268010/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681420349,"creation_date":1679328305,"answer_id":75792639,"question_id":75791711,"body_markdown":"It has been done before. The Avro documentation (and/or JavaDoc) covers exactly what you need, which is the `BinaryDecoder` class. \r\n\r\nThat same documentation assume records **are** serialized. However, Confluent&#39;s Avro serialized records are not the same as directly serialized records, therefore, it&#39;s unclear what exactly you need. \r\n\r\n&gt; The package io.confluent.kafka.serializers.KafkAvroDeserializer is not available on my development platform\r\n\r\nThen use Maven / Gradle to add it? But this will require you have a running Schema Registry, not just an Avro schema file. \r\n\r\n&gt; All I&#39;ve found online has been ...\r\n\r\nConfluent&#39;s deserializer code is [open-source](https://github.com/confluentinc/schema-registry/blob/master/avro-serializer/src/main/java/io/confluent/kafka/serializers/AbstractKafkaAvroDeserializer.java#L485), so you could just copy the class on your own. As mentioned, it&#39;s using the `BinaryDecoder` class. ","title":"Deserialize Kafka Avro record","body":"<p>It has been done before. The Avro documentation (and/or JavaDoc) covers exactly what you need, which is the <code>BinaryDecoder</code> class.</p>\n<p>That same documentation assume records <strong>are</strong> serialized. However, Confluent's Avro serialized records are not the same as directly serialized records, therefore, it's unclear what exactly you need.</p>\n<blockquote>\n<p>The package io.confluent.kafka.serializers.KafkAvroDeserializer is not available on my development platform</p>\n</blockquote>\n<p>Then use Maven / Gradle to add it? But this will require you have a running Schema Registry, not just an Avro schema file.</p>\n<blockquote>\n<p>All I've found online has been ...</p>\n</blockquote>\n<p>Confluent's deserializer code is <a href=\"https://github.com/confluentinc/schema-registry/blob/master/avro-serializer/src/main/java/io/confluent/kafka/serializers/AbstractKafkaAvroDeserializer.java#L485\" rel=\"nofollow noreferrer\">open-source</a>, so you could just copy the class on your own. As mentioned, it's using the <code>BinaryDecoder</code> class.</p>\n"}],"owner":{"account_id":28066508,"reputation":11,"user_id":21439818,"display_name":"Stuart Odom"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679328662,"answer_count":1,"score":1,"last_activity_date":1681420349,"creation_date":1679323337,"question_id":75791711,"body_markdown":"I&#39;m writing a Java program that reads from an Apache Kafka data stream. The messages are Avro serialized. Each message contains a single Avro-serialized record. The package **io.confluent.kafka.serializers.KafkAvroDeserializer** is not available on my development platform; if it were, then it would be a simple matter of setting the property &quot;value.deserializer&quot; to the proper setting (KafkaAvroDeserializer.class) for Avro deserialization. Therefore, I need to write my own deserializer. All I&#39;ve found online has been about how to serialize records, write them to a file using a specified Avro schema, and then how to read and DEserialize the written records. The Java Parsers library, as far as I can tell, doesn&#39;t provide much help as it assumes that the program receives the data in UNserialized form, then gives the necessary object methods to serialize it, then the necessary methods to DEserialize it.\r\n\r\nSo, my question is this:  how do I deserialize an Avro-formatted record in Java? Just a single record. I have the serialized record. I have the Avro schema. I don&#39;t need to append it a serializable file. I simply need to deserialize that record. I can&#39;t believe this hasn&#39;t been done before, but I&#39;ve literally found nothing about it online. Can anybody help me on this?\r\n\r\nThank you in advance.\r\n\r\nI&#39;ve tried using Java Parsers library, various Kafka Avro &quot;value.deserializer&quot; property setting, differnet packages in my Eclipse pom.xml file. All to no avail.\r\n\r\nThere&#39;s GOT to be a simple way of deserializing a single Avro record by providing the necessary schema (which I&#39;ve got).","title":"Deserialize Kafka Avro record","body":"<p>I'm writing a Java program that reads from an Apache Kafka data stream. The messages are Avro serialized. Each message contains a single Avro-serialized record. The package <strong>io.confluent.kafka.serializers.KafkAvroDeserializer</strong> is not available on my development platform; if it were, then it would be a simple matter of setting the property &quot;value.deserializer&quot; to the proper setting (KafkaAvroDeserializer.class) for Avro deserialization. Therefore, I need to write my own deserializer. All I've found online has been about how to serialize records, write them to a file using a specified Avro schema, and then how to read and DEserialize the written records. The Java Parsers library, as far as I can tell, doesn't provide much help as it assumes that the program receives the data in UNserialized form, then gives the necessary object methods to serialize it, then the necessary methods to DEserialize it.</p>\n<p>So, my question is this:  how do I deserialize an Avro-formatted record in Java? Just a single record. I have the serialized record. I have the Avro schema. I don't need to append it a serializable file. I simply need to deserialize that record. I can't believe this hasn't been done before, but I've literally found nothing about it online. Can anybody help me on this?</p>\n<p>Thank you in advance.</p>\n<p>I've tried using Java Parsers library, various Kafka Avro &quot;value.deserializer&quot; property setting, differnet packages in my Eclipse pom.xml file. All to no avail.</p>\n<p>There's GOT to be a simple way of deserializing a single Avro record by providing the necessary schema (which I've got).</p>\n"},{"tags":["java","jpa","hql","criteria-api"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1681421094,"post_id":76009720,"comment_id":134058005,"body_markdown":"what is your goal? to get total row count in resultset using single query?","body":"what is your goal? to get total row count in resultset using single query?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1681447669,"post_id":76009720,"comment_id":134060857,"body_markdown":"It was so. I was able to get the same count with work around, based on suing ServiceEntity as the root, but now I&#39;d like to fugure out, why the HQL is generated with the error, which part makes in inconsistent.","body":"It was so. I was able to get the same count with work around, based on suing ServiceEntity as the root, but now I&#39;d like to fugure out, why the HQL is generated with the error, which part makes in inconsistent."}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681419528,"creation_date":1681418918,"question_id":76009720,"body_markdown":"I have 2 entities like that:\r\n\r\n    @Entity\r\n    @Table(name = &quot;registry_groups&quot;)\r\n    public class RegistryGroupEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;registry_groups_gen&quot;, sequenceName=&quot;registry_groups_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;registry_groups_gen&quot;)\r\n        private Integer id;\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;registryGroup&quot;)\r\n        private Collection&lt;ServiceEntity&gt; services;\r\n    //setters-getters ommited\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;services&quot;)\r\n    public class ServiceEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;service_gen&quot;)\r\n        private Integer id;\r\n        @Column(nullable = false, length = 100)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;registry_group_id&quot;, insertable = false, updatable = false)\r\n        private Integer registryGroupId;\r\n    \r\n    }\r\n\r\nAnd I try to make a counter function based on the second entity joined to the firs one.\r\n\r\nThe first approach was:\r\n\r\n    public long getRegistryGroupSimpleServicesIntCount(String name) {\r\n            CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;Long&gt; c = cb.createQuery(Long.class);\r\n            Root&lt;RegistryGroupEntity&gt; registryGroup = c.from(RegistryGroupEntity.class);\r\n    \r\n            Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.INNER);\r\n            //\r\n    \r\n            //Subquery&lt;String&gt; concatSubQuery = c.subquery(String.class);\r\n            //Root&lt;RegistryGroupEntity&gt; countSubQueryRoot = concatSubQuery.from(RegistryGroupEntity.class);\r\n            //concatSubQuery.select(serviceJoin.get(ServiceEntity_.name));\r\n            //https://stackoverflow.com/questions/19601948/must-appear-in-the-group-by-clause-or-be-used-in-an-aggregate-function\r\n    \r\n            c.select(cb.count(serviceJoin.getSelection()));\r\n            c.orderBy(cb.desc(serviceJoin.get(ServiceEntity_.name)));\r\n    \r\n            List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\r\n            Map&lt;String, Object&gt; paramValues = new HashMap&lt;&gt;();\r\n            if (name != null) {\r\n                ParameterExpression&lt;String&gt; p = cb.parameter(String.class, &quot;name&quot;);\r\n                criteria.add(cb.like(serviceJoin.get(ServiceEntity_.name), p));\r\n                paramValues.put(&quot;name&quot;, name);\r\n            }\r\n            if (criteria.size() == 1) {\r\n                c.where(criteria.get(0));\r\n            } else if (criteria.size() &gt; 0) {\r\n                c.where(cb.and(criteria.toArray(new Predicate[0])));\r\n            }\r\n    \r\n            TypedQuery&lt;Long&gt; q = entityManager.createQuery(c);\r\n    \r\n            for (String paramName : paramValues.keySet()) {\r\n                q.setParameter(paramName, paramValues.get(paramName));\r\n            }\r\n    \r\n            return q.getSingleResult();\r\n        }\r\n\r\nGenerate HQL is:\r\n\r\n    select count(services1_.id) as col_0_0_ from registry_groups registrygr0_ inner join services services1_ on registrygr0_.id=services1_.registry_group_id order by services1_.name desc\r\n\r\nand the error message is:\r\n\r\n    ERROR: column &quot;services1_.name&quot; must appear in the GROUP BY clause or be used in an aggregate function\r\n\r\nhowever, as you see, there is no group by clause in the query.\r\n\r\nSo, with enabling the subquery I have tried another approach:\r\n\r\npublic long getRegistryGroupSimpleServicesIntCount(String name) {\r\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Long&gt; c = cb.createQuery(Long.class);\r\n        Root&lt;RegistryGroupEntity&gt; registryGroup = c.from(RegistryGroupEntity.class);\r\n\r\n        Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.INNER);\r\n        //          \r\n\r\n        Subquery&lt;String&gt; concatSubQuery = c.subquery(String.class); //here the new part starts\r\n        Root&lt;RegistryGroupEntity&gt; countSubQueryRoot = concatSubQuery.from(RegistryGroupEntity.class);\r\n        concatSubQuery.select(serviceJoin.get(ServiceEntity_.name));\r\n        //https://stackoverflow.com/questions/19601948/must-appear-in-the-group-by-clause-or-be-used-in-an-aggregate-function\r\n\r\n        c.select(cb.count(countSubQueryRoot)); //here ends\r\n        c.orderBy(cb.desc(serviceJoin.get(ServiceEntity_.name)));\r\n\r\n        List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\r\n        Map&lt;String, Object&gt; paramValues = new HashMap&lt;&gt;();\r\n        if (name != null) {\r\n            ParameterExpression&lt;String&gt; p = cb.parameter(String.class, &quot;name&quot;);\r\n            criteria.add(cb.like(serviceJoin.get(ServiceEntity_.name), p));\r\n            paramValues.put(&quot;name&quot;, name);\r\n        }\r\n        if (criteria.size() == 1) {\r\n            c.where(criteria.get(0));\r\n        } else if (criteria.size() &gt; 0) {\r\n            c.where(cb.and(criteria.toArray(new Predicate[0])));\r\n        }\r\n\r\n        TypedQuery&lt;Long&gt; q = entityManager.createQuery(c);\r\n\r\n        for (String paramName : paramValues.keySet()) {\r\n            q.setParameter(paramName, paramValues.get(paramName));\r\n        }\r\n\r\n        return q.getSingleResult();\r\n    }\r\n\r\nBut now I&#39;m getting another error with the followng reason in the stacktrace:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;generatedalias0&quot; does not exist\r\n      Position: 14\r\n\r\nand the generated HQL is:\r\n\r\n    select count(generatedAlias0) from RegistryGroupEntity as generatedAlias1 inner join generatedAlias1.services as generatedAlias2 order by generatedAlias2.name desc\r\n\r\nHow to work it around with still trying to get the data from the join?\r\n\r\n","title":"Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;generatedalias0&quot; does not exist or &quot;must appear in the GROUP BY&quot; in query with no group","body":"<p>I have 2 entities like that:</p>\n<pre><code>@Entity\n@Table(name = &quot;registry_groups&quot;)\npublic class RegistryGroupEntity {\n    @Id\n    @SequenceGenerator(name=&quot;registry_groups_gen&quot;, sequenceName=&quot;registry_groups_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;registry_groups_gen&quot;)\n    private Integer id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;registryGroup&quot;)\n    private Collection&lt;ServiceEntity&gt; services;\n//setters-getters ommited\n}\n\n@Entity\n@Table(name = &quot;services&quot;)\npublic class ServiceEntity {\n    @Id\n    @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;service_gen&quot;)\n    private Integer id;\n    @Column(nullable = false, length = 100)\n    private String name;\n\n    @Column(name = &quot;registry_group_id&quot;, insertable = false, updatable = false)\n    private Integer registryGroupId;\n\n}\n</code></pre>\n<p>And I try to make a counter function based on the second entity joined to the firs one.</p>\n<p>The first approach was:</p>\n<pre><code>public long getRegistryGroupSimpleServicesIntCount(String name) {\n        CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;Long&gt; c = cb.createQuery(Long.class);\n        Root&lt;RegistryGroupEntity&gt; registryGroup = c.from(RegistryGroupEntity.class);\n\n        Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.INNER);\n        //\n\n        //Subquery&lt;String&gt; concatSubQuery = c.subquery(String.class);\n        //Root&lt;RegistryGroupEntity&gt; countSubQueryRoot = concatSubQuery.from(RegistryGroupEntity.class);\n        //concatSubQuery.select(serviceJoin.get(ServiceEntity_.name));\n        //https://stackoverflow.com/questions/19601948/must-appear-in-the-group-by-clause-or-be-used-in-an-aggregate-function\n\n        c.select(cb.count(serviceJoin.getSelection()));\n        c.orderBy(cb.desc(serviceJoin.get(ServiceEntity_.name)));\n\n        List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\n        Map&lt;String, Object&gt; paramValues = new HashMap&lt;&gt;();\n        if (name != null) {\n            ParameterExpression&lt;String&gt; p = cb.parameter(String.class, &quot;name&quot;);\n            criteria.add(cb.like(serviceJoin.get(ServiceEntity_.name), p));\n            paramValues.put(&quot;name&quot;, name);\n        }\n        if (criteria.size() == 1) {\n            c.where(criteria.get(0));\n        } else if (criteria.size() &gt; 0) {\n            c.where(cb.and(criteria.toArray(new Predicate[0])));\n        }\n\n        TypedQuery&lt;Long&gt; q = entityManager.createQuery(c);\n\n        for (String paramName : paramValues.keySet()) {\n            q.setParameter(paramName, paramValues.get(paramName));\n        }\n\n        return q.getSingleResult();\n    }\n</code></pre>\n<p>Generate HQL is:</p>\n<pre><code>select count(services1_.id) as col_0_0_ from registry_groups registrygr0_ inner join services services1_ on registrygr0_.id=services1_.registry_group_id order by services1_.name desc\n</code></pre>\n<p>and the error message is:</p>\n<pre><code>ERROR: column &quot;services1_.name&quot; must appear in the GROUP BY clause or be used in an aggregate function\n</code></pre>\n<p>however, as you see, there is no group by clause in the query.</p>\n<p>So, with enabling the subquery I have tried another approach:</p>\n<p>public long getRegistryGroupSimpleServicesIntCount(String name) {\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery c = cb.createQuery(Long.class);\nRoot registryGroup = c.from(RegistryGroupEntity.class);</p>\n<pre><code>    Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.INNER);\n    //          \n\n    Subquery&lt;String&gt; concatSubQuery = c.subquery(String.class); //here the new part starts\n    Root&lt;RegistryGroupEntity&gt; countSubQueryRoot = concatSubQuery.from(RegistryGroupEntity.class);\n    concatSubQuery.select(serviceJoin.get(ServiceEntity_.name));\n    //https://stackoverflow.com/questions/19601948/must-appear-in-the-group-by-clause-or-be-used-in-an-aggregate-function\n\n    c.select(cb.count(countSubQueryRoot)); //here ends\n    c.orderBy(cb.desc(serviceJoin.get(ServiceEntity_.name)));\n\n    List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\n    Map&lt;String, Object&gt; paramValues = new HashMap&lt;&gt;();\n    if (name != null) {\n        ParameterExpression&lt;String&gt; p = cb.parameter(String.class, &quot;name&quot;);\n        criteria.add(cb.like(serviceJoin.get(ServiceEntity_.name), p));\n        paramValues.put(&quot;name&quot;, name);\n    }\n    if (criteria.size() == 1) {\n        c.where(criteria.get(0));\n    } else if (criteria.size() &gt; 0) {\n        c.where(cb.and(criteria.toArray(new Predicate[0])));\n    }\n\n    TypedQuery&lt;Long&gt; q = entityManager.createQuery(c);\n\n    for (String paramName : paramValues.keySet()) {\n        q.setParameter(paramName, paramValues.get(paramName));\n    }\n\n    return q.getSingleResult();\n}\n</code></pre>\n<p>But now I'm getting another error with the followng reason in the stacktrace:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;generatedalias0&quot; does not exist\n  Position: 14\n</code></pre>\n<p>and the generated HQL is:</p>\n<pre><code>select count(generatedAlias0) from RegistryGroupEntity as generatedAlias1 inner join generatedAlias1.services as generatedAlias2 order by generatedAlias2.name desc\n</code></pre>\n<p>How to work it around with still trying to get the data from the join?</p>\n"},{"tags":["java","pdf","powerpoint","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1317380226,"creation_date":1317380226,"answer_id":7609389,"question_id":7606182,"body_markdown":"One option is to use POI to convert [each slide into an image](http://poi.apache.org/slideshow/how-to-shapes.html#Render), then use something like [Apache PDFBox](http://pdfbox.apache.org/) to place each image onto it&#39;s own PDF page. This should work well for simpler PPT files, but the code to render slides is still a WIP. So, if you have a very complex slide, you may find some bits missing/incorrect, do send in patches if you fix any of these gaps!\r\n\r\nOtherwise, your other option is to use the Java bindings for OpenOffice, and have that do the conversion for you","title":"Apache poi slide show to pdf conversion","body":"<p>One option is to use POI to convert <a href=\"http://poi.apache.org/slideshow/how-to-shapes.html#Render\" rel=\"nofollow\">each slide into an image</a>, then use something like <a href=\"http://pdfbox.apache.org/\" rel=\"nofollow\">Apache PDFBox</a> to place each image onto it's own PDF page. This should work well for simpler PPT files, but the code to render slides is still a WIP. So, if you have a very complex slide, you may find some bits missing/incorrect, do send in patches if you fix any of these gaps!</p>\n\n<p>Otherwise, your other option is to use the Java bindings for OpenOffice, and have that do the conversion for you</p>\n"},{"tags":[],"owner":{"account_id":2106669,"reputation":81,"user_id":1872856,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681419277,"creation_date":1354548145,"answer_id":13686262,"question_id":7606182,"body_markdown":"Gagravarr, thanks you for your comment with following approach: PPT -&gt; images -&gt; PDF. It gave me clues for further solutions.\r\n\r\nRecently, I needed to convert PPT reports into PDF reports using Java facilities. PPT reports are generated via Apache POI lib, and I intended to reuse ready created PPT structure.\r\n\r\nI developed two solutions, each has its own advantages/disadvantages. And both of them using iText library with version 2.1.7.(which is free to use, and which is great)). Both of them do support Japanese symbols after additional enhancement.\r\n\r\n\r\n&gt; **1.** Apache POI Slide -&gt; image -&gt; PDF\r\n\r\nDemonstration code example:\r\n\r\n    package com.test.pdf;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.geom.Rectangle2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.hslf.model.Slide;\r\n    import org.apache.poi.hslf.usermodel.SlideShow;\r\n    \r\n    import com.lowagie.text.Document;\r\n    import com.lowagie.text.DocumentException;\r\n    import com.lowagie.text.Image;\r\n    import com.lowagie.text.Rectangle;\r\n    import com.lowagie.text.pdf.PdfWriter;\r\n    \r\n    public class PPTtoImageToPDFexample {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) throws IOException, DocumentException {\r\n    \t\t\r\n    \t\t//load any ppt file\r\n    \t\tFileInputStream inputStream = new FileInputStream(&quot;d:/temp/initialPPT.ppt&quot;);\r\n    \t\tSlideShow ppt = new SlideShow(inputStream);\r\n    \t\tinputStream.close();\r\n    \t\tDimension pgsize = ppt.getPageSize();\r\n    \r\n    \t\t//take first slide and save it as an image\r\n    \t\tSlide slide = ppt.getSlides()[0];\r\n    \t\tBufferedImage img = new BufferedImage(pgsize.width, pgsize.height,\r\n    \t\t\t\tBufferedImage.TYPE_INT_RGB);\r\n    \t\tGraphics2D graphics = img.createGraphics();\r\n    \t\tgraphics.setPaint(Color.white);\r\n    \t\tgraphics.fill(new Rectangle2D.Float(0, 0, pgsize.width,\r\n    \t\t\t\tpgsize.height));\r\n    \t\tslide.draw(graphics);\r\n    \t\tFileOutputStream out = new FileOutputStream(&quot;d:/temp/slideImage.png&quot;);\r\n    \t\tjavax.imageio.ImageIO.write(img, &quot;png&quot;, out);\r\n    \t\tout.close();\r\n    \t\t\r\n    \t\t\r\n    \t\t//get saved slide-image and save it into pdf\r\n    \t    Image slideImage = Image.getInstance(&quot;d:/temp/slideImage.png&quot;);\r\n    \t    Document document = new Document();\r\n    \t    PdfWriter.getInstance(document, new FileOutputStream(&quot;d:/temp/PPTtoImageTest.pdf&quot;));\r\n    \t    document.setPageSize(new Rectangle(slideImage.getWidth(), slideImage.getHeight()));\r\n    \t    document.open();\r\n    \t    slideImage.setAbsolutePosition(0, 0);\r\n    \t\tdocument.add(slideImage);\r\n    \t\tdocument.close();\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n\r\n&gt; **2.** This approach works on-fly: take Apache POI Slide -&gt; get awt.Graphics2 instance from it -&gt; pass this interface to the iText\r\n&gt; draw engine.\r\n\r\nDemonstration code example:\r\n\r\n    package com.test.pdf;\r\n    \r\n    import java.awt.Dimension;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.poi.hslf.model.Slide;\r\n    import org.apache.poi.hslf.usermodel.SlideShow;\r\n    \r\n    import com.lowagie.text.Document;\r\n    import com.lowagie.text.DocumentException;\r\n    import com.lowagie.text.Rectangle;\r\n    import com.lowagie.text.pdf.PdfGraphics2D;\r\n    import com.lowagie.text.pdf.PdfWriter;\r\n    \r\n    public class PPTtoPDFdirectly {\r\n    \r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException, DocumentException {\r\n    \t\t\r\n    \t\t//load any ppt file\r\n    \t\tFileInputStream inputStream = new FileInputStream(&quot;d:/temp/initialPPT.ppt&quot;);\r\n    \t\tSlideShow ppt = new SlideShow(inputStream);\r\n    \t\tinputStream.close();\r\n    \t\tDimension pgsize = ppt.getPageSize();\r\n    \r\n    \t\t\r\n    \t\t//take first slide and draw it directly into PDF via awt.Graphics2D interface.\r\n    \t\tSlide slide = ppt.getSlides()[0];\r\n    \t\t\r\n    \t\tDocument document = new Document();\r\n    \t\tPdfWriter pdfWriter = PdfWriter.getInstance(document, new FileOutputStream(&quot;d:/temp/PPTtoPDF.pdf&quot;));\r\n    \t\tdocument.setPageSize(new Rectangle((float)pgsize.getWidth(), (float) pgsize.getHeight()));\r\n    \t\tdocument.open();\r\n    \t\t\r\n    \t\tPdfGraphics2D graphics = (PdfGraphics2D) pdfWriter.getDirectContent().createGraphics((float)pgsize.getWidth(), (float)pgsize.getHeight());\r\n    \t\tslide.draw(graphics);\r\n    \t\tgraphics.dispose();\r\n    \t\t\r\n    \t\tdocument.close();\r\n    \r\n    \t}\r\n    }\r\n\r\n ","title":"Apache poi slide show to pdf conversion","body":"<p>Gagravarr, thanks you for your comment with following approach: PPT -&gt; images -&gt; PDF. It gave me clues for further solutions.</p>\n<p>Recently, I needed to convert PPT reports into PDF reports using Java facilities. PPT reports are generated via Apache POI lib, and I intended to reuse ready created PPT structure.</p>\n<p>I developed two solutions, each has its own advantages/disadvantages. And both of them using iText library with version 2.1.7.(which is free to use, and which is great)). Both of them do support Japanese symbols after additional enhancement.</p>\n<blockquote>\n<p><strong>1.</strong> Apache POI Slide -&gt; image -&gt; PDF</p>\n</blockquote>\n<p>Demonstration code example:</p>\n<pre><code>package com.test.pdf;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport java.awt.geom.Rectangle2D;\nimport java.awt.image.BufferedImage;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.hslf.model.Slide;\nimport org.apache.poi.hslf.usermodel.SlideShow;\n\nimport com.lowagie.text.Document;\nimport com.lowagie.text.DocumentException;\nimport com.lowagie.text.Image;\nimport com.lowagie.text.Rectangle;\nimport com.lowagie.text.pdf.PdfWriter;\n\npublic class PPTtoImageToPDFexample {\n\n\n    public static void main(String[] args) throws IOException, DocumentException {\n        \n        //load any ppt file\n        FileInputStream inputStream = new FileInputStream(&quot;d:/temp/initialPPT.ppt&quot;);\n        SlideShow ppt = new SlideShow(inputStream);\n        inputStream.close();\n        Dimension pgsize = ppt.getPageSize();\n\n        //take first slide and save it as an image\n        Slide slide = ppt.getSlides()[0];\n        BufferedImage img = new BufferedImage(pgsize.width, pgsize.height,\n                BufferedImage.TYPE_INT_RGB);\n        Graphics2D graphics = img.createGraphics();\n        graphics.setPaint(Color.white);\n        graphics.fill(new Rectangle2D.Float(0, 0, pgsize.width,\n                pgsize.height));\n        slide.draw(graphics);\n        FileOutputStream out = new FileOutputStream(&quot;d:/temp/slideImage.png&quot;);\n        javax.imageio.ImageIO.write(img, &quot;png&quot;, out);\n        out.close();\n        \n        \n        //get saved slide-image and save it into pdf\n        Image slideImage = Image.getInstance(&quot;d:/temp/slideImage.png&quot;);\n        Document document = new Document();\n        PdfWriter.getInstance(document, new FileOutputStream(&quot;d:/temp/PPTtoImageTest.pdf&quot;));\n        document.setPageSize(new Rectangle(slideImage.getWidth(), slideImage.getHeight()));\n        document.open();\n        slideImage.setAbsolutePosition(0, 0);\n        document.add(slideImage);\n        document.close();\n\n    }\n}\n</code></pre>\n<blockquote>\n<p><strong>2.</strong> This approach works on-fly: take Apache POI Slide -&gt; get awt.Graphics2 instance from it -&gt; pass this interface to the iText\ndraw engine.</p>\n</blockquote>\n<p>Demonstration code example:</p>\n<pre><code>package com.test.pdf;\n\nimport java.awt.Dimension;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.hslf.model.Slide;\nimport org.apache.poi.hslf.usermodel.SlideShow;\n\nimport com.lowagie.text.Document;\nimport com.lowagie.text.DocumentException;\nimport com.lowagie.text.Rectangle;\nimport com.lowagie.text.pdf.PdfGraphics2D;\nimport com.lowagie.text.pdf.PdfWriter;\n\npublic class PPTtoPDFdirectly {\n\n    \n    \n    public static void main(String[] args) throws IOException, DocumentException {\n        \n        //load any ppt file\n        FileInputStream inputStream = new FileInputStream(&quot;d:/temp/initialPPT.ppt&quot;);\n        SlideShow ppt = new SlideShow(inputStream);\n        inputStream.close();\n        Dimension pgsize = ppt.getPageSize();\n\n        \n        //take first slide and draw it directly into PDF via awt.Graphics2D interface.\n        Slide slide = ppt.getSlides()[0];\n        \n        Document document = new Document();\n        PdfWriter pdfWriter = PdfWriter.getInstance(document, new FileOutputStream(&quot;d:/temp/PPTtoPDF.pdf&quot;));\n        document.setPageSize(new Rectangle((float)pgsize.getWidth(), (float) pgsize.getHeight()));\n        document.open();\n        \n        PdfGraphics2D graphics = (PdfGraphics2D) pdfWriter.getDirectContent().createGraphics((float)pgsize.getWidth(), (float)pgsize.getHeight());\n        slide.draw(graphics);\n        graphics.dispose();\n        \n        document.close();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":270780,"reputation":16094,"user_id":560932,"accept_rate":76,"display_name":"RPB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11215,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7609389,"answer_count":2,"score":4,"last_activity_date":1681419277,"creation_date":1317359366,"question_id":7606182,"body_markdown":"Is there any way to convert generated .**ppt** file using apache poi to .**pdf** file?\r\n\r\n                 OR\r\n\r\nAny way to convert **PPT** file to **PDF** file using JAVA?","title":"Apache poi slide show to pdf conversion","body":"<p>Is there any way to convert generated .<strong>ppt</strong> file using apache poi to .<strong>pdf</strong> file?</p>\n\n<pre><code>             OR\n</code></pre>\n\n<p>Any way to convert <strong>PPT</strong> file to <strong>PDF</strong> file using JAVA?</p>\n"},{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681419120,"creation_date":1681419120,"answer_id":76009734,"question_id":75362683,"body_markdown":"This is not supported by `otel.instrumentation.methods.include` today.\r\n\r\nIt could probably be supported in that feature by checking for `&lt;init&gt;` and using `isConstructor()` instead of `named()` in [MethodInstrumentation.java](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/c74616292ac08fc81db0af1b0045bdf3c9d50392/instrumentation/methods/javaagent/src/main/java/io/opentelemetry/javaagent/instrumentation/methods/MethodInstrumentation.java#L50).\r\n\r\nAlternatively, you could write an [extension](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension#extensions), which would give you this control.","title":"How to configure spans for constructor in opentelemetry with autoconfigure","body":"<p>This is not supported by <code>otel.instrumentation.methods.include</code> today.</p>\n<p>It could probably be supported in that feature by checking for <code>&lt;init&gt;</code> and using <code>isConstructor()</code> instead of <code>named()</code> in <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/c74616292ac08fc81db0af1b0045bdf3c9d50392/instrumentation/methods/javaagent/src/main/java/io/opentelemetry/javaagent/instrumentation/methods/MethodInstrumentation.java#L50\" rel=\"nofollow noreferrer\">MethodInstrumentation.java</a>.</p>\n<p>Alternatively, you could write an <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/examples/extension#extensions\" rel=\"nofollow noreferrer\">extension</a>, which would give you this control.</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681419120,"creation_date":1675694048,"question_id":75362683,"body_markdown":"I&#39;m using Opentelemetry with javaagent and autoconfiguration. I can add spans with OTEL_INSTRUMENTATION_METHODS_INCLUDE property. I&#39;m using next system property to create spans for `deploy` and `process` methods:\r\n\r\n    Dotel.instrumentation.methods.include=org.management.MyManagerImpl[process,deploy]\r\n\r\nBut I need add span for constructor also to trace class instance creation. How I can configure it?","title":"How to configure spans for constructor in opentelemetry with autoconfigure","body":"<p>I'm using Opentelemetry with javaagent and autoconfiguration. I can add spans with OTEL_INSTRUMENTATION_METHODS_INCLUDE property. I'm using next system property to create spans for <code>deploy</code> and <code>process</code> methods:</p>\n<pre><code>Dotel.instrumentation.methods.include=org.management.MyManagerImpl[process,deploy]\n</code></pre>\n<p>But I need add span for constructor also to trace class instance creation. How I can configure it?</p>\n"},{"tags":["java","firebase","android-studio","charts"],"owner":{"account_id":23922349,"reputation":21,"user_id":17917985,"display_name":"Tilda Mendozae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681419007,"creation_date":1681411997,"question_id":76008904,"body_markdown":"I have been having trouble with plotting my data onto a linear chart. I am using the `&#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;` library. \r\n\r\nHere is my current code:\r\n```\r\n\r\n    private void displayLinearChart() {\r\n        if (selectedStartDate != null &amp;&amp; selectedEndDate != null) {\r\n            ArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\r\n            Map&lt;String, ArrayList&lt;Entry&gt;&gt; categoryEntries = new HashMap&lt;&gt;();\r\n            DatabaseReference categoriesRef = FirebaseDatabase.getInstance().getReference(&quot;User Categories&quot;).child(currentUserID);\r\n\r\n            categoriesRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    for (DataSnapshot categorySnapshot : snapshot.getChildren()) {\r\n                        String category = categorySnapshot.getKey();\r\n\r\n                        Map&lt;String, Double&gt; dailyTotals = new HashMap&lt;&gt;();\r\n\r\n                        for (DataSnapshot productSnapshot : categorySnapshot.getChildren()) {\r\n                            Date startDate = Date.from(selectedStartDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n                            Date endDate = Date.from(selectedEndDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n                            Date productDate = null;\r\n                            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n                            String dateString = productSnapshot.child(&quot;Date&quot;).getValue(String.class);\r\n\r\n                            try {\r\n                                productDate = dateFormat.parse(dateString);\r\n                            } catch (ParseException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n\r\n                            // Check if the product falls within the selected date range\r\n                            if (dateString != null &amp;&amp; (productDate.equals(startDate) || productDate.after(startDate)) &amp;&amp; (productDate.equals(endDate) || productDate.before(endDate))) {\r\n                                Double productAmount = Double.parseDouble(productSnapshot.child(&quot;Price&quot;).getValue(String.class));\r\n                                String dailyKey = dateFormat.format(productDate);\r\n                                Double dailyTotal = dailyTotals.getOrDefault(dailyKey, 0.0);\r\n                                dailyTotal += productAmount;\r\n                                dailyTotals.put(dailyKey, dailyTotal);\r\n\r\n                            }\r\n                            // Add the daily totals to the entry list for this category\r\n                            int i = 0;\r\n                            for (Map.Entry&lt;String, Double&gt; entry : dailyTotals.entrySet()) {\r\n                                entries.add(new Entry(i++, entry.getValue().floatValue()));\r\n                            }\r\n\r\n                            // Add the entry list to the map for this category\r\n                            categoryEntries.put(category, entries);\r\n                        }\r\n                    }\r\n                    LineData lineData = new LineData();\r\n                    for (Map.Entry&lt;String, ArrayList&lt;Entry&gt;&gt; entry : categoryEntries.entrySet()) {\r\n                        String category = entry.getKey();\r\n                        ArrayList&lt;Entry&gt; entries = entry.getValue();\r\n                        LineDataSet dataSet = new LineDataSet(entries, category);\r\n                        lineData.addDataSet(dataSet);\r\n                    }\r\n\r\n                    lineChart.setData(lineData);\r\n                    lineChart.getXAxis().setValueFormatter(new IndexAxisValueFormatter(getDateLabels(selectedStartDate, selectedEndDate)));\r\n                    lineChart.invalidate();\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private String[] getDateLabels(LocalDate startDate, LocalDate endDate) {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        List&lt;String&gt; dateList = new ArrayList&lt;&gt;();\r\n        LocalDate date = startDate;\r\n\r\n        while (!date.isAfter(endDate)) {\r\n            dateList.add(dateFormat.format(Date.from(date.atStartOfDay(ZoneId.systemDefault()).toInstant())));\r\n            date = date.plusDays(1);\r\n        }\r\n\r\n        return dateList.toArray(new String[0]);\r\n    }\r\n```\r\n\r\nThe issue is, the data that is being displayed isn&#39;t matching up correctly with the correct amount and the correct date. The line that has the number 15 should initially starting at 0 then 1.25 on the 12/4 and then 15 on 13/4 \r\n\r\nI also don&#39;t know why there is a huge gap between 10/04 and 11/04 as there are more dates that need to be displayed.\r\n\r\nMy goal is to have each category represent a line in the linear chart and it displays how much the user spends per day. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AxsL0.png","title":"Linear Chart android studio java","body":"<p>I have been having trouble with plotting my data onto a linear chart. I am using the <code>'com.github.PhilJay:MPAndroidChart:v3.1.0'</code> library.</p>\n<p>Here is my current code:</p>\n<pre><code>\n    private void displayLinearChart() {\n        if (selectedStartDate != null &amp;&amp; selectedEndDate != null) {\n            ArrayList&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\n            Map&lt;String, ArrayList&lt;Entry&gt;&gt; categoryEntries = new HashMap&lt;&gt;();\n            DatabaseReference categoriesRef = FirebaseDatabase.getInstance().getReference(&quot;User Categories&quot;).child(currentUserID);\n\n            categoriesRef.addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    for (DataSnapshot categorySnapshot : snapshot.getChildren()) {\n                        String category = categorySnapshot.getKey();\n\n                        Map&lt;String, Double&gt; dailyTotals = new HashMap&lt;&gt;();\n\n                        for (DataSnapshot productSnapshot : categorySnapshot.getChildren()) {\n                            Date startDate = Date.from(selectedStartDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n                            Date endDate = Date.from(selectedEndDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n                            Date productDate = null;\n                            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n                            String dateString = productSnapshot.child(&quot;Date&quot;).getValue(String.class);\n\n                            try {\n                                productDate = dateFormat.parse(dateString);\n                            } catch (ParseException e) {\n                                throw new RuntimeException(e);\n                            }\n\n                            // Check if the product falls within the selected date range\n                            if (dateString != null &amp;&amp; (productDate.equals(startDate) || productDate.after(startDate)) &amp;&amp; (productDate.equals(endDate) || productDate.before(endDate))) {\n                                Double productAmount = Double.parseDouble(productSnapshot.child(&quot;Price&quot;).getValue(String.class));\n                                String dailyKey = dateFormat.format(productDate);\n                                Double dailyTotal = dailyTotals.getOrDefault(dailyKey, 0.0);\n                                dailyTotal += productAmount;\n                                dailyTotals.put(dailyKey, dailyTotal);\n\n                            }\n                            // Add the daily totals to the entry list for this category\n                            int i = 0;\n                            for (Map.Entry&lt;String, Double&gt; entry : dailyTotals.entrySet()) {\n                                entries.add(new Entry(i++, entry.getValue().floatValue()));\n                            }\n\n                            // Add the entry list to the map for this category\n                            categoryEntries.put(category, entries);\n                        }\n                    }\n                    LineData lineData = new LineData();\n                    for (Map.Entry&lt;String, ArrayList&lt;Entry&gt;&gt; entry : categoryEntries.entrySet()) {\n                        String category = entry.getKey();\n                        ArrayList&lt;Entry&gt; entries = entry.getValue();\n                        LineDataSet dataSet = new LineDataSet(entries, category);\n                        lineData.addDataSet(dataSet);\n                    }\n\n                    lineChart.setData(lineData);\n                    lineChart.getXAxis().setValueFormatter(new IndexAxisValueFormatter(getDateLabels(selectedStartDate, selectedEndDate)));\n                    lineChart.invalidate();\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n        }\n    }\n\n    private String[] getDateLabels(LocalDate startDate, LocalDate endDate) {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        List&lt;String&gt; dateList = new ArrayList&lt;&gt;();\n        LocalDate date = startDate;\n\n        while (!date.isAfter(endDate)) {\n            dateList.add(dateFormat.format(Date.from(date.atStartOfDay(ZoneId.systemDefault()).toInstant())));\n            date = date.plusDays(1);\n        }\n\n        return dateList.toArray(new String[0]);\n    }\n</code></pre>\n<p>The issue is, the data that is being displayed isn't matching up correctly with the correct amount and the correct date. The line that has the number 15 should initially starting at 0 then 1.25 on the 12/4 and then 15 on 13/4</p>\n<p>I also don't know why there is a huge gap between 10/04 and 11/04 as there are more dates that need to be displayed.</p>\n<p>My goal is to have each category represent a line in the linear chart and it displays how much the user spends per day.</p>\n<p><a href=\"https://i.stack.imgur.com/AxsL0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AxsL0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","mobile","adb"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681464634,"post_id":76009686,"comment_id":134064062,"body_markdown":"`adb shell dumpsys activity activities` may be of help to you. Also `adb logcat events`.","body":"<code>adb shell dumpsys activity activities</code> may be of help to you. Also <code>adb logcat events</code>."}],"owner":{"account_id":18532499,"reputation":1,"user_id":13502925,"display_name":"Gunnar Vittrup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681418605,"creation_date":1681418558,"question_id":76009686,"body_markdown":"I am trying to implement a research paper based around state-inference attacks on Android Devices and I am struggling to access the state information of other services running on my device. I am doing so for research in my college to build exercises around mobile security and ethical understanding. My emulator is running a Nexus 5X on API 27 which is directly modeled from the research paper on arm64 architecture. \r\n\r\nSo far, I have built an `isAppForeground(Context)` method that allows me to determine whether or not a process is currently in the foreground or not utilizing the `ActivityManager` and the `getRunningProcesses()` method. I have come to understand that this vulnerability was refactored to only return the current running process. **Is it possible to obtain a reference to an application and retrieve its context in anyway, perhaps with the package name, PID, or UID? If this is not possible, would it be possible using `adb` to poll a process continually utilizing the `isVisible()` parameter or other parameters I may not be aware of?** Ideally any possible solution would provide me the ability to view state information of a process/application in real-time while the emulator was running. Additionally, the paper touches on utilizing the `IActivityManager` service, which I have come to understand it as a hidden proxy layer accessed via the `ActivityManager`. The paper touches on using its `.isAppForeground()` or `.getAppPendingTransition()` methods to adequately infer a state vulnerability. Any explanation of the differences between the two would be a bonus and greatly appreciated.\r\n\r\nMy apologies if I did not provide sufficient and necessary information - please let me know what more would help diagnose and solve my problem!","title":"Accessing State Information of Third-Party/System Application","body":"<p>I am trying to implement a research paper based around state-inference attacks on Android Devices and I am struggling to access the state information of other services running on my device. I am doing so for research in my college to build exercises around mobile security and ethical understanding. My emulator is running a Nexus 5X on API 27 which is directly modeled from the research paper on arm64 architecture.</p>\n<p>So far, I have built an <code>isAppForeground(Context)</code> method that allows me to determine whether or not a process is currently in the foreground or not utilizing the <code>ActivityManager</code> and the <code>getRunningProcesses()</code> method. I have come to understand that this vulnerability was refactored to only return the current running process. <strong>Is it possible to obtain a reference to an application and retrieve its context in anyway, perhaps with the package name, PID, or UID? If this is not possible, would it be possible using <code>adb</code> to poll a process continually utilizing the <code>isVisible()</code> parameter or other parameters I may not be aware of?</strong> Ideally any possible solution would provide me the ability to view state information of a process/application in real-time while the emulator was running. Additionally, the paper touches on utilizing the <code>IActivityManager</code> service, which I have come to understand it as a hidden proxy layer accessed via the <code>ActivityManager</code>. The paper touches on using its <code>.isAppForeground()</code> or <code>.getAppPendingTransition()</code> methods to adequately infer a state vulnerability. Any explanation of the differences between the two would be a bonus and greatly appreciated.</p>\n<p>My apologies if I did not provide sufficient and necessary information - please let me know what more would help diagnose and solve my problem!</p>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681427773,"post_id":76009535,"comment_id":134059003,"body_markdown":"I think you can load via Spring&#39;s dependency injection.","body":"I think you can load via Spring&#39;s dependency injection."},{"owner":{"account_id":28298246,"reputation":1,"user_id":21637362,"display_name":"fakeittillyoumakeit"},"score":0,"creation_date":1681474593,"post_id":76009535,"comment_id":134066290,"body_markdown":"Could you provide an example please?","body":"Could you provide an example please?"}],"owner":{"account_id":28298246,"reputation":1,"user_id":21637362,"display_name":"fakeittillyoumakeit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681417283,"creation_date":1681417283,"question_id":76009535,"body_markdown":"I have a basic spring boot server built by maven to store all JSON objects which will be used as an executable jar by other services. It does not have a main or Springbootapplication. \r\n\r\nI need to globally set the JsonIgnoreProperties in this project. Is it possible?\r\n\r\nI tried putting the following in application.properties\r\n\r\nspring.jackson.deserialization.fail-on-unknown-properties=false\r\n\r\nand I dont know how to use it.","title":"Globally set Jackson JsonIgnoreProperties in an excecutable jar","body":"<p>I have a basic spring boot server built by maven to store all JSON objects which will be used as an executable jar by other services. It does not have a main or Springbootapplication.</p>\n<p>I need to globally set the JsonIgnoreProperties in this project. Is it possible?</p>\n<p>I tried putting the following in application.properties</p>\n<p>spring.jackson.deserialization.fail-on-unknown-properties=false</p>\n<p>and I dont know how to use it.</p>\n"},{"tags":["java","regex","denial-of-service"],"comments":[{"owner":{"account_id":7894528,"reputation":25981,"user_id":6770384,"display_name":"Socowi"},"score":0,"creation_date":1681414255,"post_id":76009007,"comment_id":134056772,"body_markdown":"You seem to be using `.*` because `match` checks for complete matches. With `Matcher.find()` the `.* ` can be left out. That should fix the sonar warning, but does not fix the security problem you were trying to solve in the first place. To prevent SQL injections, use so called *bind variables* or *prepared statements*.","body":"You seem to be using <code>.*</code> because <code>match</code> checks for complete matches. With <code>Matcher.find()</code> the <code>.* </code> can be left out. That should fix the sonar warning, but does not fix the security problem you were trying to solve in the first place. To prevent SQL injections, use so called <i>bind variables</i> or <i>prepared statements</i>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1681414050,"creation_date":1681413630,"answer_id":76009107,"question_id":76009007,"body_markdown":"Just ignore the warning. There aren&#39;t many regexes that have potentially exponential performance characteristics. If you __do not__ let your users choose the regex (i.e. imagine you have a search feature where the user enters a regex or something you use as part of a regex in a search-for-this form field and they can submit it, __then__ you&#39;d be vulnerable here) __and__ you don&#39;t try to apply such a regex that you wrote yourself to user input (trivially fixed by.. not having any such regexes in your code base)...\r\n\r\nit doesn&#39;t apply to you.\r\n\r\n## But you do have a security leak here\r\n\r\nYou&#39;re engaging in an act known as denylisting. An older term for this is &#39;blacklisting&#39;. You list things that you know are bad, and scan for these. Any input that contains bad things is disallowed. The rest is allowed.\r\n\r\nEffectively you&#39;re saying: Unless I can show conclusively it is bad, we assume it is good.\r\n\r\n__This is a broken approach to security__.\r\n\r\nAllowlisting is the correct approach: Unless you can prove the input is safe, __do not__ run it.\r\n\r\nSpecifically, for SQL injection pattern, the solution is to let the SQL engine take care of it: Make PreparedStatements, and use `.setX` to set them - or use a library like JDBI or JOOQ that does this for you. Then there is simply no reason to worry about SQL injection whatsoever.\r\n\r\n\r\nNote that the actual security leak you do have is of the &#39;the hacker will p0wn the entire box by gaining admin creds on it&#39; variety. Compared to &#39;users might be able to DOS your box&#39;, it&#39;s.. a few million times worse.\r\n\r\n----\r\n\r\nEDIT: Here is an example of an allowlist approach in the same vein as the code you have (and the same caveat: Your security scanner may complain about a potential DOS attack venue here, you can ignore it, or.. see later paragraph):\r\n\r\n```\r\n\r\nprivate static final String SQL_INJECTION_PATTERN = &quot;.*[a-zA-Z0-9_ -].*&quot;;\r\n\r\n  if (!myValue.matches(SQL_INJECTION_PATTERN)) throw new IllegalArgumentException();\r\n```\r\n\r\nThis code will check if the input consists solely of a very specific limited range of alphanums (just the ascii chars), and dash, and underscore, and space, and disallows everything that doesn&#39;t consist _just_ of those things.\r\n\r\nThis may still be unsafe - it depends on what you do with it. SQL has keywords, for example. If certain keywords are bad who knows - you&#39;d need to elaborate considerably on what you&#39;re doing with user input here.\r\n\r\nThe central point stands: It is __highly likely__ your entire approach is wrong and you need to be using preparedstatements.\r\n\r\nOne way to get rid of the warning is to stop using regexes. You can do this kind of scan just as easily with a for loop (and it is faster too, if anything):\r\n\r\n```\r\nfor (int i = 0; i &lt; sql.length(); i++) {\r\n  if ((i &lt; &#39;a&#39; || i &gt; &#39;z&#39;) &amp;&amp; (i &lt; &#39;A&#39; &amp;&amp; i &gt; &#39;Z&#39;) &amp;&amp; (i &lt; &#39;0&#39; || i &gt; &#39;9&#39;) &amp;&amp; i != &#39; &#39; &amp;&amp; i != &#39;_&#39; &amp;&amp; i != &#39; &#39;) throw new IllegalArgumentException();\r\n```\r\n\r\nBut, as a general rule, rewriting code __solely__ because you&#39;re trying to work around an overly aggressive linting tool is an incredibly perniciously dangerous thing to do to a codebase. Programming is hard enough as is.\r\n","title":"Regex vulnerable to polynomial runtime","body":"<p>Just ignore the warning. There aren't many regexes that have potentially exponential performance characteristics. If you <strong>do not</strong> let your users choose the regex (i.e. imagine you have a search feature where the user enters a regex or something you use as part of a regex in a search-for-this form field and they can submit it, <strong>then</strong> you'd be vulnerable here) <strong>and</strong> you don't try to apply such a regex that you wrote yourself to user input (trivially fixed by.. not having any such regexes in your code base)...</p>\n<p>it doesn't apply to you.</p>\n<h2>But you do have a security leak here</h2>\n<p>You're engaging in an act known as denylisting. An older term for this is 'blacklisting'. You list things that you know are bad, and scan for these. Any input that contains bad things is disallowed. The rest is allowed.</p>\n<p>Effectively you're saying: Unless I can show conclusively it is bad, we assume it is good.</p>\n<p><strong>This is a broken approach to security</strong>.</p>\n<p>Allowlisting is the correct approach: Unless you can prove the input is safe, <strong>do not</strong> run it.</p>\n<p>Specifically, for SQL injection pattern, the solution is to let the SQL engine take care of it: Make PreparedStatements, and use <code>.setX</code> to set them - or use a library like JDBI or JOOQ that does this for you. Then there is simply no reason to worry about SQL injection whatsoever.</p>\n<p>Note that the actual security leak you do have is of the 'the hacker will p0wn the entire box by gaining admin creds on it' variety. Compared to 'users might be able to DOS your box', it's.. a few million times worse.</p>\n<hr />\n<p>EDIT: Here is an example of an allowlist approach in the same vein as the code you have (and the same caveat: Your security scanner may complain about a potential DOS attack venue here, you can ignore it, or.. see later paragraph):</p>\n<pre><code>\nprivate static final String SQL_INJECTION_PATTERN = &quot;.*[a-zA-Z0-9_ -].*&quot;;\n\n  if (!myValue.matches(SQL_INJECTION_PATTERN)) throw new IllegalArgumentException();\n</code></pre>\n<p>This code will check if the input consists solely of a very specific limited range of alphanums (just the ascii chars), and dash, and underscore, and space, and disallows everything that doesn't consist <em>just</em> of those things.</p>\n<p>This may still be unsafe - it depends on what you do with it. SQL has keywords, for example. If certain keywords are bad who knows - you'd need to elaborate considerably on what you're doing with user input here.</p>\n<p>The central point stands: It is <strong>highly likely</strong> your entire approach is wrong and you need to be using preparedstatements.</p>\n<p>One way to get rid of the warning is to stop using regexes. You can do this kind of scan just as easily with a for loop (and it is faster too, if anything):</p>\n<pre><code>for (int i = 0; i &lt; sql.length(); i++) {\n  if ((i &lt; 'a' || i &gt; 'z') &amp;&amp; (i &lt; 'A' &amp;&amp; i &gt; 'Z') &amp;&amp; (i &lt; '0' || i &gt; '9') &amp;&amp; i != ' ' &amp;&amp; i != '_' &amp;&amp; i != ' ') throw new IllegalArgumentException();\n</code></pre>\n<p>But, as a general rule, rewriting code <strong>solely</strong> because you're trying to work around an overly aggressive linting tool is an incredibly perniciously dangerous thing to do to a codebase. Programming is hard enough as is.</p>\n"},{"tags":[],"owner":{"account_id":27701808,"reputation":2943,"user_id":21146235,"display_name":"motto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681416732,"creation_date":1681414531,"answer_id":76009216,"question_id":76009007,"body_markdown":"The &quot;vulnerability&quot; (such as it is) is not one of those chars, but the leading `.*`. tldr: you could change it to `.*?`\r\n\r\nConsider an input string with none of the suspect characters, e.g. `xxxxxx`.\r\nIn trying to match this string against `.*[&#39;&quot;\\x01-\\x1f].*`, the regex engine will attempt to match the leading `.*` greedily, so it tries:\r\n\r\n```\r\n\r\nxxxxxx (fails to match because there is no [&#39;&quot;\\x01-\\x1f] past the end of the input)\r\nxxxxx  (fails to match because the next character is x which is not [&#39;&quot;\\x01-\\x1f])\r\nxxxx   (ditto)\r\nxxx    (ditto)\r\nxx     (ditto)\r\nx      (ditto)\r\n       (ditto)\r\n  -&gt; no match found\r\n```\r\n\r\nThe result of the greedy matching up front is that the engine must backtrack repeatedly, so determining the lack of match takes time superlinear(?) in the length of the input. The regex analyser will be being very conservative when it comes to evaluating the &quot;risk&quot;.\r\n\r\nThe easy workaround is to use a [non-greedy](https://stackoverflow.com/questions/11898998/how-can-i-write-a-regex-which-matches-non-greedy) quantifier on the leading `.*`, i.e. `.*?[&#39;&quot;\\x01-\\x1f].*`. The regex engine does not backtrack, so the input is evaluated in linear time.\r\n\r\nOn a side-note, this type of &quot;potential ReDoS&quot; pattern is reminiscent to one that was reported in AngularJS&#39;s [angular.copy](https://stackblitz.com/edit/angularjs-vulnerability-angular-copy-redos?file=index.js) a couple of weeks back (and indeed in lodash&#39;s [clone machinery for RegExps](https://github.com/lodash/lodash/blob/master/.internal/cloneRegExp.js), and probably countless other libraries that use the same quick trick to extract flags from the end of a stringified RegExp).\r\n\r\nUnrelated to the mechanics of this, I agree with rzwitserloot that this stuff tends to be a distraction from other more significant vulnerabilities. Maybe the real &quot;denial of service&quot; of each of these reports of a &quot;regular expression denial of service&quot; is the amount of time wasted every time while folks around the world scramble around trying to ascertain whether there&#39;s even an associated attack vector.","title":"Regex vulnerable to polynomial runtime","body":"<p>The &quot;vulnerability&quot; (such as it is) is not one of those chars, but the leading <code>.*</code>. tldr: you could change it to <code>.*?</code></p>\n<p>Consider an input string with none of the suspect characters, e.g. <code>xxxxxx</code>.\nIn trying to match this string against <code>.*['&quot;\\x01-\\x1f].*</code>, the regex engine will attempt to match the leading <code>.*</code> greedily, so it tries:</p>\n<pre><code>\nxxxxxx (fails to match because there is no ['&quot;\\x01-\\x1f] past the end of the input)\nxxxxx  (fails to match because the next character is x which is not ['&quot;\\x01-\\x1f])\nxxxx   (ditto)\nxxx    (ditto)\nxx     (ditto)\nx      (ditto)\n       (ditto)\n  -&gt; no match found\n</code></pre>\n<p>The result of the greedy matching up front is that the engine must backtrack repeatedly, so determining the lack of match takes time superlinear(?) in the length of the input. The regex analyser will be being very conservative when it comes to evaluating the &quot;risk&quot;.</p>\n<p>The easy workaround is to use a <a href=\"https://stackoverflow.com/questions/11898998/how-can-i-write-a-regex-which-matches-non-greedy\">non-greedy</a> quantifier on the leading <code>.*</code>, i.e. <code>.*?['&quot;\\x01-\\x1f].*</code>. The regex engine does not backtrack, so the input is evaluated in linear time.</p>\n<p>On a side-note, this type of &quot;potential ReDoS&quot; pattern is reminiscent to one that was reported in AngularJS's <a href=\"https://stackblitz.com/edit/angularjs-vulnerability-angular-copy-redos?file=index.js\" rel=\"nofollow noreferrer\">angular.copy</a> a couple of weeks back (and indeed in lodash's <a href=\"https://github.com/lodash/lodash/blob/master/.internal/cloneRegExp.js\" rel=\"nofollow noreferrer\">clone machinery for RegExps</a>, and probably countless other libraries that use the same quick trick to extract flags from the end of a stringified RegExp).</p>\n<p>Unrelated to the mechanics of this, I agree with rzwitserloot that this stuff tends to be a distraction from other more significant vulnerabilities. Maybe the real &quot;denial of service&quot; of each of these reports of a &quot;regular expression denial of service&quot; is the amount of time wasted every time while folks around the world scramble around trying to ascertain whether there's even an associated attack vector.</p>\n"}],"owner":{"account_id":13414743,"reputation":886,"user_id":9679725,"display_name":"Joe DiNottra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76009107,"answer_count":2,"score":0,"last_activity_date":1681416732,"creation_date":1681412880,"question_id":76009007,"body_markdown":"How do I improve this code? SonarQube is highlighting that the regex pattern that could become really slow and produce denial of service. Here&#39;s the code:\r\n\r\n```java\r\n  // Single quotes\r\n  // Double quotes\r\n  // Control characters (x01 - x1f)\r\n  private static final String SQL_INJECTION_PATTERN = &quot;.*[&#39;\\&quot;\\\\x01-\\\\x1f].*&quot;;\r\n\r\n  if (myValue.matches(SQL_INJECTION_PATTERN)) { // Here&#39;s the problem!\r\n    ...\r\n  }\r\n```  \r\n\r\nI need to find if any of those chars is present, to take an action.\r\n","title":"Regex vulnerable to polynomial runtime","body":"<p>How do I improve this code? SonarQube is highlighting that the regex pattern that could become really slow and produce denial of service. Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  // Single quotes\n  // Double quotes\n  // Control characters (x01 - x1f)\n  private static final String SQL_INJECTION_PATTERN = &quot;.*['\\&quot;\\\\x01-\\\\x1f].*&quot;;\n\n  if (myValue.matches(SQL_INJECTION_PATTERN)) { // Here's the problem!\n    ...\n  }\n</code></pre>\n<p>I need to find if any of those chars is present, to take an action.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680977384,"post_id":75966096,"comment_id":133986561,"body_markdown":"And what is your question for us?","body":"And what is your question for us?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680998243,"post_id":75966096,"comment_id":133988839,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":24103799,"reputation":11,"user_id":18075290,"display_name":"ytt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681416726,"creation_date":1681416726,"answer_id":76009468,"question_id":75966096,"body_markdown":"You should create a custom response class and use jpql to retrieve data.\r\n\r\nThere is an example over there;\r\n\r\n    @Query(value = &quot;select new &lt;your_package_path&gt;.CustomOrderResponse(o.order_id,o.amount,o.date,u.user_id,u.user_name,v.v_name) &quot; +\r\n            &quot;from Orders o, User u, Vendor v &quot; +\r\n            &quot;where o.User.user_id = u.user_id &quot;+\r\n            &quot;and o.Vendor.vendor_id = v.vendor_id&quot;+\r\n            &quot;and o.vendor_id=?&quot;)\r\n    public List&lt;CustomOrderResponse&gt; findOrderByVendorId(String vendor_id);\r\n","title":"fetch data from two tables","body":"<p>You should create a custom response class and use jpql to retrieve data.</p>\n<p>There is an example over there;</p>\n<pre><code>@Query(value = &quot;select new &lt;your_package_path&gt;.CustomOrderResponse(o.order_id,o.amount,o.date,u.user_id,u.user_name,v.v_name) &quot; +\n        &quot;from Orders o, User u, Vendor v &quot; +\n        &quot;where o.User.user_id = u.user_id &quot;+\n        &quot;and o.Vendor.vendor_id = v.vendor_id&quot;+\n        &quot;and o.vendor_id=?&quot;)\npublic List&lt;CustomOrderResponse&gt; findOrderByVendorId(String vendor_id);\n</code></pre>\n"}],"owner":{"account_id":28250412,"reputation":1,"user_id":21596757,"display_name":"Chandrakant Patare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681416726,"creation_date":1680967956,"question_id":75966096,"body_markdown":"i want to get details of user and vendor in order list.\r\n\r\n`@Entity\r\npublic class Orders {\r\n\r\n\t@Id \r\n\t @GeneratedValue(strategy = GenerationType.UUID)\r\n\tprivate String order_id;\r\n\tprivate String amount;\r\n\tprivate Date date;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;user_id&quot;,referencedColumnName=&quot;user_id&quot;, nullable = false)\r\n    private User user;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;vendor_id&quot;,referencedColumnName=&quot;vendor_id&quot;, nullable = false)\r\n    private Vendor vendor;\r\n\r\n\tpublic String getOrder_id() {\r\n\t\treturn order_id;\r\n\t}\r\n\tpublic void setOrder_id(String order_id) {\r\n\t\tthis.order_id = order_id;\r\n\t}\r\n\t\r\n\tpublic String getAmount() {\r\n\t\treturn amount;\r\n\t}\r\n\tpublic void setAmount(String amount) {\r\n\t\tthis.amount = amount;\r\n\t}\r\n\tpublic Date getDate() {\r\n\t\treturn date;\r\n\t}\r\n\tpublic void setDate(Date date) {\r\n\t\tthis.date = date;\r\n\t}\r\n\t@JsonBackReference(value = &quot;user&quot;)\r\n\t@JsonIdentityReference(alwaysAsId = true)\r\n\tpublic User getUser() {\r\n\t\treturn user;\r\n\t}\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\t@JsonBackReference(value = &quot;vendor&quot;)\r\n\t@JsonIdentityReference(alwaysAsId = true)\r\n\tpublic Vendor getVendor() {\r\n\t\treturn vendor;\r\n\t}\r\n\tpublic void setVendor(Vendor vendor) {\r\n\t\tthis.vendor = vendor;\r\n\t}\r\n\t\r\n\t\r\n}\r\n`\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n\t@Id \r\n\t @GeneratedValue(strategy = GenerationType.UUID)\r\n\tprivate String user_id;\r\n\tprivate String first_name;\r\n\tprivate String last_name;\r\n\tprivate String user_name;\r\n\tprivate String password;\r\n\tprivate Date dob;\r\n\tprivate String email_id;\r\n\tprivate String mobile;\r\n\tprivate String location;\r\n\t\r\n\t@JsonManagedReference(value = &quot;user&quot;)\r\n\t @OneToMany(mappedBy=&quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t    private List&lt;Orders&gt; OrderList = new ArrayList&lt;&gt;();\r\n\r\n\t\r\n\tpublic String getUser_id() {\r\n\t\treturn user_id;\r\n\t}\r\n\tpublic void setUser_id(String user_id) {\r\n\t\tthis.user_id = user_id;\r\n\t}\r\n\tpublic String getFirst_name() {\r\n\t\treturn first_name;\r\n\t}\r\n\tpublic void setFirst_name(String first_name) {\r\n\t\tthis.first_name = first_name;\r\n\t}\r\n\tpublic String getLast_name() {\r\n\t\treturn last_name;\r\n\t}\r\n\tpublic void setLast_name(String last_name) {\r\n\t\tthis.last_name = last_name;\r\n\t}\r\n\tpublic String getUser_name() {\r\n\t\treturn user_name;\r\n\t}\r\n\tpublic void setUser_name(String user_name) {\r\n\t\tthis.user_name = user_name;\r\n\t}\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\tpublic Date getDob() {\r\n\t\treturn dob;\r\n\t}\r\n\tpublic void setDob(Date dob) {\r\n\t\tthis.dob = dob;\r\n\t}\r\n\tpublic String getEmail_id() {\r\n\t\treturn email_id;\r\n\t}\r\n\tpublic void setEmail_id(String email_id) {\r\n\t\tthis.email_id = email_id;\r\n\t}\r\n\tpublic String getMobile() {\r\n\t\treturn mobile;\r\n\t}\r\n\tpublic void setMobile(String mobile) {\r\n\t\tthis.mobile = mobile;\r\n\t}\r\n\tpublic String getLocation() {\r\n\t\treturn location;\r\n\t}\r\n\tpublic void setLocation(String location) {\r\n\t\tthis.location = location;\r\n\t}\r\n\t\r\n\t@JsonIdentityReference(alwaysAsId = true)\r\n\tpublic List&lt;Orders&gt; getOrderList() {\r\n\t\treturn OrderList;\r\n\t}\r\n\tpublic void setOrderList(List&lt;Orders&gt; orderList) {\r\n\t\tOrderList = orderList;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User [first_name=&quot; + first_name + &quot;, last_name=&quot; + last_name + &quot;, user_name=&quot; + user_name\r\n\t\t\t\t+ &quot;, password=&quot; + password + &quot;, dob=&quot; + dob + &quot;, email_id=&quot; + email_id + &quot;, mobile=&quot; + mobile\r\n\t\t\t\t+ &quot;, location=&quot; + location + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Vendor {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.UUID)\r\n\tprivate String vendor_id;\r\n\tprivate String v_name;\r\n\tprivate String v_address;\r\n\tprivate String v_email;\r\n\tprivate String v_password;\r\n\tprivate String v_mobile;\r\n\tprivate String v_image;\r\n\tprivate String package_detail;\r\n\tprivate String price;\r\n\tprivate String service_name;\r\n\t\r\n\t@JsonManagedReference(value = &quot;vendor&quot;)\r\n\t @OneToMany(mappedBy=&quot;vendor&quot;,cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t    private List&lt;Orders&gt; OrderList = new ArrayList&lt;&gt;();\r\n\r\n\t\r\n\t\r\n\t @JsonIdentityReference(alwaysAsId = true)\r\n\tpublic List&lt;Orders&gt; getOrderList() {\r\n\t\treturn OrderList;\r\n\t}\r\n\tpublic void setOrderList(List&lt;Orders&gt; orderList) {\r\n\t\tOrderList = orderList;\r\n\t}\r\n\tpublic String getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\tpublic void setPrice(String price) {\r\n\t\tthis.price = price;\r\n\t}\r\n\tpublic String getService_name() {\r\n\t\treturn service_name;\r\n\t}\r\n\tpublic void setService_name(String service_name) {\r\n\t\tthis.service_name = service_name;\r\n\t}\r\n\tpublic String getVendor_id() {\r\n\t\treturn vendor_id;\r\n\t}\r\n\tpublic void setVendor_id(String vendor_id) {\r\n\t\tthis.vendor_id = vendor_id;\r\n\t}\r\n\tpublic String getV_name() {\r\n\t\treturn v_name;\r\n\t}\r\n\tpublic void setV_name(String v_name) {\r\n\t\tthis.v_name = v_name;\r\n\t}\r\n\tpublic String getV_address() {\r\n\t\treturn v_address;\r\n\t}\r\n\tpublic void setV_address(String v_address) {\r\n\t\tthis.v_address = v_address;\r\n\t}\r\n\tpublic String getV_email() {\r\n\t\treturn v_email;\r\n\t}\r\n\tpublic void setV_email(String v_email) {\r\n\t\tthis.v_email = v_email;\r\n\t}\r\n\tpublic String getV_password() {\r\n\t\treturn v_password;\r\n\t}\r\n\tpublic void setV_password(String v_password) {\r\n\t\tthis.v_password = v_password;\r\n\t}\r\n\tpublic String getV_mobile() {\r\n\t\treturn v_mobile;\r\n\t}\r\n\tpublic void setV_mobile(String v_mobile) {\r\n\t\tthis.v_mobile = v_mobile;\r\n\t}\r\n\tpublic String getV_image() {\r\n\t\treturn v_image;\r\n\t}\r\n\tpublic void setV_image(String v_image) {\r\n\t\tthis.v_image = v_image;\r\n\t}\r\n\tpublic String getPackage_detail() {\r\n\t\treturn package_detail;\r\n\t}\r\n\tpublic void setPackage_detail(String package_detail) {\r\n\t\tthis.package_detail = package_detail;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Vendor [vendor_id=&quot; + vendor_id + &quot;, v_name=&quot; + v_name + &quot;, v_address=&quot; + v_address + &quot;, v_email=&quot;\r\n\t\t\t\t+ v_email + &quot;, v_password=&quot; + v_password + &quot;, v_mobile=&quot; + v_mobile + &quot;, v_image=&quot; + v_image\r\n\t\t\t\t+ &quot;, package_detail=&quot; + package_detail + &quot;, price=&quot; + price + &quot;, service_name=&quot; + service_name + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n\r\n```\r\n@Query(value = &quot;select od.* from orders od join vendor ve on(od.vendor_id=ve.vendor_id) where od.vendor_id=?&quot;,nativeQuery = true)\r\n\tpublic List&lt;Orders&gt; findOrderByVendorId(String vendor_id);\r\n\r\n\r\n\r\ntype here\r\n```\r\n\r\ni get this as answer\r\n\r\n     {\r\n            &quot;order_id&quot;: &quot;01221903-86ba-41b9-a8b7-0c9498b6441a&quot;,\r\n            &quot;amount&quot;: &quot;150000&quot;,\r\n            &quot;date&quot;: &quot;2023-04-01&quot;\r\n     },\r\n\r\nand i want\r\n\r\n     {\r\n            &quot;order_id&quot;: &quot;01221903-86ba-41b9-a8b7-0c9498b6441a&quot;,\r\n            &quot;amount&quot;: &quot;150000&quot;,\r\n            &quot;date&quot;: &quot;2023-04-01&quot;\r\n            &quot;user_id&quot;:&quot;as3454r344r&quot;,\r\n            &quot;user_name&quot;:&quot;xyz&quot;,\r\n            &quot;v_name&quot;:&quot;abc&quot;\r\n     },\r\n\r\n","title":"fetch data from two tables","body":"<p>i want to get details of user and vendor in order list.</p>\n<p>`@Entity\npublic class Orders {</p>\n<pre><code>@Id \n @GeneratedValue(strategy = GenerationType.UUID)\nprivate String order_id;\nprivate String amount;\nprivate Date date;\n\n@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;user_id&quot;,referencedColumnName=&quot;user_id&quot;, nullable = false)\nprivate User user;\n\n@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;vendor_id&quot;,referencedColumnName=&quot;vendor_id&quot;, nullable = false)\nprivate Vendor vendor;\n\npublic String getOrder_id() {\n    return order_id;\n}\npublic void setOrder_id(String order_id) {\n    this.order_id = order_id;\n}\n\npublic String getAmount() {\n    return amount;\n}\npublic void setAmount(String amount) {\n    this.amount = amount;\n}\npublic Date getDate() {\n    return date;\n}\npublic void setDate(Date date) {\n    this.date = date;\n}\n@JsonBackReference(value = &quot;user&quot;)\n@JsonIdentityReference(alwaysAsId = true)\npublic User getUser() {\n    return user;\n}\npublic void setUser(User user) {\n    this.user = user;\n}\n@JsonBackReference(value = &quot;vendor&quot;)\n@JsonIdentityReference(alwaysAsId = true)\npublic Vendor getVendor() {\n    return vendor;\n}\npublic void setVendor(Vendor vendor) {\n    this.vendor = vendor;\n}\n</code></pre>\n<p>}\n`</p>\n<pre><code>@Entity\npublic class User {\n    @Id \n     @GeneratedValue(strategy = GenerationType.UUID)\n    private String user_id;\n    private String first_name;\n    private String last_name;\n    private String user_name;\n    private String password;\n    private Date dob;\n    private String email_id;\n    private String mobile;\n    private String location;\n    \n    @JsonManagedReference(value = &quot;user&quot;)\n     @OneToMany(mappedBy=&quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n        private List&lt;Orders&gt; OrderList = new ArrayList&lt;&gt;();\n\n    \n    public String getUser_id() {\n        return user_id;\n    }\n    public void setUser_id(String user_id) {\n        this.user_id = user_id;\n    }\n    public String getFirst_name() {\n        return first_name;\n    }\n    public void setFirst_name(String first_name) {\n        this.first_name = first_name;\n    }\n    public String getLast_name() {\n        return last_name;\n    }\n    public void setLast_name(String last_name) {\n        this.last_name = last_name;\n    }\n    public String getUser_name() {\n        return user_name;\n    }\n    public void setUser_name(String user_name) {\n        this.user_name = user_name;\n    }\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    public Date getDob() {\n        return dob;\n    }\n    public void setDob(Date dob) {\n        this.dob = dob;\n    }\n    public String getEmail_id() {\n        return email_id;\n    }\n    public void setEmail_id(String email_id) {\n        this.email_id = email_id;\n    }\n    public String getMobile() {\n        return mobile;\n    }\n    public void setMobile(String mobile) {\n        this.mobile = mobile;\n    }\n    public String getLocation() {\n        return location;\n    }\n    public void setLocation(String location) {\n        this.location = location;\n    }\n    \n    @JsonIdentityReference(alwaysAsId = true)\n    public List&lt;Orders&gt; getOrderList() {\n        return OrderList;\n    }\n    public void setOrderList(List&lt;Orders&gt; orderList) {\n        OrderList = orderList;\n    }\n    @Override\n    public String toString() {\n        return &quot;User [first_name=&quot; + first_name + &quot;, last_name=&quot; + last_name + &quot;, user_name=&quot; + user_name\n                + &quot;, password=&quot; + password + &quot;, dob=&quot; + dob + &quot;, email_id=&quot; + email_id + &quot;, mobile=&quot; + mobile\n                + &quot;, location=&quot; + location + &quot;]&quot;;\n    }\n    \n    \n    \n\n}\n</code></pre>\n<pre><code>@Entity\npublic class Vendor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private String vendor_id;\n    private String v_name;\n    private String v_address;\n    private String v_email;\n    private String v_password;\n    private String v_mobile;\n    private String v_image;\n    private String package_detail;\n    private String price;\n    private String service_name;\n    \n    @JsonManagedReference(value = &quot;vendor&quot;)\n     @OneToMany(mappedBy=&quot;vendor&quot;,cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n        private List&lt;Orders&gt; OrderList = new ArrayList&lt;&gt;();\n\n    \n    \n     @JsonIdentityReference(alwaysAsId = true)\n    public List&lt;Orders&gt; getOrderList() {\n        return OrderList;\n    }\n    public void setOrderList(List&lt;Orders&gt; orderList) {\n        OrderList = orderList;\n    }\n    public String getPrice() {\n        return price;\n    }\n    public void setPrice(String price) {\n        this.price = price;\n    }\n    public String getService_name() {\n        return service_name;\n    }\n    public void setService_name(String service_name) {\n        this.service_name = service_name;\n    }\n    public String getVendor_id() {\n        return vendor_id;\n    }\n    public void setVendor_id(String vendor_id) {\n        this.vendor_id = vendor_id;\n    }\n    public String getV_name() {\n        return v_name;\n    }\n    public void setV_name(String v_name) {\n        this.v_name = v_name;\n    }\n    public String getV_address() {\n        return v_address;\n    }\n    public void setV_address(String v_address) {\n        this.v_address = v_address;\n    }\n    public String getV_email() {\n        return v_email;\n    }\n    public void setV_email(String v_email) {\n        this.v_email = v_email;\n    }\n    public String getV_password() {\n        return v_password;\n    }\n    public void setV_password(String v_password) {\n        this.v_password = v_password;\n    }\n    public String getV_mobile() {\n        return v_mobile;\n    }\n    public void setV_mobile(String v_mobile) {\n        this.v_mobile = v_mobile;\n    }\n    public String getV_image() {\n        return v_image;\n    }\n    public void setV_image(String v_image) {\n        this.v_image = v_image;\n    }\n    public String getPackage_detail() {\n        return package_detail;\n    }\n    public void setPackage_detail(String package_detail) {\n        this.package_detail = package_detail;\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;Vendor [vendor_id=&quot; + vendor_id + &quot;, v_name=&quot; + v_name + &quot;, v_address=&quot; + v_address + &quot;, v_email=&quot;\n                + v_email + &quot;, v_password=&quot; + v_password + &quot;, v_mobile=&quot; + v_mobile + &quot;, v_image=&quot; + v_image\n                + &quot;, package_detail=&quot; + package_detail + &quot;, price=&quot; + price + &quot;, service_name=&quot; + service_name + &quot;]&quot;;\n    }\n    \n    \n\n}\n</code></pre>\n<pre><code>@Query(value = &quot;select od.* from orders od join vendor ve on(od.vendor_id=ve.vendor_id) where od.vendor_id=?&quot;,nativeQuery = true)\n    public List&lt;Orders&gt; findOrderByVendorId(String vendor_id);\n\n\n\ntype here\n</code></pre>\n<p>i get this as answer</p>\n<pre><code> {\n        &quot;order_id&quot;: &quot;01221903-86ba-41b9-a8b7-0c9498b6441a&quot;,\n        &quot;amount&quot;: &quot;150000&quot;,\n        &quot;date&quot;: &quot;2023-04-01&quot;\n },\n</code></pre>\n<p>and i want</p>\n<pre><code> {\n        &quot;order_id&quot;: &quot;01221903-86ba-41b9-a8b7-0c9498b6441a&quot;,\n        &quot;amount&quot;: &quot;150000&quot;,\n        &quot;date&quot;: &quot;2023-04-01&quot;\n        &quot;user_id&quot;:&quot;as3454r344r&quot;,\n        &quot;user_name&quot;:&quot;xyz&quot;,\n        &quot;v_name&quot;:&quot;abc&quot;\n },\n</code></pre>\n"},{"tags":["java","html","jsoup"],"comments":[{"owner":{"account_id":212122,"reputation":291673,"user_id":464744,"accept_rate":86,"display_name":"Blender"},"score":1,"creation_date":1350509606,"post_id":12943734,"comment_id":17544636,"body_markdown":"Have you tried [`fragment.text()`](http://jsoup.org/cookbook/extracting-data/attributes-text-html)?","body":"Have you tried <a href=\"http://jsoup.org/cookbook/extracting-data/attributes-text-html\" rel=\"nofollow noreferrer\"><code>fragment.text()</code></a>?"},{"owner":{"account_id":976919,"reputation":870,"user_id":997776,"accept_rate":80,"display_name":"sanya"},"score":1,"creation_date":1649252902,"post_id":12943734,"comment_id":126828992,"body_markdown":"The first time I see Hungarian text in a question.  :)","body":"The first time I see Hungarian text in a question.  :)"}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1350510147,"creation_date":1350509703,"answer_id":12943771,"question_id":12943734,"body_markdown":"**Using Regex**: -\r\n\r\n    String str = &quot;&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;&quot;;\r\n    str = str.replaceAll(&quot;&lt;[^&gt;]*&gt;&quot;, &quot;&quot;);\r\n    System.out.println(str);\r\n\r\n*OUTPUT*: -\r\n\r\n      foo   bar  foobar  baz \r\n\r\n\r\n**Using Jsoup**: -\r\n\r\n    Document doc = Jsoup.parse(str); \r\n    String text = doc.text();\r\n\r\n","title":"jsoup - strip all formatting and link tags, keep text only","body":"<p><strong>Using Regex</strong>: -</p>\n\n<pre><code>String str = \"&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;\";\nstr = str.replaceAll(\"&lt;[^&gt;]*&gt;\", \"\");\nSystem.out.println(str);\n</code></pre>\n\n<p><em>OUTPUT</em>: -</p>\n\n<pre><code>  foo   bar  foobar  baz \n</code></pre>\n\n<p><strong>Using Jsoup</strong>: -</p>\n\n<pre><code>Document doc = Jsoup.parse(str); \nString text = doc.text();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1779877,"reputation":24967,"user_id":1622894,"accept_rate":100,"display_name":"ollo"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1350513572,"creation_date":1350509886,"answer_id":12943807,"question_id":12943734,"body_markdown":"**With Jsoup:**\r\n\r\n    final String html = &quot;&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;&quot;;\r\n    Document doc = Jsoup.parse(html);\r\n    \r\n    System.out.println(doc.text());\r\n\r\n**Output:**\r\n\r\n    foo bar foobar baz\r\n\r\n\r\nIf you want only the text of p-tag, use this instead of `doc.text()`:\r\n\r\n    doc.select(&quot;p&quot;).text();\r\n\r\n... or only body:\r\n\r\n    doc.body().text();\r\n\r\n\r\n----------\r\n\r\nLinebreak:\r\n----------\r\n\r\n    final String html = &quot;&lt;p&gt;&lt;strong&gt;Tarthatatlan biztons&#225;gi viszonyok&lt;/strong&gt;&lt;/p&gt;&quot;\r\n            + &quot;&lt;p&gt;&lt;strong&gt;Tarthatatlan biztons&#225;gi viszonyok&lt;/strong&gt;&lt;/p&gt;&quot;;\r\n    Document doc = Jsoup.parse(html);\r\n    \r\n    for( Element element : doc.select(&quot;p&quot;) )\r\n    {\r\n        System.out.println(element.text());\r\n        // eg. you can use a StringBuilder and append lines here ...\r\n    }\r\n\r\n**Output:**\r\n\r\n    Tarthatatlan biztons&#225;gi viszonyok  \r\n    Tarthatatlan biztons&#225;gi viszonyok\r\n\r\n","title":"jsoup - strip all formatting and link tags, keep text only","body":"<p><strong>With Jsoup:</strong></p>\n\n<pre><code>final String html = \"&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;\";\nDocument doc = Jsoup.parse(html);\n\nSystem.out.println(doc.text());\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>foo bar foobar baz\n</code></pre>\n\n<p>If you want only the text of p-tag, use this instead of <code>doc.text()</code>:</p>\n\n<pre><code>doc.select(\"p\").text();\n</code></pre>\n\n<p>... or only body:</p>\n\n<pre><code>doc.body().text();\n</code></pre>\n\n<hr>\n\n<h2>Linebreak:</h2>\n\n<pre><code>final String html = \"&lt;p&gt;&lt;strong&gt;Tarthatatlan biztonsgi viszonyok&lt;/strong&gt;&lt;/p&gt;\"\n        + \"&lt;p&gt;&lt;strong&gt;Tarthatatlan biztonsgi viszonyok&lt;/strong&gt;&lt;/p&gt;\";\nDocument doc = Jsoup.parse(html);\n\nfor( Element element : doc.select(\"p\") )\n{\n    System.out.println(element.text());\n    // eg. you can use a StringBuilder and append lines here ...\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Tarthatatlan biztonsgi viszonyok  \nTarthatatlan biztonsgi viszonyok\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103812,"reputation":3551,"user_id":277861,"accept_rate":83,"display_name":"Al-Punk"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1681416351,"creation_date":1497889537,"answer_id":44635582,"question_id":12943734,"body_markdown":"Actually, the correct way to clean with Jsoup is through a [Safelist][1]\r\n\r\n    ...\r\n    final String html = &quot;&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;&quot;;\r\n    Document doc = Jsoup.parse(html);\r\n    Safelist wl = Safelist.none()\r\n    String cleanText = Jsoup.clean(doc.html(), wl)\r\n\r\nIf you want to still preserve some tags:\r\n\r\n    Safelist wl = new Safelist().relaxed().removeTags(&quot;a&quot;)\r\n\r\n\r\n  [1]: https://jsoup.org/apidocs/org/jsoup/safety/Safelist.html","title":"jsoup - strip all formatting and link tags, keep text only","body":"<p>Actually, the correct way to clean with Jsoup is through a <a href=\"https://jsoup.org/apidocs/org/jsoup/safety/Safelist.html\" rel=\"nofollow noreferrer\">Safelist</a></p>\n<pre><code>...\nfinal String html = &quot;&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;&quot;;\nDocument doc = Jsoup.parse(html);\nSafelist wl = Safelist.none()\nString cleanText = Jsoup.clean(doc.html(), wl)\n</code></pre>\n<p>If you want to still preserve some tags:</p>\n<pre><code>Safelist wl = new Safelist().relaxed().removeTags(&quot;a&quot;)\n</code></pre>\n"}],"owner":{"account_id":388454,"reputation":11987,"user_id":747412,"accept_rate":81,"display_name":"WonderCsabo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48667,"favorite_count":0,"down_vote_count":2,"up_vote_count":53,"accepted_answer_id":12943807,"answer_count":3,"score":51,"last_activity_date":1681416351,"creation_date":1350509512,"question_id":12943734,"body_markdown":"Let&#39;s say i have a html fragment like this:\r\n\r\n    &lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;\r\n\r\nWhat i want to extract from that is:\r\n\r\n    foo bar foobar baz\r\n\r\nSo my question is: how can i strip all the wrapping tags from a html and get only the text in the same order as it is in the html?\r\nAs you can see in the title, i want to use jsoup for the parsing.\r\n\r\nExample for accented html (note the &#39;&#225;&#39; character):\r\n\r\n    &lt;p&gt;&lt;strong&gt;Tarthatatlan biztons&#225;gi viszonyok&lt;/strong&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;strong&gt;Tarthatatlan biztons&#225;gi viszonyok&lt;/strong&gt;&lt;/p&gt;\r\n\r\nWhat i want:\r\n\r\n    Tarthatatlan biztons&#225;gi viszonyok\r\n    Tarthatatlan biztons&#225;gi viszonyok\r\n\r\nThis html is not static, generally i just want every text of a generic html fragment in decoded human readable form, width line breaks.\r\n\r\n","title":"jsoup - strip all formatting and link tags, keep text only","body":"<p>Let's say i have a html fragment like this:</p>\n\n<pre><code>&lt;p&gt; &lt;span&gt; foo &lt;/span&gt; &lt;em&gt; bar &lt;a&gt; foobar &lt;/a&gt; baz &lt;/em&gt; &lt;/p&gt;\n</code></pre>\n\n<p>What i want to extract from that is:</p>\n\n<pre><code>foo bar foobar baz\n</code></pre>\n\n<p>So my question is: how can i strip all the wrapping tags from a html and get only the text in the same order as it is in the html?\nAs you can see in the title, i want to use jsoup for the parsing.</p>\n\n<p>Example for accented html (note the '' character):</p>\n\n<pre><code>&lt;p&gt;&lt;strong&gt;Tarthatatlan biztonsgi viszonyok&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;strong&gt;Tarthatatlan biztonsgi viszonyok&lt;/strong&gt;&lt;/p&gt;\n</code></pre>\n\n<p>What i want:</p>\n\n<pre><code>Tarthatatlan biztonsgi viszonyok\nTarthatatlan biztonsgi viszonyok\n</code></pre>\n\n<p>This html is not static, generally i just want every text of a generic html fragment in decoded human readable form, width line breaks.</p>\n"},{"tags":["java","testing","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":18469952,"reputation":371,"user_id":13455138,"display_name":"mononoke83"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677597695,"creation_date":1677597695,"answer_id":75593990,"question_id":73697528,"body_markdown":"You probably already solve your doubts related to your question, but first, the automated instrumentation logic should not affect your app logic, see this link --&gt; (Whats the difference between automated instrumentation and manual instrumentation? section) https://isitobservable.io/open-telemetry/traces/how-to-instrument-your-code-using-opentelemetry.\r\nSecondly, if you already use the automatic instrumentation in OpenTelemetry,  when the java agent is executed with your application, then you can check the span traces info and later assert the info that is interested for you.\r\nAlso, you can check the integration tests that they made related to the original repo: \r\nhttps://github.com/open-telemetry/opentelemetry-java/tree/main/integration-tests.\r\n\r\nI hope that info could help you. \r\n","title":"How can I test the Java automatic instrumentation in OpenTelemetry?","body":"<p>You probably already solve your doubts related to your question, but first, the automated instrumentation logic should not affect your app logic, see this link --&gt; (Whats the difference between automated instrumentation and manual instrumentation? section) <a href=\"https://isitobservable.io/open-telemetry/traces/how-to-instrument-your-code-using-opentelemetry\" rel=\"nofollow noreferrer\">https://isitobservable.io/open-telemetry/traces/how-to-instrument-your-code-using-opentelemetry</a>.\nSecondly, if you already use the automatic instrumentation in OpenTelemetry,  when the java agent is executed with your application, then you can check the span traces info and later assert the info that is interested for you.\nAlso, you can check the integration tests that they made related to the original repo:\n<a href=\"https://github.com/open-telemetry/opentelemetry-java/tree/main/integration-tests\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java/tree/main/integration-tests</a>.</p>\n<p>I hope that info could help you.</p>\n"}],"owner":{"account_id":15404218,"reputation":87,"user_id":11112760,"display_name":"Alexey Vinogradov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681416316,"creation_date":1663042883,"question_id":73697528,"body_markdown":"I have a Java application with the GRPC API. And there is in the same repo a Java client library for this application.\r\nI am using Maven as a build system.\r\n\r\nHow can I test that spans are correctly created and the app will work as I expect (i.e. instrumentation doesn&#39;t affect the application&#39;s logic)?\r\n\r\nI tried to play with [the agent for testing](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/testing/agent-for-testing), but it seems that it should be configured heavily before being used as I can see in the different tests of Gradle plugins.\r\n\r\nI have an idea that I should test this only on the integration level (i.e. set up the whole infrastructure for the tracing) but it would be cool to see the mistakes as early as possible :)\r\n\r\nAlso, I have plans to add the manual instrumentation to this app, because there is a custom Netty-based transport layer to another application and there is custom scheduling logic based on queues.","title":"How can I test the Java automatic instrumentation in OpenTelemetry?","body":"<p>I have a Java application with the GRPC API. And there is in the same repo a Java client library for this application.\nI am using Maven as a build system.</p>\n<p>How can I test that spans are correctly created and the app will work as I expect (i.e. instrumentation doesn't affect the application's logic)?</p>\n<p>I tried to play with <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/testing/agent-for-testing\" rel=\"nofollow noreferrer\">the agent for testing</a>, but it seems that it should be configured heavily before being used as I can see in the different tests of Gradle plugins.</p>\n<p>I have an idea that I should test this only on the integration level (i.e. set up the whole infrastructure for the tracing) but it would be cool to see the mistakes as early as possible :)</p>\n<p>Also, I have plans to add the manual instrumentation to this app, because there is a custom Netty-based transport layer to another application and there is custom scheduling logic based on queues.</p>\n"},{"tags":["java","maven","swagger","swagger-codegen-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1568190678,"creation_date":1568190678,"answer_id":57885146,"question_id":57771534,"body_markdown":"As pointed out on github by [chiochuan][1], the workaround is to add\r\n\r\n       discriminator: &quot;type&quot;\r\n\r\nto the parent&#39;s definition to make the Java child classes extend it.\r\n\r\n    definitions:\r\n      Pet:\r\n        type: &quot;object&quot;\r\n        discriminator: &quot;type&quot;\r\n        required:\r\n          - &quot;name&quot;\r\n        properties:\r\n          name:\r\n            type: &quot;string&quot;\r\n            example: &quot;doggie&quot;\r\n\r\nIt&#39;s a bit strange as the OpenAPI Specification Version 2.0 state that the [`discriminator` Fixed Field][2] must reference a property from the same schema, and that it must be a `required` property, both of which isn&#39;t the case - but it works, at least as of today. :)\r\n\r\n\r\n  [1]: https://github.com/chiochuan\r\n  [2]: https://swagger.io/specification/v2/#fixed-fields-13","title":"How do you have the maven swagger codegen plugin generate Java classes using inheritance?","body":"<p>As pointed out on github by <a href=\"https://github.com/chiochuan\" rel=\"nofollow noreferrer\">chiochuan</a>, the workaround is to add</p>\n\n<pre><code>   discriminator: \"type\"\n</code></pre>\n\n<p>to the parent's definition to make the Java child classes extend it.</p>\n\n<pre><code>definitions:\n  Pet:\n    type: \"object\"\n    discriminator: \"type\"\n    required:\n      - \"name\"\n    properties:\n      name:\n        type: \"string\"\n        example: \"doggie\"\n</code></pre>\n\n<p>It's a bit strange as the OpenAPI Specification Version 2.0 state that the <a href=\"https://swagger.io/specification/v2/#fixed-fields-13\" rel=\"nofollow noreferrer\"><code>discriminator</code> Fixed Field</a> must reference a property from the same schema, and that it must be a <code>required</code> property, both of which isn't the case - but it works, at least as of today. :)</p>\n"},{"tags":[],"owner":{"account_id":7667845,"reputation":36,"user_id":5811072,"display_name":"Sunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681415429,"creation_date":1681415429,"answer_id":76009327,"question_id":57771534,"body_markdown":"Is there a reason you don&#39;t want to include &quot;**configOptions**&quot;? The swagger-codegen-maven-plugin version 4.3.1 works with the following configuration.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;4.3.1&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;spring-boot-api&lt;/id&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;generate&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;inputSpec&gt;YOUR_SPEC_FILE&lt;/inputSpec&gt;\r\n            &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n            &lt;configOptions&gt;\r\n              &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\r\n              &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n              &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n              &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n            &lt;/configOptions&gt;\r\n            &lt;library&gt;spring-boot&lt;/library&gt;\r\n            &lt;apiPackage&gt;com.api&lt;/apiPackage&gt;\r\n            &lt;modelPackage&gt;com.api.model&lt;/modelPackage&gt;\r\n            &lt;invokerPackage&gt;com.api.handler&lt;/invokerPackage&gt;\r\n            &lt;typeMappings&gt;\r\n              &lt;typeMapping&gt;OffsetDateTime=LocalDateTime&lt;/typeMapping&gt;\r\n            &lt;/typeMappings&gt;\r\n            &lt;importMappings&gt;\r\n              &lt;importMapping&gt;java.time.OffsetDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\r\n            &lt;/importMappings&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How do you have the maven swagger codegen plugin generate Java classes using inheritance?","body":"<p>Is there a reason you don't want to include &quot;<strong>configOptions</strong>&quot;? The swagger-codegen-maven-plugin version 4.3.1 works with the following configuration.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n  &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;4.3.1&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;spring-boot-api&lt;/id&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;generate&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;inputSpec&gt;YOUR_SPEC_FILE&lt;/inputSpec&gt;\n        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n        &lt;configOptions&gt;\n          &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\n          &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n          &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n          &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n        &lt;/configOptions&gt;\n        &lt;library&gt;spring-boot&lt;/library&gt;\n        &lt;apiPackage&gt;com.api&lt;/apiPackage&gt;\n        &lt;modelPackage&gt;com.api.model&lt;/modelPackage&gt;\n        &lt;invokerPackage&gt;com.api.handler&lt;/invokerPackage&gt;\n        &lt;typeMappings&gt;\n          &lt;typeMapping&gt;OffsetDateTime=LocalDateTime&lt;/typeMapping&gt;\n        &lt;/typeMappings&gt;\n        &lt;importMappings&gt;\n          &lt;importMapping&gt;java.time.OffsetDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\n        &lt;/importMappings&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3391,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57885146,"answer_count":2,"score":2,"last_activity_date":1681415429,"creation_date":1567512783,"question_id":57771534,"body_markdown":"In our swagger.yaml file, we have a definition `Cat` that uses `allOf` to include all properties of `Pet`. \r\n\r\n```\r\nCat:\r\n  allOf:\r\n    - $ref: &#39;#/definitions/Pet&#39;\r\n    - type: object\r\n      properties:\r\n      # ...\r\n```\r\n\r\nThe **expectation** is that when generating Java sources, we get \r\n```\r\npublic class Cat extends Pet {\r\n``` \r\n\r\nThis works when using the [Swagger Editor](https://editor.swagger.io). \r\n\r\nWhen using `swagger-codegen-maven-plugin` with no `configOptions` set, we get the following:\r\n\r\n```\r\npublic class Cat {\r\n``` \r\n`Cat` implements all of `Pet`&#39;s properties itself, instead of extending it. \r\n\r\n**How do you tell the `swagger-codegen-maven-plugin` to use Java with inheritance (i.e. `extends`)?** (We tried both spring and java as languages.) \r\n\r\nHere&#39;s a sample swagger.yaml file:\r\n```\r\nswagger: &#39;2.0&#39;\r\n\r\ninfo:\r\n  version: 1.0.0\r\n  title: simple inheritance\r\n\r\ntags:\r\n  - name: &quot;pet&quot;\r\n\r\npaths:\r\n  /cat:\r\n    put:\r\n      tags:\r\n        - &quot;pet&quot;\r\n      operationId: &quot;updateCat&quot;\r\n      consumes:\r\n        - &quot;application/json&quot;\r\n      parameters:\r\n        - in: &quot;body&quot;\r\n          name: &quot;body&quot;\r\n          required: true\r\n          schema:\r\n            $ref: &quot;#/definitions/Cat&quot;\r\n      responses:\r\n        200:\r\n          description: Nada\r\n\r\ndefinitions:\r\n  Pet:\r\n    type: &quot;object&quot;\r\n    required:\r\n      - &quot;name&quot;\r\n    properties:\r\n      name:\r\n        type: &quot;string&quot;\r\n        example: &quot;doggie&quot;\r\n  Cat:\r\n    allOf:\r\n      - $ref: &#39;#/definitions/Pet&#39;\r\n      - type: object\r\n        properties:\r\n          huntingSkill:\r\n            type: string\r\n        required:\r\n          - huntingSkill\r\n```","title":"How do you have the maven swagger codegen plugin generate Java classes using inheritance?","body":"<p>In our swagger.yaml file, we have a definition <code>Cat</code> that uses <code>allOf</code> to include all properties of <code>Pet</code>. </p>\n\n<pre><code>Cat:\n  allOf:\n    - $ref: '#/definitions/Pet'\n    - type: object\n      properties:\n      # ...\n</code></pre>\n\n<p>The <strong>expectation</strong> is that when generating Java sources, we get </p>\n\n<pre><code>public class Cat extends Pet {\n</code></pre>\n\n<p>This works when using the <a href=\"https://editor.swagger.io\" rel=\"nofollow noreferrer\">Swagger Editor</a>. </p>\n\n<p>When using <code>swagger-codegen-maven-plugin</code> with no <code>configOptions</code> set, we get the following:</p>\n\n<pre><code>public class Cat {\n</code></pre>\n\n<p><code>Cat</code> implements all of <code>Pet</code>'s properties itself, instead of extending it. </p>\n\n<p><strong>How do you tell the <code>swagger-codegen-maven-plugin</code> to use Java with inheritance (i.e. <code>extends</code>)?</strong> (We tried both spring and java as languages.) </p>\n\n<p>Here's a sample swagger.yaml file:</p>\n\n<pre><code>swagger: '2.0'\n\ninfo:\n  version: 1.0.0\n  title: simple inheritance\n\ntags:\n  - name: \"pet\"\n\npaths:\n  /cat:\n    put:\n      tags:\n        - \"pet\"\n      operationId: \"updateCat\"\n      consumes:\n        - \"application/json\"\n      parameters:\n        - in: \"body\"\n          name: \"body\"\n          required: true\n          schema:\n            $ref: \"#/definitions/Cat\"\n      responses:\n        200:\n          description: Nada\n\ndefinitions:\n  Pet:\n    type: \"object\"\n    required:\n      - \"name\"\n    properties:\n      name:\n        type: \"string\"\n        example: \"doggie\"\n  Cat:\n    allOf:\n      - $ref: '#/definitions/Pet'\n      - type: object\n        properties:\n          huntingSkill:\n            type: string\n        required:\n          - huntingSkill\n</code></pre>\n"},{"tags":["java","graph","colors","graphics","jung"],"comments":[{"owner":{"account_id":336919,"reputation":2704,"user_id":664856,"display_name":"Joshua O&#39;Madadhain"},"score":0,"creation_date":1682280957,"post_id":75998372,"comment_id":134186671,"body_markdown":"It&#39;s not clear what you mean by &quot;change the colors from dark green until very light green or white&quot;.  Do you mean that you want individual nodes to have a gradient paint function (in which case see https://github.com/jrtom/jung/search?q=gradientpaint for examples), or that you have a list of nodes whose colors should interpolate between your first and last colors, or something else?","body":"It&#39;s not clear what you mean by &quot;change the colors from dark green until very light green or white&quot;.  Do you mean that you want individual nodes to have a gradient paint function (in which case see <a href=\"https://github.com/jrtom/jung/search?q=gradientpaint\" rel=\"nofollow noreferrer\">github.com/jrtom/jung/search?q=gradientpaint</a> for examples), or that you have a list of nodes whose colors should interpolate between your first and last colors, or something else?"}],"owner":{"account_id":27542271,"reputation":3,"user_id":21018815,"display_name":"DooPexXx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681415310,"creation_date":1681321010,"question_id":75998372,"body_markdown":"I&#39;m trying to change the color of the Cluster Nodes from dark green to light green or white. But I don&#39;t have an approach for that, or I&#39;m searching for an approach. \r\n\r\n\r\n```\r\npublic WebSearchInterface() { setLayout(new BorderLayout());\r\n    graph = GraphHandler.createForestTestempty();\r\n    vv = VisualizationViewer.builder(graph)\r\n                        .layoutAlgorithm(new StaticLayoutAlgorithm&lt;&gt;())\r\n                        .layoutSize(layoutSize)\r\n                        .viewSize(viewSize)\r\n                        .graphMouse(graphMouse)\r\n                        .build();\r\n\r\n    vv.addPreRenderPaintable(\r\n                new LayoutPaintable.LayoutBounds(\r\n                        vv.getVisualizationModel(), vv.getRenderContext().getMultiLayerTransformer()));     \r\n        \r\n        \r\n    Box controls = Box.createHorizontalBox();\r\n    controls.add(\r\n                GraphControlHelpers.getCenteredContainer(\r\n                        &quot;Layout Controls&quot;, GraphLayoutSelector.builder(vv).initialSelection(1).build()));\r\n        //controls.add(GraphControlHelpers.getCenteredContainer(&quot;Search&quot;,GraphLayoutSelector.InputtextF),BorderLayout.CENTER);\r\n        controls.add(GraphControlHelpers.getCenteredContainer(&quot;Zoom&quot;,GraphControlHelpers.getZoom(vv)));\r\n        controls.add(GraphControlHelpers.getCenteredContainer(&quot;Node properties&quot;,GraphLayoutSelector.GraphPropList));\r\n\r\n        add(controls, BorderLayout.SOUTH);\r\n        panel = new VisualizationScrollPane(vv);\r\n        add(panel);\r\n}\r\n```\r\n\r\nIs my Cluster\r\n\r\n[enter image description here](https://i.stack.imgur.com/oSmol.png)\r\n\r\nI know I can use the following function. I don&#39;t know how to degree or change the color from dark green until very light green or white. Maybe some one has an idea. I also created a List of this green color&#39;s. But I&#39;m searching for an approach to change the colors from dark green until very light green or white.\r\n\r\n```\t  \r\npublic static Color[] clusterColor =  {new Color(0, 102, 0), new Color(0, 153, 0), new Color(0, 204, 0), new Color(0, 255, 51), new Color(102, 255, 102)};   \r\n\r\n       vv.getRenderContext().setVertexFillPaintFunction(v-&gt;{ // set vertex color\r\n \r\n\t      else if(v.equals(Center)&amp;&amp;(!Center.isEmpty()))\r\n\t      {\r\n\t        return Color.yellow;\r\n\t      }\r\n\t      else if((!v.equals(Center)) // first cluster  v is an string \r\n\t      {\r\n\t    \t  cnt_Vertex = cnt_Vertex +1;\r\n\t\t\t  System.out.println(cnt_Vertex);\r\n\t\t\t  System.out.println(v);\r\n\t    \t\t  return clusterColor[2];\r\n\t      }\r\n\t      return Color.blue;\r\n\t    });\r\n```","title":"JUNG change color of Nodes from green until white","body":"<p>I'm trying to change the color of the Cluster Nodes from dark green to light green or white. But I don't have an approach for that, or I'm searching for an approach.</p>\n<pre><code>public WebSearchInterface() { setLayout(new BorderLayout());\n    graph = GraphHandler.createForestTestempty();\n    vv = VisualizationViewer.builder(graph)\n                        .layoutAlgorithm(new StaticLayoutAlgorithm&lt;&gt;())\n                        .layoutSize(layoutSize)\n                        .viewSize(viewSize)\n                        .graphMouse(graphMouse)\n                        .build();\n\n    vv.addPreRenderPaintable(\n                new LayoutPaintable.LayoutBounds(\n                        vv.getVisualizationModel(), vv.getRenderContext().getMultiLayerTransformer()));     \n        \n        \n    Box controls = Box.createHorizontalBox();\n    controls.add(\n                GraphControlHelpers.getCenteredContainer(\n                        &quot;Layout Controls&quot;, GraphLayoutSelector.builder(vv).initialSelection(1).build()));\n        //controls.add(GraphControlHelpers.getCenteredContainer(&quot;Search&quot;,GraphLayoutSelector.InputtextF),BorderLayout.CENTER);\n        controls.add(GraphControlHelpers.getCenteredContainer(&quot;Zoom&quot;,GraphControlHelpers.getZoom(vv)));\n        controls.add(GraphControlHelpers.getCenteredContainer(&quot;Node properties&quot;,GraphLayoutSelector.GraphPropList));\n\n        add(controls, BorderLayout.SOUTH);\n        panel = new VisualizationScrollPane(vv);\n        add(panel);\n}\n</code></pre>\n<p>Is my Cluster</p>\n<p><a href=\"https://i.stack.imgur.com/oSmol.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I know I can use the following function. I don't know how to degree or change the color from dark green until very light green or white. Maybe some one has an idea. I also created a List of this green color's. But I'm searching for an approach to change the colors from dark green until very light green or white.</p>\n<pre><code>public static Color[] clusterColor =  {new Color(0, 102, 0), new Color(0, 153, 0), new Color(0, 204, 0), new Color(0, 255, 51), new Color(102, 255, 102)};   \n\n       vv.getRenderContext().setVertexFillPaintFunction(v-&gt;{ // set vertex color\n \n          else if(v.equals(Center)&amp;&amp;(!Center.isEmpty()))\n          {\n            return Color.yellow;\n          }\n          else if((!v.equals(Center)) // first cluster  v is an string \n          {\n              cnt_Vertex = cnt_Vertex +1;\n              System.out.println(cnt_Vertex);\n              System.out.println(v);\n                  return clusterColor[2];\n          }\n          return Color.blue;\n        });\n</code></pre>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1681406598,"post_id":76008223,"comment_id":134055040,"body_markdown":"Ideally you would make classes here (e.g. a `public class Goblin extends Enemy`), such that you could use different objects for different fights. Then things like `Enemy#getHealth` would allow you to work on something other than strings. For beginners, it&#39;s best to avoid `static` for most purposes. Your &quot;found solution&quot; uses reflection which means it is slow and prone to breaking when you change your code. For instance, `#invoke` expects an instance argument, but `null` for static methods.","body":"Ideally you would make classes here (e.g. a <code>public class Goblin extends Enemy</code>), such that you could use different objects for different fights. Then things like <code>Enemy#getHealth</code> would allow you to work on something other than strings. For beginners, it&#39;s best to avoid <code>static</code> for most purposes. Your &quot;found solution&quot; uses reflection which means it is slow and prone to breaking when you change your code. For instance, <code>#invoke</code> expects an instance argument, but <code>null</code> for static methods."},{"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"score":0,"creation_date":1681408014,"post_id":76008223,"comment_id":134055349,"body_markdown":"Are you sure you want to use the reflection? ... Reflection should be the last resort\n\nand please post your complete code as text (formatted!), not as screenshots","body":"Are you sure you want to use the reflection? ... Reflection should be the last resort  and please post your complete code as text (formatted!), not as screenshots"},{"owner":{"account_id":15379266,"reputation":125,"user_id":11095121,"display_name":"Semlan Bakelsen"},"score":0,"creation_date":1681408367,"post_id":76008223,"comment_id":134055433,"body_markdown":"I&#39;m not very experienced with Java, and that was the only thing I found. Optimaly I wouldn&#39;t use it because I don&#39;t understand how it works. @Rogue What can I look up to find out more about what you wrote?","body":"I&#39;m not very experienced with Java, and that was the only thing I found. Optimaly I wouldn&#39;t use it because I don&#39;t understand how it works. @Rogue What can I look up to find out more about what you wrote?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1681410308,"post_id":76008223,"comment_id":134055903,"body_markdown":"I would [start here](https://docs.oracle.com/javase/tutorial/java/index.html) (particularly the first section regarding object-oriented concepts). From there it&#39;d be a trope down the path of learning more fine-grained OOP topics, e.g. design patterns.","body":"I would <a href=\"https://docs.oracle.com/javase/tutorial/java/index.html\" rel=\"nofollow noreferrer\">start here</a> (particularly the first section regarding object-oriented concepts). From there it&#39;d be a trope down the path of learning more fine-grained OOP topics, e.g. design patterns."}],"owner":{"account_id":15379266,"reputation":125,"user_id":11095121,"display_name":"Semlan Bakelsen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681414769,"creation_date":1681406472,"question_id":76008223,"body_markdown":"I am trying to create a simple fight method in a small game that handles everything when a user is in a fight. What I&#39;m trying to do is to randomly choose an enemy, by using a random number then assigning the variable `enemy` a name as a String:\r\n```\r\npublic static void Fight(String enemy) {\r\n    //code\r\n}\r\n```\r\n\r\nThe enemys are in a differnet class as individual methods. I&#39;d like to be able to run the enemy methods from my Fight method.\r\n\r\nMost of the time the enemy methods will simply return a value, so I would need to be able to add arguments when running the methods.\r\n\r\n\r\n\r\nI was able to find a solution to getting a class and method from a string:\r\n```\r\ntry {\r\n    tempClass = Class.forName(&quot;com.package.Monsters&quot;);\r\n    tempMethod = tempClass.getDeclaredMethod(enemy, null);\r\n    //obj = tempMethod.invoke(Class.forName(&quot;com.package.Monsters&quot;), null);\r\n\r\n    obj = tempMethod.invoke(tempClass, null);\r\n    enemyStats = (String)obj;\r\n\r\n}\r\ncatch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nThis is what I currently have in my Monsters.java:\r\n```\r\npublic class Monsters {\r\n    static int[] stats = {0, 0, 0, 0, 0};\r\n    public static String Goblin() {\r\n\r\n\r\n            //[Health, Attack, Defense, Attack Speed, Movement Speed]\r\n            stats[0] = 6;\r\n            stats[1] = 2;\r\n            stats[2] = 2;\r\n            stats[3] = 3;\r\n            stats[4] = 4;\r\n            String statText = &quot;Health: &quot; + stats[0] + &quot;\\nAttack: &quot; + stats[1] + &quot;\\nDefence: &quot; + stats[2]\r\n                    + &quot;\\nAttack Speed: &quot; + stats[3] + &quot;\\nMovement Speed: &quot; + stats[4];\r\n            return statText;\r\n    }\r\n}\r\n```\r\n\r\nCurrently I call `Fight(&quot;Goblin&quot;);` to test it. But I&#39;d like to just run the random method at the beginning of `Fight()`, so it might not need arguments itself, if I could use a return value instead.\r\n\r\nI couldn&#39;t find any way to add arguments to the method for the enemy the `Goblin()`.\r\n\r\nI&#39;d like it to be `Goblin(String options)` but I wasn&#39;t able to get the `tempMethod` variable to &#39;find&#39; the method, it gave me the error: &quot;`java.lang.NoSuchMethodException: com.package.Monsters.Goblin(String options)()`&quot;\r\n\r\nUsing JDK 19","title":"Running a method name from string with arguments","body":"<p>I am trying to create a simple fight method in a small game that handles everything when a user is in a fight. What I'm trying to do is to randomly choose an enemy, by using a random number then assigning the variable <code>enemy</code> a name as a String:</p>\n<pre><code>public static void Fight(String enemy) {\n    //code\n}\n</code></pre>\n<p>The enemys are in a differnet class as individual methods. I'd like to be able to run the enemy methods from my Fight method.</p>\n<p>Most of the time the enemy methods will simply return a value, so I would need to be able to add arguments when running the methods.</p>\n<p>I was able to find a solution to getting a class and method from a string:</p>\n<pre><code>try {\n    tempClass = Class.forName(&quot;com.package.Monsters&quot;);\n    tempMethod = tempClass.getDeclaredMethod(enemy, null);\n    //obj = tempMethod.invoke(Class.forName(&quot;com.package.Monsters&quot;), null);\n\n    obj = tempMethod.invoke(tempClass, null);\n    enemyStats = (String)obj;\n\n}\ncatch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>This is what I currently have in my Monsters.java:</p>\n<pre><code>public class Monsters {\n    static int[] stats = {0, 0, 0, 0, 0};\n    public static String Goblin() {\n\n\n            //[Health, Attack, Defense, Attack Speed, Movement Speed]\n            stats[0] = 6;\n            stats[1] = 2;\n            stats[2] = 2;\n            stats[3] = 3;\n            stats[4] = 4;\n            String statText = &quot;Health: &quot; + stats[0] + &quot;\\nAttack: &quot; + stats[1] + &quot;\\nDefence: &quot; + stats[2]\n                    + &quot;\\nAttack Speed: &quot; + stats[3] + &quot;\\nMovement Speed: &quot; + stats[4];\n            return statText;\n    }\n}\n</code></pre>\n<p>Currently I call <code>Fight(&quot;Goblin&quot;);</code> to test it. But I'd like to just run the random method at the beginning of <code>Fight()</code>, so it might not need arguments itself, if I could use a return value instead.</p>\n<p>I couldn't find any way to add arguments to the method for the enemy the <code>Goblin()</code>.</p>\n<p>I'd like it to be <code>Goblin(String options)</code> but I wasn't able to get the <code>tempMethod</code> variable to 'find' the method, it gave me the error: &quot;<code>java.lang.NoSuchMethodException: com.package.Monsters.Goblin(String options)()</code>&quot;</p>\n<p>Using JDK 19</p>\n"},{"tags":["java","hibernate","jpa","criteria-api"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681414735,"creation_date":1681414735,"question_id":76009243,"body_markdown":"The line of Criteria API \r\n\r\n    c.select(cb.count(concatSubQuery.getSelection()));\r\n\r\ncaused the below error\r\n\r\n    Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 1, column 14 [select count((select generatedAlias0.name from com.openpayment.impl.entity.RegistryGroupEntity as generatedAlias1 where generatedAlias1.id=generatedAlias2.id)) from com.openpayment.impl.entity.RegistryGroupEntity as generatedAlias2 left join generatedAlias2.services as generatedAlias0 order by generatedAlias2.name desc\r\n\r\nThe removing of both select and getSelection() doesn&#39;t eliminate the problem\r\n\r\n    c.select(cb.count(concatSubQuery));\r\n\r\n\r\nThe full method is:\r\n\r\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Long&gt; c = cb.createQuery(Long.class);\r\n        Root&lt;RegistryGroupEntity&gt; registryGroup = c.from(RegistryGroupEntity.class);\r\n\r\n        Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.LEFT);\r\n        //          \r\n\r\n        Subquery&lt;String&gt; concatSubQuery = c.subquery(String.class);\r\n        Root&lt;RegistryGroupEntity&gt; countSubQueryRoot = concatSubQuery.from(RegistryGroupEntity.class);\r\n        concatSubQuery.select(serviceJoin.get(ServiceEntity_.name))\r\n                .where(cb.equal(countSubQueryRoot.get(RegistryGroupEntity_.id),\r\n                        registryGroup.get(RegistryGroupEntity_.id)));\r\n\r\n        c.select(cb.count(concatSubQuery));\r\n        c.orderBy(cb.desc(registryGroup.get(RegistryGroupEntity_.name)));\r\n\r\n        List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\r\n        Map&lt;String, Object&gt; paramValues = new HashMap&lt;&gt;();\r\n        if (name != null) {\r\n            ParameterExpression&lt;String&gt; p = cb.parameter(String.class, &quot;name&quot;);\r\n            criteria.add(cb.like(registryGroup.get(RegistryGroupEntity_.name), p));\r\n            paramValues.put(&quot;name&quot;, name);\r\n        }\r\n        if (criteria.size() == 1) {\r\n            c.where(criteria.get(0));\r\n        } else if (criteria.size() &gt; 0) {\r\n            c.where(cb.and(criteria.toArray(new Predicate[0])));\r\n        }\r\n\r\n        TypedQuery&lt;Long&gt; q = entityManager.createQuery(c);\r\n\r\n        for (String paramName : paramValues.keySet()) {\r\n            q.setParameter(paramName, paramValues.get(paramName));\r\n        }\r\n\r\n        return q.getSingleResult();\r\n\r\nentities are:\r\n\r\n    @Entity\r\n    @Table(name = &quot;registry_groups&quot;)\r\n    public class RegistryGroupEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;registry_groups_gen&quot;, sequenceName=&quot;registry_groups_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;registry_groups_gen&quot;)\r\n        private Integer id;\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;registryGroup&quot;)\r\n        private Collection&lt;ServiceEntity&gt; services;\r\n    //setters-getters ommited\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;services&quot;)\r\n    public class ServiceEntity {\r\n        @Id\r\n        @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator=&quot;service_gen&quot;)\r\n        private Integer id;\r\n        @Column(nullable = false, length = 100)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;registry_group_id&quot;, insertable = false, updatable = false)\r\n        private Integer registryGroupId;\r\n    \r\n    }","title":"Criteria API creates the HQR query that fails with doubled brace","body":"<p>The line of Criteria API</p>\n<pre><code>c.select(cb.count(concatSubQuery.getSelection()));\n</code></pre>\n<p>caused the below error</p>\n<pre><code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 1, column 14 [select count((select generatedAlias0.name from com.openpayment.impl.entity.RegistryGroupEntity as generatedAlias1 where generatedAlias1.id=generatedAlias2.id)) from com.openpayment.impl.entity.RegistryGroupEntity as generatedAlias2 left join generatedAlias2.services as generatedAlias0 order by generatedAlias2.name desc\n</code></pre>\n<p>The removing of both select and getSelection() doesn't eliminate the problem</p>\n<pre><code>c.select(cb.count(concatSubQuery));\n</code></pre>\n<p>The full method is:</p>\n<p>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery c = cb.createQuery(Long.class);\nRoot registryGroup = c.from(RegistryGroupEntity.class);</p>\n<pre><code>    Join&lt;RegistryGroupEntity, ServiceEntity&gt; serviceJoin = registryGroup.join(RegistryGroupEntity_.services, JoinType.LEFT);\n    //          \n\n    Subquery&lt;String&gt; concatSubQuery = c.subquery(String.class);\n    Root&lt;RegistryGroupEntity&gt; countSubQueryRoot = concatSubQuery.from(RegistryGroupEntity.class);\n    concatSubQuery.select(serviceJoin.get(ServiceEntity_.name))\n            .where(cb.equal(countSubQueryRoot.get(RegistryGroupEntity_.id),\n                    registryGroup.get(RegistryGroupEntity_.id)));\n\n    c.select(cb.count(concatSubQuery));\n    c.orderBy(cb.desc(registryGroup.get(RegistryGroupEntity_.name)));\n\n    List&lt;Predicate&gt; criteria = new ArrayList&lt;&gt;();\n    Map&lt;String, Object&gt; paramValues = new HashMap&lt;&gt;();\n    if (name != null) {\n        ParameterExpression&lt;String&gt; p = cb.parameter(String.class, &quot;name&quot;);\n        criteria.add(cb.like(registryGroup.get(RegistryGroupEntity_.name), p));\n        paramValues.put(&quot;name&quot;, name);\n    }\n    if (criteria.size() == 1) {\n        c.where(criteria.get(0));\n    } else if (criteria.size() &gt; 0) {\n        c.where(cb.and(criteria.toArray(new Predicate[0])));\n    }\n\n    TypedQuery&lt;Long&gt; q = entityManager.createQuery(c);\n\n    for (String paramName : paramValues.keySet()) {\n        q.setParameter(paramName, paramValues.get(paramName));\n    }\n\n    return q.getSingleResult();\n</code></pre>\n<p>entities are:</p>\n<pre><code>@Entity\n@Table(name = &quot;registry_groups&quot;)\npublic class RegistryGroupEntity {\n    @Id\n    @SequenceGenerator(name=&quot;registry_groups_gen&quot;, sequenceName=&quot;registry_groups_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;registry_groups_gen&quot;)\n    private Integer id;\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;registryGroup&quot;)\n    private Collection&lt;ServiceEntity&gt; services;\n//setters-getters ommited\n}\n\n@Entity\n@Table(name = &quot;services&quot;)\npublic class ServiceEntity {\n    @Id\n    @SequenceGenerator(name=&quot;service_gen&quot;, sequenceName=&quot;services_id_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator=&quot;service_gen&quot;)\n    private Integer id;\n    @Column(nullable = false, length = 100)\n    private String name;\n\n    @Column(name = &quot;registry_group_id&quot;, insertable = false, updatable = false)\n    private Integer registryGroupId;\n\n}\n</code></pre>\n"},{"tags":["java","android","json","api","parsing"],"comments":[{"owner":{"account_id":258291,"reputation":773,"user_id":540370,"display_name":"gianpaolo"},"score":0,"creation_date":1681458363,"post_id":76009206,"comment_id":134062547,"body_markdown":"hello and welcome on stackoverflow. I think you forgot the code part.","body":"hello and welcome on stackoverflow. I think you forgot the code part."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681458383,"post_id":76009206,"comment_id":134062554,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28297778,"reputation":1,"user_id":21636959,"display_name":"Arfa Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681414462,"creation_date":1681414462,"question_id":76009206,"body_markdown":"I am making a project which will get users current location when app is launched using FusedLocationProviderClient and then retrieve the weather for current location using weather API and display it in dummy text. Below is the code I provided. Its running the catch block of GetWeather method. which shows toast &quot;error parsing JSON&quot;. Ignore the setlocation method as I only created it to assure that if its getting access to my current location and display the latitude and longitude in text view. I also have assured the API key and URL and location all are correct. I also ACCESS_COARSE_LOCATION,ACCESS_FINE_LOCATION,ACCESS_BACKGROUND_LOCATION,INTERNET permissions in manifest. Volley, glide and google play services location dependencies .\r\nPlease help me configure out where the problem is.\r\nThankyou in Advance","title":"Error parsing JSON using weather API in android","body":"<p>I am making a project which will get users current location when app is launched using FusedLocationProviderClient and then retrieve the weather for current location using weather API and display it in dummy text. Below is the code I provided. Its running the catch block of GetWeather method. which shows toast &quot;error parsing JSON&quot;. Ignore the setlocation method as I only created it to assure that if its getting access to my current location and display the latitude and longitude in text view. I also have assured the API key and URL and location all are correct. I also ACCESS_COARSE_LOCATION,ACCESS_FINE_LOCATION,ACCESS_BACKGROUND_LOCATION,INTERNET permissions in manifest. Volley, glide and google play services location dependencies .\nPlease help me configure out where the problem is.\nThankyou in Advance</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":7510409,"reputation":1883,"user_id":5705554,"display_name":"Marcus Hellberg"},"score":0,"creation_date":1681415707,"post_id":76009167,"comment_id":134057053,"body_markdown":"Try removing the line-awesome import in theme/styles.css - that should resolve it.","body":"Try removing the line-awesome import in theme/styles.css - that should resolve it."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":1,"creation_date":1681431039,"post_id":76009167,"comment_id":134059360,"body_markdown":"Interesting. Looking at my git history it looks like it was generated by Vaadin at some point. I assume then that it&#39;s no longer needed. In any case thank you, that did the trick.","body":"Interesting. Looking at my git history it looks like it was generated by Vaadin at some point. I assume then that it&#39;s no longer needed. In any case thank you, that did the trick."},{"owner":{"account_id":7510409,"reputation":1883,"user_id":5705554,"display_name":"Marcus Hellberg"},"score":2,"creation_date":1681490600,"post_id":76009167,"comment_id":134070405,"body_markdown":"It was included in projects generated from start.vaadin.com. Because it wasn&#39;t a framework feature, it didn&#39;t get mentioned in release/upgrade notes. This is of course not an ideal situation because it leads to people&#39;s projects breaking without clear instructions on how to fix them. Something we need to improve going forward.","body":"It was included in projects generated from start.vaadin.com. Because it wasn&#39;t a framework feature, it didn&#39;t get mentioned in release/upgrade notes. This is of course not an ideal situation because it leads to people&#39;s projects breaking without clear instructions on how to fix them. Something we need to improve going forward."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":0,"creation_date":1681491829,"post_id":76009167,"comment_id":134070667,"body_markdown":"Ah. That makes a lot of sense. Thank you again for the help, it&#39;s much appreciated.","body":"Ah. That makes a lot of sense. Thank you again for the help, it&#39;s much appreciated."}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681414140,"creation_date":1681414140,"question_id":76009167,"body_markdown":"I&#39;ve tried all the additional steps such as running `mvn clean install`, `npm install`, and so on, as well we deleting the `node_modules` folder. Even invalidating Intellij&#39;s cache. Nothing seems to help.\r\n\r\nThat being said I did notice when downloading the sample project that there is the new dependency below. Not sure why it&#39;s not automatically included as a dependency of Vaadin but nonetheless I&#39;ve added it and the line-awesome.min.css file is in the included jar when inspecting the jar in Intellij. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.parttio&lt;/groupId&gt;\r\n        &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHowever when I try to run the server on every page load I get:\r\n\r\n    java.lang.IllegalStateException: Asset &#39;/line-awesome/dist/line-awesome/css/line-awesome.min.css&#39; is not found in project frontend directory, default development bundle or in the application bundle &#39;src/main/dev-bundle/assets/&#39;. \r\n    Verify that the asset is available in &#39;frontend/themes/myApplicationName/&#39; directory and is added into the &#39;assets&#39; block of the &#39;theme.json&#39; file.\r\n\r\nI looked in the sample todo project by Vaadin and I can&#39;t find any differences in my project. The `theme.json`, etc. are all the same. My project does have a `dev-bundle` folder that&#39;s generated but otherwise everything looks identical.\r\n\r\nI&#39;m using Vaadin 24.0.4 and it started to happen during an upgrade of Vaadin. I&#39;m using Java 20 but compiling to 17 because the todo project also uses 17 (because it&#39;s an LTS release I assume). \r\n\r\nAny help would be appreciated.\r\n\r\n","title":"Getting IllegalStateException for line-awesome.min.css with a Vaadin upgrade","body":"<p>I've tried all the additional steps such as running <code>mvn clean install</code>, <code>npm install</code>, and so on, as well we deleting the <code>node_modules</code> folder. Even invalidating Intellij's cache. Nothing seems to help.</p>\n<p>That being said I did notice when downloading the sample project that there is the new dependency below. Not sure why it's not automatically included as a dependency of Vaadin but nonetheless I've added it and the line-awesome.min.css file is in the included jar when inspecting the jar in Intellij.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.parttio&lt;/groupId&gt;\n    &lt;artifactId&gt;line-awesome&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However when I try to run the server on every page load I get:</p>\n<pre><code>java.lang.IllegalStateException: Asset '/line-awesome/dist/line-awesome/css/line-awesome.min.css' is not found in project frontend directory, default development bundle or in the application bundle 'src/main/dev-bundle/assets/'. \nVerify that the asset is available in 'frontend/themes/myApplicationName/' directory and is added into the 'assets' block of the 'theme.json' file.\n</code></pre>\n<p>I looked in the sample todo project by Vaadin and I can't find any differences in my project. The <code>theme.json</code>, etc. are all the same. My project does have a <code>dev-bundle</code> folder that's generated but otherwise everything looks identical.</p>\n<p>I'm using Vaadin 24.0.4 and it started to happen during an upgrade of Vaadin. I'm using Java 20 but compiling to 17 because the todo project also uses 17 (because it's an LTS release I assume).</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","sonarqube","code-analysis","quality-gate"],"comments":[{"owner":{"account_id":3597514,"reputation":117145,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1681406653,"post_id":76008214,"comment_id":134055050,"body_markdown":"Please take the [tour] and read [ask].","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1681411804,"post_id":76008214,"comment_id":134056213,"body_markdown":"Your code does not even compile. Did you print it, scan it, and send it through an ocr program? Your spaces are off in many cases, where `! =` should probably be `!=`. Indentation would also help.","body":"Your code does not even compile. Did you print it, scan it, and send it through an ocr program? Your spaces are off in many cases, where <code>! =</code> should probably be <code>!=</code>. Indentation would also help."}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681413382,"creation_date":1681413382,"answer_id":76009071,"question_id":76008214,"body_markdown":"You&#39;re supposed to reduce complexity by organizing the method into multiple functions. This ensures that you don&#39;t have a huge number of nested IFs and things like that which makes the code harder to read.","title":"Sonarqube Refactor the below code to reduce its cognitive complexity. Complexity is 33, we should reduce to 15","body":"<p>You're supposed to reduce complexity by organizing the method into multiple functions. This ensures that you don't have a huge number of nested IFs and things like that which makes the code harder to read.</p>\n"}],"owner":{"account_id":28249545,"reputation":1,"user_id":21596017,"display_name":"A R"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1005,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1681421467,"answer_count":1,"score":-3,"last_activity_date":1681413382,"creation_date":1681406417,"question_id":76008214,"body_markdown":"As the below code is having nested if conditions, sonarcube complexity is increasing. \r\n\r\n\r\nNeed to reduce the cognitive complexity from 33 to 15 allowed.\r\n\r\nI have tried placing only one try block and one catch block but I didn&#39;t work as much as I expected.\r\n\r\n\r\n    public void retryDrools() throws InterruptedException {\r\n    \r\n        String methodName = Thread.currentThread().getStackTrace()[1].getMethodName();\r\n    \r\n        List&lt;JeopardyRepositoryRequest&gt; fetchedJeopardies = null;\r\n    \r\n        JepMessage jepMessage = null;\r\n    \r\n        JeopardyRepositoryRequest newjepRequest = null;\r\n    \r\n        String succesgStatus = null;\r\n    \r\n        String failureMessage = null;\r\n    \r\n        Date now = new Date();\r\n    \r\n        String time = new SimpleDateFormat(&quot;yyyy-,vldd&#39;T&#39;HH:mm:ss.SSS&quot;, Locale.ENGLISH).format(now);\r\n    \r\n        Loggingutil.Loginfo(className.rmethodName, &quot;Cron Job retryDrools started at &quot; + time);\r\n    \r\n        try {\r\n    \r\n            fetchedJeopardies = jeopardyService.getJeopardyByIsDroolsCaliSuccessAndJeopardyStatus(STATUS_OPEN, NO);\r\n    \r\n        } catch (JeapardyException e) {\r\n    \r\n            LoggingUtil.LogError(className.rmethodName, &quot;Error Occured while fetching jep by isDroolsCaliSuccessAndJeopardyStatus&#39;&quot;);\r\n    \r\n        }\r\n    \r\n        for (JeopardyRepositoryRequest retryJepforDroolsCall : fetchedJeopardies) {\r\n    \r\n            try {\r\n    \r\n                LiSt&lt;CustomerOrder&gt; customerOrderList = jeopardyService.getCustomerOrdersByBanOrCustonerOrderNumber(retryJepforDroolsCall.getBan(), retryJepforDroolsCall.getCustomerOrderNumber());\r\n    \r\n                if (!isEmptyOrNuLL(retryJepforDroolsCaIl.getSfdcAccountId()) &amp;&amp; !retryJepforDroolsCall.getSfdcAccountId().equalsIgnoreCase(&quot;dummy&quot;)) {\r\n    \r\n                    string customerType = jeopardyService.checkIfConsumerTypeIsSMBPots(customerOrderList) ? BUSINESS : INDIVIDUAL;\r\n    \r\n                    jepMessage = jeopardyService.checkForSFCCase(retryJepforDroolsCall, customerOrderList, customerType);\r\n    \r\n                    LoggingUtil.Loginfo(className.rmethodName, &quot;Response from checkForSFCCase &quot; + jepMessage);\r\n    \r\n                }\r\n    \r\n                if (jepMessage.getAdditionalAttributeList() != null &amp;&amp; jepMessage.getAdditionalAttributeList().size() &gt; 0) {\r\n    \r\n                    AdditionalAttributeList droolsCaliSuccessAttribute = jepMessage.getAdditionalAttributeList().stream.filter(retryJepAttribList -&gt; new String(&quot;droolscallSuccess&quot;).equalsIgnoreCase(retryJepAttribList.getAttributeName())).findFirst().orEise(null);\r\n    \r\n                    AdditionalAttributeList droolsCaliFailureMessageAttribute = jepMessage.getAdditionalAttributeList().stream().filter(retryJepAttribList -&gt; new String(&quot;droolsFailure&quot;).equalsIgnoreCase(retryJepAttribList.getAttributeName())).findFirst().orEise(null);\r\n    \r\n                    if (droolsCaliFailureMessageAttribute != null) {\r\n    \r\n                        failureMassage = droolsCaliFailureMessageAttribute.getAttributeValue();\r\n    \r\n                    }\r\n    \r\n                    if (droolsCaliSuccessAttributel: null) {\r\n    \r\n                        successStatus = droolsCaIISuccessAttribute.getAttributeValue();\r\n    \r\n                    }\r\n    \r\n                    retryJepforDroolsCall.setAdditionalAttributeList(jepMessage.getAdditionalAttributeList());\r\n    \r\n                    LoggingUtil.Loginfo(className.rmethodName, &quot;Setting droolsCaliSuccessAttribute in JeopardyRepositoryReqr&quot; + droolsCaIISuccessAttribute + droolsCaliFailureMessageAttribute);\r\n    \r\n                    if (jepMessage != null) {\r\n    \r\n                        String sfdcCaseApplicable = (jepMessage.getIsSfdcCaseApplicable() == true) ? YES : NO;\r\n    \r\n                        retryJepforDroolsCall.setSfdcCaseApplicable(sfdcCaseApplicable);\r\n    \r\n                    }\r\n    \r\n                    if (!isEmptyOrNull(successStatus) &amp;&amp; YES.equalsIgnoreCase(successStatus)) &amp;&amp; jepMessage != null &amp;&amp; jepMessage.getIsSfdcCaseApplicable()) {\r\n    \r\n                    newjepRequest=sfdcCaseCreationAdapter.createOrUpdateCaseinSFDC(retryJepforDroolsCall, jepMessage, &quot;create&quot;) ;\r\n                    \r\n                    if(newjepRequest! =null&amp;&amp; newjepRequest.getSfdCaseId()! =null &amp;&amp; newjepRequest.getSfdcCaseNumber! =null) {\r\n                    \r\n                    retryJepforDroolsCall. setSfdcCaseId(newjepRequest.getSfdCaseId()) ;\r\n                    \r\n                    retryJepforDroolsCall. setSfdcCaseNumber(newjepRequest.getSfdCaseNumber()) ;\r\n                    \r\n                    retryJepforDroolsCall. setSfdcCaseCreationStatus(SUCCESS) ;}\r\n                    \r\n                    else if(newjepRequest! =null&amp;&amp; newjepRequest.getSfdCaseError()! =null) \r\n                    \r\n                    {\r\n                    \r\n                    retryJepforDroolsCall. setSfdcCaseError(newjepRequest.getSfdCaseError()) ;\r\n                    \r\n                    retryJepforDroolsCall. setSfdcCaseCreationStatus(FAILURE) ;}\r\n                    \r\n                    }\r\n                    \r\n                    genericWrapper.updateJeopardyById(retryJepforDroolsCall) ;\r\n                    \r\n                    LoggingUtil.LogInfo(className.l, methodName, &quot;saving jeopardy&quot;);\r\n                \r\n                } catch (Exception e) {\r\n                    \r\n                    LoggingUtil.LogInfo(className.l, methodName, &quot; Error occurred &quot;+ failureMessage+e.getMessage()) ;\r\n                }\r\n            \r\n            }\r\n        \r\n        }","title":"Sonarqube Refactor the below code to reduce its cognitive complexity. Complexity is 33, we should reduce to 15","body":"<p>As the below code is having nested if conditions, sonarcube complexity is increasing.</p>\n<p>Need to reduce the cognitive complexity from 33 to 15 allowed.</p>\n<p>I have tried placing only one try block and one catch block but I didn't work as much as I expected.</p>\n<pre><code>public void retryDrools() throws InterruptedException {\n\n    String methodName = Thread.currentThread().getStackTrace()[1].getMethodName();\n\n    List&lt;JeopardyRepositoryRequest&gt; fetchedJeopardies = null;\n\n    JepMessage jepMessage = null;\n\n    JeopardyRepositoryRequest newjepRequest = null;\n\n    String succesgStatus = null;\n\n    String failureMessage = null;\n\n    Date now = new Date();\n\n    String time = new SimpleDateFormat(&quot;yyyy-,vldd'T'HH:mm:ss.SSS&quot;, Locale.ENGLISH).format(now);\n\n    Loggingutil.Loginfo(className.rmethodName, &quot;Cron Job retryDrools started at &quot; + time);\n\n    try {\n\n        fetchedJeopardies = jeopardyService.getJeopardyByIsDroolsCaliSuccessAndJeopardyStatus(STATUS_OPEN, NO);\n\n    } catch (JeapardyException e) {\n\n        LoggingUtil.LogError(className.rmethodName, &quot;Error Occured while fetching jep by isDroolsCaliSuccessAndJeopardyStatus'&quot;);\n\n    }\n\n    for (JeopardyRepositoryRequest retryJepforDroolsCall : fetchedJeopardies) {\n\n        try {\n\n            LiSt&lt;CustomerOrder&gt; customerOrderList = jeopardyService.getCustomerOrdersByBanOrCustonerOrderNumber(retryJepforDroolsCall.getBan(), retryJepforDroolsCall.getCustomerOrderNumber());\n\n            if (!isEmptyOrNuLL(retryJepforDroolsCaIl.getSfdcAccountId()) &amp;&amp; !retryJepforDroolsCall.getSfdcAccountId().equalsIgnoreCase(&quot;dummy&quot;)) {\n\n                string customerType = jeopardyService.checkIfConsumerTypeIsSMBPots(customerOrderList) ? BUSINESS : INDIVIDUAL;\n\n                jepMessage = jeopardyService.checkForSFCCase(retryJepforDroolsCall, customerOrderList, customerType);\n\n                LoggingUtil.Loginfo(className.rmethodName, &quot;Response from checkForSFCCase &quot; + jepMessage);\n\n            }\n\n            if (jepMessage.getAdditionalAttributeList() != null &amp;&amp; jepMessage.getAdditionalAttributeList().size() &gt; 0) {\n\n                AdditionalAttributeList droolsCaliSuccessAttribute = jepMessage.getAdditionalAttributeList().stream.filter(retryJepAttribList -&gt; new String(&quot;droolscallSuccess&quot;).equalsIgnoreCase(retryJepAttribList.getAttributeName())).findFirst().orEise(null);\n\n                AdditionalAttributeList droolsCaliFailureMessageAttribute = jepMessage.getAdditionalAttributeList().stream().filter(retryJepAttribList -&gt; new String(&quot;droolsFailure&quot;).equalsIgnoreCase(retryJepAttribList.getAttributeName())).findFirst().orEise(null);\n\n                if (droolsCaliFailureMessageAttribute != null) {\n\n                    failureMassage = droolsCaliFailureMessageAttribute.getAttributeValue();\n\n                }\n\n                if (droolsCaliSuccessAttributel: null) {\n\n                    successStatus = droolsCaIISuccessAttribute.getAttributeValue();\n\n                }\n\n                retryJepforDroolsCall.setAdditionalAttributeList(jepMessage.getAdditionalAttributeList());\n\n                LoggingUtil.Loginfo(className.rmethodName, &quot;Setting droolsCaliSuccessAttribute in JeopardyRepositoryReqr&quot; + droolsCaIISuccessAttribute + droolsCaliFailureMessageAttribute);\n\n                if (jepMessage != null) {\n\n                    String sfdcCaseApplicable = (jepMessage.getIsSfdcCaseApplicable() == true) ? YES : NO;\n\n                    retryJepforDroolsCall.setSfdcCaseApplicable(sfdcCaseApplicable);\n\n                }\n\n                if (!isEmptyOrNull(successStatus) &amp;&amp; YES.equalsIgnoreCase(successStatus)) &amp;&amp; jepMessage != null &amp;&amp; jepMessage.getIsSfdcCaseApplicable()) {\n\n                newjepRequest=sfdcCaseCreationAdapter.createOrUpdateCaseinSFDC(retryJepforDroolsCall, jepMessage, &quot;create&quot;) ;\n                \n                if(newjepRequest! =null&amp;&amp; newjepRequest.getSfdCaseId()! =null &amp;&amp; newjepRequest.getSfdcCaseNumber! =null) {\n                \n                retryJepforDroolsCall. setSfdcCaseId(newjepRequest.getSfdCaseId()) ;\n                \n                retryJepforDroolsCall. setSfdcCaseNumber(newjepRequest.getSfdCaseNumber()) ;\n                \n                retryJepforDroolsCall. setSfdcCaseCreationStatus(SUCCESS) ;}\n                \n                else if(newjepRequest! =null&amp;&amp; newjepRequest.getSfdCaseError()! =null) \n                \n                {\n                \n                retryJepforDroolsCall. setSfdcCaseError(newjepRequest.getSfdCaseError()) ;\n                \n                retryJepforDroolsCall. setSfdcCaseCreationStatus(FAILURE) ;}\n                \n                }\n                \n                genericWrapper.updateJeopardyById(retryJepforDroolsCall) ;\n                \n                LoggingUtil.LogInfo(className.l, methodName, &quot;saving jeopardy&quot;);\n            \n            } catch (Exception e) {\n                \n                LoggingUtil.LogInfo(className.l, methodName, &quot; Error occurred &quot;+ failureMessage+e.getMessage()) ;\n            }\n        \n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681414051,"post_id":76009029,"comment_id":134056734,"body_markdown":"Hello, you are doing really good! Just go ahead, define the entity class for Post and join both together with a relationship. OneToMany relationship between Musician an Post would be the best choice. Because one Musician can post more then once. Next step after that would be to add some endpoints (REST controller methods) for adding and deleting posts.","body":"Hello, you are doing really good! Just go ahead, define the entity class for Post and join both together with a relationship. OneToMany relationship between Musician an Post would be the best choice. Because one Musician can post more then once. Next step after that would be to add some endpoints (REST controller methods) for adding and deleting posts."},{"owner":{"account_id":21535924,"reputation":11,"user_id":15874477,"display_name":"ChrisArtrip921"},"score":0,"creation_date":1681415297,"post_id":76009029,"comment_id":134056976,"body_markdown":"Thanks so much for the reply! If you don&#39;t mind I may have some more questions related to your response.\nI have set up the Posts entity (I renamed all classes containing Post to Posts after realizing that Post wouldn&#39;t really make much sense lol) and it contains only an Id, String text, and String title as of right now. Is it necessary to make an instance of Musician within the entity?","body":"Thanks so much for the reply! If you don&#39;t mind I may have some more questions related to your response. I have set up the Posts entity (I renamed all classes containing Post to Posts after realizing that Post wouldn&#39;t really make much sense lol) and it contains only an Id, String text, and String title as of right now. Is it necessary to make an instance of Musician within the entity?"}],"owner":{"account_id":21535924,"reputation":11,"user_id":15874477,"display_name":"ChrisArtrip921"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681413056,"creation_date":1681413056,"question_id":76009029,"body_markdown":"I may have worded the title a bit weird, I am sorry for that. \r\nI am working on a web app that is comparable to LinkedIn for my portfolio, while using unfamiliar tech stack. The tech stack i am using for the backed is Java Spring boot and mysql.\r\n\r\nEssentially I am trying to make a system where a User can make a post, similar to LinkedIn:\r\n[LinkedIn example](https://i.stack.imgur.com/TTQAc.png)\r\n\r\nAs of right now I have only made my User class and set up my database so that new users get stored in the database. I am assuming I have to do something almost exactly the same but I also know that the &quot;post-like&quot; system needs to be linked with a User. I am a bit unsure of how i can implement it. \r\nListed below I have the necessary code and file names. Also as a heads up, the User is named as Musician due to the nature of the project. I would appreciate any help I can get and if anything is unclear I can fix or revise! Thanks a bunch in advance.\r\n\r\nMusicianController.java\r\n```\r\npackage com.chrisandjeffproject.pluggedinbackend.controllers;\r\n\r\nimport com.chrisandjeffproject.pluggedinbackend.models.Musician;\r\nimport com.chrisandjeffproject.pluggedinbackend.repository.MusicianRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\npublic class MusicianController {\r\n\r\n    @Autowired\r\n    private MusicianRepository musicianRepository;\r\n\r\n    //Post request to save the newly made musician in repo\r\n    @PostMapping(&quot;/musician&quot;)\r\n    Musician newMusician(@RequestBody Musician newMusician) { return musicianRepository.save(newMusician); }\r\n\r\n    //Deleting a musician from DB\r\n    @DeleteMapping(&quot;/musician/{id}&quot;)\r\n    String deleteMusician(@PathVariable Long id) {\r\n        if(!musicianRepository.existsById(id)){\r\n            System.out.println(&quot;User with id: &quot; + id + &quot; was not found&quot;);\r\n        }\r\n\r\n        musicianRepository.deleteById(id);\r\n        return &quot;User with id: &quot; + id + &quot; has been succesfully deleted&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nMusicianrepository.java\r\n```\r\npackage com.chrisandjeffproject.pluggedinbackend.repository;\r\n\r\nimport com.chrisandjeffproject.pluggedinbackend.models.Musician;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface MusicianRepository extends JpaRepository&lt;Musician, Long&gt; {\r\n}\r\n```\r\n\r\n\r\nMusician.java\r\n```\r\npackage com.chrisandjeffproject.pluggedinbackend.models;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Musician {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n    private String username;\r\n    private String name;\r\n    private String email;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI haven&#39;t tried too much but I did create a PostController class and a PostRepository interface, similar to the Musicians. I believe my problem lies heavily within the Post.java class that will eventually need to be made (i think). ","title":"Social Media web app. Trying to make a &quot;post&quot; system","body":"<p>I may have worded the title a bit weird, I am sorry for that.\nI am working on a web app that is comparable to LinkedIn for my portfolio, while using unfamiliar tech stack. The tech stack i am using for the backed is Java Spring boot and mysql.</p>\n<p>Essentially I am trying to make a system where a User can make a post, similar to LinkedIn:\n<a href=\"https://i.stack.imgur.com/TTQAc.png\" rel=\"nofollow noreferrer\">LinkedIn example</a></p>\n<p>As of right now I have only made my User class and set up my database so that new users get stored in the database. I am assuming I have to do something almost exactly the same but I also know that the &quot;post-like&quot; system needs to be linked with a User. I am a bit unsure of how i can implement it.\nListed below I have the necessary code and file names. Also as a heads up, the User is named as Musician due to the nature of the project. I would appreciate any help I can get and if anything is unclear I can fix or revise! Thanks a bunch in advance.</p>\n<p>MusicianController.java</p>\n<pre><code>package com.chrisandjeffproject.pluggedinbackend.controllers;\n\nimport com.chrisandjeffproject.pluggedinbackend.models.Musician;\nimport com.chrisandjeffproject.pluggedinbackend.repository.MusicianRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class MusicianController {\n\n    @Autowired\n    private MusicianRepository musicianRepository;\n\n    //Post request to save the newly made musician in repo\n    @PostMapping(&quot;/musician&quot;)\n    Musician newMusician(@RequestBody Musician newMusician) { return musicianRepository.save(newMusician); }\n\n    //Deleting a musician from DB\n    @DeleteMapping(&quot;/musician/{id}&quot;)\n    String deleteMusician(@PathVariable Long id) {\n        if(!musicianRepository.existsById(id)){\n            System.out.println(&quot;User with id: &quot; + id + &quot; was not found&quot;);\n        }\n\n        musicianRepository.deleteById(id);\n        return &quot;User with id: &quot; + id + &quot; has been succesfully deleted&quot;;\n    }\n\n}\n</code></pre>\n<p>Musicianrepository.java</p>\n<pre><code>package com.chrisandjeffproject.pluggedinbackend.repository;\n\nimport com.chrisandjeffproject.pluggedinbackend.models.Musician;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface MusicianRepository extends JpaRepository&lt;Musician, Long&gt; {\n}\n</code></pre>\n<p>Musician.java</p>\n<pre><code>package com.chrisandjeffproject.pluggedinbackend.models;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\npublic class Musician {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String username;\n    private String name;\n    private String email;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n\n</code></pre>\n<p>I haven't tried too much but I did create a PostController class and a PostRepository interface, similar to the Musicians. I believe my problem lies heavily within the Post.java class that will eventually need to be made (i think).</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":2,"creation_date":1681391408,"post_id":76005817,"comment_id":134051044,"body_markdown":"`n` never changes. Remove the `i`, loop until `n` is `&lt;= 0`.","body":"<code>n</code> never changes. Remove the <code>i</code>, loop until <code>n</code> is <code>&lt;= 0</code>."},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":2,"creation_date":1681391422,"post_id":76005817,"comment_id":134051047,"body_markdown":"`s += anything` is the same as `s = s + anything`. So `s += n - 1` is the same as `s = s + (n - 1)`.","body":"<code>s += anything</code> is the same as <code>s = s + anything</code>. So <code>s += n - 1</code> is the same as <code>s = s + (n - 1)</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681391440,"post_id":76005817,"comment_id":134051051,"body_markdown":"Why subtract `1` from n everytime? Where are you ever getting `(n-2)`? What is `num`?","body":"Why subtract <code>1</code> from n everytime? Where are you ever getting <code>(n-2)</code>? What is <code>num</code>?"},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1681391452,"post_id":76005817,"comment_id":134051054,"body_markdown":"You say you tried it with recursion, but the code example you posted really doesn&#39;t use recursion","body":"You say you tried it with recursion, but the code example you posted really doesn&#39;t use recursion"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1681391517,"post_id":76005817,"comment_id":134051078,"body_markdown":"Start with n and loop till it gets to 1. `for (int i = n; i &gt; 0; i--) { s += i; }`","body":"Start with n and loop till it gets to 1. <code>for (int i = n; i &gt; 0; i--) { s += i; }</code>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1681392120,"post_id":76005817,"comment_id":134051245,"body_markdown":"`int s = (n*(n+1))/2;` math (Gauss).","body":"<code>int s = (n*(n+1))&#47;2;</code> math (Gauss)."},{"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"score":0,"creation_date":1681392603,"post_id":76005817,"comment_id":134051376,"body_markdown":"is the for loop in your question your actual code ? because in the *for* you use ```num``` and ```n``` one line below, so it would not even compile.","body":"is the for loop in your question your actual code ? because in the <i>for</i> you use <code>num</code> and <code>n</code> one line below, so it would not even compile."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1681393543,"post_id":76005817,"comment_id":134051601,"body_markdown":"*&quot;s is some kind of sum variable&quot;*: what do you mean with &quot;some kind&quot;? Can&#39;t you just define it in code unambiguously? What is `num`? What is `n`?","body":"<i>&quot;s is some kind of sum variable&quot;</i>: what do you mean with &quot;some kind&quot;? Can&#39;t you just define it in code unambiguously? What is <code>num</code>? What is <code>n</code>?"}],"answers":[{"tags":[],"owner":{"account_id":16944613,"reputation":418,"user_id":12255620,"display_name":"MBobrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681392960,"creation_date":1681392960,"answer_id":76006097,"question_id":76005817,"body_markdown":"looking at your code, you are not even adding the right thing to the ```s```\r\n\r\n - you add ```n-1``` but that doesn&#39;t even contain your iteration variable ```i``` and also, you are iterating to ```num```, not &#39;n&#39; - you should be adding ```num-i```\r\n - also, check what your ```s``` initially is, if you got ```int s = num;``` somewhere above, it&#39;s ok. But, if you got ```int s = 0;```, you will have to either change it to ```num``` or start at ```i = 0``` instead\r\n","title":"Confusion with Algorithm for n + (n-1) + (n-2)","body":"<p>looking at your code, you are not even adding the right thing to the <code>s</code></p>\n<ul>\n<li>you add <code>n-1</code> but that doesn't even contain your iteration variable <code>i</code> and also, you are iterating to <code>num</code>, not 'n' - you should be adding <code>num-i</code></li>\n<li>also, check what your <code>s</code> initially is, if you got <code>int s = num;</code> somewhere above, it's ok. But, if you got <code>int s = 0;</code>, you will have to either change it to <code>num</code> or start at <code>i = 0</code> instead</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681393550,"creation_date":1681393213,"answer_id":76006140,"question_id":76005817,"body_markdown":"To do *exactly* as you described, you can do it like this.\r\n```\r\nint sum = 0;\r\nint n = 100;\r\nfor (int i = 0; i &lt; n; i++) {\r\n   sum += n-i; // first n, then n-1, then n-2, ...\r\n}\r\n```\r\nBut that is the same as the following, only in reversed order.\r\n```\r\nfor (int i = 1; i &lt;= n; i++) {\r\n   sum += i;\r\n}\r\n```\r\nand as stated in the comments, the arithmetic series sum where the difference between adjacent values is 1,  for any value n, is\r\n```\r\nsum = (n*(n+1))/2;\r\n```\r\nAll the above yield the same result.","title":"Confusion with Algorithm for n + (n-1) + (n-2)","body":"<p>To do <em>exactly</em> as you described, you can do it like this.</p>\n<pre><code>int sum = 0;\nint n = 100;\nfor (int i = 0; i &lt; n; i++) {\n   sum += n-i; // first n, then n-1, then n-2, ...\n}\n</code></pre>\n<p>But that is the same as the following, only in reversed order.</p>\n<pre><code>for (int i = 1; i &lt;= n; i++) {\n   sum += i;\n}\n</code></pre>\n<p>and as stated in the comments, the arithmetic series sum where the difference between adjacent values is 1,  for any value n, is</p>\n<pre><code>sum = (n*(n+1))/2;\n</code></pre>\n<p>All the above yield the same result.</p>\n"},{"tags":[],"owner":{"account_id":2684795,"reputation":182440,"user_id":2319407,"display_name":"Dmitry Bychenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681411549,"creation_date":1681411549,"answer_id":76008847,"question_id":76005817,"body_markdown":"Let&#39;s do it exactly as it&#39;s stated: we should loop over `n, n - 1, n - 2, ..., 3, 2, 1`, so we\r\n\r\n- start looping from `n`: `int i = n`\r\n- loop up and including `1`: `i &gt;= 1`\r\n- decrement loop valitable (let it be `i`) by `1`: `--i` \r\n\r\nWe are ready to write `for` loop caption:\r\n\r\n```\r\nfor (int i = n; i &gt;= 1; --i)\r\n```\r\n\r\nAnd the code can be\r\n\r\n```\r\nint n = 100;\r\n\r\nint s = 0;\r\n\r\nfor (int i = n; i &gt;= 1; --i)\r\n    s = sum + i; \r\n```\r\n\r\nIf we want to wrap it into method:\r\n\r\n```\r\nstatic int MySum(int n) {\r\n  int s = 0;\r\n\r\n  for (int i = n; i &gt;= 1; --i)\r\n    s = sum + i; \r\n\r\n  return s;\r\n}\r\n```","title":"Confusion with Algorithm for n + (n-1) + (n-2)","body":"<p>Let's do it exactly as it's stated: we should loop over <code>n, n - 1, n - 2, ..., 3, 2, 1</code>, so we</p>\n<ul>\n<li>start looping from <code>n</code>: <code>int i = n</code></li>\n<li>loop up and including <code>1</code>: <code>i &gt;= 1</code></li>\n<li>decrement loop valitable (let it be <code>i</code>) by <code>1</code>: <code>--i</code></li>\n</ul>\n<p>We are ready to write <code>for</code> loop caption:</p>\n<pre><code>for (int i = n; i &gt;= 1; --i)\n</code></pre>\n<p>And the code can be</p>\n<pre><code>int n = 100;\n\nint s = 0;\n\nfor (int i = n; i &gt;= 1; --i)\n    s = sum + i; \n</code></pre>\n<p>If we want to wrap it into method:</p>\n<pre><code>static int MySum(int n) {\n  int s = 0;\n\n  for (int i = n; i &gt;= 1; --i)\n    s = sum + i; \n\n  return s;\n}\n</code></pre>\n"}],"owner":{"account_id":28294965,"reputation":11,"user_id":21634551,"display_name":"Upcoming_mathy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1681411549,"creation_date":1681391277,"question_id":76005817,"body_markdown":"I am trying to expand this answer in iteration after using recursion but i am getting the wrong answer for certain variables.\r\n\r\nthe question was to write a code for n + (n-1) + (n-2)... till it gets to 3 + 2 + 1\r\n\r\ni did it with recursion and it works great but the iteration is the one giving me problem.\r\n\r\n\r\n\r\n\r\n\r\nthis is what i tried in java.\r\n\r\n```\r\nfor (int i =1; i &lt;num; i ++) {\r\n  s += n -1;\r\n  }\r\n  return s;\r\n```\r\n\r\n\r\n  \r\n\r\nwhere n is the user inputed varibale, and s is some kind of sum variable.\r\nAlso please can you explain what the s+=n -1 means?\r\n\r\n i am finding it hard to place it right now. Please and Thank you!\r\n\r\nAlso i tried to put it &lt;= num\r\nand return s-1; but it did not work either\r\n\r\n\r\n\r\n","title":"Confusion with Algorithm for n + (n-1) + (n-2)","body":"<p>I am trying to expand this answer in iteration after using recursion but i am getting the wrong answer for certain variables.</p>\n<p>the question was to write a code for n + (n-1) + (n-2)... till it gets to 3 + 2 + 1</p>\n<p>i did it with recursion and it works great but the iteration is the one giving me problem.</p>\n<p>this is what i tried in java.</p>\n<pre><code>for (int i =1; i &lt;num; i ++) {\n  s += n -1;\n  }\n  return s;\n</code></pre>\n<p>where n is the user inputed varibale, and s is some kind of sum variable.\nAlso please can you explain what the s+=n -1 means?</p>\n<p>i am finding it hard to place it right now. Please and Thank you!</p>\n<p>Also i tried to put it &lt;= num\nand return s-1; but it did not work either</p>\n"},{"tags":["java","maven","executable-jar","jlink"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1664047087,"post_id":73839878,"comment_id":130383781,"body_markdown":"You have an JRE ... as you already mentioned your app is not modular so you can&#39;t use jlink to create a custom JRE...","body":"You have an JRE ... as you already mentioned your app is not modular so you can&#39;t use jlink to create a custom JRE..."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1664047521,"post_id":73839878,"comment_id":130383847,"body_markdown":"@khmarbaise so I have to use JDK instead of JRE, which weighs 326mb? I can&#39;t find JRE 18.0.1","body":"@khmarbaise so I have to use JDK instead of JRE, which weighs 326mb? I can&#39;t find JRE 18.0.1"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1664048043,"post_id":73839878,"comment_id":130383933,"body_markdown":"You can try this: https://javaalmanac.io/ there are links to JRE&#39;s.. but reconsider upgrading to JDK19 because sind 20.09 JDK19 is the current release...","body":"You can try this: <a href=\"https://javaalmanac.io/\" rel=\"nofollow noreferrer\">javaalmanac.io</a> there are links to JRE&#39;s.. but reconsider upgrading to JDK19 because sind 20.09 JDK19 is the current release..."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1664048579,"post_id":73839878,"comment_id":130384011,"body_markdown":"@khmarbaise, thanks a lot! I found JRE 80mb there, with which my application started","body":"@khmarbaise, thanks a lot! I found JRE 80mb there, with which my application started"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664052376,"post_id":73839878,"comment_id":130384654,"body_markdown":"Im voting to close this question because it is answered by comments","body":"Im voting to close this question because it is answered by comments"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1664053150,"post_id":73839878,"comment_id":130384806,"body_markdown":"I can&#39;t use jlink as I have a non-modular application.  Why not write a module-info.java, then?  As long as youre not using illicit hacks of Java SE classes, it should work just fine.","body":"I can&#39;t use jlink as I have a non-modular application.  Why not write a module-info.java, then?  As long as youre not using illicit hacks of Java SE classes, it should work just fine."},{"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"score":0,"creation_date":1664053383,"post_id":73839878,"comment_id":130384841,"body_markdown":"@VGR I&#39;ve been trying to make the app modular for over a month, but there have been an endless amount of bugs and incompatibilities since the libraries are big. I would be happy to have everything work by itself with the help of jlink.","body":"@VGR I&#39;ve been trying to make the app modular for over a month, but there have been an endless amount of bugs and incompatibilities since the libraries are big. I would be happy to have everything work by itself with the help of jlink."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1664061288,"post_id":73839878,"comment_id":130385878,"body_markdown":"@VGR using module-info for creating a customized JRE is not enough. That means all of your deps must be modules as well and having jmod files as well. etc.. That&#39;s not the easy..","body":"@VGR using module-info for creating a customized JRE is not enough. That means all of your deps must be modules as well and having jmod files as well. etc.. That&#39;s not the easy.."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1664062859,"post_id":73839878,"comment_id":130386068,"body_markdown":"Perhaps [*jpackage*](https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html) is useful, I don&#39;t know. Console documentation [here](https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html).","body":"Perhaps <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\"><i>jpackage</i></a> is useful, I don&#39;t know. Console documentation <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664061352,"creation_date":1664061352,"answer_id":73841136,"question_id":73839878,"body_markdown":"You can try to this as source:\r\n\r\nhttps://javaalmanac.io/\r\n\r\nwhere you can find links to download only JRE instead of JDK.","title":"How to create JRE to run jar programs?","body":"<p>You can try to this as source:</p>\n<p><a href=\"https://javaalmanac.io/\" rel=\"nofollow noreferrer\">https://javaalmanac.io/</a></p>\n<p>where you can find links to download only JRE instead of JDK.</p>\n"},{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1681411465,"creation_date":1664062616,"answer_id":73841232,"question_id":73839878,"body_markdown":"`jlink` can be used to create a &#39;JRE&#39;/runtime image for non-modular applications just fine. It just can&#39;t automatically derive the modules that should go in the runtime image in that case. They have to be specified manually instead.\r\n\r\nFor instance, if I have a simple `app.jar`:\r\n\r\n    $ java -jar app.jar\r\n    Hello World!\r\n\r\nThen create a runtime image with `jlink`, with only the `java.base` module:\r\n\r\n    jlink --output runtime --add-modules java.base --strip-debug --no-header-files --no-man-pages\r\n\r\nThen I can run the jar with the `java` executable in the runtime image:\r\n\r\n    $ ./runtime/bin/java -jar app.jar\r\n    Hello World!\r\n\r\nAnd the runtime image is just ~35 MB (though this can vary per platform).\r\n\r\n---\r\n\r\n`jdeps` can be used to get an idea of which modules should be used to create the runtime image:\r\n\r\n    $ jdeps --print-module-deps add.jar\r\n    java.base\r\n\r\nThis will print a comma-separated list of modules that can be passed directly as an argument to the `--add-modules` option of `jlink`. (though, service interface implementations have to be handled separately. See e.g.: https://stackoverflow.com/questions/75201154)","title":"How to create JRE to run jar programs?","body":"<p><code>jlink</code> can be used to create a 'JRE'/runtime image for non-modular applications just fine. It just can't automatically derive the modules that should go in the runtime image in that case. They have to be specified manually instead.</p>\n<p>For instance, if I have a simple <code>app.jar</code>:</p>\n<pre><code>$ java -jar app.jar\nHello World!\n</code></pre>\n<p>Then create a runtime image with <code>jlink</code>, with only the <code>java.base</code> module:</p>\n<pre><code>jlink --output runtime --add-modules java.base --strip-debug --no-header-files --no-man-pages\n</code></pre>\n<p>Then I can run the jar with the <code>java</code> executable in the runtime image:</p>\n<pre><code>$ ./runtime/bin/java -jar app.jar\nHello World!\n</code></pre>\n<p>And the runtime image is just ~35 MB (though this can vary per platform).</p>\n<hr />\n<p><code>jdeps</code> can be used to get an idea of which modules should be used to create the runtime image:</p>\n<pre><code>$ jdeps --print-module-deps add.jar\njava.base\n</code></pre>\n<p>This will print a comma-separated list of modules that can be passed directly as an argument to the <code>--add-modules</code> option of <code>jlink</code>. (though, service interface implementations have to be handled separately. See e.g.: <a href=\"https://stackoverflow.com/questions/75201154\">jdeps does not add jdk.random when using RandomGenerator.getDefault()</a>)</p>\n"}],"owner":{"account_id":13462282,"reputation":385,"user_id":10946427,"display_name":"Dmitriy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73841232,"answer_count":2,"score":2,"last_activity_date":1681411465,"creation_date":1664046206,"question_id":73839878,"body_markdown":"I have an **executable-jar** that I can run with **java -jar app.jar** but the **SDK is 326MB**. This is a lot.\r\n\r\njlink can create a **JRE**, but I can&#39;t use **jlink** as I have a **non-modular application**.\r\n\r\nCan you please tell me how to create a JRE?","title":"How to create JRE to run jar programs?","body":"<p>I have an <strong>executable-jar</strong> that I can run with <strong>java -jar app.jar</strong> but the <strong>SDK is 326MB</strong>. This is a lot.</p>\n<p>jlink can create a <strong>JRE</strong>, but I can't use <strong>jlink</strong> as I have a <strong>non-modular application</strong>.</p>\n<p>Can you please tell me how to create a JRE?</p>\n"},{"tags":["java","android","kotlin","variables"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681400993,"post_id":76007276,"comment_id":134053805,"body_markdown":"Read https://developer.android.com/guide/components/activities/intro-activities#da and https://stackoverflow.com/help/how-to-ask and explain what &quot;several things&quot; you tried so we don&#39;t waste time telling you to try things you already did.","body":"Read <a href=\"https://developer.android.com/guide/components/activities/intro-activities#da\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and explain what &quot;several things&quot; you tried so we don&#39;t waste time telling you to try things you already did."},{"owner":{"account_id":28296207,"reputation":1,"user_id":21635640,"display_name":"Tiago Moutinho"},"score":0,"creation_date":1681401587,"post_id":76007276,"comment_id":134053942,"body_markdown":"I tried to put onclick methods that i have on it, tried to change id&#39;s , create methods things that were usefull... In that first website you sent to me it says to open the manifest ... ill read it","body":"I tried to put onclick methods that i have on it, tried to change id&#39;s , create methods things that were usefull... In that first website you sent to me it says to open the manifest ... ill read it"},{"owner":{"account_id":28296207,"reputation":1,"user_id":21635640,"display_name":"Tiago Moutinho"},"score":0,"creation_date":1681402530,"post_id":76007276,"comment_id":134054169,"body_markdown":"Hey @dominicoder, i&#39;ve read it, and i&#39;ve done some changes but now, i&#39;ve got a new problem . my app consists in a menu who have an Options Menu that may go to 3 diferent games only one is working but now that i have added this                                                   \n           &lt;activity\n            android:name=&quot;.Jogo_pedra_papel_tesoura&quot;\n            android:exported=&quot;true&quot;&gt;   my menu dont appears, just shows the activity that i&#180;ve put. my manifestxml is up there tell me something pls tnx","body":"Hey @dominicoder, i&#39;ve read it, and i&#39;ve done some changes but now, i&#39;ve got a new problem . my app consists in a menu who have an Options Menu that may go to 3 diferent games only one is working but now that i have added this                                                               &lt;activity             android:name=&quot;.Jogo_pedra_papel_tesoura&quot;             android:exported=&quot;true&quot;&gt;   my menu dont appears, just shows the activity that i&#180;ve put. my manifestxml is up there tell me something pls tnx"},{"owner":{"account_id":28296207,"reputation":1,"user_id":21635640,"display_name":"Tiago Moutinho"},"score":0,"creation_date":1681402773,"post_id":76007276,"comment_id":134054245,"body_markdown":"Forget it i&#39;ve already discover it! It has to be whit where i place it it must be over the mainactivity! tnx very much !!","body":"Forget it i&#39;ve already discover it! It has to be whit where i place it it must be over the mainactivity! tnx very much !!"}],"answers":[{"tags":[],"owner":{"account_id":7072958,"reputation":31,"user_id":5413971,"display_name":"David Melo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681411234,"creation_date":1681411234,"answer_id":76008795,"question_id":76007276,"body_markdown":"Can you paste the code of your AndroidManifest.xml file?\r\n\r\nI believe you forgot to mention your Activity there.\r\nIf it&#39;s one single Activity, you need to make sure you&#39;ll have it with an intent-filter on it.\r\n\r\nIf it&#39;s another activity, you just need to declare it in your Manifest file without the intent-filter block on it.\r\n\r\nYou must declare all of your activities in your Manifest file.\r\ne.g\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        ...&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;name of your main activity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;name of your second activity&quot;&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nEdit:\r\nI just saw you attached a screenshot of your Manifest file.\r\nWhat is the name of the activity you are trying to open when click on the menu item?","title":"What shall i do if i receave this message &quot;have you declared this activity in your AndroidManifest.xml?&quot;","body":"<p>Can you paste the code of your AndroidManifest.xml file?</p>\n<p>I believe you forgot to mention your Activity there.\nIf it's one single Activity, you need to make sure you'll have it with an intent-filter on it.</p>\n<p>If it's another activity, you just need to declare it in your Manifest file without the intent-filter block on it.</p>\n<p>You must declare all of your activities in your Manifest file.\ne.g</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        ...&gt;\n\n        &lt;activity\n            android:name=&quot;name of your main activity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;activity\n            android:name=&quot;name of your second activity&quot;&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Edit:\nI just saw you attached a screenshot of your Manifest file.\nWhat is the name of the activity you are trying to open when click on the menu item?</p>\n"}],"owner":{"account_id":28296207,"reputation":1,"user_id":21635640,"display_name":"Tiago Moutinho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681488844,"answer_count":1,"score":0,"last_activity_date":1681411234,"creation_date":1681399939,"question_id":76007276,"body_markdown":"im developing a project to finish my school but im learnig android from the ground and its being hard.\r\nIm trying to put togeter 2 diferent projects. The first one which is an tic tac toe game it&#39;s openning when I click the options menu item that was declared to it but my second game its not oppening and it crashes and an error appers: &quot;Have you declared this activity in your AndroidManifest.xml?&quot;\r\n\r\n\r\n\r\nI tryied several things but nothing works . I think it may be a leak of the OnOptionsItemSelected of the item that corresponds in the options menu, but i dont know how to solve it, someone to help it?\r\nSry for possible errors xD\r\n[my manifest xml][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BeRwH.png","title":"What shall i do if i receave this message &quot;have you declared this activity in your AndroidManifest.xml?&quot;","body":"<p>im developing a project to finish my school but im learnig android from the ground and its being hard.\nIm trying to put togeter 2 diferent projects. The first one which is an tic tac toe game it's openning when I click the options menu item that was declared to it but my second game its not oppening and it crashes and an error appers: &quot;Have you declared this activity in your AndroidManifest.xml?&quot;</p>\n<p>I tryied several things but nothing works . I think it may be a leak of the OnOptionsItemSelected of the item that corresponds in the options menu, but i dont know how to solve it, someone to help it?\nSry for possible errors xD\n<a href=\"https://i.stack.imgur.com/BeRwH.png\" rel=\"nofollow noreferrer\">my manifest xml</a></p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681412684,"post_id":76008648,"comment_id":134056416,"body_markdown":"Do you need `return &quot;redirect:Home/createOenskeseddel&quot;`? Why not just `return &quot;your_thymeleaf_template_name_without_the_suffix&quot;`? (I don&#39;t know the template name.)","body":"Do you need <code>return &quot;redirect:Home&#47;createOenskeseddel&quot;</code>? Why not just <code>return &quot;your_thymeleaf_template_name_without_the_suffix&quot;</code>? (I don&#39;t know the template name.)"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681412754,"post_id":76008648,"comment_id":134056434,"body_markdown":"Minor point: You have a malformed HTML table - three `&lt;th&gt;` columns but four `&lt;td&gt;` columns.","body":"Minor point: You have a malformed HTML table - three <code>&lt;th&gt;</code> columns but four <code>&lt;td&gt;</code> columns."}],"owner":{"account_id":28297470,"reputation":1,"user_id":21636701,"display_name":"Geargrind"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681409943,"creation_date":1681409943,"question_id":76008648,"body_markdown":"I&#39;m working on a Spring boot application which functions as a wishlist. I&#39;ve made a login feature that logs in with a username only - and i&#39;ve created and connected a mySQL database where the users and wishes are stored. \r\nWhen i log in as a user ,however, I cannot view the table with the wishes I&#39;ve added - and I simply can&#39;t figure out what is exactly wrong. \r\n\r\nThe table itself in the HTML looks like this: \r\n\r\n      ` &lt;table&gt;\r\n        &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Hvad &#248;nsker du dig?&lt;/th&gt;\r\n            &lt;th&gt;Beskrivelse(fx. farve, str, etc.)&lt;/th&gt;\r\n            &lt;th&gt;Link(Valgfrit)&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n\r\n        &lt;tr th:each=&quot;oenske: ${oensker}&quot;&gt;\r\n            &lt;td th:text=&quot;${oenske.navn}&quot;/&gt;\r\n            &lt;td th:text=&quot;${oenske.beskrivelse}&quot;/&gt;\r\n            &lt;td th:text=&quot;${oenske.link}&quot;/&gt;\r\n\r\n            &lt;td&gt;\r\n                &lt;a th:href=&quot;@{&#39;/slet&#216;nske/&#39;+${oenske.bruger_id}}&quot;&gt;\r\n                    &lt;button class=&quot;btn-slet&#216;nske&quot; id=&quot;btn-slet&#216;nske&quot;&gt;Slet dette &#248;nske&lt;/button&gt;\r\n                &lt;/a&gt;\r\n                &lt;a th:href=&quot;@{&#39;/rediger&#216;nske/&#39;+${oenske.bruger_id}}&quot;&gt;\r\n                    &lt;button class=&quot;btn-rediger&#216;nske&quot; id=&quot;btn-rediger&#216;nske&quot;&gt;Rediger&lt;/button&gt;\r\n                &lt;/a&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;/tbody&gt;\r\n\r\n     &lt;/table&gt;`\r\n\r\n\r\nThe controller class in which a fetchAll() method is run looks like this:\r\n\r\n       ` @GetMapping(&quot;/createOenskeseddel&quot;)\r\n        public String index(Model model) {\r\n            List&lt;&#216;nske&gt; &#248;nskeList= &#248;nskeService.fetchAll();\r\n            model.addAttribute(&quot;oensker&quot;,&#248;nskeList);\r\n            return &quot;redirect:Home/createOenskeseddel&quot;;\r\n        }    `\r\n\r\nAnd the coresponding fetchAll() method in the repository looks like this:\r\n\r\n       ` public List&lt;&#216;nske&gt; fetchAll() {\r\n            String sql = &quot;SELECT * FROM oenske INNER JOIN bruger ON oenske.bruger_id =                             bruger.bruger_id&quot;;\r\n            RowMapper&lt;&#216;nske&gt; rowMapper = new BeanPropertyRowMapper&lt;&gt;(&#216;nske.class);\r\n            return template.query(sql, rowMapper);\r\n        }`\r\n  \r\n\r\n\r\n\r\nI&#39;ve tried using the html code on different sites, but with the same results. In my IDE it tells me it cannot resolve &quot;oensker&quot; - which most likely is at the root of the cause. ","title":"Spring application not showing table in website","body":"<p>I'm working on a Spring boot application which functions as a wishlist. I've made a login feature that logs in with a username only - and i've created and connected a mySQL database where the users and wishes are stored.\nWhen i log in as a user ,however, I cannot view the table with the wishes I've added - and I simply can't figure out what is exactly wrong.</p>\n<p>The table itself in the HTML looks like this:</p>\n<pre><code>  ` &lt;table&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Hvad nsker du dig?&lt;/th&gt;\n        &lt;th&gt;Beskrivelse(fx. farve, str, etc.)&lt;/th&gt;\n        &lt;th&gt;Link(Valgfrit)&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n\n    &lt;tr th:each=&quot;oenske: ${oensker}&quot;&gt;\n        &lt;td th:text=&quot;${oenske.navn}&quot;/&gt;\n        &lt;td th:text=&quot;${oenske.beskrivelse}&quot;/&gt;\n        &lt;td th:text=&quot;${oenske.link}&quot;/&gt;\n\n        &lt;td&gt;\n            &lt;a th:href=&quot;@{'/sletnske/'+${oenske.bruger_id}}&quot;&gt;\n                &lt;button class=&quot;btn-sletnske&quot; id=&quot;btn-sletnske&quot;&gt;Slet dette nske&lt;/button&gt;\n            &lt;/a&gt;\n            &lt;a th:href=&quot;@{'/redigernske/'+${oenske.bruger_id}}&quot;&gt;\n                &lt;button class=&quot;btn-redigernske&quot; id=&quot;btn-redigernske&quot;&gt;Rediger&lt;/button&gt;\n            &lt;/a&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;/tbody&gt;\n\n &lt;/table&gt;`\n</code></pre>\n<p>The controller class in which a fetchAll() method is run looks like this:</p>\n<pre><code>   ` @GetMapping(&quot;/createOenskeseddel&quot;)\n    public String index(Model model) {\n        List&lt;nske&gt; nskeList= nskeService.fetchAll();\n        model.addAttribute(&quot;oensker&quot;,nskeList);\n        return &quot;redirect:Home/createOenskeseddel&quot;;\n    }    `\n</code></pre>\n<p>And the coresponding fetchAll() method in the repository looks like this:</p>\n<pre><code>   ` public List&lt;nske&gt; fetchAll() {\n        String sql = &quot;SELECT * FROM oenske INNER JOIN bruger ON oenske.bruger_id =                             bruger.bruger_id&quot;;\n        RowMapper&lt;nske&gt; rowMapper = new BeanPropertyRowMapper&lt;&gt;(nske.class);\n        return template.query(sql, rowMapper);\n    }`\n</code></pre>\n<p>I've tried using the html code on different sites, but with the same results. In my IDE it tells me it cannot resolve &quot;oensker&quot; - which most likely is at the root of the cause.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":28297212,"reputation":1,"user_id":21636476,"display_name":"ProteinShakes"},"score":0,"creation_date":1681407968,"post_id":76008358,"comment_id":134055336,"body_markdown":"apologies, I updated the post to highlight which line is &quot;11&quot;","body":"apologies, I updated the post to highlight which line is &quot;11&quot;"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681473285,"post_id":76008358,"comment_id":134065963,"body_markdown":"`s1`, `s2` and `s3` are not objects, they are local variables.","body":"<code>s1</code>, <code>s2</code> and <code>s3</code> are not objects, they are local variables."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681473364,"post_id":76008358,"comment_id":134065985,"body_markdown":"After line `s1 = s2` **all** objects are eligible for garbage collection, because the methods ends at that point, which means all three objects are eligible.","body":"After line <code>s1 = s2</code> <b>all</b> objects are eligible for garbage collection, because the methods ends at that point, which means all three objects are eligible."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681563585,"post_id":76008358,"comment_id":134078609,"body_markdown":"@user16320675 Even if we assume that the method doesn&#39;t end immediately after that line, IIRC (but I&#39;m too lazy to double check right now), nothing in the JVM spec or the JLS prevents early eligibility for GC of local variables if they are no longer used. Though I believe in practice this will only happen if the compiler reuses the slot of a local variable for a different local variable.","body":"@user16320675 Even if we assume that the method doesn&#39;t end immediately after that line, IIRC (but I&#39;m too lazy to double check right now), nothing in the JVM spec or the JLS prevents early eligibility for GC of local variables if they are no longer used. Though I believe in practice this will only happen if the compiler reuses the slot of a local variable for a different local variable."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681563752,"post_id":76008358,"comment_id":134078627,"body_markdown":"@user16320675 And as to `args`: the array referenced by `args` may still be referenced by the code calling `main`, which means it may not yet be eligible for GC when the `main` method ends. In other words, the presence of the parameter `args` does not in any way invalidate answer A or answer B (answer C and D are already invalidated by the code itself).","body":"@user16320675 And as to <code>args</code>: the array referenced by <code>args</code> may still be referenced by the code calling <code>main</code>, which means it may not yet be eligible for GC when the <code>main</code> method ends. In other words, the presence of the parameter <code>args</code> does not in any way invalidate answer A or answer B (answer C and D are already invalidated by the code itself)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1681758706,"post_id":76008358,"comment_id":134105711,"body_markdown":"@MarkRotteveel you are right in that local variables do not prevent garbage collection of the referenced objects. In fact, there is very little that guarantees that an object wont be collected. Even actively using an object does not, as an optimizer could transform the code in a way that it doesnt need the objects memory. Regarding `args`, we do indeed not know whether the caller prevents its collection, but if not, we do not know how many (collectible) strings it contains. Or how many other now-unreachable objects the caller created before entering the main method.","body":"@MarkRotteveel you are right in that local variables do not prevent garbage collection of the referenced objects. In fact, there is very little that guarantees that an object wont be collected. Even actively using an object does not, as an optimizer could transform the code in a way that it doesnt need the objects memory. Regarding <code>args</code>, we do indeed not know whether the caller prevents its collection, but if not, we do not know how many (collectible) strings it contains. Or how many other now-unreachable objects the caller created before entering the main method."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1681758955,"post_id":76008358,"comment_id":134105776,"body_markdown":"@ProteinShakes your initial thought is correct in the sense that this is most likely the answer the author of this exam will consider correct, but as the discussion in the comments should have pointed out, the question itself is bad and has no real answer, as depending on the point of view, a lot of answers could be correct and having exactly two objects garbage collected at this point is the least likely outcome in real life. In most cases, the JVM will terminate after line 11, freeing the entire heap memory, but without running the garbage collector at all.","body":"@ProteinShakes your initial thought is correct in the sense that this is most likely the answer the author of this exam will consider correct, but as the discussion in the comments should have pointed out, the question itself is bad and has no real answer, as depending on the point of view, a lot of answers could be correct and having exactly two objects garbage collected at this point is the least likely outcome in real life. In most cases, the JVM will terminate after line 11, freeing the entire heap memory, but without running the garbage collector at all."}],"answers":[{"tags":[],"owner":{"account_id":28297398,"reputation":1,"user_id":21636638,"display_name":"Johnnyzielony"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681409649,"creation_date":1681409649,"answer_id":76008611,"question_id":76008358,"body_markdown":"Lets call s1=&quot;A&quot;, s2=&quot;B&quot;, s3=&quot;C&quot;\r\n    \r\n    s1 = s3;\r\n    s3 = s2;\r\n    s1 = s2;\r\n\r\nAfter these lines we have the following attributes:\r\ns1=&quot;B&quot;, s2=&quot;B&quot;, s3=&quot;C&quot;\r\nIf you assume that you want to remove duplicates, you are going to remove one object, so the answer should be C","title":"How many objects are eligible for Garbage Collection? JAVA","body":"<p>Lets call s1=&quot;A&quot;, s2=&quot;B&quot;, s3=&quot;C&quot;</p>\n<pre><code>s1 = s3;\ns3 = s2;\ns1 = s2;\n</code></pre>\n<p>After these lines we have the following attributes:\ns1=&quot;B&quot;, s2=&quot;B&quot;, s3=&quot;C&quot;\nIf you assume that you want to remove duplicates, you are going to remove one object, so the answer should be C</p>\n"}],"owner":{"account_id":28297212,"reputation":1,"user_id":21636476,"display_name":"ProteinShakes"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1681409649,"creation_date":1681407564,"question_id":76008358,"body_markdown":"I am working through a practice Java Certification exam, and the correct answer was accidentally not provided.\r\n\r\n\r\n```\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\tTest s1 = new Test();\r\n\tTest s2 = new Test();\r\n\tTest s3 = new Test();\r\n\ts1 = s3;\r\n\ts3 = s2;\r\n\ts1 = s2;\r\n   }\r\n}\r\n```\r\n\r\n\r\nWhich statement is true? (Line 11 is the line s1 = s2)\r\n\r\nA. After line 11, three objects are eligible for garbage collection.\r\n\r\nB. After line 11, two objects are eligible for garbage collection.\r\n\r\nC. After line 11, one object is eligible for garbage collection.\r\n\r\nD. After line 11, none of the objects are eligible for garbage collection.\r\n\r\n\r\nMy initial thought is B.\r\nThis is because the objects s1, s2, s3 are all now pointing to the same object in memory, and thus the other 2 references would no longer be needed, but I am very uncertain of this.\r\n","title":"How many objects are eligible for Garbage Collection? JAVA","body":"<p>I am working through a practice Java Certification exam, and the correct answer was accidentally not provided.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n    Test s1 = new Test();\n    Test s2 = new Test();\n    Test s3 = new Test();\n    s1 = s3;\n    s3 = s2;\n    s1 = s2;\n   }\n}\n</code></pre>\n<p>Which statement is true? (Line 11 is the line s1 = s2)</p>\n<p>A. After line 11, three objects are eligible for garbage collection.</p>\n<p>B. After line 11, two objects are eligible for garbage collection.</p>\n<p>C. After line 11, one object is eligible for garbage collection.</p>\n<p>D. After line 11, none of the objects are eligible for garbage collection.</p>\n<p>My initial thought is B.\nThis is because the objects s1, s2, s3 are all now pointing to the same object in memory, and thus the other 2 references would no longer be needed, but I am very uncertain of this.</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673551822,"post_id":75101204,"comment_id":132530973,"body_markdown":"Note: I removed the [tag:javafx] tag because the question doesn&#39;t really involve JavaFX, even if you&#39;re using it as part of your real application.","body":"Note: I removed the <a href=\"https://stackoverflow.com/questions/tagged/javafx\">javafx</a> tag because the question doesn&#39;t really involve JavaFX, even if you&#39;re using it as part of your real application."},{"owner":{"account_id":25680347,"reputation":11,"user_id":19443232,"display_name":"AB Studio"},"score":0,"creation_date":1673639656,"post_id":75101204,"comment_id":132552505,"body_markdown":"Hand made software is  nonsense in my pdf. It is plain text","body":"Hand made software is  nonsense in my pdf. It is plain text"}],"answers":[{"tags":[],"owner":{"account_id":20229571,"reputation":41,"user_id":14836478,"display_name":"Gorka Lertxundi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681409317,"creation_date":1673551493,"answer_id":75101367,"question_id":75101204,"body_markdown":"You can make it easy iterating through the PDF elements. First create a PDF reader and writter that will read the template located on src string path.\r\n```\r\nFile template = new File(src);\r\nPdfReader reader = new PdfReader(template);\r\n\r\nFile out = new File(dest);\r\nPdfWritter writter = new PdfWritter(out);\r\n```\r\nThen create a Document object by firstly creating a PdfDocument:\r\n```\r\nPdfDocument pdf = new PdfDocument(reader, writter);\r\nDocument document = new Document(pdf);\r\n```\r\nLast iterate through the elements of the pdf document until &quot;Hand made software&quot; line is found:\r\n```\r\nfor (int i = 0; i &lt; document.getRoots().size(); i++) {\r\n     if (document.getRoots().get(i) instanceof Paragraph) { //iterate only through paragraphs\r\n         Paragraph paragraph = (Paragraph) document.getRoots().get(i);\r\n         if(paragraph.getText().equals(&quot;Hand made software&quot;)){ //if the paragraph equals to the string to be removed, remove from the document\r\n             document.getRoots().remove(i);\r\n             i--;\r\n         }\r\n     }\r\n}\r\n```\r\nFinally close de document to save the changes\r\n```\r\ndocument.close();\r\n```","title":"Delete paragraph from PDF - Java","body":"<p>You can make it easy iterating through the PDF elements. First create a PDF reader and writter that will read the template located on src string path.</p>\n<pre><code>File template = new File(src);\nPdfReader reader = new PdfReader(template);\n\nFile out = new File(dest);\nPdfWritter writter = new PdfWritter(out);\n</code></pre>\n<p>Then create a Document object by firstly creating a PdfDocument:</p>\n<pre><code>PdfDocument pdf = new PdfDocument(reader, writter);\nDocument document = new Document(pdf);\n</code></pre>\n<p>Last iterate through the elements of the pdf document until &quot;Hand made software&quot; line is found:</p>\n<pre><code>for (int i = 0; i &lt; document.getRoots().size(); i++) {\n     if (document.getRoots().get(i) instanceof Paragraph) { //iterate only through paragraphs\n         Paragraph paragraph = (Paragraph) document.getRoots().get(i);\n         if(paragraph.getText().equals(&quot;Hand made software&quot;)){ //if the paragraph equals to the string to be removed, remove from the document\n             document.getRoots().remove(i);\n             i--;\n         }\n     }\n}\n</code></pre>\n<p>Finally close de document to save the changes</p>\n<pre><code>document.close();\n</code></pre>\n"}],"owner":{"account_id":25680347,"reputation":11,"user_id":19443232,"display_name":"AB Studio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681409317,"creation_date":1673550488,"question_id":75101204,"body_markdown":"Greeting,\r\nWhat is the easiest way to delete text/paragraph from a PDF document. The program takes a PDF document and creates a separate PDF document for each page. In each document I have text from the original that I would like to delete.\r\nI tried a couple of examples but it doesn&#39;t work or they use old libraries\r\nI am using the iText 7 library\r\n\r\n    private void processPDF(String src, String dest) throws IOException, DocumentException {\r\n\r\n        PdfReader reader = new PdfReader(src);\r\n        PdfDictionary dict = reader.getPageN(1);\r\n        PdfObject object = dict.getDirectObject(PdfName.CONTENTS);\r\n\r\n        if (object instanceof PRStream) {\r\n            PRStream stream = (PRStream) object;\r\n            byte[] data = PdfReader.getStreamBytes(stream);\r\n            String dd = new String(data, &quot;UTF8&quot;)\r\n                    .replace(&quot;Hand made software&quot;, &quot;&quot;);\r\n            stream.setData(dd.getBytes(&quot;UTF8&quot;));\r\n            if (dd.contains(&quot;Hand made software&quot;)) {\r\n                System.out.println(&quot;Contains&quot;);\r\n            } \r\n        }\r\n\r\n        PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\r\n        stamper.close();\r\n        reader.close();\r\n\r\n    }\r\n\r\n\r\n    private void processPDF2(String src, String dest) throws InvalidPasswordException, IOException {\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;Hand made software&quot;, &quot;&quot;);\r\n        File template = new File(src);\r\n        PDDocument document = PDDocument.load(template);\r\n        List&lt;PDField&gt; fields = document.getDocumentCatalog().getAcroForm().getFields();\r\n        for (PDField field : fields) {\r\n            for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n                if (entry.getKey().equals(field.getFullyQualifiedName())) {\r\n                    field.setValue(entry.getValue());\r\n                    field.setReadOnly(true);\r\n                }\r\n            }\r\n        }\r\n        File out = new File(dest);\r\n        document.save(out);\r\n        document.close();\r\n    }\r\n\r\n\r\nI want to delete line &quot;Hand made software&quot;","title":"Delete paragraph from PDF - Java","body":"<p>Greeting,\nWhat is the easiest way to delete text/paragraph from a PDF document. The program takes a PDF document and creates a separate PDF document for each page. In each document I have text from the original that I would like to delete.\nI tried a couple of examples but it doesn't work or they use old libraries\nI am using the iText 7 library</p>\n<pre><code>private void processPDF(String src, String dest) throws IOException, DocumentException {\n\n    PdfReader reader = new PdfReader(src);\n    PdfDictionary dict = reader.getPageN(1);\n    PdfObject object = dict.getDirectObject(PdfName.CONTENTS);\n\n    if (object instanceof PRStream) {\n        PRStream stream = (PRStream) object;\n        byte[] data = PdfReader.getStreamBytes(stream);\n        String dd = new String(data, &quot;UTF8&quot;)\n                .replace(&quot;Hand made software&quot;, &quot;&quot;);\n        stream.setData(dd.getBytes(&quot;UTF8&quot;));\n        if (dd.contains(&quot;Hand made software&quot;)) {\n            System.out.println(&quot;Contains&quot;);\n        } \n    }\n\n    PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\n    stamper.close();\n    reader.close();\n\n}\n\n\nprivate void processPDF2(String src, String dest) throws InvalidPasswordException, IOException {\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;Hand made software&quot;, &quot;&quot;);\n    File template = new File(src);\n    PDDocument document = PDDocument.load(template);\n    List&lt;PDField&gt; fields = document.getDocumentCatalog().getAcroForm().getFields();\n    for (PDField field : fields) {\n        for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n            if (entry.getKey().equals(field.getFullyQualifiedName())) {\n                field.setValue(entry.getValue());\n                field.setReadOnly(true);\n            }\n        }\n    }\n    File out = new File(dest);\n    document.save(out);\n    document.close();\n}\n</code></pre>\n<p>I want to delete line &quot;Hand made software&quot;</p>\n"},{"tags":["java","spring","bouncycastle","pem","tripledes"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681380791,"post_id":76000494,"comment_id":134048385,"body_markdown":"You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) probably, along with a different key pair producing the same error","body":"You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> probably, along with a different key pair producing the same error"}],"answers":[{"tags":[],"owner":{"account_id":14863638,"reputation":1,"user_id":10733501,"display_name":"NigDra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681408888,"creation_date":1681408833,"answer_id":76008524,"question_id":76000494,"body_markdown":"Ok, so turns out BouncyCastle digital signature was being corrupted when including them in the jar, so i had to exclude them from the jar and add them as variables in the jar command, don&#39;t know why it didn&#39;t worked the first time though.\r\n\r\njava -cp &quot;path/to/lib/bcprov-jdk15on-1.70.jar:path/to/lib/bcpkix-jdk15on-1.70.jar:path/to/jar/artifact.jar&quot; com.project.main.class","title":"Getting error when loading a .pem key into java, but only when running the jar","body":"<p>Ok, so turns out BouncyCastle digital signature was being corrupted when including them in the jar, so i had to exclude them from the jar and add them as variables in the jar command, don't know why it didn't worked the first time though.</p>\n<p>java -cp &quot;path/to/lib/bcprov-jdk15on-1.70.jar:path/to/lib/bcpkix-jdk15on-1.70.jar:path/to/jar/artifact.jar&quot; com.project.main.class</p>\n"}],"owner":{"account_id":14863638,"reputation":1,"user_id":10733501,"display_name":"NigDra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681408888,"creation_date":1681341129,"question_id":76000494,"body_markdown":"I appreciate any help with this, I&#39;ve been stuck with this for longer than I should have.   \r\n java 17 mvn 3.9.1 spring 3.0.4  \r\nSo, I need to load a .pem key into java to decrypt a thing that I encrypted with the pair. It works fine when running the project from intellij. But it fails when executing from the jar that from when using &#180;mvn clean install/package&#180;. It runs but when it gets to the loadIntoJavaPart\r\n\r\n\r\n```\r\npublic PrivateKey loadPrivateKeyFromFile(String privateKeyPath)\r\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException,\r\n            OperatorCreationException, PKCSException\r\n    {\r\n\r\n\r\n        try (FileReader fileReader = new FileReader(privateKeyPath);\r\n             PEMParser pemParser = new PEMParser(fileReader)) {\r\n            Object pemObject = pemParser.readObject();\r\n            if (pemObject instanceof PKCS8EncryptedPrivateKeyInfo) {\r\n                PKCS8EncryptedPrivateKeyInfo encryptedPrivateKeyInfo = (PKCS8EncryptedPrivateKeyInfo) pemObject;\r\n                InputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(&quot;pass&quot;.toCharArray());\r\n                \r\n\r\n*Tried putting this in several places, this is just the last one I tried*\r\n                Security.addProvider(new BouncyCastleProvider());\r\n \r\n                ASN1OctetString asn1OctetString= encryptedPrivateKeyInfo.decryptPrivateKeyInfo\r\n                        (decryptorProvider).getPrivateKey();\r\n\r\n\r\n\r\n                byte[] privateKeyBytes = asn1OctetString.getOctets();\r\n                PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\r\n                KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n                return keyFactory.generatePrivate(keySpec);\r\n\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Unsupported PEM object: &quot; + pemObject);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nIt fails in the \r\n```\r\n ASN1OctetString asn1OctetString= encryptedPrivateKeyInfo.decryptPrivateKeyInfo\r\n                        (decryptorProvider).getPrivateKey();\r\n``` \r\nThrows:\r\n```\r\norg.bouncycastle.pkcs.PKCSException: unable to read encrypted data: 1.2.840.113549.1.5.13 not available: Cannot find any provider supporting 1.2.840.113549.3.7\r\n```\r\n\r\nEverywhere I&#39;ve read it says either set the security provider, which i did. I even put a print to check that BC was there and it is. Or that the BC libraries aren&#39;t in the JAR, but they are, I checked with jar tf app.jar.   \r\nUsed  mvn shader plugin to force the all the libraries in another jar, didn&#39;t work.    \r\nTried making intellij create the jar and use that one, but it fails to find the main class, which I check was listed in the manifest-inf.    \r\n\r\nSo I&#39;ve run out of idea. I really appreciate anyone&#39;s help. \r\n\r\nPOM.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.micro&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;encrypt&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;encryption&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.santuario&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xmlsec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.stream&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;stax-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0-2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.70&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.70&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;shadeTestJar&gt;true&lt;/shadeTestJar&gt;\r\n\t\t\t\t\t\t\t&lt;shadedClassifierName&gt;SHADED&lt;/shadedClassifierName&gt;\r\n\t\t\t\t\t\t\t&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nThanks!","title":"Getting error when loading a .pem key into java, but only when running the jar","body":"<p>I appreciate any help with this, I've been stuck with this for longer than I should have.<br />\njava 17 mvn 3.9.1 spring 3.0.4<br />\nSo, I need to load a .pem key into java to decrypt a thing that I encrypted with the pair. It works fine when running the project from intellij. But it fails when executing from the jar that from when using mvn clean install/package. It runs but when it gets to the loadIntoJavaPart</p>\n<pre><code>public PrivateKey loadPrivateKeyFromFile(String privateKeyPath)\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException,\n            OperatorCreationException, PKCSException\n    {\n\n\n        try (FileReader fileReader = new FileReader(privateKeyPath);\n             PEMParser pemParser = new PEMParser(fileReader)) {\n            Object pemObject = pemParser.readObject();\n            if (pemObject instanceof PKCS8EncryptedPrivateKeyInfo) {\n                PKCS8EncryptedPrivateKeyInfo encryptedPrivateKeyInfo = (PKCS8EncryptedPrivateKeyInfo) pemObject;\n                InputDecryptorProvider decryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder().build(&quot;pass&quot;.toCharArray());\n                \n\n*Tried putting this in several places, this is just the last one I tried*\n                Security.addProvider(new BouncyCastleProvider());\n \n                ASN1OctetString asn1OctetString= encryptedPrivateKeyInfo.decryptPrivateKeyInfo\n                        (decryptorProvider).getPrivateKey();\n\n\n\n                byte[] privateKeyBytes = asn1OctetString.getOctets();\n                PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\n                KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n                return keyFactory.generatePrivate(keySpec);\n\n            } else {\n                throw new IllegalArgumentException(&quot;Unsupported PEM object: &quot; + pemObject);\n            }\n        }\n    }\n</code></pre>\n<p>It fails in the</p>\n<pre><code> ASN1OctetString asn1OctetString= encryptedPrivateKeyInfo.decryptPrivateKeyInfo\n                        (decryptorProvider).getPrivateKey();\n</code></pre>\n<p>Throws:</p>\n<pre><code>org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: 1.2.840.113549.1.5.13 not available: Cannot find any provider supporting 1.2.840.113549.3.7\n</code></pre>\n<p>Everywhere I've read it says either set the security provider, which i did. I even put a print to check that BC was there and it is. Or that the BC libraries aren't in the JAR, but they are, I checked with jar tf app.jar.<br />\nUsed  mvn shader plugin to force the all the libraries in another jar, didn't work.<br />\nTried making intellij create the jar and use that one, but it fails to find the main class, which I check was listed in the manifest-inf.</p>\n<p>So I've run out of idea. I really appreciate anyone's help.</p>\n<p>POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.micro&lt;/groupId&gt;\n    &lt;artifactId&gt;encrypt&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;encryption&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.santuario&lt;/groupId&gt;\n            &lt;artifactId&gt;xmlsec&lt;/artifactId&gt;\n            &lt;version&gt;2.1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.stream&lt;/groupId&gt;\n            &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0-2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.70&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n            &lt;version&gt;1.70&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-netty&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;shadeTestJar&gt;true&lt;/shadeTestJar&gt;\n                            &lt;shadedClassifierName&gt;SHADED&lt;/shadedClassifierName&gt;\n                            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1669162800,"post_id":74540372,"comment_id":131580867,"body_markdown":"ctrl-Z is the windows EOF character","body":"ctrl-Z is the windows EOF character"},{"owner":{"account_id":27018547,"reputation":11,"user_id":20576927,"display_name":"avgcsstudent"},"score":0,"creation_date":1669181401,"post_id":74540372,"comment_id":131583590,"body_markdown":"@tgdavies is the EOF character the same as &quot;End of Text&quot; (ASCII 003), or &quot;End of Transmission&quot; (ASCII 004), or neither?","body":"@tgdavies is the EOF character the same as &quot;End of Text&quot; (ASCII 003), or &quot;End of Transmission&quot; (ASCII 004), or neither?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669184075,"post_id":74540372,"comment_id":131584110,"body_markdown":"I mean that it causes the Scanner to report that it can&#39;t read any more characters","body":"I mean that it causes the Scanner to report that it can&#39;t read any more characters"}],"answers":[{"tags":[],"owner":{"account_id":7659035,"reputation":58,"user_id":5804899,"display_name":"Rajnish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669180541,"creation_date":1669180541,"answer_id":74542080,"question_id":74540372,"body_markdown":"ctrl+z in windows or ctrl-d in Linux are DOS commands for the end of input. So, if you deploy your program in Linux, it will behave the same for the input of *ctrl-d*. You should handle this by calling method `scanner.hasNextLine()` which returns true only if there is input. I have attached the modified program, it runs. You may refer.\r\n\r\n    public class ControlPlusZ {\r\n\r\n\tpublic static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        String input = &quot;&quot;;\r\n        while(true) {\r\n            System.out.printf(&quot;Say something: &quot;);\r\n            if(scanner.hasNextLine()) {\r\n            \tSystem.out.println(scanner.hasNextLine());\r\n            input = scanner.nextLine();\r\n            String output = input.trim().toUpperCase();\r\n            \r\n            if(output.equals(&quot;Q&quot;)) {\r\n                break;\r\n            }\r\n            \r\n            \r\n            System.out.printf(&quot;Uppercase: %s\\n&quot;, output);\r\n        }\r\n            else {System.out.println(&quot;Closing scanner&quot;);\r\n            \t\r\n            \tbreak;}}\r\n        \r\n        scanner.close();\r\n    }\r\n\t\r\n}\r\n\r\n\r\n","title":"java.util.Scanner Issue with CTRL+Z, CTRL+C, CTRL+X","body":"<p>ctrl+z in windows or ctrl-d in Linux are DOS commands for the end of input. So, if you deploy your program in Linux, it will behave the same for the input of <em>ctrl-d</em>. You should handle this by calling method <code>scanner.hasNextLine()</code> which returns true only if there is input. I have attached the modified program, it runs. You may refer.</p>\n<pre><code>public class ControlPlusZ {\n\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    String input = &quot;&quot;;\n    while(true) {\n        System.out.printf(&quot;Say something: &quot;);\n        if(scanner.hasNextLine()) {\n            System.out.println(scanner.hasNextLine());\n        input = scanner.nextLine();\n        String output = input.trim().toUpperCase();\n        \n        if(output.equals(&quot;Q&quot;)) {\n            break;\n        }\n        \n        \n        System.out.printf(&quot;Uppercase: %s\\n&quot;, output);\n    }\n        else {System.out.println(&quot;Closing scanner&quot;);\n            \n            break;}}\n    \n    scanner.close();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":28297296,"reputation":1,"user_id":21636553,"display_name":"JE139A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681408622,"creation_date":1681408622,"answer_id":76008492,"question_id":74540372,"body_markdown":"I was looking for an answer like @Rajnish&#39;s, and after some tinkering to test how it would work, I have a solution:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String input = &quot;&quot;;\r\n\r\n        while (true) {\r\n            System.out.print(&quot;Say something: &quot;);\r\n\r\n            // THIS IS MY SOLUTION\r\n            if (!scanner.hasNextLine()) {\r\n                break;\r\n            }\r\n            \r\n            input = scanner.nextLine();\r\n            String output = input.trim().toUpperCase();\r\n            \r\n            if (output.equals(&quot;Q&quot;)) {\r\n                break;\r\n            }\r\n            \r\n            System.out.printf(&quot;Uppercase: %s\\n&quot;, output);\r\n        }\r\n        \r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nBasically, this tells the Scanner that we want the input to be a newline-delimited String, but we don&#39;t actually take input yet ([from the Java docs, &quot;[The] scanner does not advance past any input.&quot;](https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNextInt--)). If the user did input a String, then the `input = scanner.nextLine();` would take in that input. However, if the user input something different (such as &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;C&lt;/kbd&gt;), then the `!scanner.hasNextLine()` would be true, breaking the user from the loop.","title":"java.util.Scanner Issue with CTRL+Z, CTRL+C, CTRL+X","body":"<p>I was looking for an answer like @Rajnish's, and after some tinkering to test how it would work, I have a solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Test {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String input = &quot;&quot;;\n\n        while (true) {\n            System.out.print(&quot;Say something: &quot;);\n\n            // THIS IS MY SOLUTION\n            if (!scanner.hasNextLine()) {\n                break;\n            }\n            \n            input = scanner.nextLine();\n            String output = input.trim().toUpperCase();\n            \n            if (output.equals(&quot;Q&quot;)) {\n                break;\n            }\n            \n            System.out.printf(&quot;Uppercase: %s\\n&quot;, output);\n        }\n        \n        scanner.close();\n    }\n}\n</code></pre>\n<p>Basically, this tells the Scanner that we want the input to be a newline-delimited String, but we don't actually take input yet (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#hasNextInt--\" rel=\"nofollow noreferrer\">from the Java docs, &quot;[The] scanner does not advance past any input.&quot;</a>). If the user did input a String, then the <code>input = scanner.nextLine();</code> would take in that input. However, if the user input something different (such as <kbd>Ctrl</kbd>+<kbd>C</kbd>), then the <code>!scanner.hasNextLine()</code> would be true, breaking the user from the loop.</p>\n"}],"owner":{"account_id":27018547,"reputation":11,"user_id":20576927,"display_name":"avgcsstudent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681408622,"creation_date":1669161892,"question_id":74540372,"body_markdown":"I am working on a project that requires receiving and processing inputs from console. I use eclipse and accidentally discovered that when I press CTRL+Z in my console (without pressing ENTER after), the program crashes with a NoSuchElementException which I believe was thrown by the `Scanner.nextLine()` method. Below is the stripped down version of it.\r\n\r\nTest.java\r\n```\r\nimport java.util.NoSuchElementException;\r\nimport java.util.Scanner;\r\n\r\npublic class Test {\r\n    \r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        \r\n        String input = &quot;&quot;;\r\n        while(true) {\r\n            System.out.printf(&quot;Say something: &quot;);\r\n            input = scanner.nextLine();\r\n            String output = input.trim().toUpperCase();\r\n            \r\n            if(output.equals(&quot;Q&quot;)) {\r\n                break;\r\n            }\r\n            \r\n            System.out.printf(&quot;Uppercase: %s\\n&quot;, output);\r\n        }\r\n        \r\n        scanner.close();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nHere is my test run:\r\n\r\n```\r\nSay something: hey\r\nUppercase: HEY\r\nSay something: i&#39;m boutta crash this program by pressing ctrl+z\r\nUppercase: I&#39;M BOUTTA CRASH THIS PROGRAM BY PRESSING CTRL+Z\r\nSay something: Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n\tat java.base/java.util.Scanner.nextLine(Scanner.java:1656)\r\n\tat Test.main(Test.java:11)\r\n```\r\n\r\nI also compiled the .java file with `javac Test.java` and run with `java Test` in Windows Command Prompt. Here is the output.\r\n\r\n```\r\nC:\\&gt;cd Test\r\n\r\nC:\\Test&gt;javac Test.java\r\n\r\nC:\\Test&gt;java Test\r\nSay something: i&#39;m gonna press ctrl+c\r\nUppercase: I&#39;M GONNA PRESS CTRL+C\r\nSay something: Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n^C\r\nC:\\Test&gt;\r\n```\r\n\r\nAre there any way to prevent CTRL+Z and CTRL+V from being read by the scanner? Thank you in advance for any help/explanations.\r\n\r\nI tried surrounding the line `input = scanner.nextLine();` with try/catch block. Here is my attempt.\r\n\r\n```\r\ntry {\r\n                input = scanner.nextLine();\r\n            } catch(NoSuchElementException e) {\r\n                scanner = new Scanner(System.in);\r\n                System.out.printf(&quot;caught NoSuchElementException\\n&quot;);\r\n            }\r\n```\r\n\r\nI got an infinite loop.\r\n\r\n```\r\nSay something: pressing ctrl+z...\r\nUppercase: PRESSING CTRL+Z...\r\nSay something: caught NoSuchElementException\r\nUppercase: PRESSING CTRL+Z...\r\nSay something: caught NoSuchElementException\r\nUppercase: PRESSING CTRL+Z...\r\nSay something: caught NoSuchElementException\r\nUppercase: PRESSING CTRL+Z...\r\n...\r\n```","title":"java.util.Scanner Issue with CTRL+Z, CTRL+C, CTRL+X","body":"<p>I am working on a project that requires receiving and processing inputs from console. I use eclipse and accidentally discovered that when I press CTRL+Z in my console (without pressing ENTER after), the program crashes with a NoSuchElementException which I believe was thrown by the <code>Scanner.nextLine()</code> method. Below is the stripped down version of it.</p>\n<p>Test.java</p>\n<pre><code>import java.util.NoSuchElementException;\nimport java.util.Scanner;\n\npublic class Test {\n    \n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        \n        String input = &quot;&quot;;\n        while(true) {\n            System.out.printf(&quot;Say something: &quot;);\n            input = scanner.nextLine();\n            String output = input.trim().toUpperCase();\n            \n            if(output.equals(&quot;Q&quot;)) {\n                break;\n            }\n            \n            System.out.printf(&quot;Uppercase: %s\\n&quot;, output);\n        }\n        \n        scanner.close();\n    }\n    \n}\n</code></pre>\n<p>Here is my test run:</p>\n<pre><code>Say something: hey\nUppercase: HEY\nSay something: i'm boutta crash this program by pressing ctrl+z\nUppercase: I'M BOUTTA CRASH THIS PROGRAM BY PRESSING CTRL+Z\nSay something: Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1656)\n    at Test.main(Test.java:11)\n</code></pre>\n<p>I also compiled the .java file with <code>javac Test.java</code> and run with <code>java Test</code> in Windows Command Prompt. Here is the output.</p>\n<pre><code>C:\\&gt;cd Test\n\nC:\\Test&gt;javac Test.java\n\nC:\\Test&gt;java Test\nSay something: i'm gonna press ctrl+c\nUppercase: I'M GONNA PRESS CTRL+C\nSay something: Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n^C\nC:\\Test&gt;\n</code></pre>\n<p>Are there any way to prevent CTRL+Z and CTRL+V from being read by the scanner? Thank you in advance for any help/explanations.</p>\n<p>I tried surrounding the line <code>input = scanner.nextLine();</code> with try/catch block. Here is my attempt.</p>\n<pre><code>try {\n                input = scanner.nextLine();\n            } catch(NoSuchElementException e) {\n                scanner = new Scanner(System.in);\n                System.out.printf(&quot;caught NoSuchElementException\\n&quot;);\n            }\n</code></pre>\n<p>I got an infinite loop.</p>\n<pre><code>Say something: pressing ctrl+z...\nUppercase: PRESSING CTRL+Z...\nSay something: caught NoSuchElementException\nUppercase: PRESSING CTRL+Z...\nSay something: caught NoSuchElementException\nUppercase: PRESSING CTRL+Z...\nSay something: caught NoSuchElementException\nUppercase: PRESSING CTRL+Z...\n...\n</code></pre>\n"},{"tags":["java","elasticsearch","optimistic-concurrency"],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681289484,"creation_date":1681289484,"answer_id":75993571,"question_id":75992880,"body_markdown":"The big difference I see is that in Kibana you&#39;re using the `_doc` type whereas in your code the mapping type is `gluetable`, so you&#39;re not updating what you think you&#39;re updating.\r\n\r\nIn Kibana you&#39;re indexing\r\n\r\n    /table_index/_doc/606635778254_db_dcs_int_test4_test_table_6SjooYiji3\r\n\r\nwhereas in your test code you&#39;re indexing\r\n\r\n    /table_index/gluetable/606635778254_db_dcs_int_test4_test_table_6SjooYiji3\r\n\r\nwhich are two different documents.\r\n\r\nMake sure that `ES_TABLE_INDEX_DOC_TYPE = &quot;_doc&quot;` in your code and you should get the same error.","title":"ElasticSearch document is getting updated even after IfSeqNo and IfPrimaryTerm values don&#39;t match with assigned sequence number and primary term","body":"<p>The big difference I see is that in Kibana you're using the <code>_doc</code> type whereas in your code the mapping type is <code>gluetable</code>, so you're not updating what you think you're updating.</p>\n<p>In Kibana you're indexing</p>\n<pre><code>/table_index/_doc/606635778254_db_dcs_int_test4_test_table_6SjooYiji3\n</code></pre>\n<p>whereas in your test code you're indexing</p>\n<pre><code>/table_index/gluetable/606635778254_db_dcs_int_test4_test_table_6SjooYiji3\n</code></pre>\n<p>which are two different documents.</p>\n<p>Make sure that <code>ES_TABLE_INDEX_DOC_TYPE = &quot;_doc&quot;</code> in your code and you should get the same error.</p>\n"},{"tags":[],"owner":{"account_id":1860609,"reputation":669,"user_id":1685263,"accept_rate":36,"display_name":"Vikrant Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681408516,"creation_date":1681385074,"answer_id":76004862,"question_id":75992880,"body_markdown":"After upgrading the ES java client package from 6.6.1 to 7.9.3 it is throwing exception as expected.\r\n\r\nFound hint from client source code\r\n\r\n```\r\n     if (out.getVersion().onOrAfter(Version.V_6_6_0)) {\r\n            out.writeZLong(ifSeqNo);\r\n            out.writeVLong(ifPrimaryTerm);\r\n        } else if (ifSeqNo != UNASSIGNED_SEQ_NO || ifPrimaryTerm != UNASSIGNED_PRIMARY_TERM) {\r\n            assert false : &quot;setIfMatch [&quot; + ifSeqNo + &quot;], currentDocTem [&quot; + ifPrimaryTerm + &quot;]&quot;;\r\n            throw new IllegalStateException(\r\n                &quot;sequence number based compare and write is not supported until all nodes are on version 7.0 or higher. &quot; +\r\n                    &quot;Stream version [&quot; + out.getVersion() + &quot;]&quot;);\r\n        }\r\n```","title":"ElasticSearch document is getting updated even after IfSeqNo and IfPrimaryTerm values don&#39;t match with assigned sequence number and primary term","body":"<p>After upgrading the ES java client package from 6.6.1 to 7.9.3 it is throwing exception as expected.</p>\n<p>Found hint from client source code</p>\n<pre><code>     if (out.getVersion().onOrAfter(Version.V_6_6_0)) {\n            out.writeZLong(ifSeqNo);\n            out.writeVLong(ifPrimaryTerm);\n        } else if (ifSeqNo != UNASSIGNED_SEQ_NO || ifPrimaryTerm != UNASSIGNED_PRIMARY_TERM) {\n            assert false : &quot;setIfMatch [&quot; + ifSeqNo + &quot;], currentDocTem [&quot; + ifPrimaryTerm + &quot;]&quot;;\n            throw new IllegalStateException(\n                &quot;sequence number based compare and write is not supported until all nodes are on version 7.0 or higher. &quot; +\n                    &quot;Stream version [&quot; + out.getVersion() + &quot;]&quot;);\n        }\n</code></pre>\n"}],"owner":{"account_id":1860609,"reputation":669,"user_id":1685263,"accept_rate":36,"display_name":"Vikrant Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681408516,"creation_date":1681284018,"question_id":75992880,"body_markdown":"I am attempting to verify whether an Elastic search document is being updated correctly by using an index request that has a different sequence number and primary term than what was assigned to the document. According to the documentation if IfSeqNo and IfPrimaryTerm values do not match with sequence_no and primary term of document then ES will throw VersionConflictEngineException . In my test code document is getting updated and sequence number is being incremented, even though I&#39;ve set an old sequence number in my index request. I was expecting a VersionConflictEngineException exception to be thrown but this is not happening. Let me know what is wrong with my code. Thanks in advance.\r\n\r\n\r\nAttaching my java code. test method is the entry point. I tried doing same thing from kibana client on same ES cluster but it is working as expected (throwing exception).\r\n\r\nElasticsearch version is 6.8\r\nJavaClient version is elasticsearch-6.6.1\r\n\r\n```java\r\n /**\r\n     * only perform this indexing request if the document was last modification was assigned the given\r\n     * sequence number. Must be used in combination with {@link #setIfPrimaryTerm(long)}\r\n     *\r\n     * If the document last modification was assigned a different sequence number a\r\n     * {@link org.elasticsearch.index.engine.VersionConflictEngineException} will be thrown.\r\n     */\r\n    public IndexRequest setIfSeqNo(long seqNo) { }\r\n```\r\n\r\nKibana client example\r\n```\r\nPOST /table_index/_doc/606635778254_db_dcs_int_test4_test_table_6SjooYiji3?if_seq_no=1574635&amp;if_primary_term=6\r\n{\r\n    &quot;name&quot; : &quot;test_table_6SjooYiji3&quot;,\r\n    &quot;description&quot; : null,\r\n    &quot;catalogId&quot; : &quot;606635778254&quot;,\r\n    &quot;databaseName&quot; : &quot;db_dcs_int_test4&quot;\r\n}\r\n\r\nResponse from kibana\r\n\r\n{\r\n   &quot;error&quot;: {\r\n    &quot;root_cause&quot;: [\r\n      {\r\n        &quot;type&quot;: &quot;version_conflict_engine_exception&quot;,\r\n        &quot;reason&quot;: &quot;[gluetable][606635778254_db_dcs_int_test4_test_table_6SjooYiji3]: version conflict, required seqNo [1574635], primary term [6]. current document has seqNo [1574661] and primary term [6]&quot;,\r\n        &quot;index_uuid&quot;: &quot;jisjayWfTTe7Rd-Ll48qWw&quot;,\r\n        &quot;shard&quot;: &quot;0&quot;,\r\n        &quot;index&quot;: &quot;table_index&quot;\r\n      }\r\n    ],\r\n    &quot;type&quot;: &quot;version_conflict_engine_exception&quot;,\r\n    &quot;reason&quot;: &quot;[gluetable][606635778254_db_dcs_int_test4_test_table_6SjooYiji3]: version conflict, required seqNo [1574635], primary term [6]. current document has seqNo [1574661] and primary term [6]&quot;,\r\n    &quot;index_uuid&quot;: &quot;jisjayWfTTe7Rd-Ll48qWw&quot;,\r\n    &quot;shard&quot;: &quot;0&quot;,\r\n    &quot;index&quot;: &quot;table_index&quot;\r\n   },\r\n   &quot;status&quot;: 409\r\n}\r\n```\r\n\r\n\r\n```\r\nprivate void test() {\r\n    String catalogId=&quot;606635778254&quot;;\r\n    String databaseName=&quot;db_dcs_int_test4&quot;;\r\n    String tableName=&quot;test_table_6SjooYiji3&quot;;\r\n    com.amazon.spektrdatacataloglambda.DBTable dbTable = new com.amazon.spektrdatacataloglambda.DBTable();\r\n    dbTable.setName(tableName);\r\n    dbTable.setCatalogId(catalogId);\r\n    dbTable.setMetadata(new HashMap&lt;String, String&gt;(){{ put(&quot;test&quot;,&quot;singhjfi&quot;);}});\r\n    elasticSearchUtils.upsertTableToTableIndexInES(catalogId, databaseName, dbTable, true, null);\r\n}\r\n    \r\n    \r\npublic void upsertTableToTableIndexInES(final String catalogId, final String databaseName, final DBTable table,\r\n                                        final Boolean isOverwriteESTableDoc,\r\n                                        final GetResponse tableESDocument) {\r\n    IndexRequest indexRequest = new IndexRequest(ES_TABLE_INDEX, ES_TABLE_INDEX_DOC_TYPE);\r\n\r\n    if (isOverwriteESTableDoc) {\r\n        // doing to prevent any data loss because of multiple update call from other DCS clients\r\n        // TODO: remove after testing\r\n        indexRequest = indexRequest.setIfSeqNo(1574633);\r\n        indexRequest = indexRequest.setIfPrimaryTerm(6);\r\n        log.info(&quot;setting sequence number and primary term&quot;);\r\n    }\r\n\r\n    final Map&lt;String, Object&gt; payload = getMapFromObject(table);\r\n    //Append table, database for search and actual payload information as string (no search on it).\r\n    payload.put(ES_TABLE_INDEX_DATABASE_NAME_KEY, databaseName);\r\n    payload.put(ES_DOC_KEY_CATALOG_ID, catalogId);\r\n\r\n    final String tableName = table.getName();\r\n    final String id = getESTableId(catalogId, databaseName, tableName);\r\n\r\n    indexRequest.source(payload).id(id);\r\n\r\n    log.info(&quot;Adding {} to elasticsearch index:{} as type {} with id {}&quot;, GSON.toJson(payload),\r\n            ES_TABLE_INDEX, ES_TABLE_INDEX_DOC_TYPE, id);\r\n\r\n    performIndexRequest(indexRequest);\r\n\r\n    log.info(&quot;Added {} to elasticsearch index:{} as type {} with id {}&quot;, GSON.toJson(payload),\r\n            ES_TABLE_INDEX, ES_TABLE_INDEX_DOC_TYPE, id);\r\n}\r\n    \r\nprotected void performIndexRequest (IndexRequest indexRequest) {\r\n    try {\r\n        log.info(&quot;seq_num={}, primary_term={}&quot;, indexRequest.ifSeqNo(), indexRequest.ifPrimaryTerm());\r\n        log.info(&quot;Initiating Index Request {} from ElasticSearch&quot;, indexRequest);\r\n        IndexResponse indexResponse = elasticSearchClient.index(indexRequest, RequestOptions.DEFAULT);\r\n        log.info(&quot;Index response {}&quot;, indexResponse);\r\n    } catch (IOException e) {\r\n        String ioError = String.format(&quot;I/O Error when performing index request %s on ElasticSearch.&quot;, indexRequest);\r\n        log.error(ioError, e);\r\n        throw new DataCatalogException(ioError + &quot; &quot; + e.getMessage(), e);\r\n    }\r\n}\r\n```\r\n\r\nlogs\r\n\r\n```\r\n[java] 11 Apr 2023 17:05:46,736 [INFO] [] (main) Utils:44 Initializing AppConfig with args:--root=build--realm=us-east-1--domain=beta\r\n[java] 11 Apr 2023 17:05:46,742 [INFO] [] (main) AppConfigTree:1556 Using config root at build/brazil-config\r\n[java] 11 Apr 2023 17:05:46,743 [INFO] [] (main) AppConfigTree:1703 Found domain = beta\r\n[java] 11 Apr 2023 17:05:46,743 [INFO] [] (main) AppConfigTree:1704 Found realm = us-east-1\r\n[java] 11 Apr 2023 17:05:46,743 [INFO] [] (main) AppConfigTree:1743 Determined appname = SpektrDataCatalogLambda\r\n[java] 11 Apr 2023 17:05:46,743 [INFO] [] (main) AppConfigTree:1759 Determined appgroup = SpektrDataCatalogLambda\r\n[java] 11 Apr 2023 17:05:46,744 [INFO] [] (main) AppConfigTree:1952 Parsing config file: build/brazil-config/app/SpektrDataCatalogLambda.cfg\r\n[java] 11 Apr 2023 17:05:46,749 [INFO] [] (main) MixedCaseTableUtils:116 tempDirPrefix=/tmp/beta\r\n[java] 11 Apr 2023 17:05:46,794 [INFO] [] (main) Utils:70 creating DCS client for awsAccountId=606635778254, realm=us-east-1, dcsEndpoint=https://datacatalogv2.beta.spektr.a2z.com\r\n[java] 11 Apr 2023 17:05:50,746 [INFO] [] (main) Utils:57 Getting your credentials from Conduit.\r\n[java] 11 Apr 2023 17:05:52,650 [INFO] [] (main) ElasticSearchClientFactory:46 Initialized ES URL as search-spektr-es-datacatalog-6-8-cq2riup3kroeai2hokcrfxh5me.us-east-1.es.amazonaws.com\r\n[java] 11 Apr 2023 17:05:52,909 [INFO] [] (main) ElasticSearchUtils:121 setting sequence number and primary term\r\n[java] 11 Apr 2023 17:05:53,009 [INFO] [] (main) ElasticSearchUtils:134 Adding {&quot;name&quot;:&quot;test_table_6SjooYiji3&quot;,&quot;catalogId&quot;:&quot;606635778254&quot;,&quot;metadata&quot;:{&quot;test&quot;:&quot;singhjfi&quot;},&quot;retentionPeriodInDays&quot;:0,&quot;databaseName&quot;:&quot;db_dcs_int_test4&quot;} to elasticsearch index:table_index as type gluetable with id 606635778254_db_dcs_int_test4_test_table_6SjooYiji3\r\n[java] 11 Apr 2023 17:05:53,010 [INFO] [] (main) ElasticSearchEnabledGlueDataCatalog:1971 seq_num=1574633, primary_term=6\r\n[java] 11 Apr 2023 17:05:53,011 [INFO] [] (main) ElasticSearchEnabledGlueDataCatalog:1972 Initiating Index Request index {[table_index][gluetable][606635778254_db_dcs_int_test4_test_table_6SjooYiji3], source[{&quot;name&quot;:&quot;test_table_6SjooYiji3&quot;,&quot;description&quot;:null,&quot;catalogId&quot;:&quot;606635778254&quot;,&quot;owner&quot;:null,&quot;partitionKeys&quot;:null,&quot;storageDescriptor&quot;:null,&quot;storageDetails&quot;:null,&quot;parameters&quot;:null,&quot;lastRefreshedTime&quot;:null,&quot;encryptedData&quot;:null,&quot;versioned&quot;:null,&quot;versionColumns&quot;:null,&quot;metadata&quot;:{&quot;test&quot;:&quot;singhjfi&quot;},&quot;retentionPeriodInDays&quot;:0,&quot;retention&quot;:null,&quot;autoApproveReadRequest&quot;:null,&quot;databaseName&quot;:&quot;db_dcs_int_test4&quot;}]} from ElasticSearch\r\n[java] 11 Apr 2023 17:05:53,885 [INFO] [] (main) ElasticSearchEnabledGlueDataCatalog:1974 Index response IndexResponse[index=table_index,type=gluetable,id=606635778254_db_dcs_int_test4_test_table_6SjooYiji3,version=35,result=updated,seqNo=1574661,primaryTerm=6,shards={&quot;total&quot;:2,&quot;successful&quot;:1,&quot;failed&quot;:0}]\r\n[java] 11 Apr 2023 17:05:53,885 [INFO] [] (main) ElasticSearchUtils:139 Added {&quot;name&quot;:&quot;test_table_6SjooYiji3&quot;,&quot;catalogId&quot;:&quot;606635778254&quot;,&quot;metadata&quot;:{&quot;test&quot;:&quot;singhjfi&quot;},&quot;retentionPeriodInDays&quot;:0,&quot;databaseName&quot;:&quot;db_dcs_int_test4&quot;} to elasticsearch index:table_index as type gluetable with id 606635778254_db_dcs_int_test4_test_table_6SjooYiji3\r\n[java] 11 Apr 2023 17:05:53,885 [INFO] [] (main) MixedCaseTableUtils:143 Done operation=test\r\n```","title":"ElasticSearch document is getting updated even after IfSeqNo and IfPrimaryTerm values don&#39;t match with assigned sequence number and primary term","body":"<p>I am attempting to verify whether an Elastic search document is being updated correctly by using an index request that has a different sequence number and primary term than what was assigned to the document. According to the documentation if IfSeqNo and IfPrimaryTerm values do not match with sequence_no and primary term of document then ES will throw VersionConflictEngineException . In my test code document is getting updated and sequence number is being incremented, even though I've set an old sequence number in my index request. I was expecting a VersionConflictEngineException exception to be thrown but this is not happening. Let me know what is wrong with my code. Thanks in advance.</p>\n<p>Attaching my java code. test method is the entry point. I tried doing same thing from kibana client on same ES cluster but it is working as expected (throwing exception).</p>\n<p>Elasticsearch version is 6.8\nJavaClient version is elasticsearch-6.6.1</p>\n<pre class=\"lang-java prettyprint-override\"><code> /**\n     * only perform this indexing request if the document was last modification was assigned the given\n     * sequence number. Must be used in combination with {@link #setIfPrimaryTerm(long)}\n     *\n     * If the document last modification was assigned a different sequence number a\n     * {@link org.elasticsearch.index.engine.VersionConflictEngineException} will be thrown.\n     */\n    public IndexRequest setIfSeqNo(long seqNo) { }\n</code></pre>\n<p>Kibana client example</p>\n<pre><code>POST /table_index/_doc/606635778254_db_dcs_int_test4_test_table_6SjooYiji3?if_seq_no=1574635&amp;if_primary_term=6\n{\n    &quot;name&quot; : &quot;test_table_6SjooYiji3&quot;,\n    &quot;description&quot; : null,\n    &quot;catalogId&quot; : &quot;606635778254&quot;,\n    &quot;databaseName&quot; : &quot;db_dcs_int_test4&quot;\n}\n\nResponse from kibana\n\n{\n   &quot;error&quot;: {\n    &quot;root_cause&quot;: [\n      {\n        &quot;type&quot;: &quot;version_conflict_engine_exception&quot;,\n        &quot;reason&quot;: &quot;[gluetable][606635778254_db_dcs_int_test4_test_table_6SjooYiji3]: version conflict, required seqNo [1574635], primary term [6]. current document has seqNo [1574661] and primary term [6]&quot;,\n        &quot;index_uuid&quot;: &quot;jisjayWfTTe7Rd-Ll48qWw&quot;,\n        &quot;shard&quot;: &quot;0&quot;,\n        &quot;index&quot;: &quot;table_index&quot;\n      }\n    ],\n    &quot;type&quot;: &quot;version_conflict_engine_exception&quot;,\n    &quot;reason&quot;: &quot;[gluetable][606635778254_db_dcs_int_test4_test_table_6SjooYiji3]: version conflict, required seqNo [1574635], primary term [6]. current document has seqNo [1574661] and primary term [6]&quot;,\n    &quot;index_uuid&quot;: &quot;jisjayWfTTe7Rd-Ll48qWw&quot;,\n    &quot;shard&quot;: &quot;0&quot;,\n    &quot;index&quot;: &quot;table_index&quot;\n   },\n   &quot;status&quot;: 409\n}\n</code></pre>\n<pre><code>private void test() {\n    String catalogId=&quot;606635778254&quot;;\n    String databaseName=&quot;db_dcs_int_test4&quot;;\n    String tableName=&quot;test_table_6SjooYiji3&quot;;\n    com.amazon.spektrdatacataloglambda.DBTable dbTable = new com.amazon.spektrdatacataloglambda.DBTable();\n    dbTable.setName(tableName);\n    dbTable.setCatalogId(catalogId);\n    dbTable.setMetadata(new HashMap&lt;String, String&gt;(){{ put(&quot;test&quot;,&quot;singhjfi&quot;);}});\n    elasticSearchUtils.upsertTableToTableIndexInES(catalogId, databaseName, dbTable, true, null);\n}\n    \n    \npublic void upsertTableToTableIndexInES(final String catalogId, final String databaseName, final DBTable table,\n                                        final Boolean isOverwriteESTableDoc,\n                                        final GetResponse tableESDocument) {\n    IndexRequest indexRequest = new IndexRequest(ES_TABLE_INDEX, ES_TABLE_INDEX_DOC_TYPE);\n\n    if (isOverwriteESTableDoc) {\n        // doing to prevent any data loss because of multiple update call from other DCS clients\n        // TODO: remove after testing\n        indexRequest = indexRequest.setIfSeqNo(1574633);\n        indexRequest = indexRequest.setIfPrimaryTerm(6);\n        log.info(&quot;setting sequence number and primary term&quot;);\n    }\n\n    final Map&lt;String, Object&gt; payload = getMapFromObject(table);\n    //Append table, database for search and actual payload information as string (no search on it).\n    payload.put(ES_TABLE_INDEX_DATABASE_NAME_KEY, databaseName);\n    payload.put(ES_DOC_KEY_CATALOG_ID, catalogId);\n\n    final String tableName = table.getName();\n    final String id = getESTableId(catalogId, databaseName, tableName);\n\n    indexRequest.source(payload).id(id);\n\n    log.info(&quot;Adding {} to elasticsearch index:{} as type {} with id {}&quot;, GSON.toJson(payload),\n            ES_TABLE_INDEX, ES_TABLE_INDEX_DOC_TYPE, id);\n\n    performIndexRequest(indexRequest);\n\n    log.info(&quot;Added {} to elasticsearch index:{} as type {} with id {}&quot;, GSON.toJson(payload),\n            ES_TABLE_INDEX, ES_TABLE_INDEX_DOC_TYPE, id);\n}\n    \nprotected void performIndexRequest (IndexRequest indexRequest) {\n    try {\n        log.info(&quot;seq_num={}, primary_term={}&quot;, indexRequest.ifSeqNo(), indexRequest.ifPrimaryTerm());\n        log.info(&quot;Initiating Index Request {} from ElasticSearch&quot;, indexRequest);\n        IndexResponse indexResponse = elasticSearchClient.index(indexRequest, RequestOptions.DEFAULT);\n        log.info(&quot;Index response {}&quot;, indexResponse);\n    } catch (IOException e) {\n        String ioError = String.format(&quot;I/O Error when performing index request %s on ElasticSearch.&quot;, indexRequest);\n        log.error(ioError, e);\n        throw new DataCatalogException(ioError + &quot; &quot; + e.getMessage(), e);\n    }\n}\n</code></pre>\n<p>logs</p>\n<pre><code>[java] 11 Apr 2023 17:05:46,736 [INFO] [] (main) Utils:44 Initializing AppConfig with args:--root=build--realm=us-east-1--domain=beta\n[java] 11 Apr 2023 17:05:46,742 [INFO] [] (main) AppConfigTree:1556 Using config root at build/brazil-config\n[java] 11 Apr 2023 17:05:46,743 [INFO] [] (main) AppConfigTree:1703 Found domain = beta\n[java] 11 Apr 2023 17:05:46,743 [INFO] [] (main) AppConfigTree:1704 Found realm = us-east-1\n[java] 11 Apr 2023 17:05:46,743 [INFO] [] (main) AppConfigTree:1743 Determined appname = SpektrDataCatalogLambda\n[java] 11 Apr 2023 17:05:46,743 [INFO] [] (main) AppConfigTree:1759 Determined appgroup = SpektrDataCatalogLambda\n[java] 11 Apr 2023 17:05:46,744 [INFO] [] (main) AppConfigTree:1952 Parsing config file: build/brazil-config/app/SpektrDataCatalogLambda.cfg\n[java] 11 Apr 2023 17:05:46,749 [INFO] [] (main) MixedCaseTableUtils:116 tempDirPrefix=/tmp/beta\n[java] 11 Apr 2023 17:05:46,794 [INFO] [] (main) Utils:70 creating DCS client for awsAccountId=606635778254, realm=us-east-1, dcsEndpoint=https://datacatalogv2.beta.spektr.a2z.com\n[java] 11 Apr 2023 17:05:50,746 [INFO] [] (main) Utils:57 Getting your credentials from Conduit.\n[java] 11 Apr 2023 17:05:52,650 [INFO] [] (main) ElasticSearchClientFactory:46 Initialized ES URL as search-spektr-es-datacatalog-6-8-cq2riup3kroeai2hokcrfxh5me.us-east-1.es.amazonaws.com\n[java] 11 Apr 2023 17:05:52,909 [INFO] [] (main) ElasticSearchUtils:121 setting sequence number and primary term\n[java] 11 Apr 2023 17:05:53,009 [INFO] [] (main) ElasticSearchUtils:134 Adding {&quot;name&quot;:&quot;test_table_6SjooYiji3&quot;,&quot;catalogId&quot;:&quot;606635778254&quot;,&quot;metadata&quot;:{&quot;test&quot;:&quot;singhjfi&quot;},&quot;retentionPeriodInDays&quot;:0,&quot;databaseName&quot;:&quot;db_dcs_int_test4&quot;} to elasticsearch index:table_index as type gluetable with id 606635778254_db_dcs_int_test4_test_table_6SjooYiji3\n[java] 11 Apr 2023 17:05:53,010 [INFO] [] (main) ElasticSearchEnabledGlueDataCatalog:1971 seq_num=1574633, primary_term=6\n[java] 11 Apr 2023 17:05:53,011 [INFO] [] (main) ElasticSearchEnabledGlueDataCatalog:1972 Initiating Index Request index {[table_index][gluetable][606635778254_db_dcs_int_test4_test_table_6SjooYiji3], source[{&quot;name&quot;:&quot;test_table_6SjooYiji3&quot;,&quot;description&quot;:null,&quot;catalogId&quot;:&quot;606635778254&quot;,&quot;owner&quot;:null,&quot;partitionKeys&quot;:null,&quot;storageDescriptor&quot;:null,&quot;storageDetails&quot;:null,&quot;parameters&quot;:null,&quot;lastRefreshedTime&quot;:null,&quot;encryptedData&quot;:null,&quot;versioned&quot;:null,&quot;versionColumns&quot;:null,&quot;metadata&quot;:{&quot;test&quot;:&quot;singhjfi&quot;},&quot;retentionPeriodInDays&quot;:0,&quot;retention&quot;:null,&quot;autoApproveReadRequest&quot;:null,&quot;databaseName&quot;:&quot;db_dcs_int_test4&quot;}]} from ElasticSearch\n[java] 11 Apr 2023 17:05:53,885 [INFO] [] (main) ElasticSearchEnabledGlueDataCatalog:1974 Index response IndexResponse[index=table_index,type=gluetable,id=606635778254_db_dcs_int_test4_test_table_6SjooYiji3,version=35,result=updated,seqNo=1574661,primaryTerm=6,shards={&quot;total&quot;:2,&quot;successful&quot;:1,&quot;failed&quot;:0}]\n[java] 11 Apr 2023 17:05:53,885 [INFO] [] (main) ElasticSearchUtils:139 Added {&quot;name&quot;:&quot;test_table_6SjooYiji3&quot;,&quot;catalogId&quot;:&quot;606635778254&quot;,&quot;metadata&quot;:{&quot;test&quot;:&quot;singhjfi&quot;},&quot;retentionPeriodInDays&quot;:0,&quot;databaseName&quot;:&quot;db_dcs_int_test4&quot;} to elasticsearch index:table_index as type gluetable with id 606635778254_db_dcs_int_test4_test_table_6SjooYiji3\n[java] 11 Apr 2023 17:05:53,885 [INFO] [] (main) MixedCaseTableUtils:143 Done operation=test\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1457601813,"post_id":35912227,"comment_id":59483498,"body_markdown":"Does it make any difference if you make it static or not?","body":"Does it make any difference if you make it static or not?"}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1457601982,"creation_date":1457601982,"answer_id":35912330,"question_id":35912227,"body_markdown":"I wouldn&#39;t keep a reference to the context. I would rather keep the `SharedPreference` and its `Editor` as static member of your helper class. This way you won&#39;t need to instantiate `SharedPreferencesHelper` every time you need to read/write the `SharedPreference`. One step further would use the Application `Context` (with a your custom Application subclass) to initialize both `SharedPreference` and `Editor`, the first time you access the helper itself. That&#39;s how I would shape it","title":"SharedPreferences helper class","body":"<p>I wouldn't keep a reference to the context. I would rather keep the <code>SharedPreference</code> and its <code>Editor</code> as static member of your helper class. This way you won't need to instantiate <code>SharedPreferencesHelper</code> every time you need to read/write the <code>SharedPreference</code>. One step further would use the Application <code>Context</code> (with a your custom Application subclass) to initialize both <code>SharedPreference</code> and <code>Editor</code>, the first time you access the helper itself. That's how I would shape it</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457602877,"creation_date":1457602323,"answer_id":35912468,"question_id":35912227,"body_markdown":"I would use static class if `Context` was a &quot;global&quot; context and obtaining values from the context was gruesomely long and (kinda) evil. That way, getting the value from the static class will be easier without having you to make mistake repeatingly doing the same operation all over your code space without making an error.\r\n\r\nAnd as for turning your `SharedPreferencesHelper` static, a good approach:\r\n\r\n    public class SharedPreferencesHelper {\r\n    \r\n        private SharedPreferencesHelper(Context context){\r\n        }\r\n        \r\n        private static void ensureNotNull(Context context) {\r\n            if (context == null) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Context is null.&quot;);\r\n            }\r\n        }\r\n    \r\n        public static boolean isLogged(Context context, String prefs){\r\n            ensureNotNull(context);\r\n            return context.getSharedPreferences(prefs,Context.MODE_PRIVATE)\r\n                          .getBoolean(&quot;LOGGED&quot;,false);\r\n        }\r\n    \r\n        public static void setLogged(Context context, String prefs){\r\n            ensureNotNull(context);\r\n            context.getSharedPreferences(prefs,Context.MODE_PRIVATE)\r\n                   .edit().putBoolean(&quot;LOGGED&quot;,true).apply();\r\n        }\r\n    }","title":"SharedPreferences helper class","body":"<p>I would use static class if <code>Context</code> was a \"global\" context and obtaining values from the context was gruesomely long and (kinda) evil. That way, getting the value from the static class will be easier without having you to make mistake repeatingly doing the same operation all over your code space without making an error.</p>\n\n<p>And as for turning your <code>SharedPreferencesHelper</code> static, a good approach:</p>\n\n<pre><code>public class SharedPreferencesHelper {\n\n    private SharedPreferencesHelper(Context context){\n    }\n\n    private static void ensureNotNull(Context context) {\n        if (context == null) {\n            throw new IllegalArgumentException(\"Context is null.\");\n        }\n    }\n\n    public static boolean isLogged(Context context, String prefs){\n        ensureNotNull(context);\n        return context.getSharedPreferences(prefs,Context.MODE_PRIVATE)\n                      .getBoolean(\"LOGGED\",false);\n    }\n\n    public static void setLogged(Context context, String prefs){\n        ensureNotNull(context);\n        context.getSharedPreferences(prefs,Context.MODE_PRIVATE)\n               .edit().putBoolean(\"LOGGED\",true).apply();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4818820,"reputation":1570,"user_id":3890043,"accept_rate":80,"display_name":"RushDroid"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1457611616,"creation_date":1457602601,"answer_id":35912608,"question_id":35912227,"body_markdown":"Here this class is help you.\r\n\r\n\r\n\r\n    import android.content.Context;\r\n    import android.content.SharedPreferences;\r\n    import android.content.SharedPreferences.Editor;\r\n    import android.preference.PreferenceManager;\r\n    //import android.preference.PreferenceManager;\r\n    \r\n    public class SharedPreference {\r\n    \r\n        private static SharedPreference   sharedPreference;\r\n        public static final String PREFS_NAME = &quot;AOP_PREFS&quot;;\r\n        public static final String PREFS_KEY = &quot;AOP_PREFS_String&quot;;\r\n    \r\n    \r\n    \r\n        public static SharedPreference getInstance()\r\n        {\r\n            if (sharedPreference == null)\r\n            {\r\n                sharedPreference = new SharedPreference();\r\n            }\r\n            return sharedPreference;\r\n        }\r\n    \r\n        public SharedPreference() {\r\n            super();\r\n        }\r\n    \r\n        public void save(Context context, String text , String Key) {\r\n            SharedPreferences settings;\r\n            Editor editor;\r\n    \r\n            //settings = PreferenceManager.getDefaultSharedPreferences(context);\r\n            settings = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE); //1\r\n            editor = settings.edit(); //2\r\n    \r\n            editor.putString(Key, text); //3\r\n    \r\n            editor.commit(); //4\r\n        }\r\n    \r\n        public String getValue(Context context , String Key) {\r\n            SharedPreferences settings;\r\n            String text = &quot;&quot;;\r\n          //  settings = PreferenceManager.getDefaultSharedPreferences(context);\r\n            settings = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\r\n            text = settings.getString(Key, &quot;&quot;);\r\n            return text;\r\n        }\r\n    \r\n        public void clearSharedPreference(Context context) {\r\n            SharedPreferences settings;\r\n            Editor editor;\r\n    \r\n            //settings = PreferenceManager.getDefaultSharedPreferences(context);\r\n            settings = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\r\n            editor = settings.edit();\r\n    \r\n            editor.clear();\r\n            editor.commit();\r\n        }\r\n    \r\n        public void removeValue(Context context , String value) {\r\n            SharedPreferences settings;\r\n            Editor editor;\r\n    \r\n            settings = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\r\n            editor = settings.edit();\r\n    \r\n            editor.remove(value);\r\n            editor.commit();\r\n        }\r\n    }\r\n\r\nYou can get value like this.\r\n\r\n    String KeeLogin = SharedPreference.getInstance().getValue(getApplicationContext(), &quot;YOUR_KEY&quot;);\r\n\r\nAnd Store data Like this \r\n\r\n    SharedPreference.getInstance().save(LoginScreen.this,&quot;VALUE&quot;,&quot;YOUR_KEY&quot;);\r\n\r\nHope its help you :)","title":"SharedPreferences helper class","body":"<p>Here this class is help you.</p>\n\n<pre><code>import android.content.Context;\nimport android.content.SharedPreferences;\nimport android.content.SharedPreferences.Editor;\nimport android.preference.PreferenceManager;\n//import android.preference.PreferenceManager;\n\npublic class SharedPreference {\n\n    private static SharedPreference   sharedPreference;\n    public static final String PREFS_NAME = \"AOP_PREFS\";\n    public static final String PREFS_KEY = \"AOP_PREFS_String\";\n\n\n\n    public static SharedPreference getInstance()\n    {\n        if (sharedPreference == null)\n        {\n            sharedPreference = new SharedPreference();\n        }\n        return sharedPreference;\n    }\n\n    public SharedPreference() {\n        super();\n    }\n\n    public void save(Context context, String text , String Key) {\n        SharedPreferences settings;\n        Editor editor;\n\n        //settings = PreferenceManager.getDefaultSharedPreferences(context);\n        settings = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE); //1\n        editor = settings.edit(); //2\n\n        editor.putString(Key, text); //3\n\n        editor.commit(); //4\n    }\n\n    public String getValue(Context context , String Key) {\n        SharedPreferences settings;\n        String text = \"\";\n      //  settings = PreferenceManager.getDefaultSharedPreferences(context);\n        settings = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\n        text = settings.getString(Key, \"\");\n        return text;\n    }\n\n    public void clearSharedPreference(Context context) {\n        SharedPreferences settings;\n        Editor editor;\n\n        //settings = PreferenceManager.getDefaultSharedPreferences(context);\n        settings = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\n        editor = settings.edit();\n\n        editor.clear();\n        editor.commit();\n    }\n\n    public void removeValue(Context context , String value) {\n        SharedPreferences settings;\n        Editor editor;\n\n        settings = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);\n        editor = settings.edit();\n\n        editor.remove(value);\n        editor.commit();\n    }\n}\n</code></pre>\n\n<p>You can get value like this.</p>\n\n<pre><code>String KeeLogin = SharedPreference.getInstance().getValue(getApplicationContext(), \"YOUR_KEY\");\n</code></pre>\n\n<p>And Store data Like this </p>\n\n<pre><code>SharedPreference.getInstance().save(LoginScreen.this,\"VALUE\",\"YOUR_KEY\");\n</code></pre>\n\n<p>Hope its help you :)</p>\n"},{"tags":[],"owner":{"account_id":5179774,"reputation":560,"user_id":4145810,"display_name":"MrZ"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1457604800,"creation_date":1457602695,"answer_id":35912651,"question_id":35912227,"body_markdown":"Use this  : \r\n\r\n\r\n    public class SharedPreferencesHelper {\r\n\r\n    public static final String FILE_NAME = &quot;APP_PREFERENCES&quot;;\r\n\r\n      public static void put(Context context, String key, Object object) {\r\n\r\n        SharedPreferences sp = context.getSharedPreferences(FILE_NAME,  Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sp.edit();\r\n        if (object instanceof String) {\r\n            editor.putString(key, (String) object);\r\n        } else if (object instanceof Integer) {\r\n            editor.putInt(key, (Integer) object);\r\n        } else if (object instanceof Boolean) {\r\n            editor.putBoolean(key, (Boolean) object);\r\n        } else if (object instanceof Float) {\r\n            editor.putFloat(key, (Float) object);\r\n        } else if (object instanceof Long) {\r\n            editor.putLong(key, (Long) object);\r\n        } else {\r\n            editor.putString(key, object.toString());\r\n        }\r\n        SharedPreferencesCompat.apply(editor);\r\n    }\r\n\r\n       public static Object get(Context context, String key, Object defaultObject) {\r\n\r\n        SharedPreferences sp = context.getSharedPreferences(FILE_NAME, Context.MODE_PRIVATE);\r\n\r\n        if (defaultObject instanceof String) {\r\n            return sp.getString(key, (String) defaultObject);\r\n        } else if (defaultObject instanceof Integer) {\r\n            return sp.getInt(key, (Integer) defaultObject);\r\n        } else if (defaultObject instanceof Boolean) {\r\n            return sp.getBoolean(key, (Boolean) defaultObject);\r\n        } else if (defaultObject instanceof Float) {\r\n            return sp.getFloat(key, (Float) defaultObject);\r\n        } else if (defaultObject instanceof Long) {\r\n            return sp.getLong(key, (Long) defaultObject);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public static void remove(Context context, String key) {\r\n        SharedPreferences sp = context.getSharedPreferences(FILE_NAME, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sp.edit();\r\n        editor.remove(key);\r\n        SharedPreferencesCompat.apply(editor);\r\n    }\r\n\r\n    public static void clear(Context context) {\r\n        SharedPreferences sp = context.getSharedPreferences(FILE_NAME, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sp.edit();\r\n        editor.clear();\r\n        SharedPreferencesCompat.apply(editor);\r\n    }\r\n\r\n    public static boolean contains(Context context, String key) {\r\n        SharedPreferences sp = context.getSharedPreferences(FILE_NAME, Context.MODE_PRIVATE);\r\n        return sp.contains(key);\r\n    }\r\n\r\n    public static Map&lt;String, ?&gt; getAll(Context context) {\r\n        SharedPreferences sp = context.getSharedPreferences(FILE_NAME, Context.MODE_PRIVATE);\r\n        return sp.getAll();\r\n    }\r\n\r\n\r\n\r\n    private static class SharedPreferencesCompat {\r\n        private static final Method sApplyMethod = findApplyMethod();\r\n\r\n        @SuppressWarnings({&quot;unchecked&quot;, &quot;rawtypes&quot;})\r\n        private static Method findApplyMethod() {\r\n            try {\r\n                Class clz = SharedPreferences.Editor.class;\r\n                return clz.getMethod(&quot;apply&quot;);\r\n            } catch (NoSuchMethodException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        public static void apply(SharedPreferences.Editor editor) {\r\n            try {\r\n                if (sApplyMethod != null) {\r\n                    sApplyMethod.invoke(editor);\r\n                    return;\r\n                }\r\n            } catch (IllegalArgumentException | IllegalAccessException | InvocationTargetException e) {\r\n                e.printStackTrace();\r\n            }\r\n            editor.commit();\r\n\r\n\r\n        }\r\n    }\r\n     }\r\n","title":"SharedPreferences helper class","body":"<p>Use this  : </p>\n\n<pre><code>public class SharedPreferencesHelper {\n\npublic static final String FILE_NAME = \"APP_PREFERENCES\";\n\n  public static void put(Context context, String key, Object object) {\n\n    SharedPreferences sp = context.getSharedPreferences(FILE_NAME,  Context.MODE_PRIVATE);\n    SharedPreferences.Editor editor = sp.edit();\n    if (object instanceof String) {\n        editor.putString(key, (String) object);\n    } else if (object instanceof Integer) {\n        editor.putInt(key, (Integer) object);\n    } else if (object instanceof Boolean) {\n        editor.putBoolean(key, (Boolean) object);\n    } else if (object instanceof Float) {\n        editor.putFloat(key, (Float) object);\n    } else if (object instanceof Long) {\n        editor.putLong(key, (Long) object);\n    } else {\n        editor.putString(key, object.toString());\n    }\n    SharedPreferencesCompat.apply(editor);\n}\n\n   public static Object get(Context context, String key, Object defaultObject) {\n\n    SharedPreferences sp = context.getSharedPreferences(FILE_NAME, Context.MODE_PRIVATE);\n\n    if (defaultObject instanceof String) {\n        return sp.getString(key, (String) defaultObject);\n    } else if (defaultObject instanceof Integer) {\n        return sp.getInt(key, (Integer) defaultObject);\n    } else if (defaultObject instanceof Boolean) {\n        return sp.getBoolean(key, (Boolean) defaultObject);\n    } else if (defaultObject instanceof Float) {\n        return sp.getFloat(key, (Float) defaultObject);\n    } else if (defaultObject instanceof Long) {\n        return sp.getLong(key, (Long) defaultObject);\n    }\n\n    return null;\n}\n\npublic static void remove(Context context, String key) {\n    SharedPreferences sp = context.getSharedPreferences(FILE_NAME, Context.MODE_PRIVATE);\n    SharedPreferences.Editor editor = sp.edit();\n    editor.remove(key);\n    SharedPreferencesCompat.apply(editor);\n}\n\npublic static void clear(Context context) {\n    SharedPreferences sp = context.getSharedPreferences(FILE_NAME, Context.MODE_PRIVATE);\n    SharedPreferences.Editor editor = sp.edit();\n    editor.clear();\n    SharedPreferencesCompat.apply(editor);\n}\n\npublic static boolean contains(Context context, String key) {\n    SharedPreferences sp = context.getSharedPreferences(FILE_NAME, Context.MODE_PRIVATE);\n    return sp.contains(key);\n}\n\npublic static Map&lt;String, ?&gt; getAll(Context context) {\n    SharedPreferences sp = context.getSharedPreferences(FILE_NAME, Context.MODE_PRIVATE);\n    return sp.getAll();\n}\n\n\n\nprivate static class SharedPreferencesCompat {\n    private static final Method sApplyMethod = findApplyMethod();\n\n    @SuppressWarnings({\"unchecked\", \"rawtypes\"})\n    private static Method findApplyMethod() {\n        try {\n            Class clz = SharedPreferences.Editor.class;\n            return clz.getMethod(\"apply\");\n        } catch (NoSuchMethodException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n    public static void apply(SharedPreferences.Editor editor) {\n        try {\n            if (sApplyMethod != null) {\n                sApplyMethod.invoke(editor);\n                return;\n            }\n        } catch (IllegalArgumentException | IllegalAccessException | InvocationTargetException e) {\n            e.printStackTrace();\n        }\n        editor.commit();\n\n\n    }\n}\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1111321,"reputation":8799,"user_id":1101730,"accept_rate":78,"display_name":"Micer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512838549,"creation_date":1512838549,"answer_id":47730879,"question_id":35912227,"body_markdown":"I ended up with singleton pattern, keeping only one instance at the time:\r\n\r\n\r\n    import android.content.Context;\r\n    import android.support.annotation.NonNull;\r\n\r\n    public class SharedPrefsUtil {\r\n        private static SharedPrefsUtil instance;\r\n        private static final String PREFS_NAME = &quot;default_preferences&quot;;\r\n\r\n        public synchronized static SharedPrefsUtil getInstance() {\r\n            if (instance == null) {\r\n                instance = new SharedPrefsUtil();\r\n            }\r\n            return instance;\r\n        }\r\n\r\n        private SharedPrefsUtil() {\r\n        }\r\n\r\n        public boolean isLoggedIn(@NonNull Context context) {\r\n            return context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE)\r\n                    .getBoolean(&quot;LOGGED&quot;, false);\r\n        }\r\n\r\n        public void setLoggedIn(@NonNull Context context, boolean value) {\r\n            context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE)\r\n                    .edit().putBoolean(&quot;LOGGED&quot;, value).apply();\r\n        }\r\n    }\r\n\r\nNote the same singleton could be easily achieved using [Dagger][1] library.\r\n\r\n\r\n  [1]: https://google.github.io/dagger/","title":"SharedPreferences helper class","body":"<p>I ended up with singleton pattern, keeping only one instance at the time:</p>\n\n<pre><code>import android.content.Context;\nimport android.support.annotation.NonNull;\n\npublic class SharedPrefsUtil {\n    private static SharedPrefsUtil instance;\n    private static final String PREFS_NAME = \"default_preferences\";\n\n    public synchronized static SharedPrefsUtil getInstance() {\n        if (instance == null) {\n            instance = new SharedPrefsUtil();\n        }\n        return instance;\n    }\n\n    private SharedPrefsUtil() {\n    }\n\n    public boolean isLoggedIn(@NonNull Context context) {\n        return context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE)\n                .getBoolean(\"LOGGED\", false);\n    }\n\n    public void setLoggedIn(@NonNull Context context, boolean value) {\n        context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE)\n                .edit().putBoolean(\"LOGGED\", value).apply();\n    }\n}\n</code></pre>\n\n<p>Note the same singleton could be easily achieved using <a href=\"https://google.github.io/dagger/\" rel=\"nofollow noreferrer\">Dagger</a> library.</p>\n"},{"tags":[],"owner":{"account_id":5387895,"reputation":5212,"user_id":4291264,"accept_rate":88,"display_name":"Manuel Schmitzberger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580746525,"creation_date":1580745130,"answer_id":60042696,"question_id":35912227,"body_markdown":"This works for me:\r\n\r\n    object SharedPreferenceHelper {\r\n    \tprivate val PREF_FILE = &quot;SharedPreference&quot;\r\n    \r\n    \tenum class StringValues(val defValue: String) {\r\n    \t\tTest1(&quot;&quot;);\r\n    \r\n    \t\tfun set(context: Context, value: String) {\r\n    \t\t\tcontext.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).edit().putString(name, value).apply()\r\n    \t\t}\r\n    \r\n    \t\tfun get(context: Context): String? = context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).getString(name, defValue)\r\n    \t}\r\n    \r\n    \tenum class IntValues(val defValue: Int) {\r\n    \t\tTest1(0);\r\n    \r\n    \t\tfun set(context: Context, value: Int) {\r\n    \t\t\tcontext.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).edit().putInt(name, value).apply()\r\n    \t\t}\r\n    \r\n    \t\tfun get(context: Context): Int = context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).getInt(name, defValue)\r\n    \t}\r\n    \r\n    \tenum class LongValues(val defValue: Long) {\r\n    \t\tTest1(0);\r\n    \r\n    \t\tfun set(context: Context, value: Long) {\r\n    \t\t\tcontext.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).edit().putLong(name, value).apply()\r\n    \t\t}\r\n    \r\n    \t\tfun get(context: Context): Long = context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).getLong(name, defValue)\r\n    \t}\r\n    \r\n    \tenum class FloatValues(val defValue: Float) {\r\n    \t\tTest1(0f);\r\n    \r\n    \t\tfun set(context: Context, value: Float) {\r\n    \t\t\tcontext.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).edit().putFloat(name, value).apply()\r\n    \t\t}\r\n    \r\n    \t\tfun get(context: Context): Float = context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).getFloat(name, defValue)\r\n    \t}\r\n    \r\n    \tenum class BooleanValues(val defValue: Boolean) {\r\n    \t\tTest1(true);\r\n    \r\n    \t\tfun set(context: Context, value: Boolean) {\r\n    \t\t\tcontext.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).edit().putBoolean(name, value).apply()\r\n    \t\t}\r\n    \r\n    \t\tfun get(context: Context): Boolean = context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).getBoolean(name, defValue)\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"SharedPreferences helper class","body":"<p>This works for me:</p>\n\n<pre><code>object SharedPreferenceHelper {\n    private val PREF_FILE = \"SharedPreference\"\n\n    enum class StringValues(val defValue: String) {\n        Test1(\"\");\n\n        fun set(context: Context, value: String) {\n            context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).edit().putString(name, value).apply()\n        }\n\n        fun get(context: Context): String? = context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).getString(name, defValue)\n    }\n\n    enum class IntValues(val defValue: Int) {\n        Test1(0);\n\n        fun set(context: Context, value: Int) {\n            context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).edit().putInt(name, value).apply()\n        }\n\n        fun get(context: Context): Int = context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).getInt(name, defValue)\n    }\n\n    enum class LongValues(val defValue: Long) {\n        Test1(0);\n\n        fun set(context: Context, value: Long) {\n            context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).edit().putLong(name, value).apply()\n        }\n\n        fun get(context: Context): Long = context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).getLong(name, defValue)\n    }\n\n    enum class FloatValues(val defValue: Float) {\n        Test1(0f);\n\n        fun set(context: Context, value: Float) {\n            context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).edit().putFloat(name, value).apply()\n        }\n\n        fun get(context: Context): Float = context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).getFloat(name, defValue)\n    }\n\n    enum class BooleanValues(val defValue: Boolean) {\n        Test1(true);\n\n        fun set(context: Context, value: Boolean) {\n            context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).edit().putBoolean(name, value).apply()\n        }\n\n        fun get(context: Context): Boolean = context.getSharedPreferences(PREF_FILE, Context.MODE_PRIVATE).getBoolean(name, defValue)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13052782,"reputation":51,"user_id":9432542,"display_name":"Shubham Vyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653469296,"creation_date":1653469296,"answer_id":72374697,"question_id":35912227,"body_markdown":"I have not created another class but I am using GenericActivity concept and I have created the function inside the BaseActivity class which extends AppCompatActivity and my all Activities extends Base Activity.\r\n\r\n    //This is the function to Set or Put values in sharedPref : Kotlin\r\n    \r\n    fun putToSharedPref(key: String, value: Any) {\r\n            val editor =  getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).edit()\r\n            when (value) {\r\n                is String -&gt; {\r\n                    editor.putString(key,value)\r\n                }\r\n                is Int -&gt; {\r\n                    editor.putInt(key,value)\r\n                }\r\n                is Float -&gt; {\r\n                    editor.putFloat(key,value)\r\n                }\r\n                is Long -&gt; {\r\n                    editor.putLong(key,value)\r\n                }\r\n                is Boolean -&gt; {\r\n                    editor.putBoolean(key,value)\r\n                }\r\n            }\r\n            editor.apply()\r\n        }\r\n\r\n    //This function are for getting the value from shared pref.\r\n    \r\n    fun getSharedPrefBoolean(key: String, default: Boolean) : Boolean {\r\n            return getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).getBoolean(key,default)\r\n        }\r\n    \r\n        fun getSharedPrefInt(key: String, default: Int) : Int {\r\n            return getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).getInt(key,default)\r\n        }\r\n    \r\n        fun getSharedPrefString(key: String, default: String) : String? {\r\n            return getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).getString(key,default)\r\n        }\r\n    \r\n        fun getSharedPrefFloat(key: String, default: Float) : Float {\r\n            return getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).getFloat(key,default)\r\n        }\r\n    \r\n        fun getSharedPrefLong(key: String, default: Long) : Long {\r\n            return getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).getLong(key,default)\r\n        }","title":"SharedPreferences helper class","body":"<p>I have not created another class but I am using GenericActivity concept and I have created the function inside the BaseActivity class which extends AppCompatActivity and my all Activities extends Base Activity.</p>\n<pre><code>//This is the function to Set or Put values in sharedPref : Kotlin\n\nfun putToSharedPref(key: String, value: Any) {\n        val editor =  getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).edit()\n        when (value) {\n            is String -&gt; {\n                editor.putString(key,value)\n            }\n            is Int -&gt; {\n                editor.putInt(key,value)\n            }\n            is Float -&gt; {\n                editor.putFloat(key,value)\n            }\n            is Long -&gt; {\n                editor.putLong(key,value)\n            }\n            is Boolean -&gt; {\n                editor.putBoolean(key,value)\n            }\n        }\n        editor.apply()\n    }\n\n//This function are for getting the value from shared pref.\n\nfun getSharedPrefBoolean(key: String, default: Boolean) : Boolean {\n        return getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).getBoolean(key,default)\n    }\n\n    fun getSharedPrefInt(key: String, default: Int) : Int {\n        return getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).getInt(key,default)\n    }\n\n    fun getSharedPrefString(key: String, default: String) : String? {\n        return getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).getString(key,default)\n    }\n\n    fun getSharedPrefFloat(key: String, default: Float) : Float {\n        return getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).getFloat(key,default)\n    }\n\n    fun getSharedPrefLong(key: String, default: Long) : Long {\n        return getSharedPreferences(Constants.appName, Context.MODE_PRIVATE).getLong(key,default)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16824276,"reputation":47,"user_id":12163933,"display_name":"waleed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681408479,"creation_date":1681408479,"answer_id":76008464,"question_id":35912227,"body_markdown":"create a class with the name of SharedPreferencesHelper like this\r\n\r\n    public class SharedPreferencesHelper {\r\n    private SharedPreferences sharedPreferences;\r\n\r\n    public SharedPreferencesHelper(Context context, String preferenceFileName) {\r\n        sharedPreferences = context.getSharedPreferences(preferenceFileName, Context.MODE_PRIVATE);\r\n    }\r\n\r\n    public void setString(String key, String value) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(key, value);\r\n        editor.apply();\r\n    }\r\n\r\n    public String getString(String key) {\r\n        return sharedPreferences.getString(key, &quot;abc&quot;);\r\n    }\r\n\r\n    public void setInt(String key, int value) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putInt(key, value);\r\n        editor.apply();\r\n    }\r\n\r\n    public int getInt(String key) {\r\n        return sharedPreferences.getInt(key, 1);\r\n    } }\r\n\r\nYou can use this class like this\r\n\r\n    private SharedPreferencesHelper prefs = new SharedPreferencesHelper(requireContext(), &quot;my_preferences&quot;);\r\n\r\n    //for string value\r\n    prefs.setString(&quot;keyString&quot;,&quot;hi&quot;);\r\n    prefs.getString(&quot;keyString&quot;);\r\n\r\n    //for int value\r\n    prefs.setInt(&quot;keyInt&quot;,2);\r\n    prefs.getInt(&quot;keyInt&quot;);","title":"SharedPreferences helper class","body":"<p>create a class with the name of SharedPreferencesHelper like this</p>\n<pre><code>public class SharedPreferencesHelper {\nprivate SharedPreferences sharedPreferences;\n\npublic SharedPreferencesHelper(Context context, String preferenceFileName) {\n    sharedPreferences = context.getSharedPreferences(preferenceFileName, Context.MODE_PRIVATE);\n}\n\npublic void setString(String key, String value) {\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putString(key, value);\n    editor.apply();\n}\n\npublic String getString(String key) {\n    return sharedPreferences.getString(key, &quot;abc&quot;);\n}\n\npublic void setInt(String key, int value) {\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putInt(key, value);\n    editor.apply();\n}\n\npublic int getInt(String key) {\n    return sharedPreferences.getInt(key, 1);\n} }\n</code></pre>\n<p>You can use this class like this</p>\n<pre><code>private SharedPreferencesHelper prefs = new SharedPreferencesHelper(requireContext(), &quot;my_preferences&quot;);\n\n//for string value\nprefs.setString(&quot;keyString&quot;,&quot;hi&quot;);\nprefs.getString(&quot;keyString&quot;);\n\n//for int value\nprefs.setInt(&quot;keyInt&quot;,2);\nprefs.getInt(&quot;keyInt&quot;);\n</code></pre>\n"}],"owner":{"account_id":4167506,"reputation":2755,"user_id":3416163,"accept_rate":92,"display_name":"Anton Kazakov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9172,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":35912330,"answer_count":8,"score":8,"last_activity_date":1681408479,"creation_date":1457601695,"question_id":35912227,"body_markdown":"I am doing SharedPreferences helper class to make my code looks nice. \r\n\r\n    public class SharedPreferencesHelper {\r\n        Context context;\r\n\r\n        public SharedPreferencesHelper(Context context){\r\n            this.context = context;\r\n        }\r\n\r\n        public boolean isLogged(String prefs){\r\n            return context.getSharedPreferences(prefs,Context.MODE_PRIVATE)\r\n                          .getBoolean(&quot;LOGGED&quot;,false);\r\n        }\r\n\r\n        public void setLogged(String prefs){\r\n            context.getSharedPreferences(prefs,Context.MODE_PRIVATE)\r\n                   .edit().putBoolean(&quot;LOGGED&quot;,true).apply();\r\n        }\r\n    }\r\n\r\nThe question is should I make these methods static and initialize SharedPreferences in each method or better to left it not static and call SharedPreferencesHelper class once from my other classes? Thanks","title":"SharedPreferences helper class","body":"<p>I am doing SharedPreferences helper class to make my code looks nice. </p>\n\n<pre><code>public class SharedPreferencesHelper {\n    Context context;\n\n    public SharedPreferencesHelper(Context context){\n        this.context = context;\n    }\n\n    public boolean isLogged(String prefs){\n        return context.getSharedPreferences(prefs,Context.MODE_PRIVATE)\n                      .getBoolean(\"LOGGED\",false);\n    }\n\n    public void setLogged(String prefs){\n        context.getSharedPreferences(prefs,Context.MODE_PRIVATE)\n               .edit().putBoolean(\"LOGGED\",true).apply();\n    }\n}\n</code></pre>\n\n<p>The question is should I make these methods static and initialize SharedPreferences in each method or better to left it not static and call SharedPreferencesHelper class once from my other classes? Thanks</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1681397353,"post_id":76003433,"comment_id":134052702,"body_markdown":"why did you just post a section of the logs when i asked for the full logs?","body":"why did you just post a section of the logs when i asked for the full logs?"}],"answers":[{"tags":[],"owner":{"account_id":13507880,"reputation":151,"user_id":9745412,"display_name":"Haohan Yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681408092,"creation_date":1681408092,"answer_id":76008422,"question_id":76003433,"body_markdown":"I managed to solve it by changing \r\n```\r\nhttp.authorizeHttpRequests((requests) -&gt;\r\n                    requests\r\n                            .requestMatchers(&quot;/&quot;, &quot;/h2-console/**&quot;).permitAll()\r\n                            .anyRequest().authenticated()\r\n                );\r\n```\r\nto \r\n```java\r\nhttp.authorizeHttpRequests((requests) -&gt;\r\n                requests\r\n                        .requestMatchers(PathRequest.toH2Console()).permitAll()\r\n                        .anyRequest().authenticated()\r\n        );\r\n```\r\nReference: https://github.com/spring-projects/spring-security/issues/12310#issuecomment-1328990026 and https://github.com/spring-projects/spring-security/issues/12546","title":"Spring Security blocks H2 console despite permitting &quot;/h2-console/**&quot; in configuration","body":"<p>I managed to solve it by changing</p>\n<pre><code>http.authorizeHttpRequests((requests) -&gt;\n                    requests\n                            .requestMatchers(&quot;/&quot;, &quot;/h2-console/**&quot;).permitAll()\n                            .anyRequest().authenticated()\n                );\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.authorizeHttpRequests((requests) -&gt;\n                requests\n                        .requestMatchers(PathRequest.toH2Console()).permitAll()\n                        .anyRequest().authenticated()\n        );\n</code></pre>\n<p>Reference: <a href=\"https://github.com/spring-projects/spring-security/issues/12310#issuecomment-1328990026\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/12310#issuecomment-1328990026</a> and <a href=\"https://github.com/spring-projects/spring-security/issues/12546\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/12546</a></p>\n"}],"owner":{"account_id":13507880,"reputation":151,"user_id":9745412,"display_name":"Haohan Yang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76008422,"answer_count":1,"score":-1,"last_activity_date":1681408092,"creation_date":1681375520,"question_id":76003433,"body_markdown":"Spring Security blocks h2 console, despite I have set permission to `/h2-console/**` in the configuration \r\n```java\r\n@Configuration\r\npublic class Config {\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf().disable();\r\n        http.authorizeHttpRequests((requests) -&gt;\r\n                    requests\r\n                            .requestMatchers(&quot;/&quot;, &quot;/h2-console/**&quot;).permitAll()\r\n                            .anyRequest().authenticated()\r\n                );\r\n        http.headers().frameOptions().disable();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nI have already read related answers on SO but they didn&#39;t work for me.\r\n\r\nThe link to the project is [here][1]\r\n\r\ndebug logs\r\n\r\n```\r\n2023-04-13T17:02:45.447+02:00  INFO 28567 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.4.1 with PID 28567 (/Users/haohanyang/Developer/demo/build/classes/java/main started by haohanyang in /Users/haohanyang/Developer/demo)\r\n2023-04-13T17:02:45.450+02:00  INFO 28567 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-13T17:02:45.903+02:00  INFO 28567 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-13T17:02:45.920+02:00  INFO 28567 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.\r\n2023-04-13T17:02:46.322+02:00  INFO 28567 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-04-13T17:02:46.329+02:00  INFO 28567 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-04-13T17:02:46.329+02:00  INFO 28567 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\r\n2023-04-13T17:02:46.391+02:00  INFO 28567 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-04-13T17:02:46.392+02:00  INFO 28567 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 897 ms\r\n2023-04-13T17:02:46.416+02:00  INFO 28567 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-13T17:02:46.566+02:00  INFO 28567 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA\r\n2023-04-13T17:02:46.567+02:00  INFO 28567 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-04-13T17:02:46.579+02:00  INFO 28567 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:mem:testdb&#39;\r\n2023-04-13T17:02:46.679+02:00  INFO 28567 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-13T17:02:46.712+02:00  INFO 28567 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-04-13T17:02:46.944+02:00  INFO 28567 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2023-04-13T17:02:47.152+02:00  INFO 28567 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-04-13T17:02:47.161+02:00  INFO 28567 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-13T17:02:47.184+02:00  WARN 28567 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-04-13T17:02:47.207+02:00  WARN 28567 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \r\n\r\nUsing generated security password: b0b3b2e8-29f6-4e45-9a25-4224980accd1\r\n\r\nThis generated password is for development use only. Your security configuration must be updated before running your application in production.\r\n\r\n2023-04-13T17:02:47.396+02:00  INFO 28567 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14239223, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68df8c6, org.springframework.security.web.context.SecurityContextHolderFilter@1fc3df43, org.springframework.security.web.header.HeaderWriterFilter@552bee2f, org.springframework.security.web.authentication.logout.LogoutFilter@1dfcf85a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e7cd0df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3de45b6c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c206b14, org.springframework.security.web.access.ExceptionTranslationFilter@6cc56b32, org.springframework.security.web.access.intercept.AuthorizationFilter@7dddfc35]\r\n2023-04-13T17:02:47.589+02:00  INFO 28567 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-04-13T17:02:47.597+02:00  INFO 28567 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 2.434 seconds (process running for 2.835)\r\n2023-04-13T17:02:50.531+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /h2-console\r\n2023-04-13T17:02:50.546+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-04-13T17:02:50.565+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/h2-console?continue to session\r\n2023-04-13T17:02:50.565+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n2023-04-13T17:02:50.569+02:00  INFO 28567 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-04-13T17:02:50.569+02:00  INFO 28567 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-04-13T17:02:50.571+02:00  INFO 28567 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2023-04-13T17:02:50.572+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-04-13T17:02:50.578+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-04-13T17:02:50.579+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session\r\n2023-04-13T17:02:50.579+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n```\r\n\r\n  [1]: https://gitlab.com/haohanyang/spring-security-blocks-h2-console\r\n","title":"Spring Security blocks H2 console despite permitting &quot;/h2-console/**&quot; in configuration","body":"<p>Spring Security blocks h2 console, despite I have set permission to <code>/h2-console/**</code> in the configuration</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        http.csrf().disable();\n        http.authorizeHttpRequests((requests) -&gt;\n                    requests\n                            .requestMatchers(&quot;/&quot;, &quot;/h2-console/**&quot;).permitAll()\n                            .anyRequest().authenticated()\n                );\n        http.headers().frameOptions().disable();\n        return http.build();\n    }\n}\n</code></pre>\n<p>I have already read related answers on SO but they didn't work for me.</p>\n<p>The link to the project is <a href=\"https://gitlab.com/haohanyang/spring-security-blocks-h2-console\" rel=\"nofollow noreferrer\">here</a></p>\n<p>debug logs</p>\n<pre><code>2023-04-13T17:02:45.447+02:00  INFO 28567 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.4.1 with PID 28567 (/Users/haohanyang/Developer/demo/build/classes/java/main started by haohanyang in /Users/haohanyang/Developer/demo)\n2023-04-13T17:02:45.450+02:00  INFO 28567 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-13T17:02:45.903+02:00  INFO 28567 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-13T17:02:45.920+02:00  INFO 28567 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JPA repository interfaces.\n2023-04-13T17:02:46.322+02:00  INFO 28567 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-13T17:02:46.329+02:00  INFO 28567 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-13T17:02:46.329+02:00  INFO 28567 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-04-13T17:02:46.391+02:00  INFO 28567 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-13T17:02:46.392+02:00  INFO 28567 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 897 ms\n2023-04-13T17:02:46.416+02:00  INFO 28567 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-13T17:02:46.566+02:00  INFO 28567 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA\n2023-04-13T17:02:46.567+02:00  INFO 28567 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-13T17:02:46.579+02:00  INFO 28567 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'\n2023-04-13T17:02:46.679+02:00  INFO 28567 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-13T17:02:46.712+02:00  INFO 28567 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-13T17:02:46.944+02:00  INFO 28567 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2023-04-13T17:02:47.152+02:00  INFO 28567 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-13T17:02:47.161+02:00  INFO 28567 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-13T17:02:47.184+02:00  WARN 28567 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-04-13T17:02:47.207+02:00  WARN 28567 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \n\nUsing generated security password: b0b3b2e8-29f6-4e45-9a25-4224980accd1\n\nThis generated password is for development use only. Your security configuration must be updated before running your application in production.\n\n2023-04-13T17:02:47.396+02:00  INFO 28567 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14239223, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68df8c6, org.springframework.security.web.context.SecurityContextHolderFilter@1fc3df43, org.springframework.security.web.header.HeaderWriterFilter@552bee2f, org.springframework.security.web.authentication.logout.LogoutFilter@1dfcf85a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e7cd0df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3de45b6c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c206b14, org.springframework.security.web.access.ExceptionTranslationFilter@6cc56b32, org.springframework.security.web.access.intercept.AuthorizationFilter@7dddfc35]\n2023-04-13T17:02:47.589+02:00  INFO 28567 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-04-13T17:02:47.597+02:00  INFO 28567 --- [           main] com.example.demo.DemoApplication         : Started DemoApplication in 2.434 seconds (process running for 2.835)\n2023-04-13T17:02:50.531+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /h2-console\n2023-04-13T17:02:50.546+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-04-13T17:02:50.565+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/h2-console?continue to session\n2023-04-13T17:02:50.565+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n2023-04-13T17:02:50.569+02:00  INFO 28567 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-04-13T17:02:50.569+02:00  INFO 28567 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-04-13T17:02:50.571+02:00  INFO 28567 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-04-13T17:02:50.572+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-04-13T17:02:50.578+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-04-13T17:02:50.579+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session\n2023-04-13T17:02:50.579+02:00 DEBUG 28567 --- [nio-8080-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n</code></pre>\n"},{"tags":["java","constructor","discord-jda"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1681403467,"post_id":76007773,"comment_id":134054410,"body_markdown":"`BotJokeService` is a service, you have to autowire it, don&#39;t instantiate it manually.","body":"<code>BotJokeService</code> is a service, you have to autowire it, don&#39;t instantiate it manually."},{"owner":{"account_id":27013009,"reputation":1,"user_id":20572341,"display_name":"user20572341"},"score":0,"creation_date":1681403732,"post_id":76007773,"comment_id":134054465,"body_markdown":"how to autowire botjokeservice i dont get it, jda listens class only if u add class on addeventlisteners whenever i try to add botjokeservice it gives constructor error , how to autowire my class please define ((","body":"how to autowire botjokeservice i dont get it, jda listens class only if u add class on addeventlisteners whenever i try to add botjokeservice it gives constructor error , how to autowire my class please define (("}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681407898,"creation_date":1681404715,"answer_id":76007986,"question_id":76007773,"body_markdown":"You can get a bean in the main method like this:\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n  public static void main(String[] args) {\r\n    ConfigurableApplicationContext context = SpringApplication.run(Application.class, args);\r\n    BotJokeService service = context.getBeanFactory().getBean(BotJokeService.class);\r\n    //do whatever you need with the service now\r\n  }\r\n}\r\n```\r\nI haven&#39;t used the discord api before, but application startup does not look like the best place to create the bot instance.","title":"How can i fix my constructor error problem while trying to build jda app?","body":"<p>You can get a bean in the main method like this:</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n  public static void main(String[] args) {\n    ConfigurableApplicationContext context = SpringApplication.run(Application.class, args);\n    BotJokeService service = context.getBeanFactory().getBean(BotJokeService.class);\n    //do whatever you need with the service now\n  }\n}\n</code></pre>\n<p>I haven't used the discord api before, but application startup does not look like the best place to create the bot instance.</p>\n"}],"owner":{"account_id":27013009,"reputation":1,"user_id":20572341,"display_name":"user20572341"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681407898,"creation_date":1681403259,"question_id":76007773,"body_markdown":"I am using Jda, Spring boot, h2 database, i tried to make random joke command for my discord bot \r\n```\r\n@Service\r\npublic class BotJokeService extends ListenerAdapter {\r\n\r\n    private final ChuckNorrisQuotes quotes = new ChuckNorrisQuotes();\r\n    private final PlayerRepository playerRepository;\r\n\r\n    public BotJokeService(PlayerRepository playerRepository) {\r\n        this.playerRepository = playerRepository;\r\n    }\r\n\r\n    \r\n\r\n    @Override\r\n    public void onMessageDelete(MessageDeleteEvent event) {\r\n\r\n        event.getGuild().getDefaultChannel().asTextChannel().sendMessage(quotes.getRandomQuote()).queue();\r\n\r\n    }\r\n\r\n    //\r\n    @Override\r\n    public void onMessageReceived(MessageReceivedEvent event) {\r\n        // User user = event.getAuthor();\r\n        if (!event.getAuthor().isBot()) {\r\n            String message = &quot;!joke&quot;;\r\n            if (&quot;!joke&quot;.equals(message)) {\r\n                //  event.getGuild().mute(user, true).queue(); mute\r\n\r\n                event.getChannel().asTextChannel().sendMessage(quotes.getRandomQuote()).queue();\r\n                Player random = new Player();\r\n                random.setName(message);\r\n                random.setRole(&quot;yes&quot;);\r\n                random.setCreatedDate(LocalDateTime.MAX);\r\n                playerRepository.save(random);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nand now i want that my jda listen to BotJokeService class \r\n```\r\n@SpringBootApplication\r\npublic class DcBot1Application  {\r\n    \r\n    @Autowired\r\n    private EmailSenderService emailSenderService;\r\n    public static String prefix = &quot;-&quot;;\r\n\r\n    public static void main(String[] args) throws LoginException {\r\n        SpringApplication.run(DcBot1Application.class, args);\r\n        JDA bot = JDABuilder.createDefault(&quot;here goes my bot token&quot;)\r\n                .setActivity(Activity.playing(&quot;example&quot;))\r\n                .addEventListeners(new MessageSending(),\r\n                        new Help(), new BotJokeService())\r\n                .build();\r\n    }\r\n}\r\n```\r\nbut new BotJokeService() gives me eror  constructor BotJokeSerivce in class BotJokeSerivce cannot be applied to given types, i know it need constructor but how to initalize my PlayerRepository constructor here ?","title":"How can i fix my constructor error problem while trying to build jda app?","body":"<p>I am using Jda, Spring boot, h2 database, i tried to make random joke command for my discord bot</p>\n<pre><code>@Service\npublic class BotJokeService extends ListenerAdapter {\n\n    private final ChuckNorrisQuotes quotes = new ChuckNorrisQuotes();\n    private final PlayerRepository playerRepository;\n\n    public BotJokeService(PlayerRepository playerRepository) {\n        this.playerRepository = playerRepository;\n    }\n\n    \n\n    @Override\n    public void onMessageDelete(MessageDeleteEvent event) {\n\n        event.getGuild().getDefaultChannel().asTextChannel().sendMessage(quotes.getRandomQuote()).queue();\n\n    }\n\n    //\n    @Override\n    public void onMessageReceived(MessageReceivedEvent event) {\n        // User user = event.getAuthor();\n        if (!event.getAuthor().isBot()) {\n            String message = &quot;!joke&quot;;\n            if (&quot;!joke&quot;.equals(message)) {\n                //  event.getGuild().mute(user, true).queue(); mute\n\n                event.getChannel().asTextChannel().sendMessage(quotes.getRandomQuote()).queue();\n                Player random = new Player();\n                random.setName(message);\n                random.setRole(&quot;yes&quot;);\n                random.setCreatedDate(LocalDateTime.MAX);\n                playerRepository.save(random);\n\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>and now i want that my jda listen to BotJokeService class</p>\n<pre><code>@SpringBootApplication\npublic class DcBot1Application  {\n    \n    @Autowired\n    private EmailSenderService emailSenderService;\n    public static String prefix = &quot;-&quot;;\n\n    public static void main(String[] args) throws LoginException {\n        SpringApplication.run(DcBot1Application.class, args);\n        JDA bot = JDABuilder.createDefault(&quot;here goes my bot token&quot;)\n                .setActivity(Activity.playing(&quot;example&quot;))\n                .addEventListeners(new MessageSending(),\n                        new Help(), new BotJokeService())\n                .build();\n    }\n}\n</code></pre>\n<p>but new BotJokeService() gives me eror  constructor BotJokeSerivce in class BotJokeSerivce cannot be applied to given types, i know it need constructor but how to initalize my PlayerRepository constructor here ?</p>\n"},{"tags":["java","spring","gradle","intellij-idea"],"comments":[{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1679285025,"post_id":75775352,"comment_id":133687748,"body_markdown":"It means whatever comes after the `!` is inside the JAR file. See https://stackoverflow.com/a/9530575 though the  `!` in `classes!` looks incorrect.","body":"It means whatever comes after the <code>!</code> is inside the JAR file. See <a href=\"https://stackoverflow.com/a/9530575\">stackoverflow.com/a/9530575</a> though the  <code>!</code> in <code>classes!</code> looks incorrect."}],"answers":[{"tags":[],"owner":{"account_id":7763161,"reputation":313,"user_id":5875230,"display_name":"Pickled Brain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681407501,"creation_date":1681407501,"answer_id":76008355,"question_id":75775352,"body_markdown":"Is this a webflux (reactive) application or a web (mvc) application? I see that you have both \r\n```\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n```\r\nYou really should remove the dependency that you are NOT using. It makes a difference and I would be surprised if you don&#39;t run into other issues. \r\n\r\nIf you use the webflux dependency, add a resourceHandler bean \r\n```\r\n@Configuration\r\n@EnableWebFlux\r\npublic class WebFluxConfig implements WebFluxConfigurer {\r\n\r\n  @Override\r\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    registry\r\n        .addResourceHandler(&quot;/**&quot;)\r\n        .addResourceLocations(&quot;classpath:/static/&quot;)\r\n        .setCacheControl(CacheControl.maxAge(365, TimeUnit.DAYS));\r\n   }\r\n}\r\n```\r\nIf this is a web (mvc) applicaiton, add\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebMvcConfig implements WebMvcConfigurer {\r\n\r\n  @Override\r\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    registry\r\n        .addResourceHandler(&quot;/**&quot;)\r\n        .addResourceLocations(&quot;classpath:/static/&quot;)\r\n        .setCacheControl(CacheControl.maxAge(365, TimeUnit.DAYS));\r\n   }\r\n}\r\n```\r\nSpring serves all static content under `/` (the root part of the request). In the above, we are saying take the handler that normally serves up content from `/**` and also add the `/static/` directory from the jar. I.e. src/main/resources/static which is what from your error message it looks like you&#39;re trying to do. \r\n\r\nI think (I don&#39;t use this method personally) you can achieve the same thing via the application.properties, via the `spring.mvc.static-path-pattern=/static/**` or `spring.webflux.static-path-pattern=/static/**` accordingly.\r\n\r\nIt probably works in intellij because it has made its own classpath -- which is different from a jar. I suspect that if you ran `./gradlew bootRun` from the command line it would not work, as that is using the same classpath as the jar file.","title":"When a spring application is compiled in a jar file it tries to use other static files&#39; paths as it was in IntelliJ","body":"<p>Is this a webflux (reactive) application or a web (mvc) application? I see that you have both</p>\n<pre><code>    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n</code></pre>\n<p>You really should remove the dependency that you are NOT using. It makes a difference and I would be surprised if you don't run into other issues.</p>\n<p>If you use the webflux dependency, add a resourceHandler bean</p>\n<pre><code>@Configuration\n@EnableWebFlux\npublic class WebFluxConfig implements WebFluxConfigurer {\n\n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry\n        .addResourceHandler(&quot;/**&quot;)\n        .addResourceLocations(&quot;classpath:/static/&quot;)\n        .setCacheControl(CacheControl.maxAge(365, TimeUnit.DAYS));\n   }\n}\n</code></pre>\n<p>If this is a web (mvc) applicaiton, add</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry\n        .addResourceHandler(&quot;/**&quot;)\n        .addResourceLocations(&quot;classpath:/static/&quot;)\n        .setCacheControl(CacheControl.maxAge(365, TimeUnit.DAYS));\n   }\n}\n</code></pre>\n<p>Spring serves all static content under <code>/</code> (the root part of the request). In the above, we are saying take the handler that normally serves up content from <code>/**</code> and also add the <code>/static/</code> directory from the jar. I.e. src/main/resources/static which is what from your error message it looks like you're trying to do.</p>\n<p>I think (I don't use this method personally) you can achieve the same thing via the application.properties, via the <code>spring.mvc.static-path-pattern=/static/**</code> or <code>spring.webflux.static-path-pattern=/static/**</code> accordingly.</p>\n<p>It probably works in intellij because it has made its own classpath -- which is different from a jar. I suspect that if you ran <code>./gradlew bootRun</code> from the command line it would not work, as that is using the same classpath as the jar file.</p>\n"}],"owner":{"account_id":8810617,"reputation":339,"user_id":6583790,"accept_rate":75,"display_name":"Bogdan Lashkov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681407501,"creation_date":1679136348,"question_id":75775352,"body_markdown":"I have a standard Spring application which I normally develop in IntelliJ. When it is started from IntelliJ preconfigured runner, then everything works,\r\nbut when the app is compiled and run with the following commands:\r\n```shell\r\n./gradlew clean\r\n./gradlew openApiGenerate\r\n./gradlew build\r\njava -jar build/libs/joyjobcore-0.0.1-SNAPSHOT.jar\r\n```\r\n\r\nThen I have an error with a wrong path to my static resources:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cardUploader&#39;: Invocation of init method failed; nested exception is java.io.FileNotFoundException: class path resource [static/logo_joyjob.png] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/home/bogdan/Programming/Java/joyjobcore/build/libs/joyjobcore-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/static/logo_joyjob.png\r\nCaused by: java.io.FileNotFoundException: class path resource [static/logo_joyjob.png] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/home/bogdan/Programming/Java/joyjobcore/build/libs/joyjobcore-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/static/logo_joyjob.png\r\n        at org.springframework.util.ResourceUtils.getFile(ResourceUtils.java:217) ~[spring-core-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.util.ResourceUtils.getFile(ResourceUtils.java:180) ~[spring-core-5.3.23.jar!/:5.3.23]\r\n        at com.kil.joyjobcore.service.CardUploader.onInit(CardUploader.java:21) ~[classes!/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        ... 26 common frames omitted\r\n```\r\n\r\n**As far as I see, java adds &quot;!&quot; symbol to the actual case, why does it happen?**\r\n\r\nHere is my build.gradle. Maybe it is misconfigured?\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.4&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.14.RELEASE&#39;\r\n    id &#39;java&#39;\r\n    id &quot;org.openapi.generator&quot; version &quot;6.2.1&quot;\r\n}\r\n\r\ngroup = &#39;com.kil&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports\r\n    implementation group: &#39;net.sf.jasperreports&#39;, name: &#39;jasperreports&#39;, version: &#39;6.17.0&#39;\r\n\r\n    // https://mvnrepository.com/artifact/com.lowagie/itext\r\n    implementation group: &#39;com.lowagie&#39;, name: &#39;itext&#39;, version: &#39;4.2.2&#39;, ext: &#39;pom&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\r\n    //todo remove from openapigeneration and hier\r\n    implementation &#39;org.openapitools:jackson-databind-nullable:0.2.4&#39;\r\n    implementation &#39;io.swagger:swagger-annotations:1.6.8&#39;\r\n\r\n    implementation &#39;com.talanlabs:avatar-generator-8bit:1.1.0&#39;\r\n    implementation &#39;org.flywaydb:flyway-core&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.11&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.5.3.Final&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.4&#39;\r\n    implementation &#39;net.ttddyy:datasource-proxy:1.8.1&#39;\r\n\r\n    implementation &#39;com.google.apis:google-api-services-forms:v1-rev20220908-2.0.0&#39;\r\n    implementation &#39;com.google.apis:google-api-services-drive:v3-rev20221219-2.0.0&#39;\r\n    implementation &#39;com.google.api-client:google-api-client:2.2.0&#39;\r\n    implementation &#39;com.google.auth:google-auth-library-oauth2-http:1.15.0&#39;\r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.3.Final&#39;\r\n\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\nString generatedSourcesDir = &quot;$buildDir/generated/openapi&quot;\r\n\r\nopenApiGenerate {\r\n    generatorName = &quot;java&quot;\r\n    inputSpec = &quot;$rootDir/src/main/resources/specs/cvGenerator.yaml&quot;.toString()\r\n    outputDir = generatedSourcesDir\r\n//    outputDir = &quot;$buildDir/generated&quot;.toString()\r\n    groupId = &#39;com.kil.joyjob&#39;\r\n    apiPackage = &quot;com.kil.joyjob.api&quot;\r\n    invokerPackage = &quot;com.kil.joyjob.invoker&quot;\r\n    modelPackage = &quot;com.kil.joyjob.model&quot;\r\n    configOptions = [\r\n            annotationLibrary: &quot;none&quot;,\r\n            booleanGetterPrefix: &quot;is&quot;,\r\n            library: &quot;webclient&quot;,\r\n            dateLibrary: &quot;java8&quot;\r\n    ]\r\n}\r\n\r\ncompileJava {\r\n    options.compilerArgs += [\r\n            &#39;-Amapstruct.defaultComponentModel=spring&#39;,\r\n            &#39;-Amapstruct.unmappedTargetPolicy=ERROR&#39;\r\n    ]\r\n}\r\n\r\nsourceSets {\r\n    getByName(&quot;main&quot;) {\r\n        java {\r\n            srcDir(&quot;$generatedSourcesDir/src/main/java&quot;)\r\n        }\r\n    }\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```","title":"When a spring application is compiled in a jar file it tries to use other static files&#39; paths as it was in IntelliJ","body":"<p>I have a standard Spring application which I normally develop in IntelliJ. When it is started from IntelliJ preconfigured runner, then everything works,\nbut when the app is compiled and run with the following commands:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew clean\n./gradlew openApiGenerate\n./gradlew build\njava -jar build/libs/joyjobcore-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>Then I have an error with a wrong path to my static resources:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cardUploader': Invocation of init method failed; nested exception is java.io.FileNotFoundException: class path resource [static/logo_joyjob.png] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/home/bogdan/Programming/Java/joyjobcore/build/libs/joyjobcore-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/static/logo_joyjob.png\nCaused by: java.io.FileNotFoundException: class path resource [static/logo_joyjob.png] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/home/bogdan/Programming/Java/joyjobcore/build/libs/joyjobcore-0.0.1-SNAPSHOT.jar!/BOOT-INF/classes!/static/logo_joyjob.png\n        at org.springframework.util.ResourceUtils.getFile(ResourceUtils.java:217) ~[spring-core-5.3.23.jar!/:5.3.23]\n        at org.springframework.util.ResourceUtils.getFile(ResourceUtils.java:180) ~[spring-core-5.3.23.jar!/:5.3.23]\n        at com.kil.joyjobcore.service.CardUploader.onInit(CardUploader.java:21) ~[classes!/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        ... 26 common frames omitted\n</code></pre>\n<p><strong>As far as I see, java adds &quot;!&quot; symbol to the actual case, why does it happen?</strong></p>\n<p>Here is my build.gradle. Maybe it is misconfigured?</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.4'\n    id 'io.spring.dependency-management' version '1.0.14.RELEASE'\n    id 'java'\n    id &quot;org.openapi.generator&quot; version &quot;6.2.1&quot;\n}\n\ngroup = 'com.kil'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports\n    implementation group: 'net.sf.jasperreports', name: 'jasperreports', version: '6.17.0'\n\n    // https://mvnrepository.com/artifact/com.lowagie/itext\n    implementation group: 'com.lowagie', name: 'itext', version: '4.2.2', ext: 'pom'\n\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-cache'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n\n    //todo remove from openapigeneration and hier\n    implementation 'org.openapitools:jackson-databind-nullable:0.2.4'\n    implementation 'io.swagger:swagger-annotations:1.6.8'\n\n    implementation 'com.talanlabs:avatar-generator-8bit:1.1.0'\n    implementation 'org.flywaydb:flyway-core'\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.11'\n    implementation 'org.mapstruct:mapstruct:1.5.3.Final'\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.4'\n    implementation 'net.ttddyy:datasource-proxy:1.8.1'\n\n    implementation 'com.google.apis:google-api-services-forms:v1-rev20220908-2.0.0'\n    implementation 'com.google.apis:google-api-services-drive:v3-rev20221219-2.0.0'\n    implementation 'com.google.api-client:google-api-client:2.2.0'\n    implementation 'com.google.auth:google-auth-library-oauth2-http:1.15.0'\n\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.3.Final'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\nString generatedSourcesDir = &quot;$buildDir/generated/openapi&quot;\n\nopenApiGenerate {\n    generatorName = &quot;java&quot;\n    inputSpec = &quot;$rootDir/src/main/resources/specs/cvGenerator.yaml&quot;.toString()\n    outputDir = generatedSourcesDir\n//    outputDir = &quot;$buildDir/generated&quot;.toString()\n    groupId = 'com.kil.joyjob'\n    apiPackage = &quot;com.kil.joyjob.api&quot;\n    invokerPackage = &quot;com.kil.joyjob.invoker&quot;\n    modelPackage = &quot;com.kil.joyjob.model&quot;\n    configOptions = [\n            annotationLibrary: &quot;none&quot;,\n            booleanGetterPrefix: &quot;is&quot;,\n            library: &quot;webclient&quot;,\n            dateLibrary: &quot;java8&quot;\n    ]\n}\n\ncompileJava {\n    options.compilerArgs += [\n            '-Amapstruct.defaultComponentModel=spring',\n            '-Amapstruct.unmappedTargetPolicy=ERROR'\n    ]\n}\n\nsourceSets {\n    getByName(&quot;main&quot;) {\n        java {\n            srcDir(&quot;$generatedSourcesDir/src/main/java&quot;)\n        }\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n"},{"tags":["java","azure","azure-functions","azure-functions-runtime","azure-functions-core-tools"],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681405711,"creation_date":1681405711,"answer_id":76008127,"question_id":76003205,"body_markdown":"&gt;I have started using blob trigger azure function, but instead of processing newly added or updated files it is processing all files in the blob.\r\n\r\nThere may be a bug in the Azure Functions runtime or the Blob Storage SDK that is causing the function to process all files in the container.\r\n \r\nTry updating to the latest version of the Azure Functions runtime or the Blob Storage SDK to see if that resolves the issue.\r\n\r\nAnd also, create a new blob trigger azure function and check again if it is still happening. Because, as per my observation it will process only newly added files in the blob. \r\n\r\n*I have tried the same in my environment and could process the newly added files in the container.*\r\n\r\n**Code Snippet:**\r\n```java\r\nimport com.microsoft.azure.functions.annotation.*;\r\nimport com.microsoft.azure.functions.*;\r\n\r\n\r\npublic class BlobTriggerJava1 {\r\n   \r\n    @FunctionName(&quot;BlobTriggerJava1&quot;)\r\n    @StorageAccount(&quot;AzureWebJobsStorage&quot;)\r\n    public void run(\r\n        @BlobTrigger(name = &quot;content&quot;, path = &quot;samples-workitems/access_files/{name}&quot;, dataType = &quot;binary&quot;) byte[] content,\r\n        @BindingName(&quot;name&quot;) String name,\r\n        final ExecutionContext context\r\n    ) {\r\n        context.getLogger().info(&quot;Java Blob trigger function processed a blob. Name: &quot; + name + &quot;\\n  Size: &quot; + content.length + &quot; Bytes&quot;);\r\n    }\r\n}\r\n```\r\n*Files uploaded in the Blob*:\r\n![enter image description here](https://i.stack.imgur.com/fh7iT.png)\r\n*Console output after adding a file:*\r\n![enter image description here](https://i.stack.imgur.com/xJ6w1.png)\r\n\r\n*Output after adding a new files to the existing container(which has files):*\r\n![enter image description here](https://i.stack.imgur.com/3yRic.png)\r\n![enter image description here](https://i.stack.imgur.com/xuDFX.png)\r\n\r\n","title":"Blob Trigger Azure function is processing all files in a blob","body":"<blockquote>\n<p>I have started using blob trigger azure function, but instead of processing newly added or updated files it is processing all files in the blob.</p>\n</blockquote>\n<p>There may be a bug in the Azure Functions runtime or the Blob Storage SDK that is causing the function to process all files in the container.</p>\n<p>Try updating to the latest version of the Azure Functions runtime or the Blob Storage SDK to see if that resolves the issue.</p>\n<p>And also, create a new blob trigger azure function and check again if it is still happening. Because, as per my observation it will process only newly added files in the blob.</p>\n<p><em>I have tried the same in my environment and could process the newly added files in the container.</em></p>\n<p><strong>Code Snippet:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.microsoft.azure.functions.annotation.*;\nimport com.microsoft.azure.functions.*;\n\n\npublic class BlobTriggerJava1 {\n   \n    @FunctionName(&quot;BlobTriggerJava1&quot;)\n    @StorageAccount(&quot;AzureWebJobsStorage&quot;)\n    public void run(\n        @BlobTrigger(name = &quot;content&quot;, path = &quot;samples-workitems/access_files/{name}&quot;, dataType = &quot;binary&quot;) byte[] content,\n        @BindingName(&quot;name&quot;) String name,\n        final ExecutionContext context\n    ) {\n        context.getLogger().info(&quot;Java Blob trigger function processed a blob. Name: &quot; + name + &quot;\\n  Size: &quot; + content.length + &quot; Bytes&quot;);\n    }\n}\n</code></pre>\n<p><em>Files uploaded in the Blob</em>:\n<img src=\"https://i.stack.imgur.com/fh7iT.png\" alt=\"enter image description here\" />\n<em>Console output after adding a file:</em>\n<img src=\"https://i.stack.imgur.com/xJ6w1.png\" alt=\"enter image description here\" /></p>\n<p><em>Output after adding a new files to the existing container(which has files):</em>\n<img src=\"https://i.stack.imgur.com/3yRic.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/xuDFX.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":26489487,"reputation":19,"user_id":20127564,"display_name":"Geeth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681406606,"creation_date":1681374003,"question_id":76003205,"body_markdown":"I am trying to trigger a webjob when a new file is placed in blob in java , I have started using blob trigger azure function , but instead of processing newly added or updated files it is processing all files in the blob.\r\nBelow is the code snippet\r\n\r\n    public class BlobTriggerFunction {\r\n    /**\r\n     * This function will be invoked when a new or updated blob is detected at the specified path. The blob contents are provided as input to this function.\r\n     */\r\n    @FunctionName(&quot;BlobTrigger-Java&quot;)\r\n    @StorageAccount(&quot;AzureWebJobsStorage&quot;)\r\n    public void run(\r\n        @BlobTrigger(name = &quot;content&quot;, path = &quot;snowflake/assets_group/{name}&quot;, dataType = &quot;binary&quot;) byte[] content,\r\n        @BindingName(&quot;name&quot;) String name,\r\n        final ExecutionContext context\r\n    ) {\r\n        context.getLogger().info(&quot;Java Blob trigger function processed a blob. Name: &quot; + name + &quot;\\n  Size: &quot; + content.length + &quot; Bytes&quot;);\r\n    } \r\n\r\n\r\nBelow is the console which is processing all files\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ueeZ.png","title":"Blob Trigger Azure function is processing all files in a blob","body":"<p>I am trying to trigger a webjob when a new file is placed in blob in java , I have started using blob trigger azure function , but instead of processing newly added or updated files it is processing all files in the blob.\nBelow is the code snippet</p>\n<pre><code>public class BlobTriggerFunction {\n/**\n * This function will be invoked when a new or updated blob is detected at the specified path. The blob contents are provided as input to this function.\n */\n@FunctionName(&quot;BlobTrigger-Java&quot;)\n@StorageAccount(&quot;AzureWebJobsStorage&quot;)\npublic void run(\n    @BlobTrigger(name = &quot;content&quot;, path = &quot;snowflake/assets_group/{name}&quot;, dataType = &quot;binary&quot;) byte[] content,\n    @BindingName(&quot;name&quot;) String name,\n    final ExecutionContext context\n) {\n    context.getLogger().info(&quot;Java Blob trigger function processed a blob. Name: &quot; + name + &quot;\\n  Size: &quot; + content.length + &quot; Bytes&quot;);\n} \n</code></pre>\n<p>Below is the console which is processing all files\n<a href=\"https://i.stack.imgur.com/2ueeZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ueeZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","http","spring-mvc"],"comments":[{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":0,"creation_date":1483441054,"post_id":41441586,"comment_id":70089797,"body_markdown":"I&#39;ve programmed a proxy too (without REST). I had to create a new HTTP request and sent it to the &quot;external&quot; service. I used [Apache HTTP Components](http://hc.apache.org/). That&#39;s not difficult, but it needs more than two or three lines of code to copy the HTTP request headers and create the request.","body":"I&#39;ve programmed a proxy too (without REST). I had to create a new HTTP request and sent it to the &quot;external&quot; service. I used <a href=\"http://hc.apache.org/\" rel=\"nofollow noreferrer\">Apache HTTP Components</a>. That&#39;s not difficult, but it needs more than two or three lines of code to copy the HTTP request headers and create the request."},{"owner":{"account_id":9959048,"reputation":83,"user_id":7368948,"display_name":"Ghosty"},"score":0,"creation_date":1483441293,"post_id":41441586,"comment_id":70089963,"body_markdown":"Have you tried to copy attributes as well?","body":"Have you tried to copy attributes as well?"},{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":0,"creation_date":1483441426,"post_id":41441586,"comment_id":70090051,"body_markdown":"I had to copy the request parameters (query string for HTTP GET or message body for HTTP POST) and the request headers.","body":"I had to copy the request parameters (query string for HTTP GET or message body for HTTP POST) and the request headers."}],"answers":[{"tags":[],"owner":{"account_id":3916226,"reputation":2109,"user_id":3239981,"display_name":"Guy Bouallet"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1483451060,"creation_date":1483451060,"answer_id":41444915,"question_id":41441586,"body_markdown":"if you think of applying the API gateway pattern for microservices,\r\nhave a look at Netflix zuul which is a good alternative in the spring boot ecosystem. A good example is provided [here][1]. \r\n\r\n  [1]: https://spring.io/guides/gs/routing-and-filtering/","title":"The easiest way to proxy HttpServletRequest in Spring MVC controller","body":"<p>if you think of applying the API gateway pattern for microservices,\nhave a look at Netflix zuul which is a good alternative in the spring boot ecosystem. A good example is provided <a href=\"https://spring.io/guides/gs/routing-and-filtering/\" rel=\"nofollow noreferrer\">here</a>. </p>\n"},{"tags":[],"owner":{"account_id":160094,"reputation":4247,"user_id":379906,"accept_rate":80,"display_name":"db80"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1681406529,"creation_date":1503490911,"answer_id":45839595,"question_id":41441586,"body_markdown":"You can use the spring rest template method [exchange][1] to proxy the request to a third party service. \r\n\r\n    @RequestMapping(&quot;/proxy&quot;)\r\n    @ResponseBody\r\n    public String proxy(@RequestBody String body, HttpMethod method, HttpServletRequest request) throws URISyntaxException {\r\n        URI thirdPartyApi = new URI(&quot;http&quot;, null, &quot;http://example.co&quot;, 8081, request.getRequestURI(), request.getQueryString(), null);\r\n    \r\n        RestTemplate restTemplate = new RestTemplate();\r\n        ResponseEntity&lt;String&gt; resp =\r\n            restTemplate.exchange(thirdPartyApi, method, new HttpEntity&lt;String&gt;(body), String.class);\r\n    \r\n        return resp.getBody();\r\n    }\r\n\r\nhttps://stackoverflow.com/questions/20186497/what-is-the-resttemplate-exchange-method-for\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#exchange-java.lang.String-org.springframework.http.HttpMethod-org.springframework.http.HttpEntity-java.lang.Class-java.lang.Object...-","title":"The easiest way to proxy HttpServletRequest in Spring MVC controller","body":"<p>You can use the spring rest template method <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html#exchange-java.lang.String-org.springframework.http.HttpMethod-org.springframework.http.HttpEntity-java.lang.Class-java.lang.Object...-\" rel=\"nofollow noreferrer\">exchange</a> to proxy the request to a third party service.</p>\n<pre><code>@RequestMapping(&quot;/proxy&quot;)\n@ResponseBody\npublic String proxy(@RequestBody String body, HttpMethod method, HttpServletRequest request) throws URISyntaxException {\n    URI thirdPartyApi = new URI(&quot;http&quot;, null, &quot;http://example.co&quot;, 8081, request.getRequestURI(), request.getQueryString(), null);\n\n    RestTemplate restTemplate = new RestTemplate();\n    ResponseEntity&lt;String&gt; resp =\n        restTemplate.exchange(thirdPartyApi, method, new HttpEntity&lt;String&gt;(body), String.class);\n\n    return resp.getBody();\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/20186497/what-is-the-resttemplate-exchange-method-for\">What is the restTemplate.exchange() method for?</a></p>\n"},{"tags":[],"owner":{"account_id":378468,"reputation":111,"user_id":731198,"display_name":"Martin Kalina"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1557139139,"creation_date":1554208637,"answer_id":55474968,"question_id":41441586,"body_markdown":"I wrote this ProxyController method in Kotlin to forward all incoming requests to remote service (defined by host and port) as follows:\r\n```\r\n@RequestMapping(&quot;/**&quot;)\r\nfun proxy(requestEntity: RequestEntity&lt;Any&gt;, @RequestParam params: HashMap&lt;String, String&gt;): ResponseEntity&lt;Any&gt; {\r\n    val remoteService = URI.create(&quot;http://remote.service&quot;)\r\n    val uri = requestEntity.url.run {\r\n        URI(scheme, userInfo, remoteService.host, remoteService.port, path, query, fragment)\r\n    }\r\n\r\n    val forward = RequestEntity(\r\n        requestEntity.body, requestEntity.headers,\r\n        requestEntity.method, uri\r\n    )\r\n\r\n    return restTemplate.exchange(forward)\r\n}\r\n\r\n```\r\nNote that the API of the remote service should be exactly same as this service. ","title":"The easiest way to proxy HttpServletRequest in Spring MVC controller","body":"<p>I wrote this ProxyController method in Kotlin to forward all incoming requests to remote service (defined by host and port) as follows:</p>\n\n<pre><code>@RequestMapping(\"/**\")\nfun proxy(requestEntity: RequestEntity&lt;Any&gt;, @RequestParam params: HashMap&lt;String, String&gt;): ResponseEntity&lt;Any&gt; {\n    val remoteService = URI.create(\"http://remote.service\")\n    val uri = requestEntity.url.run {\n        URI(scheme, userInfo, remoteService.host, remoteService.port, path, query, fragment)\n    }\n\n    val forward = RequestEntity(\n        requestEntity.body, requestEntity.headers,\n        requestEntity.method, uri\n    )\n\n    return restTemplate.exchange(forward)\n}\n\n</code></pre>\n\n<p>Note that the API of the remote service should be exactly same as this service. </p>\n"}],"owner":{"account_id":9959048,"reputation":83,"user_id":7368948,"display_name":"Ghosty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18778,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":3,"score":7,"last_activity_date":1681406529,"creation_date":1483439910,"question_id":41441586,"body_markdown":"I&#39;m building REST services using spring-mvc and what I&#39;m looking for now is a way to proxy HTTP request to external REST service from inside Spring MVC controller.\r\n\r\nI&#39;m getting HttpServletRequest object and want to proxy it making as few changes as possible. What is essential for me is keeping all the headers and attributes of incoming request as they are.\r\n\r\n    @RequestMapping(&#39;/gateway/**&#39;)\r\n    def proxy(HttpServletRequest httpRequest) {\r\n        ...\r\n    }\r\n\r\nI was trying simply to send another HTTP request to external resource using RestTemplate but I failed to find a way to copy ***REQUEST ATTRIBUTES*** (which is very important in my case).\r\n\r\nThanks in advance!","title":"The easiest way to proxy HttpServletRequest in Spring MVC controller","body":"<p>I'm building REST services using spring-mvc and what I'm looking for now is a way to proxy HTTP request to external REST service from inside Spring MVC controller.</p>\n\n<p>I'm getting HttpServletRequest object and want to proxy it making as few changes as possible. What is essential for me is keeping all the headers and attributes of incoming request as they are.</p>\n\n<pre><code>@RequestMapping('/gateway/**')\ndef proxy(HttpServletRequest httpRequest) {\n    ...\n}\n</code></pre>\n\n<p>I was trying simply to send another HTTP request to external resource using RestTemplate but I failed to find a way to copy <strong><em>REQUEST ATTRIBUTES</em></strong> (which is very important in my case).</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","docker","kubernetes","kubernetes-pvc"],"answers":[{"tags":[],"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681406486,"creation_date":1681406486,"answer_id":76008224,"question_id":76008172,"body_markdown":"You can do this by logging to **files** located on the **mounted volume**.\r\n\r\nBut in Kubernetes you typically log to _stdout_ and retrieves the logs from a centralized log system - collected from all your nodes in your cluster.","title":"How to sending logs from application to pvc volume mount that is attached to kubernetes pod?","body":"<p>You can do this by logging to <strong>files</strong> located on the <strong>mounted volume</strong>.</p>\n<p>But in Kubernetes you typically log to <em>stdout</em> and retrieves the logs from a centralized log system - collected from all your nodes in your cluster.</p>\n"}],"owner":{"account_id":8277763,"reputation":573,"user_id":6223346,"accept_rate":67,"display_name":"Harish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76008224,"answer_count":1,"score":0,"last_activity_date":1681406486,"creation_date":1681406029,"question_id":76008172,"body_markdown":"I want to send some logs from the docker containerized spring boot application that is running as a Kubernetes pod to the PVC volume mount\r\nthat is attached to the Kubernetes same pod. The logs could be some app logs generated by the Java code. Any idea how do I proceed with this approach?","title":"How to sending logs from application to pvc volume mount that is attached to kubernetes pod?","body":"<p>I want to send some logs from the docker containerized spring boot application that is running as a Kubernetes pod to the PVC volume mount\nthat is attached to the Kubernetes same pod. The logs could be some app logs generated by the Java code. Any idea how do I proceed with this approach?</p>\n"},{"tags":["java","spring","spring-boot","tomcat","spring-bean"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681406877,"post_id":76007236,"comment_id":134055101,"body_markdown":"And what would you gain with this? In both cases the application start will fail at least if you properly let the exceptions propagate.","body":"And what would you gain with this? In both cases the application start will fail at least if you properly let the exceptions propagate."},{"owner":{"account_id":16440014,"reputation":692,"user_id":11876612,"display_name":"Felipe Bonfante"},"score":0,"creation_date":1681407858,"post_id":76007236,"comment_id":134055318,"body_markdown":"Maybe this could help you https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/BootstrapRegistryInitializer.html","body":"Maybe this could help you <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/BootstrapRegistryInitializer.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681404226,"creation_date":1681404226,"answer_id":76007918,"question_id":76007236,"body_markdown":"Assuming and interface like this\r\n\r\n    public interface MyInterface {\r\n    \r\n    \tpublic String greeting();\r\n    }\r\n\r\nand an implementing class like this\r\n\r\n    package com.example.demo.service;\r\n    \r\n    public class MyImpl1 implements MyInterface {\r\n    \r\n    \t@Override\r\n    \tpublic String greeting() {\r\n    \t\treturn &quot;MyImpl1 greeting&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nAdd a `@Component` that implements `BeanDefinitionRegistryPostProcessor` like this:\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.beans.factory.config.BeanDefinition;\r\n    import org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistry;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor;\r\n    import org.springframework.beans.factory.support.RootBeanDefinition;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.core.PriorityOrdered;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    \r\n    @Component\r\n    public class BeanFactoryPostProcessor implements BeanDefinitionRegistryPostProcessor, PriorityOrdered {\r\n    \r\n        private static Logger logger = LoggerFactory.getLogger(BeanFactoryPostProcessor.class);\r\n    \r\n        public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n        \tString beanName = &quot;myInterface&quot;; // interface name with lowercase first letter\r\n        \tString className = &quot;com.example.demo.service.MyImpl1&quot;; // full class name of the implemention class\r\n    \t\t\tBeanDefinition beanDefn= new RootBeanDefinition(className);\r\n                registry.registerBeanDefinition(beanName, beanDefn);\r\n                logger.info(&quot;Registering bean {}:{}&quot;, beanName, className);\r\n                // any other early beans here\r\n         \t\r\n        }\r\n    \r\n        public int getOrder() {\r\n            return Ordered.HIGHEST_PRECEDENCE;\r\n        }\r\n    \r\n    \tpublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n    \t\t// do nothing\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nUse it in the normal way:\r\n\r\n    @Autowired\r\n    MyInterface myInterface;\r\n\r\nRemove the `@Component` or `@Bean` annotations on the class so that it is not built twice. \r\n\r\n\r\n\r\n\r\n","title":"In Spring/Spring Boot how to make Bean initialised before Tomcat?","body":"<p>Assuming and interface like this</p>\n<pre><code>public interface MyInterface {\n\n    public String greeting();\n}\n</code></pre>\n<p>and an implementing class like this</p>\n<pre><code>package com.example.demo.service;\n\npublic class MyImpl1 implements MyInterface {\n\n    @Override\n    public String greeting() {\n        return &quot;MyImpl1 greeting&quot;;\n    }\n\n}\n</code></pre>\n<p>Add a <code>@Component</code> that implements <code>BeanDefinitionRegistryPostProcessor</code> like this:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanDefinition;\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistryPostProcessor;\nimport org.springframework.beans.factory.support.RootBeanDefinition;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.PriorityOrdered;\nimport org.springframework.stereotype.Component;\n\n\n@Component\npublic class BeanFactoryPostProcessor implements BeanDefinitionRegistryPostProcessor, PriorityOrdered {\n\n    private static Logger logger = LoggerFactory.getLogger(BeanFactoryPostProcessor.class);\n\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n        String beanName = &quot;myInterface&quot;; // interface name with lowercase first letter\n        String className = &quot;com.example.demo.service.MyImpl1&quot;; // full class name of the implemention class\n            BeanDefinition beanDefn= new RootBeanDefinition(className);\n            registry.registerBeanDefinition(beanName, beanDefn);\n            logger.info(&quot;Registering bean {}:{}&quot;, beanName, className);\n            // any other early beans here\n        \n    }\n\n    public int getOrder() {\n        return Ordered.HIGHEST_PRECEDENCE;\n    }\n\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        // do nothing\n        \n    }\n}\n</code></pre>\n<p>Use it in the normal way:</p>\n<pre><code>@Autowired\nMyInterface myInterface;\n</code></pre>\n<p>Remove the <code>@Component</code> or <code>@Bean</code> annotations on the class so that it is not built twice.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681405565,"creation_date":1681405565,"answer_id":76008112,"question_id":76007236,"body_markdown":"This can be implemented using `SpringApplicationBuilder`. It provides methods parent and child. If you define your &quot;heavy&quot; configuration bean as parent and the usual application class as child you will get what you wanted. In case of exception in parent its child will be not started.\r\n\r\n**Solution**\r\n\r\nHeavy Config class:\r\n\r\n    @Configuration\r\n    public class HeavyConfig {\r\n        @Bean\r\n        public static HeavyConfig myBean() {\r\n            throw new NullPointerException(&quot;autch!&quot;);\r\n        }\r\n    }\r\n\r\nMain application method:\r\n\r\n    public static void main(String[] args) {\r\n\t\tnew SpringApplicationBuilder()\r\n\t\t\t\t.parent(HeavyConfig.class)\r\n\t\t\t\t.child(NormalApplication.class)\r\n\t\t\t\t.run(args);\r\n\r\nStartup logs in case of an exception:\r\n\r\n    Starting RestApiApplication using Java 20 with PID 8076 \r\n\tNo active profile set, falling back to 1 default profile: &quot;default&quot;\r\n\tException encountered during context initialization - cancelling refresh attempt:\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;myBean&#39; defined\r\n    in pl.edosoft.restapi.HeavyConfig: Failed to instantiate [pl.edosoft.restapi.HeavyConfig]: Factory\r\n    method &#39;myBean&#39; threw exception with message: autch!\r\n\tApplication run failed\r\n\r\n\r\n","title":"In Spring/Spring Boot how to make Bean initialised before Tomcat?","body":"<p>This can be implemented using <code>SpringApplicationBuilder</code>. It provides methods parent and child. If you define your &quot;heavy&quot; configuration bean as parent and the usual application class as child you will get what you wanted. In case of exception in parent its child will be not started.</p>\n<p><strong>Solution</strong></p>\n<p>Heavy Config class:</p>\n<pre><code>@Configuration\npublic class HeavyConfig {\n    @Bean\n    public static HeavyConfig myBean() {\n        throw new NullPointerException(&quot;autch!&quot;);\n    }\n}\n</code></pre>\n<p>Main application method:</p>\n<pre><code>public static void main(String[] args) {\n    new SpringApplicationBuilder()\n            .parent(HeavyConfig.class)\n            .child(NormalApplication.class)\n            .run(args);\n</code></pre>\n<p>Startup logs in case of an exception:</p>\n<pre><code>Starting RestApiApplication using Java 20 with PID 8076 \nNo active profile set, falling back to 1 default profile: &quot;default&quot;\nException encountered during context initialization - cancelling refresh attempt:\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'myBean' defined\nin pl.edosoft.restapi.HeavyConfig: Failed to instantiate [pl.edosoft.restapi.HeavyConfig]: Factory\nmethod 'myBean' threw exception with message: autch!\nApplication run failed\n</code></pre>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681405565,"creation_date":1681399537,"question_id":76007236,"body_markdown":"In Spring/Spring Boot how to make Bean initialised before Tomcat?  \r\nThat is before these lines in log:\r\n\r\n```\r\no.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\no.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\norg.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.73]\r\no.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\nw.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 439 ms\r\n```\r\n(and not after)\r\n\r\nReason: There is a Bean with heavy initialization, and if it fails \r\n(i.e. Bean creation fails), then there is no need to start Tomcat or the server app at all.","title":"In Spring/Spring Boot how to make Bean initialised before Tomcat?","body":"<p>In Spring/Spring Boot how to make Bean initialised before Tomcat?<br />\nThat is before these lines in log:</p>\n<pre><code>o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\no.apache.catalina.core.StandardService   : Starting service [Tomcat]\norg.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.73]\no.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\nw.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 439 ms\n</code></pre>\n<p>(and not after)</p>\n<p>Reason: There is a Bean with heavy initialization, and if it fails\n(i.e. Bean creation fails), then there is no need to start Tomcat or the server app at all.</p>\n"},{"tags":["java","mockito","java-17"],"comments":[{"owner":{"account_id":9460871,"reputation":2143,"user_id":7034621,"display_name":"orhtej2"},"score":0,"creation_date":1681373316,"post_id":76003041,"comment_id":134046604,"body_markdown":"Perhaps this? https://stackoverflow.com/a/41959045/7034621","body":"Perhaps this? <a href=\"https://stackoverflow.com/a/41959045/7034621\">stackoverflow.com/a/41959045/7034621</a>"},{"owner":{"account_id":13235559,"reputation":87,"user_id":9557820,"display_name":"The Ambidextrous"},"score":0,"creation_date":1693834854,"post_id":76003041,"comment_id":135808723,"body_markdown":"any solutions for this? seem to have run into exactly this issue with spring-boot 3.1.3","body":"any solutions for this? seem to have run into exactly this issue with spring-boot 3.1.3"}],"owner":{"account_id":28292333,"reputation":7,"user_id":21632259,"display_name":"Criss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681405436,"creation_date":1681372984,"question_id":76003041,"body_markdown":"\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n   &lt;version&gt;2.7.9&lt;/version&gt;\r\n   &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n[Dependency settings](https://i.stack.imgur.com/jaJwj.png)\r\n[JRE settings](https://i.stack.imgur.com/5vl2z.png)\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\nCaused by: java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)\r\n\tat org.mockito.internal.configuration.plugins.PluginLoader$1.invoke(PluginLoader.java:84)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy17.isTypeMockable(Unknown Source)\r\n\tat org.mockito.internal.util.MockUtil.typeMockabilityOf(MockUtil.java:78)\r\n\tat org.mockito.internal.util.MockCreationValidator.validateType(MockCreationValidator.java:22)\r\n\tat org.mockito.internal.creation.MockSettingsImpl.validatedSettings(MockSettingsImpl.java:274)\r\n\tat org.mockito.internal.creation.MockSettingsImpl.build(MockSettingsImpl.java:235)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:86)\r\n\tat org.mockito.Mockito.mock(Mockito.java:2087)\r\n\tat org.springframework.boot.test.mock.mockito.MockDefinition.createMock(MockDefinition.java:158)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoPostProcessor.registerMock(MockitoPostProcessor.java:185)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoPostProcessor.register(MockitoPostProcessor.java:167)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoPostProcessor.postProcessBeanFactory(MockitoPostProcessor.java:141)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoPostProcessor.postProcessBeanFactory(MockitoPostProcessor.java:129)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:191)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n\tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:127)\r\n\tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\r\n\tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:276)\r\n\tat org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:252)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\r\n\t... 72 more\r\nCaused by: java.lang.IllegalStateException: Internal problem occurred, please report it. Mockito is unable to load the default implementation of class that is a part of Mockito distribution. Failed to load interface org.mockito.plugins.MockMaker\r\n\tat org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.create(DefaultMockitoPlugins.java:104)\r\n\tat org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.getDefaultPlugin(DefaultMockitoPlugins.java:78)\r\n\tat org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:75)\r\n\tat org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:50)\r\n\tat org.mockito.internal.configuration.plugins.PluginRegistry.&lt;init&gt;(PluginRegistry.java:27)\r\n\tat org.mockito.internal.configuration.plugins.Plugins.&lt;clinit&gt;(Plugins.java:22)\r\n\tat org.mockito.internal.MockitoCore.&lt;clinit&gt;(MockitoCore.java:73)\r\n\tat org.mockito.Mockito.&lt;clinit&gt;(Mockito.java:1669)\r\n\tat org.springframework.boot.test.mock.mockito.MockReset.withSettings(MockReset.java:81)\r\n\tat org.springframework.boot.test.mock.mockito.MockDefinition.createMock(MockDefinition.java:147)\r\n\t... 86 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.create(DefaultMockitoPlugins.java:102)\r\n\t... 95 more\r\n```\r\n\r\n```\r\nCaused by: org.mockito.exceptions.base.MockitoInitializationException: \r\nCould not initialize inline Byte Buddy mock maker.\r\n\r\nIt appears as if your JDK does not supply a working agent attachment mechanism.\r\n\r\nJava               : 17\r\nJVM vendor name    : Amazon.com Inc.\r\nJVM vendor version : 17.0.6+10-LTS\r\nJVM name           : OpenJDK 64-Bit Server VM\r\nJVM version        : 17.0.6+10-LTS\r\nJVM info           : mixed mode, sharing\r\nOS name            : Windows 10\r\nOS version         : 10.0\r\n\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.&lt;init&gt;(InlineDelegateByteBuddyMockMaker.java:244)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.&lt;init&gt;(InlineByteBuddyMockMaker.java:23)\r\n\t... 101 more\r\nCaused by: java.lang.IllegalArgumentException\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.appendToClassLoaderSearch0(Native Method)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.appendToBootstrapClassLoaderSearch(InstrumentationImpl.java:220)\r\n\tat org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.&lt;clinit&gt;(InlineDelegateByteBuddyMockMaker.java:159)\r\n\t... 102 more\r\n```\r\n\r\ntry to use junit5+springboot test","title":"Could not initialize inline Byte Buddy mock maker","body":"<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n   &lt;version&gt;2.7.9&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jaJwj.png\" rel=\"nofollow noreferrer\">Dependency settings</a>\n<a href=\"https://i.stack.imgur.com/5vl2z.png\" rel=\"nofollow noreferrer\">JRE settings</a></p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: java.lang.IllegalStateException: Could not initialize plugin: interface org.mockito.plugins.MockMaker (alternate: null)\n    at org.mockito.internal.configuration.plugins.PluginLoader$1.invoke(PluginLoader.java:84)\n    at jdk.proxy2/jdk.proxy2.$Proxy17.isTypeMockable(Unknown Source)\n    at org.mockito.internal.util.MockUtil.typeMockabilityOf(MockUtil.java:78)\n    at org.mockito.internal.util.MockCreationValidator.validateType(MockCreationValidator.java:22)\n    at org.mockito.internal.creation.MockSettingsImpl.validatedSettings(MockSettingsImpl.java:274)\n    at org.mockito.internal.creation.MockSettingsImpl.build(MockSettingsImpl.java:235)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:86)\n    at org.mockito.Mockito.mock(Mockito.java:2087)\n    at org.springframework.boot.test.mock.mockito.MockDefinition.createMock(MockDefinition.java:158)\n    at org.springframework.boot.test.mock.mockito.MockitoPostProcessor.registerMock(MockitoPostProcessor.java:185)\n    at org.springframework.boot.test.mock.mockito.MockitoPostProcessor.register(MockitoPostProcessor.java:167)\n    at org.springframework.boot.test.mock.mockito.MockitoPostProcessor.postProcessBeanFactory(MockitoPostProcessor.java:141)\n    at org.springframework.boot.test.mock.mockito.MockitoPostProcessor.postProcessBeanFactory(MockitoPostProcessor.java:129)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:191)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:127)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:276)\n    at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:252)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)\n    ... 72 more\nCaused by: java.lang.IllegalStateException: Internal problem occurred, please report it. Mockito is unable to load the default implementation of class that is a part of Mockito distribution. Failed to load interface org.mockito.plugins.MockMaker\n    at org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.create(DefaultMockitoPlugins.java:104)\n    at org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.getDefaultPlugin(DefaultMockitoPlugins.java:78)\n    at org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:75)\n    at org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:50)\n    at org.mockito.internal.configuration.plugins.PluginRegistry.&lt;init&gt;(PluginRegistry.java:27)\n    at org.mockito.internal.configuration.plugins.Plugins.&lt;clinit&gt;(Plugins.java:22)\n    at org.mockito.internal.MockitoCore.&lt;clinit&gt;(MockitoCore.java:73)\n    at org.mockito.Mockito.&lt;clinit&gt;(Mockito.java:1669)\n    at org.springframework.boot.test.mock.mockito.MockReset.withSettings(MockReset.java:81)\n    at org.springframework.boot.test.mock.mockito.MockDefinition.createMock(MockDefinition.java:147)\n    ... 86 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.create(DefaultMockitoPlugins.java:102)\n    ... 95 more\n</code></pre>\n<pre><code>Caused by: org.mockito.exceptions.base.MockitoInitializationException: \nCould not initialize inline Byte Buddy mock maker.\n\nIt appears as if your JDK does not supply a working agent attachment mechanism.\n\nJava               : 17\nJVM vendor name    : Amazon.com Inc.\nJVM vendor version : 17.0.6+10-LTS\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 17.0.6+10-LTS\nJVM info           : mixed mode, sharing\nOS name            : Windows 10\nOS version         : 10.0\n\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.&lt;init&gt;(InlineDelegateByteBuddyMockMaker.java:244)\n    at org.mockito.internal.creation.bytebuddy.InlineByteBuddyMockMaker.&lt;init&gt;(InlineByteBuddyMockMaker.java:23)\n    ... 101 more\nCaused by: java.lang.IllegalArgumentException\n    at java.instrument/sun.instrument.InstrumentationImpl.appendToClassLoaderSearch0(Native Method)\n    at java.instrument/sun.instrument.InstrumentationImpl.appendToBootstrapClassLoaderSearch(InstrumentationImpl.java:220)\n    at org.mockito.internal.creation.bytebuddy.InlineDelegateByteBuddyMockMaker.&lt;clinit&gt;(InlineDelegateByteBuddyMockMaker.java:159)\n    ... 102 more\n</code></pre>\n<p>try to use junit5+springboot test</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2598,"reputation":2793,"user_id":3627,"accept_rate":50,"display_name":"royalghost"},"score":2,"creation_date":1604366581,"post_id":64655514,"comment_id":114320627,"body_markdown":"What have you tried so far ?","body":"What have you tried so far ?"},{"owner":{"account_id":19884124,"reputation":15,"user_id":14567434,"display_name":"John Yang"},"score":1,"creation_date":1604367979,"post_id":64655514,"comment_id":114320902,"body_markdown":"Im still trying to get the first four elements in the array to see if they are sequential if not then it moves along into the array and gets the next 4 to see if they&#39;re sequential or not and keeps on iterating until it finds that there is a sequence in the array and returns true or until when the array is finished and it cant find any sequential order and returns a false.","body":"Im still trying to get the first four elements in the array to see if they are sequential if not then it moves along into the array and gets the next 4 to see if they&#39;re sequential or not and keeps on iterating until it finds that there is a sequence in the array and returns true or until when the array is finished and it cant find any sequential order and returns a false."},{"owner":{"account_id":8433338,"reputation":20053,"user_id":6328256,"display_name":"Sash Sinha"},"score":0,"creation_date":1604370494,"post_id":64655514,"comment_id":114321324,"body_markdown":"@JohnYang Makes complete sense, you are on the right track.","body":"@JohnYang Makes complete sense, you are on the right track."},{"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"score":0,"creation_date":1605017098,"post_id":64655514,"comment_id":114519740,"body_markdown":"@JohnYang I don&#39;t agree with your accepted answer of choice.","body":"@JohnYang I don&#39;t agree with your accepted answer of choice."}],"answers":[{"tags":[],"owner":{"account_id":19480873,"reputation":30974,"user_id":14251221,"display_name":"Spectric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604368424,"creation_date":1604368424,"answer_id":64655739,"question_id":64655514,"body_markdown":"I believe this method works:\r\n\r\n\tpublic boolean find4Consecutive(int[] array) {\r\n\t\tint length = array.length;\r\n\t\tfor(int i = 0; i+4&lt;=length; i++ ) {\r\n\t\t\tint current = array[i];\r\n\t\t\tint current1 = array[i+1];\r\n\t\t\tint current2 = array[i+2];\r\n\t\t\tint current3 = array[i+3];\r\n\t\t\tif(current+1==current1&amp;&amp;current1+1==current2&amp;&amp;current2+1==current3) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n**What are we doing?**\r\n\r\nWe are looping through the array and checking whether the 3 items in the array after the current index are equal to the previous item plus 1.\r\n\r\n**Test Run**\r\n\r\n`[1,2,3,4,6,9]` returns `true`\r\n\r\n`[0, 2, 3, 4, 5]` returns `true`\r\n\r\n`[0, 2, 4, 4, 5]` returns `false`","title":"Look for consecutive numbers in a list","body":"<p>I believe this method works:</p>\n<pre><code>public boolean find4Consecutive(int[] array) {\n    int length = array.length;\n    for(int i = 0; i+4&lt;=length; i++ ) {\n        int current = array[i];\n        int current1 = array[i+1];\n        int current2 = array[i+2];\n        int current3 = array[i+3];\n        if(current+1==current1&amp;&amp;current1+1==current2&amp;&amp;current2+1==current3) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p><strong>What are we doing?</strong></p>\n<p>We are looping through the array and checking whether the 3 items in the array after the current index are equal to the previous item plus 1.</p>\n<p><strong>Test Run</strong></p>\n<p><code>[1,2,3,4,6,9]</code> returns <code>true</code></p>\n<p><code>[0, 2, 3, 4, 5]</code> returns <code>true</code></p>\n<p><code>[0, 2, 4, 4, 5]</code> returns <code>false</code></p>\n"},{"tags":[],"owner":{"account_id":8433338,"reputation":20053,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681405380,"creation_date":1604368893,"answer_id":64655801,"question_id":64655514,"body_markdown":"I think you are on the right track, your thought process with coming up with that pseudocode was extremely easy to follow, great job:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n    \r\n    import static org.junit.Assert.assertFalse;\r\n    import static org.junit.Assert.assertTrue;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        assertTrue(fourConsecutive(new int[] {1, 2, 3, 4, 6, 9}));\r\n        assertTrue(fourConsecutive(new int[] {1, 2, 4, 5, 6, 7, 8}));\r\n        assertTrue(fourConsecutive(new int[] {3, 2, 4, 5, 6, 7, 9, 1, 8}));\r\n        assertFalse(fourConsecutive(new int[] {5, 2, 4, 1, 7}));\r\n        assertFalse(fourConsecutive(new int[] {1, 2, 3, 5, 6}));\r\n    \r\n        try (Scanner scanner = new Scanner(System.in)) {\r\n          int arrayLength =\r\n              getIntegerInput(scanner, &quot;How many numbers are you going to enter: &quot;, 0, 10);\r\n          int[] array = new int[arrayLength];\r\n          for (int i = 0; i &lt; arrayLength; i++) {\r\n            array[i] = getIntegerInput(scanner, String.format(&quot;Enter number %d: &quot;, i + 1), 1, 9);\r\n          }\r\n          System.out.println(\r\n              fourConsecutive(array)\r\n                  ? &quot;There is a sequence of four consecutive numbers in the numbers you entered: &quot;\r\n                      + Arrays.toString(array)\r\n                  : &quot;There is a not a sequence of four consecutive numbers in the numbers you entered: &quot;\r\n                      + Arrays.toString(array));\r\n        }\r\n      }\r\n    \r\n      private static boolean fourConsecutive(int[] arr) {\r\n        for (int i = 0; i &lt; arr.length - 3; i++) {\r\n          if (arr[i + 1] == arr[i] + 1 &amp;&amp; arr[i + 2] == arr[i] + 2 &amp;&amp; arr[i + 3] == arr[i] + 3) {\r\n            return true;\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n    \r\n      private static int getIntegerInput(Scanner scanner, String prompt, int minValue, int maxValue) {\r\n        System.out.print(prompt);\r\n        int validInteger = -1;\r\n        while (scanner.hasNext()) {\r\n          if (scanner.hasNextInt()) {\r\n            validInteger = scanner.nextInt();\r\n            if (validInteger &gt;= minValue &amp;&amp; validInteger &lt;= maxValue) {\r\n              break;\r\n            } else {\r\n              System.out.printf(\r\n                  &quot;Error: Please enter an integer between %d and %d inclusive%n&quot;, minValue, maxValue);\r\n              System.out.print(prompt);\r\n            }\r\n          } else {\r\n            System.out.printf(\r\n                &quot;Error: Please enter an integer between %d and %d inclusive%n&quot;, minValue, maxValue);\r\n            System.out.print(prompt);\r\n            scanner.next();\r\n          }\r\n        }\r\n        return validInteger;\r\n      }\r\n    }\r\n\r\n\r\n\r\n**Example Usage:**\r\n\r\n    How many numbers are you going to enter: 14\r\n    Error: Please enter an integer between 0 and 10 inclusive\r\n    How many numbers are you going to enter: 8\r\n    Enter number 1: 12\r\n    Error: Please enter an integer between 1 and 9 inclusive\r\n    Enter number 1: 3\r\n    Enter number 2: 8\r\n    Enter number 3: 4\r\n    Enter number 4: 5\r\n    Enter number 5: 6\r\n    Enter number 6: 7\r\n    Enter number 7: 1\r\n    Enter number 8: 9\r\n    There is a sequence of four consecutive numbers in the numbers you entered: [3, 8, 4, 5, 6, 7, 1, 9]\r\n\r\n","title":"Look for consecutive numbers in a list","body":"<p>I think you are on the right track, your thought process with coming up with that pseudocode was extremely easy to follow, great job:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertTrue;\n\npublic class Main {\n  public static void main(String[] args) {\n    assertTrue(fourConsecutive(new int[] {1, 2, 3, 4, 6, 9}));\n    assertTrue(fourConsecutive(new int[] {1, 2, 4, 5, 6, 7, 8}));\n    assertTrue(fourConsecutive(new int[] {3, 2, 4, 5, 6, 7, 9, 1, 8}));\n    assertFalse(fourConsecutive(new int[] {5, 2, 4, 1, 7}));\n    assertFalse(fourConsecutive(new int[] {1, 2, 3, 5, 6}));\n\n    try (Scanner scanner = new Scanner(System.in)) {\n      int arrayLength =\n          getIntegerInput(scanner, &quot;How many numbers are you going to enter: &quot;, 0, 10);\n      int[] array = new int[arrayLength];\n      for (int i = 0; i &lt; arrayLength; i++) {\n        array[i] = getIntegerInput(scanner, String.format(&quot;Enter number %d: &quot;, i + 1), 1, 9);\n      }\n      System.out.println(\n          fourConsecutive(array)\n              ? &quot;There is a sequence of four consecutive numbers in the numbers you entered: &quot;\n                  + Arrays.toString(array)\n              : &quot;There is a not a sequence of four consecutive numbers in the numbers you entered: &quot;\n                  + Arrays.toString(array));\n    }\n  }\n\n  private static boolean fourConsecutive(int[] arr) {\n    for (int i = 0; i &lt; arr.length - 3; i++) {\n      if (arr[i + 1] == arr[i] + 1 &amp;&amp; arr[i + 2] == arr[i] + 2 &amp;&amp; arr[i + 3] == arr[i] + 3) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  private static int getIntegerInput(Scanner scanner, String prompt, int minValue, int maxValue) {\n    System.out.print(prompt);\n    int validInteger = -1;\n    while (scanner.hasNext()) {\n      if (scanner.hasNextInt()) {\n        validInteger = scanner.nextInt();\n        if (validInteger &gt;= minValue &amp;&amp; validInteger &lt;= maxValue) {\n          break;\n        } else {\n          System.out.printf(\n              &quot;Error: Please enter an integer between %d and %d inclusive%n&quot;, minValue, maxValue);\n          System.out.print(prompt);\n        }\n      } else {\n        System.out.printf(\n            &quot;Error: Please enter an integer between %d and %d inclusive%n&quot;, minValue, maxValue);\n        System.out.print(prompt);\n        scanner.next();\n      }\n    }\n    return validInteger;\n  }\n}\n</code></pre>\n<p><strong>Example Usage:</strong></p>\n<pre><code>How many numbers are you going to enter: 14\nError: Please enter an integer between 0 and 10 inclusive\nHow many numbers are you going to enter: 8\nEnter number 1: 12\nError: Please enter an integer between 1 and 9 inclusive\nEnter number 1: 3\nEnter number 2: 8\nEnter number 3: 4\nEnter number 4: 5\nEnter number 5: 6\nEnter number 6: 7\nEnter number 7: 1\nEnter number 8: 9\nThere is a sequence of four consecutive numbers in the numbers you entered: [3, 8, 4, 5, 6, 7, 1, 9]\n</code></pre>\n"}],"owner":{"account_id":19884124,"reputation":15,"user_id":14567434,"display_name":"John Yang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1604410064,"accepted_answer_id":64655801,"answer_count":2,"score":0,"last_activity_date":1681405380,"creation_date":1604366483,"question_id":64655514,"body_markdown":"I&#39;m trying to write this in Java, but I&#39;m unsure of how to approach this could someone help guide me through this.\r\n\r\n\r\nSo at first I am getting users input from a range of 1 to 9 and it is stored in a list. After that I want to see if any of the numbers stored in the list are in sequential order without sorting.\r\n\r\nSay I have these lists and it should return true or false because I am only looking at 4 places.\r\n\r\nI don&#39;t want the list to be sorted because I still want to retain the original list. \r\n\r\nAlso they can have repeats which is something I&#39;m also unsure about handling. Below is my pseudo code, but just not sure how to handle repeats because even if there is a repeat of a number I&#39;d still want it to return true.\r\n\r\n    [1,2,3,4,6,9] true because the first four digits are consecutive\r\n                \r\n    I want to be able to grab 4 from the list like the first 4 and see\r\n    if they are consecutive or not.\r\n    \r\n    [1,2,4,5,6,7,8] true because the last 4 digits are consecutive\r\n    For this one it grabs the first 4, [1,2,4,5] checks to see if they are  \r\n\r\n    consecutive or not then it moves onto the \r\n\r\n    next 4: [2,4,5,6] which is false so it goes \r\n\r\n    onto the next 4: [4,5,6,7] which is true.\r\n    \r\n    [3,2,4,5,6,7,9,1,8] true because 4,5,6,7, are consecutive\r\n    Iterates through the first four then next four until            \r\n    there is a sequential order otherwise it returns false.\r\n\r\n    [5,2,4,1,7] false because there is no consecutive\r\n      \r\n    \r\n    [1,2,3,5,6] false because there is no consecutive of at least 4.\r\n    [1,2,2,3,4] true as well.","title":"Look for consecutive numbers in a list","body":"<p>I'm trying to write this in Java, but I'm unsure of how to approach this could someone help guide me through this.</p>\n<p>So at first I am getting users input from a range of 1 to 9 and it is stored in a list. After that I want to see if any of the numbers stored in the list are in sequential order without sorting.</p>\n<p>Say I have these lists and it should return true or false because I am only looking at 4 places.</p>\n<p>I don't want the list to be sorted because I still want to retain the original list.</p>\n<p>Also they can have repeats which is something I'm also unsure about handling. Below is my pseudo code, but just not sure how to handle repeats because even if there is a repeat of a number I'd still want it to return true.</p>\n<pre><code>[1,2,3,4,6,9] true because the first four digits are consecutive\n            \nI want to be able to grab 4 from the list like the first 4 and see\nif they are consecutive or not.\n\n[1,2,4,5,6,7,8] true because the last 4 digits are consecutive\nFor this one it grabs the first 4, [1,2,4,5] checks to see if they are  \n\nconsecutive or not then it moves onto the \n\nnext 4: [2,4,5,6] which is false so it goes \n\nonto the next 4: [4,5,6,7] which is true.\n\n[3,2,4,5,6,7,9,1,8] true because 4,5,6,7, are consecutive\nIterates through the first four then next four until            \nthere is a sequential order otherwise it returns false.\n\n[5,2,4,1,7] false because there is no consecutive\n  \n\n[1,2,3,5,6] false because there is no consecutive of at least 4.\n[1,2,2,3,4] true as well.\n</code></pre>\n"},{"tags":["java","class","oop","methods"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1681405210,"post_id":76008030,"comment_id":134054772,"body_markdown":"You define your `FilaComum` class inside of the class `fila`. Without making it `static`, you would need an instance of `fila` to create an instance of `FilaComum`.","body":"You define your <code>FilaComum</code> class inside of the class <code>fila</code>. Without making it <code>static</code>, you would need an instance of <code>fila</code> to create an instance of <code>FilaComum</code>."}],"owner":{"account_id":22177389,"reputation":1,"user_id":16421685,"display_name":"Tiago Saravia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681405531,"answer_count":0,"score":0,"last_activity_date":1681405044,"creation_date":1681405044,"question_id":76008030,"body_markdown":"Here is the complete code:\r\n\r\n\r\n\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class fila {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t//instanciando objeto fila: \r\n\t\tFilaComum fila = new FilaComum();\r\n\t\t\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\t\r\n\t\twhile ( fila.isEmpty()) {\r\n\t\t\tfor (int i=0; i&lt;10; i++) {\r\n\t\t\t\tSystem.out.println(&quot;Insira um valor: &quot;);\r\n\t\t\t\tfila.inserir(s.nextInt());\r\n\t\t\t}\r\n\t\t\ts.close();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\twhile (! fila.isEmpty()) {\r\n\t\t\tint valor = fila.retirar();\r\n\t\t\tSystem.out.println(&quot;Retirei o elemento: &quot;+valor);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic static class FilaComum { // LINE I&#39;M REFFERING TO\r\n\r\n\t\t\r\n\t\t\r\n\t\tint[] valores;\r\n\t\tint primeiro=0;\r\n\t\tint ultimo=0;\r\n\t\tint total=0;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t//M&#233;todo Construtor\r\n\t\t//Fila vazia\r\n\t\tpublic FilaComum(){\r\n\t\t\tvalores = new int[10];\r\n\t\t...\r\n                ... etc\r\n\r\n\r\n\r\n\r\nI would like to understand the reason for this error and what is the purpose of &quot;static&quot; in this case of the class\r\n","title":"My program only works if I put &quot;static&quot; in the &quot;Fila Comum&quot; class. What does that mean?","body":"<p>Here is the complete code:</p>\n<p>import java.util.Scanner;</p>\n<p>public class fila {</p>\n<pre><code>public static void main(String[] args) {\n    //instanciando objeto fila: \n    FilaComum fila = new FilaComum();\n    \n    Scanner s = new Scanner(System.in);\n    \n    while ( fila.isEmpty()) {\n        for (int i=0; i&lt;10; i++) {\n            System.out.println(&quot;Insira um valor: &quot;);\n            fila.inserir(s.nextInt());\n        }\n        s.close();\n    }\n    \n    \n    while (! fila.isEmpty()) {\n        int valor = fila.retirar();\n        System.out.println(&quot;Retirei o elemento: &quot;+valor);\n    }\n}\n\n\npublic static class FilaComum { // LINE I'M REFFERING TO\n\n    \n    \n    int[] valores;\n    int primeiro=0;\n    int ultimo=0;\n    int total=0;\n    \n    \n    \n    //Mtodo Construtor\n    //Fila vazia\n    public FilaComum(){\n        valores = new int[10];\n    ...\n            ... etc\n</code></pre>\n<p>I would like to understand the reason for this error and what is the purpose of &quot;static&quot; in this case of the class</p>\n"},{"tags":["java","eclipse","ide","keyboard-shortcuts","intellij-idea"],"comments":[{"owner":{"account_id":1560281,"reputation":6583,"user_id":1450294,"accept_rate":61,"display_name":"Michael Scheper"},"score":1,"creation_date":1395801823,"post_id":1945213,"comment_id":34499276,"body_markdown":"It would aid web searchers a lot if you included a description of the functionality you&#39;re after in this question&#39;s title. Eclipse&#39;s keyboard shortcuts are platform- and setup-dependent.","body":"It would aid web searchers a lot if you included a description of the functionality you&#39;re after in this question&#39;s title. Eclipse&#39;s keyboard shortcuts are platform- and setup-dependent."}],"answers":[{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":0,"up_vote_count":364,"is_accepted":true,"score":364,"last_activity_date":1629968329,"creation_date":1261474658,"answer_id":1945231,"question_id":1945213,"body_markdown":"I haven&#39;t used Eclipse for years, so I&#39;m not that familiar with the behaviour you&#39;re after - but I believe &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;F12&lt;/kbd&gt; may do what you want: it is the shortcut for the _File structure Popup_ in the default mapping.\r\n\r\nFor macOS &lt;kbd&gt;fn&lt;/kbd&gt; + &lt;kbd&gt;cmd&lt;/kbd&gt; + &lt;kbd&gt;F12&lt;/kbd&gt;","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>I haven't used Eclipse for years, so I'm not that familiar with the behaviour you're after - but I believe <kbd>Ctrl</kbd> + <kbd>F12</kbd> may do what you want: it is the shortcut for the <em>File structure Popup</em> in the default mapping.</p>\n<p>For macOS <kbd>fn</kbd> + <kbd>cmd</kbd> + <kbd>F12</kbd></p>\n"},{"tags":[],"owner":{"account_id":580458,"reputation":1,"user_id":236761,"display_name":"Anonymous Coward"},"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1315903374,"creation_date":1261478536,"answer_id":1945542,"question_id":1945213,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;L&lt;/kbd&gt; is the one you&#39;re looking for.","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>L</kbd> is the one you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":234981,"reputation":156,"user_id":501486,"display_name":"Karthikkannan"},"down_vote_count":7,"up_vote_count":17,"is_accepted":false,"score":10,"last_activity_date":1315903423,"creation_date":1289279349,"answer_id":4130700,"question_id":1945213,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;F3&lt;/kbd&gt; in Idea is the equivalent of &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt; in Eclipse.\r\n\r\nThe thread is old. Just thought might be useful for someone lookin for the same answer...","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p><kbd>Ctrl</kbd> + <kbd>F3</kbd> in Idea is the equivalent of <kbd>Ctrl</kbd> + <kbd>O</kbd> in Eclipse.</p>\n\n<p>The thread is old. Just thought might be useful for someone lookin for the same answer...</p>\n"},{"tags":[],"owner":{"account_id":2271925,"reputation":2085,"user_id":1999083,"accept_rate":50,"display_name":"Liang Zhou"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1363150662,"creation_date":1363150662,"answer_id":15377372,"question_id":1945213,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;F12&lt;/kbd&gt; works for me. I&#39;m using intellij IDEA CE 12 with default keymap.","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p><kbd>Ctrl</kbd> + <kbd>F12</kbd> works for me. I'm using intellij IDEA CE 12 with default keymap.</p>\n"},{"tags":[],"owner":{"account_id":1450617,"reputation":1701,"user_id":1367677,"display_name":"Alan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1421159022,"creation_date":1381997035,"answer_id":19421273,"question_id":1945213,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;F12&lt;/kbd&gt; or search &quot;File Structure&quot; in keymap","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p><kbd>Ctrl</kbd> + <kbd>F12</kbd> or search \"File Structure\" in keymap</p>\n"},{"tags":[],"owner":{"account_id":421155,"reputation":11582,"user_id":799227,"display_name":"vikasing"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1553014499,"creation_date":1389453769,"answer_id":21064053,"question_id":1945213,"body_markdown":"For Intellij 13 on ubuntu the shortcut for the Structure window is &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;7&lt;/kbd&gt; (&lt;kbd&gt;Cmd&lt;/kbd&gt;+&lt;kbd&gt;7&lt;/kbd&gt; on Mac).  You can make the window floating to simulate the Eclipse behavior using the top-right setting icon, also unselect the pinned mode option for &lt;kbd&gt;Esc&lt;/kbd&gt; to work. ","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>For Intellij 13 on ubuntu the shortcut for the Structure window is <kbd>Alt</kbd>+<kbd>7</kbd> (<kbd>Cmd</kbd>+<kbd>7</kbd> on Mac).  You can make the window floating to simulate the Eclipse behavior using the top-right setting icon, also unselect the pinned mode option for <kbd>Esc</kbd> to work. </p>\n"},{"tags":[],"owner":{"account_id":4274109,"reputation":81,"user_id":3495241,"display_name":"user3495241"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1396554618,"creation_date":1396551442,"answer_id":22846530,"question_id":1945213,"body_markdown":"The shortcuts are:\r\n&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;N&lt;/kbd&gt; for files\r\n&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;N&lt;/kbd&gt; for classes","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>The shortcuts are:\n<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>N</kbd> for files\n<kbd>Ctrl</kbd>+<kbd>N</kbd> for classes</p>\n"},{"tags":[],"owner":{"account_id":1560281,"reputation":6583,"user_id":1450294,"accept_rate":61,"display_name":"Michael Scheper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1400483534,"creation_date":1400483534,"answer_id":23731771,"question_id":1945213,"body_markdown":"All these answers are subjective, because they depend on your platform, keymap and IntelliJ version.\r\n\r\nI believe the &#39;Structure&#39; tool is what you&#39;re looking for. In Idea 13, _View_  _Tool Windows_  _Structure_ will open the view, and along the way, the menu will show you the applicable keyboard shortcut for your setup.","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>All these answers are subjective, because they depend on your platform, keymap and IntelliJ version.</p>\n\n<p>I believe the 'Structure' tool is what you're looking for. In Idea 13, <em>View</em>  <em>Tool Windows</em>  <em>Structure</em> will open the view, and along the way, the menu will show you the applicable keyboard shortcut for your setup.</p>\n"},{"tags":[],"owner":{"account_id":4234544,"reputation":315,"user_id":3466082,"display_name":"daazakali"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1426659504,"creation_date":1402467912,"answer_id":24155948,"question_id":1945213,"body_markdown":"On MacOSX 10.8.5, &lt;kbd&gt;Cmd&lt;/kbd&gt;&lt;kbd&gt;F12&lt;/kbd&gt; did not work for me. I had to use &lt;kbd&gt;Fn&lt;/kbd&gt;&lt;kbd&gt;Cmd&lt;/kbd&gt;&lt;kbd&gt;F12&lt;/kbd&gt;","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>On MacOSX 10.8.5, <kbd>Cmd</kbd><kbd>F12</kbd> did not work for me. I had to use <kbd>Fn</kbd><kbd>Cmd</kbd><kbd>F12</kbd></p>\n"},{"tags":[],"owner":{"account_id":3483804,"reputation":10869,"user_id":2915208,"accept_rate":25,"display_name":"Vikas Gupta"},"down_vote_count":7,"up_vote_count":23,"is_accepted":false,"score":16,"last_activity_date":1585894885,"creation_date":1423652331,"answer_id":28452631,"question_id":1945213,"body_markdown":"Windows : &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;F12&lt;/kbd&gt;\r\n\r\nMacOS : &lt;kbd&gt;cmd&lt;/kbd&gt; + &lt;kbd&gt;F12&lt;/kbd&gt;\r\n\r\nAbove commands will show the functions/methods in the **current class**. \r\n\r\nPress &lt;kbd&gt;SHIFT&lt;/kbd&gt; TWO times if you want to search both class and method in the whole project.","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>Windows : <kbd>ctrl</kbd> + <kbd>F12</kbd></p>\n\n<p>MacOS : <kbd>cmd</kbd> + <kbd>F12</kbd></p>\n\n<p>Above commands will show the functions/methods in the <strong>current class</strong>. </p>\n\n<p>Press <kbd>SHIFT</kbd> TWO times if you want to search both class and method in the whole project.</p>\n"},{"tags":[],"owner":{"account_id":231391,"reputation":6221,"user_id":495598,"display_name":"Manu Manjunath"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1681404541,"creation_date":1426073059,"answer_id":28985359,"question_id":1945213,"body_markdown":"Shortcuts:\r\n\r\n - Mac: &lt;kbd&gt;&lt;/kbd&gt;+&lt;kbd&gt;F12&lt;/kbd&gt;\r\n - Windows: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F12&lt;/kbd&gt;\r\n - Ubuntu/CentOS: &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F12&lt;/kbd&gt;","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>Shortcuts:</p>\n<ul>\n<li>Mac: <kbd></kbd>+<kbd>F12</kbd></li>\n<li>Windows: <kbd>Ctrl</kbd>+<kbd>F12</kbd></li>\n<li>Ubuntu/CentOS: <kbd>Ctrl</kbd>+<kbd>F12</kbd></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6162521,"reputation":1265,"user_id":4803609,"display_name":"NIMISHAN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504345340,"creation_date":1435079431,"answer_id":31009182,"question_id":1945213,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F12&lt;/kbd&gt; works, because it is for file structure popup, which is similar to showing code in *Eclipse*.","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p><kbd>Ctrl</kbd>+<kbd>F12</kbd> works, because it is for file structure popup, which is similar to showing code in <em>Eclipse</em>.</p>\n"},{"tags":[],"owner":{"account_id":9590560,"reputation":29,"user_id":7121604,"display_name":"gourav"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504345309,"creation_date":1488275775,"answer_id":42505472,"question_id":1945213,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F12&lt;/kbd&gt; mimics the same functionality.&lt;br&gt; \r\nYou can also use [this link][1] which gives *Eclipse* and corresponding *IntelliJ IDEA* shortcuts.\r\n\r\n\r\n  [1]: https://www.catalysts.cc/en/wissenswertes/intellij-idea-and-eclipse-shortcuts/","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p><kbd>Ctrl</kbd>+<kbd>F12</kbd> mimics the same functionality.<br> \nYou can also use <a href=\"https://www.catalysts.cc/en/wissenswertes/intellij-idea-and-eclipse-shortcuts/\" rel=\"nofollow noreferrer\">this link</a> which gives <em>Eclipse</em> and corresponding <em>IntelliJ IDEA</em> shortcuts.</p>\n"},{"tags":[],"owner":{"account_id":10519139,"reputation":33,"user_id":7752420,"display_name":"IVBORA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504345195,"creation_date":1493030878,"answer_id":43586088,"question_id":1945213,"body_markdown":"I think [here][1] you can found out the most useful shortcuts for Idea as an Eclipse user... \r\nEclipse &quot;Quick outline&quot; &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; (Windows) is an equivalent Idea &quot;File Structure&quot; &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F12&lt;/kbd&gt;!\r\n\r\n\r\n  [1]: https://zeroturnaround.com/rebellabs/getting-started-with-intellij-idea-as-an-eclipse-user/4/","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>I think <a href=\"https://zeroturnaround.com/rebellabs/getting-started-with-intellij-idea-as-an-eclipse-user/4/\" rel=\"nofollow noreferrer\">here</a> you can found out the most useful shortcuts for Idea as an Eclipse user... \nEclipse \"Quick outline\" <kbd>Ctrl</kbd>+<kbd>O</kbd> (Windows) is an equivalent Idea \"File Structure\" <kbd>Ctrl</kbd>+<kbd>F12</kbd>!</p>\n"},{"tags":[],"owner":{"account_id":1365923,"reputation":682,"user_id":1302345,"display_name":"dvk317960"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506675473,"creation_date":1499733389,"answer_id":45023592,"question_id":1945213,"body_markdown":"It is possible to use eclipse keymap in intellij by clicking &lt;kbd&gt;ALT&lt;/kbd&gt;+ &lt;kbd&gt;&lt;/kbd&gt; keymap. Then select eclipse keymap.","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>It is possible to use eclipse keymap in intellij by clicking <kbd>ALT</kbd>+ <kbd></kbd> keymap. Then select eclipse keymap.</p>\n"},{"tags":[],"owner":{"account_id":2890494,"reputation":51,"user_id":2479398,"display_name":"pedrotoliveira"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1535997085,"creation_date":1531698521,"answer_id":51353058,"question_id":1945213,"body_markdown":"For me, &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;F12&lt;/kbd&gt; Works really well!","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>For me, <kbd>Ctrl</kbd> + <kbd>F12</kbd> Works really well!</p>\n"},{"tags":[],"owner":{"account_id":447431,"reputation":431,"user_id":841050,"display_name":"Svilen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558081945,"creation_date":1558081945,"answer_id":56182591,"question_id":1945213,"body_markdown":"For some **Linux** kinds, and particularly for **XFCE** (like Xubuntu, Mint XFCE) a lot of default XWin keyboard layout **mappings are not working**.\r\n \r\nThis is because they overlap with assigned *Window Manager* -&gt; *Keyboard* shortcuts.\r\nFor the concrete question &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F12&lt;/kbd&gt; is assigned to *Workspace 12* which I doubt that many use at all. \r\n\r\nThe **solution** is to clear those Window manager assignments in *Window Manager* -&gt; *Keyboard* tab. As a temporal workaround you may use IDEA actions via *Find action* &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;A&lt;/kbd&gt;\r\n\r\nThere are other overlapping short keys. References:\r\n\r\n - [Difference between Default and Default XWin keymaps][1]\r\n - [Avoid shortcut conflicts in Linux keymap][2]\r\n - [File structure on CTRL+F12 dissapeared in 13.1.5][3]\r\n\r\n  [1]: https://stackoverflow.com/a/51331998\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEABKL-7658?\r\n  [3]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/206840705-File-structure-on-CTRL-F12-dissapeared-in-13-1-5- ","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>For some <strong>Linux</strong> kinds, and particularly for <strong>XFCE</strong> (like Xubuntu, Mint XFCE) a lot of default XWin keyboard layout <strong>mappings are not working</strong>.</p>\n\n<p>This is because they overlap with assigned <em>Window Manager</em> -> <em>Keyboard</em> shortcuts.\nFor the concrete question <kbd>Ctrl</kbd>+<kbd>F12</kbd> is assigned to <em>Workspace 12</em> which I doubt that many use at all. </p>\n\n<p>The <strong>solution</strong> is to clear those Window manager assignments in <em>Window Manager</em> -> <em>Keyboard</em> tab. As a temporal workaround you may use IDEA actions via <em>Find action</em> <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>A</kbd></p>\n\n<p>There are other overlapping short keys. References:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/51331998\">Difference between Default and Default XWin keymaps</a></li>\n<li><a href=\"https://youtrack.jetbrains.com/issue/IDEABKL-7658?\" rel=\"nofollow noreferrer\">Avoid shortcut conflicts in Linux keymap</a></li>\n<li><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206840705-File-structure-on-CTRL-F12-dissapeared-in-13-1-5-\" rel=\"nofollow noreferrer\">File structure on CTRL+F12 dissapeared in 13.1.5</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578048442,"creation_date":1577947388,"answer_id":59559303,"question_id":1945213,"body_markdown":"As mentioned, I&#39;m using XFCE from windows to remote Ubuntu and &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;F12&lt;/kbd&gt; doesn&#39;t work. Since no one mentioned recombine, I&#39;d like to share my solution.   \r\n \r\n - &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;s&lt;/kbd&gt;` to open settings. \r\n - Click `Keymap`\r\n - Input `file structure` in search box\r\n - Right click the item and click `Add Keyboard Shortcut`\r\n - Press keyboard combination you like and I used &lt;/kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;o&lt;/kbd&gt; since I came from Eclipse world. The &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;o&lt;/kbd&gt; has been bound already, so I used &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;o&lt;/kbd&gt; instead\r\n\r\nNow, you can use &lt;/kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;o&lt;/kbd&gt; to trigger the file structure. \r\n\r\nFor details about keymap rebinding, please refer to [this thread][1]. \r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/configuring-keyboard-and-mouse-shortcuts.html","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>As mentioned, I'm using XFCE from windows to remote Ubuntu and <kbd>CTRL</kbd> + <kbd>F12</kbd> doesn't work. Since no one mentioned recombine, I'd like to share my solution.   </p>\n\n<ul>\n<li><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>s</kbd>` to open settings. </li>\n<li>Click <code>Keymap</code></li>\n<li>Input <code>file structure</code> in search box</li>\n<li>Right click the item and click <code>Add Keyboard Shortcut</code></li>\n<li>Press keyboard combination you like and I used Ctrl + <kbd>Shift</kbd> + <kbd>o</kbd> since I came from Eclipse world. The <kbd>Ctrl</kbd> + <kbd>o</kbd> has been bound already, so I used <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>o</kbd> instead</li>\n</ul>\n\n<p>Now, you can use Ctrl + <kbd>Shift</kbd> + <kbd>o</kbd> to trigger the file structure. </p>\n\n<p>For details about keymap rebinding, please refer to <a href=\"https://www.jetbrains.com/help/idea/configuring-keyboard-and-mouse-shortcuts.html\" rel=\"nofollow noreferrer\">this thread</a>. </p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597854432,"creation_date":1593993659,"answer_id":62747580,"question_id":1945213,"body_markdown":"If you want a persistent/sticky/docked Tool Window instead of a temporary/transient dialog: \r\n\r\n - *Mac*: &lt;kbd&gt;&lt;/kbd&gt;+&lt;kbd&gt;7&lt;/kbd&gt;","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>If you want a persistent/sticky/docked Tool Window instead of a temporary/transient dialog:</p>\n<ul>\n<li><em>Mac</em>: <kbd></kbd>+<kbd>7</kbd></li>\n</ul>\n"}],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlovi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78562,"favorite_count":0,"down_vote_count":0,"up_vote_count":301,"accepted_answer_id":1945231,"answer_count":19,"score":301,"last_activity_date":1681404541,"creation_date":1261474470,"question_id":1945213,"body_markdown":"I like to use Eclipse&#39;s shortcut &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt; which outlines the current source. Is there an equivalent shortcut in IntelliJ IDEA?\r\n\r\nIt opens a dialog which allows for quick search of methods and fields in a class.","title":"What is Eclipse&#39;s Ctrl+O (Show Outline) shortcut equivalent in IntelliJ IDEA?","body":"<p>I like to use Eclipse's shortcut <kbd>Ctrl</kbd> + <kbd>O</kbd> which outlines the current source. Is there an equivalent shortcut in IntelliJ IDEA?</p>\n\n<p>It opens a dialog which allows for quick search of methods and fields in a class.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681392493,"creation_date":1681392493,"answer_id":76006016,"question_id":76005990,"body_markdown":"No, just wrap a `while (true) {}` around it. If you really do need abilities to programmatically end this thread permanently, you&#39;d use `while (!Thread.interrupted()) {}` instead and ensure you return (i.e. end the thread) in the `catch (InterruptedException e) {}` block. Then, simply call `.interrupt()` on your thread to eventually kill it (an interruption results in _either_ that `Thread.interrupted()` returning true exactly once, _or_ an InterruptedException. Hence, ensure you break off your thread either way.\r\n","title":"How to create a new thread when an existing one crashes in java","body":"<p>No, just wrap a <code>while (true) {}</code> around it. If you really do need abilities to programmatically end this thread permanently, you'd use <code>while (!Thread.interrupted()) {}</code> instead and ensure you return (i.e. end the thread) in the <code>catch (InterruptedException e) {}</code> block. Then, simply call <code>.interrupt()</code> on your thread to eventually kill it (an interruption results in <em>either</em> that <code>Thread.interrupted()</code> returning true exactly once, <em>or</em> an InterruptedException. Hence, ensure you break off your thread either way.</p>\n"},{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1681393033,"creation_date":1681393033,"answer_id":76006111,"question_id":76005990,"body_markdown":"You could try the single thread pool and submit a runnable task to the pool. If an exception occurs the current thread gets terminated and a new one is created.\r\n\r\n```\r\nExecutorService executorService = Executors.newSingleThreadExecutor();\r\n```","title":"How to create a new thread when an existing one crashes in java","body":"<p>You could try the single thread pool and submit a runnable task to the pool. If an exception occurs the current thread gets terminated and a new one is created.</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681404492,"creation_date":1681403023,"answer_id":76007739,"question_id":76005990,"body_markdown":"&gt;I would like the thread to either stay alive or create a new thread and try again.\r\n\r\n(A) To stay alive, add an outer `while` loop as discussed in [Answer by rzwitserloot][1]. \r\n\r\n(B) To get the effect of starting again, an alternative to starting a new thread is to rewrite your code to use the Executors framework added to Java 5. In modern Java, we rarely address the `Thread` class directly. \r\n\r\nWrite your task as a class implementing `Runnable`. Add a constructor that takes an `ExecutorService` object as an argument. \r\n\r\n```java\r\nclass DatabaseReporter implements Runnable \r\n{\r\n    private final ExecutorService executerService ;\r\n\r\n    DatabaseReporter ( final ExecutorService es ) {\r\n        this.executerService = es ;\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n        try {\r\n           while(true) {\r\n              // do work\r\n           }\r\n        }\r\n        catch (final SQLException se) {\r\n                // do some error handling\r\n            }\r\n        finally {\r\n           // clean up resources\r\n           // clean up any ThreadLocal uses. \r\n           this.executorService.submit( new DatabaseReporter( this.executorService ) ) ;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nObtain a single-threaded executor service by calling `Executors.newSingleThreadExecutor()`. \r\n\r\nKeep a reference to your executor service. You must perform a graceful shutdown of your executor service before your app ends. Otherwise your backing thread pool may continue indefinitely like a zombie &#129503;. Or, if in a Jakarta EE environment, use a managed executor service. \r\n\r\nBeware of any use you may have made of `ThreadLocal`. Since an executor service recycles threads, any previously set `ThreadLocal` values remain. \r\n\r\nIn the future, when Project Loom succeeds, Java will gain virtual threads. When using virtual threads, the issue of leftover `ThreadLocal` goes away. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76006016/642706","title":"How to create a new thread when an existing one crashes in java","body":"<blockquote>\n<p>I would like the thread to either stay alive or create a new thread and try again.</p>\n</blockquote>\n<p>(A) To stay alive, add an outer <code>while</code> loop as discussed in <a href=\"https://stackoverflow.com/a/76006016/642706\">Answer by rzwitserloot</a>.</p>\n<p>(B) To get the effect of starting again, an alternative to starting a new thread is to rewrite your code to use the Executors framework added to Java 5. In modern Java, we rarely address the <code>Thread</code> class directly.</p>\n<p>Write your task as a class implementing <code>Runnable</code>. Add a constructor that takes an <code>ExecutorService</code> object as an argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DatabaseReporter implements Runnable \n{\n    private final ExecutorService executerService ;\n\n    DatabaseReporter ( final ExecutorService es ) {\n        this.executerService = es ;\n    }\n    \n    @Override\n    public void run() {\n        try {\n           while(true) {\n              // do work\n           }\n        }\n        catch (final SQLException se) {\n                // do some error handling\n            }\n        finally {\n           // clean up resources\n           // clean up any ThreadLocal uses. \n           this.executorService.submit( new DatabaseReporter( this.executorService ) ) ;\n        }\n    }\n}\n</code></pre>\n<p>Obtain a single-threaded executor service by calling <code>Executors.newSingleThreadExecutor()</code>.</p>\n<p>Keep a reference to your executor service. You must perform a graceful shutdown of your executor service before your app ends. Otherwise your backing thread pool may continue indefinitely like a zombie . Or, if in a Jakarta EE environment, use a managed executor service.</p>\n<p>Beware of any use you may have made of <code>ThreadLocal</code>. Since an executor service recycles threads, any previously set <code>ThreadLocal</code> values remain.</p>\n<p>In the future, when Project Loom succeeds, Java will gain virtual threads. When using virtual threads, the issue of leftover <code>ThreadLocal</code> goes away.</p>\n"}],"owner":{"account_id":2500549,"reputation":1337,"user_id":2175783,"accept_rate":50,"display_name":"user2175783"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1681404492,"creation_date":1681392331,"question_id":76005990,"body_markdown":"I have to maintain a series of java thread classes in legacy code. \r\nThe threads are created through spring initialization at startup of a web server.\r\n\r\nTheir run method have an infinite loop and work done in the loop\r\ncan throw a few exceptions (sql connection exceptions for example because the db is unreachable say)\r\n\r\nSomething like this\r\n\r\n  \r\n\r\n      public class MyThread extends Thread implements InitializingBean {\r\n        ...\r\n        @Override\r\n        public void run() {\r\n            try {\r\n               while(true) {\r\n                  // do work\r\n               }\r\n            }\r\n            catch (final SQLException se) {\r\n        \t\t\t// do some error handling\r\n        \t\t}\r\n            finally {\r\n               // clean up resources\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nThe problem with the above code is that if there is an exception the thread ends. I would like the thread to either stay alive or create a new thread and try again.\r\n\r\nWhat is the best practice here? \r\nTo create a new Thread?\r\nHow would I do that?\r\n","title":"How to create a new thread when an existing one crashes in java","body":"<p>I have to maintain a series of java thread classes in legacy code.\nThe threads are created through spring initialization at startup of a web server.</p>\n<p>Their run method have an infinite loop and work done in the loop\ncan throw a few exceptions (sql connection exceptions for example because the db is unreachable say)</p>\n<p>Something like this</p>\n<pre><code>  public class MyThread extends Thread implements InitializingBean {\n    ...\n    @Override\n    public void run() {\n        try {\n           while(true) {\n              // do work\n           }\n        }\n        catch (final SQLException se) {\n                // do some error handling\n            }\n        finally {\n           // clean up resources\n        }\n    }\n}\n</code></pre>\n<p>The problem with the above code is that if there is an exception the thread ends. I would like the thread to either stay alive or create a new thread and try again.</p>\n<p>What is the best practice here?\nTo create a new Thread?\nHow would I do that?</p>\n"},{"tags":["java","aem"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681413545,"post_id":76007868,"comment_id":134056606,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"score":0,"creation_date":1683041440,"post_id":76007868,"comment_id":134304127,"body_markdown":"Is this a local server or a production server? What is the AEM version? Does it happen in another environments?","body":"Is this a local server or a production server? What is the AEM version? Does it happen in another environments?"}],"owner":{"account_id":28296756,"reputation":1,"user_id":21636095,"display_name":"snk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681403839,"creation_date":1681403839,"question_id":76007868,"body_markdown":"I am trying to upload an asset to the Asset folder in Adobe Experience Manager (AEM) 6.5 as the admin user. However, I keep encountering the following error in the error log: &quot;Can neither derive user name nor principal names for bundle com.day.cq.cq-tagging [458] and sub service tag-validation)&quot; This error is preventing me from successfully uploading the asset.\r\n\r\nI have already tried restarting AEM and clearing the browser cache, but the error persists.\r\n\r\nI would greatly appreciate any insights or suggestions on how to resolve this issue. ","title":"(AEM) Error: Can neither derive user name nor principal names when uploading asset","body":"<p>I am trying to upload an asset to the Asset folder in Adobe Experience Manager (AEM) 6.5 as the admin user. However, I keep encountering the following error in the error log: &quot;Can neither derive user name nor principal names for bundle com.day.cq.cq-tagging [458] and sub service tag-validation)&quot; This error is preventing me from successfully uploading the asset.</p>\n<p>I have already tried restarting AEM and clearing the browser cache, but the error persists.</p>\n<p>I would greatly appreciate any insights or suggestions on how to resolve this issue.</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":5212343,"reputation":1274,"user_id":4168314,"display_name":"Mochamad Taufik Hidayat"},"score":0,"creation_date":1609833250,"post_id":65574926,"comment_id":115938136,"body_markdown":"check your file on `res\\mipmap-mdpi\\ic_launcher.png` is `ic_launcher.png` still there ?","body":"check your file on <code>res\\mipmap-mdpi\\ic_launcher.png</code> is <code>ic_launcher.png</code> still there ?"},{"owner":{"account_id":8881126,"reputation":123,"user_id":6631209,"display_name":"Hasanuzzaman Rana"},"score":0,"creation_date":1609833264,"post_id":65574926,"comment_id":115938142,"body_markdown":"Might be you messed up with the icon files of your app. Try to replace the icon files.","body":"Might be you messed up with the icon files of your app. Try to replace the icon files."},{"owner":{"account_id":19966931,"reputation":149,"user_id":14633306,"display_name":"N SARATH CHAND"},"score":1,"creation_date":1609834672,"post_id":65574926,"comment_id":115938665,"body_markdown":"I have updated the question showing the files present in the particular folder and I can open them in windows.","body":"I have updated the question showing the files present in the particular folder and I can open them in windows."},{"owner":{"account_id":3359942,"reputation":4710,"user_id":2821954,"display_name":"Andrew T."},"score":0,"creation_date":1609862286,"post_id":65574926,"comment_id":115951416,"body_markdown":"`Users` or `OneDrive` folder might be protected and thus the tools don&#39;t have the permission to locate the files. Try moving the project out from them?","body":"<code>Users</code> or <code>OneDrive</code> folder might be protected and thus the tools don&#39;t have the permission to locate the files. Try moving the project out from them?"},{"owner":{"account_id":19966931,"reputation":149,"user_id":14633306,"display_name":"N SARATH CHAND"},"score":0,"creation_date":1609913203,"post_id":65574926,"comment_id":115966899,"body_markdown":"@AndrewT. After creating a new project in another driver. Im facing this error.\\\n`Execution failed for task &#39;:app:processDebugResources&#39;.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n   &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during link, attempting to stop daemon.\n     This should not happen under normal circumstances, please file an issue if it does.`","body":"@AndrewT. After creating a new project in another driver. Im facing this error.\\ <code>Execution failed for task &#39;:app:processDebugResources&#39;. &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade    &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #0: Unexpected error during link, attempting to stop daemon.      This should not happen under normal circumstances, please file an issue if it does.</code>"}],"answers":[{"tags":[],"owner":{"account_id":19966931,"reputation":149,"user_id":14633306,"display_name":"N SARATH CHAND"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619674723,"creation_date":1619674723,"answer_id":67311568,"question_id":65574926,"body_markdown":"Well, for me \r\n**Downgrading the classpath** \r\n\r\nfrom  `&quot;com.android.tools.build:gradle:4.1.1&quot;` \r\nto `&quot;com.android.tools.build:gradle:4.0.2&quot;` worked for me.\r\n\r\n\r\nThanks to everyone who helped me.","title":"ic_launcher.png AAPT: error: file not found in Android Studio v4.1.1","body":"<p>Well, for me\n<strong>Downgrading the classpath</strong></p>\n<p>from  <code>&quot;com.android.tools.build:gradle:4.1.1&quot;</code>\nto <code>&quot;com.android.tools.build:gradle:4.0.2&quot;</code> worked for me.</p>\n<p>Thanks to everyone who helped me.</p>\n"},{"tags":[],"owner":{"account_id":13184702,"reputation":1309,"user_id":9523118,"display_name":"Krishna Sony"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1619675910,"creation_date":1619675910,"answer_id":67311725,"question_id":65574926,"body_markdown":" Add `maven { url &#39;https://jitpack.io&#39; }` to your `build.gradle` file. Downgrading the classpath will help but that&#39;s not the solution at all.\r\n\r\n```\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n       // add maven\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n}","title":"ic_launcher.png AAPT: error: file not found in Android Studio v4.1.1","body":"<p>Add <code>maven { url 'https://jitpack.io' }</code> to your <code>build.gradle</code> file. Downgrading the classpath will help but that's not the solution at all.</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        jcenter()\n       // add maven\n        maven { url 'https://jitpack.io' }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18687096,"reputation":31,"user_id":13622340,"display_name":"Sriganesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681403833,"creation_date":1681403833,"answer_id":76007867,"question_id":65574926,"body_markdown":"This is probably caused due to the ic_launcher.png file being corrupted while it is copied to the project&#39;s directory by Flutter.\r\n\r\nFor me, manually replacing the ic_launcher.png file in the project&#39;s directory with the png file from the following location in the Flutter SDK directory worked.    `\\packages\\flutter_tools\\templates\\module\\android\\host_app_common\\app.tmpl\\src\\main\\res\\mipmap-hdpi`\r\n\r\nTo find the flutter SDK directory type the following command into the command prompt `where flutter`. Copy the path till before the bin folder and copy the remaining part from this answer.","title":"ic_launcher.png AAPT: error: file not found in Android Studio v4.1.1","body":"<p>This is probably caused due to the ic_launcher.png file being corrupted while it is copied to the project's directory by Flutter.</p>\n<p>For me, manually replacing the ic_launcher.png file in the project's directory with the png file from the following location in the Flutter SDK directory worked.    <code>\\packages\\flutter_tools\\templates\\module\\android\\host_app_common\\app.tmpl\\src\\main\\res\\mipmap-hdpi</code></p>\n<p>To find the flutter SDK directory type the following command into the command prompt <code>where flutter</code>. Copy the path till before the bin folder and copy the remaining part from this answer.</p>\n"}],"owner":{"account_id":19966931,"reputation":149,"user_id":14633306,"display_name":"N SARATH CHAND"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5706,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1681403833,"creation_date":1609833028,"question_id":65574926,"body_markdown":"I&#39;m getting the following error. \r\n\r\n    Android resource compilation failed\r\n    C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-mdpi\\ic_launcher.png: AAPT: error: file not found.\r\nBut .png files are present in `mipmap-hdpi(mdpi)(xhdpi)(xxhdpi)(xxxhdpi)`\r\n[![enter image description here][1]][1]\r\n\r\nThe complete errors in build is as follows\\\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n    &gt; Multiple task action failures occurred:\r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; Android resource compilation failed\r\n            C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-mdpi\\ic_launcher.png: AAPT: error: file not found.\r\n                \r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #3: Unexpected error during compile &#39;C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-mdpi\\ic_launcher_round.png&#39;, attempting to stop daemon.\r\n            This should not happen under normal circumstances, please file an issue if it does.\r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; Android resource compilation failed\r\n            C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-hdpi\\ic_launcher.png: AAPT: error: file not found.\r\n                \r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #2: Unexpected error during compile &#39;C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-xhdpi\\ic_launcher.png&#39;, attempting to stop daemon.\r\n            This should not happen under normal circumstances, please file an issue if it does.\r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #4: Daemon startup failed\r\n            Please check if you installed the Windows Universal C Runtime.\r\n            This should not happen under normal circumstances, please file an issue if it does.\r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; Android resource compilation failed\r\n            C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-xhdpi\\ic_launcher_round.png: AAPT: error: file not found.\r\n                \r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #5: Daemon startup failed\r\n            Please check if you installed the Windows Universal C Runtime.\r\n            This should not happen under normal circumstances, please file an issue if it does.\r\n       &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n          &gt; Android resource compilation failed\r\n            C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-xxxhdpi\\ic_launcher.png: AAPT: error: file not found.\r\n                \r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 6s\r\n    20 actionable tasks: 1 executed, 19 up-to-date\r\n\r\nI tried following things\\\r\n-invalidate cache and restart Android studio\\\r\n-Uninstalling and Reinstalling Android studio\\\r\n-updated all files in build.gradle\\\r\n-cleaned and rebuiled project\\\r\n-even after changing android:icon and android:roundicon in Manisfest page\\\r\n\r\nThe manifest page is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.xd&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Xd&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n    \r\nI haven&#39;t made any changes in MainActivity and activity_main.xml\\\r\nThe classpath i&#39;m using is `classpath &quot;com.android.tools.build:gradle:4.1.1&quot;`\\\r\nThe build.gradle(Module) is as follows:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.xd&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 30\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            vectorDrawables.useSupportLibrary = true\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.1&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ymr6L.png","title":"ic_launcher.png AAPT: error: file not found in Android Studio v4.1.1","body":"<p>I'm getting the following error.</p>\n<pre><code>Android resource compilation failed\nC:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-mdpi\\ic_launcher.png: AAPT: error: file not found.\n</code></pre>\n<p>But .png files are present in <code>mipmap-hdpi(mdpi)(xhdpi)(xxhdpi)(xxxhdpi)</code>\n<a href=\"https://i.stack.imgur.com/Ymr6L.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ymr6L.png\" alt=\"enter image description here\" /></a></p>\n<p>The complete errors in build is as follows\\</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:mergeDebugResources'.\n&gt; Multiple task action failures occurred:\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-mdpi\\ic_launcher.png: AAPT: error: file not found.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #3: Unexpected error during compile 'C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-mdpi\\ic_launcher_round.png', attempting to stop daemon.\n        This should not happen under normal circumstances, please file an issue if it does.\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-hdpi\\ic_launcher.png: AAPT: error: file not found.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #2: Unexpected error during compile 'C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-xhdpi\\ic_launcher.png', attempting to stop daemon.\n        This should not happen under normal circumstances, please file an issue if it does.\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #4: Daemon startup failed\n        Please check if you installed the Windows Universal C Runtime.\n        This should not happen under normal circumstances, please file an issue if it does.\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-xhdpi\\ic_launcher_round.png: AAPT: error: file not found.\n            \n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; AAPT2 aapt2-4.1.1-6503028-windows Daemon #5: Daemon startup failed\n        Please check if you installed the Windows Universal C Runtime.\n        This should not happen under normal circumstances, please file an issue if it does.\n   &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n      &gt; Android resource compilation failed\n        C:\\Users\\sarat\\OneDrive\\Desktop\\xd\\app\\src\\main\\res\\mipmap-xxxhdpi\\ic_launcher.png: AAPT: error: file not found.\n            \n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n20 actionable tasks: 1 executed, 19 up-to-date\n</code></pre>\n<p>I tried following things<br />\n-invalidate cache and restart Android studio<br />\n-Uninstalling and Reinstalling Android studio<br />\n-updated all files in build.gradle<br />\n-cleaned and rebuiled project<br />\n-even after changing android:icon and android:roundicon in Manisfest page\\</p>\n<p>The manifest page is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.xd&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Xd&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I haven't made any changes in MainActivity and activity_main.xml<br />\nThe classpath i'm using is <code>classpath &quot;com.android.tools.build:gradle:4.1.1&quot;</code><br />\nThe build.gradle(Module) is as follows:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.xd&quot;\n        minSdkVersion 16\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        vectorDrawables.useSupportLibrary = true\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    testImplementation 'junit:junit:4.13.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n"},{"tags":["java","macos","homebrew"],"comments":[{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":1,"creation_date":1544748372,"post_id":53772023,"comment_id":94395995,"body_markdown":"Wouldn&#39;t this be better suited at StackExchange?","body":"Wouldn&#39;t this be better suited at StackExchange?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1544750640,"post_id":53772023,"comment_id":94396427,"body_markdown":"If you use [sdkman!](https://sdkman.io/) then it can run on Mac OSX, Linux, Cygwin, Solaris and FreeBSD. `sdk ls java` and `sdk use 8.0.192-zulu` (for example)","body":"If you use <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman!</a> then it can run on Mac OSX, Linux, Cygwin, Solaris and FreeBSD. <code>sdk ls java</code> and <code>sdk use 8.0.192-zulu</code> (for example)"}],"answers":[{"tags":[],"owner":{"account_id":1236184,"reputation":11230,"user_id":1199731,"accept_rate":69,"display_name":"d0x"},"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1556099569,"creation_date":1544747931,"answer_id":53772024,"question_id":53772023,"body_markdown":"**This answer is outdated.**\r\n\r\nYou can install Java 8 on macOS Mojave like this:\r\n\r\n    brew tap caskroom/versions\r\n    brew cask install java8\r\n\r\nIn case the latest java version was already installed, uninstall it with:\r\n\r\n    brew cask remove java\r\n","title":"How to install Java 8 on osx macOS Mojave with Homebrew?","body":"<p><strong>This answer is outdated.</strong></p>\n\n<p>You can install Java 8 on macOS Mojave like this:</p>\n\n<pre><code>brew tap caskroom/versions\nbrew cask install java8\n</code></pre>\n\n<p>In case the latest java version was already installed, uninstall it with:</p>\n\n<pre><code>brew cask remove java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37073,"reputation":23568,"user_id":105904,"display_name":"Andrew Janke"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1556402941,"creation_date":1555778093,"answer_id":55775566,"question_id":53772023,"body_markdown":"The older Oracle JDKs are gone from Homebrew now. Use OpenJDK instead:\r\n\r\n```\r\nbrew tap adoptopenjdk/openjdk\r\nbrew cask install adoptopenjdk8\r\n```\r\n\r\nOpenJDK is a drop-in replacement for the Oracle JDK in most places, so this should work fine for you with no code or build process changes.","title":"How to install Java 8 on osx macOS Mojave with Homebrew?","body":"<p>The older Oracle JDKs are gone from Homebrew now. Use OpenJDK instead:</p>\n\n<pre><code>brew tap adoptopenjdk/openjdk\nbrew cask install adoptopenjdk8\n</code></pre>\n\n<p>OpenJDK is a drop-in replacement for the Oracle JDK in most places, so this should work fine for you with no code or build process changes.</p>\n"},{"tags":[],"owner":{"account_id":10071285,"reputation":2543,"user_id":7444762,"display_name":"Lyncean Patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591775838,"creation_date":1591775838,"answer_id":62298510,"question_id":53772023,"body_markdown":"Assumption: Mac machine and you already have installed homebrew.\r\n\r\nInstall cask (with Homebrew 0.9.5 or higher, cask is included so skip this step):\r\n    \r\n    $ brew tap caskroom/cask\r\n    $ brew tap caskroom/versions\r\n\r\nTo install latest java:\r\n\r\n    $ brew cask install java\r\n\r\nTo install java 8:\r\n    \r\n    $ brew cask install adoptopenjdk/openjdk/adoptopenjdk8\r\n\r\nIf you want to install/manage multiple version then you can use &#39;jenv&#39;:\r\n\r\nInstall and configure jenv:\r\n\r\n    $ brew install jenv\r\n    $ echo &#39;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#39; &gt;&gt; ~/.bash_profile\r\n    $ echo &#39;eval &quot;$(jenv init -)&quot;&#39; &gt;&gt; ~/.bash_profile\r\n    $ source ~/.bash_profile\r\n\r\nAdd the installed java to jenv:\r\n\r\n    $ jenv add /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\r\n    $ jenv add /Library/Java/JavaVirtualMachines/jdk1.11.0_2.jdk/Contents/Home\r\n\r\nTo see all the installed java:\r\n\r\n    $ jenv versions\r\n\r\nAbove command will give the list of installed java:\r\n\r\n    * system (set by /Users/lyncean/.jenv/version)\r\n    1.8\r\n    1.8.0.202-ea\r\n    oracle64-1.8.0.202-ea\r\n\r\nConfigure the java version which you want to use:\r\n\r\n    $ jenv global oracle64-1.6.0.39\r\n\r\nTo set JAVA_HOME:\r\n\r\n    $ jenv enable-plugin export\r\n\r\n    \r\n\r\n\r\n\r\n","title":"How to install Java 8 on osx macOS Mojave with Homebrew?","body":"<p>Assumption: Mac machine and you already have installed homebrew.</p>\n\n<p>Install cask (with Homebrew 0.9.5 or higher, cask is included so skip this step):</p>\n\n<pre><code>$ brew tap caskroom/cask\n$ brew tap caskroom/versions\n</code></pre>\n\n<p>To install latest java:</p>\n\n<pre><code>$ brew cask install java\n</code></pre>\n\n<p>To install java 8:</p>\n\n<pre><code>$ brew cask install adoptopenjdk/openjdk/adoptopenjdk8\n</code></pre>\n\n<p>If you want to install/manage multiple version then you can use 'jenv':</p>\n\n<p>Install and configure jenv:</p>\n\n<pre><code>$ brew install jenv\n$ echo 'export PATH=\"$HOME/.jenv/bin:$PATH\"' &gt;&gt; ~/.bash_profile\n$ echo 'eval \"$(jenv init -)\"' &gt;&gt; ~/.bash_profile\n$ source ~/.bash_profile\n</code></pre>\n\n<p>Add the installed java to jenv:</p>\n\n<pre><code>$ jenv add /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\n$ jenv add /Library/Java/JavaVirtualMachines/jdk1.11.0_2.jdk/Contents/Home\n</code></pre>\n\n<p>To see all the installed java:</p>\n\n<pre><code>$ jenv versions\n</code></pre>\n\n<p>Above command will give the list of installed java:</p>\n\n<pre><code>* system (set by /Users/lyncean/.jenv/version)\n1.8\n1.8.0.202-ea\noracle64-1.8.0.202-ea\n</code></pre>\n\n<p>Configure the java version which you want to use:</p>\n\n<pre><code>$ jenv global oracle64-1.6.0.39\n</code></pre>\n\n<p>To set JAVA_HOME:</p>\n\n<pre><code>$ jenv enable-plugin export\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12040061,"reputation":811,"user_id":8807325,"display_name":"Shraddha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609183175,"creation_date":1609183175,"answer_id":65482896,"question_id":53772023,"body_markdown":"Updated commands that are working now:\r\n\r\n```shell\r\nbrew tap homebrew/cask\r\nbrew tap homebrew/cask-versions\r\nbrew install --cask adoptopenjdk/openjdk/adoptopenjdk8\r\n```","title":"How to install Java 8 on osx macOS Mojave with Homebrew?","body":"<p>Updated commands that are working now:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>brew tap homebrew/cask\nbrew tap homebrew/cask-versions\nbrew install --cask adoptopenjdk/openjdk/adoptopenjdk8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5738866,"reputation":513,"user_id":4532131,"display_name":"Amandeep Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681403783,"creation_date":1681403783,"answer_id":76007857,"question_id":53772023,"body_markdown":"    brew reinstall --cask adoptopenjdk\r\n\r\n","title":"How to install Java 8 on osx macOS Mojave with Homebrew?","body":"<pre><code>brew reinstall --cask adoptopenjdk\n</code></pre>\n"}],"owner":{"account_id":1236184,"reputation":11230,"user_id":1199731,"accept_rate":69,"display_name":"d0x"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41211,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":55775566,"answer_count":5,"score":34,"last_activity_date":1681403783,"creation_date":1544747931,"question_id":53772023,"body_markdown":"At the moment Java 8 is still required for some apps like:\r\n\r\n - Android SDK / Android Studio\r\n - Jenkins\r\n - Ionic ...\r\n\r\nWith `brew install java` the **latest** Version is installed. But how to install Java 8?","title":"How to install Java 8 on osx macOS Mojave with Homebrew?","body":"<p>At the moment Java 8 is still required for some apps like:</p>\n\n<ul>\n<li>Android SDK / Android Studio</li>\n<li>Jenkins</li>\n<li>Ionic ...</li>\n</ul>\n\n<p>With <code>brew install java</code> the <strong>latest</strong> Version is installed. But how to install Java 8?</p>\n"},{"tags":["java","spring-boot","queue","jms","activemq"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1681305909,"post_id":75992551,"comment_id":134034928,"body_markdown":"You didn&#39;t actually describe what the problem is. What exactly do you need help with?","body":"You didn&#39;t actually describe what the problem is. What exactly do you need help with?"},{"owner":{"account_id":8775465,"reputation":329,"user_id":6560882,"accept_rate":25,"display_name":"Shyamali"},"score":0,"creation_date":1681307177,"post_id":75992551,"comment_id":134035301,"body_markdown":"I want to create the queue url as following format -&gt; \njms:/VirtualTopic.send.email?transport.jms.ConnectionFactory=myTopicConnectionFactory","body":"I want to create the queue url as following format -&gt;  jms:/VirtualTopic.send.email?transport.jms.ConnectionFactory&zwnj;&#8203;=myTopicConnectionFa&zwnj;&#8203;ctory"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1681310667,"post_id":75992551,"comment_id":134036333,"body_markdown":"In ActiveMQ the queue doesn&#39;t really have a URL. It just has a name. The only URL is for the connection factory and you&#39;re using `tcp://localhost:61616` for that.","body":"In ActiveMQ the queue doesn&#39;t really have a URL. It just has a name. The only URL is for the connection factory and you&#39;re using <code>tcp:&#47;&#47;localhost:61616</code> for that."},{"owner":{"account_id":8775465,"reputation":329,"user_id":6560882,"accept_rate":25,"display_name":"Shyamali"},"score":0,"creation_date":1681311455,"post_id":75992551,"comment_id":134036573,"body_markdown":"can you guild me how to add to the destination queue in &quot;jms:/VirtualTopic.send.email?transport.jms.ConnectionFactory=myTopicConnectionFactory&quot; format. I&#39;m little bit new to this area.","body":"can you guild me how to add to the destination queue in &quot;jms:/VirtualTopic.send.email?transport.jms.ConnectionFactor&zwnj;&#8203;y=myTopicConnectionF&zwnj;&#8203;actory&quot; format. I&#39;m little bit new to this area."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1681321990,"post_id":75992551,"comment_id":134039161,"body_markdown":"I don&#39;t understand what you&#39;re asking for. I don&#39;t recognize that &quot;format&quot; for a queue, and I don&#39;t know where or why you&#39;re trying to use it.","body":"I don&#39;t understand what you&#39;re asking for. I don&#39;t recognize that &quot;format&quot; for a queue, and I don&#39;t know where or why you&#39;re trying to use it."},{"owner":{"account_id":8775465,"reputation":329,"user_id":6560882,"accept_rate":25,"display_name":"Shyamali"},"score":0,"creation_date":1681354046,"post_id":75992551,"comment_id":134043913,"body_markdown":"I may be asking the question in wrong way since I&#39;m not much familiar much to the context I&#39;m really sorry about that. I have updated the question. Hope now it is clear","body":"I may be asking the question in wrong way since I&#39;m not much familiar much to the context I&#39;m really sorry about that. I have updated the question. Hope now it is clear"}],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681403531,"creation_date":1681403531,"answer_id":76007827,"question_id":75992551,"body_markdown":"The reference to &quot;myTopicConnectionFactory&quot; is telling the framework to point to another definition. That looks to be defining a javax.jms.TopicConnectionFactory -- which only supports topics.\r\n\r\nEither:\r\n1. Add a new definition for a QueueConnectionFactory\r\n\r\nor\r\n\r\n2. Update the defintion to be a javax.jms.ConnectionFactory that supports both topics and queues\r\n\r\nNote: Is this a framework? If so, which one? Spring Integration, Apache Camel or Mule? \r\n","title":"Trouble adding to a existing JMS queue in a migration","body":"<p>The reference to &quot;myTopicConnectionFactory&quot; is telling the framework to point to another definition. That looks to be defining a javax.jms.TopicConnectionFactory -- which only supports topics.</p>\n<p>Either:</p>\n<ol>\n<li>Add a new definition for a QueueConnectionFactory</li>\n</ol>\n<p>or</p>\n<ol start=\"2\">\n<li>Update the defintion to be a javax.jms.ConnectionFactory that supports both topics and queues</li>\n</ol>\n<p>Note: Is this a framework? If so, which one? Spring Integration, Apache Camel or Mule?</p>\n"}],"owner":{"account_id":8775465,"reputation":329,"user_id":6560882,"accept_rate":25,"display_name":"Shyamali"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681403531,"creation_date":1681281294,"question_id":75992551,"body_markdown":"Currently I&#39;m working on a migration and the existing project has feature to add data to a queue. It is currently been done as following\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;endpoint name=&quot;sendEmailEndpoint&quot;&gt;\r\n       &lt;address uri=&quot;jms:/VirtualTopic.send.email?transport.jms.ConnectionFactory=myTopicConnectionFactory&quot;/&gt;\r\n    &lt;/endpoint&gt;\r\nMy task is to remove this and do the same thing in without using these xml way.\r\nI cannot change the destination. Currently I have develop a sample destination listener for the testing purpose which is listed below. As of now, I&#39;m getting destination as `queue://VirtualTopic.send.email`. \r\nFollowing is the my implementation to add to the queue\r\n\r\n        private void sendToJms(String message) {\r\n        try {\r\n            System.out.println(&quot;Sending an email message.&quot;);\r\n            jmsTemplate.convertAndSend(&quot;Virtual.send.email&quot;, message);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;--------------- Exception ---------------&quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nFollowing is the listener that I created for testing purpose\r\n\r\n    \r\n    @JmsListener(destination = &quot;Virtual.send.email&quot;)\r\n    private void listener(String message, @Header(JmsHeaders.DESTINATION) String destination) {\r\n       try {\r\n           LOG.info(&quot;--------------------- message ----------------------- {}&quot;, message);\r\n           LOG.info(&quot;--------------------- destination ----------------------- {}&quot;, destination);\r\n       } catch (Exception e) {\r\n           LOG.error(&quot;Error&quot;, e);\r\n\r\n       }\r\n    }\r\n\r\napplication.properties\r\n\r\n    spring.activemq.broker-url=tcp://localhost:61616\r\n    spring.activemq.username=admin\r\n    spring.activemq.password=admin\r\n    spring.activemq.package.trust-all=true\r\n\r\nCan anyone help me on this. Thank you","title":"Trouble adding to a existing JMS queue in a migration","body":"<p>Currently I'm working on a migration and the existing project has feature to add data to a queue. It is currently been done as following</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;endpoint name=&quot;sendEmailEndpoint&quot;&gt;\n   &lt;address uri=&quot;jms:/VirtualTopic.send.email?transport.jms.ConnectionFactory=myTopicConnectionFactory&quot;/&gt;\n&lt;/endpoint&gt;\n</code></pre>\n<p>My task is to remove this and do the same thing in without using these xml way.\nI cannot change the destination. Currently I have develop a sample destination listener for the testing purpose which is listed below. As of now, I'm getting destination as <code>queue://VirtualTopic.send.email</code>.\nFollowing is the my implementation to add to the queue</p>\n<pre><code>    private void sendToJms(String message) {\n    try {\n        System.out.println(&quot;Sending an email message.&quot;);\n        jmsTemplate.convertAndSend(&quot;Virtual.send.email&quot;, message);\n    } catch (Exception e) {\n        System.out.println(&quot;--------------- Exception ---------------&quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>Following is the listener that I created for testing purpose</p>\n<pre><code>@JmsListener(destination = &quot;Virtual.send.email&quot;)\nprivate void listener(String message, @Header(JmsHeaders.DESTINATION) String destination) {\n   try {\n       LOG.info(&quot;--------------------- message ----------------------- {}&quot;, message);\n       LOG.info(&quot;--------------------- destination ----------------------- {}&quot;, destination);\n   } catch (Exception e) {\n       LOG.error(&quot;Error&quot;, e);\n\n   }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.activemq.broker-url=tcp://localhost:61616\nspring.activemq.username=admin\nspring.activemq.password=admin\nspring.activemq.package.trust-all=true\n</code></pre>\n<p>Can anyone help me on this. Thank you</p>\n"},{"tags":["java","spring","hibernate","spring-batch","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":7755596,"reputation":917,"user_id":6573838,"display_name":"Christian S."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681403241,"creation_date":1681403241,"answer_id":76007772,"question_id":76004746,"body_markdown":"This line in HibernateUtil is problematic because `applySettings` will only apply properties but no mappings:\r\n```java\r\nServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n        .applySettings(configuration.getProperties())\r\n        .build();\r\n```\r\n\r\nJudging from the implementation of `Configuration.configure(String resource)`, you need to call `StandardServiceRegistryBuilder.configure(String resource)` to apply the mappings declared in hibernate-annotation.cfg.xml:\r\n```java\r\nServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n        .configure(&quot;hibernate-annotation.cfg.xml&quot;)\r\n        .build();\r\n```\r\n\r\nOr, if you don&#39;t actually have a reason to create the ServiceRegistry yourself, instead call `configuration.buildSessionFactory()` and let the Configuration class use the internal StandardServiceRegistryBuilder.","title":"&quot;Unable to locate persister&quot; Error with Spring batch + Hibernate ORM","body":"<p>This line in HibernateUtil is problematic because <code>applySettings</code> will only apply properties but no mappings:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n        .applySettings(configuration.getProperties())\n        .build();\n</code></pre>\n<p>Judging from the implementation of <code>Configuration.configure(String resource)</code>, you need to call <code>StandardServiceRegistryBuilder.configure(String resource)</code> to apply the mappings declared in hibernate-annotation.cfg.xml:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n        .configure(&quot;hibernate-annotation.cfg.xml&quot;)\n        .build();\n</code></pre>\n<p>Or, if you don't actually have a reason to create the ServiceRegistry yourself, instead call <code>configuration.buildSessionFactory()</code> and let the Configuration class use the internal StandardServiceRegistryBuilder.</p>\n"}],"owner":{"account_id":28293669,"reputation":3,"user_id":21633417,"display_name":"Kobayashi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76007772,"answer_count":1,"score":0,"last_activity_date":1681403241,"creation_date":1681384276,"question_id":76004746,"body_markdown":"I&#39;m trying to create a system with Spring batch using Hibernate ORM but can&#39;t solve this Error\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reader&#39; defined in class path resource [com/example/batchprocessing/BatchConfiguration.class]: Failed to instantiate [org.springframework.batch.item.file.FlatFileItemReader]: Factory method &#39;reader&#39; threw exception with message: Unable to locate persister: com.example.batchprocessing.model.PersonTest1\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:652) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:488) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat com.example.batchprocessing.BatchProcessingApplication.main(BatchProcessingApplication.java:12) ~[classes/:na]\r\n```\r\n\r\n[This is how my project looks like](https://i.stack.imgur.com/KWOBz.png)\r\n\r\nThese are my setting files.\r\n\r\nPom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;batch-processing-complete&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;batch-processing-complete&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.2.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nhibernate-annotation.cfg.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n\t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n\t\t&quot;https://hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;!-- Database connection properties - Driver, URL, user, password --&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://localhost:5432/testdb&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;!-- org.hibernate.HibernateException: No CurrentSessionContext configured! --&gt;\r\n\t\t&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\t\t\r\n\t\t&lt;!-- Mapping with model class containing annotations --&gt;\r\n\t\t&lt;mapping class=&quot;com.example.batchprocessing.model.PersonTest1&quot; /&gt;\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\n---\r\n\r\n\r\nPersonTest1.java\r\nNotthing special here.\r\n\r\n```\r\npackage com.example.batchprocessing.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name=&quot;people&quot;)\r\npublic class PersonTest1 {\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;person_id&quot;, nullable=false, unique=true, length=11)\r\n\tprivate int personId;\r\n\t\r\n\t@Column(name=&quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\t\r\n\t@Column(name=&quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\r\n\tpublic int getPersonId() {\r\n\t\treturn personId;\r\n\t}\r\n\r\n\tpublic void setPersonId(int personId) {\r\n\t\tthis.personId = personId;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n}\r\n```\r\n\r\nHibernateUtil.java\r\nI just copied this from internet so hope there is no problem here.\r\n\r\n```\r\npackage com.example.batchprocessing.util;\r\n\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.service.ServiceRegistry;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport com.example.batchprocessing.JobCompletionNotificationListener;\r\n\r\npublic class HibernateUtil {\r\n\tprivate static final Logger log = LoggerFactory.getLogger(JobCompletionNotificationListener.class);\r\n\t\r\n\t//Annotation based configuration\r\n\tprivate static SessionFactory sessionAnnotationFactory;\r\n\t\r\n\tprivate static SessionFactory buildSessionAnnotationFactory() {\r\n\t\ttry {\r\n\t\t\tConfiguration configuration = new Configuration();\r\n\t\t\tconfiguration.configure(&quot;hibernate-annotation.cfg.xml&quot;);\r\n\t\t\tlog.info(&quot;--- Hibernate Configuration loaded ---&quot;);\r\n\t\t\t\r\n\t\t\tServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();\r\n\t\t\tlog.info(&quot;--- Hibernate Annotation serviceRegistry created ---&quot;);\r\n\t\t\t\r\n\t\t\tSessionFactory sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n\t\t\t\r\n\t\t\treturn sessionFactory;\r\n\t\t\t\r\n\t\t} catch (Throwable ex) {\r\n\t\t\tlog.error(&quot;--- Initial SessionFactory creation failed.&quot; + ex);\r\n\t\t\tthrow new ExceptionInInitializerError(ex);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static SessionFactory getSessionAnnotationFactory() {\r\n\t\tsessionAnnotationFactory = buildSessionAnnotationFactory();\r\n\t\t\r\n\t\treturn sessionAnnotationFactory;\r\n\t}\r\n}\r\n```\r\n\r\nBatchConfiguration.java\r\nreader() is where I am trying to write to DB.\r\n\r\n```\r\npackage com.example.batchprocessing;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.job.builder.JobBuilder;\r\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\r\nimport org.springframework.batch.core.repository.JobRepository;\r\nimport org.springframework.batch.core.step.builder.StepBuilder;\r\nimport org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;\r\nimport org.springframework.batch.item.database.JdbcBatchItemWriter;\r\nimport org.springframework.batch.item.database.builder.JdbcBatchItemWriterBuilder;\r\nimport org.springframework.batch.item.file.FlatFileItemReader;\r\nimport org.springframework.batch.item.file.builder.FlatFileItemReaderBuilder;\r\nimport org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\n\r\nimport com.example.batchprocessing.model.PersonTest1;\r\nimport com.example.batchprocessing.util.HibernateUtil;\r\n\r\n@Configuration\r\npublic class BatchConfiguration {\r\n\t\r\n\tprivate static final Logger log = LoggerFactory.getLogger(JobCompletionNotificationListener.class);\r\n\r\n\t// tag::readerwriterprocessor[]\r\n\t@Bean\r\n\tpublic FlatFileItemReader&lt;Person&gt; reader() {\r\n\t\t\r\n\t\tPersonTest1 personTest = new PersonTest1();\r\n\t\tpersonTest.setLastName(&quot;John&quot;);\r\n\t\tpersonTest.setFirstName(&quot;Wick&quot;);\r\n\t\t\r\n\t\t// Get Session\r\n\t\tlog.info(&quot;--- Creating session ---&quot;);\r\n\t\tSessionFactory sessionFactory = HibernateUtil.getSessionAnnotationFactory();\r\n\t\tSession session = sessionFactory.getCurrentSession();\r\n\t\t\r\n\t\tlog.info(&quot;--- Starting transaction ---&quot;);\r\n\t\tsession.beginTransaction();\r\n\t\t\r\n\t\tlog.info(&quot;--- Saving model ---&quot;);\r\n\t\tsession.persist(personTest);\r\n\t\t\r\n\t\tlog.info(&quot;--- Commiting transaction ---&quot;);\r\n\t\tsession.getTransaction().commit();\r\n\t\t\r\n\t\tlog.info(&quot;--- Closing session ---&quot;);\r\n\t\tsessionFactory.close();\r\n\t\t\r\n\t\treturn new FlatFileItemReaderBuilder&lt;Person&gt;()\r\n\t\t\t.name(&quot;personItemReader&quot;)\r\n\t\t\t.resource(new ClassPathResource(&quot;sample-data.csv&quot;))\r\n\t\t\t.delimited()\r\n\t\t\t.names(new String[]{&quot;firstName&quot;, &quot;lastName&quot;})\r\n\t\t\t.fieldSetMapper(new BeanWrapperFieldSetMapper&lt;Person&gt;() {{\r\n\t\t\t\tsetTargetType(Person.class);\r\n\t\t\t}})\r\n\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PersonItemProcessor processor() {\r\n\t\treturn new PersonItemProcessor();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JdbcBatchItemWriter&lt;Person&gt; writer(DataSource dataSource) {\r\n\t\treturn new JdbcBatchItemWriterBuilder&lt;Person&gt;()\r\n\t\t\t.itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\r\n\t\t\t.sql(&quot;INSERT INTO people (first_name, last_name) VALUES (:firstName, :lastName)&quot;)\r\n\t\t\t.dataSource(dataSource)\r\n\t\t\t.build();\r\n\t}\r\n\t// end::readerwriterprocessor[]\r\n\r\n\t// tag::jobstep[]\r\n\t@Bean\r\n\tpublic Job importUserJob(JobRepository jobRepository,\r\n\t\t\tJobCompletionNotificationListener listener, Step step1) {\r\n\t\treturn new JobBuilder(&quot;importUserJob&quot;, jobRepository)\r\n\t\t\t.incrementer(new RunIdIncrementer())\r\n\t\t\t.listener(listener)\r\n\t\t\t.flow(step1)\r\n\t\t\t.end()\r\n\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Step step1(JobRepository jobRepository,\r\n\t\t\tPlatformTransactionManager transactionManager, JdbcBatchItemWriter&lt;Person&gt; writer) {\r\n\t\treturn new StepBuilder(&quot;step1&quot;, jobRepository)\r\n\t\t\t.&lt;Person, Person&gt; chunk(10, transactionManager)\r\n\t\t\t.reader(reader())\r\n\t\t\t.processor(processor())\r\n\t\t\t.writer(writer)\r\n\t\t\t.build();\r\n\t}\r\n\t// end::jobstep[]\r\n}\r\n```","title":"&quot;Unable to locate persister&quot; Error with Spring batch + Hibernate ORM","body":"<p>I'm trying to create a system with Spring batch using Hibernate ORM but can't solve this Error</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reader' defined in class path resource [com/example/batchprocessing/BatchConfiguration.class]: Failed to instantiate [org.springframework.batch.item.file.FlatFileItemReader]: Factory method 'reader' threw exception with message: Unable to locate persister: com.example.batchprocessing.model.PersonTest1\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:652) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:488) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\n    at com.example.batchprocessing.BatchProcessingApplication.main(BatchProcessingApplication.java:12) ~[classes/:na]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KWOBz.png\" rel=\"nofollow noreferrer\">This is how my project looks like</a></p>\n<p>These are my setting files.</p>\n<p>Pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;batch-processing-complete&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;batch-processing-complete&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>hibernate-annotation.cfg.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n        &quot;https://hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- Database connection properties - Driver, URL, user, password --&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://localhost:5432/testdb&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\n        \n        &lt;!-- org.hibernate.HibernateException: No CurrentSessionContext configured! --&gt;\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        \n        &lt;!-- Mapping with model class containing annotations --&gt;\n        &lt;mapping class=&quot;com.example.batchprocessing.model.PersonTest1&quot; /&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<hr />\n<p>PersonTest1.java\nNotthing special here.</p>\n<pre><code>package com.example.batchprocessing.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name=&quot;people&quot;)\npublic class PersonTest1 {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;person_id&quot;, nullable=false, unique=true, length=11)\n    private int personId;\n    \n    @Column(name=&quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name=&quot;first_name&quot;)\n    private String firstName;\n\n    public int getPersonId() {\n        return personId;\n    }\n\n    public void setPersonId(int personId) {\n        this.personId = personId;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n}\n</code></pre>\n<p>HibernateUtil.java\nI just copied this from internet so hope there is no problem here.</p>\n<pre><code>package com.example.batchprocessing.util;\n\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.example.batchprocessing.JobCompletionNotificationListener;\n\npublic class HibernateUtil {\n    private static final Logger log = LoggerFactory.getLogger(JobCompletionNotificationListener.class);\n    \n    //Annotation based configuration\n    private static SessionFactory sessionAnnotationFactory;\n    \n    private static SessionFactory buildSessionAnnotationFactory() {\n        try {\n            Configuration configuration = new Configuration();\n            configuration.configure(&quot;hibernate-annotation.cfg.xml&quot;);\n            log.info(&quot;--- Hibernate Configuration loaded ---&quot;);\n            \n            ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();\n            log.info(&quot;--- Hibernate Annotation serviceRegistry created ---&quot;);\n            \n            SessionFactory sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n            \n            return sessionFactory;\n            \n        } catch (Throwable ex) {\n            log.error(&quot;--- Initial SessionFactory creation failed.&quot; + ex);\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n    \n    public static SessionFactory getSessionAnnotationFactory() {\n        sessionAnnotationFactory = buildSessionAnnotationFactory();\n        \n        return sessionAnnotationFactory;\n    }\n}\n</code></pre>\n<p>BatchConfiguration.java\nreader() is where I am trying to write to DB.</p>\n<pre><code>package com.example.batchprocessing;\n\nimport javax.sql.DataSource;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.job.builder.JobBuilder;\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\nimport org.springframework.batch.core.repository.JobRepository;\nimport org.springframework.batch.core.step.builder.StepBuilder;\nimport org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;\nimport org.springframework.batch.item.database.JdbcBatchItemWriter;\nimport org.springframework.batch.item.database.builder.JdbcBatchItemWriterBuilder;\nimport org.springframework.batch.item.file.FlatFileItemReader;\nimport org.springframework.batch.item.file.builder.FlatFileItemReaderBuilder;\nimport org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport com.example.batchprocessing.model.PersonTest1;\nimport com.example.batchprocessing.util.HibernateUtil;\n\n@Configuration\npublic class BatchConfiguration {\n    \n    private static final Logger log = LoggerFactory.getLogger(JobCompletionNotificationListener.class);\n\n    // tag::readerwriterprocessor[]\n    @Bean\n    public FlatFileItemReader&lt;Person&gt; reader() {\n        \n        PersonTest1 personTest = new PersonTest1();\n        personTest.setLastName(&quot;John&quot;);\n        personTest.setFirstName(&quot;Wick&quot;);\n        \n        // Get Session\n        log.info(&quot;--- Creating session ---&quot;);\n        SessionFactory sessionFactory = HibernateUtil.getSessionAnnotationFactory();\n        Session session = sessionFactory.getCurrentSession();\n        \n        log.info(&quot;--- Starting transaction ---&quot;);\n        session.beginTransaction();\n        \n        log.info(&quot;--- Saving model ---&quot;);\n        session.persist(personTest);\n        \n        log.info(&quot;--- Commiting transaction ---&quot;);\n        session.getTransaction().commit();\n        \n        log.info(&quot;--- Closing session ---&quot;);\n        sessionFactory.close();\n        \n        return new FlatFileItemReaderBuilder&lt;Person&gt;()\n            .name(&quot;personItemReader&quot;)\n            .resource(new ClassPathResource(&quot;sample-data.csv&quot;))\n            .delimited()\n            .names(new String[]{&quot;firstName&quot;, &quot;lastName&quot;})\n            .fieldSetMapper(new BeanWrapperFieldSetMapper&lt;Person&gt;() {{\n                setTargetType(Person.class);\n            }})\n            .build();\n    }\n\n    @Bean\n    public PersonItemProcessor processor() {\n        return new PersonItemProcessor();\n    }\n\n    @Bean\n    public JdbcBatchItemWriter&lt;Person&gt; writer(DataSource dataSource) {\n        return new JdbcBatchItemWriterBuilder&lt;Person&gt;()\n            .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\n            .sql(&quot;INSERT INTO people (first_name, last_name) VALUES (:firstName, :lastName)&quot;)\n            .dataSource(dataSource)\n            .build();\n    }\n    // end::readerwriterprocessor[]\n\n    // tag::jobstep[]\n    @Bean\n    public Job importUserJob(JobRepository jobRepository,\n            JobCompletionNotificationListener listener, Step step1) {\n        return new JobBuilder(&quot;importUserJob&quot;, jobRepository)\n            .incrementer(new RunIdIncrementer())\n            .listener(listener)\n            .flow(step1)\n            .end()\n            .build();\n    }\n\n    @Bean\n    public Step step1(JobRepository jobRepository,\n            PlatformTransactionManager transactionManager, JdbcBatchItemWriter&lt;Person&gt; writer) {\n        return new StepBuilder(&quot;step1&quot;, jobRepository)\n            .&lt;Person, Person&gt; chunk(10, transactionManager)\n            .reader(reader())\n            .processor(processor())\n            .writer(writer)\n            .build();\n    }\n    // end::jobstep[]\n}\n</code></pre>\n"},{"tags":["java","spring-boot","junit","mockito","spring-thymeleaf"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1663852847,"post_id":73808058,"comment_id":130340495,"body_markdown":"Could you attach the NPE stack trace?","body":"Could you attach the NPE stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663995358,"creation_date":1663995358,"answer_id":73834824,"question_id":73808058,"body_markdown":"This seems to be happen since the process method is final which doesn&#39;t always work well with mockito.\r\nI see two options to come around this\r\n1) Create a wrapper claass a [here][1] \r\n2) Use the `mock-maker-inline` approach described [here][2]\r\n\r\n \r\nI tried the second approach and it worked well for me when I use `@Mock` on the TemplateEngine, example:\r\n\r\n    @Mock private TemplateEngine templateEngine;\r\n    @Mock private JavaMailSender javaMailSender;\r\n    @InjectMocks private EmailServiceImpl emailServiceImpl;\r\n\r\n     @Test\r\n    public void should_send_email() throws MessagingException {\r\n    // given\r\n    var employee = new Employee(&quot;John Smith&quot;);\r\n    var mimeMessage = Mockito.mock(MimeMessage.class);\r\n    given(templateEngine.process(eq(&quot;/email&quot;), any(Context.class)))\r\n        .willReturn(&quot;a template&quot;);\r\n    given(javaMailSender.createMimeMessage())\r\n        .willReturn(mimeMessage);\r\n\r\n    // when\r\n    emailServiceImpl.sendEmail(employee, &quot;test@mail.com&quot;);\r\n\r\n    // then\r\n    verify(javaMailSender, times(1)).send(mimeMessage);\r\n    }\r\n\r\n  [1]: https://github.com/thymeleaf/thymeleaf/issues/314\r\n  [2]: https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods","title":"How to test template engine while styling emails with junit and mockito, spring boot","body":"<p>This seems to be happen since the process method is final which doesn't always work well with mockito.\nI see two options to come around this</p>\n<ol>\n<li>Create a wrapper claass a <a href=\"https://github.com/thymeleaf/thymeleaf/issues/314\" rel=\"nofollow noreferrer\">here</a></li>\n<li>Use the <code>mock-maker-inline</code> approach described <a href=\"https://github.com/mockito/mockito/wiki/What%27s-new-in-Mockito-2#mock-the-unmockable-opt-in-mocking-of-final-classesmethods\" rel=\"nofollow noreferrer\">here</a></li>\n</ol>\n<p>I tried the second approach and it worked well for me when I use <code>@Mock</code> on the TemplateEngine, example:</p>\n<pre><code>@Mock private TemplateEngine templateEngine;\n@Mock private JavaMailSender javaMailSender;\n@InjectMocks private EmailServiceImpl emailServiceImpl;\n\n @Test\npublic void should_send_email() throws MessagingException {\n// given\nvar employee = new Employee(&quot;John Smith&quot;);\nvar mimeMessage = Mockito.mock(MimeMessage.class);\ngiven(templateEngine.process(eq(&quot;/email&quot;), any(Context.class)))\n    .willReturn(&quot;a template&quot;);\ngiven(javaMailSender.createMimeMessage())\n    .willReturn(mimeMessage);\n\n// when\nemailServiceImpl.sendEmail(employee, &quot;test@mail.com&quot;);\n\n// then\nverify(javaMailSender, times(1)).send(mimeMessage);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681402947,"creation_date":1681402947,"answer_id":76007721,"question_id":73808058,"body_markdown":"Simply put, `TemplateEngine` is null. The fact that you use `@Autowired` doesn&#39;t help as this only works when you have `@SpringBootTest`. Within a simple Junit test, `@Autowired` doesn&#39;t work - you should get a warning about that in intellij. \r\n\r\nSo you have to either use `@SpringBootTest` or instantiate `TemplateEngine` manually. \r\n\r\nManually you need this:\r\n\r\n    SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n            templateResolver.setApplicationContext(new StaticApplicationContext());\r\n            templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n            templateResolver.setSuffix(&quot;.xml&quot;);\r\n            templateResolver.setTemplateMode(TemplateMode.HTML);\r\n    \r\n            templateEngine = new SpringTemplateEngine();\r\n            templateEngine.setEnableSpringELCompiler(true);\r\n            templateEngine.setTemplateResolver(templateResolver);\r\n            EmailRenderer renderer = new EmailRenderer(templateEngine);","title":"How to test template engine while styling emails with junit and mockito, spring boot","body":"<p>Simply put, <code>TemplateEngine</code> is null. The fact that you use <code>@Autowired</code> doesn't help as this only works when you have <code>@SpringBootTest</code>. Within a simple Junit test, <code>@Autowired</code> doesn't work - you should get a warning about that in intellij.</p>\n<p>So you have to either use <code>@SpringBootTest</code> or instantiate <code>TemplateEngine</code> manually.</p>\n<p>Manually you need this:</p>\n<pre><code>SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(new StaticApplicationContext());\n        templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\n        templateResolver.setSuffix(&quot;.xml&quot;);\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n\n        templateEngine = new SpringTemplateEngine();\n        templateEngine.setEnableSpringELCompiler(true);\n        templateEngine.setTemplateResolver(templateResolver);\n        EmailRenderer renderer = new EmailRenderer(templateEngine);\n</code></pre>\n"}],"owner":{"account_id":20152636,"reputation":23,"user_id":14779608,"display_name":"userdev1407"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681402947,"creation_date":1663805108,"question_id":73808058,"body_markdown":"I am sending an email with a thymeleaf template engine. When I didnt use thymeleaf, the mail Unit tests were running perfectly, but after I added thymeleaf the tests keep giving me NullPointerException.\r\nHere is my code from the EmailService:\r\n```\r\n private JavaMailSender javaMailSender;\r\n    private TemplateEngine templateEngine;\r\n\r\n    public EmailServiceImpl(JavaMailSender javaMailSender, TemplateEngine templateEngine){\r\n        this.javaMailSender = javaMailSender;\r\n        this.templateEngine = templateEngine;\r\n    }\r\n\r\n    @Override\r\n    public void sendEmail(Employee employee,String email) throws MessagingException {\r\n        Context context = new Context();\r\n        context.setVariable(&quot;employee&quot;,employee);\r\n\r\n        String process = templateEngine.process(&quot;/email&quot;,context);\r\n\r\n        MimeMessage message = javaMailSender.createMimeMessage();\r\n        MimeMessageHelper helper;\r\n        helper = new MimeMessageHelper(message, true);\r\n        helper.setTo(email);\r\n        helper.setSubject(&quot;Hello &quot;+employee.getName());\r\n        helper.setText(process,true);\r\n        javaMailSender.send(message);\r\n\r\n    }\r\n\r\n```\r\nand here is my test:\r\n```\r\n  @Autowired\r\n     TemplateEngine templateEngine;\r\n\r\n\r\n    static Context context;\r\n\r\n    @Mock\r\n    private JavaMailSender javaMailSender;\r\n\r\n\r\n    @InjectMocks\r\n    private EmailServiceImpl emailServiceImpl;\r\n\r\n    private MimeMessage mimeMessage;\r\n    private MimeMessageHelper helper;\r\n    private String email;\r\n\r\n    Employee employee;\r\n    String process;\r\n\r\n\r\n\r\n    @BeforeEach\r\n    public void setUp() throws MessagingException {\r\n\r\n\r\n        employee = new Employee(&quot;John Smith&quot;,\r\n                20.0,&quot;AB243&quot;, &quot;A&quot;,&quot;B&quot;,\r\n                LocalDateTime.now().plusDays(2),20);\r\n       \r\n        mimeMessage = new MimeMessage((Session)null);\r\n      \r\n        email = &quot;someone@gmail.com&quot;;\r\n        context = new Context();\r\n        process = templateEngine.process(&quot;/email&quot;,context);\r\n        helper.setText(process,true);\r\n\r\n\r\n\r\n    }\r\n\r\n    @Test\r\n   public void emailTest() throws MessagingException {\r\n       when(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\r\n       String recipient = email;\r\n        emailServiceImpl.sendEmail(employee,email);\r\n        assertEquals(recipient, mimeMessage.getRecipients(MimeMessage.RecipientType.TO)[0].toString());\r\n    }\r\n```\r\nSo I tried autowiring the template engine, I tried just initializing it, I tried setting the helper properties, but nothing worked.\r\nDoes anyone know how to apporach this problem?\r\nThank you!","title":"How to test template engine while styling emails with junit and mockito, spring boot","body":"<p>I am sending an email with a thymeleaf template engine. When I didnt use thymeleaf, the mail Unit tests were running perfectly, but after I added thymeleaf the tests keep giving me NullPointerException.\nHere is my code from the EmailService:</p>\n<pre><code> private JavaMailSender javaMailSender;\n    private TemplateEngine templateEngine;\n\n    public EmailServiceImpl(JavaMailSender javaMailSender, TemplateEngine templateEngine){\n        this.javaMailSender = javaMailSender;\n        this.templateEngine = templateEngine;\n    }\n\n    @Override\n    public void sendEmail(Employee employee,String email) throws MessagingException {\n        Context context = new Context();\n        context.setVariable(&quot;employee&quot;,employee);\n\n        String process = templateEngine.process(&quot;/email&quot;,context);\n\n        MimeMessage message = javaMailSender.createMimeMessage();\n        MimeMessageHelper helper;\n        helper = new MimeMessageHelper(message, true);\n        helper.setTo(email);\n        helper.setSubject(&quot;Hello &quot;+employee.getName());\n        helper.setText(process,true);\n        javaMailSender.send(message);\n\n    }\n\n</code></pre>\n<p>and here is my test:</p>\n<pre><code>  @Autowired\n     TemplateEngine templateEngine;\n\n\n    static Context context;\n\n    @Mock\n    private JavaMailSender javaMailSender;\n\n\n    @InjectMocks\n    private EmailServiceImpl emailServiceImpl;\n\n    private MimeMessage mimeMessage;\n    private MimeMessageHelper helper;\n    private String email;\n\n    Employee employee;\n    String process;\n\n\n\n    @BeforeEach\n    public void setUp() throws MessagingException {\n\n\n        employee = new Employee(&quot;John Smith&quot;,\n                20.0,&quot;AB243&quot;, &quot;A&quot;,&quot;B&quot;,\n                LocalDateTime.now().plusDays(2),20);\n       \n        mimeMessage = new MimeMessage((Session)null);\n      \n        email = &quot;someone@gmail.com&quot;;\n        context = new Context();\n        process = templateEngine.process(&quot;/email&quot;,context);\n        helper.setText(process,true);\n\n\n\n    }\n\n    @Test\n   public void emailTest() throws MessagingException {\n       when(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\n       String recipient = email;\n        emailServiceImpl.sendEmail(employee,email);\n        assertEquals(recipient, mimeMessage.getRecipients(MimeMessage.RecipientType.TO)[0].toString());\n    }\n</code></pre>\n<p>So I tried autowiring the template engine, I tried just initializing it, I tried setting the helper properties, but nothing worked.\nDoes anyone know how to apporach this problem?\nThank you!</p>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1681403895,"post_id":76007566,"comment_id":134054495,"body_markdown":"Would this help you? https://stackoverflow.com/questions/342990/create-java-console-inside-a-gui-panel","body":"Would this help you? <a href=\"https://stackoverflow.com/questions/342990/create-java-console-inside-a-gui-panel\" title=\"create java console inside a gui panel\">stackoverflow.com/questions/342990/&hellip;</a>"}],"owner":{"account_id":26089053,"reputation":53,"user_id":19786208,"display_name":"Arthur Brenno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1681414345,"answer_count":0,"score":2,"last_activity_date":1681401988,"creation_date":1681401988,"question_id":76007566,"body_markdown":"I have a Java App that runs on my Windows terminal. it uses `scanner` for inputs and `System.out.println()` to display outputs. \r\n\r\nWhen I compile my aplication into a `.jar` file, I need to write a `.bat` file in order to run my app, because there&#39;s no UI. I wonder if I can &#39;emulate&#39; the windows terminal in a `.jar` file, directly. Without needing to create a batch. Just double click and play the game. Input and Output.\r\n\r\n\r\nSomething that might help visualization is the `server.jar`, from Minecraft. In the right corner, there is a console with the logs and so on... But I don&#39;t need to create a `.run` batch to run the jar and, if I create one, the outputs will be the exact same of the `.jar` file, when I double click. One thing that I dont know for sure is that inputs, in the `server.jar` are allowed.\r\n\r\nI&#39;ve done some tests with `JFrame` and `System.setOutputStream()`, but I&#39;m lost and don&#39;t know what to use or what to do. I&#39;m using netbeans because I think it&#39;s easier to implement JFrames and so on... But don&#39;t know what elements I should use or where to start.","title":"Can I convert my console Java app into a .jar?","body":"<p>I have a Java App that runs on my Windows terminal. it uses <code>scanner</code> for inputs and <code>System.out.println()</code> to display outputs.</p>\n<p>When I compile my aplication into a <code>.jar</code> file, I need to write a <code>.bat</code> file in order to run my app, because there's no UI. I wonder if I can 'emulate' the windows terminal in a <code>.jar</code> file, directly. Without needing to create a batch. Just double click and play the game. Input and Output.</p>\n<p>Something that might help visualization is the <code>server.jar</code>, from Minecraft. In the right corner, there is a console with the logs and so on... But I don't need to create a <code>.run</code> batch to run the jar and, if I create one, the outputs will be the exact same of the <code>.jar</code> file, when I double click. One thing that I dont know for sure is that inputs, in the <code>server.jar</code> are allowed.</p>\n<p>I've done some tests with <code>JFrame</code> and <code>System.setOutputStream()</code>, but I'm lost and don't know what to use or what to do. I'm using netbeans because I think it's easier to implement JFrames and so on... But don't know what elements I should use or where to start.</p>\n"},{"tags":["java","spring","jsp","spring-mvc"],"comments":[{"owner":{"account_id":1621503,"reputation":1451,"user_id":1497944,"display_name":"Kedar Joshi"},"score":1,"creation_date":1515422790,"post_id":48152549,"comment_id":83283751,"body_markdown":"From the stacktrace, exception occurs at line 25 but there is no line 25 in provided `FBContainer` definition. Please provide full definition.","body":"From the stacktrace, exception occurs at line 25 but there is no line 25 in provided <code>FBContainer</code> definition. Please provide full definition."},{"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"score":0,"creation_date":1515429691,"post_id":48152549,"comment_id":83287916,"body_markdown":"You are defining a `FBContainer` bean in XML.  But you ALSO have a `@Component` annotation on that class.  Shouldn&#39;t have both","body":"You are defining a <code>FBContainer</code> bean in XML.  But you ALSO have a <code>@Component</code> annotation on that class.  Shouldn&#39;t have both"},{"owner":{"account_id":11510225,"reputation":880,"user_id":8435303,"accept_rate":38,"display_name":"Danil.B"},"score":0,"creation_date":1515435809,"post_id":48152549,"comment_id":83290877,"body_markdown":"@KedarJoshi. It&#39;s in getProductById method, i added it to post","body":"@KedarJoshi. It&#39;s in getProductById method, i added it to post"},{"owner":{"account_id":11510225,"reputation":880,"user_id":8435303,"accept_rate":38,"display_name":"Danil.B"},"score":0,"creation_date":1515436267,"post_id":48152549,"comment_id":83291092,"body_markdown":"@MrSpoon I removed Component annotation from FBContainer, but i&#39;m still getting null pointer in getProductById method.","body":"@MrSpoon I removed Component annotation from FBContainer, but i&#39;m still getting null pointer in getProductById method."}],"answers":[{"tags":[],"owner":{"account_id":11510225,"reputation":880,"user_id":8435303,"accept_rate":38,"display_name":"Danil.B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515437220,"creation_date":1515437220,"answer_id":48156337,"question_id":48152549,"body_markdown":"I think i found the solution. It appears I was adding wrong object to model of calculate method inside MainController :\r\n\r\n    @RequestMapping(value = &quot;/calculate&quot;,method = RequestMethod.GET)\r\n        public String calculate(Model model,Basket basket){\r\n            model.addAttribute(&quot;Basket&quot;,basket);\r\n            return &quot;calculate&quot;;\r\n        }\r\nSo, I removed Basket argument from method and NullPointerException is solved :\r\n\r\n    @RequestMapping(value = &quot;/calculate&quot;,method = RequestMethod.GET)\r\n            public String calculate(Model model){\r\n                model.addAttribute(&quot;Basket&quot;,basket);\r\n                return &quot;calculate&quot;;\r\n            }","title":"Spring @Resource null pointer exception","body":"<p>I think i found the solution. It appears I was adding wrong object to model of calculate method inside MainController :</p>\n\n<pre><code>@RequestMapping(value = \"/calculate\",method = RequestMethod.GET)\n    public String calculate(Model model,Basket basket){\n        model.addAttribute(\"Basket\",basket);\n        return \"calculate\";\n    }\n</code></pre>\n\n<p>So, I removed Basket argument from method and NullPointerException is solved :</p>\n\n<pre><code>@RequestMapping(value = \"/calculate\",method = RequestMethod.GET)\n        public String calculate(Model model){\n            model.addAttribute(\"Basket\",basket);\n            return \"calculate\";\n        }\n</code></pre>\n"}],"owner":{"account_id":11510225,"reputation":880,"user_id":8435303,"accept_rate":38,"display_name":"Danil.B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681401883,"creation_date":1515422552,"question_id":48152549,"body_markdown":"I&#39;m creating a Spring MVC application. And I have a Basket bean that has few autowired beans in it.\r\n\r\n    @Component\r\n    public class Basket {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;CPContainer&quot;)\r\n        private CPContainer cpContainer;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;FBContainer&quot;)\r\n        private FBContainer fbContainer;\r\n\r\n        public CPContainer getCpContainer() {\r\n            return cpContainer;\r\n        }\r\n    \r\n        public void setCpContainer(CPContainer cpContainer) {\r\n            this.cpContainer = cpContainer;\r\n        }\r\n    \r\n        public FBContainer getFbContainer() {\r\n            return fbContainer;\r\n        }\r\n    \r\n        public void setFbContainer(FBContainer fbContainer) {\r\n            this.fbContainer = fbContainer;\r\n        }\r\n\r\nAutowired beans CPContainer and FBContainer have List inside of them wired with list in dispather-servltet.xml via @Resource annotation:\r\n\r\n    @Component\r\n    public class FBContainer implements Container {\r\n    \r\n        @Resource(name = &quot;FBList&quot;)\r\n        private List&lt;FBProduct&gt; products;\r\n        private int id;\r\n        private int amount;\r\n    \r\n        @Override\r\n        public List&lt;FBProduct&gt; getProducts() {\r\n            return products;\r\n        }\r\n        @Override\r\n        public FBProduct getProductById(int id) {\r\n            return products.get(id);\r\n        }\r\n\r\ndispatcher-servltet.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans ...\r\n     &lt;mvc:annotation-driven/&gt;\r\n     &lt;context:component-scan base-package=&quot;com.concrete&quot;/&gt;\r\n    \r\n       &lt;util:list id=&quot;FBList&quot; value-type=&quot;com.concrete.pojo.product.FBProduct&quot;&gt;\r\n            &lt;bean id=&quot;fb1&quot; class=&quot;com.concrete.pojo.product.FBProduct&quot;&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;0&quot;/&gt;\r\n                &lt;property name=&quot;mass&quot; value=&quot;1000&quot;/&gt;\r\n                &lt;property name=&quot;l&quot; value=&quot;8980&quot;/&gt;\r\n                &lt;property name=&quot;b&quot; value=&quot;1490&quot;/&gt;\r\n                &lt;property name=&quot;h&quot; value=&quot;220&quot;/&gt;\r\n            &lt;/bean&gt;\r\n            &lt;bean id=&quot;fb2&quot; class=&quot;com.concrete.pojo.product.FBProduct&quot;&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;1&quot;/&gt;\r\n                &lt;property name=&quot;mass&quot; value=&quot;2000&quot;/&gt;\r\n                &lt;property name=&quot;l&quot; value=&quot;8980&quot;/&gt;\r\n                &lt;property name=&quot;b&quot; value=&quot;1190&quot;/&gt;\r\n                &lt;property name=&quot;h&quot; value=&quot;220&quot;/&gt;\r\n            &lt;/bean&gt;\r\n            &lt;bean id=&quot;fb3&quot; class=&quot;com.concrete.pojo.product.FBProduct&quot;&gt;\r\n                &lt;property name=&quot;id&quot; value=&quot;2&quot;/&gt;\r\n                &lt;property name=&quot;mass&quot; value=&quot;3000&quot;/&gt;\r\n                &lt;property name=&quot;l&quot; value=&quot;7180&quot;/&gt;\r\n                &lt;property name=&quot;b&quot; value=&quot;1490&quot;/&gt;\r\n                &lt;property name=&quot;h&quot; value=&quot;220&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/util:list&gt;\r\n    \r\n        &lt;bean id=&quot;FBContainer&quot; class=&quot;com.concrete.pojo.container.FBContainer&quot;&gt;\r\n            &lt;property name=&quot;products&quot; ref=&quot;FBList&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;CPContainer&quot; class=&quot;com.concrete.pojo.container.CPContainer&quot;&gt;\r\n            &lt;property name=&quot;products&quot; ref=&quot;CPList&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nI&#39;m adding Basket class to a model as model attribute, which I intend to use in jsp page to get data from Container&#39;s List(Like FBProducts in FBContainer). But when I try to access a List I get null pointer exception:\r\n\r\n    java.lang.NullPointerException\r\n    \tcom.concrete.pojo.container.FBContainer.getProductById(FBContainer.java:25)\r\n    \tcom.concrete.pojo.container.Basket.calculateMass(Basket.java:24)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tjava.lang.reflect.Method.invoke(Method.java:498)\r\n    \tjavax.el.BeanELResolver.invoke(BeanELResolver.java:183)\r\n    \torg.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:139)\r\n    \torg.apache.el.parser.AstValue.getValue(AstValue.java:174)\r\n    \torg.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:184)\r\n    \torg.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:950)\r\n    \torg.apache.jsp.calculate_jsp._jspService(calculate_jsp.java:93)\r\n    \torg.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n    \torg.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:439)\r\n    \torg.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:395)\r\n    \torg.apache.jasper.servlet.JspServlet.service(JspServlet.java:339)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \torg.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:170)\r\n    \torg.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)\r\n    \torg.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1325)\r\n    \torg.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1069)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1008)\r\n    \torg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\r\n    \torg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)\r\n    \torg.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:881)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:650)\r\n    \torg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \torg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n    \torg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\r\nMainController.class:\r\n\r\n    @Controller\r\n    public class MainController {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;basket&quot;)\r\n        private Basket basket;\r\n    \r\n    \r\n        @RequestMapping(value = &quot;/calculate&quot;,method = RequestMethod.POST)\r\n        public String calculate(Model model,Basket basket){\r\n            model.addAttribute(&quot;Basket&quot;,basket);\r\n            return &quot;calculate&quot;;\r\n        }\r\n    }","title":"Spring @Resource null pointer exception","body":"<p>I'm creating a Spring MVC application. And I have a Basket bean that has few autowired beans in it.</p>\n<pre><code>@Component\npublic class Basket {\n\n    @Autowired\n    @Qualifier(&quot;CPContainer&quot;)\n    private CPContainer cpContainer;\n\n    @Autowired\n    @Qualifier(&quot;FBContainer&quot;)\n    private FBContainer fbContainer;\n\n    public CPContainer getCpContainer() {\n        return cpContainer;\n    }\n\n    public void setCpContainer(CPContainer cpContainer) {\n        this.cpContainer = cpContainer;\n    }\n\n    public FBContainer getFbContainer() {\n        return fbContainer;\n    }\n\n    public void setFbContainer(FBContainer fbContainer) {\n        this.fbContainer = fbContainer;\n    }\n</code></pre>\n<p>Autowired beans CPContainer and FBContainer have List inside of them wired with list in dispather-servltet.xml via @Resource annotation:</p>\n<pre><code>@Component\npublic class FBContainer implements Container {\n\n    @Resource(name = &quot;FBList&quot;)\n    private List&lt;FBProduct&gt; products;\n    private int id;\n    private int amount;\n\n    @Override\n    public List&lt;FBProduct&gt; getProducts() {\n        return products;\n    }\n    @Override\n    public FBProduct getProductById(int id) {\n        return products.get(id);\n    }\n</code></pre>\n<p>dispatcher-servltet.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans ...\n &lt;mvc:annotation-driven/&gt;\n &lt;context:component-scan base-package=&quot;com.concrete&quot;/&gt;\n\n   &lt;util:list id=&quot;FBList&quot; value-type=&quot;com.concrete.pojo.product.FBProduct&quot;&gt;\n        &lt;bean id=&quot;fb1&quot; class=&quot;com.concrete.pojo.product.FBProduct&quot;&gt;\n            &lt;property name=&quot;id&quot; value=&quot;0&quot;/&gt;\n            &lt;property name=&quot;mass&quot; value=&quot;1000&quot;/&gt;\n            &lt;property name=&quot;l&quot; value=&quot;8980&quot;/&gt;\n            &lt;property name=&quot;b&quot; value=&quot;1490&quot;/&gt;\n            &lt;property name=&quot;h&quot; value=&quot;220&quot;/&gt;\n        &lt;/bean&gt;\n        &lt;bean id=&quot;fb2&quot; class=&quot;com.concrete.pojo.product.FBProduct&quot;&gt;\n            &lt;property name=&quot;id&quot; value=&quot;1&quot;/&gt;\n            &lt;property name=&quot;mass&quot; value=&quot;2000&quot;/&gt;\n            &lt;property name=&quot;l&quot; value=&quot;8980&quot;/&gt;\n            &lt;property name=&quot;b&quot; value=&quot;1190&quot;/&gt;\n            &lt;property name=&quot;h&quot; value=&quot;220&quot;/&gt;\n        &lt;/bean&gt;\n        &lt;bean id=&quot;fb3&quot; class=&quot;com.concrete.pojo.product.FBProduct&quot;&gt;\n            &lt;property name=&quot;id&quot; value=&quot;2&quot;/&gt;\n            &lt;property name=&quot;mass&quot; value=&quot;3000&quot;/&gt;\n            &lt;property name=&quot;l&quot; value=&quot;7180&quot;/&gt;\n            &lt;property name=&quot;b&quot; value=&quot;1490&quot;/&gt;\n            &lt;property name=&quot;h&quot; value=&quot;220&quot;/&gt;\n        &lt;/bean&gt;\n    &lt;/util:list&gt;\n\n    &lt;bean id=&quot;FBContainer&quot; class=&quot;com.concrete.pojo.container.FBContainer&quot;&gt;\n        &lt;property name=&quot;products&quot; ref=&quot;FBList&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;CPContainer&quot; class=&quot;com.concrete.pojo.container.CPContainer&quot;&gt;\n        &lt;property name=&quot;products&quot; ref=&quot;CPList&quot;/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I'm adding Basket class to a model as model attribute, which I intend to use in jsp page to get data from Container's List(Like FBProducts in FBContainer). But when I try to access a List I get null pointer exception:</p>\n<pre><code>java.lang.NullPointerException\n    com.concrete.pojo.container.FBContainer.getProductById(FBContainer.java:25)\n    com.concrete.pojo.container.Basket.calculateMass(Basket.java:24)\n    sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.lang.reflect.Method.invoke(Method.java:498)\n    javax.el.BeanELResolver.invoke(BeanELResolver.java:183)\n    org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:139)\n    org.apache.el.parser.AstValue.getValue(AstValue.java:174)\n    org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:184)\n    org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:950)\n    org.apache.jsp.calculate_jsp._jspService(calculate_jsp.java:93)\n    org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:439)\n    org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:395)\n    org.apache.jasper.servlet.JspServlet.service(JspServlet.java:339)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:170)\n    org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:314)\n    org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1325)\n    org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1069)\n    org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1008)\n    org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)\n    org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:978)\n    org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:881)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:855)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n</code></pre>\n<p>MainController.class:</p>\n<pre><code>@Controller\npublic class MainController {\n\n    @Autowired\n    @Qualifier(&quot;basket&quot;)\n    private Basket basket;\n\n\n    @RequestMapping(value = &quot;/calculate&quot;,method = RequestMethod.POST)\n    public String calculate(Model model,Basket basket){\n        model.addAttribute(&quot;Basket&quot;,basket);\n        return &quot;calculate&quot;;\n    }\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9490,"page":502,"page_size":100}
