{"items":[{"tags":["java","csv","hadoop","mapreduce"],"comments":[{"owner":{"account_id":10121872,"reputation":2186,"user_id":7478530,"display_name":"Dragonthoughts"},"score":0,"creation_date":1530564004,"post_id":51143195,"comment_id":89271013,"body_markdown":"Can you please show us what you have attempted?","body":"Can you please show us what you have attempted?"},{"owner":{"account_id":13075728,"reputation":98,"user_id":9447943,"display_name":"Habtamu Assefa"},"score":0,"creation_date":1530566758,"post_id":51143195,"comment_id":89271983,"body_markdown":"@Dragonthoughts Sorry, I have now  edited my questions and added piece of the  code","body":"@Dragonthoughts Sorry, I have now  edited my questions and added piece of the  code"},{"owner":{"account_id":13075728,"reputation":98,"user_id":9447943,"display_name":"Habtamu Assefa"},"score":1,"creation_date":1530691272,"post_id":51143195,"comment_id":89320124,"body_markdown":"Thanks @KlingKlang. was a typo","body":"Thanks @KlingKlang. was a typo"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681479692,"creation_date":1530589982,"answer_id":51146435,"question_id":51143195,"body_markdown":"You should build a Hive table over the text file, and that will define the &quot;headers&quot; in the Hive schema rather than another random row in the file.  \r\nMore importantly, Map Reduce cannot guarantee your header is the first row in the file. \r\n\r\n    CREATE EXTERNAL TABLE x ( \r\n      id INT, title STRING, link STRING\r\n    ) \r\n    ROW FORMAT DELIMITED FIELDS TERMINATED BY &#39;,&#39;\r\n    STORED AS TEXTFILE\r\n    LOCATION &#39;hdfs://mapred/outputDir&#39;;\r\n\r\nFrom that, you can write a Hive query to output to a separate CSV file, if needed\r\n\r\n---\r\n\r\nAlso, Spark can read XML, parse it, and write out CSV with headers, I believe, which might be better for your use case","title":"Hadoop MapReduce output with header","body":"<p>You should build a Hive table over the text file, and that will define the &quot;headers&quot; in the Hive schema rather than another random row in the file.<br />\nMore importantly, Map Reduce cannot guarantee your header is the first row in the file.</p>\n<pre><code>CREATE EXTERNAL TABLE x ( \n  id INT, title STRING, link STRING\n) \nROW FORMAT DELIMITED FIELDS TERMINATED BY ','\nSTORED AS TEXTFILE\nLOCATION 'hdfs://mapred/outputDir';\n</code></pre>\n<p>From that, you can write a Hive query to output to a separate CSV file, if needed</p>\n<hr />\n<p>Also, Spark can read XML, parse it, and write out CSV with headers, I believe, which might be better for your use case</p>\n"}],"owner":{"account_id":13075728,"reputation":98,"user_id":9447943,"display_name":"Habtamu Assefa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":529,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681479692,"creation_date":1530562681,"question_id":51143195,"body_markdown":"How can I output a header on my map/reduce job only one time to use is as a csv for hive import instead of manually entering column names. \r\n\r\n public class MyMapper extends Mapper&lt;LongWritable, Text, Text, NullWritable&gt; {\r\n\t \r\n\t\tpublic void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\r\n\t\ttry {\r\n\t\t\tInputStream is = new ByteArrayInputStream(value.toString().getBytes());\r\n\t\t\tDocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n\t\t\tDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n\t\t\tDocument doc = dBuilder.parse(is);\r\n\t\t\t//....\r\n\t\t\t\r\n\t\t\tdoc.getDocumentElement().normalize();\r\n\t\t\t\r\n\t\t\t// .......\r\n\t\t\t//context.write(new Text(&quot;el_from \\t Title \\t External Link&quot;), NullWritable.get());\r\n\t\t\t// .... \r\n\t\t\t\t\tString title = eElement.getElementsByTagName(&quot;title&quot;).item(0).getTextContent();\r\n\t\t\t\t\ttext = eElement.getElementsByTagName(&quot;text&quot;).item(0).getTextContent();\r\n\t\t\t\t\tString id = eElement.getElementsByTagName(&quot;id&quot;).item(0).getTextContent(); \r\n\t\t\t\t\t for(int j = 0; j &lt;  externalLinks.length; j++)\r\n\t\t\t\t\t {\r\n\t\t\t\t\t\t Pattern prl = Pattern.compile(&quot;(http:\\\\/\\\\/www\\\\.|https:\\\\/\\\\/www\\\\.|http:\\\\/\\\\/|https:\\\\/\\\\/)?[a-z0-9]+([\\\\-\\\\.]{1}[a-z0-9]+)*\\\\.[a-z]{2,5}(:[0-9]{1,5})?&quot;);\r\n\t\t\t\t\t\t Matcher ml = prl.matcher(externalLinks[j]);\r\n\t\t\t\t\t\t if(ml.find()) {\r\n\t\t\t\t\t\t\t MatchResult mlr = ml.toMatchResult();\r\n\t\t\t\t\t\t\t context.write(new Text(id+&quot;,&quot;+title + &quot;,&quot;+ mlr.group(0)), NullWritable.get());\r\n\t\t\t\t\t\t }\t\t\t\t\t\t \r\n\t\t\t\t\t }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\t// LogWriter.getInstance().WriteLog(e.getMessage());\r\n\t\t}\r\n\t\t}\r\n\t\t}`enter code here`\r\n\r\n\r\nThe result which I got is like this \r\n\r\n3,agricoltura,http://www.treccani.it\r\n\r\n3,agricoltura,http://www.wwf.it/client/render.aspx\r\n\r\nThe result I want is like below with a header \r\n\r\nid, title, link\r\n\r\n3,agricoltura,http://www.treccani.it\r\n\r\n3,agricoltura,http://www.wwf.it/client/render.aspx\r\n","title":"Hadoop MapReduce output with header","body":"<p>How can I output a header on my map/reduce job only one time to use is as a csv for hive import instead of manually entering column names. </p>\n\n<p>public class MyMapper extends Mapper {</p>\n\n<pre><code>    public void map(LongWritable key, Text value, Context context) throws IOException, InterruptedException {\n    try {\n        InputStream is = new ByteArrayInputStream(value.toString().getBytes());\n        DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n        Document doc = dBuilder.parse(is);\n        //....\n\n        doc.getDocumentElement().normalize();\n\n        // .......\n        //context.write(new Text(\"el_from \\t Title \\t External Link\"), NullWritable.get());\n        // .... \n                String title = eElement.getElementsByTagName(\"title\").item(0).getTextContent();\n                text = eElement.getElementsByTagName(\"text\").item(0).getTextContent();\n                String id = eElement.getElementsByTagName(\"id\").item(0).getTextContent(); \n                 for(int j = 0; j &lt;  externalLinks.length; j++)\n                 {\n                     Pattern prl = Pattern.compile(\"(http:\\\\/\\\\/www\\\\.|https:\\\\/\\\\/www\\\\.|http:\\\\/\\\\/|https:\\\\/\\\\/)?[a-z0-9]+([\\\\-\\\\.]{1}[a-z0-9]+)*\\\\.[a-z]{2,5}(:[0-9]{1,5})?\");\n                     Matcher ml = prl.matcher(externalLinks[j]);\n                     if(ml.find()) {\n                         MatchResult mlr = ml.toMatchResult();\n                         context.write(new Text(id+\",\"+title + \",\"+ mlr.group(0)), NullWritable.get());\n                     }                       \n                 }\n            }\n        }\n    } catch (Exception e) {\n        // LogWriter.getInstance().WriteLog(e.getMessage());\n    }\n    }\n    }`enter code here`\n</code></pre>\n\n<p>The result which I got is like this </p>\n\n<p>3,agricoltura,<a href=\"http://www.treccani.it\" rel=\"nofollow noreferrer\">http://www.treccani.it</a></p>\n\n<p>3,agricoltura,<a href=\"http://www.wwf.it/client/render.aspx\" rel=\"nofollow noreferrer\">http://www.wwf.it/client/render.aspx</a></p>\n\n<p>The result I want is like below with a header </p>\n\n<p>id, title, link</p>\n\n<p>3,agricoltura,<a href=\"http://www.treccani.it\" rel=\"nofollow noreferrer\">http://www.treccani.it</a></p>\n\n<p>3,agricoltura,<a href=\"http://www.wwf.it/client/render.aspx\" rel=\"nofollow noreferrer\">http://www.wwf.it/client/render.aspx</a></p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":1,"creation_date":1681458990,"post_id":76011885,"comment_id":134062712,"body_markdown":"The old MapReduce API was replaced over a decade ago. New MapReduce is hardly used anymore so you really should consider upgrading. Have you looked at Apache Spark?","body":"The old MapReduce API was replaced over a decade ago. New MapReduce is hardly used anymore so you really should consider upgrading. Have you looked at Apache Spark?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681479669,"post_id":76011885,"comment_id":134067520,"body_markdown":"Previous answer where I suggested using Hive instead https://stackoverflow.com/a/51146435/2308683 But yes, SparkSQL can do the same","body":"Previous answer where I suggested using Hive instead <a href=\"https://stackoverflow.com/a/51146435/2308683\">stackoverflow.com/a/51146435/2308683</a> But yes, SparkSQL can do the same"}],"owner":{"account_id":13579259,"reputation":35,"user_id":9795757,"display_name":"Shiva Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681479597,"creation_date":1681450638,"question_id":76011885,"body_markdown":"I want to add a header to output files of hadoop map reduce based on the key passed to reducer. That is, I want the header to vary based on input that the reducer is processing. Is there a way to do this in MapReduce?","title":"How to add header to output files in Java map reduce?","body":"<p>I want to add a header to output files of hadoop map reduce based on the key passed to reducer. That is, I want the header to vary based on input that the reducer is processing. Is there a way to do this in MapReduce?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql","apache-spark-dataset"],"answers":[{"comments":[{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":1,"creation_date":1681481445,"post_id":76015691,"comment_id":134067960,"body_markdown":"As Homer Simpson would say, **doh!** Thank you!","body":"As Homer Simpson would say, <b>doh!</b> Thank you!"}],"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681479424,"creation_date":1681479424,"answer_id":76015691,"question_id":76015555,"body_markdown":"You were close, you need to transform it to Java list:\r\n\r\n    ds.schema().toList()\r\n\r\nFull code:\r\n\r\n    scala.collection.immutable.List&lt;StructField&gt; schemaList = ds.schema().toList();\r\n","title":"Deconstructing Spark SQL Dataset&lt;Row&gt; back into its individual StructFields/columns","body":"<p>You were close, you need to transform it to Java list:</p>\n<pre><code>ds.schema().toList()\n</code></pre>\n<p>Full code:</p>\n<pre><code>scala.collection.immutable.List&lt;StructField&gt; schemaList = ds.schema().toList();\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76015691,"answer_count":1,"score":1,"last_activity_date":1681479457,"creation_date":1681478487,"question_id":76015555,"body_markdown":"Java 11 and Spark SQL 2.13:3.3.2 here. Please note: I&#39;m using and interested in the Java API and would appreciate Java answers, but I can probably decipher Scala/Python-based answers and do the necessary Scala/Python-to-Java conversions if necessary. But Java would be appreciated!\r\n\r\n---\r\n\r\nI understand how to create a new `Dataset&lt;Row&gt;` with a specified schema:\r\n```\r\nDataset&lt;Row&gt; dataFrame = sparkSession.emptyDataFrame();\r\n\r\nList&lt;StructField&gt; structFields = getSomehow();\r\n\r\nStructType schema = DataTypes.createStructType(structFields.toArray(StructField[]::new));\r\nDataset&lt;Row&gt; ds = sparkSession.createDataFrame(dataFrame.rdd(), schema);\r\n```\r\n\r\nWhat I&#39;m trying to understand is: **how do I do the reverse of this?** How do I turn a `Dataset&lt;Row&gt;` back into a `List&lt;StructField&gt;` (its schema; columns)? I see the `ds.schema()` method, which returns a `StructType`, but not sure how to deconstruct that back into a list of individual columns/`StructFields`. Any ideas?","title":"Deconstructing Spark SQL Dataset&lt;Row&gt; back into its individual StructFields/columns","body":"<p>Java 11 and Spark SQL 2.13:3.3.2 here. Please note: I'm using and interested in the Java API and would appreciate Java answers, but I can probably decipher Scala/Python-based answers and do the necessary Scala/Python-to-Java conversions if necessary. But Java would be appreciated!</p>\n<hr />\n<p>I understand how to create a new <code>Dataset&lt;Row&gt;</code> with a specified schema:</p>\n<pre><code>Dataset&lt;Row&gt; dataFrame = sparkSession.emptyDataFrame();\n\nList&lt;StructField&gt; structFields = getSomehow();\n\nStructType schema = DataTypes.createStructType(structFields.toArray(StructField[]::new));\nDataset&lt;Row&gt; ds = sparkSession.createDataFrame(dataFrame.rdd(), schema);\n</code></pre>\n<p>What I'm trying to understand is: <strong>how do I do the reverse of this?</strong> How do I turn a <code>Dataset&lt;Row&gt;</code> back into a <code>List&lt;StructField&gt;</code> (its schema; columns)? I see the <code>ds.schema()</code> method, which returns a <code>StructType</code>, but not sure how to deconstruct that back into a list of individual columns/<code>StructFields</code>. Any ideas?</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":6489457,"reputation":366,"user_id":5023974,"display_name":"Antoine Lefebvre"},"score":0,"creation_date":1603123406,"post_id":64431007,"comment_id":113930321,"body_markdown":"first you could start changing j=0 by j=i+1 to avoid checking things twice but that only divides the number of computations by 2","body":"first you could start changing j=0 by j=i+1 to avoid checking things twice but that only divides the number of computations by 2"},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1603123834,"post_id":64431007,"comment_id":113930507,"body_markdown":"First, start with posting the code that compiles (does not have an obvious typos/syntax errors); then, please respect the Java Naming Conventions, and change `__gcd` with `gcd`.","body":"First, start with posting the code that compiles (does not have an obvious typos/syntax errors); then, please respect the Java Naming Conventions, and change <code>__gcd</code> with <code>gcd</code>."}],"answers":[{"tags":[],"owner":{"account_id":6489457,"reputation":366,"user_id":5023974,"display_name":"Antoine Lefebvre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603124786,"creation_date":1603124786,"answer_id":64431478,"question_id":64431007,"body_markdown":"Your algorithm is currently O(n^2*log(S)). n = number of items, S = size of the numbers\r\n\r\nI believe it can be achieved in O(n*n) (which not necessarily is great gain). \r\n\r\n - To do so, you&#39;ll first to new to compute of each element in the array their prime factors (which can be achieved in O(log(S)) with S being the size of the numbers.\r\n - Store the results in a List for each number (so you will have N Lists). The average length of those lists will be the average number of prime factors which is given here: https://en.wikipedia.org/wiki/Erd%C5%91s%E2%80%93Kac_theorem#:~:text=The%20Erd%C5%91s%E2%80%93Kac%20theorem%20means,requires%20on%20average%20three%20primes.\r\n - Create a reverse map that for each prime factor give you the indices of the numbers that have this prime factor\r\n - Then loop again through all the numbers and for each of them loop through their prime factors (which is more or less a constant based on the size of the numbers) and deduct the numbers that shares a common prime factors. You will then be left with the list of coprime numbers. For each number, this step is O(n). \r\n\r\nNote: you&#39;re probably fine with the original code...","title":"Efficient and faster way to find coprimes elements from an array","body":"<p>Your algorithm is currently O(n^2*log(S)). n = number of items, S = size of the numbers</p>\n<p>I believe it can be achieved in O(n*n) (which not necessarily is great gain).</p>\n<ul>\n<li>To do so, you'll first to new to compute of each element in the array their prime factors (which can be achieved in O(log(S)) with S being the size of the numbers.</li>\n<li>Store the results in a List for each number (so you will have N Lists). The average length of those lists will be the average number of prime factors which is given here: <a href=\"https://en.wikipedia.org/wiki/Erd%C5%91s%E2%80%93Kac_theorem#:%7E:text=The%20Erd%C5%91s%E2%80%93Kac%20theorem%20means,requires%20on%20average%20three%20primes\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Erd%C5%91s%E2%80%93Kac_theorem#:~:text=The%20Erd%C5%91s%E2%80%93Kac%20theorem%20means,requires%20on%20average%20three%20primes</a>.</li>\n<li>Create a reverse map that for each prime factor give you the indices of the numbers that have this prime factor</li>\n<li>Then loop again through all the numbers and for each of them loop through their prime factors (which is more or less a constant based on the size of the numbers) and deduct the numbers that shares a common prime factors. You will then be left with the list of coprime numbers. For each number, this step is O(n).</li>\n</ul>\n<p>Note: you're probably fine with the original code...</p>\n"},{"tags":[],"owner":{"account_id":25667013,"reputation":48,"user_id":19431798,"display_name":"Trriger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681479114,"creation_date":1681479114,"answer_id":76015634,"question_id":64431007,"body_markdown":"i am a beginner in java so pardon my stupidity... but the easiest chang you could make would be change `a-b` to `a%b` in \r\n```\r\nstatic int gcd(int a, int b) {\r\n  // Everything divides 0\r\n  if (a == 0 || b == 0)\r\n    return 0;\r\n\r\n  // base case\r\n  if (a == b)\r\n    return a;\r\n\r\n  // a is greater\r\n  if (a &gt; b)\r\n    return gcd(a % b, b);\r\n\r\n  return gcd(a, b % a);\r\n}\r\n```\r\nthis reduces repetitive calls on same smaller number.\r\nthat&#39;s the best i can come up with\r\n\r\n","title":"Efficient and faster way to find coprimes elements from an array","body":"<p>i am a beginner in java so pardon my stupidity... but the easiest chang you could make would be change <code>a-b</code> to <code>a%b</code> in</p>\n<pre><code>static int gcd(int a, int b) {\n  // Everything divides 0\n  if (a == 0 || b == 0)\n    return 0;\n\n  // base case\n  if (a == b)\n    return a;\n\n  // a is greater\n  if (a &gt; b)\n    return gcd(a % b, b);\n\n  return gcd(a, b % a);\n}\n</code></pre>\n<p>this reduces repetitive calls on same smaller number.\nthat's the best i can come up with</p>\n"}],"owner":{"account_id":19772895,"reputation":11,"user_id":14479536,"display_name":"Amos George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681479114,"creation_date":1603123104,"question_id":64431007,"body_markdown":"I&#39;m working on a mini-project. \r\nI&#39;m tasked to find elements in the array that is coprime with all other values. \r\nI came up with a method that uses a double for-loop. However, I believe the time complexity is not going to be favorable, especially if the array of elements is huge. \r\n\r\nThese are what I have:\r\n```\r\nArrayList&lt;Integer&gt; getAllCoPrimes(int[] inputs) {\r\n    ArrayList&lt;Integer&gt; coprimes = new ArrayList&lt;&gt;();\r\n    int[] elementsCount = new int[inputs.length];\r\n    for (int i = 0; i &lt; inputs.length; i++) {\r\n        int x = inputs[i];\r\n        for (int j = 0; j &lt; inputs.length; j++) {\r\n            int y = inputs[j];\r\n            if (i != j) {\r\n                if (gcd(x, y) == 1) {\r\n                    elementsCount[i]++;\r\n                    if (elementsCount[i] == inputs.length) //x is a coprime with all the elements in the array\r\n                        coprimes.add(x);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return coprimes;\r\n}\r\n\r\nstatic int gcd(int a, int b) {\r\n  // Everything divides 0\r\n  if (a == 0 || b == 0)\r\n    return 0;\r\n\r\n  // base case\r\n  if (a == b)\r\n    return a;\r\n\r\n  // a is greater\r\n  if (a &gt; b)\r\n    return gcd(a - b, b);\r\n\r\n  return gcd(a, b - a);\r\n}\r\n```\r\nI would like to ask is there any way I can improve my method to run more efficiently? Thank you in advance :)","title":"Efficient and faster way to find coprimes elements from an array","body":"<p>I'm working on a mini-project.\nI'm tasked to find elements in the array that is coprime with all other values.\nI came up with a method that uses a double for-loop. However, I believe the time complexity is not going to be favorable, especially if the array of elements is huge.</p>\n<p>These are what I have:</p>\n<pre><code>ArrayList&lt;Integer&gt; getAllCoPrimes(int[] inputs) {\n    ArrayList&lt;Integer&gt; coprimes = new ArrayList&lt;&gt;();\n    int[] elementsCount = new int[inputs.length];\n    for (int i = 0; i &lt; inputs.length; i++) {\n        int x = inputs[i];\n        for (int j = 0; j &lt; inputs.length; j++) {\n            int y = inputs[j];\n            if (i != j) {\n                if (gcd(x, y) == 1) {\n                    elementsCount[i]++;\n                    if (elementsCount[i] == inputs.length) //x is a coprime with all the elements in the array\n                        coprimes.add(x);\n                }\n            }\n        }\n    }\n    return coprimes;\n}\n\nstatic int gcd(int a, int b) {\n  // Everything divides 0\n  if (a == 0 || b == 0)\n    return 0;\n\n  // base case\n  if (a == b)\n    return a;\n\n  // a is greater\n  if (a &gt; b)\n    return gcd(a - b, b);\n\n  return gcd(a, b - a);\n}\n</code></pre>\n<p>I would like to ask is there any way I can improve my method to run more efficiently? Thank you in advance :)</p>\n"},{"tags":["javascript","java","spring-boot","vue.js","vuejs3"],"comments":[{"owner":{"account_id":20481349,"reputation":191,"user_id":16551561,"display_name":"Tufan Atak"},"score":0,"creation_date":1681479419,"post_id":76015612,"comment_id":134067459,"body_markdown":"How did you get encodeURIComponent(&quot;file14/04/2023&quot;)=&quot;file14%2F04%2F2023=&quot; instead of encodeURIComponent(&quot;file14/04/2023&quot;)=&#39;file14%2F04%2F2023&#39;?\n\nYou have to decode the message in backend to receive the wanted (encoded) message.","body":"How did you get encodeURIComponent(&quot;file14/04/2023&quot;)=&quot;file14%2F04%2F2023=&quot; instead of encodeURIComponent(&quot;file14/04/2023&quot;)=&#39;file14%2F04%2F2023&#39;?  You have to decode the message in backend to receive the wanted (encoded) message."},{"owner":{"account_id":27430794,"reputation":23,"user_id":20927545,"display_name":"Mass Mak"},"score":0,"creation_date":1681481283,"post_id":76015612,"comment_id":134067928,"body_markdown":"even without encoding it doesn&#39;t work","body":"even without encoding it doesn&#39;t work"}],"owner":{"account_id":27430794,"reputation":23,"user_id":20927545,"display_name":"Mass Mak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681479641,"answer_count":0,"score":0,"last_activity_date":1681478947,"creation_date":1681478947,"question_id":76015612,"body_markdown":"I want to send data from Vuejs to SpringBoot with HTTP method \r\nIn my vuejs application: \r\n\r\n    let message = encodeURIComponent(this.NonFichier)\r\n      axios\r\n        .post(&#39;http://localhost:8080/apii/Recevoir&#39;, message)\r\n        .then((resonse) =&gt; {\r\n          console.log(resonse.data)\r\n        })\r\n        .catch((error) =&gt; {\r\n          console.log(error)\r\n        })\r\n    },\r\nand in my SpringBoot programme : \r\n\r\n    @PostMapping(value = &quot;/Recevoir&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; recevoir(@RequestBody String message) {\r\n        System.out.println(&quot;Le message re&#231;u est : &quot; + message);\r\n        return ResponseEntity.ok(&quot;String re&#231;u avec succ&#232;s ! et la donner recu est : &quot; + message);\r\n    }\r\n\r\nBut the problem is I do not receiv the same data \r\nFor exemple if i send =  \r\n\r\n&gt; file14/04/2023\r\n\r\nIn spring I receive : \r\n\r\n&gt; file14%2F04%2F2023=\r\n\r\nPlease, what i can do to receive the same data that i send ? \r\n\r\n","title":"problem of sending/receive data from vuejs to SpringBoot","body":"<p>I want to send data from Vuejs to SpringBoot with HTTP method\nIn my vuejs application:</p>\n<pre><code>let message = encodeURIComponent(this.NonFichier)\n  axios\n    .post('http://localhost:8080/apii/Recevoir', message)\n    .then((resonse) =&gt; {\n      console.log(resonse.data)\n    })\n    .catch((error) =&gt; {\n      console.log(error)\n    })\n},\n</code></pre>\n<p>and in my SpringBoot programme :</p>\n<pre><code>@PostMapping(value = &quot;/Recevoir&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;String&gt; recevoir(@RequestBody String message) {\n    System.out.println(&quot;Le message reçu est : &quot; + message);\n    return ResponseEntity.ok(&quot;String reçu avec succès ! et la donner recu est : &quot; + message);\n}\n</code></pre>\n<p>But the problem is I do not receiv the same data\nFor exemple if i send =</p>\n<blockquote>\n<p>file14/04/2023</p>\n</blockquote>\n<p>In spring I receive :</p>\n<blockquote>\n<p>file14%2F04%2F2023=</p>\n</blockquote>\n<p>Please, what i can do to receive the same data that i send ?</p>\n"},{"tags":["java","elasticsearch","highlight"],"answers":[{"comments":[{"owner":{"account_id":2111994,"reputation":337,"user_id":1877098,"accept_rate":20,"display_name":"Sorin-Alexandru Cristescu"},"score":0,"creation_date":1681472579,"post_id":76014635,"comment_id":134065794,"body_markdown":"You mean here that &quot;field1&quot; would be defined on &quot;index1&quot;, &quot;field2&quot; on &quot;index2&quot; and so on ? So this is how you can to different indices, but this is not enough, because:\n\n\n1. I might have fields with the same name on different indices\n\n2. I want to keep different parameters of the highlighter for each index, e.g.\nI want to set highlightBuilder.maxAnalyzedOffset(10000) for a certain index and maybe 25000 for another index\nSo the question is how to retain this full flexibility of the highlighter per index ?","body":"You mean here that &quot;field1&quot; would be defined on &quot;index1&quot;, &quot;field2&quot; on &quot;index2&quot; and so on ? So this is how you can to different indices, but this is not enough, because:   1. I might have fields with the same name on different indices  2. I want to keep different parameters of the highlighter for each index, e.g. I want to set highlightBuilder.maxAnalyzedOffset(10000) for a certain index and maybe 25000 for another index So the question is how to retain this full flexibility of the highlighter per index ?"},{"owner":{"account_id":2111994,"reputation":337,"user_id":1877098,"accept_rate":20,"display_name":"Sorin-Alexandru Cristescu"},"score":0,"creation_date":1681473793,"post_id":76014635,"comment_id":134066080,"body_markdown":"&quot;.... how you can link to different indices&quot; I meant above","body":"&quot;.... how you can link to different indices&quot; I meant above"},{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1681473903,"post_id":76014635,"comment_id":134066113,"body_markdown":"In this case you could try [Multi Search API](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi-search.html). You can configure HighlightBuilder for each index.","body":"In this case you could try <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi-search.html\" rel=\"nofollow noreferrer\">Multi Search API</a>. You can configure HighlightBuilder for each index."},{"owner":{"account_id":2111994,"reputation":337,"user_id":1877098,"accept_rate":20,"display_name":"Sorin-Alexandru Cristescu"},"score":0,"creation_date":1681477562,"post_id":76014635,"comment_id":134067014,"body_markdown":"indeed, it seems the only workaround is to have multiple searches, each search query with its index and its own highlighter; however, I expect performance issues with that approach, at least compared to one search which runs in parallel on many indices","body":"indeed, it seems the only workaround is to have multiple searches, each search query with its index and its own highlighter; however, I expect performance issues with that approach, at least compared to one search which runs in parallel on many indices"}],"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681471714,"creation_date":1681471714,"answer_id":76014635,"question_id":76014462,"body_markdown":"\r\nyou do not need to instantiate more than one HighlightBuilder. HighlightBuilder uses pattern builder, to apply more points just add &quot;fields&quot; in the same HighlightBuilder instance.\r\n\r\n\r\n    String[] indices = {&quot;index1&quot;, &quot;index2&quot;, &quot;index3&quot;};\r\n\r\n    // Build the search request\r\n    SearchRequest searchRequest = new SearchRequest(indices);\r\n\r\n    // Build the search source\r\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n    searchSourceBuilder.query(QueryBuilders.matchQuery(&quot;field&quot;, &quot;search term&quot;));\r\n\r\n    // Build highlighters for each index\r\n    HighlightBuilder highlightBuilder = new HighlightBuilder().field(&quot;field1&quot;).field(&quot;field2&quot;).field(&quot;field3&quot;);\r\n\r\n    // Add highlighters to the search source for each index\r\n    searchSourceBuilder.highlighter(highlightBuilder);\r\n\r\n    // Set the search source on the search request\r\n    searchRequest.source(searchSourceBuilder);","title":"ElasticSearch search query with a highlighter per index","body":"<p>you do not need to instantiate more than one HighlightBuilder. HighlightBuilder uses pattern builder, to apply more points just add &quot;fields&quot; in the same HighlightBuilder instance.</p>\n<pre><code>String[] indices = {&quot;index1&quot;, &quot;index2&quot;, &quot;index3&quot;};\n\n// Build the search request\nSearchRequest searchRequest = new SearchRequest(indices);\n\n// Build the search source\nSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\nsearchSourceBuilder.query(QueryBuilders.matchQuery(&quot;field&quot;, &quot;search term&quot;));\n\n// Build highlighters for each index\nHighlightBuilder highlightBuilder = new HighlightBuilder().field(&quot;field1&quot;).field(&quot;field2&quot;).field(&quot;field3&quot;);\n\n// Add highlighters to the search source for each index\nsearchSourceBuilder.highlighter(highlightBuilder);\n\n// Set the search source on the search request\nsearchRequest.source(searchSourceBuilder);\n</code></pre>\n"}],"owner":{"account_id":2111994,"reputation":337,"user_id":1877098,"accept_rate":20,"display_name":"Sorin-Alexandru Cristescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681478940,"creation_date":1681470362,"question_id":76014462,"body_markdown":"When performing an ElasticSearch search operation from Java code, typically you create a SearchRequest with some indices as parameter, since the search is done across several indices. \r\nNow I would like to be able to use a separate highlighter for each such index, e.g.:\r\n\r\n         \r\n        // Define the indices to search on\r\n        String[] indices = {&quot;index1&quot;, &quot;index2&quot;, &quot;index3&quot;};\r\n\r\n        // Build the search request\r\n        SearchRequest searchRequest = new SearchRequest(indices);\r\n\r\n        // Build the search source\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n        searchSourceBuilder.query(QueryBuilders.matchQuery(&quot;field&quot;, &quot;search term&quot;));\r\n\r\n        // Build highlighters for each index\r\n        HighlightBuilder highlightBuilder1 = new HighlightBuilder().field(&quot;field1&quot;);\r\n        HighlightBuilder highlightBuilder2 = new HighlightBuilder().field(&quot;field2&quot;);\r\n        HighlightBuilder highlightBuilder3 = new HighlightBuilder().field(&quot;field3&quot;);\r\n\r\n        // Add highlighters to the search source for each index\r\n        searchSourceBuilder.highlighter(highlightBuilder1);\r\n        searchSourceBuilder.highlighter(highlightBuilder2);\r\n        searchSourceBuilder.highlighter(highlightBuilder3);\r\n\r\n        // Set the search source on the search request\r\n        searchRequest.source(searchSourceBuilder);\r\n\r\nHowever, the call to ***searchSourceBuilder.highlighter*** simply overwrites a previous highlighter, so this won&#39;t work. Is there any way to do that ? ","title":"ElasticSearch search query with a highlighter per index","body":"<p>When performing an ElasticSearch search operation from Java code, typically you create a SearchRequest with some indices as parameter, since the search is done across several indices.\nNow I would like to be able to use a separate highlighter for each such index, e.g.:</p>\n<pre><code>    // Define the indices to search on\n    String[] indices = {&quot;index1&quot;, &quot;index2&quot;, &quot;index3&quot;};\n\n    // Build the search request\n    SearchRequest searchRequest = new SearchRequest(indices);\n\n    // Build the search source\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n    searchSourceBuilder.query(QueryBuilders.matchQuery(&quot;field&quot;, &quot;search term&quot;));\n\n    // Build highlighters for each index\n    HighlightBuilder highlightBuilder1 = new HighlightBuilder().field(&quot;field1&quot;);\n    HighlightBuilder highlightBuilder2 = new HighlightBuilder().field(&quot;field2&quot;);\n    HighlightBuilder highlightBuilder3 = new HighlightBuilder().field(&quot;field3&quot;);\n\n    // Add highlighters to the search source for each index\n    searchSourceBuilder.highlighter(highlightBuilder1);\n    searchSourceBuilder.highlighter(highlightBuilder2);\n    searchSourceBuilder.highlighter(highlightBuilder3);\n\n    // Set the search source on the search request\n    searchRequest.source(searchSourceBuilder);\n</code></pre>\n<p>However, the call to <em><strong>searchSourceBuilder.highlighter</strong></em> simply overwrites a previous highlighter, so this won't work. Is there any way to do that ?</p>\n"},{"tags":["java","spring-boot","mockito"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":4,"creation_date":1681467531,"post_id":76014000,"comment_id":134064721,"body_markdown":"if you mock the class, you cannot test it. Therefore, you should try a different approach. One option would be to use an in-memory database such as H2: https://www.baeldung.com/spring-jpa-test-in-memory-database. alternatively, you can use test containers, but they require a more complex setup: https://www.testcontainers.org/","body":"if you mock the class, you cannot test it. Therefore, you should try a different approach. One option would be to use an in-memory database such as H2: <a href=\"https://www.baeldung.com/spring-jpa-test-in-memory-database\" rel=\"nofollow noreferrer\">baeldung.com/spring-jpa-test-in-memory-database</a>. alternatively, you can use test containers, but they require a more complex setup: <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">testcontainers.org</a>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681477368,"post_id":76014000,"comment_id":134066960,"body_markdown":"Which test runner are you using? But if you mock your class, you are no longer testing your class – you are testing the mock. The test as shown does not test anything (well, except that methods stubbed by Mockito return the stubbed value). Related: https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test","body":"Which test runner are you using? But if you mock your class, you are no longer testing your class – you are testing the mock. The test as shown does not test anything (well, except that methods stubbed by Mockito return the stubbed value). Related: <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\" title=\"why are my mocked methods not called when executing a unit test\">stackoverflow.com/questions/74027324/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5552861,"reputation":994,"user_id":4405343,"display_name":"ttarczynski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681477056,"creation_date":1681477056,"answer_id":76015343,"question_id":76014000,"body_markdown":"As rightly pointed out in comments - you&#39;re mocking the class you&#39;re trying to test, which defeats the whole idea of testing in the first place.\r\n\r\nThere&#39;re multiple ways and philosophies how to approach testing, but leaving the philosophical discussions aside, in the case of testing the repository what you&#39;re actually trying to test is that:\r\n\r\n1. The data is saved in the data store of choice, say a relational database.\r\n2. The query for the data is correct and returns the expected value(s).\r\n\r\nThus, having a mocked instance of the test subject does not make sense.\r\n\r\nHaving said that, if your environment permits, I&#39;d go with Testcontainers. They have the advantage, that you can test your code against the actual database process of the DB of your choice. E.g. assuming you&#39;re using Postgres Database, the test code could look like this:\r\n\r\n```java\r\n// imports and packaging omitted for brevity\r\n@SpringBootTest(\r\n  classes = {AddressRepo.class}\r\n)\r\n@Testcontainers\r\nclass AddressRepoTest {\r\n  \r\n  private static final PostgreSQLContainer&lt;?&gt; POSTGRES_SQL_CONTAINER =\r\n      new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.4&quot;);\r\n  \r\n  @BeforeAll\r\n  static void setupContainer() {\r\n    POSTGRES_SQL_CONTAINER.start();\r\n  }\r\n\r\n  @AfterAll\r\n  static void cleanup() {\r\n    POSTGRES_SQL_CONTAINER.stop();\r\n  }\r\n\r\n  @DynamicPropertySource\r\n  static void springProperties(DynamicPropertyRegistry registry) {\r\n    registry.add(&quot;spring.datasource.url&quot;, POSTGRES_SQL_CONTAINER::getJdbcUrl);\r\n    registry.add(&quot;spring.datasource.username&quot;, POSTGRES_SQL_CONTAINER::getUsername);\r\n    registry.add(&quot;spring.datasource.password&quot;, POSTGRES_SQL_CONTAINER::getPassword);\r\n  }\r\n\r\n  @Autowired\r\n  private AddressRepository addressRepository;\r\n\r\n  @Test\r\n  public void testRepo(){\r\n    // given  \r\n    Address address = new Address();\r\n    address.setid(1));\r\n    address.setLine1(&quot;address line 1&quot;);\r\n    addressRepository.save(address)\r\n\r\n    // when\r\n    List&lt;Address&gt; addresses = repository.getAddressResults();\r\n\r\n    // then\r\n    assertThat(addresses.get(0).getLine1().equalsIgnoreCase(&quot;address line 1&quot;));\r\n  }\r\n}\r\n```\r\n\r\nThe code above assumes that you have proper dependencies setup in your build tool, you can find Testcontainer docs here: https://www.testcontainers.org/.\r\n","title":"Mockito Spring Boot - JUnit Test Case for Repository","body":"<p>As rightly pointed out in comments - you're mocking the class you're trying to test, which defeats the whole idea of testing in the first place.</p>\n<p>There're multiple ways and philosophies how to approach testing, but leaving the philosophical discussions aside, in the case of testing the repository what you're actually trying to test is that:</p>\n<ol>\n<li>The data is saved in the data store of choice, say a relational database.</li>\n<li>The query for the data is correct and returns the expected value(s).</li>\n</ol>\n<p>Thus, having a mocked instance of the test subject does not make sense.</p>\n<p>Having said that, if your environment permits, I'd go with Testcontainers. They have the advantage, that you can test your code against the actual database process of the DB of your choice. E.g. assuming you're using Postgres Database, the test code could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// imports and packaging omitted for brevity\n@SpringBootTest(\n  classes = {AddressRepo.class}\n)\n@Testcontainers\nclass AddressRepoTest {\n  \n  private static final PostgreSQLContainer&lt;?&gt; POSTGRES_SQL_CONTAINER =\n      new PostgreSQLContainer&lt;&gt;(&quot;postgres:13.4&quot;);\n  \n  @BeforeAll\n  static void setupContainer() {\n    POSTGRES_SQL_CONTAINER.start();\n  }\n\n  @AfterAll\n  static void cleanup() {\n    POSTGRES_SQL_CONTAINER.stop();\n  }\n\n  @DynamicPropertySource\n  static void springProperties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;spring.datasource.url&quot;, POSTGRES_SQL_CONTAINER::getJdbcUrl);\n    registry.add(&quot;spring.datasource.username&quot;, POSTGRES_SQL_CONTAINER::getUsername);\n    registry.add(&quot;spring.datasource.password&quot;, POSTGRES_SQL_CONTAINER::getPassword);\n  }\n\n  @Autowired\n  private AddressRepository addressRepository;\n\n  @Test\n  public void testRepo(){\n    // given  \n    Address address = new Address();\n    address.setid(1));\n    address.setLine1(&quot;address line 1&quot;);\n    addressRepository.save(address)\n\n    // when\n    List&lt;Address&gt; addresses = repository.getAddressResults();\n\n    // then\n    assertThat(addresses.get(0).getLine1().equalsIgnoreCase(&quot;address line 1&quot;));\n  }\n}\n</code></pre>\n<p>The code above assumes that you have proper dependencies setup in your build tool, you can find Testcontainer docs here: <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/</a>.</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681478648,"creation_date":1681478648,"answer_id":76015569,"question_id":76014000,"body_markdown":"To test a **repository**, you can use [test slice][1] with the annotation `@DataJpaTest`. It allows you to test a part of your application by loading the concerned beans.\r\n\r\nWhile testing with Spring, you don&#39;t have to load all the context.\r\n\r\n\r\n  [1]: https://rieckpil.de/spring-boot-test-slices-overview-and-usage/","title":"Mockito Spring Boot - JUnit Test Case for Repository","body":"<p>To test a <strong>repository</strong>, you can use <a href=\"https://rieckpil.de/spring-boot-test-slices-overview-and-usage/\" rel=\"nofollow noreferrer\">test slice</a> with the annotation <code>@DataJpaTest</code>. It allows you to test a part of your application by loading the concerned beans.</p>\n<p>While testing with Spring, you don't have to load all the context.</p>\n"}],"owner":{"account_id":26174516,"reputation":19,"user_id":19858917,"display_name":"unknown1101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76015343,"answer_count":2,"score":0,"last_activity_date":1681478648,"creation_date":1681467295,"question_id":76014000,"body_markdown":"I am trying to create a JUnit test case for application&#39;s repository class.\r\n\r\nRepository is as follows:\r\n\r\n        @Repository\r\n    public interface AddressRepo extends JpaRepository&lt;SourceAddress, int&gt;, JpaSpecificationExecutor&lt;SourceAddress&gt; {\r\n    \r\n        @Query(value = &quot;select * from Address &quot;, nativeQuery = true)\r\n        List&lt;Address&gt; getAdressResults();\r\n    }\r\n\r\nEntity class is as follows:\r\n\r\n  \r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;ADDRESS&quot;)\r\n    public class Address implements Serializable {\r\n       \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;, nullable = false)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;line1&quot;)\r\n        private String line1;\r\n    \r\n        @Column(name = &quot;line2&quot;)\r\n        private String line2;\r\n    }\r\n\r\nI have tried the following but it return null pointer exception stating that repository is null:\r\n\r\n     @Mock\r\n    Repository repository;\r\n\r\n\r\n\r\n    @Test\r\n    public void testRepo(){\r\n        Address address = new Address();\r\n        address.setid(1));\r\n        address.setLine1(&quot;address line 1&quot;);\r\n\r\n        List&lt;Address&gt; addressList = new ArrayList&lt;&gt;();\r\n        addressList.add(address);\r\n\r\n        Mockito.when(repository.getAddressResults()).thenReturn(addressList);\r\n        List&lt;Address&gt; addresses = repository.getAddressResults();\r\n        assertThat(addresses.get(0).getLine1().equalsIgnoreCase(&quot;address line 1&quot;));\r\n\r\n    }\r\n\r\nHow can I test this Repository?\r\n\r\nThanks\r\n\r\n        ","title":"Mockito Spring Boot - JUnit Test Case for Repository","body":"<p>I am trying to create a JUnit test case for application's repository class.</p>\n<p>Repository is as follows:</p>\n<pre><code>    @Repository\npublic interface AddressRepo extends JpaRepository&lt;SourceAddress, int&gt;, JpaSpecificationExecutor&lt;SourceAddress&gt; {\n\n    @Query(value = &quot;select * from Address &quot;, nativeQuery = true)\n    List&lt;Address&gt; getAdressResults();\n}\n</code></pre>\n<p>Entity class is as follows:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;ADDRESS&quot;)\npublic class Address implements Serializable {\n   \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;, nullable = false)\n    private int id;\n\n    @Column(name = &quot;line1&quot;)\n    private String line1;\n\n    @Column(name = &quot;line2&quot;)\n    private String line2;\n}\n</code></pre>\n<p>I have tried the following but it return null pointer exception stating that repository is null:</p>\n<pre><code> @Mock\nRepository repository;\n\n\n\n@Test\npublic void testRepo(){\n    Address address = new Address();\n    address.setid(1));\n    address.setLine1(&quot;address line 1&quot;);\n\n    List&lt;Address&gt; addressList = new ArrayList&lt;&gt;();\n    addressList.add(address);\n\n    Mockito.when(repository.getAddressResults()).thenReturn(addressList);\n    List&lt;Address&gt; addresses = repository.getAddressResults();\n    assertThat(addresses.get(0).getLine1().equalsIgnoreCase(&quot;address line 1&quot;));\n\n}\n</code></pre>\n<p>How can I test this Repository?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":20851443,"reputation":381,"user_id":15315878,"display_name":"Luigi Woodhouse"},"score":0,"creation_date":1681477381,"post_id":76015085,"comment_id":134066965,"body_markdown":"To the get the user&#39;s email , create a  regular POJO class with all the user details you want to get from the token. Then create a response entity for that same POJO class that would be the implementation of your friends controller. You can check this article for guidance https://www.bezkoder.com/spring-boot-security-jwt/","body":"To the get the user&#39;s email , create a  regular POJO class with all the user details you want to get from the token. Then create a response entity for that same POJO class that would be the implementation of your friends controller. You can check this article for guidance <a href=\"https://www.bezkoder.com/spring-boot-security-jwt/\" rel=\"nofollow noreferrer\">bezkoder.com/spring-boot-security-jwt</a>"}],"answers":[{"comments":[{"owner":{"account_id":24857577,"reputation":45,"user_id":18733729,"display_name":"Rubix327"},"score":0,"creation_date":1681479411,"post_id":76015467,"comment_id":134067456,"body_markdown":"This is actually what I need! But I have one concern. As far as I understand, this Authentication instance is a singleton for the whole app. Will this work fine with a large volume of users?","body":"This is actually what I need! But I have one concern. As far as I understand, this Authentication instance is a singleton for the whole app. Will this work fine with a large volume of users?"}],"tags":[],"owner":{"account_id":23831579,"reputation":26,"user_id":18566030,"display_name":"Elbek Nurmatov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681478284,"creation_date":1681477884,"answer_id":76015467,"question_id":76015085,"body_markdown":"If the user has passed authentication, you can get user info from security context holder\r\n\r\n\r\nThis is security, it set username to security context holder:\r\n    \r\n    @RequiredArgsConstructor\r\n    @Component\r\n    public class JwtFilter extends OncePerRequestFilter {\r\n        private final AccessTokenUtil accessTokenUtil;\r\n        private final UserService userService;\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            String token = request.getHeader(&quot;Authorization&quot;);\r\n            String email =null;\r\n            if (token != null &amp;&amp; token.startsWith(&quot;Bearer &quot;)) {\r\n                token = token.substring(7);\r\n                try {\r\n                    email = accessTokenUtil.getEmailFromJwt(token);\r\n                } catch (IllegalArgumentException e) {\r\n                    System.out.println(&quot;Not Valid&quot;);\r\n                } catch (ExpiredJwtException e) {\r\n                    System.out.println(&quot;Expired JWT token&quot;);\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Something wrong&quot;);\r\n                }\r\n                if (email != null &amp;&amp; accessTokenUtil.checkExpireDate(token) &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n                    UserDetails userDetails = userService.loadUserByUsername(email);\r\n                    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(email, null, userDetails.getAuthorities());\r\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                }\r\n            }\r\n            filterChain.doFilter(request,response);\r\n        }\r\n    }\r\n\r\n\r\n\r\nController:\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class UserController{\r\n\r\n      private Users getCurrentUser() {\r\n        String login = \r\n        SecurityContextHolder.getContext().getAuthentication().getName();\r\n        if (login != null &amp;&amp; !login.equals(&quot;anonymousUser&quot;)) {\r\n            Optional&lt;Users&gt; optionalUsers = userRepo.findByEmail(login);\r\n            return optionalUsers.orElse(null);\r\n        }\r\n        return null;\r\n      }\r\n\r\n    }\r\n\r\ngetCurrentUser() method return currentUser, if you want to get username you can return login, login is username","title":"How to get the user&#39;s email from the token in the controller?","body":"<p>If the user has passed authentication, you can get user info from security context holder</p>\n<p>This is security, it set username to security context holder:</p>\n<pre><code>@RequiredArgsConstructor\n@Component\npublic class JwtFilter extends OncePerRequestFilter {\n    private final AccessTokenUtil accessTokenUtil;\n    private final UserService userService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String token = request.getHeader(&quot;Authorization&quot;);\n        String email =null;\n        if (token != null &amp;&amp; token.startsWith(&quot;Bearer &quot;)) {\n            token = token.substring(7);\n            try {\n                email = accessTokenUtil.getEmailFromJwt(token);\n            } catch (IllegalArgumentException e) {\n                System.out.println(&quot;Not Valid&quot;);\n            } catch (ExpiredJwtException e) {\n                System.out.println(&quot;Expired JWT token&quot;);\n            } catch (Exception e) {\n                System.out.println(&quot;Something wrong&quot;);\n            }\n            if (email != null &amp;&amp; accessTokenUtil.checkExpireDate(token) &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n                UserDetails userDetails = userService.loadUserByUsername(email);\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(email, null, userDetails.getAuthorities());\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n        filterChain.doFilter(request,response);\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class UserController{\n\n  private Users getCurrentUser() {\n    String login = \n    SecurityContextHolder.getContext().getAuthentication().getName();\n    if (login != null &amp;&amp; !login.equals(&quot;anonymousUser&quot;)) {\n        Optional&lt;Users&gt; optionalUsers = userRepo.findByEmail(login);\n        return optionalUsers.orElse(null);\n    }\n    return null;\n  }\n\n}\n</code></pre>\n<p>getCurrentUser() method return currentUser, if you want to get username you can return login, login is username</p>\n"}],"owner":{"account_id":24857577,"reputation":45,"user_id":18733729,"display_name":"Rubix327"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76015467,"answer_count":1,"score":0,"last_activity_date":1681478284,"creation_date":1681475304,"question_id":76015085,"body_markdown":"I&#39;m new to Spring Security. I have a JWT token filter which is checking all requests&#39; authorization tokens to be valid. As far as I understand, if a token is not valid, the request would be cancelled with an error.\r\n\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtTokenFilter extends OncePerRequestFilter {\r\n    private final JwtTokenProvider tokenProvider;\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String token;\r\n        final String email;\r\n\r\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        token = authHeader.substring(7);\r\n        email = tokenProvider.getUserEmail(token);\r\n        if (email != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n\r\n            // User is not yet authenticated (not connected)\r\n            UserDetails user = this.userDetailsService.loadUserByUsername(email);\r\n            if (tokenProvider.isTokenValid(token, user)){\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        user, null, user.getAuthorities()\r\n                );\r\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    public String getEmailFromHeader(String header){\r\n        if (header == null || !header.startsWith(&quot;Bearer &quot;)){\r\n            throw new UserNotExistException();\r\n        }\r\n\r\n        String token = header.substring(7);\r\n        String email = tokenProvider.getUserEmail(token);\r\n        return email;\r\n    }\r\n}\r\n```\r\nI want the user to be able to receive some data from the controller only by his own token. Now I have a method in the controller that retrieves the token from the header:\r\n```java\r\n@GetMapping(&quot;/friends&quot;)\r\npublic ResponseEntity&lt;Set&lt;User&gt;&gt; getFriends(@RequestHeader(HttpHeaders.AUTHORIZATION) String header){\r\n    String email = tokenFilter.getEmailFromHeader(header);\r\n    User user = service.findByEmail(email);\r\n    if (user == null){\r\n        throw new UserNotExistException();\r\n    }\r\n    return ResponseEntity.ok(user.getFriends());\r\n}\r\n```\r\n\r\nIs there some way to avoid getting the token from the header in every controller? How could I get the user&#39;s email immediately after authentication in the JWTTokenFilter?","title":"How to get the user&#39;s email from the token in the controller?","body":"<p>I'm new to Spring Security. I have a JWT token filter which is checking all requests' authorization tokens to be valid. As far as I understand, if a token is not valid, the request would be cancelled with an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class JwtTokenFilter extends OncePerRequestFilter {\n    private final JwtTokenProvider tokenProvider;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String token;\n        final String email;\n\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)){\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        token = authHeader.substring(7);\n        email = tokenProvider.getUserEmail(token);\n        if (email != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n\n            // User is not yet authenticated (not connected)\n            UserDetails user = this.userDetailsService.loadUserByUsername(email);\n            if (tokenProvider.isTokenValid(token, user)){\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        user, null, user.getAuthorities()\n                );\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    public String getEmailFromHeader(String header){\n        if (header == null || !header.startsWith(&quot;Bearer &quot;)){\n            throw new UserNotExistException();\n        }\n\n        String token = header.substring(7);\n        String email = tokenProvider.getUserEmail(token);\n        return email;\n    }\n}\n</code></pre>\n<p>I want the user to be able to receive some data from the controller only by his own token. Now I have a method in the controller that retrieves the token from the header:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/friends&quot;)\npublic ResponseEntity&lt;Set&lt;User&gt;&gt; getFriends(@RequestHeader(HttpHeaders.AUTHORIZATION) String header){\n    String email = tokenFilter.getEmailFromHeader(header);\n    User user = service.findByEmail(email);\n    if (user == null){\n        throw new UserNotExistException();\n    }\n    return ResponseEntity.ok(user.getFriends());\n}\n</code></pre>\n<p>Is there some way to avoid getting the token from the header in every controller? How could I get the user's email immediately after authentication in the JWTTokenFilter?</p>\n"},{"tags":["java","spring-boot","integration-testing","mockmvc"],"answers":[{"comments":[{"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"score":0,"creation_date":1681473207,"post_id":76014695,"comment_id":134065943,"body_markdown":"No I tried that, that doesn&#39;t make any difference","body":"No I tried that, that doesn&#39;t make any difference"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1681473660,"post_id":76014695,"comment_id":134066039,"body_markdown":"Please update your question with error you getting to know what is causing issue. How you running integration test parallelly?","body":"Please update your question with error you getting to know what is causing issue. How you running integration test parallelly?"}],"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681472181,"creation_date":1681472181,"answer_id":76014695,"question_id":76014501,"body_markdown":"Using `MockMvcBuilders` you can create `mockMvc` object. You need to autowire the `WebApplicationContext`.\r\n\r\n```Java\r\n@Autowired\r\nprivate WebApplicationContext context;\r\n\r\n@BeforeEach\r\nvoid setupTests() {\r\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\r\n}\r\n```\r\nIf you want to apply security as well then use\r\n```Java\r\n@Autowired\r\nprivate WebApplicationContext context;\r\n\r\n@BeforeEach\r\nvoid setupTests() {\r\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).apply(springSecurity()).build();\r\n}\r\n```\r\n\r\nThis will generate `MockMvc` object for each test case separately.","title":"How to setup MockMvc so test don&#39;t affect each other","body":"<p>Using <code>MockMvcBuilders</code> you can create <code>mockMvc</code> object. You need to autowire the <code>WebApplicationContext</code>.</p>\n<pre><code>@Autowired\nprivate WebApplicationContext context;\n\n@BeforeEach\nvoid setupTests() {\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\n}\n</code></pre>\n<p>If you want to apply security as well then use</p>\n<pre><code>@Autowired\nprivate WebApplicationContext context;\n\n@BeforeEach\nvoid setupTests() {\n    mockMvc = MockMvcBuilders.webAppContextSetup(context).apply(springSecurity()).build();\n}\n</code></pre>\n<p>This will generate <code>MockMvc</code> object for each test case separately.</p>\n"},{"tags":[],"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681478031,"creation_date":1681478031,"answer_id":76015486,"question_id":76014501,"body_markdown":"Clearing the db manually helped. Instantianting the mock before each was not necessary, just injecting it in the constructor and clearing the db worked. Although spring docs state to instantiate the mock as Dhaval says, that doesn&#39;t not empty the mock after use. I inject it in the constructor and use the @AutoConfigureMockMvc annotation. Then clear the db before each test and it works.\r\n\r\n\r\n```\r\n    @BeforeEach\r\n    void clearDatabase(@Autowired JdbcTemplate jdbcTemplate) {\r\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;employees&quot;);\r\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;enumerationlevels&quot;);\r\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;units&quot;);\r\n    }\r\n```\r\n\r\nSetting the jdbcTemplate as a variable and injecting it in the constructor will also work\r\n","title":"How to setup MockMvc so test don&#39;t affect each other","body":"<p>Clearing the db manually helped. Instantianting the mock before each was not necessary, just injecting it in the constructor and clearing the db worked. Although spring docs state to instantiate the mock as Dhaval says, that doesn't not empty the mock after use. I inject it in the constructor and use the @AutoConfigureMockMvc annotation. Then clear the db before each test and it works.</p>\n<pre><code>    @BeforeEach\n    void clearDatabase(@Autowired JdbcTemplate jdbcTemplate) {\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;employees&quot;);\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;enumerationlevels&quot;);\n        JdbcTestUtils.deleteFromTables(jdbcTemplate, &quot;units&quot;);\n    }\n</code></pre>\n<p>Setting the jdbcTemplate as a variable and injecting it in the constructor will also work</p>\n"}],"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681478031,"creation_date":1681470639,"question_id":76014501,"body_markdown":"I&#39;m setting up an integrationtest to check wether the spring application works at the controller level, next to my unit test. I do know that what I am testing works, the unit tests works and I already did everyting with postman. Every integrationtest also works separatly and gives the result I expect it to give. The problem is when I run them all togheter, some tests don&#39;t work anymore. This is because the MockMvc should be&#39;renewed&#39; every test, but it is not. \r\n\r\nI tried getting this behaviour by setting up the mockMvc manually with a beforeEach instead of injecting it in the constructor, but the same behaviour persist. I guess I am setting up the MockMvc wrong, but I can&#39;t seem to figure out how to set it up right. I am using Spring Boot 3 and Java 20.\r\n\r\nHow should I create the mock, so that it runs again every test, and it doesn&#39;t get affected by other tests executed? I put the testclass below.\r\n\r\n``` \r\n\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class EmployeeControllorIntegrationTest {\r\n\r\n    private final static String URI = &quot;/employees/&quot;;\r\n    private ObjectMapper objectMapper;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    public EmployeeControllorIntegrationTest(MockMvc mockMvc, ObjectMapper objectMapper) {\r\n        this.mockMvc = mockMvc;\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n\r\n    @Test\r\n    void getAllEmployeesThrowsExceptionWhenEmpty() throws Exception{\r\n        String error = mockMvc.perform(get(URI+&quot;showAll&quot;))\r\n                .andExpect(status().isAccepted())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andReturn().getResolvedException().getMessage();\r\n\r\n        assertThat(error).isEqualTo(&quot;No employees present&quot;);\r\n    }\r\n    @Test\r\n    void getAllEmployeesWorksWhenEmployeesPresent() throws Exception{\r\n        this.insertUnitAndLevel();\r\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeNameSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\r\n\r\n\r\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(employeeDto)));\r\n\r\n        MockHttpServletResponse response = mockMvc.perform(get(URI+&quot;showAll&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andReturn().getResponse();\r\n\r\n        Employee[] allLevels = objectMapper.readValue(response.getContentAsString(), Employee[].class);\r\n\r\n        assertThat(allLevels).hasSize(1);\r\n        assertThat(Arrays.stream(allLevels).findFirst().get().getName()).isEqualTo(&quot;employeeName&quot;);\r\n        assertThat(Arrays.stream(allLevels).findAny().get().getName()).isEqualTo(&quot;employeeName&quot;);\r\n        assertThat(Arrays.stream(allLevels).findFirst().get().getStartDateContract()).isEqualTo(LocalDate.now());\r\n        assertThat(Arrays.stream(allLevels).findAny().get().getStartDateContract()).isEqualTo(LocalDate.now());\r\n    }\r\n\r\n\r\n    @Test\r\n    void addNewEmployeeWithInvalidNameThrowsError() throws Exception{\r\n        this.insertUnitAndLevel();\r\n        EmployeeDto employeeDto = new EmployeeDto(&quot; &quot;, &quot;employeeNameSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\r\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(employeeDto)))\r\n                .andExpect(status().isBadRequest())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andReturn().getResolvedException().getMessage();\r\n\r\n        assertThat(error).isEqualTo(&quot;Cannot be empty or blank&quot;);\r\n    }\r\n    @Test\r\n    void addNewEmployeeWithInvalidSurnameThrowsError() throws Exception{\r\n        this.insertUnitAndLevel();\r\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot; &quot;, LocalDate.of(2000,04,23),1L,1L);\r\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(employeeDto)))\r\n                .andExpect(status().isBadRequest())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andReturn().getResolvedException().getMessage();\r\n\r\n        assertThat(error).isEqualTo(&quot;Cannot be empty or blank&quot;);\r\n    }\r\n\r\n\r\n\r\n\r\n    @Test\r\n    void addingNewEmployeeWithAlreadyExistingNameSurnameAndBirthdateThrowsError() throws Exception{\r\n        this.insertUnitAndLevel();\r\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\r\n        EmployeeDto employeeDtoCopy = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\r\n\r\n\r\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(employeeDto)));\r\n\r\n\r\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(employeeDtoCopy)))\r\n                .andExpect(status().isConflict())\r\n                .andExpect(content().contentType(&quot;application/json&quot;))\r\n                .andReturn().getResolvedException().getMessage();\r\n\r\n        assertThat(error).isEqualTo(&quot;employee with that name, surname and date of birth already exists&quot;);\r\n    }\r\n\r\n\r\n\r\n    @Test\r\n    void addingValidEmployeeWorks() throws Exception{\r\n        this.insertUnitAndLevel();\r\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\r\n\r\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(objectMapper.writeValueAsString(employeeDto)))\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(&quot;text/plain;charset=UTF-8&quot;))\r\n                .andExpect(content().string(&quot;New employee added succesfully&quot;));\r\n\r\n    }\r\n\r\n\r\n    private void insertUnitAndLevel() throws Exception{\r\n        EnumerationLevel mocklevel = new EnumerationLevel(&quot;A1&quot;, &quot;Mockdescripition&quot;);\r\n\r\n        mockMvc.perform(post(&quot;/units/addUnit&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(&quot;new unit&quot;));\r\n\r\n        mockMvc.perform(post(&quot;/levels/addLevel&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(mocklevel)));\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n ```\r\n\r\n","title":"How to setup MockMvc so test don&#39;t affect each other","body":"<p>I'm setting up an integrationtest to check wether the spring application works at the controller level, next to my unit test. I do know that what I am testing works, the unit tests works and I already did everyting with postman. Every integrationtest also works separatly and gives the result I expect it to give. The problem is when I run them all togheter, some tests don't work anymore. This is because the MockMvc should be'renewed' every test, but it is not.</p>\n<p>I tried getting this behaviour by setting up the mockMvc manually with a beforeEach instead of injecting it in the constructor, but the same behaviour persist. I guess I am setting up the MockMvc wrong, but I can't seem to figure out how to set it up right. I am using Spring Boot 3 and Java 20.</p>\n<p>How should I create the mock, so that it runs again every test, and it doesn't get affected by other tests executed? I put the testclass below.</p>\n<pre><code>\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class EmployeeControllorIntegrationTest {\n\n    private final static String URI = &quot;/employees/&quot;;\n    private ObjectMapper objectMapper;\n\n    private MockMvc mockMvc;\n\n    public EmployeeControllorIntegrationTest(MockMvc mockMvc, ObjectMapper objectMapper) {\n        this.mockMvc = mockMvc;\n        this.objectMapper = objectMapper;\n    }\n\n\n    @Test\n    void getAllEmployeesThrowsExceptionWhenEmpty() throws Exception{\n        String error = mockMvc.perform(get(URI+&quot;showAll&quot;))\n                .andExpect(status().isAccepted())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andReturn().getResolvedException().getMessage();\n\n        assertThat(error).isEqualTo(&quot;No employees present&quot;);\n    }\n    @Test\n    void getAllEmployeesWorksWhenEmployeesPresent() throws Exception{\n        this.insertUnitAndLevel();\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeNameSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\n\n\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(employeeDto)));\n\n        MockHttpServletResponse response = mockMvc.perform(get(URI+&quot;showAll&quot;))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andReturn().getResponse();\n\n        Employee[] allLevels = objectMapper.readValue(response.getContentAsString(), Employee[].class);\n\n        assertThat(allLevels).hasSize(1);\n        assertThat(Arrays.stream(allLevels).findFirst().get().getName()).isEqualTo(&quot;employeeName&quot;);\n        assertThat(Arrays.stream(allLevels).findAny().get().getName()).isEqualTo(&quot;employeeName&quot;);\n        assertThat(Arrays.stream(allLevels).findFirst().get().getStartDateContract()).isEqualTo(LocalDate.now());\n        assertThat(Arrays.stream(allLevels).findAny().get().getStartDateContract()).isEqualTo(LocalDate.now());\n    }\n\n\n    @Test\n    void addNewEmployeeWithInvalidNameThrowsError() throws Exception{\n        this.insertUnitAndLevel();\n        EmployeeDto employeeDto = new EmployeeDto(&quot; &quot;, &quot;employeeNameSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(employeeDto)))\n                .andExpect(status().isBadRequest())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andReturn().getResolvedException().getMessage();\n\n        assertThat(error).isEqualTo(&quot;Cannot be empty or blank&quot;);\n    }\n    @Test\n    void addNewEmployeeWithInvalidSurnameThrowsError() throws Exception{\n        this.insertUnitAndLevel();\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot; &quot;, LocalDate.of(2000,04,23),1L,1L);\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(employeeDto)))\n                .andExpect(status().isBadRequest())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andReturn().getResolvedException().getMessage();\n\n        assertThat(error).isEqualTo(&quot;Cannot be empty or blank&quot;);\n    }\n\n\n\n\n    @Test\n    void addingNewEmployeeWithAlreadyExistingNameSurnameAndBirthdateThrowsError() throws Exception{\n        this.insertUnitAndLevel();\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\n        EmployeeDto employeeDtoCopy = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\n\n\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(employeeDto)));\n\n\n        String error = mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(employeeDtoCopy)))\n                .andExpect(status().isConflict())\n                .andExpect(content().contentType(&quot;application/json&quot;))\n                .andReturn().getResolvedException().getMessage();\n\n        assertThat(error).isEqualTo(&quot;employee with that name, surname and date of birth already exists&quot;);\n    }\n\n\n\n    @Test\n    void addingValidEmployeeWorks() throws Exception{\n        this.insertUnitAndLevel();\n        EmployeeDto employeeDto = new EmployeeDto(&quot;employeeName&quot;, &quot;employeeSurname&quot;, LocalDate.of(2000,04,23),1L,1L);\n\n        mockMvc.perform(post(URI+&quot;addEmployee&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(objectMapper.writeValueAsString(employeeDto)))\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(&quot;text/plain;charset=UTF-8&quot;))\n                .andExpect(content().string(&quot;New employee added succesfully&quot;));\n\n    }\n\n\n    private void insertUnitAndLevel() throws Exception{\n        EnumerationLevel mocklevel = new EnumerationLevel(&quot;A1&quot;, &quot;Mockdescripition&quot;);\n\n        mockMvc.perform(post(&quot;/units/addUnit&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(&quot;new unit&quot;));\n\n        mockMvc.perform(post(&quot;/levels/addLevel&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(mocklevel)));\n    }\n\n\n}\n\n\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":14450096,"reputation":45,"user_id":10437913,"display_name":"KoolKeith"},"score":0,"creation_date":1681481409,"post_id":76011095,"comment_id":134067953,"body_markdown":"Something important I should have mentioned is maintaining the a, b, c order. So if only be has expired I would need the first three elements of the schedule list to be original a, new b, original c.","body":"Something important I should have mentioned is maintaining the a, b, c order. So if only be has expired I would need the first three elements of the schedule list to be original a, new b, original c."}],"tags":[],"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1681438897,"creation_date":1681438221,"answer_id":76011095,"question_id":76010282,"body_markdown":"You should consider changing the data structure. A `Map` of `List`s is better suited for this use case.\r\n\r\n```java\r\nMap&lt;String, Schedule&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;a&quot;, List.of(new SchedA(1), new SchedA(4), new SchedA(7)));\r\nmap.put(&quot;b&quot;, List.of(new SchedB(2), new SchedB(5), new SchedB(8)));\r\nmap.put(&quot;c&quot;, List.of(new SchedC(3), new SchedC(6), new SchedC(9)));\r\n```\r\n\r\nNow, if you want to remove, all you have to do is:\r\n\r\n```java\r\nmap.get(&quot;a&quot;).remove(0);\r\n```\r\n\r\nAnd getting the next item would be:\r\n\r\n```java\r\nmap.get(&quot;a&quot;).get(0);\r\n```\r\n\r\nOn a side note, it also seems redundant to have the parameter `a` in `new SchedA(&quot;a&quot;, 1)` as you already have different `SchedA` subclasses anyways.\r\n\r\n----------\r\n\r\nIf you really want to remove and replace, then streams won&#39;t be the ideal implementation:\r\n\r\n```java\r\nint first = -1;\r\nint second = -1;\r\nfor (int i = 0; i &lt; scheduleList.size(); i++) {\r\n    Schedule schedule = scheduleList.get(0);\r\n    if (schedule.getScheduleId().equals(&quot;a&quot;)) {\r\n        if (first == -1) {\r\n            first = i;\r\n        } else if (second == -1) {\r\n            second = i;\r\n            break;    // found first two items\r\n        }\r\n    }\r\n}\r\n\r\nif (first != -1 &amp;&amp; second != -1) {\r\n    // found two items\r\n    scheduleList.set(first, scheduleList.get(second));\r\n} else (first != -1) {\r\n    // found one item only\r\n    scheduleList.remove(first);\r\n} else {\r\n    // no items found, do nothing\r\n}\r\n","title":"Java Stream how to replace first item that meets criteria with the next item that meets criteria","body":"<p>You should consider changing the data structure. A <code>Map</code> of <code>List</code>s is better suited for this use case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Schedule&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;a&quot;, List.of(new SchedA(1), new SchedA(4), new SchedA(7)));\nmap.put(&quot;b&quot;, List.of(new SchedB(2), new SchedB(5), new SchedB(8)));\nmap.put(&quot;c&quot;, List.of(new SchedC(3), new SchedC(6), new SchedC(9)));\n</code></pre>\n<p>Now, if you want to remove, all you have to do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>map.get(&quot;a&quot;).remove(0);\n</code></pre>\n<p>And getting the next item would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>map.get(&quot;a&quot;).get(0);\n</code></pre>\n<p>On a side note, it also seems redundant to have the parameter <code>a</code> in <code>new SchedA(&quot;a&quot;, 1)</code> as you already have different <code>SchedA</code> subclasses anyways.</p>\n<hr />\n<p>If you really want to remove and replace, then streams won't be the ideal implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int first = -1;\nint second = -1;\nfor (int i = 0; i &lt; scheduleList.size(); i++) {\n    Schedule schedule = scheduleList.get(0);\n    if (schedule.getScheduleId().equals(&quot;a&quot;)) {\n        if (first == -1) {\n            first = i;\n        } else if (second == -1) {\n            second = i;\n            break;    // found first two items\n        }\n    }\n}\n\nif (first != -1 &amp;&amp; second != -1) {\n    // found two items\n    scheduleList.set(first, scheduleList.get(second));\n} else (first != -1) {\n    // found one item only\n    scheduleList.remove(first);\n} else {\n    // no items found, do nothing\n}\n</code></pre>\n"}],"owner":{"account_id":14450096,"reputation":45,"user_id":10437913,"display_name":"KoolKeith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76011095,"answer_count":1,"score":1,"last_activity_date":1681477943,"creation_date":1681424724,"question_id":76010282,"body_markdown":"I have a list of schedules that I need to update when one expires with the next one of the same name so I can maintain the order.\r\nExample:\r\n\r\n    List&lt;Schedule&gt; scheduleList = new ArrayList&lt;&gt;(List.of(\r\n            new SchedA(&quot;a&quot;, 1),\r\n            new SchedB(&quot;b&quot;, 2),\r\n            new SchedC(&quot;c&quot;, 3),\r\n            new SchedA(&quot;a&quot;, 4),\r\n            new SchedB(&quot;b&quot;, 5),\r\n            new SchedC(&quot;c&quot;, 6),\r\n            new SchedA(&quot;a&quot;, 7),\r\n            new SchedB(&quot;b&quot;, 8),\r\n            new SchedC(&quot;c&quot;, 3),));\r\n\r\nI think I could do this to remove the expired item:\r\n\r\n    scheduleList.stream().filter(p -&gt; p.getScheduleId().equals(&quot;a&quot;)).findFirst().ifPresent(scheduleList::remove);\r\n\r\nIs there something like this to *replace* it with the next item that has &quot;a&quot; as the scheduleId?\r\n","title":"Java Stream how to replace first item that meets criteria with the next item that meets criteria","body":"<p>I have a list of schedules that I need to update when one expires with the next one of the same name so I can maintain the order.\nExample:</p>\n<pre><code>List&lt;Schedule&gt; scheduleList = new ArrayList&lt;&gt;(List.of(\n        new SchedA(&quot;a&quot;, 1),\n        new SchedB(&quot;b&quot;, 2),\n        new SchedC(&quot;c&quot;, 3),\n        new SchedA(&quot;a&quot;, 4),\n        new SchedB(&quot;b&quot;, 5),\n        new SchedC(&quot;c&quot;, 6),\n        new SchedA(&quot;a&quot;, 7),\n        new SchedB(&quot;b&quot;, 8),\n        new SchedC(&quot;c&quot;, 3),));\n</code></pre>\n<p>I think I could do this to remove the expired item:</p>\n<pre><code>scheduleList.stream().filter(p -&gt; p.getScheduleId().equals(&quot;a&quot;)).findFirst().ifPresent(scheduleList::remove);\n</code></pre>\n<p>Is there something like this to <em>replace</em> it with the next item that has &quot;a&quot; as the scheduleId?</p>\n"},{"tags":["java","maven","cxf"],"answers":[{"tags":[],"owner":{"account_id":3708059,"reputation":1086,"user_id":3086057,"display_name":"bgossit"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1392885597,"creation_date":1392885597,"answer_id":21902369,"question_id":21867477,"body_markdown":"The Maven XML tags for the CXF plugin are case sensitive, this should work:\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;sourceRoot&gt;${basedir}/src/main/java&lt;/sourceRoot&gt;\r\n    \t&lt;wsdlOptions&gt;\r\n    \t\t&lt;wsdlOption&gt;\r\n    \t\t\t&lt;wsdl&gt;${basedir}/src/main/resources/HostavailableService.wsdl&lt;/wsdl&gt;\r\n    \t\t\t&lt;extraargs&gt;\r\n    \t\t\t\t&lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n    \t\t\t\t&lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n    \t\t\t&lt;/extraargs&gt;\r\n    \t\t&lt;/wsdlOption&gt;\r\n    \t&lt;/wsdlOptions&gt;\r\n    &lt;/configuration&gt;","title":"Maven cxf-codegen-plugin does not generate source","body":"<p>The Maven XML tags for the CXF plugin are case sensitive, this should work:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;sourceRoot&gt;${basedir}/src/main/java&lt;/sourceRoot&gt;\n    &lt;wsdlOptions&gt;\n        &lt;wsdlOption&gt;\n            &lt;wsdl&gt;${basedir}/src/main/resources/HostavailableService.wsdl&lt;/wsdl&gt;\n            &lt;extraargs&gt;\n                &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                &lt;extraarg&gt;-client&lt;/extraarg&gt;\n            &lt;/extraargs&gt;\n        &lt;/wsdlOption&gt;\n    &lt;/wsdlOptions&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":223518,"reputation":1898,"user_id":4994931,"display_name":"gratinierer"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1494248560,"creation_date":1494238565,"answer_id":43845081,"question_id":21867477,"body_markdown":"Also have a look to your `./target/`-Folder. Once the code-generation has run  successfully, you can find here the Folder `cxf-codegen-plugin-markers`. \r\nYou have to delete this folder, to force `CXF` to run the code-generation again.","title":"Maven cxf-codegen-plugin does not generate source","body":"<p>Also have a look to your <code>./target/</code>-Folder. Once the code-generation has run  successfully, you can find here the Folder <code>cxf-codegen-plugin-markers</code>. \nYou have to delete this folder, to force <code>CXF</code> to run the code-generation again.</p>\n"},{"tags":[],"owner":{"account_id":7523503,"reputation":75,"user_id":5714602,"display_name":"Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681477129,"creation_date":1681477129,"answer_id":76015356,"question_id":21867477,"body_markdown":"The execution tag must be something like this:\r\n\r\n \r\n\r\n    &lt;execution&gt;\r\n                            &lt;id&gt;generate-sources&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sourceRoot&gt;${basedir}/src/main/java/&lt;/sourceRoot&gt;\r\n                                &lt;wsdlOptions&gt;\r\n                                    &lt;wsdlOption&gt;\r\n                                        &lt;!--&lt;wsdl&gt;${basedir}/src/main/resources/AWSECommerceService.wsdl&lt;/wsdl&gt;--&gt;\r\n                                        &lt;wsdl&gt;${basedir}/src/main/resources/AWSECommerceService.wsdl&lt;/wsdl&gt;\r\n                                    &lt;/wsdlOption&gt;\r\n                                    &lt;!--&lt;extraargs&gt;\r\n                                        &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n                                        &lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n                                    &lt;/extraargs&gt;--&gt;\r\n                                &lt;/wsdlOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n     &lt;/execution&gt;","title":"Maven cxf-codegen-plugin does not generate source","body":"<p>The execution tag must be something like this:</p>\n<pre><code>&lt;execution&gt;\n                        &lt;id&gt;generate-sources&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceRoot&gt;${basedir}/src/main/java/&lt;/sourceRoot&gt;\n                            &lt;wsdlOptions&gt;\n                                &lt;wsdlOption&gt;\n                                    &lt;!--&lt;wsdl&gt;${basedir}/src/main/resources/AWSECommerceService.wsdl&lt;/wsdl&gt;--&gt;\n                                    &lt;wsdl&gt;${basedir}/src/main/resources/AWSECommerceService.wsdl&lt;/wsdl&gt;\n                                &lt;/wsdlOption&gt;\n                                &lt;!--&lt;extraargs&gt;\n                                    &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                                    &lt;extraarg&gt;-client&lt;/extraarg&gt;\n                                &lt;/extraargs&gt;--&gt;\n                            &lt;/wsdlOptions&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                        &lt;/goals&gt;\n &lt;/execution&gt;\n</code></pre>\n"}],"owner":{"account_id":1276267,"reputation":83,"user_id":1231452,"display_name":"David Matthews"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19534,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":21902369,"answer_count":3,"score":8,"last_activity_date":1681477129,"creation_date":1392764873,"question_id":21867477,"body_markdown":"I&#39;ve researched other answers to this question but I haven&#39;t been able to fix my specific issue yet. I&#39;m trying to generate source client java files using Maven and the cxf-codegen-plugin. When I run mvn generate-sources it tells me BUILD SUCCESS but Nothing to generate.  Any help is appreciated.  Here is my pom:\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n      &lt;groupId&gt;com.tfs.common&lt;/groupId&gt;\r\n      &lt;artifactId&gt;SpringCXF1&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \r\n      &lt;name&gt;SpringCXF1 Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  \r\n      &lt;properties&gt;\r\n\t      &lt;cxf.version&gt;2.7.3&lt;/cxf.version&gt;\r\n\t      &lt;project.build.sourceencoding&gt;UTF-8&lt;/project.build.sourceencoding&gt;\r\n      &lt;/properties&gt;\r\n \r\n      &lt;dependencies&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n    \t   &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t   &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\r\n    \t   &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n    \t   &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t   &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\r\n    \t   &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;build&gt;\r\n        &lt;finalName&gt;SpringCXF1&lt;/finalName&gt;\r\n    \t  &lt;plugins&gt;\r\n    \t  \r\n    \t  &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.6&lt;/source&gt;\r\n                &lt;target&gt;1.6&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        \r\n    \t   &lt;!-- Generate Java classes from WSDL during in generate-sources phase --&gt;\r\n    \t   &lt;plugin&gt;\r\n    \t    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n    \t    &lt;executions&gt;\r\n    \t     &lt;execution&gt;\r\n    \t      &lt;id&gt;generate-sources&lt;/id&gt;\r\n    \t      &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t      &lt;configuration&gt;\r\n    \t       &lt;sourceroot&gt;${basedir}/src/main/java&lt;/sourceroot&gt;\r\n    \t       &lt;wsdloptions&gt;\r\n    \t        &lt;wsdloption&gt;\r\n    \t         &lt;wsdl&gt;${basedir}/src/main/resources/HostavailableService.wsdl&lt;/wsdl&gt;\r\n    \t         &lt;extraargs&gt;\r\n                     &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n                      &lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n                 &lt;/extraargs&gt;\r\n    \t        &lt;/wsdloption&gt;\r\n    \t       &lt;/wsdloptions&gt;\r\n    \t      &lt;/configuration&gt;\r\n    \t      &lt;goals&gt;\r\n    \t       &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n    \t      &lt;/goals&gt;\r\n    \t     &lt;/execution&gt;\r\n    \t    &lt;/executions&gt;\r\n    \t   &lt;/plugin&gt;\r\n    \t \r\n    \t   &lt;!-- Add generated source --&gt;\r\n    \t   &lt;plugin&gt;\r\n    \t    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;1.7&lt;/version&gt;\r\n    \t    &lt;executions&gt;\r\n    \t     &lt;execution&gt;\r\n    \t      &lt;id&gt;add-source&lt;/id&gt;\r\n    \t      &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t      &lt;goals&gt;\r\n    \t       &lt;goal&gt;add-source&lt;/goal&gt;\r\n    \t      &lt;/goals&gt;\r\n    \t      &lt;configuration&gt;\r\n    \t       &lt;sources&gt;\r\n    \t         &lt;source&gt;${basedir}/src/main/java&lt;/source&gt;\r\n    \t       &lt;/sources&gt;\r\n    \t      &lt;/configuration&gt;\r\n    \t     &lt;/execution&gt;\r\n    \t    &lt;/executions&gt;\r\n    \t   &lt;/plugin&gt;\r\n    \r\n    \t    &lt;plugin&gt;\r\n    \t     &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n    \t     &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n    \t     &lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t     &lt;configuration&gt;\r\n    \t      &lt;lifecyclemappingmetadata&gt;\r\n    \t       &lt;pluginexecutions&gt;\r\n    \t        &lt;pluginexecution&gt;\r\n    \t         &lt;pluginexecutionfilter&gt;\r\n    \t          &lt;groupid&gt;org.apache.cxf&lt;/groupid&gt;\r\n    \t          &lt;artifactid&gt;cxf-codegen-plugin&lt;/artifactid&gt;\r\n    \t          &lt;versionrange&gt;[2.3.3,)&lt;/versionrange&gt;\r\n    \t          &lt;goals&gt;\r\n    \t           &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n    \t          &lt;/goals&gt;\r\n    \t         &lt;/pluginexecutionfilter&gt;\r\n    \t         &lt;action&gt;\r\n    \t          &lt;execute&gt;\r\n    \t         &lt;/execute&gt;&lt;/action&gt;\r\n    \t        &lt;/pluginexecution&gt;\r\n    \t       &lt;/pluginexecutions&gt;\r\n    \t      &lt;/lifecyclemappingmetadata&gt;\r\n    \t      &lt;lifecycleMappingMetadata&gt;\r\n    \t      \t&lt;pluginExecutions&gt;\r\n    \t      \t\t&lt;pluginExecution&gt;\r\n    \t      \t\t\t&lt;pluginExecutionFilter&gt;\r\n    \t      \t\t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t      \t\t\t\t&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n    \t      \t\t\t\t&lt;versionRange&gt;[2.7.3,)&lt;/versionRange&gt;\r\n    \t      \t\t\t\t&lt;goals&gt;\r\n    \t      \t\t\t\t\t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n    \t      \t\t\t\t&lt;/goals&gt;\r\n    \t      \t\t\t&lt;/pluginExecutionFilter&gt;\r\n    \t      \t\t\t&lt;action&gt;\r\n    \t      \t\t\t\t&lt;ignore&gt;&lt;/ignore&gt;\r\n    \t      \t\t\t&lt;/action&gt;\r\n    \t      \t\t&lt;/pluginExecution&gt;\r\n    \t      \t\t&lt;pluginExecution&gt;\r\n    \t      \t\t\t&lt;pluginExecutionFilter&gt;\r\n    \t      \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t      \t\t\t\t&lt;artifactId&gt;\r\n    \t      \t\t\t\t\tbuild-helper-maven-plugin\r\n    \t      \t\t\t\t&lt;/artifactId&gt;\r\n    \t      \t\t\t\t&lt;versionRange&gt;[1.7,)&lt;/versionRange&gt;\r\n    \t      \t\t\t\t&lt;goals&gt;\r\n    \t      \t\t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n    \t      \t\t\t\t&lt;/goals&gt;\r\n    \t      \t\t\t&lt;/pluginExecutionFilter&gt;\r\n    \t      \t\t\t&lt;action&gt;\r\n    \t      \t\t\t\t&lt;ignore&gt;&lt;/ignore&gt;\r\n    \t      \t\t\t&lt;/action&gt;\r\n    \t      \t\t&lt;/pluginExecution&gt;\r\n    \t      \t&lt;/pluginExecutions&gt;\r\n    \t      &lt;/lifecycleMappingMetadata&gt;\r\n    \t     &lt;/configuration&gt;\r\n    \t    &lt;/plugin&gt;\r\n    \t   &lt;/plugins&gt;\r\n    \r\n      &lt;/build&gt;\r\n      \r\n    &lt;/project&gt;\r\n\r\nHere is the output when running mvn generate-sources:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building SpringCXF1 Maven Webapp 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- cxf-codegen-plugin:2.7.3:wsdl2java (generate-sources) @ SpringCXF1 ---\r\n    [INFO] Nothing to generate\r\n    [INFO] \r\n    [INFO] --- build-helper-maven-plugin:1.7:add-source (add-source) @ SpringCXF1 ---\r\n    [INFO] Source directory: /Users/dmattrm/Documents/DevEnvironment/TFS_Maven2/SpringCXF1/src/main/java added.\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.505s\r\n    [INFO] Finished at: Tue Feb 18 16:54:04 CST 2014\r\n    [INFO] Final Memory: 5M/81M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\n","title":"Maven cxf-codegen-plugin does not generate source","body":"<p>I've researched other answers to this question but I haven't been able to fix my specific issue yet. I'm trying to generate source client java files using Maven and the cxf-codegen-plugin. When I run mvn generate-sources it tells me BUILD SUCCESS but Nothing to generate.  Any help is appreciated.  Here is my pom:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.tfs.common&lt;/groupId&gt;\n  &lt;artifactId&gt;SpringCXF1&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;SpringCXF1 Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n      &lt;cxf.version&gt;2.7.3&lt;/cxf.version&gt;\n      &lt;project.build.sourceencoding&gt;UTF-8&lt;/project.build.sourceencoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n       &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n       &lt;version&gt;${cxf.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n       &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\n       &lt;version&gt;${cxf.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;SpringCXF1&lt;/finalName&gt;\n      &lt;plugins&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.6&lt;/source&gt;\n            &lt;target&gt;1.6&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n       &lt;!-- Generate Java classes from WSDL during in generate-sources phase --&gt;\n       &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;executions&gt;\n         &lt;execution&gt;\n          &lt;id&gt;generate-sources&lt;/id&gt;\n          &lt;phase&gt;generate-sources&lt;/phase&gt;\n          &lt;configuration&gt;\n           &lt;sourceroot&gt;${basedir}/src/main/java&lt;/sourceroot&gt;\n           &lt;wsdloptions&gt;\n            &lt;wsdloption&gt;\n             &lt;wsdl&gt;${basedir}/src/main/resources/HostavailableService.wsdl&lt;/wsdl&gt;\n             &lt;extraargs&gt;\n                 &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                  &lt;extraarg&gt;-client&lt;/extraarg&gt;\n             &lt;/extraargs&gt;\n            &lt;/wsdloption&gt;\n           &lt;/wsdloptions&gt;\n          &lt;/configuration&gt;\n          &lt;goals&gt;\n           &lt;goal&gt;wsdl2java&lt;/goal&gt;\n          &lt;/goals&gt;\n         &lt;/execution&gt;\n        &lt;/executions&gt;\n       &lt;/plugin&gt;\n\n       &lt;!-- Add generated source --&gt;\n       &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n        &lt;executions&gt;\n         &lt;execution&gt;\n          &lt;id&gt;add-source&lt;/id&gt;\n          &lt;phase&gt;generate-sources&lt;/phase&gt;\n          &lt;goals&gt;\n           &lt;goal&gt;add-source&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n           &lt;sources&gt;\n             &lt;source&gt;${basedir}/src/main/java&lt;/source&gt;\n           &lt;/sources&gt;\n          &lt;/configuration&gt;\n         &lt;/execution&gt;\n        &lt;/executions&gt;\n       &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n         &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n         &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n         &lt;version&gt;1.0.0&lt;/version&gt;\n         &lt;configuration&gt;\n          &lt;lifecyclemappingmetadata&gt;\n           &lt;pluginexecutions&gt;\n            &lt;pluginexecution&gt;\n             &lt;pluginexecutionfilter&gt;\n              &lt;groupid&gt;org.apache.cxf&lt;/groupid&gt;\n              &lt;artifactid&gt;cxf-codegen-plugin&lt;/artifactid&gt;\n              &lt;versionrange&gt;[2.3.3,)&lt;/versionrange&gt;\n              &lt;goals&gt;\n               &lt;goal&gt;wsdl2java&lt;/goal&gt;\n              &lt;/goals&gt;\n             &lt;/pluginexecutionfilter&gt;\n             &lt;action&gt;\n              &lt;execute&gt;\n             &lt;/execute&gt;&lt;/action&gt;\n            &lt;/pluginexecution&gt;\n           &lt;/pluginexecutions&gt;\n          &lt;/lifecyclemappingmetadata&gt;\n          &lt;lifecycleMappingMetadata&gt;\n            &lt;pluginExecutions&gt;\n                &lt;pluginExecution&gt;\n                    &lt;pluginExecutionFilter&gt;\n                        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n                        &lt;versionRange&gt;[2.7.3,)&lt;/versionRange&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/pluginExecutionFilter&gt;\n                    &lt;action&gt;\n                        &lt;ignore&gt;&lt;/ignore&gt;\n                    &lt;/action&gt;\n                &lt;/pluginExecution&gt;\n                &lt;pluginExecution&gt;\n                    &lt;pluginExecutionFilter&gt;\n                        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                        &lt;artifactId&gt;\n                            build-helper-maven-plugin\n                        &lt;/artifactId&gt;\n                        &lt;versionRange&gt;[1.7,)&lt;/versionRange&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-source&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/pluginExecutionFilter&gt;\n                    &lt;action&gt;\n                        &lt;ignore&gt;&lt;/ignore&gt;\n                    &lt;/action&gt;\n                &lt;/pluginExecution&gt;\n            &lt;/pluginExecutions&gt;\n          &lt;/lifecycleMappingMetadata&gt;\n         &lt;/configuration&gt;\n        &lt;/plugin&gt;\n       &lt;/plugins&gt;\n\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Here is the output when running mvn generate-sources:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building SpringCXF1 Maven Webapp 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- cxf-codegen-plugin:2.7.3:wsdl2java (generate-sources) @ SpringCXF1 ---\n[INFO] Nothing to generate\n[INFO] \n[INFO] --- build-helper-maven-plugin:1.7:add-source (add-source) @ SpringCXF1 ---\n[INFO] Source directory: /Users/dmattrm/Documents/DevEnvironment/TFS_Maven2/SpringCXF1/src/main/java added.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.505s\n[INFO] Finished at: Tue Feb 18 16:54:04 CST 2014\n[INFO] Final Memory: 5M/81M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681476894,"creation_date":1681476894,"answer_id":76015327,"question_id":76015003,"body_markdown":"This worked for me \r\n\r\n    @DirtiesContext(classMode = AFTER_EACH_TEST_METHOD)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {\r\n            &quot;spring.config.location=classpath:/application-test.yml&quot;\r\n    })\r\n    @EmbeddedKafka(brokerProperties = {&quot;listeners=PLAINTEXT://localhost:19092&quot;})\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    class PostIntegrationTest {\r\n    ...\r\n    }","title":"@SpringBootTest fails to load application yaml from @ActiveProfiles","body":"<p>This worked for me</p>\n<pre><code>@DirtiesContext(classMode = AFTER_EACH_TEST_METHOD)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {\n        &quot;spring.config.location=classpath:/application-test.yml&quot;\n})\n@EmbeddedKafka(brokerProperties = {&quot;listeners=PLAINTEXT://localhost:19092&quot;})\n@ActiveProfiles(&quot;test&quot;)\nclass PostIntegrationTest {\n...\n}\n</code></pre>\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681476894,"creation_date":1681474623,"question_id":76015003,"body_markdown":"This test fails for not finding vault token while I&#39;ve disabled vault in `application-test.yml`\r\n\r\n    @DirtiesContext(classMode = AFTER_EACH_TEST_METHOD)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\n    @EmbeddedKafka(brokerProperties = {&quot;listeners=PLAINTEXT://localhost:19092&quot;})\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    class PostIntegrationTest {\r\n    ...\r\n    }\r\n\r\nI have a file named `application-test.yml` in `src/test/resources`\r\n\r\nrunning test gives this error:\r\n\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    ...\r\n    Caused by: java.lang.IllegalStateException: Cannot create authentication mechanism for TOKEN. This method requires either a Token (spring.cloud.vault.token) or a token file at ~/.vault-token.\r\n    \tat org.springframework.cloud.vault.config.ClientAuthenticationFactory.tokenAuthentication(ClientAuthenticationFactory.java:425)\r\n    \tat org.springframework.cloud.vault.config.ClientAuthenticationFactory.createClientAuthentication(ClientAuthenticationFactory.java:148)\r\n    \tat org.springframework.cloud.vault.config.VaultAutoConfiguration.clientAuthentication(VaultAutoConfiguration.java:232)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 157 more","title":"@SpringBootTest fails to load application yaml from @ActiveProfiles","body":"<p>This test fails for not finding vault token while I've disabled vault in <code>application-test.yml</code></p>\n<pre><code>@DirtiesContext(classMode = AFTER_EACH_TEST_METHOD)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\n@EmbeddedKafka(brokerProperties = {&quot;listeners=PLAINTEXT://localhost:19092&quot;})\n@ActiveProfiles(&quot;test&quot;)\nclass PostIntegrationTest {\n...\n}\n</code></pre>\n<p>I have a file named <code>application-test.yml</code> in <code>src/test/resources</code></p>\n<p>running test gives this error:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n...\nCaused by: java.lang.IllegalStateException: Cannot create authentication mechanism for TOKEN. This method requires either a Token (spring.cloud.vault.token) or a token file at ~/.vault-token.\n    at org.springframework.cloud.vault.config.ClientAuthenticationFactory.tokenAuthentication(ClientAuthenticationFactory.java:425)\n    at org.springframework.cloud.vault.config.ClientAuthenticationFactory.createClientAuthentication(ClientAuthenticationFactory.java:148)\n    at org.springframework.cloud.vault.config.VaultAutoConfiguration.clientAuthentication(VaultAutoConfiguration.java:232)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 157 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","document"],"answers":[{"tags":[],"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681476768,"creation_date":1681476768,"answer_id":76015310,"question_id":76015202,"body_markdown":"Include the LAD or RAD agent jar file as a dependency in your Spring Boot project. You can download the agent jar file from the relevant website, or use a dependency management tool such as Maven or Gradle to manage the dependency.\r\n\r\nConfigure your application to use the LAD or RAD agent. You can do this by adding the following JVM arguments to your application startup command:\r\n\r\nFor LAD: -javaagent:/path/to/lad-agent.jar\r\n\r\nFor RAD: -javaagent:/path/to/rad-agent.jar\r\n\r\nIf you are using LAD, you will also need to add the following dependencies to your project&#39;s build file:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOnce you have configured your application to use the LAD or RAD agent, you can start using it to dynamically manipulate your application&#39;s bytecode. For example, you could use it to inject logging or tracing code into your application&#39;s methods.\r\n\r\nIt&#39;s worth noting that dynamic bytecode manipulation can have performance implications, so it&#39;s important to test your application thoroughly after enabling LAD or RAD to ensure that it is still performing well.\r\n\r\n\r\n","title":"How to use LAD RAD with SpringBoot","body":"<p>Include the LAD or RAD agent jar file as a dependency in your Spring Boot project. You can download the agent jar file from the relevant website, or use a dependency management tool such as Maven or Gradle to manage the dependency.</p>\n<p>Configure your application to use the LAD or RAD agent. You can do this by adding the following JVM arguments to your application startup command:</p>\n<p>For LAD: -javaagent:/path/to/lad-agent.jar</p>\n<p>For RAD: -javaagent:/path/to/rad-agent.jar</p>\n<p>If you are using LAD, you will also need to add the following dependencies to your project's build file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-instrument&lt;/artifactId&gt;\n    &lt;version&gt;${spring.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n    &lt;version&gt;${aspectj.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Once you have configured your application to use the LAD or RAD agent, you can start using it to dynamically manipulate your application's bytecode. For example, you could use it to inject logging or tracing code into your application's methods.</p>\n<p>It's worth noting that dynamic bytecode manipulation can have performance implications, so it's important to test your application thoroughly after enabling LAD or RAD to ensure that it is still performing well.</p>\n"}],"owner":{"account_id":25315000,"reputation":27,"user_id":19137251,"display_name":"hamza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681476768,"creation_date":1681475956,"question_id":76015202,"body_markdown":"I have done multiple research one how to implement LAD RAD on a springBoot application , but i have found nothing helpful yet that can help me understand how to use it .\r\n\r\nDoes someone have a any tutoriel or documentation that can help.","title":"How to use LAD RAD with SpringBoot","body":"<p>I have done multiple research one how to implement LAD RAD on a springBoot application , but i have found nothing helpful yet that can help me understand how to use it .</p>\n<p>Does someone have a any tutoriel or documentation that can help.</p>\n"},{"tags":["java","conways-game-of-life"],"comments":[{"owner":{"account_id":2762254,"reputation":9033,"user_id":2378910,"display_name":"Kenney"},"score":5,"creation_date":1446928991,"post_id":33587451,"comment_id":54951176,"body_markdown":"[classmate of yours?](http://stackoverflow.com/questions/33585278/conways-game-of-life-bug)","body":"<a href=\"http://stackoverflow.com/questions/33585278/conways-game-of-life-bug\">classmate of yours?</a>"}],"answers":[{"tags":[],"owner":{"account_id":4572112,"reputation":1,"user_id":3711558,"display_name":"Kristian Hajdari"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681476521,"creation_date":1446932659,"answer_id":33588140,"question_id":33587451,"body_markdown":"***HINTS***\r\nRecently I completed this example. So the right structure is:\r\n\r\n 1. Required 2 dimension arrays (&quot;current&quot; &amp; &quot;next&quot;)\r\n 2. Initialize &quot;current&quot; with random values\r\n 3. print &quot;current&quot;\r\n 4. Copy &amp; Calculate each cell of the next generation in array &quot;next&quot;\r\n 5. After calculation, update the &quot;current&quot; array. Use function to update each cell\r\n 6. Set &quot;current&quot; with &quot;next&quot; generation values\r\n 7. Print &quot;current&quot; and go to step 4\r\n\r\n\r\n","title":"Conway&#39;s Game of Life Rules Java","body":"<p><em><strong>HINTS</strong></em>\nRecently I completed this example. So the right structure is:</p>\n<ol>\n<li>Required 2 dimension arrays (&quot;current&quot; &amp; &quot;next&quot;)</li>\n<li>Initialize &quot;current&quot; with random values</li>\n<li>print &quot;current&quot;</li>\n<li>Copy &amp; Calculate each cell of the next generation in array &quot;next&quot;</li>\n<li>After calculation, update the &quot;current&quot; array. Use function to update each cell</li>\n<li>Set &quot;current&quot; with &quot;next&quot; generation values</li>\n<li>Print &quot;current&quot; and go to step 4</li>\n</ol>\n"}],"owner":{"account_id":6947467,"reputation":53,"user_id":5331348,"accept_rate":80,"display_name":"Mossah Aljalal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1681476521,"creation_date":1446928362,"question_id":33587451,"body_markdown":"I am making the Conway&#39;s Game of Life like almost every other beginner. The main problem I have is I have no clue how to implement the rules for the game, which are :a dead cell with exactly three live neighbors becomes alive, a live cell with exactly one live neighbor becomes dead, and a live cell with more than three live neighbors becomes dead. I&#39;ve never manipulated a matrix before so I do not have any idea where to start. The class I&#39;m in does not allow us to use non-static methods yet, and also we cannot use the java libraries. This is currently what I have:\r\n\r\n    public class Life {\r\n\tpublic static boolean[][] origin(int a) {\r\n\t\tboolean[][] randomMatrix = new boolean [a][a];\r\n\t\tfor (int i = 0; i &lt; a; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a; j++) {\r\n\t\t\trandomMatrix[i][j] = StdRandom.bernoulli();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn randomMatrix;\r\n\t\t}\r\n\tpublic static void print(boolean[][] a) {\r\n        int N = a.length;\r\n        StdOut.println(N);\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                if (a[i][j]) StdOut.print(&quot;1 &quot;);\r\n                else         StdOut.print(&quot;0 &quot;);\r\n            }\r\n            StdOut.println();\r\n        }\r\n    } \r\n\tpublic static void show(boolean[][] a, boolean which) {\r\n        int N = a.length;\r\n        StdDraw.setXscale(0, N-1);\r\n        StdDraw.setYscale(0, N-1);\r\n        double r = .5;\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                if (a[i][j] == which) {\r\n                    StdDraw.filledSquare(j, N-i-1, r);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tint a = 5;\r\n\t\tboolean[][] b = origin(a);\r\n\t\tint gens = 3;\r\n\t\tfor (int i = 0; i &lt; gens; i++) {\r\n\t\t\tSystem.out.println(&quot;Generation &quot; + i + &quot;:&quot;);\r\n\t\t\tprint(b);\r\n\t\t\tshow(b, true);\r\n\t\t    }\r\n\t    }\r\n    }\r\nThe output I&#39;m receiving right now is what I need for the initial generation of the game. I think I need a new array to store the new generations, and maybe some if and else statements to check if the cells are alive or dead. Any help is appreciated. ","title":"Conway&#39;s Game of Life Rules Java","body":"<p>I am making the Conway's Game of Life like almost every other beginner. The main problem I have is I have no clue how to implement the rules for the game, which are :a dead cell with exactly three live neighbors becomes alive, a live cell with exactly one live neighbor becomes dead, and a live cell with more than three live neighbors becomes dead. I've never manipulated a matrix before so I do not have any idea where to start. The class I'm in does not allow us to use non-static methods yet, and also we cannot use the java libraries. This is currently what I have:</p>\n\n<pre><code>public class Life {\npublic static boolean[][] origin(int a) {\n    boolean[][] randomMatrix = new boolean [a][a];\n    for (int i = 0; i &lt; a; i++) {\n        for (int j = 0; j &lt; a; j++) {\n        randomMatrix[i][j] = StdRandom.bernoulli();\n        }\n    }\n    return randomMatrix;\n    }\npublic static void print(boolean[][] a) {\n    int N = a.length;\n    StdOut.println(N);\n    for (int i = 0; i &lt; N; i++) {\n        for (int j = 0; j &lt; N; j++) {\n            if (a[i][j]) StdOut.print(\"1 \");\n            else         StdOut.print(\"0 \");\n        }\n        StdOut.println();\n    }\n} \npublic static void show(boolean[][] a, boolean which) {\n    int N = a.length;\n    StdDraw.setXscale(0, N-1);\n    StdDraw.setYscale(0, N-1);\n    double r = .5;\n    for (int i = 0; i &lt; N; i++) {\n        for (int j = 0; j &lt; N; j++) {\n            if (a[i][j] == which) {\n                StdDraw.filledSquare(j, N-i-1, r);\n            }\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    int a = 5;\n    boolean[][] b = origin(a);\n    int gens = 3;\n    for (int i = 0; i &lt; gens; i++) {\n        System.out.println(\"Generation \" + i + \":\");\n        print(b);\n        show(b, true);\n        }\n    }\n}\n</code></pre>\n\n<p>The output I'm receiving right now is what I need for the initial generation of the game. I think I need a new array to store the new generations, and maybe some if and else statements to check if the cells are alive or dead. Any help is appreciated. </p>\n"},{"tags":["java","regex","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":15769010,"reputation":59,"user_id":11378568,"display_name":"JAK"},"score":0,"creation_date":1681494204,"post_id":76015258,"comment_id":134071149,"body_markdown":"Thanks for the reply,The alternative povided worked..Is there a way to use ${exchangeProperty.replaced} in .to() ,something like .to(&quot;log:${exchangeProperty.replaced}&quot;)","body":"Thanks for the reply,The alternative povided worked..Is there a way to use ${exchangeProperty.replaced} in .to() ,something like .to(&quot;log:${exchangeProperty.replaced}&quot;)"},{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1681725973,"post_id":76015258,"comment_id":134097511,"body_markdown":"Yes you can use [toD](https://camel.apache.org/components/latest/eips/toD-eip.html) for that. For example: `.toD(&quot;log:${exchangeProperty.replaced}&quot;)`","body":"Yes you can use <a href=\"https://camel.apache.org/components/latest/eips/toD-eip.html\" rel=\"nofollow noreferrer\">toD</a> for that. For example: <code>.toD(&quot;log:${exchangeProperty.replaced}&quot;)</code>"},{"owner":{"account_id":15769010,"reputation":59,"user_id":11378568,"display_name":"JAK"},"score":0,"creation_date":1681967223,"post_id":76015258,"comment_id":134142503,"body_markdown":"Hi @Pasi &#214;sterman ,How do i restrict .log(&quot;${exchangeProperty.replaced}&quot;) to display only 10000 chars?","body":"Hi @Pasi &#214;sterman ,How do i restrict .log(&quot;${exchangeProperty.replaced}&quot;) to display only 10000 chars?"},{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1681989921,"post_id":76015258,"comment_id":134146984,"body_markdown":"Its type is string so you can do typical string manipulation for it.","body":"Its type is string so you can do typical string manipulation for it."}],"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681476386,"creation_date":1681476386,"answer_id":76015258,"question_id":76013223,"body_markdown":"According to the [documentation](https://camel.apache.org/components/latest/languages/simple-language.html#_operator_support) you have to escape `}` with `\\}`. Since we are using string we need to escape the `\\` character as well resulting in `\\\\}`\r\n\r\n**Example:**\r\n```java\r\n.log(&quot;message body: ${body.replaceAll(&#39;&lt;Name1&gt;(.{1,5\\\\})(.*)&lt;/Name1&gt;&#39;, &#39;&lt;Name1&gt;*****$2&lt;/Name1&gt;&#39;)}&quot;)`\r\n```\r\n\r\nAlternative would be to use exchange property and `body().regexReplaceAll`\r\n\r\n**Example:**\r\n```java\r\nfrom(&quot;direct:regexReplaceExample&quot;)\r\n    .routeId(&quot;regexReplaceExample&quot;)\r\n    .setBody(constant(&quot;&lt;Name1&gt;John Doe&lt;/Name1&gt;&quot;))\r\n    .setProperty(&quot;replaced&quot;, body()\r\n        .regexReplaceAll(&quot;&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;&quot;, &quot;&lt;Name1&gt;*****$2&lt;/Name1&gt;&quot;))\r\n    // prints &lt;Name1&gt;*****Doe&lt;/Name1&gt;\r\n    .log(&quot;${exchangeProperty.replaced}&quot;)\r\n;\r\n```","title":"Replace Body with regex in Camel logs","body":"<p>According to the <a href=\"https://camel.apache.org/components/latest/languages/simple-language.html#_operator_support\" rel=\"nofollow noreferrer\">documentation</a> you have to escape <code>}</code> with <code>\\}</code>. Since we are using string we need to escape the <code>\\</code> character as well resulting in <code>\\\\}</code></p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>.log(&quot;message body: ${body.replaceAll('&lt;Name1&gt;(.{1,5\\\\})(.*)&lt;/Name1&gt;', '&lt;Name1&gt;*****$2&lt;/Name1&gt;')}&quot;)`\n</code></pre>\n<p>Alternative would be to use exchange property and <code>body().regexReplaceAll</code></p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:regexReplaceExample&quot;)\n    .routeId(&quot;regexReplaceExample&quot;)\n    .setBody(constant(&quot;&lt;Name1&gt;John Doe&lt;/Name1&gt;&quot;))\n    .setProperty(&quot;replaced&quot;, body()\n        .regexReplaceAll(&quot;&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;&quot;, &quot;&lt;Name1&gt;*****$2&lt;/Name1&gt;&quot;))\n    // prints &lt;Name1&gt;*****Doe&lt;/Name1&gt;\n    .log(&quot;${exchangeProperty.replaced}&quot;)\n;\n</code></pre>\n"}],"owner":{"account_id":15769010,"reputation":59,"user_id":11378568,"display_name":"JAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681476386,"creation_date":1681462312,"question_id":76013223,"body_markdown":"I want to Replace certain Strings with * in Camel logs,For that i am using the following code with regex which works fine:\r\n\r\n    .log(&quot;message body: ${body.replaceAll(&#39;&lt;Name1&gt;(?:.+?)&lt;/Name1&gt;&#39;, &#39;&lt;Name1&gt;*****&lt;/Name1&gt;&#39;)}&quot;)\r\n\r\nBut when i want to replace only first 5 chars i am using following code:\r\n\r\n    .log(&quot;message body: ${body.replaceAll(&#39;&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;&#39;, &#39;&lt;Name1&gt;*****$2&lt;/Name1&gt;&#39;)}&quot;)\r\n\r\nBut is is giving me following error with Null pointer Exception:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dxG3x.png\r\n\r\nAny help will be appreciated, Thanks in advance..\r\n","title":"Replace Body with regex in Camel logs","body":"<p>I want to Replace certain Strings with * in Camel logs,For that i am using the following code with regex which works fine:</p>\n<pre><code>.log(&quot;message body: ${body.replaceAll('&lt;Name1&gt;(?:.+?)&lt;/Name1&gt;', '&lt;Name1&gt;*****&lt;/Name1&gt;')}&quot;)\n</code></pre>\n<p>But when i want to replace only first 5 chars i am using following code:</p>\n<pre><code>.log(&quot;message body: ${body.replaceAll('&lt;Name1&gt;(.{1,5})(.*)&lt;/Name1&gt;', '&lt;Name1&gt;*****$2&lt;/Name1&gt;')}&quot;)\n</code></pre>\n<p>But is is giving me following error with Null pointer Exception:</p>\n<p><a href=\"https://i.stack.imgur.com/dxG3x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dxG3x.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help will be appreciated, Thanks in advance..</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":4209265,"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"score":0,"creation_date":1681476199,"post_id":76010216,"comment_id":134066694,"body_markdown":"Thank you!  As a java newbie, I just didn&#39;t see it!  I appreciate you taking the time to answer my question.","body":"Thank you!  As a java newbie, I just didn&#39;t see it!  I appreciate you taking the time to answer my question."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681423651,"creation_date":1681423651,"answer_id":76010216,"question_id":76010064,"body_markdown":"You need to type the `Function` correctly. Avoid using raw types; in your case, it is inferred as `Function&lt;Object, Object&gt;`, which makes `rs` an `Object`.\r\n\r\n```java\r\nstatic Function&lt;ResultSet, LinkedHashMap&lt;String, PoiPin&gt;&gt; poiTransformer() {\r\n   // ...\r\n}\r\n```","title":"Why is my lambda&#39;s parameter not recognized as a ResultSet?","body":"<p>You need to type the <code>Function</code> correctly. Avoid using raw types; in your case, it is inferred as <code>Function&lt;Object, Object&gt;</code>, which makes <code>rs</code> an <code>Object</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Function&lt;ResultSet, LinkedHashMap&lt;String, PoiPin&gt;&gt; poiTransformer() {\n   // ...\n}\n</code></pre>\n"}],"owner":{"account_id":4209265,"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76010216,"answer_count":1,"score":-1,"last_activity_date":1681476362,"creation_date":1681422319,"question_id":76010064,"body_markdown":"I&#39;m trying to build a static library of transformer functions.  `poiTransformer` takes a ResultSet and returns a Poi instance.  However, IntelliJ is telling me there are errors.  \r\n\r\nI&#39;m attaching a screenshot of the three different ways I&#39;ve tried writing this.  #1 and #3 each throw &quot;*Cannot resolve method &#39;getMetaData&#39; in &#39;Object&#39;*&quot;.  #2 throws &quot;*Incompatible parameter types in lambda expression: expected Object but found ResultSet*&quot;\r\n\r\nI don&#39;t understand why the IDE does not recognize `rs` as a ResultSet.  Please help.\r\n\r\n** [Begin Edit] ** \r\n\r\n&gt; The solution Unmitigated led me to was to change the Function\r\n&gt; signature to: `static Function&lt;ResultSet, LinkedHashMap&lt;String,\r\n&gt; PoiPin&gt;&gt; poiTransformer()`\r\n\r\n** [End Edit] ** \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![Three ways][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wmmdr.png","title":"Why is my lambda&#39;s parameter not recognized as a ResultSet?","body":"<p>I'm trying to build a static library of transformer functions.  <code>poiTransformer</code> takes a ResultSet and returns a Poi instance.  However, IntelliJ is telling me there are errors.</p>\n<p>I'm attaching a screenshot of the three different ways I've tried writing this.  #1 and #3 each throw &quot;<em>Cannot resolve method 'getMetaData' in 'Object'</em>&quot;.  #2 throws &quot;<em>Incompatible parameter types in lambda expression: expected Object but found ResultSet</em>&quot;</p>\n<p>I don't understand why the IDE does not recognize <code>rs</code> as a ResultSet.  Please help.</p>\n<p>** [Begin Edit] **</p>\n<blockquote>\n<p>The solution Unmitigated led me to was to change the Function\nsignature to: <code>static Function&lt;ResultSet, LinkedHashMap&lt;String, PoiPin&gt;&gt; poiTransformer()</code></p>\n</blockquote>\n<p>** [End Edit] **</p>\n<p><a href=\"https://i.stack.imgur.com/Wmmdr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wmmdr.png\" alt=\"Three ways\" /></a></p>\n"},{"tags":["java","xml","solr","apache-camel","classcastexception"],"owner":{"account_id":2741132,"reputation":31,"user_id":2362669,"display_name":"Schweutsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681476188,"creation_date":1681476188,"question_id":76015239,"body_markdown":"I am using java with Apache Camel (version 3.18.3) to perform operations in solr but I keep having the problem that I can&#39;t use direct routes but have to print the documents to be ingested, delete-queries etc. to files as a step inbetween. \r\n\r\nBody/file content is an xml with the documents to ingest generated by `.to(&quot;xslt-saxon:file{{xsltFile}}&quot;)` in a previous route \r\n\r\n(dummy)\r\n\r\n    &lt;add&gt;\r\n      &lt;doc&gt;\r\n        &lt;field name=&quot;id&quot;&gt;1&lt;/field&gt;\r\n        &lt;field name=&quot;name&quot;&gt;test2&lt;/field&gt;\r\n      &lt;/doc&gt;\r\n      &lt;doc&gt;\r\n        &lt;field name=&quot;id&quot;&gt;2&lt;/field&gt;\r\n        &lt;field name=&quot;name&quot;&gt;test2&lt;/field&gt;\r\n      &lt;/doc&gt;\r\n    &lt;/add&gt;\r\n\r\nWorks: \r\n\r\n    from(&quot;file:{{outputDir}}?antInclude=*xml&amp;delete=true&quot;)\r\n            .log(&quot;solr: ${file:name}&quot; )\r\n            .setHeader(SolrConstants.FIELD + &quot;id&quot;, exchangeProperty(&quot;objectUUID&quot;))\r\n            .setHeader(SolrConstants.OPERATION, simple(SolrConstants.OPERATION_INSERT))\r\n            .setHeader(SolrConstants.CONTENT_TYPE, simple(&quot;text/xml&quot;))\r\n            .to(&quot;solr:{{solr}}&quot;)\r\n            .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))\r\n            ;\r\n\r\nDoesn&#39;t work: \r\n\r\n    from(&quot;direct:solrIngest&quot;)\r\n       .log(&quot;solr: ${file:name}&quot;)\r\n       .setHeader(SolrConstants.FIELD + &quot;id&quot;, exchangeProperty(&quot;objectUUID&quot;))\r\n       .setHeader(SolrConstants.OPERATION, simple(SolrConstants.OPERATION_INSERT))\r\n       .setHeader(SolrConstants.CONTENT_TYPE, simple(&quot;text/xml&quot;))\r\n       .to(&quot;solr:{{solr}}&quot;)\r\n       .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))\r\n    ;\r\n\r\n---&gt; Exception: `java.lang.ClassCastException: class java.lang.String cannot be cast to class java.io.File (java.lang.String and java.io.File are in module java.base of loader &#39;bootstrap&#39;)`\r\n\r\n\r\nFor me it&#39;s just extremely conta-intuitive to have to write everything to tmp-files. And also it contradicts the documentation (https://camel.apache.org/components/3.20.x/solr-component.html) where they clearly use direct routes:\r\n\r\n    from(&quot;direct:insert&quot;)\r\n        .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_INSERT))\r\n        .setHeader(SolrConstants.FIELD + &quot;id&quot;, body())\r\n        .to(&quot;solr://localhost:8983/solr&quot;);\r\n\r\nI have tried to convert the body to a file with no success. \r\n\r\nIs there any way to make the Solr-Component accept string-content in body instead of having to print the input to a file?","title":"Apache Camel Solr-component expecting file?","body":"<p>I am using java with Apache Camel (version 3.18.3) to perform operations in solr but I keep having the problem that I can't use direct routes but have to print the documents to be ingested, delete-queries etc. to files as a step inbetween.</p>\n<p>Body/file content is an xml with the documents to ingest generated by <code>.to(&quot;xslt-saxon:file{{xsltFile}}&quot;)</code> in a previous route</p>\n<p>(dummy)</p>\n<pre><code>&lt;add&gt;\n  &lt;doc&gt;\n    &lt;field name=&quot;id&quot;&gt;1&lt;/field&gt;\n    &lt;field name=&quot;name&quot;&gt;test2&lt;/field&gt;\n  &lt;/doc&gt;\n  &lt;doc&gt;\n    &lt;field name=&quot;id&quot;&gt;2&lt;/field&gt;\n    &lt;field name=&quot;name&quot;&gt;test2&lt;/field&gt;\n  &lt;/doc&gt;\n&lt;/add&gt;\n</code></pre>\n<p>Works:</p>\n<pre><code>from(&quot;file:{{outputDir}}?antInclude=*xml&amp;delete=true&quot;)\n        .log(&quot;solr: ${file:name}&quot; )\n        .setHeader(SolrConstants.FIELD + &quot;id&quot;, exchangeProperty(&quot;objectUUID&quot;))\n        .setHeader(SolrConstants.OPERATION, simple(SolrConstants.OPERATION_INSERT))\n        .setHeader(SolrConstants.CONTENT_TYPE, simple(&quot;text/xml&quot;))\n        .to(&quot;solr:{{solr}}&quot;)\n        .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))\n        ;\n</code></pre>\n<p>Doesn't work:</p>\n<pre><code>from(&quot;direct:solrIngest&quot;)\n   .log(&quot;solr: ${file:name}&quot;)\n   .setHeader(SolrConstants.FIELD + &quot;id&quot;, exchangeProperty(&quot;objectUUID&quot;))\n   .setHeader(SolrConstants.OPERATION, simple(SolrConstants.OPERATION_INSERT))\n   .setHeader(SolrConstants.CONTENT_TYPE, simple(&quot;text/xml&quot;))\n   .to(&quot;solr:{{solr}}&quot;)\n   .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_COMMIT))\n;\n</code></pre>\n<p>---&gt; Exception: <code>java.lang.ClassCastException: class java.lang.String cannot be cast to class java.io.File (java.lang.String and java.io.File are in module java.base of loader 'bootstrap')</code></p>\n<p>For me it's just extremely conta-intuitive to have to write everything to tmp-files. And also it contradicts the documentation (<a href=\"https://camel.apache.org/components/3.20.x/solr-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/solr-component.html</a>) where they clearly use direct routes:</p>\n<pre><code>from(&quot;direct:insert&quot;)\n    .setHeader(SolrConstants.OPERATION, constant(SolrConstants.OPERATION_INSERT))\n    .setHeader(SolrConstants.FIELD + &quot;id&quot;, body())\n    .to(&quot;solr://localhost:8983/solr&quot;);\n</code></pre>\n<p>I have tried to convert the body to a file with no success.</p>\n<p>Is there any way to make the Solr-Component accept string-content in body instead of having to print the input to a file?</p>\n"},{"tags":["java","spring","spring-boot","lombok","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681476097,"creation_date":1681476097,"answer_id":76015224,"question_id":75879300,"body_markdown":"This is my Pom.xml\r\n\r\nit is working fine with:\r\n\r\nJAVA: 17 &lt;br&gt;\r\nLOMBOK: 1.18.24 &lt;br&gt;\r\nMAPSTRUCT: 1.5.3.Final\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.paulmarcelinbejan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;training&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;artifactId&gt;stack-overflow&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t    &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t    &lt;dependency&gt;\r\n    \t        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n    \t        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t    &lt;plugins&gt;\r\n    \t        &lt;plugin&gt;\r\n    \t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t            &lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t            &lt;configuration&gt;\r\n    \t                &lt;source&gt;17&lt;/source&gt;\r\n    \t                &lt;target&gt;17&lt;/target&gt;\r\n    \t                &lt;annotationProcessorPaths&gt;\r\n    \t                    &lt;path&gt;\r\n    \t                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n    \t                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n    \t                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    \t                    &lt;/path&gt;\r\n    \t                    &lt;path&gt;\r\n    \t\t\t                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t\t            &lt;/path&gt;\r\n    \t\t\t            &lt;dependency&gt;\r\n    \t\t\t                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n    \t\t\t                &lt;version&gt;0.2.0&lt;/version&gt;\r\n    \t\t\t            &lt;/dependency&gt;\r\n    \t                    &lt;!-- other annotation processors --&gt;\r\n    \t                &lt;/annotationProcessorPaths&gt;\r\n    \t            &lt;/configuration&gt;\r\n    \t        &lt;/plugin&gt;\r\n    \t    &lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;","title":"No property named &quot;product.name&quot; exists in source parameter(s). Did you mean &quot;null&quot;? - Problem using lombok and mapstruct","body":"<p>This is my Pom.xml</p>\n<p>it is working fine with:</p>\n<p>JAVA: 17 <br>\nLOMBOK: 1.18.24 <br>\nMAPSTRUCT: 1.5.3.Final</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;com.paulmarcelinbejan&lt;/groupId&gt;\n        &lt;artifactId&gt;training&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;stack-overflow&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;!-- other annotation processors --&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":27344052,"reputation":1,"user_id":20854250,"display_name":"Massimo Deiana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681476097,"creation_date":1680103969,"question_id":75879300,"body_markdown":"I&#39;m building a web api using spring boot 3 and java 17.\r\nI&#39;m using lombok and mapstruct, but I have this error : \r\n\r\n```\r\n19:48\r\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:19:48\r\njava: No property named &quot;product.name&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\r\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:20:55\r\njava: No property named &quot;product.description&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\r\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:21:53\r\njava: No property named &quot;product.id&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\r\n\r\n```\r\n\r\n\r\n\r\nHere&#39;s my mapper : \r\n\r\n\r\n```java\r\npackage com.eshop.mapper;\r\n\r\nimport com.eshop.domain.entity.Product;\r\nimport com.eshop.domain.entity.ProductVariant;\r\nimport com.eshop.dto.request.body.ProductCreationBody;\r\nimport com.eshop.dto.request.response.ProductGetDetailsResponse;\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.Mapping;\r\nimport org.mapstruct.Mappings;\r\n\r\nimport java.util.List;\r\n\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface ProductMapper {\r\n\r\n    ProductGetDetailsResponse map(Product product);\r\n\r\n    @Mappings({\r\n            @Mapping(target = &quot;name&quot;, source = &quot;product.name&quot;),\r\n            @Mapping(target = &quot;description&quot;, source = &quot;product.description&quot;),\r\n            @Mapping(target = &quot;productId&quot;, source = &quot;product.id&quot;),\r\n    })\r\n    ProductGetDetailsResponse map(ProductVariant productVariant);\r\n\r\n    Product map(ProductCreationBody productCreationRequestBody);\r\n\r\n    List&lt;ProductGetDetailsResponse&gt; map(List&lt;ProductVariant&gt; products);\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nHere&#39;s the objects I try to map \r\n\r\n\r\n```java\r\npackage com.eshop.dto.request.response;\r\n\r\nimport lombok.*;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class ProductGetDetailsResponse {\r\n\r\n    private Long id;\r\n\r\n    private Long productId;\r\n\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    private String imageUrl;\r\n\r\n    private String color;\r\n\r\n    private String size;\r\n\r\n    private String price;\r\n\r\n    private String discount;\r\n\r\n    private String displayOrder;\r\n}\r\n```\r\n\r\n\r\n```java\r\npackage com.eshop.domain.entity;\r\n\r\nimport com.eshop.domain.enums.ProductGender;\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\nimport java.io.Serializable;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Table(name = &quot;product_variant&quot;, uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = {&quot;product_id&quot;, &quot;productColor&quot;, &quot;productSize&quot;})\r\n})\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ProductVariant implements Serializable {\r\n\r\n    private static final Long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private ProductGender productGender;\r\n\r\n    private String productColor;\r\n\r\n    private String productSize;\r\n\r\n    private Integer unitsInStock;\r\n\r\n    private String imageUrl;\r\n\r\n    private Double price;\r\n\r\n    private Integer discount;\r\n\r\n    private LocalDate discountStartDate;\r\n\r\n    private LocalDate discountEndDate;\r\n\r\n    private Integer displayOrder;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```java\r\npackage com.eshop.domain.entity;\r\n\r\nimport com.eshop.domain.enums.ProductStatus;\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\nimport java.util.Set;\r\n\r\n@Table(name = &quot;products&quot;, uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = &quot;name&quot;)\r\n})\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@ToString\r\npublic class Product implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true)\r\n    private String name;\r\n\r\n    private String description;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private ProductStatus status;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;store_id&quot;)\r\n    private Store store;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;created_at&quot;)\r\n    private Date createdAt;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private Date updatedAt;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;ProductVariant&gt; productVariants;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;subCategory_id&quot;)\r\n    private SubCategory subCategory;\r\n}\r\n\r\n```\r\n\r\nAnd this is my Pom.xml\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.eshop&lt;/groupId&gt;\r\n    &lt;artifactId&gt;eshop&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;eshop&lt;/name&gt;\r\n    &lt;description&gt;eshop&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;version.lombok&gt;1.18.26&lt;/version.lombok&gt;\r\n        &lt;version.mapstruct&gt;1.3.1.Final&lt;/version.mapstruct&gt;\r\n        &lt;version.mapstruct-lombok&gt;0.2.0&lt;/version.mapstruct-lombok&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;6.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.lombok}&lt;/version&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.mapstruct}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n            &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${version.lombok}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${version.mapstruct}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nI tried to put dependency and plugin in pom.xml in every possible way (lombok first, mapstruct first, lombok-mapstruct-processor), I tried to downgrade to older version of lombok and mapstruct but it doesn&#39;t work.\r\n\r\nI had the error then suddenly it works, then I add a field to my Dto and it break down again, but I can&#39;t find out what made it work previously.\r\n\r\nThe problem happen when I run the application. Clean install works fine and I got the generated class from lombok and mapstruct right so I don&#39;t really understand what&#39;s going on here.","title":"No property named &quot;product.name&quot; exists in source parameter(s). Did you mean &quot;null&quot;? - Problem using lombok and mapstruct","body":"<p>I'm building a web api using spring boot 3 and java 17.\nI'm using lombok and mapstruct, but I have this error :</p>\n<pre><code>19:48\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:19:48\njava: No property named &quot;product.name&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:20:55\njava: No property named &quot;product.description&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\nC:\\Users\\xxxxx\\Documents\\workspace\\eshop\\src\\main\\java\\com\\eshop\\mapper\\ProductMapper.java:21:53\njava: No property named &quot;product.id&quot; exists in source parameter(s). Did you mean &quot;null&quot;?\n\n</code></pre>\n<p>Here's my mapper :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.eshop.mapper;\n\nimport com.eshop.domain.entity.Product;\nimport com.eshop.domain.entity.ProductVariant;\nimport com.eshop.dto.request.body.ProductCreationBody;\nimport com.eshop.dto.request.response.ProductGetDetailsResponse;\nimport org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.Mappings;\n\nimport java.util.List;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface ProductMapper {\n\n    ProductGetDetailsResponse map(Product product);\n\n    @Mappings({\n            @Mapping(target = &quot;name&quot;, source = &quot;product.name&quot;),\n            @Mapping(target = &quot;description&quot;, source = &quot;product.description&quot;),\n            @Mapping(target = &quot;productId&quot;, source = &quot;product.id&quot;),\n    })\n    ProductGetDetailsResponse map(ProductVariant productVariant);\n\n    Product map(ProductCreationBody productCreationRequestBody);\n\n    List&lt;ProductGetDetailsResponse&gt; map(List&lt;ProductVariant&gt; products);\n\n\n\n}\n\n</code></pre>\n<p>Here's the objects I try to map</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.eshop.dto.request.response;\n\nimport lombok.*;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class ProductGetDetailsResponse {\n\n    private Long id;\n\n    private Long productId;\n\n    private String name;\n\n    private String description;\n\n    private String imageUrl;\n\n    private String color;\n\n    private String size;\n\n    private String price;\n\n    private String discount;\n\n    private String displayOrder;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.eshop.domain.entity;\n\nimport com.eshop.domain.enums.ProductGender;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.io.Serializable;\nimport java.time.LocalDate;\n\n@Entity\n@Table(name = &quot;product_variant&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = {&quot;product_id&quot;, &quot;productColor&quot;, &quot;productSize&quot;})\n})\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ProductVariant implements Serializable {\n\n    private static final Long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    private ProductGender productGender;\n\n    private String productColor;\n\n    private String productSize;\n\n    private Integer unitsInStock;\n\n    private String imageUrl;\n\n    private Double price;\n\n    private Integer discount;\n\n    private LocalDate discountStartDate;\n\n    private LocalDate discountEndDate;\n\n    private Integer displayOrder;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.eshop.domain.entity;\n\nimport com.eshop.domain.enums.ProductStatus;\nimport jakarta.persistence.*;\nimport lombok.*;\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\n\nimport java.io.Serializable;\nimport java.util.Date;\nimport java.util.Set;\n\n@Table(name = &quot;products&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = &quot;name&quot;)\n})\n@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\npublic class Product implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true)\n    private String name;\n\n    private String description;\n\n    @Enumerated(EnumType.STRING)\n    private ProductStatus status;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;store_id&quot;)\n    private Store store;\n\n    @CreationTimestamp\n    @Column(name = &quot;created_at&quot;)\n    private Date createdAt;\n\n    @UpdateTimestamp\n    @Column(name = &quot;updated_at&quot;)\n    private Date updatedAt;\n\n    @OneToMany(mappedBy = &quot;product&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;ProductVariant&gt; productVariants;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;subCategory_id&quot;)\n    private SubCategory subCategory;\n}\n\n</code></pre>\n<p>And this is my Pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.eshop&lt;/groupId&gt;\n    &lt;artifactId&gt;eshop&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;eshop&lt;/name&gt;\n    &lt;description&gt;eshop&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;version.lombok&gt;1.18.26&lt;/version.lombok&gt;\n        &lt;version.mapstruct&gt;1.3.1.Final&lt;/version.mapstruct&gt;\n        &lt;version.mapstruct-lombok&gt;0.2.0&lt;/version.mapstruct-lombok&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n            &lt;version&gt;6.1.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${version.lombok}&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${version.mapstruct}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n            &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${version.lombok}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${version.mapstruct}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried to put dependency and plugin in pom.xml in every possible way (lombok first, mapstruct first, lombok-mapstruct-processor), I tried to downgrade to older version of lombok and mapstruct but it doesn't work.</p>\n<p>I had the error then suddenly it works, then I add a field to my Dto and it break down again, but I can't find out what made it work previously.</p>\n<p>The problem happen when I run the application. Clean install works fine and I got the generated class from lombok and mapstruct right so I don't really understand what's going on here.</p>\n"},{"tags":["java","oop","design-patterns","class-design","ooad"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1681410886,"post_id":76008717,"comment_id":134056027,"body_markdown":"Those `Error` classes could honestly be runtime exceptions, which would allow you to use `try/catch` logic for them. If you find yourself designing something like `onEvent1`, `onEvent2`, ... it may be better to actually have an `interface EventHandler&lt;T extends Event&gt;` with a `onEvent(T event);` that can be overridden.","body":"Those <code>Error</code> classes could honestly be runtime exceptions, which would allow you to use <code>try&#47;catch</code> logic for them. If you find yourself designing something like <code>onEvent1</code>, <code>onEvent2</code>, ... it may be better to actually have an <code>interface EventHandler&lt;T extends Event&gt;</code> with a <code>onEvent(T event);</code> that can be overridden."}],"answers":[{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1681439406,"post_id":76009219,"comment_id":134060107,"body_markdown":"The Command Pattern does not allow any arguments to its `execute()` method. If you pass it an `Eventinterface` then it&#39;s not a Command insofar as the GoF Patterns are concerned.","body":"The Command Pattern does not allow any arguments to its <code>execute()</code> method. If you pass it an <code>Eventinterface</code> then it&#39;s not a Command insofar as the GoF Patterns are concerned."},{"owner":{"account_id":28252599,"reputation":61,"user_id":21598590,"display_name":"Eduard For&#233;s"},"score":0,"creation_date":1681458125,"post_id":76009219,"comment_id":134062481,"body_markdown":"Well, thats true. It was my mistake. I fix the code to send parameters to the command.","body":"Well, thats true. It was my mistake. I fix the code to send parameters to the command."}],"tags":[],"owner":{"account_id":28252599,"reputation":61,"user_id":21598590,"display_name":"Eduard For&#233;s"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681459078,"creation_date":1681414554,"answer_id":76009219,"question_id":76008717,"body_markdown":"In my opinion one good solution is the command pattern. You can check the next URL: https://refactoring.guru/design-patterns/command/java/example.\r\n\r\nThe code should be something like:\r\n\r\nYou have to create one abstract class to define the command functions.\r\n\r\n**Command.java**\r\n\r\n    public abstract class Command {\r\n\t   public Command(){}\r\n\r\n       public Error execute(){\r\n\t\t  return null;\r\n\t   }\r\n\r\n       public Error getError(){\r\n    \t   if(true) {\r\n               return new NoProcessorFoundError();\r\n           } else {\r\n               return new UnknownError();\r\n           }\r\n       }\r\n    }\r\n\r\nThen, you must to create the 2 processes to split the functionalities.\r\n\r\n**Process1.java**\r\n\r\n    public class Process1 extends Command {\r\n        private Eventinterface event;\r\n\r\n        public Process1(Eventinterface event){\r\n           this.event = event;\r\n        }\r\n    \r\n        @Override\r\n        public Error execute(){\r\n            Event1processors.process(this.event);\r\n            Error result = getError();\r\n            if(result instanceof NoProcesssorFoundError) {\r\n                event1.setStatus(RETRYABLE);\r\n                ...\r\n            } else(result instanceof UnknownError) {\r\n                event1.setStatus(FAILED);\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\n**Process2.java**\r\n\r\n    public class Process2 extends Command {\r\n        private Eventinterface event;\r\n\r\n        public Process2(Eventinterface event){\r\n           this.event = event;\r\n        }\r\n    \r\n        @Override\r\n        public Error execute(){\r\n            Event2processors.process(this.event);\r\n            Error result = getError();\r\n            if(result instanceof NoProcesssorFoundError) {\r\n                event2.setStatus(REJECTED);\r\n                ...\r\n            } else(result instanceof UnknownError) {\r\n                event2.setStatus(FAILED);\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\nThen, to use this patter you have 2 options. The first option is use the Processes  classes directly.\r\n\r\n**Main1.java**\r\n\r\n    public static void main(String[] args) {\r\n    \tEvent1 event1 = new Event1();\r\n    \tCommand process1 = new Process1(event1);\r\n        process1.execute();\r\n    \t\t\r\n    \tEvent2 event2 = new Event2();\r\n    \tCommand process2 = new Process2(event2);\r\n        process2.execute();\r\n    }\r\n\r\nOr you can create one CommandExecutor and get the command process using one enumerator. For this case, I think it is not the best option because if you have a lot of processes you have to define too much events before to instantiate the CommandExecutor.\r\n\r\n**CommandExecutor.java**\r\n\r\n    public class CommandExecutor {\r\n    \tHashMap&lt;CommandEnum, Command&gt; commandStack = new HashMap();\r\n    \t\r\n    \tpublic CommandExecutor(EventInterface... events) {\r\n    \t\tcommandStack.put(CommandEnum.PROCESS1, new Process1(events[0]));\r\n    \t\tcommandStack.put(CommandEnum.PROCESS2, new Process2(events[1]));\r\n    \t}\r\n    \t\r\n    \tpublic Command getCommand(CommandEnum commandEndum) {\r\n    \t\treturn commandStack.get(commandEndum);\r\n    \t}\r\n    }\r\n\r\nFinally you can use this executor like this main file.\r\n\r\n**Main2.java**\r\n\r\n    public static void main(String[] args) {\r\n    \tEvent1 event1 = new Event1();\r\n    \tEvent2 event2 = new Event2();\r\n    \tCommandExecutor commandExecutor = new CommandExecutor(event1, event2);\r\n    \t\t\r\n    \tCommand command = commandExecutor.getCommand(CommandEnum.PROCESS1);\r\n    \r\n    \tcommand.execute();\r\n    }\r\n\r\nTo refactor the if-else of the Error you can implement one **Visitor pattern**. You have different choices to change this if-else in this link: https://www.baeldung.com/java-instanceof-alternatives.","title":"How can we improve the OO design between two interfaces","body":"<p>In my opinion one good solution is the command pattern. You can check the next URL: <a href=\"https://refactoring.guru/design-patterns/command/java/example\" rel=\"nofollow noreferrer\">https://refactoring.guru/design-patterns/command/java/example</a>.</p>\n<p>The code should be something like:</p>\n<p>You have to create one abstract class to define the command functions.</p>\n<p><strong>Command.java</strong></p>\n<pre><code>public abstract class Command {\n   public Command(){}\n\n   public Error execute(){\n      return null;\n   }\n\n   public Error getError(){\n       if(true) {\n           return new NoProcessorFoundError();\n       } else {\n           return new UnknownError();\n       }\n   }\n}\n</code></pre>\n<p>Then, you must to create the 2 processes to split the functionalities.</p>\n<p><strong>Process1.java</strong></p>\n<pre><code>public class Process1 extends Command {\n    private Eventinterface event;\n\n    public Process1(Eventinterface event){\n       this.event = event;\n    }\n\n    @Override\n    public Error execute(){\n        Event1processors.process(this.event);\n        Error result = getError();\n        if(result instanceof NoProcesssorFoundError) {\n            event1.setStatus(RETRYABLE);\n            ...\n        } else(result instanceof UnknownError) {\n            event1.setStatus(FAILED);\n            ...\n        }\n    }\n}\n</code></pre>\n<p><strong>Process2.java</strong></p>\n<pre><code>public class Process2 extends Command {\n    private Eventinterface event;\n\n    public Process2(Eventinterface event){\n       this.event = event;\n    }\n\n    @Override\n    public Error execute(){\n        Event2processors.process(this.event);\n        Error result = getError();\n        if(result instanceof NoProcesssorFoundError) {\n            event2.setStatus(REJECTED);\n            ...\n        } else(result instanceof UnknownError) {\n            event2.setStatus(FAILED);\n            ...\n        }\n    }\n}\n</code></pre>\n<p>Then, to use this patter you have 2 options. The first option is use the Processes  classes directly.</p>\n<p><strong>Main1.java</strong></p>\n<pre><code>public static void main(String[] args) {\n    Event1 event1 = new Event1();\n    Command process1 = new Process1(event1);\n    process1.execute();\n        \n    Event2 event2 = new Event2();\n    Command process2 = new Process2(event2);\n    process2.execute();\n}\n</code></pre>\n<p>Or you can create one CommandExecutor and get the command process using one enumerator. For this case, I think it is not the best option because if you have a lot of processes you have to define too much events before to instantiate the CommandExecutor.</p>\n<p><strong>CommandExecutor.java</strong></p>\n<pre><code>public class CommandExecutor {\n    HashMap&lt;CommandEnum, Command&gt; commandStack = new HashMap();\n    \n    public CommandExecutor(EventInterface... events) {\n        commandStack.put(CommandEnum.PROCESS1, new Process1(events[0]));\n        commandStack.put(CommandEnum.PROCESS2, new Process2(events[1]));\n    }\n    \n    public Command getCommand(CommandEnum commandEndum) {\n        return commandStack.get(commandEndum);\n    }\n}\n</code></pre>\n<p>Finally you can use this executor like this main file.</p>\n<p><strong>Main2.java</strong></p>\n<pre><code>public static void main(String[] args) {\n    Event1 event1 = new Event1();\n    Event2 event2 = new Event2();\n    CommandExecutor commandExecutor = new CommandExecutor(event1, event2);\n        \n    Command command = commandExecutor.getCommand(CommandEnum.PROCESS1);\n\n    command.execute();\n}\n</code></pre>\n<p>To refactor the if-else of the Error you can implement one <strong>Visitor pattern</strong>. You have different choices to change this if-else in this link: <a href=\"https://www.baeldung.com/java-instanceof-alternatives\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-instanceof-alternatives</a>.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681476036,"creation_date":1681476036,"answer_id":76015216,"question_id":76008717,"body_markdown":"you can use a bit of polymorphism and try something like this: \r\n\r\n    abstract class Error {\r\n\t\tpublic abstract Status status();\r\n\r\n        class NoProcessorFoundError extends Error {\r\n\t\t    public static NoProcessorFoundError retrayable() {\r\n\t\t\t\treturn new NoProcessorFoundError(RETRYABLE);\r\n\t\t\t}\r\n\t\t    public static NoProcessorFoundError redjected() {\r\n\t\t\t\treturn new NoProcessorFoundError(REDJECTED);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tprivate final Status status;\r\n\t\t\t\r\n\t\t\tprivate NoProcessorFoundError(Status status) {\r\n\t\t\t    this.status = status;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t    @Override\r\n\t\t\tpublic Status status() {\r\n\t\t\t    return status;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n        class UnknownError extends Error {\r\n\t\t    @Override\r\n\t\t\tpublic Status status() {\r\n\t\t\t    return FAILED;\r\n\t\t\t}\r\n\t\t}\r\n        ...\r\n    }\r\n\r\nAnd this can be used like so:\r\n\r\n    public void onEvent1(Event1 event1) {\r\n        val result = process1(event1);\r\n        event1.setStatus(event1.status());\r\n    }\r\n\r\n    public void onEvent2(Event2 event2) {\r\n        val result = process2(event2);\r\n        event2.setStatus(event2.status());\r\n    }\r\n\r\n    private Error process1(Event1 event1) {\r\n        Event1processors.process(event1)\r\n        ....\r\n        if(true) {\r\n            return NoProcessorFoundError.retrayable();\r\n        } else {\r\n            return new UnknownError();\r\n        }\r\n    }\r\n\r\n    private Error process2(Event2 event2) {\r\n        Event2processors.process(event2)\r\n        ....\r\n        if(true) {\r\n            return NoProcessorFoundError.redjected();\r\n        } else {\r\n            return new UnknownError();\r\n       }\r\n    }\r\n\r\nAs a result `onEvent1` and `onEvent2` are very similar, they can even be extracted together in a common `onEvent`method.","title":"How can we improve the OO design between two interfaces","body":"<p>you can use a bit of polymorphism and try something like this:</p>\n<pre><code>abstract class Error {\n    public abstract Status status();\n\n    class NoProcessorFoundError extends Error {\n        public static NoProcessorFoundError retrayable() {\n            return new NoProcessorFoundError(RETRYABLE);\n        }\n        public static NoProcessorFoundError redjected() {\n            return new NoProcessorFoundError(REDJECTED);\n        }\n    \n        private final Status status;\n        \n        private NoProcessorFoundError(Status status) {\n            this.status = status;\n        }\n        \n        @Override\n        public Status status() {\n            return status;\n        }\n    }\n    \n    class UnknownError extends Error {\n        @Override\n        public Status status() {\n            return FAILED;\n        }\n    }\n    ...\n}\n</code></pre>\n<p>And this can be used like so:</p>\n<pre><code>public void onEvent1(Event1 event1) {\n    val result = process1(event1);\n    event1.setStatus(event1.status());\n}\n\npublic void onEvent2(Event2 event2) {\n    val result = process2(event2);\n    event2.setStatus(event2.status());\n}\n\nprivate Error process1(Event1 event1) {\n    Event1processors.process(event1)\n    ....\n    if(true) {\n        return NoProcessorFoundError.retrayable();\n    } else {\n        return new UnknownError();\n    }\n}\n\nprivate Error process2(Event2 event2) {\n    Event2processors.process(event2)\n    ....\n    if(true) {\n        return NoProcessorFoundError.redjected();\n    } else {\n        return new UnknownError();\n   }\n}\n</code></pre>\n<p>As a result <code>onEvent1</code> and <code>onEvent2</code> are very similar, they can even be extracted together in a common <code>onEvent</code>method.</p>\n"}],"owner":{"account_id":3915226,"reputation":3,"user_id":3239193,"display_name":"user3239193"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76009219,"answer_count":2,"score":0,"last_activity_date":1681476036,"creation_date":1681410539,"question_id":76008717,"body_markdown":"In the below sample code, how can we get rid of if-else ladder of concrete classes viz. `NoProcesssorFoundError` &amp; `UnknownError`. I could extract an interface between `Event1` and `Event2` and pass their processors to process functions as the `process1` and `process2` is almost same except inputs and its procs. However, how to get rid of the if-else ladder of error concrete classe\r\n\r\n```\r\npublic class EventProcessor {\r\n\r\n    public void onEvent1(Event1 event1) {\r\n        val result = process1(event1);\r\n        if(result instanceof NoProcesssorFoundError) {\r\n            event1.setStatus(RETRYABLE);\r\n            ...\r\n        } else(result instanceof UnknownError) {\r\n            event1.setStatus(FAILED);\r\n            ...\r\n        }\r\n    }\r\n\r\n    public void onEvent2(Event2 event2) {\r\n        val result = process2(event2);\r\n        if(result instanceof NoProcesssorFoundError) {\r\n            event2.setStatus(REJECTED);\r\n            ...\r\n        } else(result instanceof UnknownError) {\r\n            event2.setStatus(FAILED);\r\n            ...\r\n        }\r\n    }\r\n\r\n    private Error process1(Event1 event1) {\r\n        Event1processors.process(event1)\r\n        ....\r\n        if(true) {\r\n            return new NoProcessorFoundError();\r\n        } else {\r\n            return new UnknownError();\r\n        }\r\n    }\r\n\r\n    private Error process2(Event2 event2) {\r\n        Event2processors.process(event2)\r\n        ....\r\n        if(true) {\r\n            return new NoProcessorFoundError();\r\n        } else {\r\n            return new UnknownError();\r\n        }\r\n    }\r\n\r\n    abstract class Error {\r\n        class NoProcessorFoundError extends Error {}\r\n        class UnknownError extends Error {}\r\n        ...\r\n    }\r\n}\r\n```","title":"How can we improve the OO design between two interfaces","body":"<p>In the below sample code, how can we get rid of if-else ladder of concrete classes viz. <code>NoProcesssorFoundError</code> &amp; <code>UnknownError</code>. I could extract an interface between <code>Event1</code> and <code>Event2</code> and pass their processors to process functions as the <code>process1</code> and <code>process2</code> is almost same except inputs and its procs. However, how to get rid of the if-else ladder of error concrete classe</p>\n<pre><code>public class EventProcessor {\n\n    public void onEvent1(Event1 event1) {\n        val result = process1(event1);\n        if(result instanceof NoProcesssorFoundError) {\n            event1.setStatus(RETRYABLE);\n            ...\n        } else(result instanceof UnknownError) {\n            event1.setStatus(FAILED);\n            ...\n        }\n    }\n\n    public void onEvent2(Event2 event2) {\n        val result = process2(event2);\n        if(result instanceof NoProcesssorFoundError) {\n            event2.setStatus(REJECTED);\n            ...\n        } else(result instanceof UnknownError) {\n            event2.setStatus(FAILED);\n            ...\n        }\n    }\n\n    private Error process1(Event1 event1) {\n        Event1processors.process(event1)\n        ....\n        if(true) {\n            return new NoProcessorFoundError();\n        } else {\n            return new UnknownError();\n        }\n    }\n\n    private Error process2(Event2 event2) {\n        Event2processors.process(event2)\n        ....\n        if(true) {\n            return new NoProcessorFoundError();\n        } else {\n            return new UnknownError();\n        }\n    }\n\n    abstract class Error {\n        class NoProcessorFoundError extends Error {}\n        class UnknownError extends Error {}\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","quarkus-rest-client","completion-stage"],"answers":[{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681475532,"creation_date":1681475532,"answer_id":76015123,"question_id":76013642,"body_markdown":"I think I have figured it out.\r\n\r\nIf you define some different CompletionStage yourself, you need to provide the executor service, like in [this blog](https://nurkiewicz.com/2015/11/which-thread-executes.html); each stage needs one, so you may end up with multiple. \r\n\r\nBut the work of calling the endpoint when return type is `CompletionStage` will use Quarkus rest client pool, which can be configured by some properties as mentioned [here](https://github.com/quarkusio/quarkus/issues/19251). For example, I can configure `quarkus.rest-client.&quot;my-api&quot;.connection-pool-size`. This key is found in `io.quarkus.restclient.config.RestClientConfig`, among many others. \r\n\r\nOf course if I define both endpoint to return `CompletionStage`, they will run in this above pool. \r\n\r\nI think I will still block on one thread in this pool instead of splitting the work into 2 threads.\r\n\r\n","title":"Quarkus rest client(w/o CompletionStage): calling 2 endpoints in order, how to define return type to have better performance","body":"<p>I think I have figured it out.</p>\n<p>If you define some different CompletionStage yourself, you need to provide the executor service, like in <a href=\"https://nurkiewicz.com/2015/11/which-thread-executes.html\" rel=\"nofollow noreferrer\">this blog</a>; each stage needs one, so you may end up with multiple.</p>\n<p>But the work of calling the endpoint when return type is <code>CompletionStage</code> will use Quarkus rest client pool, which can be configured by some properties as mentioned <a href=\"https://github.com/quarkusio/quarkus/issues/19251\" rel=\"nofollow noreferrer\">here</a>. For example, I can configure <code>quarkus.rest-client.&quot;my-api&quot;.connection-pool-size</code>. This key is found in <code>io.quarkus.restclient.config.RestClientConfig</code>, among many others.</p>\n<p>Of course if I define both endpoint to return <code>CompletionStage</code>, they will run in this above pool.</p>\n<p>I think I will still block on one thread in this pool instead of splitting the work into 2 threads.</p>\n"}],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681475532,"creation_date":1681464975,"question_id":76013642,"body_markdown":"In Quarkus, rest client can be defined to return my DTO, or CompletionStage&lt;DTO&gt;. \r\n\r\nI have 2 endpoints to call, first I want to retrieve some `JobDTO` from endpoint 1, then update it and save it back using 2nd endpoint. \r\n\r\nI observed that:\r\n\r\n - If I define both endpoints returning `CompletionStage&lt;JobDTO&gt;`, main thread will initialize `executor-thread-0` to call endpoint 1, and then `executor-thread-0` hands over the work to `executor-thread-1` to call endpoint 2\r\n - If I define 1st to return `CompletionStage&lt;JobDTO&gt;`, then 2nd endpoint to return `JobDTO`, only `executor-thread-0` is used, 2nd endpoint call happens on it too.\r\n\r\nI know that in this case, by default, `ForkJoinPool.commonPool` is used. \r\n\r\nSo, which is better? It&#39;s blocking I/O operation so I guess it&#39;s better to only block 1 thread if API call is slow; however I am not sure how the work stealing pool works, when I/O blocking happens.\r\n\r\nFor example if I define both to return `CompletionStage`, and 1st endpoint returns fast, `executor-thread-0` will quickly hand over work \r\n to `executor-thread-1`. Then, will `executor-thread-0` fetch more work and hands it over to `executor-thread-2` to cause more threads blocking? Or it still hands to `executor-thread-1` and queuing there?\r\n\r\nDo I have to calculate the latency of these 2 endpoints and do some calculation, and then use some custom ExecutorService?\r\n","title":"Quarkus rest client(w/o CompletionStage): calling 2 endpoints in order, how to define return type to have better performance","body":"<p>In Quarkus, rest client can be defined to return my DTO, or CompletionStage.</p>\n<p>I have 2 endpoints to call, first I want to retrieve some <code>JobDTO</code> from endpoint 1, then update it and save it back using 2nd endpoint.</p>\n<p>I observed that:</p>\n<ul>\n<li>If I define both endpoints returning <code>CompletionStage&lt;JobDTO&gt;</code>, main thread will initialize <code>executor-thread-0</code> to call endpoint 1, and then <code>executor-thread-0</code> hands over the work to <code>executor-thread-1</code> to call endpoint 2</li>\n<li>If I define 1st to return <code>CompletionStage&lt;JobDTO&gt;</code>, then 2nd endpoint to return <code>JobDTO</code>, only <code>executor-thread-0</code> is used, 2nd endpoint call happens on it too.</li>\n</ul>\n<p>I know that in this case, by default, <code>ForkJoinPool.commonPool</code> is used.</p>\n<p>So, which is better? It's blocking I/O operation so I guess it's better to only block 1 thread if API call is slow; however I am not sure how the work stealing pool works, when I/O blocking happens.</p>\n<p>For example if I define both to return <code>CompletionStage</code>, and 1st endpoint returns fast, <code>executor-thread-0</code> will quickly hand over work\nto <code>executor-thread-1</code>. Then, will <code>executor-thread-0</code> fetch more work and hands it over to <code>executor-thread-2</code> to cause more threads blocking? Or it still hands to <code>executor-thread-1</code> and queuing there?</p>\n<p>Do I have to calculate the latency of these 2 endpoints and do some calculation, and then use some custom ExecutorService?</p>\n"},{"tags":["java","spring","mapstruct","json-view"],"comments":[{"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"score":0,"creation_date":1543772024,"post_id":53581961,"comment_id":94028977,"body_markdown":"I couldn&#39;t reproduce the problem. Can you please post [MCVE](https://stackoverflow.com/help/mcve)?","body":"I couldn&#39;t reproduce the problem. Can you please post <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>?"},{"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"score":3,"creation_date":1543772451,"post_id":53581961,"comment_id":94029104,"body_markdown":"Using MapStruct and `@JsonView` defeats the purpose of using MapStruct (in my opinion). Why not create an object per view? For example `UserSummaryDto` and map from your `User` into the `UserSummaryDto` this way you don&#39;t need to use `@JsonView` and JacksonWould deserialize everything properly.","body":"Using MapStruct and <code>@JsonView</code> defeats the purpose of using MapStruct (in my opinion). Why not create an object per view? For example <code>UserSummaryDto</code> and map from your <code>User</code> into the <code>UserSummaryDto</code> this way you don&#39;t need to use <code>@JsonView</code> and JacksonWould deserialize everything properly."},{"owner":{"account_id":9455379,"reputation":192,"user_id":7030856,"display_name":"Mark Brown"},"score":0,"creation_date":1543928210,"post_id":53581961,"comment_id":94087656,"body_markdown":"Thanks for the suggest @Filip, that is the solution I went for in the end","body":"Thanks for the suggest @Filip, that is the solution I went for in the end"}],"owner":{"account_id":9455379,"reputation":192,"user_id":7030856,"display_name":"Mark Brown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681475338,"creation_date":1543766091,"question_id":53581961,"body_markdown":"So I am migrating all of my controllers to using a DTO object as previously they used the persistence objects.\r\n\r\nI have chosen to make use of [MapStruct](http://mapstruct.org/documentation/stable/reference/html/#defining-mapper) for this.\r\n\r\nMy problem is I have seemingly lost the ability to apply `@JsonView` to this response, as now the response when applying the view is `{}` (empty).\r\n\r\nMy question is, should this be possible to combine MapStruct and Jackson serialisation or will I be required to create a DTO class for each of the views that I currently use?\r\n\r\nMy class structure is as follows:\r\n\r\n    @Entity\r\n    public class User {\r\n        @JsonView(View.Summary.class)\r\n        private Long id;\r\n        @JsonView(View.Summary.class)\r\n        private String name;\r\n        // Etc\r\n    }\r\n\r\n    public class UserDto {\r\n        @JsonView(View.Summary.class)\r\n        private Long id;\r\n        @JsonView(View.Summary.class)\r\n        private String name;\r\n        // Etc\r\n    }\r\n\r\n    @Mapper\r\n    public interface UserMapper {\r\n        User toUser(UserDto userDto);\r\n        UserDto toUserDto(User user);\r\n    }\r\n\r\n    public class UserController() {\r\n        @JsonView(View.Summary.class)\r\n\t    @RequestMapping(path = &quot;/users&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n\t    public Page&lt;UserDto&gt; userPage(@RequestParam MultiValueMap&lt;String, String&gt; filters, Pageable page) {\r\n\t\t    return service.findAllUser(filters, page).map(mapper::toUserDto);\r\n\t    }\r\n\r\n        @JsonView(View.Summary.class)\r\n\t    @RequestMapping(path = &quot;/users/{id}&quot;, method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n\t    public UserDto singleUser(@PathVariable(&quot;id&quot;) Long id) {\r\n\t\t    return mapper.toUserDto(service.findById(id));\r\n\t    }\r\n    }","title":"How do I get @JsonView to work with MapStruct","body":"<p>So I am migrating all of my controllers to using a DTO object as previously they used the persistence objects.</p>\n\n<p>I have chosen to make use of <a href=\"http://mapstruct.org/documentation/stable/reference/html/#defining-mapper\" rel=\"nofollow noreferrer\">MapStruct</a> for this.</p>\n\n<p>My problem is I have seemingly lost the ability to apply <code>@JsonView</code> to this response, as now the response when applying the view is <code>{}</code> (empty).</p>\n\n<p>My question is, should this be possible to combine MapStruct and Jackson serialisation or will I be required to create a DTO class for each of the views that I currently use?</p>\n\n<p>My class structure is as follows:</p>\n\n<pre><code>@Entity\npublic class User {\n    @JsonView(View.Summary.class)\n    private Long id;\n    @JsonView(View.Summary.class)\n    private String name;\n    // Etc\n}\n\npublic class UserDto {\n    @JsonView(View.Summary.class)\n    private Long id;\n    @JsonView(View.Summary.class)\n    private String name;\n    // Etc\n}\n\n@Mapper\npublic interface UserMapper {\n    User toUser(UserDto userDto);\n    UserDto toUserDto(User user);\n}\n\npublic class UserController() {\n    @JsonView(View.Summary.class)\n    @RequestMapping(path = \"/users\", method = RequestMethod.GET, produces = \"application/json\")\n    public Page&lt;UserDto&gt; userPage(@RequestParam MultiValueMap&lt;String, String&gt; filters, Pageable page) {\n        return service.findAllUser(filters, page).map(mapper::toUserDto);\n    }\n\n    @JsonView(View.Summary.class)\n    @RequestMapping(path = \"/users/{id}\", method = RequestMethod.GET, produces = \"application/json\")\n    public UserDto singleUser(@PathVariable(\"id\") Long id) {\n        return mapper.toUserDto(service.findById(id));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","classloader"],"comments":[{"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"score":0,"creation_date":1603762291,"post_id":64388395,"comment_id":114133283,"body_markdown":"What is the startup configuration you are using to start ? Have you tried the following format ? `java -cp ./lib/* com.example.Main`.","body":"What is the startup configuration you are using to start ? Have you tried the following format ? <code>java -cp .&#47;lib&#47;* com.example.Main</code>."},{"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"score":0,"creation_date":1603762362,"post_id":64388395,"comment_id":114133301,"body_markdown":"What is the problem-statement? Are you trying to launch your application itself from (a) a custom-classloader or (b) are you trying to load specific application related classes *after* launching the application ?","body":"What is the problem-statement? Are you trying to launch your application itself from (a) a custom-classloader or (b) are you trying to load specific application related classes <i>after</i> launching the application ?"},{"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"score":0,"creation_date":1603762575,"post_id":64388395,"comment_id":114133347,"body_markdown":"If you print `System.out.println(Main.class.getClassLoader());` do you expect your class-loader to be specified or the standard system classloader to be printed (assuming com.example.Main is your main class) ?","body":"If you print <code>System.out.println(Main.class.getClassLoader());</code> do you expect your class-loader to be specified or the standard system classloader to be printed (assuming com.example.Main is your main class) ?"}],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1603845740,"post_id":64455537,"comment_id":114164587,"body_markdown":"**Update:** added link to Spring Boot executable JAR format description.","body":"<b>Update:</b> added link to Spring Boot executable JAR format description."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1603845695,"creation_date":1603244879,"answer_id":64455537,"question_id":64388395,"body_markdown":"&gt; Running a spring boot project within IDEA this works perfectly. The custom classloader is found, set as a system classloader and everything works.\r\n\r\nBecause IDEA puts your modules on the class path and one of them contains the custom class loader.\r\n\r\n&gt; Is it because in the runnable jar the classloader class is in a jar in lib directory so the classloader is trying to get set before the lib classes were added to the classpath?\r\n\r\nKind of. The lib classes are not &quot;added to the class path&quot;, but the runnable Spring Boot app&#39;s own custom class loader knows where to find and how to load them.\r\n\r\nFor a deeper understanding of `java.system.class.loader`, please read the Javadoc for [`ClassLoader.getSystemClassLoader()`](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/ClassLoader.html#getSystemClassLoader()) (slightly reformatted with added enumeration):\r\n\r\n&gt; 1. If the system property `java.system.class.loader` is defined when this method is first invoked then the value of that property is taken to be the name of a class that will be returned as the system class loader.\r\n&gt; 0. The class is loaded using the default system class loader and must define a public constructor that takes a single parameter of type `ClassLoader` which is used as the delegation parent.\r\n&gt; 0. An instance is then created using this constructor ***with the default system class loader*** as the parameter.\r\n&gt; 0. The resulting class loader is defined to be the system class loader.\r\n&gt; 0. During construction, the class loader should take great care to avoid calling `getSystemClassLoader()`. If circular initialization of the system class loader is detected then an `IllegalStateException` is thrown.\r\n\r\nThe decisive factor here is #3: The user-defined system class loader is loaded by the default system class loader. The latter of course has no clue about how to load something from a nested JAR. Only later, after the JVM is fully initialised and Spring Boot&#39;s special application class loader kicks in, can those nested JARs be read.\r\n\r\nI.e. you are having a chicken vs. egg problem here: In order to find your custom class loader during JVM initialisation, you would need to use the Spring Boot runnable JAR class loader which has not been initialised yet.\r\n\r\nIf you want to know how what the Javadoc above describes is done in practice, take a look at the OpenJDK [source code of `ClassLoader.initSystemClassLoader()`](https://github.com/openjdk/jdk/blob/jdk-14%2B36/src/java.base/share/classes/java/lang/ClassLoader.java#L1962).\r\n\r\n&gt; Is there anything I can do besides moving the classloader from common to all the other modules that need it?\r\n\r\nEven that would not help if you insist in using the runnable JAR. What you could do is either of these:\r\n  * Run your application without zipping it up into a runnable JAR, but as a normal Java application with all application modules (especially the one containing the custom class loader) on the class path.\r\n  * Extract your custom class loader into a separate module outside of the runnable JAR and put it on the class path when running the runnable JAR.\r\n  * Set your custom class loader via `Thread.setContextClassLoader()` or so instead of trying to use it as a system class loader, if that would be a viable option.\r\n\r\n---\r\n\r\n**Update 2020-10-28:** In the document &quot;The Executable Jar Format&quot; I found this under [&quot;Executable Jar Restrictions&quot;](https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-executable-jar-format.html#executable-jar-restrictions):\r\n\r\n&gt; System classLoader: Launched applications should use `Thread.getContextClassLoader()` when loading classes (most libraries and frameworks do so by default). Trying to load nested jar classes with `ClassLoader.getSystemClassLoader()` fails. `java.util.Logging` always uses the system classloader. For this reason, you should consider a different logging implementation.\r\n\r\nThis confirms what I wrote above, especially my last bullet point about using the thread context class loader.","title":"Spring boot runnable jar can&#39;t find classloader set via java.system.class.loader jvm parameter","body":"<blockquote>\n<p>Running a spring boot project within IDEA this works perfectly. The custom classloader is found, set as a system classloader and everything works.</p>\n</blockquote>\n<p>Because IDEA puts your modules on the class path and one of them contains the custom class loader.</p>\n<blockquote>\n<p>Is it because in the runnable jar the classloader class is in a jar in lib directory so the classloader is trying to get set before the lib classes were added to the classpath?</p>\n</blockquote>\n<p>Kind of. The lib classes are not &quot;added to the class path&quot;, but the runnable Spring Boot app's own custom class loader knows where to find and how to load them.</p>\n<p>For a deeper understanding of <code>java.system.class.loader</code>, please read the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/ClassLoader.html#getSystemClassLoader()\" rel=\"nofollow noreferrer\"><code>ClassLoader.getSystemClassLoader()</code></a> (slightly reformatted with added enumeration):</p>\n<blockquote>\n<ol>\n<li>If the system property <code>java.system.class.loader</code> is defined when this method is first invoked then the value of that property is taken to be the name of a class that will be returned as the system class loader.</li>\n<li>The class is loaded using the default system class loader and must define a public constructor that takes a single parameter of type <code>ClassLoader</code> which is used as the delegation parent.</li>\n<li>An instance is then created using this constructor <em><strong>with the default system class loader</strong></em> as the parameter.</li>\n<li>The resulting class loader is defined to be the system class loader.</li>\n<li>During construction, the class loader should take great care to avoid calling <code>getSystemClassLoader()</code>. If circular initialization of the system class loader is detected then an <code>IllegalStateException</code> is thrown.</li>\n</ol>\n</blockquote>\n<p>The decisive factor here is #3: The user-defined system class loader is loaded by the default system class loader. The latter of course has no clue about how to load something from a nested JAR. Only later, after the JVM is fully initialised and Spring Boot's special application class loader kicks in, can those nested JARs be read.</p>\n<p>I.e. you are having a chicken vs. egg problem here: In order to find your custom class loader during JVM initialisation, you would need to use the Spring Boot runnable JAR class loader which has not been initialised yet.</p>\n<p>If you want to know how what the Javadoc above describes is done in practice, take a look at the OpenJDK <a href=\"https://github.com/openjdk/jdk/blob/jdk-14%2B36/src/java.base/share/classes/java/lang/ClassLoader.java#L1962\" rel=\"nofollow noreferrer\">source code of <code>ClassLoader.initSystemClassLoader()</code></a>.</p>\n<blockquote>\n<p>Is there anything I can do besides moving the classloader from common to all the other modules that need it?</p>\n</blockquote>\n<p>Even that would not help if you insist in using the runnable JAR. What you could do is either of these:</p>\n<ul>\n<li>Run your application without zipping it up into a runnable JAR, but as a normal Java application with all application modules (especially the one containing the custom class loader) on the class path.</li>\n<li>Extract your custom class loader into a separate module outside of the runnable JAR and put it on the class path when running the runnable JAR.</li>\n<li>Set your custom class loader via <code>Thread.setContextClassLoader()</code> or so instead of trying to use it as a system class loader, if that would be a viable option.</li>\n</ul>\n<hr />\n<p><strong>Update 2020-10-28:</strong> In the document &quot;The Executable Jar Format&quot; I found this under <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-executable-jar-format.html#executable-jar-restrictions\" rel=\"nofollow noreferrer\">&quot;Executable Jar Restrictions&quot;</a>:</p>\n<blockquote>\n<p>System classLoader: Launched applications should use <code>Thread.getContextClassLoader()</code> when loading classes (most libraries and frameworks do so by default). Trying to load nested jar classes with <code>ClassLoader.getSystemClassLoader()</code> fails. <code>java.util.Logging</code> always uses the system classloader. For this reason, you should consider a different logging implementation.</p>\n</blockquote>\n<p>This confirms what I wrote above, especially my last bullet point about using the thread context class loader.</p>\n"},{"tags":[],"owner":{"account_id":1875786,"reputation":136,"user_id":1697027,"display_name":"Ravi raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603703773,"creation_date":1603703773,"answer_id":64534295,"question_id":64388395,"body_markdown":"Assuming you want to add custom jar to the classpath with Spring, do the following:\r\n\r\n1. Generate the jar file with the maven jar plugin\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                        &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\r\n                        &lt;mainClass&gt;\r\n                            com.demo.DemoApplication\r\n                        &lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n2. While running the application from the command line, use the below command\r\n\r\n `java -cp target/demo-0.0.1-SNAPSHOT.jar -Dloader.path=&lt;Path to the Custom Jar file&gt; \r\n org.springframework.boot.loader.PropertiesLauncher`\r\n\r\nThis should launch your app while loading the Custom Classloader as well\r\n\r\nIn short, the trick is, to use the **-Dloader.path** along with **org.springframework.boot.loader.PropertiesLauncher**\r\n\r\n\r\n","title":"Spring boot runnable jar can&#39;t find classloader set via java.system.class.loader jvm parameter","body":"<p>Assuming you want to add custom jar to the classpath with Spring, do the following:</p>\n<ol>\n<li><p>Generate the jar file with the maven jar plugin</p>\n<pre><code> &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n     &lt;configuration&gt;\n         &lt;archive&gt;\n             &lt;manifest&gt;\n                 &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                 &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\n                 &lt;mainClass&gt;\n                     com.demo.DemoApplication\n                 &lt;/mainClass&gt;\n             &lt;/manifest&gt;\n         &lt;/archive&gt;\n     &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n</li>\n<li><p>While running the application from the command line, use the below command</p>\n</li>\n</ol>\n<p><code>java -cp target/demo-0.0.1-SNAPSHOT.jar -Dloader.path=&lt;Path to the Custom Jar file&gt;  org.springframework.boot.loader.PropertiesLauncher</code></p>\n<p>This should launch your app while loading the Custom Classloader as well</p>\n<p>In short, the trick is, to use the <strong>-Dloader.path</strong> along with <strong>org.springframework.boot.loader.PropertiesLauncher</strong></p>\n"},{"tags":[],"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603762942,"creation_date":1603762942,"answer_id":64547230,"question_id":64388395,"body_markdown":"An application launched on the lines of - \r\n\r\n    java -cp ./lib/* com.example.Main\r\n\r\nwould ideally be sufficient. \r\n\r\nWill need some clarity on how the application is being used. \r\nIs the main class itself being attempted to be launched from a custom class loader (assuming its possible to do so) or whether post launch specific application related classes are required to be loaded with a custom class-loader (and associated privileges)?\r\n\r\nHave asked those questions in the comments above (planning to update the answers here once have more clarity).\r\n\r\nPS: Haven&#39;t really factored the use of &#39;modules&#39; yet but believe the above syntax would still hold for the newer jdk&#39;s (after jdk 8).\r\n","title":"Spring boot runnable jar can&#39;t find classloader set via java.system.class.loader jvm parameter","body":"<p>An application launched on the lines of -</p>\n<pre><code>java -cp ./lib/* com.example.Main\n</code></pre>\n<p>would ideally be sufficient.</p>\n<p>Will need some clarity on how the application is being used.\nIs the main class itself being attempted to be launched from a custom class loader (assuming its possible to do so) or whether post launch specific application related classes are required to be loaded with a custom class-loader (and associated privileges)?</p>\n<p>Have asked those questions in the comments above (planning to update the answers here once have more clarity).</p>\n<p>PS: Haven't really factored the use of 'modules' yet but believe the above syntax would still hold for the newer jdk's (after jdk 8).</p>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681475127,"creation_date":1681475127,"answer_id":76015066,"question_id":64388395,"body_markdown":"For Spring boot application use &lt;b&gt;-Dloader.path&lt;/b&gt; to add difrent folder on classpath, like in example below :\r\n\r\n    java -cp app.jar -Dloader.path=/opt/lib/ org.springframework.boot.loader.PropertiesLauncher","title":"Spring boot runnable jar can&#39;t find classloader set via java.system.class.loader jvm parameter","body":"<p>For Spring boot application use <b>-Dloader.path</b> to add difrent folder on classpath, like in example below :</p>\n<pre><code>java -cp app.jar -Dloader.path=/opt/lib/ org.springframework.boot.loader.PropertiesLauncher\n</code></pre>\n"}],"owner":{"account_id":1199265,"reputation":1357,"user_id":1182835,"accept_rate":83,"display_name":"MrPlow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6269,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":64455537,"answer_count":4,"score":6,"last_activity_date":1681475127,"creation_date":1602848091,"question_id":64388395,"body_markdown":"In a module structure like this:\r\n\r\nproject  \r\n|  \r\n|- common module  \r\n|- app module\r\n\r\nWhere app module has common module as a dependency, I have a custom classloader class defined in the common module. The app module has a `-Djava.system.class.loader=org.project.common.CustomClassLoader` jvm parameter set to use that custom classloader defined in common module. \r\n\r\nRunning a spring boot project within IDEA this works perfectly. The custom classloader is found, set as a system classloader and everything works.\r\n\r\nCompiling a runnable jar (using default spring-boot-maven-plugin without any custom properties), the jar itself has all the classes and within it&#39;s lib directory is the common jar which has the custom classloader. However running the jar with the `-Djava.system.class.loader=org.project.common.CustomClassLoader` results in the following exception \r\n\r\n```\r\njava.lang.Error: org.project.common.CustomClassLoader\r\n\tat java.lang.ClassLoader.initSystemClassLoader(java.base@12.0.2/ClassLoader.java:1989)\r\n\tat java.lang.System.initPhase3(java.base@12.0.2/System.java:2132)\r\nCaused by: java.lang.ClassNotFoundException: org.project.common.CustomClassLoader\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(java.base@12.0.2/BuiltinClassLoader.java:583)\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(java.base@12.0.2/ClassLoaders.java:178)\r\n\tat java.lang.ClassLoader.loadClass(java.base@12.0.2/ClassLoader.java:521)\r\n\tat java.lang.Class.forName0(java.base@12.0.2/Native Method)\r\n\tat java.lang.Class.forName(java.base@12.0.2/Class.java:415)\r\n\tat java.lang.ClassLoader.initSystemClassLoader(java.base@12.0.2/ClassLoader.java:1975)\r\n\tat java.lang.System.initPhase3(java.base@12.0.2/System.java:2132)\r\n\r\n```\r\n\r\nWhy does this happen? Is it because in the runnable jar the classloader class is in a jar in lib directory so the classloader is trying to get set before the lib classes were added to the classpath? Is there anything I can do besides moving the classloader from common to all the other modules that need it?\r\n\r\n**EDIT**: I&#39;ve tried moving the custom classloader class from common module to app but I am still getting the same error. What is going on here?","title":"Spring boot runnable jar can&#39;t find classloader set via java.system.class.loader jvm parameter","body":"<p>In a module structure like this:</p>\n<p>project<br />\n|<br />\n|- common module<br />\n|- app module</p>\n<p>Where app module has common module as a dependency, I have a custom classloader class defined in the common module. The app module has a <code>-Djava.system.class.loader=org.project.common.CustomClassLoader</code> jvm parameter set to use that custom classloader defined in common module.</p>\n<p>Running a spring boot project within IDEA this works perfectly. The custom classloader is found, set as a system classloader and everything works.</p>\n<p>Compiling a runnable jar (using default spring-boot-maven-plugin without any custom properties), the jar itself has all the classes and within it's lib directory is the common jar which has the custom classloader. However running the jar with the <code>-Djava.system.class.loader=org.project.common.CustomClassLoader</code> results in the following exception</p>\n<pre><code>java.lang.Error: org.project.common.CustomClassLoader\n    at java.lang.ClassLoader.initSystemClassLoader(java.base@12.0.2/ClassLoader.java:1989)\n    at java.lang.System.initPhase3(java.base@12.0.2/System.java:2132)\nCaused by: java.lang.ClassNotFoundException: org.project.common.CustomClassLoader\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(java.base@12.0.2/BuiltinClassLoader.java:583)\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(java.base@12.0.2/ClassLoaders.java:178)\n    at java.lang.ClassLoader.loadClass(java.base@12.0.2/ClassLoader.java:521)\n    at java.lang.Class.forName0(java.base@12.0.2/Native Method)\n    at java.lang.Class.forName(java.base@12.0.2/Class.java:415)\n    at java.lang.ClassLoader.initSystemClassLoader(java.base@12.0.2/ClassLoader.java:1975)\n    at java.lang.System.initPhase3(java.base@12.0.2/System.java:2132)\n\n</code></pre>\n<p>Why does this happen? Is it because in the runnable jar the classloader class is in a jar in lib directory so the classloader is trying to get set before the lib classes were added to the classpath? Is there anything I can do besides moving the classloader from common to all the other modules that need it?</p>\n<p><strong>EDIT</strong>: I've tried moving the custom classloader class from common module to app but I am still getting the same error. What is going on here?</p>\n"},{"tags":["java","marklogic"],"comments":[{"owner":{"account_id":8112,"reputation":64602,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1681475908,"post_id":76014776,"comment_id":134066602,"body_markdown":"Why are you wrapping the jsonProperty query in a word query?","body":"Why are you wrapping the jsonProperty query in a word query?"},{"owner":{"account_id":26726223,"reputation":23,"user_id":20329316,"display_name":"me_how"},"score":0,"creation_date":1681478230,"post_id":76014776,"comment_id":134067178,"body_markdown":"Without queryBuilder.not jsonProperty wrapped in word query works fine - it returns document with EDITING status","body":"Without queryBuilder.not jsonProperty wrapped in word query works fine - it returns document with EDITING status"},{"owner":{"account_id":4013257,"reputation":2118,"user_id":3306099,"display_name":"rjrudin"},"score":0,"creation_date":1681487348,"post_id":76014776,"comment_id":134069586,"body_markdown":"Please open an issue for this at https://github.com/marklogic/java-client-api/issues - that will keep it on our radar, and we should be able to either provide a working example there or track a fix for a release.","body":"Please open an issue for this at <a href=\"https://github.com/marklogic/java-client-api/issues\" rel=\"nofollow noreferrer\">github.com/marklogic/java-client-api/issues</a> - that will keep it on our radar, and we should be able to either provide a working example there or track a fix for a release."}],"owner":{"account_id":26726223,"reputation":23,"user_id":20329316,"display_name":"me_how"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681474789,"creation_date":1681472841,"question_id":76014776,"body_markdown":"I&#39;m trying to search for json documents which does not contain field &quot;status&quot; but I&#39;m still getting wrong results.\r\n\r\nI wrote XQuery code that works in MarkLogic terminal:\r\n\r\n    cts:search(\r\n     fn:doc(),\r\n     cts:not-query(\r\n      cts:json-property-scope-query(\r\n      &quot;status&quot;,\r\n      cts:true-query())))\r\n\r\nAnd I wanted to achieve similiar thing using Java API, but I don&#39;t have **jsonPropertyScopeQuery** method in **StructuredQueryBuilder** class. So I tried to write a bit longer query using **queryBuilder.not()** which would look for every document that doesn&#39;t have EDITING, CORRECTING or ACCEPTING status (those are the only statuses that document might have). I hoped that would return result I expect but still I&#39;m getting all the documents.\r\n\r\nHere&#39;s how my **queryBuilder.not()** for EDITING status looks like:\r\n\r\n    var notContains = queryBuilder.not(\r\n                        queryBuilder.word(queryBuilder.jsonProperty(&quot;status&quot;), &quot;EDITING&quot;));\r\n\r\nI&#39;m using maven com.marklogic version 6.1.0.\r\nVersion of Database is: 10.0-7.3","title":"How to write negative query to MarkLogic with Java API","body":"<p>I'm trying to search for json documents which does not contain field &quot;status&quot; but I'm still getting wrong results.</p>\n<p>I wrote XQuery code that works in MarkLogic terminal:</p>\n<pre><code>cts:search(\n fn:doc(),\n cts:not-query(\n  cts:json-property-scope-query(\n  &quot;status&quot;,\n  cts:true-query())))\n</code></pre>\n<p>And I wanted to achieve similiar thing using Java API, but I don't have <strong>jsonPropertyScopeQuery</strong> method in <strong>StructuredQueryBuilder</strong> class. So I tried to write a bit longer query using <strong>queryBuilder.not()</strong> which would look for every document that doesn't have EDITING, CORRECTING or ACCEPTING status (those are the only statuses that document might have). I hoped that would return result I expect but still I'm getting all the documents.</p>\n<p>Here's how my <strong>queryBuilder.not()</strong> for EDITING status looks like:</p>\n<pre><code>var notContains = queryBuilder.not(\n                    queryBuilder.word(queryBuilder.jsonProperty(&quot;status&quot;), &quot;EDITING&quot;));\n</code></pre>\n<p>I'm using maven com.marklogic version 6.1.0.\nVersion of Database is: 10.0-7.3</p>\n"},{"tags":["python","java","windows","pylucene"],"comments":[{"owner":{"account_id":16113396,"reputation":483,"user_id":11631110,"display_name":"atinjanki"},"score":0,"creation_date":1683632351,"post_id":73139204,"comment_id":134393276,"body_markdown":"The issue was on this line - `process_begin: CreateProcess(NULL, (cd lucene-java-9.1.0; ./gradlew collectRuntimeJars), ...) failed.\nmake (e=2): The system cannot find the file specified.`. It did not find the specified file.","body":"The issue was on this line - <code>process_begin: CreateProcess(NULL, (cd lucene-java-9.1.0; .&#47;gradlew collectRuntimeJars), ...) failed. make (e=2): The system cannot find the file specified.</code>. It did not find the specified file."}],"owner":{"account_id":5631557,"reputation":3050,"user_id":4458369,"accept_rate":100,"display_name":"Michael S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681474469,"creation_date":1658929922,"question_id":73139204,"body_markdown":"I&#39;m trying to get PyLucene going on my computer and have followed all of the steps but am getting stuck at the &quot;make&quot; step. I&#39;m working on 64-bit Windows 10 Machine and my version of Python is 3.9.12.\r\n\r\nWhat I&#39;ve done:\r\n\r\n1.) Install [Apache Ant](https://ant.apache.org/manual/install.html) and set environments. In this step, I also installed [Java JDK 18](https://jdk.java.net/18/) as per the recommendation in Apache Ant. I set all of the environment variables as instructed for JAVA_HOME, ANT_HOME, and added Ant to the path. I checked and verified that these all worked:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n2.) Download [PyLucene 9.1.0](https://dlcdn.apache.org/lucene/pylucene/), extract the tar file, `cd` into the jcc folder and run `python setup.py build`. I changed the `JAVAHOME` in the setup.py file to `JAVA_HOME` to match the variable path name I made in the above step. I also included `JCC_JDK` because I got an error the first time I ran the `setup.py` where it asked for `JCC_JDK`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3.) I edited the Makefile and made sure to have [make installed for Windows](http://gnuwin32.sourceforge.net/packages/make.htm). The top part of the make file is:\r\n\r\n```\r\nVERSION=9.1.0\r\nLUCENE_VER=9.1.0\r\nPYLUCENE:=$(shell pwd)\r\nLUCENE_SRC=lucene-java-$(LUCENE_VER)\r\nLUCENE=$(LUCENE_SRC)/lucene\r\nPREFIX_PYTHON=C:\\Users\\mgsci\\anaconda3 # this is where my python.exe is located\r\nPYTHON=$(PREFIX_PYTHON)\\python.exe\r\nJCC=$(PYTHON) -m jcc --shared\r\nNUM_FILES=16\r\n```\r\n\r\nWhen I ran `make` I got the error:\r\n```\r\n(base) C:\\Users\\mgsci\\Downloads\\PyLucene\\pylucene-9.1.0&gt;make\r\nprocess_begin: CreateProcess(NULL, pwd, ...) failed.\r\nprocess_begin: CreateProcess(NULL, which icupkg, ...) failed.\r\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\r\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\r\n(cd lucene-java-9.1.0; ./gradlew collectRuntimeJars)\r\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\r\nprocess_begin: CreateProcess(NULL, (cd lucene-java-9.1.0; ./gradlew collectRuntimeJars), ...) failed.\r\nmake (e=2): The system cannot find the file specified.\r\nmake: *** [lucene] Error 2\r\n``` \r\nAnd when I just ran `python -m jcc` I got the error:\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 188, in _run_module_as_main\r\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\r\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 147, in _get_module_details\r\n    return _get_module_details(pkg_main_name, error)\r\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 111, in _get_module_details\r\n    __import__(pkg_name)\r\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\site-packages\\jcc-3.12-py3.9-win-amd64.egg\\jcc\\__init__.py&quot;, line 26, in &lt;module&gt;\r\n    add_jvm_dll_directory_to_path(find_jvm_dll)\r\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\site-packages\\jcc-3.12-py3.9-win-amd64.egg\\jcc\\windows.py&quot;, line 104, in add_jvm_dll_directory_to_path\r\n    raise ValueError(&quot;jvm.dll could not be found&quot;)\r\nValueError: jvm.dll could not be found\r\n```\r\nI have the `jvm.dll` file. I can see it in the path `jdk-18.0.2\\bin\\server`. I also copied the jvm.dll file and placed it both in the `jdk-18.0.2` folder and in the `bin` folder for good measure and still got this error.\r\n\r\nWhat part of process did I screw up?\r\n\r\n  [1]: https://i.stack.imgur.com/CZNga.png\r\n  [2]: https://i.stack.imgur.com/cjy7s.png","title":"PyLucene install: &quot;make&quot; not working and &quot;jvm.dll could not be found&quot;","body":"<p>I'm trying to get PyLucene going on my computer and have followed all of the steps but am getting stuck at the &quot;make&quot; step. I'm working on 64-bit Windows 10 Machine and my version of Python is 3.9.12.</p>\n<p>What I've done:</p>\n<p>1.) Install <a href=\"https://ant.apache.org/manual/install.html\" rel=\"nofollow noreferrer\">Apache Ant</a> and set environments. In this step, I also installed <a href=\"https://jdk.java.net/18/\" rel=\"nofollow noreferrer\">Java JDK 18</a> as per the recommendation in Apache Ant. I set all of the environment variables as instructed for JAVA_HOME, ANT_HOME, and added Ant to the path. I checked and verified that these all worked:</p>\n<p><a href=\"https://i.stack.imgur.com/CZNga.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CZNga.png\" alt=\"enter image description here\" /></a></p>\n<p>2.) Download <a href=\"https://dlcdn.apache.org/lucene/pylucene/\" rel=\"nofollow noreferrer\">PyLucene 9.1.0</a>, extract the tar file, <code>cd</code> into the jcc folder and run <code>python setup.py build</code>. I changed the <code>JAVAHOME</code> in the setup.py file to <code>JAVA_HOME</code> to match the variable path name I made in the above step. I also included <code>JCC_JDK</code> because I got an error the first time I ran the <code>setup.py</code> where it asked for <code>JCC_JDK</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/cjy7s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cjy7s.png\" alt=\"enter image description here\" /></a></p>\n<p>3.) I edited the Makefile and made sure to have <a href=\"http://gnuwin32.sourceforge.net/packages/make.htm\" rel=\"nofollow noreferrer\">make installed for Windows</a>. The top part of the make file is:</p>\n<pre><code>VERSION=9.1.0\nLUCENE_VER=9.1.0\nPYLUCENE:=$(shell pwd)\nLUCENE_SRC=lucene-java-$(LUCENE_VER)\nLUCENE=$(LUCENE_SRC)/lucene\nPREFIX_PYTHON=C:\\Users\\mgsci\\anaconda3 # this is where my python.exe is located\nPYTHON=$(PREFIX_PYTHON)\\python.exe\nJCC=$(PYTHON) -m jcc --shared\nNUM_FILES=16\n</code></pre>\n<p>When I ran <code>make</code> I got the error:</p>\n<pre><code>(base) C:\\Users\\mgsci\\Downloads\\PyLucene\\pylucene-9.1.0&gt;make\nprocess_begin: CreateProcess(NULL, pwd, ...) failed.\nprocess_begin: CreateProcess(NULL, which icupkg, ...) failed.\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\n(cd lucene-java-9.1.0; ./gradlew collectRuntimeJars)\nprocess_begin: CreateProcess(NULL, uname, ...) failed.\nprocess_begin: CreateProcess(NULL, (cd lucene-java-9.1.0; ./gradlew collectRuntimeJars), ...) failed.\nmake (e=2): The system cannot find the file specified.\nmake: *** [lucene] Error 2\n</code></pre>\n<p>And when I just ran <code>python -m jcc</code> I got the error:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 188, in _run_module_as_main\n    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 147, in _get_module_details\n    return _get_module_details(pkg_main_name, error)\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\runpy.py&quot;, line 111, in _get_module_details\n    __import__(pkg_name)\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\site-packages\\jcc-3.12-py3.9-win-amd64.egg\\jcc\\__init__.py&quot;, line 26, in &lt;module&gt;\n    add_jvm_dll_directory_to_path(find_jvm_dll)\n  File &quot;C:\\Users\\mgsci\\anaconda3\\lib\\site-packages\\jcc-3.12-py3.9-win-amd64.egg\\jcc\\windows.py&quot;, line 104, in add_jvm_dll_directory_to_path\n    raise ValueError(&quot;jvm.dll could not be found&quot;)\nValueError: jvm.dll could not be found\n</code></pre>\n<p>I have the <code>jvm.dll</code> file. I can see it in the path <code>jdk-18.0.2\\bin\\server</code>. I also copied the jvm.dll file and placed it both in the <code>jdk-18.0.2</code> folder and in the <code>bin</code> folder for good measure and still got this error.</p>\n<p>What part of process did I screw up?</p>\n"},{"tags":["java","intellij-idea","logging","log4j"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681471572,"post_id":76014548,"comment_id":134065587,"body_markdown":"how did you add log statements in your code?","body":"how did you add log statements in your code?"},{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":1,"creation_date":1681471574,"post_id":76014548,"comment_id":134065588,"body_markdown":"make sure that the `log4j.properties` file should be under the folder `src/main/resources`.","body":"make sure that the <code>log4j.properties</code> file should be under the folder <code>src&#47;main&#47;resources</code>."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681471674,"post_id":76014548,"comment_id":134065611,"body_markdown":"Not the src folder but it should be src/main/resources Hint: with Spring Boot and Lombok logging is much easier.","body":"Not the src folder but it should be src/main/resources Hint: with Spring Boot and Lombok logging is much easier."},{"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"score":0,"creation_date":1681474387,"post_id":76014548,"comment_id":134066240,"body_markdown":"I moved `log4j.properties` to `src/main/resources` but it still doesn&#39;t work.","body":"I moved <code>log4j.properties</code> to <code>src&#47;main&#47;resources</code> but it still doesn&#39;t work."},{"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"score":0,"creation_date":1681474465,"post_id":76014548,"comment_id":134066267,"body_markdown":"I added my usage of logger to first post","body":"I added my usage of logger to first post"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1681477208,"post_id":76014548,"comment_id":134066924,"body_markdown":"You are using a Log4j 1.x configuration file. Log4j 2.x uses as different configuration syntax and naming (config files are named `log4j2.*`). Cf. [documentation](https://logging.apache.org/log4j/2.x/manual/configuration.html#automatic-configuration)","body":"You are using a Log4j 1.x configuration file. Log4j 2.x uses as different configuration syntax and naming (config files are named <code>log4j2.*</code>). Cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#automatic-configuration\" rel=\"nofollow noreferrer\">documentation</a>"}],"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681474428,"creation_date":1681471012,"question_id":76014548,"body_markdown":"I have problem with getting it work and I&#39;m bit confused but I have one project when it works and there are only three dependencies in `pom.xml` without any configuration files.\r\n\r\nSo I copied these dependencies to my project:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nbut because nothing was displayed in console I added `log4j.properties` file under `src` folder\r\nwith following configuration:\r\n\r\n    # Root logger option\r\n    log4j.rootLogger=DEBUG, stdout, file\r\n    \r\n    # Redirect log messages to console\r\n    log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stdout.Target=System.out\r\n    log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\r\n\r\nI use it like this in my class:\r\n\r\n    I use it like this:\r\n\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    import static org.apache.logging.log4j.LogManager.getLogger;\r\n    \r\n    public class Main {\r\n        protected static final Logger LOGGER = getLogger(Main.class);\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            LOGGER.info(&quot;It&#39;s friday!!!&quot;);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Log4J logs are not printed in IntelliJ console","body":"<p>I have problem with getting it work and I'm bit confused but I have one project when it works and there are only three dependencies in <code>pom.xml</code> without any configuration files.</p>\n<p>So I copied these dependencies to my project:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>but because nothing was displayed in console I added <code>log4j.properties</code> file under <code>src</code> folder\nwith following configuration:</p>\n<pre><code># Root logger option\nlog4j.rootLogger=DEBUG, stdout, file\n\n# Redirect log messages to console\nlog4j.appender.stdout=org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.Target=System.out\nlog4j.appender.stdout.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n</code></pre>\n<p>I use it like this in my class:</p>\n<pre><code>I use it like this:\n\nimport org.apache.logging.log4j.Logger;\n\nimport static org.apache.logging.log4j.LogManager.getLogger;\n\npublic class Main {\n    protected static final Logger LOGGER = getLogger(Main.class);\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        LOGGER.info(&quot;It's friday!!!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1681472717,"post_id":76014641,"comment_id":134065834,"body_markdown":"Can you try with `@GraphQlTest` instead of `@AutoConfigureGraphQlTester`\n\nSpringboot has a variety of Test annotations that autoconfigure things, https://docs.spring.io/spring-boot/docs/current/reference/html/test-auto-configuration.html","body":"Can you try with <code>@GraphQlTest</code> instead of <code>@AutoConfigureGraphQlTester</code>  Springboot has a variety of Test annotations that autoconfigure things, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/test-auto-configuration.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"owner":{"account_id":2802819,"reputation":81,"user_id":2410726,"display_name":"SERGIO STATERI JUNIOR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681474364,"creation_date":1681471757,"question_id":76014641,"body_markdown":"I&#39;m running a system using Java 17 + Spring Boot 3.0.5 and Spring GraphQL.\r\nWhen I run the system, all works fine. I&#39;m able to execute my query and mutations using the graphiql or any other UI, like Postman.\r\n\r\nHowever, when I run my tests, the endpoint /graphql isn&#39;t exposed:\r\n\r\n    2023-04-14 | 12:15:37.783 | main                 | ERROR | ExchangeResult.assertWithDiagnostics - Request details for assertion failure:\r\n    \r\n    &gt; POST http://localhost:57947/graphql\r\n    &gt; accept-encoding: [gzip]\r\n    &gt; user-agent: [ReactorNetty/1.1.5]\r\n    &gt; host: [localhost:57947]\r\n    &gt; WebTestClient-Request-Id: [1]\r\n    &gt; Content-Type: [application/json]\r\n    &gt; Accept: [application/json]\r\n    &gt; Content-Length: [180]\r\n    \r\n    {&quot;query&quot;:&quot;myGraphQLQuery(\\n    source:{countryCode:\\&quot;GB\\&quot;, locale:\\&quot;en-US\\&quot;},\\n    amount:{value:\\&quot;150.00\\&quot;, currency:\\&quot;GBP\\&quot;}\\n) {\\n    provider\\n    method\\n    specifics\\n}&quot;}\r\n    \r\n    &lt; 404 NOT_FOUND Not Found &lt; Date: [Fri, 14 Apr 2023 11:15:37 GMT] &lt; Content-Type: [application/json] &lt; Content-Length: [116]\r\n    \r\n    {&quot;timestamp&quot;:1681470937706,&quot;path&quot;:&quot;/graphql&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:null,&quot;requestId&quot;:&quot;2c691d2e&quot;}\r\n    \r\n    \r\n    java.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;404 NOT_FOUND&gt;\r\n\r\nI&#39;m executing a very simple test just to understand why the /graphql endpoint isn&#39;t being exposed.\r\nIf I compare with another system that&#39;s working fine, I could check that this line isn&#39;t being shown on my log when I run my test:\r\n\r\n    2023-04-14 | 10:59:57.007 | main                 |  INFO | GraphQlWebFluxAutoConfiguration.? - GraphQL endpoint HTTP POST /graphql\r\n\r\nmy sample test:\r\n\r\n    package com.mycompany.test;\r\n    \r\n    import com.mycompany.MyApplication;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.junit.jupiter.api.Tag;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.graphql.tester.AutoConfigureGraphQlTester;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.graphql.test.tester.GraphQlTester;\r\n    import org.springframework.test.context.ActiveProfiles;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    \r\n    @Slf4j\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = MyApplication.class)\r\n    @AutoConfigureGraphQlTester\r\n    public class MyGraphqlTest {\r\n    \r\n        @Autowired\r\n        protected GraphQlTester graphQlTester;\r\n    \r\n        @Test\r\n        public void test() {\r\n            GraphQlTester.Request&lt;?&gt; myGraphQLQuery = graphQlTester.documentName(&quot;myGraphQLQueryFile&quot;);\r\n            GraphQlTester.Response response = myGraphQLQuery.execute();\r\n            System.out.println(response);\r\n        }\r\n    }\r\n\r\n\r\n**Does anyone have any idea about this problem?**\r\n\r\nThanks\r\n\r\nSergio.","title":"using Spring Boot 3 and spring graphql, the endpoint /graphql isn&#39;t being exposed on my graphql tests (it&#39;s working fine when I run the system)","body":"<p>I'm running a system using Java 17 + Spring Boot 3.0.5 and Spring GraphQL.\nWhen I run the system, all works fine. I'm able to execute my query and mutations using the graphiql or any other UI, like Postman.</p>\n<p>However, when I run my tests, the endpoint /graphql isn't exposed:</p>\n<pre><code>2023-04-14 | 12:15:37.783 | main                 | ERROR | ExchangeResult.assertWithDiagnostics - Request details for assertion failure:\n\n&gt; POST http://localhost:57947/graphql\n&gt; accept-encoding: [gzip]\n&gt; user-agent: [ReactorNetty/1.1.5]\n&gt; host: [localhost:57947]\n&gt; WebTestClient-Request-Id: [1]\n&gt; Content-Type: [application/json]\n&gt; Accept: [application/json]\n&gt; Content-Length: [180]\n\n{&quot;query&quot;:&quot;myGraphQLQuery(\\n    source:{countryCode:\\&quot;GB\\&quot;, locale:\\&quot;en-US\\&quot;},\\n    amount:{value:\\&quot;150.00\\&quot;, currency:\\&quot;GBP\\&quot;}\\n) {\\n    provider\\n    method\\n    specifics\\n}&quot;}\n\n&lt; 404 NOT_FOUND Not Found &lt; Date: [Fri, 14 Apr 2023 11:15:37 GMT] &lt; Content-Type: [application/json] &lt; Content-Length: [116]\n\n{&quot;timestamp&quot;:1681470937706,&quot;path&quot;:&quot;/graphql&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:null,&quot;requestId&quot;:&quot;2c691d2e&quot;}\n\n\njava.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;404 NOT_FOUND&gt;\n</code></pre>\n<p>I'm executing a very simple test just to understand why the /graphql endpoint isn't being exposed.\nIf I compare with another system that's working fine, I could check that this line isn't being shown on my log when I run my test:</p>\n<pre><code>2023-04-14 | 10:59:57.007 | main                 |  INFO | GraphQlWebFluxAutoConfiguration.? - GraphQL endpoint HTTP POST /graphql\n</code></pre>\n<p>my sample test:</p>\n<pre><code>package com.mycompany.test;\n\nimport com.mycompany.MyApplication;\nimport lombok.extern.slf4j.Slf4j;\nimport org.junit.jupiter.api.Tag;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.graphql.tester.AutoConfigureGraphQlTester;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.graphql.test.tester.GraphQlTester;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@Slf4j\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = MyApplication.class)\n@AutoConfigureGraphQlTester\npublic class MyGraphqlTest {\n\n    @Autowired\n    protected GraphQlTester graphQlTester;\n\n    @Test\n    public void test() {\n        GraphQlTester.Request&lt;?&gt; myGraphQLQuery = graphQlTester.documentName(&quot;myGraphQLQueryFile&quot;);\n        GraphQlTester.Response response = myGraphQLQuery.execute();\n        System.out.println(response);\n    }\n}\n</code></pre>\n<p><strong>Does anyone have any idea about this problem?</strong></p>\n<p>Thanks</p>\n<p>Sergio.</p>\n"},{"tags":["java","json","rest-assured","jsonpath","pretty-print"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1681390229,"post_id":76005554,"comment_id":134050734,"body_markdown":"https://stackoverflow.com/questions/4105795/pretty-print-json-in-java","body":"<a href=\"https://stackoverflow.com/questions/4105795/pretty-print-json-in-java\" title=\"pretty print json in java\">stackoverflow.com/questions/4105795/pretty-print-json-in-jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1681391834,"post_id":76005554,"comment_id":134051153,"body_markdown":"after you use &quot;setPrettyPrinting&quot; what is the output ?","body":"after you use &quot;setPrettyPrinting&quot; what is the output ?"},{"owner":{"account_id":24251366,"reputation":17,"user_id":18202328,"display_name":"GetTok"},"score":0,"creation_date":1681392153,"post_id":76005554,"comment_id":134051253,"body_markdown":"I still get the whole json response in a single line.","body":"I still get the whole json response in a single line."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1681451110,"post_id":76005554,"comment_id":134061248,"body_markdown":"Could you add more detail, like response json and screenshot of request, response log.","body":"Could you add more detail, like response json and screenshot of request, response log."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681474264,"post_id":76005554,"comment_id":134066208,"body_markdown":"Given `java.lang.String` has no `prettyPrint()` method, how do you expect your first code sample to even compile? Similarly in your second example, what do you expect `gson.toJson` to do when it is offered a String?","body":"Given <code>java.lang.String</code> has no <code>prettyPrint()</code> method, how do you expect your first code sample to even compile? Similarly in your second example, what do you expect <code>gson.toJson</code> to do when it is offered a String?"}],"owner":{"account_id":24251366,"reputation":17,"user_id":18202328,"display_name":"GetTok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681474219,"creation_date":1681389659,"question_id":76005554,"body_markdown":"I have the following code that extracts some values from a JSON string, but I want to also apply the prettyPrint() method so that it is more readable. I applied it right in the end, but it obviously does not work. Is there any way to print my extracted response with the prettyPrint method?\r\n\r\n```java\r\nResponse response = basicAuth.accept(ContentType.JSON).get(uri);\r\nResponseBody body = response.getBody();\r\nJsonPath json= new JsonPath(body.asString());\r\nString projects = json.getString(&quot;projects[1]&quot;);\r\n\r\nSystem.out.println(&quot;I extracted this project &quot;+projects.prettyPrint());\r\n```\r\n\r\nI also tried this according to the first comment but it&#39;s still no good\r\n\r\n```java\r\nResponse response = basicAuth.accept(ContentType.JSON).get(uri);\r\nResponseBody body = response.getBody();\r\nJsonPath json= new JsonPath(body.asString());\r\nString projects = json.getString(&quot;projects[1]&quot;);\r\nGson gson = new GsonBuilder().setPrettyPrinting().create();\r\nString jsonOutput = gson.toJson(projects);\r\n\r\nSystem.out.println(&quot;I extracted this project &quot;+jsonOutput);\r\n```","title":"How to apply prettyPrint","body":"<p>I have the following code that extracts some values from a JSON string, but I want to also apply the prettyPrint() method so that it is more readable. I applied it right in the end, but it obviously does not work. Is there any way to print my extracted response with the prettyPrint method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response response = basicAuth.accept(ContentType.JSON).get(uri);\nResponseBody body = response.getBody();\nJsonPath json= new JsonPath(body.asString());\nString projects = json.getString(&quot;projects[1]&quot;);\n\nSystem.out.println(&quot;I extracted this project &quot;+projects.prettyPrint());\n</code></pre>\n<p>I also tried this according to the first comment but it's still no good</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response response = basicAuth.accept(ContentType.JSON).get(uri);\nResponseBody body = response.getBody();\nJsonPath json= new JsonPath(body.asString());\nString projects = json.getString(&quot;projects[1]&quot;);\nGson gson = new GsonBuilder().setPrettyPrinting().create();\nString jsonOutput = gson.toJson(projects);\n\nSystem.out.println(&quot;I extracted this project &quot;+jsonOutput);\n</code></pre>\n"},{"tags":["java","selenium-webdriver","css-selectors"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681476968,"post_id":76014798,"comment_id":134066870,"body_markdown":"Can you share the URL of the application if it is public?","body":"Can you share the URL of the application if it is public?"}],"answers":[{"comments":[{"owner":{"account_id":12271967,"reputation":19,"user_id":8956885,"display_name":"Moni"},"score":0,"creation_date":1681476292,"post_id":76014941,"comment_id":134066717,"body_markdown":"Thank you ,Now i am getting this error &quot; org.openqa.selenium.InvalidArgumentException: invalid argument: invalid locator&quot;","body":"Thank you ,Now i am getting this error &quot; org.openqa.selenium.InvalidArgumentException: invalid argument: invalid locator&quot;"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1681476709,"post_id":76014941,"comment_id":134066810,"body_markdown":"Do you know at which line it is throwing that error?","body":"Do you know at which line it is throwing that error?"},{"owner":{"account_id":12271967,"reputation":19,"user_id":8956885,"display_name":"Moni"},"score":0,"creation_date":1681477264,"post_id":76014941,"comment_id":134066936,"body_markdown":"its showing error here , may be we have to use cssSelector for shadow-roots .Unfortunately url is not public. WebElement executeshadow =shadowRoot10.findElement(By.xpath(&quot;//p[text()=&#39;Hatchbacks&#39;]&quot;));","body":"its showing error here , may be we have to use cssSelector for shadow-roots .Unfortunately url is not public. WebElement executeshadow =shadowRoot10.findElement(By.xpath(&quot;//p[text()=&#39;Hatchbacks&#39;]&zwnj;&#8203;&quot;));"}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681474073,"creation_date":1681474073,"answer_id":76014941,"question_id":76014798,"body_markdown":"Try this:\r\n````\r\nWebElement element = (WebElement) ((JavascriptExecutor)driver)\r\n        \t    .executeScript(&quot;return arguments[0].shadowRoot&quot;, driver.findElement(By.xpath(&quot;//vmos-flyout[@slot=&#39;seamless-vmos-flyout&#39;]&quot;)));\r\n        \t    \r\nelement.findElement(By.xpath(&quot;//p[text()=&#39;Hatchbacks&#39;]&quot;)).click();\r\n````","title":"how to get cssSelector path to an Element inside Shadow-root","body":"<p>Try this:</p>\n<pre><code>WebElement element = (WebElement) ((JavascriptExecutor)driver)\n                .executeScript(&quot;return arguments[0].shadowRoot&quot;, driver.findElement(By.xpath(&quot;//vmos-flyout[@slot='seamless-vmos-flyout']&quot;)));\n                \nelement.findElement(By.xpath(&quot;//p[text()='Hatchbacks']&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":12271967,"reputation":19,"user_id":8956885,"display_name":"Moni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76014941,"answer_count":1,"score":-1,"last_activity_date":1681474073,"creation_date":1681473028,"question_id":76014798,"body_markdown":"Could you please help me to find the correct path to element  &lt;p&gt;hatchbacks&lt;p&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is java code i used ,apparently the cssSelector path is wrong \r\n\r\n\t\tWebElement shadowHost2 = driver.findElement(By.xpath(&quot;//vmos-flyout&quot;));\r\n\t\tSearchContext shadowRoot2 = shadowHost2.getShadowRoot();\r\n\t\tWebElement shadowContent2 = shadowRoot2.findElement(By.cssSelector(&quot;app-vue/div/ul/li[3]/ul/li[4]/div/p&quot;));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B5csO.png","title":"how to get cssSelector path to an Element inside Shadow-root","body":"<p>Could you please help me to find the correct path to element  <p>hatchbacks<p></p>\n<p><a href=\"https://i.stack.imgur.com/B5csO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B5csO.png\" alt=\"enter image description here\" /></a></p>\n<p>This is java code i used ,apparently the cssSelector path is wrong</p>\n<pre><code>    WebElement shadowHost2 = driver.findElement(By.xpath(&quot;//vmos-flyout&quot;));\n    SearchContext shadowRoot2 = shadowHost2.getShadowRoot();\n    WebElement shadowContent2 = shadowRoot2.findElement(By.cssSelector(&quot;app-vue/div/ul/li[3]/ul/li[4]/div/p&quot;));\n</code></pre>\n"},{"tags":["java","spring-boot","ldap","vaadin"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":7,"creation_date":1681310936,"post_id":75996529,"comment_id":134036415,"body_markdown":"It&#39;s not really related to Vaadin. Any Spring (Boot) Security Tutorial about LDAP Integration should get you a working solution.","body":"It&#39;s not really related to Vaadin. Any Spring (Boot) Security Tutorial about LDAP Integration should get you a working solution."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1681322066,"post_id":75996529,"comment_id":134039189,"body_markdown":"Above code looks like the vaadin example (like no attempt for LDAP was\nmade at all).  Please add the code you have tried **to make LDAP work**\nso we can improve on it.","body":"Above code looks like the vaadin example (like no attempt for LDAP was made at all).  Please add the code you have tried <b>to make LDAP work</b> so we can improve on it."},{"owner":{"account_id":2011741,"reputation":79,"user_id":8683113,"display_name":"gidravlic"},"score":0,"creation_date":1681367931,"post_id":75996529,"comment_id":134045508,"body_markdown":"Try code from [https://stackoverflow.com/questions/74196746/vaadin-flow-how-to-add-azure-active-directory-login-function/74203052#74203052](https://stackoverflow.com/questions/74196746/vaadin-flow-how-to-add-azure-active-directory-login-function/74203052#74203052)","body":"Try code from <a href=\"https://stackoverflow.com/questions/74196746/vaadin-flow-how-to-add-azure-active-directory-login-function/74203052#74203052\">https://stackoverflow.com/questions/74196746/vaadin-flow-how&zwnj;&#8203;-to-add-azure-active&zwnj;&#8203;-directory-login-fun&zwnj;&#8203;ction/74203052#74203&zwnj;&#8203;052</a>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1681567214,"post_id":75996529,"comment_id":134079073,"body_markdown":"Please checkout https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/ldap.html","body":"Please checkout <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/ldap.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/authenticat&zwnj;&#8203;ion/&hellip;</a>"}],"owner":{"account_id":28285775,"reputation":11,"user_id":21626761,"display_name":"Denchi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681473562,"creation_date":1681308971,"question_id":75996529,"body_markdown":"i&#39;m really struggling to create an vaadin application with ldap authentication. I went through all tutorials from Vaadin offical about implementing authentication in Vaadin application, but all videos and tutorials include a simple example with InMemoryUserDetailsManager. \r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig extends VaadinWebSecurity {\r\n\r\n\t@Override\r\n\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t auth\r\n\t\t.ldapAuthentication()\r\n\t\t.userDnPatterns(&quot;uid={0}&quot;)\r\n\t\t.groupSearchBase(&quot;CN=APP_USER,OU=Groups,OU=Company AD Objects,OU=Admin company&quot;)\r\n\t\t.contextSource()\r\n\t\t.url(&quot;ldap://localhost:389/DC=com&quot;)\r\n\t\t.managerDn(&quot;user-admin-app&quot;)\r\n\t\t.managerPassword(&quot;xxxxxxxxxxxxxxxxxxxxxxxxxx&quot;)\r\n\t\t.and()\r\n\t\t.passwordCompare()\r\n\t\t.passwordEncoder(new BCryptPasswordEncoder())\r\n\t\t.passwordAttribute(&quot;userPassword&quot;);\r\n\t\t \r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\tsuper.configure(http);\r\n\t\tsetLoginView(http, LoginView.class);\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic void configure(WebSecurity web) throws Exception {\r\n\t\tweb.ignoring().requestMatchers(&quot;/images/**&quot;);    //.anyRequest(&quot;/images/**&quot;);\r\n\t\tsuper.configure(web);\r\n\t}\r\n}\r\n```\r\nI tried other tutorials for ldap authentication and failed to implement VaadinWebSecurity. Does anybody know a correct way how to set up a VaadinWebSecurity with ldap authentication?\r\n\r\nAbove example includes working ldap authentication but after inserting user&amp;pass, i&#39;m redirected to login page. Am I missing something?","title":"Vaadin security with LDAP","body":"<p>i'm really struggling to create an vaadin application with ldap authentication. I went through all tutorials from Vaadin offical about implementing authentication in Vaadin application, but all videos and tutorials include a simple example with InMemoryUserDetailsManager.</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig extends VaadinWebSecurity {\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n         auth\n        .ldapAuthentication()\n        .userDnPatterns(&quot;uid={0}&quot;)\n        .groupSearchBase(&quot;CN=APP_USER,OU=Groups,OU=Company AD Objects,OU=Admin company&quot;)\n        .contextSource()\n        .url(&quot;ldap://localhost:389/DC=com&quot;)\n        .managerDn(&quot;user-admin-app&quot;)\n        .managerPassword(&quot;xxxxxxxxxxxxxxxxxxxxxxxxxx&quot;)\n        .and()\n        .passwordCompare()\n        .passwordEncoder(new BCryptPasswordEncoder())\n        .passwordAttribute(&quot;userPassword&quot;);\n         \n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        setLoginView(http, LoginView.class);\n    }\n\n    \n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().requestMatchers(&quot;/images/**&quot;);    //.anyRequest(&quot;/images/**&quot;);\n        super.configure(web);\n    }\n}\n</code></pre>\n<p>I tried other tutorials for ldap authentication and failed to implement VaadinWebSecurity. Does anybody know a correct way how to set up a VaadinWebSecurity with ldap authentication?</p>\n<p>Above example includes working ldap authentication but after inserting user&amp;pass, i'm redirected to login page. Am I missing something?</p>\n"},{"tags":["java","spring-boot","tomcat","spring-tool-suite","spring-boot-starter"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1681406959,"post_id":76008194,"comment_id":134055113,"body_markdown":"Spring Boot 3 and up have as a minimum requirement Java17 and Tomcat 10. So that combination you have simply won&#39;t work. You need either Spring Boot 3, Java17 and Tomcat10 or Spring Boot 2.7, Java11/17 and Tomcat 9.","body":"Spring Boot 3 and up have as a minimum requirement Java17 and Tomcat 10. So that combination you have simply won&#39;t work. You need either Spring Boot 3, Java17 and Tomcat10 or Spring Boot 2.7, Java11/17 and Tomcat 9."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681408860,"post_id":76008194,"comment_id":134055553,"body_markdown":"Hello, as you are using maven the best (and only place) where you should define your Spring Boot version is spring-boot-starter-parent definition. Current would be 3.0.5 and the older one 2.7.10","body":"Hello, as you are using maven the best (and only place) where you should define your Spring Boot version is spring-boot-starter-parent definition. Current would be 3.0.5 and the older one 2.7.10"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681408931,"post_id":76008194,"comment_id":134055574,"body_markdown":"You can generate pom.xml using this: https://start.spring.io/","body":"You can generate pom.xml using this: <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"}],"answers":[{"comments":[{"owner":{"account_id":961005,"reputation":103,"user_id":21635910,"display_name":"Torvald Klaven"},"score":0,"creation_date":1681479885,"post_id":76014828,"comment_id":134067586,"body_markdown":"This was really confusing for me. They should show the page where you pick the Spring Boot Version before or next to the Java Version, not after, and then limit the Java Version choices based on the Spring Boot Version you chose.","body":"This was really confusing for me. They should show the page where you pick the Spring Boot Version before or next to the Java Version, not after, and then limit the Java Version choices based on the Spring Boot Version you chose."}],"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681473319,"creation_date":1681473319,"answer_id":76014828,"question_id":76008194,"body_markdown":"As already mentioned in the comments, Spring Boot 3 has a minimum dependency on Java 17, that is why the tooling configures the created project to use Java 17 all across the place.\r\n\r\nPlease select the latest Spring Boot 2.7 version, Maven as a build environment, Java 11, and the WAR packaging and you should be good to go.","title":"Spring Tools 4 with Spring Boot, Java 11 and Tomcat 9","body":"<p>As already mentioned in the comments, Spring Boot 3 has a minimum dependency on Java 17, that is why the tooling configures the created project to use Java 17 all across the place.</p>\n<p>Please select the latest Spring Boot 2.7 version, Maven as a build environment, Java 11, and the WAR packaging and you should be good to go.</p>\n"}],"owner":{"account_id":961005,"reputation":103,"user_id":21635910,"display_name":"Torvald Klaven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76014828,"answer_count":1,"score":0,"last_activity_date":1681473319,"creation_date":1681406226,"question_id":76008194,"body_markdown":"I come from Eclipse and I&#39;m starting my first project in Spring (Boot). I&#39;d like to use JDK 11.0.17 and Tomcat 9.0.31 as I do for my projects in Eclipse. That&#39;s what the sysadmin gave me to deploy my apps so I can&#39;t switch to anything else.\r\n\r\nI download the newest Spring Tools 4 for Eclipse (4.18.0) and create a new Spring Starter Project. Default values are type &quot;Gradle - Groovy&quot;, Java Version &quot;17&quot; and packaging &quot;Jar&quot;, but I change them to &quot;Maven&quot;, &quot;11&quot; and &quot;War&quot;, respectively. I don&#39;t see any place where I can configure my Tomcat. I click Next, leave the field Spring Boot Version as it is (3.0.5) and click Finish.\r\n\r\nIt creates a Maven project, but Java Version is still 17 everywhere (JRE System Library, pom.xml). When I go to Boot Dashboard and start the demo project, I get Java Version 17.0.6 and Tomcat 10.1.7 in the output.\r\n\r\nI try to change that manually:\r\n- Window &gt; Preferences &gt; Java &gt; Compiler &gt; 17 to 11\r\n- Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; its 17.0.6 to my jdk 11.0.17\r\n- Window &gt; Preferences &gt; Server &gt; Runtime Environments &gt; add my Tomcat 9.0.31\r\n- Project &gt; Properties &gt; Java Build Path &gt; its JavaSE-17 to my jdk-11.0.17\r\n- Project &gt; Properties &gt; Java Compiler &gt; Compiler compliance level &gt; 17 to 11\r\n- Project &gt; Properties &gt; Project Facets &gt; Java &gt; 17 to 11\r\n- Project &gt; Properties &gt; Targeted Runtimes &gt; (I can&#39;t seem to do anything in Uninstall Facets...)\r\n- pom.xml &gt; properties &gt; java.version &gt; 17 to 11\r\nThen Clean Project and Update Maven Project.\r\n\r\nNow when I go to Boot Dashboard and start the demo project, I get the exception `Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0` which complains that it was expecting Java 17 but got Java 11.\r\n\r\nI&#39;m stuck with no more apparent options. Is Spring Boot supposed to work under a specific version so I should download an older Spring Tool Suite compatible with Java 11? I guess I&#39;m doing/understanding something wrong.","title":"Spring Tools 4 with Spring Boot, Java 11 and Tomcat 9","body":"<p>I come from Eclipse and I'm starting my first project in Spring (Boot). I'd like to use JDK 11.0.17 and Tomcat 9.0.31 as I do for my projects in Eclipse. That's what the sysadmin gave me to deploy my apps so I can't switch to anything else.</p>\n<p>I download the newest Spring Tools 4 for Eclipse (4.18.0) and create a new Spring Starter Project. Default values are type &quot;Gradle - Groovy&quot;, Java Version &quot;17&quot; and packaging &quot;Jar&quot;, but I change them to &quot;Maven&quot;, &quot;11&quot; and &quot;War&quot;, respectively. I don't see any place where I can configure my Tomcat. I click Next, leave the field Spring Boot Version as it is (3.0.5) and click Finish.</p>\n<p>It creates a Maven project, but Java Version is still 17 everywhere (JRE System Library, pom.xml). When I go to Boot Dashboard and start the demo project, I get Java Version 17.0.6 and Tomcat 10.1.7 in the output.</p>\n<p>I try to change that manually:</p>\n<ul>\n<li>Window &gt; Preferences &gt; Java &gt; Compiler &gt; 17 to 11</li>\n<li>Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; its 17.0.6 to my jdk 11.0.17</li>\n<li>Window &gt; Preferences &gt; Server &gt; Runtime Environments &gt; add my Tomcat 9.0.31</li>\n<li>Project &gt; Properties &gt; Java Build Path &gt; its JavaSE-17 to my jdk-11.0.17</li>\n<li>Project &gt; Properties &gt; Java Compiler &gt; Compiler compliance level &gt; 17 to 11</li>\n<li>Project &gt; Properties &gt; Project Facets &gt; Java &gt; 17 to 11</li>\n<li>Project &gt; Properties &gt; Targeted Runtimes &gt; (I can't seem to do anything in Uninstall Facets...)</li>\n<li>pom.xml &gt; properties &gt; java.version &gt; 17 to 11\nThen Clean Project and Update Maven Project.</li>\n</ul>\n<p>Now when I go to Boot Dashboard and start the demo project, I get the exception <code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0</code> which complains that it was expecting Java 17 but got Java 11.</p>\n<p>I'm stuck with no more apparent options. Is Spring Boot supposed to work under a specific version so I should download an older Spring Tool Suite compatible with Java 11? I guess I'm doing/understanding something wrong.</p>\n"},{"tags":["java","eclipse","macos"],"comments":[{"owner":{"account_id":1291310,"reputation":518,"user_id":1472249,"accept_rate":100,"display_name":"KleverKrypto"},"score":0,"creation_date":1407854286,"post_id":24589932,"comment_id":39370443,"body_markdown":"The file Info.plist should reside at `/Library/Java/JavaVirtualMachines/&lt;javaversion&gt;.jdk/Contents`","body":"The file Info.plist should reside at <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;&lt;javaversion&gt;.jdk&#47;Contents</code>"},{"owner":{"account_id":1582171,"reputation":17523,"user_id":1467306,"accept_rate":69,"display_name":"Edward Newell"},"score":0,"creation_date":1410205902,"post_id":24589932,"comment_id":40230639,"body_markdown":"@Sindico -- Shan&#39;s answer worked for me, what about you?  Why don&#39;t you accept his answer by clicking on the open check-mark icon next to it.","body":"@Sindico -- Shan&#39;s answer worked for me, what about you?  Why don&#39;t you accept his answer by clicking on the open check-mark icon next to it."}],"answers":[{"comments":[{"owner":{"account_id":1468043,"reputation":1419,"user_id":1380358,"accept_rate":44,"display_name":"maths"},"score":0,"creation_date":1412404902,"post_id":25486012,"comment_id":41067261,"body_markdown":"i had problem running Eclipse Luna on my mac OS X this fixed the problem for me! thanks a lot :) .. just to make sure you specify the correct path of Java on your machine use this command : /usr/libexec/java_home","body":"i had problem running Eclipse Luna on my mac OS X this fixed the problem for me! thanks a lot :) .. just to make sure you specify the correct path of Java on your machine use this command : /usr/libexec/java_home"},{"owner":{"account_id":1129364,"reputation":1044,"user_id":2768482,"accept_rate":56,"display_name":"Thamilan S"},"score":1,"creation_date":1426226700,"post_id":25486012,"comment_id":46293818,"body_markdown":"I thought it will eat lot of my time when I see this error, this simple steps fixed it in few minutes, thank you so much","body":"I thought it will eat lot of my time when I see this error, this simple steps fixed it in few minutes, thank you so much"},{"owner":{"account_id":79869,"reputation":3010,"user_id":226181,"accept_rate":85,"display_name":"matrix"},"score":1,"creation_date":1439950708,"post_id":25486012,"comment_id":52066819,"body_markdown":"@Shan, it worked for me. I am just wondering why eclipse was not able to detect the correct jdk path. Maybe because I first tried to install eclipse and then I installed JRE 1.8 and JDK 1.8. I am new to Java world - that&#39;s why the order got reversed. I thought that when you install eclipse, everything will get installed. I am coming from Microsoft Visual Studio experience.","body":"@Shan, it worked for me. I am just wondering why eclipse was not able to detect the correct jdk path. Maybe because I first tried to install eclipse and then I installed JRE 1.8 and JDK 1.8. I am new to Java world - that&#39;s why the order got reversed. I thought that when you install eclipse, everything will get installed. I am coming from Microsoft Visual Studio experience."},{"owner":{"account_id":1052088,"reputation":1071,"user_id":1055761,"accept_rate":59,"display_name":"user1055761"},"score":0,"creation_date":1518386009,"post_id":25486012,"comment_id":84473247,"body_markdown":"When I change, it gives me a &#39; &quot;Eclipse&quot; is damaged and can&#39;t be opened&#39; error. Is it possible that the newer version of eclipse installations are codeSigned and changing the Info.plist fails validation. Is there a way to avoid this failure ?","body":"When I change, it gives me a &#39; &quot;Eclipse&quot; is damaged and can&#39;t be opened&#39; error. Is it possible that the newer version of eclipse installations are codeSigned and changing the Info.plist fails validation. Is there a way to avoid this failure ?"},{"owner":{"account_id":3802603,"reputation":901,"user_id":3155807,"accept_rate":88,"display_name":"Cheetaiean"},"score":0,"creation_date":1576958493,"post_id":25486012,"comment_id":105062627,"body_markdown":"My mac also does not allow me to modify the package contents.","body":"My mac also does not allow me to modify the package contents."},{"owner":{"account_id":11006342,"reputation":165,"user_id":9109799,"display_name":"Loner"},"score":0,"creation_date":1671025023,"post_id":25486012,"comment_id":132007692,"body_markdown":"This helped me run Eclipse Memory Analyzer.\nIn &quot;/Applications/mat.app/Contents/Info.plist&quot;, I added:\n&lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Users/rrajvija/.sdkman/candidates/java/current/bin/java&lt;/string&gt;","body":"This helped me run Eclipse Memory Analyzer. In &quot;/Applications/mat.app/Contents/Info.plist&quot;, I added: &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Users/rrajvija/.sdkman/candidat&zwnj;&#8203;es/java/current/bin/&zwnj;&#8203;java&lt;/string&gt;"},{"owner":{"account_id":11624210,"reputation":731,"user_id":8514493,"display_name":"E.Big"},"score":0,"creation_date":1698758303,"post_id":25486012,"comment_id":136443624,"body_markdown":"For me also helped to set temurin 21 version (18 didnt work)","body":"For me also helped to set temurin 21 version (18 didnt work)"}],"tags":[],"owner":{"account_id":1053356,"reputation":1138,"user_id":1056676,"accept_rate":82,"display_name":"Shan"},"comment_count":7,"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1427705484,"creation_date":1408969875,"answer_id":25486012,"question_id":24589932,"body_markdown":"Right click on the Eclipse icon and select &#39;show package contents&#39;. Inside the contents directory you&#39;ll find a file called &#39;Info.plist&#39;. Scroll down to the bottom of the file till you find this\r\n\r\n    &lt;key&gt;Eclipse&lt;/key&gt;\r\n    \t&lt;array&gt;\r\n    \t\t&lt;!-- to use a specific Java version (instead of the platform&#39;s default) uncomment one of the following options,\r\n    \t\t\t\tor add a VM found via $/usr/libexec/java_home -V\r\n    \t      &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/bin/java&lt;/string&gt;\r\n    \t\t  &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java&lt;/string&gt;\r\n    \t\t--&gt;\r\n\r\nNotice the commented out section. Move the jdk path declaration out of the comments section. It should look like this now.\r\n\r\n    &lt;key&gt;Eclipse&lt;/key&gt;\r\n    \t&lt;array&gt;\r\n    \t  &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/bin/java&lt;/string&gt;\r\n    \t\t&lt;!-- to use a specific Java version (instead of the platform&#39;s default) uncomment one of the following options,\r\n    \t\t\t\tor add a VM found via $/usr/libexec/java_home -V\r\n    \t\t  &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java&lt;/string&gt;\r\n    \t\t--&gt;\r\n\r\nLast step, browse to /Library/Java/JavaVirtualMachines and check the jdk package name present there. Replace the jdk version in the above command with that.\r\n\r\n    /Library/Java/JavaVirtualMachines/{your_jdk_package_name}/Contents/Home/bin/java\r\n\r\nOptional: On some machines you may have to close the finder after you&#39;ve done all this,  navigate to the eclipse folder and click on eclipse again for it to work.\r\n\r\n\r\n\r\n ","title":"Mac OS, JDK1.7 (and 1.8) does not contain the JNI_CreateJavaVM symbol","body":"<p>Right click on the Eclipse icon and select 'show package contents'. Inside the contents directory you'll find a file called 'Info.plist'. Scroll down to the bottom of the file till you find this</p>\n\n<pre><code>&lt;key&gt;Eclipse&lt;/key&gt;\n    &lt;array&gt;\n        &lt;!-- to use a specific Java version (instead of the platform's default) uncomment one of the following options,\n                or add a VM found via $/usr/libexec/java_home -V\n          &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/bin/java&lt;/string&gt;\n          &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java&lt;/string&gt;\n        --&gt;\n</code></pre>\n\n<p>Notice the commented out section. Move the jdk path declaration out of the comments section. It should look like this now.</p>\n\n<pre><code>&lt;key&gt;Eclipse&lt;/key&gt;\n    &lt;array&gt;\n      &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/bin/java&lt;/string&gt;\n        &lt;!-- to use a specific Java version (instead of the platform's default) uncomment one of the following options,\n                or add a VM found via $/usr/libexec/java_home -V\n          &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java&lt;/string&gt;\n        --&gt;\n</code></pre>\n\n<p>Last step, browse to /Library/Java/JavaVirtualMachines and check the jdk package name present there. Replace the jdk version in the above command with that.</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/{your_jdk_package_name}/Contents/Home/bin/java\n</code></pre>\n\n<p>Optional: On some machines you may have to close the finder after you've done all this,  navigate to the eclipse folder and click on eclipse again for it to work.</p>\n"},{"comments":[{"owner":{"account_id":2143211,"reputation":861,"user_id":1901416,"display_name":"Uncharted Space"},"score":3,"creation_date":1415286851,"post_id":25869530,"comment_id":42142743,"body_markdown":"This was my problem after updating to OS X 10.10","body":"This was my problem after updating to OS X 10.10"}],"tags":[],"owner":{"account_id":4002924,"reputation":853,"user_id":3298457,"accept_rate":50,"display_name":"tobylaroni"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1410872540,"creation_date":1410872540,"answer_id":25869530,"question_id":24589932,"body_markdown":"Just for those who may have been stuck after doing both tasks described above and still seeing the same error message: I was certain that I had downloaded 64-bit Eclipse, but it turns out I had the 32-bit version. After downloading 64-bit, everything worked!","title":"Mac OS, JDK1.7 (and 1.8) does not contain the JNI_CreateJavaVM symbol","body":"<p>Just for those who may have been stuck after doing both tasks described above and still seeing the same error message: I was certain that I had downloaded 64-bit Eclipse, but it turns out I had the 32-bit version. After downloading 64-bit, everything worked!</p>\n"},{"tags":[],"owner":{"account_id":3009359,"reputation":588,"user_id":2553187,"accept_rate":40,"display_name":"aalosious"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442504652,"creation_date":1442504652,"answer_id":32634626,"question_id":24589932,"body_markdown":"I had a perfectly working Eclipse Luna, and started getting this error while trying to upgrade to Java 8 (and updating jre, jdk etc).\r\nShan&#39;s solution didn&#39;t work for me.\r\nSo I just downloaded and installed latest Eclipse. It&#39;s working fine. Saves the time of debugging and fiddling around.","title":"Mac OS, JDK1.7 (and 1.8) does not contain the JNI_CreateJavaVM symbol","body":"<p>I had a perfectly working Eclipse Luna, and started getting this error while trying to upgrade to Java 8 (and updating jre, jdk etc).\nShan's solution didn't work for me.\nSo I just downloaded and installed latest Eclipse. It's working fine. Saves the time of debugging and fiddling around.</p>\n"},{"tags":[],"owner":{"account_id":214590,"reputation":31,"user_id":468652,"display_name":"EMR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681472521,"creation_date":1681472521,"answer_id":76014728,"question_id":24589932,"body_markdown":"Seems like Eclipse [Apache Directory Studio] needs to be recompiled for aarch64. Eclipse has always been a challenge on all platforms, including linux.","title":"Mac OS, JDK1.7 (and 1.8) does not contain the JNI_CreateJavaVM symbol","body":"<p>Seems like Eclipse [Apache Directory Studio] needs to be recompiled for aarch64. Eclipse has always been a challenge on all platforms, including linux.</p>\n"}],"owner":{"account_id":258741,"reputation":7368,"user_id":541106,"accept_rate":57,"display_name":"Andrea Sindico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45876,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":25486012,"answer_count":4,"score":37,"last_activity_date":1681472521,"creation_date":1404589056,"question_id":24589932,"body_markdown":"I need to run Eclipse Kepler on Mac OS through a JDK 1.7 (This is required by the PyDev plugin).\r\n\r\nThe problem is that although I have managed to install the 1.7 jdk and configured the eclipse.ini to use it I get the error\r\n\r\nThe JVM shared library &quot;/Library/Java/JavaVirtualMachines/jdk1.7.0_60.jdk/Contents/Home/bin../jre/lib/server/libjvm.dylib&quot; does not contain the JNI_CreateJavaVM symbol.\r\n\r\n**UPDATE**\r\nsmart people here https://github.com/joeferner/node-java/issues/90 claim it is enough to add JNI to the JVMCapabilities in the info.plist file like\r\n\r\n    &lt;key&gt;JVMCapabilities&lt;/key&gt;\r\n       &lt;string&gt;JNI&lt;/string&gt;\r\n\r\nBut I tried it and it does not work in my case\r\n\r\n","title":"Mac OS, JDK1.7 (and 1.8) does not contain the JNI_CreateJavaVM symbol","body":"<p>I need to run Eclipse Kepler on Mac OS through a JDK 1.7 (This is required by the PyDev plugin).</p>\n\n<p>The problem is that although I have managed to install the 1.7 jdk and configured the eclipse.ini to use it I get the error</p>\n\n<p>The JVM shared library \"/Library/Java/JavaVirtualMachines/jdk1.7.0_60.jdk/Contents/Home/bin../jre/lib/server/libjvm.dylib\" does not contain the JNI_CreateJavaVM symbol.</p>\n\n<p><strong>UPDATE</strong>\nsmart people here <a href=\"https://github.com/joeferner/node-java/issues/90\">https://github.com/joeferner/node-java/issues/90</a> claim it is enough to add JNI to the JVMCapabilities in the info.plist file like</p>\n\n<pre><code>&lt;key&gt;JVMCapabilities&lt;/key&gt;\n   &lt;string&gt;JNI&lt;/string&gt;\n</code></pre>\n\n<p>But I tried it and it does not work in my case</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":15760967,"reputation":760,"user_id":11372697,"display_name":"Wicaledon"},"score":0,"creation_date":1681460529,"post_id":76012953,"comment_id":134063101,"body_markdown":"have you done something? please share a code snippet that you&#39;ve done","body":"have you done something? please share a code snippet that you&#39;ve done"},{"owner":{"account_id":28301869,"reputation":11,"user_id":21640442,"display_name":"Siva Siva"},"score":0,"creation_date":1681462682,"post_id":76012953,"comment_id":134063613,"body_markdown":"i don&#39;t have any ideas","body":"i don&#39;t have any ideas"}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681472319,"creation_date":1681471888,"answer_id":76014654,"question_id":76012953,"body_markdown":"Actually it is not straitforward at all. To change the background of a specific day, you have to get access to the `MonthAdaptor`. \r\nSo at first you have to create the `DatePickerDialog`. \r\n\r\n    DatePickerDialog datePickerDialog = new DatePickerDialog(\r\n        this,\r\n        R.style.MyDatePickerDialogTheme,\r\n        null,\r\n        year, month, day);\r\nThen you have to get the get the `datePicker` of `DatePickerDialog`.\r\n\r\n    DatePicker datePicker = datePickerDialog.getDatePicker();\r\nNow you need to get access to the view of the `DatePicker`.\r\n\r\n    CalendarView calendarView = datePicker.findViewById(getResources().getIdentifier(&quot;android:id/calendar_view&quot;, null, null));\r\n\r\nTo modify the view you need to get its adaptor. You can check other methods of `CalenderView` in [here][1]\r\n\r\n    DayPickerPagerAdapter dayPickerPagerAdapter = (DayPickerPagerAdapter) calendarView.getAdapter();\r\n\r\nNow get the `MonthAdaptor`\r\n\r\n    MonthAdapter monthAdapter = dayPickerPagerAdapter.createMonthAdapter((Month) dayPickerPagerAdapter.getPage(0));\r\n\r\nFinally from the `MonthAdaptor` you can get any day of month using `getItem` and its index and set its appearance. ([Check here][2])\r\n\r\n    MonthAdapter.CalendarDay calendarDay = monthAdapter.getItem(16);\r\n\r\n    calendarView.setDateTextAppearance(calendarDay, R.style.MyCustomDayStyle);\r\n\r\nFinally show your dialog.\r\n\r\n    datePickerDialog.show();\r\n\r\nI hope it works.\r\n\r\n**EDIT:**\r\n\r\nDon&#39;t forget to add your custom style into `style.xml` file.\r\n\r\n    &lt;style name=&quot;MyCustomDayStyle&quot;&gt;\r\n    &lt;item name=&quot;android:background&quot;&gt;@drawable/custom_background&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/CalendarView\r\n  [2]: https://developer.android.com/reference/android/widget/CalendarView#setDateTextAppearance(int)\r\n","title":"how to change particular date background using drawable resource file in android date picker","body":"<p>Actually it is not straitforward at all. To change the background of a specific day, you have to get access to the <code>MonthAdaptor</code>.\nSo at first you have to create the <code>DatePickerDialog</code>.</p>\n<pre><code>DatePickerDialog datePickerDialog = new DatePickerDialog(\n    this,\n    R.style.MyDatePickerDialogTheme,\n    null,\n    year, month, day);\n</code></pre>\n<p>Then you have to get the get the <code>datePicker</code> of <code>DatePickerDialog</code>.</p>\n<pre><code>DatePicker datePicker = datePickerDialog.getDatePicker();\n</code></pre>\n<p>Now you need to get access to the view of the <code>DatePicker</code>.</p>\n<pre><code>CalendarView calendarView = datePicker.findViewById(getResources().getIdentifier(&quot;android:id/calendar_view&quot;, null, null));\n</code></pre>\n<p>To modify the view you need to get its adaptor. You can check other methods of <code>CalenderView</code> in <a href=\"https://developer.android.com/reference/android/widget/CalendarView\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>DayPickerPagerAdapter dayPickerPagerAdapter = (DayPickerPagerAdapter) calendarView.getAdapter();\n</code></pre>\n<p>Now get the <code>MonthAdaptor</code></p>\n<pre><code>MonthAdapter monthAdapter = dayPickerPagerAdapter.createMonthAdapter((Month) dayPickerPagerAdapter.getPage(0));\n</code></pre>\n<p>Finally from the <code>MonthAdaptor</code> you can get any day of month using <code>getItem</code> and its index and set its appearance. (<a href=\"https://developer.android.com/reference/android/widget/CalendarView#setDateTextAppearance(int)\" rel=\"nofollow noreferrer\">Check here</a>)</p>\n<pre><code>MonthAdapter.CalendarDay calendarDay = monthAdapter.getItem(16);\n\ncalendarView.setDateTextAppearance(calendarDay, R.style.MyCustomDayStyle);\n</code></pre>\n<p>Finally show your dialog.</p>\n<pre><code>datePickerDialog.show();\n</code></pre>\n<p>I hope it works.</p>\n<p><strong>EDIT:</strong></p>\n<p>Don't forget to add your custom style into <code>style.xml</code> file.</p>\n<pre><code>&lt;style name=&quot;MyCustomDayStyle&quot;&gt;\n&lt;item name=&quot;android:background&quot;&gt;@drawable/custom_background&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":28301869,"reputation":11,"user_id":21640442,"display_name":"Siva Siva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681472319,"creation_date":1681460164,"question_id":76012953,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nFor example, in this image 17th different background and 26th different background.\r\n\r\nExpecting showing differentiation normal days and important days\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8PtAT.png","title":"how to change particular date background using drawable resource file in android date picker","body":"<p><a href=\"https://i.stack.imgur.com/8PtAT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8PtAT.png\" alt=\"enter image description here\" /></a></p>\n<p>For example, in this image 17th different background and 26th different background.</p>\n<p>Expecting showing differentiation normal days and important days</p>\n"},{"tags":["java","android","androidx","android-number-picker"],"owner":{"account_id":6196745,"reputation":83,"user_id":4827819,"display_name":"lormiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681472248,"creation_date":1681472248,"question_id":76014702,"body_markdown":"So I&#39;m trying to make a working NumberPicker that wraps together, but when the NumberPicker contains three values or less it doesn&#39;t wrap. Also scrolling is super choppy / barely possible with three values. Is there a workaround for this?\r\n\r\nMy NumberPicker will sometimes contain less than three values and sometimes more than three values and I want it to be wrapped all the time unless it only contains one item.\r\n\r\nHere&#39;s my code in onCreateView:\r\n\r\n```\r\n    View view = inflater.inflate(R.layout.bottomsheet_fragment, container, false);\r\n    NumberPicker picker = view.findViewById(R.id.mPicker);\r\n\r\n    picker.setWrapSelectorWheel(true);\r\n    picker.setDisplayedValues(null);\r\n\r\n    String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;};\r\n    picker.setMinValue(0);\r\n    picker.setMaxValue(values.length - 1);\r\n    picker.setDisplayedValues(values);\r\n\r\n    picker.setValue(0);\r\n    View view = inflater.inflate(R.layout.bottomsheet, container, false);\r\n    NumberPicker picker = view.findViewById(R.id.mPicker);\r\n\r\n    picker.setWrapSelectorWheel(true);\r\n    picker.setDisplayedValues(null);\r\n\r\n    String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;};\r\n\r\n    /*When using the values array below, the wrapping works as intended*/\r\n    //String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;, &quot;Test4&quot;};\r\n\r\n    picker.setMinValue(0);\r\n    picker.setMaxValue(values.length - 1);\r\n    picker.setDisplayedValues(values);\r\n\r\n    picker.setValue(0);```\r\n\r\n","title":"NumberPicker is not working properly if containing 3 or less values in Android","body":"<p>So I'm trying to make a working NumberPicker that wraps together, but when the NumberPicker contains three values or less it doesn't wrap. Also scrolling is super choppy / barely possible with three values. Is there a workaround for this?</p>\n<p>My NumberPicker will sometimes contain less than three values and sometimes more than three values and I want it to be wrapped all the time unless it only contains one item.</p>\n<p>Here's my code in onCreateView:</p>\n<pre><code>    View view = inflater.inflate(R.layout.bottomsheet_fragment, container, false);\n    NumberPicker picker = view.findViewById(R.id.mPicker);\n\n    picker.setWrapSelectorWheel(true);\n    picker.setDisplayedValues(null);\n\n    String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;};\n    picker.setMinValue(0);\n    picker.setMaxValue(values.length - 1);\n    picker.setDisplayedValues(values);\n\n    picker.setValue(0);\n    View view = inflater.inflate(R.layout.bottomsheet, container, false);\n    NumberPicker picker = view.findViewById(R.id.mPicker);\n\n    picker.setWrapSelectorWheel(true);\n    picker.setDisplayedValues(null);\n\n    String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;};\n\n    /*When using the values array below, the wrapping works as intended*/\n    //String[] values = {&quot;Test1&quot;, &quot;Test2&quot;, &quot;Test3&quot;, &quot;Test4&quot;};\n\n    picker.setMinValue(0);\n    picker.setMaxValue(values.length - 1);\n    picker.setDisplayedValues(values);\n\n    picker.setValue(0);```\n\n</code></pre>\n"},{"tags":["java","spring-boot","webgoat"],"answers":[{"tags":[],"owner":{"account_id":6226183,"reputation":736,"user_id":4844359,"display_name":"unacorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681471966,"creation_date":1681471966,"answer_id":76014669,"question_id":76004110,"body_markdown":"Somehow I get to make it work, so from the https://github.com/WebGoat/WebGoat downloaded,\r\n\r\nchange the default path in the `src/main/resources/application-webgoat.properties` file, for the line `server.servlet.context-path=/` (from `/WebGoat`)","title":"Webgoat - changing default path causing app not started properly","body":"<p>Somehow I get to make it work, so from the <a href=\"https://github.com/WebGoat/WebGoat\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat</a> downloaded,</p>\n<p>change the default path in the <code>src/main/resources/application-webgoat.properties</code> file, for the line <code>server.servlet.context-path=/</code> (from <code>/WebGoat</code>)</p>\n"}],"owner":{"account_id":6226183,"reputation":736,"user_id":4844359,"display_name":"unacorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76014669,"answer_count":1,"score":0,"last_activity_date":1681471966,"creation_date":1681379970,"question_id":76004110,"body_markdown":"I am using https://github.com/WebGoat/WebGoat, trying to change the default path from `/WebGoat` to just `/`. I changed in the application properties file `server.servlet.context-path=/` and rebuild the application. \r\n\r\nHowever after that, I noticed the execution stops at `StartWebGoat.java` stage https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartWebGoat.java when it runs `SpringApplicationBuilder` . \r\n\r\n        64ca, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e3b7b0b]\r\n    2023-04-13 17:02:30.790  INFO 69552 --- [           main] io.undertow                              : starting server: Undertow - 2.2.18.Final\r\n    2023-04-13 17:02:30.794  INFO 69552 --- [           main] o.s.b.w.e.undertow.UndertowWebServer     : Undertow started on port(s) 9090 (http)\r\n\r\nit didn&#39;t proceed with the next step running the `StartUpMessage.Java` https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartupMessage.java\r\n\r\nI couldn&#39;t find any clue that points to why the event isn&#39;t triggered after changing the `context-path` in the `application.properties` file https://github.com/WebGoat/WebGoat/blob/main/src/main/resources/application-webgoat.properties. Can anyone shed some light on this? ","title":"Webgoat - changing default path causing app not started properly","body":"<p>I am using <a href=\"https://github.com/WebGoat/WebGoat\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat</a>, trying to change the default path from <code>/WebGoat</code> to just <code>/</code>. I changed in the application properties file <code>server.servlet.context-path=/</code> and rebuild the application.</p>\n<p>However after that, I noticed the execution stops at <code>StartWebGoat.java</code> stage <a href=\"https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartWebGoat.java\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartWebGoat.java</a> when it runs <code>SpringApplicationBuilder</code> .</p>\n<pre><code>    64ca, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e3b7b0b]\n2023-04-13 17:02:30.790  INFO 69552 --- [           main] io.undertow                              : starting server: Undertow - 2.2.18.Final\n2023-04-13 17:02:30.794  INFO 69552 --- [           main] o.s.b.w.e.undertow.UndertowWebServer     : Undertow started on port(s) 9090 (http)\n</code></pre>\n<p>it didn't proceed with the next step running the <code>StartUpMessage.Java</code> <a href=\"https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartupMessage.java\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat/blob/main/src/main/java/org/owasp/webgoat/server/StartupMessage.java</a></p>\n<p>I couldn't find any clue that points to why the event isn't triggered after changing the <code>context-path</code> in the <code>application.properties</code> file <a href=\"https://github.com/WebGoat/WebGoat/blob/main/src/main/resources/application-webgoat.properties\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat/blob/main/src/main/resources/application-webgoat.properties</a>. Can anyone shed some light on this?</p>\n"},{"tags":["java","oracle","jdbc"],"answers":[{"comments":[{"owner":{"account_id":109692,"reputation":3193,"user_id":290535,"accept_rate":66,"display_name":"chetan"},"score":0,"creation_date":1332938375,"post_id":9907299,"comment_id":12641388,"body_markdown":"can u please provide alternative ?","body":"can u please provide alternative ?"},{"owner":{"account_id":20657,"reputation":8081,"user_id":49573,"accept_rate":78,"display_name":"maximdim"},"score":0,"creation_date":1332939325,"post_id":9907299,"comment_id":12641780,"body_markdown":"How can I  possibly provide alternative if I don&#39;t know the problem you&#39;re trying to solve? :)","body":"How can I  possibly provide alternative if I don&#39;t know the problem you&#39;re trying to solve? :)"}],"tags":[],"owner":{"account_id":20657,"reputation":8081,"user_id":49573,"accept_rate":78,"display_name":"maximdim"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332936992,"creation_date":1332936992,"answer_id":9907299,"question_id":9906998,"body_markdown":"Try:\r\n\r\n    connection.setAutoCommit(false); \r\n\r\nAs a general note, &#39;select ... for update&#39; is not the best locking strategy.","title":"java.sql.SQLException: ORA-01002: fetch out of sequence","body":"<p>Try:</p>\n\n<pre><code>connection.setAutoCommit(false); \n</code></pre>\n\n<p>As a general note, 'select ... for update' is not the best locking strategy.</p>\n"},{"comments":[{"owner":{"account_id":109692,"reputation":3193,"user_id":290535,"accept_rate":66,"display_name":"chetan"},"score":0,"creation_date":1332938106,"post_id":9907401,"comment_id":12641255,"body_markdown":"Yes it works but now process stoped at line   ResultSet rSet = pStatement.executeQuery();","body":"Yes it works but now process stoped at line   ResultSet rSet = pStatement.executeQuery();"},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1332938201,"post_id":9907401,"comment_id":12641291,"body_markdown":"@chetan: Probably because it can&#39;t take out the lock, because something else has already locked it. Impossible to say for sure.","body":"@chetan: Probably because it can&#39;t take out the lock, because something else has already locked it. Impossible to say for sure."},{"owner":{"account_id":3112142,"reputation":474,"user_id":2633702,"display_name":"srinivas"},"score":0,"creation_date":1439278201,"post_id":9907401,"comment_id":51782262,"body_markdown":"Yes, it worked on setting auto commit to false. Thank you","body":"Yes, it worked on setting auto commit to false. Thank you"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1332937375,"creation_date":1332937375,"answer_id":9907401,"question_id":9906998,"body_markdown":"`SELCT ... FOR UPDATE` only makes sense in the context of a managed transaction, since it requires locks to be taken out on the selected rows.\r\n\r\nBy default, JDBC does not use a managed transaction, it uses an implicitly created one that commits as soon as the query is executed. This will break the semantics of `SELECT ... FOR UPDATE`, and the JDBC driver complains.\r\n\r\nIn order to use a managed transaction, add \r\n\r\n    connection.setAutoCommit(false); \r\n\r\nbefore you execute the query. Afterwards, execute `connection.commit()`.","title":"java.sql.SQLException: ORA-01002: fetch out of sequence","body":"<p><code>SELCT ... FOR UPDATE</code> only makes sense in the context of a managed transaction, since it requires locks to be taken out on the selected rows.</p>\n\n<p>By default, JDBC does not use a managed transaction, it uses an implicitly created one that commits as soon as the query is executed. This will break the semantics of <code>SELECT ... FOR UPDATE</code>, and the JDBC driver complains.</p>\n\n<p>In order to use a managed transaction, add </p>\n\n<pre><code>connection.setAutoCommit(false); \n</code></pre>\n\n<p>before you execute the query. Afterwards, execute <code>connection.commit()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2318227,"reputation":959,"user_id":2034733,"accept_rate":69,"display_name":"fatih tekin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1372876145,"creation_date":1372833600,"answer_id":17441291,"question_id":9906998,"body_markdown":"instead of using executeQuery, you can use executeUpdate function.\r\nDo not use &quot;select for update&quot; instead directly try to update the rows in one transaction, This will give you the updated rows count. This way for example when two transaction tries to update a row , first one wins other returns zero and you know that first succeeds to update since it will return updated rowcount. ","title":"java.sql.SQLException: ORA-01002: fetch out of sequence","body":"<p>instead of using executeQuery, you can use executeUpdate function.\nDo not use \"select for update\" instead directly try to update the rows in one transaction, This will give you the updated rows count. This way for example when two transaction tries to update a row , first one wins other returns zero and you know that first succeeds to update since it will return updated rowcount. </p>\n"},{"tags":[],"owner":{"account_id":11370224,"reputation":11,"user_id":8335959,"display_name":"Lucky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564639169,"creation_date":1564639169,"answer_id":57302638,"question_id":9906998,"body_markdown":"I got the ORA-01002: fetch out of sequence issue with Spring JPA- Native SQL, for ORACLE MERGE statement.\r\n\r\nIssue is with hibernate session, I fixed it passing my datasource to jdbctemplate.\r\nExcluding Spring JPA native SQL and migrating to JDBC template resolved issue for me. I got issue only for ORACLE Merge statement and not for other SQL queries.\r\n\r\n@Bean\r\n    public JdbcTemplate getJdbcTemplate() throws Exception{\r\n        Map&lt;String,DataSource&gt; dataSources = applicationContext.getBeansOfType(DataSource.class);\r\n        Objects.requireNonNull(dataSources, &quot;Data Source is required&quot;);\r\n\r\n        DataSource dataSource = dataSources.entrySet().stream()\r\n                .filter(entry-&gt;entry.getKey().startsWith(&quot;abc&quot;))\r\n                .map(Map.Entry::getValue)\r\n                .findAny().orElseThrow(()-&gt; new Exception(&quot;DataSource ABC is required.&quot;));\r\n\r\n        return new JdbcTemplate(dataSource);\r\n    }","title":"java.sql.SQLException: ORA-01002: fetch out of sequence","body":"<p>I got the ORA-01002: fetch out of sequence issue with Spring JPA- Native SQL, for ORACLE MERGE statement.</p>\n\n<p>Issue is with hibernate session, I fixed it passing my datasource to jdbctemplate.\nExcluding Spring JPA native SQL and migrating to JDBC template resolved issue for me. I got issue only for ORACLE Merge statement and not for other SQL queries.</p>\n\n<p>@Bean\n    public JdbcTemplate getJdbcTemplate() throws Exception{\n        Map dataSources = applicationContext.getBeansOfType(DataSource.class);\n        Objects.requireNonNull(dataSources, \"Data Source is required\");</p>\n\n<pre><code>    DataSource dataSource = dataSources.entrySet().stream()\n            .filter(entry-&gt;entry.getKey().startsWith(\"abc\"))\n            .map(Map.Entry::getValue)\n            .findAny().orElseThrow(()-&gt; new Exception(\"DataSource ABC is required.\"));\n\n    return new JdbcTemplate(dataSource);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673028178,"post_id":75033783,"comment_id":132412871,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75033783/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17633979,"reputation":1,"user_id":12797569,"display_name":"Lokesh Prathapaneni"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677557707,"creation_date":1673023718,"answer_id":75033783,"question_id":9906998,"body_markdown":"You might need to use @Modifying for DML queries when using @Query","title":"java.sql.SQLException: ORA-01002: fetch out of sequence","body":"<p>You might need to use @Modifying for DML queries when using @Query</p>\n"}],"owner":{"account_id":109692,"reputation":3193,"user_id":290535,"accept_rate":66,"display_name":"chetan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34834,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":9907401,"answer_count":5,"score":2,"last_activity_date":1681471949,"creation_date":1332935814,"question_id":9906998,"body_markdown":"I have one demo application to check select for update query \r\n\r\n    public class Test implements Runnable{\r\n    \r\n    \tpublic Test() {\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tThread t1 = new Thread(new Test());\r\n    \t\tThread t2 = new Thread(new Test());\r\n    \t\t\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t}\r\n    \r\n    \tpublic void run() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\ttry{\r\n    \t\t\tString updateWith = &quot;&quot;;\r\n    \t\t\tString sel = &quot;SELECT SIDNUMBERTO FROM tblmserialbatchdetail WHERE sidnumberto = (&quot;+\r\n    \t\t\t&quot;SELECT max(sidnumberto) FROM tblmserialbatchdetail WHERE generationmode=&#39;A&#39; and nvl(serialprefix,&#39; &#39;) = nvl(&#39;&#39;,&#39; &#39;) &quot; +\r\n    \t\t\t&quot;and sidlengthwithoutprefix =12) FOR UPDATE&quot;;\r\n    \t\t\t//System.out.println(&quot;SELECT QUERY ===: &quot;+sel);\r\n    \t\t\tString updatequery = &quot;update tblmserialbatchdetail set sidnumberto = ? where serialbatchid = ?&quot;;\r\n    \t\t\tSystem.out.println();\r\n    \t\t\tConnection connection = Conn.getDBConnection();\r\n    \t\t\tPreparedStatement pStatement = connection.prepareStatement(sel);\r\n    \t\t\t\r\n    \t\t\tResultSet rSet = pStatement.executeQuery();\r\n    \t\t\t\r\n    \t\t\twhile(rSet.next()){\r\n    \t\t\t\t\r\n    \t\t\t\tupdateWith = rSet.getString(1);\r\n    \t\t\t\tlong value = Long.parseLong(updateWith)+1;\r\n    \t\t\t\tupdateWith = String.valueOf(value);\r\n    \t\t\t\tSystem.out.println(&quot;resulet To be Updated ===&gt; &quot;+value);\r\n    \t\t\t}\r\n    \t\t\tconnection.commit();\r\n    \t\t\tconnection.close();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\r\n    \t\t}catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis works fine if i remove For update from select query otherwise give me error \r\n\r\n    java.sql.SQLException: ORA-01002: fetch out of sequence\r\n    \r\n    \tat oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:180)\r\n    \tat oracle.jdbc.ttc7.TTIoer.processError(TTIoer.java:208)\r\n    \tat oracle.jdbc.ttc7.Oall7.receive(Oall7.java:543)\r\n    \tat oracle.jdbc.ttc7.TTC7Protocol.doOall7(TTC7Protocol.java:1451)\r\n    \tat oracle.jdbc.ttc7.TTC7Protocol.fetch(TTC7Protocol.java:943)\r\n    \tat oracle.jdbc.driver.OracleStatement.doExecuteQuery(OracleStatement.java:2119)\r\n    \tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:2324)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:421)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:365)\r\n    \tat com.response.Test.run(Test.java:47)\r\n    \tat java.lang.Thread.run(Thread.java:595)","title":"java.sql.SQLException: ORA-01002: fetch out of sequence","body":"<p>I have one demo application to check select for update query </p>\n\n<pre><code>public class Test implements Runnable{\n\n    public Test() {\n    }\n\n    public static void main(String[] args) {\n        Thread t1 = new Thread(new Test());\n        Thread t2 = new Thread(new Test());\n\n        t1.start();\n        t2.start();\n    }\n\n    public void run() {\n        // TODO Auto-generated method stub\n        try{\n            String updateWith = \"\";\n            String sel = \"SELECT SIDNUMBERTO FROM tblmserialbatchdetail WHERE sidnumberto = (\"+\n            \"SELECT max(sidnumberto) FROM tblmserialbatchdetail WHERE generationmode='A' and nvl(serialprefix,' ') = nvl('',' ') \" +\n            \"and sidlengthwithoutprefix =12) FOR UPDATE\";\n            //System.out.println(\"SELECT QUERY ===: \"+sel);\n            String updatequery = \"update tblmserialbatchdetail set sidnumberto = ? where serialbatchid = ?\";\n            System.out.println();\n            Connection connection = Conn.getDBConnection();\n            PreparedStatement pStatement = connection.prepareStatement(sel);\n\n            ResultSet rSet = pStatement.executeQuery();\n\n            while(rSet.next()){\n\n                updateWith = rSet.getString(1);\n                long value = Long.parseLong(updateWith)+1;\n                updateWith = String.valueOf(value);\n                System.out.println(\"resulet To be Updated ===&gt; \"+value);\n            }\n            connection.commit();\n            connection.close();\n\n\n\n        }catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p>This works fine if i remove For update from select query otherwise give me error </p>\n\n<pre><code>java.sql.SQLException: ORA-01002: fetch out of sequence\n\n    at oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java:180)\n    at oracle.jdbc.ttc7.TTIoer.processError(TTIoer.java:208)\n    at oracle.jdbc.ttc7.Oall7.receive(Oall7.java:543)\n    at oracle.jdbc.ttc7.TTC7Protocol.doOall7(TTC7Protocol.java:1451)\n    at oracle.jdbc.ttc7.TTC7Protocol.fetch(TTC7Protocol.java:943)\n    at oracle.jdbc.driver.OracleStatement.doExecuteQuery(OracleStatement.java:2119)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:2324)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:421)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:365)\n    at com.response.Test.run(Test.java:47)\n    at java.lang.Thread.run(Thread.java:595)\n</code></pre>\n"},{"tags":["java","android","kotlin","mvvm","viewmodel"],"owner":{"account_id":13903922,"reputation":796,"user_id":10076942,"display_name":"Pooja Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681471866,"creation_date":1681471866,"question_id":76014649,"body_markdown":"\r\n**is there anything wrong with this specific line of code in terms of mvvm pattern?**\r\n\r\n    viewModel.selectEnvironment(selectedBuildType, viewModel.getIsIgnoreCaptchaEnabled());\r\n\r\n**Code for reference -** \r\n\r\n*Activity*\r\n\r\n    viewModel.selectEnvironment(selectedBuildType, viewModel.getIsIgnoreCaptchaEnabled());\r\n    \r\n    binding.switchBtn.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n                viewModel.setIgnoreCaptchaEnabled(isChecked);\r\n                viewModel.enableCaptcha();\r\n    });\r\n\r\n*Viewmodel*\r\n    \r\n   \r\n\r\n     public void selectEnvironment(@NonNull final String environmentName, boolean isChecked) {\r\n    buildTypeManager.setBuildType(effectiveEnvironment);\r\n                enableCaptcha();\r\n            }\r\n    \r\n    public void enableCaptcha() {\r\n                if (isIgnoreCaptchaEnabled) {\r\n                    // some logic\r\n                } else {\r\n                    // ...\r\n                }\r\n            }\r\n        \r\n        public boolean getIsIgnoreCaptchaEnabled() {\r\n                return isIgnoreCaptchaEnabled;\r\n            }\r\n        \r\n         public void setIgnoreCaptchaEnabled(boolean isIgnoreCaptchaEnabled) {\r\n                this.isIgnoreCaptchaEnabled = isIgnoreCaptchaEnabled;\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n ","title":"is this code breaking mvvm architecture in any way? if yes, how? And what can be done instead?","body":"<p><strong>is there anything wrong with this specific line of code in terms of mvvm pattern?</strong></p>\n<pre><code>viewModel.selectEnvironment(selectedBuildType, viewModel.getIsIgnoreCaptchaEnabled());\n</code></pre>\n<p><strong>Code for reference -</strong></p>\n<p><em>Activity</em></p>\n<pre><code>viewModel.selectEnvironment(selectedBuildType, viewModel.getIsIgnoreCaptchaEnabled());\n\nbinding.switchBtn.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            viewModel.setIgnoreCaptchaEnabled(isChecked);\n            viewModel.enableCaptcha();\n});\n</code></pre>\n<p><em>Viewmodel</em></p>\n<pre><code> public void selectEnvironment(@NonNull final String environmentName, boolean isChecked) {\nbuildTypeManager.setBuildType(effectiveEnvironment);\n            enableCaptcha();\n        }\n\npublic void enableCaptcha() {\n            if (isIgnoreCaptchaEnabled) {\n                // some logic\n            } else {\n                // ...\n            }\n        }\n    \n    public boolean getIsIgnoreCaptchaEnabled() {\n            return isIgnoreCaptchaEnabled;\n        }\n    \n     public void setIgnoreCaptchaEnabled(boolean isIgnoreCaptchaEnabled) {\n            this.isIgnoreCaptchaEnabled = isIgnoreCaptchaEnabled;\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","logging","webgoat"],"answers":[{"tags":[],"owner":{"account_id":6226183,"reputation":736,"user_id":4844359,"display_name":"unacorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681471850,"creation_date":1681471850,"answer_id":76014646,"question_id":76003791,"body_markdown":"Figured out - to add http code status logging, just add a `logback.xml` file with configuration:\r\n\r\n    &lt;configuration&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\r\n    &lt;logger name=&quot;org.springframework.web&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\nFor the specific example with this https://github.com/WebGoat/WebGoat app, the location of the `logback.xml` file will be in the `src/main/resources/` folder. \r\n\r\n(Note: some test cases will fail, but just proceed to reinstall and containerize it to execute after that as stated in the github steps :\r\n\r\n    # On Linux/Mac:\r\n    ./mvnw clean install\r\n    \r\n    # On Windows:\r\n    ./mvnw.cmd clean install\r\n\r\n    # Using docker or podman, you can than build the container locally\r\n    docker build -f Dockerfile . -t webgoat/webgoat\r\n    \r\n    Now we are ready to run the project. WebGoat is using Spring Boot.\r\n    \r\n    # On Linux/Mac:\r\n    ./mvnw spring-boot:run\r\n    # On Windows:\r\n    ./mvnw.cmd spring-boot:run\r\n\r\n\r\nAnd you will see the http code status logged after that when u run it locally or in chosen path.","title":"WebGoat springboot java app - not logging http status code in console","body":"<p>Figured out - to add http code status logging, just add a <code>logback.xml</code> file with configuration:</p>\n<pre><code>&lt;configuration&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\n&lt;logger name=&quot;org.springframework.web&quot; level=&quot;DEBUG&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>For the specific example with this <a href=\"https://github.com/WebGoat/WebGoat\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat</a> app, the location of the <code>logback.xml</code> file will be in the <code>src/main/resources/</code> folder.</p>\n<p>(Note: some test cases will fail, but just proceed to reinstall and containerize it to execute after that as stated in the github steps :</p>\n<pre><code># On Linux/Mac:\n./mvnw clean install\n\n# On Windows:\n./mvnw.cmd clean install\n\n# Using docker or podman, you can than build the container locally\ndocker build -f Dockerfile . -t webgoat/webgoat\n\nNow we are ready to run the project. WebGoat is using Spring Boot.\n\n# On Linux/Mac:\n./mvnw spring-boot:run\n# On Windows:\n./mvnw.cmd spring-boot:run\n</code></pre>\n<p>And you will see the http code status logged after that when u run it locally or in chosen path.</p>\n"}],"owner":{"account_id":6226183,"reputation":736,"user_id":4844359,"display_name":"unacorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76014646,"answer_count":1,"score":0,"last_activity_date":1681471850,"creation_date":1681377761,"question_id":76003791,"body_markdown":"I am using https://github.com/WebGoat/WebGoat, trying to change couple of configs below but none works. I am not expert in Java so hope to have some insights what&#39;s wrong in my config. \r\n\r\n1) What I want to achieve: logging http status code in console / any log driver\r\nwhen i execute the app, there are some logs appeared in the terminal but I want the http status code 200 or 302 etc whenever we access the pages. \r\n\r\nFor example, when I access `http://127.0.0.1:8080/WebGoat`, there should be http code 302 with a redirect. Or when I refresh on http://127.0.0.1:8080/login, there should be http code 200 like what I got from `curl -i http://127.0.0.1:8080/login` \r\n\r\nWhat I did: i have updated the `application.properties` file logging sections to DEBUG level \r\n\r\n    logging.level.org.thymeleaf=DEBUG\r\n    logging.level.org.thymeleaf.TemplateEngine.CONFIG=DEBUG\r\n    logging.level.org.thymeleaf.TemplateEngine.TIMER=DEBUG\r\n    logging.level.org.thymeleaf.TemplateEngine.cache.TEMPLATE_CACHE=DEBUG\r\n    logging.level.org.springframework.web=DEBUG\r\n    logging.level.org.springframework=DEBUG\r\n    logging.level.org.springframework.boot.devtools=DEBUG\r\n    logging.level.org.owasp=DEBUG\r\n    logging.level.org.owasp.webgoat=DEBUG\r\n    logging.level.org.owasp.webgoat=DEBUG\r\n\r\nHowever none of these appear when I access the page from browser. The logs merely shows actions of initialization, further refresh or accessing the page doesn&#39;t log any status code:\r\n\r\n    2023-04-13 17:02:30.794  INFO 69552 --- [           main] \r\n\r\n    o.s.b.w.e.undertow.UndertowWebServer     : Undertow started on port(s) 9090 (http)\r\n    2023-04-13 17:02:30.804  INFO 69552 --- [           main] org.owasp.webgoat.server.StartWebGoat    : Started StartWebGoat in 0.653 seconds (JVM running for 10.763)\r\n    2023-04-13 17:02:30.805  INFO 69552 --- [           main] org.owasp.webgoat.server.StartupMessage  : Please browse to http://127.0.0.1:8080/WebGoat to get started...\r\n    2023-04-13 17:02:59.997  INFO 69552 --- [  XNIO-1 task-2] io.undertow.servlet                      : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-04-13 17:02:59.997  INFO 69552 --- [  XNIO-1 task-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-04-13 17:03:00.000  INFO 69552 --- [  XNIO-1 task-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms\r\n\r\n\r\nWhen I inspect the network on browser, I can see the status code (image) [![browser network log shows status code][1]][1]. What is missing here? If I need to add logging action `log.debug` somewhere, any guidance on that?\r\n\r\nI have searched through those files in the main webgoat application, but a bit confused as where should i add further. I thought the application.properties file did configure logging with `logging.level.org.owasp=DEBUG` stated. \r\n\r\nhttps://github.com/WebGoat/WebGoat/tree/main/src/main/java/org/owasp/webgoat\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F8AaY.png","title":"WebGoat springboot java app - not logging http status code in console","body":"<p>I am using <a href=\"https://github.com/WebGoat/WebGoat\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat</a>, trying to change couple of configs below but none works. I am not expert in Java so hope to have some insights what's wrong in my config.</p>\n<ol>\n<li>What I want to achieve: logging http status code in console / any log driver\nwhen i execute the app, there are some logs appeared in the terminal but I want the http status code 200 or 302 etc whenever we access the pages.</li>\n</ol>\n<p>For example, when I access <code>http://127.0.0.1:8080/WebGoat</code>, there should be http code 302 with a redirect. Or when I refresh on <a href=\"http://127.0.0.1:8080/login\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080/login</a>, there should be http code 200 like what I got from <code>curl -i http://127.0.0.1:8080/login</code></p>\n<p>What I did: i have updated the <code>application.properties</code> file logging sections to DEBUG level</p>\n<pre><code>logging.level.org.thymeleaf=DEBUG\nlogging.level.org.thymeleaf.TemplateEngine.CONFIG=DEBUG\nlogging.level.org.thymeleaf.TemplateEngine.TIMER=DEBUG\nlogging.level.org.thymeleaf.TemplateEngine.cache.TEMPLATE_CACHE=DEBUG\nlogging.level.org.springframework.web=DEBUG\nlogging.level.org.springframework=DEBUG\nlogging.level.org.springframework.boot.devtools=DEBUG\nlogging.level.org.owasp=DEBUG\nlogging.level.org.owasp.webgoat=DEBUG\nlogging.level.org.owasp.webgoat=DEBUG\n</code></pre>\n<p>However none of these appear when I access the page from browser. The logs merely shows actions of initialization, further refresh or accessing the page doesn't log any status code:</p>\n<pre><code>2023-04-13 17:02:30.794  INFO 69552 --- [           main] \n\no.s.b.w.e.undertow.UndertowWebServer     : Undertow started on port(s) 9090 (http)\n2023-04-13 17:02:30.804  INFO 69552 --- [           main] org.owasp.webgoat.server.StartWebGoat    : Started StartWebGoat in 0.653 seconds (JVM running for 10.763)\n2023-04-13 17:02:30.805  INFO 69552 --- [           main] org.owasp.webgoat.server.StartupMessage  : Please browse to http://127.0.0.1:8080/WebGoat to get started...\n2023-04-13 17:02:59.997  INFO 69552 --- [  XNIO-1 task-2] io.undertow.servlet                      : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-04-13 17:02:59.997  INFO 69552 --- [  XNIO-1 task-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-04-13 17:03:00.000  INFO 69552 --- [  XNIO-1 task-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms\n</code></pre>\n<p>When I inspect the network on browser, I can see the status code (image) <a href=\"https://i.stack.imgur.com/F8AaY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F8AaY.png\" alt=\"browser network log shows status code\" /></a>. What is missing here? If I need to add logging action <code>log.debug</code> somewhere, any guidance on that?</p>\n<p>I have searched through those files in the main webgoat application, but a bit confused as where should i add further. I thought the application.properties file did configure logging with <code>logging.level.org.owasp=DEBUG</code> stated.</p>\n<p><a href=\"https://github.com/WebGoat/WebGoat/tree/main/src/main/java/org/owasp/webgoat\" rel=\"nofollow noreferrer\">https://github.com/WebGoat/WebGoat/tree/main/src/main/java/org/owasp/webgoat</a></p>\n"},{"tags":["java","junit5","testcase","test-suite","sts"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1681450367,"post_id":76010955,"comment_id":134061158,"body_markdown":"What test runner are you using? How does your Gradle/Maven file look like?","body":"What test runner are you using? How does your Gradle/Maven file look like?"},{"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"score":0,"creation_date":1681471375,"post_id":76010955,"comment_id":134065538,"body_markdown":"@johanneslink, I&#39;m using STS4 graphical test runner. Let me edit my question with my pom.xml.","body":"@johanneslink, I&#39;m using STS4 graphical test runner. Let me edit my question with my pom.xml."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1681641808,"post_id":76010955,"comment_id":134086348,"body_markdown":"Next step: Create a minimum and reproducible example: \n- Remove everything from both pom and test class that&#39;s not necessary for reproducing the behaviour. Eg no test method bodies, fewer test methods, no injected members etc\n- Add all the missing code necessary to reproduce the behaviour. Eg MovieRepository class, Spring application class, bean configuration etc.","body":"Next step: Create a minimum and reproducible example:  - Remove everything from both pom and test class that&#39;s not necessary for reproducing the behaviour. Eg no test method bodies, fewer test methods, no injected members etc - Add all the missing code necessary to reproduce the behaviour. Eg MovieRepository class, Spring application class, bean configuration etc."}],"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681471568,"creation_date":1681435835,"question_id":76010955,"body_markdown":"On my common sense, below figure should display 6/6 instead of 1/6 and green arrow on the first test case. What should I do next?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    package space.bumtiger.test.reposi;\r\n    \r\n    import static org.assertj.core.api.Assertions.assertThat;\r\n    import static org.junit.jupiter.api.Assertions.assertNotEquals;\r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.Month;\r\n    import java.util.Collection;\r\n    import java.util.stream.StreamSupport;\r\n    \r\n    import org.junit.jupiter.api.DisplayName;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.data.jdbc.DataJdbcTest;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n    \r\n    import space.bumtiger.test.model.Movie;\r\n    \r\n    @DataJdbcTest\r\n    @DisplayName(&quot;H2 database movie table operations&quot;)\r\n    public class MovieRepositoryTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate MovieRepository repository;\r\n    \r\n    \t@Test\r\n    \t@DisplayName(&quot;movie saved OK&quot;)\r\n    \tvoid save() {\r\n    \t\t// Arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tmovie.setGenera(&quot;War&quot;);\r\n    \t\tmovie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\r\n    \r\n    \t\t// Act\r\n    \t\tvar savedMovie = repository.save(movie);\r\n    \r\n    \t\t// Assert\r\n    \t\tassertNotNull(savedMovie);\r\n    \t\tassertThat(savedMovie.getId()).isNotEqualTo(null);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \t@DisplayName(&quot;movie list read OK&quot;)\r\n    \tvoid fetchAll() {\r\n    \t\t// Arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tmovie.setGenera(&quot;War&quot;);\r\n    \t\tmovie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\r\n    \t\trepository.save(movie);\r\n    \r\n    \t\tmovie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tmovie.setGenera(&quot;War&quot;);\r\n    \t\tmovie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\r\n    \t\trepository.save(movie);\r\n    \r\n    \t\t// act\r\n    \t\tIterable&lt;Movie&gt; movies = repository.findAll();\r\n    \r\n    \t\t// Assert 1\r\n    \t\tassertNotNull(movies);\r\n    \r\n    \t\tvar iter = movies.iterator();\r\n    \t\tint count = 0;\r\n    \t\twhile (iter.hasNext()) {\r\n    \t\t\titer.next();\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \r\n    \t\t// Assert 2\r\n    \t\tassertThat(count).isEqualTo(1);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \t@DisplayName(&quot;genera movie read OK&quot;)\r\n    \tvoid findRomanceMovie() {\r\n    \t\t// arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tString genera = &quot;역사&quot;;\r\n    \t\tmovie.setGenera(genera);\r\n    \t\tvar relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\trepository.save(movie);\r\n    \t\t\r\n    \t\tmovie = new Movie();\r\n    \t\tmovie.setName(&quot;Romio and Julliet&quot;);\r\n    \t\tmovie.setGenera(&quot;Romance&quot;);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\trepository.save(movie); \r\n    \t\t\r\n    \t\t// act\r\n    \t\tvar romances = repository.findByGenera(&quot;Romance&quot;);\r\n    \t\t\r\n    \t\t// assert\r\n    \t\tassertNotNull(romances);\r\n    \t\tassertThat(romances.size()).isEqualTo(1);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \t@DisplayName(&quot;movie deleted OK&quot;)\r\n    \tvoid deleteMovie() {\r\n    \t\t// arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tString genera = &quot;War&quot;;\r\n    \t\tmovie.setGenera(genera);\r\n    \t\tvar relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\tMovie firstMovie = repository.save(movie);\r\n    \t\t\r\n    \t\tmovie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tmovie.setGenera(genera);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\trepository.save(movie); // save movie again\r\n    \t\t\r\n    \t\t// act\r\n    \t\trepository.delete(firstMovie);\r\n    \t\t\r\n    \t\t// assert\r\n    \t\tvar optionalMovie = repository.findById(firstMovie.getId());\r\n    \t\tassertTrue(optionalMovie.isEmpty());\r\n    \t\t\r\n    \t\tint count = 0;\r\n    \t\tvar movies = repository.findAll();\r\n    \t\tvar iter = movies.iterator();\r\n    \t\twhile (iter.hasNext()) {\r\n    \t\t\tcount++;\r\n    \t\t}\r\n    \t\tassertThat(count).isEqualTo(10);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \t@DisplayName(&quot;movie genera updated OK&quot;)\r\n    \tvoid updateMovie() {\r\n    \t\t// arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tString genera = &quot;War&quot;;\r\n    \t\tmovie.setGenera(genera);\r\n    \t\tvar relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\trepository.save(movie);\r\n    \t\tvar foundMovie = repository.findById(movie.getId());\r\n    \t\t\r\n    \t\t// act\r\n    \t\tString newGenere = &quot;역사&quot;;\r\n    \t\tfoundMovie.ifPresent(m -&gt; m.setGenera(newGenere));\r\n    \t\trepository.save(foundMovie.get());\r\n    \t\tfoundMovie = repository.findById(movie.getId());\r\n    \t\t\r\n    \t\t// assert\r\n    \t\tassertNotNull(foundMovie);\r\n    \t\tassertThat(foundMovie.get().getGenera()).isEqualTo(newGenere);\r\n    \t\tassertNotEquals(movie.getGenera(), foundMovie.get().getGenera());\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \t@DisplayName(&quot;movie found by ID OK&quot;)\r\n    \tvoid findMovieById() {\r\n    \t\t// Arrange\r\n    \t\tvar movie = new Movie();\r\n    \t\tmovie.setName(&quot;WWII&quot;);\r\n    \t\tString genera = &quot;War&quot;;\r\n    \t\tmovie.setGenera(genera);\r\n    \t\tvar relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\r\n    \t\tmovie.setReleaseDate(relDate);\r\n    \t\tvar savedMovie = repository.save(movie);\r\n    \t\t\r\n    \t\t// Act\r\n    \t\tvar foundMovie = repository.findById(savedMovie.getId());\r\n    \t\t\r\n    \t\t// Assert\r\n    \t\tassertNotNull(foundMovie);\r\n    \t\tMovie fMovie = foundMovie.isPresent() ? foundMovie.get() : null;\r\n    \t\tassertThat(fMovie.getGenera()).isEqualTo(genera);\r\n    \t\tassertThat(fMovie.getReleaseDate()).isAfter(relDate.minusDays(1L));\r\n    \t}\r\n    \r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;space.bumtiger.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-jdbc-junit&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;spring-jdbc-junit&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for thymeleaf layout example&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/jzz2K.png","title":"How to run JUnit 5 test cases in a class","body":"<p>On my common sense, below figure should display 6/6 instead of 1/6 and green arrow on the first test case. What should I do next?</p>\n<p><a href=\"https://i.stack.imgur.com/jzz2K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jzz2K.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package space.bumtiger.test.reposi;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.junit.jupiter.api.Assertions.assertNotEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.Collection;\nimport java.util.stream.StreamSupport;\n\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.data.jdbc.DataJdbcTest;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\n\nimport space.bumtiger.test.model.Movie;\n\n@DataJdbcTest\n@DisplayName(&quot;H2 database movie table operations&quot;)\npublic class MovieRepositoryTest {\n\n    @Autowired\n    private MovieRepository repository;\n\n    @Test\n    @DisplayName(&quot;movie saved OK&quot;)\n    void save() {\n        // Arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        movie.setGenera(&quot;War&quot;);\n        movie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\n\n        // Act\n        var savedMovie = repository.save(movie);\n\n        // Assert\n        assertNotNull(savedMovie);\n        assertThat(savedMovie.getId()).isNotEqualTo(null);\n    }\n\n    @Test\n    @DisplayName(&quot;movie list read OK&quot;)\n    void fetchAll() {\n        // Arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        movie.setGenera(&quot;War&quot;);\n        movie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\n        repository.save(movie);\n\n        movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        movie.setGenera(&quot;War&quot;);\n        movie.setReleaseDate(LocalDate.of(2009, Month.NOVEMBER, 10));\n        repository.save(movie);\n\n        // act\n        Iterable&lt;Movie&gt; movies = repository.findAll();\n\n        // Assert 1\n        assertNotNull(movies);\n\n        var iter = movies.iterator();\n        int count = 0;\n        while (iter.hasNext()) {\n            iter.next();\n            count++;\n        }\n\n        // Assert 2\n        assertThat(count).isEqualTo(1);\n    }\n\n    @Test\n    @DisplayName(&quot;genera movie read OK&quot;)\n    void findRomanceMovie() {\n        // arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        String genera = &quot;역사&quot;;\n        movie.setGenera(genera);\n        var relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\n        movie.setReleaseDate(relDate);\n        repository.save(movie);\n        \n        movie = new Movie();\n        movie.setName(&quot;Romio and Julliet&quot;);\n        movie.setGenera(&quot;Romance&quot;);\n        movie.setReleaseDate(relDate);\n        repository.save(movie); \n        \n        // act\n        var romances = repository.findByGenera(&quot;Romance&quot;);\n        \n        // assert\n        assertNotNull(romances);\n        assertThat(romances.size()).isEqualTo(1);\n    }\n    \n    @Test\n    @DisplayName(&quot;movie deleted OK&quot;)\n    void deleteMovie() {\n        // arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        String genera = &quot;War&quot;;\n        movie.setGenera(genera);\n        var relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\n        movie.setReleaseDate(relDate);\n        Movie firstMovie = repository.save(movie);\n        \n        movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        movie.setGenera(genera);\n        movie.setReleaseDate(relDate);\n        repository.save(movie); // save movie again\n        \n        // act\n        repository.delete(firstMovie);\n        \n        // assert\n        var optionalMovie = repository.findById(firstMovie.getId());\n        assertTrue(optionalMovie.isEmpty());\n        \n        int count = 0;\n        var movies = repository.findAll();\n        var iter = movies.iterator();\n        while (iter.hasNext()) {\n            count++;\n        }\n        assertThat(count).isEqualTo(10);\n    }\n\n    @Test\n    @DisplayName(&quot;movie genera updated OK&quot;)\n    void updateMovie() {\n        // arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        String genera = &quot;War&quot;;\n        movie.setGenera(genera);\n        var relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\n        movie.setReleaseDate(relDate);\n        repository.save(movie);\n        var foundMovie = repository.findById(movie.getId());\n        \n        // act\n        String newGenere = &quot;역사&quot;;\n        foundMovie.ifPresent(m -&gt; m.setGenera(newGenere));\n        repository.save(foundMovie.get());\n        foundMovie = repository.findById(movie.getId());\n        \n        // assert\n        assertNotNull(foundMovie);\n        assertThat(foundMovie.get().getGenera()).isEqualTo(newGenere);\n        assertNotEquals(movie.getGenera(), foundMovie.get().getGenera());\n    }\n    \n    @Test\n    @DisplayName(&quot;movie found by ID OK&quot;)\n    void findMovieById() {\n        // Arrange\n        var movie = new Movie();\n        movie.setName(&quot;WWII&quot;);\n        String genera = &quot;War&quot;;\n        movie.setGenera(genera);\n        var relDate = LocalDate.of(2009, Month.NOVEMBER, 10);\n        movie.setReleaseDate(relDate);\n        var savedMovie = repository.save(movie);\n        \n        // Act\n        var foundMovie = repository.findById(savedMovie.getId());\n        \n        // Assert\n        assertNotNull(foundMovie);\n        Movie fMovie = foundMovie.isPresent() ? foundMovie.get() : null;\n        assertThat(fMovie.getGenera()).isEqualTo(genera);\n        assertThat(fMovie.getReleaseDate()).isAfter(relDate.minusDays(1L));\n    }\n\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;space.bumtiger.test&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc-junit&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-jdbc-junit&lt;/name&gt;\n    &lt;description&gt;Demo project for thymeleaf layout example&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","swing","netbeans","jlayeredpane"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1681441883,"post_id":76011324,"comment_id":134060355,"body_markdown":"Why? What is the information needed for? I suspect a possible xy-problem where the best solution is a completely different approach, to be hones.","body":"Why? What is the information needed for? I suspect a possible xy-problem where the best solution is a completely different approach, to be hones."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1681442314,"post_id":76011324,"comment_id":134060388,"body_markdown":"Sounds like something `CardLayout` might be able to solve","body":"Sounds like something <code>CardLayout</code> might be able to solve"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1681471332,"post_id":76011324,"comment_id":134065531,"body_markdown":"I agree with @MadProgrammer [comment](https://stackoverflow.com/questions/76011324/how-to-get-the-name-of-the-panel-your-jlayeredpane-is-on#comment134060388_76011324), i.e. _Sounds like something [CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) might be able to solve_","body":"I agree with @MadProgrammer <a href=\"https://stackoverflow.com/questions/76011324/how-to-get-the-name-of-the-panel-your-jlayeredpane-is-on#comment134060388_76011324\">comment</a>, i.e. <i>Sounds like something <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">CardLayout</a> might be able to solve</i>"},{"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"score":0,"creation_date":1681519764,"post_id":76011324,"comment_id":134074675,"body_markdown":"I am using cardLayout - I need this because I am reusing a class but through a different perspective - manager mode (allows access to 3 different types of accs), and staff mode (allows access to only 1 acc type (customer accounts)).","body":"I am using cardLayout - I need this because I am reusing a class but through a different perspective - manager mode (allows access to 3 different types of accs), and staff mode (allows access to only 1 acc type (customer accounts))."},{"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"score":0,"creation_date":1681519849,"post_id":76011324,"comment_id":134074679,"body_markdown":"The button &quot;add&quot; allows me to add an account, however the button&#39;s panel is accessed through ALL of my panels (regardless of account type), including other types of accounts besides customer accs. When I press &quot;back&quot; from the btn &quot;add&quot;&#39;s panel, it automatically brings me back to the screen where you select the acc type (which should NOT be accessed through staff). Changing it to come back to customer tab would be strange as it means that from any tab regardless of acc type, you press back and it goes to customer.","body":"The button &quot;add&quot; allows me to add an account, however the button&#39;s panel is accessed through ALL of my panels (regardless of account type), including other types of accounts besides customer accs. When I press &quot;back&quot; from the btn &quot;add&quot;&#39;s panel, it automatically brings me back to the screen where you select the acc type (which should NOT be accessed through staff). Changing it to come back to customer tab would be strange as it means that from any tab regardless of acc type, you press back and it goes to customer."},{"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"score":0,"creation_date":1681519893,"post_id":76011324,"comment_id":134074684,"body_markdown":"I hope this makes sense, if it does not please respond and I can add visuals","body":"I hope this makes sense, if it does not please respond and I can add visuals"}],"owner":{"account_id":28130890,"reputation":11,"user_id":21495460,"display_name":"csofi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681471473,"creation_date":1681441751,"question_id":76011324,"body_markdown":"Throughout my program, I use `JLayeredPane` a lot to layer panels. To traverse through these panels, I typically have code similar to this:\r\n```java\r\njLayeredPane.removeAll();\r\njLayeredPane.add(jPanel4);\r\njLayeredPane.revalidate();\r\njLayeredPane.repaint();\r\n```\r\nIn a different method, how am I able to see what panel I am on (or have added)? Would I only be able to do this with a variable indicating the panel or could I use `getLayer()` or something along those lines?\r\n\r\nI have tried `getLayer()`, however I don&#39;t really know how to quite use it as I would not be able to do something like `jLayeredPane.getLayer(jLayeredPane);`. So how do I properly see what panel I have added to my layered pane?\r\n","title":"How to get the name of the panel your JLayeredPane is on","body":"<p>Throughout my program, I use <code>JLayeredPane</code> a lot to layer panels. To traverse through these panels, I typically have code similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jLayeredPane.removeAll();\njLayeredPane.add(jPanel4);\njLayeredPane.revalidate();\njLayeredPane.repaint();\n</code></pre>\n<p>In a different method, how am I able to see what panel I am on (or have added)? Would I only be able to do this with a variable indicating the panel or could I use <code>getLayer()</code> or something along those lines?</p>\n<p>I have tried <code>getLayer()</code>, however I don't really know how to quite use it as I would not be able to do something like <code>jLayeredPane.getLayer(jLayeredPane);</code>. So how do I properly see what panel I have added to my layered pane?</p>\n"},{"tags":["java","string","encoding","utf-8","utf-16"],"comments":[{"owner":{"account_id":371823,"reputation":2742,"user_id":720569,"accept_rate":71,"display_name":"Rahul Borkar"},"score":0,"creation_date":1331717520,"post_id":9699071,"comment_id":12326066,"body_markdown":"http://stackoverflow.com/questions/4655250/difference-between-utf-8-and-utf-16, this might answer your question.","body":"<a href=\"http://stackoverflow.com/questions/4655250/difference-between-utf-8-and-utf-16\" title=\"difference between utf 8 and utf 16\">stackoverflow.com/questions/4655250/&hellip;</a>, this might answer your question."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1331717775,"post_id":9699071,"comment_id":12326161,"body_markdown":"What Java uses and what the JVM uses in-memory doesn&#39;t have to be the same. See my answer.","body":"What Java uses and what the JVM uses in-memory doesn&#39;t have to be the same. See my answer."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1331719275,"post_id":9699071,"comment_id":12326752,"body_markdown":"your main source of (official) information about Java should be http://java.sun.com ! (_despite of stackoverflow_)","body":"your main source of (official) information about Java should be <a href=\"http://java.sun.com\" rel=\"nofollow noreferrer\">java.sun.com</a> ! (<i>despite of stackoverflow</i>)"},{"owner":{"account_id":1317509,"reputation":5663,"user_id":1264058,"accept_rate":50,"display_name":"Johnny Lim"},"score":0,"creation_date":1331723920,"post_id":9699071,"comment_id":12328472,"body_markdown":"@CarlosHeuberger You&#39;re definitely right! Thanks for the advice :-)","body":"@CarlosHeuberger You&#39;re definitely right! Thanks for the advice :-)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1633807110,"post_id":9699071,"comment_id":122861075,"body_markdown":"Beware that the Java language specification explicitly doesn&#39;t define how strings are stored when in use, just that they are immutable (and there are some hints that they may be interned). So any answer should explicitly list the runtime, and since most of them do not, those are are all tosh.","body":"Beware that the Java language specification explicitly doesn&#39;t define how strings are stored when in use, just that they are immutable (and there are some hints that they may be interned). So any answer should explicitly list the runtime, and since most of them do not, those are are all tosh."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1666325005,"creation_date":1331717400,"answer_id":9699138,"question_id":9699071,"body_markdown":"You can confirm the following by looking at the source code of the relevant version of the `java.lang.String` class in OpenJDK.  (For some really old versions of Java, `String` was partly implemented in native code.  *That* source code is not publicly available.)\r\n\r\n**Prior to Java 9**, the standard in-memory representation for a Java `String` is UTF-16 code-units held in a `char[]`.  \r\n\r\nWith Java 6 update 21 and later, there was a non-standard option (`-XX:UseCompressedStrings`) to enable compressed strings.  This feature was removed in Java 7.\r\n\r\n**For Java 9 and later**, the implementation of `String` has been changed to use a compact representation *by default*.  The `java` command [documentation][1] now says this:\r\n\r\n&gt; -XX:-CompactStrings\r\n&gt;\r\n&gt; Disables the Compact Strings feature. **By default, this option is enabled.** When this option is enabled, Java Strings containing only single-byte characters are internally represented and stored as single-byte-per-character Strings using ISO-8859-1 / Latin-1 encoding. This reduces, by 50%, the amount of space required for Strings containing only single-byte characters. For Java Strings containing at least one multibyte character: these are represented and stored as 2 bytes per character using UTF-16 encoding. Disabling the Compact Strings feature forces the use of UTF-16 encoding as the internal representation for all Java Strings.\r\n\r\n------------------\r\n\r\nNote that neither classical, &quot;compressed&quot; or &quot;compact&quot; strings ever used UTF-8 encoding as the `String` representation.  Modified UTF-8 is used in other contexts; e.g. in class files, and the object serialization format.\r\n\r\n\r\nSee also:\r\n\r\n  - [Java Platform, Standard Edition What’s New in Oracle JDK 9][2]\r\n  - [JEP 254: Compact Strings][3]\r\n  - https://stackoverflow.com/questions/44178432\r\n\r\n-----------------\r\n\r\nTo answer your specific questions:\r\n\r\n&gt; Modified UTF-8? Or UTF-16? Which one is correct?\r\n\r\nEither UTF-16 or an adaptive representation that depends on the actual data; see above.\r\n\r\n&gt; And how many bytes does Java use for a char in memory?\r\n\r\nA single `char` uses 2 bytes.  There might be some &quot;wastage&quot; due to possible padding, depending on the context.\r\n\r\nA `char[]` is 2 bytes per character plus the object header (typically 12 bytes including the array length) padded to (typically) a multiple of 8 bytes.\r\n\r\n&gt; Please let me know which one is correct and how many bytes it uses.\r\n\r\nIf we are talking about a `String` now, it is not possible to give a general answer.  It will depend on the Java version and hardware platform, as well as the `String` length and (in some cases) what the characters are.  Indeed, for some versions of Java it even depends on how you created the `String`. \r\n\r\n------------------------\r\n\r\nHaving said all of the above, the *API model* for `String` is that it is **both** a sequence of UTF-16 code-units **and** a sequence of Unicode code-points.  As a Java programmer, you should be able to ignore everything that happens &quot;under the hood&quot;.  The internal `String` representation is (should be!) irrelevant.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/tools/java.htm\r\n  [2]: https://docs.oracle.com/javase/9/whatsnew/toc.htm\r\n  [3]: http://openjdk.java.net/jeps/254","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>You can confirm the following by looking at the source code of the relevant version of the <code>java.lang.String</code> class in OpenJDK.  (For some really old versions of Java, <code>String</code> was partly implemented in native code.  <em>That</em> source code is not publicly available.)</p>\n<p><strong>Prior to Java 9</strong>, the standard in-memory representation for a Java <code>String</code> is UTF-16 code-units held in a <code>char[]</code>.</p>\n<p>With Java 6 update 21 and later, there was a non-standard option (<code>-XX:UseCompressedStrings</code>) to enable compressed strings.  This feature was removed in Java 7.</p>\n<p><strong>For Java 9 and later</strong>, the implementation of <code>String</code> has been changed to use a compact representation <em>by default</em>.  The <code>java</code> command <a href=\"https://docs.oracle.com/javase/9/tools/java.htm\" rel=\"nofollow noreferrer\">documentation</a> now says this:</p>\n<blockquote>\n<p>-XX:-CompactStrings</p>\n<p>Disables the Compact Strings feature. <strong>By default, this option is enabled.</strong> When this option is enabled, Java Strings containing only single-byte characters are internally represented and stored as single-byte-per-character Strings using ISO-8859-1 / Latin-1 encoding. This reduces, by 50%, the amount of space required for Strings containing only single-byte characters. For Java Strings containing at least one multibyte character: these are represented and stored as 2 bytes per character using UTF-16 encoding. Disabling the Compact Strings feature forces the use of UTF-16 encoding as the internal representation for all Java Strings.</p>\n</blockquote>\n<hr />\n<p>Note that neither classical, &quot;compressed&quot; or &quot;compact&quot; strings ever used UTF-8 encoding as the <code>String</code> representation.  Modified UTF-8 is used in other contexts; e.g. in class files, and the object serialization format.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/9/whatsnew/toc.htm\" rel=\"nofollow noreferrer\">Java Platform, Standard Edition What’s New in Oracle JDK 9</a></li>\n<li><a href=\"http://openjdk.java.net/jeps/254\" rel=\"nofollow noreferrer\">JEP 254: Compact Strings</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44178432\">Difference between compact strings and compressed strings in Java 9</a></li>\n</ul>\n<hr />\n<p>To answer your specific questions:</p>\n<blockquote>\n<p>Modified UTF-8? Or UTF-16? Which one is correct?</p>\n</blockquote>\n<p>Either UTF-16 or an adaptive representation that depends on the actual data; see above.</p>\n<blockquote>\n<p>And how many bytes does Java use for a char in memory?</p>\n</blockquote>\n<p>A single <code>char</code> uses 2 bytes.  There might be some &quot;wastage&quot; due to possible padding, depending on the context.</p>\n<p>A <code>char[]</code> is 2 bytes per character plus the object header (typically 12 bytes including the array length) padded to (typically) a multiple of 8 bytes.</p>\n<blockquote>\n<p>Please let me know which one is correct and how many bytes it uses.</p>\n</blockquote>\n<p>If we are talking about a <code>String</code> now, it is not possible to give a general answer.  It will depend on the Java version and hardware platform, as well as the <code>String</code> length and (in some cases) what the characters are.  Indeed, for some versions of Java it even depends on how you created the <code>String</code>.</p>\n<hr />\n<p>Having said all of the above, the <em>API model</em> for <code>String</code> is that it is <strong>both</strong> a sequence of UTF-16 code-units <strong>and</strong> a sequence of Unicode code-points.  As a Java programmer, you should be able to ignore everything that happens &quot;under the hood&quot;.  The internal <code>String</code> representation is (should be!) irrelevant.</p>\n"},{"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1453397135,"post_id":9699154,"comment_id":57593656,"body_markdown":"@tchrist How? How can a character in Java be 4 bytes?","body":"@tchrist How? How can a character in Java be 4 bytes?"},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1453418973,"post_id":9699154,"comment_id":57605299,"body_markdown":"@KorayTugay Unicode characters (code points)  are values between 0 and 0x10FFFF.","body":"@KorayTugay Unicode characters (code points)  are values between 0 and 0x10FFFF."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":2,"creation_date":1468151641,"post_id":9699154,"comment_id":64000471,"body_markdown":"@tchrist Java will treat a 4 byte Unicode Character as 2 Java Characters. Please see: http://www.tugay.biz/2016/07/stringlength-method-may-fool-you.html","body":"@tchrist Java will treat a 4 byte Unicode Character as 2 Java Characters. Please see: <a href=\"http://www.tugay.biz/2016/07/stringlength-method-may-fool-you.html\" rel=\"nofollow noreferrer\">tugay.biz/2016/07/stringlength-method-may-fool-you.html</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1612345661,"post_id":9699154,"comment_id":116735251,"body_markdown":"In fact, your inference is incorrect.  Recent implementations do not (always) use UTF-16 for internal String representations.","body":"In fact, your inference is incorrect.  Recent implementations do not (always) use UTF-16 for internal String representations."}],"tags":[],"owner":{"account_id":436506,"reputation":2534,"user_id":823729,"display_name":"belgther"},"comment_count":4,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1331717453,"creation_date":1331717453,"answer_id":9699154,"question_id":9699071,"body_markdown":"The size of a `char` is 2 bytes. \r\n\r\nTherefore, I would say that Java uses UTF-16 for internal String representation. ","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>The size of a <code>char</code> is 2 bytes. </p>\n\n<p>Therefore, I would say that Java uses UTF-16 for internal String representation. </p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1612345314,"post_id":9699165,"comment_id":116735104,"body_markdown":"The FAQ that is linked in this answer no longer exists.  The closest I can find is this: https://docs.oracle.com/javase/8/docs/technotes/guides/intl/overview.html.  But note that if you *carefully* parse both the quoted text and the link I found, neither *actually* says what the internal `String` representation is.  (They say that a String represents a `char` sequence, but that isn&#39;t the same thing.) In fact ... for recent Java implementations, the default implementation of `String` uses a `byte[]` rather than a `char[]` internally. You can check the OpenJDK source code to see.","body":"The FAQ that is linked in this answer no longer exists.  The closest I can find is this: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/intl/overview.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/intl/&hellip;</a>.  But note that if you <i>carefully</i> parse both the quoted text and the link I found, neither <i>actually</i> says what the internal <code>String</code> representation is.  (They say that a String represents a <code>char</code> sequence, but that isn&#39;t the same thing.) In fact ... for recent Java implementations, the default implementation of <code>String</code> uses a <code>byte[]</code> rather than a <code>char[]</code> internally. You can check the OpenJDK source code to see."}],"tags":[],"owner":{"account_id":331053,"reputation":1135,"user_id":655504,"accept_rate":100,"display_name":"Andreas Johansson"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1331717481,"creation_date":1331717481,"answer_id":9699165,"question_id":9699071,"body_markdown":"**UTF-16.**\r\n\r\nFrom http://java.sun.com/javase/technologies/core/basic/intl/faq.jsp :\r\n\r\n&gt; &gt; How is text represented in the Java platform?\r\n&gt; \r\n&gt; The Java programming language is based on the Unicode character set,\r\n&gt; and several libraries implement the Unicode standard. The primitive\r\n&gt; data type char in the Java programming language is an unsigned 16-bit\r\n&gt; integer that can represent a Unicode code point in the range U+0000 to\r\n&gt; U+FFFF, or the code units of UTF-16. The various types and classes in\r\n&gt; the Java platform that represent character sequences - char[],\r\n&gt; implementations of java.lang.CharSequence (such as the String class),\r\n&gt; and implementations of java.text.CharacterIterator - are UTF-16\r\n&gt; sequences.","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p><strong>UTF-16.</strong></p>\n\n<p>From <a href=\"http://java.sun.com/javase/technologies/core/basic/intl/faq.jsp\" rel=\"noreferrer\">http://java.sun.com/javase/technologies/core/basic/intl/faq.jsp</a> :</p>\n\n<blockquote>\n  <blockquote>\n    <p>How is text represented in the Java platform?</p>\n  </blockquote>\n  \n  <p>The Java programming language is based on the Unicode character set,\n  and several libraries implement the Unicode standard. The primitive\n  data type char in the Java programming language is an unsigned 16-bit\n  integer that can represent a Unicode code point in the range U+0000 to\n  U+FFFF, or the code units of UTF-16. The various types and classes in\n  the Java platform that represent character sequences - char[],\n  implementations of java.lang.CharSequence (such as the String class),\n  and implementations of java.text.CharacterIterator - are UTF-16\n  sequences.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":11,"creation_date":1331993323,"post_id":9699173,"comment_id":12403376,"body_markdown":"This answer is incorrect.  Because Java uses UTF-16, each Unicode character is either 2 bytes or 4 bytes.","body":"This answer is incorrect.  Because Java uses UTF-16, each Unicode character is either 2 bytes or 4 bytes."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1453992013,"post_id":9699173,"comment_id":57851568,"body_markdown":"@tchrist How can a UTF-16 encode end up in 4 bytes? Isn&#39;t UTF-16 always 2 bytes?","body":"@tchrist How can a UTF-16 encode end up in 4 bytes? Isn&#39;t UTF-16 always 2 bytes?"},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":5,"creation_date":1454030112,"post_id":9699173,"comment_id":57873257,"body_markdown":"@KorayTugay No, UTF-16 is either 2 bytes or 4 bytes. It is a variable-width encoding just like UTF-8.  Only the obsolete UCS-2 is 2 bytes, and that&#39;s long dead.","body":"@KorayTugay No, UTF-16 is either 2 bytes or 4 bytes. It is a variable-width encoding just like UTF-8.  Only the obsolete UCS-2 is 2 bytes, and that&#39;s long dead."},{"owner":{"account_id":204410,"reputation":4876,"user_id":452614,"accept_rate":100,"display_name":"Ludovic Kuty"},"score":1,"creation_date":1548149409,"post_id":9699173,"comment_id":95429961,"body_markdown":"The code unit of UT-16 is always 2 bytes. But the character itself needs 1 code unit or 2 code units hence 2 or 4 bytes.","body":"The code unit of UT-16 is always 2 bytes. But the character itself needs 1 code unit or 2 code units hence 2 or 4 bytes."},{"owner":{"account_id":1252862,"reputation":822,"user_id":1212910,"display_name":"matvore"},"score":1,"creation_date":1597351761,"post_id":9699173,"comment_id":112112788,"body_markdown":"@LudovicKuty a &quot;character&quot; is a rendering and language-specific concept - it can take up a *large* number of codepoints to compose a single character, so a character can take up hundreds of bytes. So it&#39;s more like &quot;The codepoint itself - in UTF-16 - needs 2 or 4 bytes&quot;\n\nTry an internet search for &quot;unicode composition.&quot; You generally only care about &quot;characters&quot; - like at what codepoint a character begins or how many characters are in a string - if you&#39;re building a UI framework or implementing rendering logic.","body":"@LudovicKuty a &quot;character&quot; is a rendering and language-specific concept - it can take up a <i>large</i> number of codepoints to compose a single character, so a character can take up hundreds of bytes. So it&#39;s more like &quot;The codepoint itself - in UTF-16 - needs 2 or 4 bytes&quot;  Try an internet search for &quot;unicode composition.&quot; You generally only care about &quot;characters&quot; - like at what codepoint a character begins or how many characters are in a string - if you&#39;re building a UI framework or implementing rendering logic."},{"owner":{"account_id":204410,"reputation":4876,"user_id":452614,"accept_rate":100,"display_name":"Ludovic Kuty"},"score":1,"creation_date":1597383345,"post_id":9699173,"comment_id":112120003,"body_markdown":"Yes, the codepoint, my bad. The notion of a character is quite abstract in the Unicode standard (if I remember correctly).","body":"Yes, the codepoint, my bad. The notion of a character is quite abstract in the Unicode standard (if I remember correctly)."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":6,"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1331717511,"creation_date":1331717511,"answer_id":9699173,"question_id":9699071,"body_markdown":"Java stores strings internally as UTF-16 and uses 2 bytes for each character. ","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>Java stores strings internally as UTF-16 and uses 2 bytes for each character. </p>\n"},{"comments":[{"owner":{"account_id":3868683,"reputation":44952,"user_id":3204551,"accept_rate":75,"display_name":"Deduplicator"},"score":2,"creation_date":1425294605,"post_id":9699224,"comment_id":45889101,"body_markdown":"Java serialization (and class-files) [use modified CESU-8 though](http://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8), which is a modified UTF-8.","body":"Java serialization (and class-files) <a href=\"http://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8\" rel=\"nofollow noreferrer\">use modified CESU-8 though</a>, which is a modified UTF-8."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1447715931,"post_id":9699224,"comment_id":55261268,"body_markdown":"New URL: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html Note: Java 9 should be out next year. ;)","body":"New URL: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/String.html</a> Note: Java 9 should be out next year. ;)"},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1453397097,"post_id":9699224,"comment_id":57593632,"body_markdown":"Can you elobrate on alignment issues ?","body":"Can you elobrate on alignment issues ?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1453406790,"post_id":9699224,"comment_id":57599322,"body_markdown":"@KorayTugay good question. This was 3 years ago but I think I was referring to padding in an object. Adding one char field could add up to 8 bytes with padding / object alignment.","body":"@KorayTugay good question. This was 3 years ago but I think I was referring to padding in an object. Adding one char field could add up to 8 bytes with padding / object alignment."},{"owner":{"account_id":1145390,"reputation":22765,"user_id":1128289,"accept_rate":85,"display_name":"Praxeolitic"},"score":0,"creation_date":1516502594,"post_id":9699224,"comment_id":83713244,"body_markdown":"What endianness is used for the UTF-16? Also, you should mention that a Java `char` only supports BMP code points.","body":"What endianness is used for the UTF-16? Also, you should mention that a Java <code>char</code> only supports BMP code points."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1516521485,"post_id":9699224,"comment_id":83716207,"body_markdown":"@Praxeolitic the endianness is whatever is native to the processor. Generally little but it should almost never matter.","body":"@Praxeolitic the endianness is whatever is native to the processor. Generally little but it should almost never matter."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1633806937,"post_id":9699224,"comment_id":122861043,"body_markdown":"This answer is outdated. Generally you should not presume to know what the internal representation looks like. If this answer wants to be saved and not report BS, it should be updated with a specific runtime or runtimes for which this is the case.","body":"This answer is outdated. Generally you should not presume to know what the internal representation looks like. If this answer wants to be saved and not report BS, it should be updated with a specific runtime or runtimes for which this is the case."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":7,"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1527754163,"creation_date":1331717724,"answer_id":9699224,"question_id":9699071,"body_markdown":"&gt; Java uses UTF-16 for the internal text representation \n\nThe representation for String and StringBuilder etc in Java is UTF-16\n\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/intl/overview.html\n\n&gt; How is text represented in the Java platform?\n&gt;\n&gt; The Java programming language is based on the Unicode character set, and several libraries implement the Unicode standard. The primitive data type char in the Java programming language is an unsigned 16-bit integer that can represent a Unicode code point in the range U+0000 to U+FFFF, or the code units of UTF-16. The various types and classes in the Java platform that represent character sequences - char[], implementations of java.lang.CharSequence (such as the String class), and implementations of java.text.CharacterIterator - are UTF-16 sequences.\n\nAt the JVM level, if you are using `-XX:+UseCompressedStrings` (which is default for some updates of Java 6) The actual in-memory representation can be 8-bit, ISO-8859-1 but only for strings which do not need UTF-16 encoding.\n\nhttp://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\n\n&gt; and supports a non-standard modification of UTF-8 for string serialization.\n\nSerialized Strings use UTF-8 by default.\n\n&gt; And how many bytes does Java use for a char in memory?\n\nA `char` is always two bytes, if you ignore the need for padding in an Object.\n\nNote: a code point (which allows character &gt; 65535) can use one or two characters, i.e. 2 or 4 bytes.","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<blockquote>\n<p>Java uses UTF-16 for the internal text representation</p>\n</blockquote>\n<p>The representation for String and StringBuilder etc in Java is UTF-16</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/intl/overview.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/intl/overview.html</a></p>\n<blockquote>\n<p>How is text represented in the Java platform?</p>\n<p>The Java programming language is based on the Unicode character set, and several libraries implement the Unicode standard. The primitive data type char in the Java programming language is an unsigned 16-bit integer that can represent a Unicode code point in the range U+0000 to U+FFFF, or the code units of UTF-16. The various types and classes in the Java platform that represent character sequences - char[], implementations of java.lang.CharSequence (such as the String class), and implementations of java.text.CharacterIterator - are UTF-16 sequences.</p>\n</blockquote>\n<p>At the JVM level, if you are using <code>-XX:+UseCompressedStrings</code> (which is default for some updates of Java 6) The actual in-memory representation can be 8-bit, ISO-8859-1 but only for strings which do not need UTF-16 encoding.</p>\n<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html</a></p>\n<blockquote>\n<p>and supports a non-standard modification of UTF-8 for string serialization.</p>\n</blockquote>\n<p>Serialized Strings use UTF-8 by default.</p>\n<blockquote>\n<p>And how many bytes does Java use for a char in memory?</p>\n</blockquote>\n<p>A <code>char</code> is always two bytes, if you ignore the need for padding in an Object.</p>\n<p>Note: a code point (which allows character &gt; 65535) can use one or two characters, i.e. 2 or 4 bytes.</p>\n"},{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":2,"creation_date":1331993367,"post_id":9700130,"comment_id":12403389,"body_markdown":"The size of a Unicode character in Java varies between 2 bytes and 4 bytes, depending on whether we’re in plane 0 or not.","body":"The size of a Unicode character in Java varies between 2 bytes and 4 bytes, depending on whether we’re in plane 0 or not."},{"owner":{"account_id":204410,"reputation":4876,"user_id":452614,"accept_rate":100,"display_name":"Ludovic Kuty"},"score":0,"creation_date":1548149489,"post_id":9700130,"comment_id":95430004,"body_markdown":"A `char` is 2 bytes but a character (char with no typewriter font) is 2 or 4 bytes as @tchrist mentionned","body":"A <code>char</code> is 2 bytes but a character (char with no typewriter font) is 2 or 4 bytes as @tchrist mentionned"}],"tags":[],"owner":{"account_id":1290064,"reputation":23,"user_id":1242331,"display_name":"mohan.reddy8"},"comment_count":2,"down_vote_count":9,"up_vote_count":2,"is_accepted":false,"score":-7,"last_activity_date":1331720940,"creation_date":1331720940,"answer_id":9700130,"question_id":9699071,"body_markdown":"java is available in 18 international languages and following UNICODE character set, which contains all the characters which are available in 18 international languages and\r\ncontains 65536 characters.And java following UTF-16 so the size of char in java is 2 bytes.","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>java is available in 18 international languages and following UNICODE character set, which contains all the characters which are available in 18 international languages and\ncontains 65536 characters.And java following UTF-16 so the size of char in java is 2 bytes.</p>\n"},{"comments":[{"owner":{"account_id":35524,"reputation":315,"user_id":100634,"display_name":"Ashton"},"score":0,"creation_date":1683704508,"post_id":76014558,"comment_id":134405621,"body_markdown":"&quot;Since JDK 9 it is UTF-8 byte[]&quot; this is not correct. Java 9 and newer do not use UTF-8 encoding internally. Since Java 9, String uses Latin1 if possible, and falls back to UTF-16 if there are any non-Latin1 characters in the String data.","body":"&quot;Since JDK 9 it is UTF-8 byte[]&quot; this is not correct. Java 9 and newer do not use UTF-8 encoding internally. Since Java 9, String uses Latin1 if possible, and falls back to UTF-16 if there are any non-Latin1 characters in the String data."},{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1683799642,"post_id":76014558,"comment_id":134423270,"body_markdown":"Latin1 is subset of UTF-8. &quot;falls back to UTF-16&quot; is IMHO incorrect: it is UTF-8 being used, and it takes 2 or more bytes for non Latin1 characters.\nIt is not possible to mix UTF-16 with other encodings in one String, that would be some other non standard thing.","body":"Latin1 is subset of UTF-8. &quot;falls back to UTF-16&quot; is IMHO incorrect: it is UTF-8 being used, and it takes 2 or more bytes for non Latin1 characters. It is not possible to mix UTF-16 with other encodings in one String, that would be some other non standard thing."},{"owner":{"account_id":1813358,"reputation":9087,"user_id":1648987,"accept_rate":25,"display_name":"Karol S"},"score":0,"creation_date":1692659589,"post_id":76014558,"comment_id":135651298,"body_markdown":"Latin1 is not a subset of UTF-8, they are two completely incompatible encodings. Java does not use UTF-8 for Strings, and does not mix encodings – each string has a flag that indicates whether it&#39;s in Latin1 or UTF-16.","body":"Latin1 is not a subset of UTF-8, they are two completely incompatible encodings. Java does not use UTF-8 for Strings, and does not mix encodings – each string has a flag that indicates whether it&#39;s in Latin1 or UTF-16."}],"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681471375,"creation_date":1681471063,"answer_id":76014558,"question_id":9699071,"body_markdown":"As of 2023, see JEP 254: Compact Strings https://openjdk.org/jeps/254  \r\n\r\n\r\nBefore JDK 9 it was UTF-16 `char value[]`, \r\nusually 2 bytes per char, 4 bytes for Asian (Chinese, Japanese 日本)\r\n\r\nSince JDK 9 it is UTF-8 `byte[]`  \r\ne.g. 1 byte for ASCII/Latin, 2 bytes for &#193;&#225; &#192;&#224;\tĂă Ắắ Ằằ Ẵẵ (letters with diacritics), 4 bytes for Asian (Chinese, Japanese 日本)  \r\nIt is still possible to **Disables the Compact Strings feature** with `-XX:-CompactStrings`  \r\nsee Documentation for The `java` Command https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#advanced-runtime-options-for-java\r\n\r\nand the article https://howtodoinjava.com/java9/compact-strings/\r\n\r\n---\r\n\r\nString class BEFORE Java 9\r\nPrior to Java 9, string data was stored as an array of chars. This required 16 bits for each char.\r\n\r\n```java\r\npublic final class String\r\n    implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence {\r\n \r\n    //The value is used for character storage.\r\n  private final char value[];\r\n \r\n}\r\n```\r\n\r\nString class AFTER Java 9\r\nStarting with Java 9, strings are now internally represented using a byte array along with a flag field for encoding references.\r\n\r\n```java\r\npublic final class String\r\n    implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence {\r\n \r\n    /** The value is used for character storage. */\r\n  @Stable\r\n  private final byte[] value;\r\n \r\n  /**\r\n   * The identifier of the encoding used to encode the bytes in\r\n   * {@code value}. The supported values in this implementation are\r\n   *\r\n   * LATIN1\r\n   * UTF16\r\n   *\r\n   * @implNote This field is trusted by the VM, and is a subject to\r\n   * constant folding if String instance is constant. Overwriting this\r\n   * field after construction will cause problems.\r\n   */\r\n  private final byte coder;\r\n \r\n}\r\n```\r\n","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>As of 2023, see JEP 254: Compact Strings <a href=\"https://openjdk.org/jeps/254\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/254</a></p>\n<p>Before JDK 9 it was UTF-16 <code>char value[]</code>,\nusually 2 bytes per char, 4 bytes for Asian (Chinese, Japanese 日本)</p>\n<p>Since JDK 9 it is UTF-8 <code>byte[]</code><br />\ne.g. 1 byte for ASCII/Latin, 2 bytes for Áá Àà  Ăă Ắắ Ằằ Ẵẵ (letters with diacritics), 4 bytes for Asian (Chinese, Japanese 日本)<br />\nIt is still possible to <strong>Disables the Compact Strings feature</strong> with <code>-XX:-CompactStrings</code><br />\nsee Documentation for The <code>java</code> Command <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#advanced-runtime-options-for-java\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#advanced-runtime-options-for-java</a></p>\n<p>and the article <a href=\"https://howtodoinjava.com/java9/compact-strings/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java9/compact-strings/</a></p>\n<hr />\n<p>String class BEFORE Java 9\nPrior to Java 9, string data was stored as an array of chars. This required 16 bits for each char.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class String\n    implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence {\n \n    //The value is used for character storage.\n  private final char value[];\n \n}\n</code></pre>\n<p>String class AFTER Java 9\nStarting with Java 9, strings are now internally represented using a byte array along with a flag field for encoding references.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class String\n    implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence {\n \n    /** The value is used for character storage. */\n  @Stable\n  private final byte[] value;\n \n  /**\n   * The identifier of the encoding used to encode the bytes in\n   * {@code value}. The supported values in this implementation are\n   *\n   * LATIN1\n   * UTF16\n   *\n   * @implNote This field is trusted by the VM, and is a subject to\n   * constant folding if String instance is constant. Overwriting this\n   * field after construction will cause problems.\n   */\n  private final byte coder;\n \n}\n</code></pre>\n"}],"owner":{"account_id":1317509,"reputation":5663,"user_id":1264058,"accept_rate":50,"display_name":"Johnny Lim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43561,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":9699224,"answer_count":7,"score":55,"last_activity_date":1681471375,"creation_date":1331717167,"question_id":9699071,"body_markdown":"I searched Java&#39;s internal representation for String, but I&#39;ve got two materials which look reliable but inconsistent.\r\n\r\nOne is:\r\n\r\n&gt; http://www.codeguru.com/cpp/misc/misc/multi-lingualsupport/article.php/c10451\r\n\r\nand it says:\r\n\r\n&gt; Java uses UTF-16 for the internal text representation and supports a non-standard modification of UTF-8 for string serialization.\r\n\r\nThe other is:\r\n\r\n&gt; http://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8\r\n\r\nand it says:\r\n\r\n&gt; Tcl also uses the same modified UTF-8[25] as Java for internal representation of Unicode data, but uses strict CESU-8 for external data.\r\n\r\nModified UTF-8? Or UTF-16? Which one is correct? And how many bytes does Java use for a char in memory?\r\n\r\nPlease let me know which one is correct and how many bytes it uses.","title":"What is the Java&#39;s internal represention for String? Modified UTF-8? UTF-16?","body":"<p>I searched Java's internal representation for String, but I've got two materials which look reliable but inconsistent.</p>\n\n<p>One is:</p>\n\n<blockquote>\n  <p><a href=\"http://www.codeguru.com/cpp/misc/misc/multi-lingualsupport/article.php/c10451\" rel=\"noreferrer\">http://www.codeguru.com/cpp/misc/misc/multi-lingualsupport/article.php/c10451</a></p>\n</blockquote>\n\n<p>and it says:</p>\n\n<blockquote>\n  <p>Java uses UTF-16 for the internal text representation and supports a non-standard modification of UTF-8 for string serialization.</p>\n</blockquote>\n\n<p>The other is:</p>\n\n<blockquote>\n  <p><a href=\"http://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8</a></p>\n</blockquote>\n\n<p>and it says:</p>\n\n<blockquote>\n  <p>Tcl also uses the same modified UTF-8[25] as Java for internal representation of Unicode data, but uses strict CESU-8 for external data.</p>\n</blockquote>\n\n<p>Modified UTF-8? Or UTF-16? Which one is correct? And how many bytes does Java use for a char in memory?</p>\n\n<p>Please let me know which one is correct and how many bytes it uses.</p>\n"},{"tags":["java","servlets","urlconnection"],"answers":[{"comments":[{"owner":{"account_id":543397,"reputation":137,"user_id":912511,"display_name":"Cheruvim"},"score":1,"creation_date":1390432147,"post_id":3337115,"comment_id":32093619,"body_markdown":"Be careful. Some of the documentation on the apache site is wrong. For example they says that you can call setRepository() on a FileItemFactory object which is false because any Object that implements FileItemFactory has only one method: createItem(). So be sure you read the javadocs as well.","body":"Be careful. Some of the documentation on the apache site is wrong. For example they says that you can call setRepository() on a FileItemFactory object which is false because any Object that implements FileItemFactory has only one method: createItem(). So be sure you read the javadocs as well."},{"owner":{"account_id":146387,"reputation":4170,"user_id":356815,"accept_rate":74,"display_name":"basZero"},"score":2,"creation_date":1474636117,"post_id":3337115,"comment_id":66624833,"body_markdown":"`getParts()` always returns zero items. Why is it so hard to retrieve multipart forms in Java and Servlet 3.0? Can&#39;t believe it!","body":"<code>getParts()</code> always returns zero items. Why is it so hard to retrieve multipart forms in Java and Servlet 3.0? Can&#39;t believe it!"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1474636515,"post_id":3337115,"comment_id":66625137,"body_markdown":"@basZero: the answer to the duplicate question already explains when it would be empty.","body":"@basZero: the answer to the duplicate question already explains when it would be empty."},{"owner":{"account_id":146387,"reputation":4170,"user_id":356815,"accept_rate":74,"display_name":"basZero"},"score":0,"creation_date":1474636801,"post_id":3337115,"comment_id":66625348,"body_markdown":"@BalusC do you have a link? It&#39;s quite a lot of info here on this page","body":"@BalusC do you have a link? It&#39;s quite a lot of info here on this page"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1681471142,"creation_date":1280163790,"answer_id":3337115,"question_id":3337056,"body_markdown":"`multipart/form-data` encoded requests are indeed not by default supported by the Servlet API prior to version 3.0. The Servlet API parses the parameters by default using `application/x-www-form-urlencoded` encoding. When using a different encoding, the `request.getParameter()` calls will all return `null`. When you&#39;re already on Servlet 3.0 or newer ([Glassfish 3][1], [Tomcat 7][2], [WildFly][3], etc, all introduced since December 2009 already), then you can use [`HttpServletRequest#getPart()`][4] instead. You can find elaboarate examples in https://stackoverflow.com/questions/2422468/how-can-i-upload-files-to-a-server-using-jsp-servlet\r\n\r\nPrior to Servlet 3.0, a [de facto][5] standard to parse `multipart/form-data` requests would be using [Apache Commons FileUpload][6]. You&#39;ll probably find answers and code examples using this library over all place on the Internet, but this is thus not needed anymore for more than 10 years already. Just use the standard `request.getPart(name)` method instead.\r\n\r\n\r\n  [1]: https://glassfish.org\r\n  [2]: https://tomcat.apache.org\r\n  [3]: https://wildfly.org\r\n  [4]: https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPart(java.lang.String)\r\n  [5]: https://en.wikipedia.org/wiki/De_facto\r\n  [6]: https://commons.apache.org/fileupload\r\n  [7]: https://stackoverflow.com/questions/2422468/upload-big-file-to-servlet/2424824#2424824","title":"Convenient way to parse incoming multipart/form-data parameters in a Servlet","body":"<p><code>multipart/form-data</code> encoded requests are indeed not by default supported by the Servlet API prior to version 3.0. The Servlet API parses the parameters by default using <code>application/x-www-form-urlencoded</code> encoding. When using a different encoding, the <code>request.getParameter()</code> calls will all return <code>null</code>. When you're already on Servlet 3.0 or newer (<a href=\"https://glassfish.org\" rel=\"nofollow noreferrer\">Glassfish 3</a>, <a href=\"https://tomcat.apache.org\" rel=\"nofollow noreferrer\">Tomcat 7</a>, <a href=\"https://wildfly.org\" rel=\"nofollow noreferrer\">WildFly</a>, etc, all introduced since December 2009 already), then you can use <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getPart(java.lang.String)\" rel=\"nofollow noreferrer\"><code>HttpServletRequest#getPart()</code></a> instead. You can find elaboarate examples in <a href=\"https://stackoverflow.com/questions/2422468/how-can-i-upload-files-to-a-server-using-jsp-servlet\">How can I upload files to a server using JSP/Servlet?</a></p>\n<p>Prior to Servlet 3.0, a <a href=\"https://en.wikipedia.org/wiki/De_facto\" rel=\"nofollow noreferrer\">de facto</a> standard to parse <code>multipart/form-data</code> requests would be using <a href=\"https://commons.apache.org/fileupload\" rel=\"nofollow noreferrer\">Apache Commons FileUpload</a>. You'll probably find answers and code examples using this library over all place on the Internet, but this is thus not needed anymore for more than 10 years already. Just use the standard <code>request.getPart(name)</code> method instead.</p>\n"},{"comments":[{"owner":{"account_id":143959,"reputation":1094,"user_id":352673,"accept_rate":45,"display_name":"Jafar Ali"},"score":9,"creation_date":1393744308,"post_id":9782575,"comment_id":33567423,"body_markdown":"Please put up some solutions as this links can get absolete any time in future. This will attract negative rating.","body":"Please put up some solutions as this links can get absolete any time in future. This will attract negative rating."}],"tags":[],"owner":{"account_id":1333467,"reputation":201,"user_id":1276786,"display_name":"renura"},"comment_count":1,"down_vote_count":5,"up_vote_count":21,"is_accepted":false,"score":16,"last_activity_date":1351693891,"creation_date":1332227032,"answer_id":9782575,"question_id":3337056,"body_markdown":"Solutions:\r\n\r\nSolution A:\r\n\r\n1. Download http://www.servlets.com/cos/index.html\r\n2. Invoke getParameters() on `com.oreilly.servlet.MultipartRequest`\r\n\r\nSolution B:\r\n\r\n1. Download http://jakarta.Apache.org/commons/fileupload/\r\n2. Invoke readHeaders() in \r\n`org.apache.commons.fileupload.MultipartStream`\r\n\r\nSolution C:\r\n\r\n1. Download http://users.boone.net/wbrameld/multipartformdata/\r\n2. Invoke getParameter on \r\ncom.bigfoot.bugar.servlet.http.MultipartFormData\r\n\r\nSolution D:\r\n\r\n\r\nUse Struts. Struts 1.1 handles this automatically.\r\n\r\nReference: http://www.jguru.com/faq/view.jsp?EID=1045507","title":"Convenient way to parse incoming multipart/form-data parameters in a Servlet","body":"<p>Solutions:</p>\n\n<p>Solution A:</p>\n\n<ol>\n<li>Download <a href=\"http://www.servlets.com/cos/index.html\" rel=\"noreferrer\">http://www.servlets.com/cos/index.html</a></li>\n<li>Invoke getParameters() on <code>com.oreilly.servlet.MultipartRequest</code></li>\n</ol>\n\n<p>Solution B:</p>\n\n<ol>\n<li>Download <a href=\"http://jakarta.Apache.org/commons/fileupload/\" rel=\"noreferrer\">http://jakarta.Apache.org/commons/fileupload/</a></li>\n<li>Invoke readHeaders() in \n<code>org.apache.commons.fileupload.MultipartStream</code></li>\n</ol>\n\n<p>Solution C:</p>\n\n<ol>\n<li>Download <a href=\"http://users.boone.net/wbrameld/multipartformdata/\" rel=\"noreferrer\">http://users.boone.net/wbrameld/multipartformdata/</a></li>\n<li>Invoke getParameter on \ncom.bigfoot.bugar.servlet.http.MultipartFormData</li>\n</ol>\n\n<p>Solution D:</p>\n\n<p>Use Struts. Struts 1.1 handles this automatically.</p>\n\n<p>Reference: <a href=\"http://www.jguru.com/faq/view.jsp?EID=1045507\" rel=\"noreferrer\">http://www.jguru.com/faq/view.jsp?EID=1045507</a></p>\n"},{"comments":[{"owner":{"account_id":12571184,"reputation":97,"user_id":9145231,"display_name":"Ak S"},"score":0,"creation_date":1542976041,"post_id":30731491,"comment_id":93766239,"body_markdown":"it works only when you have a request object. But what in case of stream object or any other Object data?","body":"it works only when you have a request object. But what in case of stream object or any other Object data?"},{"owner":{"account_id":1779114,"reputation":1085,"user_id":1622283,"accept_rate":25,"display_name":"Luca Rasconi"},"score":0,"creation_date":1542981826,"post_id":30731491,"comment_id":93769012,"body_markdown":"The stream or any other object data will replace the request. So I would parse/read the stream or whatever  in order to get the multipart form data. Anyway do you have any real example?","body":"The stream or any other object data will replace the request. So I would parse/read the stream or whatever  in order to get the multipart form data. Anyway do you have any real example?"}],"tags":[],"owner":{"account_id":1779114,"reputation":1085,"user_id":1622283,"accept_rate":25,"display_name":"Luca Rasconi"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1460407452,"creation_date":1433851367,"answer_id":30731491,"question_id":3337056,"body_markdown":"Not always there&#39;s a servlet before of an upload (I could use a filter for example).\r\nOr could be that the same controller ( again a filter or also a servelt ) can serve many actions, so I think that rely on that servlet configuration to use the getPart method (only for Servlet API &gt;= 3.0), I don&#39;t know, I don&#39;t like. \r\n\r\nIn general, I prefer independent solutions, able to live alone, and in this case  http://commons.apache.org/proper/commons-fileupload/ is one of that. \r\n\r\n    List&lt;FileItem&gt; multiparts = new ServletFileUpload(new DiskFileItemFactory()).parseRequest(request);\r\n    \tfor (FileItem item : multiparts) {\r\n    \t    if (!item.isFormField()) {\r\n    \t\t\t//your operations on file\r\n    \t\t} else {\r\n    \t\t\tString name = item.getFieldName();\r\n    \t\t\tString value = item.getString();\r\n                //you operations on paramters\r\n    \t\t}\r\n    }","title":"Convenient way to parse incoming multipart/form-data parameters in a Servlet","body":"<p>Not always there's a servlet before of an upload (I could use a filter for example).\nOr could be that the same controller ( again a filter or also a servelt ) can serve many actions, so I think that rely on that servlet configuration to use the getPart method (only for Servlet API >= 3.0), I don't know, I don't like. </p>\n\n<p>In general, I prefer independent solutions, able to live alone, and in this case  <a href=\"http://commons.apache.org/proper/commons-fileupload/\" rel=\"noreferrer\">http://commons.apache.org/proper/commons-fileupload/</a> is one of that. </p>\n\n<pre><code>List&lt;FileItem&gt; multiparts = new ServletFileUpload(new DiskFileItemFactory()).parseRequest(request);\n    for (FileItem item : multiparts) {\n        if (!item.isFormField()) {\n            //your operations on file\n        } else {\n            String name = item.getFieldName();\n            String value = item.getString();\n            //you operations on paramters\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":634936,"reputation":683,"user_id":402527,"display_name":"atuser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159667,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"closed_date":1433860506,"accepted_answer_id":3337115,"answer_count":3,"score":68,"last_activity_date":1681471142,"creation_date":1280163420,"question_id":3337056,"body_markdown":"Is there any convenient way to read and parse data from incoming request.\r\n\r\nE.g client initiate post request\r\n\r\n    URLConnection connection = new URL(url).openConnection();\r\n    connection.setDoOutput(true);\r\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot; + boundary);\r\n    PrintWriter writer = null;\r\n    try {\r\n        OutputStream output = connection.getOutputStream();\r\n        writer = new PrintWriter(new OutputStreamWriter(output, charset), true); // true = autoFlush, important!\r\n        // Send normal param.\r\n        writer.println(&quot;--&quot; + boundary);\r\n        writer.println(&quot;Content-Disposition: form-data; name=\\&quot;param\\&quot;&quot;);\r\n        writer.println(&quot;Content-Type: text/plain; charset=&quot; + charset);\r\n        writer.println();\r\n        writer.println(param);\r\n\r\nI’m not able to get param using `request.getParameter(&quot;paramName&quot;)`. The following code\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n        request.getInputStream()));\r\n      StringBuilder sb = new StringBuilder();\r\n      for (String line; (line = reader.readLine()) != null;) {\r\n       System.out.println(line);\r\n    \r\n      }\r\n\r\nhowever displays the content for me \r\n\r\n    -----------------------------29772313742745\r\n    Content-Disposition: form-data; name=&quot;name&quot;\r\n    J.Doe\r\n    -----------------------------29772313742745\r\n    Content-Disposition: form-data; name=&quot;email&quot;\r\n    abuse@spamcop.com\r\n    -----------------------------29772313742745\r\n\r\nWhat is the best way to parse incoming request? I don’t want to write my own parser, probably there is a  ready solution.\r\n\r\n\r\n\r\n","title":"Convenient way to parse incoming multipart/form-data parameters in a Servlet","body":"<p>Is there any convenient way to read and parse data from incoming request.</p>\n\n<p>E.g client initiate post request</p>\n\n<pre><code>URLConnection connection = new URL(url).openConnection();\nconnection.setDoOutput(true);\nconnection.setRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=\" + boundary);\nPrintWriter writer = null;\ntry {\n    OutputStream output = connection.getOutputStream();\n    writer = new PrintWriter(new OutputStreamWriter(output, charset), true); // true = autoFlush, important!\n    // Send normal param.\n    writer.println(\"--\" + boundary);\n    writer.println(\"Content-Disposition: form-data; name=\\\"param\\\"\");\n    writer.println(\"Content-Type: text/plain; charset=\" + charset);\n    writer.println();\n    writer.println(param);\n</code></pre>\n\n<p>I’m not able to get param using <code>request.getParameter(\"paramName\")</code>. The following code</p>\n\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(\n    request.getInputStream()));\n  StringBuilder sb = new StringBuilder();\n  for (String line; (line = reader.readLine()) != null;) {\n   System.out.println(line);\n\n  }\n</code></pre>\n\n<p>however displays the content for me </p>\n\n<pre><code>-----------------------------29772313742745\nContent-Disposition: form-data; name=\"name\"\nJ.Doe\n-----------------------------29772313742745\nContent-Disposition: form-data; name=\"email\"\nabuse@spamcop.com\n-----------------------------29772313742745\n</code></pre>\n\n<p>What is the best way to parse incoming request? I don’t want to write my own parser, probably there is a  ready solution.</p>\n"},{"tags":["java","java-io","java-nio"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1681464403,"post_id":76013476,"comment_id":134064002,"body_markdown":"What do you mean by &quot;at the same time&quot;? Concurrency? Or do you just want to read the input stream once?","body":"What do you mean by &quot;at the same time&quot;? Concurrency? Or do you just want to read the input stream once?"},{"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"score":0,"creation_date":1681464636,"post_id":76013476,"comment_id":134064064,"body_markdown":"Some kind of chaining... I need to store inputstream to a file, but I&#39;d like to calculate checksum since inputstream is being read... At the end, I need checksum and a file stored. Yes I want to read input stream once.","body":"Some kind of chaining... I need to store inputstream to a file, but I&#39;d like to calculate checksum since inputstream is being read... At the end, I need checksum and a file stored. Yes I want to read input stream once."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681471100,"creation_date":1681464814,"answer_id":76013607,"question_id":76013476,"body_markdown":"You can use the [`DigestInputStream`][1] to calculate a hash while reading from a stream. That is, you wrap the original input stream with a `DigestInputStream` and read through the `DigestInputStream`. While reading the data, the message digest is automatically updated, and you can retrieve the digest after you read the entire stream.\r\n\r\nAlternatively, you can use [`DigestOutputStream`][2] to calculate a hash while writing to a stream.  In a similar vein, you wrap the destination output stream with a `DigestOutputStream` and write through the `DigestOutputStream`.\r\n\r\nA quick and dirty example:\r\n\r\n```java\r\nvar inputFile = Path.of(&quot;D:\\\\Development\\\\data\\\\testdata-csv\\\\customers-1000.csv&quot;);\r\nvar outputFile = Files.createTempFile(&quot;testoutput&quot;, &quot;.dat&quot;);\r\nvar md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\ntry (var in = new DigestInputStream(Files.newInputStream(inputFile), md);\r\n     var out = Files.newOutputStream(outputFile)) {\r\n    in.transferTo(out);\r\n} finally {\r\n    Files.deleteIfExists(outputFile);\r\n}\r\n\r\nSystem.out.println(HexFormat.of().formatHex(md.digest()));\r\n```\r\n\r\nIn terms of your existing code, you could do something like:\r\n\r\n```java\r\npublic String transferAndHash(InputStream in) throws IOException {\r\n    try {\r\n        var md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        try (var digestIn = new DigestInputStream(in, md)) {\r\n            transferTo(digestIn);\r\n        }\r\n        return HexFormat.of().formatHex(md.digest());\r\n    } catch (NoSuchAlgorithmException e) {\r\n        // all recent Java versions are required to support SHA-256\r\n        throw new AssertionError(&quot;Expected SHA-256 to be supported&quot;, e);\r\n    }\r\n}\r\n```\r\n\r\n(NOTE: `HexFormat` was introduced in Java 17, if you&#39;re using an earlier version, you&#39;ll need an alternative.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/DigestInputStream.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/DigestOutputStream.html","title":"Java InputStream: copy to and calculate hash at the same time","body":"<p>You can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/DigestInputStream.html\" rel=\"nofollow noreferrer\"><code>DigestInputStream</code></a> to calculate a hash while reading from a stream. That is, you wrap the original input stream with a <code>DigestInputStream</code> and read through the <code>DigestInputStream</code>. While reading the data, the message digest is automatically updated, and you can retrieve the digest after you read the entire stream.</p>\n<p>Alternatively, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/DigestOutputStream.html\" rel=\"nofollow noreferrer\"><code>DigestOutputStream</code></a> to calculate a hash while writing to a stream.  In a similar vein, you wrap the destination output stream with a <code>DigestOutputStream</code> and write through the <code>DigestOutputStream</code>.</p>\n<p>A quick and dirty example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var inputFile = Path.of(&quot;D:\\\\Development\\\\data\\\\testdata-csv\\\\customers-1000.csv&quot;);\nvar outputFile = Files.createTempFile(&quot;testoutput&quot;, &quot;.dat&quot;);\nvar md = MessageDigest.getInstance(&quot;SHA-256&quot;);\ntry (var in = new DigestInputStream(Files.newInputStream(inputFile), md);\n     var out = Files.newOutputStream(outputFile)) {\n    in.transferTo(out);\n} finally {\n    Files.deleteIfExists(outputFile);\n}\n\nSystem.out.println(HexFormat.of().formatHex(md.digest()));\n</code></pre>\n<p>In terms of your existing code, you could do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String transferAndHash(InputStream in) throws IOException {\n    try {\n        var md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        try (var digestIn = new DigestInputStream(in, md)) {\n            transferTo(digestIn);\n        }\n        return HexFormat.of().formatHex(md.digest());\n    } catch (NoSuchAlgorithmException e) {\n        // all recent Java versions are required to support SHA-256\n        throw new AssertionError(&quot;Expected SHA-256 to be supported&quot;, e);\n    }\n}\n</code></pre>\n<p>(NOTE: <code>HexFormat</code> was introduced in Java 17, if you're using an earlier version, you'll need an alternative.)</p>\n"},{"tags":[],"owner":{"account_id":3204393,"reputation":778,"user_id":2705702,"display_name":"Keijack"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681467038,"creation_date":1681467038,"answer_id":76013971,"question_id":76013476,"body_markdown":"If you want to read the input stream once, you might manual read the bytes from the input string and write it to you file by yourself.\r\n\r\n\t\tprivate static final String SHA_256 = &quot;SHA-256&quot;;\r\n\t\tprivate static final int BUFFER = 1024;\r\n\t\r\n\t\tpublic String writeToFile(InputStream fis, File outputFile) throws IOException {\r\n\t\t\ttry (var fout = new FileOutputStream(outputFile); fis) {\r\n\t\t\t\tMessageDigest md5Digest = MessageDigest.getInstance(SHA_256);\r\n\t\t\t\tvar buffer = new byte[BUFFER];\r\n\t\t\t\tvar bytesRead = 0;\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tbytesRead = fis.read(buffer);\r\n\t\t\t\t\tif (bytesRead &lt; 0)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tmd5Digest.update(buffer, 0, bytesRead);\r\n\t\t\t\t\tfout.write(buffer, 0, bytesRead);\r\n\t\t\t\t}\r\n\t\t\t\tvar checksume = md5Digest.digest();\r\n\t\t\t\treturn Hex.encodeHexString(checksume);\r\n\t\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t\treturn &quot;KO&quot;;\r\n\t\t\t}\r\n\t\t}","title":"Java InputStream: copy to and calculate hash at the same time","body":"<p>If you want to read the input stream once, you might manual read the bytes from the input string and write it to you file by yourself.</p>\n<pre><code>    private static final String SHA_256 = &quot;SHA-256&quot;;\n    private static final int BUFFER = 1024;\n\n    public String writeToFile(InputStream fis, File outputFile) throws IOException {\n        try (var fout = new FileOutputStream(outputFile); fis) {\n            MessageDigest md5Digest = MessageDigest.getInstance(SHA_256);\n            var buffer = new byte[BUFFER];\n            var bytesRead = 0;\n            while (true) {\n                bytesRead = fis.read(buffer);\n                if (bytesRead &lt; 0)\n                    break;\n                md5Digest.update(buffer, 0, bytesRead);\n                fout.write(buffer, 0, bytesRead);\n            }\n            var checksume = md5Digest.digest();\n            return Hex.encodeHexString(checksume);\n        } catch (NoSuchAlgorithmException e) {\n            return &quot;KO&quot;;\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681469220,"post_id":76014100,"comment_id":134065084,"body_markdown":"Java 17 comes with [`HexFormat`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html), so you don&#39;t need to use external libraries anymore.","body":"Java 17 comes with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"nofollow noreferrer\"><code>HexFormat</code></a>, so you don&#39;t need to use external libraries anymore."},{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1681469701,"post_id":76014100,"comment_id":134065191,"body_markdown":"@MarkRotteveel I didn’t use jdk 17 yet. Thanks for the suggestion.","body":"@MarkRotteveel I didn’t use jdk 17 yet. Thanks for the suggestion."},{"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"score":0,"creation_date":1681472808,"post_id":76014100,"comment_id":134065854,"body_markdown":"My input stream is an http form upload multipart stream... I need to delete file if user cancels upload... Any ideas?","body":"My input stream is an http form upload multipart stream... I need to delete file if user cancels upload... Any ideas?"},{"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"score":0,"creation_date":1681474073,"post_id":76014100,"comment_id":134066155,"body_markdown":"@Jordi you can add a catch block to the try and use `Files.deleteIfExists` inside it.\n`try (...) { ... } catch (Exception ex) { Files.deleteIfExists(output); }`.","body":"@Jordi you can add a catch block to the try and use <code>Files.deleteIfExists</code> inside it. <code>try (...) { ... } catch (Exception ex) { Files.deleteIfExists(output); }</code>."}],"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681467919,"creation_date":1681467919,"answer_id":76014100,"question_id":76013476,"body_markdown":"Here is an example using `DigestInputStream` based on [Mark Rotteveel][1]&#39;s suggestion (which I liked):\r\n```java\r\nPath input = Paths.get(&quot;input_file&quot;);\r\nPath output = Paths.get(&quot;output_file&quot;);\r\nMessageDigest algorithm = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\ntry (InputStream is = Files.newInputStream(input);\r\n     DigestInputStream hashingStream = new DigestInputStream(is, algorithm)) {\r\n    Files.copy(hashingStream, output);\r\n}\r\nbyte[] digest = algorithm.digest();\r\n// this line uses Apache Commons Codec to show the hex representation of the byte[]\r\nString hash = Hex.encodeHexString(digest);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/466862/mark-rotteveel","title":"Java InputStream: copy to and calculate hash at the same time","body":"<p>Here is an example using <code>DigestInputStream</code> based on <a href=\"https://stackoverflow.com/users/466862/mark-rotteveel\">Mark Rotteveel</a>'s suggestion (which I liked):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path input = Paths.get(&quot;input_file&quot;);\nPath output = Paths.get(&quot;output_file&quot;);\nMessageDigest algorithm = MessageDigest.getInstance(&quot;SHA-256&quot;);\ntry (InputStream is = Files.newInputStream(input);\n     DigestInputStream hashingStream = new DigestInputStream(is, algorithm)) {\n    Files.copy(hashingStream, output);\n}\nbyte[] digest = algorithm.digest();\n// this line uses Apache Commons Codec to show the hex representation of the byte[]\nString hash = Hex.encodeHexString(digest);\n</code></pre>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76014100,"answer_count":3,"score":3,"last_activity_date":1681471100,"creation_date":1681464005,"question_id":76013476,"body_markdown":"Here are my two code snippets:\r\n\r\n```lang-java\r\npublic class Uploader {\r\n\r\n  private static final String SHA_256 = &quot;SHA-256&quot;;\r\n\r\n  public String getFileSHA2Checksum(InputStream fis) throws IOException {\r\n    try {\r\n      MessageDigest md5Digest = MessageDigest.getInstance(SHA_256);\r\n      return getFileChecksum(md5Digest, fis);\r\n    } catch (NoSuchAlgorithmException e) {\r\n      return &quot;KO&quot;;\r\n    }\r\n  }\r\n\r\n  public void transferTo(InputStream fis) throws IOException {\r\n    FileUtils.copyInputStreamToFile(fis, file2);\r\n  }\r\n```\r\n\r\nMy code uses this class as:\r\n\r\nIs it possible to `copyToFile` and `calculateChecksum` at the same time leveraging `InputStream` is open? ","title":"Java InputStream: copy to and calculate hash at the same time","body":"<p>Here are my two code snippets:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Uploader {\n\n  private static final String SHA_256 = &quot;SHA-256&quot;;\n\n  public String getFileSHA2Checksum(InputStream fis) throws IOException {\n    try {\n      MessageDigest md5Digest = MessageDigest.getInstance(SHA_256);\n      return getFileChecksum(md5Digest, fis);\n    } catch (NoSuchAlgorithmException e) {\n      return &quot;KO&quot;;\n    }\n  }\n\n  public void transferTo(InputStream fis) throws IOException {\n    FileUtils.copyInputStreamToFile(fis, file2);\n  }\n</code></pre>\n<p>My code uses this class as:</p>\n<p>Is it possible to <code>copyToFile</code> and <code>calculateChecksum</code> at the same time leveraging <code>InputStream</code> is open?</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1441714892,"post_id":32457549,"comment_id":52777295,"body_markdown":"I think you have already noted that the main advantages of log4j2 are not persuasive.  If you want other opinions, read this: http://www.infoq.com/news/2014/07/apache-log4j2","body":"I think you have already noted that the main advantages of log4j2 are not persuasive.  If you want other opinions, read this: <a href=\"http://www.infoq.com/news/2014/07/apache-log4j2\" rel=\"nofollow noreferrer\">infoq.com/news/2014/07/apache-log4j2</a>"},{"owner":{"account_id":4092618,"reputation":5227,"user_id":3360241,"accept_rate":91,"display_name":"John"},"score":0,"creation_date":1441715228,"post_id":32457549,"comment_id":52777536,"body_markdown":"Perhaps you might be interested in switching from log4j to logback.","body":"Perhaps you might be interested in switching from log4j to logback."}],"answers":[{"tags":[],"owner":{"account_id":6919749,"reputation":1,"user_id":5312797,"display_name":"Shreeraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441715271,"creation_date":1441715271,"answer_id":32457862,"question_id":32457549,"body_markdown":"As far as my experiance goes, there are no major upgrades with Log4j2 over Log4j. But there are a number of Bug Fixes, raised on Log4j, which have now gone into Log4j2. \r\nthe below link will give info on one such fix\r\n\r\n  https://issues.apache.org/bugzilla/show_bug.cgi?id=50213&amp;action=View\r\n\r\nSince you are using SLF4j, its very easy to migrate to Log4j2 - there willnot be any code changes, only library changes.\r\n\r\n\r\n\r\n","title":"Is it worth migrating from log4j1 to log4j2","body":"<p>As far as my experiance goes, there are no major upgrades with Log4j2 over Log4j. But there are a number of Bug Fixes, raised on Log4j, which have now gone into Log4j2. \nthe below link will give info on one such fix</p>\n\n<p><a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=50213&amp;action=View\" rel=\"nofollow\">https://issues.apache.org/bugzilla/show_bug.cgi?id=50213&amp;action=View</a></p>\n\n<p>Since you are using SLF4j, its very easy to migrate to Log4j2 - there willnot be any code changes, only library changes.</p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1441818189,"creation_date":1441715328,"answer_id":32457878,"question_id":32457549,"body_markdown":"According to the documentation asynchronuous loggers and appenders seem to improve the performance of Log4J 2 quite drastically: https://logging.apache.org/log4j/2.x/manual/async.html#Performance\r\n\r\nBesides: Log4J 1 is End of Life: https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces\r\n\r\nFrom the announcement:\r\n\r\n&gt; Apache Log4j 2 features a completely rewritten framework. In addition,\r\n&gt; it is faster, more reliable, and much easier to develop and maintain.\r\n\r\nSo, yes, I think it&#39;s worth to upgrade.","title":"Is it worth migrating from log4j1 to log4j2","body":"<p>According to the documentation asynchronuous loggers and appenders seem to improve the performance of Log4J 2 quite drastically: <a href=\"https://logging.apache.org/log4j/2.x/manual/async.html#Performance\" rel=\"nofollow\">https://logging.apache.org/log4j/2.x/manual/async.html#Performance</a></p>\n\n<p>Besides: Log4J 1 is End of Life: <a href=\"https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces\" rel=\"nofollow\">https://blogs.apache.org/foundation/entry/apache_logging_services_project_announces</a></p>\n\n<p>From the announcement:</p>\n\n<blockquote>\n  <p>Apache Log4j 2 features a completely rewritten framework. In addition,\n  it is faster, more reliable, and much easier to develop and maintain.</p>\n</blockquote>\n\n<p>So, yes, I think it's worth to upgrade.</p>\n"},{"comments":[{"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"score":1,"creation_date":1680694611,"post_id":75936850,"comment_id":133940617,"body_markdown":"Nice answer, I can clearly see your love for log42 :-) Luckily we ended up using logback.","body":"Nice answer, I can clearly see your love for log42 :-) Luckily we ended up using logback."}],"tags":[],"owner":{"account_id":7015415,"reputation":36,"user_id":5376929,"display_name":"Mike"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681470771,"creation_date":1680680782,"answer_id":75936850,"question_id":32457549,"body_markdown":"Log4j2 developpers had several brilliant ideas:\r\n\r\n- interpret logged data : see CVE-2021-44228. This was a huge scandal.\r\n\r\n- make it very, very difficult for the developer to control the loggers, by removing many entry points from the API. We have to directly use the &#39;core&#39; library to manage a loggers from the code (for instance, the simple thing of setting programmatically the output file of a FileAppender).\r\n\r\n- completely change the format of the configuration property files\r\n\r\n- provide a fake log4j 1.2 API that relies on a log4j2 implementation but does not implement all former methods, some are now implemented as doing nothing. Consequence: if ever a third party library uses this flawed ersatz API, you can&#39;t even use the good old log4j 1.2 in your application, and you might not notice that it doesn&#39;t work when you fall into one of the no-op methods.\r\n\r\n- if ever you are fool enough to want to control your loggings just a little bit by adding an appender at runtime, you can do that by using the core classes. But these psychopaths will punish you: when you add an appender to a logger... the method also +removes+ all previous appenders created by the configuration file.\r\n\r\nI have been using log4j for years and years happily because it was simple and working. Now after some time using the log4j2 s**t I really believe I should switch to something else.\r\n\r\nSo my answer is: don&#39;t migrate to log4j2. Check slf4j for instance.","title":"Is it worth migrating from log4j1 to log4j2","body":"<p>Log4j2 developpers had several brilliant ideas:</p>\n<ul>\n<li><p>interpret logged data : see CVE-2021-44228. This was a huge scandal.</p>\n</li>\n<li><p>make it very, very difficult for the developer to control the loggers, by removing many entry points from the API. We have to directly use the 'core' library to manage a loggers from the code (for instance, the simple thing of setting programmatically the output file of a FileAppender).</p>\n</li>\n<li><p>completely change the format of the configuration property files</p>\n</li>\n<li><p>provide a fake log4j 1.2 API that relies on a log4j2 implementation but does not implement all former methods, some are now implemented as doing nothing. Consequence: if ever a third party library uses this flawed ersatz API, you can't even use the good old log4j 1.2 in your application, and you might not notice that it doesn't work when you fall into one of the no-op methods.</p>\n</li>\n<li><p>if ever you are fool enough to want to control your loggings just a little bit by adding an appender at runtime, you can do that by using the core classes. But these psychopaths will punish you: when you add an appender to a logger... the method also +removes+ all previous appenders created by the configuration file.</p>\n</li>\n</ul>\n<p>I have been using log4j for years and years happily because it was simple and working. Now after some time using the log4j2 s**t I really believe I should switch to something else.</p>\n<p>So my answer is: don't migrate to log4j2. Check slf4j for instance.</p>\n"}],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32457878,"answer_count":3,"score":2,"last_activity_date":1681470771,"creation_date":1441714379,"question_id":32457549,"body_markdown":"We are evolving our corporate Java EE infraestructure and are considering a change in our logging platform. We are currently using **slf4j** as the API and **log4j1** as the underlying logging implementation.\r\n\r\nSince we don&#39;t directly use log4j&#39;s API, but sf4j&#39;s, it&#39;s all a matter of configuration changes, which have already been done.\r\n\r\nOur use of the logging system is pretty basic, so we don&#39;t need features like log4j2&#39;s advance filtering.\r\n\r\nRegarding performance, according to the [docs][1], it doesn&#39;t seem to be a huge improvement.\r\n\r\nSo, do you think we should migrate our apps from slf4j+log4j1 to slf4j+log4j2? Why? What advantages do you think it provides?\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/performance.html","title":"Is it worth migrating from log4j1 to log4j2","body":"<p>We are evolving our corporate Java EE infraestructure and are considering a change in our logging platform. We are currently using <strong>slf4j</strong> as the API and <strong>log4j1</strong> as the underlying logging implementation.</p>\n\n<p>Since we don't directly use log4j's API, but sf4j's, it's all a matter of configuration changes, which have already been done.</p>\n\n<p>Our use of the logging system is pretty basic, so we don't need features like log4j2's advance filtering.</p>\n\n<p>Regarding performance, according to the <a href=\"https://logging.apache.org/log4j/2.x/performance.html\" rel=\"nofollow\">docs</a>, it doesn't seem to be a huge improvement.</p>\n\n<p>So, do you think we should migrate our apps from slf4j+log4j1 to slf4j+log4j2? Why? What advantages do you think it provides?</p>\n"},{"tags":["java","maven","logback"],"comments":[{"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"score":1,"creation_date":1681468679,"post_id":76014051,"comment_id":134064975,"body_markdown":"Make sure that the `logback.xml` file is placed under the folder &quot;src/main/resources/&quot;.","body":"Make sure that the <code>logback.xml</code> file is placed under the folder &quot;src/main/resources/&quot;."}],"answers":[{"tags":[],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681470488,"creation_date":1681470488,"answer_id":76014481,"question_id":76014051,"body_markdown":"Here&#39;s how to print the current configuration at runtime:\r\n\r\nAdd the following lines to the code.\r\n\r\n```\r\nimport ch.qos.logback.classic.LoggerContext;\r\nimport ch.qos.logback.core.util.StatusPrinter;\r\n\r\n...\r\n\r\nLoggerContext loggerContext = (LoggerContext)LoggerFactory.getILoggerFactory();\r\nStatusPrinter.print(loggerContext);\r\n```\r\n\r\nFor example, if the config file is not found, it will print something like this:\r\n\r\n```\r\n11:37:34,150 |-INFO in ch.qos.logback.classic.LoggerContext[default] - This is logback-classic version ?\r\n11:37:34,173 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\r\n11:37:34,173 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.xml]\r\n11:37:34,174 |-INFO in ch.qos.logback.classic.BasicConfigurator@7637f22 - Setting up default configuration.\r\n```\r\n","title":"How to test if logback is picking up configuration from logback.xml","body":"<p>Here's how to print the current configuration at runtime:</p>\n<p>Add the following lines to the code.</p>\n<pre><code>import ch.qos.logback.classic.LoggerContext;\nimport ch.qos.logback.core.util.StatusPrinter;\n\n...\n\nLoggerContext loggerContext = (LoggerContext)LoggerFactory.getILoggerFactory();\nStatusPrinter.print(loggerContext);\n</code></pre>\n<p>For example, if the config file is not found, it will print something like this:</p>\n<pre><code>11:37:34,150 |-INFO in ch.qos.logback.classic.LoggerContext[default] - This is logback-classic version ?\n11:37:34,173 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\n11:37:34,173 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.xml]\n11:37:34,174 |-INFO in ch.qos.logback.classic.BasicConfigurator@7637f22 - Setting up default configuration.\n</code></pre>\n"}],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681470488,"creation_date":1681467627,"question_id":76014051,"body_markdown":"I have written a short test code to experiment with the Java logging framework Logback.\r\n\r\nHowever, Logback doesn&#39;t seem to be picking up the configuration from the xml file.\r\n\r\nHere&#39;s the application code:\r\n\r\n```\r\npackage com.myname.logbackexample;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class App \r\n{\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(App.class);\r\n    private static final Logger anotherLogger = LoggerFactory.getLogger(&quot;anotherLogger&quot;);\r\n    private static final Logger fileLogger = LoggerFactory.getLogger(&quot;filelog&quot;);\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        System.out.println(&quot;Hello World from System.out&quot;);\r\n\r\n        logger.debug(&quot;Hello world from Logback&quot;);\r\n        logger.debug(&quot;getNumber() : {}&quot;, getNumber());\r\n\r\n        logger.warn(&quot;This is a warning&quot;);\r\n        logger.error(&quot;This is an error&quot;);\r\n        logger.info(&quot;This is info&quot;);\r\n        logger.trace(&quot;This is trace&quot;);\r\n\r\n        anotherLogger.debug(&quot;Debug from anotherLogger&quot;);\r\n\r\n        fileLogger.debug(&quot;Debug log to file from fileLogger -&gt; filelog&quot;);\r\n    }\r\n\r\n    static int getNumber() {\r\n        return 10;\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is my configuration file `logback.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;simpleConsole&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %-5level %logger{36}: %msg%n\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;logger name=&quot;com.myname&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;simpleConsole&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;logger name=&quot;com.myname.logbackexample.App&quot; level=&quot;warn&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;logger name=&quot;anotherLogger&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;simpleConsole&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n    &lt;root level=&quot;error&quot;&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\n\r\nThis is the output produce when I package and run this code:\r\n\r\n```\r\n$ java -jar target/logback-example-1.0-SNAPSHOT-jar-with-dependencies.jar\r\nHello World from System.out\r\n11:13:32.504 [main] DEBUG com.myname.logbackexample.App -- Hello world from Logback\r\n11:13:32.507 [main] DEBUG com.myname.logbackexample.App -- getNumber() : 10\r\n11:13:32.508 [main] WARN com.myname.logbackexample.App -- This is a warning\r\n11:13:32.508 [main] ERROR com.myname.logbackexample.App -- This is an error\r\n11:13:32.508 [main] INFO com.myname.logbackexample.App -- This is info\r\n11:13:32.508 [main] DEBUG anotherLogger -- Debug from anotherLogger\r\n11:13:32.508 [main] DEBUG filelog -- Debug log to file from fileLogger -&gt; filelog\r\n```\r\n\r\n\r\nFinally, my `pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.myname.logbackexmaple&lt;/groupId&gt;\r\n  &lt;artifactId&gt;logback-example&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;logback-example&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;default-jar&lt;/id&gt;\r\n              &lt;phase&gt;none&lt;/phase&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.1&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;mainClass&gt;com.myname.logbackexample.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;com.myname.logbackexample.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI would expect to get different log levels and output formats depending on which logger is being logged to.\r\n\r\nThis doesn&#39;t seem to be happening as I would expect.\r\n\r\nFor example, `anotherLogger` should be set to a log level of `error`, but it produces output at debug level.\r\n\r\nHow can I test whether the configuration file `logback.xml` is being read and processed by the code when it is run?","title":"How to test if logback is picking up configuration from logback.xml","body":"<p>I have written a short test code to experiment with the Java logging framework Logback.</p>\n<p>However, Logback doesn't seem to be picking up the configuration from the xml file.</p>\n<p>Here's the application code:</p>\n<pre><code>package com.myname.logbackexample;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class App \n{\n\n    private static final Logger logger = LoggerFactory.getLogger(App.class);\n    private static final Logger anotherLogger = LoggerFactory.getLogger(&quot;anotherLogger&quot;);\n    private static final Logger fileLogger = LoggerFactory.getLogger(&quot;filelog&quot;);\n\n    public static void main(String[] args)\n    {\n        System.out.println(&quot;Hello World from System.out&quot;);\n\n        logger.debug(&quot;Hello world from Logback&quot;);\n        logger.debug(&quot;getNumber() : {}&quot;, getNumber());\n\n        logger.warn(&quot;This is a warning&quot;);\n        logger.error(&quot;This is an error&quot;);\n        logger.info(&quot;This is info&quot;);\n        logger.trace(&quot;This is trace&quot;);\n\n        anotherLogger.debug(&quot;Debug from anotherLogger&quot;);\n\n        fileLogger.debug(&quot;Debug log to file from fileLogger -&gt; filelog&quot;);\n    }\n\n    static int getNumber() {\n        return 10;\n    }\n}\n</code></pre>\n<p>Here is my configuration file <code>logback.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;simpleConsole&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %-5level %logger{36}: %msg%n\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;com.myname&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;simpleConsole&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;com.myname.logbackexample.App&quot; level=&quot;warn&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;anotherLogger&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;simpleConsole&quot;/&gt;\n    &lt;/logger&gt;\n\n    &lt;root level=&quot;error&quot;&gt;\n        &lt;appender-ref ref=&quot;console&quot;/&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>This is the output produce when I package and run this code:</p>\n<pre><code>$ java -jar target/logback-example-1.0-SNAPSHOT-jar-with-dependencies.jar\nHello World from System.out\n11:13:32.504 [main] DEBUG com.myname.logbackexample.App -- Hello world from Logback\n11:13:32.507 [main] DEBUG com.myname.logbackexample.App -- getNumber() : 10\n11:13:32.508 [main] WARN com.myname.logbackexample.App -- This is a warning\n11:13:32.508 [main] ERROR com.myname.logbackexample.App -- This is an error\n11:13:32.508 [main] INFO com.myname.logbackexample.App -- This is info\n11:13:32.508 [main] DEBUG anotherLogger -- Debug from anotherLogger\n11:13:32.508 [main] DEBUG filelog -- Debug log to file from fileLogger -&gt; filelog\n</code></pre>\n<p>Finally, my <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.myname.logbackexmaple&lt;/groupId&gt;\n  &lt;artifactId&gt;logback-example&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;logback-example&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;1.4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;default-jar&lt;/id&gt;\n              &lt;phase&gt;none&lt;/phase&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.1&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;mainClass&gt;com.myname.logbackexample.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;com.myname.logbackexample.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I would expect to get different log levels and output formats depending on which logger is being logged to.</p>\n<p>This doesn't seem to be happening as I would expect.</p>\n<p>For example, <code>anotherLogger</code> should be set to a log level of <code>error</code>, but it produces output at debug level.</p>\n<p>How can I test whether the configuration file <code>logback.xml</code> is being read and processed by the code when it is run?</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1446723600,"post_id":33543530,"comment_id":54867048,"body_markdown":"@blank :D Funny solution but there is too much computation work there and if the separator is not a single character I would have to reverse it too...","body":"@blank :D Funny solution but there is too much computation work there and if the separator is not a single character I would have to reverse it too..."},{"owner":{"account_id":1016,"reputation":17962,"user_id":1348,"accept_rate":88,"display_name":"blank"},"score":0,"creation_date":1446723796,"post_id":33543530,"comment_id":54867169,"body_markdown":"too much computation? we have computers for this kind of stuff! but yes it does become more complicated","body":"too much computation? we have computers for this kind of stuff! but yes it does become more complicated"},{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1446724021,"post_id":33543530,"comment_id":54867307,"body_markdown":"@blank Imagine you have to do it 100000 times per second.","body":"@blank Imagine you have to do it 100000 times per second."}],"answers":[{"comments":[{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1446723708,"post_id":33543608,"comment_id":54867118,"body_markdown":"Nice solution if the limit is 2. Any variant to allow it to be a parameter? I don&#39;t mind including somethink like `{2}` in the regex string. And the regex is specific for that separator. It is not so easy to adapt it to any separator. Thank you","body":"Nice solution if the limit is 2. Any variant to allow it to be a parameter? I don&#39;t mind including somethink like <code>{2}</code> in the regex string. And the regex is specific for that separator. It is not so easy to adapt it to any separator. Thank you"},{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1446723851,"post_id":33543608,"comment_id":54867199,"body_markdown":"I did just that `splitAtLastDot` but I wondered if there is a general solution, not just for the limit 2 case.","body":"I did just that <code>splitAtLastDot</code> but I wondered if there is a general solution, not just for the limit 2 case."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1446724067,"creation_date":1446723562,"answer_id":33543608,"question_id":33543530,"body_markdown":"You may use look-ahead match:\r\n\r\n    &quot;a.b.c&quot;.split(&quot;[.](?=[^.]*$)&quot;)\r\n\r\nHere you say &quot;I want to split by only that dot which has no other dots after it&quot;.\r\n\r\nIf you want to split by last N dots, you can generalize this solution in this (even more ugly way):\r\n\r\n    &quot;dfsga.sdgdsb.dsgc.dsgsdfg.dsdg.sdfg.sdf&quot;.split(&quot;[.](?=([^.]*[.]){0,3}[^.]*$)&quot;);\r\n\r\nReplace `3` with `N-2`.\r\n\r\nHowever I would write a short static method instead:\r\n\r\n\tpublic static String[] splitAtLastDot(String s) {\r\n\t\tint pos = s.lastIndexOf(&#39;.&#39;);\r\n\t\tif(pos == -1)\r\n\t\t\treturn new String[] {s};\r\n\t\treturn new String[] {s.substring(0, pos), s.substring(pos+1)};\r\n\t}\r\n","title":"How do I split a string with a limit starting by the right in java?","body":"<p>You may use look-ahead match:</p>\n\n<pre><code>\"a.b.c\".split(\"[.](?=[^.]*$)\")\n</code></pre>\n\n<p>Here you say \"I want to split by only that dot which has no other dots after it\".</p>\n\n<p>If you want to split by last N dots, you can generalize this solution in this (even more ugly way):</p>\n\n<pre><code>\"dfsga.sdgdsb.dsgc.dsgsdfg.dsdg.sdfg.sdf\".split(\"[.](?=([^.]*[.]){0,3}[^.]*$)\");\n</code></pre>\n\n<p>Replace <code>3</code> with <code>N-2</code>.</p>\n\n<p>However I would write a short static method instead:</p>\n\n<pre><code>public static String[] splitAtLastDot(String s) {\n    int pos = s.lastIndexOf('.');\n    if(pos == -1)\n        return new String[] {s};\n    return new String[] {s.substring(0, pos), s.substring(pos+1)};\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":1,"creation_date":1446723942,"post_id":33543668,"comment_id":54867251,"body_markdown":"That would not work if the regex is directional like `&quot;--&gt;&quot;` and you can&#39;t always reverse a regex.","body":"That would not work if the regex is directional like <code>&quot;--&gt;&quot;</code> and you can&#39;t always reverse a regex."},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":1,"creation_date":1446724085,"post_id":33543668,"comment_id":54867359,"body_markdown":"Yeah, this wont work on a more complex regex, but for a more simple regex this should work. To make it work for a complex regex you would have to reverse the regex aswell.","body":"Yeah, this wont work on a more complex regex, but for a more simple regex this should work. To make it work for a complex regex you would have to reverse the regex aswell."}],"tags":[],"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446723774,"creation_date":1446723774,"answer_id":33543668,"question_id":33543530,"body_markdown":"Despite that you said reversing would take to long, here&#180;s a small programm that reveres the String and splits it by the limit;\r\n\r\n\r\n    static String[] leftSplit(String input, String regex, int limit) {\r\n\t\tString reveresedInput = new StringBuilder(input).reverse().toString();\r\n\t\tString[] output = reveresedInput.split(regex, limit);\r\n\t\tString tempOutput[] = new String[output.length];\r\n\t\tfor(int i = 0;i&lt;output.length;++i) {\r\n\t\t\ttempOutput[tempOutput.length-i-1] = new StringBuilder(output[i]).reverse().toString();\r\n\t\t}\r\n\t\treturn tempOutput;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(Arrays.toString(leftSplit(&quot;a.b.c&quot;, &quot;[.]&quot;, 2)));\r\n\t\tSystem.out.println(Arrays.toString(leftSplit(&quot;I want to. Split this. by the. right side&quot;, &quot;[.]&quot;, 2)));\r\n\t}","title":"How do I split a string with a limit starting by the right in java?","body":"<p>Despite that you said reversing would take to long, here´s a small programm that reveres the String and splits it by the limit;</p>\n\n<pre><code>static String[] leftSplit(String input, String regex, int limit) {\n    String reveresedInput = new StringBuilder(input).reverse().toString();\n    String[] output = reveresedInput.split(regex, limit);\n    String tempOutput[] = new String[output.length];\n    for(int i = 0;i&lt;output.length;++i) {\n        tempOutput[tempOutput.length-i-1] = new StringBuilder(output[i]).reverse().toString();\n    }\n    return tempOutput;\n}\n\npublic static void main(String[] args) {\n    System.out.println(Arrays.toString(leftSplit(\"a.b.c\", \"[.]\", 2)));\n    System.out.println(Arrays.toString(leftSplit(\"I want to. Split this. by the. right side\", \"[.]\", 2)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5847794,"reputation":5365,"user_id":4607417,"accept_rate":67,"display_name":"m.cekiera"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1446739861,"creation_date":1446739861,"answer_id":33549497,"question_id":33543530,"body_markdown":"I would try with something like this:\r\n\r\n    public List&lt;String&gt; splitRight(String string, String regex, int limit) {\r\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n        String[] temp = new String[0];\r\n        for(int i = 1; i &lt; limit; i++) {\r\n            if(string.matches(&quot;.*&quot;+regex+&quot;.*&quot;)) {\r\n                temp = string.split(modifyRegex(regex));\r\n                result.add(temp[1]);\r\n                string = temp[0];\r\n            }\r\n        }\r\n        if(temp.length&gt;0) { \r\n            result.add(temp[0]);\r\n        }\r\n        Collections.reverse(result);\r\n        return result;\r\n    }\r\n\r\n    public String modifyRegex(String regex){\r\n        return regex + &quot;(?!.*&quot; + regex + &quot;.*$)&quot;;\r\n    }\r\n\r\nThe regular expression for split is wrapped by another, so for `\\\\.`, you will get: `\\\\.(?!.*\\\\..*$)`, to match and split on last occurance of delimiter. The string is splitted multiple time with this regex, the second element of result array is added to List&lt;String&gt;, next split is done on first element of result array.\r\n\r\nThe effect of above method for your example string is as expected. \r\n","title":"How do I split a string with a limit starting by the right in java?","body":"<p>I would try with something like this:</p>\n\n<pre><code>public List&lt;String&gt; splitRight(String string, String regex, int limit) {\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    String[] temp = new String[0];\n    for(int i = 1; i &lt; limit; i++) {\n        if(string.matches(\".*\"+regex+\".*\")) {\n            temp = string.split(modifyRegex(regex));\n            result.add(temp[1]);\n            string = temp[0];\n        }\n    }\n    if(temp.length&gt;0) { \n        result.add(temp[0]);\n    }\n    Collections.reverse(result);\n    return result;\n}\n\npublic String modifyRegex(String regex){\n    return regex + \"(?!.*\" + regex + \".*$)\";\n}\n</code></pre>\n\n<p>The regular expression for split is wrapped by another, so for <code>\\\\.</code>, you will get: <code>\\\\.(?!.*\\\\..*$)</code>, to match and split on last occurance of delimiter. The string is splitted multiple time with this regex, the second element of result array is added to List, next split is done on first element of result array.</p>\n\n<p>The effect of above method for your example string is as expected. </p>\n"},{"comments":[{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1682329312,"post_id":76014365,"comment_id":134192333,"body_markdown":"Hi. In the last example it would not work this way as &quot;-&gt;&quot; and &quot;&lt;-&quot; are two different things. You would need to reverse the split regex too and that&#39;s not always easy.","body":"Hi. In the last example it would not work this way as &quot;-&gt;&quot; and &quot;&lt;-&quot; are two different things. You would need to reverse the split regex too and that&#39;s not always easy."},{"owner":{"account_id":16525221,"reputation":31,"user_id":11940205,"display_name":"barbarous"},"score":0,"creation_date":1682350901,"post_id":76014365,"comment_id":134197595,"body_markdown":"@aalku, we can reverse regexp as well `&quot;\\\\)&gt;-\\\\(&quot;`, it looks ugly but works","body":"@aalku, we can reverse regexp as well <code>&quot;\\\\)&gt;-\\\\(&quot;</code>, it looks ugly but works"}],"tags":[],"owner":{"account_id":16525221,"reputation":31,"user_id":11940205,"display_name":"barbarous"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681470077,"creation_date":1681469700,"answer_id":76014365,"question_id":33543530,"body_markdown":"Performance isn&#39;t good but readability is better than some of examples above:\r\n\r\n    List l = Arrays.stream(new StringBuilder(&quot;a.b.c&quot;).reverse().toString().split(&quot;\\\\.&quot;, 2))\r\n    .map(StringBuilder::new).map(StringBuilder::reverse).collect(toList());\r\n    Collections.reverse(l);\r\n\r\n","title":"How do I split a string with a limit starting by the right in java?","body":"<p>Performance isn't good but readability is better than some of examples above:</p>\n<pre><code>List l = Arrays.stream(new StringBuilder(&quot;a.b.c&quot;).reverse().toString().split(&quot;\\\\.&quot;, 2))\n.map(StringBuilder::new).map(StringBuilder::reverse).collect(toList());\nCollections.reverse(l);\n</code></pre>\n"}],"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3095,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":33549497,"answer_count":4,"score":6,"last_activity_date":1681470077,"creation_date":1446723291,"question_id":33543530,"body_markdown":"Split without limits split the entire string but if you set a limit it splits up to that limit by the left. How can I do the same by the right?\r\n\r\n    &quot;a.b.c&quot;.split(&quot;[.]&quot;, 2); // returns [&quot;a&quot;, &quot;b.c&quot;]\r\n\r\nI would want\r\n\r\n    &quot;a.b.c&quot;.splitRight(&quot;[.]&quot;, 2); // to return [&quot;a.b&quot;, &quot;c&quot;]\r\n\r\nEDIT: I want a general solution that works just like splited but reversed so I add a more complex example\r\n\r\nI would want\r\n\r\n    &quot;a(-&gt;)b(-&gt;)c(-&gt;)d&quot;.splitRight(&quot;\\\\(-&gt;\\\\)&quot;, 3); // to return [&quot;a(-&gt;)b&quot;, &quot;c&quot;, &quot;d&quot;]\r\n","title":"How do I split a string with a limit starting by the right in java?","body":"<p>Split without limits split the entire string but if you set a limit it splits up to that limit by the left. How can I do the same by the right?</p>\n\n<pre><code>\"a.b.c\".split(\"[.]\", 2); // returns [\"a\", \"b.c\"]\n</code></pre>\n\n<p>I would want</p>\n\n<pre><code>\"a.b.c\".splitRight(\"[.]\", 2); // to return [\"a.b\", \"c\"]\n</code></pre>\n\n<p>EDIT: I want a general solution that works just like splited but reversed so I add a more complex example</p>\n\n<p>I would want</p>\n\n<pre><code>\"a(-&gt;)b(-&gt;)c(-&gt;)d\".splitRight(\"\\\\(-&gt;\\\\)\", 3); // to return [\"a(-&gt;)b\", \"c\", \"d\"]\n</code></pre>\n"},{"tags":["java","xml","jackson","jackson-dataformat-xml"],"answers":[{"comments":[{"owner":{"account_id":2349284,"reputation":391,"user_id":2058593,"accept_rate":0,"display_name":"r00tGER"},"score":0,"creation_date":1681465045,"post_id":76013532,"comment_id":134064184,"body_markdown":"Sorry, there was a mistake in Group class. I have edited the Group.","body":"Sorry, there was a mistake in Group class. I have edited the Group."},{"owner":{"account_id":2349284,"reputation":391,"user_id":2058593,"accept_rate":0,"display_name":"r00tGER"},"score":0,"creation_date":1681465227,"post_id":76013532,"comment_id":134064228,"body_markdown":"I want map &lt;object&gt; to Item.class, &lt;group&gt; to Group.class","body":"I want map &lt;object&gt; to Item.class, &lt;group&gt; to Group.class"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681469659,"creation_date":1681464360,"answer_id":76013532,"question_id":76012983,"body_markdown":"Jackson does not have a special annotation for recursive style objects. It will handle any reference, whether recursive or not.\r\n\r\nThis should do what you want: (you may need Lombok or getters, setters, default constructor)\r\n\r\n    @XmlRootElement(name = &quot;root&quot;)\r\n    class Root {\r\n        private List&lt;Group&gt; groups;\r\n    }\r\n\r\n\r\n    @XmlRootElement(name = &quot;object&quot;) \r\n    class Item {\r\n        private ItemData item;\r\n    }\r\n\r\n    class Group {\r\n        @JsonProperty(&quot;group_data&quot;)\r\n        private String groupData;\r\n       \r\n\r\n        private List&lt;Group&gt; groups;\r\n   \r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        private List&lt;Item&gt; items;\r\n\r\n    }\r\n    \r\n    class ItemData {\r\n        private String itemName;\r\n    }\r\n\r\n\r\n\r\n","title":"How deserialize nesting with various depthion with Jackson?","body":"<p>Jackson does not have a special annotation for recursive style objects. It will handle any reference, whether recursive or not.</p>\n<p>This should do what you want: (you may need Lombok or getters, setters, default constructor)</p>\n<pre><code>@XmlRootElement(name = &quot;root&quot;)\nclass Root {\n    private List&lt;Group&gt; groups;\n}\n\n\n@XmlRootElement(name = &quot;object&quot;) \nclass Item {\n    private ItemData item;\n}\n\nclass Group {\n    @JsonProperty(&quot;group_data&quot;)\n    private String groupData;\n   \n\n    private List&lt;Group&gt; groups;\n\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Item&gt; items;\n\n}\n\nclass ItemData {\n    private String itemName;\n}\n</code></pre>\n"}],"owner":{"account_id":2349284,"reputation":391,"user_id":2058593,"accept_rate":0,"display_name":"r00tGER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681469659,"creation_date":1681460391,"question_id":76012983,"body_markdown":"I have xml with recursive nesting:\r\n\r\n```xml\r\n&lt;root&gt;\r\n  &lt;groups&gt;\r\n    &lt;group&gt;\r\n      &lt;group_data&gt;...group data...&lt;/group_data&gt;\r\n      &lt;object&gt;...object data...&lt;/object&gt;\r\n      &lt;object&gt;...object data...&lt;/object&gt;\r\n      &lt;groups&gt;\r\n        &lt;gropup&gt;\r\n          &lt;group_data&gt;...group data...&lt;/group_data&gt;\r\n          &lt;object&gt;...object data...&lt;/object&gt;\r\n\t      &lt;groups&gt;\r\n\t        &lt;group&gt;\r\n              &lt;group_data&gt;...group data...&lt;/group_data&gt;\r\n\t          &lt;object&gt;...object data...&lt;/object&gt;\r\n\t          &lt;object&gt;...object data...&lt;/object&gt;\r\n\t        &lt;/group&gt;\r\n\t        &lt;group&gt;\r\n              &lt;group_data&gt;...group data...&lt;/group_data&gt;\r\n\t          &lt;object&gt;...object data...&lt;/object&gt;\r\n\t        &lt;/group&gt;\r\n\t      &lt;/goups&gt;\r\n        &lt;/group&gt;\r\n      &lt;/groups&gt;\r\n    &lt;/group&gt;\r\n  &lt;/groups&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nNesting depth can be any.\r\n\r\nHow to collect all objects with full chain groups data?\r\n\r\nSomething like this:\r\n\r\n```java\r\nclass Item {\r\n    private ItemData item;\r\n}\r\n\r\nclass Group {\r\n    private String groupData;\r\n    private List&lt;Group&gt; groups;\r\n    private List&lt;Item&gt; Items;\r\n}\r\n\r\nclass ItemData {\r\n    private String itemName;\r\n}\r\n```\r\n\r\nHow in Jackson annotate recursive structure?","title":"How deserialize nesting with various depthion with Jackson?","body":"<p>I have xml with recursive nesting:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n  &lt;groups&gt;\n    &lt;group&gt;\n      &lt;group_data&gt;...group data...&lt;/group_data&gt;\n      &lt;object&gt;...object data...&lt;/object&gt;\n      &lt;object&gt;...object data...&lt;/object&gt;\n      &lt;groups&gt;\n        &lt;gropup&gt;\n          &lt;group_data&gt;...group data...&lt;/group_data&gt;\n          &lt;object&gt;...object data...&lt;/object&gt;\n          &lt;groups&gt;\n            &lt;group&gt;\n              &lt;group_data&gt;...group data...&lt;/group_data&gt;\n              &lt;object&gt;...object data...&lt;/object&gt;\n              &lt;object&gt;...object data...&lt;/object&gt;\n            &lt;/group&gt;\n            &lt;group&gt;\n              &lt;group_data&gt;...group data...&lt;/group_data&gt;\n              &lt;object&gt;...object data...&lt;/object&gt;\n            &lt;/group&gt;\n          &lt;/goups&gt;\n        &lt;/group&gt;\n      &lt;/groups&gt;\n    &lt;/group&gt;\n  &lt;/groups&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Nesting depth can be any.</p>\n<p>How to collect all objects with full chain groups data?</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Item {\n    private ItemData item;\n}\n\nclass Group {\n    private String groupData;\n    private List&lt;Group&gt; groups;\n    private List&lt;Item&gt; Items;\n}\n\nclass ItemData {\n    private String itemName;\n}\n</code></pre>\n<p>How in Jackson annotate recursive structure?</p>\n"},{"tags":["java","azure"],"answers":[{"tags":[],"owner":{"account_id":24283882,"reputation":7657,"user_id":18229928,"display_name":"Rukmini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681469050,"creation_date":1681469050,"answer_id":76014272,"question_id":76013598,"body_markdown":"***I tried to reproduce the same in my environment and got the results like below:***\r\n\r\n&gt; **Note** that: To get/read the calendar, the Azure AD Application must have **`Calendars.Read`** API permission.\r\n\r\nI created an **Azure AD Application and granted API permissions** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/LRozI.png)\r\n\r\nNow I generated **access token** via Postman using below parameters:\r\n```json\r\nhttps://login.microsoftonline.com/TenantID/oauth2/v2.0/token\r\n\r\nclient_id:ClientID\r\nclient_secret:ClientSecret\r\nusername:user1@xxxx.onmicrosoft.com\r\npassword:****\r\ngrant_type:password\r\nscope:https://graph.microsoft.com/.default \r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/lIeQ7.png)\r\n\r\nMake sure the **`Calendars.Read`**  API permission is present when you decode the token like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/CvS3g.png)\r\n\r\n**I am able to get the calendar details successfully like below:**\r\n```json\r\nhttps://graph.microsoft.com/v1.0/me/calendar\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/Zcrdr.png)","title":"Using azure.identity.UsernamePasswordCredential and error: AADSTS65001: The user or administrator has not consented to use the application with ID","body":"<p><em><strong>I tried to reproduce the same in my environment and got the results like below:</strong></em></p>\n<blockquote>\n<p><strong>Note</strong> that: To get/read the calendar, the Azure AD Application must have <strong><code>Calendars.Read</code></strong> API permission.</p>\n</blockquote>\n<p>I created an <strong>Azure AD Application and granted API permissions</strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/LRozI.png\" alt=\"enter image description here\" /></p>\n<p>Now I generated <strong>access token</strong> via Postman using below parameters:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/TenantID/oauth2/v2.0/token\n\nclient_id:ClientID\nclient_secret:ClientSecret\nusername:user1@xxxx.onmicrosoft.com\npassword:****\ngrant_type:password\nscope:https://graph.microsoft.com/.default \n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/lIeQ7.png\" alt=\"enter image description here\" /></p>\n<p>Make sure the <strong><code>Calendars.Read</code></strong>  API permission is present when you decode the token like below:</p>\n<p><img src=\"https://i.stack.imgur.com/CvS3g.png\" alt=\"enter image description here\" /></p>\n<p><strong>I am able to get the calendar details successfully like below:</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>https://graph.microsoft.com/v1.0/me/calendar\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Zcrdr.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":28293149,"reputation":13,"user_id":21632974,"display_name":"Eric Du"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76014272,"answer_count":1,"score":1,"last_activity_date":1681469050,"creation_date":1681464773,"question_id":76013598,"body_markdown":"I am using the microsoft graph-sdk-java to read canlendar from outlook with a User scope by using UsernamePasswordCredential authorization. First, I try to get user&#39;s information.\r\n```\r\n        final UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\r\n                .clientId(CLIENT_ID)\r\n                .username(username)\r\n                .password(password)\r\n                .build();\r\n\r\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(getScopes(), usernamePasswordCredential);\r\n\r\n        final GraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient\r\n                        .builder()\r\n                        .authenticationProvider(tokenCredentialAuthProvider)\r\n                        .buildClient();\r\n\r\n        final User me = graphClient.me().buildRequest().get();\r\n```\r\nThen, I running the program and have a problem below.\r\n\r\n```\r\ncom.microsoft.aad.msal4j.MsalInteractionRequiredException: AADSTS65001: The user or administrator has not consented to use the application with ID &lt;application_id&gt;. Send an interactive authorization request for this user and resource.\r\n```\r\nThe application has been registered in the tenant&#39;s Azure AD. I think there&#39;s a problem with app&#39;s API permissions.\r\n\r\n[![\\[enter image description here\\](https://i.stack.imgur.com/lMXYF.png)][1]][1]\r\n\r\n\r\nHow do I handler this error and get calendar&#39;s event without interactive authorization?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VjDWb.png","title":"Using azure.identity.UsernamePasswordCredential and error: AADSTS65001: The user or administrator has not consented to use the application with ID","body":"<p>I am using the microsoft graph-sdk-java to read canlendar from outlook with a User scope by using UsernamePasswordCredential authorization. First, I try to get user's information.</p>\n<pre><code>        final UsernamePasswordCredential usernamePasswordCredential = new UsernamePasswordCredentialBuilder()\n                .clientId(CLIENT_ID)\n                .username(username)\n                .password(password)\n                .build();\n\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(getScopes(), usernamePasswordCredential);\n\n        final GraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient\n                        .builder()\n                        .authenticationProvider(tokenCredentialAuthProvider)\n                        .buildClient();\n\n        final User me = graphClient.me().buildRequest().get();\n</code></pre>\n<p>Then, I running the program and have a problem below.</p>\n<pre><code>com.microsoft.aad.msal4j.MsalInteractionRequiredException: AADSTS65001: The user or administrator has not consented to use the application with ID &lt;application_id&gt;. Send an interactive authorization request for this user and resource.\n</code></pre>\n<p>The application has been registered in the tenant's Azure AD. I think there's a problem with app's API permissions.</p>\n<p><a href=\"https://i.stack.imgur.com/VjDWb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VjDWb.png\" alt=\"[enter image description here](https://i.stack.imgur.com/lMXYF.png)\" /></a></p>\n<p>How do I handler this error and get calendar's event without interactive authorization?</p>\n"},{"tags":["java","mysql","sql","hibernate","select"],"comments":[{"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"score":0,"creation_date":1498220925,"post_id":44641851,"comment_id":76425064,"body_markdown":"Mind posting the error you get with your attempt?","body":"Mind posting the error you get with your attempt?"},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1498423544,"post_id":44641851,"comment_id":76481840,"body_markdown":"is done pal thanks a lot","body":"is done pal thanks a lot"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1498509910,"post_id":44641851,"comment_id":76517825,"body_markdown":"Please provide the value of the variable `activeRecord` leading into the code you provided.  If it is simply `true`, then the code you provided did _not_ generate the error message you provided.","body":"Please provide the value of the variable <code>activeRecord</code> leading into the code you provided.  If it is simply <code>true</code>, then the code you provided did <i>not</i> generate the error message you provided."}],"answers":[{"comments":[{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1497995670,"post_id":44647094,"comment_id":76312876,"body_markdown":"I need to do a update and return the affected id!! you can check it out the original question here pal: https://stackoverflow.com/questions/44604763/java-hibernate-tips-about-update-all-table-fields-performance","body":"I need to do a update and return the affected id!! you can check it out the original question here pal: <a href=\"https://stackoverflow.com/questions/44604763/java-hibernate-tips-about-update-all-table-fields-performance\" title=\"java hibernate tips about update all table fields performance\">stackoverflow.com/questions/44604763/&hellip;</a>"}],"tags":[],"owner":{"account_id":8136221,"reputation":133,"user_id":6127753,"display_name":"Pradip Wawge"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497945365,"creation_date":1497945365,"answer_id":44647094,"question_id":44641851,"body_markdown":"    you have to use HQL Query for bulk update. you are going write way only thing is that, you have to create HQL query for example\r\n    \r\n    \r\n        Your Query Might be like this:-\r\n        final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\r\n            final String sqlQuery = new StringBuilder(&quot;SET @ids = NULL; &quot;)\r\n                    .append(&quot;UPDATE &quot;)\r\n                    .append(tableName)\r\n                    .append(&#39; &#39;)\r\n                    .append(&quot;set activeRecord=:activeRecord &quot;)\r\n                    .append(&quot;where activeRecord=true and updateable=true &quot;)\r\n                    .append(&quot;and (SELECT @ids \\\\:= CONCAT_WS(&#39;,&#39;, id, @ids)); &quot;)\r\n                    .append(&quot;select @ids;&quot;)\r\n                    .toString();\r\n            final Query query = session.createQuery(sqlQuery)\r\n                    .setParameter(&quot;activeRecord&quot;,Boolean.FALSE);\r\n            final Object idsList=query.executeUpdate();\r\n        \r\n        Example Query:\r\n        final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\r\n           Query qry = session.createQuery(&quot;update &quot;+tableName+&quot; p set p.proName=?\r\n        where p.productId=111&quot;);\r\n        \t        qry.setParameter(0,&quot;updated..&quot;);\r\n        \t        int res = qry.executeUpdate();","title":"Java Hibernate org.hibernate.exception.SQLGrammarException: could not extract ResultSet on createSQLQuery","body":"<pre><code>you have to use HQL Query for bulk update. you are going write way only thing is that, you have to create HQL query for example\n\n\n    Your Query Might be like this:-\n    final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\n        final String sqlQuery = new StringBuilder(\"SET @ids = NULL; \")\n                .append(\"UPDATE \")\n                .append(tableName)\n                .append(' ')\n                .append(\"set activeRecord=:activeRecord \")\n                .append(\"where activeRecord=true and updateable=true \")\n                .append(\"and (SELECT @ids \\\\:= CONCAT_WS(',', id, @ids)); \")\n                .append(\"select @ids;\")\n                .toString();\n        final Query query = session.createQuery(sqlQuery)\n                .setParameter(\"activeRecord\",Boolean.FALSE);\n        final Object idsList=query.executeUpdate();\n\n    Example Query:\n    final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\n       Query qry = session.createQuery(\"update \"+tableName+\" p set p.proName=?\n    where p.productId=111\");\n                qry.setParameter(0,\"updated..\");\n                int res = qry.executeUpdate();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6728426,"reputation":5601,"user_id":5185646,"accept_rate":72,"display_name":"Dmitry Senkovich"},"score":0,"creation_date":1498579115,"post_id":44661060,"comment_id":76550465,"body_markdown":"@chiperortiz Yes, but how there could be Hibernate API for a particular database? it&#39;s impossible to my mind","body":"@chiperortiz Yes, but how there could be Hibernate API for a particular database? it&#39;s impossible to my mind"}],"tags":[],"owner":{"account_id":6728426,"reputation":5601,"user_id":5185646,"accept_rate":72,"display_name":"Dmitry Senkovich"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1498029582,"creation_date":1497985226,"answer_id":44661060,"question_id":44641851,"body_markdown":"I suppose, you won&#39;t be able to make it in Hibernate fashion.\r\n\r\nHibernate is independent from a database. But the part of the query that initializes a variable (I mean `set @ids = null;`) is not portable across all the relational databases so I wouldn&#39;t expect it to be in Hibernate API somewhere.","title":"Java Hibernate org.hibernate.exception.SQLGrammarException: could not extract ResultSet on createSQLQuery","body":"<p>I suppose, you won't be able to make it in Hibernate fashion.</p>\n\n<p>Hibernate is independent from a database. But the part of the query that initializes a variable (I mean <code>set @ids = null;</code>) is not portable across all the relational databases so I wouldn't expect it to be in Hibernate API somewhere.</p>\n"},{"comments":[{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1498578459,"post_id":44768486,"comment_id":76550030,"body_markdown":"MY SQL works i want to implement it using hibernate but im afraid is not possible....","body":"MY SQL works i want to implement it using hibernate but im afraid is not possible...."},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1498578506,"post_id":44768486,"comment_id":76550058,"body_markdown":"your pseudo code works but is exactly how is implemented ready now in 2 queries i would like to do in a single query.","body":"your pseudo code works but is exactly how is implemented ready now in 2 queries i would like to do in a single query."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1498584222,"post_id":44768486,"comment_id":76553481,"body_markdown":"@chiperortiz - I added a clue.","body":"@chiperortiz - I added a clue."}],"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498584207,"creation_date":1498510315,"answer_id":44768486,"question_id":44641851,"body_markdown":"There is no &quot;affected id&quot; in an `UPDATE` statement.\r\n\r\n    UPDATE student\r\n        set activeRecord=false,uid=1\r\n        where activeRecord=true\r\n\r\nmay modify 0 rows, 1 rows, or many rows.\r\n\r\nWhat is the `PRIMARY KEY` of `student`?  Let&#39;s say it is `studentId`.  To retrieve all (if any) of the `studentId` values, you neecd the Hibernate equivalent of this pseudo-code:\r\n\r\n    START TRANSACTION;\r\n    @ids = SELECT studentId\r\n               FROM student\r\n               WHERE activeRecord=true  -- and updateable=true ??\r\n               FOR UPDATE;\r\n    UPDATE student\r\n        SET activeRecord=false,\r\n            uid=1\r\n        WHERE activeRecord=true  -- and updateable=true ??\r\n        ;\r\n    COMMIT;\r\n\r\n**More**\r\n\r\nThat code could be bundled up in a Stored Procedure, thereby allowing it to be `CALLed` as if a single statement.  (I do not know how to make it work with Hibernate.)","title":"Java Hibernate org.hibernate.exception.SQLGrammarException: could not extract ResultSet on createSQLQuery","body":"<p>There is no \"affected id\" in an <code>UPDATE</code> statement.</p>\n\n<pre><code>UPDATE student\n    set activeRecord=false,uid=1\n    where activeRecord=true\n</code></pre>\n\n<p>may modify 0 rows, 1 rows, or many rows.</p>\n\n<p>What is the <code>PRIMARY KEY</code> of <code>student</code>?  Let's say it is <code>studentId</code>.  To retrieve all (if any) of the <code>studentId</code> values, you neecd the Hibernate equivalent of this pseudo-code:</p>\n\n<pre><code>START TRANSACTION;\n@ids = SELECT studentId\n           FROM student\n           WHERE activeRecord=true  -- and updateable=true ??\n           FOR UPDATE;\nUPDATE student\n    SET activeRecord=false,\n        uid=1\n    WHERE activeRecord=true  -- and updateable=true ??\n    ;\nCOMMIT;\n</code></pre>\n\n<p><strong>More</strong></p>\n\n<p>That code could be bundled up in a Stored Procedure, thereby allowing it to be <code>CALLed</code> as if a single statement.  (I do not know how to make it work with Hibernate.)</p>\n"},{"tags":[],"owner":{"account_id":1038817,"reputation":89,"user_id":1045330,"accept_rate":100,"display_name":"PanBrambor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498749122,"creation_date":1498749122,"answer_id":44828969,"question_id":44641851,"body_markdown":"I would sugest extracting records to be updated as list of entity, then you can iterate to set values, persist and still return afected ids at the end of your method","title":"Java Hibernate org.hibernate.exception.SQLGrammarException: could not extract ResultSet on createSQLQuery","body":"<p>I would sugest extracting records to be updated as list of entity, then you can iterate to set values, persist and still return afected ids at the end of your method</p>\n"}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44661060,"answer_count":4,"score":4,"last_activity_date":1681468941,"creation_date":1497918224,"question_id":44641851,"body_markdown":"I have this method:\r\n\r\n    private final void updateAllTableFields(final Class clazz){\r\n        final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\r\n        final String sqlQuery = new StringBuilder(&quot;SET @ids = NULL; &quot;)\r\n                .append(&quot;UPDATE &quot;)\r\n                .append(tableName)\r\n                .append(&#39; &#39;)\r\n                .append(&quot;set activeRecord=:activeRecord &quot;)\r\n                .append(&quot;where activeRecord=true and updateable=true &quot;)\r\n                .append(&quot;and (SELECT @ids \\\\:= CONCAT_WS(&#39;,&#39;, id, @ids)); &quot;)\r\n                .append(&quot;select @ids;&quot;)\r\n                .toString();\r\n    \tfinal Query query = session.createSQLQuery(sqlQuery)\r\n                .setParameter(&quot;activeRecord&quot;,Boolean.FALSE);\r\n        final Object idsList=query.uniqueResult();\r\n        System.out.println(&quot;idsList = &quot; + idsList);\r\n    }        \r\n\r\nI want to do a update and also return the affected Ids this works Perfect using a rawSQL returns the id in a string fashion but I couldn&#39;t make it work using Hibernate any tip!\r\n\r\nUpdate\r\n---\r\n\r\nI need to do a update and return the affected id. I don&#39;t want to make a simple UPDATE.\r\n\r\nYou can [check it out the original question here](https://stackoverflow.com/questions/44604763/java-hibernate-tips-about-update-all-table-fields-performance).\r\n\r\nUpdate\r\n---\r\n\r\nThe error is\r\n\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:80)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:89)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:2065)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:909)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2553)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2539)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2369)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2364)\r\n\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\r\n\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1873)\r\n\tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\r\n\tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\r\n\tat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\r\n\tat company.nuevemil.code.finalizarEntornoDePrueba(Test.java:56)\r\n\tat company.nuevemil.code.main(Test.java:27)\r\n\r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;UPDATE student set activeRecord=false,uid=1 where activeRecord=true at line 1\r\n","title":"Java Hibernate org.hibernate.exception.SQLGrammarException: could not extract ResultSet on createSQLQuery","body":"<p>I have this method:</p>\n<pre><code>private final void updateAllTableFields(final Class clazz){\n    final String tableName = ((Table)clazz.getAnnotation(Table.class)).name();\n    final String sqlQuery = new StringBuilder(&quot;SET @ids = NULL; &quot;)\n            .append(&quot;UPDATE &quot;)\n            .append(tableName)\n            .append(' ')\n            .append(&quot;set activeRecord=:activeRecord &quot;)\n            .append(&quot;where activeRecord=true and updateable=true &quot;)\n            .append(&quot;and (SELECT @ids \\\\:= CONCAT_WS(',', id, @ids)); &quot;)\n            .append(&quot;select @ids;&quot;)\n            .toString();\n    final Query query = session.createSQLQuery(sqlQuery)\n            .setParameter(&quot;activeRecord&quot;,Boolean.FALSE);\n    final Object idsList=query.uniqueResult();\n    System.out.println(&quot;idsList = &quot; + idsList);\n}        \n</code></pre>\n<p>I want to do a update and also return the affected Ids this works Perfect using a rawSQL returns the id in a string fashion but I couldn't make it work using Hibernate any tip!</p>\n<h2>Update</h2>\n<p>I need to do a update and return the affected id. I don't want to make a simple UPDATE.</p>\n<p>You can <a href=\"https://stackoverflow.com/questions/44604763/java-hibernate-tips-about-update-all-table-fields-performance\">check it out the original question here</a>.</p>\n<h2>Update</h2>\n<p>The error is</p>\n<pre><code>at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:80)\nat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:126)\nat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:112)\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:89)\nat org.hibernate.loader.Loader.getResultSet(Loader.java:2065)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1862)\nat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\nat org.hibernate.loader.Loader.doQuery(Loader.java:909)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\nat org.hibernate.loader.Loader.doList(Loader.java:2553)\nat org.hibernate.loader.Loader.doList(Loader.java:2539)\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2369)\nat org.hibernate.loader.Loader.list(Loader.java:2364)\nat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353)\nat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1873)\nat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311)\nat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141)\nat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:966)\nat company.nuevemil.code.finalizarEntornoDePrueba(Test.java:56)\nat company.nuevemil.code.main(Test.java:27)\n\n\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'UPDATE student set activeRecord=false,uid=1 where activeRecord=true at line 1\n</code></pre>\n"},{"tags":["java","azure","azure-blob-storage","azure-sdk-for-java"],"comments":[{"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1680162460,"post_id":75884819,"comment_id":133851976,"body_markdown":"Are you trying to create BlobServiceClient using java sdk? Is that your requirement?","body":"Are you trying to create BlobServiceClient using java sdk? Is that your requirement?"},{"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"score":1,"creation_date":1680167043,"post_id":75884819,"comment_id":133853075,"body_markdown":"Yes. I want to upload / download files from blob using java azure sdk.","body":"Yes. I want to upload / download files from blob using java azure sdk."}],"answers":[{"comments":[{"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"score":0,"creation_date":1680179790,"post_id":75887785,"comment_id":133856372,"body_markdown":"Are you using spring boot version 2.1.6 in this case? I know this should work with new versions. But I want to resolve this issue with spring boot 2.1.6.","body":"Are you using spring boot version 2.1.6 in this case? I know this should work with new versions. But I want to resolve this issue with spring boot 2.1.6."},{"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1680180286,"post_id":75887785,"comment_id":133856500,"body_markdown":"Yes, it will work with spring boot 2.1.6 version. I have checked and verified. Attaching [Image](https://i.imgur.com/ky5AbSC.png) for your reference.","body":"Yes, it will work with spring boot 2.1.6 version. I have checked and verified. Attaching <a href=\"https://i.imgur.com/ky5AbSC.png\" rel=\"nofollow noreferrer\">Image</a> for your reference."}],"tags":[],"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680176850,"creation_date":1680176463,"answer_id":75887785,"question_id":75884819,"body_markdown":"&gt;java.lang.NoClassDefFoundError: reactor/util/context/ContextView\r\n\r\nThis could be because of missing dependency in your application. Check if you have added the required dependencies to your project&#39;s classpath.\r\n\r\nI have reproduced your requirement to upload/download file using Azure Java SDK.\r\n\r\nBelow are the dependencies which I have used in my application.\r\n```gradle\r\ndependencies {\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\nimplementation group: &#39;com.azure&#39;, name: &#39;azure-storage-blob&#39;, version: &#39;12.16.0&#39;\r\nimplementation group: &#39;com.microsoft.azure&#39;, name: &#39;azure-storage-spring-boot-starter&#39;, version: &#39;2.2.5&#39;\r\nimplementation group: &#39;commons-fileupload&#39;, name: &#39;commons-fileupload&#39;, version: &#39;1.4&#39;\r\ndevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\ntestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```\r\nNote the Access token of your storage account in the Azure portal:\r\n![enter image description here](https://i.stack.imgur.com/xywaa.png)\r\n\r\nI have created the simple API to call this method which is creating the file and downloading the file from Azure Blob Storage. \r\n```java\r\n@PostMapping(&quot;/upload&quot;)\r\npublic  void  uploadFile(@RequestParam(value  =  &quot;file&quot;)  MultipartFile  file)  throws  IOException  {\r\n\r\n// Code To Create and File In Blob Storage\r\nString  str = &quot;DefaultEndpointsProtocol=https;AccountName=&lt;storage_account_name&gt;;AccountKey=storage_account_access_key;EndpointSuffix=core.windows.net&quot;;\r\nOffsetDateTime  expiryTime  =  OffsetDateTime.now().plusDays(1);\r\nBlobSasPermission  permission  =  new  BlobSasPermission().setReadPermission(true);\r\nBlobServiceSasSignatureValues  values  =  new  BlobServiceSasSignatureValues(expiryTime,  permission).setStartTime(OffsetDateTime.now());\r\nBlobContainerClient  container  =  new  BlobContainerClientBuilder().connectionString(str).containerName(&quot;&lt;conatiner_name&gt;&quot;).buildClient();\r\nBlobClient  blob  =  container.getBlobClient(file.getOriginalFilename());\r\nblob.upload(file.getInputStream(),  file.getSize(),  true);\r\nString  sasToken  =  blob.generateSas(values);\r\n// Code To Create and File In Blob Storage\r\n\r\n// Code To download the File From Blob Storage\r\nURL  url  =  new  URL(blob.getBlobUrl()  +  &quot;?&quot;  +  sasToken);\r\nHttpURLConnection  httpConn  =  (HttpURLConnection)  url.openConnection();\r\nint  responseCode  =  httpConn.getResponseCode();\r\n// Check if the response code is HTTP_OK (200)\r\nif  (responseCode  ==  HttpURLConnection.HTTP_OK)  {\r\n// Open input stream from the HTTP connection\r\nInputStream  inputStream  =  httpConn.getInputStream();\r\n// Open output stream to save the file\r\nFileOutputStream  outputStream  =  new FileOutputStream(&quot;C:\\\\Users\\\\win10\\\\Downloads\\\\data.txt&quot;);\r\n// Read bytes from input stream and write to output stream\r\nint  bytesRead;\r\nbyte[]  buffer  =  new  byte[4096];\r\nwhile  ((bytesRead  =  inputStream.read(buffer))  !=  -1)  {\r\noutputStream.write(buffer,  0,  bytesRead);\r\n}\r\n// Close streams\r\noutputStream.close();\r\ninputStream.close();\r\nSystem.out.println(&quot;File downloaded&quot;);\r\n}  else  {\r\nSystem.out.println(&quot;Failed to download file: &quot;  +  httpConn.getResponseMessage());\r\n}\r\nhttpConn.disconnect();\r\n// Code To download the File From Blob Storage\r\n}\r\n\r\n```\r\nCalling the API which I have created and it is generating the url to download the file which has been uploaded as shown below: \r\n\r\n![enter image description here](https://i.stack.imgur.com/lYJAk.png)\r\n\r\nUploaded the file to Azure Blob Storage using the above code:\r\n![enter image description here](https://i.stack.imgur.com/YdyMl.png)\r\n\r\nBy using the above code, downloaded the file as *data.txt*.\r\n\r\n![enter image description here](https://i.stack.imgur.com/y2thW.png)\r\n","title":"java.lang.NoClassDefFoundError: reactor/util/context/ContextView","body":"<blockquote>\n<p>java.lang.NoClassDefFoundError: reactor/util/context/ContextView</p>\n</blockquote>\n<p>This could be because of missing dependency in your application. Check if you have added the required dependencies to your project's classpath.</p>\n<p>I have reproduced your requirement to upload/download file using Azure Java SDK.</p>\n<p>Below are the dependencies which I have used in my application.</p>\n<pre><code>dependencies {\nimplementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation group: 'com.azure', name: 'azure-storage-blob', version: '12.16.0'\nimplementation group: 'com.microsoft.azure', name: 'azure-storage-spring-boot-starter', version: '2.2.5'\nimplementation group: 'commons-fileupload', name: 'commons-fileupload', version: '1.4'\ndevelopmentOnly 'org.springframework.boot:spring-boot-devtools'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>Note the Access token of your storage account in the Azure portal:\n<img src=\"https://i.stack.imgur.com/xywaa.png\" alt=\"enter image description here\" /></p>\n<p>I have created the simple API to call this method which is creating the file and downloading the file from Azure Blob Storage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/upload&quot;)\npublic  void  uploadFile(@RequestParam(value  =  &quot;file&quot;)  MultipartFile  file)  throws  IOException  {\n\n// Code To Create and File In Blob Storage\nString  str = &quot;DefaultEndpointsProtocol=https;AccountName=&lt;storage_account_name&gt;;AccountKey=storage_account_access_key;EndpointSuffix=core.windows.net&quot;;\nOffsetDateTime  expiryTime  =  OffsetDateTime.now().plusDays(1);\nBlobSasPermission  permission  =  new  BlobSasPermission().setReadPermission(true);\nBlobServiceSasSignatureValues  values  =  new  BlobServiceSasSignatureValues(expiryTime,  permission).setStartTime(OffsetDateTime.now());\nBlobContainerClient  container  =  new  BlobContainerClientBuilder().connectionString(str).containerName(&quot;&lt;conatiner_name&gt;&quot;).buildClient();\nBlobClient  blob  =  container.getBlobClient(file.getOriginalFilename());\nblob.upload(file.getInputStream(),  file.getSize(),  true);\nString  sasToken  =  blob.generateSas(values);\n// Code To Create and File In Blob Storage\n\n// Code To download the File From Blob Storage\nURL  url  =  new  URL(blob.getBlobUrl()  +  &quot;?&quot;  +  sasToken);\nHttpURLConnection  httpConn  =  (HttpURLConnection)  url.openConnection();\nint  responseCode  =  httpConn.getResponseCode();\n// Check if the response code is HTTP_OK (200)\nif  (responseCode  ==  HttpURLConnection.HTTP_OK)  {\n// Open input stream from the HTTP connection\nInputStream  inputStream  =  httpConn.getInputStream();\n// Open output stream to save the file\nFileOutputStream  outputStream  =  new FileOutputStream(&quot;C:\\\\Users\\\\win10\\\\Downloads\\\\data.txt&quot;);\n// Read bytes from input stream and write to output stream\nint  bytesRead;\nbyte[]  buffer  =  new  byte[4096];\nwhile  ((bytesRead  =  inputStream.read(buffer))  !=  -1)  {\noutputStream.write(buffer,  0,  bytesRead);\n}\n// Close streams\noutputStream.close();\ninputStream.close();\nSystem.out.println(&quot;File downloaded&quot;);\n}  else  {\nSystem.out.println(&quot;Failed to download file: &quot;  +  httpConn.getResponseMessage());\n}\nhttpConn.disconnect();\n// Code To download the File From Blob Storage\n}\n\n</code></pre>\n<p>Calling the API which I have created and it is generating the url to download the file which has been uploaded as shown below:</p>\n<p><img src=\"https://i.stack.imgur.com/lYJAk.png\" alt=\"enter image description here\" /></p>\n<p>Uploaded the file to Azure Blob Storage using the above code:\n<img src=\"https://i.stack.imgur.com/YdyMl.png\" alt=\"enter image description here\" /></p>\n<p>By using the above code, downloaded the file as <em>data.txt</em>.</p>\n<p><img src=\"https://i.stack.imgur.com/y2thW.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681468856,"creation_date":1681468856,"answer_id":76014248,"question_id":75884819,"body_markdown":"Looks like there was some dependency conflict between spring boot version and swagger . I upgraded spring boot to 2.7.10 and swagger to openAPI. This issue was resolved after that. Thanks.","title":"java.lang.NoClassDefFoundError: reactor/util/context/ContextView","body":"<p>Looks like there was some dependency conflict between spring boot version and swagger . I upgraded spring boot to 2.7.10 and swagger to openAPI. This issue was resolved after that. Thanks.</p>\n"}],"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76014248,"answer_count":2,"score":0,"last_activity_date":1681468856,"creation_date":1680158102,"question_id":75884819,"body_markdown":"I am upgrading the azure sdk for java to version 12.21.1. The spring boot version is 2.1.6.\r\nI am using the following dependency in gradle : implementation &#39;com.azure:azure-storage-blob:12.21.1&#39; .\r\n\r\nI am using the following code to create BlobServiceClient :\r\n\r\n    String accountUrl = &quot;https://&quot; + accountName + &quot;.blob.core.windows.net&quot;;\r\n     StorageSharedKeyCredential sharedKeyCredential = new StorageSharedKeyCredential(accountName, accountKey);\r\n    \r\n    try{\r\n    BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().credential(sharedKeyCredential).endpoint(accountUrl).buildClient();\r\n    }\r\n\r\nBut it is throwing an error at runtime :\r\n\r\n   \r\n\r\n     Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: reactor/util/context/ContextView] with root cause\r\n    \r\n    java.lang.ClassNotFoundException: reactor.util.context.ContextView\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n    BuiltinClassLoader.java:581\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    ClassLoaders.java:178\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    ClassLoader.java:522\r\n    \tat com.azure.core.http.policy.HttpPolicyProviders.addAfterRetryPolicies(HttpPolicyProviders.java:52) ~[azure-core-1.37.0.jar:1.37.0]\r\n    HttpPolicyProviders.java:52\r\n    \tat com.azure.storage.blob.implementation.util.BuilderHelper.buildPipeline(BuilderHelper.java:128) ~[azure-storage-blob-12.21.1.jar:12.21.1]\r\n    BuilderHelper.java:128\r\n    \tat com.azure.storage.blob.BlobServiceClientBuilder.buildAsyncClient(BlobServiceClientBuilder.java:135) ~[azure-storage-blob-12.21.1.jar:12.21.1]\r\n    BlobServiceClientBuilder.java:135\r\n    \tat com.azure.storage.blob.BlobServiceClientBuilder.buildClient(BlobServiceClientBuilder.java:114) ~[azure-storage-blob-12.21.1.jar:12.21.1]\r\n\r\nHow to resolve this? \r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: reactor/util/context/ContextView","body":"<p>I am upgrading the azure sdk for java to version 12.21.1. The spring boot version is 2.1.6.\nI am using the following dependency in gradle : implementation 'com.azure:azure-storage-blob:12.21.1' .</p>\n<p>I am using the following code to create BlobServiceClient :</p>\n<pre><code>String accountUrl = &quot;https://&quot; + accountName + &quot;.blob.core.windows.net&quot;;\n StorageSharedKeyCredential sharedKeyCredential = new StorageSharedKeyCredential(accountName, accountKey);\n\ntry{\nBlobServiceClient blobServiceClient = new BlobServiceClientBuilder().credential(sharedKeyCredential).endpoint(accountUrl).buildClient();\n}\n</code></pre>\n<p>But it is throwing an error at runtime :</p>\n<pre><code> Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: reactor/util/context/ContextView] with root cause\n\njava.lang.ClassNotFoundException: reactor.util.context.ContextView\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\nBuiltinClassLoader.java:581\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\nClassLoaders.java:178\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\nClassLoader.java:522\n    at com.azure.core.http.policy.HttpPolicyProviders.addAfterRetryPolicies(HttpPolicyProviders.java:52) ~[azure-core-1.37.0.jar:1.37.0]\nHttpPolicyProviders.java:52\n    at com.azure.storage.blob.implementation.util.BuilderHelper.buildPipeline(BuilderHelper.java:128) ~[azure-storage-blob-12.21.1.jar:12.21.1]\nBuilderHelper.java:128\n    at com.azure.storage.blob.BlobServiceClientBuilder.buildAsyncClient(BlobServiceClientBuilder.java:135) ~[azure-storage-blob-12.21.1.jar:12.21.1]\nBlobServiceClientBuilder.java:135\n    at com.azure.storage.blob.BlobServiceClientBuilder.buildClient(BlobServiceClientBuilder.java:114) ~[azure-storage-blob-12.21.1.jar:12.21.1]\n</code></pre>\n<p>How to resolve this?</p>\n"},{"tags":["java","servlets","web-hosting","web.xml"],"comments":[{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1354969759,"post_id":13776215,"comment_id":18943239,"body_markdown":"Without seeing your web.xml, the only thing that anybody can give you is general advice. If you want something better, edit your question and post your `&lt;servlet&gt;` and `&lt;servlet-mapping&gt;` sections. The *exact* sections, copied an editor window, not some made-up versions that you think represent what&#39;s actually there.","body":"Without seeing your web.xml, the only thing that anybody can give you is general advice. If you want something better, edit your question and post your <code>&lt;servlet&gt;</code> and <code>&lt;servlet-mapping&gt;</code> sections. The <i>exact</i> sections, copied an editor window, not some made-up versions that you think represent what&#39;s actually there."},{"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1354977046,"post_id":13776215,"comment_id":18944939,"body_markdown":"ok so here is the Web.xml file","body":"ok so here is the Web.xml file"}],"answers":[{"comments":[{"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1354977456,"post_id":13776350,"comment_id":18945054,"body_markdown":"actually i am using Tomcat 7 and the hosting server is also providing the same Tomcat 5.5.X","body":"actually i am using Tomcat 7 and the hosting server is also providing the same Tomcat 5.5.X"}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354960158,"creation_date":1354960158,"answer_id":13776350,"question_id":13776215,"body_markdown":"Try it first at home. The NetBeans IDE (for instance) has a good server integration. You could download it with packaged Glassfish (or Tomcat) and experiment there.\r\n\r\nThere are many pieces to put together, so I would recommend experimenting yourself.\r\nEspecially writing out `getServletContextPath` and all those partial path getters.\r\n\r\nCheck in web.xml\r\n\r\n - web-app / display-name\r\n - web-app / servlet-mapping / url-pattern+\r\n\r\nAlso with autodeployment the war name may matter.","title":"servlet mapping with URL patterns is not working and have to use URL-servlet/servletclassname for using servlets","body":"<p>Try it first at home. The NetBeans IDE (for instance) has a good server integration. You could download it with packaged Glassfish (or Tomcat) and experiment there.</p>\n\n<p>There are many pieces to put together, so I would recommend experimenting yourself.\nEspecially writing out <code>getServletContextPath</code> and all those partial path getters.</p>\n\n<p>Check in web.xml</p>\n\n<ul>\n<li>web-app / display-name</li>\n<li>web-app / servlet-mapping / url-pattern+</li>\n</ul>\n\n<p>Also with autodeployment the war name may matter.</p>\n"},{"comments":[{"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1355131408,"post_id":13778689,"comment_id":18978660,"body_markdown":"ok after suggesting by you i have type url in browser www.domain.com/ServletMappingTest/MyServlet this and didn&#39;t any change in web.xml means mapping url /MyServlet was as it is but it didn&#39;t work please any other way suggest me","body":"ok after suggesting by you i have type url in browser www.domain.com/ServletMappingTest/MyServlet this and didn&#39;t any change in web.xml means mapping url /MyServlet was as it is but it didn&#39;t work please any other way suggest me"},{"owner":{"account_id":164849,"reputation":1375,"user_id":387880,"accept_rate":50,"display_name":"eppesuig"},"score":0,"creation_date":1355137428,"post_id":13778689,"comment_id":18981141,"body_markdown":"If you specify an URL that is not mapped, you shoud get an error from tomcat. What does this error says?","body":"If you specify an URL that is not mapped, you shoud get an error from tomcat. What does this error says?"},{"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1355144732,"post_id":13778689,"comment_id":18984393,"body_markdown":"Not Found\n\nThe requested URL /ServletMappingTest/MyServlet was not found on this server.\n\nAdditionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request.","body":"Not Found  The requested URL /ServletMappingTest/MyServlet was not found on this server.  Additionally, a 404 Not Found error was encountered while trying to use an ErrorDocument to handle the request."},{"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1355144936,"post_id":13778689,"comment_id":18984502,"body_markdown":"here i am giving url by this you can see the if is there any erorr please tell me or you can also give me any of these type testing project in which mapping is done acc to you so here i will upload that and check and reply to you...thanks for helping...!!!","body":"here i am giving url by this you can see the if is there any erorr please tell me or you can also give me any of these type testing project in which mapping is done acc to you so here i will upload that and check and reply to you...thanks for helping...!!!"},{"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1355145170,"post_id":13778689,"comment_id":18984614,"body_markdown":"please download it from the above given URL","body":"please download it from the above given URL"},{"owner":{"account_id":164849,"reputation":1375,"user_id":387880,"accept_rate":50,"display_name":"eppesuig"},"score":0,"creation_date":1355147443,"post_id":13778689,"comment_id":18985796,"body_markdown":"The project works perfectly. Are you sure you use the correct hostname and port? In my case tomcat is listening on port 8080, so the URL to reach it is http://localhost:8080/ServletMappingTesting/","body":"The project works perfectly. Are you sure you use the correct hostname and port? In my case tomcat is listening on port 8080, so the URL to reach it is <a href=\"http://localhost:8080/ServletMappingTesting/\" rel=\"nofollow noreferrer\">localhost:8080/ServletMappingTesting</a>"},{"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1355156831,"post_id":13778689,"comment_id":18990687,"body_markdown":"Yes, Project is properly working on my localhost machine by putting the URL localhost:8080/ServletMappingTesting but when i am uploading this project on a web hosting server so there is problem to call servlet by URL mapped in web.xml as i have told in my question...!!!","body":"Yes, Project is properly working on my localhost machine by putting the URL localhost:8080/ServletMappingTesting but when i am uploading this project on a web hosting server so there is problem to call servlet by URL mapped in web.xml as i have told in my question...!!!"},{"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1355156919,"post_id":13778689,"comment_id":18990722,"body_markdown":"to call the servlet on that server hosting provider told me to put URL servlet/servletclassname to call any of servlet","body":"to call the servlet on that server hosting provider told me to put URL servlet/servletclassname to call any of servlet"},{"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1355157034,"post_id":13778689,"comment_id":18990784,"body_markdown":"so i don&#39;t know why i have to use only this type of pattern which is static and i am putting URL in web.xml so no changes is happening like apache is not using web.xml...or something like","body":"so i don&#39;t know why i have to use only this type of pattern which is static and i am putting URL in web.xml so no changes is happening like apache is not using web.xml...or something like"},{"owner":{"account_id":164849,"reputation":1375,"user_id":387880,"accept_rate":50,"display_name":"eppesuig"},"score":0,"creation_date":1355162247,"post_id":13778689,"comment_id":18993268,"body_markdown":"Probaly your hosting provider use some sort of reverse proxy and is rewriting the URLs it receive before calling tomcat. In this case you have to better ask your provider and get his rewriting details.","body":"Probaly your hosting provider use some sort of reverse proxy and is rewriting the URLs it receive before calling tomcat. In this case you have to better ask your provider and get his rewriting details."}],"tags":[],"owner":{"account_id":164849,"reputation":1375,"user_id":387880,"accept_rate":50,"display_name":"eppesuig"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1354978948,"creation_date":1354978948,"answer_id":13778689,"question_id":13776215,"body_markdown":"Are you using the correct **context**  as the first part of your path in URL? Whenever you deploy an application, you specify a context that identify all your URLs. Any url-pattern will be applied **after** that context. Let&#39;s say you have context called &quot;MyShop&quot;, then using your provided web.xml, you should call http://*yourdomain*/MyShop/MyServlet .","title":"servlet mapping with URL patterns is not working and have to use URL-servlet/servletclassname for using servlets","body":"<p>Are you using the correct <strong>context</strong>  as the first part of your path in URL? Whenever you deploy an application, you specify a context that identify all your URLs. Any url-pattern will be applied <strong>after</strong> that context. Let's say you have context called \"MyShop\", then using your provided web.xml, you should call http://<em>yourdomain</em>/MyShop/MyServlet .</p>\n"},{"tags":[],"owner":{"account_id":22734285,"reputation":1,"user_id":16896708,"display_name":"Gideon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681468842,"creation_date":1681468842,"answer_id":76014247,"question_id":13776215,"body_markdown":"I got the same issue and figured out the reason was because of Tomcat (9.0.73) does not support Jakarta.servlet.api (5.0.0). jakarta.servlet.api seems only supported by Tomcat version &gt;= 10. I&#39;m using IDEA Ultimate, creating Java-EE application project is fine, however, IDEA will automatically add &quot;Jakarta-servlet-api&quot; version 5.0 in pom.xml file, in that case, the server will start normally and you would not get any error, however servlet-mapping (or even @WebServlet annotation) would not work and result in 404 Error. The solution is to replace Jarkata-servlet-api by a suitable version of servlet-api (in my case it was javax.servlet.api version 4.0.1)","title":"servlet mapping with URL patterns is not working and have to use URL-servlet/servletclassname for using servlets","body":"<p>I got the same issue and figured out the reason was because of Tomcat (9.0.73) does not support Jakarta.servlet.api (5.0.0). jakarta.servlet.api seems only supported by Tomcat version &gt;= 10. I'm using IDEA Ultimate, creating Java-EE application project is fine, however, IDEA will automatically add &quot;Jakarta-servlet-api&quot; version 5.0 in pom.xml file, in that case, the server will start normally and you would not get any error, however servlet-mapping (or even @WebServlet annotation) would not work and result in 404 Error. The solution is to replace Jarkata-servlet-api by a suitable version of servlet-api (in my case it was javax.servlet.api version 4.0.1)</p>\n"}],"owner":{"account_id":2119148,"reputation":73,"user_id":1937481,"accept_rate":100,"display_name":"sam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9776,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1681471447,"accepted_answer_id":13778689,"answer_count":3,"score":1,"last_activity_date":1681468842,"creation_date":1354958838,"question_id":13776215,"body_markdown":"&gt; i have an web hosting space of java (jsp/servlet) and i have tried\r\n&gt; many times servlets using mappings in web.xml file with its URL\r\n&gt; patterns and when i used that URL then its showing message &quot;The\r\n&gt; requested URL /myservlet was not found on this server.&quot; page which is\r\n&gt; default set by hosting provider. so when i asked it from hosting\r\n&gt; provider that i am unable to use myservlet or any servlet that is\r\n&gt; mapped in web.xml file then replied to me that &quot;to use your servlet\r\n&gt; please follow URL- www.yourdomain.com/servlet/myservlet&quot; and when i\r\n&gt; used this URL which i have not mapped in my web.xml file was working\r\n&gt; and also i got many time that web.xml file is not using by the server \r\n&gt; \r\n&gt; so i want to ask why its happening , i mean why web.xml file is not\r\n&gt; working , why i have to use /servlet/servletclassname in order to use\r\n&gt; the servlet and now how i can use URL pattern for dynamic URLs...\r\n&gt; \r\n&gt; Please any buddy help me...!!!\r\n\r\nHere is the Web.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;MyPackage.MyServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/MyServlet&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;session-config&gt;\r\n            &lt;session-timeout&gt;\r\n                30\r\n            &lt;/session-timeout&gt;\r\n        &lt;/session-config&gt;\r\n    &lt;/web-app&gt;\r\n","title":"servlet mapping with URL patterns is not working and have to use URL-servlet/servletclassname for using servlets","body":"<blockquote>\n  <p>i have an web hosting space of java (jsp/servlet) and i have tried\n  many times servlets using mappings in web.xml file with its URL\n  patterns and when i used that URL then its showing message \"The\n  requested URL /myservlet was not found on this server.\" page which is\n  default set by hosting provider. so when i asked it from hosting\n  provider that i am unable to use myservlet or any servlet that is\n  mapped in web.xml file then replied to me that \"to use your servlet\n  please follow URL- www.yourdomain.com/servlet/myservlet\" and when i\n  used this URL which i have not mapped in my web.xml file was working\n  and also i got many time that web.xml file is not using by the server </p>\n  \n  <p>so i want to ask why its happening , i mean why web.xml file is not\n  working , why i have to use /servlet/servletclassname in order to use\n  the servlet and now how i can use URL pattern for dynamic URLs...</p>\n  \n  <p>Please any buddy help me...!!!</p>\n</blockquote>\n\n<p>Here is the Web.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;MyPackage.MyServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MyServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/MyServlet&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","initialization","instance-variables","forward-reference"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681468765,"creation_date":1681468765,"answer_id":76014231,"question_id":76014049,"body_markdown":"If we look at the bytecode for the class:\r\n```\r\n/ class version 62.0 (62)\r\n// access flags 0x21\r\npublic class org/kablambda/TestClass {\r\n\r\n  // compiled from: TestClass.java\r\n\r\n  // access flags 0x0\r\n  I i\r\n\r\n  // access flags 0x1\r\n  public &lt;init&gt;()V\r\n   L0\r\n    LINENUMBER 3 L0\r\n    ALOAD 0\r\n    INVOKESPECIAL java/lang/Object.&lt;init&gt; ()V\r\n   L1\r\n    LINENUMBER 6 L1\r\n    ALOAD 0\r\n    ICONST_3\r\n    PUTFIELD org/kablambda/TestClass.i : I\r\n   L2\r\n    LINENUMBER 9 L2\r\n    ALOAD 0\r\n    ICONST_2\r\n    PUTFIELD org/kablambda/TestClass.i : I\r\n    RETURN\r\n   L3\r\n    LOCALVARIABLE this Lorg/kablambda/TestClass; L0 L3 0\r\n    MAXSTACK = 2\r\n    MAXLOCALS = 1\r\n}\r\n```\r\n\r\nWe see that the code is run in the same order it appears in the source code, so first `i` is set to 3, then `i` is set to 2.","title":"Initializer block - whats the flow of this code?","body":"<p>If we look at the bytecode for the class:</p>\n<pre><code>/ class version 62.0 (62)\n// access flags 0x21\npublic class org/kablambda/TestClass {\n\n  // compiled from: TestClass.java\n\n  // access flags 0x0\n  I i\n\n  // access flags 0x1\n  public &lt;init&gt;()V\n   L0\n    LINENUMBER 3 L0\n    ALOAD 0\n    INVOKESPECIAL java/lang/Object.&lt;init&gt; ()V\n   L1\n    LINENUMBER 6 L1\n    ALOAD 0\n    ICONST_3\n    PUTFIELD org/kablambda/TestClass.i : I\n   L2\n    LINENUMBER 9 L2\n    ALOAD 0\n    ICONST_2\n    PUTFIELD org/kablambda/TestClass.i : I\n    RETURN\n   L3\n    LOCALVARIABLE this Lorg/kablambda/TestClass; L0 L3 0\n    MAXSTACK = 2\n    MAXLOCALS = 1\n}\n</code></pre>\n<p>We see that the code is run in the same order it appears in the source code, so first <code>i</code> is set to 3, then <code>i</code> is set to 2.</p>\n"}],"owner":{"account_id":25629509,"reputation":1,"user_id":19400093,"display_name":"Oyst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681468765,"creation_date":1681467621,"question_id":76014049,"body_markdown":"I understand that the following code is allowed (I&#39;ve read the previous posts on the topic), but can someone explain to me what is actually happening when this class is run? Is the block skipped and then &quot;i&quot; is initialized at LINE 7, and then the block is run (setting &quot;i&quot; to 3) and then LINE 7 is run setting &quot;i&quot; to 2?\r\n\r\n   \r\n\r\n    public class TestClass {\r\n    \r\n        {\r\n            i = 3;\r\n        }\r\n    \r\n        int i = 2;      //LINE 7\r\n    \r\n    \r\n    }","title":"Initializer block - whats the flow of this code?","body":"<p>I understand that the following code is allowed (I've read the previous posts on the topic), but can someone explain to me what is actually happening when this class is run? Is the block skipped and then &quot;i&quot; is initialized at LINE 7, and then the block is run (setting &quot;i&quot; to 3) and then LINE 7 is run setting &quot;i&quot; to 2?</p>\n<pre><code>public class TestClass {\n\n    {\n        i = 3;\n    }\n\n    int i = 2;      //LINE 7\n\n\n}\n</code></pre>\n"},{"tags":["java","environment-variables","tomcat7-maven-plugin"],"comments":[{"owner":{"account_id":1854605,"reputation":1095,"user_id":1680473,"accept_rate":82,"display_name":"Maclean Pinto"},"score":0,"creation_date":1593602828,"post_id":29098546,"comment_id":110837237,"body_markdown":"Where you able to figure this out?","body":"Where you able to figure this out?"}],"answers":[{"comments":[{"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"score":1,"creation_date":1533283362,"post_id":51667331,"comment_id":90298590,"body_markdown":"This will not help setting environment variables when running the Tomcat Maven plugin as part of a build","body":"This will not help setting environment variables when running the Tomcat Maven plugin as part of a build"}],"tags":[],"owner":{"account_id":4044603,"reputation":17,"user_id":3326224,"display_name":"adinapiza"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1533281063,"creation_date":1533281063,"answer_id":51667331,"question_id":29098546,"body_markdown":"This has been answered here: https://stackoverflow.com/questions/40456863/setting-user-environment-variables-for-tomcat-on-windows\r\n\r\n&gt; From an admin command prompt do the following command:\r\n&gt; \r\n&gt;     tomcat8 //US//YourServiceName ++Environment varname=value\r\n&gt; \r\n&gt; You can set more than one variable by separating them with a semicolon\r\n&gt; (;) or a hash (#).","title":"Set ENV variables in tomcat7 maven plugin","body":"<p>This has been answered here: <a href=\"https://stackoverflow.com/questions/40456863/setting-user-environment-variables-for-tomcat-on-windows\">Setting User Environment Variables for tomcat on Windows</a></p>\n\n<blockquote>\n  <p>From an admin command prompt do the following command:</p>\n\n<pre><code>tomcat8 //US//YourServiceName ++Environment varname=value\n</code></pre>\n  \n  <p>You can set more than one variable by separating them with a semicolon\n  (;) or a hash (#).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681468637,"creation_date":1681468637,"answer_id":76014207,"question_id":29098546,"body_markdown":"&gt; Is there a way to set ENV variables through tomcat7-maven-plugin such that they appear in System.getenv()?\r\n\r\nYes and no. You can pass ENV variables but they wont appear by System.getenv(). Example: \r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;systemProperties&gt;\r\n\t\t\t\t\t\t\t&lt;foo&gt;${env.FOO}&lt;/foo&gt;\r\n\t\t\t\t\t\t&lt;/systemProperties&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t&lt;/project&gt;","title":"Set ENV variables in tomcat7 maven plugin","body":"<blockquote>\n<p>Is there a way to set ENV variables through tomcat7-maven-plugin such that they appear in System.getenv()?</p>\n</blockquote>\n<p>Yes and no. You can pass ENV variables but they wont appear by System.getenv(). Example:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;systemProperties&gt;\n                        &lt;foo&gt;${env.FOO}&lt;/foo&gt;\n                    &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1681468637,"creation_date":1426593624,"question_id":29098546,"body_markdown":"Is there a way to set ENV variables through `tomcat7-maven-plugin` such that they appear in `System.getenv()`?\r\n\r\nThe system properties can be set using the `&lt;systemProperties&gt;` that appear in `System.getProperties()` map. I am looking for a similar way to pass environment variables.","title":"Set ENV variables in tomcat7 maven plugin","body":"<p>Is there a way to set ENV variables through <code>tomcat7-maven-plugin</code> such that they appear in <code>System.getenv()</code>?</p>\n\n<p>The system properties can be set using the <code>&lt;systemProperties&gt;</code> that appear in <code>System.getProperties()</code> map. I am looking for a similar way to pass environment variables.</p>\n"},{"tags":["java","ant","build"],"answers":[{"comments":[{"owner":{"display_name":"christy"},"score":0,"creation_date":1246880900,"post_id":1086463,"comment_id":900054,"body_markdown":"I set ant_home in the enviornment variable and i called the ant like ant -verbose build.xml. I am getting the same error.","body":"I set ant_home in the enviornment variable and i called the ant like ant -verbose build.xml. I am getting the same error."},{"owner":{"account_id":8634,"reputation":8079,"user_id":15647,"accept_rate":92,"display_name":"wheleph"},"score":2,"creation_date":1246881123,"post_id":1086463,"comment_id":900063,"body_markdown":"You don&#39;t have to give script&#39;s name. Call it like this &quot;ant -verbose&quot; and show the output here.","body":"You don&#39;t have to give script&#39;s name. Call it like this &quot;ant -verbose&quot; and show the output here."},{"owner":{"display_name":"christy"},"score":0,"creation_date":1246881153,"post_id":1086463,"comment_id":900068,"body_markdown":"ok ok I am sorry I was giving the build.xml. I will try wiith the target now.thanx :)","body":"ok ok I am sorry I was giving the build.xml. I will try wiith the target now.thanx :)"},{"owner":{"display_name":"christy"},"score":0,"creation_date":1246881510,"post_id":1086463,"comment_id":900098,"body_markdown":"but when i gave ant verbose. i got BUILD FAILED\nTarget &quot;verbose&quot; does not exist in the project &quot;MYPROJECT&quot;","body":"but when i gave ant verbose. i got BUILD FAILED Target &quot;verbose&quot; does not exist in the project &quot;MYPROJECT&quot;"},{"owner":{"account_id":8634,"reputation":8079,"user_id":15647,"accept_rate":92,"display_name":"wheleph"},"score":0,"creation_date":1246882585,"post_id":1086463,"comment_id":900163,"body_markdown":"You&#39;ve missed dash. Call like this: ant -verbose","body":"You&#39;ve missed dash. Call like this: ant -verbose"},{"owner":{"display_name":"christy"},"score":0,"creation_date":1246885783,"post_id":1086463,"comment_id":900403,"body_markdown":"yeah it was mt typing mistake.I put - also","body":"yeah it was mt typing mistake.I put - also"}],"tags":[],"owner":{"account_id":8634,"reputation":8079,"user_id":15647,"accept_rate":92,"display_name":"wheleph"},"comment_count":6,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1246878297,"creation_date":1246878297,"answer_id":1086463,"question_id":1086449,"body_markdown":"1. Probably you don&#39;t have environment variable ANT_HOME set properly\r\n2. It seems that you are calling Ant like this: &quot;ant build..xml&quot;. If your ant script has name build.xml you need to specify only a target in command line. For example: &quot;ant target1&quot;.","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<ol>\n<li>Probably you don't have environment variable ANT_HOME set properly</li>\n<li>It seems that you are calling Ant like this: \"ant build..xml\". If your ant script has name build.xml you need to specify only a target in command line. For example: \"ant target1\".</li>\n</ol>\n"},{"comments":[{"owner":{"display_name":"christy"},"score":0,"creation_date":1246880492,"post_id":1086476,"comment_id":900035,"body_markdown":"i called &quot;ant -verbose build.xml&quot;.","body":"i called &quot;ant -verbose build.xml&quot;."},{"owner":{"account_id":14192,"reputation":3724,"user_id":28991,"accept_rate":71,"display_name":"braveterry"},"score":0,"creation_date":1248720774,"post_id":1086476,"comment_id":1012099,"body_markdown":"I think that ant -p only displays targets that have a description defined.","body":"I think that ant -p only displays targets that have a description defined."},{"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"score":0,"creation_date":1248727287,"post_id":1086476,"comment_id":1012713,"body_markdown":"@braveterry: That&#39;s right, -p only displays targets with a defined description. Normally that is used to  make targets &#39;public&#39; and the others private. As a creator of buildfiles you often need targets for internal use, but the user don&#39;t need to know of them. If you are curios: &#39;ant -p -v&#39; displays all targets, also these without a description.","body":"@braveterry: That&#39;s right, -p only displays targets with a defined description. Normally that is used to  make targets &#39;public&#39; and the others private. As a creator of buildfiles you often need targets for internal use, but the user don&#39;t need to know of them. If you are curios: &#39;ant -p -v&#39; displays all targets, also these without a description."}],"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1246882334,"creation_date":1246878574,"answer_id":1086476,"question_id":1086449,"body_markdown":"Looks like you called it &#39;ant build..xml&#39;. ant automatically choose a file build.xml in the current directory, so it is enough to call &#39;ant&#39; (if a default-target is defined) or &#39;ant target&#39; (the target named target will be called).\r\n\r\nWith the call &#39;ant -p&#39; you get a list of targets defined in your build.xml.\r\n\r\n**Edit:** In the comment is shown the call &#39;ant -verbose build.xml&#39;. To be correct, this has to be called as &#39;ant -verbose&#39;. The file build.xml in the current directory will be used automatically. If it is needed to explicitly specify the buildfile (because it&#39;s name isn&#39;t build.xml for example), you have to specify the buildfile with the &#39;-f&#39;-option: &#39;ant -verbose -f build.xml&#39;. I hope this helps.","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>Looks like you called it 'ant build..xml'. ant automatically choose a file build.xml in the current directory, so it is enough to call 'ant' (if a default-target is defined) or 'ant target' (the target named target will be called).</p>\n\n<p>With the call 'ant -p' you get a list of targets defined in your build.xml.</p>\n\n<p><strong>Edit:</strong> In the comment is shown the call 'ant -verbose build.xml'. To be correct, this has to be called as 'ant -verbose'. The file build.xml in the current directory will be used automatically. If it is needed to explicitly specify the buildfile (because it's name isn't build.xml for example), you have to specify the buildfile with the '-f'-option: 'ant -verbose -f build.xml'. I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1400521,"reputation":664,"user_id":1329403,"accept_rate":0,"display_name":"duracell"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1481442097,"creation_date":1372430314,"answer_id":17367300,"question_id":1086449,"body_markdown":"since your ant file&#39;s name is build.xml, you should just type ant without ant build.xml.\r\nthat is: `&gt; ant` [enter]","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>since your ant file's name is build.xml, you should just type ant without ant build.xml.\nthat is: <code>&gt; ant</code> [enter]</p>\n"},{"tags":[],"owner":{"account_id":153395,"reputation":105605,"user_id":368630,"accept_rate":83,"display_name":"David W."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638194222,"creation_date":1375193632,"answer_id":17949488,"question_id":1086449,"body_markdown":"Is this a problem ***Only*** when you run `ant -d` or `ant -verbose`, but works other times?\r\n\r\nI noticed this error message line:\r\n\r\n&gt; Could not load definitions from resource org/apache/tools/ant/antlib.xml. It could not be found.\r\n\r\nThe `org/apache/tools/ant/antlib.xml` *file* is embedded in the `ant.jar`. The `ant` command is really a shell script called `ant` or a batch script called `ant.bat`. If the environment variable ANT_HOME is not set, it will figure out where it&#39;s located by looking to see where the `ant` command itself is located.\r\n\r\nSometimes I&#39;ve seen this where someone will move the `ant` shell/batch script to put it in their path, and have ANT_HOME either not set, or set incorrectly.\r\n\r\nWhat platform are you on? Is this Windows or Unix/Linux/MacOS? If you&#39;re on Windows, check to see if %ANT_HOME% is set. If it is, make sure it&#39;s the right directory. Make sure you have set your PATH to include `%ANT_HOME%/bin`. \r\n\r\nIf you&#39;re on Unix, don&#39;t copy the ant shell script to an executable directory. Instead, make a symbolic link. I have a directory called `/usr/local/bin` where I put the command I want to override the commands in `/bin` and `/usr/bin`. My Ant is installed in `/opt/ant-1.9.2`, and I have a symbolic link from `/opt/ant-1.9.2` to `/opt/ant`. Then, I have symbolic links from all commands in `/opt/ant/bin` to `/usr/local/bin`. The Ant shell script can detect the symbolic links and find the correct Ant HOME location.\r\n\r\nNext, go to your Ant installation directory and look under the lib directory to make sure `ant.jar` is there, and that it contains `org/apache/tools/ant/antlib.xml`. You can use the `jar tvf ant.jar` command. The only thing I can emphasize is that you do have everything setup correctly. You have your Ant shell script in your PATH either because you included the bin directory of your Ant&#39;s HOME directory in your classpath, or (if you&#39;re on Unix/Linux/MacOS), you have that file symbolically linked to a directory in your PATH.\r\n\r\nMake sure your JAVA_HOME is set correctly (on Unix, you can use the symbolic link trick to have the `java` command set it for you), and that you&#39;re using Java 1.5 or higher. Java 1.4 will no longer work with newer versions of Ant.\r\n\r\nAlso run `ant -version` and see what you get. You might get the same error as before which leads me to think you have something wrong.\r\n\r\nLet me know what you find, and your OS, and I can give you directions on reinstalling Ant.\r\n","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>Is this a problem <em><strong>Only</strong></em> when you run <code>ant -d</code> or <code>ant -verbose</code>, but works other times?</p>\n<p>I noticed this error message line:</p>\n<blockquote>\n<p>Could not load definitions from resource org/apache/tools/ant/antlib.xml. It could not be found.</p>\n</blockquote>\n<p>The <code>org/apache/tools/ant/antlib.xml</code> <em>file</em> is embedded in the <code>ant.jar</code>. The <code>ant</code> command is really a shell script called <code>ant</code> or a batch script called <code>ant.bat</code>. If the environment variable ANT_HOME is not set, it will figure out where it's located by looking to see where the <code>ant</code> command itself is located.</p>\n<p>Sometimes I've seen this where someone will move the <code>ant</code> shell/batch script to put it in their path, and have ANT_HOME either not set, or set incorrectly.</p>\n<p>What platform are you on? Is this Windows or Unix/Linux/MacOS? If you're on Windows, check to see if %ANT_HOME% is set. If it is, make sure it's the right directory. Make sure you have set your PATH to include <code>%ANT_HOME%/bin</code>.</p>\n<p>If you're on Unix, don't copy the ant shell script to an executable directory. Instead, make a symbolic link. I have a directory called <code>/usr/local/bin</code> where I put the command I want to override the commands in <code>/bin</code> and <code>/usr/bin</code>. My Ant is installed in <code>/opt/ant-1.9.2</code>, and I have a symbolic link from <code>/opt/ant-1.9.2</code> to <code>/opt/ant</code>. Then, I have symbolic links from all commands in <code>/opt/ant/bin</code> to <code>/usr/local/bin</code>. The Ant shell script can detect the symbolic links and find the correct Ant HOME location.</p>\n<p>Next, go to your Ant installation directory and look under the lib directory to make sure <code>ant.jar</code> is there, and that it contains <code>org/apache/tools/ant/antlib.xml</code>. You can use the <code>jar tvf ant.jar</code> command. The only thing I can emphasize is that you do have everything setup correctly. You have your Ant shell script in your PATH either because you included the bin directory of your Ant's HOME directory in your classpath, or (if you're on Unix/Linux/MacOS), you have that file symbolically linked to a directory in your PATH.</p>\n<p>Make sure your JAVA_HOME is set correctly (on Unix, you can use the symbolic link trick to have the <code>java</code> command set it for you), and that you're using Java 1.5 or higher. Java 1.4 will no longer work with newer versions of Ant.</p>\n<p>Also run <code>ant -version</code> and see what you get. You might get the same error as before which leads me to think you have something wrong.</p>\n<p>Let me know what you find, and your OS, and I can give you directions on reinstalling Ant.</p>\n"},{"tags":[],"owner":{"account_id":4485313,"reputation":1,"user_id":3648155,"display_name":"abilasco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404303267,"creation_date":1404303267,"answer_id":24530843,"question_id":1086449,"body_markdown":"I&#39;m probably late but this worked for me:\r\n\r\n\r\n----------\r\n\r\n\r\n1. Open your build.xml file located in your project&#39;s directory.\r\n2. Copy and Paste the following code in the main **project** tag :\r\n `&lt;target name=&quot;build&quot; /&gt;`","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>I'm probably late but this worked for me:</p>\n\n<hr>\n\n<ol>\n<li>Open your build.xml file located in your project's directory.</li>\n<li>Copy and Paste the following code in the main <strong>project</strong> tag :\n<code>&lt;target name=\"build\" /&gt;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7387209,"reputation":1,"user_id":5621888,"display_name":"Ranjith Venkatesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460610564,"creation_date":1448897193,"answer_id":34002042,"question_id":1086449,"body_markdown":"in the folder where the build.xml resides  run command only - \r\n\r\n   \r\n\r\n&gt;  ant\r\n\r\n \r\n\r\nand not the command -  `\r\n\r\n&gt; ant build.xml\r\n\r\n`\r\n\r\n. if you are using the ant file as build xml then the below steps helps you     Steps :\r\nopen cmd Prompt &gt;&gt; switch to the project location &gt;&gt;type ant and click enter key","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>in the folder where the build.xml resides  run command only - </p>\n\n<blockquote>\n  <p>ant</p>\n</blockquote>\n\n<p>and not the command -  `</p>\n\n<blockquote>\n  <p>ant build.xml</p>\n</blockquote>\n\n<p>`</p>\n\n<p>. if you are using the ant file as build xml then the below steps helps you     Steps :\nopen cmd Prompt >> switch to the project location >>type ant and click enter key</p>\n"},{"tags":[],"owner":{"account_id":23870123,"reputation":148,"user_id":17920463,"display_name":"ubuntuMAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681468578,"creation_date":1681468578,"answer_id":76014195,"question_id":1086449,"body_markdown":"In the case you can use this to compile mallet (applicable in jupyter or colab)\r\n\r\n```\r\ncd Mallet/ &amp;&amp; ant\r\n```","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>In the case you can use this to compile mallet (applicable in jupyter or colab)</p>\n<pre><code>cd Mallet/ &amp;&amp; ant\n</code></pre>\n"}],"owner":{"display_name":"christy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126536,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1681468578,"creation_date":1246878022,"question_id":1086449,"body_markdown":"When I run the ant file in verbose mode, I got an error like the one below. Does anyone have any ideas what is going wrong? I am new to this\r\n\r\n    antlib:org.apache.tools.ant] Could not load definitions from resource org/apach\r\n    e/tools/ant/antlib.xml. It could not be found.\r\n    Override ignored for property &quot;java.home&quot;\r\n    BUILD FAILED\r\n    Target &quot;build.xml&quot; does not exist in the project &quot;MYPROJECT&quot;.\r\n            at org.apache.tools.ant.Project.tsort(Project.java:1821)\r\n            at org.apache.tools.ant.Project..topoSort(Project.java:1729)\r\n            at org.apache.tools.ant.Project.topoSort(Project.java:1692)\r\n            at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\r\n            at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n            at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\r\n            at org.apache.tools.ant.Main.runBuild(Main.java:698)\r\n            at org.apache.tools.ant.Main.startAnt(Main.java:199)\r\n            at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\r\n            at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\r\n    Total time: 1 second\r\n\r\nThis is my `build.xml`:\r\n\r\n    &lt;project name=&quot;MYPROJECT&quot; default=&quot;dev&quot; basedir=&quot;.&quot;&gt;\r\n      &lt;property name=&quot;build.home&quot; value=&quot;build/jsp&quot; /&gt;\r\n      &lt;property name=&quot;tomcat.home&quot; location=&quot;../Tomcat 5.0/&quot; /&gt;\r\n      &lt;path id=&quot;project.class.path&quot;&gt;\r\n        &lt;fileset dir=&quot;./lib/&quot;&gt;\r\n          &lt;include name=&quot;**/*.jar&quot; /&gt;\r\n        &lt;/fileset&gt;\r\n      &lt;/path&gt;\r\n      &lt;target name=&quot;reltag&quot;&gt;\r\n        &lt;tstamp&gt;\r\n          &lt;format property=&quot;now&quot; pattern=&quot;d MMM yyyy HH:mm&quot; /&gt;\r\n        &lt;/tstamp&gt;\r\n        &lt;property name=&quot;reltag&quot; value=&quot;Built date: ${now}&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;dev&quot; depends=&quot;compile&quot; description=&quot;Builds for development&quot;&gt;\r\n        &lt;mkdir dir=&quot;jsp/WEB-INF/lib&quot; /&gt;\r\n        &lt;mkdir dir=&quot;jsp/WEB-INF/classes&quot; /&gt;\r\n        &lt;copy todir=&quot;jsp/WEB-INF/lib&quot;&gt;\r\n          &lt;fileset dir=&quot;lib&quot;&gt;\r\n            &lt;exclude name=&quot;**/CVS/*&quot; /&gt;\r\n          &lt;/fileset&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy todir=&quot;jsp/WEB-INF/classes&quot;&gt;\r\n          &lt;fileset dir=&quot;classes&quot;&gt;\r\n            &lt;exclude name=&quot;**/CVS/*&quot; /&gt;\r\n          &lt;/fileset&gt;\r\n        &lt;/copy&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;compile&quot; depends=&quot;myproject-gen,reltag&quot;&gt;\r\n        &lt;copy file=&quot;setup/Version.java.template&quot; tofile=&quot;java/myproject/Version.java&quot; overwrite=&quot;true&quot;&gt;\r\n          &lt;filterset&gt;\r\n            &lt;filter token=&quot;VERSION&quot; value=&quot;${reltag}&quot; /&gt;\r\n          &lt;/filterset&gt;\r\n        &lt;/copy&gt;\r\n        &lt;mkdir dir=&quot;classes&quot; /&gt;\r\n        &lt;depend srcdir=&quot;java&quot; destdir=&quot;classes&quot; cache=&quot;depcache&quot; /&gt;\r\n        &lt;javac srcdir=&quot;java&quot; destdir=&quot;classes&quot;&gt;\r\n          &lt;classpath refid=&quot;project.class.path&quot; /&gt;\r\n        &lt;/javac&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;myproject-gen&quot; description=&quot;Generates torque classes and SQL for myproject&quot;&gt;\r\n        &lt;!-- generate the java files --&gt;\r\n        &lt;ant dir=&quot;torque&quot; target=&quot;om&quot; /&gt;\r\n        &lt;antcall target=&quot;myproject-sql-mysql&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;!-- generate the schema.sql script for MySQL --&gt;\r\n      &lt;target name=&quot;myproject-sql-mysql&quot; depends=&quot;myproject-sql-mysql-check&quot; unless=&quot;mysql.schema.up.to.date&quot;&gt;\r\n        &lt;echo message=&quot;Generating SQL file for MySQL&quot; /&gt;\r\n        &lt;ant dir=&quot;torque&quot; target=&quot;sql&quot;&gt;\r\n          &lt;property name=&quot;torque.database&quot; value=&quot;mysql&quot; /&gt;\r\n          &lt;property name=&quot;torque.runOnlyOnSchemaChange&quot; value=&quot;false&quot; /&gt;\r\n        &lt;/ant&gt;\r\n        &lt;move file=&quot;sql/gen/myproject-schema.sql&quot; tofile=&quot;sql/gen/myproject-schema-mysql.sql&quot; overwrite=&quot;true&quot; /&gt;\r\n        &lt;copy file=&quot;sql/gen/myproject-schema-mysql.sql&quot; tofile=&quot;jsp/admin/database.sql&quot; overwrite=&quot;true&quot; /&gt;\r\n        &lt;copy file=&quot;sql/init.sql&quot; tofile=&quot;jsp/admin/init.sql&quot; overwrite=&quot;true&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;!-- check if we need to generate the sql file --&gt;\r\n      &lt;target name=&quot;myproject-sql-mysql-check&quot;&gt;\r\n        &lt;uptodate property=&quot;mysql.schema.up.to.date&quot; targetfile=&quot;sql/gen/myproject-schema-mysql.sql&quot; srcfile=&quot;torque/myproject-schema.xml&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;myproject-war&quot; depends=&quot;compile-jsp&quot;&gt;\r\n        &lt;mkdir dir=&quot;build&quot; /&gt;\r\n        &lt;jar destfile=&quot;build/myproject.war&quot; basedir=&quot;build/jsp&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;prepare_for_war_file&quot;&gt;\r\n        &lt;mkdir dir=&quot;build\\jsp-classes\\org\\apache\\jsp&quot; /&gt;\r\n        &lt;!-- &lt;move todir=&quot;${build.home}/WEB-INF/classes/org/apache/jsp&quot;&gt; &lt;fileset dir=&quot;${build.home}&quot;&gt; &lt;include name=&quot;*.jsp&quot;/&gt; &lt;/fileset&gt; &lt;/move&gt; --&gt;\r\n        &lt;!-- copy everything which is not a jsp to admin directory --&gt;\r\n        &lt;copy tofile=&quot;${build.home}/admin/database.sql&quot;&gt;\r\n          &lt;fileset file=&quot;sql/gen/*-schema-mysql.sql&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy file=&quot;sql/init.sql&quot; todir=&quot;${build.home}/admin&quot; /&gt;\r\n        &lt;mkdir dir=&quot;${build.home}/pdb_files&quot; /&gt;\r\n        &lt;!-- copy images directory --&gt;\r\n        &lt;copy todir=&quot;${build.home}/images&quot;&gt;\r\n          &lt;fileset dir=&quot;jsp/images&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy todir=&quot;${build.home}/hand&quot;&gt;\r\n          &lt;fileset dir=&quot;jsp/hand&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!-- copy javascript directory --&gt;\r\n        &lt;copy todir=&quot;${build.home}/javascript&quot;&gt;\r\n          &lt;fileset dir=&quot;jsp/javascript&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!-- copy META-INF directory --&gt;\r\n        &lt;copy todir=&quot;${build.home}/META-INF&quot;&gt;\r\n          &lt;fileset dir=&quot;jsp/META-INF&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!-- copy stylesheet directory --&gt;\r\n        &lt;copy todir=&quot;${build.home}/stylesheet&quot;&gt;\r\n          &lt;fileset dir=&quot;jsp/stylesheet&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!-- copy WEB-INF directory --&gt;\r\n        &lt;copy todir=&quot;${build.home}/WEB-INF/classes/&quot;&gt;\r\n          &lt;fileset dir=&quot;classes/&quot; includes=&quot;**&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy todir=&quot;${build.home}/WEB-INF/lib&quot;&gt;\r\n          &lt;fileset dir=&quot;lib&quot; includes=&quot;*.*&quot; excludes=&quot;Cabwiz&quot; /&gt;\r\n        &lt;/copy&gt;\r\n        &lt;!-- copy license and properties --&gt;\r\n        &lt;!--&lt;copy file=&quot;WebContent/myproject.license&quot; todir=&quot;${build.home}&quot;/&gt; --&gt;\r\n        &lt;copy file=&quot;jsp/myproject.properties&quot; todir=&quot;${build.home}&quot; /&gt;\r\n        &lt;!-- move jsp classes to the correct package structure so war file will work when deployed --&gt;\r\n        &lt;move todir=&quot;${build.home}/WEB-INF/classes/org/apache/jsp&quot;&gt;\r\n          &lt;fileset dir=&quot;${build.home}&quot; includes=&quot;**/*.class&quot; excludes=&quot;WEB-INF/**&quot; /&gt;\r\n        &lt;/move&gt;\r\n        &lt;antcall target=&quot;create-web_XML&quot;&gt;&lt;/antcall&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;create-web_XML&quot;&gt;\r\n        &lt;loadfile property=&quot;generated.web.xml&quot; srcFile=&quot;jsp/WEB-INF/generated_web.xml&quot; /&gt;\r\n        &lt;copy file=&quot;jsp/WEB-INF/web_template.xml&quot; tofile=&quot;jsp/WEB-INF/web.xml.deployable&quot; overwrite=&quot;true&quot;&gt;\r\n          &lt;filterset begintoken=&quot;&amp;lt;!--&quot; endToken=&quot;--&amp;gt;&quot;&gt;\r\n            &lt;filter token=&quot;GENERATED_WEB_XML&quot; value=&quot;${generated.web.xml}&quot; /&gt;\r\n          &lt;/filterset&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy file=&quot;jsp/WEB-INF/web.xml.deployable&quot; tofile=&quot;build/jsp/WEB-INF/web.xml&quot; /&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;compile-jsp&quot; depends=&quot;dev&quot;&gt;\r\n        &lt;antcall target=&quot;prepare_for_war_file&quot;&gt;&lt;/antcall&gt;\r\n        &lt;property environment=&quot;env&quot; /&gt;\r\n        &lt;taskdef classname=&quot;org.apache.jasper.JspC&quot; name=&quot;jasper2&quot;&gt;\r\n          &lt;classpath id=&quot;jspc.classpath&quot;&gt;\r\n            &lt;pathelement location=&quot;${java.home}/../lib/tools.jar&quot; /&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/bin2&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/server/lib&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/common/lib&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n          &lt;/classpath&gt;\r\n        &lt;/taskdef&gt;\r\n        &lt;mkdir dir=&quot;java/jsp-src&quot; /&gt;\r\n        &lt;jasper2 validateXml=&quot;false&quot; package=&quot;org.apache.jsp&quot; uriroot=&quot;jsp&quot; webXmlFragment=&quot;jsp/WEB-INF/generated_web.xml&quot; outputDir=&quot;java/jsp-src&quot; /&gt;\r\n        &lt;jspc srcdir=&quot;jsp&quot; destdir=&quot;java/jsp-src&quot;&gt;\r\n          &lt;include name=&quot;include/**/*.jsp&quot; /&gt;\r\n          &lt;include name=&quot;**/*.jsp&quot; /&gt;\r\n        &lt;/jspc&gt;\r\n        &lt;mkdir dir=&quot;build/jsp-classes&quot; /&gt;\r\n        &lt;property environment=&quot;env&quot; /&gt;\r\n        &lt;javac destdir=&quot;build/jsp/WEB-INF/classes&quot; optimize=&quot;off&quot; debug=&quot;on&quot; failonerror=&quot;true&quot; srcdir=&quot;java/jsp-src&quot; excludes=&quot;**/*.smap&quot;&gt;\r\n          &lt;classpath&gt;\r\n            &lt;pathelement location=&quot;classes&quot; /&gt;\r\n            &lt;fileset dir=&quot;lib&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;pathelement location=&quot;${env.tomcat.home}/common/classes&quot; /&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/common/lib&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;pathelement location=&quot;${env.tomcat.home}/shared/classes&quot; /&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/shared/lib&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;fileset dir=&quot;${env.tomcat.home}/bin&quot;&gt;\r\n              &lt;include name=&quot;*.jar&quot; /&gt;\r\n            &lt;/fileset&gt;\r\n          &lt;/classpath&gt;\r\n          &lt;include name=&quot;**&quot; /&gt;\r\n          &lt;!--&lt;exclude name=&quot;**/includes/*menu_jsp.java&quot; /&gt; --&gt;\r\n        &lt;/javac&gt;\r\n      &lt;/target&gt;\r\n      &lt;target name=&quot;clean&quot; description=&quot;Deletes the java/classes dir and torque base objects&quot;&gt;\r\n        &lt;delete dir=&quot;classes&quot; /&gt;\r\n        &lt;delete dir=&quot;${build.home}&quot; /&gt;\r\n        &lt;delete&gt;\r\n          &lt;fileset file=&quot;build/*&quot; /&gt;\r\n        &lt;/delete&gt;\r\n        &lt;delete dir=&quot;java/myproject/torque/map&quot; /&gt;\r\n        &lt;delete dir=&quot;java/jsp-src&quot; /&gt;\r\n        &lt;delete dir=&quot;jsp/WEB-INF/classes&quot; /&gt;\r\n        &lt;delete dir=&quot;jsp/WEB-INF/lib&quot; /&gt;\r\n        &lt;delete&gt;\r\n          &lt;fileset dir=&quot;java/myproject/torque&quot; includes=&quot;Base*.java&quot; /&gt;\r\n        &lt;/delete&gt;\r\n        &lt;touch file=&quot;torque/myproject-schema.xml&quot; /&gt;\r\n      &lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Ant build failed: &quot;Target &quot;build..xml&quot; does not exist&quot;","body":"<p>When I run the ant file in verbose mode, I got an error like the one below. Does anyone have any ideas what is going wrong? I am new to this</p>\n\n<pre><code>antlib:org.apache.tools.ant] Could not load definitions from resource org/apach\ne/tools/ant/antlib.xml. It could not be found.\nOverride ignored for property \"java.home\"\nBUILD FAILED\nTarget \"build.xml\" does not exist in the project \"MYPROJECT\".\n        at org.apache.tools.ant.Project.tsort(Project.java:1821)\n        at org.apache.tools.ant.Project..topoSort(Project.java:1729)\n        at org.apache.tools.ant.Project.topoSort(Project.java:1692)\n        at org.apache.tools.ant.Project.executeTarget(Project.java:1298)\n        at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n        at org.apache.tools.ant.Project.executeTargets(Project.java:1181)\n        at org.apache.tools.ant.Main.runBuild(Main.java:698)\n        at org.apache.tools.ant.Main.startAnt(Main.java:199)\n        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)\n        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)\nTotal time: 1 second\n</code></pre>\n\n<p>This is my <code>build.xml</code>:</p>\n\n<pre><code>&lt;project name=\"MYPROJECT\" default=\"dev\" basedir=\".\"&gt;\n  &lt;property name=\"build.home\" value=\"build/jsp\" /&gt;\n  &lt;property name=\"tomcat.home\" location=\"../Tomcat 5.0/\" /&gt;\n  &lt;path id=\"project.class.path\"&gt;\n    &lt;fileset dir=\"./lib/\"&gt;\n      &lt;include name=\"**/*.jar\" /&gt;\n    &lt;/fileset&gt;\n  &lt;/path&gt;\n  &lt;target name=\"reltag\"&gt;\n    &lt;tstamp&gt;\n      &lt;format property=\"now\" pattern=\"d MMM yyyy HH:mm\" /&gt;\n    &lt;/tstamp&gt;\n    &lt;property name=\"reltag\" value=\"Built date: ${now}\" /&gt;\n  &lt;/target&gt;\n  &lt;target name=\"dev\" depends=\"compile\" description=\"Builds for development\"&gt;\n    &lt;mkdir dir=\"jsp/WEB-INF/lib\" /&gt;\n    &lt;mkdir dir=\"jsp/WEB-INF/classes\" /&gt;\n    &lt;copy todir=\"jsp/WEB-INF/lib\"&gt;\n      &lt;fileset dir=\"lib\"&gt;\n        &lt;exclude name=\"**/CVS/*\" /&gt;\n      &lt;/fileset&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=\"jsp/WEB-INF/classes\"&gt;\n      &lt;fileset dir=\"classes\"&gt;\n        &lt;exclude name=\"**/CVS/*\" /&gt;\n      &lt;/fileset&gt;\n    &lt;/copy&gt;\n  &lt;/target&gt;\n  &lt;target name=\"compile\" depends=\"myproject-gen,reltag\"&gt;\n    &lt;copy file=\"setup/Version.java.template\" tofile=\"java/myproject/Version.java\" overwrite=\"true\"&gt;\n      &lt;filterset&gt;\n        &lt;filter token=\"VERSION\" value=\"${reltag}\" /&gt;\n      &lt;/filterset&gt;\n    &lt;/copy&gt;\n    &lt;mkdir dir=\"classes\" /&gt;\n    &lt;depend srcdir=\"java\" destdir=\"classes\" cache=\"depcache\" /&gt;\n    &lt;javac srcdir=\"java\" destdir=\"classes\"&gt;\n      &lt;classpath refid=\"project.class.path\" /&gt;\n    &lt;/javac&gt;\n  &lt;/target&gt;\n  &lt;target name=\"myproject-gen\" description=\"Generates torque classes and SQL for myproject\"&gt;\n    &lt;!-- generate the java files --&gt;\n    &lt;ant dir=\"torque\" target=\"om\" /&gt;\n    &lt;antcall target=\"myproject-sql-mysql\" /&gt;\n  &lt;/target&gt;\n  &lt;!-- generate the schema.sql script for MySQL --&gt;\n  &lt;target name=\"myproject-sql-mysql\" depends=\"myproject-sql-mysql-check\" unless=\"mysql.schema.up.to.date\"&gt;\n    &lt;echo message=\"Generating SQL file for MySQL\" /&gt;\n    &lt;ant dir=\"torque\" target=\"sql\"&gt;\n      &lt;property name=\"torque.database\" value=\"mysql\" /&gt;\n      &lt;property name=\"torque.runOnlyOnSchemaChange\" value=\"false\" /&gt;\n    &lt;/ant&gt;\n    &lt;move file=\"sql/gen/myproject-schema.sql\" tofile=\"sql/gen/myproject-schema-mysql.sql\" overwrite=\"true\" /&gt;\n    &lt;copy file=\"sql/gen/myproject-schema-mysql.sql\" tofile=\"jsp/admin/database.sql\" overwrite=\"true\" /&gt;\n    &lt;copy file=\"sql/init.sql\" tofile=\"jsp/admin/init.sql\" overwrite=\"true\" /&gt;\n  &lt;/target&gt;\n  &lt;!-- check if we need to generate the sql file --&gt;\n  &lt;target name=\"myproject-sql-mysql-check\"&gt;\n    &lt;uptodate property=\"mysql.schema.up.to.date\" targetfile=\"sql/gen/myproject-schema-mysql.sql\" srcfile=\"torque/myproject-schema.xml\" /&gt;\n  &lt;/target&gt;\n  &lt;target name=\"myproject-war\" depends=\"compile-jsp\"&gt;\n    &lt;mkdir dir=\"build\" /&gt;\n    &lt;jar destfile=\"build/myproject.war\" basedir=\"build/jsp\" /&gt;\n  &lt;/target&gt;\n  &lt;target name=\"prepare_for_war_file\"&gt;\n    &lt;mkdir dir=\"build\\jsp-classes\\org\\apache\\jsp\" /&gt;\n    &lt;!-- &lt;move todir=\"${build.home}/WEB-INF/classes/org/apache/jsp\"&gt; &lt;fileset dir=\"${build.home}\"&gt; &lt;include name=\"*.jsp\"/&gt; &lt;/fileset&gt; &lt;/move&gt; --&gt;\n    &lt;!-- copy everything which is not a jsp to admin directory --&gt;\n    &lt;copy tofile=\"${build.home}/admin/database.sql\"&gt;\n      &lt;fileset file=\"sql/gen/*-schema-mysql.sql\" /&gt;\n    &lt;/copy&gt;\n    &lt;copy file=\"sql/init.sql\" todir=\"${build.home}/admin\" /&gt;\n    &lt;mkdir dir=\"${build.home}/pdb_files\" /&gt;\n    &lt;!-- copy images directory --&gt;\n    &lt;copy todir=\"${build.home}/images\"&gt;\n      &lt;fileset dir=\"jsp/images\" /&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=\"${build.home}/hand\"&gt;\n      &lt;fileset dir=\"jsp/hand\" /&gt;\n    &lt;/copy&gt;\n    &lt;!-- copy javascript directory --&gt;\n    &lt;copy todir=\"${build.home}/javascript\"&gt;\n      &lt;fileset dir=\"jsp/javascript\" /&gt;\n    &lt;/copy&gt;\n    &lt;!-- copy META-INF directory --&gt;\n    &lt;copy todir=\"${build.home}/META-INF\"&gt;\n      &lt;fileset dir=\"jsp/META-INF\" /&gt;\n    &lt;/copy&gt;\n    &lt;!-- copy stylesheet directory --&gt;\n    &lt;copy todir=\"${build.home}/stylesheet\"&gt;\n      &lt;fileset dir=\"jsp/stylesheet\" /&gt;\n    &lt;/copy&gt;\n    &lt;!-- copy WEB-INF directory --&gt;\n    &lt;copy todir=\"${build.home}/WEB-INF/classes/\"&gt;\n      &lt;fileset dir=\"classes/\" includes=\"**\" /&gt;\n    &lt;/copy&gt;\n    &lt;copy todir=\"${build.home}/WEB-INF/lib\"&gt;\n      &lt;fileset dir=\"lib\" includes=\"*.*\" excludes=\"Cabwiz\" /&gt;\n    &lt;/copy&gt;\n    &lt;!-- copy license and properties --&gt;\n    &lt;!--&lt;copy file=\"WebContent/myproject.license\" todir=\"${build.home}\"/&gt; --&gt;\n    &lt;copy file=\"jsp/myproject.properties\" todir=\"${build.home}\" /&gt;\n    &lt;!-- move jsp classes to the correct package structure so war file will work when deployed --&gt;\n    &lt;move todir=\"${build.home}/WEB-INF/classes/org/apache/jsp\"&gt;\n      &lt;fileset dir=\"${build.home}\" includes=\"**/*.class\" excludes=\"WEB-INF/**\" /&gt;\n    &lt;/move&gt;\n    &lt;antcall target=\"create-web_XML\"&gt;&lt;/antcall&gt;\n  &lt;/target&gt;\n  &lt;target name=\"create-web_XML\"&gt;\n    &lt;loadfile property=\"generated.web.xml\" srcFile=\"jsp/WEB-INF/generated_web.xml\" /&gt;\n    &lt;copy file=\"jsp/WEB-INF/web_template.xml\" tofile=\"jsp/WEB-INF/web.xml.deployable\" overwrite=\"true\"&gt;\n      &lt;filterset begintoken=\"&amp;lt;!--\" endToken=\"--&amp;gt;\"&gt;\n        &lt;filter token=\"GENERATED_WEB_XML\" value=\"${generated.web.xml}\" /&gt;\n      &lt;/filterset&gt;\n    &lt;/copy&gt;\n    &lt;copy file=\"jsp/WEB-INF/web.xml.deployable\" tofile=\"build/jsp/WEB-INF/web.xml\" /&gt;\n  &lt;/target&gt;\n  &lt;target name=\"compile-jsp\" depends=\"dev\"&gt;\n    &lt;antcall target=\"prepare_for_war_file\"&gt;&lt;/antcall&gt;\n    &lt;property environment=\"env\" /&gt;\n    &lt;taskdef classname=\"org.apache.jasper.JspC\" name=\"jasper2\"&gt;\n      &lt;classpath id=\"jspc.classpath\"&gt;\n        &lt;pathelement location=\"${java.home}/../lib/tools.jar\" /&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/bin2\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/server/lib\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/common/lib\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n      &lt;/classpath&gt;\n    &lt;/taskdef&gt;\n    &lt;mkdir dir=\"java/jsp-src\" /&gt;\n    &lt;jasper2 validateXml=\"false\" package=\"org.apache.jsp\" uriroot=\"jsp\" webXmlFragment=\"jsp/WEB-INF/generated_web.xml\" outputDir=\"java/jsp-src\" /&gt;\n    &lt;jspc srcdir=\"jsp\" destdir=\"java/jsp-src\"&gt;\n      &lt;include name=\"include/**/*.jsp\" /&gt;\n      &lt;include name=\"**/*.jsp\" /&gt;\n    &lt;/jspc&gt;\n    &lt;mkdir dir=\"build/jsp-classes\" /&gt;\n    &lt;property environment=\"env\" /&gt;\n    &lt;javac destdir=\"build/jsp/WEB-INF/classes\" optimize=\"off\" debug=\"on\" failonerror=\"true\" srcdir=\"java/jsp-src\" excludes=\"**/*.smap\"&gt;\n      &lt;classpath&gt;\n        &lt;pathelement location=\"classes\" /&gt;\n        &lt;fileset dir=\"lib\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;pathelement location=\"${env.tomcat.home}/common/classes\" /&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/common/lib\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;pathelement location=\"${env.tomcat.home}/shared/classes\" /&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/shared/lib\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n        &lt;fileset dir=\"${env.tomcat.home}/bin\"&gt;\n          &lt;include name=\"*.jar\" /&gt;\n        &lt;/fileset&gt;\n      &lt;/classpath&gt;\n      &lt;include name=\"**\" /&gt;\n      &lt;!--&lt;exclude name=\"**/includes/*menu_jsp.java\" /&gt; --&gt;\n    &lt;/javac&gt;\n  &lt;/target&gt;\n  &lt;target name=\"clean\" description=\"Deletes the java/classes dir and torque base objects\"&gt;\n    &lt;delete dir=\"classes\" /&gt;\n    &lt;delete dir=\"${build.home}\" /&gt;\n    &lt;delete&gt;\n      &lt;fileset file=\"build/*\" /&gt;\n    &lt;/delete&gt;\n    &lt;delete dir=\"java/myproject/torque/map\" /&gt;\n    &lt;delete dir=\"java/jsp-src\" /&gt;\n    &lt;delete dir=\"jsp/WEB-INF/classes\" /&gt;\n    &lt;delete dir=\"jsp/WEB-INF/lib\" /&gt;\n    &lt;delete&gt;\n      &lt;fileset dir=\"java/myproject/torque\" includes=\"Base*.java\" /&gt;\n    &lt;/delete&gt;\n    &lt;touch file=\"torque/myproject-schema.xml\" /&gt;\n  &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1681470798,"post_id":76013994,"comment_id":134065404,"body_markdown":"Based on the given name `jar-with-dependencies` I suppose you are not using spring-boot-maven-plugin correctly or not all. You seemed to be using maven-assembly-plugin? Furthermore if you have configured the spring boot maven plugin correctly there is no need to call `spring-boot:repackage` separately. It should be part of the rest `mvn package`... if not there is something wrong in your pom file... it would be helpful to see your full pom file..?","body":"Based on the given name <code>jar-with-dependencies</code> I suppose you are not using spring-boot-maven-plugin correctly or not all. You seemed to be using maven-assembly-plugin? Furthermore if you have configured the spring boot maven plugin correctly there is no need to call <code>spring-boot:repackage</code> separately. It should be part of the rest <code>mvn package</code>... if not there is something wrong in your pom file... it would be helpful to see your full pom file..?"}],"owner":{"account_id":7054874,"reputation":14072,"user_id":5402618,"accept_rate":45,"display_name":"CrazySynthax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681467854,"creation_date":1681467261,"question_id":76013994,"body_markdown":"I created a simple Sprint Boot application. \r\nI build a jar file with the command:\r\n\r\n&gt;  mvn clean package spring-boot:repackage\r\n\r\nand I run the jar file extracted by running the command:\r\n\r\n java --jar .\\target\\proj-name-1.0-SNAPSHOT-jar-with-dependencies.jar\r\n\r\nHowever, I get the error:\r\n\r\n&gt; java.lang.IllegalArgumentException: No auto configuration classes\r\n&gt; found in META-INF/spring.factories. If you are using a custom\r\n&gt; packaging, make sure that file is correct.\r\n\r\n\r\nThis is how the plugin looks in pom.xml file:\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;fork&gt;true&lt;/fork&gt;\r\n              &lt;mainClass&gt;&lt;package-name&gt;.Application&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n\r\nI tried to add the file META-INF/spring.factories to src/main/resources and tried to run:\r\n&gt;  mvn clean package spring-boot:repackage\r\n\r\nUnfortunately, it didn&#39;t help.\r\n\r\nI also tried to delete the entire content of .m2 repository.\r\nAgain, it didn&#39;t help.\r\n\r\nDo you have any ideas?","title":"Spring Boot: No auto configuration classes found in META-INF/spring.factories","body":"<p>I created a simple Sprint Boot application.\nI build a jar file with the command:</p>\n<blockquote>\n<p>mvn clean package spring-boot:repackage</p>\n</blockquote>\n<p>and I run the jar file extracted by running the command:</p>\n<p>java --jar .\\target\\proj-name-1.0-SNAPSHOT-jar-with-dependencies.jar</p>\n<p>However, I get the error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: No auto configuration classes\nfound in META-INF/spring.factories. If you are using a custom\npackaging, make sure that file is correct.</p>\n</blockquote>\n<p>This is how the plugin looks in pom.xml file:</p>\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;fork&gt;true&lt;/fork&gt;\n          &lt;mainClass&gt;&lt;package-name&gt;.Application&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>I tried to add the file META-INF/spring.factories to src/main/resources and tried to run:</p>\n<blockquote>\n<p>mvn clean package spring-boot:repackage</p>\n</blockquote>\n<p>Unfortunately, it didn't help.</p>\n<p>I also tried to delete the entire content of .m2 repository.\nAgain, it didn't help.</p>\n<p>Do you have any ideas?</p>\n"},{"tags":["java","path"],"comments":[{"owner":{"account_id":4841967,"reputation":32807,"user_id":3906760,"accept_rate":91,"display_name":"MrTux"},"score":3,"creation_date":1574323995,"post_id":58970092,"comment_id":104194035,"body_markdown":"`new File(string).getName()` does work for folders!","body":"<code>new File(string).getName()</code> does work for folders!"},{"owner":{"account_id":4841967,"reputation":32807,"user_id":3906760,"accept_rate":91,"display_name":"MrTux"},"score":1,"creation_date":1574324050,"post_id":58970092,"comment_id":104194066,"body_markdown":"Maybe the &quot;newer&quot; Path API helps you: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html","body":"Maybe the &quot;newer&quot; Path API helps you: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html</a>"},{"owner":{"account_id":1507667,"reputation":72920,"user_id":1410664,"accept_rate":52,"display_name":"Caius Jard"},"score":0,"creation_date":1574324116,"post_id":58970092,"comment_id":104194099,"body_markdown":"When you said `new File(path).getName()` doesn&#39;t work, were you trying it on a path like `c:\\temp\\ ` with a trailing slash?","body":"When you said <code>new File(path).getName()</code> doesn&#39;t work, were you trying it on a path like <code>c:\\temp\\ </code> with a trailing slash?"},{"owner":{"account_id":16149826,"reputation":599,"user_id":11658553,"display_name":"H&#249;ng Nguyễn"},"score":0,"creation_date":1574324321,"post_id":58970092,"comment_id":104194189,"body_markdown":"Thanks, it was my bad. sometimes the string is empty so it return nothing.","body":"Thanks, it was my bad. sometimes the string is empty so it return nothing."}],"answers":[{"tags":[],"owner":{"account_id":13998125,"reputation":96,"user_id":10110428,"display_name":"Евгений Колпаков"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574324145,"creation_date":1574324145,"answer_id":58970188,"question_id":58970092,"body_markdown":"```\r\n  public static void main(String[] args) {\r\n    // String str = &quot;C:\\\\just\\\\another\\\\longer\\\\path\\\\&quot;;\r\n    // String str = &quot;/path/with/right/slashes/works/too/&quot;;\r\n       String str = &quot;C:\\\\and\\\\path\\\\with/mixed/slashes/works/too/&quot;;\r\n\r\n    // String str = &quot;C:\\\\just\\\\another\\\\longer\\\\path&quot;;\r\n    // String str = &quot;/path/with/right/slashes/works/too&quot;;\r\n    // String str = &quot;C:\\\\and\\\\path\\\\with/mixed/slashes/works/too&quot;;\r\n\r\n    String name = Paths.get(str.replace(&#39;\\\\&#39;, &#39;/&#39;)).toFile().getName();\r\n\r\n    System.out.println(&quot;name = &quot; + name);\r\n\r\n  }\r\n```","title":"Is there a better to get last element of an absolute path in java?","body":"<pre><code>  public static void main(String[] args) {\n    // String str = \"C:\\\\just\\\\another\\\\longer\\\\path\\\\\";\n    // String str = \"/path/with/right/slashes/works/too/\";\n       String str = \"C:\\\\and\\\\path\\\\with/mixed/slashes/works/too/\";\n\n    // String str = \"C:\\\\just\\\\another\\\\longer\\\\path\";\n    // String str = \"/path/with/right/slashes/works/too\";\n    // String str = \"C:\\\\and\\\\path\\\\with/mixed/slashes/works/too\";\n\n    String name = Paths.get(str.replace('\\\\', '/')).toFile().getName();\n\n    System.out.println(\"name = \" + name);\n\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16149826,"reputation":599,"user_id":11658553,"display_name":"H&#249;ng Nguyễn"},"score":1,"creation_date":1574324777,"post_id":58970195,"comment_id":104194462,"body_markdown":"Even when the question is kind of off-topic because of my fault. This is still a nice answer.","body":"Even when the question is kind of off-topic because of my fault. This is still a nice answer."},{"owner":{"account_id":4949436,"reputation":63,"user_id":3983908,"display_name":"Jagadeesh"},"score":0,"creation_date":1690879757,"post_id":58970195,"comment_id":135411177,"body_markdown":"i didnt get same output. it comes with full path only","body":"i didnt get same output. it comes with full path only"}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1574324554,"creation_date":1574324210,"answer_id":58970195,"question_id":58970092,"body_markdown":"You can (and nowadays should) use [`java.nio.file.Path.getFileName()`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getFileName()), which works like this for paths to files or directories (no matter if the `String` ends with a backslash or not):\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\tString pathStringToAFile = &quot;U:\\\\temp\\\\TestOutput\\\\TestFolder\\\\test_file.txt&quot;;\r\n\tString pathStringToAFolder = &quot;U:\\\\temp\\\\TestOutput\\\\TestFolder&quot;;\r\n\tString pathStringToAFolderWithTrailingBackslash = &quot;U:\\\\temp\\\\TestOutput\\\\TestFolder\\\\&quot;;\r\n\t\r\n\tPath pathToAFile = Paths.get(pathStringToAFile);\r\n\tPath pathToAFolder = Paths.get(pathStringToAFolder);\r\n\tPath pathToAFolderWithTrailingBackslash \r\n\t\t\t\t\t\t= Paths.get(pathStringToAFolderWithTrailingBackslash);\r\n\t\r\n\tSystem.out.println(pathToAFile.getFileName().toString());\r\n\tSystem.out.println(pathToAFolder.getFileName().toString());\r\n\tSystem.out.println(pathToAFolderWithTrailingBackslash.getFileName().toString());\r\n}\r\n```\r\n\r\nThis outputs\r\n\r\n```lang-none\r\ntest_file.txt\r\nTestFolder\r\nTestFolder\r\n```","title":"Is there a better to get last element of an absolute path in java?","body":"<p>You can (and nowadays should) use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getFileName()\" rel=\"noreferrer\"><code>java.nio.file.Path.getFileName()</code></a>, which works like this for paths to files or directories (no matter if the <code>String</code> ends with a backslash or not):</p>\n\n<pre><code>public static void main(String[] args) {\n    String pathStringToAFile = \"U:\\\\temp\\\\TestOutput\\\\TestFolder\\\\test_file.txt\";\n    String pathStringToAFolder = \"U:\\\\temp\\\\TestOutput\\\\TestFolder\";\n    String pathStringToAFolderWithTrailingBackslash = \"U:\\\\temp\\\\TestOutput\\\\TestFolder\\\\\";\n\n    Path pathToAFile = Paths.get(pathStringToAFile);\n    Path pathToAFolder = Paths.get(pathStringToAFolder);\n    Path pathToAFolderWithTrailingBackslash \n                        = Paths.get(pathStringToAFolderWithTrailingBackslash);\n\n    System.out.println(pathToAFile.getFileName().toString());\n    System.out.println(pathToAFolder.getFileName().toString());\n    System.out.println(pathToAFolderWithTrailingBackslash.getFileName().toString());\n}\n</code></pre>\n\n<p>This outputs</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>test_file.txt\nTestFolder\nTestFolder\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":3,"creation_date":1658642641,"post_id":58970268,"comment_id":129099018,"body_markdown":"Don&#39;t use `&quot;\\&quot;` specifically.  Use `System.getProperty(&quot;file.separator&quot;)` instead.","body":"Don&#39;t use <code>&quot;\\&quot;</code> specifically.  Use <code>System.getProperty(&quot;file.separator&quot;)</code> instead."}],"tags":[],"owner":{"account_id":2383721,"reputation":66,"user_id":3685365,"display_name":"Kenneth S"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574324483,"creation_date":1574324483,"answer_id":58970268,"question_id":58970092,"body_markdown":"You could use String.split:\r\n```\r\n\r\n    String path = &quot;D:\\just\\a\\path&quot;;\r\n    String[] directories = path.split(&quot;\\&quot;);\r\n    String last = directories[directories.size-1];\r\n\r\n```","title":"Is there a better to get last element of an absolute path in java?","body":"<p>You could use String.split:</p>\n\n<pre><code>\n    String path = \"D:\\just\\a\\path\";\n    String[] directories = path.split(\"\\\");\n    String last = directories[directories.size-1];\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8539162,"reputation":554,"user_id":6399834,"display_name":"Fidel Gonzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681467790,"creation_date":1681467790,"answer_id":76014083,"question_id":58970092,"body_markdown":"Get last Directory of a path:\r\n\r\n`Paths.get(path).getParent().getFileName();`","title":"Is there a better to get last element of an absolute path in java?","body":"<p>Get last Directory of a path:</p>\n<p><code>Paths.get(path).getParent().getFileName();</code></p>\n"}],"owner":{"account_id":16149826,"reputation":599,"user_id":11658553,"display_name":"H&#249;ng Nguyễn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11039,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":58970195,"answer_count":4,"score":6,"last_activity_date":1681467790,"creation_date":1574323712,"question_id":58970092,"body_markdown":"I have many strings like this `D:\\just\\a\\path`, the string might differ in number of elements, maybe `C:\\just\\another\\longer\\path`. \r\n\r\nI want to get the last element `path`. \r\nI tried using `substring`:\r\n\r\n```Java\r\nmyString.substring(myString.lastIndexOf(&quot;/&quot;)+1)\r\n```\r\nand `Path`:\r\n\r\n```Java\r\nnameo1 = Paths.get(string).getName(Paths.get(string).getNameCount() -1); //-1 because of root\r\n```\r\n\r\nbut second method seems not to work with all operating system.\r\n\r\nMy question is: Is there any better, more elegant method to get exactly what I want?\r\n\r\nNOTE: the final element is a directory, a folder, not a file. So `new File(string).getName()` won&#39;t work and just return nothing.\r\n\r\nEdit: It was my bad. sometimes the string is empty so it return nothing. Cost me an hour working with it.\r\nEdit2: Some file paths contain white space, thus this method return an empty string\r\n\r\n","title":"Is there a better to get last element of an absolute path in java?","body":"<p>I have many strings like this <code>D:\\just\\a\\path</code>, the string might differ in number of elements, maybe <code>C:\\just\\another\\longer\\path</code>. </p>\n\n<p>I want to get the last element <code>path</code>. \nI tried using <code>substring</code>:</p>\n\n<pre><code>myString.substring(myString.lastIndexOf(\"/\")+1)\n</code></pre>\n\n<p>and <code>Path</code>:</p>\n\n<pre><code>nameo1 = Paths.get(string).getName(Paths.get(string).getNameCount() -1); //-1 because of root\n</code></pre>\n\n<p>but second method seems not to work with all operating system.</p>\n\n<p>My question is: Is there any better, more elegant method to get exactly what I want?</p>\n\n<p>NOTE: the final element is a directory, a folder, not a file. So <code>new File(string).getName()</code> won't work and just return nothing.</p>\n\n<p>Edit: It was my bad. sometimes the string is empty so it return nothing. Cost me an hour working with it.\nEdit2: Some file paths contain white space, thus this method return an empty string</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":28298893,"reputation":1,"user_id":21637896,"display_name":"Dracuire"},"score":0,"creation_date":1681467792,"post_id":76012329,"comment_id":134064775,"body_markdown":"Correct, I tried to dodge the problem with `MultiResourceItemReader` despite it was not designed for. I&#39;m a little bit afraid to create a custom reader (too specific or with bugs). So I feel more comfortable creating a job with multiple dynamic steps based on my configuration.","body":"Correct, I tried to dodge the problem with <code>MultiResourceItemReader</code> despite it was not designed for. I&#39;m a little bit afraid to create a custom reader (too specific or with bugs). So I feel more comfortable creating a job with multiple dynamic steps based on my configuration."},{"owner":{"account_id":28298893,"reputation":1,"user_id":21637896,"display_name":"Dracuire"},"score":0,"creation_date":1681468108,"post_id":76012329,"comment_id":134064851,"body_markdown":"I edited my question with a new solution. I know it&#39;s not related to the original question anymore, but would you, please, make me a feedback about it in a new response? Thank you","body":"I edited my question with a new solution. I know it&#39;s not related to the original question anymore, but would you, please, make me a feedback about it in a new response? Thank you"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1681678415,"post_id":76012329,"comment_id":134091322,"body_markdown":"`However I don&#39;t know if Spring provides a solution to &quot;recreate&quot; the Job without the usage of &quot;prototype&quot;,`: This can be done with `@StepScope`. Any bean with that scope will only be created lazily at runtime and can be dynamically configured with the value that changes from run to run.","body":"<code>However I don&#39;t know if Spring provides a solution to &quot;recreate&quot; the Job without the usage of &quot;prototype&quot;,</code>: This can be done with <code>@StepScope</code>. Any bean with that scope will only be created lazily at runtime and can be dynamically configured with the value that changes from run to run."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681455255,"creation_date":1681455255,"answer_id":76012329,"question_id":76010711,"body_markdown":"The `MultiResourceItemReader` is designed to read multiple file having the *same* structure. This is mentioned in the documentation here: [Multi-File Input](https://docs.spring.io/spring-batch/docs/current/reference/html/readersAndWriters.html#multiFileInput).\r\n\r\nIn your case, you are trying to use it to read files of different formats, which is the reason you are not able to achieve what you are looking for easily.\r\n\r\nIn my opinion, creating a custom reader would be a better option than trying to make that reader work for a case it was not designed for.","title":"How to create a dynamic DelimitedLineTokenizer from MultiResourceItemReader current resource?","body":"<p>The <code>MultiResourceItemReader</code> is designed to read multiple file having the <em>same</em> structure. This is mentioned in the documentation here: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/readersAndWriters.html#multiFileInput\" rel=\"nofollow noreferrer\">Multi-File Input</a>.</p>\n<p>In your case, you are trying to use it to read files of different formats, which is the reason you are not able to achieve what you are looking for easily.</p>\n<p>In my opinion, creating a custom reader would be a better option than trying to make that reader work for a case it was not designed for.</p>\n"}],"owner":{"account_id":28298893,"reputation":1,"user_id":21637896,"display_name":"Dracuire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681467774,"creation_date":1681431283,"question_id":76010711,"body_markdown":"I have a directory with different csv files.\r\n\r\n`data_1_status.csv` has 3 fields `ID`, `status1` and `status2` (no header). Blank status is also valid\r\n```\r\n2984,COMPLETED,COMPLETED\r\n2985,COMPLETED,COMPLETED\r\n2986,COMPLETED,FAILED\r\n2987,,\r\n```\r\n\r\n`data_2_status.csv` has 4 fields `ID`, `status1`, `status2` and `status3` (no header). Blank status is also valid\r\n```\r\n16658,COMPLETED,COMPLETED,COMPLETED\r\n16659,COMPLETED,COMPLETED,FAILED\r\n16660,COMPLETED,FAILED,FAILED\r\n16661,,,\r\n```\r\n\r\nFrom my database I know the number of statuses for `data_1` and `data_2` and I don&#39;t want to create a specific job/step for each `data_x` because I will add in database more `data_x` without developping more code.\r\n\r\n# I exclude\r\nI exclude usage of `delimitedLineTokenizer.setStrict(false)` with a list of fake fileds like:\r\n``` lang-java\r\ndelimitedLineTokenizer.setNames(&quot;id&quot;, &quot;steps[0]&quot;, &quot;steps[1]&quot;, &quot;steps[2]&quot;, &quot;steps[3]&quot;, &quot;steps[4]&quot;, &quot;steps[5]&quot;, &quot;steps[6]&quot;, &quot;steps[7]&quot;, &quot;steps[8]&quot;, &quot;steps[9]&quot;);\r\n```\r\nbecause the mapping must fail and throw a FlatFileParseException if I have a missing field or an excess field and I have to make the difference between a missing field and an empty field:\r\n```\r\n2984,COMPLETED,COMPLETED      -&gt; valid (3 fields)\r\n2984,COMPLETED,COMPLETED,     -&gt; FlatFileParseException (4 fields) excess\r\n2984,COMPLETED,               -&gt; valid (3 fields)\r\n2984,,                        -&gt; valid (3 fields)\r\n2984,COMPLETED                -&gt; FlatFileParseException (2 fields) missing\r\n```\r\n\r\n# How to improve?\r\nI find a way to do it but I am absolutely not satisfied. The deprecated `getCurrentResource()` is triggering me, is there any alternative?\r\n\r\nOf course `ResourceAware` can not be used because the item `StatusCsvLine` is not mapped yet.\r\n``` lang-java\r\n@StepScope\r\n@Bean(name = &quot;statusesItemReader&quot;)\r\nMultiResourceItemReader&lt;StatusCsvLine&gt; statusItemReader() throws IOException {\r\n    MultiResourceItemReader&lt;StatusInputCsvLine&gt; reader = new MultiResourceItemReader&lt;&gt;();\r\n    ResourcePatternResolver patternResolver = new PathMatchingResourcePatternResolver();\r\n    Resource[] resources = patternResolver.getResources(&quot;file:/tmp/statuses/*_status.csv&quot;);\r\n    reader.setStrict(false);\r\n    reader.setResources(resources);\r\n    // The UGLY part is here: reader.getCurrentResource() is deprecated but I have to push it\r\n    // and I have to force push it with a callable because getCurrentResource() must be called during a Step execution (not the during the Bean initialization)\r\n    FlatFileItemReader&lt;StatusInputCsvLine&gt; itemReader = statusFlatFileItemReader(() -&gt; reader.getCurrentResource().getFilename());\r\n    reader.setDelegate(itemReader);\r\n    return reader;\r\n}\r\n```\r\n\r\n``` lang-java\r\nFlatFileItemReader&lt;StatusCsvLine&gt; statusItemReader(Callable&lt;String&gt; resourceNameCallable) {\r\n    BeanWrapperFieldSetMapper&lt;StatusCsvLine&gt; beanWrapperFieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n    beanWrapperFieldSetMapper.setTargetType(StatusCsvLine.class);\r\n\r\n    DefaultLineMapper&lt;StatusCsvLine&gt; defaultLineMapper = new DefaultLineMapper&lt;StatusCsvLine&gt;() {\r\n        @Override\r\n        public StatusCsvLine mapLine(String line, int lineNumber) throws Exception {\r\n            String dataType = resourceNameCallable.call().replace(&quot;_status.csv&quot;, &quot;&quot;); // data_1 or data_2\r\n\r\n            \r\n            //  conf: {\r\n            //      dataType: &quot;data_1&quot;,\r\n            //      steps: [&quot;step_1&quot;, &quot;step_2&quot;]\r\n            //  },{\r\n            //      dataType: &quot;data_2&quot;,\r\n            //      steps: [&quot;step_1&quot;, &quot;step_2&quot;, &quot;step_3&quot;]\r\n            //  }\r\n            //\r\n            //  @Getter\r\n            //  @Setter\r\n            //  class ConfigData {\r\n            //      private String dataType;\r\n            //      private String[] steps;\r\n            //  }\r\n            \r\n            ConfigData conf = configDataRepository.findByName(dataType);\r\n\r\n\r\n            //\r\n            //  @Getter\r\n            //  @Setter\r\n            //  class StatusCsvLine {\r\n            //      private String id;\r\n            //      private String[] statusSteps;\r\n            //  }\r\n            //\r\n            //  I create the new tokenizer field names matching with StatusCsvLine class\r\n            \r\n            List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n            // I add the &quot;id&quot; field\r\n            names.add(&quot;id&quot;);\r\n            // I add the &quot;statusSteps[x]&quot; fields\r\n            for (int i = 0; i &lt; conf.status().length; i++) {\r\n                names.add(&quot;statusSteps[&quot; + i + &quot;]&quot;);\r\n            }\r\n\r\n            // I create a new tokenizer\r\n            DelimitedLineTokenizer delimitedLineTokenizer = new DelimitedLineTokenizer();\r\n            // I convert List&lt;String&gt; into String[]\r\n            delimitedLineTokenizer.setNames(names.toArray(new String[0])); // which creates delimitedLineTokenizer.setNames(&quot;id&quot;, &quot;statusSteps[0]&quot;, &quot;statusSteps[1]&quot;, &quot;statusSteps[2]&quot;)\r\n            delimitedLineTokenizer.setStrict(true);\r\n            \r\n            // I update the tokenizer in live\r\n            super.setLineTokenizer(delimitedLineTokenizer);\r\n            \r\n            // Then I call the mapper with its new custom tokenizer\r\n            return super.mapLine(line, lineNumber);\r\n        }\r\n    };\r\n    defaultLineMapper.setFieldSetMapper(beanWrapperFieldSetMapper);\r\n\r\n    return new FlatFileItemReaderBuilder&lt;StatusCsvLine&gt;()\r\n            .name(&quot;statusItemReader&quot;)\r\n            .lineMapper(defaultLineMapper)\r\n            .build();\r\n}\r\n```\r\n---\r\n## Edit 1: based on Mahmoud answer\r\nNo, the `MultiResourceItemReader` is not designed to manage different format. So I won&#39;t use it.\r\n\r\nI&#39;ve decided to create the steps dynamically based on the configuration. It means the Job must be recreated at each execution (right?). And it works as expected.\r\n\r\nI did it creating a &quot;prototype&quot; scope bean of my Job:\r\n``` lang-java\r\n@Bean(name = &quot;statusJob&quot;)\r\n@Scope(&quot;prototype&quot;)\r\nJob statusJob() {\r\n    SimpleJob statusJob = new SimpleJob(&quot;statusJob&quot;);\r\n    statusJob.setJobRepository(jobRepository);\r\n    statusJob.setSteps(statusJobSteps()); // Dynamic steps creation\r\n    return statusJob;\r\n}\r\n```\r\nAnd my scheduler takes a new instance of the job this way:\r\n``` lang-java\r\n@Scheduled(cron = &quot;${batch.scheduler.cron.status}&quot;)\r\npublic void statusJobScheduler() throws /*...*/ {\r\n    jobLauncher.run(context.getBean(&quot;statusJob&quot;, Job.class), new JobParametersBuilder()\r\n            .addLong(&quot;timestamp&quot;, System.currentTimeMillis())\r\n            .toJobParameters());\r\n}\r\n```\r\nAt this point I have a bit lack of knowledges and don&#39;t know if my solution is clean.\r\nI&#39;m more satisfied than my previous &quot;trick&quot;. However I don&#39;t know if Spring provides a solution to &quot;recreate&quot; the Job without the usage of &quot;prototype&quot;, or if I can remove &quot;obsolete&quot; steps and add new ones from the existing Job (depending on my configuration changes). Do you know if I can do it in a better way?","title":"How to create a dynamic DelimitedLineTokenizer from MultiResourceItemReader current resource?","body":"<p>I have a directory with different csv files.</p>\n<p><code>data_1_status.csv</code> has 3 fields <code>ID</code>, <code>status1</code> and <code>status2</code> (no header). Blank status is also valid</p>\n<pre><code>2984,COMPLETED,COMPLETED\n2985,COMPLETED,COMPLETED\n2986,COMPLETED,FAILED\n2987,,\n</code></pre>\n<p><code>data_2_status.csv</code> has 4 fields <code>ID</code>, <code>status1</code>, <code>status2</code> and <code>status3</code> (no header). Blank status is also valid</p>\n<pre><code>16658,COMPLETED,COMPLETED,COMPLETED\n16659,COMPLETED,COMPLETED,FAILED\n16660,COMPLETED,FAILED,FAILED\n16661,,,\n</code></pre>\n<p>From my database I know the number of statuses for <code>data_1</code> and <code>data_2</code> and I don't want to create a specific job/step for each <code>data_x</code> because I will add in database more <code>data_x</code> without developping more code.</p>\n<h1>I exclude</h1>\n<p>I exclude usage of <code>delimitedLineTokenizer.setStrict(false)</code> with a list of fake fileds like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>delimitedLineTokenizer.setNames(&quot;id&quot;, &quot;steps[0]&quot;, &quot;steps[1]&quot;, &quot;steps[2]&quot;, &quot;steps[3]&quot;, &quot;steps[4]&quot;, &quot;steps[5]&quot;, &quot;steps[6]&quot;, &quot;steps[7]&quot;, &quot;steps[8]&quot;, &quot;steps[9]&quot;);\n</code></pre>\n<p>because the mapping must fail and throw a FlatFileParseException if I have a missing field or an excess field and I have to make the difference between a missing field and an empty field:</p>\n<pre><code>2984,COMPLETED,COMPLETED      -&gt; valid (3 fields)\n2984,COMPLETED,COMPLETED,     -&gt; FlatFileParseException (4 fields) excess\n2984,COMPLETED,               -&gt; valid (3 fields)\n2984,,                        -&gt; valid (3 fields)\n2984,COMPLETED                -&gt; FlatFileParseException (2 fields) missing\n</code></pre>\n<h1>How to improve?</h1>\n<p>I find a way to do it but I am absolutely not satisfied. The deprecated <code>getCurrentResource()</code> is triggering me, is there any alternative?</p>\n<p>Of course <code>ResourceAware</code> can not be used because the item <code>StatusCsvLine</code> is not mapped yet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@StepScope\n@Bean(name = &quot;statusesItemReader&quot;)\nMultiResourceItemReader&lt;StatusCsvLine&gt; statusItemReader() throws IOException {\n    MultiResourceItemReader&lt;StatusInputCsvLine&gt; reader = new MultiResourceItemReader&lt;&gt;();\n    ResourcePatternResolver patternResolver = new PathMatchingResourcePatternResolver();\n    Resource[] resources = patternResolver.getResources(&quot;file:/tmp/statuses/*_status.csv&quot;);\n    reader.setStrict(false);\n    reader.setResources(resources);\n    // The UGLY part is here: reader.getCurrentResource() is deprecated but I have to push it\n    // and I have to force push it with a callable because getCurrentResource() must be called during a Step execution (not the during the Bean initialization)\n    FlatFileItemReader&lt;StatusInputCsvLine&gt; itemReader = statusFlatFileItemReader(() -&gt; reader.getCurrentResource().getFilename());\n    reader.setDelegate(itemReader);\n    return reader;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>FlatFileItemReader&lt;StatusCsvLine&gt; statusItemReader(Callable&lt;String&gt; resourceNameCallable) {\n    BeanWrapperFieldSetMapper&lt;StatusCsvLine&gt; beanWrapperFieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n    beanWrapperFieldSetMapper.setTargetType(StatusCsvLine.class);\n\n    DefaultLineMapper&lt;StatusCsvLine&gt; defaultLineMapper = new DefaultLineMapper&lt;StatusCsvLine&gt;() {\n        @Override\n        public StatusCsvLine mapLine(String line, int lineNumber) throws Exception {\n            String dataType = resourceNameCallable.call().replace(&quot;_status.csv&quot;, &quot;&quot;); // data_1 or data_2\n\n            \n            //  conf: {\n            //      dataType: &quot;data_1&quot;,\n            //      steps: [&quot;step_1&quot;, &quot;step_2&quot;]\n            //  },{\n            //      dataType: &quot;data_2&quot;,\n            //      steps: [&quot;step_1&quot;, &quot;step_2&quot;, &quot;step_3&quot;]\n            //  }\n            //\n            //  @Getter\n            //  @Setter\n            //  class ConfigData {\n            //      private String dataType;\n            //      private String[] steps;\n            //  }\n            \n            ConfigData conf = configDataRepository.findByName(dataType);\n\n\n            //\n            //  @Getter\n            //  @Setter\n            //  class StatusCsvLine {\n            //      private String id;\n            //      private String[] statusSteps;\n            //  }\n            //\n            //  I create the new tokenizer field names matching with StatusCsvLine class\n            \n            List&lt;String&gt; names = new ArrayList&lt;&gt;();\n            // I add the &quot;id&quot; field\n            names.add(&quot;id&quot;);\n            // I add the &quot;statusSteps[x]&quot; fields\n            for (int i = 0; i &lt; conf.status().length; i++) {\n                names.add(&quot;statusSteps[&quot; + i + &quot;]&quot;);\n            }\n\n            // I create a new tokenizer\n            DelimitedLineTokenizer delimitedLineTokenizer = new DelimitedLineTokenizer();\n            // I convert List&lt;String&gt; into String[]\n            delimitedLineTokenizer.setNames(names.toArray(new String[0])); // which creates delimitedLineTokenizer.setNames(&quot;id&quot;, &quot;statusSteps[0]&quot;, &quot;statusSteps[1]&quot;, &quot;statusSteps[2]&quot;)\n            delimitedLineTokenizer.setStrict(true);\n            \n            // I update the tokenizer in live\n            super.setLineTokenizer(delimitedLineTokenizer);\n            \n            // Then I call the mapper with its new custom tokenizer\n            return super.mapLine(line, lineNumber);\n        }\n    };\n    defaultLineMapper.setFieldSetMapper(beanWrapperFieldSetMapper);\n\n    return new FlatFileItemReaderBuilder&lt;StatusCsvLine&gt;()\n            .name(&quot;statusItemReader&quot;)\n            .lineMapper(defaultLineMapper)\n            .build();\n}\n</code></pre>\n<hr />\n<h2>Edit 1: based on Mahmoud answer</h2>\n<p>No, the <code>MultiResourceItemReader</code> is not designed to manage different format. So I won't use it.</p>\n<p>I've decided to create the steps dynamically based on the configuration. It means the Job must be recreated at each execution (right?). And it works as expected.</p>\n<p>I did it creating a &quot;prototype&quot; scope bean of my Job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;statusJob&quot;)\n@Scope(&quot;prototype&quot;)\nJob statusJob() {\n    SimpleJob statusJob = new SimpleJob(&quot;statusJob&quot;);\n    statusJob.setJobRepository(jobRepository);\n    statusJob.setSteps(statusJobSteps()); // Dynamic steps creation\n    return statusJob;\n}\n</code></pre>\n<p>And my scheduler takes a new instance of the job this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;${batch.scheduler.cron.status}&quot;)\npublic void statusJobScheduler() throws /*...*/ {\n    jobLauncher.run(context.getBean(&quot;statusJob&quot;, Job.class), new JobParametersBuilder()\n            .addLong(&quot;timestamp&quot;, System.currentTimeMillis())\n            .toJobParameters());\n}\n</code></pre>\n<p>At this point I have a bit lack of knowledges and don't know if my solution is clean.\nI'm more satisfied than my previous &quot;trick&quot;. However I don't know if Spring provides a solution to &quot;recreate&quot; the Job without the usage of &quot;prototype&quot;, or if I can remove &quot;obsolete&quot; steps and add new ones from the existing Job (depending on my configuration changes). Do you know if I can do it in a better way?</p>\n"},{"tags":["java","string","url"],"comments":[{"owner":{"account_id":10671711,"reputation":821,"user_id":7856586,"display_name":"Roman Soviak"},"score":0,"creation_date":1614865841,"post_id":4050087,"comment_id":117519859,"body_markdown":"The method `getLastPathSegment ` doesn&#39;t work with `:` in Android 6.0","body":"The method <code>getLastPathSegment </code> doesn&#39;t work with <code>:</code> in Android 6.0"}],"answers":[{"comments":[{"owner":{"account_id":102842,"reputation":1135,"user_id":275800,"accept_rate":80,"display_name":"pm_labs"},"score":58,"creation_date":1362370780,"post_id":4050114,"comment_id":21409332,"body_markdown":"I was searching for Android&#39;s android.net.Uri (not java.net.URI) and ended up here. If you&#39;re using that instead, there&#39;s a method there called getLastPathSegment() which should do the same thing. :)","body":"I was searching for Android&#39;s android.net.Uri (not java.net.URI) and ended up here. If you&#39;re using that instead, there&#39;s a method there called getLastPathSegment() which should do the same thing. :)"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":5,"creation_date":1430944629,"post_id":4050114,"comment_id":48287357,"body_markdown":"Just do `String idStr = new File(uri.getPath()).getName()`, same as this answer but uses `File` instead of `String` to split the path.","body":"Just do <code>String idStr = new File(uri.getPath()).getName()</code>, same as this answer but uses <code>File</code> instead of <code>String</code> to split the path."},{"owner":{"account_id":7137966,"reputation":699,"user_id":5456822,"display_name":"Vaibhav Kadam"},"score":0,"creation_date":1515540078,"post_id":4050114,"comment_id":83336339,"body_markdown":"this wont work for urls like http://example.com/job/senior-health-and-nutrition-advisor/?param=true. Last &quot;/&quot; is making trouble. Need something more good getLastPathSegment() answer given by @paul_sns  is perfect.","body":"this wont work for urls like <a href=\"http://example.com/job/senior-health-and-nutrition-advisor/?param=true\" rel=\"nofollow noreferrer\">example.com/job/senior-health-and-nutrition-advisor/?param=t&zwnj;&#8203;rue</a>. Last &quot;/&quot; is making trouble. Need something more good getLastPathSegment() answer given by @paul_sns  is perfect."},{"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"score":0,"creation_date":1515573205,"post_id":4050114,"comment_id":83345953,"body_markdown":"@VaibhavKadam well, technically you could argue that the last segment is an empty string. But if that&#39;s not what you want simply use: `while (path.endsWith(&quot;/&quot;)) path = path.substring(0, path.length() - 1);`","body":"@VaibhavKadam well, technically you could argue that the last segment is an empty string. But if that&#39;s not what you want simply use: <code>while (path.endsWith(&quot;&#47;&quot;)) path = path.substring(0, path.length() - 1);</code>"},{"owner":{"account_id":7137966,"reputation":699,"user_id":5456822,"display_name":"Vaibhav Kadam"},"score":0,"creation_date":1515666542,"post_id":4050114,"comment_id":83390646,"body_markdown":"@sfussenegger My bad I didn&#39;t read TAGs in question. I thought it has tag of android. Well +1 for android.net.uri. :). Android is taking over JAVA.","body":"@sfussenegger My bad I didn&#39;t read TAGs in question. I thought it has tag of android. Well +1 for android.net.uri. :). Android is taking over JAVA."},{"owner":{"account_id":12243278,"reputation":762,"user_id":10275600,"display_name":"Shtefan"},"score":0,"creation_date":1645404708,"post_id":4050114,"comment_id":125855599,"body_markdown":"Used it for SQS queue name extraction. The native implementation does not have simple method for it. It only returns queue URLs.","body":"Used it for SQS queue name extraction. The native implementation does not have simple method for it. It only returns queue URLs."}],"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"comment_count":6,"down_vote_count":0,"up_vote_count":215,"is_accepted":true,"score":215,"last_activity_date":1288340201,"creation_date":1288339862,"answer_id":4050114,"question_id":4050087,"body_markdown":"is that what you are looking for:\r\n\r\n    URI uri = new URI(&quot;http://example.com/foo/bar/42?param=true&quot;);\r\n    String path = uri.getPath();\r\n    String idStr = path.substring(path.lastIndexOf(&#39;/&#39;) + 1);\r\n    int id = Integer.parseInt(idStr);\r\n\r\nalternatively\r\n\r\n    URI uri = new URI(&quot;http://example.com/foo/bar/42?param=true&quot;);\r\n    String[] segments = uri.getPath().split(&quot;/&quot;);\r\n    String idStr = segments[segments.length-1];\r\n    int id = Integer.parseInt(idStr);","title":"How to obtain the last path segment of a URI","body":"<p>is that what you are looking for:</p>\n\n<pre><code>URI uri = new URI(\"http://example.com/foo/bar/42?param=true\");\nString path = uri.getPath();\nString idStr = path.substring(path.lastIndexOf('/') + 1);\nint id = Integer.parseInt(idStr);\n</code></pre>\n\n<p>alternatively</p>\n\n<pre><code>URI uri = new URI(\"http://example.com/foo/bar/42?param=true\");\nString[] segments = uri.getPath().split(\"/\");\nString idStr = segments[segments.length-1];\nint id = Integer.parseInt(idStr);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"score":2,"creation_date":1288340666,"post_id":4050142,"comment_id":4348998,"body_markdown":"won&#39;t work, see javadoc of getFile(): Gets the file name of this URL. The returned file portion will be the same as getPath(), plus the concatenation of the value of getQuery(), if any. If there is no query portion, this method and getPath() will return identical results.)","body":"won&#39;t work, see javadoc of getFile(): Gets the file name of this URL. The returned file portion will be the same as getPath(), plus the concatenation of the value of getQuery(), if any. If there is no query portion, this method and getPath() will return identical results.)"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1430944670,"post_id":4050142,"comment_id":48287383,"body_markdown":"Use `getPath()` not `getFile()`.","body":"Use <code>getPath()</code> not <code>getFile()</code>."}],"tags":[],"owner":{"account_id":82522,"reputation":954,"user_id":231961,"accept_rate":64,"display_name":"Nageswara Rao"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1378901460,"creation_date":1288340234,"answer_id":4050142,"question_id":4050087,"body_markdown":"Get URL from URI and use getFile() if you are not ready to use substring way of extracting file.","title":"How to obtain the last path segment of a URI","body":"<p>Get URL from URI and use getFile() if you are not ready to use substring way of extracting file.</p>\n"},{"comments":[{"owner":{"account_id":216105,"reputation":869,"user_id":471133,"accept_rate":80,"display_name":"Bill Turner"},"score":0,"creation_date":1465335885,"post_id":4050276,"comment_id":62856528,"body_markdown":"while i am a big fan of regex and use it frequently myself, i recognize that for most developers, regex is about as obtuse as it gets. it is not simpler in the fact that it is not quickly understood.","body":"while i am a big fan of regex and use it frequently myself, i recognize that for most developers, regex is about as obtuse as it gets. it is not simpler in the fact that it is not quickly understood."},{"owner":{"account_id":2541359,"reputation":6751,"user_id":2521769,"accept_rate":73,"display_name":"Stefan van den Akker"},"score":0,"creation_date":1495870433,"post_id":4050276,"comment_id":75439956,"body_markdown":"The `/` in the negated character class `[^/?]` is unnecessary, because it will never be matched. `.*/` will always match the **last** `/` in the String, so no other `/` should be encountered.","body":"The <code>&#47;</code> in the negated character class <code>[^&#47;?]</code> is unnecessary, because it will never be matched. <code>.*&#47;</code> will always match the <b>last</b> <code>&#47;</code> in the String, so no other <code>&#47;</code> should be encountered."},{"owner":{"account_id":5448895,"reputation":845,"user_id":4334399,"accept_rate":11,"display_name":"Gray"},"score":1,"creation_date":1496419632,"post_id":4050276,"comment_id":75670162,"body_markdown":"doesn&#39;t work for this kind of link ``http://example.com/foo#reply2``, It will be great if you could update your answer to solve it. Thanks","body":"doesn&#39;t work for this kind of link <code>http:&#47;&#47;example.com&#47;foo#reply2</code>, It will be great if you could update your answer to solve it. Thanks"},{"owner":{"account_id":7503774,"reputation":51,"user_id":5707557,"display_name":"Ronald Wolvers"},"score":0,"creation_date":1603466603,"post_id":4050276,"comment_id":114055502,"body_markdown":"@Seth I have just tried this myself; if you update the regular expression to ```([^#/?]+)``` instead of ```([^/?]+)``` that should work.","body":"@Seth I have just tried this myself; if you update the regular expression to <code>([^#&#47;?]+)</code> instead of <code>([^&#47;?]+)</code> that should work."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":4,"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1495958160,"creation_date":1288341486,"answer_id":4050276,"question_id":4050087,"body_markdown":"Here&#39;s a short method to do it:\r\n\r\n    public static String getLastBitFromUrl(final String url){\r\n        // return url.replaceFirst(&quot;[^?]*/(.*?)(?:\\\\?.*)&quot;,&quot;$1);&quot; &lt;-- incorrect\r\n        return url.replaceFirst(&quot;.*/([^/?]+).*&quot;, &quot;$1&quot;);\r\n    }\r\n\r\nTest Code:\r\n\r\n    public static void main(final String[] args){\r\n        System.out.println(getLastBitFromUrl(\r\n            &quot;http://example.com/foo/bar/42?param=true&quot;));\r\n        System.out.println(getLastBitFromUrl(&quot;http://example.com/foo&quot;));\r\n        System.out.println(getLastBitFromUrl(&quot;http://example.com/bar/&quot;));\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; 42  \r\n&gt; foo  \r\n&gt; bar\r\n\r\n\r\nExplanation:\r\n\r\n    .*/      // find anything up to the last / character\r\n    ([^/?]+) // find (and capture) all following characters up to the next / or ?\r\n             // the + makes sure that at least 1 character is matched\r\n    .*       // find all following characters\r\n    \r\n    \r\n    $1       // this variable references the saved second group from above\r\n             // I.e. the entire string is replaces with just the portion\r\n             // captured by the parentheses above","title":"How to obtain the last path segment of a URI","body":"<p>Here's a short method to do it:</p>\n\n<pre><code>public static String getLastBitFromUrl(final String url){\n    // return url.replaceFirst(\"[^?]*/(.*?)(?:\\\\?.*)\",\"$1);\" &lt;-- incorrect\n    return url.replaceFirst(\".*/([^/?]+).*\", \"$1\");\n}\n</code></pre>\n\n<p>Test Code:</p>\n\n<pre><code>public static void main(final String[] args){\n    System.out.println(getLastBitFromUrl(\n        \"http://example.com/foo/bar/42?param=true\"));\n    System.out.println(getLastBitFromUrl(\"http://example.com/foo\"));\n    System.out.println(getLastBitFromUrl(\"http://example.com/bar/\"));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>42<br>\n  foo<br>\n  bar</p>\n</blockquote>\n\n<p>Explanation:</p>\n\n<pre><code>.*/      // find anything up to the last / character\n([^/?]+) // find (and capture) all following characters up to the next / or ?\n         // the + makes sure that at least 1 character is matched\n.*       // find all following characters\n\n\n$1       // this variable references the saved second group from above\n         // I.e. the entire string is replaces with just the portion\n         // captured by the parentheses above\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1492494,"reputation":365,"user_id":1399252,"accept_rate":35,"display_name":"Michael Geiser"},"score":2,"creation_date":1430834937,"post_id":28606476,"comment_id":48225189,"body_markdown":"Is this &quot;android.net.Uri&quot;?  Base don the tags of the question, java.net.URI would be assumed and it doesn&#39;t have a getLastPathSegment()...","body":"Is this &quot;android.net.Uri&quot;?  Base don the tags of the question, java.net.URI would be assumed and it doesn&#39;t have a getLastPathSegment()..."},{"owner":{"account_id":351066,"reputation":13984,"user_id":687315,"accept_rate":69,"display_name":"quietmint"},"score":0,"creation_date":1431621274,"post_id":28606476,"comment_id":48586236,"body_markdown":"Also, the Android `Uri` class name is lowercase and cannot be instantiated. I&#39;ve corrected your answer to use the static factory method `Uri.parse()`.","body":"Also, the Android <code>Uri</code> class name is lowercase and cannot be instantiated. I&#39;ve corrected your answer to use the static factory method <code>Uri.parse()</code>."},{"owner":{"account_id":456974,"reputation":2065,"user_id":856007,"accept_rate":86,"display_name":"Abdullah Shoaib"},"score":0,"creation_date":1440655308,"post_id":28606476,"comment_id":52364789,"body_markdown":"GetLastPathSegment doesn&#39;t exists here.","body":"GetLastPathSegment doesn&#39;t exists here."},{"owner":{"account_id":8304088,"reputation":473,"user_id":8858220,"display_name":"Junia Montana"},"score":2,"creation_date":1542853290,"post_id":28606476,"comment_id":93720462,"body_markdown":"it does have getLastPathSegment() but it doesn&#39;t work! returns null!","body":"it does have getLastPathSegment() but it doesn&#39;t work! returns null!"},{"owner":{"account_id":1606584,"reputation":1229,"user_id":1486574,"accept_rate":89,"display_name":"MobDev"},"score":0,"creation_date":1592857230,"post_id":28606476,"comment_id":110570327,"body_markdown":"Seems like getLastPathSegment() randomly spits out the full path for me.","body":"Seems like getLastPathSegment() randomly spits out the full path for me."},{"owner":{"account_id":980790,"reputation":8154,"user_id":1000551,"display_name":"Vadim Kotov"},"score":0,"creation_date":1603980992,"post_id":28606476,"comment_id":114212227,"body_markdown":"@MobDev Can you provide any examples?","body":"@MobDev Can you provide any examples?"}],"tags":[],"owner":{"account_id":5759626,"reputation":1756,"user_id":4546442,"accept_rate":11,"display_name":"Colateral"},"comment_count":6,"down_vote_count":4,"up_vote_count":86,"is_accepted":false,"score":82,"last_activity_date":1431621184,"creation_date":1424349002,"answer_id":28606476,"question_id":4050087,"body_markdown":"    import android.net.Uri;\r\n    Uri uri = Uri.parse(&quot;http://example.com/foo/bar/42?param=true&quot;);\r\n    String token = uri.getLastPathSegment();","title":"How to obtain the last path segment of a URI","body":"<pre><code>import android.net.Uri;\nUri uri = Uri.parse(\"http://example.com/foo/bar/42?param=true\");\nString token = uri.getLastPathSegment();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1526914164,"post_id":30087084,"comment_id":87915825,"body_markdown":"Does it work with all possible options of a URL, like `a.co/last?a=1#frag`. I think not, as the code does substring of the last path symbol until the end: `path.substring(index + 1)`.","body":"Does it work with all possible options of a URL, like <code>a.co&#47;last?a=1#frag</code>. I think not, as the code does substring of the last path symbol until the end: <code>path.substring(index + 1)</code>."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":4,"creation_date":1529312604,"post_id":30087084,"comment_id":88811694,"body_markdown":"@alik The question asks for the last path segment. The query and fragment are not part of the path segment.","body":"@alik The question asks for the last path segment. The query and fragment are not part of the path segment."}],"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"comment_count":2,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1430944751,"creation_date":1430944751,"answer_id":30087084,"question_id":4050087,"body_markdown":"I know this is old, but the solutions here seem rather verbose. Just an easily readable one-liner if you have a `URL` or `URI`:\r\n\r\n    String filename = new File(url.getPath()).getName();\r\n\r\nOr if you have a `String`:\r\n\r\n    String filename = new File(new URL(url).getPath()).getName();\r\n","title":"How to obtain the last path segment of a URI","body":"<p>I know this is old, but the solutions here seem rather verbose. Just an easily readable one-liner if you have a <code>URL</code> or <code>URI</code>:</p>\n\n<pre><code>String filename = new File(url.getPath()).getName();\n</code></pre>\n\n<p>Or if you have a <code>String</code>:</p>\n\n<pre><code>String filename = new File(new URL(url).getPath()).getName();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7164076,"reputation":9426,"user_id":5473824,"display_name":"Adrian Baker"},"score":10,"creation_date":1485462962,"post_id":38782027,"comment_id":70947134,"body_markdown":"Risky because java.nio.file.Paths#get depends on OS filesystem the JVM is running on. There&#39;s no guarantee it will recognise a URI with forward slashes as path separators.","body":"Risky because java.nio.file.Paths#get depends on OS filesystem the JVM is running on. There&#39;s no guarantee it will recognise a URI with forward slashes as path separators."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":3,"creation_date":1512283856,"post_id":38782027,"comment_id":82190295,"body_markdown":"What about URI with query params? Treating a random URI as a file system path is asking for an exception.","body":"What about URI with query params? Treating a random URI as a file system path is asking for an exception."}],"tags":[],"owner":{"account_id":2760668,"reputation":2685,"user_id":2377639,"display_name":"Will Humphreys"},"comment_count":2,"down_vote_count":3,"up_vote_count":19,"is_accepted":false,"score":16,"last_activity_date":1491319167,"creation_date":1470376418,"answer_id":38782027,"question_id":4050087,"body_markdown":"If you are using Java 8 and you want the last segment in a file path you can do.\r\n \r\n\r\n    Path path = Paths.get(&quot;example/path/to/file&quot;);\r\n    String lastSegment = path.getFileName().toString();\r\n\r\nIf you have a url such as `http://base_path/some_segment/id` you can do.\r\n\r\n    final Path urlPath = Paths.get(&quot;http://base_path/some_segment/id&quot;);\r\n    final Path lastSegment = urlPath.getName(urlPath.getNameCount() - 1);\r\n\r\n","title":"How to obtain the last path segment of a URI","body":"<p>If you are using Java 8 and you want the last segment in a file path you can do.</p>\n\n<pre><code>Path path = Paths.get(\"example/path/to/file\");\nString lastSegment = path.getFileName().toString();\n</code></pre>\n\n<p>If you have a url such as <code>http://base_path/some_segment/id</code> you can do.</p>\n\n<pre><code>final Path urlPath = Paths.get(\"http://base_path/some_segment/id\");\nfinal Path lastSegment = urlPath.getName(urlPath.getNameCount() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1967545,"reputation":5365,"user_id":1767366,"accept_rate":90,"display_name":"Bnrdo"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1478141029,"creation_date":1478141029,"answer_id":40393024,"question_id":4050087,"body_markdown":"If you have `commons-io` included in your project, you can do it without creating unecessary objects with `org.apache.commons.io.FilenameUtils`\r\n\r\n    String uri = &quot;http://base_path/some_segment/id&quot;;\r\n    String fileName = FilenameUtils.getName(uri);\r\n    System.out.println(fileName);\r\n\r\nWill give you the last part of the path, which is the `id`","title":"How to obtain the last path segment of a URI","body":"<p>If you have <code>commons-io</code> included in your project, you can do it without creating unecessary objects with <code>org.apache.commons.io.FilenameUtils</code></p>\n\n<pre><code>String uri = \"http://base_path/some_segment/id\";\nString fileName = FilenameUtils.getName(uri);\nSystem.out.println(fileName);\n</code></pre>\n\n<p>Will give you the last part of the path, which is the <code>id</code></p>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1481641711,"creation_date":1481641405,"answer_id":41124273,"question_id":4050087,"body_markdown":"In Java 7+ a few of the previous answers can be combined to allow retrieval of _any_ path segment from a URI, rather than just the last segment. We can convert the URI to a [`java.nio.file.Path`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html) object, to take advantage of its [`getName(int)`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getName(int)) method.\r\n\r\nUnfortunately, the static factory `Paths.get(uri)` is not built to handle the http scheme, so we first need to separate the scheme from the URI&#39;s path.\r\n\r\n    URI uri = URI.create(&quot;http://base_path/some_segment/id&quot;);\r\n    Path path = Paths.get(uri.getPath());\r\n    String last = path.getFileName().toString();\r\n    String secondToLast = path.getName(path.getNameCount() - 2).toString();\r\n\r\nTo get the last segment in one line of code, simply nest the lines above.\r\n\r\n`Paths.get(URI.create(&quot;http://base_path/some_segment/id&quot;).getPath()).getFileName().toString()`\r\n\r\nTo get the second-to-last segment while avoiding index numbers and the potential for off-by-one errors, use the [`getParent()`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getParent()) method.\r\n\r\n`String secondToLast = path.getParent().getFileName().toString();`\r\n\r\nNote the `getParent()` method can be called repeatedly to retrieve segments in reverse order. In this example, the path only contains two segments, otherwise calling `getParent().getParent()` would retrieve the third-to-last segment.","title":"How to obtain the last path segment of a URI","body":"<p>In Java 7+ a few of the previous answers can be combined to allow retrieval of <em>any</em> path segment from a URI, rather than just the last segment. We can convert the URI to a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"noreferrer\"><code>java.nio.file.Path</code></a> object, to take advantage of its <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getName(int)\" rel=\"noreferrer\"><code>getName(int)</code></a> method.</p>\n\n<p>Unfortunately, the static factory <code>Paths.get(uri)</code> is not built to handle the http scheme, so we first need to separate the scheme from the URI's path.</p>\n\n<pre><code>URI uri = URI.create(\"http://base_path/some_segment/id\");\nPath path = Paths.get(uri.getPath());\nString last = path.getFileName().toString();\nString secondToLast = path.getName(path.getNameCount() - 2).toString();\n</code></pre>\n\n<p>To get the last segment in one line of code, simply nest the lines above.</p>\n\n<p><code>Paths.get(URI.create(\"http://base_path/some_segment/id\").getPath()).getFileName().toString()</code></p>\n\n<p>To get the second-to-last segment while avoiding index numbers and the potential for off-by-one errors, use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getParent()\" rel=\"noreferrer\"><code>getParent()</code></a> method.</p>\n\n<p><code>String secondToLast = path.getParent().getFileName().toString();</code></p>\n\n<p>Note the <code>getParent()</code> method can be called repeatedly to retrieve segments in reverse order. In this example, the path only contains two segments, otherwise calling <code>getParent().getParent()</code> would retrieve the third-to-last segment.</p>\n"},{"tags":[],"owner":{"account_id":2109488,"reputation":1526,"user_id":1875049,"accept_rate":100,"display_name":"Sina Masnadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674080306,"creation_date":1501866851,"answer_id":45512281,"question_id":4050087,"body_markdown":"You can use `getPathSegments()` function. ([Android Documentation][1])\r\n\r\nConsider your example URI:\r\n\r\n    String uri = &quot;http://base_path/some_segment/id&quot;\r\n\r\nYou can get the last segment using:\r\n\r\n    List&lt;String&gt; pathSegments = uri.getPathSegments();\r\n    String lastSegment = pathSegments.get(pathSegments.size() - 1);\r\n\r\n`lastSegment` will be `id`.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/net/Uri.html#getPathSegments()","title":"How to obtain the last path segment of a URI","body":"<p>You can use <code>getPathSegments()</code> function. (<a href=\"https://developer.android.com/reference/android/net/Uri.html#getPathSegments()\" rel=\"nofollow noreferrer\">Android Documentation</a>)</p>\n<p>Consider your example URI:</p>\n<pre><code>String uri = &quot;http://base_path/some_segment/id&quot;\n</code></pre>\n<p>You can get the last segment using:</p>\n<pre><code>List&lt;String&gt; pathSegments = uri.getPathSegments();\nString lastSegment = pathSegments.get(pathSegments.size() - 1);\n</code></pre>\n<p><code>lastSegment</code> will be <code>id</code>.</p>\n"},{"comments":[{"owner":{"account_id":1606584,"reputation":1229,"user_id":1486574,"accept_rate":89,"display_name":"MobDev"},"score":0,"creation_date":1592857352,"post_id":49073032,"comment_id":110570373,"body_markdown":"Sometimes this just spits out the full path. Not sure why or when it seems to be random.","body":"Sometimes this just spits out the full path. Not sure why or when it seems to be random."},{"owner":{"account_id":114118,"reputation":4732,"user_id":300236,"accept_rate":67,"display_name":"Brill Pappin"},"score":0,"creation_date":1592871321,"post_id":49073032,"comment_id":110574366,"body_markdown":"If you can catch the content it&#39;s parsing, maybe you can set up a unit test to make sure.","body":"If you can catch the content it&#39;s parsing, maybe you can set up a unit test to make sure."}],"tags":[],"owner":{"account_id":114118,"reputation":4732,"user_id":300236,"accept_rate":67,"display_name":"Brill Pappin"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1520007108,"creation_date":1520007108,"answer_id":49073032,"question_id":4050087,"body_markdown":"**In Android**\r\n\r\nAndroid has a built in class for managing URIs.\r\n\r\n    Uri uri = Uri.parse(&quot;http://base_path/some_segment/id&quot;);\r\n    String lastPathSegment = uri.getLastPathSegment()","title":"How to obtain the last path segment of a URI","body":"<p><strong>In Android</strong></p>\n\n<p>Android has a built in class for managing URIs.</p>\n\n<pre><code>Uri uri = Uri.parse(\"http://base_path/some_segment/id\");\nString lastPathSegment = uri.getLastPathSegment()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541759179,"creation_date":1541759179,"answer_id":53223940,"question_id":4050087,"body_markdown":"I&#39;m using the following in a utility class:\r\n\r\n\tpublic static String lastNUriPathPartsOf(final String uri, final int n, final String... ellipsis)\r\n\t  throws URISyntaxException {\r\n\t\treturn lastNUriPathPartsOf(new URI(uri), n, ellipsis);\r\n\t}\r\n\r\n\tpublic static String lastNUriPathPartsOf(final URI uri, final int n, final String... ellipsis) {\r\n\t\treturn uri.toString().contains(&quot;/&quot;)\r\n\t\t    ? (ellipsis.length == 0 ? &quot;...&quot; : ellipsis[0])\r\n\t\t\t  + uri.toString().substring(StringUtils.lastOrdinalIndexOf(uri.toString(), &quot;/&quot;, n))\r\n\t\t    : uri.toString();\r\n\t}","title":"How to obtain the last path segment of a URI","body":"<p>I'm using the following in a utility class:</p>\n\n<pre><code>public static String lastNUriPathPartsOf(final String uri, final int n, final String... ellipsis)\n  throws URISyntaxException {\n    return lastNUriPathPartsOf(new URI(uri), n, ellipsis);\n}\n\npublic static String lastNUriPathPartsOf(final URI uri, final int n, final String... ellipsis) {\n    return uri.toString().contains(\"/\")\n        ? (ellipsis.length == 0 ? \"...\" : ellipsis[0])\n          + uri.toString().substring(StringUtils.lastOrdinalIndexOf(uri.toString(), \"/\", n))\n        : uri.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1585703165,"creation_date":1585703165,"answer_id":60962175,"question_id":4050087,"body_markdown":"You can also use replaceAll:\r\n\r\n    String uri = &quot;http://base_path/some_segment/id&quot;\r\n    String lastSegment = uri.replaceAll(&quot;.*/&quot;, &quot;&quot;)\r\n\r\n    System.out.println(lastSegment);\r\nresult:\r\n\r\n    id","title":"How to obtain the last path segment of a URI","body":"<p>You can also use replaceAll:</p>\n\n<pre><code>String uri = \"http://base_path/some_segment/id\"\nString lastSegment = uri.replaceAll(\".*/\", \"\")\n\nSystem.out.println(lastSegment);\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>id\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20837222,"reputation":3801,"user_id":15304803,"display_name":"balu k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640066025,"creation_date":1640066025,"answer_id":70431182,"question_id":4050087,"body_markdown":"you can get list of path segments from the Uri class\r\n\r\n    String id = Uri.tryParse(&quot;http://base_path/some_segment/id&quot;)?.pathSegments.last ?? &quot;InValid URL&quot;;\r\n\r\nIt will return id if the url is valid, if it is invalid it returns &quot;Invalid url&quot;","title":"How to obtain the last path segment of a URI","body":"<p>you can get list of path segments from the Uri class</p>\n<pre><code>String id = Uri.tryParse(&quot;http://base_path/some_segment/id&quot;)?.pathSegments.last ?? &quot;InValid URL&quot;;\n</code></pre>\n<p>It will return id if the url is valid, if it is invalid it returns &quot;Invalid url&quot;</p>\n"},{"tags":[],"owner":{"account_id":8539162,"reputation":554,"user_id":6399834,"display_name":"Fidel Gonzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681467729,"creation_date":1681467729,"answer_id":76014069,"question_id":4050087,"body_markdown":"If you want to get the last DIR path segment:\r\n\r\n    Paths.get(path).getParent().getFileName();","title":"How to obtain the last path segment of a URI","body":"<p>If you want to get the last DIR path segment:</p>\n<pre><code>Paths.get(path).getParent().getFileName();\n</code></pre>\n"}],"owner":{"account_id":225696,"reputation":1593,"user_id":486319,"accept_rate":88,"display_name":"DX89B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182675,"favorite_count":0,"down_vote_count":1,"up_vote_count":141,"accepted_answer_id":4050114,"answer_count":14,"score":140,"last_activity_date":1681467729,"creation_date":1288339527,"question_id":4050087,"body_markdown":"I have as input a string that is a `URI`. how is it possible to get the last path segment (that in my case is an id)?\r\n\r\nThis is my input URL: \r\n\r\n    String uri = &quot;http://base_path/some_segment/id&quot;\r\n\r\nand I have to obtain the id I have tried with this:\r\n\r\n    String strId = &quot;http://base_path/some_segment/id&quot;;\r\n    strId = strId.replace(path);\r\n\tstrId = strId.replaceAll(&quot;/&quot;, &quot;&quot;);\r\n\tInteger id =  new Integer(strId);\r\n\treturn id.intValue();\r\n\r\n\r\nbut it doesn&#39;t work, and surely there must be a better way to do it.","title":"How to obtain the last path segment of a URI","body":"<p>I have as input a string that is a <code>URI</code>. how is it possible to get the last path segment (that in my case is an id)?</p>\n<p>This is my input URL:</p>\n<pre><code>String uri = &quot;http://base_path/some_segment/id&quot;\n</code></pre>\n<p>and I have to obtain the id I have tried with this:</p>\n<pre><code>String strId = &quot;http://base_path/some_segment/id&quot;;\nstrId = strId.replace(path);\nstrId = strId.replaceAll(&quot;/&quot;, &quot;&quot;);\nInteger id =  new Integer(strId);\nreturn id.intValue();\n</code></pre>\n<p>but it doesn't work, and surely there must be a better way to do it.</p>\n"},{"tags":["java","api","usb","jusb"],"answers":[{"tags":[],"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1233278452,"creation_date":1233278117,"answer_id":494148,"question_id":444497,"body_markdown":"&gt; I would like two java programs to communicate directly over the USB without going through a device or cable\r\n\r\nHuh? USB connects a device to a host via a cable.\r\n\r\nedit: If I had to quickly use two Java programs to communicate, one on a device and one on a host, I would almost certainly use the USB link (configured that way outside of the scope of Java) to act as a serial stream and use a serial library like [rxtx][1].\r\n\r\n\r\n  [1]: http://rxtx.org/","title":"Using Java and USB: Which API to use? jsr-80, jusb, ...?","body":"<blockquote>\n  <p>I would like two java programs to communicate directly over the USB without going through a device or cable</p>\n</blockquote>\n\n<p>Huh? USB connects a device to a host via a cable.</p>\n\n<p>edit: If I had to quickly use two Java programs to communicate, one on a device and one on a host, I would almost certainly use the USB link (configured that way outside of the scope of Java) to act as a serial stream and use a serial library like <a href=\"http://rxtx.org/\" rel=\"nofollow noreferrer\">rxtx</a>.</p>\n"},{"tags":[],"owner":{"account_id":24655,"reputation":12535,"user_id":62848,"display_name":"Faisal Feroz"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1239729146,"creation_date":1239729146,"answer_id":748530,"question_id":444497,"body_markdown":"Well both of these implementations have their limitations specially on windows. They both lack support for Bulk Transfer on windows. \r\n\r\nThere is a commercial library JCommUSB available at www.icaste.com\r\n","title":"Using Java and USB: Which API to use? jsr-80, jusb, ...?","body":"<p>Well both of these implementations have their limitations specially on windows. They both lack support for Bulk Transfer on windows. </p>\n\n<p>There is a commercial library JCommUSB available at www.icaste.com</p>\n"}],"owner":{"account_id":17315,"reputation":15891,"user_id":38663,"accept_rate":27,"display_name":"jbu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5691,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1681488928,"answer_count":2,"score":1,"last_activity_date":1681467462,"creation_date":1231964086,"question_id":444497,"body_markdown":"I would like two Java programs to communicate directly over USB without going through a device or cable.  Don&#39;t ask me why, I don&#39;t know the details or reasoning behind this decision.\r\n\r\nI have found jusb and jsr-80 to be two Java/USB APIs to do this.  They work on Linux and Windows - I will need capabilities on both.\r\n\r\nWhich is more standard and accepted?  Which is more stable?  Which is easier for my task?  Are there other standard or common Java/USB APIs out there?\r\n\r\nI&#39;d like to hear your guys&#39; experiences with these or other Java/USB APIs.\r\n","title":"Using Java and USB: Which API to use? jsr-80, jusb, ...?","body":"<p>I would like two Java programs to communicate directly over USB without going through a device or cable.  Don't ask me why, I don't know the details or reasoning behind this decision.</p>\n<p>I have found jusb and jsr-80 to be two Java/USB APIs to do this.  They work on Linux and Windows - I will need capabilities on both.</p>\n<p>Which is more standard and accepted?  Which is more stable?  Which is easier for my task?  Are there other standard or common Java/USB APIs out there?</p>\n<p>I'd like to hear your guys' experiences with these or other Java/USB APIs.</p>\n"},{"tags":["java","linux","snmp","snmp4j","snmpd"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1679285209,"post_id":75753402,"comment_id":133687760,"body_markdown":"The description is still vague. So, the actual clients are there wanting your Java project to collect data from different sources for them? Do they want zero data loss? Do they want real time notifications on new data? There are far too many options if your requirements are clearer. But again, Stack Overflow is for specific questions. To learn how to design a system, https://softwareengineering.stackexchange.com/ might be a better place.","body":"The description is still vague. So, the actual clients are there wanting your Java project to collect data from different sources for them? Do they want zero data loss? Do they want real time notifications on new data? There are far too many options if your requirements are clearer. But again, Stack Overflow is for specific questions. To learn how to design a system, <a href=\"https://softwareengineering.stackexchange.com/\">softwareengineering.stackexchange.com</a> might be a better place."}],"answers":[{"tags":[],"owner":{"account_id":5979896,"reputation":6476,"user_id":4699340,"display_name":"Andrew Komiagin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681467448,"creation_date":1681467448,"answer_id":76014028,"question_id":75753402,"body_markdown":"The most simple way to implement this functionality is to send SNMP TRAPs or notifications like INFORMs. INFORMs are acknowledged. In this case you wont need to implement complete SNMP agent functionality. Basically, all you need to do is utilize SNMP4J library. There are examples on how to send TRAPv1, TRAPv2 and INFORM.","title":"Linux snmpd or new Java SNMP agent","body":"<p>The most simple way to implement this functionality is to send SNMP TRAPs or notifications like INFORMs. INFORMs are acknowledged. In this case you wont need to implement complete SNMP agent functionality. Basically, all you need to do is utilize SNMP4J library. There are examples on how to send TRAPv1, TRAPv2 and INFORM.</p>\n"}],"owner":{"account_id":1131366,"reputation":652,"user_id":1117362,"accept_rate":21,"display_name":"nihasmata"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681467448,"creation_date":1678953306,"question_id":75753402,"body_markdown":"I work on a Java project which collects various data from different sources. My aim is to send those collected data over SNMP to the requested clients. I don&#39;t know which way I should follow. Can I use snmpd in Linux for this purpose? If so, how to transfer my Java data to snmpd? Or should I write a new Java SNMP agent? My development and target environment is Linux Centos 8 Stream. \r\n\r\n","title":"Linux snmpd or new Java SNMP agent","body":"<p>I work on a Java project which collects various data from different sources. My aim is to send those collected data over SNMP to the requested clients. I don't know which way I should follow. Can I use snmpd in Linux for this purpose? If so, how to transfer my Java data to snmpd? Or should I write a new Java SNMP agent? My development and target environment is Linux Centos 8 Stream.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1681154221,"post_id":75978757,"comment_id":134007754,"body_markdown":"Where is `MyAdapter` defined?","body":"Where is <code>MyAdapter</code> defined?"}],"owner":{"account_id":19837176,"reputation":16,"user_id":14530602,"display_name":"Shehan Wijerathne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681467274,"creation_date":1681143322,"question_id":75978757,"body_markdown":"I am trying to create a recycler view and custom adapter to list up array list in recycler view. When I defined a custom adapter `public class NoteDashboardAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;` (MyAdapter) property it shows in red and solutions says create subclass. How do I overcome with this. \r\n\r\n```java\r\npackage com.example.myapplication;\r\n\r\nimport android.content.Context;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class NoteDashboardAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n    private Context context;\r\n    private ArrayList title, date, location;\r\n\r\n    public NoteDashboardAdapter(Context context, ArrayList title, ArrayList date, ArrayList location) {\r\n        this.context = context;\r\n        this.title = title;\r\n        this.date = date;\r\n        this.location = location;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 0;\r\n    }\r\n}\r\n```\r\n\r\nI am trying to make a list of cardview of my notes dashboard.","title":"Android studio RecyclerView.Adapter custom adapter error","body":"<p>I am trying to create a recycler view and custom adapter to list up array list in recycler view. When I defined a custom adapter <code>public class NoteDashboardAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;</code> (MyAdapter) property it shows in red and solutions says create subclass. How do I overcome with this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication;\n\nimport android.content.Context;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class NoteDashboardAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n    private Context context;\n    private ArrayList title, date, location;\n\n    public NoteDashboardAdapter(Context context, ArrayList title, ArrayList date, ArrayList location) {\n        this.context = context;\n        this.title = title;\n        this.date = date;\n        this.location = location;\n    }\n\n    @NonNull\n    @Override\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return 0;\n    }\n}\n</code></pre>\n<p>I am trying to make a list of cardview of my notes dashboard.</p>\n"},{"tags":["java","exception","automation","assert","parseint"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681460487,"post_id":76012938,"comment_id":134063085,"body_markdown":"What number would you expect `488.15 EUR` to be?  Is `Catea` a number as well?","body":"What number would you expect <code>488.15 EUR</code> to be?  Is <code>Catea</code> a number as well?"},{"owner":{"account_id":19002504,"reputation":3,"user_id":13869755,"display_name":"Catea"},"score":0,"creation_date":1681460574,"post_id":76012938,"comment_id":134063112,"body_markdown":"I need only number:488.15","body":"I need only number:488.15"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1681460790,"post_id":76012938,"comment_id":134063172,"body_markdown":"a) so get rid of non-numeric chars b) since when is `488.15` an integer?","body":"a) so get rid of non-numeric chars b) since when is <code>488.15</code> an integer?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681462582,"post_id":76012938,"comment_id":134063591,"body_markdown":"Variable names begin [lower case](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) in Java","body":"Variable names begin <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">lower case</a> in Java"}],"answers":[{"comments":[{"owner":{"account_id":19002504,"reputation":3,"user_id":13869755,"display_name":"Catea"},"score":1,"creation_date":1681463351,"post_id":76013061,"comment_id":134063757,"body_markdown":"this code works.Thank you very much","body":"this code works.Thank you very much"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681465544,"post_id":76013061,"comment_id":134064309,"body_markdown":"Note that if you&#39;ll ever use any currency, which might be longer/shorter than &quot;EUR&quot;, you&#39;re gonna run into a problem. And also; generally try/catch any parsing operations you&#39;re not 100% sure they&#39;re gonna work","body":"Note that if you&#39;ll ever use any currency, which might be longer/shorter than &quot;EUR&quot;, you&#39;re gonna run into a problem. And also; generally try/catch any parsing operations you&#39;re not 100% sure they&#39;re gonna work"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681466955,"post_id":76013061,"comment_id":134064618,"body_markdown":"@Z-100 Three-letter currency abbreviations are governed by an ISO standard, ISO 4217. They are guaranteed to be three letters.","body":"@Z-100 Three-letter currency abbreviations are governed by an ISO standard, ISO 4217. They are guaranteed to be three letters."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681474345,"post_id":76013061,"comment_id":134066230,"body_markdown":"@MarkRotteveel Oh, really? Didn&#39;t know that. Thank you! :D (In that case ignore my comment above).","body":"@MarkRotteveel Oh, really? Didn&#39;t know that. Thank you! :D (In that case ignore my comment above)."}],"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681467059,"creation_date":1681461027,"answer_id":76013061,"question_id":76012938,"body_markdown":"First off. &quot;488.15 EUR&quot; is a String, which cannot be parsed to any number, because it doesn&#39;t purely consist of numbers.\r\n\r\nSecondly, you&#39;ll lose those .15 at the end if you try to convert it to an int. Use double instead. it preserves those values.\r\n\r\nRemove the last three characters, to make suma.getText() only consist of numbers\r\n\r\n```\r\nString sumaOnlyNum = suma.getText().substring(0, suma.getText().length() - 4);\r\n```\r\n\r\nConvert it to double instead of int\r\n\r\n```\r\ndouble suma = Double.parseDouble(sumaOnlyNum);\r\n```\r\n","title":"java.lang.NumberFormatException: For input string: &quot;488.15 EUR&quot;","body":"<p>First off. &quot;488.15 EUR&quot; is a String, which cannot be parsed to any number, because it doesn't purely consist of numbers.</p>\n<p>Secondly, you'll lose those .15 at the end if you try to convert it to an int. Use double instead. it preserves those values.</p>\n<p>Remove the last three characters, to make suma.getText() only consist of numbers</p>\n<pre><code>String sumaOnlyNum = suma.getText().substring(0, suma.getText().length() - 4);\n</code></pre>\n<p>Convert it to double instead of int</p>\n<pre><code>double suma = Double.parseDouble(sumaOnlyNum);\n</code></pre>\n"}],"owner":{"account_id":19002504,"reputation":3,"user_id":13869755,"display_name":"Catea"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76013061,"answer_count":1,"score":-2,"last_activity_date":1681467059,"creation_date":1681460043,"question_id":76012938,"body_markdown":"I make automation testing and I want extract text from  id element( ok I make it using comand getText() is works, text is &quot;488.15 EUR&quot;,after I  want make operation with this nr ,I want to subtract 2 from this number that I received:488-2\r\nIt is my code :\r\n\r\n```\r\nint suma = Integer.parseInt(Suma.getText());\r\n            \r\nint rest = suma- 2;\r\nAssert.assertTrue(Suma.getText().equals(rest));\r\n```\r\n\r\nBut I have next error java.lang.NumberFormatException: For input string: &quot;488.15 EUR&quot;\r\n please help me fix this error.Thank you.\r\n","title":"java.lang.NumberFormatException: For input string: &quot;488.15 EUR&quot;","body":"<p>I make automation testing and I want extract text from  id element( ok I make it using comand getText() is works, text is &quot;488.15 EUR&quot;,after I  want make operation with this nr ,I want to subtract 2 from this number that I received:488-2\nIt is my code :</p>\n<pre><code>int suma = Integer.parseInt(Suma.getText());\n            \nint rest = suma- 2;\nAssert.assertTrue(Suma.getText().equals(rest));\n</code></pre>\n<p>But I have next error java.lang.NumberFormatException: For input string: &quot;488.15 EUR&quot;\nplease help me fix this error.Thank you.</p>\n"},{"tags":["java","apache-storm","apache-storm-topology","apache-storm-configs"],"comments":[{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1682058682,"post_id":76002734,"comment_id":134158894,"body_markdown":"What exactly is the problem? So the values are not coherent? Or is it about latency?","body":"What exactly is the problem? So the values are not coherent? Or is it about latency?"},{"owner":{"account_id":28291886,"reputation":1,"user_id":21631881,"display_name":"Harish Madineni"},"score":0,"creation_date":1682153193,"post_id":76002734,"comment_id":134173125,"body_markdown":"Yes metrics are not the same as processed by storm. There is difference between published metrics and processed tuple count.(i have counter for counting tuples when spout emits)","body":"Yes metrics are not the same as processed by storm. There is difference between published metrics and processed tuple count.(i have counter for counting tuples when spout emits)"},{"owner":{"account_id":28291886,"reputation":1,"user_id":21631881,"display_name":"Harish Madineni"},"score":0,"creation_date":1683114359,"post_id":76002734,"comment_id":134316046,"body_markdown":"My thought, the below method which is causing the other threads to block when other thread is in critical section. I think the other threads are dropping the metrics.\n\npublic void report() {\n        synchronized (this) {\n            report(registry.getGauges(filter),\n                    registry.getCounters(filter),\n                    registry.getHistograms(filter),\n                    registry.getMeters(filter),\n                    registry.getTimers(filter));\n        }\n    }","body":"My thought, the below method which is causing the other threads to block when other thread is in critical section. I think the other threads are dropping the metrics.  public void report() {         synchronized (this) {             report(registry.getGauges(filter),                     registry.getCounters(filter),                     registry.getHistograms(filter),                     registry.getMeters(filter),                     registry.getTimers(filter));         }     }"}],"owner":{"account_id":28291886,"reputation":1,"user_id":21631881,"display_name":"Harish Madineni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681466955,"creation_date":1681370867,"question_id":76002734,"body_markdown":"I&#39;m using apache storm 2.4.0 version and we want all our metrics need to be exposed. So, we created an service that accepts all the metrics in time being and will expose the metrics on /metrics end point.\r\nstorm uses drop-wizard metrics and I&#39;m converting them to prometheus metrics by the above process.\r\nThis whole setup is done on kubernetes after making few changes to actual code to storm 2.4.0 version. \r\nAbout kubernetes set up, I have nimbus pod and supervisor pod and zookeeper pod differently. Those all are connected (Should these two supposed to be in one pod not sure).\r\n\r\n```\r\ntopology.metrics.reporters:\r\n  # Prometheus Reporter\r\n  - class: &quot;com.example.storm.PrometheusStormReporter&quot;\r\n    daemons:\r\n      - &quot;supervisor&quot;\r\n      - &quot;nimbus&quot;\r\n      - &quot;worker&quot;\r\n    report.period: 60\r\n    report.period.units: &quot;SECONDS&quot;\r\n\r\nstorm.metrics.reporters:\r\n  # Prometheus Reporter\r\n  - class: &quot;com.example.PrometheusStormReporter&quot;\r\n    daemons:\r\n        - &quot;supervisor&quot;\r\n        - &quot;nimbus&quot;\r\n        - &quot;worker&quot;\r\n    report.period: 60\r\n    report.period.units: &quot;SECONDS&quot;\r\n```\r\n\r\nthe above reporter will make a post call to our service where all the metrics are being populated.\r\n\r\nI have converted drop-wizard metrics to prometheus metrics and making a POST call to our service.\r\nI have reduced the time to 5 seconds and 10 seconds from 60 seconds. \r\nBut there is a large difference between what storm is processing and what we are seeing on /metrics end point. \r\n\r\nOne other way I tried is pushing the metric when I want in the execute method of the bolts(sequential with the my current logic). This way, I was adding exactly the metrics and move them accordingly. But this adds up to the processing time (which I don’t want). If posting fails I need to fail the tuple explicitly and add storm retry for this.\r\n\r\nDo I need to shift to push-gateway?\r\nOr any other way I can get full metrics.","title":"Apache storm metrics reporter not working as expected","body":"<p>I'm using apache storm 2.4.0 version and we want all our metrics need to be exposed. So, we created an service that accepts all the metrics in time being and will expose the metrics on /metrics end point.\nstorm uses drop-wizard metrics and I'm converting them to prometheus metrics by the above process.\nThis whole setup is done on kubernetes after making few changes to actual code to storm 2.4.0 version.\nAbout kubernetes set up, I have nimbus pod and supervisor pod and zookeeper pod differently. Those all are connected (Should these two supposed to be in one pod not sure).</p>\n<pre><code>topology.metrics.reporters:\n  # Prometheus Reporter\n  - class: &quot;com.example.storm.PrometheusStormReporter&quot;\n    daemons:\n      - &quot;supervisor&quot;\n      - &quot;nimbus&quot;\n      - &quot;worker&quot;\n    report.period: 60\n    report.period.units: &quot;SECONDS&quot;\n\nstorm.metrics.reporters:\n  # Prometheus Reporter\n  - class: &quot;com.example.PrometheusStormReporter&quot;\n    daemons:\n        - &quot;supervisor&quot;\n        - &quot;nimbus&quot;\n        - &quot;worker&quot;\n    report.period: 60\n    report.period.units: &quot;SECONDS&quot;\n</code></pre>\n<p>the above reporter will make a post call to our service where all the metrics are being populated.</p>\n<p>I have converted drop-wizard metrics to prometheus metrics and making a POST call to our service.\nI have reduced the time to 5 seconds and 10 seconds from 60 seconds.\nBut there is a large difference between what storm is processing and what we are seeing on /metrics end point.</p>\n<p>One other way I tried is pushing the metric when I want in the execute method of the bolts(sequential with the my current logic). This way, I was adding exactly the metrics and move them accordingly. But this adds up to the processing time (which I don’t want). If posting fails I need to fail the tuple explicitly and add storm retry for this.</p>\n<p>Do I need to shift to push-gateway?\nOr any other way I can get full metrics.</p>\n"},{"tags":["java","wsdl2java"],"comments":[{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1681196807,"post_id":75982923,"comment_id":134013179,"body_markdown":"Removed \n1. -Djava.endorsed.dirs=&quot;${cxf_home}/lib/endorsed \n2. set TOOLS_JAR=%JAVA_HOME%\\lib\\tools.jar;      \n\nGot below error but build path has jaxb-runtime-2.3.2 jar files.\n\n Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/ws/Service\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.isJaxws22(JAXWSContainer.java:64)","body":"Removed  1. -Djava.endorsed.dirs=&quot;${cxf_home}/lib/endorsed  2. set TOOLS_JAR=%JAVA_HOME%\\lib\\tools.jar;        Got below error but build path has jaxb-runtime-2.3.2 jar files.   Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/ws/Service         at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.is&zwnj;&#8203;Jaxws22(JAXWSContain&zwnj;&#8203;er.java:64)"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1681198701,"post_id":75982923,"comment_id":134013523,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1681204061,"post_id":75982923,"comment_id":134014702,"body_markdown":"will not add text image next time.","body":"will not add text image next time."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1681205589,"post_id":75982923,"comment_id":134015039,"body_markdown":"You can still edit this one...","body":"You can still edit this one..."}],"answers":[{"comments":[{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1681475362,"post_id":76013952,"comment_id":134066476,"body_markdown":"Thanks for input, great help. From command line got below message\nC:\\apache-cxf-3.3.5\\bin&gt;wsdl2java -client -autoNameResolution C:\\HelloWorld.wsdl\n&#39;f&#39; is not recognized as an internal or external command,\noperable program or batch file.  but it works fine Mavan","body":"Thanks for input, great help. From command line got below message C:\\apache-cxf-3.3.5\\bin&gt;wsdl2java -client -autoNameResolution C:\\HelloWorld.wsdl &#39;f&#39; is not recognized as an internal or external command, operable program or batch file.  but it works fine Mavan"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1681478701,"post_id":76013952,"comment_id":134067288,"body_markdown":"That&#39;s a kind of Windows issue. Fortunately, I haven&#39;t use Windows. Try to enclose wsdl parh with quotation marks.","body":"That&#39;s a kind of Windows issue. Fortunately, I haven&#39;t use Windows. Try to enclose wsdl parh with quotation marks."},{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1688734132,"post_id":76013952,"comment_id":135117317,"body_markdown":"Will it cause any issue if use javax.* namespace use 2.3.3 instead of akarta.* namespce use 3.x or 4.0.0.  Application works fine, but observed one case where its failing- https://stackoverflow.com/questions/76629729/migration-from-java-8-to-java-11-for-soap-web-service       any suggestion","body":"Will it cause any issue if use javax.* namespace use 2.3.3 instead of akarta.* namespce use 3.x or 4.0.0.  Application works fine, but observed one case where its failing- <a href=\"https://stackoverflow.com/questions/76629729/migration-from-java-8-to-java-11-for-soap-web-service\" title=\"migration from java 8 to java 11 for soap web service\">stackoverflow.com/questions/76629729/&hellip;</a>       any suggestion"}],"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681466926,"creation_date":1681466926,"answer_id":76013952,"question_id":75982923,"body_markdown":"Different versions of Apache CFX 3.3.x not contain all required libraries.\r\n\r\n**NOTE:** These versions are archived and not supported by Apache. I didn&#39;t compare libraries for all versions. Probably some other libraries reuqired for these versions.\r\n\r\n### Missing libraries in Apache CXF 3.3.0\r\n\r\n* javax.xml.soap-api.1.4.0\r\n* jakarta.xml.ws-api.2.3.3\r\n\r\n### Missing libraries in Apache CXF 3.3.2\r\n\r\n* jakarta.xml.ws-api.2.3.3\r\n\r\nThe latest version of Apache CXF on `javax.*` namespace is `3.5.5`.\r\n\r\n## Command line \r\n\r\nUpgrade CXF version to `3.5.5` is strongly recommended.\r\nIf it isn&#39;t possible, then download mentioned jars under `./lib` folder.\r\n\r\n## Maven usage\r\n\r\nUpgrade `cxf-codegen-plugin` to `3.3.5`\r\n\r\nAdditionally add this dependency to `pom.xml`\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n    &lt;version&gt;${jakarta.xml.ws-api.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nChoosing a proper `${jakarta.xml.ws-api.version}` of this dependency is important due to breaking changes about namespace (package).\r\n\r\n1. for `javax.*` namespace use `2.3.3` (based on the stacktrace this is the right choice in this case)\r\n2. for `jakarta.*` namespce use `3.x` or `4.0.0`\r\n\r\n","title":"How to use wsdl2java 3.3.X version of Apache cxf java 11 using command line","body":"<p>Different versions of Apache CFX 3.3.x not contain all required libraries.</p>\n<p><strong>NOTE:</strong> These versions are archived and not supported by Apache. I didn't compare libraries for all versions. Probably some other libraries reuqired for these versions.</p>\n<h3>Missing libraries in Apache CXF 3.3.0</h3>\n<ul>\n<li>javax.xml.soap-api.1.4.0</li>\n<li>jakarta.xml.ws-api.2.3.3</li>\n</ul>\n<h3>Missing libraries in Apache CXF 3.3.2</h3>\n<ul>\n<li>jakarta.xml.ws-api.2.3.3</li>\n</ul>\n<p>The latest version of Apache CXF on <code>javax.*</code> namespace is <code>3.5.5</code>.</p>\n<h2>Command line</h2>\n<p>Upgrade CXF version to <code>3.5.5</code> is strongly recommended.\nIf it isn't possible, then download mentioned jars under <code>./lib</code> folder.</p>\n<h2>Maven usage</h2>\n<p>Upgrade <code>cxf-codegen-plugin</code> to <code>3.3.5</code></p>\n<p>Additionally add this dependency to <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n    &lt;version&gt;${jakarta.xml.ws-api.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Choosing a proper <code>${jakarta.xml.ws-api.version}</code> of this dependency is important due to breaking changes about namespace (package).</p>\n<ol>\n<li>for <code>javax.*</code> namespace use <code>2.3.3</code> (based on the stacktrace this is the right choice in this case)</li>\n<li>for <code>jakarta.*</code> namespce use <code>3.x</code> or <code>4.0.0</code></li>\n</ol>\n"}],"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681466926,"creation_date":1681194080,"question_id":75982923,"body_markdown":"We were using Java 8 with apache 2.7.0 to convert wsdl to java and it was working fine. Now we want to upgrade to java 11 then getting error message.\r\n\r\nHow to use wsdl2java Apache cxf 3.3.X version with java 11 using command line.\r\n\r\nSteps tried.\r\n------------\r\n\r\nApache 3.3.0 or Apache 3.3.1 or Apache 3.3.2\r\n\r\nWhen trying to convert using below command \r\n\r\n`wsdl2java -client -autoNameResolution C:\\SAMPLE.wsdl`\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/ws/Service\r\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.isJaxws22(JAXWSContainer.java:64)\r\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.getServiceTarget(JAXWSContainer.java:61)\r\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.validate(JAXWSContainer.java:68)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.processWsdl(WSDLToJavaContainer.java:172)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:164)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:412)\r\n        at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:105)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:113)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:86)\r\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.main(WSDLToJava.java:185)\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.ws.Service\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 10 more\r\n```\r\nAlso tried adding external jar file to CFX lib folder.\r\n\r\n```xml\r\n&lt;!-- API, java.xml.bind module --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n    \r\n&lt;!-- Runtime, com.sun.xml.bind module --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```    \r\nor try this also\r\n\r\n```xml    \r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n**Java Version**\r\n```none\r\nopenjdk version &quot;11.0.16&quot; 2022-07-19\r\nOpenJDK Runtime Environment Temurin-11.0.16+8 (build 11.0.16+8)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.16+8 (build 11.0.16+8, mixed mode)\r\n```\r\nIt didn&#39;t work with command line, instead I tried with cxf-codegen-plugin in pom.xml\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;generate-sources&lt;/id&gt;\r\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;wsdlOptions&gt;\r\n                            &lt;wsdlOption&gt;\r\n                                &lt;wsdl&gt;src/main/resources/GIMA2Java.wsdl&lt;/wsdl&gt;\r\n                                &lt;faultSerialVersionUID&gt;1&lt;/faultSerialVersionUID&gt;\r\n                                &lt;extraargs&gt;\r\n                                    &lt;extraarg&gt;-autoNameResolution&lt;/extraarg&gt;\r\n                                &lt;/extraargs&gt;\r\n                            &lt;/wsdlOption&gt;\r\n                        &lt;/wsdlOptions&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"How to use wsdl2java 3.3.X version of Apache cxf java 11 using command line","body":"<p>We were using Java 8 with apache 2.7.0 to convert wsdl to java and it was working fine. Now we want to upgrade to java 11 then getting error message.</p>\n<p>How to use wsdl2java Apache cxf 3.3.X version with java 11 using command line.</p>\n<h2>Steps tried.</h2>\n<p>Apache 3.3.0 or Apache 3.3.1 or Apache 3.3.2</p>\n<p>When trying to convert using below command</p>\n<p><code>wsdl2java -client -autoNameResolution C:\\SAMPLE.wsdl</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/ws/Service\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.isJaxws22(JAXWSContainer.java:64)\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.getServiceTarget(JAXWSContainer.java:61)\n        at org.apache.cxf.tools.wsdlto.frontend.jaxws.JAXWSContainer.validate(JAXWSContainer.java:68)\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.processWsdl(WSDLToJavaContainer.java:172)\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:164)\n        at org.apache.cxf.tools.wsdlto.WSDLToJavaContainer.execute(WSDLToJavaContainer.java:412)\n        at org.apache.cxf.tools.common.toolspec.ToolRunner.runTool(ToolRunner.java:105)\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:113)\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.run(WSDLToJava.java:86)\n        at org.apache.cxf.tools.wsdlto.WSDLToJava.main(WSDLToJava.java:185)\nCaused by: java.lang.ClassNotFoundException: javax.xml.ws.Service\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 10 more\n</code></pre>\n<p>Also tried adding external jar file to CFX lib folder.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- API, java.xml.bind module --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n    \n&lt;!-- Runtime, com.sun.xml.bind module --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or try this also</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;activation&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Java Version</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>openjdk version &quot;11.0.16&quot; 2022-07-19\nOpenJDK Runtime Environment Temurin-11.0.16+8 (build 11.0.16+8)\nOpenJDK 64-Bit Server VM Temurin-11.0.16+8 (build 11.0.16+8, mixed mode)\n</code></pre>\n<p>It didn't work with command line, instead I tried with cxf-codegen-plugin in pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-sources&lt;/id&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;wsdlOptions&gt;\n                            &lt;wsdlOption&gt;\n                                &lt;wsdl&gt;src/main/resources/GIMA2Java.wsdl&lt;/wsdl&gt;\n                                &lt;faultSerialVersionUID&gt;1&lt;/faultSerialVersionUID&gt;\n                                &lt;extraargs&gt;\n                                    &lt;extraarg&gt;-autoNameResolution&lt;/extraarg&gt;\n                                &lt;/extraargs&gt;\n                            &lt;/wsdlOption&gt;\n                        &lt;/wsdlOptions&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;wsdl2java&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication","firebaseui"],"answers":[{"comments":[{"owner":{"account_id":11205420,"reputation":1930,"user_id":8221182,"display_name":"Kwnstantinos Nikoloutsos"},"score":2,"creation_date":1531739461,"post_id":51360406,"comment_id":89692942,"body_markdown":"I found this answer in another post in stackOverflow but as I am a beginner I don&#39;t know how to get all these keys! Can you edit your answer and elaborate it a little bit :) ?","body":"I found this answer in another post in stackOverflow but as I am a beginner I don&#39;t know how to get all these keys! Can you edit your answer and elaborate it a little bit :) ?"},{"owner":{"account_id":11205420,"reputation":1930,"user_id":8221182,"display_name":"Kwnstantinos Nikoloutsos"},"score":0,"creation_date":1531741381,"post_id":51360406,"comment_id":89694070,"body_markdown":"I&#39;ve added a debug and release SHA1 fingerprint but I don&#39;t understand how to add the third key ( google play app signing  key) .","body":"I&#39;ve added a debug and release SHA1 fingerprint but I don&#39;t understand how to add the third key ( google play app signing  key) ."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1531741656,"post_id":51360406,"comment_id":89694242,"body_markdown":"That is the official documentation but please take also a look [here](https://stackoverflow.com/questions/44103024/how-to-enable-google-play-app-signing).","body":"That is the official documentation but please take also a look <a href=\"https://stackoverflow.com/questions/44103024/how-to-enable-google-play-app-signing\">here</a>."},{"owner":{"account_id":11205420,"reputation":1930,"user_id":8221182,"display_name":"Kwnstantinos Nikoloutsos"},"score":1,"creation_date":1531742146,"post_id":51360406,"comment_id":89694561,"body_markdown":"Thank you a lot, actually it wasn&#39;t that hard to find that google play app key.\nNow the google authentication works perfectly fine :)","body":"Thank you a lot, actually it wasn&#39;t that hard to find that google play app key. Now the google authentication works perfectly fine :)"},{"owner":{"account_id":10793117,"reputation":644,"user_id":7939864,"display_name":"Shikhar"},"score":0,"creation_date":1551177909,"post_id":51360406,"comment_id":96536335,"body_markdown":"@AlexMamo where to put the app signing key and what should be my default_web_client_id (within requestIdToken params), Pls check my issue on https://stackoverflow.com/questions/54861698/firebase-google-signin-error-com-google-android-gms-common-api-apiexception-10. its really urgent","body":"@AlexMamo where to put the app signing key and what should be my default_web_client_id (within requestIdToken params), Pls check my issue on <a href=\"https://stackoverflow.com/questions/54861698/firebase-google-signin-error-com-google-android-gms-common-api-apiexception-10\" title=\"firebase google signin error com google android gms common api apiexception 10\">stackoverflow.com/questions/54861698/&hellip;</a>. its really urgent"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1551177988,"post_id":51360406,"comment_id":96536369,"body_markdown":"@ShikharJaiswal You should add the debug and release key in your Firebase console.","body":"@ShikharJaiswal You should add the debug and release key in your Firebase console."},{"owner":{"account_id":10793117,"reputation":644,"user_id":7939864,"display_name":"Shikhar"},"score":0,"creation_date":1551179294,"post_id":51360406,"comment_id":96537163,"body_markdown":"@AlexMamo I&#39;ve added debug key into my firebase app, (by generating the signing report)...Pls tell more about release key and  where to add it, i followed the above link and when I run the command ($ keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore -list -v\n) i get the same key as SHA1 generared throug signing report previously","body":"@AlexMamo I&#39;ve added debug key into my firebase app, (by generating the signing report)...Pls tell more about release key and  where to add it, i followed the above link and when I run the command ($ keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore -list -v ) i get the same key as SHA1 generared throug signing report previously"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1551179587,"post_id":51360406,"comment_id":96537343,"body_markdown":"@ShikharJaiswal See here on SO more [similar questions](https://stackoverflow.com/search?q=firebase+release+key).","body":"@ShikharJaiswal See here on SO more <a href=\"https://stackoverflow.com/search?q=firebase+release+key\">similar questions</a>."},{"owner":{"account_id":10793117,"reputation":644,"user_id":7939864,"display_name":"Shikhar"},"score":0,"creation_date":1551180437,"post_id":51360406,"comment_id":96537870,"body_markdown":"@AlexMamo Please help me out. I&#39;ve already researched a ton of questions for the past  2 days, but Im completely stuck here and my release date is near. Pls help","body":"@AlexMamo Please help me out. I&#39;ve already researched a ton of questions for the past  2 days, but Im completely stuck here and my release date is near. Pls help"},{"owner":{"account_id":10646698,"reputation":5413,"user_id":8170714,"accept_rate":71,"display_name":"Jack"},"score":0,"creation_date":1554796319,"post_id":51360406,"comment_id":97872462,"body_markdown":"Should we remove the debug key from Firebase after we hit production since everyone could have the same key?","body":"Should we remove the debug key from Firebase after we hit production since everyone could have the same key?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1554798266,"post_id":51360406,"comment_id":97873428,"body_markdown":"@jackz314 It&#39;s up to you to decide that.","body":"@jackz314 It&#39;s up to you to decide that."},{"owner":{"account_id":1883047,"reputation":881,"user_id":1702810,"accept_rate":86,"display_name":"Stephan"},"score":0,"creation_date":1592814815,"post_id":51360406,"comment_id":110548581,"body_markdown":"I&#39;ve done all this and still getting the same error. What could I also check?","body":"I&#39;ve done all this and still getting the same error. What could I also check?"},{"owner":{"account_id":1883047,"reputation":881,"user_id":1702810,"accept_rate":86,"display_name":"Stephan"},"score":2,"creation_date":1594065845,"post_id":51360406,"comment_id":110990944,"body_markdown":"A fourth key will be needed if you intend on using internal app sharing: https://stackoverflow.com/a/62763633/1702810","body":"A fourth key will be needed if you intend on using internal app sharing: <a href=\"https://stackoverflow.com/a/62763633/1702810\">stackoverflow.com/a/62763633/1702810</a>"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":13,"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1531740172,"creation_date":1531739373,"answer_id":51360406,"question_id":51360250,"body_markdown":"You need three keys in order to make it work:\r\n\r\n1. The debug key. Informations [here](https://stackoverflow.com/questions/39144629/how-to-add-sha-1-to-android-application).\r\n\r\n2. The release key. Informations [here](https://stackoverflow.com/questions/38297493/get-android-release-certificate-fingerprints).\r\n\r\n3. Google Play App signing key. Informations [here](https://support.google.com/googleplay/android-developer/answer/7384423).\r\n\r\nAll these keys are needed in order to make the sign-in process work.\r\n\r\nOther informations [here](https://stackoverflow.com/questions/47347349/sha-certificate-firebase-debug-release).","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>You need three keys in order to make it work:</p>\n\n<ol>\n<li><p>The debug key. Informations <a href=\"https://stackoverflow.com/questions/39144629/how-to-add-sha-1-to-android-application\">here</a>.</p></li>\n<li><p>The release key. Informations <a href=\"https://stackoverflow.com/questions/38297493/get-android-release-certificate-fingerprints\">here</a>.</p></li>\n<li><p>Google Play App signing key. Informations <a href=\"https://support.google.com/googleplay/android-developer/answer/7384423\" rel=\"noreferrer\">here</a>.</p></li>\n</ol>\n\n<p>All these keys are needed in order to make the sign-in process work.</p>\n\n<p>Other informations <a href=\"https://stackoverflow.com/questions/47347349/sha-certificate-firebase-debug-release\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":11205420,"reputation":1930,"user_id":8221182,"display_name":"Kwnstantinos Nikoloutsos"},"score":0,"creation_date":1531739534,"post_id":51360447,"comment_id":89692982,"body_markdown":"Okay, how can I obtain a signed SHA1?","body":"Okay, how can I obtain a signed SHA1?"},{"owner":{"account_id":13493500,"reputation":125,"user_id":9734994,"display_name":"Riddhi Shankar"},"score":0,"creation_date":1531740446,"post_id":51360447,"comment_id":89693506,"body_markdown":"You need to put &quot;debug.keystore&quot; in this path `C:\\Users\\USER_FOLDER_NAME\\.android`\n\nthen in Android studio \nfollow the below steps\n\n1. Run your project\n2. Click on Gradle menu\n3. Expand Gradle Tasks tree\n4. Double click on android -&gt; signingReport \nYou can see SHA in Run Tab","body":"You need to put &quot;debug.keystore&quot; in this path <code>C:\\Users\\USER_FOLDER_NAME\\.android</code>  then in Android studio  follow the below steps  1. Run your project 2. Click on Gradle menu 3. Expand Gradle Tasks tree 4. Double click on android -&gt; signingReport  You can see SHA in Run Tab"},{"owner":{"account_id":13493500,"reputation":125,"user_id":9734994,"display_name":"Riddhi Shankar"},"score":0,"creation_date":1531741441,"post_id":51360447,"comment_id":89694105,"body_markdown":"@KwnstantinosNikoloutsos please check the answer, I have updated it.","body":"@KwnstantinosNikoloutsos please check the answer, I have updated it."},{"owner":{"account_id":11205420,"reputation":1930,"user_id":8221182,"display_name":"Kwnstantinos Nikoloutsos"},"score":0,"creation_date":1531741698,"post_id":51360447,"comment_id":89694270,"body_markdown":"I have added this SHA1 fingerprint in firebase console and I am waiting to see if it is working :) Thank you for the help, I will keep you updated","body":"I have added this SHA1 fingerprint in firebase console and I am waiting to see if it is working :) Thank you for the help, I will keep you updated"},{"owner":{"account_id":11205420,"reputation":1930,"user_id":8221182,"display_name":"Kwnstantinos Nikoloutsos"},"score":0,"creation_date":1531742249,"post_id":51360447,"comment_id":89694629,"body_markdown":"I fixed it. Apart from adding the SHA1 key that you have told me about, we also need to add the Google Play App signing key as Alex Mamo said.","body":"I fixed it. Apart from adding the SHA1 key that you have told me about, we also need to add the Google Play App signing key as Alex Mamo said."},{"owner":{"account_id":10793117,"reputation":644,"user_id":7939864,"display_name":"Shikhar"},"score":0,"creation_date":1551177777,"post_id":51360447,"comment_id":96536280,"body_markdown":"@Kwnstantinos Nikoloutsos where did you put the app signing key?","body":"@Kwnstantinos Nikoloutsos where did you put the app signing key?"},{"owner":{"account_id":9132048,"reputation":287,"user_id":6793265,"display_name":"Egor"},"score":0,"creation_date":1586492404,"post_id":51360447,"comment_id":108152725,"body_markdown":"It is important that Gradle can give you not only release hash, but also the debug hash! I spent one day to find debug key, but it actually was near the release key (downside the console output)","body":"It is important that Gradle can give you not only release hash, but also the debug hash! I spent one day to find debug key, but it actually was near the release key (downside the console output)"}],"tags":[],"owner":{"account_id":13493500,"reputation":125,"user_id":9734994,"display_name":"Riddhi Shankar"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531741402,"creation_date":1531739477,"answer_id":51360447,"question_id":51360250,"body_markdown":"Make sure you have added signed SHA1. If you are using debug one then it will not gonna work for live apk.\r\n\r\nYou need to put &quot;debug.keystore&quot; in this path C:\\Users\\USER_FOLDER_NAME\\.android \r\n\r\nthen in Android studio follow the below steps \r\n 1. Run your project \r\n 2. Click on Gradle menu \r\n 3. Expand Gradle Tasks tree \r\n 4. Double click on android -&gt; signingReport \r\n\r\n\r\nYou can see SHA in Run Tab \r\n\r\nfor more information see [link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15727912/sha-1-fingerprint-of-keystore-certificate","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>Make sure you have added signed SHA1. If you are using debug one then it will not gonna work for live apk.</p>\n\n<p>You need to put \"debug.keystore\" in this path C:\\Users\\USER_FOLDER_NAME.android </p>\n\n<p>then in Android studio follow the below steps \n 1. Run your project \n 2. Click on Gradle menu \n 3. Expand Gradle Tasks tree \n 4. Double click on android -> signingReport </p>\n\n<p>You can see SHA in Run Tab </p>\n\n<p>for more information see <a href=\"https://stackoverflow.com/questions/15727912/sha-1-fingerprint-of-keystore-certificate\">link</a></p>\n"},{"tags":[],"owner":{"account_id":281797,"reputation":18034,"user_id":578309,"accept_rate":67,"display_name":"thanhbinh84"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1609061990,"creation_date":1554972777,"answer_id":55628394,"question_id":51360250,"body_markdown":"After generating SHA1 for release key, I forgot downloading the new google-service.json file that caused the same error. \r\n\r\nMake sure you follow the instruction https://developers.google.com/android/guides/client-auth to generate and add debug/release SHA1 to firebase console and download google-service.json after updated. \r\n\r\nIf you use [Use app signing by Google Play][1] option, you need an additional step: \r\n\r\nAfter uploading app into google play console, go to Release management &gt; App signing, copy SHA1 and paste to firebase console \r\n[![enter image description here][2]][2]\r\n\r\n**Update**\r\n\r\nIn the new google play console, the App signing key can be found as following:\r\nSetup &gt; App signing\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/7384423?hl=en-GB\r\n  [2]: https://i.stack.imgur.com/5NnGc.png\r\n  [3]: https://i.stack.imgur.com/hOVtF.jpg","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>After generating SHA1 for release key, I forgot downloading the new google-service.json file that caused the same error.</p>\n<p>Make sure you follow the instruction <a href=\"https://developers.google.com/android/guides/client-auth\" rel=\"noreferrer\">https://developers.google.com/android/guides/client-auth</a> to generate and add debug/release SHA1 to firebase console and download google-service.json after updated.</p>\n<p>If you use <a href=\"https://support.google.com/googleplay/android-developer/answer/7384423?hl=en-GB\" rel=\"noreferrer\">Use app signing by Google Play</a> option, you need an additional step:</p>\n<p>After uploading app into google play console, go to Release management &gt; App signing, copy SHA1 and paste to firebase console\n<a href=\"https://i.stack.imgur.com/5NnGc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5NnGc.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update</strong></p>\n<p>In the new google play console, the App signing key can be found as following:\nSetup &gt; App signing\n<a href=\"https://i.stack.imgur.com/hOVtF.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hOVtF.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12959297,"reputation":398,"user_id":9369035,"display_name":"Njuacha Hubert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659560770,"creation_date":1659560770,"answer_id":73227809,"question_id":51360250,"body_markdown":"For me the problem was that i registered app and enabled google signin on Firebase console but I was testing with the debug version of app which has slightly different package name (same name but ended with .debug) so it was not working because the debug app is not yet registered. so additionally to my release app i also added the debug app to the firebase project for the app and it generated it&#39;s own google-services.json which i download and set to src/debug/google-services.json. \r\n\r\nI believe this might be useful to some one else.","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>For me the problem was that i registered app and enabled google signin on Firebase console but I was testing with the debug version of app which has slightly different package name (same name but ended with .debug) so it was not working because the debug app is not yet registered. so additionally to my release app i also added the debug app to the firebase project for the app and it generated it's own google-services.json which i download and set to src/debug/google-services.json.</p>\n<p>I believe this might be useful to some one else.</p>\n"},{"tags":[],"owner":{"account_id":19065771,"reputation":21,"user_id":13920894,"display_name":"phuclt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681466416,"creation_date":1681466416,"answer_id":76013866,"question_id":51360250,"body_markdown":"I had this problem and the solution was: \r\n\r\n1.In tab Gradle -&gt; Double click signingReport -&gt; get the SHA-1. \r\n\r\n2.Copy this generated SHA-1 from Android Studio, then paste to Firebase -&gt; Project Setting -&gt; General Setting -&gt; SHA FingerPrint.\r\n\r\n3.In Project settings firebase Download file google-service.json\r\n\r\n4.Add file google-service.json in project and rebuild.\r\n\r\n","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>I had this problem and the solution was:</p>\n<p>1.In tab Gradle -&gt; Double click signingReport -&gt; get the SHA-1.</p>\n<p>2.Copy this generated SHA-1 from Android Studio, then paste to Firebase -&gt; Project Setting -&gt; General Setting -&gt; SHA FingerPrint.</p>\n<p>3.In Project settings firebase Download file google-service.json</p>\n<p>4.Add file google-service.json in project and rebuild.</p>\n"}],"owner":{"account_id":11205420,"reputation":1930,"user_id":8221182,"display_name":"Kwnstantinos Nikoloutsos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16699,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":51360406,"answer_count":5,"score":27,"last_activity_date":1681466416,"creation_date":1531738797,"question_id":51360250,"body_markdown":"I&#39;ve made a chat app that uses Firebase&#39;s feature `Real-time database`.\r\nI face a problem with google authentication. The problem started when I downloaded the app from the Play Store, the authentication was working perfectly when I was running the app in debug mode. When users try to sign in they get a toast message `code:10 message:10`.\r\n\r\nI would like to note here that: I&#39;ve added the SHA1 fingerprint. How can I solve this?\r\n \r\n*Not sure if this is helpful but I&#39;ve followed step by step this [tutorial][1]\r\n\r\n[1]: https://classroom.udacity.com/courses/ud0352","title":"Firebase UI authentication with google fails with message (code:10 message:10)","body":"<p>I've made a chat app that uses Firebase's feature <code>Real-time database</code>.\nI face a problem with google authentication. The problem started when I downloaded the app from the Play Store, the authentication was working perfectly when I was running the app in debug mode. When users try to sign in they get a toast message <code>code:10 message:10</code>.</p>\n\n<p>I would like to note here that: I've added the SHA1 fingerprint. How can I solve this?</p>\n\n<p>*Not sure if this is helpful but I've followed step by step this <a href=\"https://classroom.udacity.com/courses/ud0352\" rel=\"noreferrer\">tutorial</a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1580392225,"post_id":59987501,"comment_id":106088292,"body_markdown":"[What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173)","body":"<a href=\"https://stackoverflow.com/q/25385173\">What is a debugger and how can it help me diagnose problems?</a>"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1580392545,"post_id":59987501,"comment_id":106088506,"body_markdown":"What is your actual question?  You didn&#39;t really ask one (summarizing the entire problem in the title is not a question).","body":"What is your actual question?  You didn&#39;t really ask one (summarizing the entire problem in the title is not a question)."},{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580392644,"post_id":59987501,"comment_id":106088574,"body_markdown":"It is actually to write a function named encodeNumber that accepts an integer n and that returns an array that holds the numbers prime factors in the array in descending order.","body":"It is actually to write a function named encodeNumber that accepts an integer n and that returns an array that holds the numbers prime factors in the array in descending order."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1580392688,"post_id":59987501,"comment_id":106088607,"body_markdown":"@SamuelMideksa that&#39;s the question that&#39;s been asked of you; what&#39;s the question you need *us* to answer to help you solve it? (BTW, your desired factors are in ascending order).","body":"@SamuelMideksa that&#39;s the question that&#39;s been asked of you; what&#39;s the question you need <i>us</i> to answer to help you solve it? (BTW, your desired factors are in ascending order)."},{"owner":{"account_id":16220100,"reputation":83,"user_id":11711831,"display_name":"Sanjay Bharathi"},"score":0,"creation_date":1580392712,"post_id":59987501,"comment_id":106088625,"body_markdown":"so, you need a function for prime factors of a number?","body":"so, you need a function for prime factors of a number?"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1580392764,"post_id":59987501,"comment_id":106088660,"body_markdown":"@SamuelMideksa your comment doesn&#39;t answer the question.","body":"@SamuelMideksa your comment doesn&#39;t answer the question."},{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580392804,"post_id":59987501,"comment_id":106088688,"body_markdown":"why is the first for loop returning count as a 3 where it should be 6 counting the duplicates also?","body":"why is the first for loop returning count as a 3 where it should be 6 counting the duplicates also?"},{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580393051,"post_id":59987501,"comment_id":106088858,"body_markdown":"@AndyTurner well my question is how can I improve the code to get the array with all number&#39;s prime factors including the duplicates?","body":"@AndyTurner well my question is how can I improve the code to get the array with all number&#39;s prime factors including the duplicates?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1580393115,"post_id":59987501,"comment_id":106088904,"body_markdown":"@SamuelMideksa did you try [debugging the code](https://stackoverflow.com/q/25385173)? If so, where did you find the code behaving in a way you didn&#39;t expect?","body":"@SamuelMideksa did you try <a href=\"https://stackoverflow.com/q/25385173\">debugging the code</a>? If so, where did you find the code behaving in a way you didn&#39;t expect?"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":1,"creation_date":1580393193,"post_id":59987501,"comment_id":106088957,"body_markdown":"I suggest you store your factors into a list so you don&#39;t have to pre-process the number in order to know the size of the array. Beside you will want to nest two loops : a first one that increments a number until it&#39;s a prime and a second that divides your input number by that number as long as your number is divisible by it","body":"I suggest you store your factors into a list so you don&#39;t have to pre-process the number in order to know the size of the array. Beside you will want to nest two loops : a first one that increments a number until it&#39;s a prime and a second that divides your input number by that number as long as your number is divisible by it"},{"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"score":0,"creation_date":1580393227,"post_id":59987501,"comment_id":106088994,"body_markdown":"First: after the first loop you must reset the variables. Second: change the for-loops to while loops. Else you miss the repeated primefactor 2. Third: throw away the variable mul. you don&#39;t need it.","body":"First: after the first loop you must reset the variables. Second: change the for-loops to while loops. Else you miss the repeated primefactor 2. Third: throw away the variable mul. you don&#39;t need it."},{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580393324,"post_id":59987501,"comment_id":106089068,"body_markdown":"@Aaron I am not allowed to use list. Do you mean array?","body":"@Aaron I am not allowed to use list. Do you mean array?"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1580395048,"post_id":59987501,"comment_id":106090138,"body_markdown":"No, I did mean List, it would have made for a simpler solution","body":"No, I did mean List, it would have made for a simpler solution"}],"answers":[{"comments":[{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580715029,"post_id":59988005,"comment_id":106173740,"body_markdown":"Assuming `public static int findLowestPrimeFactor(int n) {\n\t\tfor (int i = 2; i &lt; n; i++) {\n\t\t\tif(n % i == 0 &amp;&amp; isPrime(i) == 1)\treturn i;\n\t\t}\n\t\t\n\t\treturn 0;\n\t}` I am getting this division by zero somehow p is 0 when it tries to compute the division in the first loop","body":"Assuming <code>public static int findLowestPrimeFactor(int n) { \t\tfor (int i = 2; i &lt; n; i++) { \t\t\tif(n % i == 0 &amp;&amp; isPrime(i) == 1)\treturn i; \t\t} \t\t \t\treturn 0; \t}</code> I am getting this division by zero somehow p is 0 when it tries to compute the division in the first loop"},{"owner":{"account_id":10408706,"reputation":902,"user_id":7674825,"accept_rate":78,"display_name":"DanielBK"},"score":0,"creation_date":1580718119,"post_id":59988005,"comment_id":106174854,"body_markdown":"Hm .. maybe something is wrong with your isPrime() method? In your question the isPrime() method does return a boolean, but here you compare its result to the integer 1. Does it really return 1 for a prime argument i? I would recheck this method first. Besides this your implementation of findLowestPrimeFactor() looks ok.","body":"Hm .. maybe something is wrong with your isPrime() method? In your question the isPrime() method does return a boolean, but here you compare its result to the integer 1. Does it really return 1 for a prime argument i? I would recheck this method first. Besides this your implementation of findLowestPrimeFactor() looks ok."},{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580725293,"post_id":59988005,"comment_id":106178404,"body_markdown":"Well I have changed findLowestPrimeFactor to `public static int findLowestPrimeFactor(int n) {\n\t\tfor (int i = 2; i &lt; n; i++) {\n\t\t\tif(n % i == 0 &amp;&amp; isPrime(i) == 1)\treturn i;\n\t\t}\n\t\t\n\t\treturn n;\n\t}` and isPrime to `public static int isPrime(int n) {\n\t\tif(n &lt; 2)\treturn 0;\n\t\tfor (int i = 2; i &lt; n; i++) {\n\t\t\tif(n % i == 0)\treturn 0;\n\t\t}\n\t\t\n\t\treturn 1;` and an array with size 6 is returned the error is gone but couldn&#39;t pupulate the array with its prime factors.","body":"Well I have changed findLowestPrimeFactor to <code>public static int findLowestPrimeFactor(int n) { \t\tfor (int i = 2; i &lt; n; i++) { \t\t\tif(n % i == 0 &amp;&amp; isPrime(i) == 1)\treturn i; \t\t} \t\t \t\treturn n; \t}</code> and isPrime to <code>public static int isPrime(int n) { \t\tif(n &lt; 2)\treturn 0; \t\tfor (int i = 2; i &lt; n; i++) { \t\t\tif(n % i == 0)\treturn 0; \t\t} \t\t \t\treturn 1;</code> and an array with size 6 is returned the error is gone but couldn&#39;t pupulate the array with its prime factors."},{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580725861,"post_id":59988005,"comment_id":106178697,"body_markdown":"Oh I just solved it the problem is n gets to 0 in the beginning of the second while loop. So I have to set it to Original N before beginning the second loop. thanks @DanielBK","body":"Oh I just solved it the problem is n gets to 0 in the beginning of the second while loop. So I have to set it to Original N before beginning the second loop. thanks @DanielBK"}],"tags":[],"owner":{"account_id":10408706,"reputation":902,"user_id":7674825,"accept_rate":78,"display_name":"DanielBK"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1580728063,"creation_date":1580393759,"answer_id":59988005,"question_id":59987501,"body_markdown":"Well here is a piece of code I would start with. It is not finished yet and I did not test it, but that&#39;s the way you should go basically.\r\n\r\n    // First find the number of prime factors\r\n    \r\n    int factorsCount = 0;\r\n\t\tint originalN = n;\r\n\t\twhile (n &gt; 1) {\r\n\t\t   int p = findLowestPrimeFactor(n);\r\n\t\t   n /= p;\r\n\t\t   factorsCount++;\r\n\t\t}\r\n\r\n\t\t// Now create the Array of the appropriate size \r\n\r\n\t\tint[] factors = new int[factorsCount];\r\n\r\n\t\t// Finally do the iteration from the first step again, but now filling the array.\r\n\t\tn = originalN;\r\n\t\tint k = 0;\r\n\t\twhile (n &gt; 1) {\r\n\t\t   int p = findLowestPrimeFactor(n);\r\n\t\t   factors[k] = p;\r\n\t\t   k++;\r\n\t\t   n = n / p;\r\n\t\t}\r\n\t\t\r\n\t\treturn factors;","title":"How to encode a number using its prime factors in java using arrays?","body":"<p>Well here is a piece of code I would start with. It is not finished yet and I did not test it, but that's the way you should go basically.</p>\n\n<pre><code>// First find the number of prime factors\n\nint factorsCount = 0;\n    int originalN = n;\n    while (n &gt; 1) {\n       int p = findLowestPrimeFactor(n);\n       n /= p;\n       factorsCount++;\n    }\n\n    // Now create the Array of the appropriate size \n\n    int[] factors = new int[factorsCount];\n\n    // Finally do the iteration from the first step again, but now filling the array.\n    n = originalN;\n    int k = 0;\n    while (n &gt; 1) {\n       int p = findLowestPrimeFactor(n);\n       factors[k] = p;\n       k++;\n       n = n / p;\n    }\n\n    return factors;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580453811,"post_id":59988009,"comment_id":106109781,"body_markdown":"what is `for (int i = 2; n != 1; i += 1 + (i&amp;1)) {` doing specifically `i += 1 + (i &amp; 1)` a little difficult to understand.","body":"what is <code>for (int i = 2; n != 1; i += 1 + (i&amp;1)) {</code> doing specifically <code>i += 1 + (i &amp; 1)</code> a little difficult to understand."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1580458805,"post_id":59988009,"comment_id":106111568,"body_markdown":"The last causes 2-&gt;3-&gt;5-&gt;7-&gt;9-&gt;11-&gt;..., increment at least 1 + if odd 1.","body":"The last causes 2-&gt;3-&gt;5-&gt;7-&gt;9-&gt;11-&gt;..., increment at least 1 + if odd 1."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580393778,"creation_date":1580393778,"answer_id":59988009,"question_id":59987501,"body_markdown":"Having found a factor (on increasing candidates), you can assume it is prime,\r\nif you divide out the factor till the candidate no longer is a factor.\r\n\r\nYour problem is not repeatedly dividing by the factor.\r\n\r\n    public static int[] encodeNumber(int n) {\r\n        if (n &lt;= 1) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;Integer&gt; factors = new ArrayList&lt;&gt;();\r\n        for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\r\n            while (n % i == 0) { // i is automatically prime, as lower primes done.\r\n                factors.add(i);\r\n                n /= i;\r\n            }\r\n        }\r\n        return factors.stream().mapToInt(Integer::intValue).toArray();\r\n    }\r\n\r\nWithout data structures, taking twice the time:\r\n\r\n    public static int[] encodeNumber(int n) {\r\n        if (n &lt;= 1) {\r\n            return null;\r\n        }\r\n        // Count factors, not storing them:\r\n        int factorCount = 0;\r\n        int originalN = n;\r\n        for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\r\n            while (n % i == 0) {\r\n                ++factorCount;\r\n                n /= i;\r\n            }\r\n        }\r\n\r\n        // Fill factors:\r\n        n = originalN;\r\n        int[] factors = new int[factorCount];\r\n        factorCount = 0;\r\n        for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\r\n            while (n % i == 0) {\r\n                factors[factorCount++] = i;\r\n                n /= i;\r\n            }\r\n        }\r\n        return factors;\r\n    }\r\n","title":"How to encode a number using its prime factors in java using arrays?","body":"<p>Having found a factor (on increasing candidates), you can assume it is prime,\nif you divide out the factor till the candidate no longer is a factor.</p>\n\n<p>Your problem is not repeatedly dividing by the factor.</p>\n\n<pre><code>public static int[] encodeNumber(int n) {\n    if (n &lt;= 1) {\n        return null;\n    }\n\n    List&lt;Integer&gt; factors = new ArrayList&lt;&gt;();\n    for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\n        while (n % i == 0) { // i is automatically prime, as lower primes done.\n            factors.add(i);\n            n /= i;\n        }\n    }\n    return factors.stream().mapToInt(Integer::intValue).toArray();\n}\n</code></pre>\n\n<p>Without data structures, taking twice the time:</p>\n\n<pre><code>public static int[] encodeNumber(int n) {\n    if (n &lt;= 1) {\n        return null;\n    }\n    // Count factors, not storing them:\n    int factorCount = 0;\n    int originalN = n;\n    for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\n        while (n % i == 0) {\n            ++factorCount;\n            n /= i;\n        }\n    }\n\n    // Fill factors:\n    n = originalN;\n    int[] factors = new int[factorCount];\n    factorCount = 0;\n    for (int i = 2; n != 1; i += 1 + (i&amp;1)) {\n        while (n % i == 0) {\n            factors[factorCount++] = i;\n            n /= i;\n        }\n    }\n    return factors;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"score":0,"creation_date":1580394113,"post_id":59988052,"comment_id":106089546,"body_markdown":"I am not allowed to use any data structures. Only arrays. Your code works though. Thanks","body":"I am not allowed to use any data structures. Only arrays. Your code works though. Thanks"},{"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"score":0,"creation_date":1580394257,"post_id":59988052,"comment_id":106089632,"body_markdown":"With arrays, you end up with a cludge of defining a very big array, like int[log2 n] beforehand, and then copying the data from one array to another that has the minimal size. It is doable though.","body":"With arrays, you end up with a cludge of defining a very big array, like int[log2 n] beforehand, and then copying the data from one array to another that has the minimal size. It is doable though."}],"tags":[],"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580393915,"creation_date":1580393915,"answer_id":59988052,"question_id":59987501,"body_markdown":"Your `count` is wrong, because you count multiple factors like `2` and `17` of `6936` only once.\r\n\r\nI would recommend doing it similar to the following way, recursively:\r\n(this code is untested)\r\n\r\n    void encodeNumberRecursive(int remainder, int factor, int currentIndex, Vector&lt;Integer&gt; results) {\r\n         if(remainder&lt;2) {\r\n             return;\r\n         }\r\n         if(remainder % factor == 0) {\r\n             results.push(factor);\r\n             remainder /= factor; \r\n             currentIndex += 1; \r\n             encodeNumberRecursive(remainder , factor, currentIndex, results);  \r\n         } else {\r\n             do {\r\n                factor += 1;\r\n             } while(factor&lt;remainder &amp;&amp; !isPrime(factor));\r\n             if(factor&lt;=remainder) {\r\n                 encodeNumberRecursive(remainder , factor, currentIndex, results); \r\n             }\r\n         }\r\n    }\r\n\r\nFinally, call it with\r\n\r\n    Vector&lt;Integer&gt; results = new Vector&lt;Integer&gt;();\r\n    encodeNumberRecursive(n, 2, 0, results);\r\n\r\nYou can also do it without recursion, I just feel it is easier.","title":"How to encode a number using its prime factors in java using arrays?","body":"<p>Your <code>count</code> is wrong, because you count multiple factors like <code>2</code> and <code>17</code> of <code>6936</code> only once.</p>\n\n<p>I would recommend doing it similar to the following way, recursively:\n(this code is untested)</p>\n\n<pre><code>void encodeNumberRecursive(int remainder, int factor, int currentIndex, Vector&lt;Integer&gt; results) {\n     if(remainder&lt;2) {\n         return;\n     }\n     if(remainder % factor == 0) {\n         results.push(factor);\n         remainder /= factor; \n         currentIndex += 1; \n         encodeNumberRecursive(remainder , factor, currentIndex, results);  \n     } else {\n         do {\n            factor += 1;\n         } while(factor&lt;remainder &amp;&amp; !isPrime(factor));\n         if(factor&lt;=remainder) {\n             encodeNumberRecursive(remainder , factor, currentIndex, results); \n         }\n     }\n}\n</code></pre>\n\n<p>Finally, call it with</p>\n\n<pre><code>Vector&lt;Integer&gt; results = new Vector&lt;Integer&gt;();\nencodeNumberRecursive(n, 2, 0, results);\n</code></pre>\n\n<p>You can also do it without recursion, I just feel it is easier.</p>\n"},{"tags":[],"owner":{"account_id":26513316,"reputation":1,"user_id":20148193,"display_name":"Mikyas Melese"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681466281,"creation_date":1681466281,"answer_id":76013841,"question_id":59987501,"body_markdown":"you should correct some of your code like this.\r\n\r\n\r\n    public static int[] encodeNumber(int n) {\r\n    \r\n        int count = 0, base = n, mul = 1;\r\n    \r\n        for (int i = 2; i &lt; n; i++) {\r\n            while(n % i == 0 &amp;&amp; isPrime(i)) {\r\n                mul *= i;\r\n                count++;\r\n                if(mul == base) {\r\n                    break;\r\n                }\r\n                n /= i;\r\n            }\r\n        }\r\n      \r\n    \r\n        n=base;\r\n    \r\n        int[] x = new int[count];\r\n    \r\n        int j = 0;\r\n    \r\n        for (int i = 2; i &lt; base; i++) {\r\n            while(base % i == 0 &amp;&amp; isPrime(i)) {\r\n                mul *= i;\r\n                x[j] = i;\r\n                j++;\r\n                if(mul == n)    break;\r\n                base /= i;\r\n            }\r\n            \r\n        }\r\n    \r\n        return x;\r\n    }\r\n    \r\n    public static boolean isPrime(int n) {\r\n\r\n        if(n &lt; 2)   return false;\r\n\r\n        for (int i = 2; i &lt; n; i++) {\r\n            if(n % i == 0)  return false;\r\n            }\r\n\r\n        return true;\r\n    }\r\n\r\n","title":"How to encode a number using its prime factors in java using arrays?","body":"<p>you should correct some of your code like this.</p>\n<pre><code>public static int[] encodeNumber(int n) {\n\n    int count = 0, base = n, mul = 1;\n\n    for (int i = 2; i &lt; n; i++) {\n        while(n % i == 0 &amp;&amp; isPrime(i)) {\n            mul *= i;\n            count++;\n            if(mul == base) {\n                break;\n            }\n            n /= i;\n        }\n    }\n  \n\n    n=base;\n\n    int[] x = new int[count];\n\n    int j = 0;\n\n    for (int i = 2; i &lt; base; i++) {\n        while(base % i == 0 &amp;&amp; isPrime(i)) {\n            mul *= i;\n            x[j] = i;\n            j++;\n            if(mul == n)    break;\n            base /= i;\n        }\n        \n    }\n\n    return x;\n}\n\npublic static boolean isPrime(int n) {\n\n    if(n &lt; 2)   return false;\n\n    for (int i = 2; i &lt; n; i++) {\n        if(n % i == 0)  return false;\n        }\n\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":13478698,"reputation":433,"user_id":9724717,"display_name":"Samuel Mideksa"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":59988005,"answer_count":4,"score":-1,"last_activity_date":1681466281,"creation_date":1580392082,"question_id":59987501,"body_markdown":"I have this question I am trying to solve\r\n[![question image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jVVr3.png\r\n\r\nI wrote this code \r\n\r\n    public static int[] encodeNumber(int n) {\r\n\t\tint count = 0, base = n, mul = 1;\r\n\t\t\r\n\t\tfor (int i = 2; i &lt; n; i++) {\r\n\t\t\tif(n % i == 0 &amp;&amp; isPrime(i)) {\r\n\t\t\t\tmul *= i;\r\n\t\t\t\tcount++;\r\n\t\t\t\tif(mul == n) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tn /= i;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;count is &quot; + count);\r\n\t\t\r\n\t\tint[] x = new int[count];\r\n\t\t\r\n\t\tint j = 0;\r\n\t\t\r\n\t\tfor (int i = 2; i &lt; base; i++) {\r\n\t\t\tif(n % i == 0 &amp;&amp; isPrime(i)) {\r\n\t\t\t\tmul *= i;\r\n\t\t\t\tx[j] = i;\r\n\t\t\t\tj++;\r\n\t\t\t\tif(mul == n)\tbreak;\r\n\t\t\t\tn /= i;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\treturn x;\r\n\t}\r\n\t\r\n\tpublic static boolean isPrime(int n) {\r\n\t\tif(n &lt; 2)\treturn false;\r\n\t\tfor (int i = 2; i &lt; n; i++) {\r\n\t\t\tif(n % i == 0)\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\nI am trying to get the number of its prime factors in a count variable and create an array with the count and then populate the array with its prime factors in the second loop. \r\n\r\n    count is 3\r\n    [2, 0, 0]\r\nwith an input of 6936. The desired output is an array containing all its prime factors `{2, 2, 2, 3, 17, 17}`.","title":"How to encode a number using its prime factors in java using arrays?","body":"<p>I have this question I am trying to solve\n<a href=\"https://i.stack.imgur.com/jVVr3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jVVr3.png\" alt=\"question image\"></a></p>\n\n<p>I wrote this code </p>\n\n<pre><code>public static int[] encodeNumber(int n) {\n    int count = 0, base = n, mul = 1;\n\n    for (int i = 2; i &lt; n; i++) {\n        if(n % i == 0 &amp;&amp; isPrime(i)) {\n            mul *= i;\n            count++;\n            if(mul == n) {\n                break;\n            }\n            n /= i;\n        }\n    }\n\n    System.out.println(\"count is \" + count);\n\n    int[] x = new int[count];\n\n    int j = 0;\n\n    for (int i = 2; i &lt; base; i++) {\n        if(n % i == 0 &amp;&amp; isPrime(i)) {\n            mul *= i;\n            x[j] = i;\n            j++;\n            if(mul == n)    break;\n            n /= i;\n        }\n        break;\n    }\n\n    return x;\n}\n\npublic static boolean isPrime(int n) {\n    if(n &lt; 2)   return false;\n    for (int i = 2; i &lt; n; i++) {\n        if(n % i == 0)  return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>I am trying to get the number of its prime factors in a count variable and create an array with the count and then populate the array with its prime factors in the second loop. </p>\n\n<pre><code>count is 3\n[2, 0, 0]\n</code></pre>\n\n<p>with an input of 6936. The desired output is an array containing all its prime factors <code>{2, 2, 2, 3, 17, 17}</code>.</p>\n"},{"tags":["java","spring","spring-boot","yaml","snakeyaml"],"owner":{"account_id":7580982,"reputation":129,"user_id":5751697,"display_name":"Abhishek kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681465346,"creation_date":1672814072,"question_id":75001714,"body_markdown":"I am trying to convert java POJO into yaml.\r\n\r\n```\r\n  DumperOptions options = new DumperOptions();\r\n  options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\r\n\r\n  Yaml yaml = new Yaml(options);\r\n\r\n  String output = yaml.dump(yamlMeta);\r\n```\r\n\r\nI am using snakyaml library.\r\nWhile converting java object to yaml, it is not maintaining order of key. it is arranging them in alphabetical order. But i want this to be in same order as of POJO.\r\n\r\n\r\n","title":"How to convert POJO to Yaml","body":"<p>I am trying to convert java POJO into yaml.</p>\n<pre><code>  DumperOptions options = new DumperOptions();\n  options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\n\n  Yaml yaml = new Yaml(options);\n\n  String output = yaml.dump(yamlMeta);\n</code></pre>\n<p>I am using snakyaml library.\nWhile converting java object to yaml, it is not maintaining order of key. it is arranging them in alphabetical order. But i want this to be in same order as of POJO.</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1681455845,"post_id":76012310,"comment_id":134062042,"body_markdown":"How many cores is the docker container allowed to use? How many cores does the docker *host* have? Unless you have 30 cores and a really good I/O system, then obviously running more processes than the server has cores will make things slower. Many docker images also use Linux distributions that aren&#39;t known for their high-performance as well (e.g. Alpine Linux).","body":"How many cores is the docker container allowed to use? How many cores does the docker <i>host</i> have? Unless you have 30 cores and a really good I/O system, then obviously running more processes than the server has cores will make things slower. Many docker images also use Linux distributions that aren&#39;t known for their high-performance as well (e.g. Alpine Linux)."},{"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"score":0,"creation_date":1681457580,"post_id":76012310,"comment_id":134062362,"body_markdown":"The postgres container runs without restriction on RAM and CPU","body":"The postgres container runs without restriction on RAM and CPU"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1681457655,"post_id":76012310,"comment_id":134062385,"body_markdown":"So how many cores does the _host_ computer have? And is the container running on the same computer where your application is running?","body":"So how many cores does the <i>host</i> computer have? And is the container running on the same computer where your application is running?"},{"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"score":0,"creation_date":1681465178,"post_id":76012310,"comment_id":134064216,"body_markdown":"Host computer has 8 CPUs and the application is running on the host computer","body":"Host computer has 8 CPUs and the application is running on the host computer"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1681486757,"post_id":76012310,"comment_id":134069429,"body_markdown":"Why is this surprising?  You can&#39;t summon infinite CPUs from the void.  Your db can only use the resources it has.  Maybe there is a reason to think it should do better, but you need to explain that reason.","body":"Why is this surprising?  You can&#39;t summon infinite CPUs from the void.  Your db can only use the resources it has.  Maybe there is a reason to think it should do better, but you need to explain that reason."},{"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"score":0,"creation_date":1681705747,"post_id":76012310,"comment_id":134093934,"body_markdown":"The reason I think it should work better is that In my opinion Postgres should work with parallel threads to meet my needs. If I make a request with 30 threads, Postgres only uses a small percentage of the resources it could use. About 30% of the CPU and 500MB of RAM.\n\nI think there might be a way to reconfigure Postgres to use more resources and/or more threads. Maybe there is a lack of threads in Postgres due to a misconfiguration.","body":"The reason I think it should work better is that In my opinion Postgres should work with parallel threads to meet my needs. If I make a request with 30 threads, Postgres only uses a small percentage of the resources it could use. About 30% of the CPU and 500MB of RAM.  I think there might be a way to reconfigure Postgres to use more resources and/or more threads. Maybe there is a lack of threads in Postgres due to a misconfiguration."}],"owner":{"account_id":12904779,"reputation":87,"user_id":9332427,"display_name":"Martin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681465237,"creation_date":1681455136,"question_id":76012310,"body_markdown":"I don&#39;t know if this is a problem with my SpringBoot application or a problem with my PostgreSQL DB.\r\n\r\nDo you have any idea where the bottleneck might be? Postgres or maybe SpringBoot configuration?\r\n\r\nI use **Postgres via docker with version 15.2** (which is the latest) - I may have to make some adjustments here?\r\n\r\nI am running 30 parallel SELECT queries (using JPA) on my PostgreSQL DB on a view through my application. The speed of each query decreases a lot due to this parallelization.\r\n\r\nIf I run **only one thread**, so the queries run sequentially, it takes between **60 and 100ms / per query**.\r\n\r\nIf I work **with 10 threads**, then each individual query requires between **140 - 500ms**.\r\n\r\nIf I work **with 30 threads**, then each individual query takes **between 500 - 900ms**. \r\n\r\nMy idea was actually that if all the queries run in parallel, they only need 100 - 200ms.\r\n\r\nMy connection pool is already set to 50.\r\nspring.datasource.hikari.minimum-idle=40\r\nspring.datasource.hikari.maximum-pool-size=50\r\n\r\nThis is how I measure the times:\r\n\r\n    log.debug(&quot;Searching for customer by id &quot; + id);\r\n    long start = System.currentTimeMillis();\r\n    List&lt;Customer&gt; customerList = this.customerRepository.findById(id);\r\n    log.debug(&quot;Finished &quot; + (System.currentTimeMillis() - start) + &quot;ms for customer by id &quot; + id);\r\n\r\nI am working with a JpaRepository:\r\n\r\n    public interface CustomerRepository extends JpaRepository&lt;Customer, String&gt;.\r\n\r\nDo I need to configure my postgreSQL DB differently?\r\nIs there a bottleneck somewhere in my application? I already measure the times directly before starting the query and after it has been completed.\r\n\r\n- Host computer has 8 CPUs\r\n- Postgres Docker Container runs without CPU or RAM limitation\r\n- Application runs on the host computer too","title":"SpringBoot parallel SELECTs on view slow down PostgreSQL query","body":"<p>I don't know if this is a problem with my SpringBoot application or a problem with my PostgreSQL DB.</p>\n<p>Do you have any idea where the bottleneck might be? Postgres or maybe SpringBoot configuration?</p>\n<p>I use <strong>Postgres via docker with version 15.2</strong> (which is the latest) - I may have to make some adjustments here?</p>\n<p>I am running 30 parallel SELECT queries (using JPA) on my PostgreSQL DB on a view through my application. The speed of each query decreases a lot due to this parallelization.</p>\n<p>If I run <strong>only one thread</strong>, so the queries run sequentially, it takes between <strong>60 and 100ms / per query</strong>.</p>\n<p>If I work <strong>with 10 threads</strong>, then each individual query requires between <strong>140 - 500ms</strong>.</p>\n<p>If I work <strong>with 30 threads</strong>, then each individual query takes <strong>between 500 - 900ms</strong>.</p>\n<p>My idea was actually that if all the queries run in parallel, they only need 100 - 200ms.</p>\n<p>My connection pool is already set to 50.\nspring.datasource.hikari.minimum-idle=40\nspring.datasource.hikari.maximum-pool-size=50</p>\n<p>This is how I measure the times:</p>\n<pre><code>log.debug(&quot;Searching for customer by id &quot; + id);\nlong start = System.currentTimeMillis();\nList&lt;Customer&gt; customerList = this.customerRepository.findById(id);\nlog.debug(&quot;Finished &quot; + (System.currentTimeMillis() - start) + &quot;ms for customer by id &quot; + id);\n</code></pre>\n<p>I am working with a JpaRepository:</p>\n<pre><code>public interface CustomerRepository extends JpaRepository&lt;Customer, String&gt;.\n</code></pre>\n<p>Do I need to configure my postgreSQL DB differently?\nIs there a bottleneck somewhere in my application? I already measure the times directly before starting the query and after it has been completed.</p>\n<ul>\n<li>Host computer has 8 CPUs</li>\n<li>Postgres Docker Container runs without CPU or RAM limitation</li>\n<li>Application runs on the host computer too</li>\n</ul>\n"},{"tags":["java","swing","calculator"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1681462683,"post_id":76013259,"comment_id":134063614,"body_markdown":"Please post sample code that shows how you achieved the current layout.","body":"Please post sample code that shows how you achieved the current layout."},{"owner":{"account_id":26551249,"reputation":25,"user_id":20180530,"display_name":"Otaku Sensei"},"score":0,"creation_date":1681462724,"post_id":76013259,"comment_id":134063622,"body_markdown":"where should i post my code? sorry for the question","body":"where should i post my code? sorry for the question"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1681462796,"post_id":76013259,"comment_id":134063639,"body_markdown":"@OtakuSensei simply [edit] your question to include a [example].","body":"@OtakuSensei simply <a href=\"https://stackoverflow.com/posts/76013259/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1681463782,"post_id":76013259,"comment_id":134063872,"body_markdown":"@OtakuSensei no it doesn&#39;t. Please read the link I gave above.","body":"@OtakuSensei no it doesn&#39;t. Please read the link I gave above."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681464831,"creation_date":1681464831,"answer_id":76013616,"question_id":76013259,"body_markdown":"You are using `GridLayout` to arrange your buttons. `GridLayout` does not support stretching one component over several rows (or columns). You can\r\n - use a `LayoutManager` that supports stretching components over multiple rows/columns restructure\r\n - your component hierarchy to use multiple containers with different layout managers\r\n\r\nto achieve the desired result.\r\n\r\nOne solution using the JDK&#39;s `GridBagLayout` might be\r\n```\r\n    JPanel p2 = new JPanel(new GridBagLayout());\r\n    ... // background, border, etc.\r\n\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    gbc.anchor = GridBagConstraints.CENTER;\r\n    gbc.fill = GridBagConstraints.BOTH;\r\n    gbc.weightx = 1;\r\n    gbc.weighty = 1;\r\n\r\n    gbc.gridx = 0;\r\n    gbc.gridy = 0;\r\n    p2.add(pOnOff, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnClr, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnDel, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnDiv, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    ++gbc.gridy;\r\n    p2.add(btnSqrt, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnSq, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnInv, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnSub, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    ++gbc.gridy;\r\n    p2.add(btn7, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn8, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn9, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnMul, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    ++gbc.gridy;\r\n    p2.add(btn4, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn5, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn6, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btnAdd, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    ++gbc.gridy;\r\n    p2.add(btn1, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn2, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btn3, gbc);\r\n    ++gbc.gridx;\r\n    gbc.gridheight = 2; // &lt;- stretch over two rows\r\n    p2.add(btnEq, gbc);\r\n\r\n    gbc.gridx = 0;\r\n    ++gbc.gridy;\r\n    gbc.gridheight = 1; // &lt;- reset vertical stretch\r\n    p2.add(btn0, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btndash, gbc);\r\n    ++gbc.gridx;\r\n    p2.add(btndot, gbc);\r\n```\r\n\r\nDisclaimer:\r\n`GridBagLayout` is not well-liked and most people prefer third-party layout managers like `MigLayout`. This sample code uses `GridBagLayout` because it comes with the JDK and does not require additional libraries.","title":"Having hard time making equals button to occupy 2 rows in 1 column","body":"<p>You are using <code>GridLayout</code> to arrange your buttons. <code>GridLayout</code> does not support stretching one component over several rows (or columns). You can</p>\n<ul>\n<li>use a <code>LayoutManager</code> that supports stretching components over multiple rows/columns restructure</li>\n<li>your component hierarchy to use multiple containers with different layout managers</li>\n</ul>\n<p>to achieve the desired result.</p>\n<p>One solution using the JDK's <code>GridBagLayout</code> might be</p>\n<pre><code>    JPanel p2 = new JPanel(new GridBagLayout());\n    ... // background, border, etc.\n\n    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.anchor = GridBagConstraints.CENTER;\n    gbc.fill = GridBagConstraints.BOTH;\n    gbc.weightx = 1;\n    gbc.weighty = 1;\n\n    gbc.gridx = 0;\n    gbc.gridy = 0;\n    p2.add(pOnOff, gbc);\n    ++gbc.gridx;\n    p2.add(btnClr, gbc);\n    ++gbc.gridx;\n    p2.add(btnDel, gbc);\n    ++gbc.gridx;\n    p2.add(btnDiv, gbc);\n\n    gbc.gridx = 0;\n    ++gbc.gridy;\n    p2.add(btnSqrt, gbc);\n    ++gbc.gridx;\n    p2.add(btnSq, gbc);\n    ++gbc.gridx;\n    p2.add(btnInv, gbc);\n    ++gbc.gridx;\n    p2.add(btnSub, gbc);\n\n    gbc.gridx = 0;\n    ++gbc.gridy;\n    p2.add(btn7, gbc);\n    ++gbc.gridx;\n    p2.add(btn8, gbc);\n    ++gbc.gridx;\n    p2.add(btn9, gbc);\n    ++gbc.gridx;\n    p2.add(btnMul, gbc);\n\n    gbc.gridx = 0;\n    ++gbc.gridy;\n    p2.add(btn4, gbc);\n    ++gbc.gridx;\n    p2.add(btn5, gbc);\n    ++gbc.gridx;\n    p2.add(btn6, gbc);\n    ++gbc.gridx;\n    p2.add(btnAdd, gbc);\n\n    gbc.gridx = 0;\n    ++gbc.gridy;\n    p2.add(btn1, gbc);\n    ++gbc.gridx;\n    p2.add(btn2, gbc);\n    ++gbc.gridx;\n    p2.add(btn3, gbc);\n    ++gbc.gridx;\n    gbc.gridheight = 2; // &lt;- stretch over two rows\n    p2.add(btnEq, gbc);\n\n    gbc.gridx = 0;\n    ++gbc.gridy;\n    gbc.gridheight = 1; // &lt;- reset vertical stretch\n    p2.add(btn0, gbc);\n    ++gbc.gridx;\n    p2.add(btndash, gbc);\n    ++gbc.gridx;\n    p2.add(btndot, gbc);\n</code></pre>\n<p>Disclaimer:\n<code>GridBagLayout</code> is not well-liked and most people prefer third-party layout managers like <code>MigLayout</code>. This sample code uses <code>GridBagLayout</code> because it comes with the JDK and does not require additional libraries.</p>\n"}],"owner":{"account_id":26551249,"reputation":25,"user_id":20180530,"display_name":"Otaku Sensei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76013616,"answer_count":1,"score":0,"last_activity_date":1681464831,"creation_date":1681462532,"question_id":76013259,"body_markdown":"    JButton btnEq = new JButton(&quot;=&quot;);\r\n    btnEq.setBackground(babyBlue); //to set color of equals btn\r\n\r\nmy code so far is just adding the button for equal I tried using getcontentpane still not working or I just don&#39;t know how to properly use it.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nSn93.png","title":"Having hard time making equals button to occupy 2 rows in 1 column","body":"<pre><code>JButton btnEq = new JButton(&quot;=&quot;);\nbtnEq.setBackground(babyBlue); //to set color of equals btn\n</code></pre>\n<p>my code so far is just adding the button for equal I tried using getcontentpane still not working or I just don't know how to properly use it.<a href=\"https://i.stack.imgur.com/nSn93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nSn93.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging","log4j","log4j2"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1681466216,"post_id":76013611,"comment_id":134064458,"body_markdown":"Not definitive, but: it seems that you are mixing log4j (https://logging.apache.org/log4j/1.2/, as indicated by the name of the config file: &quot;log4j.properties&quot;) with log4j2 (https://logging.apache.org/log4j/2.x/index.html, as indicated by the name of the testAppender class: &quot;x.y.z.Log4j2Appender&quot;). AFAIK you cannot use a Log4j2-appender with log4j 1.2.","body":"Not definitive, but: it seems that you are mixing log4j (<a href=\"https://logging.apache.org/log4j/1.2/\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/1.2</a>, as indicated by the name of the config file: &quot;log4j.properties&quot;) with log4j2 (<a href=\"https://logging.apache.org/log4j/2.x/index.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/index.html</a>, as indicated by the name of the testAppender class: &quot;x.y.z.Log4j2Appender&quot;). AFAIK you cannot use a Log4j2-appender with log4j 1.2."},{"owner":{"account_id":3969128,"reputation":123,"user_id":3274140,"display_name":"user3274140"},"score":0,"creation_date":1681547774,"post_id":76013611,"comment_id":134076755,"body_markdown":"@ThomasKl&#228;ger can i convert existing log4j.properties to log4j2 props?","body":"@ThomasKl&#228;ger can i convert existing log4j.properties to log4j2 props?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1681548737,"post_id":76013611,"comment_id":134076851,"body_markdown":"If you are using log4j then migrating the configuration properties is not enough. You will need to change your application to use log4j2 (https://logging.apache.org/log4j/2.x/manual/migration.html)","body":"If you are using log4j then migrating the configuration properties is not enough. You will need to change your application to use log4j2 (<a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/migration.html</a>)"},{"owner":{"account_id":3969128,"reputation":123,"user_id":3274140,"display_name":"user3274140"},"score":0,"creation_date":1681566922,"post_id":76013611,"comment_id":134079035,"body_markdown":"That&#39;s right and same I have done but still no logs getting created but earlier error is gone. Can you plz give provide ur inout on what can be the log4j2 props of above configuration","body":"That&#39;s right and same I have done but still no logs getting created but earlier error is gone. Can you plz give provide ur inout on what can be the log4j2 props of above configuration"}],"owner":{"account_id":3969128,"reputation":123,"user_id":3274140,"display_name":"user3274140"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681464823,"creation_date":1681464823,"question_id":76013611,"body_markdown":"Here is my log4j.properties file\r\n```\r\nlog4j.rootCategory=INFO,console,defaultAppender\r\n\r\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.console.target=System.err\r\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n\r\n\r\n\r\nlog4j.appender.defaultAppender=x.y.z.DefaultAppender\r\nlog4j.appender.defaultAppender.layout = x.y.z.JsonLayout\r\nlog4j.appender.defaultAppender.File=defaultmodule\r\nlog4j.appender.defaultAppender.Append=true\r\n\r\nlog4j.category.x.y.z.App=INFO, applicationAppender, testAppender\r\nlog4j.appender.applicationAppender=x.y.z.TestLog4jHandler\r\nlog4j.appender.applicationAppender.layout=x.y.z.JsonLayout\r\nlog4j.appender.applicationAppender.File=appmodule\r\nlog4j.appender.applicationAppender.Append=true\r\nlog4j.appender.applicationAppender.MaxBackupIndex = 10\r\n\r\nlog4j.appender.testAppender=x.y.z.Log4j2Appender\r\nlog4j.appender.testAppender.layout=x.y.z.JsonLayout\r\nlog4j.appender.testAppender.File=appmodule\r\nlog4j.appender.testAppender.Append=true\r\n\r\n```\r\nWhile using this props in my application , it throws error saying:\r\nlog4j:ERROR Could not instantiate appender named &quot;testAppender&quot;.\r\n\r\nis there any thing i am doing wrong?","title":"log4j:ERROR Could not instantiate appender named &quot;testAppender&quot;","body":"<p>Here is my log4j.properties file</p>\n<pre><code>log4j.rootCategory=INFO,console,defaultAppender\n\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.target=System.err\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d{yy/MM/dd HH:mm:ss} %p %c{1}: %m%n\n\n\nlog4j.appender.defaultAppender=x.y.z.DefaultAppender\nlog4j.appender.defaultAppender.layout = x.y.z.JsonLayout\nlog4j.appender.defaultAppender.File=defaultmodule\nlog4j.appender.defaultAppender.Append=true\n\nlog4j.category.x.y.z.App=INFO, applicationAppender, testAppender\nlog4j.appender.applicationAppender=x.y.z.TestLog4jHandler\nlog4j.appender.applicationAppender.layout=x.y.z.JsonLayout\nlog4j.appender.applicationAppender.File=appmodule\nlog4j.appender.applicationAppender.Append=true\nlog4j.appender.applicationAppender.MaxBackupIndex = 10\n\nlog4j.appender.testAppender=x.y.z.Log4j2Appender\nlog4j.appender.testAppender.layout=x.y.z.JsonLayout\nlog4j.appender.testAppender.File=appmodule\nlog4j.appender.testAppender.Append=true\n\n</code></pre>\n<p>While using this props in my application , it throws error saying:\nlog4j:ERROR Could not instantiate appender named &quot;testAppender&quot;.</p>\n<p>is there any thing i am doing wrong?</p>\n"},{"tags":["java","proxy","smtp","socks","java-19"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1681458440,"post_id":76011991,"comment_id":134062565,"body_markdown":"Does this answer your question? [JavaMail - Setting up ports, proxy and firewall](https://stackoverflow.com/questions/19092938/javamail-setting-up-ports-proxy-and-firewall)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19092938/javamail-setting-up-ports-proxy-and-firewall\">JavaMail - Setting up ports, proxy and firewall</a>"},{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":0,"creation_date":1681459978,"post_id":76011991,"comment_id":134062959,"body_markdown":"Hello @life888888 the accepted answer from that question implies that I need to use a 3rd party library. I&#39;m not keen on that idea because of security reasons. If possible I&#39;d really like to stick with standard Java classes/methods.","body":"Hello @life888888 the accepted answer from that question implies that I need to use a 3rd party library. I&#39;m not keen on that idea because of security reasons. If possible I&#39;d really like to stick with standard Java classes/methods."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681463769,"post_id":76011991,"comment_id":134063869,"body_markdown":"Do you or don&#39;t you need to use the proxy to reach the SMTP server? Your question is not clear on that. Also, the question linked by life888888 doesn&#39;t suggest you need a third-party library: the top-voted answer tells you it is built-in... However, have you tried using one way to configure socks, and leave out the other. The _&quot;SOCKS: Network unreachable&quot;_ error suggest that it can&#39;t connect to the socks proxy (or possibly, that the SOCKS proxy can&#39;t reach smtp.aaa.net; not sure).","body":"Do you or don&#39;t you need to use the proxy to reach the SMTP server? Your question is not clear on that. Also, the question linked by life888888 doesn&#39;t suggest you need a third-party library: the top-voted answer tells you it is built-in... However, have you tried using one way to configure socks, and leave out the other. The <i>&quot;SOCKS: Network unreachable&quot;</i> error suggest that it can&#39;t connect to the socks proxy (or possibly, that the SOCKS proxy can&#39;t reach smtp.aaa.net; not sure)."},{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":0,"creation_date":1681463934,"post_id":76011991,"comment_id":134063898,"body_markdown":"The test script I created using PowerShell does not need to use a proxy, I just provide the SMTP host and port and it works. As for the Java code, I have already test the code without the extra `mail.smtp.socks.host` properties, but the exception is basically the same. Regarding the linked post, the top-voted answer is what I already tried (see the code)","body":"The test script I created using PowerShell does not need to use a proxy, I just provide the SMTP host and port and it works. As for the Java code, I have already test the code without the extra <code>mail.smtp.socks.host</code> properties, but the exception is basically the same. Regarding the linked post, the top-voted answer is what I already tried (see the code)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681464422,"post_id":76011991,"comment_id":134064007,"body_markdown":"Ok, so the problem is probably that you don&#39;t need a proxy for SMTP, but the proxy is applied anyway, because you configured it with the `-DsocksProxyHost` and `-DsocksProxyPort`. I would recommend trying without those `-D` property and **without** the `&quot;mail.smtp.socks.host` and `.port` property set to see if you can connect. If that works, you may need to use a custom SocketFactory to create the `Socket` with `new Socket(Proxy.NO_PROXY)`.","body":"Ok, so the problem is probably that you don&#39;t need a proxy for SMTP, but the proxy is applied anyway, because you configured it with the <code>-DsocksProxyHost</code> and <code>-DsocksProxyPort</code>. I would recommend trying without those <code>-D</code> property and <b>without</b> the <code>&quot;mail.smtp.socks.host</code> and <code>.port</code> property set to see if you can connect. If that works, you may need to use a custom SocketFactory to create the <code>Socket</code> with <code>new Socket(Proxy.NO_PROXY)</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681464463,"post_id":76011991,"comment_id":134064015,"body_markdown":"To be clear, I&#39;m just guessing, but that is the debugging/analysis approach I would take.","body":"To be clear, I&#39;m just guessing, but that is the debugging/analysis approach I would take."},{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":0,"creation_date":1681464777,"post_id":76011991,"comment_id":134064107,"body_markdown":"Hello @MarkRotteveel Thanks, I like your `Socket(Proxy.NO_PROXY)` suggestion, I will take a look at that now. That is inline with what I suspect is going on...","body":"Hello @MarkRotteveel Thanks, I like your <code>Socket(Proxy.NO_PROXY)</code> suggestion, I will take a look at that now. That is inline with what I suspect is going on..."}],"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681464192,"creation_date":1681452098,"question_id":76011991,"body_markdown":"I have an application running on a server located in a _secure_ network. The application needs to access a few online resources, which required firewall and proxy settings to be setup. Currently everything (HTTPS &amp; SFTP) is working, except for the sending of emails.\r\n\r\nFor the application, I had to configure it to use a socks proxy and a HTTP proxy (both setup via command line options)\r\n\r\n```none\r\n-Dhttp.proxyHost=aaa.net\r\n-Dhttp.proxyPort=8080\r\n-Dhttp.nonProxyHosts=&quot;localhost|127.*|[::1]&quot;\r\n-DsocksProxyHost=socks5.aaa.net\r\n-DsocksProxyPort=8081\r\n```\r\n\r\nFrom within the network, a proxy to access the SMTP server is not required, only firewall access had to be provided for the application server to access SMTP (successfully tested via a PowerShell script, see further below).\r\n\r\nThe java code to send an email currently looks like this:\r\n\r\n```java\r\nproperties.put(&quot;mail.smtp.auth&quot;, &quot;false&quot;);\r\nproperties.put(&quot;mail.smtp.timeout&quot;, 5000); // I read somewhere in another post that increasing the timeout can help, but it didn&#39;t\r\nproperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); // also tried &quot;false&quot;\r\n//properties.put(&quot;mail.smtp.ssl.trust&quot;, host);\r\nproperties.put(&quot;mail.smtp.host&quot;, host);\r\nproperties.put(&quot;mail.smtp.port&quot;, port);\r\n// I tested the above configuration first, before adding the following. The result was the same (it didn&#39;t work)\r\nproperties.put(&quot;mail.smtp.socks.host&quot;, &quot;socks5.aaa.net&quot;);\r\nproperties.put(&quot;mail.smtp.socks.port&quot;, 8081);\r\n\r\nMailSSLSocketFactory sf = new MailSSLSocketFactory(); // I&#39;ve tested with and without this, the result seems to be the same\r\nsf.setTrustAllHosts(true);\r\nproperties.put(&quot;mail.smtp.ssl.socketFactory&quot;, sf);\r\n\r\nsession = Session.getInstance(properties);\r\n\r\nMessage message = createAndFillMessage( .... ); // all the blah blah for the message\r\n\r\nTransport.send(message);\r\n```\r\n\r\nThe following error is what I get when the code runs (the Network is actually reachable, see further below)\r\n\r\n```none\r\ncom.sun.mail.util.MailConnectException: Couldn&#39;t connect to host, port: smtp.aaa.net, 25; timeout -1; Using SOCKS host, port: socks5.aaa.net, 8081;\r\n  nested exception is:\r\n\tjava.net.SocketException: SOCKS: Network unreachable\r\n\tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2209)\r\n\tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:740)\r\n\tat javax.mail.Service.connect(Service.java:366)\r\n\tat javax.mail.Service.connect(Service.java:246)\r\n\tat javax.mail.Service.connect(Service.java:195)\r\n\tat javax.mail.Transport.send0(Transport.java:254)\r\n\tat javax.mail.Transport.send(Transport.java:124)\r\nCaused by: java.net.SocketException: SOCKS: Network unreachable\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:487)\r\n\tat java.base/java.net.Socket.connect(Socket.java:666)\r\n\tat java.base/java.net.Socket.connect(Socket.java:600)\r\n\tat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:359)\r\n\tat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)\r\n\tat com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2175)\r\n\t... 8 more\r\n```\r\n\r\nWhat I find extra confusing is that I&#39;ve tested SMTP (from the server) via a simple PowerShell script to send an email using `Send-MailMessage` and for the PowerShell script I didn&#39;t have to enter any proxy details, just a plain text connection, no authorization or anything special and it just worked ... however, everything I&#39;ve tried within the Java application has failed so far.\r\n\r\nMy suspicion is that the problem lies with the fact that I had to configure a SOCKS proxy for the SFTP connection, which is now somehow interfering with (what should be) a simple SMTP call.\r\n\r\nCurrently, Java 19 (OpenJDK 19) is being used on the server.\r\n","title":"Unable to send email from behind a firewall/proxy","body":"<p>I have an application running on a server located in a <em>secure</em> network. The application needs to access a few online resources, which required firewall and proxy settings to be setup. Currently everything (HTTPS &amp; SFTP) is working, except for the sending of emails.</p>\n<p>For the application, I had to configure it to use a socks proxy and a HTTP proxy (both setup via command line options)</p>\n<pre class=\"lang-none prettyprint-override\"><code>-Dhttp.proxyHost=aaa.net\n-Dhttp.proxyPort=8080\n-Dhttp.nonProxyHosts=&quot;localhost|127.*|[::1]&quot;\n-DsocksProxyHost=socks5.aaa.net\n-DsocksProxyPort=8081\n</code></pre>\n<p>From within the network, a proxy to access the SMTP server is not required, only firewall access had to be provided for the application server to access SMTP (successfully tested via a PowerShell script, see further below).</p>\n<p>The java code to send an email currently looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>properties.put(&quot;mail.smtp.auth&quot;, &quot;false&quot;);\nproperties.put(&quot;mail.smtp.timeout&quot;, 5000); // I read somewhere in another post that increasing the timeout can help, but it didn't\nproperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); // also tried &quot;false&quot;\n//properties.put(&quot;mail.smtp.ssl.trust&quot;, host);\nproperties.put(&quot;mail.smtp.host&quot;, host);\nproperties.put(&quot;mail.smtp.port&quot;, port);\n// I tested the above configuration first, before adding the following. The result was the same (it didn't work)\nproperties.put(&quot;mail.smtp.socks.host&quot;, &quot;socks5.aaa.net&quot;);\nproperties.put(&quot;mail.smtp.socks.port&quot;, 8081);\n\nMailSSLSocketFactory sf = new MailSSLSocketFactory(); // I've tested with and without this, the result seems to be the same\nsf.setTrustAllHosts(true);\nproperties.put(&quot;mail.smtp.ssl.socketFactory&quot;, sf);\n\nsession = Session.getInstance(properties);\n\nMessage message = createAndFillMessage( .... ); // all the blah blah for the message\n\nTransport.send(message);\n</code></pre>\n<p>The following error is what I get when the code runs (the Network is actually reachable, see further below)</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.sun.mail.util.MailConnectException: Couldn't connect to host, port: smtp.aaa.net, 25; timeout -1; Using SOCKS host, port: socks5.aaa.net, 8081;\n  nested exception is:\n    java.net.SocketException: SOCKS: Network unreachable\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2209)\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:740)\n    at javax.mail.Service.connect(Service.java:366)\n    at javax.mail.Service.connect(Service.java:246)\n    at javax.mail.Service.connect(Service.java:195)\n    at javax.mail.Transport.send0(Transport.java:254)\n    at javax.mail.Transport.send(Transport.java:124)\nCaused by: java.net.SocketException: SOCKS: Network unreachable\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:487)\n    at java.base/java.net.Socket.connect(Socket.java:666)\n    at java.base/java.net.Socket.connect(Socket.java:600)\n    at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:359)\n    at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)\n    at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2175)\n    ... 8 more\n</code></pre>\n<p>What I find extra confusing is that I've tested SMTP (from the server) via a simple PowerShell script to send an email using <code>Send-MailMessage</code> and for the PowerShell script I didn't have to enter any proxy details, just a plain text connection, no authorization or anything special and it just worked ... however, everything I've tried within the Java application has failed so far.</p>\n<p>My suspicion is that the problem lies with the fact that I had to configure a SOCKS proxy for the SFTP connection, which is now somehow interfering with (what should be) a simple SMTP call.</p>\n<p>Currently, Java 19 (OpenJDK 19) is being used on the server.</p>\n"},{"tags":["java","kotlin","inheritance","overriding"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1681462455,"post_id":76012673,"comment_id":134063561,"body_markdown":"Is Advanced.kt in your attempt to mimic the problem in the same package as the other files? If so, then you have not mimicked the problem.","body":"Is Advanced.kt in your attempt to mimic the problem in the same package as the other files? If so, then you have not mimicked the problem."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681464016,"creation_date":1681464016,"answer_id":76013480,"question_id":76012673,"body_markdown":"In Java, members of a class that are not marked with any access modifiers are *package-private*. They can only be accessed within the package in which the class is declared. The `createSpec` method is such a member.\r\n\r\nSince your Kotlin code is in another package, not `com.google.android.material.progressindicator`, you cannot access `createSpec`, so you cannot override it.\r\n\r\nAlso, if you were allowed to override it, you would be exposing the method to the code in your own package, which is not supposed to happen.\r\n\r\nYour attempt at mimicking the problem compiles just fine, presumably because you put all the code in the same package.\r\n\r\nSince what you are doing is just &quot;for fun&quot;, you can create your own `com.google.android.material.progressindicator` package and put the `BaseProgressIndicator` subclass in there.\r\n\r\n```\r\n// move the file to this package too!\r\npackage com.google.android.material.progressindicator\r\n\r\nclass AdvancedLinearProgressIndicator(...) : BaseProgressIndicator(...) {\r\n    // ...\r\n}\r\n```","title":"Subtyping &quot;some&quot; Java classes in the form of derived Kotlin classes doesn&#39;t seem to work","body":"<p>In Java, members of a class that are not marked with any access modifiers are <em>package-private</em>. They can only be accessed within the package in which the class is declared. The <code>createSpec</code> method is such a member.</p>\n<p>Since your Kotlin code is in another package, not <code>com.google.android.material.progressindicator</code>, you cannot access <code>createSpec</code>, so you cannot override it.</p>\n<p>Also, if you were allowed to override it, you would be exposing the method to the code in your own package, which is not supposed to happen.</p>\n<p>Your attempt at mimicking the problem compiles just fine, presumably because you put all the code in the same package.</p>\n<p>Since what you are doing is just &quot;for fun&quot;, you can create your own <code>com.google.android.material.progressindicator</code> package and put the <code>BaseProgressIndicator</code> subclass in there.</p>\n<pre><code>// move the file to this package too!\npackage com.google.android.material.progressindicator\n\nclass AdvancedLinearProgressIndicator(...) : BaseProgressIndicator(...) {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":6987204,"reputation":13,"user_id":5357642,"display_name":"Jason Holdsworth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76013480,"answer_count":1,"score":1,"last_activity_date":1681464016,"creation_date":1681458169,"question_id":76012673,"body_markdown":"Since you can&#39;t subtype **LinearProgressIndicator**, I&#39;ve been trying to subtype **BaseProgressIndicator** (for fun) as a derived Kotlin class I&#39;m calling **AdvancedLinearProgressIndicator**. I stumbled on the following issue:\r\n\r\n`&#39;public open fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec defined in AdvancedLinearProgressIndicator&#39; has no access to &#39;public/*package*/ abstract fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec! defined in com.google.android.material.progressindicator.BaseProgressIndicator&#39;, so it cannot override it`\r\n\r\nThe Java code for **BaseProgressIndicator** is here: [BaseProgressIndicator.java](https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/progressindicator/BaseProgressIndicator.java), but I think the important parts to consider are:\r\n\r\n```\r\npublic abstract class BaseProgressIndicator&lt;S extends BaseProgressIndicatorSpec&gt;\r\n    extends ProgressBar {\r\n\r\n   ...\r\n\r\n  S spec;\r\n\r\n   ...\r\n\r\n  protected BaseProgressIndicator(\r\n      @NonNull Context context,\r\n      @Nullable AttributeSet attrs,\r\n      @AttrRes final int defStyleAttr,\r\n      @StyleRes final int defStyleRes) {\r\n    super(wrap(context, attrs, defStyleAttr, DEF_STYLE_RES), attrs, defStyleAttr);\r\n\r\n   ...\r\n\r\n    spec = createSpec(context, attrs);\r\n\r\n   ...\r\n\r\n  }\r\n\r\n  abstract S createSpec(@NonNull Context context, @NonNull AttributeSet attrs);\r\n\r\n   ...\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nHere is the Kotlin code I started creating:\r\n```\r\nclass AdvancedLinearProgressIndicator(\r\n    context: Context,\r\n    attrs: AttributeSet?,\r\n    @AttrRes defStyleAttr: Int\r\n) : BaseProgressIndicator&lt;LinearProgressIndicatorSpec&gt;(\r\n    context,\r\n    attrs,\r\n    defStyleAttr,\r\n    com.google.android.material.R.style.Widget_Material3_LinearProgressIndicator\r\n) {\r\n\r\n   override fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec {\r\n        return LinearProgressIndicatorSpec(context, attrs)\r\n    }\r\n}\r\n```\r\n\r\nNo matter what I tried, Kotlin won&#39;t let me override `createSpec()`\r\n\r\nAlso, I can&#39;t access the `spec` member field from **BaseProgressIndicator** in **AdvancedLinearProgressIndicator** either...\r\n\r\n\r\nAny thoughts?\r\n\r\nBy the way, I tried to mimic this issue as follows:\r\n\r\n```\r\n// BaseSpec.java\r\nimport android.content.Context;\r\n\r\npublic abstract class BaseSpec {\r\n\r\n    protected BaseSpec(Context context) {\r\n\r\n    }\r\n\r\n    abstract void validateSpec();\r\n}\r\n\r\n// AdvancedSpec.java\r\npublic final class AdvancedSpec extends BaseSpec {\r\n\r\n    public AdvancedSpec(Context context) {\r\n        super(context);\r\n        validateSpec();\r\n    }\r\n\r\n    @Override\r\n    void validateSpec() {\r\n\r\n    }\r\n}\r\n\r\n// Basic.java\r\nimport android.content.Context;\r\nimport android.widget.ProgressBar;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\npublic abstract class Basic&lt;S extends BaseSpec&gt; extends ProgressBar {\r\n    S spec;\r\n\r\n    protected Basic(@NonNull Context context) {\r\n        super(context);\r\n        spec = createSpec(context);\r\n    }\r\n\r\n    abstract S createSpec(@NonNull Context context);\r\n}\r\n\r\n// Advanced.kt\r\nimport android.content.Context\r\n\r\nclass Advanced(context: Context) : Basic&lt;AdvancedSpec&gt;(context) {\r\n\r\n    override fun createSpec(context: Context): AdvancedSpec {\r\n        spec.validateSpec()\r\n        return AdvancedSpec(context)\r\n    }\r\n}\r\n```\r\n\r\nThis test code works fine... no issue with the `createSpec()` method in my derived Kotlin class - and no issue access the `spec` member field...","title":"Subtyping &quot;some&quot; Java classes in the form of derived Kotlin classes doesn&#39;t seem to work","body":"<p>Since you can't subtype <strong>LinearProgressIndicator</strong>, I've been trying to subtype <strong>BaseProgressIndicator</strong> (for fun) as a derived Kotlin class I'm calling <strong>AdvancedLinearProgressIndicator</strong>. I stumbled on the following issue:</p>\n<p><code>'public open fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec defined in AdvancedLinearProgressIndicator' has no access to 'public/*package*/ abstract fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec! defined in com.google.android.material.progressindicator.BaseProgressIndicator', so it cannot override it</code></p>\n<p>The Java code for <strong>BaseProgressIndicator</strong> is here: <a href=\"https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/progressindicator/BaseProgressIndicator.java\" rel=\"nofollow noreferrer\">BaseProgressIndicator.java</a>, but I think the important parts to consider are:</p>\n<pre><code>public abstract class BaseProgressIndicator&lt;S extends BaseProgressIndicatorSpec&gt;\n    extends ProgressBar {\n\n   ...\n\n  S spec;\n\n   ...\n\n  protected BaseProgressIndicator(\n      @NonNull Context context,\n      @Nullable AttributeSet attrs,\n      @AttrRes final int defStyleAttr,\n      @StyleRes final int defStyleRes) {\n    super(wrap(context, attrs, defStyleAttr, DEF_STYLE_RES), attrs, defStyleAttr);\n\n   ...\n\n    spec = createSpec(context, attrs);\n\n   ...\n\n  }\n\n  abstract S createSpec(@NonNull Context context, @NonNull AttributeSet attrs);\n\n   ...\n\n}\n\n</code></pre>\n<p>Here is the Kotlin code I started creating:</p>\n<pre><code>class AdvancedLinearProgressIndicator(\n    context: Context,\n    attrs: AttributeSet?,\n    @AttrRes defStyleAttr: Int\n) : BaseProgressIndicator&lt;LinearProgressIndicatorSpec&gt;(\n    context,\n    attrs,\n    defStyleAttr,\n    com.google.android.material.R.style.Widget_Material3_LinearProgressIndicator\n) {\n\n   override fun createSpec(context: Context, attrs: AttributeSet): LinearProgressIndicatorSpec {\n        return LinearProgressIndicatorSpec(context, attrs)\n    }\n}\n</code></pre>\n<p>No matter what I tried, Kotlin won't let me override <code>createSpec()</code></p>\n<p>Also, I can't access the <code>spec</code> member field from <strong>BaseProgressIndicator</strong> in <strong>AdvancedLinearProgressIndicator</strong> either...</p>\n<p>Any thoughts?</p>\n<p>By the way, I tried to mimic this issue as follows:</p>\n<pre><code>// BaseSpec.java\nimport android.content.Context;\n\npublic abstract class BaseSpec {\n\n    protected BaseSpec(Context context) {\n\n    }\n\n    abstract void validateSpec();\n}\n\n// AdvancedSpec.java\npublic final class AdvancedSpec extends BaseSpec {\n\n    public AdvancedSpec(Context context) {\n        super(context);\n        validateSpec();\n    }\n\n    @Override\n    void validateSpec() {\n\n    }\n}\n\n// Basic.java\nimport android.content.Context;\nimport android.widget.ProgressBar;\n\nimport androidx.annotation.NonNull;\n\npublic abstract class Basic&lt;S extends BaseSpec&gt; extends ProgressBar {\n    S spec;\n\n    protected Basic(@NonNull Context context) {\n        super(context);\n        spec = createSpec(context);\n    }\n\n    abstract S createSpec(@NonNull Context context);\n}\n\n// Advanced.kt\nimport android.content.Context\n\nclass Advanced(context: Context) : Basic&lt;AdvancedSpec&gt;(context) {\n\n    override fun createSpec(context: Context): AdvancedSpec {\n        spec.validateSpec()\n        return AdvancedSpec(context)\n    }\n}\n</code></pre>\n<p>This test code works fine... no issue with the <code>createSpec()</code> method in my derived Kotlin class - and no issue access the <code>spec</code> member field...</p>\n"},{"tags":["java","android-studio","tensorflow","deep-learning","google-colaboratory"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681317061,"post_id":75996700,"comment_id":134038035,"body_markdown":"It&#39;s not clear: is the training and test data the same in both locations?","body":"It&#39;s not clear: is the training and test data the same in both locations?"},{"owner":{"account_id":28193194,"reputation":11,"user_id":21548264,"display_name":"Shafaq Iqbal"},"score":0,"creation_date":1681462302,"post_id":75996700,"comment_id":134063520,"body_markdown":"yes probably...  Training dataset contained more data than testing... I have trained the model with 12000 images while testing and validation dataset has 1200 images in both.   I am accessing these dataset through drive in Collab","body":"yes probably...  Training dataset contained more data than testing... I have trained the model with 12000 images while testing and validation dataset has 1200 images in both.   I am accessing these dataset through drive in Collab"},{"owner":{"account_id":28193194,"reputation":11,"user_id":21548264,"display_name":"Shafaq Iqbal"},"score":0,"creation_date":1681462522,"post_id":75996700,"comment_id":134063579,"body_markdown":"the code I provide above is to save the model with tensor flow extension so I can import it in android studio but accuracy is not coming good!!","body":"the code I provide above is to save the model with tensor flow extension so I can import it in android studio but accuracy is not coming good!!"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681477245,"post_id":75996700,"comment_id":134066931,"body_markdown":"Try a small subset of the testing data in both locations, and share that here. That would help narrow down the problem.","body":"Try a small subset of the testing data in both locations, and share that here. That would help narrow down the problem."},{"owner":{"account_id":28193194,"reputation":11,"user_id":21548264,"display_name":"Shafaq Iqbal"},"score":0,"creation_date":1681487915,"post_id":75996700,"comment_id":134069706,"body_markdown":"you mean, I should trained a model with more small number of testing data than previous?    Should I do any change in training dataset or not?","body":"you mean, I should trained a model with more small number of testing data than previous?    Should I do any change in training dataset or not?"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1681508261,"post_id":75996700,"comment_id":134073504,"body_markdown":"No... If you have trained the model once, then the results should be the same regardless of where the model is deployed. This leads me to believe that test data in both deployments is different.","body":"No... If you have trained the model once, then the results should be the same regardless of where the model is deployed. This leads me to believe that test data in both deployments is different."},{"owner":{"account_id":28193194,"reputation":11,"user_id":21548264,"display_name":"Shafaq Iqbal"},"score":0,"creation_date":1681548399,"post_id":75996700,"comment_id":134076821,"body_markdown":"hey @ryanwebjackson thanks for your help. But still I am not getting it what you are trying to say about the testing dataset to improve accuracy!","body":"hey @ryanwebjackson thanks for your help. But still I am not getting it what you are trying to say about the testing dataset to improve accuracy!"}],"owner":{"account_id":28193194,"reputation":11,"user_id":21548264,"display_name":"Shafaq Iqbal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681463891,"creation_date":1681309921,"question_id":75996700,"body_markdown":"when I am running app in mobile, it does not recognize some images of diseases but its Collab code accuracy is above 90%. we save the Collab model with tensor flow extension (code given below)then import it into android studio and copy its java in android. \r\n\r\nis there any problem in this method? why accuracy is not good?\r\n\r\nhere is the code,\r\n\r\n    import tensorflow as tf\r\n\r\n    from keras.models import load_model\r\n    model = load_model(&quot;VGG19-Final.h5&quot;)\r\n    converter = tf.lite.TFLiteConverter.from_keras_model(model)\r\n    tfmodel = converter.convert() \r\n    open(&quot;Model.tflite&quot;, &quot;wb&quot;) .write(tfmodel)","title":"how to integrate google Collab code in android studio in a right way?","body":"<p>when I am running app in mobile, it does not recognize some images of diseases but its Collab code accuracy is above 90%. we save the Collab model with tensor flow extension (code given below)then import it into android studio and copy its java in android.</p>\n<p>is there any problem in this method? why accuracy is not good?</p>\n<p>here is the code,</p>\n<pre><code>import tensorflow as tf\n\nfrom keras.models import load_model\nmodel = load_model(&quot;VGG19-Final.h5&quot;)\nconverter = tf.lite.TFLiteConverter.from_keras_model(model)\ntfmodel = converter.convert() \nopen(&quot;Model.tflite&quot;, &quot;wb&quot;) .write(tfmodel)\n</code></pre>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1681458719,"post_id":76011468,"comment_id":134062639,"body_markdown":"Can you edit your question with your test code? Do you load both classes in succession or just one before you try to instantiate C?","body":"Can you edit your question with your test code? Do you load both classes in succession or just one before you try to instantiate C?"},{"owner":{"account_id":28299739,"reputation":3,"user_id":21638588,"display_name":"ksmb175"},"score":0,"creation_date":1681463311,"post_id":76011468,"comment_id":134063747,"body_markdown":"The order of loading doesn&#39;t matter. I can load the first class","body":"The order of loading doesn&#39;t matter. I can load the first class"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1681463869,"post_id":76011468,"comment_id":134063890,"body_markdown":"See answer. I recreated your situation and solved it.","body":"See answer. I recreated your situation and solved it."}],"answers":[{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681463829,"creation_date":1681463829,"answer_id":76013458,"question_id":76011468,"body_markdown":"When you define or load a class, is not initialized yet. According to the [Java language specification](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.1), initialization happens when one of the following occurs:\r\n&gt; - T is a class and an instance of T is created.\r\n&gt; - A static method declared by T is invoked.\r\n&gt; - A static field declared by T is assigned.\r\n&gt; - A static field declared by T is used and the field is not a constant variable (&#167;4.12.4).\r\n\r\nYour call to `GetStaticMethodID` causes the initialization of class C, which in turn requires the initialization of `D_REFERENCE`, which causes the instantiation of a new D object, which causes the initialization of class D.\r\n\r\nIf you add basic error checking to your code the problem is immediately obvious:\r\n\r\n\tjmethodID C_printer = jniEnv-&gt;GetStaticMethodID(loadedClass, &quot;printer&quot;, &quot;()V&quot;);\r\n\tif (jniEnv-&gt;ExceptionOccurred()) {\r\n\t\tjniEnv-&gt;ExceptionDescribe();\r\n\t\treturn 1;\r\n\t}\r\n\r\nThis prints:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: D\r\n\tat C.&lt;clinit&gt;(C.java:2)\r\nCaused by: java.lang.ClassNotFoundException: D\r\n```\r\nwhere `&lt;clinit&gt;` is the internal class initialization method.\r\n\r\nIf you also `DefineClass` D *before* accessing any of the members of C or creating an instance, the initialization process will see that D has been loaded and can continue as normal.\r\n\r\nAnd just because I was curious: the [Java class initialization process](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.2) tolerates recursive initializations:\r\n&gt;  If the Class object for C indicates that initialization is in progress for C by the current thread, then this must be a recursive request for initialization. Release LC and complete normally.\r\n","title":"JNI + DefineClass + class cross reference","body":"<p>When you define or load a class, is not initialized yet. According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.1\" rel=\"nofollow noreferrer\">Java language specification</a>, initialization happens when one of the following occurs:</p>\n<blockquote>\n<ul>\n<li>T is a class and an instance of T is created.</li>\n<li>A static method declared by T is invoked.</li>\n<li>A static field declared by T is assigned.</li>\n<li>A static field declared by T is used and the field is not a constant variable (§4.12.4).</li>\n</ul>\n</blockquote>\n<p>Your call to <code>GetStaticMethodID</code> causes the initialization of class C, which in turn requires the initialization of <code>D_REFERENCE</code>, which causes the instantiation of a new D object, which causes the initialization of class D.</p>\n<p>If you add basic error checking to your code the problem is immediately obvious:</p>\n<pre><code>jmethodID C_printer = jniEnv-&gt;GetStaticMethodID(loadedClass, &quot;printer&quot;, &quot;()V&quot;);\nif (jniEnv-&gt;ExceptionOccurred()) {\n    jniEnv-&gt;ExceptionDescribe();\n    return 1;\n}\n</code></pre>\n<p>This prints:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: D\n    at C.&lt;clinit&gt;(C.java:2)\nCaused by: java.lang.ClassNotFoundException: D\n</code></pre>\n<p>where <code>&lt;clinit&gt;</code> is the internal class initialization method.</p>\n<p>If you also <code>DefineClass</code> D <em>before</em> accessing any of the members of C or creating an instance, the initialization process will see that D has been loaded and can continue as normal.</p>\n<p>And just because I was curious: the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">Java class initialization process</a> tolerates recursive initializations:</p>\n<blockquote>\n<p>If the Class object for C indicates that initialization is in progress for C by the current thread, then this must be a recursive request for initialization. Release LC and complete normally.</p>\n</blockquote>\n"}],"owner":{"account_id":28299739,"reputation":3,"user_id":21638588,"display_name":"ksmb175"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76013458,"answer_count":1,"score":0,"last_activity_date":1681463829,"creation_date":1681444283,"question_id":76011468,"body_markdown":"I&#39;ve come across with a jni problem. There are two Java classes \r\n\r\n```\r\npublic class C {\r\n    public static final D D_REFERENCE = new D();\r\n    \r\n    public static void printer(){\r\n        System.out.println(&quot;C check&quot;);\r\n    }\r\n```\r\n\r\nand \r\n\r\n\r\n```\r\npublic class D {\r\n    public static final C C_REFERENCE = new C();\r\n    \r\n    public static void printer(){\r\n        System.out.println(&quot;D check&quot;);\r\n    }\r\n}\r\n```\r\nWhen I try to load these classes using code below nothing happens.\r\n```\r\nloadedClass = jniEnv-&gt;DefineClass(classtoload, system_loader, jniEnv-&gt;GetByteArrayElements(binaryClass, 0), num_bytes);\r\n```\r\nloadedClass not NULL but I can&#39;t call java method printer() \r\n\r\n```\r\nmethodid = jniEnv-&gt;GetStaticMethodID(loadedClass, &quot;printer&quot;, &quot;()V&quot;);\r\n```\r\n\r\nWhen I remove `public static final D D_REFERENCE = new D();` and `public static final C C_REFERENCE = new C();` from classes, everything is ok, and method `printer()` is called correctly. So the question is - is it possible to use DefineClass on classes with a cross reference, and if so, how?","title":"JNI + DefineClass + class cross reference","body":"<p>I've come across with a jni problem. There are two Java classes</p>\n<pre><code>public class C {\n    public static final D D_REFERENCE = new D();\n    \n    public static void printer(){\n        System.out.println(&quot;C check&quot;);\n    }\n</code></pre>\n<p>and</p>\n<pre><code>public class D {\n    public static final C C_REFERENCE = new C();\n    \n    public static void printer(){\n        System.out.println(&quot;D check&quot;);\n    }\n}\n</code></pre>\n<p>When I try to load these classes using code below nothing happens.</p>\n<pre><code>loadedClass = jniEnv-&gt;DefineClass(classtoload, system_loader, jniEnv-&gt;GetByteArrayElements(binaryClass, 0), num_bytes);\n</code></pre>\n<p>loadedClass not NULL but I can't call java method printer()</p>\n<pre><code>methodid = jniEnv-&gt;GetStaticMethodID(loadedClass, &quot;printer&quot;, &quot;()V&quot;);\n</code></pre>\n<p>When I remove <code>public static final D D_REFERENCE = new D();</code> and <code>public static final C C_REFERENCE = new C();</code> from classes, everything is ok, and method <code>printer()</code> is called correctly. So the question is - is it possible to use DefineClass on classes with a cross reference, and if so, how?</p>\n"},{"tags":["java","spring-boot","post","request"],"answers":[{"comments":[{"owner":{"account_id":20785514,"reputation":137,"user_id":15264820,"display_name":"Vidushika Dasanayka"},"score":1,"creation_date":1681145577,"post_id":75977529,"comment_id":134005931,"body_markdown":"Yeah it worked! Thank you so much for your prompt and helpful response! Your answer solved my issue perfectly and saved me.","body":"Yeah it worked! Thank you so much for your prompt and helpful response! Your answer solved my issue perfectly and saved me."}],"tags":[],"owner":{"account_id":24034349,"reputation":635,"user_id":18014805,"display_name":"Ramesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681133097,"creation_date":1681133097,"answer_id":75977529,"question_id":75976409,"body_markdown":"I have noticed two things here,\r\n\r\n1). In your post method you have sending a multipart file and event class. but you sending them as @Request param.. instead do this\r\n\r\n    @PostMapping(value=&quot;saveEvent&quot;)\r\n    public ResponseEntity&lt;String&gt; saveEvent(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;body&quot;) Event event) // you can also pass json as string value and then map into objects\r\n\r\n2). your request from the postman should be like this.(sample)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rxvMO.png","title":"How to convert the MultipartFile into byte array in spring Boot","body":"<p>I have noticed two things here,</p>\n<p>1). In your post method you have sending a multipart file and event class. but you sending them as @Request param.. instead do this</p>\n<pre><code>@PostMapping(value=&quot;saveEvent&quot;)\npublic ResponseEntity&lt;String&gt; saveEvent(@RequestPart(&quot;file&quot;) MultipartFile file, @RequestPart(&quot;body&quot;) Event event) // you can also pass json as string value and then map into objects\n</code></pre>\n<p>2). your request from the postman should be like this.(sample)</p>\n<p><a href=\"https://i.stack.imgur.com/rxvMO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rxvMO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20785514,"reputation":137,"user_id":15264820,"display_name":"Vidushika Dasanayka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75977529,"answer_count":1,"score":0,"last_activity_date":1681463722,"creation_date":1681123517,"question_id":75976409,"body_markdown":"I&#39;m working on a spring boot project where I use postgresql as my database. In my project I need to create an event and save the details of the event along with the event flyer. I&#39;m passing the event flyer to the eventController as a multipartFile and in the Service class I will convert it to a byte array using method `getBytes()` . I implemented the code as follows and tried to send a request using postman. \r\n\r\nThis is my Event Entity :\r\n```\r\n`package com.example.attendingsystembackend.model;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Lob;\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\n@Entity\r\npublic class Event {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name=&quot;system-uuid&quot;,strategy = &quot;uuid&quot;)\r\n    private String id;\r\n\r\n    @NotBlank(message = &quot;Event name cannot be blank&quot;)\r\n    private String eventName;\r\n\r\n    private String eventType;\r\n\r\n    @NotBlank(message = &quot;Event location cannot be blank&quot;)\r\n    private String location;\r\n\r\n    @NotNull\r\n    private LocalDateTime startTime;\r\n\r\n    @NotNull\r\n    private LocalDateTime endTime;\r\n\r\n    @Lob\r\n    private byte[] eventFlyer;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getEventName() {\r\n        return eventName;\r\n    }\r\n\r\n    public void setEventName(String eventName) {\r\n        this.eventName = eventName;\r\n    }\r\n\r\n    public String getEventType() {\r\n        return eventType;\r\n    }\r\n\r\n    public void setEventType(String eventType) {\r\n        this.eventType = eventType;\r\n    }\r\n\r\n    public String getLocation() {\r\n        return location;\r\n    }\r\n\r\n    public void setLocation(String location) {\r\n        this.location = location;\r\n    }\r\n\r\n    public LocalDateTime getStartTime() {\r\n        return startTime;\r\n    }\r\n\r\n    public void setStartTime(LocalDateTime startTime) {\r\n        this.startTime = startTime;\r\n    }\r\n\r\n    public LocalDateTime getEndTime() {\r\n        return endTime;\r\n    }\r\n\r\n    public void setEndTime(LocalDateTime endTime) {\r\n        this.endTime = endTime;\r\n    }\r\n\r\n    public byte[] getEventFlyer() {\r\n        return eventFlyer;\r\n    }\r\n\r\n    public void setEventFlyer(byte[] eventFlyer) {\r\n        this.eventFlyer = eventFlyer;\r\n    }\r\n}`\r\n```\r\n\r\nAnd this is my event service class:\r\n\r\n```\r\npackage com.example.attendingsystembackend.service;\r\n\r\nimport com.example.attendingsystembackend.model.Event;\r\nimport com.example.attendingsystembackend.repository.EventRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport java.io.IOException;\r\n\r\n@Service\r\npublic class EventService {\r\n\r\n    private final EventRepository eventRepository;\r\n\r\n    @Autowired\r\n    public EventService(EventRepository eventRepository) {\r\n        this.eventRepository = eventRepository;\r\n    }\r\n\r\n    public void saveEvent(MultipartFile file, Event event) throws IOException {\r\n\r\n        Event newEvent=new Event();\r\n\r\n        newEvent.setEventName(event.getEventName());\r\n        newEvent.setEventType(event.getEventType());\r\n        newEvent.setLocation(event.getLocation());\r\n        newEvent.setStartTime(event.getStartTime());\r\n        newEvent.setEndTime(event.getEndTime());\r\n\r\n        if(file!=null &amp;&amp; !file.isEmpty()) {\r\n            byte[] fileBytes = file.getBytes();\r\n            newEvent.setEventFlyer(fileBytes);\r\n        }else{\r\n            newEvent.setEventFlyer(null);\r\n        }\r\n\r\n        eventRepository.save(newEvent);\r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n```\r\n\r\nAnd here is my event controller class:\r\n\r\n```\r\npackage com.example.attendingsystembackend.controller;\r\n\r\nimport com.example.attendingsystembackend.model.Event;\r\nimport com.example.attendingsystembackend.service.EventService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api/event&quot;)\r\npublic class EventController {\r\n\r\n    private final EventService eventService;\r\n\r\n    @Autowired\r\n    public EventController(EventService eventService) {\r\n        this.eventService = eventService;\r\n    }\r\n\r\n    @PostMapping(value=&quot;saveEvent&quot;)\r\n    public ResponseEntity&lt;String&gt; saveEvent(@RequestParam(value = &quot;file&quot;, required = false) MultipartFile file, Event event) {\r\n        try {\r\n            eventService.saveEvent(file,event);\r\n\r\n            return ResponseEntity.status(HttpStatus.OK)\r\n                    .body(String.format(&quot;Event saved succesfully with file: %s&quot;, file.getOriginalFilename()));\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\r\n                    .body(String.format(&quot;Could not save the event: %s!&quot;, e));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd tried to send request using postman as follows:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/1N0hH.png)](https://i.stack.imgur.com/1N0hH.png)\r\n\r\n\r\nBut Unfortunately I&#39;m getting the following error:\r\n```\r\nValidation failed for argument [1] in public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.example.attendingsystembackend.controller.EventController.saveEvent(org.springframework.web.multipart.MultipartFile,com.example.attendingsystembackend.model.Event): [Field error in object &#39;event&#39; on field &#39;eventFlyer&#39;: rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@42f6b750]; codes [typeMismatch.event.eventFlyer,typeMismatch.eventFlyer,typeMismatch.[B,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [event.eventFlyer,eventFlyer]; arguments []; default message [eventFlyer]]; default message [Failed to convert property value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39; to required type &#39;byte[]&#39; for property &#39;eventFlyer&#39;; Cannot convert value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39; to required type &#39;byte&#39; for property &#39;eventFlyer[0]&#39;: PropertyEditor [org.springframework.beans.propertyeditors.CustomNumberEditor] returned inappropriate value of type &#39;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile&#39;]] ]\r\n```\r\n\r\nAs I feel the error occured when converting `MultiPartFile` to `byte[] ` Can someone help me with this issue? What is the mistake I have done here? Thank you in advance.\r\n","title":"How to convert the MultipartFile into byte array in spring Boot","body":"<p>I'm working on a spring boot project where I use postgresql as my database. In my project I need to create an event and save the details of the event along with the event flyer. I'm passing the event flyer to the eventController as a multipartFile and in the Service class I will convert it to a byte array using method <code>getBytes()</code> . I implemented the code as follows and tried to send a request using postman.</p>\n<p>This is my Event Entity :</p>\n<pre><code>`package com.example.attendingsystembackend.model;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Lob;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport java.time.LocalDateTime;\n\n@Entity\npublic class Event {\n\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name=&quot;system-uuid&quot;,strategy = &quot;uuid&quot;)\n    private String id;\n\n    @NotBlank(message = &quot;Event name cannot be blank&quot;)\n    private String eventName;\n\n    private String eventType;\n\n    @NotBlank(message = &quot;Event location cannot be blank&quot;)\n    private String location;\n\n    @NotNull\n    private LocalDateTime startTime;\n\n    @NotNull\n    private LocalDateTime endTime;\n\n    @Lob\n    private byte[] eventFlyer;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getEventName() {\n        return eventName;\n    }\n\n    public void setEventName(String eventName) {\n        this.eventName = eventName;\n    }\n\n    public String getEventType() {\n        return eventType;\n    }\n\n    public void setEventType(String eventType) {\n        this.eventType = eventType;\n    }\n\n    public String getLocation() {\n        return location;\n    }\n\n    public void setLocation(String location) {\n        this.location = location;\n    }\n\n    public LocalDateTime getStartTime() {\n        return startTime;\n    }\n\n    public void setStartTime(LocalDateTime startTime) {\n        this.startTime = startTime;\n    }\n\n    public LocalDateTime getEndTime() {\n        return endTime;\n    }\n\n    public void setEndTime(LocalDateTime endTime) {\n        this.endTime = endTime;\n    }\n\n    public byte[] getEventFlyer() {\n        return eventFlyer;\n    }\n\n    public void setEventFlyer(byte[] eventFlyer) {\n        this.eventFlyer = eventFlyer;\n    }\n}`\n</code></pre>\n<p>And this is my event service class:</p>\n<pre><code>package com.example.attendingsystembackend.service;\n\nimport com.example.attendingsystembackend.model.Event;\nimport com.example.attendingsystembackend.repository.EventRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.IOException;\n\n@Service\npublic class EventService {\n\n    private final EventRepository eventRepository;\n\n    @Autowired\n    public EventService(EventRepository eventRepository) {\n        this.eventRepository = eventRepository;\n    }\n\n    public void saveEvent(MultipartFile file, Event event) throws IOException {\n\n        Event newEvent=new Event();\n\n        newEvent.setEventName(event.getEventName());\n        newEvent.setEventType(event.getEventType());\n        newEvent.setLocation(event.getLocation());\n        newEvent.setStartTime(event.getStartTime());\n        newEvent.setEndTime(event.getEndTime());\n\n        if(file!=null &amp;&amp; !file.isEmpty()) {\n            byte[] fileBytes = file.getBytes();\n            newEvent.setEventFlyer(fileBytes);\n        }else{\n            newEvent.setEventFlyer(null);\n        }\n\n        eventRepository.save(newEvent);\n    }\n\n    }\n\n\n\n\n</code></pre>\n<p>And here is my event controller class:</p>\n<pre><code>package com.example.attendingsystembackend.controller;\n\nimport com.example.attendingsystembackend.model.Event;\nimport com.example.attendingsystembackend.service.EventService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\n@RequestMapping(&quot;api/event&quot;)\npublic class EventController {\n\n    private final EventService eventService;\n\n    @Autowired\n    public EventController(EventService eventService) {\n        this.eventService = eventService;\n    }\n\n    @PostMapping(value=&quot;saveEvent&quot;)\n    public ResponseEntity&lt;String&gt; saveEvent(@RequestParam(value = &quot;file&quot;, required = false) MultipartFile file, Event event) {\n        try {\n            eventService.saveEvent(file,event);\n\n            return ResponseEntity.status(HttpStatus.OK)\n                    .body(String.format(&quot;Event saved succesfully with file: %s&quot;, file.getOriginalFilename()));\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR)\n                    .body(String.format(&quot;Could not save the event: %s!&quot;, e));\n        }\n    }\n}\n\n</code></pre>\n<p>And tried to send request using postman as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/1N0hH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1N0hH.png\" alt=\"enter image description here\" /></a></p>\n<p>But Unfortunately I'm getting the following error:</p>\n<pre><code>Validation failed for argument [1] in public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.example.attendingsystembackend.controller.EventController.saveEvent(org.springframework.web.multipart.MultipartFile,com.example.attendingsystembackend.model.Event): [Field error in object 'event' on field 'eventFlyer': rejected value [org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile@42f6b750]; codes [typeMismatch.event.eventFlyer,typeMismatch.eventFlyer,typeMismatch.[B,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [event.eventFlyer,eventFlyer]; arguments []; default message [eventFlyer]]; default message [Failed to convert property value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile' to required type 'byte[]' for property 'eventFlyer'; Cannot convert value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile' to required type 'byte' for property 'eventFlyer[0]': PropertyEditor [org.springframework.beans.propertyeditors.CustomNumberEditor] returned inappropriate value of type 'org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile']] ]\n</code></pre>\n<p>As I feel the error occured when converting <code>MultiPartFile</code> to <code>byte[] </code> Can someone help me with this issue? What is the mistake I have done here? Thank you in advance.</p>\n"},{"tags":["java","maven","ant","legacy-code","subant"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681467850,"post_id":76013302,"comment_id":134064789,"body_markdown":"Those shared classes into a separate module which is used a dependency by other modules... ?","body":"Those shared classes into a separate module which is used a dependency by other modules... ?"},{"owner":{"account_id":16076898,"reputation":13,"user_id":11603912,"display_name":"Frank Cherry"},"score":0,"creation_date":1681472279,"post_id":76013302,"comment_id":134065735,"body_markdown":"It&#39;s a possible alternative, but primary i would convert the ant project in Maven project with module but leaving source java as is","body":"It&#39;s a possible alternative, but primary i would convert the ant project in Maven project with module but leaving source java as is"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1681472575,"post_id":76013302,"comment_id":134065792,"body_markdown":"It&#39;s not an alternative that&#39;s the only way which will really work... otherwise you will hack the Maven setup which is a bad idea and it will become a nightmare to maintain...convention over configuration which means also separate things into common things etc. ... etc... yes that takes time... but that&#39;s the technical deps which has been accumulated over the times... now you are paying the real costs... also a good separated ant build would have been easier to maintain and could be eaiser migrated ...","body":"It&#39;s not an alternative that&#39;s the only way which will really work... otherwise you will hack the Maven setup which is a bad idea and it will become a nightmare to maintain...convention over configuration which means also separate things into common things etc. ... etc... yes that takes time... but that&#39;s the technical deps which has been accumulated over the times... now you are paying the real costs... also a good separated ant build would have been easier to maintain and could be eaiser migrated ..."}],"owner":{"account_id":16076898,"reputation":13,"user_id":11603912,"display_name":"Frank Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681463567,"creation_date":1681462817,"question_id":76013302,"body_markdown":"I have this java project handled by Ant modules (subant.xml)\r\n\r\n```none\r\n-src\r\n&#166;\r\n+---com\r\n&#166;       &#166;   +---SomePackage1\r\n&#166;       &#166;   +---SomePackage2\r\n&#166;       &#166;   +---OtherPackage\r\n&#166;       +---businessPackage\r\n&#166;       &#166;   +---business\r\n&#166;       &#166;   &#166;   +---ejb1\r\n&#166;       &#166;   &#166;   &#166;   +---managers\r\n&#166;       &#166;   &#166;   &#166;   +---session\r\n&#166;       &#166;   &#166;   +---exceptions\r\n&#166;       &#166;   &#166;   +---utils\r\n&#166;       &#166;   +---gateway\r\n&#166;       &#166;       +---ejb\r\n&#166;       &#166;       +---managers\r\n&#166;       +---MyPackage\r\n&#166;       &#166;   +---database\r\n&#166;       &#166;   &#166;   +---ejb\r\n&#166;       &#166;   &#166;   +---exceptions\r\n&#166;       &#166;   &#166;   +---model\r\n&#166;       &#166;   &#166;   +---utils\r\n&#166;       &#166;   +---ejb\r\n&#166;       &#166;   &#166;   +---configuration\r\n&#166;       &#166;   +---global\r\n&#166;       &#166;       +---config\r\n&#166;       &#166;       &#166;   +---exceptions\r\n&#166;       &#166;       +---utils\r\n&#166;       &#166;       +---xml\r\n&#166;       &#166;           +---exceptions\r\n&#166;       &#166;           +---utils\r\n&#166;       +---utils\r\n+---CMEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---OtherEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---FrontOfficeEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---BackOfficeEjbModule\r\n&#166;   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\r\n+---MyJarModule\r\n&#166;   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\r\n+---MyJar2Module\r\n&#166;   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\r\nbuild.xml\r\n```\r\n\r\nEach subant.xml contains `&lt;ejbjar&gt;` for EJB (it&#39;s creates a JAR module) and `&lt;jar&gt;` for JAR archives. The `&lt;ejbjar&gt;` source is like that:\r\n\r\n```xml\r\n&lt;ejbjar  \r\n\tbasejarname=&quot;CMEjbModule&quot;\r\n\tdestdir=&lt;dir.to.copyJar&gt;\r\n\tflatdestdir=&quot;true&quot;\r\n\tgenericjarsuffix=&quot;.jar&quot;\r\n\tsrcdir=&lt;directory classes&gt;\r\n        descriptordir=&lt;ejb descriptor dir&gt;\t\r\n\tdependency=&quot;full&quot;&gt;\r\n\t&lt;jboss/&gt;\t\t\t\r\n\t&lt;include name=&quot;**/ejb-jar.xml&quot;/&gt;\r\n\t&lt;include name=&quot;**/jboss-deployment-structure.xml&quot;/&gt;\r\n\t&lt;dtd publicId=&quot;-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 3.0//EN&quot; location=&quot;${jboss.home}/docs/dtd/ejb-jar_3_0.dtd&quot; /&gt;\r\n&lt;/ejbjar&gt;\r\n```\r\n\r\nThe other module are simply JAR archives created by `&lt;jar&gt;` ant tag.\r\n\r\nThe result after build.xml is six components, i.e. six JARs, one for any module directory: CMEjbModule.jar, OtherEjbModule.jar, FrontOfficeEjbModule.jar, BackOfficeEjbModule.jar, MyJarModule.jar, MyJar2Module.jar (the first four JARs contain stateless EJBs as described in their own ejb-jar.xml)\r\n\r\nNow, I would like to update this project to a Maven (POM) project without ant-run plugin Maven. The problem is: the source java directory is unique and it&#39;s very difficult to split src into independent sub-project because there are many source classes shared by six modules.\r\n\r\nIs it possible? For example, I prefer using the Maven `&lt;module&gt;` pattern like subant.xml without ejb-jar.xml because the EJB are 3.0, but I ignore how is possible, i.e., in each Maven module sub-project if it&#39;s possible to select some source directory to compile each module or some EJB Java source (and their dependencies) from Java project.\r\n\r\n","title":"Upgrade legacy Java Project from Ant (i.e. subant) to Maven","body":"<p>I have this java project handled by Ant modules (subant.xml)</p>\n<pre class=\"lang-none prettyprint-override\"><code>-src\n¦\n+---com\n¦       ¦   +---SomePackage1\n¦       ¦   +---SomePackage2\n¦       ¦   +---OtherPackage\n¦       +---businessPackage\n¦       ¦   +---business\n¦       ¦   ¦   +---ejb1\n¦       ¦   ¦   ¦   +---managers\n¦       ¦   ¦   ¦   +---session\n¦       ¦   ¦   +---exceptions\n¦       ¦   ¦   +---utils\n¦       ¦   +---gateway\n¦       ¦       +---ejb\n¦       ¦       +---managers\n¦       +---MyPackage\n¦       ¦   +---database\n¦       ¦   ¦   +---ejb\n¦       ¦   ¦   +---exceptions\n¦       ¦   ¦   +---model\n¦       ¦   ¦   +---utils\n¦       ¦   +---ejb\n¦       ¦   ¦   +---configuration\n¦       ¦   +---global\n¦       ¦       +---config\n¦       ¦       ¦   +---exceptions\n¦       ¦       +---utils\n¦       ¦       +---xml\n¦       ¦           +---exceptions\n¦       ¦           +---utils\n¦       +---utils\n+---CMEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---OtherEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---FrontOfficeEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---BackOfficeEjbModule\n¦   +---META-INF-&gt;subant.xml, ejb-jar.xml (tag &lt;ejbjar&gt;)\n+---MyJarModule\n¦   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\n+---MyJar2Module\n¦   +---META-INF-&gt;subant.xml, (tag &lt;jar&gt;)\nbuild.xml\n</code></pre>\n<p>Each subant.xml contains <code>&lt;ejbjar&gt;</code> for EJB (it's creates a JAR module) and <code>&lt;jar&gt;</code> for JAR archives. The <code>&lt;ejbjar&gt;</code> source is like that:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ejbjar  \n    basejarname=&quot;CMEjbModule&quot;\n    destdir=&lt;dir.to.copyJar&gt;\n    flatdestdir=&quot;true&quot;\n    genericjarsuffix=&quot;.jar&quot;\n    srcdir=&lt;directory classes&gt;\n        descriptordir=&lt;ejb descriptor dir&gt;  \n    dependency=&quot;full&quot;&gt;\n    &lt;jboss/&gt;            \n    &lt;include name=&quot;**/ejb-jar.xml&quot;/&gt;\n    &lt;include name=&quot;**/jboss-deployment-structure.xml&quot;/&gt;\n    &lt;dtd publicId=&quot;-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 3.0//EN&quot; location=&quot;${jboss.home}/docs/dtd/ejb-jar_3_0.dtd&quot; /&gt;\n&lt;/ejbjar&gt;\n</code></pre>\n<p>The other module are simply JAR archives created by <code>&lt;jar&gt;</code> ant tag.</p>\n<p>The result after build.xml is six components, i.e. six JARs, one for any module directory: CMEjbModule.jar, OtherEjbModule.jar, FrontOfficeEjbModule.jar, BackOfficeEjbModule.jar, MyJarModule.jar, MyJar2Module.jar (the first four JARs contain stateless EJBs as described in their own ejb-jar.xml)</p>\n<p>Now, I would like to update this project to a Maven (POM) project without ant-run plugin Maven. The problem is: the source java directory is unique and it's very difficult to split src into independent sub-project because there are many source classes shared by six modules.</p>\n<p>Is it possible? For example, I prefer using the Maven <code>&lt;module&gt;</code> pattern like subant.xml without ejb-jar.xml because the EJB are 3.0, but I ignore how is possible, i.e., in each Maven module sub-project if it's possible to select some source directory to compile each module or some EJB Java source (and their dependencies) from Java project.</p>\n"},{"tags":["java","performance","hibernate","jpa","jakarta-ee"],"comments":[{"owner":{"account_id":14450,"reputation":24997,"user_id":2112692,"accept_rate":71,"display_name":"Zak"},"score":1,"creation_date":1272924647,"post_id":2761543,"comment_id":2793573,"body_markdown":"Are you trying to create a report, or are you trying to load a bunch of objects? If you are just trying to create a report, then do it in SQL like you said and be done with it.","body":"Are you trying to create a report, or are you trying to load a bunch of objects? If you are just trying to create a report, then do it in SQL like you said and be done with it."},{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":0,"creation_date":1272925137,"post_id":2761543,"comment_id":2793605,"body_markdown":"@Zak: I have a web application in jpa+spring+jsf which works. But its performance should be better. And, what is more important, it should be able to handle much larger datasets than it can handle at the moment. 1) There is a problem with 1st query that I don&#39;t know how to write it in `hql` or `jpa query language`. I don&#39;t want to use plain sql, imho it&#39;s a last resort. 2) The problem with 2nd query is that I don&#39;t know how to set fetch size in `JPA` and I also don&#39;t know how to handle this situation with `JPA`: there is no loop through resultset, I don&#39;t know how to load &#39;next&#39; fetch.","body":"@Zak: I have a web application in jpa+spring+jsf which works. But its performance should be better. And, what is more important, it should be able to handle much larger datasets than it can handle at the moment. 1) There is a problem with 1st query that I don&#39;t know how to write it in <code>hql</code> or <code>jpa query language</code>. I don&#39;t want to use plain sql, imho it&#39;s a last resort. 2) The problem with 2nd query is that I don&#39;t know how to set fetch size in <code>JPA</code> and I also don&#39;t know how to handle this situation with <code>JPA</code>: there is no loop through resultset, I don&#39;t know how to load &#39;next&#39; fetch."}],"answers":[{"comments":[{"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"score":0,"creation_date":1272926018,"post_id":2761630,"comment_id":2793680,"body_markdown":"@Pascal Thivent: thanks for the answer! About volumes: I don&#39;t know the real volumes, I just specified the maximum (in my opinion which is based on some knowledge of the domain). Maybe the real volume is 10-100 times less and IMHO the solution for these volumes will be ok too.","body":"@Pascal Thivent: thanks for the answer! About volumes: I don&#39;t know the real volumes, I just specified the maximum (in my opinion which is based on some knowledge of the domain). Maybe the real volume is 10-100 times less and IMHO the solution for these volumes will be ok too."},{"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"score":0,"creation_date":1353541924,"post_id":2761630,"comment_id":18482564,"body_markdown":"Do you know what they exactly mean by &quot;stateless sessions are vulnerable to data aliasing effects&quot;? Thanks.","body":"Do you know what they exactly mean by &quot;stateless sessions are vulnerable to data aliasing effects&quot;? Thanks."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1487280680,"post_id":2761630,"comment_id":71726733,"body_markdown":"This is in no way faster. In fact, it is **extremely** slow and way less performant than the usual use of `EntityManager`.","body":"This is in no way faster. In fact, it is <b>extremely</b> slow and way less performant than the usual use of <code>EntityManager</code>."}],"tags":[],"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1476999778,"creation_date":1272925572,"answer_id":2761630,"question_id":2761543,"body_markdown":"&gt; suppose that we have 2 tables in DB: Worker and WorkLog  with about 1000 rows in the first one and 10 000 000 rows in the second one\r\n\r\nFor high volumes like this, my recommendation would be to use [The `StatelessSession` interface][1] from Hibernate:\r\n\r\n&gt; Alternatively, Hibernate provides a\r\n&gt; command-oriented API that can be used\r\n&gt; for streaming data to and from the\r\n&gt; database in the form of detached\r\n&gt; objects. A `StatelessSession` has no\r\n&gt; persistence context associated with it\r\n&gt; and does not provide many of the\r\n&gt; higher-level life cycle semantics. In\r\n&gt; particular, a stateless session does\r\n&gt; not implement a first-level cache nor\r\n&gt; interact with any second-level or\r\n&gt; query cache. It does not implement\r\n&gt; transactional write-behind or\r\n&gt; automatic dirty checking. Operations\r\n&gt; performed using a stateless session\r\n&gt; never cascade to associated instances.\r\n&gt; Collections are ignored by a stateless\r\n&gt; session. Operations performed via a\r\n&gt; stateless session bypass Hibernate&#39;s\r\n&gt; event model and interceptors. Due to\r\n&gt; the lack of a first-level cache,\r\n&gt; Stateless sessions are vulnerable to\r\n&gt; data aliasing effects. A stateless\r\n&gt; session is a lower-level abstraction\r\n&gt; that is much closer to the underlying\r\n&gt; JDBC.\r\n&gt; \r\n&gt;     StatelessSession session = sessionFactory.openStatelessSession();\r\n&gt;     Transaction tx = session.beginTransaction();\r\n&gt;        \r\n&gt;     ScrollableResults customers = session.getNamedQuery(&quot;GetCustomers&quot;)\r\n&gt;         .scroll(ScrollMode.FORWARD_ONLY);\r\n&gt;     while ( customers.next() ) {\r\n&gt;         Customer customer = (Customer) customers.get(0);\r\n&gt;         customer.updateStuff(...);\r\n&gt;         session.update(customer);\r\n&gt;     }\r\n&gt;        \r\n&gt;     tx.commit();\r\n&gt;     session.close();\r\n&gt; \r\n&gt; In this code example, the `Customer`\r\n&gt; instances returned by the query are\r\n&gt; immediately detached. They are never\r\n&gt; associated with any persistence\r\n&gt; context.\r\n&gt; \r\n&gt; The `insert(), update()` and\r\n&gt; `delete()` operations defined by the\r\n&gt; `StatelessSession` interface are\r\n&gt; considered to be direct database\r\n&gt; row-level operations. They result in\r\n&gt; the immediate execution of a SQL\r\n&gt; `INSERT, UPDATE` or `DELETE`\r\n&gt; respectively. They have different\r\n&gt; semantics to the `save(),\r\n&gt; saveOrUpdate()` and `delete()`\r\n&gt; operations defined by the `Session`\r\n&gt; interface.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html#batch-statelesssession","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<blockquote>\n  <p>suppose that we have 2 tables in DB: Worker and WorkLog  with about 1000 rows in the first one and 10 000 000 rows in the second one</p>\n</blockquote>\n\n<p>For high volumes like this, my recommendation would be to use <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/batch.html#batch-statelesssession\" rel=\"noreferrer\">The <code>StatelessSession</code> interface</a> from Hibernate:</p>\n\n<blockquote>\n  <p>Alternatively, Hibernate provides a\n  command-oriented API that can be used\n  for streaming data to and from the\n  database in the form of detached\n  objects. A <code>StatelessSession</code> has no\n  persistence context associated with it\n  and does not provide many of the\n  higher-level life cycle semantics. In\n  particular, a stateless session does\n  not implement a first-level cache nor\n  interact with any second-level or\n  query cache. It does not implement\n  transactional write-behind or\n  automatic dirty checking. Operations\n  performed using a stateless session\n  never cascade to associated instances.\n  Collections are ignored by a stateless\n  session. Operations performed via a\n  stateless session bypass Hibernate's\n  event model and interceptors. Due to\n  the lack of a first-level cache,\n  Stateless sessions are vulnerable to\n  data aliasing effects. A stateless\n  session is a lower-level abstraction\n  that is much closer to the underlying\n  JDBC.</p>\n\n<pre><code>StatelessSession session = sessionFactory.openStatelessSession();\nTransaction tx = session.beginTransaction();\n\nScrollableResults customers = session.getNamedQuery(\"GetCustomers\")\n    .scroll(ScrollMode.FORWARD_ONLY);\nwhile ( customers.next() ) {\n    Customer customer = (Customer) customers.get(0);\n    customer.updateStuff(...);\n    session.update(customer);\n}\n\ntx.commit();\nsession.close();\n</code></pre>\n  \n  <p>In this code example, the <code>Customer</code>\n  instances returned by the query are\n  immediately detached. They are never\n  associated with any persistence\n  context.</p>\n  \n  <p>The <code>insert(), update()</code> and\n  <code>delete()</code> operations defined by the\n  <code>StatelessSession</code> interface are\n  considered to be direct database\n  row-level operations. They result in\n  the immediate execution of a SQL\n  <code>INSERT, UPDATE</code> or <code>DELETE</code>\n  respectively. They have different\n  semantics to the <code>save(),\n  saveOrUpdate()</code> and <code>delete()</code>\n  operations defined by the <code>Session</code>\n  interface.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1487343100,"post_id":8257729,"comment_id":71756209,"body_markdown":"this. I found that executing a connection query manually (`session.doWork` or such) is in fact the fastest you can get","body":"this. I found that executing a connection query manually (<code>session.doWork</code> or such) is in fact the fastest you can get"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1487348429,"post_id":8257729,"comment_id":71760134,"body_markdown":"the standard EntityManager has no `doWork` operation.","body":"the standard EntityManager has no <code>doWork</code> operation."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1487351050,"post_id":8257729,"comment_id":71761997,"body_markdown":"yes, that&#39;s why I wrote `session` which you can get via `entityManager.unwrap(Session.class);`. Idk if that is bad programming style though. I guess one could also write a `sessionFactory` Bean","body":"yes, that&#39;s why I wrote <code>session</code> which you can get via <code>entityManager.unwrap(Session.class);</code>. Idk if that is bad programming style though. I guess one could also write a <code>sessionFactory</code> Bean"},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1487351162,"post_id":8257729,"comment_id":71762050,"body_markdown":"That would likely be hibernate specific.  There&#39;s no Session class for JPA.  For the benefit of others can you update your comment to state the full package of the session class?","body":"That would likely be hibernate specific.  There&#39;s no Session class for JPA.  For the benefit of others can you update your comment to state the full package of the session class?"},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":1,"creation_date":1487352472,"post_id":8257729,"comment_id":71762743,"body_markdown":"I cannot update the comment anymore, so: Idea says: `org.hibernate.Session`.","body":"I cannot update the comment anymore, so: Idea says: <code>org.hibernate.Session</code>."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1622659450,"post_id":8257729,"comment_id":119858629,"body_markdown":"JDBC did a lot of things right but... respectfully - it is not good for large result sets. While the client-side tweaking of setFetchSize(int) is at the core of making this functional in terms of controlling client-side memory - it does not inherently solve the problem. That is, when one is looking for a (few) records in hundreds of thousands or millions - full text search engines provide superior performance and use-case support.","body":"JDBC did a lot of things right but... respectfully - it is not good for large result sets. While the client-side tweaking of setFetchSize(int) is at the core of making this functional in terms of controlling client-side memory - it does not inherently solve the problem. That is, when one is looking for a (few) records in hundreds of thousands or millions - full text search engines provide superior performance and use-case support."}],"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322140850,"creation_date":1322140850,"answer_id":8257729,"question_id":2761543,"body_markdown":"Raw SQL shouldn&#39;t be considered a last resort.  It should still be considered an option if you want to keep things &quot;standard&quot; on the JPA tier, but not on the database tier.  JPA also has support for native queries where it will still do the mapping to standard entities for you.\r\n\r\nHowever, if you have a large result set that cannot be processed in the database, then you really should just use plain JDBC as JPA (standard) does not support streaming of large sets of data.\r\n\r\nIt will be harder to port your application across different application servers if you use JPA implementation specific constructs since the JPA engine is embedded in the application server and you may not have a control on which JPA provider is being used.","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>Raw SQL shouldn't be considered a last resort.  It should still be considered an option if you want to keep things \"standard\" on the JPA tier, but not on the database tier.  JPA also has support for native queries where it will still do the mapping to standard entities for you.</p>\n\n<p>However, if you have a large result set that cannot be processed in the database, then you really should just use plain JDBC as JPA (standard) does not support streaming of large sets of data.</p>\n\n<p>It will be harder to port your application across different application servers if you use JPA implementation specific constructs since the JPA engine is embedded in the application server and you may not have a control on which JPA provider is being used.</p>\n"},{"comments":[{"owner":{"account_id":76998,"reputation":27320,"user_id":220060,"accept_rate":93,"display_name":"nalply"},"score":1,"creation_date":1349462277,"post_id":12691624,"comment_id":17228994,"body_markdown":"Optimized? Can you explain this?","body":"Optimized? Can you explain this?"},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1622659713,"post_id":12691624,"comment_id":119858723,"body_markdown":"Depending on the resulting list size, this may crash and burn with a large data set. Have found that the general pattern of storing RI data in a database, then using a search engine (Lucene et al) on top of that is superior. Provides full-text search pattern support, superior performance, built-in paging without overburdening client memory requirements, etc. In short, almost never just return (some) Collection in response to (arbitrary) user queries in that it may be thousands (or millions?) of records in size.","body":"Depending on the resulting list size, this may crash and burn with a large data set. Have found that the general pattern of storing RI data in a database, then using a search engine (Lucene et al) on top of that is superior. Provides full-text search pattern support, superior performance, built-in paging without overburdening client memory requirements, etc. In short, almost never just return (some) Collection in response to (arbitrary) user queries in that it may be thousands (or millions?) of records in size."}],"tags":[],"owner":{"account_id":539871,"reputation":183,"user_id":907867,"accept_rate":0,"display_name":"Bojan Kraut"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349185953,"creation_date":1349185953,"answer_id":12691624,"question_id":2761543,"body_markdown":"I&#39;m using something like this and it works very fast. I also hate to use native SQL as our application should work on any database.\r\n\r\nFolowing resutls into a very optimized sql and returns list of records which are maps.\r\n\r\n    String hql = &quot;select distinct &quot; +\r\n\t\t\t\t&quot;t.uuid as uuid, t.title as title, t.code as code, t.date as date, t.dueDate as dueDate, &quot; +\r\n\t\t\t\t&quot;t.startDate as startDate, t.endDate as endDate, t.constraintDate as constraintDate, t.closureDate as closureDate, t.creationDate as creationDate, &quot; +\r\n\t\t\t\t&quot;sc.category as category, sp.priority as priority, sd.difficulty as difficulty, t.progress as progress, st.type as type, &quot; +\r\n\t\t\t\t&quot;ss.status as status, ss.color as rowColor, (p.rKey || &#39; &#39; || p.name) as project, ps.status as projectstatus, (r.code || &#39; &#39; || r.title) as requirement, &quot; +\r\n\t\t\t\t&quot;t.estimate as estimate, w.title as workgroup, o.name || &#39; &#39; || o.surname as owner, &quot; +\r\n\t\t\t\t&quot;ROUND(sum(COALESCE(a.duration, 0)) * 100 / case when ((COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) = 0) then 1 else (COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) end, 2) as factor &quot; +\r\n\t\t\t\t&quot;from &quot; + Task.class.getName() + &quot; t &quot; +\r\n\t\t\t\t&quot;left join t.category sc &quot; +\r\n\t\t\t\t&quot;left join t.priority sp &quot; +\r\n\t\t\t\t&quot;left join t.difficulty sd &quot; +\r\n\t\t\t\t&quot;left join t.taskType st &quot; +\r\n\t\t\t\t&quot;left join t.status ss &quot; +\r\n\t\t\t\t&quot;left join t.project p &quot; +\r\n\t\t\t\t&quot;left join t.owner o &quot; +\r\n\t\t\t\t&quot;left join t.workgroup w &quot; +\r\n\t\t\t\t&quot;left join p.status ps &quot; +\r\n\t\t\t\t&quot;left join t.requirement r &quot; +\r\n\t\t\t\t&quot;left join p.status sps &quot; +\r\n\t\t\t\t&quot;left join t.iterationTasks it &quot; +\r\n\t\t\t\t&quot;left join t.taskActivities a &quot; +\r\n\t\t\t\t&quot;left join it.iteration i &quot; +\r\n\t\t\t\t&quot;where sps.active = true and &quot; +\r\n\t\t\t\t&quot;ss.done = false and &quot; +\r\n\t\t\t\t&quot;(i.uuid &lt;&gt; :iterationUuid or it.uuid is null) &quot; + filterHql +\r\n\t\t\t\t&quot;group by t.uuid, t.title, t.code, t.date, t.dueDate, &quot; +\r\n\t\t\t\t&quot;t.startDate, t.endDate, t.constraintDate, t.closureDate, t.creationDate, &quot; +\r\n\t\t\t\t&quot;sc.category, sp.priority, sd.difficulty, t.progress, st.type, &quot; +\r\n\t\t\t\t&quot;ss.status, ss.color, p.rKey, p.name, ps.status, r.code, r.title, &quot; +\r\n\t\t\t\t&quot;t.estimate, w.title, o.name, o.surname &quot; + sortHql;\r\n\t\t\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;Executing hql: &quot; + hql );\r\n\t\t}\r\n\t\t\r\n\t\tQuery query =  hibernateTemplate.getSessionFactory().getCurrentSession().getSession(EntityMode.MAP).createQuery(hql);\r\n\t\tfor(String key: filterValues.keySet()) {\r\n\t\t\tObject valueSet = filterValues.get(key);\r\n\t\t\t\r\n\t\t\tif (logger.isDebugEnabled()) {\r\n\t\t\t\tlogger.debug(&quot;Setting query parameter for &quot; + key );\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (valueSet instanceof java.util.Collection&lt;?&gt;) {\r\n\t\t\t\tquery.setParameterList(key, (Collection)filterValues.get(key));\r\n\t\t\t} else {\r\n\t\t\t\tquery.setParameter(key, filterValues.get(key));\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\tquery.setString(&quot;iterationUuid&quot;, iteration.getUuid());\r\n\t\tquery.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\r\n\t\t\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;Query building complete.&quot;);\r\n\t\t\tlogger.debug(&quot;SQL: &quot; + query.getQueryString());\r\n\t\t}\r\n\t\t\r\n\t\treturn query.list();","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>I'm using something like this and it works very fast. I also hate to use native SQL as our application should work on any database.</p>\n\n<p>Folowing resutls into a very optimized sql and returns list of records which are maps.</p>\n\n<pre><code>String hql = \"select distinct \" +\n            \"t.uuid as uuid, t.title as title, t.code as code, t.date as date, t.dueDate as dueDate, \" +\n            \"t.startDate as startDate, t.endDate as endDate, t.constraintDate as constraintDate, t.closureDate as closureDate, t.creationDate as creationDate, \" +\n            \"sc.category as category, sp.priority as priority, sd.difficulty as difficulty, t.progress as progress, st.type as type, \" +\n            \"ss.status as status, ss.color as rowColor, (p.rKey || ' ' || p.name) as project, ps.status as projectstatus, (r.code || ' ' || r.title) as requirement, \" +\n            \"t.estimate as estimate, w.title as workgroup, o.name || ' ' || o.surname as owner, \" +\n            \"ROUND(sum(COALESCE(a.duration, 0)) * 100 / case when ((COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) = 0) then 1 else (COALESCE(t.estimate, 0) * COALESCE(t.progress, 0)) end, 2) as factor \" +\n            \"from \" + Task.class.getName() + \" t \" +\n            \"left join t.category sc \" +\n            \"left join t.priority sp \" +\n            \"left join t.difficulty sd \" +\n            \"left join t.taskType st \" +\n            \"left join t.status ss \" +\n            \"left join t.project p \" +\n            \"left join t.owner o \" +\n            \"left join t.workgroup w \" +\n            \"left join p.status ps \" +\n            \"left join t.requirement r \" +\n            \"left join p.status sps \" +\n            \"left join t.iterationTasks it \" +\n            \"left join t.taskActivities a \" +\n            \"left join it.iteration i \" +\n            \"where sps.active = true and \" +\n            \"ss.done = false and \" +\n            \"(i.uuid &lt;&gt; :iterationUuid or it.uuid is null) \" + filterHql +\n            \"group by t.uuid, t.title, t.code, t.date, t.dueDate, \" +\n            \"t.startDate, t.endDate, t.constraintDate, t.closureDate, t.creationDate, \" +\n            \"sc.category, sp.priority, sd.difficulty, t.progress, st.type, \" +\n            \"ss.status, ss.color, p.rKey, p.name, ps.status, r.code, r.title, \" +\n            \"t.estimate, w.title, o.name, o.surname \" + sortHql;\n\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"Executing hql: \" + hql );\n    }\n\n    Query query =  hibernateTemplate.getSessionFactory().getCurrentSession().getSession(EntityMode.MAP).createQuery(hql);\n    for(String key: filterValues.keySet()) {\n        Object valueSet = filterValues.get(key);\n\n        if (logger.isDebugEnabled()) {\n            logger.debug(\"Setting query parameter for \" + key );\n        }\n\n        if (valueSet instanceof java.util.Collection&lt;?&gt;) {\n            query.setParameterList(key, (Collection)filterValues.get(key));\n        } else {\n            query.setParameter(key, filterValues.get(key));\n        }\n    }       \n    query.setString(\"iterationUuid\", iteration.getUuid());\n    query.setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP);\n\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"Query building complete.\");\n        logger.debug(\"SQL: \" + query.getQueryString());\n    }\n\n    return query.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1086765,"reputation":9377,"user_id":1082300,"accept_rate":50,"display_name":"Steve Ebersole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349191441,"creation_date":1349191441,"answer_id":12693325,"question_id":2761543,"body_markdown":"I agree that doing the calculation on the database server is your best option in the particular case you mentioned.  HQL and JPAQL can handle both of those queries:\r\n\r\n1) \r\n\r\n    select w, sum(wl.hoursWorked) \r\n    from Worker w, WorkLog wl\r\n    where w.id = wl.workerId \r\n    group by w\r\n\r\nor, if the association is mapped:\r\n\r\n    select w, sum(wl.hoursWorked) \r\n    from Worker w join w.workLogs wl\r\n    group by w\r\n\r\nboth or which return you List&lt;Object[]&gt; where the Object[]s are Worker and Long. Or you could also use &quot;dynamic instantiation&quot; queries to wrap that up, for example:\r\n\r\n    select new WorkerTotal( select w, sum(wl.hoursWorked) )\r\n    from Worker w join w.workLogs wl\r\n    group by w\r\n\r\nor (depending on need) probably even just:\r\n\r\n    select new WorkerTotal( select w.id, w.name, sum(wl.hoursWorked) )\r\n    from Worker w join w.workLogs wl\r\n    group by w.id, w.name\r\n\r\nWorkerTotal is just a plain class.  It must have matching constructor(s).\r\n\r\n2) \r\n\r\n    select w, new Period( wl.start, wl.hoursWorked )\r\n    from Worker w join w.workLogs wl\r\n\r\nthis will return you a result for each row in the WorkLog table...  The `new Period(...)` bit is called &quot;dynamic instantiation&quot; and is used to wrap tuples from the result into objects (easier consumption).\r\n\r\nFor manipulation and general usage, I recommend StatelessSession as Pascal points out.","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>I agree that doing the calculation on the database server is your best option in the particular case you mentioned.  HQL and JPAQL can handle both of those queries:</p>\n\n<p>1) </p>\n\n<pre><code>select w, sum(wl.hoursWorked) \nfrom Worker w, WorkLog wl\nwhere w.id = wl.workerId \ngroup by w\n</code></pre>\n\n<p>or, if the association is mapped:</p>\n\n<pre><code>select w, sum(wl.hoursWorked) \nfrom Worker w join w.workLogs wl\ngroup by w\n</code></pre>\n\n<p>both or which return you List where the Object[]s are Worker and Long. Or you could also use \"dynamic instantiation\" queries to wrap that up, for example:</p>\n\n<pre><code>select new WorkerTotal( select w, sum(wl.hoursWorked) )\nfrom Worker w join w.workLogs wl\ngroup by w\n</code></pre>\n\n<p>or (depending on need) probably even just:</p>\n\n<pre><code>select new WorkerTotal( select w.id, w.name, sum(wl.hoursWorked) )\nfrom Worker w join w.workLogs wl\ngroup by w.id, w.name\n</code></pre>\n\n<p>WorkerTotal is just a plain class.  It must have matching constructor(s).</p>\n\n<p>2) </p>\n\n<pre><code>select w, new Period( wl.start, wl.hoursWorked )\nfrom Worker w join w.workLogs wl\n</code></pre>\n\n<p>this will return you a result for each row in the WorkLog table...  The <code>new Period(...)</code> bit is called \"dynamic instantiation\" and is used to wrap tuples from the result into objects (easier consumption).</p>\n\n<p>For manipulation and general usage, I recommend StatelessSession as Pascal points out.</p>\n"},{"tags":[],"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363905880,"creation_date":1361747709,"answer_id":15057845,"question_id":2761543,"body_markdown":"There are several techniques that may need to be used in conjunction with one another to create and manipulate queries for large data-sets where memory is a limitation:\r\n\r\n 1. Use setFetchSize(some value, maybe 100+) as the default (via JDBC) is 10.\r\n    This is more about performance and is the single biggest related factor thereof.\r\n    Can be done in JPA using queryHint available from provider (Hibernate, etc).\r\n    There does not (for whatever reason) seem to be a JPA `Query.setFetchSize(int)` method.\r\n 2. Do not try to marshall the entire result-set for 10K+ records.\r\n    Several strategies apply: For GUIs, use paging or a framework that does paging. Consider Lucene or commercial searching/indexing engines (Endeca if the company has the money). For sending data somewhere, stream it and flush the buffer every N records to limit how much memory is used. The stream may be flushed to a file, network, etc. Remember that underneath, JPA uses JDBC and JDBC keeps the result-set on the Server, only fetching N-rows in a row-set group at a time. This break-down can be manipulated to facilitate flushing data in groups.\r\n 3. Consider what the use-case is. Typically, an application is trying to answer questions. When the answer is to weed through 10K+ rows, then the design should be reviewed. Again, consider using indexing engines like Lucene, refine the queries, consider using BloomFilters as *contains* check caches to find needles in haystacks without going to the database, etc.\r\n\r\n","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>There are several techniques that may need to be used in conjunction with one another to create and manipulate queries for large data-sets where memory is a limitation:</p>\n\n<ol>\n<li>Use setFetchSize(some value, maybe 100+) as the default (via JDBC) is 10.\nThis is more about performance and is the single biggest related factor thereof.\nCan be done in JPA using queryHint available from provider (Hibernate, etc).\nThere does not (for whatever reason) seem to be a JPA <code>Query.setFetchSize(int)</code> method.</li>\n<li>Do not try to marshall the entire result-set for 10K+ records.\nSeveral strategies apply: For GUIs, use paging or a framework that does paging. Consider Lucene or commercial searching/indexing engines (Endeca if the company has the money). For sending data somewhere, stream it and flush the buffer every N records to limit how much memory is used. The stream may be flushed to a file, network, etc. Remember that underneath, JPA uses JDBC and JDBC keeps the result-set on the Server, only fetching N-rows in a row-set group at a time. This break-down can be manipulated to facilitate flushing data in groups.</li>\n<li>Consider what the use-case is. Typically, an application is trying to answer questions. When the answer is to weed through 10K+ rows, then the design should be reviewed. Again, consider using indexing engines like Lucene, refine the queries, consider using BloomFilters as <em>contains</em> check caches to find needles in haystacks without going to the database, etc.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"score":0,"creation_date":1445753355,"post_id":20787413,"comment_id":54450824,"body_markdown":"setHint method shoing undefined .","body":"setHint method shoing undefined ."}],"tags":[],"owner":{"account_id":115113,"reputation":99,"user_id":3137140,"display_name":"lapsus63"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388072728,"creation_date":1388072728,"answer_id":20787413,"question_id":2761543,"body_markdown":"It seems you can do this with EclipseLink too.\r\nCheck this : http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination :\r\n\r\n    Query query = em.createQuery...\r\n    query.setHint(QueryHints.CURSOR, true)\r\n         .setHint(QueryHints.SCROLLABLE_CURSOR, true)\r\n    ScrollableCursor scrl = (ScrollableCursor)q.getSingleResult();\r\n    Object o = null;\r\n    while ((o = scrl.next()) != null) { ... }\r\n\r\n","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>It seems you can do this with EclipseLink too.\nCheck this : <a href=\"http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination\" rel=\"nofollow\">http://wiki.eclipse.org/EclipseLink/Examples/JPA/Pagination</a> :</p>\n\n<pre><code>Query query = em.createQuery...\nquery.setHint(QueryHints.CURSOR, true)\n     .setHint(QueryHints.SCROLLABLE_CURSOR, true)\nScrollableCursor scrl = (ScrollableCursor)q.getSingleResult();\nObject o = null;\nwhile ((o = scrl.next()) != null) { ... }\n</code></pre>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55107,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":2761630,"answer_count":6,"score":22,"last_activity_date":1681463313,"creation_date":1272924502,"question_id":2761543,"body_markdown":"I need to make my web-app work with really huge datasets. At the moment I get either OutOfMemoryException or output which is being generated 1-2 minutes.\r\n\r\nLet&#39;s put it simple and suppose that we have 2 tables in DB: `Worker` and `WorkLog` with about 1000 rows in the first one and 10 000 000 rows in the second one. Latter table has several fields including &#39;workerId&#39; and &#39;hoursWorked&#39; fields among others. What we need is:\r\n\r\n 1. count total hours worked by each user; \r\n\r\n 2. list of work periods for each user.\r\n\r\nThe most straightforward approach (IMO) for each task in plain SQL is:\r\n\r\n1) \r\n\r\n    select Worker.name, sum(hoursWorked) from Worker, WorkLog \r\n       where Worker.id = WorkLog.workerId \r\n       group by Worker.name;\r\n\r\n    //results of this query should be transformed to Multimap&lt;Worker, Long&gt;\r\n\r\n2) \r\n\r\n    select Worker.name, WorkLog.start, WorkLog.hoursWorked from Worker, WorkLog\r\n       where Worker.id = WorkLog.workerId;\r\n\r\n    //results of this query should be transformed to Multimap&lt;Worker, Period&gt;\r\n    //if it was JDBC then it would be vitally \r\n    //to set resultSet.setFetchSize (someSmallNumber), ~100\r\n\r\n\r\nSo, I have two questions: \r\n\r\n 1. how to implement each of my approaches with JPA (or at least with Hibernate); \r\n 2. how would you handle this problem (with JPA or Hibernate of course)?\r\n    ","title":"How to handle large dataset with JPA (or at least with Hibernate)?","body":"<p>I need to make my web-app work with really huge datasets. At the moment I get either OutOfMemoryException or output which is being generated 1-2 minutes.</p>\n\n<p>Let's put it simple and suppose that we have 2 tables in DB: <code>Worker</code> and <code>WorkLog</code> with about 1000 rows in the first one and 10 000 000 rows in the second one. Latter table has several fields including 'workerId' and 'hoursWorked' fields among others. What we need is:</p>\n\n<ol>\n<li><p>count total hours worked by each user; </p></li>\n<li><p>list of work periods for each user.</p></li>\n</ol>\n\n<p>The most straightforward approach (IMO) for each task in plain SQL is:</p>\n\n<p>1) </p>\n\n<pre><code>select Worker.name, sum(hoursWorked) from Worker, WorkLog \n   where Worker.id = WorkLog.workerId \n   group by Worker.name;\n\n//results of this query should be transformed to Multimap&lt;Worker, Long&gt;\n</code></pre>\n\n<p>2) </p>\n\n<pre><code>select Worker.name, WorkLog.start, WorkLog.hoursWorked from Worker, WorkLog\n   where Worker.id = WorkLog.workerId;\n\n//results of this query should be transformed to Multimap&lt;Worker, Period&gt;\n//if it was JDBC then it would be vitally \n//to set resultSet.setFetchSize (someSmallNumber), ~100\n</code></pre>\n\n<p>So, I have two questions: </p>\n\n<ol>\n<li>how to implement each of my approaches with JPA (or at least with Hibernate); </li>\n<li>how would you handle this problem (with JPA or Hibernate of course)?</li>\n</ol>\n"},{"tags":["java","jsp","java-8","jstl","jsp-tags"],"comments":[{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":2,"creation_date":1423939252,"post_id":28516766,"comment_id":45354831,"body_markdown":"According to the message `Cannot convert 2015-02-14 of type class java.time.LocalDate to class java.util.Date`, the JSTL tag `&lt;fmt:formatDate type=&quot;date&quot;&gt;` does not support  `java.time.LocalDate` which is introduced in Java 8.","body":"According to the message <code>Cannot convert 2015-02-14 of type class java.time.LocalDate to class java.util.Date</code>, the JSTL tag <code>&lt;fmt:formatDate type=&quot;date&quot;&gt;</code> does not support  <code>java.time.LocalDate</code> which is introduced in Java 8."}],"answers":[{"tags":[],"owner":{"account_id":3779010,"reputation":230,"user_id":3138997,"display_name":"user3138997"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1558820969,"creation_date":1423938655,"answer_id":28518806,"question_id":28516766,"body_markdown":"&gt; I&#39;m assuming it&#39;s the conversion?\r\n\r\nYes, it&#39;s a conversion related exception.\r\n\r\n---\r\n# Solution\r\nYou could **first** use the [`&lt;fmt:parseDate&gt;`][1] *action* from the JSTL&#39;s &quot;I18n capable formatting tag library&quot; to do the *conversion* and **then** do the *formatting* with the [`&lt;fmt:formatDate&gt;`][2] *action*.\r\n\r\nHere is an example:\r\n\r\n    &lt;fmt:parseDate  value=&quot;${std.datum}&quot;  type=&quot;date&quot; pattern=&quot;yyyy-MM-dd&quot; var=&quot;parsedDate&quot; /&gt;\r\n    &lt;fmt:formatDate value=&quot;${parsedDate}&quot; type=&quot;date&quot; pattern=&quot;dd.MM.yyyy&quot; var=&quot;stdDatum&quot; /&gt;\r\n\r\n&lt;br&gt;\r\nThis solution is also presented right in the [&quot;JavaServer Pages™ Standard Tag Library (JSTL)&quot;][3] specification *version 1.2* (see page 109). \r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/parseDate.html\r\n  [2]: https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/formatDate.html\r\n  [3]: https://download.oracle.com/otndocs/jcp/jstl-1.2-mrel2-oth-JSpec/","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<blockquote>\n  <p>I'm assuming it's the conversion?</p>\n</blockquote>\n\n<p>Yes, it's a conversion related exception.</p>\n\n<hr>\n\n<h1>Solution</h1>\n\n<p>You could <strong>first</strong> use the <a href=\"https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/parseDate.html\" rel=\"noreferrer\"><code>&lt;fmt:parseDate&gt;</code></a> <em>action</em> from the JSTL's \"I18n capable formatting tag library\" to do the <em>conversion</em> and <strong>then</strong> do the <em>formatting</em> with the <a href=\"https://docs.oracle.com/javaee/5/jstl/1.1/docs/tlddocs/fmt/formatDate.html\" rel=\"noreferrer\"><code>&lt;fmt:formatDate&gt;</code></a> <em>action</em>.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>&lt;fmt:parseDate  value=\"${std.datum}\"  type=\"date\" pattern=\"yyyy-MM-dd\" var=\"parsedDate\" /&gt;\n&lt;fmt:formatDate value=\"${parsedDate}\" type=\"date\" pattern=\"dd.MM.yyyy\" var=\"stdDatum\" /&gt;\n</code></pre>\n\n<p><br>\nThis solution is also presented right in the <a href=\"https://download.oracle.com/otndocs/jcp/jstl-1.2-mrel2-oth-JSpec/\" rel=\"noreferrer\">\"JavaServer Pages™ Standard Tag Library (JSTL)\"</a> specification <em>version 1.2</em> (see page 109). </p>\n"},{"tags":[],"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681462885,"creation_date":1445876054,"answer_id":33350528,"question_id":28516766,"body_markdown":"This is an old question, but I find it is better to do a custom tld in this case: without any double conversion to and from String.\r\n\r\nDo your own tld file, then override the FormatDate class. Finally, declare your own custom prefix and use custom:formatDate instead of fmt:formatDate.\r\n\r\nhere is a simplified version\r\n\r\nusage in JSP:\r\n\r\n    &lt;%@ taglib uri=&quot;/WEB-INF/custom&quot; prefix=&quot;custom&quot; %&gt;\r\n    ...\r\n    &lt;custom:formatDate value=&quot;${std.datum}&quot; pattern=&quot;dd/MM/yyyy&quot; /&gt;\r\n\r\nWEB-INF/custom.tld file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;tag ib version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee web-jsptaglibrary_2_0.xsd&quot;&gt;\r\n\r\n    &lt;tag&gt;\r\n\t\t&lt;description&gt;\r\n\t\t\tFormatDate with java8 type\r\n\t\t&lt;/description&gt;\r\n\t\t&lt;name&gt;formatDate&lt;/name&gt;\r\n\t\t&lt;tag-class&gt;com.custom.tag.FormatDateTag&lt;/tag-class&gt;\r\n\t\t&lt;body-content&gt;empty&lt;/body-content&gt;\r\n\t\t&lt;attribute&gt;\r\n\t\t\t&lt;description&gt;\r\n\t\t\t\tDate and/or time to be formatted.\r\n\t\t\t&lt;/description&gt;\r\n\t\t\t&lt;name&gt;value&lt;/name&gt;\r\n\t\t\t&lt;required&gt;true&lt;/required&gt;\r\n\t\t\t&lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\r\n\t\t&lt;/attribute&gt;\r\n\r\n\t\t&lt;attribute&gt;\r\n\t\t\t&lt;description&gt;\r\n\t\t\t\tCustom formatting style for dates and times.\r\n\t\t\t&lt;/description&gt;\r\n\t\t\t&lt;name&gt;pattern&lt;/name&gt;\r\n\t\t\t&lt;required&gt;false&lt;/required&gt;\r\n\t\t\t&lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\r\n\t\t&lt;/attribute&gt;\r\n\t&lt;/tag&gt;\r\n    &lt;/taglib&gt;\r\n\r\nThen the java class tag file\r\n\r\n\r\n    public class FormatDateTag extends TagSupport  {\r\n    \r\n        protected Temporal value;\r\n        protected String pattern; \r\n        private String var; \r\n        private int scope; \r\n    \r\n        \r\n        public FormatDateTag()\r\n        {\r\n            super ();\r\n            init ();\r\n        }\r\n    \r\n        private void init()\r\n        {\r\n    \r\n            this.pattern = this.var = null;\r\n            this.value = null;\r\n            this.scope = PageContext.PAGE_SCOPE;\r\n        }\r\n    \r\n       \r\n        public void setVar(final String var)\r\n        {\r\n            this.var = var;\r\n        }\r\n    \r\n        public void setScope(final String scope)\r\n        {\r\n            this.scope = Util.getScope (scope);\r\n        }\r\n    \r\n       \r\n        public void setValue(final Temporal value)\r\n        {\r\n            this.value = value;\r\n        }\r\n    \r\n    \r\n        public void setPattern(final String pattern)\r\n        {\r\n            this.pattern = pattern;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int doEndTag() throws JspException\r\n        {\r\n    \r\n            String formatted = null;\r\n    \r\n            if (this.value == null)\r\n            {\r\n                if (this.var != null)\r\n                {\r\n                    this.pageContext.removeAttribute (this.var, this.scope);\r\n                }\r\n                return EVAL_PAGE;\r\n            }\r\n    \r\n            // Create formatter\r\n            if (this.pattern != null)\r\n            {\r\n                final DateTimeFormatter formatter = DateTimeFormatter.ofPattern (this.pattern);\r\n                formatted = formatter.format (this.value);\r\n            }\r\n            else\r\n            {\r\n                // no formatting locale available, use Date.toString()\r\n                formatted = this.value.toString ();\r\n            }\r\n    \r\n            if (this.var != null)\r\n            {\r\n                this.pageContext.setAttribute (this.var, formatted, this.scope);\r\n            }\r\n            else\r\n            {\r\n                try\r\n                {\r\n                    this.pageContext.getOut ().print (formatted);\r\n                }\r\n                catch (final IOException ioe)\r\n                {\r\n                    throw new JspTagException (ioe.toString (), ioe);\r\n                }\r\n            }\r\n    \r\n            return EVAL_PAGE;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void release()\r\n        {\r\n            init ();\r\n        }\r\n    \r\n    }","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>This is an old question, but I find it is better to do a custom tld in this case: without any double conversion to and from String.</p>\n<p>Do your own tld file, then override the FormatDate class. Finally, declare your own custom prefix and use custom:formatDate instead of fmt:formatDate.</p>\n<p>here is a simplified version</p>\n<p>usage in JSP:</p>\n<pre><code>&lt;%@ taglib uri=&quot;/WEB-INF/custom&quot; prefix=&quot;custom&quot; %&gt;\n...\n&lt;custom:formatDate value=&quot;${std.datum}&quot; pattern=&quot;dd/MM/yyyy&quot; /&gt;\n</code></pre>\n<p>WEB-INF/custom.tld file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;tag ib version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee web-jsptaglibrary_2_0.xsd&quot;&gt;\n\n&lt;tag&gt;\n    &lt;description&gt;\n        FormatDate with java8 type\n    &lt;/description&gt;\n    &lt;name&gt;formatDate&lt;/name&gt;\n    &lt;tag-class&gt;com.custom.tag.FormatDateTag&lt;/tag-class&gt;\n    &lt;body-content&gt;empty&lt;/body-content&gt;\n    &lt;attribute&gt;\n        &lt;description&gt;\n            Date and/or time to be formatted.\n        &lt;/description&gt;\n        &lt;name&gt;value&lt;/name&gt;\n        &lt;required&gt;true&lt;/required&gt;\n        &lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\n    &lt;/attribute&gt;\n\n    &lt;attribute&gt;\n        &lt;description&gt;\n            Custom formatting style for dates and times.\n        &lt;/description&gt;\n        &lt;name&gt;pattern&lt;/name&gt;\n        &lt;required&gt;false&lt;/required&gt;\n        &lt;rtexprvalue&gt;true&lt;/rtexprvalue&gt;\n    &lt;/attribute&gt;\n&lt;/tag&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>Then the java class tag file</p>\n<pre><code>public class FormatDateTag extends TagSupport  {\n\n    protected Temporal value;\n    protected String pattern; \n    private String var; \n    private int scope; \n\n    \n    public FormatDateTag()\n    {\n        super ();\n        init ();\n    }\n\n    private void init()\n    {\n\n        this.pattern = this.var = null;\n        this.value = null;\n        this.scope = PageContext.PAGE_SCOPE;\n    }\n\n   \n    public void setVar(final String var)\n    {\n        this.var = var;\n    }\n\n    public void setScope(final String scope)\n    {\n        this.scope = Util.getScope (scope);\n    }\n\n   \n    public void setValue(final Temporal value)\n    {\n        this.value = value;\n    }\n\n\n    public void setPattern(final String pattern)\n    {\n        this.pattern = pattern;\n    }\n\n\n    @Override\n    public int doEndTag() throws JspException\n    {\n\n        String formatted = null;\n\n        if (this.value == null)\n        {\n            if (this.var != null)\n            {\n                this.pageContext.removeAttribute (this.var, this.scope);\n            }\n            return EVAL_PAGE;\n        }\n\n        // Create formatter\n        if (this.pattern != null)\n        {\n            final DateTimeFormatter formatter = DateTimeFormatter.ofPattern (this.pattern);\n            formatted = formatter.format (this.value);\n        }\n        else\n        {\n            // no formatting locale available, use Date.toString()\n            formatted = this.value.toString ();\n        }\n\n        if (this.var != null)\n        {\n            this.pageContext.setAttribute (this.var, formatted, this.scope);\n        }\n        else\n        {\n            try\n            {\n                this.pageContext.getOut ().print (formatted);\n            }\n            catch (final IOException ioe)\n            {\n                throw new JspTagException (ioe.toString (), ioe);\n            }\n        }\n\n        return EVAL_PAGE;\n    }\n\n\n    @Override\n    public void release()\n    {\n        init ();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5098703,"reputation":1,"user_id":4089073,"display_name":"user4089073"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592436246,"creation_date":1592436246,"answer_id":62439923,"question_id":28516766,"body_markdown":"I wanted to avoid changing all the places where &amp;lt;fmt:formatDate/&amp;gt; where used, so I created the following two classes in stead:\r\n\r\nFirst, a converter to convert (some of) the java.time classes. It checks that java.util.Date is the target type, if not, it does nothing. It supports source time as java.util.Date (including java.sql.Timestamp and java.sql.Date), LocalDate, LocalDateTime, ZonedDateTime, Instant or Long (time in millis).\r\n\r\n    package com.example.elresolvers;\r\n    \r\n    import javax.el.ELContext;\r\n    import javax.el.TypeConverter;\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.util.Date;\r\n    \r\n    @SuppressWarnings(&quot;UseOfObsoleteDateTimeApi&quot;)\r\n    public class DateFromJavaTimeResolver extends TypeConverter {\r\n        @Override\r\n        public Object convertToType(ELContext context, Object obj, Class&lt;?&gt; type) {\r\n            Date date = null;\r\n            if (Date.class.isAssignableFrom(type)) {\r\n                if (obj instanceof Date) {\r\n                    date = (Date) obj;\r\n                } else {\r\n                    ZonedDateTime zdt = null;\r\n                    if (obj instanceof LocalDate) {\r\n                        zdt = ((LocalDate) obj).atStartOfDay(ZoneId.systemDefault());\r\n                    } else if (obj instanceof LocalDateTime) {\r\n                        zdt = ((LocalDateTime) obj).atZone(ZoneId.systemDefault());\r\n                    } else if (obj instanceof ZonedDateTime) {\r\n                        zdt = (ZonedDateTime) obj;\r\n                    } else if (obj instanceof Instant) {\r\n                        date = Date.from((Instant) obj);\r\n                    } else if (obj instanceof Long) {\r\n                        date = new Date((Long) obj);\r\n                    }\r\n                    if (zdt != null) {\r\n                        date = Date.from(zdt.toInstant());\r\n                    }\r\n                }\r\n                context.setPropertyResolved(date != null);\r\n            }\r\n            return date;\r\n        }\r\n    }\r\n\r\nNext, a ServletContextListener class to register the converter for use with JSP:\r\n\r\n    package com.example.web;\r\n    \r\n    import com.example.elresolvers.DateFromJavaTimeResolver;\r\n    \r\n    import javax.servlet.ServletContext;\r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    import javax.servlet.jsp.JspApplicationContext;\r\n    import javax.servlet.jsp.JspFactory;\r\n    \r\n    public class JspElResolverInitListener implements ServletContextListener {\r\n        @Override\r\n        public void contextInitialized(ServletContextEvent sce) {\r\n            ServletContext servletContext = sce.getServletContext();\r\n            JspApplicationContext context = JspFactory.getDefaultFactory().getJspApplicationContext(servletContext);\r\n            context.addELResolver(new DateFromJavaTimeResolver());\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent sce) {\r\n        }\r\n    }\r\n\r\nFinally, an entry in web.xml (if you are not using annotations or other means):\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;com.example.web.JspElResolverInitListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>I wanted to avoid changing all the places where &lt;fmt:formatDate/&gt; where used, so I created the following two classes in stead:</p>\n\n<p>First, a converter to convert (some of) the java.time classes. It checks that java.util.Date is the target type, if not, it does nothing. It supports source time as java.util.Date (including java.sql.Timestamp and java.sql.Date), LocalDate, LocalDateTime, ZonedDateTime, Instant or Long (time in millis).</p>\n\n<pre><code>package com.example.elresolvers;\n\nimport javax.el.ELContext;\nimport javax.el.TypeConverter;\nimport java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.util.Date;\n\n@SuppressWarnings(\"UseOfObsoleteDateTimeApi\")\npublic class DateFromJavaTimeResolver extends TypeConverter {\n    @Override\n    public Object convertToType(ELContext context, Object obj, Class&lt;?&gt; type) {\n        Date date = null;\n        if (Date.class.isAssignableFrom(type)) {\n            if (obj instanceof Date) {\n                date = (Date) obj;\n            } else {\n                ZonedDateTime zdt = null;\n                if (obj instanceof LocalDate) {\n                    zdt = ((LocalDate) obj).atStartOfDay(ZoneId.systemDefault());\n                } else if (obj instanceof LocalDateTime) {\n                    zdt = ((LocalDateTime) obj).atZone(ZoneId.systemDefault());\n                } else if (obj instanceof ZonedDateTime) {\n                    zdt = (ZonedDateTime) obj;\n                } else if (obj instanceof Instant) {\n                    date = Date.from((Instant) obj);\n                } else if (obj instanceof Long) {\n                    date = new Date((Long) obj);\n                }\n                if (zdt != null) {\n                    date = Date.from(zdt.toInstant());\n                }\n            }\n            context.setPropertyResolved(date != null);\n        }\n        return date;\n    }\n}\n</code></pre>\n\n<p>Next, a ServletContextListener class to register the converter for use with JSP:</p>\n\n<pre><code>package com.example.web;\n\nimport com.example.elresolvers.DateFromJavaTimeResolver;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport javax.servlet.jsp.JspApplicationContext;\nimport javax.servlet.jsp.JspFactory;\n\npublic class JspElResolverInitListener implements ServletContextListener {\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        ServletContext servletContext = sce.getServletContext();\n        JspApplicationContext context = JspFactory.getDefaultFactory().getJspApplicationContext(servletContext);\n        context.addELResolver(new DateFromJavaTimeResolver());\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n    }\n}\n</code></pre>\n\n<p>Finally, an entry in web.xml (if you are not using annotations or other means):</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;com.example.web.JspElResolverInitListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635075765,"creation_date":1635075765,"answer_id":69696397,"question_id":28516766,"body_markdown":"Java:\r\n\r\n    public class DateTimeUtil {\r\n        private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n\r\n        public static String toString(LocalDateTime ldt) {\r\n            return ldt.format(DATE_FORMATTER);\r\n        }\r\n\r\nJSP:\r\n\r\n    &lt;%@ page import=&quot;ru.javaops.topjava.util.DateTimeUtil&quot; %&gt;\r\n    ...\r\n    &lt;%=DateTimeUtil.toString(std.getDatum())%&gt;","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>Java:</p>\n<pre><code>public class DateTimeUtil {\n    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n\n    public static String toString(LocalDateTime ldt) {\n        return ldt.format(DATE_FORMATTER);\n    }\n</code></pre>\n<p>JSP:</p>\n<pre><code>&lt;%@ page import=&quot;ru.javaops.topjava.util.DateTimeUtil&quot; %&gt;\n...\n&lt;%=DateTimeUtil.toString(std.getDatum())%&gt;\n</code></pre>\n"}],"owner":{"account_id":4161573,"reputation":125,"user_id":3411565,"accept_rate":33,"display_name":"user3411565"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10048,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1681462885,"creation_date":1423925330,"question_id":28516766,"body_markdown":"I haven&#39;t been able to figure out how to display a `java.time.LocalDate` value in a JSP.\r\n\r\nIn my JSP, I have this:\r\n\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;fmt:formatDate value=&quot;${std.datum}&quot; type=&quot;date&quot; pattern=&quot;dd.MM.yyyy&quot; var=&quot;stdDatum&quot; /&gt;\r\n\r\n&lt;br&gt;\r\nThe `std.datum` is of type [java.time.LocalDate][1]. When rendering the JSP I get this exception:\r\n\r\n&gt; javax.el.ELException:  \r\n&gt; Cannot convert 2015-02-14 of type class\r\n&gt; java.time.LocalDate to class java.util.Date\r\n\r\n\r\nI&#39;m assuming it&#39;s the conversion?\r\n\r\nSo is it possible to format an instance of *LocalDate* class with `&lt;fmr:formatDate&gt;` action?\r\n  \r\n [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Using java.time.LocalDate with JSTL &lt;fmt:formatDate&gt; action","body":"<p>I haven't been able to figure out how to display a <code>java.time.LocalDate</code> value in a JSP.</p>\n\n<p>In my JSP, I have this:</p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;fmt:formatDate value=\"${std.datum}\" type=\"date\" pattern=\"dd.MM.yyyy\" var=\"stdDatum\" /&gt;\n</code></pre>\n\n<p><br>\nThe <code>std.datum</code> is of type <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">java.time.LocalDate</a>. When rendering the JSP I get this exception:</p>\n\n<blockquote>\n  <p>javax.el.ELException:<br>\n  Cannot convert 2015-02-14 of type class\n  java.time.LocalDate to class java.util.Date</p>\n</blockquote>\n\n<p>I'm assuming it's the conversion?</p>\n\n<p>So is it possible to format an instance of <em>LocalDate</em> class with <code>&lt;fmr:formatDate&gt;</code> action?</p>\n"},{"tags":["java","jsoup"],"owner":{"account_id":19609121,"reputation":11,"user_id":14352015,"display_name":"CHRIS G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681462655,"creation_date":1681462365,"question_id":76013236,"body_markdown":"I&#39;m pretty new to Java and trying to learn how to crawl from a website. I&#39;m crawling a top 100 bestselling books from Barnes &amp; noble.\r\n\r\nI managed myself to crawl the top 1 title from its web, but when I&#39;m trying to make it into a for loop to crawl all the titles, I cannot do it. It all just gives out blank output.\r\n\r\n```java\r\nString url = &quot;https://www.barnesandnoble.com/b/books/_/N-1fZ29Z8q8&quot;;\r\nDocument doc = null;\r\ntry {\r\n    doc = Jsoup.connect(url).get();\r\n} catch ( Exception e) {\r\n    e.printStackTrace();\r\n}\r\n// System.out.println(doc);\r\nElement top100 = doc.select(&quot;.text&quot;).first();\r\nSystem.out.println(top100.text());\r\nElements bookList = doc.select(&quot;ol.product-shelf-list product-list-view &gt; li&quot;);\r\nfor(Element book : bookList) {\r\n    Element titleElement = book.select(&quot;.row topX-row &gt; div.product-info-view &gt; div.product-shelf-title &gt; .product-info-view&quot;).first();\r\n    String title = titleElement.text();\r\n    System.out.println(title);\r\n}\r\n// Element title = doc.select(&quot;.product-info-title&quot;).first();\r\n// System.out.println(title.text());\r\n```\r\n\r\nThe bottom two lines print the first book title &#39;The Great Awakening (10/15/2020)&#39; with no problem, but in a for loop, I can&#39;t print any of the titles.\r\n\r\nI noticed that titles are located like this:\r\n\r\n```html\r\n&lt;ol class=&quot;product-shelf-list product-list-view&quot;&gt;\r\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 1\r\n      &lt;div class=&quot;row topX-row&quot;&gt;\r\n         &lt;div class=&quot;product-info-view&quot;&gt;\r\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\r\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\r\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 2\r\n      &lt;div class=&quot;row topX-row&quot;&gt;\r\n         &lt;div class=&quot;product-info-view&quot;&gt;\r\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\r\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\r\n```\r\n\r\nand so on. I&#39;m trying to use my loop to get to the h3 for every book.\r\n\r\nI tried different ways to doc.select(....), ran with only .product-info-title in there move li here and there I don&#39;t know. I&#39;m just lost with how this thing works. They all just gave me blank outputs besides my B&amp;N Top 100: Book Bestsellers from printing out top100.","title":"How to for loop through titles of books in website","body":"<p>I'm pretty new to Java and trying to learn how to crawl from a website. I'm crawling a top 100 bestselling books from Barnes &amp; noble.</p>\n<p>I managed myself to crawl the top 1 title from its web, but when I'm trying to make it into a for loop to crawl all the titles, I cannot do it. It all just gives out blank output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String url = &quot;https://www.barnesandnoble.com/b/books/_/N-1fZ29Z8q8&quot;;\nDocument doc = null;\ntry {\n    doc = Jsoup.connect(url).get();\n} catch ( Exception e) {\n    e.printStackTrace();\n}\n// System.out.println(doc);\nElement top100 = doc.select(&quot;.text&quot;).first();\nSystem.out.println(top100.text());\nElements bookList = doc.select(&quot;ol.product-shelf-list product-list-view &gt; li&quot;);\nfor(Element book : bookList) {\n    Element titleElement = book.select(&quot;.row topX-row &gt; div.product-info-view &gt; div.product-shelf-title &gt; .product-info-view&quot;).first();\n    String title = titleElement.text();\n    System.out.println(title);\n}\n// Element title = doc.select(&quot;.product-info-title&quot;).first();\n// System.out.println(title.text());\n</code></pre>\n<p>The bottom two lines print the first book title 'The Great Awakening (10/15/2020)' with no problem, but in a for loop, I can't print any of the titles.</p>\n<p>I noticed that titles are located like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ol class=&quot;product-shelf-list product-list-view&quot;&gt;\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 1\n      &lt;div class=&quot;row topX-row&quot;&gt;\n         &lt;div class=&quot;product-info-view&quot;&gt;\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\n   &lt;li class=&quot;pb-s mt-m bd-bottom-disabled-gray record list-view-data&quot;&gt;   // book 2\n      &lt;div class=&quot;row topX-row&quot;&gt;\n         &lt;div class=&quot;product-info-view&quot;&gt;\n            &lt;div class=&quot;product-shelf-title&quot;&gt;\n               &lt;h3 class=&quot;product-info-title&quot;&gt;\n</code></pre>\n<p>and so on. I'm trying to use my loop to get to the h3 for every book.</p>\n<p>I tried different ways to doc.select(....), ran with only .product-info-title in there move li here and there I don't know. I'm just lost with how this thing works. They all just gave me blank outputs besides my B&amp;N Top 100: Book Bestsellers from printing out top100.</p>\n"},{"tags":["java","spring","spring-boot","solr"],"comments":[{"owner":{"account_id":2059606,"reputation":8268,"user_id":2265190,"accept_rate":50,"display_name":"Hafiz Muhammad Shafiq"},"score":0,"creation_date":1679374427,"post_id":75791013,"comment_id":133706055,"body_markdown":"Please share more details e.g., schema design, code snippet etc.","body":"Please share more details e.g., schema design, code snippet etc."},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679383983,"post_id":75791013,"comment_id":133707347,"body_markdown":"question edited with asked details, please check and let me know if you need more details","body":"question edited with asked details, please check and let me know if you need more details"}],"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681462618,"creation_date":1679319766,"question_id":75791013,"body_markdown":"I have class called employee and it contains address object,\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @SolrDocument(collection =&quot;Employee&quot; )\r\n    public class Employee {\r\n \r\n\t@Indexed\r\n\tprivate String name;\r\n\t@Indexed\r\n\t@Id\r\n\tprivate String id;\r\n\t@Indexed\r\n\tprivate List&lt;Address&gt; address;\r\n    }\r\n\r\n\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class Address {\r\n\r\n\tprivate String addressLine;\r\n\tprivate String zipcode;\r\n\tprivate String State;\r\n\tprivate String country;\r\n    }\r\n\r\nwhen I try to get the employee details from Apache solr, it giving the address object data with full qualified name(along with package and class name) as shown below. Let me know how to get only address out of it.\r\n\r\n    {\r\n    &quot;name&quot;: &quot;employee1&quot;,\r\n    &quot;id&quot;: &quot;1&quot;,\r\n    &quot;address&quot;: [\r\n        &quot;com.apachesolr.sample.application.model.Address:Address(addressLine=xyz street, zipcode=12345, State=AP, country=India)&quot;\r\n    ]\r\n} \r\n\r\nI tried indexing the data from spring boot application using solrCrudRepository it indexed fine.but when I try to retrieve it. It giving the documents along with qualified name of the document. I have used managed schema that will be created automatically when creating the core.","title":"How to store nested objects in Apache solr from spring boot application","body":"<p>I have class called employee and it contains address object,</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@SolrDocument(collection =&quot;Employee&quot; )\npublic class Employee {\n\n@Indexed\nprivate String name;\n@Indexed\n@Id\nprivate String id;\n@Indexed\nprivate List&lt;Address&gt; address;\n}\n\n\n@NoArgsConstructor\n@Data\npublic class Address {\n\nprivate String addressLine;\nprivate String zipcode;\nprivate String State;\nprivate String country;\n}\n</code></pre>\n<p>when I try to get the employee details from Apache solr, it giving the address object data with full qualified name(along with package and class name) as shown below. Let me know how to get only address out of it.</p>\n<pre><code>{\n&quot;name&quot;: &quot;employee1&quot;,\n&quot;id&quot;: &quot;1&quot;,\n&quot;address&quot;: [\n    &quot;com.apachesolr.sample.application.model.Address:Address(addressLine=xyz street, zipcode=12345, State=AP, country=India)&quot;\n]\n</code></pre>\n<p>}</p>\n<p>I tried indexing the data from spring boot application using solrCrudRepository it indexed fine.but when I try to retrieve it. It giving the documents along with qualified name of the document. I have used managed schema that will be created automatically when creating the core.</p>\n"},{"tags":["java","spring-boot","jpa","eclipselink","mssql-jdbc"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681387081,"post_id":76005056,"comment_id":134049913,"body_markdown":"What exactly doesn&#39;t work? Apart from the in-CAPS-written-variables, everything looks fine to me on a first glance. Can you further elaborate?","body":"What exactly doesn&#39;t work? Apart from the in-CAPS-written-variables, everything looks fine to me on a first glance. Can you further elaborate?"},{"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"score":0,"creation_date":1681387384,"post_id":76005056,"comment_id":134049996,"body_markdown":"@Z-100  I have no method to store the generated UUID into the trigger table. I have only completed the part to store the UUID into the input table.  I need help with storing the UUID generated also into the trigger table.","body":"@Z-100  I have no method to store the generated UUID into the trigger table. I have only completed the part to store the UUID into the input table.  I need help with storing the UUID generated also into the trigger table."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681387619,"post_id":76005056,"comment_id":134050056,"body_markdown":"That should be done automatically by JPA. Is there any error stating it&#39;s not possible to safe GKZ, because of an unsaved entity? Did you ever check your database?","body":"That should be done automatically by JPA. Is there any error stating it&#39;s not possible to safe GKZ, because of an unsaved entity? Did you ever check your database?"},{"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"score":0,"creation_date":1681390779,"post_id":76005056,"comment_id":134050879,"body_markdown":"@Z-100 Thank you for your quick responses, I have posted the solution to my task, I was able to solve it. :D","body":"@Z-100 Thank you for your quick responses, I have posted the solution to my task, I was able to solve it. :D"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1681392258,"post_id":76005056,"comment_id":134051279,"body_markdown":"No problem :) Happy I could assist!","body":"No problem :) Happy I could assist!"}],"answers":[{"tags":[],"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681390710,"creation_date":1681390710,"answer_id":76005720,"question_id":76005056,"body_markdown":"I updated my ServiceImplementation class.\r\n\r\n```\r\n\r\n\t@Override\r\n\tpublic GKZ saveGKZ(GKZ GKZ) {\r\n\r\n\t\t//Generate random UUID\r\n\t\tUUID uuid=UUID.randomUUID();  \r\n\t\tGKZ.setuid(uuid);\r\n\t\t\r\n\t\tGKZtrigger gkZtrigger = new GKZtrigger();\r\n\t\tgkZtrigger.setuid(uuid);\r\n\t\t\r\n\t\tgRepository.save(GKZ);\r\n\t\ttRepository.save(gkZtrigger);\r\n\t\treturn GKZ;\r\n\t\t\r\n\t}\r\n\r\n```\r\n\r\nTurns out, just creating an instance and then calling the Repository works !","title":"How to save autogenerated UUID to a table in Springboot?","body":"<p>I updated my ServiceImplementation class.</p>\n<pre><code>\n    @Override\n    public GKZ saveGKZ(GKZ GKZ) {\n\n        //Generate random UUID\n        UUID uuid=UUID.randomUUID();  \n        GKZ.setuid(uuid);\n        \n        GKZtrigger gkZtrigger = new GKZtrigger();\n        gkZtrigger.setuid(uuid);\n        \n        gRepository.save(GKZ);\n        tRepository.save(gkZtrigger);\n        return GKZ;\n        \n    }\n\n</code></pre>\n<p>Turns out, just creating an instance and then calling the Repository works !</p>\n"},{"comments":[{"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"score":0,"creation_date":1681414993,"post_id":76005759,"comment_id":134056917,"body_markdown":"Thank You! I have added my solution to this question too :D","body":"Thank You! I have added my solution to this question too :D"}],"tags":[],"owner":{"account_id":6872920,"reputation":31,"user_id":5282496,"display_name":"Michael G"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681462527,"creation_date":1681390889,"answer_id":76005759,"question_id":76005056,"body_markdown":"Off the top of my head, you have to save it to GKZTriggerRepository similar to how you save GKZ entity.\r\n\r\n    @Service\r\n    public class GKZServiceImpl implements GKZService {\r\n     \r\n        @Autowired\r\n        private GKZInputRepository gRepository;\r\n\r\n        @Autowired\r\n        private GKZTriggerRepository gkzTriggerRepository;\r\n\r\n        @Override\r\n        @Transactional // either everything stored to DB or nothing\r\n        public GKZ saveGKZ(GKZ GKZ) {\r\n\r\n            //Generate random UUID\r\n            UUID uuid=UUID.randomUUID();  \r\n            GKZ.setuid(uuid);\r\n        \r\n            gRepository.save(GKZ);\r\n\r\n            GKZtrigger gkzTrigger = new GKZtrigger();\r\n            gkzTrigger.setuid(uuid);\r\n\r\n            gkzTriggerRepository.save(gkzTrigger);\r\n        \r\n            return GKZ;\r\n        }\r\n    }\r\n    \r\n\r\n**OR** reference the GKZtrigger entity from the GKZ entity\r\n\r\n    ...\r\n\r\n    @Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\r\n    public class GKZ {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n        ...\r\n\r\n        @OneToOne\r\n        private GKZtrigger gkzTrigger;\r\n\r\n        ...\r\n\r\n        public GKZtrigger getGkzTrigger() {\r\n            return this.gkzTrigger;\r\n        }\r\n\r\n        public void setGkzTrigger(GKZtrigger gkzTrigger) {\r\n            this.gkzTrigger = gkzTrigger;\r\n        }\r\n\r\n        ...\r\n\r\n    }\r\n\r\nthen you would set GKZtrigger to GKZ entity and JPA will save both for you\r\n\r\n    ...\r\n\r\n    @Override\r\n    public GKZ saveGKZ(GKZ GKZ) {\r\n\r\n        //Generate random UUID\r\n        UUID uuid=UUID.randomUUID();  \r\n        GKZ.setuid(uuid);\r\n\r\n        GKZtrigger gkzTrigger = new GKZtrigger();\r\n        gkzTrigger.setuid(uuid);\r\n\r\n        GKZ.setGkzTrigger(gkzTrigger);\r\n\r\n        gRepository.save(GKZ); // JPA will save both entities\r\n        \r\n        return GKZ;\r\n    }\r\n\r\n    ...\r\n\r\nAnd you also have to add \r\n\r\n    @OneToOne(mappedBy = &quot;gkzTrigger&quot;)\r\n    private GKZ gkz\r\n\r\nfield to GKZtrigger class so JPA can figure both sides of the relationaship.\r\n\r\nIf you go down this path I suggest you google &quot;JPA one to one&quot; an read an article at Baeldung (should be the first result). When you got that down, there are also @OneToMany @ManyToOne and @ManyToMany annotations. When your JPA code works, explore the database and see what tables being created and how they relate.\r\n\r\n\r\n","title":"How to save autogenerated UUID to a table in Springboot?","body":"<p>Off the top of my head, you have to save it to GKZTriggerRepository similar to how you save GKZ entity.</p>\n<pre><code>@Service\npublic class GKZServiceImpl implements GKZService {\n \n    @Autowired\n    private GKZInputRepository gRepository;\n\n    @Autowired\n    private GKZTriggerRepository gkzTriggerRepository;\n\n    @Override\n    @Transactional // either everything stored to DB or nothing\n    public GKZ saveGKZ(GKZ GKZ) {\n\n        //Generate random UUID\n        UUID uuid=UUID.randomUUID();  \n        GKZ.setuid(uuid);\n    \n        gRepository.save(GKZ);\n\n        GKZtrigger gkzTrigger = new GKZtrigger();\n        gkzTrigger.setuid(uuid);\n\n        gkzTriggerRepository.save(gkzTrigger);\n    \n        return GKZ;\n    }\n}\n</code></pre>\n<p><strong>OR</strong> reference the GKZtrigger entity from the GKZ entity</p>\n<pre><code>...\n\n@Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\npublic class GKZ {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n    ...\n\n    @OneToOne\n    private GKZtrigger gkzTrigger;\n\n    ...\n\n    public GKZtrigger getGkzTrigger() {\n        return this.gkzTrigger;\n    }\n\n    public void setGkzTrigger(GKZtrigger gkzTrigger) {\n        this.gkzTrigger = gkzTrigger;\n    }\n\n    ...\n\n}\n</code></pre>\n<p>then you would set GKZtrigger to GKZ entity and JPA will save both for you</p>\n<pre><code>...\n\n@Override\npublic GKZ saveGKZ(GKZ GKZ) {\n\n    //Generate random UUID\n    UUID uuid=UUID.randomUUID();  \n    GKZ.setuid(uuid);\n\n    GKZtrigger gkzTrigger = new GKZtrigger();\n    gkzTrigger.setuid(uuid);\n\n    GKZ.setGkzTrigger(gkzTrigger);\n\n    gRepository.save(GKZ); // JPA will save both entities\n    \n    return GKZ;\n}\n\n...\n</code></pre>\n<p>And you also have to add</p>\n<pre><code>@OneToOne(mappedBy = &quot;gkzTrigger&quot;)\nprivate GKZ gkz\n</code></pre>\n<p>field to GKZtrigger class so JPA can figure both sides of the relationaship.</p>\n<p>If you go down this path I suggest you google &quot;JPA one to one&quot; an read an article at Baeldung (should be the first result). When you got that down, there are also @OneToMany @ManyToOne and @ManyToMany annotations. When your JPA code works, explore the database and see what tables being created and how they relate.</p>\n"}],"owner":{"account_id":21764857,"reputation":15,"user_id":16068906,"display_name":"Md101"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681462527,"creation_date":1681386511,"question_id":76005056,"body_markdown":"I am new to springboot and would really appreciate some help. My task is as follows:\r\n\r\n1. Insert &amp; store Json data into Input Table (using eclipselink)\r\nOne of the datain this table is an UUID which is randomly generated in Service Implementation.\r\n\r\n2.The UUID generated by the ServiceImplementation.class is then stored in a Trigger Table.\r\n\r\nI need help with storing the UUID into the Trigger Table as I can&#39;t find a suitable method online. \r\n\r\nNote: I have a repository class for both Entities. \r\n\r\nIf you need me to add any other additional code snippets please do let me know. Thanks in advance!\r\n\r\nController.java\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Controller;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\r\nimport de.cibplus.cibplusngvdpGKZ.Service.GKZService;\r\n\r\n\r\n\r\n@RestController //@Controller + @ResponseBody\r\npublic class GKZController {\r\n\t\r\n\t@Autowired\r\n\tprivate GKZService gService;\r\n\t\r\n\t\r\n\t\r\n\t//Save Input data\r\n\t\t@PostMapping(&quot;/gkz&quot;)\r\n\t\tpublic  ResponseEntity&lt;GKZ&gt; saveGKZ(@RequestBody GKZ GKZ) {\r\n\t\tGKZ gkz = gService.saveGKZ(GKZ);\r\n\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(gkz) ;\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\nInput.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Model;\r\n\r\nimport java.math.BigInteger;\r\nimport java.time.LocalDate;\r\n//import java.util.Date;\r\nimport java.util.UUID;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n\r\nimport org.eclipse.persistence.annotations.UuidGenerator;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Entity\r\n\r\n@Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\r\npublic class GKZ {\r\n\t\r\n\t    @Id\r\n\t    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t    \r\n\t    @Column(name=&quot;ID&quot;)\r\n\t    private Integer ID;\r\n\t    \r\n\t    @Column(name=&quot;stichtag&quot;)\r\n\t\tprivate LocalDate stichtag;\r\n\t    \r\n\t    @Column(name=&quot;refstreet&quot;)\r\n\t\tprivate String refstreet;\r\n\t    \r\n\t    @Column(name=&quot;hnr&quot;)\r\n\t\tprivate String hnr;\r\n\t    \r\n\t    @Column(name=&quot;street&quot;)\r\n\t\tprivate String street;\r\n\t    \r\n\t    @Column(name=&quot;city&quot;)\r\n\t\tprivate String city;\r\n\t    \r\n\t    @Column(name=&quot;zipcode&quot;)\r\n\t\tprivate String zipcode;\r\n\t\r\n\t    @Column(name=&quot;objecttype_id&quot;)\r\n\t    private Integer objecttypeId;\r\n\t\t\r\n\t    @Column(name=&quot;client_id&quot;)\r\n\t    private String client_id;\r\n\t\t\r\n\t    @Column(name=&quot;valuation_id&quot;)\r\n\t    private BigInteger valuation_id;\r\n\t    \r\n\r\n\t\t\r\n\t\t\r\n\t    @Column(name=&quot;uid&quot;)\r\n\t    private UUID uid;\r\n\t    \r\n\t    public LocalDate getstichtag() {\r\n\t\t\t return stichtag;\r\n\t\t }\r\n\t\t\r\n\r\n\t\tpublic void setstichtag(LocalDate stichtag) {\r\n\t\t      this.stichtag = stichtag;\r\n\t\t   }\r\n\r\n\t\t \r\n\t\t public String getrefstreet() {\r\n\t\t\t return refstreet;\r\n\t\t }\r\n\t\t \r\n\t\t public void setrefstreet(String refstreet) {\r\n\t\t      this.refstreet = refstreet;\r\n\t\t   }\r\n\t\t \r\n\t\t public String gethnr() {\r\n\t\t\t return hnr;\r\n\t\t }\r\n\t\t \r\n\t\t public void sethnr(String hnr) {\r\n\t\t      this.hnr = hnr;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getstreet() {\r\n\t\t\t return street;\r\n\t\t }\r\n\t\t \r\n\t\t public void setstreet(String street) {\r\n\t\t      this.street = street;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getcity() {\r\n\t\t\t return city;\r\n\t\t }\r\n\t\t \r\n\t\t public void setcity(String city) {\r\n\t\t      this.city = city;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getzipcode() {\r\n\t\t\t return zipcode;\r\n\t\t }\r\n\t\t \r\n\t\t public void setzipcode(String zipcode) {\r\n\t\t      this.zipcode = zipcode;\r\n\t\t   }\r\n\t\t \r\n\t\t public Integer getobjecttypeId() {\r\n\t\t\t return objecttypeId;\r\n\t\t }\r\n\t\t \r\n\t\t public void setobjecttype_id(Integer objecttypeId) {\r\n\t\t      this.objecttypeId = objecttypeId;\r\n\t\t   }\r\n\t\t \r\n\t\t public String getclient_id() {\r\n\t\t\t return client_id;\r\n\t\t }\r\n\t\t \r\n\t\t public void setclient_id(String client_id) {\r\n\t\t      this.client_id = client_id;\r\n\t\t   }\r\n\t\t \r\n\t\t public BigInteger getvaluation_id() {\r\n\t\t\t return valuation_id;\r\n\t\t }\r\n\t\t \r\n\t\t public void setvaluation_id(BigInteger valuation_id) {\r\n\t\t      this.valuation_id = valuation_id;\r\n\t\t   }\r\n\t\t \r\n\t\t public UUID getuid() {\r\n\t\t\t return uid;\r\n\t\t }\r\n\t\t \r\n\t\t public void setuid(UUID uid) {\r\n\t\t      this.uid = uid;\r\n\t\t   }\r\n\t\t \r\n\t\t public Integer getID() {\r\n\t\t\t return ID;\r\n\t\t }\r\n\t\t \r\n\t\t public void setID(Integer ID) {\r\n\t\t      this.ID = ID;\r\n\t\t   }\r\n\t\t\r\n\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\n\r\n\r\n```\r\n\r\nTrigger.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Model;\r\n\r\nimport java.util.UUID;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n\r\n@Setter\r\n@Getter\r\n@ToString\r\n@Entity\r\n@Table(name= &quot;T_CIB_CIBp_uid&quot;)\r\npublic class GKZtrigger {\r\n\t\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name=&quot;ID&quot;)\r\n    private Integer ID;\r\n \r\n    \r\n    @Column(name=&quot;uid&quot;)\r\n    private UUID uid;\r\n    \r\n    public UUID getuid() {\r\n\t\t return uid;\r\n\t }\r\n\t \r\n\t public void setuid(UUID uid) {\r\n\t      this.uid = uid;\r\n\t   }\r\n\r\n\tpublic Integer getID() {\r\n\t\treturn ID;\r\n\t}\r\n\r\n\tpublic void setID(Integer iD) {\r\n\t\tID = iD;\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n```\r\nService.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Service;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\r\n\r\n\r\n\r\npublic interface GKZService {\r\n\t\r\n\t\r\n\r\n\tGKZ saveGKZ(GKZ GKZ);\r\n\t\r\n\t\r\n}\r\n\r\n```\r\nServiceImplementation.class\r\n\r\n```\r\npackage de.cibplus.cibplusngvdpGKZ.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\r\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZInputRepository;\r\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZTriggerRepository;\r\n\r\nimport de.cibplus.cibplusngvdpGKZ.Service.*;\r\n\r\n\r\n@Service\r\npublic class GKZServiceImpl implements GKZService {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate GKZInputRepository gRepository;\r\n\t\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic GKZ saveGKZ(GKZ GKZ) {\r\n\r\n\t\t//Generate random UUID\r\n\t\tUUID uuid=UUID.randomUUID();  \r\n\t\tGKZ.setuid(uuid);\r\n\t\t\r\n\t\tgRepository.save(GKZ);\r\n\t\t\r\n\t\treturn GKZ;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t}\r\n\t\r\n\r\n\r\n\r\n```","title":"How to save autogenerated UUID to a table in Springboot?","body":"<p>I am new to springboot and would really appreciate some help. My task is as follows:</p>\n<ol>\n<li>Insert &amp; store Json data into Input Table (using eclipselink)\nOne of the datain this table is an UUID which is randomly generated in Service Implementation.</li>\n</ol>\n<p>2.The UUID generated by the ServiceImplementation.class is then stored in a Trigger Table.</p>\n<p>I need help with storing the UUID into the Trigger Table as I can't find a suitable method online.</p>\n<p>Note: I have a repository class for both Entities.</p>\n<p>If you need me to add any other additional code snippets please do let me know. Thanks in advance!</p>\n<p>Controller.java</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Controller;\n\n\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\nimport de.cibplus.cibplusngvdpGKZ.Service.GKZService;\n\n\n\n@RestController //@Controller + @ResponseBody\npublic class GKZController {\n    \n    @Autowired\n    private GKZService gService;\n    \n    \n    \n    //Save Input data\n        @PostMapping(&quot;/gkz&quot;)\n        public  ResponseEntity&lt;GKZ&gt; saveGKZ(@RequestBody GKZ GKZ) {\n        GKZ gkz = gService.saveGKZ(GKZ);\n        return ResponseEntity.status(HttpStatus.CREATED).body(gkz) ;\n            \n        }\n    \n    \n    }\n    \n\n}\n\n</code></pre>\n<p>Input.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Model;\n\nimport java.math.BigInteger;\nimport java.time.LocalDate;\n//import java.util.Date;\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\nimport org.eclipse.persistence.annotations.UuidGenerator;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Setter\n@Getter\n@ToString\n@Entity\n\n@Table(name= &quot;T_CIB_CIBp_GKZ_I&quot;)\npublic class GKZ {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        \n        @Column(name=&quot;ID&quot;)\n        private Integer ID;\n        \n        @Column(name=&quot;stichtag&quot;)\n        private LocalDate stichtag;\n        \n        @Column(name=&quot;refstreet&quot;)\n        private String refstreet;\n        \n        @Column(name=&quot;hnr&quot;)\n        private String hnr;\n        \n        @Column(name=&quot;street&quot;)\n        private String street;\n        \n        @Column(name=&quot;city&quot;)\n        private String city;\n        \n        @Column(name=&quot;zipcode&quot;)\n        private String zipcode;\n    \n        @Column(name=&quot;objecttype_id&quot;)\n        private Integer objecttypeId;\n        \n        @Column(name=&quot;client_id&quot;)\n        private String client_id;\n        \n        @Column(name=&quot;valuation_id&quot;)\n        private BigInteger valuation_id;\n        \n\n        \n        \n        @Column(name=&quot;uid&quot;)\n        private UUID uid;\n        \n        public LocalDate getstichtag() {\n             return stichtag;\n         }\n        \n\n        public void setstichtag(LocalDate stichtag) {\n              this.stichtag = stichtag;\n           }\n\n         \n         public String getrefstreet() {\n             return refstreet;\n         }\n         \n         public void setrefstreet(String refstreet) {\n              this.refstreet = refstreet;\n           }\n         \n         public String gethnr() {\n             return hnr;\n         }\n         \n         public void sethnr(String hnr) {\n              this.hnr = hnr;\n           }\n         \n         public String getstreet() {\n             return street;\n         }\n         \n         public void setstreet(String street) {\n              this.street = street;\n           }\n         \n         public String getcity() {\n             return city;\n         }\n         \n         public void setcity(String city) {\n              this.city = city;\n           }\n         \n         public String getzipcode() {\n             return zipcode;\n         }\n         \n         public void setzipcode(String zipcode) {\n              this.zipcode = zipcode;\n           }\n         \n         public Integer getobjecttypeId() {\n             return objecttypeId;\n         }\n         \n         public void setobjecttype_id(Integer objecttypeId) {\n              this.objecttypeId = objecttypeId;\n           }\n         \n         public String getclient_id() {\n             return client_id;\n         }\n         \n         public void setclient_id(String client_id) {\n              this.client_id = client_id;\n           }\n         \n         public BigInteger getvaluation_id() {\n             return valuation_id;\n         }\n         \n         public void setvaluation_id(BigInteger valuation_id) {\n              this.valuation_id = valuation_id;\n           }\n         \n         public UUID getuid() {\n             return uid;\n         }\n         \n         public void setuid(UUID uid) {\n              this.uid = uid;\n           }\n         \n         public Integer getID() {\n             return ID;\n         }\n         \n         public void setID(Integer ID) {\n              this.ID = ID;\n           }\n        \n        \n            \n            \n        }\n\n\n\n\n</code></pre>\n<p>Trigger.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Model;\n\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n\n@Setter\n@Getter\n@ToString\n@Entity\n@Table(name= &quot;T_CIB_CIBp_uid&quot;)\npublic class GKZtrigger {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;ID&quot;)\n    private Integer ID;\n \n    \n    @Column(name=&quot;uid&quot;)\n    private UUID uid;\n    \n    public UUID getuid() {\n         return uid;\n     }\n     \n     public void setuid(UUID uid) {\n          this.uid = uid;\n       }\n\n    public Integer getID() {\n        return ID;\n    }\n\n    public void setID(Integer iD) {\n        ID = iD;\n    }\n\n}\n\n\n\n</code></pre>\n<p>Service.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Service;\n\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.stereotype.Service;\n\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\n\n\n\npublic interface GKZService {\n    \n    \n\n    GKZ saveGKZ(GKZ GKZ);\n    \n    \n}\n\n</code></pre>\n<p>ServiceImplementation.class</p>\n<pre><code>package de.cibplus.cibplusngvdpGKZ.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\n\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZ;\nimport de.cibplus.cibplusngvdpGKZ.Model.GKZtrigger;\n\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZInputRepository;\nimport de.cibplus.cibplusngvdpGKZ.Repository.GKZTriggerRepository;\n\nimport de.cibplus.cibplusngvdpGKZ.Service.*;\n\n\n@Service\npublic class GKZServiceImpl implements GKZService {\n    \n    \n    @Autowired\n    private GKZInputRepository gRepository;\n    \n    \n    \n    @Override\n    public GKZ saveGKZ(GKZ GKZ) {\n\n        //Generate random UUID\n        UUID uuid=UUID.randomUUID();  \n        GKZ.setuid(uuid);\n        \n        gRepository.save(GKZ);\n        \n        return GKZ;\n        \n    }\n    \n    \n    }\n    \n\n\n\n</code></pre>\n"},{"tags":["java","android","amazon-web-services","aws-api-gateway","aws-sdk-android"],"answers":[{"comments":[{"owner":{"account_id":28302108,"reputation":3,"user_id":21640645,"display_name":"bernard"},"score":1,"creation_date":1681462384,"post_id":76013197,"comment_id":134063537,"body_markdown":"i can? it said the file is read-only?","body":"i can? it said the file is read-only?"},{"owner":{"account_id":27944791,"reputation":36,"user_id":21340014,"display_name":"The bug"},"score":1,"creation_date":1681464516,"post_id":76013197,"comment_id":134064029,"body_markdown":"Create a utility function to convert the Output object to a readable string without modifying read-only classes. Use this function when displaying the toast message in your MainActivity.","body":"Create a utility function to convert the Output object to a readable string without modifying read-only classes. Use this function when displaying the toast message in your MainActivity."}],"tags":[],"owner":{"account_id":27944791,"reputation":36,"user_id":21340014,"display_name":"The bug"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681462160,"creation_date":1681462160,"answer_id":76013197,"question_id":76012698,"body_markdown":"In summary, you need to override the toString() method in your Resultur and Output classes, and use output.getOutput().toString() when displaying the toast message. For learning how to use the AWS API SDK for Android, you can refer to the https://aws-amplify.github.io/aws-sdk-android/docs/reference/","title":"How to get value from aws api gateway to android studio (java)","body":"<p>In summary, you need to override the toString() method in your Resultur and Output classes, and use output.getOutput().toString() when displaying the toast message. For learning how to use the AWS API SDK for Android, you can refer to the <a href=\"https://aws-amplify.github.io/aws-sdk-android/docs/reference/\" rel=\"nofollow noreferrer\">https://aws-amplify.github.io/aws-sdk-android/docs/reference/</a></p>\n"}],"owner":{"account_id":28302108,"reputation":3,"user_id":21640645,"display_name":"bernard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76013197,"answer_count":1,"score":0,"last_activity_date":1681462160,"creation_date":1681458384,"question_id":76012698,"body_markdown":"I dont understand why my output received by my android app from api gateway is like this dummypackage.model.Resultur@d0cce8e and not in string or json. how can i get some readable data?\r\n\r\nI set up a dummy lambda function that sends a response \r\n```\r\n    return {\r\n        statusCode: 200,\r\n        headers: {\r\n            &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;\r\n        },\r\n        body:1\r\n    }\r\n```\r\nwhen the api get method is called.\r\n\r\nThis is the model that i set up in the response body of my method response: \r\n```\r\n{\r\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n    &quot;type&quot;:&quot;object&quot;,\r\n    &quot;properties&quot;:{\r\n        &quot;output&quot;:{\r\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pzxzxz27/models/Output&quot;\r\n \r\n        }\r\n    },\r\n    &quot;title&quot;:&quot;Result&quot;\r\n}\r\n```\r\n\r\nThe output model is \r\n\r\n```\r\n{\r\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n    &quot;type&quot;:&quot;object&quot;,\r\n    &quot;properties&quot;:{\r\n        &quot;output&quot;:{\r\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pvgc7ic27/models/Output&quot;\r\n \r\n        }\r\n    },\r\n    &quot;title&quot;:&quot;Result&quot;\r\n}\r\n```\r\n\r\nThe &quot;resultur&quot; class that is made in the sdk is:\r\n\r\n\r\n```\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npackage dummypackage.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class Resultur {\r\n    @SerializedName(&quot;output&quot;)\r\n    private Output output = null;\r\n\r\n    public Resultur() {\r\n    }\r\n\r\n    public Output getOutput() {\r\n        return this.output;\r\n    }\r\n\r\n    public void setOutput(Output output) {\r\n        this.output = output;\r\n    }\r\n}\r\n```\r\n\r\nAnd the &#39;output&#39; class is this:\r\n\r\n```\r\n//\r\n// Source code recreated from a .class file by IntelliJ IDEA\r\n// (powered by FernFlower decompiler)\r\n//\r\n\r\npackage dummypackage.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\nimport java.math.BigDecimal;\r\n\r\npublic class Output {\r\n    @SerializedName(&quot;Output&quot;)\r\n    private BigDecimal output = null;\r\n\r\n    public Output() {\r\n    }\r\n\r\n    public BigDecimal getOutput() {\r\n        return this.output;\r\n    }\r\n\r\n    public void setOutput(BigDecimal output) {\r\n        this.output = output;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI used this code in my main activity to get my output:\r\n\r\n```\r\npackage com.example.apiapplication3;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.amazonaws.mobileconnectors.apigateway.ApiClientFactory;\r\n\r\nimport org.json.JSONObject;\r\n\r\nimport dummypackage.DummyapiClient;\r\nimport dummypackage.model.Resultur;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button button;\r\n\r\n    TextView textView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ApiClientFactory factory = new ApiClientFactory();\r\n        final DummyapiClient client = factory.build(DummyapiClient.class);\r\n        button = findViewById(R.id.button);\r\n\r\n        String values;\r\n\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Thread thread = new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        try  {\r\n                          Resultur output = client.messageGet();\r\n\r\n\r\n                         \r\n                            runOnUiThread(new Runnable() {\r\n                                public void run() {\r\n                                    Toast.makeText(MainActivity.this, output, Toast.LENGTH_SHORT).show(); // Display the value in a Toast message\r\n\r\n                                }\r\n                            });\r\n//                          Log.w(&quot;output&quot;, &quot;s&quot; + output);\r\n\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                });\r\n                thread.start();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\nWhat am i doing wrong? also what are some good places to learn how to use aws api sdk for android? (i followed all instructions of aws documentation but still got stuck)\r\n","title":"How to get value from aws api gateway to android studio (java)","body":"<p>I dont understand why my output received by my android app from api gateway is like this dummypackage.model.Resultur@d0cce8e and not in string or json. how can i get some readable data?</p>\n<p>I set up a dummy lambda function that sends a response</p>\n<pre><code>    return {\n        statusCode: 200,\n        headers: {\n            &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;\n        },\n        body:1\n    }\n</code></pre>\n<p>when the api get method is called.</p>\n<p>This is the model that i set up in the response body of my method response:</p>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n    &quot;type&quot;:&quot;object&quot;,\n    &quot;properties&quot;:{\n        &quot;output&quot;:{\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pzxzxz27/models/Output&quot;\n \n        }\n    },\n    &quot;title&quot;:&quot;Result&quot;\n}\n</code></pre>\n<p>The output model is</p>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n    &quot;type&quot;:&quot;object&quot;,\n    &quot;properties&quot;:{\n        &quot;output&quot;:{\n            &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/3pvgc7ic27/models/Output&quot;\n \n        }\n    },\n    &quot;title&quot;:&quot;Result&quot;\n}\n</code></pre>\n<p>The &quot;resultur&quot; class that is made in the sdk is:</p>\n<pre><code>// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage dummypackage.model;\n\nimport com.google.gson.annotations.SerializedName;\n\npublic class Resultur {\n    @SerializedName(&quot;output&quot;)\n    private Output output = null;\n\n    public Resultur() {\n    }\n\n    public Output getOutput() {\n        return this.output;\n    }\n\n    public void setOutput(Output output) {\n        this.output = output;\n    }\n}\n</code></pre>\n<p>And the 'output' class is this:</p>\n<pre><code>//\n// Source code recreated from a .class file by IntelliJ IDEA\n// (powered by FernFlower decompiler)\n//\n\npackage dummypackage.model;\n\nimport com.google.gson.annotations.SerializedName;\nimport java.math.BigDecimal;\n\npublic class Output {\n    @SerializedName(&quot;Output&quot;)\n    private BigDecimal output = null;\n\n    public Output() {\n    }\n\n    public BigDecimal getOutput() {\n        return this.output;\n    }\n\n    public void setOutput(BigDecimal output) {\n        this.output = output;\n    }\n}\n\n</code></pre>\n<p>I used this code in my main activity to get my output:</p>\n<pre><code>package com.example.apiapplication3;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.amazonaws.mobileconnectors.apigateway.ApiClientFactory;\n\nimport org.json.JSONObject;\n\nimport dummypackage.DummyapiClient;\nimport dummypackage.model.Resultur;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button button;\n\n    TextView textView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ApiClientFactory factory = new ApiClientFactory();\n        final DummyapiClient client = factory.build(DummyapiClient.class);\n        button = findViewById(R.id.button);\n\n        String values;\n\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Thread thread = new Thread(new Runnable() {\n                    @Override\n                    public void run() {\n                        try  {\n                          Resultur output = client.messageGet();\n\n\n                         \n                            runOnUiThread(new Runnable() {\n                                public void run() {\n                                    Toast.makeText(MainActivity.this, output, Toast.LENGTH_SHORT).show(); // Display the value in a Toast message\n\n                                }\n                            });\n//                          Log.w(&quot;output&quot;, &quot;s&quot; + output);\n\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    }\n                });\n                thread.start();\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>What am i doing wrong? also what are some good places to learn how to use aws api sdk for android? (i followed all instructions of aws documentation but still got stuck)</p>\n"},{"tags":["java","maven","grpc-java"],"answers":[{"comments":[{"owner":{"account_id":1157559,"reputation":315,"user_id":1390116,"accept_rate":0,"display_name":"silvalli"},"score":6,"creation_date":1563562021,"post_id":47959075,"comment_id":100754764,"body_markdown":"I have this problem, and this doesn&#39;t fix it, even with later versions now current, and I put these before the grpc dependencies, if that matters. Also, my app doesn&#39;t seem to use the httpcore artifact at all. I have tried lots of things, and I&#39;m stumped.","body":"I have this problem, and this doesn&#39;t fix it, even with later versions now current, and I put these before the grpc dependencies, if that matters. Also, my app doesn&#39;t seem to use the httpcore artifact at all. I have tried lots of things, and I&#39;m stumped."},{"owner":{"account_id":1479966,"reputation":509,"user_id":1389581,"accept_rate":74,"display_name":"irukeru"},"score":5,"creation_date":1565079709,"post_id":47959075,"comment_id":101228568,"body_markdown":"I had the same issue too and I have solved it by updating the version of com.google.inject.guice from 4.1.0 to 4.2.2. I have realized that, guice was using guava with version 19.0 and it caused the bug for no such method for checkArgument. By updating the version of guice, the problem solved for me. You can check if there is another library using guava by &quot;mvn dependency:tree&quot; and you can update it.","body":"I had the same issue too and I have solved it by updating the version of com.google.inject.guice from 4.1.0 to 4.2.2. I have realized that, guice was using guava with version 19.0 and it caused the bug for no such method for checkArgument. By updating the version of guice, the problem solved for me. You can check if there is another library using guava by &quot;mvn dependency:tree&quot; and you can update it."},{"owner":{"account_id":4317684,"reputation":768,"user_id":3527008,"accept_rate":75,"display_name":"Nishant_Singh"},"score":0,"creation_date":1602599037,"post_id":47959075,"comment_id":113767258,"body_markdown":"This saved my day . Looking at this , looks like issue of an outdated version","body":"This saved my day . Looking at this , looks like issue of an outdated version"},{"owner":{"account_id":10930114,"reputation":794,"user_id":8033562,"display_name":"Geoff Langenderfer"},"score":0,"creation_date":1649570681,"post_id":47959075,"comment_id":126906159,"body_markdown":"@irukeru how did you figure out guice was using the incorrect guava version?","body":"@irukeru how did you figure out guice was using the incorrect guava version?"},{"owner":{"account_id":179070,"reputation":3412,"user_id":411459,"accept_rate":82,"display_name":"Duncan Krebs"},"score":0,"creation_date":1650862091,"post_id":47959075,"comment_id":127214479,"body_markdown":"Yup, thanks for this, I added the dependencies and it worked, i think I have to organize and make sure all my maven modules are using the same versions which I should declare in properties of a parent pom","body":"Yup, thanks for this, I added the dependencies and it worked, i think I have to organize and make sure all my maven modules are using the same versions which I should declare in properties of a parent pom"}],"tags":[],"owner":{"account_id":5393847,"reputation":1510,"user_id":4295595,"display_name":"Avinash Pande"},"comment_count":5,"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1514103001,"creation_date":1514103001,"answer_id":47959075,"question_id":42206440,"body_markdown":"    **Please add following dependencies in your project.**\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;23.6-jre&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n        &lt;version&gt;4.4.8&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<pre><code>**Please add following dependencies in your project.**\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;23.6-jre&lt;/version&gt;\n&lt;/dependency&gt; \n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n    &lt;version&gt;4.4.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19329,"reputation":8300,"user_id":45207,"accept_rate":75,"display_name":"LaserJesus"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657544723,"creation_date":1657480427,"answer_id":72931205,"question_id":42206440,"body_markdown":"For anyone else getting this error on EMR. In order to use the s3a address system for S3 files I needed the S3aFileSystem Jar which didn&#39;t seem to be available on the EMR 6.7, Hadoop 3.2.1 cluster - otherwise I received the error `Class org.apache.hadoop.fs.s3a.S3AFileSystem not found`. To fix this I included `--packages org.apache.hadoop:hadoop-aws:3.2.1` in the spark-submit arguments. Then I started getting the error noted in the OP&#39;s question. Downgrading to 3.2.0 fixed this problem, but then I hit another bug; `NoSuchMethodError: SemaphoredDelegatingExecutor while writing files to S3`. I solved this problem by upgrading instead to 3.2.2: `--packages org.apache.hadoop:hadoop-aws:3.2.2`. Then I was able to read and write to S3a adresses with EMR 6.7","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>For anyone else getting this error on EMR. In order to use the s3a address system for S3 files I needed the S3aFileSystem Jar which didn't seem to be available on the EMR 6.7, Hadoop 3.2.1 cluster - otherwise I received the error <code>Class org.apache.hadoop.fs.s3a.S3AFileSystem not found</code>. To fix this I included <code>--packages org.apache.hadoop:hadoop-aws:3.2.1</code> in the spark-submit arguments. Then I started getting the error noted in the OP's question. Downgrading to 3.2.0 fixed this problem, but then I hit another bug; <code>NoSuchMethodError: SemaphoredDelegatingExecutor while writing files to S3</code>. I solved this problem by upgrading instead to 3.2.2: <code>--packages org.apache.hadoop:hadoop-aws:3.2.2</code>. Then I was able to read and write to S3a adresses with EMR 6.7</p>\n"},{"tags":[],"owner":{"account_id":14866300,"reputation":251,"user_id":10735302,"display_name":"Jonas Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658337378,"creation_date":1658337378,"answer_id":73055743,"question_id":42206440,"body_markdown":"I had this issue while trying to read a file from an S3 bucket using apache spark (PySpark). I&#39;m using spark 3.3.0 downloaded and installed by brew on MacOS.\r\n\r\nI solved my problem updating some jars on my spark jars folder, like @irukeru said in the comment above.\r\n\r\nList of jars that a have updated:\r\n\r\n- [com.google.inject.guice - v4.2.2](https://mvnrepository.com/artifact/com.google.inject/guice/4.2.2)\r\n- [com.google.inject.extensions.guice-servlet - v4.2.2](https://mvnrepository.com/artifact/com.google.inject.extensions/guice-servlet/4.2.2)\r\n- [com.google.guava.guava - v31.1-jre](https://repo1.maven.org/maven2/com/google/guava/guava/31.1-jre/)\r\n- [org.apache.httpcomponents.httpcore - v.4.4.15](https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore/4.4.15) \r\n\r\nJust download and copy this new jars to your spark folder, in my case, it was `/usr/local/Cellar/apache-spark/3.3.0/libexec/jars`\r\n","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>I had this issue while trying to read a file from an S3 bucket using apache spark (PySpark). I'm using spark 3.3.0 downloaded and installed by brew on MacOS.</p>\n<p>I solved my problem updating some jars on my spark jars folder, like @irukeru said in the comment above.</p>\n<p>List of jars that a have updated:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/com.google.inject/guice/4.2.2\" rel=\"nofollow noreferrer\">com.google.inject.guice - v4.2.2</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/com.google.inject.extensions/guice-servlet/4.2.2\" rel=\"nofollow noreferrer\">com.google.inject.extensions.guice-servlet - v4.2.2</a></li>\n<li><a href=\"https://repo1.maven.org/maven2/com/google/guava/guava/31.1-jre/\" rel=\"nofollow noreferrer\">com.google.guava.guava - v31.1-jre</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore/4.4.15\" rel=\"nofollow noreferrer\">org.apache.httpcomponents.httpcore - v.4.4.15</a></li>\n</ul>\n<p>Just download and copy this new jars to your spark folder, in my case, it was <code>/usr/local/Cellar/apache-spark/3.3.0/libexec/jars</code></p>\n"},{"tags":[],"owner":{"account_id":3600820,"reputation":774,"user_id":3004162,"accept_rate":29,"display_name":"ciurlaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681462123,"creation_date":1681462123,"answer_id":76013193,"question_id":42206440,"body_markdown":"With pyspark 3.3.0, the following combination of versions worked for me:\r\n\r\n```python\r\npackages = [\r\n    f&#39;org.apache.hadoop:hadoop-aws:3.3.1&#39;,\r\n    &#39;com.google.guava:guava:30.1.1-jre&#39;,\r\n    &#39;org.apache.httpcomponents:httpcore:4.4.14&#39;, \r\n    &#39;com.google.inject:guice:4.2.2&#39;, \r\n    &#39;com.google.inject.extensions:guice-servlet:4.2.2&#39;\r\n]\r\n\r\nconf = SparkConf().setAll([\r\n    (&#39;spark.jars.packages&#39;, &#39;,&#39;.join(packages)),\r\n    ...\r\n])\r\n\r\nspark = SparkSession.builder.config(conf=conf).getOrCreate()\r\n```\r\n\r\n**PS:** this is the preferred way of installing jar packages in Spark","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>With pyspark 3.3.0, the following combination of versions worked for me:</p>\n<pre class=\"lang-py prettyprint-override\"><code>packages = [\n    f'org.apache.hadoop:hadoop-aws:3.3.1',\n    'com.google.guava:guava:30.1.1-jre',\n    'org.apache.httpcomponents:httpcore:4.4.14', \n    'com.google.inject:guice:4.2.2', \n    'com.google.inject.extensions:guice-servlet:4.2.2'\n]\n\nconf = SparkConf().setAll([\n    ('spark.jars.packages', ','.join(packages)),\n    ...\n])\n\nspark = SparkSession.builder.config(conf=conf).getOrCreate()\n</code></pre>\n<p><strong>PS:</strong> this is the preferred way of installing jar packages in Spark</p>\n"}],"owner":{"account_id":2448780,"reputation":5133,"user_id":2135526,"accept_rate":46,"display_name":"Naresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55790,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":47959075,"answer_count":4,"score":39,"last_activity_date":1681462123,"creation_date":1486996060,"question_id":42206440,"body_markdown":"I am trying to run this [grpc-Java][1] example on my local. Corresponding proto file for the same is [here][2]. When i try to run in on local it throws the following exception from [here][3] :\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\r\n    \tat io.grpc.ServiceDescriptor.validateMethodNames(ServiceDescriptor.java:129)\r\n    \tat io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:83)\r\n    \tat io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:51)\r\n    \tat io.grpc.ServiceDescriptor$Builder.build(ServiceDescriptor.java:219)\r\n    \tat io.grpc.examples.helloworld.GreeterGrpc.getServiceDescriptor(GreeterGrpc.java:251)\r\n    \tat io.grpc.examples.helloworld.GreeterGrpc$GreeterImplBase.bindService(GreeterGrpc.java:84)\r\n    \tat io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:125)\r\n    \tat io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:63)\r\n    \tat com.cw.predictive.HelloWorldServer.start(HelloWorldServer.java:56)\r\n    \tat com.cw.predictive.HelloWorldServer.main(HelloWorldServer.java:92)\r\n\r\n\r\nThis is my pom.xml as mentioned [here][4] :\r\n\r\n \r\n\r\n  \r\n\r\n     &lt;dependencies&gt;\r\n             &lt;dependency&gt;\r\n              &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n              &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n              &lt;version&gt;1.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        \r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java\r\n  [2]: https://github.com/grpc/grpc-java/blob/master/examples/src/main/proto/helloworld.proto\r\n  [3]: https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java#L52\r\n  [4]: https://github.com/grpc/grpc-java","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument","body":"<p>I am trying to run this <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java\" rel=\"noreferrer\">grpc-Java</a> example on my local. Corresponding proto file for the same is <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/proto/helloworld.proto\" rel=\"noreferrer\">here</a>. When i try to run in on local it throws the following exception from <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/helloworld/HelloWorldServer.java#L52\" rel=\"noreferrer\">here</a> :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\n    at io.grpc.ServiceDescriptor.validateMethodNames(ServiceDescriptor.java:129)\n    at io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:83)\n    at io.grpc.ServiceDescriptor.&lt;init&gt;(ServiceDescriptor.java:51)\n    at io.grpc.ServiceDescriptor$Builder.build(ServiceDescriptor.java:219)\n    at io.grpc.examples.helloworld.GreeterGrpc.getServiceDescriptor(GreeterGrpc.java:251)\n    at io.grpc.examples.helloworld.GreeterGrpc$GreeterImplBase.bindService(GreeterGrpc.java:84)\n    at io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:125)\n    at io.grpc.internal.AbstractServerImplBuilder.addService(AbstractServerImplBuilder.java:63)\n    at com.cw.predictive.HelloWorldServer.start(HelloWorldServer.java:56)\n    at com.cw.predictive.HelloWorldServer.main(HelloWorldServer.java:92)\n</code></pre>\n\n<p>This is my pom.xml as mentioned <a href=\"https://github.com/grpc/grpc-java\" rel=\"noreferrer\">here</a> :</p>\n\n<pre><code> &lt;dependencies&gt;\n         &lt;dependency&gt;\n          &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n          &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n          &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","liquibase"],"answers":[{"comments":[{"owner":{"account_id":7407752,"reputation":157,"user_id":5636168,"accept_rate":33,"display_name":"5frags"},"score":0,"creation_date":1681499715,"post_id":76013171,"comment_id":134072113,"body_markdown":"I did it, but appear the same error","body":"I did it, but appear the same error"}],"tags":[],"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681461935,"creation_date":1681461935,"answer_id":76013171,"question_id":76011185,"body_markdown":"In intellij try to right click on your `db.changelog-master.xml` and copy path/reference. You will see then that it&#39;s `db/changelog/db.changelog-master.xml` and not `db.changelog/db.changelog-master.xml` (see the difference in directory separators)","title":"File db.changelog-master.xml was not found","body":"<p>In intellij try to right click on your <code>db.changelog-master.xml</code> and copy path/reference. You will see then that it's <code>db/changelog/db.changelog-master.xml</code> and not <code>db.changelog/db.changelog-master.xml</code> (see the difference in directory separators)</p>\n"}],"owner":{"account_id":7407752,"reputation":157,"user_id":5636168,"accept_rate":33,"display_name":"5frags"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681461935,"creation_date":1681439553,"question_id":76011185,"body_markdown":"I&#39;m working with springboot 3.0.5 and I want to use liquibase, but the file changelog-master was not found, below I left my files and configurations.\r\nMy application.yml\r\n\r\n    spring:\r\n      liquibase:\r\n        enabled: true\r\n        change-log: classpath:db.changelog/db.changelog-master.xml\r\n      graphql:\r\n        graphiql:\r\n          enabled: true\r\n        schema:\r\n          locations: classpath:*graphqls\r\n      r2dbc:\r\n        url: r2dbc:postgresql://localhost:3539/library-service\r\n        username: library-user\r\n        password: m4Passrdwo000--\r\n        pool:\r\n          enabled: true\r\n          initial-size: 1\r\n          max-size: 10\r\n    \r\n    logging:\r\n      level:\r\n        liquibase: INFO\r\nHere my configuration classes\r\n\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    \r\n    @ConfigurationProperties(&quot;spring.liquibase&quot;)\r\n    public class R2dbcLiquibaseProperties {\r\n    \r\n        private boolean enabled = true;\r\n        private String changeLog = &quot;&quot;;\r\n    \r\n        public R2dbcLiquibaseProperties(boolean enabled, String changeLog) {\r\n            this.enabled = enabled;\r\n            this.changeLog = changeLog;\r\n        }\r\n    \r\n        public boolean isEnabled() {\r\n            return enabled;\r\n        }\r\n    \r\n        public String getChangeLog() {\r\n            return changeLog;\r\n        }\r\n    }\r\n\r\nAnother class configuration\r\n\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @EnableConfigurationProperties(R2dbcLiquibaseProperties.class)\r\n    public class R2dbcLiquibasePropertiesConfig {\r\n    }\r\n\r\nOne more class configuration\r\n\r\n    import liquibase.Contexts;\r\n    import liquibase.LabelExpression;\r\n    import liquibase.Liquibase;\r\n    import liquibase.database.Database;\r\n    import liquibase.database.DatabaseFactory;\r\n    import liquibase.database.jvm.JdbcConnection;\r\n    import liquibase.exception.DatabaseException;\r\n    import liquibase.resource.ClassLoaderResourceAccessor;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.ApplicationRunner;\r\n    import org.springframework.boot.autoconfigure.AutoConfigureAfter;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\n    import org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.r2dbc.R2dbcProperties;\r\n    import org.springframework.boot.jdbc.DataSourceBuilder;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.ResourceLoader;\r\n    \r\n    import javax.sql.DataSource;\r\n    import java.sql.SQLException;\r\n    \r\n    @Configuration\r\n    @ConditionalOnProperty(\r\n            prefix = &quot;spring.liquibase&quot;,\r\n            name = &quot;enabled&quot;,\r\n            havingValue = &quot;true&quot;,\r\n            matchIfMissing = true\r\n    )\r\n    @AutoConfigureAfter(R2dbcAutoConfiguration.class)\r\n    @ComponentScan(basePackageClasses = R2dbcProperties.class)\r\n    public class R2dbcLiquibaseConfig {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(R2dbcLiquibaseConfig.class);\r\n        private final R2dbcLiquibaseProperties properties;\r\n    \r\n        public R2dbcLiquibaseConfig(R2dbcLiquibaseProperties properties) {\r\n            this.properties = properties;\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        public ClassLoaderResourceAccessor r2dbcLiquibaseResourceAccessor(ResourceLoader resourceLoader) {\r\n            return new ClassLoaderResourceAccessor(resourceLoader.getClassLoader());\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        public DataSource r2dbcLiquibaseDataSource(R2dbcProperties r2dbcProperties) {\r\n            return DataSourceBuilder.create()\r\n                    .url(r2dbcProperties.getUrl().replaceFirst(&quot;r2dbc:pool&quot;, &quot;jdbc:&quot;)\r\n                            .replaceFirst(&quot;r2dbc:&quot;, &quot;jdbc:&quot;))\r\n                    .username(r2dbcProperties.getUsername())\r\n                    .password(r2dbcProperties.getPassword())\r\n                    .build();\r\n        }\r\n    \r\n        @ConditionalOnMissingBean\r\n        @Bean(destroyMethod = &quot;close&quot;)\r\n        public JdbcConnection r2dbcLiquibaseJdbcConnection(DataSource r2dbcLiquibaseDataSource) throws SQLException {\r\n            return new JdbcConnection(r2dbcLiquibaseDataSource.getConnection());\r\n        }\r\n    \r\n        @ConditionalOnMissingBean\r\n        @Bean(destroyMethod = &quot;close&quot;)\r\n        public Database r2dbcLiquibaseDatabase(JdbcConnection r2dbcLiquibaseJdbcConnection) throws DatabaseException {\r\n            return DatabaseFactory.getInstance().findCorrectDatabaseImplementation(r2dbcLiquibaseJdbcConnection);\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean\r\n        public ApplicationRunner r2dbcLiquibaseDatabaseInitialization(ClassLoaderResourceAccessor clr, Database db) {\r\n            log.info(&quot;changelog {}&quot;, properties.getChangeLog());\r\n            return args -&gt; {Liquibase liquibase = new Liquibase(properties.getChangeLog(), clr, db);\r\n                log.info(&quot;R2DBC liquibase database initialized by {}&quot;,liquibase.getChangeLogFile());\r\n                liquibase.update(new Contexts(), new LabelExpression(), true);\r\n            };\r\n        }\r\n    }\r\n\r\nMy build.gradle\r\n\r\n    plugins {\r\n    \tjava\r\n    \tid(&quot;org.springframework.boot&quot;) version &quot;3.0.5&quot;\r\n    \tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n    \tid(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\r\n    }\r\n    \r\n    group = &quot;org.abahafart.library&quot;\r\n    version = &quot;0.0.1-SNAPSHOT&quot;\r\n    java.sourceCompatibility = JavaVersion.VERSION_17\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom(configurations.annotationProcessor.get())\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    extra[&quot;springCloudVersion&quot;] = &quot;2022.0.2&quot;\r\n    extra[&quot;testcontainersVersion&quot;] = &quot;1.17.6&quot;\r\n    \r\n    dependencies {\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \timplementation(&quot;org.liquibase:liquibase-core&quot;)\r\n    \timplementation(&quot;org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j&quot;)\r\n    \timplementation(&quot;org.springframework.data:spring-data-r2dbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-autoconfigure&quot;)\r\n    \timplementation(&quot;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&quot;)\r\n    \truntimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n    \timplementation(&quot;io.r2dbc:r2dbc-pool:1.0.0.RELEASE&quot;)\r\n    \tannotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n    \ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    \ttestImplementation(&quot;org.testcontainers:junit-jupiter&quot;)\r\n    \ttestImplementation(&quot;org.testcontainers:postgresql&quot;)\r\n    }\r\n    \r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom(&quot;org.testcontainers:testcontainers-bom:${property(&quot;testcontainersVersion&quot;)}&quot;)\r\n    \t\tmavenBom(&quot;org.springframework.cloud:spring-cloud-dependencies:${property(&quot;springCloudVersion&quot;)}&quot;)\r\n    \t}\r\n    }\r\n    \r\n    tasks.withType&lt;Test&gt; {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nMy db.changelog-master\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;databaseChangeLog\r\n            xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd&quot;&gt;\r\n    \r\n        &lt;property name=&quot;now&quot; value=&quot;now()&quot; dbms=&quot;h2&quot;/&gt;\r\n        &lt;property name=&quot;now&quot; value=&quot;current_timestamp&quot; dbms=&quot;postgresql&quot;/&gt;\r\n        &lt;property name=&quot;floatType&quot; value=&quot;float4&quot; dbms=&quot;postgresql, h2&quot;/&gt;\r\n        &lt;property name=&quot;floatType&quot; value=&quot;float&quot; dbms=&quot;mysql, oracle, mssql, mariadb&quot;/&gt;\r\n        &lt;property name=&quot;clobType&quot; value=&quot;longvarchar&quot; dbms=&quot;h2&quot;/&gt;\r\n        &lt;property name=&quot;clobType&quot; value=&quot;clob&quot; dbms=&quot;mysql, oracle, mssql, mariadb, postgresql&quot;/&gt;\r\n        &lt;property name=&quot;uuidType&quot; value=&quot;uuid&quot; dbms=&quot;h2, postgresql&quot;/&gt;\r\n        &lt;property name=&quot;datetimeType&quot; value=&quot;datetime(6)&quot; dbms=&quot;mysql, mariadb&quot;/&gt;\r\n        &lt;property name=&quot;datetimeType&quot; value=&quot;datetime&quot; dbms=&quot;oracle, mssql, postgresql, h2&quot;/&gt;\r\n        &lt;property name=&quot;u_id&quot; value=&quot;uuid()&quot; dbms=&quot;mysql&quot;/&gt;\r\n        &lt;include file=&quot;db.changelog/changelogs/master.xml&quot;/&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\nMy structure project\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd finally my stacktrace problem\r\n\r\n    2023-04-13T21:14:17.095-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Starting LibraryMicroserviceApplication using Java 17.0.5 with PID 6210 (/home/user/Documents/workspace/intellij/microservices/library-service/build/classes/java/main started by abahafart in /home/user/Documents/workspace/intellij/microservices/library-service)\r\n    2023-04-13T21:14:17.098-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-04-13T21:14:17.481-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-04-13T21:14:17.482-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n    2023-04-13T21:14:17.495-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 R2DBC repository interfaces.\r\n    2023-04-13T21:14:17.676-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-04-13T21:14:17.677-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-04-13T21:14:17.687-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\r\n    2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n    2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n    2023-04-13T21:14:17.699-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 R2DBC repository interfaces.\r\n    2023-04-13T21:14:17.790-05:00  INFO 6210 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d9c5fd81-b584-3171-a425-65daf771ca31\r\n    2023-04-13T21:14:18.199-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\r\n    2023-04-13T21:14:18.256-05:00  INFO 6210 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2023-04-13T21:14:18.257-05:00  INFO 6210 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1131 ms\r\n    2023-04-13T21:14:18.419-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2023-04-13T21:14:18.508-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63e70bf9\r\n    2023-04-13T21:14:18.509-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2023-04-13T21:14:19.011-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\r\n    2023-04-13T21:14:19.050-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\r\n    2023-04-13T21:14:19.267-05:00  INFO 6210 --- [           main] liquibase.changelog                      : Reading from public.databasechangelog\r\n    2023-04-13T21:14:19.293-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\r\n    2023-04-13T21:14:19.432-05:00  INFO 6210 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-04-13T21:14:19.470-05:00  INFO 6210 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n    2023-04-13T21:14:19.644-05:00  INFO 6210 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n    2023-04-13T21:14:19.785-05:00  INFO 6210 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2023-04-13T21:14:19.790-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-04-13T21:14:19.836-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : changelog classpath:db.changelog/db.changelog-master.xml\r\n    2023-04-13T21:14:19.866-05:00  WARN 6210 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2023-04-13T21:14:20.855-05:00  INFO 6210 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path &#39;/actuator&#39;\r\n    2023-04-13T21:14:20.919-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2023-04-13T21:14:21.362-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Started LibraryMicroserviceApplication in 4.792 seconds (process running for 5.176)\r\n    2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\r\n    2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : R2DBC liquibase database initialized by classpath:db.changelog/db.changelog-master.xml\r\n    2023-04-13T21:14:21.388-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\r\n    2023-04-13T21:14:21.393-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\r\n    2023-04-13T21:14:21.397-05:00  INFO 6210 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-04-13T21:14:21.407-05:00 ERROR 6210 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:763) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \tat org.abahafart.library.LibraryMicroserviceApplication.main(LibraryMicroserviceApplication.java:15) ~[main/:na]\r\n    Caused by: liquibase.exception.ChangeLogParseException: The file classpath:db.changelog/db.changelog-master.xml was not found in the configured search path:\r\n    More locations can be added with the &#39;searchPath&#39; parameter.\r\n    \tat liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:114) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:15) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:408) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:393) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.lambda$update$1(Liquibase.java:249) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.lambda$child$0(Scope.java:180) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.child(Scope.java:189) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.child(Scope.java:179) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Scope.child(Scope.java:158) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.runInScope(Liquibase.java:2447) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.17.2.jar:na]\r\n    \tat org.abahafart.library.infra.repository.R2dbcLiquibaseConfig.lambda$r2dbcLiquibaseDatabaseInitialization$0(R2dbcLiquibaseConfig.java:81) ~[main/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.5.jar:3.0.5]\r\n    \t... 5 common frames omitted\r\n    \r\n    2023-04-13T21:14:21.422-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2023-04-13T21:14:21.432-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2023-04-13T21:14:21.435-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nWhere am I wrong?\r\n  [1]: https://i.stack.imgur.com/jEwnq.png","title":"File db.changelog-master.xml was not found","body":"<p>I'm working with springboot 3.0.5 and I want to use liquibase, but the file changelog-master was not found, below I left my files and configurations.\nMy application.yml</p>\n<pre><code>spring:\n  liquibase:\n    enabled: true\n    change-log: classpath:db.changelog/db.changelog-master.xml\n  graphql:\n    graphiql:\n      enabled: true\n    schema:\n      locations: classpath:*graphqls\n  r2dbc:\n    url: r2dbc:postgresql://localhost:3539/library-service\n    username: library-user\n    password: m4Passrdwo000--\n    pool:\n      enabled: true\n      initial-size: 1\n      max-size: 10\n\nlogging:\n  level:\n    liquibase: INFO\n</code></pre>\n<p>Here my configuration classes</p>\n<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(&quot;spring.liquibase&quot;)\npublic class R2dbcLiquibaseProperties {\n\n    private boolean enabled = true;\n    private String changeLog = &quot;&quot;;\n\n    public R2dbcLiquibaseProperties(boolean enabled, String changeLog) {\n        this.enabled = enabled;\n        this.changeLog = changeLog;\n    }\n\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public String getChangeLog() {\n        return changeLog;\n    }\n}\n</code></pre>\n<p>Another class configuration</p>\n<pre><code>import org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableConfigurationProperties(R2dbcLiquibaseProperties.class)\npublic class R2dbcLiquibasePropertiesConfig {\n}\n</code></pre>\n<p>One more class configuration</p>\n<pre><code>import liquibase.Contexts;\nimport liquibase.LabelExpression;\nimport liquibase.Liquibase;\nimport liquibase.database.Database;\nimport liquibase.database.DatabaseFactory;\nimport liquibase.database.jvm.JdbcConnection;\nimport liquibase.exception.DatabaseException;\nimport liquibase.resource.ClassLoaderResourceAccessor;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.boot.autoconfigure.AutoConfigureAfter;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ResourceLoader;\n\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\n\n@Configuration\n@ConditionalOnProperty(\n        prefix = &quot;spring.liquibase&quot;,\n        name = &quot;enabled&quot;,\n        havingValue = &quot;true&quot;,\n        matchIfMissing = true\n)\n@AutoConfigureAfter(R2dbcAutoConfiguration.class)\n@ComponentScan(basePackageClasses = R2dbcProperties.class)\npublic class R2dbcLiquibaseConfig {\n\n    private static final Logger log = LoggerFactory.getLogger(R2dbcLiquibaseConfig.class);\n    private final R2dbcLiquibaseProperties properties;\n\n    public R2dbcLiquibaseConfig(R2dbcLiquibaseProperties properties) {\n        this.properties = properties;\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public ClassLoaderResourceAccessor r2dbcLiquibaseResourceAccessor(ResourceLoader resourceLoader) {\n        return new ClassLoaderResourceAccessor(resourceLoader.getClassLoader());\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public DataSource r2dbcLiquibaseDataSource(R2dbcProperties r2dbcProperties) {\n        return DataSourceBuilder.create()\n                .url(r2dbcProperties.getUrl().replaceFirst(&quot;r2dbc:pool&quot;, &quot;jdbc:&quot;)\n                        .replaceFirst(&quot;r2dbc:&quot;, &quot;jdbc:&quot;))\n                .username(r2dbcProperties.getUsername())\n                .password(r2dbcProperties.getPassword())\n                .build();\n    }\n\n    @ConditionalOnMissingBean\n    @Bean(destroyMethod = &quot;close&quot;)\n    public JdbcConnection r2dbcLiquibaseJdbcConnection(DataSource r2dbcLiquibaseDataSource) throws SQLException {\n        return new JdbcConnection(r2dbcLiquibaseDataSource.getConnection());\n    }\n\n    @ConditionalOnMissingBean\n    @Bean(destroyMethod = &quot;close&quot;)\n    public Database r2dbcLiquibaseDatabase(JdbcConnection r2dbcLiquibaseJdbcConnection) throws DatabaseException {\n        return DatabaseFactory.getInstance().findCorrectDatabaseImplementation(r2dbcLiquibaseJdbcConnection);\n    }\n\n    @Bean\n    @ConditionalOnMissingBean\n    public ApplicationRunner r2dbcLiquibaseDatabaseInitialization(ClassLoaderResourceAccessor clr, Database db) {\n        log.info(&quot;changelog {}&quot;, properties.getChangeLog());\n        return args -&gt; {Liquibase liquibase = new Liquibase(properties.getChangeLog(), clr, db);\n            log.info(&quot;R2DBC liquibase database initialized by {}&quot;,liquibase.getChangeLogFile());\n            liquibase.update(new Contexts(), new LabelExpression(), true);\n        };\n    }\n}\n</code></pre>\n<p>My build.gradle</p>\n<pre><code>plugins {\n    java\n    id(&quot;org.springframework.boot&quot;) version &quot;3.0.5&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n    id(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\n}\n\ngroup = &quot;org.abahafart.library&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\nextra[&quot;springCloudVersion&quot;] = &quot;2022.0.2&quot;\nextra[&quot;testcontainersVersion&quot;] = &quot;1.17.6&quot;\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;org.liquibase:liquibase-core&quot;)\n    implementation(&quot;org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j&quot;)\n    implementation(&quot;org.springframework.data:spring-data-r2dbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-autoconfigure&quot;)\n    implementation(&quot;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&quot;)\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n    implementation(&quot;io.r2dbc:r2dbc-pool:1.0.0.RELEASE&quot;)\n    annotationProcessor(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n    testImplementation(&quot;org.testcontainers:junit-jupiter&quot;)\n    testImplementation(&quot;org.testcontainers:postgresql&quot;)\n}\n\ndependencyManagement {\n    imports {\n        mavenBom(&quot;org.testcontainers:testcontainers-bom:${property(&quot;testcontainersVersion&quot;)}&quot;)\n        mavenBom(&quot;org.springframework.cloud:spring-cloud-dependencies:${property(&quot;springCloudVersion&quot;)}&quot;)\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>My db.changelog-master</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd&quot;&gt;\n\n    &lt;property name=&quot;now&quot; value=&quot;now()&quot; dbms=&quot;h2&quot;/&gt;\n    &lt;property name=&quot;now&quot; value=&quot;current_timestamp&quot; dbms=&quot;postgresql&quot;/&gt;\n    &lt;property name=&quot;floatType&quot; value=&quot;float4&quot; dbms=&quot;postgresql, h2&quot;/&gt;\n    &lt;property name=&quot;floatType&quot; value=&quot;float&quot; dbms=&quot;mysql, oracle, mssql, mariadb&quot;/&gt;\n    &lt;property name=&quot;clobType&quot; value=&quot;longvarchar&quot; dbms=&quot;h2&quot;/&gt;\n    &lt;property name=&quot;clobType&quot; value=&quot;clob&quot; dbms=&quot;mysql, oracle, mssql, mariadb, postgresql&quot;/&gt;\n    &lt;property name=&quot;uuidType&quot; value=&quot;uuid&quot; dbms=&quot;h2, postgresql&quot;/&gt;\n    &lt;property name=&quot;datetimeType&quot; value=&quot;datetime(6)&quot; dbms=&quot;mysql, mariadb&quot;/&gt;\n    &lt;property name=&quot;datetimeType&quot; value=&quot;datetime&quot; dbms=&quot;oracle, mssql, postgresql, h2&quot;/&gt;\n    &lt;property name=&quot;u_id&quot; value=&quot;uuid()&quot; dbms=&quot;mysql&quot;/&gt;\n    &lt;include file=&quot;db.changelog/changelogs/master.xml&quot;/&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>My structure project</p>\n<p>[![enter image description here][1]][1]</p>\n<p>And finally my stacktrace problem</p>\n<pre><code>2023-04-13T21:14:17.095-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Starting LibraryMicroserviceApplication using Java 17.0.5 with PID 6210 (/home/user/Documents/workspace/intellij/microservices/library-service/build/classes/java/main started by abahafart in /home/user/Documents/workspace/intellij/microservices/library-service)\n2023-04-13T21:14:17.098-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-13T21:14:17.481-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-04-13T21:14:17.482-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2023-04-13T21:14:17.495-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 R2DBC repository interfaces.\n2023-04-13T21:14:17.676-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-04-13T21:14:17.677-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-13T21:14:17.687-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\n2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-04-13T21:14:17.696-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2023-04-13T21:14:17.699-05:00  INFO 6210 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 R2DBC repository interfaces.\n2023-04-13T21:14:17.790-05:00  INFO 6210 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d9c5fd81-b584-3171-a425-65daf771ca31\n2023-04-13T21:14:18.199-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-13T21:14:18.207-05:00  INFO 6210 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-04-13T21:14:18.256-05:00  INFO 6210 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-13T21:14:18.257-05:00  INFO 6210 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1131 ms\n2023-04-13T21:14:18.419-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-13T21:14:18.508-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@63e70bf9\n2023-04-13T21:14:18.509-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-13T21:14:19.011-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\n2023-04-13T21:14:19.050-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\n2023-04-13T21:14:19.267-05:00  INFO 6210 --- [           main] liquibase.changelog                      : Reading from public.databasechangelog\n2023-04-13T21:14:19.293-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\n2023-04-13T21:14:19.432-05:00  INFO 6210 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-13T21:14:19.470-05:00  INFO 6210 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-13T21:14:19.644-05:00  INFO 6210 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2023-04-13T21:14:19.785-05:00  INFO 6210 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-13T21:14:19.790-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-13T21:14:19.836-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : changelog classpath:db.changelog/db.changelog-master.xml\n2023-04-13T21:14:19.866-05:00  WARN 6210 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-04-13T21:14:20.855-05:00  INFO 6210 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'\n2023-04-13T21:14:20.919-05:00  INFO 6210 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-04-13T21:14:21.362-05:00  INFO 6210 --- [           main] o.a.l.LibraryMicroserviceApplication     : Started LibraryMicroserviceApplication in 4.792 seconds (process running for 5.176)\n2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] liquibase.database                       : Set default schema name to public\n2023-04-13T21:14:21.369-05:00  INFO 6210 --- [           main] o.a.l.i.repository.R2dbcLiquibaseConfig  : R2DBC liquibase database initialized by classpath:db.changelog/db.changelog-master.xml\n2023-04-13T21:14:21.388-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully acquired change log lock\n2023-04-13T21:14:21.393-05:00  INFO 6210 --- [           main] liquibase.lockservice                    : Successfully released change log lock\n2023-04-13T21:14:21.397-05:00  INFO 6210 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-13T21:14:21.407-05:00 ERROR 6210 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:763) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:750) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:317) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.abahafart.library.LibraryMicroserviceApplication.main(LibraryMicroserviceApplication.java:15) ~[main/:na]\nCaused by: liquibase.exception.ChangeLogParseException: The file classpath:db.changelog/db.changelog-master.xml was not found in the configured search path:\nMore locations can be added with the 'searchPath' parameter.\n    at liquibase.parser.core.xml.XMLChangeLogSAXParser.parseToNode(XMLChangeLogSAXParser.java:114) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.parser.core.xml.AbstractChangeLogParser.parse(AbstractChangeLogParser.java:15) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:408) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:393) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.lambda$update$1(Liquibase.java:249) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.lambda$child$0(Scope.java:180) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.child(Scope.java:189) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.child(Scope.java:179) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Scope.child(Scope.java:158) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.runInScope(Liquibase.java:2447) ~[liquibase-core-4.17.2.jar:na]\n    at liquibase.Liquibase.update(Liquibase.java:236) ~[liquibase-core-4.17.2.jar:na]\n    at org.abahafart.library.infra.repository.R2dbcLiquibaseConfig.lambda$r2dbcLiquibaseDatabaseInitialization$0(R2dbcLiquibaseConfig.java:81) ~[main/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:760) ~[spring-boot-3.0.5.jar:3.0.5]\n    ... 5 common frames omitted\n\n2023-04-13T21:14:21.422-05:00  INFO 6210 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-04-13T21:14:21.432-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-13T21:14:21.435-05:00  INFO 6210 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>Where am I wrong?\n[1]: <a href=\"https://i.stack.imgur.com/jEwnq.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/jEwnq.png</a></p>\n"},{"tags":["java","scala","sbt"],"comments":[{"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"score":2,"creation_date":1681458618,"post_id":76012379,"comment_id":134062617,"body_markdown":"You need the native arm module, or take a look to https://stackoverflow.com/q/71882029/6802156","body":"You need the native arm module, or take a look to <a href=\"https://stackoverflow.com/q/71882029/6802156\">stackoverflow.com/q/71882029/6802156</a>"}],"answers":[{"tags":[],"owner":{"account_id":5716701,"reputation":419,"user_id":14152014,"display_name":"laban_luka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681461879,"creation_date":1681461879,"answer_id":76013162,"question_id":76012379,"body_markdown":"Found a solution with a help of my teammates. I have had wrong version of `sbt-sassify` it was `1.5.1` and it works with `1.5.2.`","title":"UnsatisfiedLinkError when running sbt scala project","body":"<p>Found a solution with a help of my teammates. I have had wrong version of <code>sbt-sassify</code> it was <code>1.5.1</code> and it works with <code>1.5.2.</code></p>\n"}],"owner":{"account_id":5716701,"reputation":419,"user_id":14152014,"display_name":"laban_luka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681461879,"creation_date":1681455634,"question_id":76012379,"body_markdown":"I have this weird error when running sbt scala project:\r\n\r\n    java.lang.UnsatisfiedLinkError: dlopen(/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp, 0x0009): \r\n    tried: &#39;/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp&#39; (mach-o file, but is an incompatible architecture \r\n    (have &#39;x86_64&#39;, need &#39;arm64&#39;)), \r\n    &#39;/System/Volumes/Preboot/Cryptexes/OS/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp&#39; (no such file), \r\n    &#39;/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp&#39;\r\n     (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;))\r\n\r\nSBT version: 1.7.2.\r\n\r\nScala version: 2.13.8\r\n\r\nJava version: 11.0.18\r\n\r\nI am using Mac OS 13.3.1 with M1 chip","title":"UnsatisfiedLinkError when running sbt scala project","body":"<p>I have this weird error when running sbt scala project:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: dlopen(/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp, 0x0009): \ntried: '/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp' (mach-o file, but is an incompatible architecture \n(have 'x86_64', need 'arm64')), \n'/System/Volumes/Preboot/Cryptexes/OS/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp' (no such file), \n'/Users/user/Library/Caches/JNA/temp/jna11185077732330192528.tmp'\n (mach-o file, but is an incompatible architecture (have 'x86_64', need 'arm64'))\n</code></pre>\n<p>SBT version: 1.7.2.</p>\n<p>Scala version: 2.13.8</p>\n<p>Java version: 11.0.18</p>\n<p>I am using Mac OS 13.3.1 with M1 chip</p>\n"},{"tags":["java","selenium-webdriver","testing","tabs"],"comments":[{"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"score":0,"creation_date":1681731935,"post_id":76013074,"comment_id":134098846,"body_markdown":"Has anyone gone through this ?","body":"Has anyone gone through this ?"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681461585,"creation_date":1681461137,"question_id":76013074,"body_markdown":"I am trying to automate airbnb website and then then signup with google I am perfectly able to handle the first tab when the signup option with google appears but when another subtab for signin with google appears then getting error as Exception in thread &quot;main&quot; java.lang.NullPointerException: null value in entry: handle=null three tabs are appearing when signup with google,how to handle this the google signup is mainly required for wishlisting the location \r\n        \r\n        \r\n        package Practice;\r\n        import org.junit.Assert;\r\n        import org.openqa.selenium.*;\r\n        import org.openqa.selenium.chrome.ChromeDriver;\r\n        import org.openqa.selenium.Alert;\r\n        import org.openqa.selenium.chrome.ChromeOptions;\r\n        import org.openqa.selenium.firefox.FirefoxDriver;\r\n        import org.openqa.selenium.interactions.Actions;\r\n        import org.openqa.selenium.support.ui.ExpectedConditions;\r\n        import org.openqa.selenium.support.ui.WebDriverWait;\r\n        import java.util.ArrayList;\r\n        import java.time.Duration;\r\n        import java.util.Iterator;\r\n        import java.util.Set;\r\n        import java.util.concurrent.TimeUnit;\r\n        import org.openqa.selenium.support.ui.WebDriverWait;\r\n        import org.openqa.selenium.support.ui.ExpectedConditions;\r\n        \r\n        public class Airbnb\r\n        {\r\n            public static void main(String[]args) throws InterruptedException {\r\n                System.setProperty(&quot;Pathtochromewebdriver&quot;);\r\n                ChromeOptions ops = new ChromeOptions();\r\n                ops.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n                ChromeDriver driver = new ChromeDriver(ops);\r\n                driver.get(&quot;https://www.airbnb.co.in/&quot;);\r\n                driver.manage().window().maximize();\r\n                driver.navigate().forward();\r\n                Thread.sleep(1000);\r\n                //driver.findElement(By.xpath(&quot;//div[@class=\\&quot;_176ugpa\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot; //div[@class=\\&quot;f1xx50dm dir dir-ltr\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;query\\&quot;]&quot;)).sendKeys(&quot;Canada&quot;);\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;//*[@id=\\&quot;bigsearch-query-location-suggestion-2\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;_1gazwvry notranslate\\&quot;])[2]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;//span[@class=\\&quot;t1l18xbv dir dir-ltr\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.navigate().forward();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div[2]/div/div/div/div/div[1]/div/div/div/div/div[3]/div/div/div/div/label[2]/div/span&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div[2]/div/div/div/div/div/div[1]/div/div[2]/div/div/div/div[1]/div/div[2]/div/div/div[1]/div/div[1]/div[2]/div/button&quot;)).click();\r\n                String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\r\n                String subWindowHandler = null;\r\n                String childwindow = null;\r\n        \r\n                Set&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\r\n                Iterator&lt;String&gt; iterator = handles.iterator();\r\n                while (iterator.hasNext()){\r\n                    subWindowHandler = iterator.next();\r\n        \r\n                }\r\n                driver.switchTo().window(subWindowHandler); // switch to popup window\r\n        \r\n                // Now you are in the popup window, perform necessary actions here\r\n                JavascriptExecutor js = (JavascriptExecutor) driver;\r\n                js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\r\n                driver.navigate().forward();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div[10]/section/div/div/div[2]/div/div[2]/div/div[3]/div/div[2]/form/button/div&quot;)).click();\r\n        \r\n                driver.findElement(By.className(&quot;whsOnd zHQkBf&quot;)).sendKeys(&quot;Mymailideeks&quot;);\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n            }\r\n        \r\n        }","title":"On Airbnb website the signup has three sub tabs","body":"<p>I am trying to automate airbnb website and then then signup with google I am perfectly able to handle the first tab when the signup option with google appears but when another subtab for signin with google appears then getting error as Exception in thread &quot;main&quot; java.lang.NullPointerException: null value in entry: handle=null three tabs are appearing when signup with google,how to handle this the google signup is mainly required for wishlisting the location</p>\n<pre><code>    package Practice;\n    import org.junit.Assert;\n    import org.openqa.selenium.*;\n    import org.openqa.selenium.chrome.ChromeDriver;\n    import org.openqa.selenium.Alert;\n    import org.openqa.selenium.chrome.ChromeOptions;\n    import org.openqa.selenium.firefox.FirefoxDriver;\n    import org.openqa.selenium.interactions.Actions;\n    import org.openqa.selenium.support.ui.ExpectedConditions;\n    import org.openqa.selenium.support.ui.WebDriverWait;\n    import java.util.ArrayList;\n    import java.time.Duration;\n    import java.util.Iterator;\n    import java.util.Set;\n    import java.util.concurrent.TimeUnit;\n    import org.openqa.selenium.support.ui.WebDriverWait;\n    import org.openqa.selenium.support.ui.ExpectedConditions;\n    \n    public class Airbnb\n    {\n        public static void main(String[]args) throws InterruptedException {\n            System.setProperty(&quot;Pathtochromewebdriver&quot;);\n            ChromeOptions ops = new ChromeOptions();\n            ops.addArguments(&quot;--remote-allow-origins=*&quot;);\n            ChromeDriver driver = new ChromeDriver(ops);\n            driver.get(&quot;https://www.airbnb.co.in/&quot;);\n            driver.manage().window().maximize();\n            driver.navigate().forward();\n            Thread.sleep(1000);\n            //driver.findElement(By.xpath(&quot;//div[@class=\\&quot;_176ugpa\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot; //div[@class=\\&quot;f1xx50dm dir dir-ltr\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;query\\&quot;]&quot;)).sendKeys(&quot;Canada&quot;);\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;bigsearch-query-location-suggestion-2\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;_1gazwvry notranslate\\&quot;])[2]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;t1l18xbv dir dir-ltr\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.navigate().forward();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[1]/div[2]/div/div/div/div/div[1]/div/div/div/div/div[3]/div/div/div/div/label[2]/div/span&quot;)).click();\n            Thread.sleep(1000);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;/html/body/div[5]/div/div/div[1]/div/div[2]/div/div/div/div/div/div[2]/main/div[2]/div[2]/div/div/div/div/div/div[1]/div/div[2]/div/div/div/div[1]/div/div[2]/div/div/div[1]/div/div[1]/div[2]/div/button&quot;)).click();\n            String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\n            String subWindowHandler = null;\n            String childwindow = null;\n    \n            Set&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\n            Iterator&lt;String&gt; iterator = handles.iterator();\n            while (iterator.hasNext()){\n                subWindowHandler = iterator.next();\n    \n            }\n            driver.switchTo().window(subWindowHandler); // switch to popup window\n    \n            // Now you are in the popup window, perform necessary actions here\n            JavascriptExecutor js = (JavascriptExecutor) driver;\n            js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\n            driver.navigate().forward();\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;/html/body/div[10]/section/div/div/div[2]/div/div[2]/div/div[3]/div/div[2]/form/button/div&quot;)).click();\n    \n            driver.findElement(By.className(&quot;whsOnd zHQkBf&quot;)).sendKeys(&quot;Mymailideeks&quot;);\n    \n    \n    \n    \n    \n    \n    \n    \n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","process","batch-processing","runtime.exec"],"comments":[{"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"score":0,"creation_date":1367481149,"post_id":16332872,"comment_id":23392444,"body_markdown":"Check http://stackoverflow.com/questions/15199119/runtime-exec-waitfor-doesnt-wait-until-process-is-done","body":"Check <a href=\"http://stackoverflow.com/questions/15199119/runtime-exec-waitfor-doesnt-wait-until-process-is-done\" title=\"runtime exec waitfor doesnt wait until process is done\">stackoverflow.com/questions/15199119/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23762,"reputation":5821,"user_id":59801,"accept_rate":89,"display_name":"edoloughlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1367481280,"creation_date":1367481280,"answer_id":16332978,"question_id":16332872,"body_markdown":"`Runtime.exec` returns a `Process` object (`pr`, in your example above). Just call `pr.waitFor()` to wait for the process to exit.","title":"how to wait for batch command to complete its excecution in java","body":"<p><code>Runtime.exec</code> returns a <code>Process</code> object (<code>pr</code>, in your example above). Just call <code>pr.waitFor()</code> to wait for the process to exit.</p>\n"},{"comments":[{"owner":{"account_id":2530215,"reputation":17,"user_id":2198663,"accept_rate":100,"display_name":"shravani"},"score":0,"creation_date":1367482042,"post_id":16332980,"comment_id":23392848,"body_markdown":"ya i used it but getting same file not found for my first run","body":"ya i used it but getting same file not found for my first run"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1367485918,"post_id":16332980,"comment_id":23394594,"body_markdown":"Is the batch file creating the CSV file?","body":"Is the batch file creating the CSV file?"},{"owner":{"account_id":2530215,"reputation":17,"user_id":2198663,"accept_rate":100,"display_name":"shravani"},"score":0,"creation_date":1367487979,"post_id":16332980,"comment_id":23395730,"body_markdown":"ya it is creating csv file to my local directory ....so my program statements immediate after Process pr = rt.exec(command);  int exitVal = pr.waitFor(); is to use the CSV file for analysis. But getting file not found","body":"ya it is creating csv file to my local directory ....so my program statements immediate after Process pr = rt.exec(command);  int exitVal = pr.waitFor(); is to use the CSV file for analysis. But getting file not found"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1367491892,"post_id":16332980,"comment_id":23397674,"body_markdown":"Insted of String command = &quot;cmd /c start &quot; + batFile; try String command = &quot;cmd /c &quot; + batFile;","body":"Insted of String command = &quot;cmd /c start &quot; + batFile; try String command = &quot;cmd /c &quot; + batFile;"}],"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1413390083,"creation_date":1367481284,"answer_id":16332980,"question_id":16332872,"body_markdown":"Try [pr.waitFor][1] this method will return the exit code, anything other than 0 the process failed.\r\n\r\nInsted of ```String command = &quot;cmd /c start &quot; + batFile;``` use ```String command = &quot;cmd /c &quot; + batFile```\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Process.html#waitFor%28%29","title":"how to wait for batch command to complete its excecution in java","body":"<p>Try <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Process.html#waitFor%28%29\" rel=\"nofollow\">pr.waitFor</a> this method will return the exit code, anything other than 0 the process failed.</p>\n\n<p>Insted of <code>String command = \"cmd /c start \" + batFile;</code> use <code>String command = \"cmd /c \" + batFile</code></p>\n"}],"owner":{"account_id":2530215,"reputation":17,"user_id":2198663,"accept_rate":100,"display_name":"shravani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1629,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16332980,"answer_count":2,"score":0,"last_activity_date":1681461256,"creation_date":1367480912,"question_id":16332872,"body_markdown":"I want to wait till my batch command completes its execution and creates a CSV file as output. The code is as bellow for executing batch file\r\n\r\n    String command = &quot;cmd /c start &quot; + batFile;\r\n\t\t\tRuntime rt = Runtime.getRuntime();\r\n\t\t\tProcess pr = rt.exec(command);\r\n\r\nThen I want to use the CSV file(app.csv) to read the contents of it. But when I run the program, I am getting like.\r\n\r\n    java.io.FileNotFoundException: C:\\appanalysis\\app.csv (The system cannot find the file specified)\r\n    \tat java.io.FileInputStream.open(Native Method)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:120)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:79)\r\n    \tat java.io.FileReader.&lt;init&gt;(FileReader.java:41)\r\n\r\nHow to resolve this?","title":"how to wait for batch command to complete its excecution in java","body":"<p>I want to wait till my batch command completes its execution and creates a CSV file as output. The code is as bellow for executing batch file</p>\n<pre><code>String command = &quot;cmd /c start &quot; + batFile;\n        Runtime rt = Runtime.getRuntime();\n        Process pr = rt.exec(command);\n</code></pre>\n<p>Then I want to use the CSV file(app.csv) to read the contents of it. But when I run the program, I am getting like.</p>\n<pre><code>java.io.FileNotFoundException: C:\\appanalysis\\app.csv (The system cannot find the file specified)\n    at java.io.FileInputStream.open(Native Method)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:120)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:79)\n    at java.io.FileReader.&lt;init&gt;(FileReader.java:41)\n</code></pre>\n<p>How to resolve this?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":1,"creation_date":1681402800,"post_id":76007105,"comment_id":134054255,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":8497862,"reputation":21,"user_id":6371905,"display_name":"Puneet Garg"},"score":1,"creation_date":1681408555,"post_id":76007105,"comment_id":134055482,"body_markdown":"Sorry if this was not obvious, added the question on main thread. Basically want to know how can this be achieved ?","body":"Sorry if this was not obvious, added the question on main thread. Basically want to know how can this be achieved ?"}],"owner":{"account_id":8497862,"reputation":21,"user_id":6371905,"display_name":"Puneet Garg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681461211,"creation_date":1681398840,"question_id":76007105,"body_markdown":"I have a `@configuration` (MyConfig) class which creates a few beans. This works fine. \r\n\r\nBut now I have a requirement to create multiple instances of this configuration (MyConfig) based on a List&lt;MyBean4&gt;\r\n\r\nSomething like \r\n\r\n    list.foreach(new MyConfig(myBean4))  // but this is not correct obviously  \r\n\r\nSo that I am able to use corresponding myBean4 inside each instance of MyConfig\r\n\r\nHow can this be achieved ?\r\n\r\n\r\n```\r\n@Configuration \r\npublic class MyConfig {\r\n\r\n  @Autowired\r\n  CustomBean1 mybean1;\r\n\r\n  public MyConfig() {\r\n  }\r\n\r\n\r\n  @Bean\r\n  public CustomBean2 getBean2(@Qualifier(&quot;myChannel&quot;){ ...}\r\n\r\n  @ServiceActivator(inputChannel = &quot;myChannel&quot;)\r\n  public void myReciever(@Header(&quot;abc&quot;) SomeBean bean ){...}\r\n\r\n  @Bean\r\n  public CustomBean3 myChannel(){...}\r\n\r\n}\r\n```\r\n","title":"Multiple Instances of @Configuration in spring","body":"<p>I have a <code>@configuration</code> (MyConfig) class which creates a few beans. This works fine.</p>\n<p>But now I have a requirement to create multiple instances of this configuration (MyConfig) based on a List</p>\n<p>Something like</p>\n<pre><code>list.foreach(new MyConfig(myBean4))  // but this is not correct obviously  \n</code></pre>\n<p>So that I am able to use corresponding myBean4 inside each instance of MyConfig</p>\n<p>How can this be achieved ?</p>\n<pre><code>@Configuration \npublic class MyConfig {\n\n  @Autowired\n  CustomBean1 mybean1;\n\n  public MyConfig() {\n  }\n\n\n  @Bean\n  public CustomBean2 getBean2(@Qualifier(&quot;myChannel&quot;){ ...}\n\n  @ServiceActivator(inputChannel = &quot;myChannel&quot;)\n  public void myReciever(@Header(&quot;abc&quot;) SomeBean bean ){...}\n\n  @Bean\n  public CustomBean3 myChannel(){...}\n\n}\n</code></pre>\n"},{"tags":["java","cmd","command-line","jvm"],"comments":[{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":40,"creation_date":1366590561,"post_id":16137713,"comment_id":23054202,"body_markdown":"`javac CopyFile.java` and then `java CopyFile`","body":"<code>javac CopyFile.java</code> and then <code>java CopyFile</code>"},{"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"score":0,"creation_date":1366590656,"post_id":16137713,"comment_id":23054225,"body_markdown":"I&#39;m at the command line now, do I need to save my txt files in the same folder as the program for them to be invoked?","body":"I&#39;m at the command line now, do I need to save my txt files in the same folder as the program for them to be invoked?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1366590748,"post_id":16137713,"comment_id":23054245,"body_markdown":"What package does `CopyFile` reside","body":"What package does <code>CopyFile</code> reside"},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1366590817,"post_id":16137713,"comment_id":23054256,"body_markdown":"@Elizabeth Turner first you have to make sure that you have installed JRE (Java Runtime Env) and that it&#39;s accessible form every folder (the path to Java/Javac is included in the PATH env variable). Then run the commands I wrote above from the same folder in which CopyFile.java is located.","body":"@Elizabeth Turner first you have to make sure that you have installed JRE (Java Runtime Env) and that it&#39;s accessible form every folder (the path to Java/Javac is included in the PATH env variable). Then run the commands I wrote above from the same folder in which CopyFile.java is located."},{"owner":{"account_id":9022,"reputation":31287,"user_id":16487,"accept_rate":71,"display_name":"C. Ross"},"score":0,"creation_date":1366590838,"post_id":16137713,"comment_id":23054260,"body_markdown":"See [java](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html), [PATH and CLASSPATH](http://docs.oracle.com/javase/tutorial/essential/environment/paths.html) and this question [Running Java Program From Command Line](http://stackoverflow.com/q/9879679/16487).","body":"See <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\">java</a>, <a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">PATH and CLASSPATH</a> and this question <a href=\"http://stackoverflow.com/q/9879679/16487\">Running Java Program From Command Line</a>."},{"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"score":0,"creation_date":1366591468,"post_id":16137713,"comment_id":23054404,"body_markdown":"@alfasin lets assume that JRE isn&#39;t installed, how would i go about installing it","body":"@alfasin lets assume that JRE isn&#39;t installed, how would i go about installing it"},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1643217878,"post_id":16137713,"comment_id":125283036,"body_markdown":"@ARJUN, your link is no longer valid. It looks like it go to a spam place.","body":"@ARJUN, your link is no longer valid. It looks like it go to a spam place."},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1643217942,"post_id":16137713,"comment_id":125283053,"body_markdown":"Check for JEP 330 for more information about running Java programs as if they was shell or Python scripts.","body":"Check for JEP 330 for more information about running Java programs as if they was shell or Python scripts."},{"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"score":0,"creation_date":1643218070,"post_id":16137713,"comment_id":125283124,"body_markdown":"@elizabeth-turner, no you don&#39;t need to have the text file in the same place as the java program.  But you should probably use an argument to the `main` method to tell where it is, and then add to the command line the path to the file.  As for instance `dir`, `ls`, `copy` and `cp` works.","body":"@elizabeth-turner, no you don&#39;t need to have the text file in the same place as the java program.  But you should probably use an argument to the <code>main</code> method to tell where it is, and then add to the command line the path to the file.  As for instance <code>dir</code>, <code>ls</code>, <code>copy</code> and <code>cp</code> works."},{"owner":{"account_id":2282546,"reputation":399,"user_id":2007313,"accept_rate":0,"display_name":"ARJUN"},"score":0,"creation_date":1647425686,"post_id":16137713,"comment_id":126365815,"body_markdown":"Check this link [Running a Java program from command Prompt](https://msccomputerscience4all.blogspot.com/2013/02/running-java-program-from-command-prompt.html)","body":"Check this link <a href=\"https://msccomputerscience4all.blogspot.com/2013/02/running-java-program-from-command-prompt.html\" rel=\"nofollow noreferrer\">Running a Java program from command Prompt</a>"},{"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"score":0,"creation_date":1667302519,"post_id":16137713,"comment_id":131131482,"body_markdown":"As of Java 11 you can run directly from a single `.java` file. So `java CopyFile.java` should work.","body":"As of Java 11 you can run directly from a single <code>.java</code> file. So <code>java CopyFile.java</code> should work."}],"answers":[{"comments":[{"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"score":40,"creation_date":1366591356,"post_id":16137745,"comment_id":23054388,"body_markdown":"The issue im having is when i try to run the compiler I get an error &quot;could not find or load main class CopyFile","body":"The issue im having is when i try to run the compiler I get an error &quot;could not find or load main class CopyFile"},{"owner":{"account_id":2664807,"reputation":2691,"user_id":2303547,"accept_rate":75,"display_name":"Nicholas Kadaeux"},"score":3,"creation_date":1366591725,"post_id":16137745,"comment_id":23054449,"body_markdown":"If you have the folder containing CopyFile.class set as the current directory, simply try &quot;java -cp . CopyFile&quot; Otherwise &quot;java -cp FULLPATH CopyFile&quot;","body":"If you have the folder containing CopyFile.class set as the current directory, simply try &quot;java -cp . CopyFile&quot; Otherwise &quot;java -cp FULLPATH CopyFile&quot;"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1457048742,"post_id":16137745,"comment_id":59241951,"body_markdown":"How would I create a batch file that compiles&amp;runs the code, yet if it was compile before, just launch it?","body":"How would I create a batch file that compiles&amp;runs the code, yet if it was compile before, just launch it?"},{"owner":{"account_id":278024,"reputation":18171,"user_id":572370,"display_name":"Artur Czajka"},"score":3,"creation_date":1478393490,"post_id":16137745,"comment_id":68136340,"body_markdown":"What&#39;s missing: if the class was declared to be in a certain package, then you have to put the `.class` file in the appropriate directory structure. Current directory is the default classpath, so you don&#39;t have to set `-cp .` manually.","body":"What&#39;s missing: if the class was declared to be in a certain package, then you have to put the <code>.class</code> file in the appropriate directory structure. Current directory is the default classpath, so you don&#39;t have to set <code>-cp .</code> manually."},{"owner":{"account_id":559251,"reputation":5026,"user_id":921587,"accept_rate":75,"display_name":"chrips"},"score":2,"creation_date":1502683796,"post_id":16137745,"comment_id":78292116,"body_markdown":"For sure, you should be using a packages: package mypackage;     then go to your projectname/ .    Run java mypackage.Main","body":"For sure, you should be using a packages: package mypackage;     then go to your projectname/ .    Run java mypackage.Main"},{"owner":{"account_id":1353454,"reputation":4045,"user_id":1292323,"accept_rate":91,"display_name":"kgui"},"score":0,"creation_date":1503428144,"post_id":16137745,"comment_id":78608267,"body_markdown":"What happens when you run Java filenamehere. I&#39;m guessing the java compiler DOESN&#39;T compile anything and instead the .class file is being passed to the JVM?@NicholasKadaeux","body":"What happens when you run Java filenamehere. I&#39;m guessing the java compiler DOESN&#39;T compile anything and instead the .class file is being passed to the JVM?@NicholasKadaeux"},{"owner":{"account_id":15462527,"reputation":7563,"user_id":11154841,"display_name":"questionto42"},"score":2,"creation_date":1589577535,"post_id":16137745,"comment_id":109359976,"body_markdown":"@ElizabethTurner, I had the same error, and it was because I had opened the grandparent folder and I used a project with local packages at the start of the code. The result: I had multiple projects in the working directory. If you use **package [projectfoldername];** in the first lines of your code files, you must use **java [projectfoldername]\\xyz.java** &quot;outside the projectfolder&quot;, and with that folder structure of the package you also run the class afterwards. See e.g. https://stackoverflow.com/questions/9234488/running-java-class-from-terminal","body":"@ElizabethTurner, I had the same error, and it was because I had opened the grandparent folder and I used a project with local packages at the start of the code. The result: I had multiple projects in the working directory. If you use <b>package [projectfoldername];</b> in the first lines of your code files, you must use <b>java [projectfoldername]\\xyz.java</b> &quot;outside the projectfolder&quot;, and with that folder structure of the package you also run the class afterwards. See e.g. <a href=\"https://stackoverflow.com/questions/9234488/running-java-class-from-terminal\" title=\"running java class from terminal\">stackoverflow.com/questions/9234488/&hellip;</a>"},{"owner":{"account_id":18231926,"reputation":111,"user_id":13270701,"display_name":"hayden.mumm"},"score":1,"creation_date":1684521481,"post_id":16137745,"comment_id":134534641,"body_markdown":"I was having a similar issue. As sugggested by @ArturCzajka I just needed to add -cp . but **it needs to be before the name of the class** So like this: java -cp . Test","body":"I was having a similar issue. As sugggested by @ArturCzajka I just needed to add -cp . but <b>it needs to be before the name of the class</b> So like this: java -cp . Test"}],"tags":[],"owner":{"account_id":2664807,"reputation":2691,"user_id":2303547,"accept_rate":75,"display_name":"Nicholas Kadaeux"},"comment_count":8,"down_vote_count":0,"up_vote_count":264,"is_accepted":true,"score":264,"last_activity_date":1509618384,"creation_date":1366590661,"answer_id":16137745,"question_id":16137713,"body_markdown":"Source: [javaindos.][1]\r\n\r\n&gt; Let&#39;s say your file is in C:\\mywork\\\r\n&gt; \r\n&gt; Run Command Prompt \r\n&gt; \r\n&gt;     C:\\&gt; cd \\mywork\r\n&gt; \r\n&gt; This makes C:\\mywork the current directory.\r\n&gt; \r\n&gt;     C:\\mywork&gt; dir\r\n&gt; \r\n&gt; This displays the directory contents.  You should see\r\n&gt; filenamehere.java among the files.\r\n&gt; \r\n&gt;     C:\\mywork&gt; set path=%path%;C:\\Program Files\\Java\\jdk1.5.0_09\\bin\r\n&gt; \r\n&gt; This tells the system where to find JDK programs.\r\n&gt; \r\n&gt;     C:\\mywork&gt; javac filenamehere.java\r\n&gt; \r\n&gt; This runs javac.exe, the compiler.  You should see nothing but the\r\n&gt; next system prompt...\r\n&gt; \r\n&gt;     C:\\mywork&gt; dir\r\n&gt; \r\n&gt; javac has created the filenamehere.class file.  You should see\r\n&gt; filenamehere.java and filenamehere.class among the files.\r\n&gt; \r\n&gt;     C:\\mywork&gt; java filenamehere\r\n&gt; \r\n&gt; This runs the Java interpreter.  You should then see your program\r\n&gt; output.\r\n&gt; \r\n&gt; If the system cannot find javac, check the set path command.  If javac\r\n&gt; runs but you get errors, check your Java text.  If the program\r\n&gt; compiles but you get an exception, check the spelling and\r\n&gt; capitalization in the file name and the class name and the java\r\n&gt; HelloWorld command.  Java is case-sensitive!\r\n\r\n\r\n  [1]: http://www.skylit.com/javamethods/faqs/javaindos.html\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>Source: <a href=\"http://www.skylit.com/javamethods/faqs/javaindos.html\" rel=\"noreferrer\">javaindos.</a></p>\n\n<blockquote>\n  <p>Let's say your file is in C:\\mywork\\</p>\n  \n  <p>Run Command Prompt </p>\n\n<pre><code>C:\\&gt; cd \\mywork\n</code></pre>\n  \n  <p>This makes C:\\mywork the current directory.</p>\n\n<pre><code>C:\\mywork&gt; dir\n</code></pre>\n  \n  <p>This displays the directory contents.  You should see\n  filenamehere.java among the files.</p>\n\n<pre><code>C:\\mywork&gt; set path=%path%;C:\\Program Files\\Java\\jdk1.5.0_09\\bin\n</code></pre>\n  \n  <p>This tells the system where to find JDK programs.</p>\n\n<pre><code>C:\\mywork&gt; javac filenamehere.java\n</code></pre>\n  \n  <p>This runs javac.exe, the compiler.  You should see nothing but the\n  next system prompt...</p>\n\n<pre><code>C:\\mywork&gt; dir\n</code></pre>\n  \n  <p>javac has created the filenamehere.class file.  You should see\n  filenamehere.java and filenamehere.class among the files.</p>\n\n<pre><code>C:\\mywork&gt; java filenamehere\n</code></pre>\n  \n  <p>This runs the Java interpreter.  You should then see your program\n  output.</p>\n  \n  <p>If the system cannot find javac, check the set path command.  If javac\n  runs but you get errors, check your Java text.  If the program\n  compiles but you get an exception, check the spelling and\n  capitalization in the file name and the class name and the java\n  HelloWorld command.  Java is case-sensitive!</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2118736,"reputation":489,"user_id":1882481,"accept_rate":80,"display_name":"monika"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1366591768,"creation_date":1366590778,"answer_id":16137754,"question_id":16137713,"body_markdown":"You can compile any java source using javac in command line ; eg, javac CopyFile.java.\r\nTo run : java CopyFile.\r\nYou can also compile all java files using javac *.java as long as they&#39;re in the same directory\r\n\r\nIf you&#39;re having an issue resulting with &quot;could not find or load main class&quot; you may not have\r\njre in your path. Have a look at this question:\r\nhttps://stackoverflow.com/questions/7647448/could-not-find-or-load-main-class","title":"How do I run a Java program from the command line on Windows?","body":"<p>You can compile any java source using javac in command line ; eg, javac CopyFile.java.\nTo run : java CopyFile.\nYou can also compile all java files using javac *.java as long as they're in the same directory</p>\n\n<p>If you're having an issue resulting with \"could not find or load main class\" you may not have\njre in your path. Have a look at this question:\n<a href=\"https://stackoverflow.com/questions/7647448/could-not-find-or-load-main-class\">Could not find or load main class</a></p>\n"},{"comments":[{"owner":{"account_id":357443,"reputation":1148,"user_id":697612,"display_name":"Doomjunky"},"score":0,"creation_date":1503607032,"post_id":23012272,"comment_id":78699888,"body_markdown":"Notice that  your &quot;filename&quot; is actually a name of a class. The java.exe will search every *.jar file for a class of this name.","body":"Notice that  your &quot;filename&quot; is actually a name of a class. The java.exe will search every *.jar file for a class of this name."},{"owner":{"account_id":943441,"reputation":24326,"user_id":971141,"display_name":"David Ferenczy Rogožan"},"score":0,"creation_date":1537460504,"post_id":23012272,"comment_id":91802321,"body_markdown":"@Doomjunky Could you explain it, please? Is that bad or good? Should it be named differently?","body":"@Doomjunky Could you explain it, please? Is that bad or good? Should it be named differently?"}],"tags":[],"owner":{"account_id":4266152,"reputation":845,"user_id":3489227,"accept_rate":89,"display_name":"Paresh3489227"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1537460435,"creation_date":1397218470,"answer_id":23012272,"question_id":16137713,"body_markdown":"**Complile** a Java file to generate a class:\r\n\r\n    javac filename.java\r\n\r\n**Execute** the generated class:\r\n\r\n    java filename","title":"How do I run a Java program from the command line on Windows?","body":"<p><strong>Complile</strong> a Java file to generate a class:</p>\n\n<pre><code>javac filename.java\n</code></pre>\n\n<p><strong>Execute</strong> the generated class:</p>\n\n<pre><code>java filename\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1976241,"reputation":5143,"user_id":1773972,"accept_rate":50,"display_name":"Pini Cheyni"},"score":6,"creation_date":1447783607,"post_id":33149828,"comment_id":55295603,"body_markdown":"can you please show the contents of MANIFEST.mf, because when I try to &quot;Executable by Entry Point&quot; it says the main class can&#39;t be found","body":"can you please show the contents of MANIFEST.mf, because when I try to &quot;Executable by Entry Point&quot; it says the main class can&#39;t be found"},{"owner":{"account_id":7127243,"reputation":1707,"user_id":5449766,"display_name":"jkhosla"},"score":0,"creation_date":1448421987,"post_id":33149828,"comment_id":55578444,"body_markdown":"@Pini Cheyni If your class is called the MainClass then your manifest file will have an entry for the Main-Class : MainClass","body":"@Pini Cheyni If your class is called the MainClass then your manifest file will have an entry for the Main-Class : MainClass"},{"owner":{"account_id":2513477,"reputation":1128,"user_id":2185398,"accept_rate":48,"display_name":"Dinesh Kumar P"},"score":0,"creation_date":1474954760,"post_id":33149828,"comment_id":66731060,"body_markdown":"@PiniCheyni, The 2 ways to create executable jars are explained well here.\nhttps://docs.oracle.com/javase/tutorial/deployment/jar/appman.html","body":"@PiniCheyni, The 2 ways to create executable jars are explained well here. <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/appman.html</a>"},{"owner":{"account_id":3482547,"reputation":887,"user_id":7783416,"accept_rate":80,"display_name":"user2914191"},"score":0,"creation_date":1549200934,"post_id":33149828,"comment_id":95810747,"body_markdown":"on point 3, when you call `java TheJavaFile` thats equivalent to `java TheJavaFile.class`.. so youre not executing the java file like you stated. youre executing the class file. java files are sources which are not executable","body":"on point 3, when you call <code>java TheJavaFile</code> thats equivalent to <code>java TheJavaFile.class</code>.. so youre not executing the java file like you stated. youre executing the class file. java files are sources which are not executable"}],"tags":[],"owner":{"account_id":7127243,"reputation":1707,"user_id":5449766,"display_name":"jkhosla"},"comment_count":4,"down_vote_count":0,"up_vote_count":119,"is_accepted":false,"score":119,"last_activity_date":1444918365,"creation_date":1444915580,"answer_id":33149828,"question_id":16137713,"body_markdown":"To complete the answer :\r\n\r\n1. The Java File\r\n\r\n        TheJavaFile.java\r\n\r\n1. Compile the Java File to a *.class file\r\n\r\n        javac TheJavaFile.java\r\n\r\n    * This will create a `TheJavaFile.class` file\r\n\r\n1. Execution of the Java File\r\n\r\n        java TheJavaFile\r\n\r\n1. Creation of an executable `*.jar` file\r\n\r\n    * You&#39;ve got two options here -\r\n\r\n        1. With an external manifest file :\r\n\r\n            * Create the manifest file say - MANIFEST.mf \r\n\r\n            * The MANIFEST file is nothing but an explicit entry of the Main Class \r\n \r\n            * `jar -cvfm TheJavaFile.jar MANIFEST.mf TheJavaFile.class`\r\n\r\n        1. Executable by Entry Point:\r\n            * `jar -cvfe TheJavaFile.jar &lt;MainClass&gt; TheJavaFile.class`\r\n\r\n1. To run the Jar File\r\n\r\n        java -jar TheJavaFile.jar\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>To complete the answer :</p>\n\n<ol>\n<li><p>The Java File</p>\n\n<pre><code>TheJavaFile.java\n</code></pre></li>\n<li><p>Compile the Java File to a *.class file</p>\n\n<pre><code>javac TheJavaFile.java\n</code></pre>\n\n<ul>\n<li>This will create a <code>TheJavaFile.class</code> file</li>\n</ul></li>\n<li><p>Execution of the Java File</p>\n\n<pre><code>java TheJavaFile\n</code></pre></li>\n<li><p>Creation of an executable <code>*.jar</code> file</p>\n\n<ul>\n<li><p>You've got two options here -</p>\n\n<ol>\n<li><p>With an external manifest file :</p>\n\n<ul>\n<li><p>Create the manifest file say - MANIFEST.mf </p></li>\n<li><p>The MANIFEST file is nothing but an explicit entry of the Main Class </p></li>\n<li><p><code>jar -cvfm TheJavaFile.jar MANIFEST.mf TheJavaFile.class</code></p></li>\n</ul></li>\n<li><p>Executable by Entry Point:</p>\n\n<ul>\n<li><code>jar -cvfe TheJavaFile.jar &lt;MainClass&gt; TheJavaFile.class</code></li>\n</ul></li>\n</ol></li>\n</ul></li>\n<li><p>To run the Jar File</p>\n\n<pre><code>java -jar TheJavaFile.jar\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4144435,"reputation":141,"user_id":6112807,"display_name":"Eliza Helena"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1459684100,"creation_date":1459684100,"answer_id":36385010,"question_id":16137713,"body_markdown":"It is easy. If you have saved your file as A.text first thing you should do is save it as A.java. Now it is a Java file. \r\n\r\nNow you need to open cmd and set path to you A.java file before compile it. you can refer [this][1] for that.\r\n\r\n\r\nThen you can compile your file using command \r\n\r\n&gt; javac A.java\r\n\r\nThen run it using\r\n\r\n&gt; java A\r\n\r\nSo that is how you compile and run a java program in cmd.\r\nYou can also go through these [material][2] that is Java in depth lessons. Lot of things you need to understand in Java is covered there for beginners.\r\n\r\n\r\n  [1]: http://www.elcaro-guide.com/java/how-to-compile-and-run-a-java-program\r\n  [2]: http://www.elcaro-guide.com/java\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>It is easy. If you have saved your file as A.text first thing you should do is save it as A.java. Now it is a Java file. </p>\n\n<p>Now you need to open cmd and set path to you A.java file before compile it. you can refer <a href=\"http://www.elcaro-guide.com/java/how-to-compile-and-run-a-java-program\" rel=\"noreferrer\">this</a> for that.</p>\n\n<p>Then you can compile your file using command </p>\n\n<blockquote>\n  <p>javac A.java</p>\n</blockquote>\n\n<p>Then run it using</p>\n\n<blockquote>\n  <p>java A</p>\n</blockquote>\n\n<p>So that is how you compile and run a java program in cmd.\nYou can also go through these <a href=\"http://www.elcaro-guide.com/java\" rel=\"noreferrer\">material</a> that is Java in depth lessons. Lot of things you need to understand in Java is covered there for beginners.</p>\n"},{"tags":[],"owner":{"account_id":66427,"reputation":688,"user_id":194872,"display_name":"Chris Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467157794,"creation_date":1467157794,"answer_id":38088078,"question_id":16137713,"body_markdown":"On Windows 7 I had to do the following:\r\n\r\n**quick way**\r\n\r\n 1. Install JDK http://www.oracle.com/technetwork/java/javase/downloads\r\n 2. in windows, browse into &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin&quot; (or wherever the latest version of JDK is installed), hold down shift and right click on a blank area within the window and do &quot;open command window here&quot; and this will give you a command line and access to all the BIN tools. &quot;javac&quot; is not by default in the windows system PATH environment variable.\r\n 3. Follow comments above about how to compile the file (&quot;javac MyFile.java&quot; then &quot;java MyFile&quot;) https://stackoverflow.com/a/33149828/194872\r\n\r\n**long way**\r\n\r\n 4. Install JDK http://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n 5. After installing, in edits the Windows PATH environment variable and adds the following to the path C:\\ProgramData\\Oracle\\Java\\javapath. Within this folder are symbolic links to a handful of java executables **but &quot;javac&quot; is NOT one of them** so when trying to run &quot;javac&quot; from Windows command line it throws an error.\r\n 6. I edited the path: Control Panel -&gt; System -&gt; Advanced tab -&gt; &quot;Environment Variables...&quot; button -&gt; scroll down to &quot;Path&quot;, highlight and edit -&gt; replaced the &quot;C:\\ProgramData\\Oracle\\Java\\javapath&quot; with a direct path to the java BIN folder &quot;C:\\Program Files\\Java\\jdk1.8.0_91\\bin&quot;.\r\n 7. This likely breaks when you upgrade your JDK installation but you have access to all the command line tools now.\r\n\r\n 8. Follow comments above about how to compile the file (&quot;javac MyFile.java&quot; then &quot;java MyFile&quot;) https://stackoverflow.com/a/33149828/194872\r\n\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>On Windows 7 I had to do the following:</p>\n\n<p><strong>quick way</strong></p>\n\n<ol>\n<li>Install JDK <a href=\"http://www.oracle.com/technetwork/java/javase/downloads\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads</a></li>\n<li>in windows, browse into \"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\" (or wherever the latest version of JDK is installed), hold down shift and right click on a blank area within the window and do \"open command window here\" and this will give you a command line and access to all the BIN tools. \"javac\" is not by default in the windows system PATH environment variable.</li>\n<li>Follow comments above about how to compile the file (\"javac MyFile.java\" then \"java MyFile\") <a href=\"https://stackoverflow.com/a/33149828/194872\">https://stackoverflow.com/a/33149828/194872</a></li>\n</ol>\n\n<p><strong>long way</strong></p>\n\n<ol start=\"4\">\n<li>Install JDK <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></li>\n<li>After installing, in edits the Windows PATH environment variable and adds the following to the path C:\\ProgramData\\Oracle\\Java\\javapath. Within this folder are symbolic links to a handful of java executables <strong>but \"javac\" is NOT one of them</strong> so when trying to run \"javac\" from Windows command line it throws an error.</li>\n<li>I edited the path: Control Panel -> System -> Advanced tab -> \"Environment Variables...\" button -> scroll down to \"Path\", highlight and edit -> replaced the \"C:\\ProgramData\\Oracle\\Java\\javapath\" with a direct path to the java BIN folder \"C:\\Program Files\\Java\\jdk1.8.0_91\\bin\".</li>\n<li><p>This likely breaks when you upgrade your JDK installation but you have access to all the command line tools now.</p></li>\n<li><p>Follow comments above about how to compile the file (\"javac MyFile.java\" then \"java MyFile\") <a href=\"https://stackoverflow.com/a/33149828/194872\">https://stackoverflow.com/a/33149828/194872</a></p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4383396,"reputation":4940,"user_id":3574379,"accept_rate":90,"display_name":"srghma"},"score":0,"creation_date":1644772528,"post_id":38639055,"comment_id":125689349,"body_markdown":"works for java 8","body":"works for java 8"}],"tags":[],"owner":{"account_id":8809950,"reputation":511,"user_id":6583296,"accept_rate":22,"display_name":"Harshad Holkar"},"comment_count":1,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1537460615,"creation_date":1469715316,"answer_id":38639055,"question_id":16137713,"body_markdown":"In case your Java class is in some package. Suppose your Java class named `ABC.java` is present in `com.hello.programs`, then you need to run it with the package name.\r\n\r\nCompile it in the usual way:\r\n\r\n    C:\\SimpleJavaProject\\src\\com\\hello\\programs &gt; javac ABC.java\r\n\r\nBut to run it, you need to give the package name and then your java class name:\r\n\r\n    C:\\SimpleJavaProject\\src &gt; java com.hello.programs.ABC","title":"How do I run a Java program from the command line on Windows?","body":"<p>In case your Java class is in some package. Suppose your Java class named <code>ABC.java</code> is present in <code>com.hello.programs</code>, then you need to run it with the package name.</p>\n\n<p>Compile it in the usual way:</p>\n\n<pre><code>C:\\SimpleJavaProject\\src\\com\\hello\\programs &gt; javac ABC.java\n</code></pre>\n\n<p>But to run it, you need to give the package name and then your java class name:</p>\n\n<pre><code>C:\\SimpleJavaProject\\src &gt; java com.hello.programs.ABC\n</code></pre>\n"},{"comments":[{"owner":{"account_id":559251,"reputation":5026,"user_id":921587,"accept_rate":75,"display_name":"chrips"},"score":5,"creation_date":1502608442,"post_id":41967456,"comment_id":78273912,"body_markdown":"mycomputer:bin user$ java -cp . Main.class \nError: Could not find or load main class Main.class","body":"mycomputer:bin user$ java -cp . Main.class  Error: Could not find or load main class Main.class"}],"tags":[],"owner":{"account_id":1268233,"reputation":337,"user_id":5628025,"display_name":"YakovK"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1485896609,"creation_date":1485896609,"answer_id":41967456,"question_id":16137713,"body_markdown":"Assuming the file is called &quot;CopyFile.java&quot;, do the following:\r\n\r\n    javac CopyFile.java\r\n    java -cp . CopyFile\r\n\r\nThe first line compiles the source code into executable byte code. The second line executes it, first adding the current directory to the class path (just in case).\r\n\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>Assuming the file is called \"CopyFile.java\", do the following:</p>\n\n<pre><code>javac CopyFile.java\njava -cp . CopyFile\n</code></pre>\n\n<p>The first line compiles the source code into executable byte code. The second line executes it, first adding the current directory to the class path (just in case).</p>\n"},{"tags":[],"owner":{"account_id":9210991,"reputation":355,"user_id":6844163,"display_name":"Ashwant Manikoth"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494562829,"creation_date":1494562116,"answer_id":43929138,"question_id":16137713,"body_markdown":"[![enter image description here][1]][1]\r\nSTEP 1: FIRST OPEN THE COMMAND PROMPT WHERE YOUR FILE IS LOCATED. (right click while pressing shift)    \r\nSTEP 2: THEN USE THE FOLLOWING COMMANDS TO EXECUTE.\r\n        (lets say the file and class name to be executed is named as Student.java)The example program is in the picture background.\r\n\r\n         javac Student.java\r\n         java Student\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EE25R.png\r\n  [2]: https://i.stack.imgur.com/P2vTH.png","title":"How do I run a Java program from the command line on Windows?","body":"<p><a href=\"https://i.stack.imgur.com/EE25R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EE25R.png\" alt=\"enter image description here\"></a>\nSTEP 1: FIRST OPEN THE COMMAND PROMPT WHERE YOUR FILE IS LOCATED. (right click while pressing shift)<br>\nSTEP 2: THEN USE THE FOLLOWING COMMANDS TO EXECUTE.\n        (lets say the file and class name to be executed is named as Student.java)The example program is in the picture background.</p>\n\n<pre><code>     javac Student.java\n     java Student\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/P2vTH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P2vTH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11360616,"reputation":161,"user_id":8328871,"display_name":"Horsey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548576300,"creation_date":1548576300,"answer_id":54386200,"question_id":16137713,"body_markdown":"As of Java 9, the JDK includes `jshell`, a Java REPL.\r\n\r\nAssuming the JDK 9+ `bin` directory is correctly added to your path, you will be able to simply:\r\n\r\n1. Run `jshell File.java` — `File.java` being your file of course. \r\n2. A prompt will open, allowing you to call the `main` method: `jshell&gt; File.main(null)`.\r\n3. To close the prompt and end the JVM session, use `/exit`\r\n\r\nFull documentation for JShell can be found [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/jshell/introduction-jshell.html","title":"How do I run a Java program from the command line on Windows?","body":"<p>As of Java 9, the JDK includes <code>jshell</code>, a Java REPL.</p>\n\n<p>Assuming the JDK 9+ <code>bin</code> directory is correctly added to your path, you will be able to simply:</p>\n\n<ol>\n<li>Run <code>jshell File.java</code> — <code>File.java</code> being your file of course. </li>\n<li>A prompt will open, allowing you to call the <code>main</code> method: <code>jshell&gt; File.main(null)</code>.</li>\n<li>To close the prompt and end the JVM session, use <code>/exit</code></li>\n</ol>\n\n<p>Full documentation for JShell can be found <a href=\"https://docs.oracle.com/en/java/javase/11/jshell/introduction-jshell.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1569589451,"post_id":55630197,"comment_id":102657002,"body_markdown":"This feature has been added in JDK&#160;11.","body":"This feature has been added in JDK 11."}],"tags":[],"owner":{"account_id":5729376,"reputation":44,"user_id":4525391,"display_name":"Shiba"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554978105,"creation_date":1554978105,"answer_id":55630197,"question_id":16137713,"body_markdown":"Now (with JDK 9 onwards), you can just use java &lt;source file name with extension&gt; to get that executed.\r\nIn order to execute &quot;Hello.java&quot; containing the main, one can use: \r\njava Hello.java\r\n\r\nYou do not need to compile using separately using javac anymore. \r\n\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>Now (with JDK 9 onwards), you can just use java  to get that executed.\nIn order to execute \"Hello.java\" containing the main, one can use: \njava Hello.java</p>\n\n<p>You do not need to compile using separately using javac anymore. </p>\n"},{"tags":[],"owner":{"account_id":2137634,"reputation":421,"user_id":2632797,"display_name":"akawaguc"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1559139040,"creation_date":1559139040,"answer_id":56362575,"question_id":16137713,"body_markdown":"Since Java 11, `java` command line tool has been able to run a single-file source-code directly. e.g.\r\n\r\n    java HelloWorld.java\r\n\r\nThis was an enhancement with JEP 330: https://openjdk.java.net/jeps/330\r\n\r\nFor the details of the usage and the limitations, see the manual of your Java implementation such as one provided by Oracle: https://docs.oracle.com/en/java/javase/11/tools/java.html","title":"How do I run a Java program from the command line on Windows?","body":"<p>Since Java 11, <code>java</code> command line tool has been able to run a single-file source-code directly. e.g.</p>\n\n<pre><code>java HelloWorld.java\n</code></pre>\n\n<p>This was an enhancement with JEP 330: <a href=\"https://openjdk.java.net/jeps/330\" rel=\"noreferrer\">https://openjdk.java.net/jeps/330</a></p>\n\n<p>For the details of the usage and the limitations, see the manual of your Java implementation such as one provided by Oracle: <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html\" rel=\"noreferrer\">https://docs.oracle.com/en/java/javase/11/tools/java.html</a></p>\n"},{"tags":[],"owner":{"account_id":160288,"reputation":520,"user_id":380236,"display_name":"Anders"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643218216,"creation_date":1643216714,"answer_id":70867424,"question_id":16137713,"body_markdown":"You can actually run Java program as you would shell or python scripts without manually compile the Java file, as described in\r\n[JEP 330][jep330]. That is available since JDK 11.\r\n\r\nIf you create a file `testing`, and put the following you should be able to run it as command `testing`.  You  need to make it executable in Linux and Mac OSX with `chmod +x testing`.\r\n\r\n```java\r\n    #!/usr/bin/env java --source 11\r\n    public class Test {\r\n        public static void main(String [] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            System.exit(0);\r\n        }\r\n    }\r\n```\r\nYou are *not* allowed to use the file extension `.java` in the previous example.\r\n\r\n```sh\r\n    $ chmod +x testing\r\n    $ ./testing\r\n    Hello world!\r\n    $\r\n```\r\n\r\nBut you can still execute if it is was name `Test.java` without the shebang &quot;#!&quot; prefix like this: \r\n\r\n```java\r\n    public class Test {\r\n        public static void main(String [] args) {\r\n            System.out.println(&quot;Hello again!&quot;);\r\n            System.exit(0);\r\n        }\r\n    }\r\n```\r\n\r\nThen execute the file `Test.java` with following command:\r\n\r\n```sh\r\n    $ java Test.java\r\n    Hello again!\r\n    $\r\n```\r\nSo this works as long as you have a new enough Java compiler in the path, check with `java -version`.  More information in this [blog][blog].\r\n\r\n\r\n[jep330]: https://openjdk.java.net/jeps/330 &quot;Java JEP 330: Launch Single-File Source-Code Programs&quot;\r\n[blog]: https://www.infoq.com/articles/single-file-execution-java11 &quot;Running Single-file Programs without Compiling in Java 11&quot;\r\n","title":"How do I run a Java program from the command line on Windows?","body":"<p>You can actually run Java program as you would shell or python scripts without manually compile the Java file, as described in\n<a href=\"https://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\" title=\"Java JEP 330: Launch Single-File Source-Code Programs\">JEP 330</a>. That is available since JDK 11.</p>\n<p>If you create a file <code>testing</code>, and put the following you should be able to run it as command <code>testing</code>.  You  need to make it executable in Linux and Mac OSX with <code>chmod +x testing</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    #!/usr/bin/env java --source 11\n    public class Test {\n        public static void main(String [] args) {\n            System.out.println(&quot;Hello world!&quot;);\n            System.exit(0);\n        }\n    }\n</code></pre>\n<p>You are <em>not</em> allowed to use the file extension <code>.java</code> in the previous example.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>    $ chmod +x testing\n    $ ./testing\n    Hello world!\n    $\n</code></pre>\n<p>But you can still execute if it is was name <code>Test.java</code> without the shebang &quot;#!&quot; prefix like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Test {\n        public static void main(String [] args) {\n            System.out.println(&quot;Hello again!&quot;);\n            System.exit(0);\n        }\n    }\n</code></pre>\n<p>Then execute the file <code>Test.java</code> with following command:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>    $ java Test.java\n    Hello again!\n    $\n</code></pre>\n<p>So this works as long as you have a new enough Java compiler in the path, check with <code>java -version</code>.  More information in this <a href=\"https://www.infoq.com/articles/single-file-execution-java11\" rel=\"nofollow noreferrer\" title=\"Running Single-file Programs without Compiling in Java 11\">blog</a>.</p>\n"}],"owner":{"account_id":2566111,"reputation":2741,"user_id":2226153,"accept_rate":83,"display_name":"Elizabeth Turner"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1548001,"favorite_count":0,"down_vote_count":1,"up_vote_count":259,"accepted_answer_id":16137745,"answer_count":13,"score":258,"last_activity_date":1681461194,"creation_date":1366590411,"question_id":16137713,"body_markdown":"I&#39;m trying to execute a Java program from the command line in Windows.  \r\nHere is my code:\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    \r\n    public class CopyFile {\r\n        public static void main(String[] args) {\r\n            InputStream inStream = null;\r\n            OutputStream outStream = null;\r\n\r\n            try {\r\n                File afile = new File(&quot;input.txt&quot;);\r\n                File bfile = new File(&quot;inputCopy.txt&quot;);\r\n\r\n                inStream = new FileInputStream(afile);\r\n                outStream = new FileOutputStream(bfile);\r\n\r\n                byte[] buffer = new byte[1024];\r\n\r\n                int length;\r\n\r\n                // copy the file content in bytes\r\n                while ((length = inStream.read(buffer)) &gt; 0) {\r\n                    outStream.write(buffer, 0, length);\r\n                }\r\n\r\n                inStream.close();\r\n                outStream.close();\r\n\r\n                System.out.println(&quot;File is copied successful!&quot;);\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m not sure how to execute the program - any help?  \r\nIs this possible on Windows?  \r\nWhy is it different than another environment (I thought JVM was write once, run anywhere)?","title":"How do I run a Java program from the command line on Windows?","body":"<p>I'm trying to execute a Java program from the command line in Windows.<br />\nHere is my code:</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class CopyFile {\n    public static void main(String[] args) {\n        InputStream inStream = null;\n        OutputStream outStream = null;\n\n        try {\n            File afile = new File(&quot;input.txt&quot;);\n            File bfile = new File(&quot;inputCopy.txt&quot;);\n\n            inStream = new FileInputStream(afile);\n            outStream = new FileOutputStream(bfile);\n\n            byte[] buffer = new byte[1024];\n\n            int length;\n\n            // copy the file content in bytes\n            while ((length = inStream.read(buffer)) &gt; 0) {\n                outStream.write(buffer, 0, length);\n            }\n\n            inStream.close();\n            outStream.close();\n\n            System.out.println(&quot;File is copied successful!&quot;);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure how to execute the program - any help?<br />\nIs this possible on Windows?<br />\nWhy is it different than another environment (I thought JVM was write once, run anywhere)?</p>\n"},{"tags":["java","android","appium"],"comments":[{"owner":{"account_id":3268159,"reputation":199,"user_id":2752189,"display_name":"hfarhanahmed"},"score":0,"creation_date":1572949300,"post_id":58696488,"comment_id":103712474,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/56111529/cannot-call-non-w3c-standard-command-while-in-w3c-mode-seleniumwebdrivererr?noredirect=1&amp;lq=1","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/56111529/cannot-call-non-w3c-standard-command-while-in-w3c-mode-seleniumwebdrivererr?noredirect=1&amp;lq=1\" title=\"cannot call non w3c standard command while in w3c mode seleniumwebdrivererr\">stackoverflow.com/questions/56111529/&hellip;</a>"},{"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"score":0,"creation_date":1572950353,"post_id":58696488,"comment_id":103713025,"body_markdown":"Hi @hfarhanahmed, I already saw this answer and try to use it but I failed. That answer is implemented from Web application. But I am trying to automate android Hybrid app (which has webview)","body":"Hi @hfarhanahmed, I already saw this answer and try to use it but I failed. That answer is implemented from Web application. But I am trying to automate android Hybrid app (which has webview)"}],"answers":[{"tags":[],"owner":{"account_id":17036473,"reputation":1,"user_id":12325400,"display_name":"MarMarMar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572948612,"creation_date":1572948612,"answer_id":58709049,"question_id":58696488,"body_markdown":"I have the similar challenge. Additionally in my case this log message appeared when I had set capabilities like this:\r\n```\r\ncaps.setCapability(MobileCapabilityType.FORCE_MJSONWP, true);\r\n```\r\nThe situation is connected with Mobile JSON Wire Protocole I quess.","title":"How to resolve &quot;Cannot call non W3C standard command while in W3C mode&quot; in case of automating android webView","body":"<p>I have the similar challenge. Additionally in my case this log message appeared when I had set capabilities like this:</p>\n\n<pre><code>caps.setCapability(MobileCapabilityType.FORCE_MJSONWP, true);\n</code></pre>\n\n<p>The situation is connected with Mobile JSON Wire Protocole I quess.</p>\n"},{"tags":[],"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1573028338,"creation_date":1573028338,"answer_id":58725741,"question_id":58696488,"body_markdown":"Finally found the solution. I just used the below capabilities.\r\n\r\n    capabilities.setCapability(&quot;appium:chromeOptions&quot;, ImmutableMap.of(&quot;w3c&quot;, false));","title":"How to resolve &quot;Cannot call non W3C standard command while in W3C mode&quot; in case of automating android webView","body":"<p>Finally found the solution. I just used the below capabilities.</p>\n\n<pre><code>capabilities.setCapability(\"appium:chromeOptions\", ImmutableMap.of(\"w3c\", false));\n</code></pre>\n"}],"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58725741,"answer_count":2,"score":1,"last_activity_date":1681460843,"creation_date":1572881383,"question_id":58696488,"body_markdown":"I am doing an android webView automation. After changing from native app context to webview context, I am getting the following error.\r\n\r\n    org.openqa.selenium.UnsupportedCommandException: unknown command: Cannot call non W3C standard command while in W3C mode\r\n\r\nThere are many similar questions related to this but all are related to web. I couldn&#39;t find any solution to solve this in android webView. Can anyone please let me know how can I solve this.\r\n\r\nEnvironment:\r\n\r\n 1. Mobile version : 5.1.1\r\n 2. Appium Version 1.15.1\r\n 3. chromeDriver version : 78.0.3904.70\r\n 4. Chrome Verison : 78.0.3904.62","title":"How to resolve &quot;Cannot call non W3C standard command while in W3C mode&quot; in case of automating android webView","body":"<p>I am doing an android webView automation. After changing from native app context to webview context, I am getting the following error.</p>\n\n<pre><code>org.openqa.selenium.UnsupportedCommandException: unknown command: Cannot call non W3C standard command while in W3C mode\n</code></pre>\n\n<p>There are many similar questions related to this but all are related to web. I couldn't find any solution to solve this in android webView. Can anyone please let me know how can I solve this.</p>\n\n<p>Environment:</p>\n\n<ol>\n<li>Mobile version : 5.1.1</li>\n<li>Appium Version 1.15.1</li>\n<li>chromeDriver version : 78.0.3904.70</li>\n<li>Chrome Verison : 78.0.3904.62</li>\n</ol>\n"},{"tags":["java","maven","swagger","swagger-ui"],"owner":{"account_id":14917984,"reputation":43,"user_id":10771214,"display_name":"theirman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681460308,"creation_date":1681460308,"question_id":76012970,"body_markdown":"I am having problems using the `io.swagger.core.v3:swagger-maven-plugin:2.2.7` to build the Swagger interface. This one is well generated and shows perfectly the methods of my REST API. However, the paths generated for the test function &quot;TRY IT OUT&quot; are incorrects.\r\n\r\nFor example, I have a method version of the UtilsRest service that is exposed on `http://localhost:8080/UtilsRest/api/version`. \r\n\r\n[![swagger-api-interface][1]][1]\r\n\r\nMy method runs perfectly at that address through a browser. But the &quot;TRY IT OUT&quot; function points to http://localhost:8080/version and, not surprisingly, the call fails\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is some code to contextualize my request. I deliberately chose the most basic method so that logic problems would not interfere.\r\n\r\n - the dependency import in pom.xml\r\n\r\n```\r\n    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n - the plugin configuration in pom.xml\r\n\r\n```\r\n      &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.7&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;outputFileName&gt;${project.name}&lt;/outputFileName&gt;\r\n          &lt;outputPath&gt;${basedir}/src/main/webapp/WebContent&lt;/outputPath&gt;\r\n          &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\r\n          &lt;resourcePackages&gt;          \r\n            &lt;package&gt;com.societe.unite.services&lt;/package&gt;\r\n          &lt;/resourcePackages&gt;\r\n          &lt;prettyPrint&gt;TRUE&lt;/prettyPrint&gt;\r\n          &lt;sortOutput&gt;TRUE&lt;/sortOutput&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;resolve&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;    \r\n```\r\n\r\n - content of the web.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; \r\n         version=&quot;4.0&quot;&gt;\r\n  &lt;display-name&gt;UtilsRest&lt;/display-name&gt;\r\n  &lt;default-context-path&gt;UtilsRest&lt;/default-context-path&gt;\r\n\r\n  &lt;servlet&gt;\r\n    &lt;display-name&gt;Rest Servlet&lt;/display-name&gt;\r\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n      &lt;param-value&gt;com.societe.unite&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\r\n      &lt;param-value&gt;org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n\r\n  &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n  &lt;/welcome-file-list&gt;\r\n  \r\n&lt;/web-app&gt;\r\n```\r\n\r\n - content of the UtilsRest class\r\n\r\n```\r\npackage com.societe.unite.services;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\n\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\nimport io.swagger.v3.oas.annotations.info.Contact;\r\nimport io.swagger.v3.oas.annotations.info.Info;\r\nimport io.swagger.v3.oas.annotations.info.License;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\n\r\n@OpenAPIDefinition\r\n(\r\n    info = @Info\r\n    (\r\n        title = &quot;UtilsRest&quot;,\r\n        version = &quot;1.0.0&quot;,\r\n        description = &quot;API du projet UtilsRest&quot;,\r\n        license = @License\r\n        (\r\n            name = &quot;Creative Commons CC BY&quot;,\r\n            url = &quot;https://creativecommons.org/licenses/by/4.0/deed.fr&quot;\r\n        ),\r\n        contact = @Contact\r\n        (\r\n            email = &quot;thierry.heirman@societe.com&quot;,\r\n            name = &quot;Thierry Heirman&quot;\r\n        )\r\n    )\r\n)\r\n\r\n\r\n@Tag(name = &quot;Utils&quot;)\r\n@Path(&quot;&quot;)\r\npublic class Utils implements IUtils\r\n{\r\n    @GET \r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    @Path(&quot;version&quot;)\r\n    public String getVersion()\r\n    {\r\n        return &quot;1.0&quot;;\r\n    }\r\n}\r\n```\r\n\r\n*(I warned you that I chose the most basic example :D )*\r\n\r\nPlease help me to find out why my paths are generated incorrectly.\r\n\r\nThank you, have a nice day\r\n\r\nThierry\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oQUiQ.png\r\n  [2]: https://i.stack.imgur.com/oYkap.png","title":"Why does swagger-maven-plugin generate incorrect test addresses in swagger-ui?","body":"<p>I am having problems using the <code>io.swagger.core.v3:swagger-maven-plugin:2.2.7</code> to build the Swagger interface. This one is well generated and shows perfectly the methods of my REST API. However, the paths generated for the test function &quot;TRY IT OUT&quot; are incorrects.</p>\n<p>For example, I have a method version of the UtilsRest service that is exposed on <code>http://localhost:8080/UtilsRest/api/version</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/oQUiQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oQUiQ.png\" alt=\"swagger-api-interface\" /></a></p>\n<p>My method runs perfectly at that address through a browser. But the &quot;TRY IT OUT&quot; function points to http://localhost:8080/version and, not surprisingly, the call fails</p>\n<p><a href=\"https://i.stack.imgur.com/oYkap.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oYkap.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is some code to contextualize my request. I deliberately chose the most basic method so that logic problems would not interfere.</p>\n<ul>\n<li>the dependency import in pom.xml</li>\n</ul>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>the plugin configuration in pom.xml</li>\n</ul>\n<pre><code>      &lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-maven-plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.2.7&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;outputFileName&gt;${project.name}&lt;/outputFileName&gt;\n          &lt;outputPath&gt;${basedir}/src/main/webapp/WebContent&lt;/outputPath&gt;\n          &lt;outputFormat&gt;JSON&lt;/outputFormat&gt;\n          &lt;resourcePackages&gt;          \n            &lt;package&gt;com.societe.unite.services&lt;/package&gt;\n          &lt;/resourcePackages&gt;\n          &lt;prettyPrint&gt;TRUE&lt;/prettyPrint&gt;\n          &lt;sortOutput&gt;TRUE&lt;/sortOutput&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;resolve&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;    \n</code></pre>\n<ul>\n<li>content of the web.xml file</li>\n</ul>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; \n         version=&quot;4.0&quot;&gt;\n  &lt;display-name&gt;UtilsRest&lt;/display-name&gt;\n  &lt;default-context-path&gt;UtilsRest&lt;/default-context-path&gt;\n\n  &lt;servlet&gt;\n    &lt;display-name&gt;Rest Servlet&lt;/display-name&gt;\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n      &lt;param-value&gt;com.societe.unite&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\n      &lt;param-value&gt;org.glassfish.jersey.server.filter.RolesAllowedDynamicFeature&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  \n&lt;/web-app&gt;\n</code></pre>\n<ul>\n<li>content of the UtilsRest class</li>\n</ul>\n<pre><code>package com.societe.unite.services;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\n\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\nimport io.swagger.v3.oas.annotations.info.Contact;\nimport io.swagger.v3.oas.annotations.info.Info;\nimport io.swagger.v3.oas.annotations.info.License;\nimport io.swagger.v3.oas.annotations.tags.Tag;\n\n@OpenAPIDefinition\n(\n    info = @Info\n    (\n        title = &quot;UtilsRest&quot;,\n        version = &quot;1.0.0&quot;,\n        description = &quot;API du projet UtilsRest&quot;,\n        license = @License\n        (\n            name = &quot;Creative Commons CC BY&quot;,\n            url = &quot;https://creativecommons.org/licenses/by/4.0/deed.fr&quot;\n        ),\n        contact = @Contact\n        (\n            email = &quot;thierry.heirman@societe.com&quot;,\n            name = &quot;Thierry Heirman&quot;\n        )\n    )\n)\n\n\n@Tag(name = &quot;Utils&quot;)\n@Path(&quot;&quot;)\npublic class Utils implements IUtils\n{\n    @GET \n    @Produces(MediaType.TEXT_PLAIN)\n    @Path(&quot;version&quot;)\n    public String getVersion()\n    {\n        return &quot;1.0&quot;;\n    }\n}\n</code></pre>\n<p><em>(I warned you that I chose the most basic example :D )</em></p>\n<p>Please help me to find out why my paths are generated incorrectly.</p>\n<p>Thank you, have a nice day</p>\n<p>Thierry</p>\n"},{"tags":["java","casting","xor"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":3,"creation_date":1681458591,"post_id":76012699,"comment_id":134062610,"body_markdown":"Please call this operation &quot;obfuscation&quot;, not &quot;encryption&quot; - because that&#39;s what it is (and what it is not). Also, what&#39;s `en` and `de`?","body":"Please call this operation &quot;obfuscation&quot;, not &quot;encryption&quot; - because that&#39;s what it is (and what it is not). Also, what&#39;s <code>en</code> and <code>de</code>?"},{"owner":{"account_id":25652111,"reputation":77,"user_id":19419202,"display_name":"yad0"},"score":0,"creation_date":1681459207,"post_id":76012699,"comment_id":134062766,"body_markdown":"@OlafKock i had forgotten to remove those. I just have different classes for encryption and decryption, that&#39;s why they were there.","body":"@OlafKock i had forgotten to remove those. I just have different classes for encryption and decryption, that&#39;s why they were there."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1681461997,"post_id":76012699,"comment_id":134063461,"body_markdown":"why are keys not `char[]`?","body":"why are keys not <code>char[]</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681459965,"creation_date":1681459965,"answer_id":76012923,"question_id":76012699,"body_markdown":"You must XOR with the same previous element.\r\n\r\nCurrently when encrypting you use\r\n\r\n    msg[i] = letters[i] ^ keys[i] ^ msg[i - 1];\r\n\r\nwhere `msg[i - 1]` is the encrypted previous character.\r\n\r\nWhen decrypting you use\r\n\r\n    msg[i] = (char)(letters[i] ^ keys[i] ^ msg[i - 1]);\r\n\r\nwhere `msg[i - 1]` is the decrypted previous character.\r\n\r\nYou can either use\r\n\r\n    msg[i] = (char)(letters[i] ^ keys[i] ^ letter[i - 1]);\r\n\r\nwhen decrypting, or use\r\n\r\n    msg[i] = letters[i] ^ keys[i] ^ letters[i - 1];\r\n\r\nwhen encrypting.\r\n\r\n----\r\nNote: from the comments, some say that is is mere obfuscation.\r\n\r\nBut: this is IMHO an application of the [One-Time Pad](https://en.wikipedia.org/wiki/One-time_pad) algorithm if you create a unique key in `genereateKeys(charArray1.length)` - and **a properly done** One-Time Pad is an encryption technique that cannot be cracked.\r\n\r\nThe emphasis is on &quot;properly done&quot; because this technique of course requires that both sender (encryptor) and receiver (decryptor) must know the One-Time Pad and the difficulty is in securely transfering that One-Time Pad from the sender to the receiver of the message.","title":"XOR and typecasting","body":"<p>You must XOR with the same previous element.</p>\n<p>Currently when encrypting you use</p>\n<pre><code>msg[i] = letters[i] ^ keys[i] ^ msg[i - 1];\n</code></pre>\n<p>where <code>msg[i - 1]</code> is the encrypted previous character.</p>\n<p>When decrypting you use</p>\n<pre><code>msg[i] = (char)(letters[i] ^ keys[i] ^ msg[i - 1]);\n</code></pre>\n<p>where <code>msg[i - 1]</code> is the decrypted previous character.</p>\n<p>You can either use</p>\n<pre><code>msg[i] = (char)(letters[i] ^ keys[i] ^ letter[i - 1]);\n</code></pre>\n<p>when decrypting, or use</p>\n<pre><code>msg[i] = letters[i] ^ keys[i] ^ letters[i - 1];\n</code></pre>\n<p>when encrypting.</p>\n<hr />\n<p>Note: from the comments, some say that is is mere obfuscation.</p>\n<p>But: this is IMHO an application of the <a href=\"https://en.wikipedia.org/wiki/One-time_pad\" rel=\"nofollow noreferrer\">One-Time Pad</a> algorithm if you create a unique key in <code>genereateKeys(charArray1.length)</code> - and <strong>a properly done</strong> One-Time Pad is an encryption technique that cannot be cracked.</p>\n<p>The emphasis is on &quot;properly done&quot; because this technique of course requires that both sender (encryptor) and receiver (decryptor) must know the One-Time Pad and the difficulty is in securely transfering that One-Time Pad from the sender to the receiver of the message.</p>\n"}],"owner":{"account_id":25652111,"reputation":77,"user_id":19419202,"display_name":"yad0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76012923,"answer_count":1,"score":0,"last_activity_date":1681459965,"creation_date":1681458397,"question_id":76012699,"body_markdown":"I&#39;m writing an encryption/decryption program using bitwise xor operation. Given a character array and an array with int as keys, I xor the first character of the array with the first key. For the other characters I xor them with the next int in the key array and then xor again with the previous encrypted character. ```enc[i] = enc[i - 1] ^ k[i] ^ c[i]``` where c is the character to be encrypted, k the key, and enc the encrypted character. I do get the correct result if I don&#39;t xor with the previous encrypted character.\r\n\r\n```\r\npublic class Main{\r\n    public static void main(String[] args){\r\n\r\n        char[] charArray1 = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;};\r\n        int[] keys1 = genereateKeys(charArray1.length);\r\n        \r\n        int[] encrypted1 = encrypt(charArray1, keys1);\r\n        printCharArray(decrypt(encrypted1, keys1));\r\n\r\n        char[] charArray2 = {&#39;H&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;, &#39;W&#39;, &#39;o&#39;, &#39;r&#39;, &#39;l&#39;, &#39;d&#39;};\r\n        int[] keys2 = genereateKeys(charArray2.length);\r\n        \r\n        int[] encrypted2 = encrypt(charArray2, keys2);\r\n        printCharArray(decrypt(encrypted2, keys2));\r\n    }\r\n\r\n    public static void printCharArray(char[] letter){\r\n        for(int i = 0; i &lt; letter.length; ++i)\r\n            System.out.print(letter[i]);\r\n        \r\n        System.out.println();\r\n    }\r\n\r\n    public static int[] encrypt(char[] letters, int[] keys){\r\n        int[] msg = new int[letters.length];\r\n        msg[0] = ((int)letters[0]) ^ keys[0];\r\n        for(int i = 1; i &lt; letters.length; ++i){\r\n            msg[i] = ((int)letters[i]) ^ keys[i] ^ msg[i - 1];\r\n        }\r\n        return msg;\r\n    }\r\n\r\n    public static char[] decrypt(int[] letters, int[] keys){\r\n        char[] msg = new char[letters.length];\r\n        msg[0] = (char)(letters[0] ^ keys[0]);\r\n        for(int i = 1; i &lt; letters.length; ++i){\r\n            msg[i] = (char)(letters[i] ^ keys[i]) ^ (int)msg[i - 1]);\r\n        }\r\n        return msg;\r\n    }\r\n\r\n}\r\n```\r\nSo what exactly am I doing wrong here? As I said when I encrypt/decrypt without the before element the result is as expected. The problem is when i xor with the before element.","title":"XOR and typecasting","body":"<p>I'm writing an encryption/decryption program using bitwise xor operation. Given a character array and an array with int as keys, I xor the first character of the array with the first key. For the other characters I xor them with the next int in the key array and then xor again with the previous encrypted character. <code>enc[i] = enc[i - 1] ^ k[i] ^ c[i]</code> where c is the character to be encrypted, k the key, and enc the encrypted character. I do get the correct result if I don't xor with the previous encrypted character.</p>\n<pre><code>public class Main{\n    public static void main(String[] args){\n\n        char[] charArray1 = {'a', 'b', 'c', 'd', 'e'};\n        int[] keys1 = genereateKeys(charArray1.length);\n        \n        int[] encrypted1 = encrypt(charArray1, keys1);\n        printCharArray(decrypt(encrypted1, keys1));\n\n        char[] charArray2 = {'H', 'e', 'l', 'l', 'o', ' ', 'W', 'o', 'r', 'l', 'd'};\n        int[] keys2 = genereateKeys(charArray2.length);\n        \n        int[] encrypted2 = encrypt(charArray2, keys2);\n        printCharArray(decrypt(encrypted2, keys2));\n    }\n\n    public static void printCharArray(char[] letter){\n        for(int i = 0; i &lt; letter.length; ++i)\n            System.out.print(letter[i]);\n        \n        System.out.println();\n    }\n\n    public static int[] encrypt(char[] letters, int[] keys){\n        int[] msg = new int[letters.length];\n        msg[0] = ((int)letters[0]) ^ keys[0];\n        for(int i = 1; i &lt; letters.length; ++i){\n            msg[i] = ((int)letters[i]) ^ keys[i] ^ msg[i - 1];\n        }\n        return msg;\n    }\n\n    public static char[] decrypt(int[] letters, int[] keys){\n        char[] msg = new char[letters.length];\n        msg[0] = (char)(letters[0] ^ keys[0]);\n        for(int i = 1; i &lt; letters.length; ++i){\n            msg[i] = (char)(letters[i] ^ keys[i]) ^ (int)msg[i - 1]);\n        }\n        return msg;\n    }\n\n}\n</code></pre>\n<p>So what exactly am I doing wrong here? As I said when I encrypt/decrypt without the before element the result is as expected. The problem is when i xor with the before element.</p>\n"},{"tags":["java","tomcat9"],"comments":[{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1681452559,"post_id":76011674,"comment_id":134061480,"body_markdown":"1.Link didn&#39;t help, removed Oracle jar file from lib. \n2.Tried adding -Xms128m -Xmx1024m configuration of tomcat.\n\nNot added any code to resolve as same code works fine in Java 8. \n\nOther projects works fine with Java 11 so such error. It has to error out for all project but that&#39;s not case. Its happening only for specific application only.","body":"1.Link didn&#39;t help, removed Oracle jar file from lib.  2.Tried adding -Xms128m -Xmx1024m configuration of tomcat.  Not added any code to resolve as same code works fine in Java 8.   Other projects works fine with Java 11 so such error. It has to error out for all project but that&#39;s not case. Its happening only for specific application only."}],"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681460627,"answer_count":0,"score":0,"last_activity_date":1681459782,"creation_date":1681447529,"question_id":76011674,"body_markdown":"We are migrating from Java 8 to Java 11, while starting the tomcat server-9 getting below exception for few application only.\r\n\r\nUsing Eclipse and com.ibm.db2.jcc.DB2Driver to connect to database.\r\n\r\n```\r\nWARNING: The web application [Sample] appears to have started a thread named[POJO.data] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n java.base@11.0.16/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@11.0.16/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\n java.base@11.0.16/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\r\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nSteps tried given in \r\nhttps://stackoverflow.com/questions/48254517/the-web-application-appears-to-have-started-a-thread-named-timer-0-but-has-fai\r\n\r\n1. Not using any java.util.Timer in our application.\r\n2. Rmoved Oracle jar file from lib. \r\n3. Tried adding -Xms128m -Xmx1024m configuration of tomcat\r\n4. AbandonedConnectionCleanupThread.shutdown() - not using mysql to do any coding for this.\r\n4. Exception stacktrace shows thread named [POJO.data] - here POJO is simple java class with getter and setter method not sure why its picking pojo classes.","title":"java.base@11.0.16/jdk.internal.misc.Unsafe.park : Migration from Java 8 to Java 11","body":"<p>We are migrating from Java 8 to Java 11, while starting the tomcat server-9 getting below exception for few application only.</p>\n<p>Using Eclipse and com.ibm.db2.jcc.DB2Driver to connect to database.</p>\n<pre><code>WARNING: The web application [Sample] appears to have started a thread named[POJO.data] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.base@11.0.16/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@11.0.16/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\n java.base@11.0.16/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@11.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n java.base@11.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n java.base@11.0.16/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Steps tried given in\n<a href=\"https://stackoverflow.com/questions/48254517/the-web-application-appears-to-have-started-a-thread-named-timer-0-but-has-fai\">The web application appears to have started a thread named [Timer-0] but has failed to stop it</a></p>\n<ol>\n<li>Not using any java.util.Timer in our application.</li>\n<li>Rmoved Oracle jar file from lib.</li>\n<li>Tried adding -Xms128m -Xmx1024m configuration of tomcat</li>\n<li>AbandonedConnectionCleanupThread.shutdown() - not using mysql to do any coding for this.</li>\n<li>Exception stacktrace shows thread named [POJO.data] - here POJO is simple java class with getter and setter method not sure why its picking pojo classes.</li>\n</ol>\n"},{"tags":["eclipse","configuration","java","buildpath"],"answers":[{"comments":[{"owner":{"account_id":2522766,"reputation":3910,"user_id":2192791,"accept_rate":82,"display_name":"AllieCat"},"score":0,"creation_date":1372093132,"post_id":17280822,"comment_id":25053071,"body_markdown":"When I click on Edit, I only have one option (my project) and then can only click Finish. When I do that, nothing changes.","body":"When I click on Edit, I only have one option (my project) and then can only click Finish. When I do that, nothing changes."},{"owner":{"account_id":1666974,"reputation":3176,"user_id":1534183,"accept_rate":85,"display_name":"Vikas V"},"score":0,"creation_date":1372093884,"post_id":17280822,"comment_id":25053434,"body_markdown":"@AllieCat I have edited my answer with link to a guide on Web App libraries. That link might help you..","body":"@AllieCat I have edited my answer with link to a guide on Web App libraries. That link might help you.."}],"tags":[],"owner":{"account_id":1666974,"reputation":3176,"user_id":1534183,"accept_rate":85,"display_name":"Vikas V"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1531814441,"creation_date":1372092783,"answer_id":17280822,"question_id":17280728,"body_markdown":"A project&#39;s Web App Library is composed automatically by Eclipse from any JARs on the project path, `&lt;project-name&gt;/WebContent/WEB-INF/lib`. JARs reach that location:\r\n\r\n 1. after the project is created (of course, since the project file system begins to exist only then)\r\n 2. by the user&#39;s hand.\r\n\r\nSo, you can edit the Web App library by adding / deleting jars under `WEB-INF/lib` folder.\r\n\r\nMore details on [Web App libraries][1] can be found here.\r\n\r\n\r\n  [1]: http://www.javahotchocolate.com/tutorials/web-jars.html","title":"Can&#39;t remove jar from Web App Library","body":"<p>A project's Web App Library is composed automatically by Eclipse from any JARs on the project path, <code>&lt;project-name&gt;/WebContent/WEB-INF/lib</code>. JARs reach that location:</p>\n\n<ol>\n<li>after the project is created (of course, since the project file system begins to exist only then)</li>\n<li>by the user's hand.</li>\n</ol>\n\n<p>So, you can edit the Web App library by adding / deleting jars under <code>WEB-INF/lib</code> folder.</p>\n\n<p>More details on <a href=\"http://www.javahotchocolate.com/tutorials/web-jars.html\" rel=\"nofollow noreferrer\">Web App libraries</a> can be found here.</p>\n"},{"comments":[{"owner":{"account_id":5194458,"reputation":896,"user_id":4156272,"accept_rate":71,"display_name":"Drumnbass"},"score":1,"creation_date":1524642228,"post_id":17281074,"comment_id":87049469,"body_markdown":"that delete button is also disabled.","body":"that delete button is also disabled."}],"tags":[],"owner":{"account_id":2522766,"reputation":3910,"user_id":2192791,"accept_rate":82,"display_name":"AllieCat"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1372093654,"creation_date":1372093654,"answer_id":17281074,"question_id":17280728,"body_markdown":"I figured it out - sorry to bother everyone.\r\n\r\n Go to the jar in the Project Explorer, right click and Delete.\r\n\r\n![Deleting jar in Web App Library][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BlVpt.png\r\n\r\n","title":"Can&#39;t remove jar from Web App Library","body":"<p>I figured it out - sorry to bother everyone.</p>\n\n<p>Go to the jar in the Project Explorer, right click and Delete.</p>\n\n<p><img src=\"https://i.stack.imgur.com/BlVpt.png\" alt=\"Deleting jar in Web App Library\"></p>\n"},{"comments":[{"owner":{"account_id":8341880,"reputation":704,"user_id":6266949,"accept_rate":53,"display_name":"Jason Krs"},"score":0,"creation_date":1503078513,"post_id":24508415,"comment_id":78482658,"body_markdown":"Thanks. It helped me","body":"Thanks. It helped me"}],"tags":[],"owner":{"account_id":1392268,"reputation":323,"user_id":1322804,"display_name":"Bruno Freitas"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1404211797,"creation_date":1404211797,"answer_id":24508415,"question_id":17280728,"body_markdown":"After delete some libs, delete Webapp libs in Build Path then close and open Eclipse, add Webapp Libs in Build Path again. Worked for me.","title":"Can&#39;t remove jar from Web App Library","body":"<p>After delete some libs, delete Webapp libs in Build Path then close and open Eclipse, add Webapp Libs in Build Path again. Worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2143157,"reputation":1,"user_id":1901369,"display_name":"SanmitK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631618831,"creation_date":1631618831,"answer_id":69176892,"question_id":17280728,"body_markdown":"What worked for me was, I was trying to delete the JARs from Build Path, which I accessed through &#39;Project Explorer&#39; tab. But the JARs delete option is greyed out there, as per the original question.\r\n\r\nSo I tried the same from : &#39;Navigator&#39; perspective (which is deprecated). When I went to my projects build path from here, I could see the delete option.","title":"Can&#39;t remove jar from Web App Library","body":"<p>What worked for me was, I was trying to delete the JARs from Build Path, which I accessed through 'Project Explorer' tab. But the JARs delete option is greyed out there, as per the original question.</p>\n<p>So I tried the same from : 'Navigator' perspective (which is deprecated). When I went to my projects build path from here, I could see the delete option.</p>\n"},{"tags":[],"owner":{"account_id":2396304,"reputation":164,"user_id":2095034,"display_name":"Ishmael Mavor Raines"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681459713,"creation_date":1681457920,"answer_id":76012647,"question_id":17280728,"body_markdown":"\r\nFor Spring tools I open workspace folder **manually** ...\r\n\r\nC:\\Users\\Administrator\\Documents\\workspace-spring-tool-suite-4-4.18.0.RELEASE\\JavaApp\\src\\main\\webapp\\WEB-INF\\lib\r\n\r\nand delete the jars from there!\r\n\r\nHooray they&#39;re gone. Doesnt look like we need an IDE neither.\r\n\r\nAlso you can try to view files in Package Explorer instead of Project Explorer...\r\n\r\n  Windows -&gt; Show View  -&gt; Package Explorer","title":"Can&#39;t remove jar from Web App Library","body":"<p>For Spring tools I open workspace folder <strong>manually</strong> ...</p>\n<p>C:\\Users\\Administrator\\Documents\\workspace-spring-tool-suite-4-4.18.0.RELEASE\\JavaApp\\src\\main\\webapp\\WEB-INF\\lib</p>\n<p>and delete the jars from there!</p>\n<p>Hooray they're gone. Doesnt look like we need an IDE neither.</p>\n<p>Also you can try to view files in Package Explorer instead of Project Explorer...</p>\n<p>Windows -&gt; Show View  -&gt; Package Explorer</p>\n"}],"owner":{"account_id":2522766,"reputation":3910,"user_id":2192791,"accept_rate":82,"display_name":"AllieCat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16920,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":17280822,"answer_count":5,"score":12,"last_activity_date":1681459713,"creation_date":1372092436,"question_id":17280728,"body_markdown":"How can I remove the jars in my Web App Library?\r\n\r\nI manually added a couple jars to the web app library. \r\nMy program is now pitching a fit so I clearly need to remove them. \r\n\r\nHowever, when I go to the Build Path, the &quot;Remove&quot; is greyed out. \r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/L3Gz9.png","title":"Can&#39;t remove jar from Web App Library","body":"<p>How can I remove the jars in my Web App Library?</p>\n\n<p>I manually added a couple jars to the web app library. \nMy program is now pitching a fit so I clearly need to remove them. </p>\n\n<p>However, when I go to the Build Path, the \"Remove\" is greyed out. \n<img src=\"https://i.stack.imgur.com/L3Gz9.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","postgresql","jdbc","postgresql-14","jdbc-postgres"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1681459988,"post_id":76012848,"comment_id":134062964,"body_markdown":"Try to disable [server side prepared statements](https://jdbc.postgresql.org/documentation/server-prepare/#server-prepared-statements)  by setting prepareThreshold  to 0","body":"Try to disable <a href=\"https://jdbc.postgresql.org/documentation/server-prepare/#server-prepared-statements\" rel=\"nofollow noreferrer\">server side prepared statements</a>  by setting prepareThreshold  to 0"},{"owner":{"account_id":28301981,"reputation":1,"user_id":21640538,"display_name":"Thttp"},"score":0,"creation_date":1681460853,"post_id":76012848,"comment_id":134063191,"body_markdown":"It works! Many thanks!\nI wonder that... \nAny project (using PreparedStatement) that also requires this setting prepareThreshold =0 (default prepareThreshold = 5)?\nAnd what different with setting plan_cache_mode = force_custom_plan?","body":"It works! Many thanks! I wonder that...  Any project (using PreparedStatement) that also requires this setting prepareThreshold =0 (default prepareThreshold = 5)? And what different with setting plan_cache_mode = force_custom_plan?"},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":2,"creation_date":1681461447,"post_id":76012848,"comment_id":134063329,"body_markdown":"Look [here](https://stackoverflow.com/questions/38188248/after-9-queries-to-database-the-time-to-perform-the-same-query-is-multiplied-by/38188817?r=SearchResults&amp;s=4%7C40.3890#38188817) for a detailed explanation.","body":"Look <a href=\"https://stackoverflow.com/questions/38188248/after-9-queries-to-database-the-time-to-perform-the-same-query-is-multiplied-by/38188817?r=SearchResults&amp;s=4%7C40.3890#38188817\">here</a> for a detailed explanation."}],"owner":{"account_id":28301981,"reputation":1,"user_id":21640538,"display_name":"Thttp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681459446,"creation_date":1681459446,"question_id":76012848,"body_markdown":"I upgraded JDBC from postgresql-9.2-1000.jar(PostgreSQL 9.2.1) to postgresql-42.5.0.jar(PostgreSQL 14.6) and strange thing happened.\r\nWith the same query, It takes slow after fourth, or ninth execution.\r\n(It doesn&#39;t happen with postgresql-9.2-1000.jar(PostgreSQL 9.2.1)) \r\n\r\nExample:\r\n```\r\npublic class JDBCExample3 {\r\n\tpublic static void main(String[] args) throws SQLException {\r\n\t\tConnection conn = DriverManager.getConnection(&quot;jdbc:postgresql://xxx.xxx.xxx.xxx:5432/testdb&quot;, &quot;user&quot;,\r\n\t\t\t\t&quot;password&quot;);\r\n\t\tString SQL = &quot;select ...&quot;;\r\n\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tPreparedStatement pstmt = conn.prepareStatement(SQL);\r\n\t\t\t//set parameters \r\n\t\t\tpstmt.setString(0, &quot;122344acbc&quot;);\r\n\t\t\t// ... \r\n\t\t\t\r\n\t\t\t// It&#39;s not slow with i from 0 to 8.\r\n\t\t\tResultSet rs = pstmt.executeQuery(); //When i = 9 (after ninth execution), It takes long time here.  slow!!!\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\t//get result\r\n\t\t\t\trs.getString(&quot;name&quot;);\r\n\t\t\t\t//...\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(&quot;loop:&quot; + i);\r\n\t\t\t\r\n\t\t\t//close\r\n\t\t\trs.close();\r\n\t\t\trs = null;\r\n\t\t\tpstmt.close();\r\n\t\t\tpstmt = null;\r\n\t\t}\r\n\t\tconn.close();\r\n\t\tSystem.out.println(&quot;end&quot;);\r\n\t}\r\n}\r\n```\r\nI&#39;m trying to fix it.\r\nWhat should I pay attention to about postgresql-42.5.0.jar(PostgreSQL 14.6) here?\r\n\r\n\r\nI expected the &quot;pstmt.executeQuery()&quot; took the same time with all execution.","title":"I upgraded JDBC driver to postgresql, strange thing happened","body":"<p>I upgraded JDBC from postgresql-9.2-1000.jar(PostgreSQL 9.2.1) to postgresql-42.5.0.jar(PostgreSQL 14.6) and strange thing happened.\nWith the same query, It takes slow after fourth, or ninth execution.\n(It doesn't happen with postgresql-9.2-1000.jar(PostgreSQL 9.2.1))</p>\n<p>Example:</p>\n<pre><code>public class JDBCExample3 {\n    public static void main(String[] args) throws SQLException {\n        Connection conn = DriverManager.getConnection(&quot;jdbc:postgresql://xxx.xxx.xxx.xxx:5432/testdb&quot;, &quot;user&quot;,\n                &quot;password&quot;);\n        String SQL = &quot;select ...&quot;;\n\n        for (int i = 0; i &lt; 10; i++) {\n            PreparedStatement pstmt = conn.prepareStatement(SQL);\n            //set parameters \n            pstmt.setString(0, &quot;122344acbc&quot;);\n            // ... \n            \n            // It's not slow with i from 0 to 8.\n            ResultSet rs = pstmt.executeQuery(); //When i = 9 (after ninth execution), It takes long time here.  slow!!!\n            while (rs.next()) {\n                //get result\n                rs.getString(&quot;name&quot;);\n                //...\n            }\n\n            System.out.println(&quot;loop:&quot; + i);\n            \n            //close\n            rs.close();\n            rs = null;\n            pstmt.close();\n            pstmt = null;\n        }\n        conn.close();\n        System.out.println(&quot;end&quot;);\n    }\n}\n</code></pre>\n<p>I'm trying to fix it.\nWhat should I pay attention to about postgresql-42.5.0.jar(PostgreSQL 14.6) here?</p>\n<p>I expected the &quot;pstmt.executeQuery()&quot; took the same time with all execution.</p>\n"},{"tags":["java","github"],"comments":[{"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"score":0,"creation_date":1507256437,"post_id":46597312,"comment_id":80147270,"body_markdown":"Simple: use an IDE.","body":"Simple: use an IDE."},{"owner":{"account_id":5211089,"reputation":2867,"user_id":4167500,"display_name":"JKostikiadis"},"score":1,"creation_date":1507256451,"post_id":46597312,"comment_id":80147274,"body_markdown":"Have a look here : https://stackoverflow.com/questions/9395207/how-to-include-jar-files-with-java-file-and-compile-in-command-prompt\nAnd of course start using an IDE ( Eclipse , Intelij etc ) it will increase your productivity and make your life easier ;)","body":"Have a look here : <a href=\"https://stackoverflow.com/questions/9395207/how-to-include-jar-files-with-java-file-and-compile-in-command-prompt\" title=\"how to include jar files with java file and compile in command prompt\">stackoverflow.com/questions/9395207/&hellip;</a> And of course start using an IDE ( Eclipse , Intelij etc ) it will increase your productivity and make your life easier ;)"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507256980,"post_id":46597312,"comment_id":80147390,"body_markdown":"@EdwinDalorzo Yes I have installed maven. I have got 3 jar files and a bunch of other files with it when I ran &quot;maven clean package&quot; So If I copy those jar files to lib folder i&#39;m done?","body":"@EdwinDalorzo Yes I have installed maven. I have got 3 jar files and a bunch of other files with it when I ran &quot;maven clean package&quot; So If I copy those jar files to lib folder i&#39;m done?"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257416,"post_id":46597312,"comment_id":80147490,"body_markdown":"@EdwinDalorzo Its very confusing :/ I ran &quot;maven clean package&quot; on the folder that I extracted from that zip file...Am I doing it wrong? Should I create my java program and then run the command on that ??","body":"@EdwinDalorzo Its very confusing :/ I ran &quot;maven clean package&quot; on the folder that I extracted from that zip file...Am I doing it wrong? Should I create my java program and then run the command on that ??"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1507260963,"post_id":46597312,"comment_id":80148198,"body_markdown":"@MrX: to use a jar with a maven project, add the jar as a dependency in your pom.xml. There is no lib folder. And notepad is about the worst editor ever.","body":"@MrX: to use a jar with a maven project, add the jar as a dependency in your pom.xml. There is no lib folder. And notepad is about the worst editor ever."},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507264744,"post_id":46597312,"comment_id":80148912,"body_markdown":"@NathanHughes I know as people stick to easy access ready baked 1 click codes through IDE&#39;s, I prefer notepad over them so I have to type everything I&#39;m doing and when I start to debug, Hell breaks loose when there&#39;s 500+ lines of code. But in the process I think like a machine. It definitely helps me as I&#39;m learning java myself.","body":"@NathanHughes I know as people stick to easy access ready baked 1 click codes through IDE&#39;s, I prefer notepad over them so I have to type everything I&#39;m doing and when I start to debug, Hell breaks loose when there&#39;s 500+ lines of code. But in the process I think like a machine. It definitely helps me as I&#39;m learning java myself."},{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":0,"creation_date":1507280387,"post_id":46597312,"comment_id":80155837,"body_markdown":"@MrX I think your approach is the right one. If you&#39;re relative new to Java, using an IDE is a good way to ensure that you _never_ really understand why you have the problems you face, and if you&#39;re ever faced with a problem your IDE can&#39;t solve, you&#39;ll be stuck. IDEs have their place, of course, but as learning tools they&#39;re terrible.","body":"@MrX I think your approach is the right one. If you&#39;re relative new to Java, using an IDE is a good way to ensure that you <i>never</i> really understand why you have the problems you face, and if you&#39;re ever faced with a problem your IDE can&#39;t solve, you&#39;ll be stuck. IDEs have their place, of course, but as learning tools they&#39;re terrible."},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507438550,"post_id":46597312,"comment_id":80205529,"body_markdown":"@KevinBoone Thanks man  :D","body":"@KevinBoone Thanks man  :D"}],"answers":[{"comments":[{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257083,"post_id":46597384,"comment_id":80147413,"body_markdown":"I have got 3 jar files and a bunch of other files with it when I ran &quot;maven clean package&quot; So If I copy those jar files to lib folder i&#39;m done?","body":"I have got 3 jar files and a bunch of other files with it when I ran &quot;maven clean package&quot; So If I copy those jar files to lib folder i&#39;m done?"},{"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"score":0,"creation_date":1507257229,"post_id":46597384,"comment_id":80147456,"body_markdown":"What is the &quot;lib folder&quot;?","body":"What is the &quot;lib folder&quot;?"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257527,"post_id":46597384,"comment_id":80147520,"body_markdown":"The library folder thats in the Jdk.","body":"The library folder thats in the Jdk."},{"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"score":0,"creation_date":1507257689,"post_id":46597384,"comment_id":80147553,"body_markdown":"Do not put files into the `JDK`&#39;s folders! What the others meant was probably a folder in your project, that `IDE`s and other tools usually create to hold your `JAR` files in a single place...","body":"Do not put files into the <code>JDK</code>&#39;s folders! What the others meant was probably a folder in your project, that <code>IDE</code>s and other tools usually create to hold your <code>JAR</code> files in a single place..."},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257916,"post_id":46597384,"comment_id":80147600,"body_markdown":"Oh!! I was thinking of putting them there. Is there a way without getting into the IDE&#39;s? I really wanna keep going with the command prompt until I&#39;m familiar with all the libraries, as IDE&#39;s mess it up by auto filling and making everything easy for me.","body":"Oh!! I was thinking of putting them there. Is there a way without getting into the IDE&#39;s? I really wanna keep going with the command prompt until I&#39;m familiar with all the libraries, as IDE&#39;s mess it up by auto filling and making everything easy for me."},{"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"score":0,"creation_date":1507289702,"post_id":46597384,"comment_id":80161193,"body_markdown":"I would use `ant` (or some other building tool) to make the compilation, packaging, etc process automated.","body":"I would use <code>ant</code> (or some other building tool) to make the compilation, packaging, etc process automated."}],"tags":[],"owner":{"account_id":6306175,"reputation":6201,"user_id":4899193,"display_name":"Usagi Miyamoto"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681459302,"creation_date":1507256815,"answer_id":46597384,"question_id":46597312,"body_markdown":"&gt; I read about -classpath but I&#39;ll have to set the path every time I have a new library?? (I&#39;m still confused)\r\n\r\nNo.  \r\n**You have to set it every time you run your program!**\r\n\r\nSo you either create a script to run your program, or set it thru the `MANIFEST.MF` file of your program&#39;s main `JAR`...\r\n\r\nSee:\r\n\r\n- [`java`/`javaw` arguments][1]\r\n- [Manifest files][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<blockquote>\n<p>I read about -classpath but I'll have to set the path every time I have a new library?? (I'm still confused)</p>\n</blockquote>\n<p>No.<br />\n<strong>You have to set it every time you run your program!</strong></p>\n<p>So you either create a script to run your program, or set it thru the <code>MANIFEST.MF</code> file of your program's main <code>JAR</code>...</p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/java.html\" rel=\"nofollow noreferrer\"><code>java</code>/<code>javaw</code> arguments</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">Manifest files</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507257697,"post_id":46597437,"comment_id":80147558,"body_markdown":"&quot;This impacts all the instances of command prompts opened further&quot; This is what I was concerned about. If I do this, will the way I run and compile all the programs change ?","body":"&quot;This impacts all the instances of command prompts opened further&quot; This is what I was concerned about. If I do this, will the way I run and compile all the programs change ?"},{"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"score":0,"creation_date":1507257806,"post_id":46597437,"comment_id":80147576,"body_markdown":"This CLASSPATH will be used by all the programs i.e impacted by javac and java commands when used in command line","body":"This CLASSPATH will be used by all the programs i.e impacted by javac and java commands when used in command line"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507258235,"post_id":46597437,"comment_id":80147660,"body_markdown":"&quot;To run it successfully you need to go back to directory  C:\\project and now run\nC:\\project&gt;java testing.Test&quot;\n\nThis I found here about classpath http://javarevisited.blogspot.com/2011/01/how-classpath-work-in-java.html#ixzz4ugzTNDNi\n\nSo I was thinking it would change the way i run programs and didnt wanna complicate things. I simply do &quot; java program.java&quot; and javac program.","body":"&quot;To run it successfully you need to go back to directory  C:\\project and now run C:\\project&gt;java testing.Test&quot;  This I found here about classpath <a href=\"http://javarevisited.blogspot.com/2011/01/how-classpath-work-in-java.html#ixzz4ugzTNDNi\" rel=\"nofollow noreferrer\">javarevisited.blogspot.com/2011/01/&hellip;</a>  So I was thinking it would change the way i run programs and didnt wanna complicate things. I simply do &quot; java program.java&quot; and javac program."},{"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"score":0,"creation_date":1507258422,"post_id":46597437,"comment_id":80147685,"body_markdown":"The . ( dot or period ) at the end of classpath specifies, current working directory and you can give your build output dir like C:\\Project replacing the . (dot)","body":"The . ( dot or period ) at the end of classpath specifies, current working directory and you can give your build output dir like C:\\Project replacing the . (dot)"},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507258770,"post_id":46597437,"comment_id":80147750,"body_markdown":"Hmmm I get it! Thanks for helping! :D I have to do more research on this now.","body":"Hmmm I get it! Thanks for helping! :D I have to do more research on this now."}],"tags":[],"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507257528,"creation_date":1507257327,"answer_id":46597437,"question_id":46597312,"body_markdown":"Set an Environment variable **`CLASSPATH`** in **`System Properties`**--&gt; **`Advanced`** --&gt; **`Environment Variables`**\r\n\r\nFor example if you have multiple jar files, copy them to a dir in **`C:\\LIBS\\`** and set classpath value as **`C:\\LIBS\\*;.`**\r\n\r\nIf you want for specific jar files only  set it as, **`C:\\LIBS\\jar1.jar;C:\\LIBS\\jar2.jar;.`**\r\n\r\nOpen new command prompt and it should work and is permanent\r\n\r\n**`NOTE` : This impacts all the instances of command prompts opened further**\r\n\r\n","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<p>Set an Environment variable <strong><code>CLASSPATH</code></strong> in <strong><code>System Properties</code></strong>--> <strong><code>Advanced</code></strong> --> <strong><code>Environment Variables</code></strong></p>\n\n<p>For example if you have multiple jar files, copy them to a dir in <strong><code>C:\\LIBS\\</code></strong> and set classpath value as <strong><code>C:\\LIBS\\*;.</code></strong></p>\n\n<p>If you want for specific jar files only  set it as, <strong><code>C:\\LIBS\\jar1.jar;C:\\LIBS\\jar2.jar;.</code></strong></p>\n\n<p>Open new command prompt and it should work and is permanent</p>\n\n<p><strong><code>NOTE</code> : This impacts all the instances of command prompts opened further</strong></p>\n"},{"comments":[{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507258619,"post_id":46597506,"comment_id":80147717,"body_markdown":"Thank you! You gave me a clear picture on the problem. I guess I&#39;ll have to take the long way if I am sticking to the command prompt.","body":"Thank you! You gave me a clear picture on the problem. I guess I&#39;ll have to take the long way if I am sticking to the command prompt."},{"owner":{"account_id":5505938,"reputation":803,"user_id":4373795,"display_name":"Alex"},"score":0,"creation_date":1507258845,"post_id":46597506,"comment_id":80147768,"body_markdown":"This is the standard way to run java applications. Even IDE is doing the same thing from behind. If you don&#39;t want to type so long for your compilation and execution, try using bat files.","body":"This is the standard way to run java applications. Even IDE is doing the same thing from behind. If you don&#39;t want to type so long for your compilation and execution, try using bat files."},{"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"score":0,"creation_date":1507438696,"post_id":46597506,"comment_id":80205554,"body_markdown":"@Edwin Dalorzo I&#39;m stuck bud. I compiled my one liner but I am unable to run the program with -cp. It gives me an error saying it cant find or load the class file.","body":"@Edwin Dalorzo I&#39;m stuck bud. I compiled my one liner but I am unable to run the program with -cp. It gives me an error saying it cant find or load the class file."}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1507260508,"creation_date":1507257854,"answer_id":46597506,"question_id":46597312,"body_markdown":"Suppose I have two Java libraries packaged as jar files: `foo.jar` and `bar.jar`\r\n\r\nThe `foo.jar` contains the class `Foo.class` and the `bar.jar` contains the class `Bar.class`.\r\n\r\nNow I am writing a piece of code in which I use both `Foo` and `Bar`.\r\n\r\n    package my.work;\r\n\r\n    public class TestDrive {\r\n       public static void main(String[] args) {\r\n          Foo foo = new Foo();\r\n          Bar bar = new Bar();\r\n          System.out.println(&quot;Hello, &quot; + foo + &quot; and &quot; + bar);\r\n       }\r\n    }\r\n\r\nIn order to compile `TestDrive.java` I need to know where both dependencies are located. Most likely I put them in my libs folder\r\n\r\n    +-project\r\n    |   +---src\r\n    |   |    +--TestDrive.java\r\n    |   +---libs\r\n    |   |    +--foo.jar\r\n    |   |    +--bar.jar\r\n    |   +---build\r\n    |   |    + my\r\n    |   |    |   +-- work \r\n    |   |    |   |    +--TestDrive.class //once I compile it with javac\r\n \r\n\r\nThen I would need to do something like\r\n\r\n    javac -classpath libs/foo.jar:libs/bar.jar -d build -sourcepath src src/TestDrive.java\r\n\r\nSo, to answer your question, yes, you need to put all your libraries in the classpath.\r\n\r\nThere are, of course, other ways to do this.","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<p>Suppose I have two Java libraries packaged as jar files: <code>foo.jar</code> and <code>bar.jar</code></p>\n\n<p>The <code>foo.jar</code> contains the class <code>Foo.class</code> and the <code>bar.jar</code> contains the class <code>Bar.class</code>.</p>\n\n<p>Now I am writing a piece of code in which I use both <code>Foo</code> and <code>Bar</code>.</p>\n\n<pre><code>package my.work;\n\npublic class TestDrive {\n   public static void main(String[] args) {\n      Foo foo = new Foo();\n      Bar bar = new Bar();\n      System.out.println(\"Hello, \" + foo + \" and \" + bar);\n   }\n}\n</code></pre>\n\n<p>In order to compile <code>TestDrive.java</code> I need to know where both dependencies are located. Most likely I put them in my libs folder</p>\n\n<pre><code>+-project\n|   +---src\n|   |    +--TestDrive.java\n|   +---libs\n|   |    +--foo.jar\n|   |    +--bar.jar\n|   +---build\n|   |    + my\n|   |    |   +-- work \n|   |    |   |    +--TestDrive.class //once I compile it with javac\n</code></pre>\n\n<p>Then I would need to do something like</p>\n\n<pre><code>javac -classpath libs/foo.jar:libs/bar.jar -d build -sourcepath src src/TestDrive.java\n</code></pre>\n\n<p>So, to answer your question, yes, you need to put all your libraries in the classpath.</p>\n\n<p>There are, of course, other ways to do this.</p>\n"}],"owner":{"account_id":11605214,"reputation":28,"user_id":8501167,"display_name":"CodeBloodedProgrammer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":46597506,"answer_count":3,"score":0,"last_activity_date":1681459302,"creation_date":1507256150,"question_id":46597312,"body_markdown":"So I am not familiar with adding new libraries to java. I downloaded a library from GitHub and I got a zip file.\r\n\r\nI have extracted the contents but I&#39;m lost. I dont know where and how I should add this library.\r\n\r\nI dont use any IDE. I use the command prompt on windows 8. I use notepad to type my code\r\n\r\nI have done my research for the last 2 hours but all of them are for some IDE and the ones that I found other than those didnt help.\r\n\r\nI read about -classpath but I&#39;ll have to set the path every time I have a new library?? (I&#39;m still confused)\r\n\r\nPlease tell me how to add this library. Thank you!\r\n","title":"How do I add a library to java? I dont use any IDE, I use only the command prompt","body":"<p>So I am not familiar with adding new libraries to java. I downloaded a library from GitHub and I got a zip file.</p>\n\n<p>I have extracted the contents but I'm lost. I dont know where and how I should add this library.</p>\n\n<p>I dont use any IDE. I use the command prompt on windows 8. I use notepad to type my code</p>\n\n<p>I have done my research for the last 2 hours but all of them are for some IDE and the ones that I found other than those didnt help.</p>\n\n<p>I read about -classpath but I'll have to set the path every time I have a new library?? (I'm still confused)</p>\n\n<p>Please tell me how to add this library. Thank you!</p>\n"},{"tags":["java","string","math"],"comments":[{"owner":{"account_id":83902,"reputation":17582,"user_id":234922,"accept_rate":91,"display_name":"fasseg"},"score":10,"creation_date":1293625264,"post_id":3422673,"comment_id":51208358,"body_markdown":"I recently wrote a math expression parser called exp4j that was released under the apache license\nyou can check it out here: http://www.objecthunter.net/exp4j/","body":"I recently wrote a math expression parser called exp4j that was released under the apache license you can check it out here: <a href=\"http://www.objecthunter.net/exp4j/\" rel=\"nofollow noreferrer\">objecthunter.net/exp4j</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1418217630,"post_id":3422673,"comment_id":43248847,"body_markdown":"What kinds of expressions do you permit? Only single operator expressions? Are parentheses permitted?","body":"What kinds of expressions do you permit? Only single operator expressions? Are parentheses permitted?"},{"owner":{"account_id":252480,"reputation":7492,"user_id":530549,"display_name":"Ritesh"},"score":4,"creation_date":1453390407,"post_id":3422673,"comment_id":57589039,"body_markdown":"Also take a look at [Dijkstra&#39;s two-stack algorithm](http://algs4.cs.princeton.edu/13stacks/Evaluate.java.html)","body":"Also take a look at <a href=\"http://algs4.cs.princeton.edu/13stacks/Evaluate.java.html\" rel=\"nofollow noreferrer\">Dijkstra&#39;s two-stack algorithm</a>"},{"owner":{"account_id":7424117,"reputation":56335,"user_id":5647260,"accept_rate":82,"display_name":"Andrew Li"},"score":1,"creation_date":1474413868,"post_id":3422673,"comment_id":66518755,"body_markdown":"Possible duplicate of [Is there an eval() function in Java?](http://stackoverflow.com/questions/2605032/is-there-an-eval-function-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/2605032/is-there-an-eval-function-in-java\">Is there an eval() function in Java?</a>"},{"owner":{"account_id":2164481,"reputation":2245,"user_id":1917867,"accept_rate":62,"display_name":"Nagendra Varma"},"score":1,"creation_date":1501398050,"post_id":3422673,"comment_id":77755153,"body_markdown":"@fasseg, the library is pretty awesome, but, it seems like it only deals with numerical expressions, please correct me if I&#39;m wrong. I have a requirement where I need to check the equality of strings in an expression, can you please suggest!","body":"@fasseg, the library is pretty awesome, but, it seems like it only deals with numerical expressions, please correct me if I&#39;m wrong. I have a requirement where I need to check the equality of strings in an expression, can you please suggest!"},{"owner":{"account_id":8578,"reputation":5445,"user_id":15527,"display_name":"Martin Spamer"},"score":3,"creation_date":1539423823,"post_id":3422673,"comment_id":92503877,"body_markdown":"How can this possible be considered too broad?  Dijkstra&#39;s evaluation is the obvious solution here  https://en.wikipedia.org/wiki/Shunting-yard_algorithm","body":"How can this possible be considered too broad?  Dijkstra&#39;s evaluation is the obvious solution here  <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Shunting-yard_algorithm</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1571725368,"post_id":3422673,"comment_id":103325324,"body_markdown":"Since java 9 there is JShell JShell shell = JShell.create(); shell.eval(&quot;...&quot;)","body":"Since java 9 there is JShell JShell shell = JShell.create(); shell.eval(&quot;...&quot;)"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1466049153,"post_id":3422797,"comment_id":63158259,"body_markdown":"It gets a whole lot more complicated as soon as you have to deal with multiple operations, operator precedence, parentheses, ... in fact anything that characterizes a real arithmetic expression. You cannot get there starting from this technique.","body":"It gets a whole lot more complicated as soon as you have to deal with multiple operations, operator precedence, parentheses, ... in fact anything that characterizes a real arithmetic expression. You cannot get there starting from this technique."}],"tags":[],"owner":{"account_id":173570,"reputation":191,"user_id":402346,"display_name":"BruteForce"},"comment_count":1,"down_vote_count":4,"up_vote_count":8,"is_accepted":false,"score":4,"last_activity_date":1281089572,"creation_date":1281089572,"answer_id":3422797,"question_id":3422673,"body_markdown":"I think what ever way you do this it&#39;s going to involve a lot of conditional statements. But for single operations like in your examples you could limit it to 4 if statements with something like \r\n\r\n    String math = &quot;1+4&quot;;\r\n    \r\n    if (math.split(&quot;+&quot;).length == 2) {\r\n    \t//do calculation\r\n    } else if (math.split(&quot;-&quot;).length == 2) {\r\n    \t//do calculation\r\n    } ...\r\n\r\nIt gets a whole lot more complicated when you want to deal with multiple operations like &quot;4+5*6&quot;.\r\n\r\nIf you are trying to build a calculator then I&#39;d surgest passing each section of the calculation separatly (each number or operator) rather than as a single string.","title":"How to evaluate a math expression given in string form?","body":"<p>I think what ever way you do this it's going to involve a lot of conditional statements. But for single operations like in your examples you could limit it to 4 if statements with something like </p>\n\n<pre><code>String math = \"1+4\";\n\nif (math.split(\"+\").length == 2) {\n    //do calculation\n} else if (math.split(\"-\").length == 2) {\n    //do calculation\n} ...\n</code></pre>\n\n<p>It gets a whole lot more complicated when you want to deal with multiple operations like \"4+5*6\".</p>\n\n<p>If you are trying to build a calculator then I'd surgest passing each section of the calculation separatly (each number or operator) rather than as a single string.</p>\n"},{"tags":[],"owner":{"account_id":680,"reputation":960785,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"comment_count":0,"down_vote_count":2,"up_vote_count":38,"is_accepted":false,"score":36,"last_activity_date":1281089717,"creation_date":1281089717,"answer_id":3422825,"question_id":3422673,"body_markdown":"The correct way to solve this is with a [lexer](http://en.wikipedia.org/wiki/Lexical_analysis) and a [parser](http://en.wikipedia.org/wiki/Parser). You can write simple versions of these yourself, or those pages also have links to Java lexers and parsers.\r\n\r\nCreating a recursive descent parser is a really good learning exercise.","title":"How to evaluate a math expression given in string form?","body":"<p>The correct way to solve this is with a <a href=\"http://en.wikipedia.org/wiki/Lexical_analysis\" rel=\"noreferrer\">lexer</a> and a <a href=\"http://en.wikipedia.org/wiki/Parser\" rel=\"noreferrer\">parser</a>. You can write simple versions of these yourself, or those pages also have links to Java lexers and parsers.</p>\n\n<p>Creating a recursive descent parser is a really good learning exercise.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1281091044,"creation_date":1281091044,"answer_id":3422956,"question_id":3422673,"body_markdown":"It seems like &lt;a href=&quot;http://sourceforge.net/projects/jep/&quot;&gt;JEP&lt;/a&gt; should do the job","title":"How to evaluate a math expression given in string form?","body":"<p>It seems like <a href=\"http://sourceforge.net/projects/jep/\" rel=\"noreferrer\">JEP</a> should do the job</p>\n"},{"comments":[{"owner":{"account_id":968918,"reputation":1272,"user_id":991850,"accept_rate":57,"display_name":"Jean-Marc Astesana"},"score":61,"creation_date":1346243639,"post_id":3423360,"comment_id":16301912,"body_markdown":"It seems there&#39;s a major problem there;  \nIt executes a script, not evaluates an expression.  \nTo be clear, engine.eval(&quot;8;40+2&quot;), outputs 42 !  \nIf you want an expression parser that also check the syntax, I&#39;ve just finished one (because I found nothing that suits my needs) : [Javaluator](http://javaluator.sourceforge.net).","body":"It seems there&#39;s a major problem there;   It executes a script, not evaluates an expression.   To be clear, engine.eval(&quot;8;40+2&quot;), outputs 42 !   If you want an expression parser that also check the syntax, I&#39;ve just finished one (because I found nothing that suits my needs) : <a href=\"http://javaluator.sourceforge.net\" rel=\"nofollow noreferrer\">Javaluator</a>."},{"owner":{"account_id":1208017,"reputation":5759,"user_id":1177139,"accept_rate":75,"display_name":"Ben Visness"},"score":4,"creation_date":1396478682,"post_id":3423360,"comment_id":34812032,"body_markdown":"As a side note, if you need to use the result of this expression elsewhere in your code, you can typecast the result to a Double like so:\n\n`return (Double) engine.eval(foo);`","body":"As a side note, if you need to use the result of this expression elsewhere in your code, you can typecast the result to a Double like so:  <code>return (Double) engine.eval(foo);</code>"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":57,"creation_date":1442833718,"post_id":3423360,"comment_id":53230406,"body_markdown":"Security note: You should never use this in a server context with user input. The executed JavaScript can access all Java classes and thus hijack your application without limit.","body":"Security note: You should never use this in a server context with user input. The executed JavaScript can access all Java classes and thus hijack your application without limit."},{"owner":{"account_id":5058446,"reputation":1111,"user_id":4060898,"accept_rate":66,"display_name":"partho"},"score":1,"creation_date":1451914965,"post_id":3423360,"comment_id":56929985,"body_markdown":"what&#39;s the meaning of `getEngineByName(&quot;JavaScript&quot;)` here?","body":"what&#39;s the meaning of <code>getEngineByName(&quot;JavaScript&quot;)</code> here?"},{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":1,"creation_date":1451945331,"post_id":3423360,"comment_id":56947142,"body_markdown":"@partho, getEngineByName() is used to look up and creates a ScriptEngine for a given name (ex.  js, rhino, JavaScript, javascript, ECMAScript, ecmascript).  See https://docs.oracle.com/javase/7/docs/api/javax/script/ScriptEngineManager.html","body":"@partho, getEngineByName() is used to look up and creates a ScriptEngine for a given name (ex.  js, rhino, JavaScript, javascript, ECMAScript, ecmascript).  See <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/script/ScriptEngineManager.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/script/&hellip;</a>"},{"owner":{"account_id":5058446,"reputation":1111,"user_id":4060898,"accept_rate":66,"display_name":"partho"},"score":5,"creation_date":1456578223,"post_id":3423360,"comment_id":59019268,"body_markdown":"@Boann, I request you to give me a reference about what you said.(to be sure 100%)","body":"@Boann, I request you to give me a reference about what you said.(to be sure 100%)"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":31,"creation_date":1456580273,"post_id":3423360,"comment_id":59019953,"body_markdown":"@partho `new javax.script.ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;) .eval(&quot;var f = new java.io.FileWriter(&#39;hello.txt&#39;); f.write(&#39;UNLIMITED POWER!&#39;); f.close();&quot;);` -- will write a file via JavaScript into (by default) the program&#39;s current directory","body":"@partho <code>new javax.script.ScriptEngineManager().getEngineByName(&quot;JavaScri&zwnj;&#8203;pt&quot;) .eval(&quot;var f = new java.io.FileWriter(&#39;hello.txt&#39;); f.write(&#39;UNLIMITED POWER!&#39;); f.close();&quot;);</code> -- will write a file via JavaScript into (by default) the program&#39;s current directory"},{"owner":{"account_id":83369,"reputation":15900,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":3,"creation_date":1458659981,"post_id":3423360,"comment_id":59953971,"body_markdown":"Also be aware of floating-point math.\n\n0.1+0.2 will evaluate to 0.30000000000000004","body":"Also be aware of floating-point math.  0.1+0.2 will evaluate to 0.30000000000000004"},{"owner":{"account_id":4708205,"reputation":193,"user_id":3809625,"display_name":"php_coder_3809625"},"score":4,"creation_date":1462005655,"post_id":3423360,"comment_id":61463415,"body_markdown":"Just note this is 100% open to denial-of-service if the string input isn&#39;t filtered. Like if `exit();` was passed it will exit in java.","body":"Just note this is 100% open to denial-of-service if the string input isn&#39;t filtered. Like if <code>exit();</code> was passed it will exit in java."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1468801420,"post_id":3423360,"comment_id":64260942,"body_markdown":"@ChristianKuetbach That&#39;s a property of floating-point, not of executing scripts.","body":"@ChristianKuetbach That&#39;s a property of floating-point, not of executing scripts."},{"owner":{"account_id":83369,"reputation":15900,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":2,"creation_date":1468843494,"post_id":3423360,"comment_id":64277913,"body_markdown":"@EJP: Thats true. But a lot of people are not aware, that JavaScript is floating-point only. I think, using JjavaScript for calculations is a bad idea.","body":"@EJP: Thats true. But a lot of people are not aware, that JavaScript is floating-point only. I think, using JjavaScript for calculations is a bad idea."},{"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"score":1,"creation_date":1483522970,"post_id":3423360,"comment_id":70126767,"body_markdown":"In case of divide by zero it dosen`t throw exception and because it uses java script engine it results &quot;infinity&quot;","body":"In case of divide by zero it dosen`t throw exception and because it uses java script engine it results &quot;infinity&quot;"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":1,"creation_date":1506892318,"post_id":3423360,"comment_id":79988045,"body_markdown":"@Jean-MarcAstesana how do you pass square root operations? Also, I passed `4^13` and it returned `6.7108864E7` :/","body":"@Jean-MarcAstesana how do you pass square root operations? Also, I passed <code>4^13</code> and it returned <code>6.7108864E7</code> :/"},{"owner":{"account_id":968918,"reputation":1272,"user_id":991850,"accept_rate":57,"display_name":"Jean-Marc Astesana"},"score":2,"creation_date":1506962665,"post_id":3423360,"comment_id":80014442,"body_markdown":"@CardinalSystem I do not understand what the problem is? 4^13 is equals to 6.7108864E7 ... or java method Math.pow is buggy. The squareroot of x is x^0.5. Feel free to extend javaluator for your own needs if needed, there&#39;s a tutorial on javaluator&#39;s site.","body":"@CardinalSystem I do not understand what the problem is? 4^13 is equals to 6.7108864E7 ... or java method Math.pow is buggy. The squareroot of x is x^0.5. Feel free to extend javaluator for your own needs if needed, there&#39;s a tutorial on javaluator&#39;s site."},{"owner":{"account_id":1343823,"reputation":403,"user_id":1284942,"display_name":"JorgeGarza"},"score":3,"creation_date":1539999195,"post_id":3423360,"comment_id":92715273,"body_markdown":"You can create a RegEx to evaluate an expression with Math chars only, like `Pattern mathExpressionPattern = Pattern.compile( &quot;[0-9,.\\\\(\\\\)\\\\/\\\\-\\\\+\\\\*\\\\^]+&quot; )`","body":"You can create a RegEx to evaluate an expression with Math chars only, like <code>Pattern mathExpressionPattern = Pattern.compile( &quot;[0-9,.\\\\(\\\\)\\\\&#47;\\\\-\\\\+\\\\*\\\\^]+&quot; )</code>"},{"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"score":1,"creation_date":1594756814,"post_id":3423360,"comment_id":111237075,"body_markdown":"Be aware, it will not work in the case of left zeros, `&quot;024 + 862&quot;` will produce `882`, not `886`","body":"Be aware, it will not work in the case of left zeros, <code>&quot;024 + 862&quot;</code> will produce <code>882</code>, not <code>886</code>"},{"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"score":2,"creation_date":1594773204,"post_id":3423360,"comment_id":111242130,"body_markdown":"@ahmednabil88 , it&#39;s because in javascript &quot;0&quot; + number is an octal number, so 024 is interpreted as 20 in decimal in the expression &quot;024 + 862&quot;","body":"@ahmednabil88 , it&#39;s because in javascript &quot;0&quot; + number is an octal number, so 024 is interpreted as 20 in decimal in the expression &quot;024 + 862&quot;"},{"owner":{"account_id":3613332,"reputation":280,"user_id":3013831,"accept_rate":100,"display_name":"pmdci"},"score":2,"creation_date":1633948581,"post_id":3423360,"comment_id":122887510,"body_markdown":"Nashorn (used in this solution) is being deprecated. I wouldn&#39;t recommend this solution for new code.","body":"Nashorn (used in this solution) is being deprecated. I wouldn&#39;t recommend this solution for new code."},{"owner":{"account_id":1545491,"reputation":2535,"user_id":1439122,"accept_rate":45,"display_name":"RRM"},"score":0,"creation_date":1642698040,"post_id":3423360,"comment_id":125146495,"body_markdown":"https://stackoverflow.com/questions/70781378/consistent-evaluation-and-match-the-fractional-values","body":"<a href=\"https://stackoverflow.com/questions/70781378/consistent-evaluation-and-match-the-fractional-values\" title=\"consistent evaluation and match the fractional values\">stackoverflow.com/questions/70781378/&hellip;</a>"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1642919305,"post_id":3423360,"comment_id":125198328,"body_markdown":"@JorgeGarza Be very careful with this type of thing. It is possible to execute arbitrarily powerful JavaScript with [quite limited characters](https://github.com/aemkei/jsfuck). I believe your example is safe because it doesn&#39;t allow `[` and `]`, but still it makes me uncomfortable to see user input passed to a full script engine.","body":"@JorgeGarza Be very careful with this type of thing. It is possible to execute arbitrarily powerful JavaScript with <a href=\"https://github.com/aemkei/jsfuck\" rel=\"nofollow noreferrer\">quite limited characters</a>. I believe your example is safe because it doesn&#39;t allow <code>[</code> and <code>]</code>, but still it makes me uncomfortable to see user input passed to a full script engine."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1675142675,"post_id":3423360,"comment_id":132859893,"body_markdown":"Java 8: Cannot invoke &quot;javax.script.ScriptEngine.eval(String)&quot; because &quot;engine&quot; is null","body":"Java 8: Cannot invoke &quot;javax.script.ScriptEngine.eval(String)&quot; because &quot;engine&quot; is null"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1680971528,"post_id":3423360,"comment_id":133985780,"body_markdown":"Note that this is kind of the &quot;how do I drive to the bank?&quot; / &quot;have someone else drive you&quot; version of an answer though, in that it doesn&#39;t explain anything about how to actually write the code to do this. If you turn this in as homework, it&#39;s a fail because you didn&#39;t do the exercise, and if you try to land this in a real project, it&#39;ll most certainly get shot down as you filing a joke PR/MR instead of adding an expression parser to the code base. It&#39;s useful to know eval exists, but it&#39;s a bit odd that this is the accepted answer =)","body":"Note that this is kind of the &quot;how do I drive to the bank?&quot; / &quot;have someone else drive you&quot; version of an answer though, in that it doesn&#39;t explain anything about how to actually write the code to do this. If you turn this in as homework, it&#39;s a fail because you didn&#39;t do the exercise, and if you try to land this in a real project, it&#39;ll most certainly get shot down as you filing a joke PR/MR instead of adding an expression parser to the code base. It&#39;s useful to know eval exists, but it&#39;s a bit odd that this is the accepted answer =)"}],"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"comment_count":22,"down_vote_count":17,"up_vote_count":433,"is_accepted":true,"score":416,"last_activity_date":1491577445,"creation_date":1281094528,"answer_id":3423360,"question_id":3422673,"body_markdown":"With JDK1.6, you can use the built-in Javascript engine.\r\n\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptException;\r\n    \r\n    public class Test {\r\n      public static void main(String[] args) throws ScriptException {\r\n        ScriptEngineManager mgr = new ScriptEngineManager();\r\n        ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n        String foo = &quot;40+2&quot;;\r\n        System.out.println(engine.eval(foo));\r\n        } \r\n    }","title":"How to evaluate a math expression given in string form?","body":"<p>With JDK1.6, you can use the built-in Javascript engine.</p>\n\n<pre><code>import javax.script.ScriptEngineManager;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptException;\n\npublic class Test {\n  public static void main(String[] args) throws ScriptException {\n    ScriptEngineManager mgr = new ScriptEngineManager();\n    ScriptEngine engine = mgr.getEngineByName(\"JavaScript\");\n    String foo = \"40+2\";\n    System.out.println(engine.eval(foo));\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1251040,"reputation":99,"user_id":1211444,"display_name":"stone"},"comment_count":0,"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1589883242,"creation_date":1329312908,"answer_id":9294395,"question_id":3422673,"body_markdown":"    import java.util.*;\r\n    \r\n    public class check { \r\n       int ans;\r\n       String str=&quot;7 + 5&quot;;\r\n       StringTokenizer st=new StringTokenizer(str);\r\n    \r\n       int v1=Integer.parseInt(st.nextToken());\r\n       String op=st.nextToken();\r\n       int v2=Integer.parseInt(st.nextToken());\r\n    \r\n       if(op.equals(&quot;+&quot;)) { ans= v1 + v2; }\r\n       if(op.equals(&quot;-&quot;)) { ans= v1 - v2; }\r\n       //.........\r\n    }","title":"How to evaluate a math expression given in string form?","body":"<pre><code>import java.util.*;\n\npublic class check { \n   int ans;\n   String str=\"7 + 5\";\n   StringTokenizer st=new StringTokenizer(str);\n\n   int v1=Integer.parseInt(st.nextToken());\n   String op=st.nextToken();\n   int v2=Integer.parseInt(st.nextToken());\n\n   if(op.equals(\"+\")) { ans= v1 + v2; }\n   if(op.equals(\"-\")) { ans= v1 - v2; }\n   //.........\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10258,"reputation":26470,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":4,"creation_date":1476201192,"post_id":11300763,"comment_id":67241463,"body_markdown":"Please summarize the information from the article, in case the link to it is broken.","body":"Please summarize the information from the article, in case the link to it is broken."},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1553096264,"post_id":11300763,"comment_id":97260686,"body_markdown":"I&#39;ve upgraded the answer to include relevant bits from the article","body":"I&#39;ve upgraded the answer to include relevant bits from the article"},{"owner":{"account_id":73395,"reputation":10664,"user_id":211369,"display_name":"Nishi"},"score":2,"creation_date":1583331281,"post_id":11300763,"comment_id":107079876,"body_markdown":"in practice, JEXL is slow (uses introspection of beans), has performance issues with multithreading (global cache)","body":"in practice, JEXL is slow (uses introspection of beans), has performance issues with multithreading (global cache)"},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1583341517,"post_id":11300763,"comment_id":107086036,"body_markdown":"Good to know @Nishi ! - My use case was for debugging things in live environments, but not part of the normal deployed app.","body":"Good to know @Nishi ! - My use case was for debugging things in live environments, but not part of the normal deployed app."}],"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":4,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1553084986,"creation_date":1341261163,"answer_id":11300763,"question_id":3422673,"body_markdown":"[This article][1] discusses various approaches. Here are the 2 key approaches mentioned in the article:\n\n### [JEXL from Apache][2] \nAllows for scripts that include references to java objects.\n\n    // Create or retrieve a JexlEngine\n    JexlEngine jexl = new JexlEngine();\n    // Create an expression object\n    String jexlExp = &quot;foo.innerFoo.bar()&quot;;\n    Expression e = jexl.createExpression( jexlExp );\n     \n    // Create a context and add data\n    JexlContext jctx = new MapContext();\n    jctx.set(&quot;foo&quot;, new Foo() );\n     \n    // Now evaluate the expression, getting the result\n    Object o = e.evaluate(jctx);\n\n### Use the javascript engine embedded in the JDK:\n\n    private static void jsEvalWithVariable()\n    {\n        List&lt;String&gt; namesList = new ArrayList&lt;String&gt;();\n        namesList.add(&quot;Jill&quot;);\n        namesList.add(&quot;Bob&quot;);\n        namesList.add(&quot;Laureen&quot;);\n        namesList.add(&quot;Ed&quot;);\n     \n        ScriptEngineManager mgr = new ScriptEngineManager();\n        ScriptEngine jsEngine = mgr.getEngineByName(&quot;JavaScript&quot;);\n     \n        jsEngine.put(&quot;namesListKey&quot;, namesList);\n        System.out.println(&quot;Executing in script environment...&quot;);\n        try\n        {\n          jsEngine.eval(&quot;var x;&quot; +\n                        &quot;var names = namesListKey.toArray();&quot; +\n                        &quot;for(x in names) {&quot; +\n                        &quot;  println(names[x]);&quot; +\n                        &quot;}&quot; +\n                        &quot;namesListKey.add(\\&quot;Dana\\&quot;);&quot;);\n        }\n        catch (ScriptException ex)\n        {\n            ex.printStackTrace();\n        }\n    }\n\n  [1]: http://www.beyondlinux.com/2011/08/07/3-method-to-evaluate-expressions/\n  [2]: http://commons.apache.org/proper/commons-jexl/\n\n\n","title":"How to evaluate a math expression given in string form?","body":"<p><a href=\"http://www.beyondlinux.com/2011/08/07/3-method-to-evaluate-expressions/\" rel=\"noreferrer\">This article</a> discusses various approaches. Here are the 2 key approaches mentioned in the article:</p>\n<h3><a href=\"http://commons.apache.org/proper/commons-jexl/\" rel=\"noreferrer\">JEXL from Apache</a></h3>\n<p>Allows for scripts that include references to java objects.</p>\n<pre><code>// Create or retrieve a JexlEngine\nJexlEngine jexl = new JexlEngine();\n// Create an expression object\nString jexlExp = &quot;foo.innerFoo.bar()&quot;;\nExpression e = jexl.createExpression( jexlExp );\n \n// Create a context and add data\nJexlContext jctx = new MapContext();\njctx.set(&quot;foo&quot;, new Foo() );\n \n// Now evaluate the expression, getting the result\nObject o = e.evaluate(jctx);\n</code></pre>\n<h3>Use the javascript engine embedded in the JDK:</h3>\n<pre><code>private static void jsEvalWithVariable()\n{\n    List&lt;String&gt; namesList = new ArrayList&lt;String&gt;();\n    namesList.add(&quot;Jill&quot;);\n    namesList.add(&quot;Bob&quot;);\n    namesList.add(&quot;Laureen&quot;);\n    namesList.add(&quot;Ed&quot;);\n \n    ScriptEngineManager mgr = new ScriptEngineManager();\n    ScriptEngine jsEngine = mgr.getEngineByName(&quot;JavaScript&quot;);\n \n    jsEngine.put(&quot;namesListKey&quot;, namesList);\n    System.out.println(&quot;Executing in script environment...&quot;);\n    try\n    {\n      jsEngine.eval(&quot;var x;&quot; +\n                    &quot;var names = namesListKey.toArray();&quot; +\n                    &quot;for(x in names) {&quot; +\n                    &quot;  println(names[x]);&quot; +\n                    &quot;}&quot; +\n                    &quot;namesListKey.add(\\&quot;Dana\\&quot;);&quot;);\n    }\n    catch (ScriptException ex)\n    {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6765562,"reputation":345,"user_id":5210680,"accept_rate":44,"display_name":"Hanni"},"score":1,"creation_date":1454802948,"post_id":12847635,"comment_id":58209736,"body_markdown":"Can you please tell me how to use  BeanShell in adnroid Studio.","body":"Can you please tell me how to use  BeanShell in adnroid Studio."},{"owner":{"account_id":456369,"reputation":518,"user_id":855107,"display_name":"marciowerner"},"score":1,"creation_date":1454905421,"post_id":12847635,"comment_id":58236518,"body_markdown":"Hanni - this post might help you adding BeanShell to your androidstudio project: \nhttp://stackoverflow.com/questions/18520875/adding-external-jar-to-androidstudio-project","body":"Hanni - this post might help you adding BeanShell to your androidstudio project:  <a href=\"http://stackoverflow.com/questions/18520875/adding-external-jar-to-androidstudio-project\" title=\"adding external jar to androidstudio project\">stackoverflow.com/questions/18520875/&hellip;</a>"}],"tags":[],"owner":{"account_id":456369,"reputation":518,"user_id":855107,"display_name":"marciowerner"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1349985972,"creation_date":1349985972,"answer_id":12847635,"question_id":3422673,"body_markdown":"You can also try the [BeanShell][1] interpreter:\r\n\r\n    Interpreter interpreter = new Interpreter();\r\n    interpreter.eval(&quot;result = (7+21*6)/(32-27)&quot;);\r\n    System.out.println(interpreter.get(&quot;result&quot;));\r\n\r\n\r\n  [1]: http://www.beanshell.org","title":"How to evaluate a math expression given in string form?","body":"<p>You can also try the <a href=\"http://www.beanshell.org\" rel=\"noreferrer\">BeanShell</a> interpreter:</p>\n\n<pre><code>Interpreter interpreter = new Interpreter();\ninterpreter.eval(\"result = (7+21*6)/(32-27)\");\nSystem.out.println(interpreter.get(\"result\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1362100,"reputation":635,"user_id":1299267,"display_name":"Daniel Nuriyev"},"score":9,"creation_date":1398362635,"post_id":12942355,"comment_id":35625089,"body_markdown":"You should read about writing efficient math expression parsers. There is a computer science methodology to it. Take a look at ANTLR, for example. If you think well about what you wrote you&#39;ll see that things like (a+b/-c)*(e/f) will not work with your idea or the code will be super duper dirty and inefficient.","body":"You should read about writing efficient math expression parsers. There is a computer science methodology to it. Take a look at ANTLR, for example. If you think well about what you wrote you&#39;ll see that things like (a+b/-c)*(e/f) will not work with your idea or the code will be super duper dirty and inefficient."}],"tags":[],"owner":{"account_id":1864901,"reputation":113,"user_id":1688710,"display_name":"konxie"},"comment_count":1,"down_vote_count":11,"up_vote_count":13,"is_accepted":false,"score":2,"last_activity_date":1350504398,"creation_date":1350503968,"answer_id":12942355,"question_id":3422673,"body_markdown":"How about something like this:\r\n\r\n    String st = &quot;10+3&quot;;\r\n    int result;\r\n    for(int i=0;i&lt;st.length();i++)\r\n    {\r\n      if(st.charAt(i)==&#39;+&#39;)\r\n      {\r\n        result=Integer.parseInt(st.substring(0, i))+Integer.parseInt(st.substring(i+1, st.length()));\r\n        System.out.print(result);\r\n      }\t\t\t\r\n    }\r\n\r\nand do the similar thing for every other mathematical operator accordingly .. ","title":"How to evaluate a math expression given in string form?","body":"<p>How about something like this:</p>\n\n<pre><code>String st = \"10+3\";\nint result;\nfor(int i=0;i&lt;st.length();i++)\n{\n  if(st.charAt(i)=='+')\n  {\n    result=Integer.parseInt(st.substring(0, i))+Integer.parseInt(st.substring(i+1, st.length()));\n    System.out.print(result);\n  }         \n}\n</code></pre>\n\n<p>and do the similar thing for every other mathematical operator accordingly .. </p>\n"},{"comments":[{"owner":{"account_id":3214080,"reputation":1402,"user_id":2713336,"accept_rate":56,"display_name":"paarth batra"},"score":0,"creation_date":1524730178,"post_id":18603659,"comment_id":87091994,"body_markdown":"This is ok , but fails when we try to multiply values of multiples of 5 or 10 , for example 65 * 6 results in 3.9E+2 ...","body":"This is ok , but fails when we try to multiply values of multiples of 5 or 10 , for example 65 * 6 results in 3.9E+2 ..."},{"owner":{"account_id":3214080,"reputation":1402,"user_id":2713336,"accept_rate":56,"display_name":"paarth batra"},"score":0,"creation_date":1524742306,"post_id":18603659,"comment_id":87099566,"body_markdown":".But there is a way to fix this by casting it to int  i.e.  int output = (int) 65*6  it will result now 390","body":".But there is a way to fix this by casting it to int  i.e.  int output = (int) 65*6  it will result now 390"},{"owner":{"account_id":2925701,"reputation":525,"user_id":2507054,"accept_rate":100,"display_name":"DavidBittner"},"score":1,"creation_date":1528300366,"post_id":18603659,"comment_id":88457627,"body_markdown":"To clarify, that is not a problem of the library but rather an issue with the representation of numbers as floating point values.","body":"To clarify, that is not a problem of the library but rather an issue with the representation of numbers as floating point values."},{"owner":{"account_id":933189,"reputation":1589,"user_id":962638,"accept_rate":100,"display_name":"einUsername"},"score":0,"creation_date":1583515989,"post_id":18603659,"comment_id":107156227,"body_markdown":"This library is really good. @paarth batra Casting to int will remove all decimal points. Use this instead: expression.eval().toPlainString();","body":"This library is really good. @paarth batra Casting to int will remove all decimal points. Use this instead: expression.eval().toPlainString();"}],"tags":[],"owner":{"account_id":2289270,"reputation":562,"user_id":2012594,"accept_rate":86,"display_name":"Tanvir"},"comment_count":4,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1378255287,"creation_date":1378255287,"answer_id":18603659,"question_id":3422673,"body_markdown":"[HERE][1] is another open source library on GitHub named EvalEx.\r\n\r\nUnlike the JavaScript engine this library is focused in evaluating mathematical expressions only. Moreover, the library is extensible and supports use of boolean operators as well as parentheses.\r\n\r\n  [1]: https://github.com/uklimaschewski/EvalEx","title":"How to evaluate a math expression given in string form?","body":"<p><a href=\"https://github.com/uklimaschewski/EvalEx\" rel=\"noreferrer\">HERE</a> is another open source library on GitHub named EvalEx.</p>\n\n<p>Unlike the JavaScript engine this library is focused in evaluating mathematical expressions only. Moreover, the library is extensible and supports use of boolean operators as well as parentheses.</p>\n"},{"tags":[],"owner":{"account_id":422974,"reputation":806,"user_id":802061,"accept_rate":62,"display_name":"Faheem Sohail"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1645649503,"creation_date":1393422920,"answer_id":22043501,"question_id":3422673,"body_markdown":"Another way is to use the [Spring Expression Language or SpEL][1] which does a whole lot more along with evaluating mathematical expressions, therefore maybe slightly overkill. You do not have to be using Spring framework to use this expression library as it is stand-alone. Copying examples from SpEL&#39;s documentation: \r\n\r\n    \r\n    ExpressionParser parser = new SpelExpressionParser();\r\n    int two = parser.parseExpression(&quot;1 + 1&quot;).getValue(Integer.class); // 2 \r\n    double twentyFour = parser.parseExpression(&quot;2.0 * 3e0 * 4&quot;).getValue(Double.class); //24.0\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions","title":"How to evaluate a math expression given in string form?","body":"<p>Another way is to use the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">Spring Expression Language or SpEL</a> which does a whole lot more along with evaluating mathematical expressions, therefore maybe slightly overkill. You do not have to be using Spring framework to use this expression library as it is stand-alone. Copying examples from SpEL's documentation:</p>\n<pre><code>ExpressionParser parser = new SpelExpressionParser();\nint two = parser.parseExpression(&quot;1 + 1&quot;).getValue(Integer.class); // 2 \ndouble twentyFour = parser.parseExpression(&quot;2.0 * 3e0 * 4&quot;).getValue(Double.class); //24.0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7102984,"reputation":656,"user_id":5433744,"display_name":"Vasile Bors"},"score":4,"creation_date":1469290630,"post_id":26227947,"comment_id":64479474,"body_markdown":"Nice algorithm, starting from it I managed to impliment and logical operators.\nWe created separate classes for functions to evaluate a function, so like your idea of variables, I create a map with functions and looking after the function name. Every function implements an interface with a method eval (T rightOperator , T leftOperator), so anytime we can add features without changing the algorithm code.\nAnd it is a good idea to make it work with generic types.\nThanks you!","body":"Nice algorithm, starting from it I managed to impliment and logical operators. We created separate classes for functions to evaluate a function, so like your idea of variables, I create a map with functions and looking after the function name. Every function implements an interface with a method eval (T rightOperator , T leftOperator), so anytime we can add features without changing the algorithm code. And it is a good idea to make it work with generic types. Thanks you!"},{"owner":{"account_id":4120148,"reputation":936,"user_id":3380744,"accept_rate":75,"display_name":"iYonatan"},"score":1,"creation_date":1469318780,"post_id":26227947,"comment_id":64486789,"body_markdown":"Can you explain the logic behind this algorithm?","body":"Can you explain the logic behind this algorithm?"},{"owner":{"account_id":7102984,"reputation":656,"user_id":5433744,"display_name":"Vasile Bors"},"score":1,"creation_date":1469372758,"post_id":26227947,"comment_id":64497707,"body_markdown":"I try to give a description of what I understand from the code written by Boann, and examples described wiki.The logic of this algoritm starting from rules of operation orders. \n1. operator sign | variable evaluation | function call | parenthesis (sub-expressions);\n2. exponentiation;\n3. multiplication, division;\n4. addition, subtraction;","body":"I try to give a description of what I understand from the code written by Boann, and examples described wiki.The logic of this algoritm starting from rules of operation orders.  1. operator sign | variable evaluation | function call | parenthesis (sub-expressions); 2. exponentiation; 3. multiplication, division; 4. addition, subtraction;"},{"owner":{"account_id":7102984,"reputation":656,"user_id":5433744,"display_name":"Vasile Bors"},"score":1,"creation_date":1469372970,"post_id":26227947,"comment_id":64497775,"body_markdown":"Algorithm methods are divided for each level of operations order as follows:\nparseFactor = 1.  operator sign | variable evaluation | function call | parenthesis (sub-expressions); 2. exponentiation;\nparseTerms = 3. multiplication, division;\nparseExpression = 4. addition, subtraction.\nThe algorithm, call methods in reverse order (parseExpression -&gt; parseTerms -&gt; parseFactor -&gt; parseExpression (for sub-expressions)), \nbut every method to the first line call the method to the next level, so the entire execution order methods will be actually normal order of operations.","body":"Algorithm methods are divided for each level of operations order as follows: parseFactor = 1.  operator sign | variable evaluation | function call | parenthesis (sub-expressions); 2. exponentiation; parseTerms = 3. multiplication, division; parseExpression = 4. addition, subtraction. The algorithm, call methods in reverse order (parseExpression -&gt; parseTerms -&gt; parseFactor -&gt; parseExpression (for sub-expressions)),  but every method to the first line call the method to the next level, so the entire execution order methods will be actually normal order of operations."},{"owner":{"account_id":7102984,"reputation":656,"user_id":5433744,"display_name":"Vasile Bors"},"score":1,"creation_date":1469373165,"post_id":26227947,"comment_id":64497848,"body_markdown":"For example the parseExpression method the  `double x = parseTerm();`  evaluate the left operator, after this `for (;;) {...}` evaluate succesive operations of actual order level (addition, subtraction). The same logic are and in parseTerm method.\nThe parseFactor does not have next level, so there are only evaluations of methods/ variables or in case of paranthesis - evaluate sub-expression.\n\nThe `boolean eat(int charToEat)` method check equality of the current cursor character with the charToEat character, if equal return true and move cursor to next character, I use name &#39;accept&#39; for it.","body":"For example the parseExpression method the  <code>double x = parseTerm();</code>  evaluate the left operator, after this <code>for (;;) {...}</code> evaluate succesive operations of actual order level (addition, subtraction). The same logic are and in parseTerm method. The parseFactor does not have next level, so there are only evaluations of methods/ variables or in case of paranthesis - evaluate sub-expression.  The <code>boolean eat(int charToEat)</code> method check equality of the current cursor character with the charToEat character, if equal return true and move cursor to next character, I use name &#39;accept&#39; for it."},{"owner":{"account_id":4120148,"reputation":936,"user_id":3380744,"accept_rate":75,"display_name":"iYonatan"},"score":1,"creation_date":1469709998,"post_id":26227947,"comment_id":64656552,"body_markdown":"How can I modify the method which will be able to do this:\n2(3+2) or (50+1)6 or 8(2)9","body":"How can I modify the method which will be able to do this: 2(3+2) or (50+1)6 or 8(2)9"},{"owner":{"account_id":6193854,"reputation":1602,"user_id":4825796,"display_name":"Hozeis"},"score":1,"creation_date":1480685766,"post_id":26227947,"comment_id":69077888,"body_markdown":"Im attempting to follow your steps on how to alter the algorithm to accept variables. I converted all the functions that return doubles to return expression, but i dont understand what and how `Expression exp = parse(&quot;x^2 - x + 2&quot;, variables);` should work since parse was never declared. Also in parseFactor i used `else if (variables.containsKey(func)){x = () -&gt; variables.get(func);}` to return my variable value but the code breaks recursion after the next numeric value. Any help is appreciated.","body":"Im attempting to follow your steps on how to alter the algorithm to accept variables. I converted all the functions that return doubles to return expression, but i dont understand what and how <code>Expression exp = parse(&quot;x^2 - x + 2&quot;, variables);</code> should work since parse was never declared. Also in parseFactor i used <code>else if (variables.containsKey(func)){x = () -&gt; variables.get(func);}</code> to return my variable value but the code breaks recursion after the next numeric value. Any help is appreciated."},{"owner":{"account_id":6193854,"reputation":1602,"user_id":4825796,"display_name":"Hozeis"},"score":1,"creation_date":1480951823,"post_id":26227947,"comment_id":69164781,"body_markdown":"I have asked a question referencing you answer - http://stackoverflow.com/q/40975678/4825796","body":"I have asked a question referencing you answer - <a href=\"http://stackoverflow.com/q/40975678/4825796\">stackoverflow.com/q/40975678/4825796</a>"},{"owner":{"account_id":356606,"reputation":4953,"user_id":696216,"accept_rate":71,"display_name":"janhink"},"score":2,"creation_date":1483535332,"post_id":26227947,"comment_id":70134715,"body_markdown":"Thank you for the snippet! Based on that I created a parser that can compare expressions with =, &lt;, &gt;, !=, etc. and can apply logical operators AND and OR too.","body":"Thank you for the snippet! Based on that I created a parser that can compare expressions with =, &lt;, &gt;, !=, etc. and can apply logical operators AND and OR too."},{"owner":{"account_id":3785835,"reputation":7291,"user_id":3143823,"accept_rate":98,"display_name":"tm1701"},"score":0,"creation_date":1553279173,"post_id":26227947,"comment_id":97339849,"body_markdown":"@Boann - thank you very much. I ported this code to Typescript.","body":"@Boann - thank you very much. I ported this code to Typescript."},{"owner":{"account_id":894435,"reputation":373,"user_id":964331,"accept_rate":86,"display_name":"Pedja"},"score":1,"creation_date":1581658316,"post_id":26227947,"comment_id":106517842,"body_markdown":"+1, but there is a problem with parentheses. Your parser allows expressions without closed parentheses , like : `(7-2*2 `. You should change line `eat(&#39;)&#39;);` .","body":"+1, but there is a problem with parentheses. Your parser allows expressions without closed parentheses , like : <code>(7-2*2 </code>. You should change line <code>eat(&#39;)&#39;);</code> ."},{"owner":{"account_id":508006,"reputation":8018,"user_id":1079869,"display_name":"Matias Kinnunen"},"score":1,"creation_date":1582352056,"post_id":26227947,"comment_id":106756201,"body_markdown":"@PeđaTerzić, good point. It can be fixed by changing `eat(&#39;)&#39;);` to `if (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing closing parenthesis&quot;);`","body":"@PeđaTerzić, good point. It can be fixed by changing <code>eat(&#39;)&#39;);</code> to <code>if (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing closing parenthesis&quot;);</code>"},{"owner":{"account_id":15323287,"reputation":95,"user_id":11055122,"display_name":"Skaldebane"},"score":1,"creation_date":1594852265,"post_id":26227947,"comment_id":111276053,"body_markdown":"Woah, this is the first time I know about `for(;;)`...","body":"Woah, this is the first time I know about <code>for(;;)</code>..."},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1634155048,"post_id":26227947,"comment_id":122952835,"body_markdown":"1. Can you help me with a similar kind of Mathematical Expression question&#160;stackoverflow.com/questions/6666169/…               &#160;. 2. @Boann The public domain does not have any code","body":"1. Can you help me with a similar kind of Mathematical Expression question stackoverflow.com/questions/6666169/…                . 2. @Boann The public domain does not have any code"},{"owner":{"account_id":1545491,"reputation":2535,"user_id":1439122,"accept_rate":45,"display_name":"RRM"},"score":0,"creation_date":1642699748,"post_id":26227947,"comment_id":125147186,"body_markdown":"`eval(&quot;12*0.0254&quot;)` evaluates incorrectly to `0.30479999999999996`","body":"<code>eval(&quot;12*0.0254&quot;)</code> evaluates incorrectly to <code>0.30479999999999996</code>"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1642701657,"post_id":26227947,"comment_id":125147942,"body_markdown":"@RRM Just normal binary floating-point arithmetic. You could change it to BigDecimal if needed.","body":"@RRM Just normal binary floating-point arithmetic. You could change it to BigDecimal if needed."},{"owner":{"account_id":1545491,"reputation":2535,"user_id":1439122,"accept_rate":45,"display_name":"RRM"},"score":0,"creation_date":1642710287,"post_id":26227947,"comment_id":125151214,"body_markdown":"@Boann I&#39;ve the String expressions as inputs. So, I must evaluate and have correct representation.","body":"@Boann I&#39;ve the String expressions as inputs. So, I must evaluate and have correct representation."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1642735497,"post_id":26227947,"comment_id":125156768,"body_markdown":"@RRM Yes, just change the evaluation type from double to BigDecimal or some type of fraction number class.","body":"@RRM Yes, just change the evaluation type from double to BigDecimal or some type of fraction number class."},{"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"score":0,"creation_date":1667221196,"post_id":26227947,"comment_id":131111899,"body_markdown":"@Boann if the expression contains signed number for example -1+7 in this extracting -1 is very complex. another example +10-89.Please help.Actually i used above parsing technique along with shunting yard algorithm to construct tree and evaluate..It works very well,i have wrote 69 test cases... but i am stuck in extracting signed number. Here is my entire working code,I have enjoyed developing this https://github.com/nagaraj200788/JavaExpressionEvaluator","body":"@Boann if the expression contains signed number for example -1+7 in this extracting -1 is very complex. another example +10-89.Please help.Actually i used above parsing technique along with shunting yard algorithm to construct tree and evaluate..It works very well,i have wrote 69 test cases... but i am stuck in extracting signed number. Here is my entire working code,I have enjoyed developing this <a href=\"https://github.com/nagaraj200788/JavaExpressionEvaluator\" rel=\"nofollow noreferrer\">github.com/nagaraj200788/JavaExpressionEvaluator</a>"},{"owner":{"account_id":3982461,"reputation":1341,"user_id":3284055,"display_name":"Serge Mask"},"score":0,"creation_date":1699873337,"post_id":26227947,"comment_id":136581265,"body_markdown":"Unfortunately it doesn&#39;t support double numbers like 1.9E-5","body":"Unfortunately it doesn&#39;t support double numbers like 1.9E-5"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1699887976,"post_id":26227947,"comment_id":136583961,"body_markdown":"@SergeMask It is very short and easy to modify.","body":"@SergeMask It is very short and easy to modify."}],"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"comment_count":21,"down_vote_count":0,"up_vote_count":317,"is_accepted":false,"score":317,"last_activity_date":1642955306,"creation_date":1412650992,"answer_id":26227947,"question_id":3422673,"body_markdown":"I&#39;ve written this `eval` method for arithmetic expressions to answer this question. It does addition, subtraction, multiplication, division, exponentiation (using the `^` symbol), and a few basic functions like `sqrt`. It supports grouping using `(`...`)`, and it gets the operator [precedence](https://en.wikipedia.org/wiki/Order_of_operations) and [associativity](https://en.wikipedia.org/wiki/Operator_associativity) rules correct.\r\n\r\n\tpublic static double eval(final String str) {\r\n\t\treturn new Object() {\r\n\t\t\tint pos = -1, ch;\r\n\t\t\t\r\n\t\t\tvoid nextChar() {\r\n\t\t\t\tch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tboolean eat(int charToEat) {\r\n\t\t\t\twhile (ch == &#39; &#39;) nextChar();\r\n\t\t\t\tif (ch == charToEat) {\r\n\t\t\t\t\tnextChar();\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdouble parse() {\r\n\t\t\t\tnextChar();\r\n\t\t\t\tdouble x = parseExpression();\r\n\t\t\t\tif (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Grammar:\r\n\t\t\t// expression = term | expression `+` term | expression `-` term\r\n\t\t\t// term = factor | term `*` factor | term `/` factor\r\n\t\t\t// factor = `+` factor | `-` factor | `(` expression `)` | number\r\n\t\t\t//        | functionName `(` expression `)` | functionName factor\r\n\t\t\t//        | factor `^` factor\r\n\t\t\t\r\n\t\t\tdouble parseExpression() {\r\n\t\t\t\tdouble x = parseTerm();\r\n\t\t\t\tfor (;;) {\r\n\t\t\t\t\tif      (eat(&#39;+&#39;)) x += parseTerm(); // addition\r\n\t\t\t\t\telse if (eat(&#39;-&#39;)) x -= parseTerm(); // subtraction\r\n\t\t\t\t\telse return x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdouble parseTerm() {\r\n\t\t\t\tdouble x = parseFactor();\r\n\t\t\t\tfor (;;) {\r\n\t\t\t\t\tif      (eat(&#39;*&#39;)) x *= parseFactor(); // multiplication\r\n\t\t\t\t\telse if (eat(&#39;/&#39;)) x /= parseFactor(); // division\r\n\t\t\t\t\telse return x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdouble parseFactor() {\r\n\t\t\t\tif (eat(&#39;+&#39;)) return +parseFactor(); // unary plus\r\n\t\t\t\tif (eat(&#39;-&#39;)) return -parseFactor(); // unary minus\r\n\t\t\t\t\r\n\t\t\t\tdouble x;\r\n\t\t\t\tint startPos = this.pos;\r\n\t\t\t\tif (eat(&#39;(&#39;)) { // parentheses\r\n\t\t\t\t\tx = parseExpression();\r\n\t\t\t\t\tif (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39;&quot;);\r\n\t\t\t\t} else if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) { // numbers\r\n\t\t\t\t\twhile ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) nextChar();\r\n\t\t\t\t\tx = Double.parseDouble(str.substring(startPos, this.pos));\r\n\t\t\t\t} else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) { // functions\r\n\t\t\t\t\twhile (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) nextChar();\r\n\t\t\t\t\tString func = str.substring(startPos, this.pos);\r\n\t\t\t\t\tif (eat(&#39;(&#39;)) {\r\n\t\t\t\t\t\tx = parseExpression();\r\n\t\t\t\t\t\tif (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39; after argument to &quot; + func);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tx = parseFactor();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (func.equals(&quot;sqrt&quot;)) x = Math.sqrt(x);\r\n\t\t\t\t\telse if (func.equals(&quot;sin&quot;)) x = Math.sin(Math.toRadians(x));\r\n\t\t\t\t\telse if (func.equals(&quot;cos&quot;)) x = Math.cos(Math.toRadians(x));\r\n\t\t\t\t\telse if (func.equals(&quot;tan&quot;)) x = Math.tan(Math.toRadians(x));\r\n\t\t\t\t\telse throw new RuntimeException(&quot;Unknown function: &quot; + func);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (eat(&#39;^&#39;)) x = Math.pow(x, parseFactor()); // exponentiation\r\n\t\t\t\t\r\n\t\t\t\treturn x;\r\n\t\t\t}\r\n\t\t}.parse();\r\n\t}\r\n\r\nExample:\r\n\r\n\tSystem.out.println(eval(&quot;((4 - 2^3 + 1) * -sqrt(3*3+4*4)) / 2&quot;));\r\n\r\nOutput: 7.5 [(which is correct)](https://www.wolframalpha.com/input/?i=%28%284%20-%202%5E3%20%2B%201%29%20*%20-sqrt%283*3%2B4*4%29%29%20%2F%202)\r\n\r\n----\r\n\r\nThe parser is a [recursive descent parser](https://en.wikipedia.org/wiki/Recursive_descent_parser), so internally uses separate parse methods for each level of operator precedence in its grammar. I deliberately kept it **short**, but here are some ideas you might want to expand it with:\r\n\r\n* **Variables:**\r\n\t\r\n\tThe bit of the parser that reads the names for functions can easily be changed to handle custom variables too, by looking up names in a variable table passed to the `eval` method, such as a `Map&lt;String,Double&gt; variables`.\r\n\r\n* **Separate compilation and evaluation:**\r\n\t\r\n\tWhat if, having added support for variables, you wanted to evaluate the same expression millions of times with changed variables, without parsing it every time? It&#39;s possible. First define an interface to use to evaluate the precompiled expression:\r\n\t\r\n\t\t@FunctionalInterface\r\n\t\tinterface Expression {\r\n\t\t\tdouble eval();\r\n\t\t}\r\n\t\r\n\tNow to rework the original &quot;eval&quot; function into a &quot;parse&quot; function, change all the methods that return `double`s, so instead they return an instance of that interface. Java 8&#39;s lambda syntax works well for this. Example of one of the changed methods:\r\n\t\r\n\t\tExpression parseExpression() {\r\n\t\t\tExpression x = parseTerm();\r\n\t\t\tfor (;;) {\r\n\t\t\t\tif (eat(&#39;+&#39;)) { // addition\r\n\t\t\t\t\tExpression a = x, b = parseTerm();\r\n\t\t\t\t\tx = (() -&gt; a.eval() + b.eval());\r\n\t\t\t\t} else if (eat(&#39;-&#39;)) { // subtraction\r\n\t\t\t\t\tExpression a = x, b = parseTerm();\r\n\t\t\t\t\tx = (() -&gt; a.eval() - b.eval());\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\tThat builds a recursive tree of `Expression` objects representing the compiled expression (an [abstract syntax tree](https://en.wikipedia.org/wiki/Abstract_syntax_tree)). Then you can compile it once and evaluate it repeatedly with different values:\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMap&lt;String,Double&gt; variables = new HashMap&lt;&gt;();\r\n\t\t\tExpression exp = parse(&quot;x^2 - x + 2&quot;, variables);\r\n\t\t\tfor (double x = -20; x &lt;= +20; x++) {\r\n\t\t\t\tvariables.put(&quot;x&quot;, x);\r\n\t\t\t\tSystem.out.println(x + &quot; =&gt; &quot; + exp.eval());\r\n\t\t\t}\r\n\t\t}\r\n\r\n* **Different datatypes:**\r\n\t\r\n\tInstead of `double`, you could change the evaluator to use something more powerful like `BigDecimal`, or a class that implements complex numbers, or rational numbers (fractions). You could even use `Object`, allowing some mix of datatypes in expressions, just like a real programming language. :)\r\n\r\n----\r\n&lt;sub&gt;All code in this answer released [to the public domain](https://creativecommons.org/publicdomain/zero/1.0/). Have fun!&lt;/sub&gt;","title":"How to evaluate a math expression given in string form?","body":"<p>I've written this <code>eval</code> method for arithmetic expressions to answer this question. It does addition, subtraction, multiplication, division, exponentiation (using the <code>^</code> symbol), and a few basic functions like <code>sqrt</code>. It supports grouping using <code>(</code>...<code>)</code>, and it gets the operator <a href=\"https://en.wikipedia.org/wiki/Order_of_operations\" rel=\"noreferrer\">precedence</a> and <a href=\"https://en.wikipedia.org/wiki/Operator_associativity\" rel=\"noreferrer\">associativity</a> rules correct.</p>\n<pre><code>public static double eval(final String str) {\n    return new Object() {\n        int pos = -1, ch;\n        \n        void nextChar() {\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\n        }\n        \n        boolean eat(int charToEat) {\n            while (ch == ' ') nextChar();\n            if (ch == charToEat) {\n                nextChar();\n                return true;\n            }\n            return false;\n        }\n        \n        double parse() {\n            nextChar();\n            double x = parseExpression();\n            if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            return x;\n        }\n        \n        // Grammar:\n        // expression = term | expression `+` term | expression `-` term\n        // term = factor | term `*` factor | term `/` factor\n        // factor = `+` factor | `-` factor | `(` expression `)` | number\n        //        | functionName `(` expression `)` | functionName factor\n        //        | factor `^` factor\n        \n        double parseExpression() {\n            double x = parseTerm();\n            for (;;) {\n                if      (eat('+')) x += parseTerm(); // addition\n                else if (eat('-')) x -= parseTerm(); // subtraction\n                else return x;\n            }\n        }\n        \n        double parseTerm() {\n            double x = parseFactor();\n            for (;;) {\n                if      (eat('*')) x *= parseFactor(); // multiplication\n                else if (eat('/')) x /= parseFactor(); // division\n                else return x;\n            }\n        }\n        \n        double parseFactor() {\n            if (eat('+')) return +parseFactor(); // unary plus\n            if (eat('-')) return -parseFactor(); // unary minus\n            \n            double x;\n            int startPos = this.pos;\n            if (eat('(')) { // parentheses\n                x = parseExpression();\n                if (!eat(')')) throw new RuntimeException(&quot;Missing ')'&quot;);\n            } else if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') { // numbers\n                while ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') nextChar();\n                x = Double.parseDouble(str.substring(startPos, this.pos));\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') { // functions\n                while (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') nextChar();\n                String func = str.substring(startPos, this.pos);\n                if (eat('(')) {\n                    x = parseExpression();\n                    if (!eat(')')) throw new RuntimeException(&quot;Missing ')' after argument to &quot; + func);\n                } else {\n                    x = parseFactor();\n                }\n                if (func.equals(&quot;sqrt&quot;)) x = Math.sqrt(x);\n                else if (func.equals(&quot;sin&quot;)) x = Math.sin(Math.toRadians(x));\n                else if (func.equals(&quot;cos&quot;)) x = Math.cos(Math.toRadians(x));\n                else if (func.equals(&quot;tan&quot;)) x = Math.tan(Math.toRadians(x));\n                else throw new RuntimeException(&quot;Unknown function: &quot; + func);\n            } else {\n                throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            }\n            \n            if (eat('^')) x = Math.pow(x, parseFactor()); // exponentiation\n            \n            return x;\n        }\n    }.parse();\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>System.out.println(eval(&quot;((4 - 2^3 + 1) * -sqrt(3*3+4*4)) / 2&quot;));\n</code></pre>\n<p>Output: 7.5 <a href=\"https://www.wolframalpha.com/input/?i=%28%284%20-%202%5E3%20%2B%201%29%20*%20-sqrt%283*3%2B4*4%29%29%20%2F%202\" rel=\"noreferrer\">(which is correct)</a></p>\n<hr />\n<p>The parser is a <a href=\"https://en.wikipedia.org/wiki/Recursive_descent_parser\" rel=\"noreferrer\">recursive descent parser</a>, so internally uses separate parse methods for each level of operator precedence in its grammar. I deliberately kept it <strong>short</strong>, but here are some ideas you might want to expand it with:</p>\n<ul>\n<li><p><strong>Variables:</strong></p>\n<p>The bit of the parser that reads the names for functions can easily be changed to handle custom variables too, by looking up names in a variable table passed to the <code>eval</code> method, such as a <code>Map&lt;String,Double&gt; variables</code>.</p>\n</li>\n<li><p><strong>Separate compilation and evaluation:</strong></p>\n<p>What if, having added support for variables, you wanted to evaluate the same expression millions of times with changed variables, without parsing it every time? It's possible. First define an interface to use to evaluate the precompiled expression:</p>\n<pre><code>  @FunctionalInterface\n  interface Expression {\n      double eval();\n  }\n</code></pre>\n<p>Now to rework the original &quot;eval&quot; function into a &quot;parse&quot; function, change all the methods that return <code>double</code>s, so instead they return an instance of that interface. Java 8's lambda syntax works well for this. Example of one of the changed methods:</p>\n<pre><code>  Expression parseExpression() {\n      Expression x = parseTerm();\n      for (;;) {\n          if (eat('+')) { // addition\n              Expression a = x, b = parseTerm();\n              x = (() -&gt; a.eval() + b.eval());\n          } else if (eat('-')) { // subtraction\n              Expression a = x, b = parseTerm();\n              x = (() -&gt; a.eval() - b.eval());\n          } else {\n              return x;\n          }\n      }\n  }\n</code></pre>\n<p>That builds a recursive tree of <code>Expression</code> objects representing the compiled expression (an <a href=\"https://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"noreferrer\">abstract syntax tree</a>). Then you can compile it once and evaluate it repeatedly with different values:</p>\n<pre><code>  public static void main(String[] args) {\n      Map&lt;String,Double&gt; variables = new HashMap&lt;&gt;();\n      Expression exp = parse(&quot;x^2 - x + 2&quot;, variables);\n      for (double x = -20; x &lt;= +20; x++) {\n          variables.put(&quot;x&quot;, x);\n          System.out.println(x + &quot; =&gt; &quot; + exp.eval());\n      }\n  }\n</code></pre>\n</li>\n<li><p><strong>Different datatypes:</strong></p>\n<p>Instead of <code>double</code>, you could change the evaluator to use something more powerful like <code>BigDecimal</code>, or a class that implements complex numbers, or rational numbers (fractions). You could even use <code>Object</code>, allowing some mix of datatypes in expressions, just like a real programming language. :)</p>\n</li>\n</ul>\n<hr />\n<p><sub>All code in this answer released <a href=\"https://creativecommons.org/publicdomain/zero/1.0/\" rel=\"noreferrer\">to the public domain</a>. Have fun!</sub></p>\n"},{"tags":[],"owner":{"account_id":414094,"reputation":3948,"user_id":788109,"accept_rate":86,"display_name":"Scorpion"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1435728290,"creation_date":1420107655,"answer_id":27729905,"question_id":3422673,"body_markdown":"This is another interesting alternative \r\nhttps://github.com/Shy-Ta/expression-evaluator-demo\r\n\r\nThe usage is very simple and gets the job done, for example:\r\n\r\n      ExpressionsEvaluator evalExpr = ExpressionsFactory.create(&quot;2+3*4-6/2&quot;);  \r\n      assertEquals(BigDecimal.valueOf(11), evalExpr.eval()); ","title":"How to evaluate a math expression given in string form?","body":"<p>This is another interesting alternative \n<a href=\"https://github.com/Shy-Ta/expression-evaluator-demo\" rel=\"noreferrer\">https://github.com/Shy-Ta/expression-evaluator-demo</a></p>\n\n<p>The usage is very simple and gets the job done, for example:</p>\n\n<pre><code>  ExpressionsEvaluator evalExpr = ExpressionsFactory.create(\"2+3*4-6/2\");  \n  assertEquals(BigDecimal.valueOf(11), evalExpr.eval()); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1666418158,"post_id":31236301,"comment_id":130937055,"body_markdown":"that link is dead","body":"that link is dead"}],"tags":[],"owner":{"account_id":2005844,"reputation":2306,"user_id":1795776,"accept_rate":89,"display_name":"Emmanuel John"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678572209,"creation_date":1436141715,"answer_id":31236301,"question_id":3422673,"body_markdown":"It is possible to convert any expression string in infix notation to a postfix notation using [Djikstra&#39;s shunting-yard algorithm](https://en.wikipedia.org/wiki/Shunting-yard_algorithm). The result of the algorithm can then serve as input to the [postfix algorithm](https://en.wikipedia.org/wiki/Reverse_Polish_notation), which returns the result of the expression.","title":"How to evaluate a math expression given in string form?","body":"<p>It is possible to convert any expression string in infix notation to a postfix notation using <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">Djikstra's shunting-yard algorithm</a>. The result of the algorithm can then serve as input to the <a href=\"https://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow noreferrer\">postfix algorithm</a>, which returns the result of the expression.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1466049075,"post_id":32652277,"comment_id":63158251,"body_markdown":"This is an uncredited exposition of the [Dijkstra Shunting-yard algorithm](https://en.wikipedia.org/wiki/Shunting-yard_algorithm). Credit where credit is due.","body":"This is an uncredited exposition of the <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">Dijkstra Shunting-yard algorithm</a>. Credit where credit is due."}],"tags":[],"owner":{"account_id":6623450,"reputation":599,"user_id":5114375,"display_name":"Prashant Gautam"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1442579998,"creation_date":1442579998,"answer_id":32652277,"question_id":3422673,"body_markdown":"if we are going to implement it then we can can use the below algorithm :--\r\n\r\n1. While there are still tokens to be read in,\r\n\r\n   1.1 Get the next token.\r\n   1.2 If the token is:\r\n\r\n       1.2.1 A number: push it onto the value stack.\r\n\r\n       1.2.2 A variable: get its value, and push onto the value stack.\r\n\r\n       1.2.3 A left parenthesis: push it onto the operator stack.\r\n\r\n       1.2.4 A right parenthesis:\r\n\r\n         1 While the thing on top of the operator stack is not a \r\n           left parenthesis,\r\n             1 Pop the operator from the operator stack.\r\n             2 Pop the value stack twice, getting two operands.\r\n             3 Apply the operator to the operands, in the correct order.\r\n             4 Push the result onto the value stack.\r\n         2 Pop the left parenthesis from the operator stack, and discard it.\r\n\r\n       1.2.5 An operator (call it thisOp):\r\n\r\n         1 While the operator stack is not empty, and the top thing on the\r\n           operator stack has the same or greater precedence as thisOp,\r\n           1 Pop the operator from the operator stack.\r\n           2 Pop the value stack twice, getting two operands.\r\n           3 Apply the operator to the operands, in the correct order.\r\n           4 Push the result onto the value stack.\r\n         2 Push thisOp onto the operator stack.\r\n\r\n2. While the operator stack is not empty,\r\n    1 Pop the operator from the operator stack.\r\n    2 Pop the value stack twice, getting two operands.\r\n    3 Apply the operator to the operands, in the correct order.\r\n    4 Push the result onto the value stack.\r\n\r\n3. At this point the operator stack should be empty, and the value\r\n   stack should have only one value in it, which is the final result.","title":"How to evaluate a math expression given in string form?","body":"<p>if we are going to implement it then we can can use the below algorithm :--</p>\n\n<ol>\n<li><p>While there are still tokens to be read in,</p>\n\n<p>1.1 Get the next token.\n1.2 If the token is:</p>\n\n<p>1.2.1 A number: push it onto the value stack.</p>\n\n<p>1.2.2 A variable: get its value, and push onto the value stack.</p>\n\n<p>1.2.3 A left parenthesis: push it onto the operator stack.</p>\n\n<p>1.2.4 A right parenthesis:</p>\n\n<pre><code> 1 While the thing on top of the operator stack is not a \n   left parenthesis,\n     1 Pop the operator from the operator stack.\n     2 Pop the value stack twice, getting two operands.\n     3 Apply the operator to the operands, in the correct order.\n     4 Push the result onto the value stack.\n 2 Pop the left parenthesis from the operator stack, and discard it.\n</code></pre>\n\n<p>1.2.5 An operator (call it thisOp):</p>\n\n<pre><code> 1 While the operator stack is not empty, and the top thing on the\n   operator stack has the same or greater precedence as thisOp,\n   1 Pop the operator from the operator stack.\n   2 Pop the value stack twice, getting two operands.\n   3 Apply the operator to the operands, in the correct order.\n   4 Push the result onto the value stack.\n 2 Push thisOp onto the operator stack.\n</code></pre></li>\n<li><p>While the operator stack is not empty,\n1 Pop the operator from the operator stack.\n2 Pop the value stack twice, getting two operands.\n3 Apply the operator to the operands, in the correct order.\n4 Push the result onto the value stack.</p></li>\n<li><p>At this point the operator stack should be empty, and the value\nstack should have only one value in it, which is the final result.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1351214,"reputation":341,"user_id":1290768,"accept_rate":67,"display_name":"xWAV92OdD445CbzcZAEyunk2M06fJi"},"score":0,"creation_date":1555377983,"post_id":33214592,"comment_id":98080433,"body_markdown":"I scoured and found some additional Arithmetic functions also handled here https://github.com/mvel/mvel/blob/master/src/test/java/org/mvel2/tests/core/ArithmeticTests.java","body":"I scoured and found some additional Arithmetic functions also handled here <a href=\"https://github.com/mvel/mvel/blob/master/src/test/java/org/mvel2/tests/core/ArithmeticTests.java\" rel=\"nofollow noreferrer\">github.com/mvel/mvel/blob/master/src/test/java/org/mvel2/tes&zwnj;&#8203;ts/&hellip;</a>"},{"owner":{"account_id":181043,"reputation":8252,"user_id":414773,"accept_rate":46,"display_name":"nr.iras.sk"},"score":0,"creation_date":1576433275,"post_id":33214592,"comment_id":104889516,"body_markdown":"Awsome! It saved my day. Thanks","body":"Awsome! It saved my day. Thanks"}],"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1445258245,"creation_date":1445258245,"answer_id":33214592,"question_id":3422673,"body_markdown":"It&#39;s too late to answer but I came across same situation to evaluate expression in java, it might help someone\r\n\r\n`MVEL` does runtime evaluation of expressions, we can write a java code in `String` to get it evaluated in this.\r\n\r\n\t\tString expressionStr = &quot;x+y&quot;;\r\n\t\tMap&lt;String, Object&gt; vars = new HashMap&lt;String, Object&gt;();\r\n\t\tvars.put(&quot;x&quot;, 10);\r\n\t\tvars.put(&quot;y&quot;, 20);\r\n\t\tExecutableStatement statement = (ExecutableStatement) MVEL.compileExpression(expressionStr);\r\n\t\tObject result = MVEL.executeExpression(statement, vars);","title":"How to evaluate a math expression given in string form?","body":"<p>It's too late to answer but I came across same situation to evaluate expression in java, it might help someone</p>\n\n<p><code>MVEL</code> does runtime evaluation of expressions, we can write a java code in <code>String</code> to get it evaluated in this.</p>\n\n<pre><code>    String expressionStr = \"x+y\";\n    Map&lt;String, Object&gt; vars = new HashMap&lt;String, Object&gt;();\n    vars.put(\"x\", 10);\n    vars.put(\"y\", 20);\n    ExecutableStatement statement = (ExecutableStatement) MVEL.compileExpression(expressionStr);\n    Object result = MVEL.executeExpression(statement, vars);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2055569,"reputation":389,"user_id":1833420,"display_name":"Laurent Magnin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446126005,"creation_date":1446126005,"answer_id":33415860,"question_id":3422673,"body_markdown":"You might have a look at the [Symja framework][1]:\r\n\r\n    ExprEvaluator util = new ExprEvaluator(); \r\n    IExpr result = util.evaluate(&quot;10-40&quot;);\r\n    System.out.println(result.toString()); // -&gt; &quot;-30&quot; \r\n\r\nTake note that definitively more complex expressions can be evaluated:\r\n\r\n    // D(...) gives the derivative of the function Sin(x)*Cos(x)\r\n    IAST function = D(Times(Sin(x), Cos(x)), x);\r\n    IExpr result = util.evaluate(function);\r\n    // print: Cos(x)^2-Sin(x)^2\r\n\r\n  [1]: https://bitbucket.org/axelclk/symja_android_library/wiki/Home","title":"How to evaluate a math expression given in string form?","body":"<p>You might have a look at the <a href=\"https://bitbucket.org/axelclk/symja_android_library/wiki/Home\" rel=\"nofollow\">Symja framework</a>:</p>\n\n<pre><code>ExprEvaluator util = new ExprEvaluator(); \nIExpr result = util.evaluate(\"10-40\");\nSystem.out.println(result.toString()); // -&gt; \"-30\" \n</code></pre>\n\n<p>Take note that definitively more complex expressions can be evaluated:</p>\n\n<pre><code>// D(...) gives the derivative of the function Sin(x)*Cos(x)\nIAST function = D(Times(Sin(x), Cos(x)), x);\nIExpr result = util.evaluate(function);\n// print: Cos(x)^2-Sin(x)^2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5863504,"reputation":2732,"user_id":4618338,"display_name":"Trynkiewicz Mariusz"},"score":1,"creation_date":1549436401,"post_id":36366836,"comment_id":95896571,"body_markdown":"So far this is the best math library out there; simple to kickstart, easy to use and extendable. Definitely should be top answer.","body":"So far this is the best math library out there; simple to kickstart, easy to use and extendable. Definitely should be top answer."},{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":2,"creation_date":1552369000,"post_id":36366836,"comment_id":96971384,"body_markdown":"Find Maven version [here](https://mvnrepository.com/artifact/org.mariuszgromada.math/MathParser.org-mXparser).","body":"Find Maven version <a href=\"https://mvnrepository.com/artifact/org.mariuszgromada.math/MathParser.org-mXparser\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":11275280,"reputation":425,"user_id":8269493,"accept_rate":19,"display_name":"lulijun"},"score":1,"creation_date":1552545717,"post_id":36366836,"comment_id":97052233,"body_markdown":"I found mXparser can&#39;t identify illegal formula, for example, &#39;0/0&#39; will get a result as &#39;0&#39;. How can I solve this problem？","body":"I found mXparser can&#39;t identify illegal formula, for example, &#39;0/0&#39; will get a result as &#39;0&#39;. How can I solve this problem？"},{"owner":{"account_id":11275280,"reputation":425,"user_id":8269493,"accept_rate":19,"display_name":"lulijun"},"score":2,"creation_date":1552547225,"post_id":36366836,"comment_id":97052721,"body_markdown":"Just found the solution, expression.setSlientMode()","body":"Just found the solution, expression.setSlientMode()"},{"owner":{"account_id":8018332,"reputation":132,"user_id":6047804,"display_name":"Gamebuster19901"},"score":0,"creation_date":1666156424,"post_id":36366836,"comment_id":130865811,"body_markdown":"just a note: mXParser is no longer open source.","body":"just a note: mXParser is no longer open source."},{"owner":{"account_id":7948139,"reputation":1176,"user_id":5999910,"display_name":"Leroy Kegan"},"score":0,"creation_date":1666440498,"post_id":36366836,"comment_id":130940241,"body_markdown":"Thanks. I have read the license. mXparser is still open source, it has a dual license. For non-commercial and educational use, it is available as before. Source code is open.","body":"Thanks. I have read the license. mXparser is still open source, it has a dual license. For non-commercial and educational use, it is available as before. Source code is open."}],"tags":[],"owner":{"account_id":7948139,"reputation":1176,"user_id":5999910,"display_name":"Leroy Kegan"},"comment_count":6,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1639646062,"creation_date":1459550043,"answer_id":36366836,"question_id":3422673,"body_markdown":"For my university project, I was looking for a parser / evaluator supporting both basic formulas and more complicated equations (especially iterated operators). I found very nice open source library for JAVA and .NET called mXparser. I will give a few examples to make some feeling on the syntax, for further instructions please visit project website (especially tutorial section).\r\n\r\nhttps://mathparser.org/\r\n\r\nhttps://mathparser.org/mxparser-tutorial/\r\n\r\nhttps://mathparser.org/api/\r\n\r\nAnd few examples\r\n\r\n1 - Simple furmula\r\n\r\n    Expression e = new Expression(&quot;( 2 + 3/4 + sin(pi) )/2&quot;);\r\n    double v = e.calculate()\r\n\r\n2 - User defined arguments and constants\r\n\r\n    Argument x = new Argument(&quot;x = 10&quot;);\r\n    Constant a = new Constant(&quot;a = pi^2&quot;);\r\n    Expression e = new Expression(&quot;cos(a*x)&quot;, x, a);\r\n    double v = e.calculate()\r\n\r\n3 - User defined functions\r\n\r\n    Function f = new Function(&quot;f(x, y, z) = sin(x) + cos(y*z)&quot;);\r\n    Expression e = new Expression(&quot;f(3,2,5)&quot;, f);\r\n    double v = e.calculate()\r\n\r\n4 - Iteration\r\n\r\n    Expression e = new Expression(&quot;sum( i, 1, 100, sin(i) )&quot;);\r\n    double v = e.calculate()\r\n\r\n\r\nFound recently - in case you would like to try the syntax (and see the advanced use case) you can download the [Scalar][1] [Calculator][2] [app][3] that is powered by mXparser.\r\n\r\n\r\n  [1]: https://scalarmath.org\r\n  [2]: https://play.google.com/store/apps/details?id=org.mathparser.scalar.lite\r\n  [3]: https://play.google.com/store/apps/details?id=org.mathparser.scalar.pro","title":"How to evaluate a math expression given in string form?","body":"<p>For my university project, I was looking for a parser / evaluator supporting both basic formulas and more complicated equations (especially iterated operators). I found very nice open source library for JAVA and .NET called mXparser. I will give a few examples to make some feeling on the syntax, for further instructions please visit project website (especially tutorial section).</p>\n<p><a href=\"https://mathparser.org/\" rel=\"noreferrer\">https://mathparser.org/</a></p>\n<p><a href=\"https://mathparser.org/mxparser-tutorial/\" rel=\"noreferrer\">https://mathparser.org/mxparser-tutorial/</a></p>\n<p><a href=\"https://mathparser.org/api/\" rel=\"noreferrer\">https://mathparser.org/api/</a></p>\n<p>And few examples</p>\n<p>1 - Simple furmula</p>\n<pre><code>Expression e = new Expression(&quot;( 2 + 3/4 + sin(pi) )/2&quot;);\ndouble v = e.calculate()\n</code></pre>\n<p>2 - User defined arguments and constants</p>\n<pre><code>Argument x = new Argument(&quot;x = 10&quot;);\nConstant a = new Constant(&quot;a = pi^2&quot;);\nExpression e = new Expression(&quot;cos(a*x)&quot;, x, a);\ndouble v = e.calculate()\n</code></pre>\n<p>3 - User defined functions</p>\n<pre><code>Function f = new Function(&quot;f(x, y, z) = sin(x) + cos(y*z)&quot;);\nExpression e = new Expression(&quot;f(3,2,5)&quot;, f);\ndouble v = e.calculate()\n</code></pre>\n<p>4 - Iteration</p>\n<pre><code>Expression e = new Expression(&quot;sum( i, 1, 100, sin(i) )&quot;);\ndouble v = e.calculate()\n</code></pre>\n<p>Found recently - in case you would like to try the syntax (and see the advanced use case) you can download the <a href=\"https://scalarmath.org\" rel=\"noreferrer\">Scalar</a> <a href=\"https://play.google.com/store/apps/details?id=org.mathparser.scalar.lite\" rel=\"noreferrer\">Calculator</a> <a href=\"https://play.google.com/store/apps/details?id=org.mathparser.scalar.pro\" rel=\"noreferrer\">app</a> that is powered by mXparser.</p>\n"},{"tags":[],"owner":{"account_id":1495927,"reputation":18532,"user_id":1401879,"display_name":"Stefan Haustein"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460854830,"creation_date":1460854830,"answer_id":36671543,"question_id":3422673,"body_markdown":"Yet another option: https://github.com/stefanhaustein/expressionparser\r\n\r\nI have implemented this to have a simple but flexible option to permit both:\r\n\r\n- Immediate processing ([Calculator.java][1], [SetDemo.java][2])\r\n- Building and processing a parse tree ([TreeBuilder.java][3])\r\n\r\nThe TreeBuilder linked above is part of a [CAS demo package][4] that does symbolic derivation. There is also a [BASIC interpreter][5] example and I have started to build a [TypeScript interpreter][6] using it.\r\n\r\n\r\n  [1]: https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/calculator/Calculator.java\r\n  [2]: https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/sets/SetDemo.java\r\n  [3]: https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/cas/TreeBuilder.java\r\n  [4]: https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/cas\r\n  [5]: https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/basic\r\n  [6]: https://github.com/stefanhaustein/typo","title":"How to evaluate a math expression given in string form?","body":"<p>Yet another option: <a href=\"https://github.com/stefanhaustein/expressionparser\" rel=\"nofollow\">https://github.com/stefanhaustein/expressionparser</a></p>\n\n<p>I have implemented this to have a simple but flexible option to permit both:</p>\n\n<ul>\n<li>Immediate processing (<a href=\"https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/calculator/Calculator.java\" rel=\"nofollow\">Calculator.java</a>, <a href=\"https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/sets/SetDemo.java\" rel=\"nofollow\">SetDemo.java</a>)</li>\n<li>Building and processing a parse tree (<a href=\"https://github.com/stefanhaustein/expressionparser/blob/master/src/main/java/org/kobjects/expressionparser/demo/cas/TreeBuilder.java\" rel=\"nofollow\">TreeBuilder.java</a>)</li>\n</ul>\n\n<p>The TreeBuilder linked above is part of a <a href=\"https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/cas\" rel=\"nofollow\">CAS demo package</a> that does symbolic derivation. There is also a <a href=\"https://github.com/stefanhaustein/expressionparser/tree/master/src/main/java/org/kobjects/expressionparser/demo/basic\" rel=\"nofollow\">BASIC interpreter</a> example and I have started to build a <a href=\"https://github.com/stefanhaustein/typo\" rel=\"nofollow\">TypeScript interpreter</a> using it.</p>\n"},{"comments":[{"owner":{"account_id":105595,"reputation":904,"user_id":281681,"accept_rate":50,"display_name":"cyberz"},"score":10,"creation_date":1492977224,"post_id":36809774,"comment_id":74201729,"body_markdown":"Say hello to SQL injection!","body":"Say hello to SQL injection!"},{"owner":{"account_id":2278572,"reputation":1743,"user_id":2004265,"display_name":"DAB"},"score":0,"creation_date":1493046417,"post_id":36809774,"comment_id":74232860,"body_markdown":"It depends on what you use the DB for. If you want to be sure, you could easily create an empty sqlite DB, specifically for the the maths evaluation.","body":"It depends on what you use the DB for. If you want to be sure, you could easily create an empty sqlite DB, specifically for the the maths evaluation."},{"owner":{"account_id":2278572,"reputation":1743,"user_id":2004265,"display_name":"DAB"},"score":4,"creation_date":1493046564,"post_id":36809774,"comment_id":74232972,"body_markdown":"@cyberz If you use my example above, Sqlite will create a temporary DB in memory. See http://stackoverflow.com/questions/849679/temporary-in-memory-database-in-sqlite","body":"@cyberz If you use my example above, Sqlite will create a temporary DB in memory. See <a href=\"http://stackoverflow.com/questions/849679/temporary-in-memory-database-in-sqlite\" title=\"temporary in memory database in sqlite\">stackoverflow.com/questions/849679/&hellip;</a>"}],"tags":[],"owner":{"account_id":2278572,"reputation":1743,"user_id":2004265,"display_name":"DAB"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1481906677,"creation_date":1461408403,"answer_id":36809774,"question_id":3422673,"body_markdown":"You can evaluate expressions easily if your Java application already accesses a database, without using any other JARs.\r\n\r\nSome databases require you to use a dummy table (eg, Oracle&#39;s &quot;dual&quot; table) and others will allow you to evaluate expressions without &quot;selecting&quot; from any table.\r\n\r\nFor example, in Sql Server or Sqlite\r\n\r\n    select (((12.10 +12.0))/ 233.0) amount\r\n\r\nand in Oracle\r\n\r\n    select (((12.10 +12.0))/ 233.0) amount from dual;\r\n\r\nThe advantage of using a DB is that you can evaluate many expressions at the same time. Also most DB&#39;s will allow you to use highly complex expressions and   will also have a number of extra functions that can be called as necessary.  \r\n\r\nHowever performance may suffer if many single expressions need to be evaluated individually, particularly when the DB is located on a network server.\r\n \r\nThe following addresses the performance problem to some extent, by using a Sqlite in-memory database.    \r\n\r\nHere&#39;s a full working example in Java\r\n\r\n    Class. forName(&quot;org.sqlite.JDBC&quot;);\r\n    Connection conn = DriverManager.getConnection(&quot;jdbc:sqlite::memory:&quot;);\r\n    Statement stat = conn.createStatement();\r\n    ResultSet rs = stat.executeQuery( &quot;select (1+10)/20.0 amount&quot;);\r\n    rs.next();\r\n    System.out.println(rs.getBigDecimal(1));\r\n    stat.close();\r\n    conn.close();\r\n\r\nOf course you could extend the above code to handle multiple calculations at the same time.\r\n\r\n    ResultSet rs = stat.executeQuery( &quot;select (1+10)/20.0 amount, (1+100)/20.0 amount2&quot;);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to evaluate a math expression given in string form?","body":"<p>You can evaluate expressions easily if your Java application already accesses a database, without using any other JARs.</p>\n\n<p>Some databases require you to use a dummy table (eg, Oracle's \"dual\" table) and others will allow you to evaluate expressions without \"selecting\" from any table.</p>\n\n<p>For example, in Sql Server or Sqlite</p>\n\n<pre><code>select (((12.10 +12.0))/ 233.0) amount\n</code></pre>\n\n<p>and in Oracle</p>\n\n<pre><code>select (((12.10 +12.0))/ 233.0) amount from dual;\n</code></pre>\n\n<p>The advantage of using a DB is that you can evaluate many expressions at the same time. Also most DB's will allow you to use highly complex expressions and   will also have a number of extra functions that can be called as necessary.  </p>\n\n<p>However performance may suffer if many single expressions need to be evaluated individually, particularly when the DB is located on a network server.</p>\n\n<p>The following addresses the performance problem to some extent, by using a Sqlite in-memory database.    </p>\n\n<p>Here's a full working example in Java</p>\n\n<pre><code>Class. forName(\"org.sqlite.JDBC\");\nConnection conn = DriverManager.getConnection(\"jdbc:sqlite::memory:\");\nStatement stat = conn.createStatement();\nResultSet rs = stat.executeQuery( \"select (1+10)/20.0 amount\");\nrs.next();\nSystem.out.println(rs.getBigDecimal(1));\nstat.close();\nconn.close();\n</code></pre>\n\n<p>Of course you could extend the above code to handle multiple calculations at the same time.</p>\n\n<pre><code>ResultSet rs = stat.executeQuery( \"select (1+10)/20.0 amount, (1+100)/20.0 amount2\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1468801511,"post_id":37695001,"comment_id":64260955,"body_markdown":"Doesn&#39;t handle operator precedence, or several operators, or parentheses. Do not use.","body":"Doesn&#39;t handle operator precedence, or several operators, or parentheses. Do not use."},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1621788423,"post_id":37695001,"comment_id":119595779,"body_markdown":"Does it handle Parenthesis as well ,Can you modify the code to handle for Parenthesis and divide by zero as well.","body":"Does it handle Parenthesis as well ,Can you modify the code to handle for Parenthesis and divide by zero as well."},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1632589176,"post_id":37695001,"comment_id":122536165,"body_markdown":"@chejaras Does it handle Parenthesis as well ,Can you modify the code to handle for Parenthesis and divide by zero as well.","body":"@chejaras Does it handle Parenthesis as well ,Can you modify the code to handle for Parenthesis and divide by zero as well."}],"tags":[],"owner":{"account_id":1470382,"reputation":862,"user_id":1382102,"display_name":"chejaras"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1518682723,"creation_date":1465368032,"answer_id":37695001,"question_id":3422673,"body_markdown":"    package ExpressionCalculator.expressioncalculator;\r\n\r\n    import java.text.DecimalFormat;\r\n    import java.util.Scanner;\r\n\r\n    public class ExpressionCalculator {\r\n\t\r\n\tprivate static String addSpaces(String exp){\r\n\t\t\r\n\t\t//Add space padding to operands.\r\n\t\t//https://regex101.com/r/sJ9gM7/73\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[\\\\/]&quot;, &quot; / &quot;);\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[\\\\^]&quot;, &quot; ^ &quot;);\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[\\\\*]&quot;, &quot; * &quot;);\r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[+]&quot;, &quot; + &quot;); \r\n\t\texp = exp.replaceAll(&quot;(?&lt;=[0-9()])[-]&quot;, &quot; - &quot;);\r\n\r\n\t\t//Keep replacing double spaces with single spaces until your string is properly formatted\r\n\t\t/*while(exp.indexOf(&quot;  &quot;) != -1){\r\n\t\t\texp = exp.replace(&quot;  &quot;, &quot; &quot;);\r\n\t\t }*/\r\n\t\texp = exp.replaceAll(&quot; {2,}&quot;, &quot; &quot;);\r\n\t\t\r\n\t\t   return exp;\r\n\t}\r\n\t\r\n\tpublic static Double evaluate(String expr){\r\n\t\t\r\n\t\tDecimalFormat df = new DecimalFormat(&quot;#.####&quot;);\r\n\r\n\t\t//Format the expression properly before performing operations\r\n\t\tString expression = addSpaces(expr);\r\n\t\t\r\n\t    try {\r\n\t        //We will evaluate using rule BDMAS, i.e. brackets, division, power, multiplication, addition and\r\n\t        //subtraction will be processed in following order\r\n\t        int indexClose = expression.indexOf(&quot;)&quot;);\r\n\t        int indexOpen = -1;\r\n\t        if (indexClose != -1) {\r\n\t            String substring = expression.substring(0, indexClose);\r\n\t            indexOpen = substring.lastIndexOf(&quot;(&quot;);\r\n\t            substring = substring.substring(indexOpen + 1).trim();\r\n\t            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\r\n\t                Double result = evaluate(substring);\r\n\t                expression = expression.substring(0, indexOpen).trim() + &quot; &quot; + result + &quot; &quot; + expression.substring(indexClose + 1).trim();\r\n\t                return evaluate(expression.trim());\r\n\t            }\r\n\t        }\r\n\r\n\t        String operation = &quot;&quot;;\r\n\t        if(expression.indexOf(&quot; / &quot;) != -1){\r\n\t            operation = &quot;/&quot;;\r\n\t        }else if(expression.indexOf(&quot; ^ &quot;) != -1){\r\n\t        \toperation = &quot;^&quot;;\r\n\t        } else if(expression.indexOf(&quot; * &quot;) != -1){\r\n\t            operation = &quot;*&quot;;\r\n\t        } else if(expression.indexOf(&quot; + &quot;) != -1){\r\n\t            operation = &quot;+&quot;;\r\n\t        } else if(expression.indexOf(&quot; - &quot;) != -1){ //Avoid negative numbers\r\n\t            operation = &quot;-&quot;;\r\n\t        } else{\r\n\t            return Double.parseDouble(expression);\r\n\t        }\r\n\r\n\t        int index = expression.indexOf(operation);\r\n\t        if(index != -1){\r\n\t            indexOpen = expression.lastIndexOf(&quot; &quot;, index - 2);\r\n\t            indexOpen = (indexOpen == -1)?0:indexOpen;\r\n\t            indexClose = expression.indexOf(&quot; &quot;, index + 2);\r\n\t            indexClose = (indexClose == -1)?expression.length():indexClose;\r\n\t            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\r\n\t                Double lhs = Double.parseDouble(expression.substring(indexOpen, index));\r\n\t                Double rhs = Double.parseDouble(expression.substring(index + 2, indexClose));\r\n\t                Double result = null;\r\n\t                switch (operation){\r\n\t                    case &quot;/&quot;:\r\n\t                        //Prevent divide by 0 exception.\r\n\t                        if(rhs == 0){\r\n\t                            return null;\r\n\t                        }\r\n\t                        result = lhs / rhs;\r\n\t                        break;\r\n\t                    case &quot;^&quot;:\r\n\t                        result = Math.pow(lhs, rhs);\r\n\t                        break;\r\n\t                    case &quot;*&quot;:\r\n\t                        result = lhs * rhs;\r\n\t                        break;\r\n\t                    case &quot;-&quot;:\r\n\t                        result = lhs - rhs;\r\n\t                        break;\r\n\t                    case &quot;+&quot;:\r\n\t                        result = lhs + rhs;\r\n\t                        break;\r\n\t                    default:\r\n\t                        break;\r\n\t                }\r\n\t                if(indexClose == expression.length()){\r\n\t                    expression = expression.substring(0, indexOpen) + &quot; &quot; + result + &quot; &quot; + expression.substring(indexClose);\r\n\t                }else{\r\n\t                    expression = expression.substring(0, indexOpen) + &quot; &quot; + result + &quot; &quot; + expression.substring(indexClose + 1);\r\n\t                }\r\n\t                return Double.valueOf(df.format(evaluate(expression.trim())));\r\n\t            }\r\n\t        }\r\n\t    }catch(Exception exp){\r\n\t        exp.printStackTrace();\r\n\t    }\r\n\t    return 0.0;\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]){\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter an Mathematical Expression to Evaluate: &quot;);\r\n\t\tString input = scanner.nextLine();\r\n\t\tSystem.out.println(evaluate(input));\r\n\t}\r\n\r\n}\r\n","title":"How to evaluate a math expression given in string form?","body":"<pre><code>package ExpressionCalculator.expressioncalculator;\n\nimport java.text.DecimalFormat;\nimport java.util.Scanner;\n\npublic class ExpressionCalculator {\n\nprivate static String addSpaces(String exp){\n\n    //Add space padding to operands.\n    //https://regex101.com/r/sJ9gM7/73\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[\\\\/]\", \" / \");\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[\\\\^]\", \" ^ \");\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[\\\\*]\", \" * \");\n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[+]\", \" + \"); \n    exp = exp.replaceAll(\"(?&lt;=[0-9()])[-]\", \" - \");\n\n    //Keep replacing double spaces with single spaces until your string is properly formatted\n    /*while(exp.indexOf(\"  \") != -1){\n        exp = exp.replace(\"  \", \" \");\n     }*/\n    exp = exp.replaceAll(\" {2,}\", \" \");\n\n       return exp;\n}\n\npublic static Double evaluate(String expr){\n\n    DecimalFormat df = new DecimalFormat(\"#.####\");\n\n    //Format the expression properly before performing operations\n    String expression = addSpaces(expr);\n\n    try {\n        //We will evaluate using rule BDMAS, i.e. brackets, division, power, multiplication, addition and\n        //subtraction will be processed in following order\n        int indexClose = expression.indexOf(\")\");\n        int indexOpen = -1;\n        if (indexClose != -1) {\n            String substring = expression.substring(0, indexClose);\n            indexOpen = substring.lastIndexOf(\"(\");\n            substring = substring.substring(indexOpen + 1).trim();\n            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\n                Double result = evaluate(substring);\n                expression = expression.substring(0, indexOpen).trim() + \" \" + result + \" \" + expression.substring(indexClose + 1).trim();\n                return evaluate(expression.trim());\n            }\n        }\n\n        String operation = \"\";\n        if(expression.indexOf(\" / \") != -1){\n            operation = \"/\";\n        }else if(expression.indexOf(\" ^ \") != -1){\n            operation = \"^\";\n        } else if(expression.indexOf(\" * \") != -1){\n            operation = \"*\";\n        } else if(expression.indexOf(\" + \") != -1){\n            operation = \"+\";\n        } else if(expression.indexOf(\" - \") != -1){ //Avoid negative numbers\n            operation = \"-\";\n        } else{\n            return Double.parseDouble(expression);\n        }\n\n        int index = expression.indexOf(operation);\n        if(index != -1){\n            indexOpen = expression.lastIndexOf(\" \", index - 2);\n            indexOpen = (indexOpen == -1)?0:indexOpen;\n            indexClose = expression.indexOf(\" \", index + 2);\n            indexClose = (indexClose == -1)?expression.length():indexClose;\n            if(indexOpen != -1 &amp;&amp; indexClose != -1) {\n                Double lhs = Double.parseDouble(expression.substring(indexOpen, index));\n                Double rhs = Double.parseDouble(expression.substring(index + 2, indexClose));\n                Double result = null;\n                switch (operation){\n                    case \"/\":\n                        //Prevent divide by 0 exception.\n                        if(rhs == 0){\n                            return null;\n                        }\n                        result = lhs / rhs;\n                        break;\n                    case \"^\":\n                        result = Math.pow(lhs, rhs);\n                        break;\n                    case \"*\":\n                        result = lhs * rhs;\n                        break;\n                    case \"-\":\n                        result = lhs - rhs;\n                        break;\n                    case \"+\":\n                        result = lhs + rhs;\n                        break;\n                    default:\n                        break;\n                }\n                if(indexClose == expression.length()){\n                    expression = expression.substring(0, indexOpen) + \" \" + result + \" \" + expression.substring(indexClose);\n                }else{\n                    expression = expression.substring(0, indexOpen) + \" \" + result + \" \" + expression.substring(indexClose + 1);\n                }\n                return Double.valueOf(df.format(evaluate(expression.trim())));\n            }\n        }\n    }catch(Exception exp){\n        exp.printStackTrace();\n    }\n    return 0.0;\n}\n\npublic static void main(String args[]){\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(\"Enter an Mathematical Expression to Evaluate: \");\n    String input = scanner.nextLine();\n    System.out.println(evaluate(input));\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2222340,"reputation":793,"user_id":1961442,"display_name":"Bruce"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1474704682,"creation_date":1474704682,"answer_id":39674093,"question_id":3422673,"body_markdown":"Try the following sample code using JDK1.6&#39;s Javascript engine with code injection handling.\r\n\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    \r\n    public class EvalUtil {\r\n\tprivate static ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;JavaScript&quot;);\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tSystem.out.println((new EvalUtil()).eval(&quot;(((5+5)/2) &gt; 5) || 5 &gt;3 &quot;));\r\n\t\t\tSystem.out.println((new EvalUtil()).eval(&quot;(((5+5)/2) &gt; 5) || true&quot;));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n    public Object eval(String input) throws Exception{\r\n        try {\r\n\t\t    if(input.matches(&quot;.*[a-zA-Z;~`#$_{}\\\\[\\\\]:\\\\\\\\;\\&quot;&#39;,\\\\.\\\\?]+.*&quot;)) {\r\n\t\t\t    throw new Exception(&quot;Invalid expression : &quot; + input );\r\n\t\t    }\r\n\t\t    return engine.eval(input);\r\n\t    } catch (Exception e) {\r\n\t\t    e.printStackTrace();\r\n\t\t    throw e;\r\n\t    }\r\n     }\r\n    }\r\n","title":"How to evaluate a math expression given in string form?","body":"<p>Try the following sample code using JDK1.6's Javascript engine with code injection handling.</p>\n\n<pre><code>import javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\n\npublic class EvalUtil {\nprivate static ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"JavaScript\");\npublic static void main(String[] args) {\n    try {\n        System.out.println((new EvalUtil()).eval(\"(((5+5)/2) &gt; 5) || 5 &gt;3 \"));\n        System.out.println((new EvalUtil()).eval(\"(((5+5)/2) &gt; 5) || true\"));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\npublic Object eval(String input) throws Exception{\n    try {\n        if(input.matches(\".*[a-zA-Z;~`#$_{}\\\\[\\\\]:\\\\\\\\;\\\"',\\\\.\\\\?]+.*\")) {\n            throw new Exception(\"Invalid expression : \" + input );\n        }\n        return engine.eval(input);\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw e;\n    }\n }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1534381573,"post_id":41276932,"comment_id":90688492,"body_markdown":"`-2^2 = -4` is actually normal, and not a bug. It gets grouped like `-(2^2)`. [Try it on Desmos, for example.](https://www.desmos.com/calculator/jehnsuvt0w) Your code actually introduces several bugs. The first is that `^` no longer groups right-to-left. In other words, `2^3^2` is supposed to group like `2^(3^2)` because `^` is right-associative, but your modifications make it group like `(2^3)^2`. The second is that `^` is supposed to have higher precedence than `*` and `/`, but your modifications treat it the same. See https://ideone.com/iN2mMa.","body":"<code>-2^2 = -4</code> is actually normal, and not a bug. It gets grouped like <code>-(2^2)</code>. <a href=\"https://www.desmos.com/calculator/jehnsuvt0w\" rel=\"nofollow noreferrer\">Try it on Desmos, for example.</a> Your code actually introduces several bugs. The first is that <code>^</code> no longer groups right-to-left. In other words, <code>2^3^2</code> is supposed to group like <code>2^(3^2)</code> because <code>^</code> is right-associative, but your modifications make it group like <code>(2^3)^2</code>. The second is that <code>^</code> is supposed to have higher precedence than <code>*</code> and <code>&#47;</code>, but your modifications treat it the same. See <a href=\"https://ideone.com/iN2mMa\" rel=\"nofollow noreferrer\">ideone.com/iN2mMa</a>."},{"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"score":0,"creation_date":1534397269,"post_id":41276932,"comment_id":90691687,"body_markdown":"So, what you are suggesting is that exponentiation is better kept at where it was isn&#39;t it?","body":"So, what you are suggesting is that exponentiation is better kept at where it was isn&#39;t it?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1534432024,"post_id":41276932,"comment_id":90711871,"body_markdown":"Yes, that&#39;s what I&#39;m suggesting.","body":"Yes, that&#39;s what I&#39;m suggesting."}],"tags":[],"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1482387848,"creation_date":1482387848,"answer_id":41276932,"question_id":3422673,"body_markdown":"This is actually complementing the answer given by @Boann. It has a slight bug which causes &quot;-2 ^ 2&quot; to give an erroneous result of -4.0. The problem for that is the point at which the exponentiation is evaluated in his. Just move the exponentiation to the block of parseTerm(), and you&#39;ll be all fine. Have a look at the below, which is [@Boann&#39;s answer][1] slightly modified. Modification is in the comments.\r\n\r\n    public static double eval(final String str) {\r\n        return new Object() {\r\n            int pos = -1, ch;\r\n\r\n            void nextChar() {\r\n                ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\r\n            }\r\n\r\n            boolean eat(int charToEat) {\r\n                while (ch == &#39; &#39;) nextChar();\r\n                if (ch == charToEat) {\r\n                    nextChar();\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n\r\n            double parse() {\r\n                nextChar();\r\n                double x = parseExpression();\r\n                if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n                return x;\r\n            }\r\n\r\n            // Grammar:\r\n            // expression = term | expression `+` term | expression `-` term\r\n            // term = factor | term `*` factor | term `/` factor\r\n            // factor = `+` factor | `-` factor | `(` expression `)`\r\n            //        | number | functionName factor | factor `^` factor\r\n\r\n            double parseExpression() {\r\n                double x = parseTerm();\r\n                for (;;) {\r\n                    if      (eat(&#39;+&#39;)) x += parseTerm(); // addition\r\n                    else if (eat(&#39;-&#39;)) x -= parseTerm(); // subtraction\r\n                    else return x;\r\n                }\r\n            }\r\n\r\n            double parseTerm() {\r\n                double x = parseFactor();\r\n                for (;;) {\r\n                    if      (eat(&#39;*&#39;)) x *= parseFactor(); // multiplication\r\n                    else if (eat(&#39;/&#39;)) x /= parseFactor(); // division\r\n                    else if (eat(&#39;^&#39;)) x = Math.pow(x, parseFactor()); //exponentiation -&gt; Moved in to here. So the problem is fixed\r\n                    else return x;\r\n                }\r\n            }\r\n\r\n            double parseFactor() {\r\n                if (eat(&#39;+&#39;)) return parseFactor(); // unary plus\r\n                if (eat(&#39;-&#39;)) return -parseFactor(); // unary minus\r\n\r\n                double x;\r\n                int startPos = this.pos;\r\n                if (eat(&#39;(&#39;)) { // parentheses\r\n                    x = parseExpression();\r\n                    eat(&#39;)&#39;);\r\n                } else if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) { // numbers\r\n                    while ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) nextChar();\r\n                    x = Double.parseDouble(str.substring(startPos, this.pos));\r\n                } else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) { // functions\r\n                    while (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) nextChar();\r\n                    String func = str.substring(startPos, this.pos);\r\n                    x = parseFactor();\r\n                    if (func.equals(&quot;sqrt&quot;)) x = Math.sqrt(x);\r\n                    else if (func.equals(&quot;sin&quot;)) x = Math.sin(Math.toRadians(x));\r\n                    else if (func.equals(&quot;cos&quot;)) x = Math.cos(Math.toRadians(x));\r\n                    else if (func.equals(&quot;tan&quot;)) x = Math.tan(Math.toRadians(x));\r\n                    else throw new RuntimeException(&quot;Unknown function: &quot; + func);\r\n                } else {\r\n                    throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n                }\r\n\r\n                //if (eat(&#39;^&#39;)) x = Math.pow(x, parseFactor()); // exponentiation -&gt; This is causing a bit of problem\r\n\r\n                return x;\r\n            }\r\n        }.parse();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26227947/3126973","title":"How to evaluate a math expression given in string form?","body":"<p>This is actually complementing the answer given by @Boann. It has a slight bug which causes \"-2 ^ 2\" to give an erroneous result of -4.0. The problem for that is the point at which the exponentiation is evaluated in his. Just move the exponentiation to the block of parseTerm(), and you'll be all fine. Have a look at the below, which is <a href=\"https://stackoverflow.com/a/26227947/3126973\">@Boann's answer</a> slightly modified. Modification is in the comments.</p>\n\n<pre><code>public static double eval(final String str) {\n    return new Object() {\n        int pos = -1, ch;\n\n        void nextChar() {\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\n        }\n\n        boolean eat(int charToEat) {\n            while (ch == ' ') nextChar();\n            if (ch == charToEat) {\n                nextChar();\n                return true;\n            }\n            return false;\n        }\n\n        double parse() {\n            nextChar();\n            double x = parseExpression();\n            if (pos &lt; str.length()) throw new RuntimeException(\"Unexpected: \" + (char)ch);\n            return x;\n        }\n\n        // Grammar:\n        // expression = term | expression `+` term | expression `-` term\n        // term = factor | term `*` factor | term `/` factor\n        // factor = `+` factor | `-` factor | `(` expression `)`\n        //        | number | functionName factor | factor `^` factor\n\n        double parseExpression() {\n            double x = parseTerm();\n            for (;;) {\n                if      (eat('+')) x += parseTerm(); // addition\n                else if (eat('-')) x -= parseTerm(); // subtraction\n                else return x;\n            }\n        }\n\n        double parseTerm() {\n            double x = parseFactor();\n            for (;;) {\n                if      (eat('*')) x *= parseFactor(); // multiplication\n                else if (eat('/')) x /= parseFactor(); // division\n                else if (eat('^')) x = Math.pow(x, parseFactor()); //exponentiation -&gt; Moved in to here. So the problem is fixed\n                else return x;\n            }\n        }\n\n        double parseFactor() {\n            if (eat('+')) return parseFactor(); // unary plus\n            if (eat('-')) return -parseFactor(); // unary minus\n\n            double x;\n            int startPos = this.pos;\n            if (eat('(')) { // parentheses\n                x = parseExpression();\n                eat(')');\n            } else if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') { // numbers\n                while ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') nextChar();\n                x = Double.parseDouble(str.substring(startPos, this.pos));\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') { // functions\n                while (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') nextChar();\n                String func = str.substring(startPos, this.pos);\n                x = parseFactor();\n                if (func.equals(\"sqrt\")) x = Math.sqrt(x);\n                else if (func.equals(\"sin\")) x = Math.sin(Math.toRadians(x));\n                else if (func.equals(\"cos\")) x = Math.cos(Math.toRadians(x));\n                else if (func.equals(\"tan\")) x = Math.tan(Math.toRadians(x));\n                else throw new RuntimeException(\"Unknown function: \" + func);\n            } else {\n                throw new RuntimeException(\"Unexpected: \" + (char)ch);\n            }\n\n            //if (eat('^')) x = Math.pow(x, parseFactor()); // exponentiation -&gt; This is causing a bit of problem\n\n            return x;\n        }\n    }.parse();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1523930932,"post_id":44194289,"comment_id":86753059,"body_markdown":"Doesn&#39;t handle operator precedence correctly. There are standard ways of doing this, and this isn&#39;t one of them.","body":"Doesn&#39;t handle operator precedence correctly. There are standard ways of doing this, and this isn&#39;t one of them."},{"owner":{"account_id":4576509,"reputation":947,"user_id":3714808,"display_name":"Efi G"},"score":0,"creation_date":1524382231,"post_id":44194289,"comment_id":86943224,"body_markdown":"EJP, can you please point where there is a problem with operator  precedence? \ni fully agree on the fact that it is not the standard way to do it. the standard ways were already mentioned in previous posts, the idea was to show another way to do it.","body":"EJP, can you please point where there is a problem with operator  precedence?  i fully agree on the fact that it is not the standard way to do it. the standard ways were already mentioned in previous posts, the idea was to show another way to do it."},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1621771022,"post_id":44194289,"comment_id":119590762,"body_markdown":"I evaluated 16+10&#215;500−3,000&#247;50 in calculator as well and the answer should be 4956 . Your algorithm prints -414","body":"I evaluated 16+10&#215;500−3,000&#247;50 in calculator as well and the answer should be 4956 . Your algorithm prints -414"},{"owner":{"account_id":4576509,"reputation":947,"user_id":3714808,"display_name":"Efi G"},"score":1,"creation_date":1621833538,"post_id":44194289,"comment_id":119604533,"body_markdown":"not sure comma is handled. the div operator is &#39;/&#39; and not &#39;&#247;&#39;","body":"not sure comma is handled. the div operator is &#39;/&#39; and not &#39;&#247;&#39;"},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1632595338,"post_id":44194289,"comment_id":122537501,"body_markdown":"Yes it&#39;s working now,can you help me with a similar issue at https://stackoverflow.com/questions/6666169/javaevaluation-of-mathematical-expression-only-from-left-to-right","body":"Yes it&#39;s working now,can you help me with a similar issue at <a href=\"https://stackoverflow.com/questions/6666169/javaevaluation-of-mathematical-expression-only-from-left-to-right\" title=\"javaevaluation of mathematical expression only from left to right\">stackoverflow.com/questions/6666169/&hellip;</a>"},{"owner":{"account_id":394517,"reputation":176,"user_id":756993,"accept_rate":30,"display_name":"deepakl.2000"},"score":0,"creation_date":1632756441,"post_id":44194289,"comment_id":122573090,"body_markdown":"@Efi G  need help for below as well https://stackoverflow.com/questions/6666169/javaevaluation-of-mathematical-expression-only-from-left-to-right","body":"@Efi G  need help for below as well <a href=\"https://stackoverflow.com/questions/6666169/javaevaluation-of-mathematical-expression-only-from-left-to-right\" title=\"javaevaluation of mathematical expression only from left to right\">stackoverflow.com/questions/6666169/&hellip;</a>"},{"owner":{"account_id":806603,"reputation":387,"user_id":893426,"accept_rate":24,"display_name":"Jonathan"},"score":0,"creation_date":1651398229,"post_id":44194289,"comment_id":127351505,"body_markdown":"@EfiG great implementation. there is a bug, the following expression raises an error: &quot;(1+3) * (4+5)&quot;. to fix that, just remove the condition &quot;if (expression.startsWith(&quot;(&quot;) &amp;&amp; expression.endsWith(&quot;)&quot;)) { ... }&quot;","body":"@EfiG great implementation. there is a bug, the following expression raises an error: &quot;(1+3) * (4+5)&quot;. to fix that, just remove the condition &quot;if (expression.startsWith(&quot;(&quot;) &amp;&amp; expression.endsWith(&quot;)&quot;)) { ... }&quot;"},{"owner":{"account_id":4576509,"reputation":947,"user_id":3714808,"display_name":"Efi G"},"score":0,"creation_date":1651423369,"post_id":44194289,"comment_id":127356971,"body_markdown":"Thanks @Jonathan, edited as you suggested","body":"Thanks @Jonathan, edited as you suggested"}],"tags":[],"owner":{"account_id":4576509,"reputation":947,"user_id":3714808,"display_name":"Efi G"},"comment_count":8,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1651423293,"creation_date":1495776815,"answer_id":44194289,"question_id":3422673,"body_markdown":"A Java class that can evaluate mathematical expressions:\r\n\r\n    package test;\r\n    \r\n    public class Calculator {\r\n    \r\n    \tpublic static Double calculate(String expression){\r\n    \t\tif (expression == null || expression.length() == 0) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn calc(expression.replace(&quot; &quot;, &quot;&quot;));\r\n    \t}\r\n    \tpublic static Double calc(String expression) {\r\n    \t\tString[] containerArr = new String[]{expression};\r\n    \t\tdouble leftVal = getNextOperand(containerArr);\r\n    \t\texpression = containerArr[0];\r\n    \t\tif (expression.length() == 0) {\r\n    \t\t\treturn leftVal;\r\n    \t\t}\r\n    \t\tchar operator = expression.charAt(0);\r\n    \t\texpression = expression.substring(1);\r\n    \r\n    \t\twhile (operator == &#39;*&#39; || operator == &#39;/&#39;) {\r\n    \t\t\tcontainerArr[0] = expression;\r\n    \t\t\tdouble rightVal = getNextOperand(containerArr);\r\n    \t\t\texpression = containerArr[0];\r\n    \t\t\tif (operator == &#39;*&#39;) {\r\n    \t\t\t\tleftVal = leftVal * rightVal;\r\n    \t\t\t} else {\r\n    \t\t\t\tleftVal = leftVal / rightVal;\r\n    \t\t\t}\r\n    \t\t\tif (expression.length() &gt; 0) {\r\n    \t\t\t\toperator = expression.charAt(0);\r\n    \t\t\t\texpression = expression.substring(1);\r\n    \t\t\t} else {\r\n    \t\t\t\treturn leftVal;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (operator == &#39;+&#39;) {\r\n    \t\t\treturn leftVal + calc(expression);\r\n    \t\t} else {\r\n    \t\t\treturn leftVal - calc(expression);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tprivate static double getNextOperand(String[] exp){\r\n    \t\tdouble res;\r\n    \t\tif (exp[0].startsWith(&quot;(&quot;)) {\r\n    \t\t\tint open = 1;\r\n    \t\t\tint i = 1;\r\n    \t\t\twhile (open != 0) {\r\n    \t\t\t\tif (exp[0].charAt(i) == &#39;(&#39;) {\r\n    \t\t\t\t\topen++;\r\n    \t\t\t\t} else if (exp[0].charAt(i) == &#39;)&#39;) {\r\n    \t\t\t\t\topen--;\r\n    \t\t\t\t}\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\tres = calc(exp[0].substring(1, i - 1));\r\n    \t\t\texp[0] = exp[0].substring(i);\r\n    \t\t} else {\r\n    \t\t\tint i = 1;\r\n    \t\t\tif (exp[0].charAt(0) == &#39;-&#39;) {\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\twhile (exp[0].length() &gt; i &amp;&amp; isNumber((int) exp[0].charAt(i))) {\r\n    \t\t\t\ti++;\r\n    \t\t\t}\r\n    \t\t\tres = Double.parseDouble(exp[0].substring(0, i));\r\n    \t\t\texp[0] = exp[0].substring(i);\r\n    \t\t}\r\n    \t\treturn res;\r\n    \t}\r\n    \r\n    \r\n    \tprivate static boolean isNumber(int c) {\r\n    \t\tint zero = (int) &#39;0&#39;;\r\n    \t\tint nine = (int) &#39;9&#39;;\r\n    \t\treturn (c &gt;= zero &amp;&amp; c &lt;= nine) || c ==&#39;.&#39;;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(calculate(&quot;(((( -6 )))) * 9 * -1&quot;));\r\n    \t\tSystem.out.println(calc(&quot;(-5.2+-5*-5*((5/4+2)))&quot;));\r\n    \r\n    \t}\r\n    \r\n    }","title":"How to evaluate a math expression given in string form?","body":"<p>A Java class that can evaluate mathematical expressions:</p>\n<pre><code>package test;\n\npublic class Calculator {\n\n    public static Double calculate(String expression){\n        if (expression == null || expression.length() == 0) {\n            return null;\n        }\n        return calc(expression.replace(&quot; &quot;, &quot;&quot;));\n    }\n    public static Double calc(String expression) {\n        String[] containerArr = new String[]{expression};\n        double leftVal = getNextOperand(containerArr);\n        expression = containerArr[0];\n        if (expression.length() == 0) {\n            return leftVal;\n        }\n        char operator = expression.charAt(0);\n        expression = expression.substring(1);\n\n        while (operator == '*' || operator == '/') {\n            containerArr[0] = expression;\n            double rightVal = getNextOperand(containerArr);\n            expression = containerArr[0];\n            if (operator == '*') {\n                leftVal = leftVal * rightVal;\n            } else {\n                leftVal = leftVal / rightVal;\n            }\n            if (expression.length() &gt; 0) {\n                operator = expression.charAt(0);\n                expression = expression.substring(1);\n            } else {\n                return leftVal;\n            }\n        }\n        if (operator == '+') {\n            return leftVal + calc(expression);\n        } else {\n            return leftVal - calc(expression);\n        }\n\n    }\n    \n    private static double getNextOperand(String[] exp){\n        double res;\n        if (exp[0].startsWith(&quot;(&quot;)) {\n            int open = 1;\n            int i = 1;\n            while (open != 0) {\n                if (exp[0].charAt(i) == '(') {\n                    open++;\n                } else if (exp[0].charAt(i) == ')') {\n                    open--;\n                }\n                i++;\n            }\n            res = calc(exp[0].substring(1, i - 1));\n            exp[0] = exp[0].substring(i);\n        } else {\n            int i = 1;\n            if (exp[0].charAt(0) == '-') {\n                i++;\n            }\n            while (exp[0].length() &gt; i &amp;&amp; isNumber((int) exp[0].charAt(i))) {\n                i++;\n            }\n            res = Double.parseDouble(exp[0].substring(0, i));\n            exp[0] = exp[0].substring(i);\n        }\n        return res;\n    }\n\n\n    private static boolean isNumber(int c) {\n        int zero = (int) '0';\n        int nine = (int) '9';\n        return (c &gt;= zero &amp;&amp; c &lt;= nine) || c =='.';\n    }\n\n    public static void main(String[] args) {\n        System.out.println(calculate(&quot;(((( -6 )))) * 9 * -1&quot;));\n        System.out.println(calc(&quot;(-5.2+-5*-5*((5/4+2)))&quot;));\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1180793,"reputation":1541,"user_id":1155758,"accept_rate":70,"display_name":"Manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508471453,"creation_date":1508471453,"answer_id":46842142,"question_id":3422673,"body_markdown":"External library like RHINO or NASHORN can be used to run javascript. And javascript can evaluate simple formula without parcing the string. No performance impact as well if code is written well.\r\nBelow is an example with RHINO - \r\n\r\n    public class RhinoApp {\r\n        private String simpleAdd = &quot;(12+13+2-2)*2+(12+13+2-2)*2&quot;;\r\n\r\n    public void runJavaScript() {\r\n        Context jsCx = Context.enter();\r\n        Context.getCurrentContext().setOptimizationLevel(-1);\r\n        ScriptableObject scope = jsCx.initStandardObjects();\r\n        Object result = jsCx.evaluateString(scope, simpleAdd , &quot;formula&quot;, 0, null);\r\n        Context.exit();\r\n        System.out.println(result);\r\n    }","title":"How to evaluate a math expression given in string form?","body":"<p>External library like RHINO or NASHORN can be used to run javascript. And javascript can evaluate simple formula without parcing the string. No performance impact as well if code is written well.\nBelow is an example with RHINO - </p>\n\n<pre><code>public class RhinoApp {\n    private String simpleAdd = \"(12+13+2-2)*2+(12+13+2-2)*2\";\n\npublic void runJavaScript() {\n    Context jsCx = Context.enter();\n    Context.getCurrentContext().setOptimizationLevel(-1);\n    ScriptableObject scope = jsCx.initStandardObjects();\n    Object result = jsCx.evaluateString(scope, simpleAdd , \"formula\", 0, null);\n    Context.exit();\n    System.out.println(result);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1812835,"reputation":87,"user_id":1648550,"display_name":"h.Ebrahimi"},"score":0,"creation_date":1676038408,"post_id":63500206,"comment_id":133062349,"body_markdown":"I am getting the following warning when I use this code: nashorn engine is planned to be removed from a future jdk release","body":"I am getting the following warning when I use this code: nashorn engine is planned to be removed from a future jdk release"}],"tags":[],"owner":{"account_id":14352030,"reputation":710,"user_id":10367178,"display_name":"Md Adilur Rashid"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1638377188,"creation_date":1597908299,"answer_id":63500206,"question_id":3422673,"body_markdown":"\r\n\r\n    import javax.script.ScriptEngine;\r\n    import javax.script.ScriptEngineManager;\r\n    import javax.script.ScriptException;\r\n\r\n    public class test2 {\r\n        public static void main(String[] args) throws ScriptException {\r\n            String s = &quot;10+2&quot;;\r\n            ScriptEngineManager mn = new ScriptEngineManager();\r\n            ScriptEngine en = mn.getEngineByName(&quot;js&quot;);\r\n            Object result = en.eval(s);\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\n","title":"How to evaluate a math expression given in string form?","body":"<pre><code>import javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptException;\n\npublic class test2 {\n    public static void main(String[] args) throws ScriptException {\n        String s = &quot;10+2&quot;;\n        ScriptEngineManager mn = new ScriptEngineManager();\n        ScriptEngine en = mn.getEngineByName(&quot;js&quot;);\n        Object result = en.eval(s);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669180808,"creation_date":1667221357,"answer_id":74263711,"question_id":3422673,"body_markdown":"I have done using iterative parsing and shunting Yard algorithm and i have really enjoyed developing the expression evaluator ,you can find all the code here\r\n\r\nhttps://github.com/nagaraj200788/JavaExpressionEvaluator\r\n\r\nHas 73 test cases and even works for Bigintegers,Bigdecimals\r\n\r\nsupports all relational, arithmetic expression and also combination of both .\r\neven supports ternary operator .\r\n\r\nAdded enhancement to support signed numbers like -100+89 it was intresting, for details check TokenReader.isUnaryOperator() method and i have updated code in above Link\r\n","title":"How to evaluate a math expression given in string form?","body":"<p>I have done using iterative parsing and shunting Yard algorithm and i have really enjoyed developing the expression evaluator ,you can find all the code here</p>\n<p><a href=\"https://github.com/nagaraj200788/JavaExpressionEvaluator\" rel=\"nofollow noreferrer\">https://github.com/nagaraj200788/JavaExpressionEvaluator</a></p>\n<p>Has 73 test cases and even works for Bigintegers,Bigdecimals</p>\n<p>supports all relational, arithmetic expression and also combination of both .\neven supports ternary operator .</p>\n<p>Added enhancement to support signed numbers like -100+89 it was intresting, for details check TokenReader.isUnaryOperator() method and i have updated code in above Link</p>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681459130,"creation_date":1681459130,"answer_id":76012809,"question_id":3422673,"body_markdown":"If anybody needs precise decimal numbers I made a modification which uses `BigDecimal` instead of `double`. \r\n\r\nI got inspired by Boann&#39;s answer and modified it to use `BigDecimal`.\r\n\r\n```\r\npublic static BigDecimal eval(final String str, MathContext mathContext) {\r\n    if (ObjectUtils.isEmpty(str)) {\r\n        return null;\r\n    }\r\n\r\n    return new Object() {\r\n        int pos = -1, ch;\r\n\r\n        void nextChar() {\r\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\r\n        }\r\n\r\n        boolean eat(int charToEat) {\r\n            while (ch == &#39; &#39;) nextChar();\r\n            if (ch == charToEat) {\r\n                nextChar();\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        BigDecimal parse() {\r\n            nextChar();\r\n            BigDecimal x = parseExpression();\r\n            if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n            return x;\r\n        }\r\n\r\n        // Grammar:\r\n        // expression = term | expression `+` term | expression `-` term\r\n        // term = factor | term `*` factor | term `/` factor\r\n        // factor = `+` factor | `-` factor | `(` expression `)` | number\r\n        //        | functionName `(` expression `)` | functionName factor\r\n        //        | factor `^` factor\r\n\r\n        BigDecimal parseExpression() {\r\n            BigDecimal x = parseTerm();\r\n            for (;;) {\r\n                if      (eat(&#39;+&#39;)) x = x.add(parseTerm()); // addition\r\n                else if (eat(&#39;-&#39;)) x = x.subtract(parseTerm()); // subtraction\r\n                else return x;\r\n            }\r\n        }\r\n\r\n        BigDecimal parseTerm() {\r\n            BigDecimal x = parseFactor();\r\n            for (;;) {\r\n                if      (eat(&#39;*&#39;)) x = x.multiply(parseFactor()); // multiplication\r\n                else if (eat(&#39;/&#39;)) x = x.divide(parseFactor(), mathContext); // division\r\n                else return x;\r\n            }\r\n        }\r\n\r\n        BigDecimal parseFactor() {\r\n            if (eat(&#39;+&#39;)) return parseFactor(); // unary plus\r\n            if (eat(&#39;-&#39;)) return parseFactor().negate(); // unary minus\r\n\r\n            BigDecimal x;\r\n            int startPos = this.pos;\r\n            if (eat(&#39;(&#39;)) { // parentheses\r\n                x = parseExpression();\r\n                if (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39;&quot;);\r\n            } else if ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) { // numbers\r\n                while ((ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) || ch == &#39;.&#39;) nextChar();\r\n                x = new BigDecimal(str.substring(startPos, this.pos));\r\n            } else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) { // functions\r\n                while (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) nextChar();\r\n                String func = str.substring(startPos, this.pos);\r\n                if (eat(&#39;(&#39;)) {\r\n                    x = parseExpression();\r\n                    if (!eat(&#39;)&#39;)) throw new RuntimeException(&quot;Missing &#39;)&#39; after argument to &quot; + func);\r\n                } else {\r\n                    x = parseFactor();\r\n                }\r\n                if (&quot;sqrt&quot;.equals(func)) {\r\n                    x = x.sqrt(mathContext);\r\n                } else {\r\n                    throw new RuntimeException(&quot;Unknown function: &quot; + func);\r\n                }\r\n            } else {\r\n                throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\r\n            }\r\n\r\n            if (eat(&#39;^&#39;)) x = x.pow(parseFactor().intValue(), mathContext); // exponentiation\r\n\r\n            return x;\r\n        }\r\n    }.parse();\r\n}\r\n```\r\n\r\nUse it in a following way:\r\n\r\n```\r\n// set precision and rounding mode\r\nMathContext mathContext = new MathContext(10, RoundingMode.HALF_UP);\r\nBigDecimal result = YourLib.eval(&quot;33+33&quot;, mathContext);\r\n```","title":"How to evaluate a math expression given in string form?","body":"<p>If anybody needs precise decimal numbers I made a modification which uses <code>BigDecimal</code> instead of <code>double</code>.</p>\n<p>I got inspired by Boann's answer and modified it to use <code>BigDecimal</code>.</p>\n<pre><code>public static BigDecimal eval(final String str, MathContext mathContext) {\n    if (ObjectUtils.isEmpty(str)) {\n        return null;\n    }\n\n    return new Object() {\n        int pos = -1, ch;\n\n        void nextChar() {\n            ch = (++pos &lt; str.length()) ? str.charAt(pos) : -1;\n        }\n\n        boolean eat(int charToEat) {\n            while (ch == ' ') nextChar();\n            if (ch == charToEat) {\n                nextChar();\n                return true;\n            }\n            return false;\n        }\n\n        BigDecimal parse() {\n            nextChar();\n            BigDecimal x = parseExpression();\n            if (pos &lt; str.length()) throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            return x;\n        }\n\n        // Grammar:\n        // expression = term | expression `+` term | expression `-` term\n        // term = factor | term `*` factor | term `/` factor\n        // factor = `+` factor | `-` factor | `(` expression `)` | number\n        //        | functionName `(` expression `)` | functionName factor\n        //        | factor `^` factor\n\n        BigDecimal parseExpression() {\n            BigDecimal x = parseTerm();\n            for (;;) {\n                if      (eat('+')) x = x.add(parseTerm()); // addition\n                else if (eat('-')) x = x.subtract(parseTerm()); // subtraction\n                else return x;\n            }\n        }\n\n        BigDecimal parseTerm() {\n            BigDecimal x = parseFactor();\n            for (;;) {\n                if      (eat('*')) x = x.multiply(parseFactor()); // multiplication\n                else if (eat('/')) x = x.divide(parseFactor(), mathContext); // division\n                else return x;\n            }\n        }\n\n        BigDecimal parseFactor() {\n            if (eat('+')) return parseFactor(); // unary plus\n            if (eat('-')) return parseFactor().negate(); // unary minus\n\n            BigDecimal x;\n            int startPos = this.pos;\n            if (eat('(')) { // parentheses\n                x = parseExpression();\n                if (!eat(')')) throw new RuntimeException(&quot;Missing ')'&quot;);\n            } else if ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') { // numbers\n                while ((ch &gt;= '0' &amp;&amp; ch &lt;= '9') || ch == '.') nextChar();\n                x = new BigDecimal(str.substring(startPos, this.pos));\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') { // functions\n                while (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') nextChar();\n                String func = str.substring(startPos, this.pos);\n                if (eat('(')) {\n                    x = parseExpression();\n                    if (!eat(')')) throw new RuntimeException(&quot;Missing ')' after argument to &quot; + func);\n                } else {\n                    x = parseFactor();\n                }\n                if (&quot;sqrt&quot;.equals(func)) {\n                    x = x.sqrt(mathContext);\n                } else {\n                    throw new RuntimeException(&quot;Unknown function: &quot; + func);\n                }\n            } else {\n                throw new RuntimeException(&quot;Unexpected: &quot; + (char)ch);\n            }\n\n            if (eat('^')) x = x.pow(parseFactor().intValue(), mathContext); // exponentiation\n\n            return x;\n        }\n    }.parse();\n}\n</code></pre>\n<p>Use it in a following way:</p>\n<pre><code>// set precision and rounding mode\nMathContext mathContext = new MathContext(10, RoundingMode.HALF_UP);\nBigDecimal result = YourLib.eval(&quot;33+33&quot;, mathContext);\n</code></pre>\n"}],"owner":{"account_id":93643,"reputation":4938,"user_id":256082,"accept_rate":91,"display_name":"Shah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615935,"favorite_count":0,"down_vote_count":5,"up_vote_count":392,"accepted_answer_id":3423360,"answer_count":27,"score":387,"last_activity_date":1681459130,"creation_date":1281088410,"question_id":3422673,"body_markdown":"I&#39;m trying to write a Java routine to evaluate math expressions from `String` values like:\r\n\r\n1. `&quot;5+3&quot;`\r\n2. `&quot;10-4*5&quot;`\r\n3. `&quot;(1+10)*3&quot;`\r\n\r\nI want to avoid a lot of if-then-else statements.\r\nHow can I do this?","title":"How to evaluate a math expression given in string form?","body":"<p>I'm trying to write a Java routine to evaluate math expressions from <code>String</code> values like:</p>\n<ol>\n<li><code>&quot;5+3&quot;</code></li>\n<li><code>&quot;10-4*5&quot;</code></li>\n<li><code>&quot;(1+10)*3&quot;</code></li>\n</ol>\n<p>I want to avoid a lot of if-then-else statements.\nHow can I do this?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":3,"creation_date":1681406076,"post_id":76008024,"comment_id":134054933,"body_markdown":"If there is only one level of &quot;nesting&quot; then maybe `(?&lt;=\\{)\\d+:(?:\\{[^{}]*}|[^{}]+)(?=\\})`  https://regex101.com/r/xIgMPg/1","body":"If there is only one level of &quot;nesting&quot; then maybe <code>(?&lt;=\\{)\\d+:(?:\\{[^{}]*}|[^{}]+)(?=\\})</code>  <a href=\"https://regex101.com/r/xIgMPg/1\" rel=\"nofollow noreferrer\">regex101.com/r/xIgMPg/1</a>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1681406354,"post_id":76008024,"comment_id":134054993,"body_markdown":"For a more general answer you may need to have a small parser instead of regular expressions.","body":"For a more general answer you may need to have a small parser instead of regular expressions."}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681459100,"creation_date":1681459100,"answer_id":76012802,"question_id":76008024,"body_markdown":"Java regex does not support recursion. If there can only be 1 level of nesting, you could use an alternation:\r\n\r\n    (?&lt;=\\{)\\d+:(?:\\{\\d+:[^{}]*}|[^{}]+)(?=\\})\r\n\r\n**Explanation**\r\n\r\n- `(?&lt;=\\{)` Positive lookbehind, assert `{` to the left\r\n- `\\d+:` Match 1+ digits followed by `:`\r\n- `(?:` Non capture group for the 2 alternatives\r\n  - `\\{\\d+:[^{}]*}` Match `{` 1+ digits and `:`, and then till`}`\r\n  - `|` Or\r\n  - `[^{}]+` Match 1+ chars other than `{` or `}`\r\n- `)` Close the non capture group\r\n- `(?=\\})` Positive lookahead, assert `}` to the right\r\n\r\nSee a [regex demo](https://regex101.com/r/d85LiH/1).\r\n\r\nIn Java with the double escaped backslashes:\r\n\r\n    String regex = &quot;(?&lt;=\\\\{)\\\\d+:(?:\\\\{\\\\d+:[^\\\\{\\\\}]*\\\\}|[^\\\\{\\\\}]+)(?=\\\\})&quot;;\r\n\r\nNote that for a match only, you can omit the capture group.","title":"Handling token identifier within a capturing group","body":"<p>Java regex does not support recursion. If there can only be 1 level of nesting, you could use an alternation:</p>\n<pre><code>(?&lt;=\\{)\\d+:(?:\\{\\d+:[^{}]*}|[^{}]+)(?=\\})\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>(?&lt;=\\{)</code> Positive lookbehind, assert <code>{</code> to the left</li>\n<li><code>\\d+:</code> Match 1+ digits followed by <code>:</code></li>\n<li><code>(?:</code> Non capture group for the 2 alternatives\n<ul>\n<li><code>\\{\\d+:[^{}]*}</code> Match <code>{</code> 1+ digits and <code>:</code>, and then till<code>}</code></li>\n<li><code>|</code> Or</li>\n<li><code>[^{}]+</code> Match 1+ chars other than <code>{</code> or <code>}</code></li>\n</ul>\n</li>\n<li><code>)</code> Close the non capture group</li>\n<li><code>(?=\\})</code> Positive lookahead, assert <code>}</code> to the right</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/d85LiH/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p>In Java with the double escaped backslashes:</p>\n<pre><code>String regex = &quot;(?&lt;=\\\\{)\\\\d+:(?:\\\\{\\\\d+:[^\\\\{\\\\}]*\\\\}|[^\\\\{\\\\}]+)(?=\\\\})&quot;;\n</code></pre>\n<p>Note that for a match only, you can omit the capture group.</p>\n"}],"owner":{"account_id":2036306,"reputation":553,"user_id":1818593,"accept_rate":82,"display_name":"Srii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76012802,"answer_count":1,"score":0,"last_activity_date":1681459100,"creation_date":1681404958,"question_id":76008024,"body_markdown":"I&#39;ve been trying to match the following text:\r\n\r\n```json\r\n{1:A01ABCDEFGHIJKL1234567890}{2:01234567890123ABCDEFGHIJKL12345678901234567890A}{3:{108:ABCDEFGHIJK0123}}{4:\r\n:20:ABCDEFGHIJK/01234\r\n:25:00000000000000000000\r\n:28C:00001/00001\r\n:60F:C230316EUR0,00\r\n:62F:C230317EUR0,00\r\n:64:C230317EUR0,00\r\n:65:C230318EUR0,00\r\n:65:C230319EUR0,00\r\n:65:C230320EUR0,00\r\n:65:C230321EUR0,00\r\n:65:C230322EUR0,00\r\n-}\r\n```\r\n\r\nusing the following expression:\r\n\r\n```\r\n(?&lt;=\\{)([^}]+)(?=\\})\r\n```\r\n\r\nThe matching fails when the bracket is part of the matching group. For example, the group that starts with record identifier 3: is matched only partially in that the closing bracket in the group is unmatched. While I understand that this is what the expression is constructed to do, what would be an ideal way to capture also the closing bracket? In other words, match everything between two brackets that starts with a record identifier such as 1:, 2:, 3:, etc but do not apply it recursively that the nested text also don&#39;t get matched. Please advise. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere&#39;s the [demo][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yNvU8.png\r\n  [2]: https://regex101.com/r/cKsRlR/1","title":"Handling token identifier within a capturing group","body":"<p>I've been trying to match the following text:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{1:A01ABCDEFGHIJKL1234567890}{2:01234567890123ABCDEFGHIJKL12345678901234567890A}{3:{108:ABCDEFGHIJK0123}}{4:\n:20:ABCDEFGHIJK/01234\n:25:00000000000000000000\n:28C:00001/00001\n:60F:C230316EUR0,00\n:62F:C230317EUR0,00\n:64:C230317EUR0,00\n:65:C230318EUR0,00\n:65:C230319EUR0,00\n:65:C230320EUR0,00\n:65:C230321EUR0,00\n:65:C230322EUR0,00\n-}\n</code></pre>\n<p>using the following expression:</p>\n<pre><code>(?&lt;=\\{)([^}]+)(?=\\})\n</code></pre>\n<p>The matching fails when the bracket is part of the matching group. For example, the group that starts with record identifier 3: is matched only partially in that the closing bracket in the group is unmatched. While I understand that this is what the expression is constructed to do, what would be an ideal way to capture also the closing bracket? In other words, match everything between two brackets that starts with a record identifier such as 1:, 2:, 3:, etc but do not apply it recursively that the nested text also don't get matched. Please advise.</p>\n<p><a href=\"https://i.stack.imgur.com/yNvU8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNvU8.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the <a href=\"https://regex101.com/r/cKsRlR/1\" rel=\"nofollow noreferrer\">demo</a>.</p>\n"},{"tags":["java","spring","spring-mvc","spring-web"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1511446646,"post_id":47457382,"comment_id":81869582,"body_markdown":"Judging from the error message and the code you posted the code doesn&#39;t match the exception.","body":"Judging from the error message and the code you posted the code doesn&#39;t match the exception."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1511447959,"post_id":47457382,"comment_id":81870393,"body_markdown":"Your understanding is wrong. You can use `@RequestParam` with any type of request. `@RequestBody` is if you post a body (in JSON, XML etc) and you want it marshaled to an object. If you only want to use parameters then `@RequestBody` is pretty much useless. However binding to an object should be preferred over separate parameters and for this you should use `@ModelAttribute`.","body":"Your understanding is wrong. You can use <code>@RequestParam</code> with any type of request. <code>@RequestBody</code> is if you post a body (in JSON, XML etc) and you want it marshaled to an object. If you only want to use parameters then <code>@RequestBody</code> is pretty much useless. However binding to an object should be preferred over separate parameters and for this you should use <code>@ModelAttribute</code>."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511448065,"post_id":47457382,"comment_id":81870454,"body_markdown":"the others say `@RequestParam` cannot be used with post requests","body":"the others say <code>@RequestParam</code> cannot be used with post requests"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1511448106,"post_id":47457382,"comment_id":81870487,"body_markdown":"They are wrong... (Having written 3 books on the subject I&#39;m fairly sure I know what I&#39;m talking about :) ). Parameters are parameters regardless the method used to get them to the server. They can even be used to obtain the form parameters when posting a form. Now if you would be sending JSON that would be a different story as that is a body and should be parsed using `@RequestBody`.","body":"They are wrong... (Having written 3 books on the subject I&#39;m fairly sure I know what I&#39;m talking about :) ). Parameters are parameters regardless the method used to get them to the server. They can even be used to obtain the form parameters when posting a form. Now if you would be sending JSON that would be a different story as that is a body and should be parsed using <code>@RequestBody</code>."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511448176,"post_id":47457382,"comment_id":81870537,"body_markdown":"then how come I get an error when I use @RequestParam in the above example? What should I change for it to work? Please enlighten me.","body":"then how come I get an error when I use @RequestParam in the above example? What should I change for it to work? Please enlighten me."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1511449584,"post_id":47457382,"comment_id":81871390,"body_markdown":"The error isn&#39;t about the `@RequestParam` but the conditions (the `params` in the `@RequestMapping`) and as stated I think the code posted here isn&#39;t the actual code...","body":"The error isn&#39;t about the <code>@RequestParam</code> but the conditions (the <code>params</code> in the <code>@RequestMapping</code>) and as stated I think the code posted here isn&#39;t the actual code..."},{"owner":{"account_id":4022838,"reputation":2676,"user_id":3312425,"accept_rate":24,"display_name":"Davoud"},"score":0,"creation_date":1614009529,"post_id":47457382,"comment_id":117246526,"body_markdown":"A lot of explanation, but no answer how to get parameters from URL in post method using @RequestParam annotation?!.","body":"A lot of explanation, but no answer how to get parameters from URL in post method using @RequestParam annotation?!."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1614039100,"post_id":47457382,"comment_id":117257671,"body_markdown":"@Patzu You could also just use `@PathVariable` annotation instead.","body":"@Patzu You could also just use <code>@PathVariable</code> annotation instead."}],"answers":[{"comments":[{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":1,"creation_date":1511446747,"post_id":47457597,"comment_id":81869638,"body_markdown":"sweet, i&#39;ll go for the second option. Thanks allot!","body":"sweet, i&#39;ll go for the second option. Thanks allot!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1511448078,"post_id":47457597,"comment_id":81870466,"body_markdown":"`@RequestBody` is only useful is you actually send a payload other then form encoding (like JSON or XML) for a simply form post `@RequestBody` will do nothing then you have to use either `@ModelAttribute` or use `@RequestParam` to obtain the form parameters. As stated `@RequestParam` isn&#39;t limited to GET methods.","body":"<code>@RequestBody</code> is only useful is you actually send a payload other then form encoding (like JSON or XML) for a simply form post <code>@RequestBody</code> will do nothing then you have to use either <code>@ModelAttribute</code> or use <code>@RequestParam</code> to obtain the form parameters. As stated <code>@RequestParam</code> isn&#39;t limited to GET methods."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511448447,"post_id":47457597,"comment_id":81870708,"body_markdown":"@Synch When I use your second option I get a `Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Can not deserialize instance of java.lang.String out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.JsonMappin\ngException: Can not deserialize instance of java.lang.String out of START_OBJECT token` error. Any idea how I can prevent this error from happening?","body":"@Synch When I use your second option I get a <code>Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableExc&zwnj;&#8203;eption: JSON parse error: Can not deserialize instance of java.lang.String out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.JsonMappin gException: Can not deserialize instance of java.lang.String out of START_OBJECT token</code> error. Any idea how I can prevent this error from happening?"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511450037,"post_id":47457597,"comment_id":81871665,"body_markdown":"kan ik @ModelAttribute ook gebruiken wanneer ik geen Spring Mvc applicatie heb?","body":"kan ik @ModelAttribute ook gebruiken wanneer ik geen Spring Mvc applicatie heb?"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1511450242,"post_id":47457597,"comment_id":81871797,"body_markdown":"@ModelAttribute werkt ook niet, parameterveld is leeg","body":"@ModelAttribute werkt ook niet, parameterveld is leeg"},{"owner":{"account_id":7610415,"reputation":3621,"user_id":5771446,"display_name":"Sync"},"score":0,"creation_date":1511450374,"post_id":47457597,"comment_id":81871879,"body_markdown":"`ModelAttribute` is a Spring annotation, so you can&#39;t use it outside Spring application.","body":"<code>ModelAttribute</code> is a Spring annotation, so you can&#39;t use it outside Spring application."},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":1,"creation_date":1511452977,"post_id":47457597,"comment_id":81873430,"body_markdown":"I am using spring just not spring mvc, anyway.. I found out what the culprit was. I should include `&#39;Content-Type&#39;: &#39;application/json&#39;` in the `headers` when I make the post. That way the RequestBody map gets filled with parameters properly.","body":"I am using spring just not spring mvc, anyway.. I found out what the culprit was. I should include <code>&#39;Content-Type&#39;: &#39;application&#47;json&#39;</code> in the <code>headers</code> when I make the post. That way the RequestBody map gets filled with parameters properly."},{"owner":{"account_id":2997540,"reputation":1038,"user_id":2543768,"accept_rate":83,"display_name":"jchamberlain"},"score":1,"creation_date":1549499230,"post_id":47457597,"comment_id":95928043,"body_markdown":"This answer is misleading. RequestParam can be used for form-encoded POST bodies. See https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html.","body":"This answer is misleading. RequestParam can be used for form-encoded POST bodies. See <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>."},{"owner":{"account_id":9566147,"reputation":446,"user_id":7105377,"accept_rate":57,"display_name":"Dilini Peiris"},"score":0,"creation_date":1588792899,"post_id":47457597,"comment_id":109039508,"body_markdown":"using Map to send the data instead of using a separate DTO class is really a better way and it is way easier. And, i found that map works not only for Map&lt;String,String&gt; in REST controllers, but also other types as well.. such as Map&lt;String, Integer&gt; also works.","body":"using Map to send the data instead of using a separate DTO class is really a better way and it is way easier. And, i found that map works not only for Map&lt;String,String&gt; in REST controllers, but also other types as well.. such as Map&lt;String, Integer&gt; also works."}],"tags":[],"owner":{"account_id":7610415,"reputation":3621,"user_id":5771446,"display_name":"Sync"},"comment_count":9,"down_vote_count":6,"up_vote_count":38,"is_accepted":true,"score":32,"last_activity_date":1511453756,"creation_date":1511446687,"answer_id":47457597,"question_id":47457382,"body_markdown":"What you are asking for is fundamentally wrong. POST requests sends data in a body payload, which is mapped via `@RequestBody`. `@RequestParam` is used to map data through the URL parameters such as `/url?start=foo`. What you are trying to do is use `@RequestParam` to do the job of `@RequestBody`.\r\n\r\n### Alternative solutions for REST controllers\r\n- Introduce a DTO class. It is the most preferred and clean method.\r\n- If you really want to avoid creating a class, you can use `@RequestBody Map&lt;String, String&gt; payload`. Be sure to include `&#39;Content-Type&#39;: &#39;application/json&#39;` in your request header.\r\n- If you really want to use `@RequestParam`, use a GET request instead and send your data via URL parameters.\r\n\r\n### Alternative solutions for MVC controllers\r\n- Introduce a DTO class and use it with annotation `@ModelAttribute`.\r\n- If you transform the form data into JSON, you can use `@RequestBody Map&lt;String, String&gt; payload`. To do this, please see [this answer][1].\r\n\r\nIt is not possible to map form data encoded data directly to a `Map&lt;String, String&gt;`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22195193/5771446","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>What you are asking for is fundamentally wrong. POST requests sends data in a body payload, which is mapped via <code>@RequestBody</code>. <code>@RequestParam</code> is used to map data through the URL parameters such as <code>/url?start=foo</code>. What you are trying to do is use <code>@RequestParam</code> to do the job of <code>@RequestBody</code>.</p>\n\n<h3>Alternative solutions for REST controllers</h3>\n\n<ul>\n<li>Introduce a DTO class. It is the most preferred and clean method.</li>\n<li>If you really want to avoid creating a class, you can use <code>@RequestBody Map&lt;String, String&gt; payload</code>. Be sure to include <code>'Content-Type': 'application/json'</code> in your request header.</li>\n<li>If you really want to use <code>@RequestParam</code>, use a GET request instead and send your data via URL parameters.</li>\n</ul>\n\n<h3>Alternative solutions for MVC controllers</h3>\n\n<ul>\n<li>Introduce a DTO class and use it with annotation <code>@ModelAttribute</code>.</li>\n<li>If you transform the form data into JSON, you can use <code>@RequestBody Map&lt;String, String&gt; payload</code>. To do this, please see <a href=\"https://stackoverflow.com/a/22195193/5771446\">this answer</a>.</li>\n</ul>\n\n<p>It is not possible to map form data encoded data directly to a <code>Map&lt;String, String&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":10221558,"reputation":188,"user_id":7545602,"display_name":"Nenad Jovicic"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1602155238,"creation_date":1511446893,"answer_id":47457654,"question_id":47457382,"body_markdown":"You should use `@RequestBody` instead of using `@RequestParam`\r\nAnd you should provide whole object as a body of request\r\n`@RequestParam` is to get data from URL\r\n\r\nyou can do something like\r\n`public saveUser(@RequestBody User user) { do something with user }`\r\n\r\nand it will be mapped as User object for example\r\n\r\n","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>You should use <code>@RequestBody</code> instead of using <code>@RequestParam</code>\nAnd you should provide whole object as a body of request\n<code>@RequestParam</code> is to get data from URL</p>\n<p>you can do something like\n<code>public saveUser(@RequestBody User user) { do something with user }</code></p>\n<p>and it will be mapped as User object for example</p>\n"},{"tags":[],"owner":{"account_id":13010010,"reputation":131,"user_id":9403393,"display_name":"Jerald Macachor"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1539798264,"creation_date":1539798264,"answer_id":52860755,"question_id":47457382,"body_markdown":"    @PostMapping(&quot;/createleave&quot;)\r\n    public void createLeave(@RequestParam Map&lt;String, String&gt; requestParams){\r\n    \r\n        String start = requestParams.get(&quot;start&quot;);\r\n        String end= requestParams.get(&quot;end&quot;);\r\n        String hours= requestParams.get(&quot;hours&quot;);\r\n        String username = requestParams.get(&quot;username&quot;);\r\n\r\n        System.out.println(&quot;Entering createLeave &quot; + start + &quot; &quot; + end + &quot; &quot; + hours + &quot; &quot; + username);\r\n    }\r\n\r\nThis is for multipart/form-data enctype post request.","title":"Can I use @Requestparam annotation for a Post request?","body":"<pre><code>@PostMapping(\"/createleave\")\npublic void createLeave(@RequestParam Map&lt;String, String&gt; requestParams){\n\n    String start = requestParams.get(\"start\");\n    String end= requestParams.get(\"end\");\n    String hours= requestParams.get(\"hours\");\n    String username = requestParams.get(\"username\");\n\n    System.out.println(\"Entering createLeave \" + start + \" \" + end + \" \" + hours + \" \" + username);\n}\n</code></pre>\n\n<p>This is for multipart/form-data enctype post request.</p>\n"},{"comments":[{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1581063538,"post_id":55653219,"comment_id":106311721,"body_markdown":"https://stackoverflow.com/a/55721061/1553537 here I explain this annotation in a bit deeper way.","body":"<a href=\"https://stackoverflow.com/a/55721061/1553537\">stackoverflow.com/a/55721061/1553537</a> here I explain this annotation in a bit deeper way."},{"owner":{"account_id":9566147,"reputation":446,"user_id":7105377,"accept_rate":57,"display_name":"Dilini Peiris"},"score":1,"creation_date":1588792685,"post_id":55653219,"comment_id":109039395,"body_markdown":"i think what @Sync has said in his answer is that, if you used request parameters in POST, they are sent in the URL and is prone to get exposed. Therefore he suggests to send the data in the request body using the ways he has suggested because, when sending a POST request, the request body is encrypted.","body":"i think what @Sync has said in his answer is that, if you used request parameters in POST, they are sent in the URL and is prone to get exposed. Therefore he suggests to send the data in the request body using the ways he has suggested because, when sending a POST request, the request body is encrypted."},{"owner":{"account_id":2836332,"reputation":2140,"user_id":2436878,"accept_rate":90,"display_name":"Bampfer"},"score":1,"creation_date":1597161182,"post_id":55653219,"comment_id":112040904,"body_markdown":"Spring docs linked in this answer state: &quot;.. the Servlet API combines query parameters and form data into a single map called &quot;parameters&quot;, and that includes automatic parsing of the request body.&quot; So POST RequestParameters can be in the body, not exposed in the URL. Sync&#39;s discussion of alternatives is useful, but the statement that you have to use RequestBody with POST isn&#39;t right. (Possibly it used to be true?)","body":"Spring docs linked in this answer state: &quot;.. the Servlet API combines query parameters and form data into a single map called &quot;parameters&quot;, and that includes automatic parsing of the request body.&quot; So POST RequestParameters can be in the body, not exposed in the URL. Sync&#39;s discussion of alternatives is useful, but the statement that you have to use RequestBody with POST isn&#39;t right. (Possibly it used to be true?)"},{"owner":{"account_id":2836332,"reputation":2140,"user_id":2436878,"accept_rate":90,"display_name":"Bampfer"},"score":0,"creation_date":1597162548,"post_id":55653219,"comment_id":112041586,"body_markdown":"(But note also: &quot;In Spring WebFlux, &#39;request parameters&#39; map to query parameters only&quot;)","body":"(But note also: &quot;In Spring WebFlux, &#39;request parameters&#39; map to query parameters only&quot;)"},{"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"score":1,"creation_date":1628478556,"post_id":55653219,"comment_id":121422063,"body_markdown":"@DiliniPeiris: if using ssl / tls all data including query param are encrypted but can find its way in server logs after tls termination","body":"@DiliniPeiris: if using ssl / tls all data including query param are encrypted but can find its way in server logs after tls termination"}],"tags":[],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":5,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1681458958,"creation_date":1555077097,"answer_id":55653219,"question_id":47457382,"body_markdown":"Well, the answer by @Sync is fundamentally wrong and not the question being asked.\r\n\r\n 1. First of all, I use `@RequestParam` in a lot of scenarios expecting either GET or POST HTTP messages and I&#39;d like to say, that it works perfectly fine;\r\n 2. POST Message&#39;s payload data (body) is actually the *text data*, which can perfectly legally be `paramname = paramvalue` key-value mapping(s) alike (see [POST Message Body types][1] here);\r\n 3. `docs.spring.io`, an official source for Spring Documentation, [clearly states][2], that:\r\n&gt; In Spring MVC, &quot;request parameters&quot; map to query parameters, form\r\n&gt; data, and parts in multipart requests.\r\n\r\nSo, the answer is YES, you can use `@RequestParam` annotation with `@Controller` class&#39;s method&#39;s parameter, as long as that method is a *handler method* (is request-mapped by `@RequestMapping`) and you don&#39;t expect Object, this is perfectly legal and there&#39;s nothing wrong with it.\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>Well, the answer by @Sync is fundamentally wrong and not the question being asked.</p>\n<ol>\n<li>First of all, I use <code>@RequestParam</code> in a lot of scenarios expecting either GET or POST HTTP messages and I'd like to say, that it works perfectly fine;</li>\n<li>POST Message's payload data (body) is actually the <em>text data</em>, which can perfectly legally be <code>paramname = paramvalue</code> key-value mapping(s) alike (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\" rel=\"nofollow noreferrer\">POST Message Body types</a> here);</li>\n<li><code>docs.spring.io</code>, an official source for Spring Documentation, <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">clearly states</a>, that:</li>\n</ol>\n<blockquote>\n<p>In Spring MVC, &quot;request parameters&quot; map to query parameters, form\ndata, and parts in multipart requests.</p>\n</blockquote>\n<p>So, the answer is YES, you can use <code>@RequestParam</code> annotation with <code>@Controller</code> class's method's parameter, as long as that method is a <em>handler method</em> (is request-mapped by <code>@RequestMapping</code>) and you don't expect Object, this is perfectly legal and there's nothing wrong with it.</p>\n"},{"tags":[],"owner":{"account_id":19542880,"reputation":11,"user_id":14300301,"display_name":"Gurjeet singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608565622,"creation_date":1600429154,"answer_id":63955074,"question_id":47457382,"body_markdown":"    public void createLeave(@RequestParam Map&lt;String, String&gt; requestParams)\r\nAbove code did not work.\r\n\r\n\r\nCorrect syntax is: \r\n\r\n    public void createLeave(@RequestBody Map&lt;String, String&gt; requestParams)\r\n\r\nWhich will map the request to a map","title":"Can I use @Requestparam annotation for a Post request?","body":"<pre><code>public void createLeave(@RequestParam Map&lt;String, String&gt; requestParams)\n</code></pre>\n<p>Above code did not work.</p>\n<p>Correct syntax is:</p>\n<pre><code>public void createLeave(@RequestBody Map&lt;String, String&gt; requestParams)\n</code></pre>\n<p>Which will map the request to a map</p>\n"}],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100814,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":47457597,"answer_count":5,"score":38,"last_activity_date":1681458958,"creation_date":1511445989,"question_id":47457382,"body_markdown":"I have this controller method:\r\n\r\n    @PostMapping(\r\n            value = &quot;/createleave&quot;,\r\n            params = {&quot;start&quot;,&quot;end&quot;,&quot;hours&quot;,&quot;username&quot;})\r\n    public void createLeave(@RequestParam(value = &quot;start&quot;) String start,\r\n                            @RequestParam(value = &quot;end&quot;) String end,\r\n                            @RequestParam(value = &quot;hours&quot;) String hours,\r\n                            @RequestParam(value = &quot;username&quot;) String username){\r\n        System.out.println(&quot;Entering createLeave &quot; + start + &quot; &quot; + end + &quot; &quot; + hours + &quot; &quot; + username);\r\n        LeaveQuery newLeaveQuery = new LeaveQuery();\r\n        Account account = accountRepository.findByUsername(username);\r\n        newLeaveQuery.setAccount(account);\r\n        newLeaveQuery.setStartDate(new Date(Long.parseLong(start)));\r\n        newLeaveQuery.setEndDate(new Date(Long.parseLong(end)));\r\n        newLeaveQuery.setTotalHours(Integer.parseInt(hours));\r\n        leaveQueryRepository.save(newLeaveQuery);\r\n    }\r\n\r\nHowever when I send a post request to this endpoint I get the following \r\n\r\n    &quot;{&quot;timestamp&quot;:1511444885321,&quot;status&quot;:400,&quot;error&quot;:&quot;Bad Request&quot;,&quot;exception&quot;:&quot;org.springframework.web.bind.UnsatisfiedServletRequestParameterException&quot;,&quot;message&quot;:&quot;Parameter conditions \\&quot;start, end, hours, username\\&quot; not met for actual request parameters: &quot;,&quot;path&quot;:&quot;/api/createleave&quot;}&quot;\r\n\r\nWhen I remove the params argument from the `@PostMapping` annotation I get a more general error, it will say that it cannot find the first required parameter (start), while it really is being send together with the parameters end, hours and username.\r\n\r\n\r\nhttps://stackoverflow.com/questions/17964841/how-to-get-param-in-method-post-spring-mvc\r\n\r\nI&#39;ve read in this post that `@RequestParam` can only be used for get methods, but if I remove `@RequestParam` and stick with the params argument of the `@PostMapping` annotation it still doesn&#39;t work. I know I can use `@RequestBody` but I do not want to make a class just for those 4 parameters. Can anyone tell me how I can make this work? \r\n\r\nThank you\r\n\r\nEDIT: I&#39;m reading here https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params-- that the argument params isn&#39;t exactly what I thought it was. It seems to be used as a condition. If a set of parameters match a value then the endpoint controller method will be activated.","title":"Can I use @Requestparam annotation for a Post request?","body":"<p>I have this controller method:</p>\n\n<pre><code>@PostMapping(\n        value = \"/createleave\",\n        params = {\"start\",\"end\",\"hours\",\"username\"})\npublic void createLeave(@RequestParam(value = \"start\") String start,\n                        @RequestParam(value = \"end\") String end,\n                        @RequestParam(value = \"hours\") String hours,\n                        @RequestParam(value = \"username\") String username){\n    System.out.println(\"Entering createLeave \" + start + \" \" + end + \" \" + hours + \" \" + username);\n    LeaveQuery newLeaveQuery = new LeaveQuery();\n    Account account = accountRepository.findByUsername(username);\n    newLeaveQuery.setAccount(account);\n    newLeaveQuery.setStartDate(new Date(Long.parseLong(start)));\n    newLeaveQuery.setEndDate(new Date(Long.parseLong(end)));\n    newLeaveQuery.setTotalHours(Integer.parseInt(hours));\n    leaveQueryRepository.save(newLeaveQuery);\n}\n</code></pre>\n\n<p>However when I send a post request to this endpoint I get the following </p>\n\n<pre><code>\"{\"timestamp\":1511444885321,\"status\":400,\"error\":\"Bad Request\",\"exception\":\"org.springframework.web.bind.UnsatisfiedServletRequestParameterException\",\"message\":\"Parameter conditions \\\"start, end, hours, username\\\" not met for actual request parameters: \",\"path\":\"/api/createleave\"}\"\n</code></pre>\n\n<p>When I remove the params argument from the <code>@PostMapping</code> annotation I get a more general error, it will say that it cannot find the first required parameter (start), while it really is being send together with the parameters end, hours and username.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/17964841/how-to-get-param-in-method-post-spring-mvc\">how to get param in method post spring mvc?</a></p>\n\n<p>I've read in this post that <code>@RequestParam</code> can only be used for get methods, but if I remove <code>@RequestParam</code> and stick with the params argument of the <code>@PostMapping</code> annotation it still doesn't work. I know I can use <code>@RequestBody</code> but I do not want to make a class just for those 4 parameters. Can anyone tell me how I can make this work? </p>\n\n<p>Thank you</p>\n\n<p>EDIT: I'm reading here <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params--\" rel=\"noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params--</a> that the argument params isn't exactly what I thought it was. It seems to be used as a condition. If a set of parameters match a value then the endpoint controller method will be activated.</p>\n"},{"tags":["java","spring-boot","email","smtp","mime-message"],"owner":{"account_id":16519320,"reputation":35,"user_id":11935923,"display_name":"AlexanderMueller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681458719,"creation_date":1681456511,"question_id":76012482,"body_markdown":"Current state\r\n-------------\r\n\r\nI have a Java SpringBoot api, which at the moment is able to dynamically send an E-Mail with javax.mail.MimeMessage. The credentials are passed as parameters (E-Mail-Address, Password, SMTP-Server, SMTP-Port). When I start the application and send the first E-Mail everything works fine.\r\n\r\nProblem\r\n-------\r\n\r\nHowever when I try to send another E-Mail from a different SMTP-Server, it seems that the E-Mail gets sended from the first SMTP-Server and credentials. In, for example Googlemail, every E-Mail shows the sender as well as the (SMTP-)Server which it&#39;s sended from. While the sended E-Mail-Address displays the new E-Mail-Address, the &quot;Send from&quot; (SMTP-Server) still shows the old SMTP-Server.\r\n\r\nGoal\r\n-----------\r\n\r\nSo what I want, is to be able to send multiple E-Mails from individual SMTP-Servers and E-Mail-Addresses, passed by parameters.\r\n\r\nController\r\n-----------\r\n\r\n```@RestController\r\n@RequestMapping(&quot;/send-email&quot;)\r\npublic class EmailController {\r\n\r\n    public EmailController(){}\r\n\r\n    @PostMapping\r\n    public SentEmail sendEmail(@RequestBody SendEmailInformation sendEmailInformation) {\r\n        EmailService emailService = new EmailService();\r\n        return emailService.sendEmail(sendEmailInformation);\r\n    }\r\n\r\n}\r\n```\r\n\r\nE-Mail-Service\r\n---------------\r\n\r\n```public class EmailService\r\n{\r\n    private Transport transport;\r\n\r\n    public EmailService() {}\r\n\r\n    public void sendEmail(SendEmailInformation sendEmailInformation) {\r\n        try{\r\n            String fromEmail = sendEmailInformation.getEmailAddress();\r\n            String password = sendEmailInformation.getPassword();\r\n            String toEmail = sendEmailInformation.getEmail();\r\n\r\n            Properties props = new Properties();\r\n            props.put(&quot;mail.smtp.host&quot;, sendEmailInformation.getSmtpServer());\r\n            props.put(&quot;mail.smtp.port&quot;, sendEmailInformation.getSmtpPort());\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\n            Authenticator auth = new Authenticator() {\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                    return new PasswordAuthentication(fromEmail, password);\r\n                }\r\n            };\r\n\r\n            Session session = Session.getDefaultInstance(props, auth);\r\n\r\n            MimeMessage msg = new MimeMessage(session);\r\n            msg.addHeader(&quot;Content-type&quot;, &quot;text/HTML; charset=UTF-8&quot;);\r\n            msg.addHeader(&quot;format&quot;, &quot;flowed&quot;);\r\n            msg.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;8bit&quot;);\r\n\r\n            msg.setFrom(new InternetAddress(fromEmail));\r\n            msg.setReplyTo(InternetAddress.parse(sendEmailInformation.getEmail(), false));\r\n            msg.setSubject(sendEmailInformation.getSubject(), &quot;UTF-8&quot;);\r\n            msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toEmail, false));\r\n            BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n            messageBodyPart.setText(sendEmailInformation.getMessage());\r\n\r\n            Multipart multipart = new MimeMultipart();\r\n            multipart.addBodyPart(messageBodyPart);\r\n\r\n            msg.setContent(multipart);\r\n\r\n            transport = session.getTransport(&quot;smtp&quot;);\r\n            transport.connect();\r\n            transport.sendMessage(msg,msg.getRecipients(Message.RecipientType.TO));\r\n            transport.close();\r\n        }catch (Exception e) {\r\n            try {\r\n                transport.close();\r\n            }catch (Exception ignored) {\r\n\r\n            }\r\n            e.printStackTrace();\r\n            throw new CouldNotSendEmailException();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI already tried\r\n---------------\r\n\r\nAt first, I had the Email-Service as a @Bean and figured, that I should try to create a new Object for every call as I do now. So using a @Bean does not work. Also in my understanding, closing the Transport Object with transport.close(); at the end should help my problem, however it didnt&#39;t.\r\n\r\nQuestion\r\n------\r\n\r\nDoes anyone have an idea, what could solve my Problem?\r\n\r\nThanks in advance.\r\n\r\n*Edit*\r\n\r\n## Solution ##\r\n\r\nLooking for my code many days in a row and never saw the mistake, then posting this question and just minutes later having the idea that `Session session = Session.getDefaultInstance(props, auth);` might be the problem... yes it is! This always uses the same Session object, instead of creating a new one.\r\n\r\nFor those who are facing the same problem:\r\nJust use `Session session = Session.getInstance(props, auth);` instead. Hope I could help someone with that.","title":"Solved: How to dynamically send E-Mails from multiple SMTP Servers (Java SpringBoot)","body":"<h2>Current state</h2>\n<p>I have a Java SpringBoot api, which at the moment is able to dynamically send an E-Mail with javax.mail.MimeMessage. The credentials are passed as parameters (E-Mail-Address, Password, SMTP-Server, SMTP-Port). When I start the application and send the first E-Mail everything works fine.</p>\n<h2>Problem</h2>\n<p>However when I try to send another E-Mail from a different SMTP-Server, it seems that the E-Mail gets sended from the first SMTP-Server and credentials. In, for example Googlemail, every E-Mail shows the sender as well as the (SMTP-)Server which it's sended from. While the sended E-Mail-Address displays the new E-Mail-Address, the &quot;Send from&quot; (SMTP-Server) still shows the old SMTP-Server.</p>\n<h2>Goal</h2>\n<p>So what I want, is to be able to send multiple E-Mails from individual SMTP-Servers and E-Mail-Addresses, passed by parameters.</p>\n<h2>Controller</h2>\n<pre><code>@RequestMapping(&quot;/send-email&quot;)\npublic class EmailController {\n\n    public EmailController(){}\n\n    @PostMapping\n    public SentEmail sendEmail(@RequestBody SendEmailInformation sendEmailInformation) {\n        EmailService emailService = new EmailService();\n        return emailService.sendEmail(sendEmailInformation);\n    }\n\n}\n</code></pre>\n<h2>E-Mail-Service</h2>\n<pre><code>{\n    private Transport transport;\n\n    public EmailService() {}\n\n    public void sendEmail(SendEmailInformation sendEmailInformation) {\n        try{\n            String fromEmail = sendEmailInformation.getEmailAddress();\n            String password = sendEmailInformation.getPassword();\n            String toEmail = sendEmailInformation.getEmail();\n\n            Properties props = new Properties();\n            props.put(&quot;mail.smtp.host&quot;, sendEmailInformation.getSmtpServer());\n            props.put(&quot;mail.smtp.port&quot;, sendEmailInformation.getSmtpPort());\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n\n            Authenticator auth = new Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(fromEmail, password);\n                }\n            };\n\n            Session session = Session.getDefaultInstance(props, auth);\n\n            MimeMessage msg = new MimeMessage(session);\n            msg.addHeader(&quot;Content-type&quot;, &quot;text/HTML; charset=UTF-8&quot;);\n            msg.addHeader(&quot;format&quot;, &quot;flowed&quot;);\n            msg.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;8bit&quot;);\n\n            msg.setFrom(new InternetAddress(fromEmail));\n            msg.setReplyTo(InternetAddress.parse(sendEmailInformation.getEmail(), false));\n            msg.setSubject(sendEmailInformation.getSubject(), &quot;UTF-8&quot;);\n            msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toEmail, false));\n            BodyPart messageBodyPart = new MimeBodyPart();\n\n            messageBodyPart.setText(sendEmailInformation.getMessage());\n\n            Multipart multipart = new MimeMultipart();\n            multipart.addBodyPart(messageBodyPart);\n\n            msg.setContent(multipart);\n\n            transport = session.getTransport(&quot;smtp&quot;);\n            transport.connect();\n            transport.sendMessage(msg,msg.getRecipients(Message.RecipientType.TO));\n            transport.close();\n        }catch (Exception e) {\n            try {\n                transport.close();\n            }catch (Exception ignored) {\n\n            }\n            e.printStackTrace();\n            throw new CouldNotSendEmailException();\n        }\n    }\n}\n</code></pre>\n<h2>I already tried</h2>\n<p>At first, I had the Email-Service as a @Bean and figured, that I should try to create a new Object for every call as I do now. So using a @Bean does not work. Also in my understanding, closing the Transport Object with transport.close(); at the end should help my problem, however it didnt't.</p>\n<h2>Question</h2>\n<p>Does anyone have an idea, what could solve my Problem?</p>\n<p>Thanks in advance.</p>\n<p><em>Edit</em></p>\n<h2>Solution</h2>\n<p>Looking for my code many days in a row and never saw the mistake, then posting this question and just minutes later having the idea that <code>Session session = Session.getDefaultInstance(props, auth);</code> might be the problem... yes it is! This always uses the same Session object, instead of creating a new one.</p>\n<p>For those who are facing the same problem:\nJust use <code>Session session = Session.getInstance(props, auth);</code> instead. Hope I could help someone with that.</p>\n"},{"tags":["javascript","java","postgis","open-source","geoserver"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1681474193,"post_id":76012724,"comment_id":134066194,"body_markdown":"Is your server headless? Are you running java 17 with our reading the GeoServer release notes?","body":"Is your server headless? Are you running java 17 with our reading the GeoServer release notes?"},{"owner":{"account_id":15621045,"reputation":11,"user_id":11527895,"display_name":"Samith"},"score":0,"creation_date":1681521112,"post_id":76012724,"comment_id":134074763,"body_markdown":"Yes, i have installed JAVAjdk_x64_windows_hotspot_17.0.6_10.","body":"Yes, i have installed JAVAjdk_x64_windows_hotspot_17.0.6_10."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1681553832,"post_id":76012724,"comment_id":134077384,"body_markdown":"https://docs.geoserver.org/latest/en/user/production/java.html#running-on-java-17","body":"<a href=\"https://docs.geoserver.org/latest/en/user/production/java.html#running-on-java-17\" rel=\"nofollow noreferrer\">docs.geoserver.org/latest/en/user/production/&hellip;</a>"}],"owner":{"account_id":15621045,"reputation":11,"user_id":11527895,"display_name":"Samith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681458579,"creation_date":1681458579,"question_id":76012724,"body_markdown":"I wanted to visualize my shp file in the GeoServer. But it gives this error. Could you please tell me how i can solve this issue?\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U7YoC.png","title":"Data is not visualizing in the GeoServer","body":"<p>I wanted to visualize my shp file in the GeoServer. But it gives this error. Could you please tell me how i can solve this issue?\n<a href=\"https://i.stack.imgur.com/U7YoC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U7YoC.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9723,"page":502,"page_size":100}
