{"items":[{"tags":["java","gradle","unsupported-class-version","java-runtime-compiler"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1547203516,"post_id":54144042,"comment_id":95121013,"body_markdown":"Related, possibly duplicate: https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi","body":"Related, possibly duplicate: <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\" title=\"how to fix java lang unsupportedclassversionerror unsupported major minor versi\">stackoverflow.com/questions/10382929/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1547200779,"creation_date":1547200779,"answer_id":54144163,"question_id":54144042,"body_markdown":"Java 8 doesn&#39;t support quantum computing. You need Java 11 or later.\r\n\r\nJokes aside, the project you&#39;re including [depends](https://github.com/gluonhq/strange/blob/master/pom.xml) on [OpenJFX 11-ea+24](https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX), which requires Java 11.\r\n\r\nGet OpenJDK 11 [here](https://github.com/ojdkbuild/ojdkbuild/releases).\r\n\r\nNote: `UnsupportedClassVersionError` prints a number like `55.0`. [Subtract](https://fabianlee.org/2018/01/19/java-determining-the-java-version-used-to-compile-a-class-class-file-has-the-wrong-version/) `44` from it to determine the needed Java version.","title":"UnsupportedClassVersionError : Error with Gradle and Java Runtime version","body":"<p>Java 8 doesn't support quantum computing. You need Java 11 or later.</p>\n\n<p>Jokes aside, the project you're including <a href=\"https://github.com/gluonhq/strange/blob/master/pom.xml\" rel=\"noreferrer\">depends</a> on <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/Building+OpenJFX\" rel=\"noreferrer\">OpenJFX 11-ea+24</a>, which requires Java 11.</p>\n\n<p>Get OpenJDK 11 <a href=\"https://github.com/ojdkbuild/ojdkbuild/releases\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Note: <code>UnsupportedClassVersionError</code> prints a number like <code>55.0</code>. <a href=\"https://fabianlee.org/2018/01/19/java-determining-the-java-version-used-to-compile-a-class-class-file-has-the-wrong-version/\" rel=\"noreferrer\">Subtract</a> <code>44</code> from it to determine the needed Java version.</p>\n"},{"tags":[],"owner":{"account_id":22256785,"reputation":101,"user_id":16488841,"display_name":"Happy Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666596096,"creation_date":1666596096,"answer_id":74177735,"question_id":54144042,"body_markdown":"Last week, I updated my Mac&#39;s Android Studio from 2021.2.1 to 2021.3.1. Then our project was built failed for the similar reason: \r\n\r\n&gt; Cause: com/android/tools/idea/gradle/run/OutputBuildAction has been\r\n&gt; compiled by a more recent version of the Java Runtime (class file\r\n&gt; version 55.0), this version of the Java Runtime only recognizes class\r\n&gt; file versions up to 53.0\r\n\r\nI found several discussion on the Jetbrains YouTrack Forum: [Failed to run Android project in the Idea 2020.3 EAP (OutputBuildAction has been compiled by a more recent version of the Java Runtime (class file version 55.0))][1]. The suggested workaround is to update the defined Gradle JDK version to JDK11, but many Android projects don&#39;t support Gradle JDK11, so does mine.\r\n\r\nAnother solution is to downgrade Android Studio from 2021.3.1 to 2021.2.1, and it worked for me. Hope it helps.\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-251407/Failed-to-run-Android-project-in-the-Idea-20203-EAP-OutputBuildAction-has-been-compiled-by-a-more-recent-version-of-the-Java","title":"UnsupportedClassVersionError : Error with Gradle and Java Runtime version","body":"<p>Last week, I updated my Mac's Android Studio from 2021.2.1 to 2021.3.1. Then our project was built failed for the similar reason:</p>\n<blockquote>\n<p>Cause: com/android/tools/idea/gradle/run/OutputBuildAction has been\ncompiled by a more recent version of the Java Runtime (class file\nversion 55.0), this version of the Java Runtime only recognizes class\nfile versions up to 53.0</p>\n</blockquote>\n<p>I found several discussion on the Jetbrains YouTrack Forum: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-251407/Failed-to-run-Android-project-in-the-Idea-20203-EAP-OutputBuildAction-has-been-compiled-by-a-more-recent-version-of-the-Java\" rel=\"nofollow noreferrer\">Failed to run Android project in the Idea 2020.3 EAP (OutputBuildAction has been compiled by a more recent version of the Java Runtime (class file version 55.0))</a>. The suggested workaround is to update the defined Gradle JDK version to JDK11, but many Android projects don't support Gradle JDK11, so does mine.</p>\n<p>Another solution is to downgrade Android Studio from 2021.3.1 to 2021.2.1, and it worked for me. Hope it helps.</p>\n"}],"owner":{"account_id":15098547,"reputation":75,"user_id":10896279,"display_name":"Lobotomeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16602,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":54144163,"answer_count":2,"score":6,"last_activity_date":1666596096,"creation_date":1547200340,"question_id":54144042,"body_markdown":"I&#39;m very new to Gradle, and I wanted to give a try to this cool project : *Strange*, a Quantum Computing API for Java (I&#39;ll leave a link to the github project below). \r\nThey recommend using Gradle, so I did.\r\n\r\nIn the directory I&#39;m working on, there&#39;s only 3 files : \r\n\r\n 1. My java main class **HelloStrangeWorld.java**,\r\n 2. **build.gradle**,\r\n 3. and **settings.gradle**\r\n\r\n  \r\n\r\nNow I just wanted to test, in my directory, the command :\r\n\r\n    $ gradle tasks\r\n\r\nAnd I got this :\r\n\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\njava.lang.UnsupportedClassVersionError: org/javamodularity/moduleplugin/ModuleSystemPlugin has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n&gt; org/javamodularity/moduleplugin/ModuleSystemPlugin has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n***What I have :***\r\n-------------------\r\n\r\n - My Java is set on 1.8 \r\n\r\n - I installed Graddle using SDKMAN\r\n\r\nThe content of **build.gradle** is the following : \r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;application&#39;\r\n        id &#39;org.javamodularity.moduleplugin&#39; version &#39;1.2.1&#39;\r\n    }\r\n    \r\n    group &#39;helloStrangeWorld&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n        compile &#39;com.gluonhq:strange:0.0.5&#39;\r\n    }\r\n    \r\n    mainClassName = &#39;HelloStrangeWorld&#39;\r\n\r\nThe content of my main class is the following :\r\n\r\n\r\n    import com.gluonhq.strange.*;\r\n    import com.gluonhq.strange.gate.*;\r\n    import com.gluonhq.strange.local.SimpleQuantumExecutionEnvironment;\r\n    import java.util.Arrays;\r\n    \r\n    public class HelloStrangeWorld {\r\n    \r\n        public static void main(String[] args) {\r\n            Program p = new Program(2);\r\n            Step s = new Step();\r\n            s.addGate(new X(0));\r\n            p.addStep(s);\r\n            Step t = new Step();\r\n            t.addGate(new Hadamard(0));\r\n            t.addGate(new X(1));\r\n            p.addStep(t);\r\n            SimpleQuantumExecutionEnvironment sqee = new SimpleQuantumExecutionEnvironment();\r\n            Result res = sqee.runProgram(p);\r\n            Qubit[] qubits = res.getQubits();\r\n            Arrays.asList(qubits).forEach(q -&gt; System.out.println(&quot;qubit with probability on 1 = &quot;+q.getProbability()+&quot;, measured it gives &quot;+ q.measure()));\r\n        }\r\n    \r\n    }\r\n\r\n***What I&#39;ve tried so far :***\r\n------------------------------\r\n\r\n - I have checked that my JAVA_HOME is setted to my jdk8. I use zsh, so I checked on both .bashrc and .zshrc, and the env variable is setted in both place.\r\n\r\n\r\n - I changed from Java 8 to Java 7, it returns me that Gradle isn&#39;t supposed to work with Java 7. So I went back to Java 8\r\n\r\n - I checked the symbolic links setted in /etc/alternatives and all the java related are pointing to the version 8 of java\r\n\r\n\r\n\r\nAm I missing something obvious about the use of Gradle ?\r\n\r\nThank you\r\n\r\n\r\nHere&#39;s the link for the [Strange project on gitHub][1].\r\n\r\n\r\n  [1]: https://github.com/gluonhq/strange/tree/master","title":"UnsupportedClassVersionError : Error with Gradle and Java Runtime version","body":"<p>I'm very new to Gradle, and I wanted to give a try to this cool project : <em>Strange</em>, a Quantum Computing API for Java (I'll leave a link to the github project below). \nThey recommend using Gradle, so I did.</p>\n\n<p>In the directory I'm working on, there's only 3 files : </p>\n\n<ol>\n<li>My java main class <strong>HelloStrangeWorld.java</strong>,</li>\n<li><strong>build.gradle</strong>,</li>\n<li>and <strong>settings.gradle</strong></li>\n</ol>\n\n<p>Now I just wanted to test, in my directory, the command :</p>\n\n<pre><code>$ gradle tasks\n</code></pre>\n\n<p>And I got this :</p>\n\n<p>FAILURE: Build failed with an exception.\n* What went wrong:\njava.lang.UnsupportedClassVersionError: org/javamodularity/moduleplugin/ModuleSystemPlugin has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n\n<blockquote>\n  <p>org/javamodularity/moduleplugin/ModuleSystemPlugin has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n</blockquote>\n\n<hr>\n\n<h2><strong><em>What I have :</em></strong></h2>\n\n<ul>\n<li><p>My Java is set on 1.8 </p></li>\n<li><p>I installed Graddle using SDKMAN</p></li>\n</ul>\n\n<p>The content of <strong>build.gradle</strong> is the following : </p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.javamodularity.moduleplugin' version '1.2.1'\n}\n\ngroup 'helloStrangeWorld'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n    compile 'com.gluonhq:strange:0.0.5'\n}\n\nmainClassName = 'HelloStrangeWorld'\n</code></pre>\n\n<p>The content of my main class is the following :</p>\n\n<pre><code>import com.gluonhq.strange.*;\nimport com.gluonhq.strange.gate.*;\nimport com.gluonhq.strange.local.SimpleQuantumExecutionEnvironment;\nimport java.util.Arrays;\n\npublic class HelloStrangeWorld {\n\n    public static void main(String[] args) {\n        Program p = new Program(2);\n        Step s = new Step();\n        s.addGate(new X(0));\n        p.addStep(s);\n        Step t = new Step();\n        t.addGate(new Hadamard(0));\n        t.addGate(new X(1));\n        p.addStep(t);\n        SimpleQuantumExecutionEnvironment sqee = new SimpleQuantumExecutionEnvironment();\n        Result res = sqee.runProgram(p);\n        Qubit[] qubits = res.getQubits();\n        Arrays.asList(qubits).forEach(q -&gt; System.out.println(\"qubit with probability on 1 = \"+q.getProbability()+\", measured it gives \"+ q.measure()));\n    }\n\n}\n</code></pre>\n\n<h2><strong><em>What I've tried so far :</em></strong></h2>\n\n<ul>\n<li><p>I have checked that my JAVA_HOME is setted to my jdk8. I use zsh, so I checked on both .bashrc and .zshrc, and the env variable is setted in both place.</p></li>\n<li><p>I changed from Java 8 to Java 7, it returns me that Gradle isn't supposed to work with Java 7. So I went back to Java 8</p></li>\n<li><p>I checked the symbolic links setted in /etc/alternatives and all the java related are pointing to the version 8 of java</p></li>\n</ul>\n\n<p>Am I missing something obvious about the use of Gradle ?</p>\n\n<p>Thank you</p>\n\n<p>Here's the link for the <a href=\"https://github.com/gluonhq/strange/tree/master\" rel=\"nofollow noreferrer\">Strange project on gitHub</a>.</p>\n"},{"tags":["java","eclipse","hibernate","maven","jpa"],"comments":[{"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"score":0,"creation_date":1414523994,"post_id":26616723,"comment_id":41844648,"body_markdown":"maybe same problem: http://stackoverflow.com/questions/20734540/nosuchmethoderror-in-javax-persistence-table-indexesljavax-persistence-index","body":"maybe same problem: <a href=\"http://stackoverflow.com/questions/20734540/nosuchmethoderror-in-javax-persistence-table-indexesljavax-persistence-index\" title=\"nosuchmethoderror in javax persistence table indexesljavax persistence index\">stackoverflow.com/questions/20734540/&hellip;</a>"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":1,"creation_date":1414524081,"post_id":26616723,"comment_id":41844698,"body_markdown":"@pL4Gu33 I already read that posting.  The question and answer are related to the play framework, which I am not using in this project, so I think this is a different question, unless you can show a specific thing I can do in my eclipse to resolve this error.","body":"@pL4Gu33 I already read that posting.  The question and answer are related to the play framework, which I am not using in this project, so I think this is a different question, unless you can show a specific thing I can do in my eclipse to resolve this error."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1414527439,"post_id":26616723,"comment_id":41846471,"body_markdown":"@pL4Gu33 I just added a note in my posting that toggling the hibernate version can turn the error off and then bring the error back again.  Does this help identify the solution?","body":"@pL4Gu33 I just added a note in my posting that toggling the hibernate version can turn the error off and then bring the error back again.  Does this help identify the solution?"}],"answers":[{"tags":[],"owner":{"account_id":1612399,"reputation":1128,"user_id":1490991,"display_name":"hcura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414685846,"creation_date":1414685846,"answer_id":26658126,"question_id":26616723,"body_markdown":"First you need to figure out which dependency is bringing the wrong JPA. To do this use maven dependency:tree. The output is pretty straightforward and you will be able to determine what to exclude.\r\n\r\nTo exclude do something like this:\r\n\r\n    &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;sample.ProjectA&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Project-A&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;  &lt;!-- declare the exclusion here --&gt;\r\n          &lt;groupId&gt;sample.ProjectB&lt;/groupId&gt;\r\n          &lt;artifactId&gt;Project-B&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt; \r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\nSorry I can&#39;t help more but with the information you provide, this is all I can do.\r\n\r\nCheers.","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>First you need to figure out which dependency is bringing the wrong JPA. To do this use maven dependency:tree. The output is pretty straightforward and you will be able to determine what to exclude.</p>\n\n<p>To exclude do something like this:</p>\n\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;sample.ProjectA&lt;/groupId&gt;\n  &lt;artifactId&gt;Project-A&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;  &lt;!-- declare the exclusion here --&gt;\n      &lt;groupId&gt;sample.ProjectB&lt;/groupId&gt;\n      &lt;artifactId&gt;Project-B&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt; \n&lt;/dependency&gt;\n</code></pre>\n\n<p></p>\n\n<p>Sorry I can't help more but with the information you provide, this is all I can do.</p>\n\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":385409,"reputation":978,"user_id":742533,"display_name":"mrjmh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415042968,"creation_date":1415042968,"answer_id":26721596,"question_id":26616723,"body_markdown":"I resolved the same issue in my project by excluding the Hibernate ejb3 lib that was included via a transitive dependency.  The dependency from maven dependency:tree was as follows:\r\n\r\n    [INFO] |  +- org.hibernate:hibernate-annotations:jar:3.4.0.GA:compile\r\n    [INFO] |  |  +- org.hibernate:ejb3-persistence:jar:1.0.2.GA:compile\r\n\r\nIn my project, this was originally included in the executable jar my build process produced, via the maven assembly plugin. To exclude this (and other libs), I used the assembly plugin&#39;s dependencySet configuration in src/main/assemble/test-jar-with-dependencies.xml:\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd&quot;&gt;\r\n    &lt;id&gt;test-jar-with-dependencies&lt;/id&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n\t&lt;dependencySets&gt;\t\r\n\t\t&lt;dependencySet&gt;\r\n\t\t\t&lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n\t\t\t&lt;excludes&gt;\r\n\t\t\t\t&lt;exclude&gt;org.eclipse.persistence&lt;/exclude&gt;\t\t\t\r\n\t\t\t\t&lt;exclude&gt;org.hibernate:hibernate-annotations:jar:3.4.0.GA&lt;/exclude&gt;\r\n\t\t\t\t&lt;exclude&gt;org.hibernate:hibernate-commons-annotations:jar:3.1.0.GA&lt;/exclude&gt;\t\r\n\t\t\t\t&lt;exclude&gt;org.hibernate:ejb3-persistence&lt;/exclude&gt;\r\n\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n\t\t\t&lt;useProjectAttachments&gt;true&lt;/useProjectAttachments&gt;\r\n\t\t\t&lt;unpack&gt;true&lt;/unpack&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependencySet&gt;\r\n\t&lt;/dependencySets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nHope that helps!\r\n\r\n","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>I resolved the same issue in my project by excluding the Hibernate ejb3 lib that was included via a transitive dependency.  The dependency from maven dependency:tree was as follows:</p>\n\n<pre><code>[INFO] |  +- org.hibernate:hibernate-annotations:jar:3.4.0.GA:compile\n[INFO] |  |  +- org.hibernate:ejb3-persistence:jar:1.0.2.GA:compile\n</code></pre>\n\n<p>In my project, this was originally included in the executable jar my build process produced, via the maven assembly plugin. To exclude this (and other libs), I used the assembly plugin's dependencySet configuration in src/main/assemble/test-jar-with-dependencies.xml:</p>\n\n<pre><code>&lt;assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd\"&gt;\n&lt;id&gt;test-jar-with-dependencies&lt;/id&gt;\n&lt;formats&gt;\n    &lt;format&gt;jar&lt;/format&gt;\n&lt;/formats&gt;\n&lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n&lt;dependencySets&gt;    \n    &lt;dependencySet&gt;\n        &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;org.eclipse.persistence&lt;/exclude&gt;          \n            &lt;exclude&gt;org.hibernate:hibernate-annotations:jar:3.4.0.GA&lt;/exclude&gt;\n            &lt;exclude&gt;org.hibernate:hibernate-commons-annotations:jar:3.1.0.GA&lt;/exclude&gt; \n            &lt;exclude&gt;org.hibernate:ejb3-persistence&lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n        &lt;useProjectAttachments&gt;true&lt;/useProjectAttachments&gt;\n        &lt;unpack&gt;true&lt;/unpack&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependencySet&gt;\n&lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n\n<p>Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":5383476,"reputation":11,"user_id":4288121,"display_name":"Timmy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416842854,"creation_date":1416842854,"answer_id":27108254,"question_id":26616723,"body_markdown":"you can import hibernate-jpa-2.1-api-1.0.0.Final.jar.\r\nit is not ejb3-persistence.jar.","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>you can import hibernate-jpa-2.1-api-1.0.0.Final.jar.\nit is not ejb3-persistence.jar.</p>\n"},{"tags":[],"owner":{"account_id":989613,"reputation":146,"user_id":1007285,"display_name":"Denys"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1418243956,"creation_date":1418241787,"answer_id":27409828,"question_id":26616723,"body_markdown":"In my case the culprit was javaee-api and glassfish libs that didn&#39;t support JPA 2.1","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>In my case the culprit was javaee-api and glassfish libs that didn't support JPA 2.1</p>\n"},{"tags":[],"owner":{"account_id":3464204,"reputation":79,"user_id":3232718,"display_name":"sinihong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421787825,"creation_date":1421787825,"answer_id":28055089,"question_id":26616723,"body_markdown":"In case of JBoss7, you should replace the api jar in jboss7/modules/javax/persistence/api with updating module.xml file with the updated jar file. ","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>In case of JBoss7, you should replace the api jar in jboss7/modules/javax/persistence/api with updating module.xml file with the updated jar file. </p>\n"},{"tags":[],"owner":{"account_id":5684044,"reputation":131,"user_id":4494154,"display_name":"James Akim"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1666595287,"creation_date":1422263411,"answer_id":28147230,"question_id":26616723,"body_markdown":"If you are using Jboss 7.1.1, jboss already has `hibernate-jpa-2.0` in its classpath, so during runtime it uses the one in its classpath, not the one you&#39;ve deployed with your app. To point jboss to the version that you want (`hibernate-jpa-2.1`) do the following: \r\n\r\n1. copy `hibernate-jpa-2.1-api-1.0.0.final.jar` to the following directory : `jboss-as-7.1.1.Final/modules/javax/persistence/api/main`\r\n\r\n2. open `module.xml` and change the resource-root as follows : \r\n`resource-root path=&quot;hibernate-jpa-2.1-api-1.0.0.final.jar&quot;`\r\n(pointing it to jpa 2.1)\r\n\r\n3. re-compile and re-deploy your app, then you are good to go.","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>If you are using Jboss 7.1.1, jboss already has <code>hibernate-jpa-2.0</code> in its classpath, so during runtime it uses the one in its classpath, not the one you've deployed with your app. To point jboss to the version that you want (<code>hibernate-jpa-2.1</code>) do the following:</p>\n<ol>\n<li><p>copy <code>hibernate-jpa-2.1-api-1.0.0.final.jar</code> to the following directory : <code>jboss-as-7.1.1.Final/modules/javax/persistence/api/main</code></p>\n</li>\n<li><p>open <code>module.xml</code> and change the resource-root as follows :\n<code>resource-root path=&quot;hibernate-jpa-2.1-api-1.0.0.final.jar&quot;</code>\n(pointing it to jpa 2.1)</p>\n</li>\n<li><p>re-compile and re-deploy your app, then you are good to go.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8140816,"reputation":71,"user_id":6131039,"display_name":"Adam Davis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1482339486,"creation_date":1482339486,"answer_id":41268032,"question_id":26616723,"body_markdown":"I spent a lot of time on this.\r\n\r\nFor me, it was the javax.persistence.jar conflicting with hibernate jars.\r\n\r\nI removed the persistence.jar and it started working.","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>I spent a lot of time on this.</p>\n\n<p>For me, it was the javax.persistence.jar conflicting with hibernate jars.</p>\n\n<p>I removed the persistence.jar and it started working.</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36258,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":27409828,"answer_count":7,"score":12,"last_activity_date":1666595287,"creation_date":1414523921,"question_id":26616723,"body_markdown":"I am upgrading jpa, hibernate, spring, and jdk to enable the new features from JPA 2.1.  But I am getting the following error:  \r\n  \r\n    java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;  \r\n    \r\nI have read other postings about this, but they do not resolve the error on my machine.  For instance, &lt;a href=&quot;https://stackoverflow.com/questions/22431153/getting-nosuchmethoderror-javax-persistence-table-indexes-while-performing-jp&quot;&gt;SJuan76&#39;s answer to this posting &lt;/a&gt;suggests upgrading to jpa 2.1, but I have set the eclipse jpa project facet to version 2.1 and I have also included `hibernate-jpa-2.1-api` in my pom.xml.  You can read all the versions of the various libraries in the complete pom.xml &lt;a href=&quot;https://jumpshare.com/v/4uC5ssP2AfF7HrW84Roe?b=EKq81LlN7Did4OzmAEOR&quot;&gt;by clicking on this link&lt;/a&gt;.  **What do I need to change in the pom.xml or in the eclipse project to resolve this error?**  \r\n  \r\n**Note: I can get rid of the error by changing the hibernate version in the pom.xml back to `&lt;hibernate.version&gt;4.2.1.Final&lt;/hibernate.version&gt;`, but this defeats the purpose of upgrading.  Does the fact that changing the hibernate version turns the error on and off help us to diagnose the problem?**  \r\n  \r\nIf the problem is multiple jars conflicting with each other, I could use the eclipse type manager to disable one of the jars, but which jar would I look for?  \r\n  \r\nHere is the complete stack trace:  \r\n    \r\n    ERROR ContextLoader - Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [spring/business-config.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389) ~[spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294) ~[spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112) [spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939) [catalina.jar:7.0.42]\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434) [catalina.jar:7.0.42]\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [catalina.jar:7.0.42]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559) [catalina.jar:7.0.42]\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549) [catalina.jar:7.0.42]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262) [na:1.7.0_45]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_45]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_45]\r\n        at java.lang.Thread.run(Thread.java:744) [na:1.7.0_45]\r\n    Caused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n        at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:936) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:824) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3788) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3742) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1410) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:152) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:336) ~[spring-orm-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318) ~[spring-orm-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n        ... 21 common frames omitted\r\n    Oct 28, 2014 11:01:16 AM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [spring/business-config.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\r\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\r\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\r\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:744)\r\n    Caused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n        at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:936)\r\n        at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:824)\r\n        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3788)\r\n        at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3742)\r\n        at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1410)\r\n        at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843)\r\n        at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842)\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:152)\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:336)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\r\n    ... 21 more\r\n","title":"java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;","body":"<p>I am upgrading jpa, hibernate, spring, and jdk to enable the new features from JPA 2.1.  But I am getting the following error:  </p>\n\n<pre><code>java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;  \n</code></pre>\n\n<p>I have read other postings about this, but they do not resolve the error on my machine.  For instance, <a href=\"https://stackoverflow.com/questions/22431153/getting-nosuchmethoderror-javax-persistence-table-indexes-while-performing-jp\">SJuan76's answer to this posting </a>suggests upgrading to jpa 2.1, but I have set the eclipse jpa project facet to version 2.1 and I have also included <code>hibernate-jpa-2.1-api</code> in my pom.xml.  You can read all the versions of the various libraries in the complete pom.xml <a href=\"https://jumpshare.com/v/4uC5ssP2AfF7HrW84Roe?b=EKq81LlN7Did4OzmAEOR\" rel=\"nofollow noreferrer\">by clicking on this link</a>.  <strong>What do I need to change in the pom.xml or in the eclipse project to resolve this error?</strong>  </p>\n\n<p><strong>Note: I can get rid of the error by changing the hibernate version in the pom.xml back to <code>&lt;hibernate.version&gt;4.2.1.Final&lt;/hibernate.version&gt;</code>, but this defeats the purpose of upgrading.  Does the fact that changing the hibernate version turns the error on and off help us to diagnose the problem?</strong>  </p>\n\n<p>If the problem is multiple jars conflicting with each other, I could use the eclipse type manager to disable one of the jars, but which jar would I look for?  </p>\n\n<p>Here is the complete stack trace:  </p>\n\n<pre><code>ERROR ContextLoader - Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/business-config.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482) ~[spring-context-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389) ~[spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294) ~[spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112) [spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939) [catalina.jar:7.0.42]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434) [catalina.jar:7.0.42]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) [catalina.jar:7.0.42]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559) [catalina.jar:7.0.42]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549) [catalina.jar:7.0.42]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262) [na:1.7.0_45]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_45]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_45]\n    at java.lang.Thread.run(Thread.java:744) [na:1.7.0_45]\nCaused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:936) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:824) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3788) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3742) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1410) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397) ~[hibernate-core-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:152) ~[hibernate-entitymanager-4.3.5.Final.jar:4.3.5.Final]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:336) ~[spring-orm-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318) ~[spring-orm-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549) ~[spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n    ... 21 common frames omitted\nOct 28, 2014 11:01:16 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/business-config.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:298)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:973)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:750)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:936)\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:824)\n    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3788)\n    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3742)\n    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1410)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1844)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:850)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:843)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:397)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:842)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:152)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:336)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:318)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\n... 21 more\n</code></pre>\n"},{"tags":["java",".net","exception"],"answers":[{"tags":[],"owner":{"account_id":9969,"reputation":13679,"user_id":18636,"display_name":"Derek Slager"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1222207042,"creation_date":1222207042,"answer_id":124173,"question_id":124143,"body_markdown":"The basic design philosophy of C# is that actually catching exceptions is rarely useful, whereas cleaning up resources in exceptional situations is quite important. I think it&#39;s fair to say that `using` (the IDisposable pattern) is their answer to checked exceptions. See [1] for more.\r\n\r\n1. http://www.artima.com/intv/handcuffs.html","title":"Why are Exceptions not Checked in .NET?","body":"<p>The basic design philosophy of C# is that actually catching exceptions is rarely useful, whereas cleaning up resources in exceptional situations is quite important. I think it's fair to say that <code>using</code> (the IDisposable pattern) is their answer to checked exceptions. See [1] for more.</p>\n\n<ol>\n<li><a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"noreferrer\">http://www.artima.com/intv/handcuffs.html</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7042,"reputation":21329,"user_id":12034,"accept_rate":90,"display_name":"noah"},"down_vote_count":3,"up_vote_count":46,"is_accepted":true,"score":43,"last_activity_date":1222207046,"creation_date":1222207046,"answer_id":124175,"question_id":124143,"body_markdown":"Because the response to checked exceptions is almost always:\r\n\r\n    try {\r\n      // exception throwing code\r\n    } catch(Exception e) {\r\n       // either\r\n       log.error(&quot;Error fooing bar&quot;,e);\r\n       // OR\r\n       throw new RuntimeException(e);\r\n    }\r\n\r\nIf you actually know that there is something you can do if a particular exception is thrown, then you can catch it and then handle it, but otherwise it&#39;s just incantations to appease the compiler.","title":"Why are Exceptions not Checked in .NET?","body":"<p>Because the response to checked exceptions is almost always:</p>\n\n<pre><code>try {\n  // exception throwing code\n} catch(Exception e) {\n   // either\n   log.error(\"Error fooing bar\",e);\n   // OR\n   throw new RuntimeException(e);\n}\n</code></pre>\n\n<p>If you actually know that there is something you can do if a particular exception is thrown, then you can catch it and then handle it, but otherwise it's just incantations to appease the compiler.</p>\n"},{"tags":[],"owner":{"account_id":2794,"reputation":88136,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1222207111,"creation_date":1222207111,"answer_id":124180,"question_id":124143,"body_markdown":"I went from Java to C# because of a job change.  At first, I was a little concerned about the difference, but in practice, it hasn&#39;t made a difference.\r\n\r\nMaybe, it&#39;s because I come from C++, which has the exception declaration, but it&#39;s not commonly used.  I write every single line of code as if it could throw -- always use using around Disposable and think about cleanup I should do in finally.\r\n\r\nIn retrospect the propagation of the throws declaration in Java didn&#39;t really get me anything.  \r\n\r\nI would like a way to say that a function definitely never throws -- I think that would be more useful.","title":"Why are Exceptions not Checked in .NET?","body":"<p>I went from Java to C# because of a job change.  At first, I was a little concerned about the difference, but in practice, it hasn't made a difference.</p>\n\n<p>Maybe, it's because I come from C++, which has the exception declaration, but it's not commonly used.  I write every single line of code as if it could throw -- always use using around Disposable and think about cleanup I should do in finally.</p>\n\n<p>In retrospect the propagation of the throws declaration in Java didn't really get me anything.  </p>\n\n<p>I would like a way to say that a function definitely never throws -- I think that would be more useful.</p>\n"},{"tags":[],"owner":{"account_id":10547,"reputation":32116,"user_id":19990,"accept_rate":44,"display_name":"Armin Ronacher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222207611,"creation_date":1222207611,"answer_id":124225,"question_id":124143,"body_markdown":"Additionally to the responses that were written already, not having checked exceptions helps you in many situations a lot.  Checked exceptions make generics harder to implement and if you have read the closure proposals you will notice that every single closure proposal has to work around checked exceptions in a rather ugly way.","title":"Why are Exceptions not Checked in .NET?","body":"<p>Additionally to the responses that were written already, not having checked exceptions helps you in many situations a lot.  Checked exceptions make generics harder to implement and if you have read the closure proposals you will notice that every single closure proposal has to work around checked exceptions in a rather ugly way.</p>\n"},{"tags":[],"owner":{"account_id":10689,"reputation":27648,"user_id":20310,"accept_rate":57,"display_name":"Constantin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1457732870,"creation_date":1222207710,"answer_id":124231,"question_id":124143,"body_markdown":"By the time .NET was designed, Java had checked exceptions for quite some time and this feature was viewed by Java developers at best as &lt;del&gt;[controversial](http://andersnoras.com/blogs/anoras/archive/2007/07/16/look-mom-no-checked-exception.aspx)&lt;/del&gt; [controversial](https://web.archive.org/web/20081012105853/http://andersnoras.com/blogs/anoras/archive/2007/07/16/look-mom-no-checked-exception.aspx). Thus .NET designers [chose](http://www.artima.com/intv/handcuffs.html) not to include it in C# language.","title":"Why are Exceptions not Checked in .NET?","body":"<p>By the time .NET was designed, Java had checked exceptions for quite some time and this feature was viewed by Java developers at best as <del><a href=\"http://andersnoras.com/blogs/anoras/archive/2007/07/16/look-mom-no-checked-exception.aspx\" rel=\"nofollow noreferrer\">controversial</a></del> <a href=\"https://web.archive.org/web/20081012105853/http://andersnoras.com/blogs/anoras/archive/2007/07/16/look-mom-no-checked-exception.aspx\" rel=\"nofollow noreferrer\">controversial</a>. Thus .NET designers <a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"nofollow noreferrer\">chose</a> not to include it in C# language.</p>\n"},{"tags":[],"owner":{"account_id":3953,"reputation":12996,"user_id":5806,"accept_rate":86,"display_name":"Steve Morgan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1310237330,"creation_date":1222208122,"answer_id":124261,"question_id":124143,"body_markdown":"Interestingly, the guys at Microsoft Research have added checked exceptions to [Spec#][1], their superset of C#.\r\n\r\n\r\n  [1]: http://research.microsoft.com/SpecSharp/ &quot;Spec#&quot;","title":"Why are Exceptions not Checked in .NET?","body":"<p>Interestingly, the guys at Microsoft Research have added checked exceptions to <a href=\"http://research.microsoft.com/SpecSharp/\" rel=\"nofollow noreferrer\" title=\"Spec#\">Spec#</a>, their superset of C#.</p>\n"},{"tags":[],"owner":{"account_id":1345,"reputation":20408,"user_id":1796,"accept_rate":92,"display_name":"Andrei R&#238;nea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222209768,"creation_date":1222209768,"answer_id":124368,"question_id":124143,"body_markdown":"I sometimes miss checked exceptions in C#/.NET.\r\n\r\nI suppose besides Java no other notable platform has them. Maybe the .NET guys just went with the flow...","title":"Why are Exceptions not Checked in .NET?","body":"<p>I sometimes miss checked exceptions in C#/.NET.</p>\n\n<p>I suppose besides Java no other notable platform has them. Maybe the .NET guys just went with the flow...</p>\n"},{"tags":[],"owner":{"account_id":4440,"reputation":36218,"user_id":6682,"accept_rate":67,"display_name":"Atif Aziz"},"down_vote_count":1,"up_vote_count":100,"is_accepted":false,"score":99,"last_activity_date":1666593440,"creation_date":1222247054,"answer_id":126122,"question_id":124143,"body_markdown":"In the article [The Trouble with Checked Exceptions][1] and in Anders Hejlsberg&#39;s (designer of the C# language) own voice, there are three main reasons for C# not supporting checked exceptions as they are found and verified in Java:\r\n\r\n  - **Neutral on Checked Exceptions**\r\n\r\n    &gt; “C# is basically silent on the checked\r\n    &gt; exceptions issue. Once a better\r\n    &gt; solution is known—and trust me we\r\n    &gt; continue to think about it—we can go\r\n    &gt; back and actually put something in\r\n    &gt; place.”\r\n\r\n  - **Versioning with Checked Exceptions**\r\n\r\n    &gt; “Adding a new exception to a throws\r\n    &gt; clause in a new version breaks client\r\n    &gt; code. It&#39;s like adding a method to an\r\n    &gt; interface. After you publish an\r\n    &gt; interface, it is for all practical\r\n    &gt; purposes immutable, …”\r\n\r\n    &gt; “It is funny how people think that the\r\n    &gt; important thing about exceptions    is\r\n    &gt; handling them. That is not the\r\n    &gt; important thing about exceptions. In a\r\n    &gt; well-written application there&#39;s a\r\n    &gt; ratio of ten to one, in my opinion, of\r\n    &gt; try finally to try catch. Or in C#,\r\n    &gt; [`using`][2] statements, which are\r\n    &gt; like try finally.”\r\n\r\n  - **Scalability of Checked Exceptions**\r\n\r\n    &gt; “In the small, checked exceptions are\r\n    &gt; very enticing…The trouble\r\n    &gt; begins when you start building big\r\n    &gt; systems where you&#39;re talking to four\r\n    &gt; or five different subsystems. Each\r\n    &gt; subsystem throws four to ten\r\n    &gt; exceptions. Now, each time you walk up\r\n    &gt; the ladder of aggregation, you have\r\n    &gt; this exponential hierarchy below you\r\n    &gt; of exceptions you have to deal with.\r\n    &gt; You end up having to declare 40\r\n    &gt; exceptions that you might throw.…\r\n    &gt; It just balloons out of control.”\r\n\r\nIn his article, “[Why doesn&#39;t C# have exception specifications?][3]”, [Anson Horton][4] (Visual C# Program Manager) also lists the following reasons (see the article for details on each point):\r\n\r\n  - Versioning\r\n  - Productivity and code quality\r\n  - Impracticality of having class author differentiate between \r\n    *checked* and *unchecked* exceptions\r\n  - Difficulty of determining the correct exceptions for interfaces.\r\n\r\nIt is interesting to note that C# does, nonetheless, support documentation of exceptions thrown by a given method via the [`&lt;exception&gt;`][5] tag and the compiler even takes the trouble to verify that the referenced exception type does indeed exist. There is, however, no check made at the call sites or usage of the method.\r\n\r\nYou may also want to look into the [Exception Hunter][6], which is a commerical tool by [Red Gate Software][7], that uses static analysis to determine and report exceptions thrown by a method and which may potentially go uncaught:\r\n\r\n&gt; Exception Hunter is a new analysis\r\n&gt; tool that finds and reports the set of\r\n&gt; possible exceptions your functions\r\n&gt; might throw – before you even ship.\r\n&gt; With it, you can locate unhandled\r\n&gt; exceptions easily and quickly, down to\r\n&gt; the line of code that is throwing the\r\n&gt; exceptions. Once you have the results,\r\n&gt; you can decide which exceptions need\r\n&gt; to be handled (with some exception\r\n&gt; handling code) before you release your\r\n&gt; application into the wild.\r\n\r\n \r\n\r\nFinally, [Bruce Eckel][8], author of [Thinking in Java][9], has an article called, “[Does Java need Checked Exceptions?][10]”, that may be worth reading up as well because the question of why checked exceptions are not there in C# usually takes root in comparisons to Java.\r\n\r\n\r\n  [1]: http://www.artima.com/intv/handcuffs.html\r\n  [2]: http://msdn.microsoft.com/en-us/library/aa664736.aspx\r\n  [3]: http://msdn.microsoft.com/en-us/vcsharp/aa336812.aspx\r\n  [4]: http://blogs.msdn.com/ansonh/\r\n  [5]: http://msdn.microsoft.com/en-us/library/w1htk11d.aspx\r\n  [6]: http://www.red-gate.com/products/exception_hunter/index.htm\r\n  [7]: http://www.red-gate.com/\r\n  [8]: https://www.mindviewllc.com/about/\r\n  [9]: https://www.amazon.com/Thinking-Java-4th-Bruce-Eckel/dp/0131872486/\r\n  [10]: https://web.archive.org/web/20180516002915/http://www.mindview.net/Etc/Discussions/CheckedExceptions","title":"Why are Exceptions not Checked in .NET?","body":"<p>In the article <a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"nofollow noreferrer\">The Trouble with Checked Exceptions</a> and in Anders Hejlsberg's (designer of the C# language) own voice, there are three main reasons for C# not supporting checked exceptions as they are found and verified in Java:</p>\n<ul>\n<li><p><strong>Neutral on Checked Exceptions</strong></p>\n<blockquote>\n<p>“C# is basically silent on the checked\nexceptions issue. Once a better\nsolution is known—and trust me we\ncontinue to think about it—we can go\nback and actually put something in\nplace.”</p>\n</blockquote>\n</li>\n<li><p><strong>Versioning with Checked Exceptions</strong></p>\n<blockquote>\n<p>“Adding a new exception to a throws\nclause in a new version breaks client\ncode. It's like adding a method to an\ninterface. After you publish an\ninterface, it is for all practical\npurposes immutable, …”</p>\n</blockquote>\n<blockquote>\n<p>“It is funny how people think that the\nimportant thing about exceptions    is\nhandling them. That is not the\nimportant thing about exceptions. In a\nwell-written application there's a\nratio of ten to one, in my opinion, of\ntry finally to try catch. Or in C#,\n<a href=\"http://msdn.microsoft.com/en-us/library/aa664736.aspx\" rel=\"nofollow noreferrer\"><code>using</code></a> statements, which are\nlike try finally.”</p>\n</blockquote>\n</li>\n<li><p><strong>Scalability of Checked Exceptions</strong></p>\n<blockquote>\n<p>“In the small, checked exceptions are\nvery enticing…The trouble\nbegins when you start building big\nsystems where you're talking to four\nor five different subsystems. Each\nsubsystem throws four to ten\nexceptions. Now, each time you walk up\nthe ladder of aggregation, you have\nthis exponential hierarchy below you\nof exceptions you have to deal with.\nYou end up having to declare 40\nexceptions that you might throw.…\nIt just balloons out of control.”</p>\n</blockquote>\n</li>\n</ul>\n<p>In his article, “<a href=\"http://msdn.microsoft.com/en-us/vcsharp/aa336812.aspx\" rel=\"nofollow noreferrer\">Why doesn't C# have exception specifications?</a>”, <a href=\"http://blogs.msdn.com/ansonh/\" rel=\"nofollow noreferrer\">Anson Horton</a> (Visual C# Program Manager) also lists the following reasons (see the article for details on each point):</p>\n<ul>\n<li>Versioning</li>\n<li>Productivity and code quality</li>\n<li>Impracticality of having class author differentiate between\n<em>checked</em> and <em>unchecked</em> exceptions</li>\n<li>Difficulty of determining the correct exceptions for interfaces.</li>\n</ul>\n<p>It is interesting to note that C# does, nonetheless, support documentation of exceptions thrown by a given method via the <a href=\"http://msdn.microsoft.com/en-us/library/w1htk11d.aspx\" rel=\"nofollow noreferrer\"><code>&lt;exception&gt;</code></a> tag and the compiler even takes the trouble to verify that the referenced exception type does indeed exist. There is, however, no check made at the call sites or usage of the method.</p>\n<p>You may also want to look into the <a href=\"http://www.red-gate.com/products/exception_hunter/index.htm\" rel=\"nofollow noreferrer\">Exception Hunter</a>, which is a commerical tool by <a href=\"http://www.red-gate.com/\" rel=\"nofollow noreferrer\">Red Gate Software</a>, that uses static analysis to determine and report exceptions thrown by a method and which may potentially go uncaught:</p>\n<blockquote>\n<p>Exception Hunter is a new analysis\ntool that finds and reports the set of\npossible exceptions your functions\nmight throw – before you even ship.\nWith it, you can locate unhandled\nexceptions easily and quickly, down to\nthe line of code that is throwing the\nexceptions. Once you have the results,\nyou can decide which exceptions need\nto be handled (with some exception\nhandling code) before you release your\napplication into the wild.</p>\n</blockquote>\n<p>Finally, <a href=\"https://www.mindviewllc.com/about/\" rel=\"nofollow noreferrer\">Bruce Eckel</a>, author of <a href=\"https://rads.stackoverflow.com/amzn/click/com/0131872486\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Thinking in Java</a>, has an article called, “<a href=\"https://web.archive.org/web/20180516002915/http://www.mindview.net/Etc/Discussions/CheckedExceptions\" rel=\"nofollow noreferrer\">Does Java need Checked Exceptions?</a>”, that may be worth reading up as well because the question of why checked exceptions are not there in C# usually takes root in comparisons to Java.</p>\n"},{"tags":[],"owner":{"account_id":1589,"reputation":17992,"user_id":2131,"accept_rate":100,"display_name":"DrPizza"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1430384729,"creation_date":1222559222,"answer_id":144777,"question_id":124143,"body_markdown":"Fundamentally, whether an exception should be handled or not is a property of the _caller_, rather than of the function.\r\n\r\nFor example, in some programs there is no value in handling an IOException (consider ad hoc command-line utilities to perform data crunching; they&#39;re never going to be used by a &quot;user&quot;, they&#39;re specialist tools used by specialist people). In some programs, there is value in handling an IOException at a point &quot;near&quot; to the call (perhaps if you get a FNFE for your config file you&#39;ll drop back to some defaults, or look in another location, or something of that nature). In other programs, you want it to bubble up a long way before it&#39;s handled (for example you might want it to abort until it reaches the UI, at which point it should alert the user that something has gone wrong.\r\n\r\nEach of these cases is dependent on the _application_, and not the _library_. And yet, with checked exceptions, it is the _library_ that makes the decision. The Java IO library makes the decision that it will use checked exceptions (which strongly encourage handling that&#39;s local to the call) when in some programs a better strategy may be non-local handling, or no handling at all.\r\n\r\nThis shows the real flaw with checked exceptions in practice, and it&#39;s far more fundamental than the superficial (although also important) flaw that too many people will write stupid exception handlers just to make the compiler shut up. The problem I describe is an issue even when experienced, conscientious developers are writing the program.","title":"Why are Exceptions not Checked in .NET?","body":"<p>Fundamentally, whether an exception should be handled or not is a property of the <em>caller</em>, rather than of the function.</p>\n\n<p>For example, in some programs there is no value in handling an IOException (consider ad hoc command-line utilities to perform data crunching; they're never going to be used by a \"user\", they're specialist tools used by specialist people). In some programs, there is value in handling an IOException at a point \"near\" to the call (perhaps if you get a FNFE for your config file you'll drop back to some defaults, or look in another location, or something of that nature). In other programs, you want it to bubble up a long way before it's handled (for example you might want it to abort until it reaches the UI, at which point it should alert the user that something has gone wrong.</p>\n\n<p>Each of these cases is dependent on the <em>application</em>, and not the <em>library</em>. And yet, with checked exceptions, it is the <em>library</em> that makes the decision. The Java IO library makes the decision that it will use checked exceptions (which strongly encourage handling that's local to the call) when in some programs a better strategy may be non-local handling, or no handling at all.</p>\n\n<p>This shows the real flaw with checked exceptions in practice, and it's far more fundamental than the superficial (although also important) flaw that too many people will write stupid exception handlers just to make the compiler shut up. The problem I describe is an issue even when experienced, conscientious developers are writing the program.</p>\n"},{"tags":[],"owner":{"account_id":564431,"reputation":21,"user_id":122086,"display_name":"HomieG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244820043,"creation_date":1244820043,"answer_id":987246,"question_id":124143,"body_markdown":"Anders himself answers that question in [this episode][1] of the Software engineering radio podcast\r\n\r\n\r\n  [1]: http://www.se-radio.net/podcast/2008-05/episode-97-interview-anders-hejlsberg","title":"Why are Exceptions not Checked in .NET?","body":"<p>Anders himself answers that question in <a href=\"http://www.se-radio.net/podcast/2008-05/episode-97-interview-anders-hejlsberg\" rel=\"nofollow noreferrer\">this episode</a> of the Software engineering radio podcast</p>\n"}],"owner":{"account_id":26309,"reputation":2311,"user_id":68336,"accept_rate":88,"display_name":"Enrico Murru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10517,"favorite_count":0,"down_vote_count":1,"up_vote_count":43,"accepted_answer_id":124175,"answer_count":10,"score":42,"last_activity_date":1666593440,"creation_date":1222206744,"question_id":124143,"body_markdown":"I know Googling I can find an appropriate answer, but I prefer listening to your personal (and maybe technical) opinions.&lt;br/&gt;\r\n**What is the main reason of the difference between Java and C# in throwing exceptions?**&lt;br/&gt;\r\nIn Java the signature of a method that throws an exception has to use the &quot;throws&quot; keyword, while in C# you don&#39;t know in compilation time if an exception could be thrown.\r\n","title":"Why are Exceptions not Checked in .NET?","body":"<p>I know Googling I can find an appropriate answer, but I prefer listening to your personal (and maybe technical) opinions.<br/>\n<strong>What is the main reason of the difference between Java and C# in throwing exceptions?</strong><br/>\nIn Java the signature of a method that throws an exception has to use the \"throws\" keyword, while in C# you don't know in compilation time if an exception could be thrown.</p>\n"},{"tags":["java","spring","mockmvc"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1666359330,"post_id":74154453,"comment_id":130924866,"body_markdown":"Seems your have put the wrong tag","body":"Seems your have put the wrong tag"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666458086,"creation_date":1666458086,"answer_id":74165470,"question_id":74154453,"body_markdown":"You may consider another library _Josson_. Just one function `keys()` can do the job.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;   \\&quot;ALPHA\\&quot;:[&quot; +\r\n        &quot;      1,2,3,4&quot; +\r\n        &quot;   ],&quot; +\r\n        &quot;   \\&quot;BETA\\&quot;:[&quot; +\r\n        &quot;     5,6,7&quot; +\r\n        &quot;   ],&quot; +\r\n        &quot;   \\&quot;GAMMA\\&quot;:[&quot; +\r\n        &quot;     8,9&quot; +\r\n        &quot;   ]&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(&quot;keys()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    [ &quot;ALPHA&quot;, &quot;BETA&quot;, &quot;GAMMA&quot; ]","title":"Accesing only key names of json using jsonPath","body":"<p>You may consider another library <em>Josson</em>. Just one function <code>keys()</code> can do the job.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;   \\&quot;ALPHA\\&quot;:[&quot; +\n    &quot;      1,2,3,4&quot; +\n    &quot;   ],&quot; +\n    &quot;   \\&quot;BETA\\&quot;:[&quot; +\n    &quot;     5,6,7&quot; +\n    &quot;   ],&quot; +\n    &quot;   \\&quot;GAMMA\\&quot;:[&quot; +\n    &quot;     8,9&quot; +\n    &quot;   ]&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(&quot;keys()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ &quot;ALPHA&quot;, &quot;BETA&quot;, &quot;GAMMA&quot; ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6496722,"reputation":123,"user_id":5029103,"display_name":"Ilias Mertzanidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666593077,"creation_date":1666593077,"answer_id":74177325,"question_id":74154453,"body_markdown":"Thanks a lot @Raymond Choi, it should also work. \r\n\r\nBut based on your answer, that I should use the function `keys()`, I search a lit bit more and I found that `jsonPath` indeed has his own function.\r\n\r\nSo the solution to my question is simple:\r\n\r\n`jsonPath(&quot;$.keys())`","title":"Accesing only key names of json using jsonPath","body":"<p>Thanks a lot @Raymond Choi, it should also work.</p>\n<p>But based on your answer, that I should use the function <code>keys()</code>, I search a lit bit more and I found that <code>jsonPath</code> indeed has his own function.</p>\n<p>So the solution to my question is simple:</p>\n<p><code>jsonPath(&quot;$.keys())</code></p>\n"}],"owner":{"account_id":6496722,"reputation":123,"user_id":5029103,"display_name":"Ilias Mertzanidis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74177325,"answer_count":2,"score":0,"last_activity_date":1666593112,"creation_date":1666359176,"question_id":74154453,"body_markdown":"I have a simple question, say I have the following json\r\n\r\n```\r\n{\r\n   &quot;ALPHA&quot;:[\r\n      ....\r\n   ],\r\n   &quot;BETA&quot;:[\r\n     ....\r\n   ],\r\n   &quot;GAMMA&quot;:[\r\n     .....\r\n   ]\r\n}\r\n```\r\n\r\nhow do I access the subroot elements, I mean just the names:  `&quot;ALPHA&quot;,&quot;BETA&quot;,&quot;GAMMA&quot; `using jsonPath? **Be aware that I mean their names not their array!!!**\r\n\r\nI tried ```jsonPath(&quot;$[*]&quot;, ...)``` but it doesn&#39;t work, any sugesstions?","title":"Accesing only key names of json using jsonPath","body":"<p>I have a simple question, say I have the following json</p>\n<pre><code>{\n   &quot;ALPHA&quot;:[\n      ....\n   ],\n   &quot;BETA&quot;:[\n     ....\n   ],\n   &quot;GAMMA&quot;:[\n     .....\n   ]\n}\n</code></pre>\n<p>how do I access the subroot elements, I mean just the names:  <code>&quot;ALPHA&quot;,&quot;BETA&quot;,&quot;GAMMA&quot; </code>using jsonPath? <strong>Be aware that I mean their names not their array!!!</strong></p>\n<p>I tried <code>jsonPath(&quot;$[*]&quot;, ...)</code> but it doesn't work, any sugesstions?</p>\n"},{"tags":["java","generics","inheritance"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1664918612,"post_id":73953467,"comment_id":130578955,"body_markdown":"Where is your build class located?  Is it a member of `BaseEntity`?  Builders don&#39;t have to be fluent.  It looks like you&#39;re just constructing a `Person` then setting its attributes.  What&#39;s wrong with `person.setId(1);`, `person.setName(&quot;name&quot;);`, etc.?","body":"Where is your build class located?  Is it a member of <code>BaseEntity</code>?  Builders don&#39;t have to be fluent.  It looks like you&#39;re just constructing a <code>Person</code> then setting its attributes.  What&#39;s wrong with <code>person.setId(1);</code>, <code>person.setName(&quot;name&quot;);</code>, etc.?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664921930,"creation_date":1664919869,"answer_id":73953900,"question_id":73953467,"body_markdown":"You can implement the [Builder pattern](https://en.wikipedia.org/wiki/Builder_pattern) by introducing a nested class `Builder` with a set of self-returning methods (i.e. returning an instance of `Builder`) which can be chained in a fluent way.\r\n\r\nMethod `Builder.build()` should return an instance of `Person`.\r\n\r\n***Note*** that you setters of your entities can be `void`.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n    public class Person extends NamedEntity {\r\n        private String address;\r\n        \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n        \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n        \r\n        public static class Builder {\r\n            private Person person;\r\n    \r\n            public Builder() {\r\n                this.person = new Person();\r\n            }\r\n            \r\n            public Builder name(String name) {\r\n                person.setName(name);\r\n                return this;\r\n            }\r\n    \r\n            public Builder address(String address) {\r\n                person.setAddress(address);\r\n                return this;\r\n            }\r\n    \r\n            public Builder id(Integer id) {\r\n                person.setId(id);\r\n                return this;\r\n            }\r\n    \r\n            public Person build() {\r\n                return person;\r\n            }\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nPerson person = new Person.Builder()\r\n    .name(&quot;Alice&quot;)\r\n    .address(&quot;Wonderland&quot;)\r\n    .id(1)\r\n    .build();\r\n```\r\n\r\n***Note:*** \r\n* There could be multiple ways to obtain an instance of `Builder`. You can introduce in the `Person` class a static method `builder()` returning a new `Builder`, or static methods like `withName(String)`, `withId(Integer)` might also be handy (*for inspiration have a look at* [`User`](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/userdetails/User.html#withUsername(java.lang.String)) *class from Spring Security*).\r\n* When dialing with immutable objects, `Builder` class should have all the field of the target class duplicated instead of keeping the reference to the target object. And in such case, method `build()` would be responsible for constructing an instance of the target type.","title":"How to return an instance of Inherited class from parent abstract class","body":"<p>You can implement the <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder pattern</a> by introducing a nested class <code>Builder</code> with a set of self-returning methods (i.e. returning an instance of <code>Builder</code>) which can be chained in a fluent way.</p>\n<p>Method <code>Builder.build()</code> should return an instance of <code>Person</code>.</p>\n<p><em><strong>Note</strong></em> that you setters of your entities can be <code>void</code>.</p>\n<p>That's how implementation might look like:</p>\n<pre><code>public class Person extends NamedEntity {\n    private String address;\n    \n    public String getAddress() {\n        return address;\n    }\n    \n    public void setAddress(String address) {\n        this.address = address;\n    }\n    \n    public static class Builder {\n        private Person person;\n\n        public Builder() {\n            this.person = new Person();\n        }\n        \n        public Builder name(String name) {\n            person.setName(name);\n            return this;\n        }\n\n        public Builder address(String address) {\n            person.setAddress(address);\n            return this;\n        }\n\n        public Builder id(Integer id) {\n            person.setId(id);\n            return this;\n        }\n\n        public Person build() {\n            return person;\n        }\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>Person person = new Person.Builder()\n    .name(&quot;Alice&quot;)\n    .address(&quot;Wonderland&quot;)\n    .id(1)\n    .build();\n</code></pre>\n<p><em><strong>Note:</strong></em></p>\n<ul>\n<li>There could be multiple ways to obtain an instance of <code>Builder</code>. You can introduce in the <code>Person</code> class a static method <code>builder()</code> returning a new <code>Builder</code>, or static methods like <code>withName(String)</code>, <code>withId(Integer)</code> might also be handy (<em>for inspiration have a look at</em> <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/userdetails/User.html#withUsername(java.lang.String)\" rel=\"nofollow noreferrer\"><code>User</code></a> <em>class from Spring Security</em>).</li>\n<li>When dialing with immutable objects, <code>Builder</code> class should have all the field of the target class duplicated instead of keeping the reference to the target object. And in such case, method <code>build()</code> would be responsible for constructing an instance of the target type.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11016405,"reputation":55,"user_id":8092128,"display_name":"Witek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664955895,"creation_date":1664955895,"answer_id":73957239,"question_id":73953467,"body_markdown":"Thanks for all the sugestions\r\nI know the builder pattern, but in this particular case is the same workaround as overriding the methods `setId` and `setName`\r\nThe point here is:\r\nit is possible that `setId` method will return the instance of child class the method is called from\r\n\r\nlet&#39;s say I&#39;d like to put a complex object to my builder (why not?):\r\n\r\n    public class Person extends NamedEntity {\r\n        private String address;\r\n    \r\n    ... getters/setters\r\n        \r\n        public Builder builder() {\r\n            return new Builder();\r\n        }\r\n        \r\n        public final static class Builder {\r\n            private final Person person;\r\n            private Long id;\r\n            private String name;\r\n            private String address;\r\n            \r\n            private Builder() { \r\n                this.person = new Person(); \r\n            }\r\n        \r\n            public Builder withId(Long id) {\r\n                person.setId(id);\r\n                return this;\r\n            }\r\n    ..... other setters\r\n            \r\n            public Builder withDto(PersonDTO dto) {\r\n                person\r\n                .setId(dto.getId())\r\n                .setName(dto.getName())\r\n                .setAddress(dto.getAddress()\r\n            }\r\n            \r\n            public Person build() {\r\n                return person;\r\n            }\r\n        }\r\n    }\r\n\r\nas you may guess the `person.setId` returns instance of BaseEntity ","title":"How to return an instance of Inherited class from parent abstract class","body":"<p>Thanks for all the sugestions\nI know the builder pattern, but in this particular case is the same workaround as overriding the methods <code>setId</code> and <code>setName</code>\nThe point here is:\nit is possible that <code>setId</code> method will return the instance of child class the method is called from</p>\n<p>let's say I'd like to put a complex object to my builder (why not?):</p>\n<pre><code>public class Person extends NamedEntity {\n    private String address;\n\n... getters/setters\n    \n    public Builder builder() {\n        return new Builder();\n    }\n    \n    public final static class Builder {\n        private final Person person;\n        private Long id;\n        private String name;\n        private String address;\n        \n        private Builder() { \n            this.person = new Person(); \n        }\n    \n        public Builder withId(Long id) {\n            person.setId(id);\n            return this;\n        }\n..... other setters\n        \n        public Builder withDto(PersonDTO dto) {\n            person\n            .setId(dto.getId())\n            .setName(dto.getName())\n            .setAddress(dto.getAddress()\n        }\n        \n        public Person build() {\n            return person;\n        }\n    }\n}\n</code></pre>\n<p>as you may guess the <code>person.setId</code> returns instance of BaseEntity</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1666593040,"creation_date":1664957427,"answer_id":73957528,"question_id":73953467,"body_markdown":"You can use the same trick as enums (`Enum`), a generic type parameter for the child class.\r\n\r\n    @MappedSuperclass\r\n    public abstract class BaseEntity&lt;E extends BaseEntity&lt;E&gt;&gt; implements Serializable {\r\n    \r\n      private Integer id;\r\n      \r\n      public Integer getId() {\r\n        return id;\r\n      }\r\n\r\n      protected final E getThis() {\r\n          return this;\r\n      }\r\n\r\n      public E setId(Integer id) {\r\n        this.id = id;\r\n        return getThis();\r\n      }\r\n    }\r\n\r\n    @MappedSuperclass\r\n    public abstract class NamedEntity&lt;E extends NamedEntity&lt;E&gt;&gt; extends BaseEntity&lt;E&gt; {\r\n      private String name;\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public E setName(String name) {\r\n        this.name = name;\r\n        return getThis();\r\n      }\r\n    }\r\n\r\nFor child classes of Person you need not continue with this pattern.\r\n\r\n    @Entity\r\n    public class Person extends NamedEntity&lt;Person&gt; {\r\n      private String address;\r\n    \r\n      public String getAddress() {\r\n        return address;\r\n      }\r\n    \r\n      public Person setAddress(String address) {\r\n        this.address = address;\r\n        return this;\r\n      }\r\n    }\r\n\r\nNow you can do_\r\n\r\n    Person einstein = new Person()\r\n      .setId(76)\r\n      .setName(&quot;Albert&quot;)\r\n      .setAddress(&quot;Princeton, New Jersey&quot;);\r\n\r\nThe alternative is a _Builder_ pattern, however it has the same inheritance problem, and you might end up with *.Builder classes inheriting from parent Builder classes.\r\n\r\nI would even say it is not worth this boiler plate code, just for a fluent API (chained calls). The criteria API for instance does hardly need using created objects, and the passed values for the setters must come from some code too.\r\n\r\nAlso setters implies the classes are _mutable_. It would be much nicer if most fields were immutable. With entity classes unrealistic, but setters are an ugly initialisation. When possible use constructors/builders without setters.\r\n\r\n","title":"How to return an instance of Inherited class from parent abstract class","body":"<p>You can use the same trick as enums (<code>Enum</code>), a generic type parameter for the child class.</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntity&lt;E extends BaseEntity&lt;E&gt;&gt; implements Serializable {\n\n  private Integer id;\n  \n  public Integer getId() {\n    return id;\n  }\n\n  protected final E getThis() {\n      return this;\n  }\n\n  public E setId(Integer id) {\n    this.id = id;\n    return getThis();\n  }\n}\n\n@MappedSuperclass\npublic abstract class NamedEntity&lt;E extends NamedEntity&lt;E&gt;&gt; extends BaseEntity&lt;E&gt; {\n  private String name;\n\n  public String getName() {\n    return name;\n  }\n\n  public E setName(String name) {\n    this.name = name;\n    return getThis();\n  }\n}\n</code></pre>\n<p>For child classes of Person you need not continue with this pattern.</p>\n<pre><code>@Entity\npublic class Person extends NamedEntity&lt;Person&gt; {\n  private String address;\n\n  public String getAddress() {\n    return address;\n  }\n\n  public Person setAddress(String address) {\n    this.address = address;\n    return this;\n  }\n}\n</code></pre>\n<p>Now you can do_</p>\n<pre><code>Person einstein = new Person()\n  .setId(76)\n  .setName(&quot;Albert&quot;)\n  .setAddress(&quot;Princeton, New Jersey&quot;);\n</code></pre>\n<p>The alternative is a <em>Builder</em> pattern, however it has the same inheritance problem, and you might end up with *.Builder classes inheriting from parent Builder classes.</p>\n<p>I would even say it is not worth this boiler plate code, just for a fluent API (chained calls). The criteria API for instance does hardly need using created objects, and the passed values for the setters must come from some code too.</p>\n<p>Also setters implies the classes are <em>mutable</em>. It would be much nicer if most fields were immutable. With entity classes unrealistic, but setters are an ugly initialisation. When possible use constructors/builders without setters.</p>\n"}],"owner":{"account_id":11016405,"reputation":55,"user_id":8092128,"display_name":"Witek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73957528,"answer_count":3,"score":0,"last_activity_date":1666593040,"creation_date":1664916262,"question_id":73953467,"body_markdown":"I&#39;d like to solve such problem. I have some abstract class and a concrete class with setters that return the instance of that class:\r\n\r\n    @MappedSuperclass\r\n    public abstract class BaseEntity implements Serializable {\r\n    \r\n      private Integer id;\r\n      \r\n      public Integer getId() {\r\n        return id;\r\n      }\r\n    \r\n      public BaseEntity setId(Integer id) {\r\n        this.id = id;\r\n        return this;\r\n      }\r\n    }\r\n\r\nnext abstract:\r\n\r\n    @MappedSuperclass\r\n    public abstract class NamedEntity extends BaseEntity {\r\n      private String name;\r\n    \r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public NamedEntity setName(String name) {\r\n        this.name = name;\r\n        return this;\r\n      }\r\n    }\r\n\r\nand finally a concrete class:\r\n\r\n    @Entity\r\n    public class Person extends NamedEntity {\r\n      private String address;\r\n    \r\n      public String getAddress() {\r\n        return address;\r\n      }\r\n    \r\n      public void setAddress(String address) {\r\n        this.address = address;\r\n      }\r\n    }\r\n\r\nI&#39;d like to use this kind of builder but in current setup it&#39;s not working due to different return types of parent setters\r\n\r\n      public Person build() {\r\n        Person person = new Person()\r\n            .setId(1);          //return BaseEntity instead of Person\r\n            .setName(&quot;name&quot;)    //returns NamedEntity instead of Person\r\n            .setAddress(&quot;foo&quot;); //return Person!\r\n        return person;\r\n      }\r\n\r\nof course ther&#39;s a workaround with overriden setters but.... can it be done other way using generics?\r\n\r\n      @Override\r\n      public Person setId(Integer id) {\r\n        super.setId(id);\r\n        return this;\r\n      }\r\n      \r\n      @Override\r\n      public Person setName(String name) {\r\n        super.setName(name);\r\n        return this;\r\n      }","title":"How to return an instance of Inherited class from parent abstract class","body":"<p>I'd like to solve such problem. I have some abstract class and a concrete class with setters that return the instance of that class:</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseEntity implements Serializable {\n\n  private Integer id;\n  \n  public Integer getId() {\n    return id;\n  }\n\n  public BaseEntity setId(Integer id) {\n    this.id = id;\n    return this;\n  }\n}\n</code></pre>\n<p>next abstract:</p>\n<pre><code>@MappedSuperclass\npublic abstract class NamedEntity extends BaseEntity {\n  private String name;\n\n  public String getName() {\n    return name;\n  }\n\n  public NamedEntity setName(String name) {\n    this.name = name;\n    return this;\n  }\n}\n</code></pre>\n<p>and finally a concrete class:</p>\n<pre><code>@Entity\npublic class Person extends NamedEntity {\n  private String address;\n\n  public String getAddress() {\n    return address;\n  }\n\n  public void setAddress(String address) {\n    this.address = address;\n  }\n}\n</code></pre>\n<p>I'd like to use this kind of builder but in current setup it's not working due to different return types of parent setters</p>\n<pre><code>  public Person build() {\n    Person person = new Person()\n        .setId(1);          //return BaseEntity instead of Person\n        .setName(&quot;name&quot;)    //returns NamedEntity instead of Person\n        .setAddress(&quot;foo&quot;); //return Person!\n    return person;\n  }\n</code></pre>\n<p>of course ther's a workaround with overriden setters but.... can it be done other way using generics?</p>\n<pre><code>  @Override\n  public Person setId(Integer id) {\n    super.setId(id);\n    return this;\n  }\n  \n  @Override\n  public Person setName(String name) {\n    super.setName(name);\n    return this;\n  }\n</code></pre>\n"},{"tags":["java","try-catch"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1666586559,"post_id":74176756,"comment_id":130964041,"body_markdown":"`System.out.println(&quot;Successfully signed up.&quot;)` should be *inside* the `try`, as the last statement. You also need to actually call your validation function, which you are not doing.","body":"<code>System.out.println(&quot;Successfully signed up.&quot;)</code> should be <i>inside</i> the <code>try</code>, as the last statement. You also need to actually call your validation function, which you are not doing."}],"answers":[{"tags":[],"owner":{"account_id":18827263,"reputation":405,"user_id":14499516,"display_name":"hokwanhung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666592592,"creation_date":1666591325,"answer_id":74177135,"question_id":74176756,"body_markdown":"Here is my solution to it, the explanation is already embedded:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class UserSignUp {\r\n\t    public static void main(String[] args) {\r\n\t\t    // No need for two scanners, one scanner can accept multiple (also\r\n\t\t    // multiple-lined) inputs.\r\n\t\t    Scanner in = new Scanner(System.in);\r\n\r\n\t\t    try {\r\n\t\t\t    // Put validation inside the try block.\r\n\t\t\t    // Regarding there are no other use of the variables, it is unnecessary to give\r\n\t\t\t    // the two variables &quot;Method Level Scope&quot; instead of &quot;Block Scope&quot;.\r\n\t\t\t    System.out.print(&quot;Enter your username: &quot;);\r\n\t\t\t    String username = in.nextLine();\r\n\t\t\t    validateUsername(username);\r\n\t\t\t    System.out.print(&quot;Enter your password: &quot;);\r\n\t\t\t    String password = in.nextLine();\r\n\t\t\t    validatePassword(password);\r\n\t\t\t    // Put the println() inside the try block.\r\n\t\t\t    System.out.println(&quot;Successfully signed up.&quot;);\r\n\t\t    } catch (IllegalArgumentException e) {\r\n\t\t\t    System.out.println(e);\r\n\t\t    }\r\n\r\n\t    }\r\n\r\n\t    public static void validateUsername(String username) throws IllegalArgumentException {\r\n\t\t    String pattern = &quot;.+@.+\\\\.com&quot;;\r\n\t\t    // If not matches the pattern,\r\n\t\t    if (!username.matches(pattern)) {\r\n\t\t\t    throw new IllegalArgumentException(&quot;Invalid username.&quot;);\r\n\t\t    }\r\n\t    }\r\n\r\n\t    public static void validatePassword(String password) throws IllegalArgumentException {\r\n\t\t    boolean isUppercase = false;\r\n\t\t    boolean isLowercase = false;\r\n\t\t    boolean isDigit = false;\r\n\t\t    boolean hasSpecialCharacter = false;\r\n\t\t    char ch = &#39;\\0&#39;;\r\n\r\n\t\t    for (int i = 0; i &lt; password.length(); i++) {\r\n\t\t\t    ch = password.charAt(i);\r\n\t\t\t    if (Character.isUpperCase(ch))\r\n\t\t\t\t    isUppercase = true;\r\n\t\t\t    if (Character.isLowerCase(ch))\r\n\t\t\t\t    isLowercase = true;\r\n\t\t\t    if (Character.isDigit(ch))\r\n\t\t\t\t    isDigit = true;\r\n\t\t\t    // ch is already defined as a character.\r\n\t\t\t    if (!Character.isDigit(ch) &amp;&amp; !Character.isLetter(ch))\r\n\t\t\t\t    hasSpecialCharacter = true;\r\n\t\t    }\r\n\r\n\t\t    // Ask for the constraints after read through all characters.\r\n\t\t    if (isUppercase != true)\r\n\t\t\t    throw new IllegalArgumentException(&quot;Password must contain an uppercase letter.&quot;);\r\n\t\t    else if (isLowercase != true)\r\n\t\t\t    // Fix the error message of lower-case letters.\r\n\t\t\t    throw new IllegalArgumentException(&quot;Password must contain a lowercase letter.&quot;);\r\n\t\t    else if (isDigit != true)\r\n\t\t\t    throw new IllegalArgumentException(&quot;Password must contain a digit.&quot;);\r\n\t\t    else if (hasSpecialCharacter != true)\r\n\t\t\t    throw new IllegalArgumentException(&quot;Password must contain a special character.&quot;);\r\n\r\n\t    }\r\n    }\r\n\r\nHope this answer helps and please leave this question as it is as someone might need it, unless there is important changes.","title":"Validating e-mail username and password using try/catch block","body":"<p>Here is my solution to it, the explanation is already embedded:</p>\n<pre><code>import java.util.Scanner;\n\npublic class UserSignUp {\n    public static void main(String[] args) {\n        // No need for two scanners, one scanner can accept multiple (also\n        // multiple-lined) inputs.\n        Scanner in = new Scanner(System.in);\n\n        try {\n            // Put validation inside the try block.\n            // Regarding there are no other use of the variables, it is unnecessary to give\n            // the two variables &quot;Method Level Scope&quot; instead of &quot;Block Scope&quot;.\n            System.out.print(&quot;Enter your username: &quot;);\n            String username = in.nextLine();\n            validateUsername(username);\n            System.out.print(&quot;Enter your password: &quot;);\n            String password = in.nextLine();\n            validatePassword(password);\n            // Put the println() inside the try block.\n            System.out.println(&quot;Successfully signed up.&quot;);\n        } catch (IllegalArgumentException e) {\n            System.out.println(e);\n        }\n\n    }\n\n    public static void validateUsername(String username) throws IllegalArgumentException {\n        String pattern = &quot;.+@.+\\\\.com&quot;;\n        // If not matches the pattern,\n        if (!username.matches(pattern)) {\n            throw new IllegalArgumentException(&quot;Invalid username.&quot;);\n        }\n    }\n\n    public static void validatePassword(String password) throws IllegalArgumentException {\n        boolean isUppercase = false;\n        boolean isLowercase = false;\n        boolean isDigit = false;\n        boolean hasSpecialCharacter = false;\n        char ch = '\\0';\n\n        for (int i = 0; i &lt; password.length(); i++) {\n            ch = password.charAt(i);\n            if (Character.isUpperCase(ch))\n                isUppercase = true;\n            if (Character.isLowerCase(ch))\n                isLowercase = true;\n            if (Character.isDigit(ch))\n                isDigit = true;\n            // ch is already defined as a character.\n            if (!Character.isDigit(ch) &amp;&amp; !Character.isLetter(ch))\n                hasSpecialCharacter = true;\n        }\n\n        // Ask for the constraints after read through all characters.\n        if (isUppercase != true)\n            throw new IllegalArgumentException(&quot;Password must contain an uppercase letter.&quot;);\n        else if (isLowercase != true)\n            // Fix the error message of lower-case letters.\n            throw new IllegalArgumentException(&quot;Password must contain a lowercase letter.&quot;);\n        else if (isDigit != true)\n            throw new IllegalArgumentException(&quot;Password must contain a digit.&quot;);\n        else if (hasSpecialCharacter != true)\n            throw new IllegalArgumentException(&quot;Password must contain a special character.&quot;);\n\n    }\n}\n</code></pre>\n<p>Hope this answer helps and please leave this question as it is as someone might need it, unless there is important changes.</p>\n"}],"owner":{"account_id":26713940,"reputation":13,"user_id":20318813,"display_name":"uglyorgans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74177135,"answer_count":1,"score":1,"last_activity_date":1666592592,"creation_date":1666586288,"question_id":74176756,"body_markdown":"I&#39;m trying to write a code that validates an email as a username and a password that has at least one uppercase, one lowercase, and one special character. When I run the program, I&#39;m getting &quot;Successfully signed up.&quot; no matter what I input. I believe my error is in my try/catch block.\r\n\r\n        import java.util.Scanner;\r\n    \r\n        public class UserSignUp {\r\n            public static void main(String[] args) {\r\n                Scanner input1 = new Scanner(System.in);\r\n                Scanner input2 = new Scanner(System.in);\r\n                String username;\r\n                String password;\r\n    \r\n            try {\r\n                System.out.print(&quot;Enter your username: &quot;);\r\n                username = input1.nextLine();\r\n                System.out.print(&quot;Enter your password: &quot;);\r\n                password = input2.nextLine();\r\n            }\r\n            catch (IllegalArgumentException e) {\r\n                System.out.println(e);\r\n            }\r\n            System.out.println(&quot;Successfully signed up.&quot;);\r\n        }\r\n    \r\n        public static void validateUsername(String username) throws IllegalArgumentException {\r\n            String pattern = &quot;.+@.+\\\\.com&quot;;\r\n            if (username.matches(pattern)) {\r\n                throw new IllegalArgumentException(&quot;Invalid username.&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void validatePassword(String password) throws IllegalArgumentException {\r\n            boolean isUppercase = false;\r\n            boolean isLowercase = false;\r\n            boolean isDigit = false;\r\n            boolean hasSpecialCharacter = false;\r\n            char ch = 0;\r\n    \r\n            for (int i = 0; i &lt; password.length(); i++) {\r\n                ch = password.charAt(i);\r\n                if (Character.isUpperCase(ch)) {\r\n                    isUppercase = true;\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Password must contain an uppercase letter.&quot;);\r\n                }\r\n                if (Character.isLowerCase(ch)) {\r\n                    isLowercase = true;\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Password must contain a lowercase letter.&quot;);\r\n                }\r\n                if (Character.isDigit(ch)) {\r\n                    isDigit = true;\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Password must contain a digit.&quot;);\r\n                }\r\n                if (!Character.isDigit(password.charAt(ch)) &amp;&amp; !Character.isLetter(password.charAt(ch))) {\r\n                    hasSpecialCharacter = true;\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Password must contain a special character.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Validating e-mail username and password using try/catch block","body":"<p>I'm trying to write a code that validates an email as a username and a password that has at least one uppercase, one lowercase, and one special character. When I run the program, I'm getting &quot;Successfully signed up.&quot; no matter what I input. I believe my error is in my try/catch block.</p>\n<pre><code>    import java.util.Scanner;\n\n    public class UserSignUp {\n        public static void main(String[] args) {\n            Scanner input1 = new Scanner(System.in);\n            Scanner input2 = new Scanner(System.in);\n            String username;\n            String password;\n\n        try {\n            System.out.print(&quot;Enter your username: &quot;);\n            username = input1.nextLine();\n            System.out.print(&quot;Enter your password: &quot;);\n            password = input2.nextLine();\n        }\n        catch (IllegalArgumentException e) {\n            System.out.println(e);\n        }\n        System.out.println(&quot;Successfully signed up.&quot;);\n    }\n\n    public static void validateUsername(String username) throws IllegalArgumentException {\n        String pattern = &quot;.+@.+\\\\.com&quot;;\n        if (username.matches(pattern)) {\n            throw new IllegalArgumentException(&quot;Invalid username.&quot;);\n        }\n    }\n\n    public static void validatePassword(String password) throws IllegalArgumentException {\n        boolean isUppercase = false;\n        boolean isLowercase = false;\n        boolean isDigit = false;\n        boolean hasSpecialCharacter = false;\n        char ch = 0;\n\n        for (int i = 0; i &lt; password.length(); i++) {\n            ch = password.charAt(i);\n            if (Character.isUpperCase(ch)) {\n                isUppercase = true;\n            } else {\n                throw new IllegalArgumentException(&quot;Password must contain an uppercase letter.&quot;);\n            }\n            if (Character.isLowerCase(ch)) {\n                isLowercase = true;\n            } else {\n                throw new IllegalArgumentException(&quot;Password must contain a lowercase letter.&quot;);\n            }\n            if (Character.isDigit(ch)) {\n                isDigit = true;\n            } else {\n                throw new IllegalArgumentException(&quot;Password must contain a digit.&quot;);\n            }\n            if (!Character.isDigit(password.charAt(ch)) &amp;&amp; !Character.isLetter(password.charAt(ch))) {\n                hasSpecialCharacter = true;\n            } else {\n                throw new IllegalArgumentException(&quot;Password must contain a special character.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","enums","protocol-buffers","protobuf-java","forward-compatibility"],"answers":[{"tags":[],"owner":{"account_id":492960,"reputation":10530,"user_id":914716,"display_name":"jpa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666592364,"creation_date":1666592364,"answer_id":74177240,"question_id":74171099,"body_markdown":"The [Updating a Message Type](https://developers.google.com/protocol-buffers/docs/proto3#updating) section in proto3 language guide says:\r\n\r\n&gt; unrecognized proto3 enum types will be preserved in the message, but how this is represented when the message is deserialized is language-dependent.\r\n\r\nThe [Java Generated Code Reference](https://developers.google.com/protocol-buffers/docs/reference/java-generated#enum) further says:\r\n\r\n&gt; If you are using proto3, it also adds the special value UNRECOGNIZED to the enum type.\r\n\r\nSo it appears this is the way the Java protobuf library is designed to represent unknown enum values.","title":"Protocol Buffers and forward compatibility with enums broken?","body":"<p>The <a href=\"https://developers.google.com/protocol-buffers/docs/proto3#updating\" rel=\"nofollow noreferrer\">Updating a Message Type</a> section in proto3 language guide says:</p>\n<blockquote>\n<p>unrecognized proto3 enum types will be preserved in the message, but how this is represented when the message is deserialized is language-dependent.</p>\n</blockquote>\n<p>The <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java-generated#enum\" rel=\"nofollow noreferrer\">Java Generated Code Reference</a> further says:</p>\n<blockquote>\n<p>If you are using proto3, it also adds the special value UNRECOGNIZED to the enum type.</p>\n</blockquote>\n<p>So it appears this is the way the Java protobuf library is designed to represent unknown enum values.</p>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1012,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666592364,"creation_date":1666527732,"question_id":74171099,"body_markdown":"I was looking into protobuf and enum and trying to understand forward compatibility. So I tested the following:   \r\n\r\nI have this proto file:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    package com.transport;\r\n    \r\n    message CustomerOptions {\r\n      int32 id = 1;\r\n      TransportOptions transport_option = 2;\r\n    }\r\n    \r\n    enum TransportOptions {\r\n      UNKNOWN = 0;\r\n      CAR = 1;\r\n      BUS = 2;\r\n      TRAIN = 3;\r\n      AIRPLANE = 4;\r\n    }\r\n\r\nWhat I did was save that to a binary file as follows:  \r\n\r\n    CustomerOptions.Builder builder1 = CustomerOptions.newBuilder();\r\n    builder1.setId(1);\r\n    builder1.setTransportOption(Options.TransportOptions.AIRPLANE);\r\n    CustomerOptions options = builder1.build();\r\n    \r\n    FileOutputStream fileOutputStream = new FileOutputStream(&quot;customer_options_message.bin&quot;);\r\n    options.writeTo(fileOutputStream);\r\n\r\nNow what I did was remove a field from the `TransportOptions` in the proto file which now became:  \r\n\r\n    syntax = &quot;proto3&quot;;\r\n    package com.transport;\r\n    \r\n    message CustomerOptions {\r\n      int32 id = 1;\r\n      TransportOptions transport_option = 2;\r\n    }\r\n    \r\n    enum TransportOptions {\r\n      UNKNOWN = 0;\r\n      CAR = 1;\r\n      BUS = 2;\r\n      TRAIN = 3;\r\n    }\r\n\r\nSo now I removed `AIRPLANE`.  \r\n\r\nNow with this new schema I read the binary file that was written before that had `AIRPLANE` as follows:   \r\n\r\n    FileInputStream fileInputStream = new FileInputStream(&quot;customer_options_message.bin&quot;);\r\n    CustomerOptions customerOptions = CustomerOptions.parseFrom(fileInputStream);  \r\n\r\nNow what happens is the following:  \r\n\r\nIf I do:\r\n\r\n    System.out.println(customerOptions.getTransportOption());  \r\n\r\nthis prints:\r\n\r\n&gt; UNRECOGNIZED\r\n\r\nI was expecting that it would print `UKNOWN` i.e that since the code reads an unknown field (`AIRPLANE`) it would use the default value which should be the first one i.e. `UNKNOWN = 0`.   \r\n\r\nWhy is this not the case.  \r\nThe weird is that if I do the following:  \r\n\r\n    System.out.println(customerOptions);  \r\n\r\nI get:  \r\n\r\n&gt; transport_option: UNKNOWN_ENUM_VALUE_TransportOptions_4  \r\n\r\nSo again I see `UNKNOWN` but it seems that the value is `-1` and not `0`.  \r\n\r\nWhat exactly is going on here? How does compatibility work with enums?\r\n\r\n","title":"Protocol Buffers and forward compatibility with enums broken?","body":"<p>I was looking into protobuf and enum and trying to understand forward compatibility. So I tested the following:</p>\n<p>I have this proto file:</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage com.transport;\n\nmessage CustomerOptions {\n  int32 id = 1;\n  TransportOptions transport_option = 2;\n}\n\nenum TransportOptions {\n  UNKNOWN = 0;\n  CAR = 1;\n  BUS = 2;\n  TRAIN = 3;\n  AIRPLANE = 4;\n}\n</code></pre>\n<p>What I did was save that to a binary file as follows:</p>\n<pre><code>CustomerOptions.Builder builder1 = CustomerOptions.newBuilder();\nbuilder1.setId(1);\nbuilder1.setTransportOption(Options.TransportOptions.AIRPLANE);\nCustomerOptions options = builder1.build();\n\nFileOutputStream fileOutputStream = new FileOutputStream(&quot;customer_options_message.bin&quot;);\noptions.writeTo(fileOutputStream);\n</code></pre>\n<p>Now what I did was remove a field from the <code>TransportOptions</code> in the proto file which now became:</p>\n<pre><code>syntax = &quot;proto3&quot;;\npackage com.transport;\n\nmessage CustomerOptions {\n  int32 id = 1;\n  TransportOptions transport_option = 2;\n}\n\nenum TransportOptions {\n  UNKNOWN = 0;\n  CAR = 1;\n  BUS = 2;\n  TRAIN = 3;\n}\n</code></pre>\n<p>So now I removed <code>AIRPLANE</code>.</p>\n<p>Now with this new schema I read the binary file that was written before that had <code>AIRPLANE</code> as follows:</p>\n<pre><code>FileInputStream fileInputStream = new FileInputStream(&quot;customer_options_message.bin&quot;);\nCustomerOptions customerOptions = CustomerOptions.parseFrom(fileInputStream);  \n</code></pre>\n<p>Now what happens is the following:</p>\n<p>If I do:</p>\n<pre><code>System.out.println(customerOptions.getTransportOption());  \n</code></pre>\n<p>this prints:</p>\n<blockquote>\n<p>UNRECOGNIZED</p>\n</blockquote>\n<p>I was expecting that it would print <code>UKNOWN</code> i.e that since the code reads an unknown field (<code>AIRPLANE</code>) it would use the default value which should be the first one i.e. <code>UNKNOWN = 0</code>.</p>\n<p>Why is this not the case.<br />\nThe weird is that if I do the following:</p>\n<pre><code>System.out.println(customerOptions);  \n</code></pre>\n<p>I get:</p>\n<blockquote>\n<p>transport_option: UNKNOWN_ENUM_VALUE_TransportOptions_4</p>\n</blockquote>\n<p>So again I see <code>UNKNOWN</code> but it seems that the value is <code>-1</code> and not <code>0</code>.</p>\n<p>What exactly is going on here? How does compatibility work with enums?</p>\n"},{"tags":["java","printing","java-print"],"answers":[{"tags":[],"owner":{"account_id":11807716,"reputation":59,"user_id":8639824,"display_name":"Jake N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666592000,"creation_date":1666169924,"answer_id":74122569,"question_id":58381604,"body_markdown":"Please try to filter attributes by JobName class \r\n`(package javax.print.attribute.standard)`.\r\n","title":"File names from print queue java","body":"<p>Please try to filter attributes by JobName class\n<code>(package javax.print.attribute.standard)</code>.</p>\n"}],"owner":{"account_id":2382442,"reputation":2985,"user_id":2084190,"accept_rate":78,"display_name":"Adrian Jandl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666592000,"creation_date":1571074575,"question_id":58381604,"body_markdown":"How can I get the file names in the print queue from Java?\r\nI would like to get all items in the print queue, even those not started through the `PrintJob` API.\r\n\r\nI know that I can use the `PrintService#getAttributes` method to get all Attributes and then check the &quot;queued-job-count&quot; attribute for how many items are in the print queue as seen in [this][1] question.\r\nIs it possible to get the names of the files in the queue?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50367276/2084190","title":"File names from print queue java","body":"<p>How can I get the file names in the print queue from Java?\nI would like to get all items in the print queue, even those not started through the <code>PrintJob</code> API.</p>\n\n<p>I know that I can use the <code>PrintService#getAttributes</code> method to get all Attributes and then check the \"queued-job-count\" attribute for how many items are in the print queue as seen in <a href=\"https://stackoverflow.com/a/50367276/2084190\">this</a> question.\nIs it possible to get the names of the files in the queue?</p>\n"},{"tags":["java","hql","scrollableresults"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":2,"creation_date":1536246116,"post_id":52201728,"comment_id":91363265,"body_markdown":"As from hibernate document,&quot;cast(... as ...), where the second argument is the name of a Hibernate type,&quot; try using &#39;int&#39; instead of INT for type matching","body":"As from hibernate document,&quot;cast(... as ...), where the second argument is the name of a Hibernate type,&quot; try using &#39;int&#39; instead of INT for type matching"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1622387503,"post_id":52201728,"comment_id":119773521,"body_markdown":"... or `CAST(... AS integer)`. Note that Hibernate types are case-sensitive.","body":"... or <code>CAST(... AS integer)</code>. Note that Hibernate types are case-sensitive."}],"answers":[{"tags":[],"owner":{"account_id":15632276,"reputation":117,"user_id":11569193,"display_name":"Takouo Gnegneri Franck Kris-ke"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1631025517,"creation_date":1631025517,"answer_id":69090185,"question_id":52201728,"body_markdown":"please replace \r\n\r\n    CAST(xxxx AS INT)\r\nby\r\n\r\n    CAST(xxxx AS int)\r\n\r\n\r\n","title":"Caused by: org.hibernate.QueryException: Could not resolve requested type for CAST : INT","body":"<p>please replace</p>\n<pre><code>CAST(xxxx AS INT)\n</code></pre>\n<p>by</p>\n<pre><code>CAST(xxxx AS int)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7001893,"reputation":1,"user_id":5367671,"display_name":"tharanga rajapaksha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666591931,"creation_date":1666092276,"answer_id":74110163,"question_id":52201728,"body_markdown":"I also could complete as above.\r\n\r\n    CAST(SUBSTRING(&lt;column name &gt;, -3) AS int)","title":"Caused by: org.hibernate.QueryException: Could not resolve requested type for CAST : INT","body":"<p>I also could complete as above.</p>\n<pre><code>CAST(SUBSTRING(&lt;column name &gt;, -3) AS int)\n</code></pre>\n"}],"owner":{"account_id":12071113,"reputation":113,"user_id":8826447,"display_name":"P.S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11830,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1666591931,"creation_date":1536228706,"question_id":52201728,"body_markdown":"&gt; Caused by: org.hibernate.QueryException: Could not resolve requested\r\n&gt; type for CAST : INT [ SELECT SUBSTRING(referenceComptable , 8, 14) AS\r\n&gt; seqNum, SUBSTRING(referenceComptable, 4,7) AS yearCegid,\r\n&gt; SUBSTRING(referenceComptable, 1,3) AS journal FROM\r\n&gt; com.dso.model.comptabilite.cegid.EtapeJudiciaireLnkFactureActesHonoraires\r\n&gt; WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate \r\n&gt; ORDER BY CAST(seqNum AS INT), CAST(yearCegid AS INT), CAST(journal AS\r\n&gt; INT) ASC ]\r\n\r\nHQL QUery:\r\n    public ScrollableResults retrieveSequenceNumberForCegidGenerated(){\r\n    \r\n    \t\tStringBuilder queryBuilder = new StringBuilder(&quot; SELECT SUBSTRING(referenceComptable , 8, 14) AS seqNum, SUBSTRING(referenceComptable, 4,7) AS yearCegid, SUBSTRING(referenceComptable, 1,3) AS journal&quot;)\r\n    \t\t\t\t\t\t\t.append(&quot; FROM EtapeJudiciaireLnkFactureActesHonoraires &quot;)\r\n    \t\t\t\t\t\t\t.append(&quot; WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate &quot;)\r\n    \t\t\t\t\t\t\t.append(&quot; ORDER BY CAST(seqNum AS INT), CAST(yearCegid AS INT), CAST(journal AS INT) ASC &quot;);\r\n    \r\n    \t\tQuery query = getFilteredCurrentSession().createQuery(queryBuilder.toString());\r\n    \r\n    \t\t//SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    \t\tDate date = new Date();\r\n    \r\n    \t\tLocalDate yearIntervalDate = LocalDate.now().minusDays(365);\r\n    \t\tDate dateYearIntervalDate = Date.from(yearIntervalDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n    \r\n    \t\tquery.setParameter(&quot;date&quot;, date);\r\n    \t\tquery.setParameter(&quot;dateYearIntervalDate&quot;, dateYearIntervalDate);\r\n    \r\n    \t\tScrollableResults referenceComptable = query.scroll(ScrollMode.FORWARD_ONLY);\r\n    \t\tquery.setCacheMode(CacheMode.IGNORE)\r\n    \t\t\t .setFetchSize(500);\r\n    \r\n    \t\treturn referenceComptable;\r\n    \t}\r\n\r\nWhen i tried to CAST as INT it didn&#39;y work also. What can be done to cast it ffrom string to integer?\r\n\r\nStack Trace\r\n\r\n&gt; Caused by: org.hibernate.QueryException: Could not resolve requested\r\n&gt; type for CAST : INTEGER [ SELECT SUBSTRING(referenceComptable , 8, 7)\r\n&gt; AS seqNum, SUBSTRING(referenceComptable, 4,4) AS yearCegid,\r\n&gt; SUBSTRING(referenceComptable, 1,3) AS journal FROM\r\n&gt; com.dso.model.comptabilite.cegid.EtapeJudiciaireLnkFactureActesHonoraires\r\n&gt; WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate \r\n&gt; ORDER BY CAST(SUBSTRING(referenceComptable , 8, 14) AS INTEGER),\r\n&gt; CAST(SUBSTRING(referenceComptable, 4,7) AS INTEGER), journal ASC ] \tat\r\n&gt; org.hibernate.QueryException.generateQueryException(QueryException.java:120)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:218)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:115)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:76)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:298)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:236)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1825)\r\n&gt; ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final] \tat\r\n&gt; com.dso.dao.comptabilite.cegid.impl.ReferenceComptableSequenceDAOImpl.retrieveSequenceNumberForCegidGenerated","title":"Caused by: org.hibernate.QueryException: Could not resolve requested type for CAST : INT","body":"<blockquote>\n  <p>Caused by: org.hibernate.QueryException: Could not resolve requested\n  type for CAST : INT [ SELECT SUBSTRING(referenceComptable , 8, 14) AS\n  seqNum, SUBSTRING(referenceComptable, 4,7) AS yearCegid,\n  SUBSTRING(referenceComptable, 1,3) AS journal FROM\n  com.dso.model.comptabilite.cegid.EtapeJudiciaireLnkFactureActesHonoraires\n  WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate \n  ORDER BY CAST(seqNum AS INT), CAST(yearCegid AS INT), CAST(journal AS\n  INT) ASC ]</p>\n</blockquote>\n\n<p>HQL QUery:\n    public ScrollableResults retrieveSequenceNumberForCegidGenerated(){</p>\n\n<pre><code>        StringBuilder queryBuilder = new StringBuilder(\" SELECT SUBSTRING(referenceComptable , 8, 14) AS seqNum, SUBSTRING(referenceComptable, 4,7) AS yearCegid, SUBSTRING(referenceComptable, 1,3) AS journal\")\n                            .append(\" FROM EtapeJudiciaireLnkFactureActesHonoraires \")\n                            .append(\" WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate \")\n                            .append(\" ORDER BY CAST(seqNum AS INT), CAST(yearCegid AS INT), CAST(journal AS INT) ASC \");\n\n        Query query = getFilteredCurrentSession().createQuery(queryBuilder.toString());\n\n        //SimpleDateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss\");\n        Date date = new Date();\n\n        LocalDate yearIntervalDate = LocalDate.now().minusDays(365);\n        Date dateYearIntervalDate = Date.from(yearIntervalDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n\n        query.setParameter(\"date\", date);\n        query.setParameter(\"dateYearIntervalDate\", dateYearIntervalDate);\n\n        ScrollableResults referenceComptable = query.scroll(ScrollMode.FORWARD_ONLY);\n        query.setCacheMode(CacheMode.IGNORE)\n             .setFetchSize(500);\n\n        return referenceComptable;\n    }\n</code></pre>\n\n<p>When i tried to CAST as INT it didn'y work also. What can be done to cast it ffrom string to integer?</p>\n\n<p>Stack Trace</p>\n\n<blockquote>\n  <p>Caused by: org.hibernate.QueryException: Could not resolve requested\n  type for CAST : INTEGER [ SELECT SUBSTRING(referenceComptable , 8, 7)\n  AS seqNum, SUBSTRING(referenceComptable, 4,4) AS yearCegid,\n  SUBSTRING(referenceComptable, 1,3) AS journal FROM\n  com.dso.model.comptabilite.cegid.EtapeJudiciaireLnkFactureActesHonoraires\n  WHERE dateCegidGenerated BETWEEN :date AND :dateYearIntervalDate \n  ORDER BY CAST(SUBSTRING(referenceComptable , 8, 14) AS INTEGER),\n  CAST(SUBSTRING(referenceComptable, 4,7) AS INTEGER), journal ASC ]    at\n  org.hibernate.QueryException.generateQueryException(QueryException.java:120)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:218)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:115)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.engine.query.spi.HQLQueryPlan.(HQLQueryPlan.java:76)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:298)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:236)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1825)\n  ~[hibernate-core-5.0.2.Final.jar:5.0.2.Final]     at\n  com.dso.dao.comptabilite.cegid.impl.ReferenceComptableSequenceDAOImpl.retrieveSequenceNumberForCegidGenerated</p>\n</blockquote>\n"},{"tags":["java","button","joptionpane"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666591904,"post_id":74177175,"comment_id":130964834,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html#JFrame() - call a constructor first","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JFrame.html#JFrame()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/swing/&hellip;</a> - call a constructor first"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666591987,"post_id":74177175,"comment_id":130964851,"body_markdown":"See https://www.guru99.com/java-swing-gui.html for an example","body":"See <a href=\"https://www.guru99.com/java-swing-gui.html\" rel=\"nofollow noreferrer\">guru99.com/java-swing-gui.html</a> for an example"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1666592169,"post_id":74177175,"comment_id":130964882,"body_markdown":"If a correct `main` method is added, where a `MyFirstGUI` instance is created, pressing the button will work and show the message dialog correctly. However, using `null` layout in swing is not advised, use proper [LayoutManagers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) instead. All in all, I would suggest you to work through the basics of the [java swing tutorial](https://docs.oracle.com/javase/tutorial/uiswing/) to get the hang of it.","body":"If a correct <code>main</code> method is added, where a <code>MyFirstGUI</code> instance is created, pressing the button will work and show the message dialog correctly. However, using <code>null</code> layout in swing is not advised, use proper <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">LayoutManagers</a> instead. All in all, I would suggest you to work through the basics of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">java swing tutorial</a> to get the hang of it."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1666595921,"post_id":74177175,"comment_id":130965679,"body_markdown":"this code works fine for me when the class `MyFirstGUI` is called from a main method like this:- `new MyFirstGUI().setVisible(true);`","body":"this code works fine for me when the class <code>MyFirstGUI</code> is called from a main method like this:- <code>new MyFirstGUI().setVisible(true);</code>"}],"owner":{"account_id":26272105,"reputation":1,"user_id":19941868,"display_name":"phylansalvador"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666591655,"creation_date":1666591655,"question_id":74177175,"body_markdown":"```package basics;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JButton;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.Color;\r\npublic class MyFirstGUI extends JFrame {\r\n\tpublic MyFirstGUI() {\r\n\t\tgetContentPane().setLayout(null);\r\n\t\t\r\n\t\tJButton btnNewButton = new JButton(&quot;New button&quot;);\r\n\t\tbtnNewButton.setBackground(new Color(255, 155, 62));\r\n\t\tbtnNewButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) { \r\n\t\t\t\tJOptionPane.showMessageDialog(null, &quot;nice&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnNewButton.setBounds(0, 6, 117, 29);\r\n\t\tgetContentPane().add(btnNewButton);\r\n\t}\r\n\t\r\n}\r\n```\r\nproblem is that button does not give an output when it is pressed. havent tried many solutions since i really dont know where to go with this one. should be noted that im using WindowsBuilder on Eclipse IDE","title":"Trying to showMessageDialog using JOptionPane upon press of a button","body":"<pre><code>import javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport javax.swing.JButton;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport java.awt.Color;\npublic class MyFirstGUI extends JFrame {\n    public MyFirstGUI() {\n        getContentPane().setLayout(null);\n        \n        JButton btnNewButton = new JButton(&quot;New button&quot;);\n        btnNewButton.setBackground(new Color(255, 155, 62));\n        btnNewButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) { \n                JOptionPane.showMessageDialog(null, &quot;nice&quot;);\n            }\n        });\n        btnNewButton.setBounds(0, 6, 117, 29);\n        getContentPane().add(btnNewButton);\n    }\n    \n}\n</code></pre>\n<p>problem is that button does not give an output when it is pressed. havent tried many solutions since i really dont know where to go with this one. should be noted that im using WindowsBuilder on Eclipse IDE</p>\n"},{"tags":["java","binary"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1666591318,"post_id":74177080,"comment_id":130964732,"body_markdown":"Look at the values in result. `&#39;0&#39;` is not the same thing as `0`","body":"Look at the values in result. <code>&#39;0&#39;</code> is not the same thing as <code>0</code>"}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666591381,"creation_date":1666591381,"answer_id":74177140,"question_id":74177080,"body_markdown":"\r\nChange `result[i] == 0` to `result[i] == &#39;0&#39;` and it will work\r\n\r\n    public static void displayHeadAndTails(int[] result) {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            if (result[i] == &#39;0&#39;)\r\n                System.out.print(&quot;H&quot;);\r\n            else System.out.print(&quot;T&quot;);\r\n            if ((i + 1) % 3 == 0)\r\n                System.out.println();\r\n        }\r\n    }\r\n\r\nAlso,it&#39;s better to using `{}` after `if else`","title":"How should I fix this?","body":"<p>Change <code>result[i] == 0</code> to <code>result[i] == '0'</code> and it will work</p>\n<pre><code>public static void displayHeadAndTails(int[] result) {\n    for (int i = 0; i &lt; 9; i++) {\n        if (result[i] == '0')\n            System.out.print(&quot;H&quot;);\n        else System.out.print(&quot;T&quot;);\n        if ((i + 1) % 3 == 0)\n            System.out.println();\n    }\n}\n</code></pre>\n<p>Also,it's better to using <code>{}</code> after <code>if else</code></p>\n"}],"owner":{"account_id":26594629,"reputation":9,"user_id":20217226,"display_name":"user20217226"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666591381,"creation_date":1666590828,"question_id":74177080,"body_markdown":"When I run the program and it asks me to input a number between 0 to 511. I enter 7 it turns out to be \r\n\r\nTTT\r\nTTT\r\nTTT \r\n\r\nbut it should be like this \r\nHHH\r\nHHH\r\nTTT \r\n\r\n\r\n    import java.util.Scanner;\r\n    public class coins {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number between 0 and 511&quot;);\r\n            int number = input.nextInt();\r\n            int[] result = decimalToBinary(number);\r\n            displayHeadAndTails(result);\r\n        }\r\n        public static int[] decimalToBinary(int number) {\r\n            int[] result = new int[9];\r\n            int i = result.length - 1;\r\n            while (number != 0) {\r\n                if (number % 2 == 0) {\r\n                    result[i--] = &#39;0&#39;;\r\n                } else {\r\n                    result[i--] = &#39;1&#39;;\r\n                }\r\n                number /= 2;\r\n            }\r\n            for (int k = i; k &gt;= 0; k--) {\r\n                result[k] = &#39;0&#39;;\r\n            }\r\n            return result;\r\n        }\r\n        public static void displayHeadAndTails(int[] result) {\r\n            for (int i = 0; i &lt; 9; i++) {\r\n                if (result[i] == 0)\r\n                    System.out.print(&quot;H&quot;);\r\n                else System.out.print(&quot;T&quot;);\r\n                if ((i + 1) % 3 == 0)\r\n                System.out.println();\r\n            }\r\n        }\r\n    }","title":"How should I fix this?","body":"<p>When I run the program and it asks me to input a number between 0 to 511. I enter 7 it turns out to be</p>\n<p>TTT\nTTT\nTTT</p>\n<p>but it should be like this\nHHH\nHHH\nTTT</p>\n<pre><code>import java.util.Scanner;\npublic class coins {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Enter a number between 0 and 511&quot;);\n        int number = input.nextInt();\n        int[] result = decimalToBinary(number);\n        displayHeadAndTails(result);\n    }\n    public static int[] decimalToBinary(int number) {\n        int[] result = new int[9];\n        int i = result.length - 1;\n        while (number != 0) {\n            if (number % 2 == 0) {\n                result[i--] = '0';\n            } else {\n                result[i--] = '1';\n            }\n            number /= 2;\n        }\n        for (int k = i; k &gt;= 0; k--) {\n            result[k] = '0';\n        }\n        return result;\n    }\n    public static void displayHeadAndTails(int[] result) {\n        for (int i = 0; i &lt; 9; i++) {\n            if (result[i] == 0)\n                System.out.print(&quot;H&quot;);\n            else System.out.print(&quot;T&quot;);\n            if ((i + 1) % 3 == 0)\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","ide","m2eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1666592200,"post_id":74175516,"comment_id":130964889,"body_markdown":"You are being asked here whether you trust what is being installed, or generally trust what is being installed, by being offered two checkboxes, of which you must tick one to install it. For details see [here](https://gitlab.eclipse.org/eclipsefdn/it/websites/eclipseide.org/-/issues/11).","body":"You are being asked here whether you trust what is being installed, or generally trust what is being installed, by being offered two checkboxes, of which you must tick one to install it. For details see <a href=\"https://gitlab.eclipse.org/eclipsefdn/it/websites/eclipseide.org/-/issues/11\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1666610967,"post_id":74175516,"comment_id":130970479,"body_markdown":"Just click the check box before &quot;Unsigned&quot; and you should be able to proceed.","body":"Just click the check box before &quot;Unsigned&quot; and you should be able to proceed."},{"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"score":0,"creation_date":1667231388,"post_id":74175516,"comment_id":131115778,"body_markdown":"@howlger: Thank you!! I don&#39;t know what might have caused it, it&#39;s been here for a while for me. hopefully it one of the future versions it will be addressed.","body":"@howlger: Thank you!! I don&#39;t know what might have caused it, it&#39;s been here for a while for me. hopefully it one of the future versions it will be addressed."},{"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"score":0,"creation_date":1667231565,"post_id":74175516,"comment_id":131115853,"body_markdown":"@greg-449: Thank you Greg!! I did for both check boxes. I can still install them by &quot;trusting&quot;, however I don&#39;t know what&#39;s missing locally that&#39;s causing this issue.","body":"@greg-449: Thank you Greg!! I did for both check boxes. I can still install them by &quot;trusting&quot;, however I don&#39;t know what&#39;s missing locally that&#39;s causing this issue."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1667232422,"post_id":74175516,"comment_id":131116188,"body_markdown":"Nothing is missing, it is just that some plug-ins are built without being digitally signed. Eclipse is just letting you know. It is possible (but very unlikely) that unsigned plug-ins could have been tampered with.","body":"Nothing is missing, it is just that some plug-ins are built without being digitally signed. Eclipse is just letting you know. It is possible (but very unlikely) that unsigned plug-ins could have been tampered with."},{"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"score":0,"creation_date":1667522682,"post_id":74175516,"comment_id":131192518,"body_markdown":"@greg-449: That&#39;s genuinely comforting to know. Thank you!! I hope Eclipse could fix it someday (although it&#39;s still up to the third party whether if they want to get &quot;license&quot; from Eclipse to be trusted.","body":"@greg-449: That&#39;s genuinely comforting to know. Thank you!! I hope Eclipse could fix it someday (although it&#39;s still up to the third party whether if they want to get &quot;license&quot; from Eclipse to be trusted."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1667545679,"post_id":74175516,"comment_id":131195956,"body_markdown":"@Omutwar It&#39;s nothing that can be fixed on Eclipse side. Third party have to sign their content with their PGP private key and it&#39;s up to you to trust or not to trust new PGP identities.","body":"@Omutwar It&#39;s nothing that can be fixed on Eclipse side. Third party have to sign their content with their PGP private key and it&#39;s up to you to trust or not to trust new PGP identities."},{"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"score":0,"creation_date":1667706384,"post_id":74175516,"comment_id":131229171,"body_markdown":"@howlger: That&#39;s how I proceeded for now. Thank you for your response!! :)","body":"@howlger: That&#39;s how I proceeded for now. Thank you for your response!! :)"}],"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1666591266,"creation_date":1666568243,"question_id":74175516,"body_markdown":"I don&#39;t know what I may have changed locally, but when I attempted to install update, got this error below: \r\n\r\n\r\n[![Install dialog][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/msi8I.png\r\n\r\n\r\nI was unable to continue, can someone who may be familiar with the root cause show me a way. \r\n\r\nThank you ","title":"Java update issue : &lt;do you trust unassigned content of unassigned origin&gt;","body":"<p>I don't know what I may have changed locally, but when I attempted to install update, got this error below:</p>\n<p><a href=\"https://i.stack.imgur.com/msi8I.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/msi8I.png\" alt=\"Install dialog\" /></a></p>\n<p>I was unable to continue, can someone who may be familiar with the root cause show me a way.</p>\n<p>Thank you</p>\n"},{"tags":["java","google-cloud-platform","hbase","google-cloud-dataflow","google-cloud-bigtable"],"answers":[{"tags":[],"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666590901,"creation_date":1666590901,"answer_id":74177086,"question_id":74113597,"body_markdown":"The package [org.apache.hadoop.hbase.client](https://cloud.google.com/bigtable/docs/hbase-client/javadoc/org/apache/hadoop/hbase/client/package-summary) is an [HBase client for Java](https://hbase.apache.org/) while [com.google.cloud.bigtable.data.v2](https://cloud.google.com/java/docs/reference/google-cloud-bigtable/latest/com.google.cloud.bigtable.data.v2) is a Cloud Bigtable data API client.\r\n\r\n[Cloud Bigtable](https://cloud.google.com/bigtable/?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=japac-PH-all-en-dr-skws-all-all-trial-e-dr-1009882&amp;utm_content=text-ad-none-none-DEV_c-CRE_468768400460-ADGP_Hybrid%20%7C%20SKWS%20-%20EXA%20%7C%20Txt%20~%20Databases%20~%20Cloud%20Bigtable_big%20data-big%20table-KWID_43700024746630443-kwd-317056130768&amp;userloc_9067371-network_g&amp;utm_term=KW_cloud%20bigtable&amp;gclid=CjwKCAjwzNOaBhAcEiwAD7Tb6DMXmz76h5QOcxkHDmxAbXz5HQmPdJKbReRWJXnCutAEwNnAu2oS3BoCGK0QAvD_BwE&amp;gclsrc=aw.ds) is a NoSQL database but not an open-source project. A connection with Apache HBase library for Java can integrate Cloud Bigtable with [Apache Hadoop](https://hadoop.apache.org/)/Apache Hbase and adapts to existing Apache ecosystem.\r\nApache Hbase is one of the many tools and application that Apache Hadoop included to collect, store, analyze, and manage big data.\r\n\r\nYou can refer to this SO [link](https://stackoverflow.com/questions/24860516/what-it-the-difference-between-hbase-and-bigtable) to view the answers of the question which is related to yours. Also, you may look up to this [documentation](https://cloud.google.com/bigtable/docs/hbase-differences#column_families) for more information about their differences.","title":"What is the difference between to use org.apache.hadoop.hbase.client Vs com.google.cloud.bigtable.data.v2 on dataflow gcp","body":"<p>The package <a href=\"https://cloud.google.com/bigtable/docs/hbase-client/javadoc/org/apache/hadoop/hbase/client/package-summary\" rel=\"nofollow noreferrer\">org.apache.hadoop.hbase.client</a> is an <a href=\"https://hbase.apache.org/\" rel=\"nofollow noreferrer\">HBase client for Java</a> while <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-bigtable/latest/com.google.cloud.bigtable.data.v2\" rel=\"nofollow noreferrer\">com.google.cloud.bigtable.data.v2</a> is a Cloud Bigtable data API client.</p>\n<p><a href=\"https://cloud.google.com/bigtable/?utm_source=google&amp;utm_medium=cpc&amp;utm_campaign=japac-PH-all-en-dr-skws-all-all-trial-e-dr-1009882&amp;utm_content=text-ad-none-none-DEV_c-CRE_468768400460-ADGP_Hybrid%20%7C%20SKWS%20-%20EXA%20%7C%20Txt%20%7E%20Databases%20%7E%20Cloud%20Bigtable_big%20data-big%20table-KWID_43700024746630443-kwd-317056130768&amp;userloc_9067371-network_g&amp;utm_term=KW_cloud%20bigtable&amp;gclid=CjwKCAjwzNOaBhAcEiwAD7Tb6DMXmz76h5QOcxkHDmxAbXz5HQmPdJKbReRWJXnCutAEwNnAu2oS3BoCGK0QAvD_BwE&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">Cloud Bigtable</a> is a NoSQL database but not an open-source project. A connection with Apache HBase library for Java can integrate Cloud Bigtable with <a href=\"https://hadoop.apache.org/\" rel=\"nofollow noreferrer\">Apache Hadoop</a>/Apache Hbase and adapts to existing Apache ecosystem.\nApache Hbase is one of the many tools and application that Apache Hadoop included to collect, store, analyze, and manage big data.</p>\n<p>You can refer to this SO <a href=\"https://stackoverflow.com/questions/24860516/what-it-the-difference-between-hbase-and-bigtable\">link</a> to view the answers of the question which is related to yours. Also, you may look up to this <a href=\"https://cloud.google.com/bigtable/docs/hbase-differences#column_families\" rel=\"nofollow noreferrer\">documentation</a> for more information about their differences.</p>\n"}],"owner":{"account_id":12134091,"reputation":25,"user_id":8860045,"display_name":"masterdevsshm83_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666590901,"creation_date":1666106859,"question_id":74113597,"body_markdown":"There are a difference of perfomance o stability, or long term support maybe ?. I mean is needed migrate hbase api to big table connector apache beam. ","title":"What is the difference between to use org.apache.hadoop.hbase.client Vs com.google.cloud.bigtable.data.v2 on dataflow gcp","body":"<p>There are a difference of perfomance o stability, or long term support maybe ?. I mean is needed migrate hbase api to big table connector apache beam.</p>\n"},{"tags":["java","eclipse","visual-studio-code","lejos-nxj"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1666348889,"post_id":74152265,"comment_id":130921258,"body_markdown":"`org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER` is an Eclipse container which would be defined by an Eclipse plug-in.","body":"<code>org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER</code> is an Eclipse container which would be defined by an Eclipse plug-in."},{"owner":{"account_id":20169974,"reputation":1,"user_id":14793017,"display_name":"David Krčm&#225;ř"},"score":0,"creation_date":1666436642,"post_id":74152265,"comment_id":130939526,"body_markdown":"Yes that’s right, it is generated by a plugin. Is there any way I can include it in VS Code?","body":"Yes that’s right, it is generated by a plugin. Is there any way I can include it in VS Code?"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666589882,"creation_date":1666589882,"answer_id":74177000,"question_id":74152265,"body_markdown":"In the **JAVA PROJECTS** panel, click the plus sign to the right of `Referenced Libraries` to add a local `.jar` file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zViNw.png","title":"Libraries not imported when editing Eclipse project in VS Code","body":"<p>In the <strong>JAVA PROJECTS</strong> panel, click the plus sign to the right of <code>Referenced Libraries</code> to add a local <code>.jar</code> file.</p>\n<p><a href=\"https://i.stack.imgur.com/zViNw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zViNw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20169974,"reputation":1,"user_id":14793017,"display_name":"David Krčm&#225;ř"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666589882,"creation_date":1666347978,"question_id":74152265,"body_markdown":"So, I&#39;ve been trying to edit my Java Eclipse project in VS Code. I installed the &quot;Extension pack for Java&quot; extension and tried to open my projects. Loading .jar files and JavaSE works great, but it seems it cannot load the `&quot;org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER&quot;`. **Is there any way how to tell VS Code what its value is?**&lt;br&gt;\r\nWhen I open any of my files containing anything from that library, VS Code cannot resolve imports from that library: [screenshot of the import error][1]&lt;br&gt;\r\nHere is how importing anything from java and jar files works:\r\n\r\nMy .classpath file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.7&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/ascs-libs.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n&lt;/classpath&gt;\r\n```\r\nMy .project file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;projectDescription&gt;\r\n\t&lt;name&gt;ASCS-Vehicle&lt;/name&gt;\r\n\t&lt;comment&gt;&lt;/comment&gt;\r\n\t&lt;projects&gt;\r\n\t&lt;/projects&gt;\r\n\t&lt;buildSpec&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t\t&lt;buildCommand&gt;\r\n\t\t\t&lt;name&gt;org.lejos.ev3.ldt.leJOSEV3Builder&lt;/name&gt;\r\n\t\t\t&lt;arguments&gt;\r\n\t\t\t&lt;/arguments&gt;\r\n\t\t&lt;/buildCommand&gt;\r\n\t&lt;/buildSpec&gt;\r\n\t&lt;natures&gt;\r\n\t\t&lt;nature&gt;org.lejos.ev3.ldt.leJOSEV3Nature&lt;/nature&gt;\r\n\t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n\t&lt;/natures&gt;\r\n\t&lt;filteredResources&gt;\r\n\t\t&lt;filter&gt;\r\n\t\t\t&lt;id&gt;1666344409294&lt;/id&gt;\r\n\t\t\t&lt;name&gt;&lt;/name&gt;\r\n\t\t\t&lt;type&gt;30&lt;/type&gt;\r\n\t\t\t&lt;matcher&gt;\r\n\t\t\t\t&lt;id&gt;org.eclipse.core.resources.regexFilterMatcher&lt;/id&gt;\r\n\t\t\t\t&lt;arguments&gt;node_modules|\\.git|__CREATED_BY_JAVA_LANGUAGE_SERVER__&lt;/arguments&gt;\r\n\t\t\t&lt;/matcher&gt;\r\n\t\t&lt;/filter&gt;\r\n\t&lt;/filteredResources&gt;\r\n&lt;/projectDescription&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/F3pvG.png","title":"Libraries not imported when editing Eclipse project in VS Code","body":"<p>So, I've been trying to edit my Java Eclipse project in VS Code. I installed the &quot;Extension pack for Java&quot; extension and tried to open my projects. Loading .jar files and JavaSE works great, but it seems it cannot load the <code>&quot;org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER&quot;</code>. <strong>Is there any way how to tell VS Code what its value is?</strong><br>\nWhen I open any of my files containing anything from that library, VS Code cannot resolve imports from that library: <a href=\"https://i.stack.imgur.com/F3pvG.png\" rel=\"nofollow noreferrer\">screenshot of the import error</a><br>\nHere is how importing anything from java and jar files works:</p>\n<p>My .classpath file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.7&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.lejos.ev3.ldt.LEJOS_EV3_LIBRARY_CONTAINER&quot;/&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;lib/ascs-libs.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>My .project file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;projectDescription&gt;\n    &lt;name&gt;ASCS-Vehicle&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;\n    &lt;/projects&gt;\n    &lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.lejos.ev3.ldt.leJOSEV3Builder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n    &lt;/buildSpec&gt;\n    &lt;natures&gt;\n        &lt;nature&gt;org.lejos.ev3.ldt.leJOSEV3Nature&lt;/nature&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n    &lt;/natures&gt;\n    &lt;filteredResources&gt;\n        &lt;filter&gt;\n            &lt;id&gt;1666344409294&lt;/id&gt;\n            &lt;name&gt;&lt;/name&gt;\n            &lt;type&gt;30&lt;/type&gt;\n            &lt;matcher&gt;\n                &lt;id&gt;org.eclipse.core.resources.regexFilterMatcher&lt;/id&gt;\n                &lt;arguments&gt;node_modules|\\.git|__CREATED_BY_JAVA_LANGUAGE_SERVER__&lt;/arguments&gt;\n            &lt;/matcher&gt;\n        &lt;/filter&gt;\n    &lt;/filteredResources&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n"},{"tags":["java","macos","gradle"],"comments":[{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":1,"creation_date":1666345325,"post_id":74151682,"comment_id":130920083,"body_markdown":"Withhout really wanting to dive into it, there have been changes to Java over the years that allow less and less dirty hacks. You may be better off just leaving it on that version and letting someone spend time on it that knows more about Java. Or you may consider going to Java 17 which is an LTS version with a far higher adoption than 19 which will soon lose support anyway. If it&#39;s a repo you rarely touch, I&#39;d just go with 17 now and the next LTS (21) when it comes out and there is a need.","body":"Withhout really wanting to dive into it, there have been changes to Java over the years that allow less and less dirty hacks. You may be better off just leaving it on that version and letting someone spend time on it that knows more about Java. Or you may consider going to Java 17 which is an LTS version with a far higher adoption than 19 which will soon lose support anyway. If it&#39;s a repo you rarely touch, I&#39;d just go with 17 now and the next LTS (21) when it comes out and there is a need."},{"owner":{"account_id":9746016,"reputation":1,"user_id":7225993,"display_name":"jimorey"},"score":0,"creation_date":1666345479,"post_id":74151682,"comment_id":130920139,"body_markdown":"@SebastiaanvandenBroek good to know. I did try Java 17 and got the the exact same result. I will switch back to that version though given what you&#39;ve mentioned about LTS.","body":"@SebastiaanvandenBroek good to know. I did try Java 17 and got the the exact same result. I will switch back to that version though given what you&#39;ve mentioned about LTS."},{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1666346701,"post_id":74151682,"comment_id":130920564,"body_markdown":"https://stackoverflow.com/questions/70756414/java-lang-reflect-inaccessibleobjectexception-unable-to-make-field-private-fina had a similar error on a version incompatibility between the JRE and Cucumber. In your case it could be an incompatibility between your JRE and some other dependency, like JUnit.","body":"<a href=\"https://stackoverflow.com/questions/70756414/java-lang-reflect-inaccessibleobjectexception-unable-to-make-field-private-fina\" title=\"java lang reflect inaccessibleobjectexception unable to make field private fina\">stackoverflow.com/questions/70756414/&hellip;</a> had a similar error on a version incompatibility between the JRE and Cucumber. In your case it could be an incompatibility between your JRE and some other dependency, like JUnit."}],"answers":[{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666589523,"creation_date":1666589523,"answer_id":74176964,"question_id":74151682,"body_markdown":"By massive coincidence I actually ran into the issue myself a few days after commenting, and thus had to solve it.\r\n\r\nI had to replace the old Mockito library with the newer &#39;inline&#39; version. This can be found at https://mvnrepository.com/artifact/org.mockito/mockito-inline\r\n\r\nThis version no longer attempts to do things that Java 17 doesn&#39;t allow anymore while trying to create a Mock object.","title":"Reviving an old java repo and getting this error java.lang.reflect.InaccessibleObjectException: Unable to make field private final","body":"<p>By massive coincidence I actually ran into the issue myself a few days after commenting, and thus had to solve it.</p>\n<p>I had to replace the old Mockito library with the newer 'inline' version. This can be found at <a href=\"https://mvnrepository.com/artifact/org.mockito/mockito-inline\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.mockito/mockito-inline</a></p>\n<p>This version no longer attempts to do things that Java 17 doesn't allow anymore while trying to create a Mock object.</p>\n"}],"owner":{"account_id":9746016,"reputation":1,"user_id":7225993,"display_name":"jimorey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666589523,"creation_date":1666344995,"question_id":74151682,"body_markdown":"I&#39;m trying to revive an older java repo that needs some changes to be made. I am no java pro by far, but alas it must be done.\r\n\r\nThe repo specifies OpenJDK-14.0.1 and Gradle-6.5 but I have decided to get it running on a newer version of Java and Gradle so that the next poor soul that comes along may have an easier chance of getting setup.\r\n\r\nAs such I&#39;ve gone with OpenJDK-19.0.1 and Gradle-7.5.1 and expectedly there have been some issues.\r\n\r\nOne being the ```compile``` configuration having been removed from Gradle-7.5.1 replaced with ```implementation``` and the second needing to update the version for Lombok to a higher version so I have gone with 1.18.24\r\n\r\nNow the repo builds and 321 of 330 tests pass with 9 failing. This is where I am stuck. All the failing tests are all in the same file and fail because of the same error. Not being a java pro this error doesn&#39;t mean much to me.\r\n\r\nSo my questions is what causes this error in Java and how is it fixed?\r\n\r\nThe error and a stripped back version of the code with only one of the failing tests is supplied below.\r\n\r\n**ERROR**\r\n```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @48cf768c\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat org.junit.contrib.java.lang.system.EnvironmentVariables.getFieldValue(EnvironmentVariables.java:136)\r\n\tat org.junit.contrib.java.lang.system.EnvironmentVariables.getEditableMapOfVariables(EnvironmentVariables.java:98)\r\n\tat org.junit.contrib.java.lang.system.EnvironmentVariables.access$000(EnvironmentVariables.java:34)\r\n\tat org.junit.contrib.java.lang.system.EnvironmentVariables$EnvironmentVariablesStatement.restoreOriginalVariables(EnvironmentVariables.java:82)\r\n\tat org.junit.contrib.java.lang.system.EnvironmentVariables$EnvironmentVariablesStatement.evaluate(EnvironmentVariables.java:73)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor124.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy5.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n```\r\n\r\n**CODE**\r\n```\r\npackage com.pastoralcare.filter;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport static org.junit.Assert.assertNotNull;\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport java.io.IOException;\r\nimport java.util.UUID;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Rule;\r\nimport org.junit.Test;\r\nimport org.junit.contrib.java.lang.system.EnvironmentVariables;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.ArgumentMatchers;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.Mockito;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.mock.web.MockHttpServletRequest;\r\nimport org.springframework.mock.web.MockHttpServletResponse;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.util.ReflectionTestUtils;\r\nimport org.springframework.web.context.request.RequestContextHolder;\r\nimport org.springframework.web.context.request.ServletRequestAttributes;\r\n\r\nimport com.authenticator.AuthenticationTokenAuthenticator;\r\nimport com.authenticator.InterServiceTokenAuthenticator;\r\nimport com.authorization.CheckStaffPermissions;\r\nimport com.dto.PermissionSetCodeDto;\r\nimport com.model.AuthToken;\r\nimport com.pastoralcare.constant.RestAPIConstants;\r\nimport com.pastoralcare.dto.AuthTokenDto;\r\nimport com.pastoralcare.dto.PermissionSetCodesDto;\r\nimport com.pastoralcare.dto.TokenDto;\r\n\r\n@RunWith(SpringRunner.class)\r\npublic class TokenFilterTest {\r\n\r\n\t@InjectMocks\r\n\tTokenFilter tokenFilter;\r\n\r\n\t@Mock\r\n\tTokenDto tokenDto;\r\n\r\n\t@MockBean\r\n\tFilterChain filterChain;\r\n\r\n\t@Mock\r\n\tPermissionSetCodesDto permissionSetCodesDto;\r\n\r\n\t@Mock\r\n\tAuthTokenDto authTokenDto;\r\n\r\n\t@Mock\r\n\tInterServiceTokenAuthenticator internalAuth;\r\n\r\n\t@Mock\r\n\tAuthenticationTokenAuthenticator authnValidator; \r\n\r\n\t@Mock\r\n\tCheckStaffPermissions checkStaffPermissions; \r\n\r\n\t@Mock\r\n\tAuthToken authToken; \r\n\r\n\t@Mock\r\n\tPermissionSetCodeDto permissionSetCodeDto;\r\n\r\n\tMockHttpServletRequest httpServletRequest = new MockHttpServletRequest();\r\n\tMockHttpServletResponse httpServletResponse = new MockHttpServletResponse();\r\n\r\n\t@Rule\r\n\tpublic final EnvironmentVariables environmentVariables = new EnvironmentVariables();\r\n\r\n\tPermissionSetCodesDto permissionSetsDto;\r\n\t\r\n\t@Before\r\n\tpublic void setUp() {\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\t//\t\ttokenFilter = new TokenFilter();\r\n\t\ttokenFilter.tokenDto = mock(TokenDto.class);\r\n\r\n\t\tUUID communityId = UUID.randomUUID();\r\n\t\tUUID tenantId = UUID.randomUUID();\r\n\t\ttokenFilter.tokenDto.setTenantId(tenantId);\r\n\t\ttokenFilter.tokenDto.setCommunityId(communityId);\r\n\t\ttokenFilter.tokenDto.setFirstName(&quot;name&quot;);\r\n\t\ttokenFilter.tokenDto.setLastName(&quot;surname&quot;);\r\n\t\ttokenFilter.tokenDto.setTimezoneIanaCode(&quot;UTC&quot;);\r\n\t\t\r\n\t\tReflectionTestUtils.setField(tokenFilter, &quot;interServiceAuthKey&quot;, &quot;8Y419dV49Jw+yeRho5iUIgLErSztNnlWvfmc2vzi8D8=&quot;);\r\n\t\tReflectionTestUtils.setField(tokenFilter, &quot;activeProfile&quot;, &quot;activeProfile&quot;);\r\n\r\n\t\tRequestContextHolder.setRequestAttributes(new ServletRequestAttributes(httpServletRequest));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testDoFilterActuator() throws ServletException, IOException {\r\n\t\thttpServletRequest.setRequestURI(&quot;/actuator/&quot;);\r\n\t\tMockHttpServletResponse mockResp = new MockHttpServletResponse();\r\n\t\tFilterChain mockFilterChain = Mockito.mock(FilterChain.class);\r\n\t\ttokenFilter.doFilter(httpServletRequest, mockResp, mockFilterChain);\r\n\t\tassertEquals(200, mockResp.getStatus());\r\n    }\r\n\r\n}\r\n```","title":"Reviving an old java repo and getting this error java.lang.reflect.InaccessibleObjectException: Unable to make field private final","body":"<p>I'm trying to revive an older java repo that needs some changes to be made. I am no java pro by far, but alas it must be done.</p>\n<p>The repo specifies OpenJDK-14.0.1 and Gradle-6.5 but I have decided to get it running on a newer version of Java and Gradle so that the next poor soul that comes along may have an easier chance of getting setup.</p>\n<p>As such I've gone with OpenJDK-19.0.1 and Gradle-7.5.1 and expectedly there have been some issues.</p>\n<p>One being the <code>compile</code> configuration having been removed from Gradle-7.5.1 replaced with <code>implementation</code> and the second needing to update the version for Lombok to a higher version so I have gone with 1.18.24</p>\n<p>Now the repo builds and 321 of 330 tests pass with 9 failing. This is where I am stuck. All the failing tests are all in the same file and fail because of the same error. Not being a java pro this error doesn't mean much to me.</p>\n<p>So my questions is what causes this error in Java and how is it fixed?</p>\n<p>The error and a stripped back version of the code with only one of the failing tests is supplied below.</p>\n<p><strong>ERROR</strong></p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Map java.util.Collections$UnmodifiableMap.m accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @48cf768c\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at org.junit.contrib.java.lang.system.EnvironmentVariables.getFieldValue(EnvironmentVariables.java:136)\n    at org.junit.contrib.java.lang.system.EnvironmentVariables.getEditableMapOfVariables(EnvironmentVariables.java:98)\n    at org.junit.contrib.java.lang.system.EnvironmentVariables.access$000(EnvironmentVariables.java:34)\n    at org.junit.contrib.java.lang.system.EnvironmentVariables$EnvironmentVariablesStatement.restoreOriginalVariables(EnvironmentVariables.java:82)\n    at org.junit.contrib.java.lang.system.EnvironmentVariables$EnvironmentVariablesStatement.evaluate(EnvironmentVariables.java:73)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at jdk.internal.reflect.GeneratedMethodAccessor124.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy2/jdk.proxy2.$Proxy5.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n</code></pre>\n<p><strong>CODE</strong></p>\n<pre><code>package com.pastoralcare.filter;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\nimport java.io.IOException;\nimport java.util.UUID;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\n\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.contrib.java.lang.system.EnvironmentVariables;\nimport org.junit.runner.RunWith;\nimport org.mockito.ArgumentMatchers;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.mock.web.MockHttpServletRequest;\nimport org.springframework.mock.web.MockHttpServletResponse;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.util.ReflectionTestUtils;\nimport org.springframework.web.context.request.RequestContextHolder;\nimport org.springframework.web.context.request.ServletRequestAttributes;\n\nimport com.authenticator.AuthenticationTokenAuthenticator;\nimport com.authenticator.InterServiceTokenAuthenticator;\nimport com.authorization.CheckStaffPermissions;\nimport com.dto.PermissionSetCodeDto;\nimport com.model.AuthToken;\nimport com.pastoralcare.constant.RestAPIConstants;\nimport com.pastoralcare.dto.AuthTokenDto;\nimport com.pastoralcare.dto.PermissionSetCodesDto;\nimport com.pastoralcare.dto.TokenDto;\n\n@RunWith(SpringRunner.class)\npublic class TokenFilterTest {\n\n    @InjectMocks\n    TokenFilter tokenFilter;\n\n    @Mock\n    TokenDto tokenDto;\n\n    @MockBean\n    FilterChain filterChain;\n\n    @Mock\n    PermissionSetCodesDto permissionSetCodesDto;\n\n    @Mock\n    AuthTokenDto authTokenDto;\n\n    @Mock\n    InterServiceTokenAuthenticator internalAuth;\n\n    @Mock\n    AuthenticationTokenAuthenticator authnValidator; \n\n    @Mock\n    CheckStaffPermissions checkStaffPermissions; \n\n    @Mock\n    AuthToken authToken; \n\n    @Mock\n    PermissionSetCodeDto permissionSetCodeDto;\n\n    MockHttpServletRequest httpServletRequest = new MockHttpServletRequest();\n    MockHttpServletResponse httpServletResponse = new MockHttpServletResponse();\n\n    @Rule\n    public final EnvironmentVariables environmentVariables = new EnvironmentVariables();\n\n    PermissionSetCodesDto permissionSetsDto;\n    \n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        //      tokenFilter = new TokenFilter();\n        tokenFilter.tokenDto = mock(TokenDto.class);\n\n        UUID communityId = UUID.randomUUID();\n        UUID tenantId = UUID.randomUUID();\n        tokenFilter.tokenDto.setTenantId(tenantId);\n        tokenFilter.tokenDto.setCommunityId(communityId);\n        tokenFilter.tokenDto.setFirstName(&quot;name&quot;);\n        tokenFilter.tokenDto.setLastName(&quot;surname&quot;);\n        tokenFilter.tokenDto.setTimezoneIanaCode(&quot;UTC&quot;);\n        \n        ReflectionTestUtils.setField(tokenFilter, &quot;interServiceAuthKey&quot;, &quot;8Y419dV49Jw+yeRho5iUIgLErSztNnlWvfmc2vzi8D8=&quot;);\n        ReflectionTestUtils.setField(tokenFilter, &quot;activeProfile&quot;, &quot;activeProfile&quot;);\n\n        RequestContextHolder.setRequestAttributes(new ServletRequestAttributes(httpServletRequest));\n    }\n\n    @Test\n    public void testDoFilterActuator() throws ServletException, IOException {\n        httpServletRequest.setRequestURI(&quot;/actuator/&quot;);\n        MockHttpServletResponse mockResp = new MockHttpServletResponse();\n        FilterChain mockFilterChain = Mockito.mock(FilterChain.class);\n        tokenFilter.doFilter(httpServletRequest, mockResp, mockFilterChain);\n        assertEquals(200, mockResp.getStatus());\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","rounding","negative-number"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":13,"creation_date":1460459657,"post_id":36571600,"comment_id":60741664,"body_markdown":"nearest integer, means the nearest upper integer. `-1` is greater than `-1.5`.","body":"nearest integer, means the nearest upper integer. <code>-1</code> is greater than <code>-1.5</code>."},{"owner":{"account_id":2088430,"reputation":921,"user_id":1858795,"accept_rate":71,"display_name":"Sujit Singh"},"score":0,"creation_date":1460460436,"post_id":36571600,"comment_id":60742193,"body_markdown":"@Tunki: Shouldn&#39;t there be a mention for same? They just said &quot;nearest integer&quot; not &quot;nearest upper integer&quot;","body":"@Tunki: Shouldn&#39;t there be a mention for same? They just said &quot;nearest integer&quot; not &quot;nearest upper integer&quot;"},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1460461028,"post_id":36571600,"comment_id":60742650,"body_markdown":"You can find this in [`RoundingMode.HALF_EVEN`](https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#HALF_EVEN) docs: *This rounding mode is analogous to the rounding policy used for float and double arithmetic in Java.*. Otherwise, refer to [4.2.3](https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.3) of the Java spec.","body":"You can find this in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#HALF_EVEN\" rel=\"nofollow noreferrer\"><code>RoundingMode.HALF_EVEN</code></a> docs: <i>This rounding mode is analogous to the rounding policy used for float and double arithmetic in Java.</i>. Otherwise, refer to <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.2.3\" rel=\"nofollow noreferrer\">4.2.3</a> of the Java spec."}],"answers":[{"tags":[],"owner":{"account_id":3380175,"reputation":3541,"user_id":2837359,"accept_rate":67,"display_name":"404 Not Found"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1460460599,"creation_date":1460459802,"answer_id":36571691,"question_id":36571600,"body_markdown":"Rounding mode to round towards negative infinity. If the result is positive, behave as for RoundingMode.`DOWN`; if negative, behave as for `RoundingMode`.UP. Note that this rounding mode never increases the calculated value.\r\nIt is just matter of whole number and its position against number chart. From [here][1] you can see `javadocs`.\r\n \r\n\r\n    public static int round(float a)\r\n\r\nReturns the closest int to the argument, with ties rounding up.\r\n\r\n    Special cases:\r\n\r\n - If the argument is ` NaN`, the result is 0.\r\n - If the argument is negative infinity or any value less than or equal to the value of `Integer.MIN_VALUE`, the result is equal to the value of `Integer.MIN_VALUE`.\r\n - If the argument is positive infinity or any value greater than or equal to the value of `Integer.MAX_VALUE`, the result is equal to the value of `Integer.MAX_VALUE`.\r\n\r\n  \r\n\r\n      Parameters:\r\n\r\na - a floating-point value to be rounded to an integer.\r\n\r\n    Returns:\r\n\r\nthe value of the argument rounded to the nearest int value.\r\nReview this [link too][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round%28double%29","title":"Why does Java and Javascript Math.round(-1.5) to -1?","body":"<p>Rounding mode to round towards negative infinity. If the result is positive, behave as for RoundingMode.<code>DOWN</code>; if negative, behave as for <code>RoundingMode</code>.UP. Note that this rounding mode never increases the calculated value.\nIt is just matter of whole number and its position against number chart. From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"nofollow\">here</a> you can see <code>javadocs</code>.</p>\n\n<pre><code>public static int round(float a)\n</code></pre>\n\n<p>Returns the closest int to the argument, with ties rounding up.</p>\n\n<pre><code>Special cases:\n</code></pre>\n\n<ul>\n<li>If the argument is <code>NaN</code>, the result is 0.</li>\n<li>If the argument is negative infinity or any value less than or equal to the value of <code>Integer.MIN_VALUE</code>, the result is equal to the value of <code>Integer.MIN_VALUE</code>.</li>\n<li><p>If the argument is positive infinity or any value greater than or equal to the value of <code>Integer.MAX_VALUE</code>, the result is equal to the value of <code>Integer.MAX_VALUE</code>.</p>\n\n<p>Parameters:</p></li>\n</ul>\n\n<p>a - a floating-point value to be rounded to an integer.</p>\n\n<pre><code>Returns:\n</code></pre>\n\n<p>the value of the argument rounded to the nearest int value.\nReview this <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round%28double%29\" rel=\"nofollow\">link too</a></p>\n"},{"tags":[],"owner":{"account_id":1378972,"reputation":25142,"user_id":1312382,"display_name":"Aconcagua"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1635862888,"creation_date":1460459961,"answer_id":36571754,"question_id":36571600,"body_markdown":"The problem is that the distance between 1 and 1.5 as well as 1.5 and 2 is exactly the same (0.5). There are several different ways you now could round:\r\n\r\n* always towards positive infinity\r\n* always towards negative infinity\r\n* always towards zero\r\n* always away from zero\r\n* towards nearest odd or even number\r\n* ... (see [Wikipedia][1])\r\n\r\nObviously, both Java and JS opted for the first one (which is not uncommon) while PHP and MySql round away from zero.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Rounding","title":"Why does Java and Javascript Math.round(-1.5) to -1?","body":"<p>The problem is that the distance between 1 and 1.5 as well as 1.5 and 2 is exactly the same (0.5). There are several different ways you now could round:</p>\n<ul>\n<li>always towards positive infinity</li>\n<li>always towards negative infinity</li>\n<li>always towards zero</li>\n<li>always away from zero</li>\n<li>towards nearest odd or even number</li>\n<li>... (see <a href=\"https://en.wikipedia.org/wiki/Rounding\" rel=\"nofollow noreferrer\">Wikipedia</a>)</li>\n</ul>\n<p>Obviously, both Java and JS opted for the first one (which is not uncommon) while PHP and MySql round away from zero.</p>\n"},{"tags":[],"owner":{"account_id":1247957,"reputation":66653,"user_id":1209018,"accept_rate":79,"display_name":"Rajaprabhu Aravindasamy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460460392,"creation_date":1460460392,"answer_id":36571910,"question_id":36571600,"body_markdown":"From the [Ecma script documentation][1],\r\n\r\n&gt; Returns the Number value that is closest to x and is equal to a\r\n&gt; mathematical integer. If two integer Number values are equally close\r\n&gt; to x, then the result is the Number value that is closer to +∞. If x\r\n&gt; is already an integer, the result is x.\r\n\r\nwhere x is the number passed to `Math.round()`.\r\n\r\nSo `Math.round(1.5)` will return 2 hence 2 is closer to +∞ while comparing with 1. Similarly `Math.round(-1.5)` will return -1 hence -1 is closer to +∞ while comparing with -2.\r\n\r\n\r\n\r\n  [1]: http://www.ecma-international.org/ecma-262/5.1/#sec-15.8.2.15","title":"Why does Java and Javascript Math.round(-1.5) to -1?","body":"<p>From the <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.8.2.15\" rel=\"nofollow\">Ecma script documentation</a>,</p>\n\n<blockquote>\n  <p>Returns the Number value that is closest to x and is equal to a\n  mathematical integer. If two integer Number values are equally close\n  to x, then the result is the Number value that is closer to +∞. If x\n  is already an integer, the result is x.</p>\n</blockquote>\n\n<p>where x is the number passed to <code>Math.round()</code>.</p>\n\n<p>So <code>Math.round(1.5)</code> will return 2 hence 2 is closer to +∞ while comparing with 1. Similarly <code>Math.round(-1.5)</code> will return -1 hence -1 is closer to +∞ while comparing with -2.</p>\n"}],"owner":{"account_id":2088430,"reputation":921,"user_id":1858795,"accept_rate":71,"display_name":"Sujit Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3427,"favorite_count":0,"down_vote_count":10,"up_vote_count":6,"accepted_answer_id":36571691,"answer_count":3,"score":-4,"last_activity_date":1666588130,"creation_date":1460459549,"question_id":36571600,"body_markdown":"Today, I saw this behaviour of Java and Javascript&#39;s Math.round function.\r\n\r\nIt makes 1.40 to 1 as well as -1.40 to -1\r\n\r\nIt makes 1.60 to 2 as well as -1.60 to -2\r\n\r\n**Now, it makes 1.5 to 2.\r\nBut, makes -1.5 to -1.**\r\n\r\nI checked this behaviour in round equivalents of PhP and MySQL as well.\r\nBoth gave results as expected. i.e. round(-1.5) to -2\r\n\r\nEven the [Math.round definition][1] says it should round it to nearest integer.\r\n\r\nWanted to know why is it so?\r\n\r\n\r\n  [1]: http://www.w3schools.com/jsref/jsref_round.asp","title":"Why does Java and Javascript Math.round(-1.5) to -1?","body":"<p>Today, I saw this behaviour of Java and Javascript's Math.round function.</p>\n<p>It makes 1.40 to 1 as well as -1.40 to -1</p>\n<p>It makes 1.60 to 2 as well as -1.60 to -2</p>\n<p><strong>Now, it makes 1.5 to 2.\nBut, makes -1.5 to -1.</strong></p>\n<p>I checked this behaviour in round equivalents of PhP and MySQL as well.\nBoth gave results as expected. i.e. round(-1.5) to -2</p>\n<p>Even the <a href=\"http://www.w3schools.com/jsref/jsref_round.asp\" rel=\"nofollow noreferrer\">Math.round definition</a> says it should round it to nearest integer.</p>\n<p>Wanted to know why is it so?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1567577557,"post_id":57780908,"comment_id":101998710,"body_markdown":"You could repeat every method, because of *method chaining*. But you don&#39;t need it. For better readablity you shouldn&#39;t repeat any method. Also in some cases it is possible that the second call overwrites the first call.","body":"You could repeat every method, because of <i>method chaining</i>. But you don&#39;t need it. For better readablity you shouldn&#39;t repeat any method. Also in some cases it is possible that the second call overwrites the first call."}],"answers":[{"tags":[],"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567567196,"creation_date":1567566887,"answer_id":57781015,"question_id":57780908,"body_markdown":"Quoting from the documentation:\r\n\r\n&gt; Note that the matchers are considered in order.\r\n\r\nIn your configuration, `/user/**` gets the precedence over `/user/document/**`. So, in both of cases, the second `antMatcher(...)` is never applied.\r\nAnswering your second question (Do I need to call it every time?) - the answer is **NO**. Here is a sample configuration (again from the documentation):\r\n\r\n    http.authorizeRequests().antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n    \t.antMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;).and().formLogin();","title":"What does the authorizeRequests in Spring Security do?","body":"<p>Quoting from the documentation:</p>\n\n<blockquote>\n  <p>Note that the matchers are considered in order.</p>\n</blockquote>\n\n<p>In your configuration, <code>/user/**</code> gets the precedence over <code>/user/document/**</code>. So, in both of cases, the second <code>antMatcher(...)</code> is never applied.\nAnswering your second question (Do I need to call it every time?) - the answer is <strong>NO</strong>. Here is a sample configuration (again from the documentation):</p>\n\n<pre><code>http.authorizeRequests().antMatchers(\"/admin/**\").hasRole(\"ADMIN\")\n    .antMatchers(\"/**\").hasRole(\"USER\").and().formLogin();\n</code></pre>\n"}],"owner":{"account_id":3399605,"reputation":967,"user_id":2852193,"accept_rate":43,"display_name":"anathema"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15756,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1666587870,"creation_date":1567565717,"question_id":57780908,"body_markdown":"I have been experimenting on having a multiple security config for different api endpoint as of the moment I have this configuration:\r\n\r\n\r\n    http\r\n        .antMatcher(&quot;/user/**&quot;)\r\n        .authorizeRequests()\r\n            .antMatchers(&quot;/user/document/**&quot;).permitAll()\r\n            .and()\r\n        .authorizeRequests()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n        .httpBasic();\r\n\r\nthis configuration is working but I am also confused that when I tried to remove the second `authorizeRequests()` (See below). The configuration is also working.\r\n\r\n\r\n    http\r\n        .antMatcher(&quot;/user/**&quot;)\r\n        .authorizeRequests()\r\n            .antMatchers(&quot;/user/document/**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n        .httpBasic();\r\n\r\n\r\nWhat does this method do? And do I have to call it every time?","title":"What does the authorizeRequests in Spring Security do?","body":"<p>I have been experimenting on having a multiple security config for different api endpoint as of the moment I have this configuration:</p>\n\n<pre><code>http\n    .antMatcher(\"/user/**\")\n    .authorizeRequests()\n        .antMatchers(\"/user/document/**\").permitAll()\n        .and()\n    .authorizeRequests()\n        .anyRequest().authenticated()\n        .and()\n    .httpBasic();\n</code></pre>\n\n<p>this configuration is working but I am also confused that when I tried to remove the second <code>authorizeRequests()</code> (See below). The configuration is also working.</p>\n\n<pre><code>http\n    .antMatcher(\"/user/**\")\n    .authorizeRequests()\n        .antMatchers(\"/user/document/**\").permitAll()\n        .anyRequest().authenticated()\n        .and()\n    .httpBasic();\n</code></pre>\n\n<p>What does this method do? And do I have to call it every time?</p>\n"},{"tags":["java","spring","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"score":0,"creation_date":1666255239,"post_id":74135867,"comment_id":130894183,"body_markdown":"With `when(webClientBuilder.build().get()).thenReturn(requestHeadersUriSpec);` you are trying to mock two methods at on time. Should be `when(webClientBuilder.get()).thenReturn(requestHeadersUriSpec);`. If you have to mock `when(webClientBuilder.build()).then???;` please add an additional mock-Statement.","body":"With <code>when(webClientBuilder.build().get()).thenReturn(requestHeade&zwnj;&#8203;rsUriSpec);</code> you are trying to mock two methods at on time. Should be <code>when(webClientBuilder.get()).thenReturn(requestHeadersUriSpe&zwnj;&#8203;c);</code>. If you have to mock <code>when(webClientBuilder.build()).then???;</code> please add an additional mock-Statement."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666587619,"creation_date":1666587619,"answer_id":74176843,"question_id":74135867,"body_markdown":"Mocking WebClient could be very tricky and error-prone. Even if you could cover some simple positive cases, it would be very hard to test more complex scenarios, like error handling, retries, ...   \r\n\r\nI would recommend [WireMock](https://wiremock.org/) which provides a very good API for testing web clients. Here are some examples\r\n```\r\nstubFor(get(&quot;/api&quot;)\r\n        .willReturn(aResponse()\r\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                .withStatus(200)\r\n                .withBody(...)\r\n        )\r\n);\r\n```\r\n\r\nYou could easily test both positive and negative scenarios by providing different stubs\r\n```\r\nstubFor(get(&quot;/api&quot;)\r\n        .willReturn(aResponse()\r\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                .withStatus(500)\r\n        )\r\n);\r\n```\r\n\r\nor test retry logic using [Scenarios](https://wiremock.org/docs/stateful-behaviour/) or even simulate timeouts using [Delays](https://wiremock.org/docs/simulating-faults/).\r\n","title":"Unable to Mock WebClient, calls the external API without mocking","body":"<p>Mocking WebClient could be very tricky and error-prone. Even if you could cover some simple positive cases, it would be very hard to test more complex scenarios, like error handling, retries, ...</p>\n<p>I would recommend <a href=\"https://wiremock.org/\" rel=\"nofollow noreferrer\">WireMock</a> which provides a very good API for testing web clients. Here are some examples</p>\n<pre><code>stubFor(get(&quot;/api&quot;)\n        .willReturn(aResponse()\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                .withStatus(200)\n                .withBody(...)\n        )\n);\n</code></pre>\n<p>You could easily test both positive and negative scenarios by providing different stubs</p>\n<pre><code>stubFor(get(&quot;/api&quot;)\n        .willReturn(aResponse()\n                .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                .withStatus(500)\n        )\n);\n</code></pre>\n<p>or test retry logic using <a href=\"https://wiremock.org/docs/stateful-behaviour/\" rel=\"nofollow noreferrer\">Scenarios</a> or even simulate timeouts using <a href=\"https://wiremock.org/docs/simulating-faults/\" rel=\"nofollow noreferrer\">Delays</a>.</p>\n"}],"owner":{"account_id":25341942,"reputation":1,"user_id":19160221,"display_name":"Sahal Ghafur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666587619,"creation_date":1666250598,"question_id":74135867,"body_markdown":"I have a service which calls an external API and maps into a list of entities (which is another entity). To create Unit test cases, I have created a json file with the required output and mapped it there.\r\n\r\nThe service had initially used RestTemplate and I was able to mock it easily with the same code but then I had to change it to WebClient to make it synchronous, But now it&#39;s not mocking the WebClient and leads to the external API.\r\n\r\nAny help would be greatly appreciated, I haven&#39;t put out the whole code as I&#39;m facing issues in WebClient specifically, the same unit test had passed when I used RestTemplate\r\n\r\nI understand MockWebServer would be easier but I&#39;m looking for solutions in WebClient if possible\r\n\r\n**EntityService.java**\r\n\r\n    public Mono&lt;List&lt;EntityDTO&gt;&gt; getNumber(String Uri) {\r\n\r\n    return WebClient.builder()\r\n            .baseUrl(Uri)\r\n            .build()\r\n            .get()\r\n            .exchange()\r\n            .flatMap(response -&gt; response.bodyToMono(EntityDTO.class))\r\n            .flatMapMany(dto -&gt; Flux.fromIterable(dto.getEntityDetails()))\r\n            .map(this::getEntityDTO)\r\n            .collectList();}\r\n\r\n**EntityServiceTest.java**\r\n\r\n \r\n\r\n     @Test\r\n     void shouldReturnEntities() throws IOException {\r\n     \tServiceInstance si = mock(ServiceInstance.class);\r\n    \tString exampleRequest =new String(Files.readAllBytes(Paths.get(&quot;entityPath/entitytest.json&quot;)));\r\n            \r\n\tClientResponse response = ClientResponse.create(HttpStatus.OK)\r\n                            .header(HttpHeaders.CONTENT_TYPE,\r\n                                    MediaType.APPLICATION_JSON_VALUE)\r\n                            .body(exampleRequest)\r\n                            .build();\r\n    \r\n    Entity entity = Entity.builder().id(&quot;1&quot;).name(&quot;test&quot;)).build\r\n                      \r\n    when(si.getServiceId()).thenReturn(&quot;external-api&quot;);\r\n    when(discoveryClient.getInstances(anyString())).thenReturn(List.of(si));            \r\n    when(webClientBuilder.build().get()).thenReturn(requestHeadersUriSpec);\r\n    when(requestHeadersUriSpec.exchange()).thenReturn(Mono.just(response));\r\n    when(entityRepository.findById(eq(entity.getId()))).thenReturn(Optional.of(entity));\r\n   \r\n   \tFlux&lt;EntityDTO&gt; entityNumbers = entityService.getEntityNumbers(entity.getId(),0,1).\r\n    StepVerifier.create(entityNumbers).expectNext(entity).verifyComplete();\r\n    }\r\n\r\n\r\n","title":"Unable to Mock WebClient, calls the external API without mocking","body":"<p>I have a service which calls an external API and maps into a list of entities (which is another entity). To create Unit test cases, I have created a json file with the required output and mapped it there.</p>\n<p>The service had initially used RestTemplate and I was able to mock it easily with the same code but then I had to change it to WebClient to make it synchronous, But now it's not mocking the WebClient and leads to the external API.</p>\n<p>Any help would be greatly appreciated, I haven't put out the whole code as I'm facing issues in WebClient specifically, the same unit test had passed when I used RestTemplate</p>\n<p>I understand MockWebServer would be easier but I'm looking for solutions in WebClient if possible</p>\n<p><strong>EntityService.java</strong></p>\n<pre><code>public Mono&lt;List&lt;EntityDTO&gt;&gt; getNumber(String Uri) {\n\nreturn WebClient.builder()\n        .baseUrl(Uri)\n        .build()\n        .get()\n        .exchange()\n        .flatMap(response -&gt; response.bodyToMono(EntityDTO.class))\n        .flatMapMany(dto -&gt; Flux.fromIterable(dto.getEntityDetails()))\n        .map(this::getEntityDTO)\n        .collectList();}\n</code></pre>\n<p><strong>EntityServiceTest.java</strong></p>\n<pre><code> @Test\n void shouldReturnEntities() throws IOException {\n    ServiceInstance si = mock(ServiceInstance.class);\n    String exampleRequest =new String(Files.readAllBytes(Paths.get(&quot;entityPath/entitytest.json&quot;)));\n        \nClientResponse response = ClientResponse.create(HttpStatus.OK)\n                        .header(HttpHeaders.CONTENT_TYPE,\n                                MediaType.APPLICATION_JSON_VALUE)\n                        .body(exampleRequest)\n                        .build();\n\nEntity entity = Entity.builder().id(&quot;1&quot;).name(&quot;test&quot;)).build\n                  \nwhen(si.getServiceId()).thenReturn(&quot;external-api&quot;);\nwhen(discoveryClient.getInstances(anyString())).thenReturn(List.of(si));            \nwhen(webClientBuilder.build().get()).thenReturn(requestHeadersUriSpec);\nwhen(requestHeadersUriSpec.exchange()).thenReturn(Mono.just(response));\nwhen(entityRepository.findById(eq(entity.getId()))).thenReturn(Optional.of(entity));\n\nFlux&lt;EntityDTO&gt; entityNumbers = entityService.getEntityNumbers(entity.getId(),0,1).\nStepVerifier.create(entityNumbers).expectNext(entity).verifyComplete();\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx","jar","java-17"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666588697,"post_id":74176797,"comment_id":130964306,"body_markdown":"Did you use any JavaFX classes? You said this is a console app. But some programmers have been known to use a few of the JavaFX classes in non-GUI apps. An observable collection, and a “pair” tuple are two in my vague recollection.","body":"Did you use any JavaFX classes? You said this is a console app. But some programmers have been known to use a few of the JavaFX classes in non-GUI apps. An observable collection, and a “pair” tuple are two in my vague recollection."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1666628244,"post_id":74176797,"comment_id":130977007,"body_markdown":"The output looks correct to me, as JavaFX modules are required to be on the module path and therefore can not be shaded into a single jar with the application classes. You should be able to run this with `java -p &lt;dir with jars&gt; -jar &lt;app jar&gt;`","body":"The output looks correct to me, as JavaFX modules are required to be on the module path and therefore can not be shaded into a single jar with the application classes. You should be able to run this with <code>java -p &lt;dir with jars&gt; -jar &lt;app jar&gt;</code>"},{"owner":{"account_id":15211714,"reputation":27,"user_id":10976300,"display_name":"XplicitVariable"},"score":0,"creation_date":1666632658,"post_id":74176797,"comment_id":130978424,"body_markdown":"@BasilBourque This app is a guy app, but I want to run it through the console.","body":"@BasilBourque This app is a guy app, but I want to run it through the console."},{"owner":{"account_id":15211714,"reputation":27,"user_id":10976300,"display_name":"XplicitVariable"},"score":0,"creation_date":1666632677,"post_id":74176797,"comment_id":130978428,"body_markdown":"@JornVernee I will try that and let you know if it worked","body":"@JornVernee I will try that and let you know if it worked"},{"owner":{"account_id":15211714,"reputation":27,"user_id":10976300,"display_name":"XplicitVariable"},"score":0,"creation_date":1666633027,"post_id":74176797,"comment_id":130978536,"body_markdown":"@JornVernee It did not work. It says that JavaFX runtime components are missing, and are required to run this application","body":"@JornVernee It did not work. It says that JavaFX runtime components are missing, and are required to run this application"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1666633109,"post_id":74176797,"comment_id":130978554,"body_markdown":"You’ll need to explain more by what you mean about running your GUI app on the console — that’s contradictory.","body":"You’ll need to explain more by what you mean about running your GUI app on the console — that’s contradictory."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1666641492,"post_id":74176797,"comment_id":130981222,"body_markdown":"Study the [getting started documentation for JavaFX](https://openjfx.io/openjfx-docs/).  Ensure you can accomplish your objective with the provided hello, world app, then apply whatever you learned from that to your pre-existing project.  In general, you would be likely be better off looking into alternate packaging such as jlink or jpackage than jar distributions for JavaFX apps.","body":"Study the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">getting started documentation for JavaFX</a>.  Ensure you can accomplish your objective with the provided hello, world app, then apply whatever you learned from that to your pre-existing project.  In general, you would be likely be better off looking into alternate packaging such as jlink or jpackage than jar distributions for JavaFX apps."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1666696718,"post_id":74176797,"comment_id":130993522,"body_markdown":"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing","body":"<a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\" title=\"maven shade javafx runtime components are missing\">stackoverflow.com/questions/52653836/&hellip;</a>"}],"owner":{"account_id":15211714,"reputation":27,"user_id":10976300,"display_name":"XplicitVariable"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666586954,"creation_date":1666586954,"question_id":74176797,"body_markdown":"I am trying to package and run through the command prompt, a program I developed two years ago. The program runs out of a jar on my Windows Desktop when I compile the Jar on Windows, but when I compile it from my Mac, using the menu for creating the Jar file, and then building the artifact, IntelliJ produces 9 files, a Jar for the program and 8 jars which are produced with javafx-like wording pictured here. The project was originally developed in Java 1.8 and I am trying now to compile it using Java 17.0.2. Could anyone tell me what I might be doing wrong?[![Image of 9 jars][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pvXUh.png","title":"How to package a jar file with JavaFX libraries to run the Jar on MacOS","body":"<p>I am trying to package and run through the command prompt, a program I developed two years ago. The program runs out of a jar on my Windows Desktop when I compile the Jar on Windows, but when I compile it from my Mac, using the menu for creating the Jar file, and then building the artifact, IntelliJ produces 9 files, a Jar for the program and 8 jars which are produced with javafx-like wording pictured here. The project was originally developed in Java 1.8 and I am trying now to compile it using Java 17.0.2. Could anyone tell me what I might be doing wrong?<a href=\"https://i.stack.imgur.com/pvXUh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pvXUh.png\" alt=\"Image of 9 jars\" /></a></p>\n"},{"tags":["java","android","multithreading","executorservice"],"comments":[{"owner":{"account_id":71046,"reputation":11239,"user_id":205528,"display_name":"Kien Truong"},"score":2,"creation_date":1664933823,"post_id":73955163,"comment_id":130581201,"body_markdown":"Protips: Catch and log all exception in the `Runnable` that you pass on to an `ExcecutorService`, otherwise the thread can die silently and your `ExecutorService` will stop accepting new job.","body":"Protips: Catch and log all exception in the <code>Runnable</code> that you pass on to an <code>ExcecutorService</code>, otherwise the thread can die silently and your <code>ExecutorService</code> will stop accepting new job."},{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1664950505,"post_id":73955163,"comment_id":130583278,"body_markdown":"no exception thrown here","body":"no exception thrown here"}],"answers":[{"tags":[],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666586810,"creation_date":1666586810,"answer_id":74176787,"question_id":73955163,"body_markdown":"I don&#39;t know the exact reason for this, but I used `Executors.newFixedThreadPool(4);` and I kept the thread count as 4, with no calculation for thread count 4, but it worked for me,\r\n\r\n **anyone knows this reason please edit this answer and add the valid reason for this**\r\n\r\n    public class App extends Application {\r\n        private static final String TAG = &quot;##App##&quot;;\r\n        private ExecutorService executorService;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            executorService= Executors.newFixedThreadPool(4);\r\n        }\r\n    \r\n        public void callIntent(Context context, Intent intent){\r\n            Log.d(TAG, &quot;callIntent: starting&quot;);\r\n            if(executor.isShutdown()||executor.isTerminated()){\r\n                Log.d(TAG, &quot;callStartActivity executor is shutdown - restarting again &quot;);\r\n                executor = Executors.newSingleThreadExecutor();\r\n            }else{\r\n                Log.d(TAG, &quot;callStartActivity:not shut or trminated &quot;);\r\n            }\r\n            executorService.execute(new Runnable() {\r\n                @Override\r\n                    public void run() {\r\n                        Log.d(TAG, &quot;run: inside run &quot;);\r\n                        context.startActivity(intent);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }","title":"ExecuterService&#39;s execute() method not executing sometimes even though when it&#39;s not shutdown or terminated - Android","body":"<p>I don't know the exact reason for this, but I used <code>Executors.newFixedThreadPool(4);</code> and I kept the thread count as 4, with no calculation for thread count 4, but it worked for me,</p>\n<p><strong>anyone knows this reason please edit this answer and add the valid reason for this</strong></p>\n<pre><code>public class App extends Application {\n    private static final String TAG = &quot;##App##&quot;;\n    private ExecutorService executorService;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        executorService= Executors.newFixedThreadPool(4);\n    }\n\n    public void callIntent(Context context, Intent intent){\n        Log.d(TAG, &quot;callIntent: starting&quot;);\n        if(executor.isShutdown()||executor.isTerminated()){\n            Log.d(TAG, &quot;callStartActivity executor is shutdown - restarting again &quot;);\n            executor = Executors.newSingleThreadExecutor();\n        }else{\n            Log.d(TAG, &quot;callStartActivity:not shut or trminated &quot;);\n        }\n        executorService.execute(new Runnable() {\n            @Override\n                public void run() {\n                    Log.d(TAG, &quot;run: inside run &quot;);\n                    context.startActivity(intent);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74176787,"answer_count":1,"score":0,"last_activity_date":1666586810,"creation_date":1664933601,"question_id":73955163,"body_markdown":"In my multi-threaded application, and in order to prevent *application not responding* (ANR), I used `ExecutorService` object&#39;s execute API to call the `startActvity()`. Most of the time it works as expected. I am able to see the logs `callIntent: starting` and `run: inside run`, but after I restart the device multiple time and try to call the `callIntent(context,intent)` it is not working sometimes. It&#39;s strange behavior.\r\n\r\nWhat went wrong with this implementation?\r\n\r\n&gt; when I used the main/UI thread, I&#39;m getting ANR and I already run\r\n&gt; HandlerThread to run this startActivity, but the same behavior\r\n\r\n**executor is not shutdown nor terminated, but it failed to execute**\r\n```java\r\nimport android.app.Application;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.util.Log;\r\n\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class App extends Application {\r\n    private static final String TAG = &quot;##App##&quot;;\r\n    private ExecutorService executorService;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        executorService= Executors.newSingleThreadExecutor();\r\n    }\r\n\r\n    public void callIntent(Context context, Intent intent){\r\n        Log.d(TAG, &quot;callIntent: starting&quot;);\r\n        if(executor.isShutdown()||executor.isTerminated()){\r\n            Log.d(TAG, &quot;callStartActivity executor is shutdown - restarting again &quot;);\r\n            executor = Executors.newSingleThreadExecutor();\r\n        }else{\r\n            Log.d(TAG, &quot;callStartActivity:not shut or trminated &quot;);\r\n        }\r\n        executorService.execute(new Runnable() {\r\n            @Override\r\n                public void run() {\r\n                    Log.d(TAG, &quot;run: inside run &quot;);\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```","title":"ExecuterService&#39;s execute() method not executing sometimes even though when it&#39;s not shutdown or terminated - Android","body":"<p>In my multi-threaded application, and in order to prevent <em>application not responding</em> (ANR), I used <code>ExecutorService</code> object's execute API to call the <code>startActvity()</code>. Most of the time it works as expected. I am able to see the logs <code>callIntent: starting</code> and <code>run: inside run</code>, but after I restart the device multiple time and try to call the <code>callIntent(context,intent)</code> it is not working sometimes. It's strange behavior.</p>\n<p>What went wrong with this implementation?</p>\n<blockquote>\n<p>when I used the main/UI thread, I'm getting ANR and I already run\nHandlerThread to run this startActivity, but the same behavior</p>\n</blockquote>\n<p><strong>executor is not shutdown nor terminated, but it failed to execute</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import android.app.Application;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\n\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class App extends Application {\n    private static final String TAG = &quot;##App##&quot;;\n    private ExecutorService executorService;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        executorService= Executors.newSingleThreadExecutor();\n    }\n\n    public void callIntent(Context context, Intent intent){\n        Log.d(TAG, &quot;callIntent: starting&quot;);\n        if(executor.isShutdown()||executor.isTerminated()){\n            Log.d(TAG, &quot;callStartActivity executor is shutdown - restarting again &quot;);\n            executor = Executors.newSingleThreadExecutor();\n        }else{\n            Log.d(TAG, &quot;callStartActivity:not shut or trminated &quot;);\n        }\n        executorService.execute(new Runnable() {\n            @Override\n                public void run() {\n                    Log.d(TAG, &quot;run: inside run &quot;);\n                    context.startActivity(intent);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","colors","jpanel","jcomponent"],"comments":[{"owner":{"account_id":3015171,"reputation":3578,"user_id":2557554,"accept_rate":71,"display_name":"David Yee"},"score":0,"creation_date":1402264942,"post_id":24110920,"comment_id":37195591,"body_markdown":"Does it have to be a `JComponent` or can it be a `JPanel`?","body":"Does it have to be a <code>JComponent</code> or can it be a <code>JPanel</code>?"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426630685,"creation_date":1402265663,"answer_id":24111421,"question_id":24110920,"body_markdown":"Basically, because `JComponent` has no UI delegate, it never paints its background (its `paintComponent` method essentially does nothing).\r\n\r\nYou could supply a UI delegate that performs the required actions, or simply use `JPanel`, for example:\r\n\r\n![enter image description here][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    import javax.swing.border.CompoundBorder;\r\n\r\n    public class TestComponent {\r\n\r\n        public static void main(String[] args) {\r\n            new TestComponent();\r\n        }\r\n    \r\n        public TestComponent() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                \r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public class TestPane extends JPanel {\r\n        \r\n            public TestPane() {\r\n                setBackground(Color.WHITE);\r\n                setBorder(new CompoundBorder(\r\n                                BorderFactory.createEmptyBorder(0,10,10,10),\r\n                                BorderFactory.createLineBorder(Color.RED)\r\n                ));\r\n            }\r\n        \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n        \r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oW58M.png","title":"JComponent - cannot set Background/Border","body":"<p>Basically, because <code>JComponent</code> has no UI delegate, it never paints its background (its <code>paintComponent</code> method essentially does nothing).</p>\n\n<p>You could supply a UI delegate that performs the required actions, or simply use <code>JPanel</code>, for example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/oW58M.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport javax.swing.BorderFactory;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.border.CompoundBorder;\n\npublic class TestComponent {\n\n    public static void main(String[] args) {\n        new TestComponent();\n    }\n\n    public TestComponent() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBackground(Color.WHITE);\n            setBorder(new CompoundBorder(\n                            BorderFactory.createEmptyBorder(0,10,10,10),\n                            BorderFactory.createLineBorder(Color.RED)\n            ));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2185770,"reputation":1249,"user_id":1934225,"accept_rate":77,"display_name":"D-Lef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1402349360,"creation_date":1402349360,"answer_id":24129387,"question_id":24110920,"body_markdown":"I found a simple solution to my problem. I just added the Jcomponent to a Jpanel and then I added the Jpanel to the Jframe.\r\n\r\n        JPanel outer = new JPanel(new GridBagLayout()); \r\n        JPanel drawPanel = new JPanel(new GridBagLayout());\r\n        drawPanel.add(new DrawingBoard(500,500));\r\n        drawPanel.setBackground(Color.WHITE);\r\n        outer.setBorder(BorderFactory.createEmptyBorder(0,10,10,10));\r\n        JScrollPane scrollPane = new JScrollPane(drawPanel);\r\n        outer.add(scrollPane);\r\n        this.add(outer, BorderLayout.CENTER);","title":"JComponent - cannot set Background/Border","body":"<p>I found a simple solution to my problem. I just added the Jcomponent to a Jpanel and then I added the Jpanel to the Jframe.</p>\n\n<pre><code>    JPanel outer = new JPanel(new GridBagLayout()); \n    JPanel drawPanel = new JPanel(new GridBagLayout());\n    drawPanel.add(new DrawingBoard(500,500));\n    drawPanel.setBackground(Color.WHITE);\n    outer.setBorder(BorderFactory.createEmptyBorder(0,10,10,10));\n    JScrollPane scrollPane = new JScrollPane(drawPanel);\n    outer.add(scrollPane);\n    this.add(outer, BorderLayout.CENTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26649324,"reputation":1,"user_id":20263852,"display_name":"VsRoom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666586486,"creation_date":1666586486,"answer_id":74176771,"question_id":24110920,"body_markdown":"This is a good opportunity for you to set rounded corners for custom components, for example the following example implements setting rounded corners and margins：\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class BaseComponent extends JComponent {\r\n\tprivate Insets insets;\r\n\tprivate int radius = 0;\r\n\r\n\tpublic BaseComponent() {\r\n\t}\r\n\r\n\r\n\tpublic BaseComponent(Insets insets, int radius) {\r\n\t\tthis.insets = insets;\r\n\t\tthis.radius = radius;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void paintComponent(Graphics gr) {\r\n\t\tGraphics2D g2 = (Graphics2D) gr.create();\r\n\t\t// 背景\r\n\t\tif (getBackground() != null &amp;&amp; isOpaque()) {\r\n\t\t\tg2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\tg2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL,\r\n\t\t\t\t\tBoolean.getBoolean(&quot;apple.awt.graphics.UseQuartz&quot;) ?\r\n\t\t\t\t\t\t\tRenderingHints.VALUE_STROKE_PURE : RenderingHints.VALUE_STROKE_NORMALIZE);\r\n\t\t\tg2.setColor(getBackground());\r\n\t\t\tg2.fillRoundRect(0, 0, getWidth(), getHeight(), radius, radius);\r\n\t\t}\r\n\t\tg2.dispose();\r\n\t}\r\n\r\n\t/**\r\n\t * 获取内边距，如果没有调用 {@link #setInsets(Insets)} ，则调用父类的insets，否则就获取设置的内边距\r\n\t */\r\n\t@Override\r\n\tpublic Insets getInsets() {\r\n\t\tif (insets == null) return super.getInsets();\r\n\t\treturn insets;\r\n\t}\r\n\r\n\tpublic int getRadius() {\r\n\t\treturn radius;\r\n\t}\r\n\r\n\tpublic void setRadius(int radius) {\r\n\t\tthis.radius = radius;\r\n\t}\r\n\r\n\tpublic void setInsets(Insets insets) {\r\n\t\tthis.insets = insets;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tJFrame f = new JFrame();\r\n\t\tf.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\r\n\t\tBaseComponent c = new BaseComponent();\r\n\t\tc.setLayout(new BorderLayout());\r\n\t\tc.add(new JLabel(&quot;this is a label&quot;));\r\n\t\tc.setBackground(Color.ORANGE);\r\n\t\tc.setPreferredSize(new Dimension(300,200));\r\n\t\tc.setRadius(20);\r\n\t\tc.setOpaque(true);\r\n\t\tc.setInsets(new Insets(10,10,10,10));\r\n\r\n\t\tf.getContentPane().setLayout(new FlowLayout());\r\n\t\tf.getContentPane().add(c);\r\n\t\tf.pack();\r\n\t\tf.setLocationRelativeTo(null);\r\n\t\tf.setVisible(true);\r\n\t}\r\n}\r\n\r\n```","title":"JComponent - cannot set Background/Border","body":"<p>This is a good opportunity for you to set rounded corners for custom components, for example the following example implements setting rounded corners and margins：</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class BaseComponent extends JComponent {\n    private Insets insets;\n    private int radius = 0;\n\n    public BaseComponent() {\n    }\n\n\n    public BaseComponent(Insets insets, int radius) {\n        this.insets = insets;\n        this.radius = radius;\n    }\n\n    @Override\n    protected void paintComponent(Graphics gr) {\n        Graphics2D g2 = (Graphics2D) gr.create();\n        // 背景\n        if (getBackground() != null &amp;&amp; isOpaque()) {\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL,\n                    Boolean.getBoolean(&quot;apple.awt.graphics.UseQuartz&quot;) ?\n                            RenderingHints.VALUE_STROKE_PURE : RenderingHints.VALUE_STROKE_NORMALIZE);\n            g2.setColor(getBackground());\n            g2.fillRoundRect(0, 0, getWidth(), getHeight(), radius, radius);\n        }\n        g2.dispose();\n    }\n\n    /**\n     * 获取内边距，如果没有调用 {@link #setInsets(Insets)} ，则调用父类的insets，否则就获取设置的内边距\n     */\n    @Override\n    public Insets getInsets() {\n        if (insets == null) return super.getInsets();\n        return insets;\n    }\n\n    public int getRadius() {\n        return radius;\n    }\n\n    public void setRadius(int radius) {\n        this.radius = radius;\n    }\n\n    public void setInsets(Insets insets) {\n        this.insets = insets;\n    }\n\n    public static void main(String[] args) {\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        BaseComponent c = new BaseComponent();\n        c.setLayout(new BorderLayout());\n        c.add(new JLabel(&quot;this is a label&quot;));\n        c.setBackground(Color.ORANGE);\n        c.setPreferredSize(new Dimension(300,200));\n        c.setRadius(20);\n        c.setOpaque(true);\n        c.setInsets(new Insets(10,10,10,10));\n\n        f.getContentPane().setLayout(new FlowLayout());\n        f.getContentPane().add(c);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2185770,"reputation":1249,"user_id":1934225,"accept_rate":77,"display_name":"D-Lef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1368,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":24129387,"answer_count":3,"score":-1,"last_activity_date":1666586486,"creation_date":1402262213,"question_id":24110920,"body_markdown":"I want to add a `JComponent` in my basic `JFrame`. My problem is that I cannot set background color or border for my component.\r\n\r\n##`JFrame`\r\n\r\n    JPanel drawPanel = new JPanel(new GridBagLayout());\r\n    drawPanel.add(new DrawingBoard());\r\n    JScrollPane scrollPane = new JScrollPane(drawPanel);\r\n    this.add(scrollPane, BorderLayout.CENTER);\r\n    this.setVisible(true);\r\n\r\n##`JComponent`\r\n\r\n    private class DrawingBoard extends JComponent {\r\n            ...\r\n            public DrawingBoard() {\r\n            this.setPreferredSize(new Dimension(500, 500));\r\n            this.setBackground(Color.WHITE);     //doesn&#39;t work\r\n            this.setBorder(BorderFactory.createEmptyBorder(0,10,10,10)); //doesn&#39;t work\r\n            this.setOpaque(true);\r\n            ...","title":"JComponent - cannot set Background/Border","body":"<p>I want to add a <code>JComponent</code> in my basic <code>JFrame</code>. My problem is that I cannot set background color or border for my component.</p>\n\n<h2><code>JFrame</code></h2>\n\n<pre><code>JPanel drawPanel = new JPanel(new GridBagLayout());\ndrawPanel.add(new DrawingBoard());\nJScrollPane scrollPane = new JScrollPane(drawPanel);\nthis.add(scrollPane, BorderLayout.CENTER);\nthis.setVisible(true);\n</code></pre>\n\n<h2><code>JComponent</code></h2>\n\n<pre><code>private class DrawingBoard extends JComponent {\n        ...\n        public DrawingBoard() {\n        this.setPreferredSize(new Dimension(500, 500));\n        this.setBackground(Color.WHITE);     //doesn't work\n        this.setBorder(BorderFactory.createEmptyBorder(0,10,10,10)); //doesn't work\n        this.setOpaque(true);\n        ...\n</code></pre>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":26696794,"reputation":141,"user_id":20304512,"display_name":"BigBeef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666586400,"creation_date":1666586400,"answer_id":74176764,"question_id":74175856,"body_markdown":"Are you in a fragment, activity, or neither?\r\n\r\nIf you&#39;re in an activity, the code should work.\r\n\r\nIf you&#39;re in a fragment, try:\r\n\r\n    androidx.cardview.widget.CardView cardview1 = new androidx.cardview.widget.CardView(FolderListFragmentActivity.this.getContext());\r\n\r\nIf you&#39;re in neither....","title":"Constructor is undefined in Fragment","body":"<p>Are you in a fragment, activity, or neither?</p>\n<p>If you're in an activity, the code should work.</p>\n<p>If you're in a fragment, try:</p>\n<pre><code>androidx.cardview.widget.CardView cardview1 = new androidx.cardview.widget.CardView(FolderListFragmentActivity.this.getContext());\n</code></pre>\n<p>If you're in neither....</p>\n"}],"owner":{"account_id":26712899,"reputation":21,"user_id":20317930,"display_name":"Ayan Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74176764,"answer_count":1,"score":-1,"last_activity_date":1666586400,"creation_date":1666573914,"question_id":74175856,"body_markdown":"My Code \r\n\r\n    @Override\r\n      public void onBindViewHolder(ViewHolder _holder, final int _position) {\r\n       View _view = _holder.itemView;\r\n       \r\n       final LinearLayout linear1 = _view.findViewById(R.id.linear1);\r\n       final LinearLayout linear2 = _view.findViewById(R.id.linear2);\r\n       final LinearLayout linear4 = _view.findViewById(R.id.linear4);\r\n       final androidx.cardview.widget.CardView cardview2 = _view.findViewById(R.id.cardview2);\r\n       final LinearLayout linear3 = _view.findViewById(R.id.linear3);\r\n       final LinearLayout linear7 = _view.findViewById(R.id.linear7);\r\n       final ImageView imageview1 = _view.findViewById(R.id.imageview1);\r\n       final TextView textview1 = _view.findViewById(R.id.textview1);\r\n       final TextView textview2 = _view.findViewById(R.id.textview2);\r\n       final LinearLayout linear5 = _view.findViewById(R.id.linear5);\r\n       final TextView textview3 = _view.findViewById(R.id.textview3);\r\n       final TextView textview4 = _view.findViewById(R.id.textview4);\r\n       final LinearLayout linear10 = _view.findViewById(R.id.linear10);\r\n       final ImageView imageview3 = _view.findViewById(R.id.imageview3);\r\n       \r\n     \r\n       duration = Double.parseDouble(videos.get((int)_position).get(&quot;videoDuration&quot;).toString());\r\n       videoDuration = stringForTime((int)duration);\r\n       textview1.setText(videoDuration);\r\n       path = videos.get((int)_position).get(&quot;videoPath&quot;).toString();\r\n       //using cardview programmatically inside recyclerview .\r\n       androidx.cardview.widget.CardView cardview1 = new androidx.cardview.widget.CardView(FolderListFragmentActivity.this);\r\n       cardview1.setCardElevation(0);\r\n       cardview1.setRadius(10);\r\n       ViewGroup imageParent = ((ViewGroup)imageview1.getParent()); imageParent.removeView(imageview1);\r\n       cardview1.addView(imageview1);\r\n       imageParent.addView(cardview1);\r\n       textview2.setText(Uri.parse(path).getLastPathSegment());\r\n       size = Double.parseDouble(videos.get((int)_position).get(&quot;videoSize&quot;).toString());\r\n       humanReadableSize = bytesIntoHumanReadable((long)size);\r\n       textview3.setText(humanReadableSize);\r\n       com.bumptech.glide.Glide.with(getContext().getApplicationContext())\r\n       .load(path)\r\n       .into(imageview1);\r\n       textview4.setText(videos.get((int)_position).get(&quot;formattedDate&quot;).toString());\r\n      }\r\n\r\n\r\nAnd Error is\r\n\r\n&gt; androidx.cardview.widget.CardView cardview1 = new\r\n&gt; androidx.cardview.widget.CardView(FolderListFragmentActivity.this);\r\n\r\n\r\n\r\n&gt; The constructor CardView(FolderListFragmentActivity) is undefined\r\n\r\n","title":"Constructor is undefined in Fragment","body":"<p>My Code</p>\n<pre><code>@Override\n  public void onBindViewHolder(ViewHolder _holder, final int _position) {\n   View _view = _holder.itemView;\n   \n   final LinearLayout linear1 = _view.findViewById(R.id.linear1);\n   final LinearLayout linear2 = _view.findViewById(R.id.linear2);\n   final LinearLayout linear4 = _view.findViewById(R.id.linear4);\n   final androidx.cardview.widget.CardView cardview2 = _view.findViewById(R.id.cardview2);\n   final LinearLayout linear3 = _view.findViewById(R.id.linear3);\n   final LinearLayout linear7 = _view.findViewById(R.id.linear7);\n   final ImageView imageview1 = _view.findViewById(R.id.imageview1);\n   final TextView textview1 = _view.findViewById(R.id.textview1);\n   final TextView textview2 = _view.findViewById(R.id.textview2);\n   final LinearLayout linear5 = _view.findViewById(R.id.linear5);\n   final TextView textview3 = _view.findViewById(R.id.textview3);\n   final TextView textview4 = _view.findViewById(R.id.textview4);\n   final LinearLayout linear10 = _view.findViewById(R.id.linear10);\n   final ImageView imageview3 = _view.findViewById(R.id.imageview3);\n   \n \n   duration = Double.parseDouble(videos.get((int)_position).get(&quot;videoDuration&quot;).toString());\n   videoDuration = stringForTime((int)duration);\n   textview1.setText(videoDuration);\n   path = videos.get((int)_position).get(&quot;videoPath&quot;).toString();\n   //using cardview programmatically inside recyclerview .\n   androidx.cardview.widget.CardView cardview1 = new androidx.cardview.widget.CardView(FolderListFragmentActivity.this);\n   cardview1.setCardElevation(0);\n   cardview1.setRadius(10);\n   ViewGroup imageParent = ((ViewGroup)imageview1.getParent()); imageParent.removeView(imageview1);\n   cardview1.addView(imageview1);\n   imageParent.addView(cardview1);\n   textview2.setText(Uri.parse(path).getLastPathSegment());\n   size = Double.parseDouble(videos.get((int)_position).get(&quot;videoSize&quot;).toString());\n   humanReadableSize = bytesIntoHumanReadable((long)size);\n   textview3.setText(humanReadableSize);\n   com.bumptech.glide.Glide.with(getContext().getApplicationContext())\n   .load(path)\n   .into(imageview1);\n   textview4.setText(videos.get((int)_position).get(&quot;formattedDate&quot;).toString());\n  }\n</code></pre>\n<p>And Error is</p>\n<blockquote>\n<p>androidx.cardview.widget.CardView cardview1 = new\nandroidx.cardview.widget.CardView(FolderListFragmentActivity.this);</p>\n</blockquote>\n<blockquote>\n<p>The constructor CardView(FolderListFragmentActivity) is undefined</p>\n</blockquote>\n"},{"tags":["java","reflection","reflections"],"comments":[{"owner":{"account_id":19314855,"reputation":158,"user_id":14119850,"display_name":"mazenaissa"},"score":1,"creation_date":1601129506,"post_id":64078560,"comment_id":113312144,"body_markdown":"See available answers here https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection","body":"See available answers here <a href=\"https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection\" title=\"can you find all classes in a package using reflection\">stackoverflow.com/questions/520328/&hellip;</a>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1601131349,"post_id":64078560,"comment_id":113312708,"body_markdown":"You need to add a class scanner or similar, I think.","body":"You need to add a class scanner or similar, I think."},{"owner":{"account_id":1867281,"reputation":1443,"user_id":1690506,"accept_rate":15,"display_name":"Uday"},"score":0,"creation_date":1601132256,"post_id":64078560,"comment_id":113312973,"body_markdown":"@mazenaissa  tried the code mentioned in the page, but still getting empty array of classes.","body":"@mazenaissa  tried the code mentioned in the page, but still getting empty array of classes."},{"owner":{"account_id":19314855,"reputation":158,"user_id":14119850,"display_name":"mazenaissa"},"score":0,"creation_date":1601135632,"post_id":64078560,"comment_id":113313942,"body_markdown":"I found the solution, see my answer below.","body":"I found the solution, see my answer below."}],"answers":[{"tags":[],"owner":{"account_id":19314855,"reputation":158,"user_id":14119850,"display_name":"mazenaissa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601151291,"creation_date":1601135379,"answer_id":64079629,"question_id":64078560,"body_markdown":"This solution worked for me, i have a packed named testing under src file which contain directly classes and sub packages with classes and it return to correct set containg the corresponding classes. The first parameter of Reflections constructor must be your packageName appended with a &#39;.&#39; in the end : \r\n\r\n       Reflections reflections = new Reflections(&quot;testing.&quot;, new SubTypesScanner(false));\r\n\t   Set&lt;Class&lt;?&gt;&gt; classes = reflections.getSubTypesOf(Object.class);\r\n\r\nDon&#39;t forget to add the corresponding jars to your project :\r\nannotations-2.0.1.jar,guava-15.0,javassist-3.19.0-GA,reflections-0.9.10 which you can download them from here https://jar-download.com/artifacts/org.reflections/reflections/0.9.10/source-code.\r\n\r\nUpdate:\r\nThis will work under tests package. It is based on ClassPath class from Guava 14. The TestNGRunner class loader is used here to fetch the classes placed under the same src package of TestNGRunner which is the src/test/java. The check is done the full name of the class (packageName+.+className) that&#39;s why i used startsWith(&quot;tests.&quot;) :\r\n\r\n       final ClassLoader loader = TestNGRunner.class.getClassLoader();\r\n\t\tSet&lt;Class&lt;? extends Object&gt;&gt; allClasses = new HashSet&lt;Class&lt;? extends Object&gt;&gt;();\r\n\t\tfor (final ClassPath.ClassInfo info : ClassPath.from(loader).getTopLevelClasses()) {\r\n\t\t  if (info.getName().startsWith(&quot;tests.&quot;)) {\r\n\t\t\t  allClasses.add(info.load());\r\n\t\t  }\r\n\t\t}","title":"Unable to fetch classes of a package using Reflection","body":"<p>This solution worked for me, i have a packed named testing under src file which contain directly classes and sub packages with classes and it return to correct set containg the corresponding classes. The first parameter of Reflections constructor must be your packageName appended with a '.' in the end :</p>\n<pre><code>   Reflections reflections = new Reflections(&quot;testing.&quot;, new SubTypesScanner(false));\n   Set&lt;Class&lt;?&gt;&gt; classes = reflections.getSubTypesOf(Object.class);\n</code></pre>\n<p>Don't forget to add the corresponding jars to your project :\nannotations-2.0.1.jar,guava-15.0,javassist-3.19.0-GA,reflections-0.9.10 which you can download them from here <a href=\"https://jar-download.com/artifacts/org.reflections/reflections/0.9.10/source-code\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/org.reflections/reflections/0.9.10/source-code</a>.</p>\n<p>Update:\nThis will work under tests package. It is based on ClassPath class from Guava 14. The TestNGRunner class loader is used here to fetch the classes placed under the same src package of TestNGRunner which is the src/test/java. The check is done the full name of the class (packageName+.+className) that's why i used startsWith(&quot;tests.&quot;) :</p>\n<pre><code>   final ClassLoader loader = TestNGRunner.class.getClassLoader();\n    Set&lt;Class&lt;? extends Object&gt;&gt; allClasses = new HashSet&lt;Class&lt;? extends Object&gt;&gt;();\n    for (final ClassPath.ClassInfo info : ClassPath.from(loader).getTopLevelClasses()) {\n      if (info.getName().startsWith(&quot;tests.&quot;)) {\n          allClasses.add(info.load());\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":107533,"reputation":908,"user_id":285874,"accept_rate":100,"display_name":"Mike Rowley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666581751,"creation_date":1666581751,"answer_id":74176419,"question_id":64078560,"body_markdown":"SubTypesScanner is now depreciated.  You can use this instead:\r\n\r\n    var reflections = new Reflections(packageToScan, SubTypes.filterResultsBy(s -&gt; true));\r\n\r\n ","title":"Unable to fetch classes of a package using Reflection","body":"<p>SubTypesScanner is now depreciated.  You can use this instead:</p>\n<pre><code>var reflections = new Reflections(packageToScan, SubTypes.filterResultsBy(s -&gt; true));\n</code></pre>\n"}],"owner":{"account_id":1867281,"reputation":1443,"user_id":1690506,"accept_rate":15,"display_name":"Uday"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1077,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1666581751,"creation_date":1601128970,"question_id":64078560,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TnqIJ.jpg\r\n\r\nFrom the above image, when i am trying to fetch all classes under &quot;tests&quot;, i am getting empty array.\r\n\r\n\t\tReflections reflections = new Reflections(&quot;tests&quot;);\r\n\t\t//Reflections reflections = new Reflections(&quot;src.test.java.tests&quot;); Tried but still empty array\r\n\r\n\t\t Set&lt;Class&lt;? extends Object&gt;&gt; allClasses =  reflections.getSubTypesOf(Object.class); //Getting empty array here\r\n\t\t Class[] arrayCls=new Class[allClasses.size()];\r\n\t\t allClasses.toArray(arrayCls);\r\n\r\nCan someone please help me how to get array of classes?","title":"Unable to fetch classes of a package using Reflection","body":"<p><a href=\"https://i.stack.imgur.com/TnqIJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TnqIJ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>From the above image, when i am trying to fetch all classes under &quot;tests&quot;, i am getting empty array.</p>\n<pre><code>    Reflections reflections = new Reflections(&quot;tests&quot;);\n    //Reflections reflections = new Reflections(&quot;src.test.java.tests&quot;); Tried but still empty array\n\n     Set&lt;Class&lt;? extends Object&gt;&gt; allClasses =  reflections.getSubTypesOf(Object.class); //Getting empty array here\n     Class[] arrayCls=new Class[allClasses.size()];\n     allClasses.toArray(arrayCls);\n</code></pre>\n<p>Can someone please help me how to get array of classes?</p>\n"},{"tags":["java","android","xml","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666796783,"post_id":74176359,"comment_id":131021631,"body_markdown":"Show us the layout file that is inflated.","body":"Show us the layout file that is inflated."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1667053366,"post_id":74176359,"comment_id":131082041,"body_markdown":"Please also share the adapter file.","body":"Please also share the adapter file."}],"owner":{"account_id":22273939,"reputation":1,"user_id":16503432,"display_name":"Christiannjhay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666580946,"creation_date":1666580946,"question_id":74176359,"body_markdown":"[Heres the error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Be2d3.png\r\n\r\nI want to display the text and images from firestore.\r\n\r\nor are there other ways how to display data from firestore database to recyclerview.\r\n\r\n\r\n\r\n**AllProducts.java**\r\n```\r\n\r\n\r\npublic class AllProducts extends AppCompatActivity {\r\n    ActivityAllProductsBinding binding;\r\n    MyProductsAdapter myProductsAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityAllProductsBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        myProductsAdapter=new MyProductsAdapter(this);\r\n        binding.productsRecycler.setAdapter(myProductsAdapter);\r\n\r\n        loadProduct();\r\n    }\r\n    private void loadProduct(){\r\n        FirebaseFirestore.getInstance()\r\n                .collection(&quot;PRODUCTS&quot;)\r\n                .get()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                        List&lt;DocumentSnapshot&gt; dsList=queryDocumentSnapshots.getDocuments();\r\n                        for (DocumentSnapshot ds:dsList){\r\n                            Product product=ds.toObject(Product.class);\r\n                            myProductsAdapter.add(product);\r\n                        }\r\n\r\n                    }\r\n                });\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Android Studio Binding Error Cannot resolve symbol","body":"<p><a href=\"https://i.stack.imgur.com/Be2d3.png\" rel=\"nofollow noreferrer\">Heres the error</a></p>\n<p>I want to display the text and images from firestore.</p>\n<p>or are there other ways how to display data from firestore database to recyclerview.</p>\n<p><strong>AllProducts.java</strong></p>\n<pre><code>\n\npublic class AllProducts extends AppCompatActivity {\n    ActivityAllProductsBinding binding;\n    MyProductsAdapter myProductsAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityAllProductsBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        myProductsAdapter=new MyProductsAdapter(this);\n        binding.productsRecycler.setAdapter(myProductsAdapter);\n\n        loadProduct();\n    }\n    private void loadProduct(){\n        FirebaseFirestore.getInstance()\n                .collection(&quot;PRODUCTS&quot;)\n                .get()\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                        List&lt;DocumentSnapshot&gt; dsList=queryDocumentSnapshots.getDocuments();\n                        for (DocumentSnapshot ds:dsList){\n                            Product product=ds.toObject(Product.class);\n                            myProductsAdapter.add(product);\n                        }\n\n                    }\n                });\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-data-jpa","spring-data-rest"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1666537573,"post_id":74172017,"comment_id":130955732,"body_markdown":"Maybe you could use a `@PathVariable` and construct a map that maps the allowed values of that variable to repository instances?","body":"Maybe you could use a <code>@PathVariable</code> and construct a map that maps the allowed values of that variable to repository instances?"},{"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"score":0,"creation_date":1666538336,"post_id":74172017,"comment_id":130955901,"body_markdown":"Thanks! It seems that org.springframework.data.rest.webmvc.RepositorySearchController uses this approach, but I don&#39;t yet understand in details how it works.","body":"Thanks! It seems that org.springframework.data.rest.webmvc.RepositorySearchControl&zwnj;&#8203;ler uses this approach, but I don&#39;t yet understand in details how it works."}],"answers":[{"tags":[],"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666580850,"creation_date":1666545732,"answer_id":74173268,"question_id":74172017,"body_markdown":"The following works for me:\r\n\r\n```\r\n@RepositoryRestController\r\npublic class QueryController {\r\n\r\n    private final ApplicationContext context;\r\n\r\n    public QueryController(ApplicationContext context) {\r\n        this.context = context;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/{repository}/query&quot;)\r\n    public ResponseEntity&lt;Object&gt; findAllByQuery(\r\n            RootResourceInformation resourceInformation,\r\n            String query, Pageable pageable,\r\n            PagedResourcesAssembler&lt;Object&gt; pagedAssembler,\r\n            PersistentEntityResourceAssembler resourceAssembler) {\r\n        Repositories repositories = new Repositories(context);\r\n        Optional&lt;QueryableRepository&lt;?, ?&gt;&gt; repository = repositories\r\n                .getRepositoryFor(resourceInformation.getDomainType())\r\n                .filter(QueryableRepository.class::isInstance)\r\n                .map(QueryableRepository.class::cast);\r\n        if (repository.isPresent()) {\r\n            return ResponseEntity.ok(pagedAssembler.toModel(\r\n                    repository.get()\r\n                            .findAllByQuery(query, pageable)\r\n                            .map(Object.class::cast),\r\n                    resourceAssembler));\r\n        } else {\r\n            return ResponseEntity.status(HttpStatus.METHOD_NOT_ALLOWED).build();\r\n        }\r\n    }\r\n}\r\n```","title":"How to expose custom methods for all repositories in Spring Data REST?","body":"<p>The following works for me:</p>\n<pre><code>@RepositoryRestController\npublic class QueryController {\n\n    private final ApplicationContext context;\n\n    public QueryController(ApplicationContext context) {\n        this.context = context;\n    }\n\n    @GetMapping(value = &quot;/{repository}/query&quot;)\n    public ResponseEntity&lt;Object&gt; findAllByQuery(\n            RootResourceInformation resourceInformation,\n            String query, Pageable pageable,\n            PagedResourcesAssembler&lt;Object&gt; pagedAssembler,\n            PersistentEntityResourceAssembler resourceAssembler) {\n        Repositories repositories = new Repositories(context);\n        Optional&lt;QueryableRepository&lt;?, ?&gt;&gt; repository = repositories\n                .getRepositoryFor(resourceInformation.getDomainType())\n                .filter(QueryableRepository.class::isInstance)\n                .map(QueryableRepository.class::cast);\n        if (repository.isPresent()) {\n            return ResponseEntity.ok(pagedAssembler.toModel(\n                    repository.get()\n                            .findAllByQuery(query, pageable)\n                            .map(Object.class::cast),\n                    resourceAssembler));\n        } else {\n            return ResponseEntity.status(HttpStatus.METHOD_NOT_ALLOWED).build();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":316179,"reputation":1167,"user_id":632199,"accept_rate":98,"display_name":"Denis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666580850,"creation_date":1666535947,"question_id":74172017,"body_markdown":"I need to add a query endpoint to all of my Spring Data REST repositories. Something like this:\r\n```\r\n/api/users/query?query=...\r\n/api/issues/query?query=...\r\n/api/projects/query?query=...\r\n...\r\n```\r\nor\r\n```\r\n/api/users/search/query?query=...\r\n/api/issues/search/query?query=...\r\n/api/projects/search/query?query=...\r\n...\r\n```\r\nThe URL format doesn&#39;t matter.\r\n\r\nI implemented a [custom base repository][1]:\r\n```\r\n@NoRepositoryBean\r\npublic interface QueryableRepository&lt;T, ID&gt; extends JpaRepository&lt;T, ID&gt; {\r\n    Page&lt;T&gt; findAllByQuery(String query, Pageable pageable);\r\n}\r\n```\r\n```\r\npublic class CustomRepository&lt;T, ID&gt; extends SimpleJpaRepository&lt;T, ID&gt; implements QueryableRepository&lt;T, ID&gt; {\r\n    public CustomRepository(JpaEntityInformation&lt;T, ?&gt; entityInformation, EntityManager entityManager) {\r\n        super(entityInformation, entityManager);\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;T&gt; findAllByQuery(String query, Pageable pageable) {\r\n        return findAll(pageable); // Some omitted implementation here\r\n    }\r\n}\r\n```\r\n```\r\n@EnableJpaRepositories(repositoryBaseClass = CustomRepository.class)\r\n```\r\nFor sure `findAllByQuery` method is not exposed by Spring Data REST:\r\n- https://stackoverflow.com/a/21502510/632199\r\n- https://stackoverflow.com/a/25217113/632199\r\n\r\nI can implement a controller for each entity type exposing such a method:\r\n```\r\n@RepositoryRestController\r\npublic class UserController {\r\n    private final UserRepository userRepository;\r\n\r\n    public UserController(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @GetMapping(path = &quot;/users/search/query&quot;)\r\n    public ResponseEntity&lt;CollectionModel&lt;PersistentEntityResource&gt;&gt; findAllByQuery(\r\n            String query,\r\n            Pageable pageable,\r\n            PagedResourcesAssembler&lt;Object&gt; pagedAssembler,\r\n            PersistentEntityResourceAssembler resourceAssembler) {\r\n        return ResponseEntity.ok(pagedAssembler.toModel(\r\n                userRepository.findAllByQuery(value, pageable).map(Object.class::cast),\r\n                resourceAssembler));\r\n    }\r\n}\r\n```\r\n\r\nBut is it possible to add this method to all entities once, without creation of dosens of same controllers?\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#repositories.customize-base-repository","title":"How to expose custom methods for all repositories in Spring Data REST?","body":"<p>I need to add a query endpoint to all of my Spring Data REST repositories. Something like this:</p>\n<pre><code>/api/users/query?query=...\n/api/issues/query?query=...\n/api/projects/query?query=...\n...\n</code></pre>\n<p>or</p>\n<pre><code>/api/users/search/query?query=...\n/api/issues/search/query?query=...\n/api/projects/search/query?query=...\n...\n</code></pre>\n<p>The URL format doesn't matter.</p>\n<p>I implemented a <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#repositories.customize-base-repository\" rel=\"nofollow noreferrer\">custom base repository</a>:</p>\n<pre><code>@NoRepositoryBean\npublic interface QueryableRepository&lt;T, ID&gt; extends JpaRepository&lt;T, ID&gt; {\n    Page&lt;T&gt; findAllByQuery(String query, Pageable pageable);\n}\n</code></pre>\n<pre><code>public class CustomRepository&lt;T, ID&gt; extends SimpleJpaRepository&lt;T, ID&gt; implements QueryableRepository&lt;T, ID&gt; {\n    public CustomRepository(JpaEntityInformation&lt;T, ?&gt; entityInformation, EntityManager entityManager) {\n        super(entityInformation, entityManager);\n    }\n\n    @Override\n    public Page&lt;T&gt; findAllByQuery(String query, Pageable pageable) {\n        return findAll(pageable); // Some omitted implementation here\n    }\n}\n</code></pre>\n<pre><code>@EnableJpaRepositories(repositoryBaseClass = CustomRepository.class)\n</code></pre>\n<p>For sure <code>findAllByQuery</code> method is not exposed by Spring Data REST:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/21502510/632199\">https://stackoverflow.com/a/21502510/632199</a></li>\n<li><a href=\"https://stackoverflow.com/a/25217113/632199\">https://stackoverflow.com/a/25217113/632199</a></li>\n</ul>\n<p>I can implement a controller for each entity type exposing such a method:</p>\n<pre><code>@RepositoryRestController\npublic class UserController {\n    private final UserRepository userRepository;\n\n    public UserController(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @GetMapping(path = &quot;/users/search/query&quot;)\n    public ResponseEntity&lt;CollectionModel&lt;PersistentEntityResource&gt;&gt; findAllByQuery(\n            String query,\n            Pageable pageable,\n            PagedResourcesAssembler&lt;Object&gt; pagedAssembler,\n            PersistentEntityResourceAssembler resourceAssembler) {\n        return ResponseEntity.ok(pagedAssembler.toModel(\n                userRepository.findAllByQuery(value, pageable).map(Object.class::cast),\n                resourceAssembler));\n    }\n}\n</code></pre>\n<p>But is it possible to add this method to all entities once, without creation of dosens of same controllers?</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":6089597,"reputation":748,"user_id":4752381,"display_name":"Airy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666377087,"creation_date":1666377087,"answer_id":74157865,"question_id":74157412,"body_markdown":"You need to wrap your query in a `BeforeTransactionCompletionProcess` (I assume you want the update to run in same transaction) and register it into Hibernate action queue.\r\n\r\n```java\r\n    @Override\r\n    public boolean onPreUpdate(PreUpdateEvent event) {\r\n        event.getSession().getActionQueue().registerProcess(new BeforeTransactionCompletionProcess() {\r\n            @Override\r\n            public void doBeforeTransactionCompletion(SessionImplementor session) {\r\n                //your query\r\n            }\r\n        });\r\n        ...\r\n    }\r\n```","title":"ConcurrentModificationException while updating data within Hibernate event listener","body":"<p>You need to wrap your query in a <code>BeforeTransactionCompletionProcess</code> (I assume you want the update to run in same transaction) and register it into Hibernate action queue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public boolean onPreUpdate(PreUpdateEvent event) {\n        event.getSession().getActionQueue().registerProcess(new BeforeTransactionCompletionProcess() {\n            @Override\n            public void doBeforeTransactionCompletion(SessionImplementor session) {\n                //your query\n            }\n        });\n        ...\n    }\n</code></pre>\n"}],"owner":{"account_id":14034643,"reputation":584,"user_id":10137647,"display_name":"Azianese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74157865,"answer_count":1,"score":1,"last_activity_date":1666578512,"creation_date":1666374196,"question_id":74157412,"body_markdown":"I have a Hibernate listener on DB table. When this listener gets triggered, I want to query another table and update some data. However, when I try to do so, I get an error like:\r\n\r\n```\r\n    org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction \r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)\r\n    ...\r\n    Caused by: java.util.ConcurrentModificationException\r\n    \tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\r\n```\r\nMy code looks something like:\r\n```java\r\n\t@Slf4j\r\n\t@RequiredArgsConstructor\r\n\t@Component\r\n\tpublic class MyTableHibernateListener implements PostInsertEventListener, PreUpdateEventListener, PostUpdateEventListener {\r\n\t\tprivate final JPQLQueryFactory queryFactory;\r\n\r\n\t\t@Override\r\n\t\tpublic boolean onPreUpdate(PreUpdateEvent event) {\r\n\t\t\ttry {\r\n\t\t\t\t...\r\n\r\n\t\t\t\t// Some working logic to set some data within the current MyTable.\r\n\r\n\t\t\t\t// Try to query another table below\r\n\t\t\t\tAnotherTable row = queryFactory.select(QAnotherTable.anotherTable)\r\n\t\t\t\t\t.from(QAnotherTable.anotherTable)\r\n\t\t\t\t\t.where(...)\r\n\t\t\t\t\t.fetchOne();\r\n\t\t\t\t...\r\n\t\t\t\tlog.info(&quot;Success&quot;);\r\n\t\t\t\treturn false;\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlog.error(&quot;Failure&quot;, e);\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n&quot;Success&quot; is logged and no failure is logged, so it looks like the error occurs outside the listener method. I&#39;m also not yet making any DB changes in the other table, so it looks like even querying another table isn&#39;t allowed. Can someone help me understand what might be the issue here and what the recommended workaround may be?","title":"ConcurrentModificationException while updating data within Hibernate event listener","body":"<p>I have a Hibernate listener on DB table. When this listener gets triggered, I want to query another table and update some data. However, when I try to do so, I get an error like:</p>\n<pre><code>    org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction \n        at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)\n    ...\n    Caused by: java.util.ConcurrentModificationException\n        at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\n</code></pre>\n<p>My code looks something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Slf4j\n    @RequiredArgsConstructor\n    @Component\n    public class MyTableHibernateListener implements PostInsertEventListener, PreUpdateEventListener, PostUpdateEventListener {\n        private final JPQLQueryFactory queryFactory;\n\n        @Override\n        public boolean onPreUpdate(PreUpdateEvent event) {\n            try {\n                ...\n\n                // Some working logic to set some data within the current MyTable.\n\n                // Try to query another table below\n                AnotherTable row = queryFactory.select(QAnotherTable.anotherTable)\n                    .from(QAnotherTable.anotherTable)\n                    .where(...)\n                    .fetchOne();\n                ...\n                log.info(&quot;Success&quot;);\n                return false;\n            } catch (Exception e) {\n                log.error(&quot;Failure&quot;, e);\n                throw e;\n            }\n        }\n    }\n</code></pre>\n<p>&quot;Success&quot; is logged and no failure is logged, so it looks like the error occurs outside the listener method. I'm also not yet making any DB changes in the other table, so it looks like even querying another table isn't allowed. Can someone help me understand what might be the issue here and what the recommended workaround may be?</p>\n"},{"tags":["java","batch-file","jar"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1307712200,"post_id":6306918,"comment_id":7369243,"body_markdown":"Its sounds like you are doing something wrong.  If you tell us what you means by &quot;doesn&#39;t work&quot; perhaps we can give you a more specific answer.","body":"Its sounds like you are doing something wrong.  If you tell us what you means by &quot;doesn&#39;t work&quot; perhaps we can give you a more specific answer."},{"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"score":0,"creation_date":1307713868,"post_id":6306918,"comment_id":7369794,"body_markdown":"java sees only part of the arguments","body":"java sees only part of the arguments"},{"owner":{"account_id":90696,"reputation":33605,"user_id":249543,"accept_rate":98,"display_name":"jefflunt"},"score":1,"creation_date":1307714529,"post_id":6306918,"comment_id":7369971,"body_markdown":"Did you try putting quotes around the whole first argument, like &quot;-file=C:\\\\trace_small.log&quot;? If so, does it behave any differently?","body":"Did you try putting quotes around the whole first argument, like &quot;-file=C:\\\\trace_small.log&quot;? If so, does it behave any differently?"},{"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"score":0,"creation_date":1307819052,"post_id":6306918,"comment_id":7385201,"body_markdown":"@normalocity, yes, in this case it works! But it&#39;s a not nice way to resolve the problem :)","body":"@normalocity, yes, in this case it works! But it&#39;s a not nice way to resolve the problem :)"},{"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"score":0,"creation_date":1307819093,"post_id":6306918,"comment_id":7385207,"body_markdown":"@Peter Lawrey, it sees: -file","body":"@Peter Lawrey, it sees: -file"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1307820603,"post_id":6306918,"comment_id":7385409,"body_markdown":"Double quotes changes the behaviour of the shell. If this makes a difference, there is nothing the application can do about it.","body":"Double quotes changes the behaviour of the shell. If this makes a difference, there is nothing the application can do about it."}],"answers":[{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308047906,"creation_date":1308047906,"answer_id":6342273,"question_id":6306918,"body_markdown":"1)\r\nYou could try to use\r\n\r\n&gt; &quot;-Dfile=C:\\\\trace_small.log\r\n&gt; -Dstr=Storing&quot;\r\n\r\nThe variables would be set as Java System Property, but not as Parameters into a main-method.\r\n\r\n2)\r\nTry to put the arguments without &#39;=&#39;\r\n\r\n&gt; log_parser.bat -file\r\n&gt; C:\\\\trace_small.log -str Storing\r\n\r\n","title":"batch file to run jar file with parameters","body":"<p>1)\nYou could try to use</p>\n\n<blockquote>\n  <p>\"-Dfile=C:\\trace_small.log\n  -Dstr=Storing\"</p>\n</blockquote>\n\n<p>The variables would be set as Java System Property, but not as Parameters into a main-method.</p>\n\n<p>2)\nTry to put the arguments without '='</p>\n\n<blockquote>\n  <p>log_parser.bat -file\n  C:\\trace_small.log -str Storing</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":206658,"reputation":1026,"user_id":456081,"display_name":"gastush"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1308048722,"creation_date":1308048722,"answer_id":6342390,"question_id":6306918,"body_markdown":"I just tried with a small java program that only dumps the arguments to the screen:\r\n\r\n    public static void main(String[] args)\r\n\t{\r\n\t\tfor(String s : args)\r\n\t\t{\r\n\t\t\tSystem.out.println(s);\r\n\t\t}\r\n\t}\t\r\n\r\nand the following batch file :\r\n\r\n    java -jar test.jar %1 %2 %3 %4\r\n\r\nand I ended up with the following result\r\n\r\n    -file\r\n    C:\\\\trace_small.log\r\n    -str\r\n    Storing\r\n\r\nFor the same command line as you... the equal sign &#39;=&#39; desapeared.\r\nNow if you trun the batch file to this :\r\n\r\n    java -jar test.jar %*\r\n\r\nyou will get yet another result (which might be what you expected - not clear)\r\n\r\n    -file=C:\\\\trace_small.log\r\n    -str=Storing\r\n\r\nThe advantage on this %* syntax, is that it is more extensible by accepting any number of arguments.\r\n\r\nHope this helps, but I recommend you to have a look at your code to and add some debug statement to understand where you are &quot;lossing&quot; some part of the input.","title":"batch file to run jar file with parameters","body":"<p>I just tried with a small java program that only dumps the arguments to the screen:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    for(String s : args)\n    {\n        System.out.println(s);\n    }\n}   \n</code></pre>\n\n<p>and the following batch file :</p>\n\n<pre><code>java -jar test.jar %1 %2 %3 %4\n</code></pre>\n\n<p>and I ended up with the following result</p>\n\n<pre><code>-file\nC:\\\\trace_small.log\n-str\nStoring\n</code></pre>\n\n<p>For the same command line as you... the equal sign '=' desapeared.\nNow if you trun the batch file to this :</p>\n\n<pre><code>java -jar test.jar %*\n</code></pre>\n\n<p>you will get yet another result (which might be what you expected - not clear)</p>\n\n<pre><code>-file=C:\\\\trace_small.log\n-str=Storing\n</code></pre>\n\n<p>The advantage on this %* syntax, is that it is more extensible by accepting any number of arguments.</p>\n\n<p>Hope this helps, but I recommend you to have a look at your code to and add some debug statement to understand where you are \"lossing\" some part of the input.</p>\n"},{"tags":[],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490081464,"creation_date":1490081464,"answer_id":42920801,"question_id":6306918,"body_markdown":"In my case I use the following bat-file:\r\n\r\n    @echo off\r\n    PATH_TO_JRE\\bin\\java.exe -jar -Denable=true your_file.jar\r\n\r\nAt this particular case then in java code I can get the param &quot;enable&quot; like this:\r\n\r\n    Boolean.getBoolean(&quot;enable&quot;) ","title":"batch file to run jar file with parameters","body":"<p>In my case I use the following bat-file:</p>\n\n<pre><code>@echo off\nPATH_TO_JRE\\bin\\java.exe -jar -Denable=true your_file.jar\n</code></pre>\n\n<p>At this particular case then in java code I can get the param \"enable\" like this:</p>\n\n<pre><code>Boolean.getBoolean(\"enable\") \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13090355,"reputation":1,"user_id":9458040,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520446172,"creation_date":1520442241,"answer_id":49157503,"question_id":6306918,"body_markdown":"For Example Opening Street Map Editor in Windows 10 x64 \r\n\r\n    &gt; cd &quot;C:\\Program Files\\Java\\jre1.8.0_161\\bin\\&quot;\r\n    \r\n    &gt; javaw.exe -Xmx2048m -jar &quot;C:\\Program Files (x86)\\JOSM\\josm-tested.jar&quot;","title":"batch file to run jar file with parameters","body":"<p>For Example Opening Street Map Editor in Windows 10 x64 </p>\n\n<pre><code>&gt; cd \"C:\\Program Files\\Java\\jre1.8.0_161\\bin\\\"\n\n&gt; javaw.exe -Xmx2048m -jar \"C:\\Program Files (x86)\\JOSM\\josm-tested.jar\"\n</code></pre>\n"}],"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44456,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":6342390,"answer_count":4,"score":11,"last_activity_date":1666578204,"creation_date":1307712032,"question_id":6306918,"body_markdown":"How can I run a batch file and pass parameters to jar file?\r\n\r\nthis doesn&#39;t work\r\n\r\n**mybat.bat**\r\n\r\n    java -jar log_parser.jar %1 %2 %3 %4\r\n\r\nrunning bat file\r\n\r\n    C:\\&gt;log_parser.bat -file=C:\\\\trace_small.log -str=Storing\r\n\r\njava sees only `-file`\r\n\r\n","title":"batch file to run jar file with parameters","body":"<p>How can I run a batch file and pass parameters to jar file?</p>\n\n<p>this doesn't work</p>\n\n<p><strong>mybat.bat</strong></p>\n\n<pre><code>java -jar log_parser.jar %1 %2 %3 %4\n</code></pre>\n\n<p>running bat file</p>\n\n<pre><code>C:\\&gt;log_parser.bat -file=C:\\\\trace_small.log -str=Storing\n</code></pre>\n\n<p>java sees only <code>-file</code></p>\n"},{"tags":["java","batch-file","windows-8","cmd","windows-8.1"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1421494576,"post_id":27998991,"comment_id":44387551,"body_markdown":"Just tried that exact script and it works fine for me (Windows 8.1)","body":"Just tried that exact script and it works fine for me (Windows 8.1)"}],"answers":[{"tags":[],"owner":{"account_id":3692224,"reputation":46695,"user_id":3074564,"display_name":"Mofi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1421496863,"creation_date":1421496125,"answer_id":27999269,"question_id":27998991,"body_markdown":"Use batch code\r\n\r\n    @echo off\r\n    set &quot;DateOption=2015-07-07&quot;\r\n    java.exe -jar my.jar %DateOption%\r\n    set &quot;DateOption=&quot;\r\n\r\nor perhaps even better\r\n\r\n    @echo off\r\n    set &quot;DateOption=2015-07-07&quot;\r\n    &quot;%JAVA_HOME%\\bin\\java.exe&quot; -jar my.jar %DateOption%\r\n    set &quot;DateOption=&quot;\r\n\r\nAccording to commands output by __cmd.exe__ on running your batch file, it looks like there is a character between `my.jar` and `%d%` in second line or between `=` and `2015-07-07` in first line being interpreted as newline by __cmd.exe__. It could be a single carriage return or a single line-feed. And a NULL (byte with value 0) is interpreted by __cmd.exe__ as end of string which means also end of line.\r\n\r\nBatch files should have DOS/Windows line terminators, i.e. carriage return + line-feed. A line-feed only (UNIX) or carriage return only (old MAC) is not good for batch files.\r\n\r\nAnd batch files must be ASCII/ANSI (OEM) encoded files, i.e. 1 byte per character. Make sure not having UTF-8 or Unicode (UTF-16 Little/Big Endian) selected in the used text editor on using command __Save As__ to save the batch file. Many text editors use by default nowadays UTF-8 as encoding which __cmd.exe__ does not support.","title":"Running jar file with argument from batch script windows 8","body":"<p>Use batch code</p>\n\n<pre><code>@echo off\nset \"DateOption=2015-07-07\"\njava.exe -jar my.jar %DateOption%\nset \"DateOption=\"\n</code></pre>\n\n<p>or perhaps even better</p>\n\n<pre><code>@echo off\nset \"DateOption=2015-07-07\"\n\"%JAVA_HOME%\\bin\\java.exe\" -jar my.jar %DateOption%\nset \"DateOption=\"\n</code></pre>\n\n<p>According to commands output by <strong>cmd.exe</strong> on running your batch file, it looks like there is a character between <code>my.jar</code> and <code>%d%</code> in second line or between <code>=</code> and <code>2015-07-07</code> in first line being interpreted as newline by <strong>cmd.exe</strong>. It could be a single carriage return or a single line-feed. And a NULL (byte with value 0) is interpreted by <strong>cmd.exe</strong> as end of string which means also end of line.</p>\n\n<p>Batch files should have DOS/Windows line terminators, i.e. carriage return + line-feed. A line-feed only (UNIX) or carriage return only (old MAC) is not good for batch files.</p>\n\n<p>And batch files must be ASCII/ANSI (OEM) encoded files, i.e. 1 byte per character. Make sure not having UTF-8 or Unicode (UTF-16 Little/Big Endian) selected in the used text editor on using command <strong>Save As</strong> to save the batch file. Many text editors use by default nowadays UTF-8 as encoding which <strong>cmd.exe</strong> does not support.</p>\n"},{"tags":[],"owner":{"account_id":14496438,"reputation":291,"user_id":12528345,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666578100,"creation_date":1666578100,"answer_id":74176163,"question_id":27998991,"body_markdown":"For me the solution was removing the echo statement, and making the call to `java` the first line of the program.","title":"Running jar file with argument from batch script windows 8","body":"<p>For me the solution was removing the echo statement, and making the call to <code>java</code> the first line of the program.</p>\n"}],"owner":{"account_id":1704336,"reputation":1405,"user_id":1563721,"accept_rate":42,"display_name":"user1563721"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27999269,"answer_count":2,"score":0,"last_activity_date":1666578100,"creation_date":1421494178,"question_id":27998991,"body_markdown":"I am trying to run my .jar file with arguments through batch script in Windows 8.\r\n\r\nMy batch file (run.bat) has the following content:\r\n\r\n    set d=2015-07-07\r\n    java -jar my.jar %d%\r\n\r\nBut when I execute run.bat I get the following:\r\n\r\n    C:\\Users\\user\\Desktop\\Test&gt;run.bat\r\n    \r\n    C:\\Users\\user\\Desktop\\Test&gt;set d=2015-07-07\r\n    \r\n    C:\\Users\\user\\Desktop\\Test&gt;java -jar my.jar\r\n    \r\n    C:\\Users\\user\\Desktop\\Test&gt;2015-07-07\r\n    &#39;2015-07-07&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n\r\nHow to execute the whole command together with arguments?\r\n\r\nWhen I run it without batch script through command line then it works:\r\n\r\n    C:\\Users\\user\\Desktop\\Test&gt;java -jar my.jar 2015-07-07\r\n    C:\\Users\\user\\Desktop\\Test&gt;\r\n\r\nWhat I am doing wrong in a batch script?","title":"Running jar file with argument from batch script windows 8","body":"<p>I am trying to run my .jar file with arguments through batch script in Windows 8.</p>\n\n<p>My batch file (run.bat) has the following content:</p>\n\n<pre><code>set d=2015-07-07\njava -jar my.jar %d%\n</code></pre>\n\n<p>But when I execute run.bat I get the following:</p>\n\n<pre><code>C:\\Users\\user\\Desktop\\Test&gt;run.bat\n\nC:\\Users\\user\\Desktop\\Test&gt;set d=2015-07-07\n\nC:\\Users\\user\\Desktop\\Test&gt;java -jar my.jar\n\nC:\\Users\\user\\Desktop\\Test&gt;2015-07-07\n'2015-07-07' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n\n<p>How to execute the whole command together with arguments?</p>\n\n<p>When I run it without batch script through command line then it works:</p>\n\n<pre><code>C:\\Users\\user\\Desktop\\Test&gt;java -jar my.jar 2015-07-07\nC:\\Users\\user\\Desktop\\Test&gt;\n</code></pre>\n\n<p>What I am doing wrong in a batch script?</p>\n"},{"tags":["java","mongodb","geojson"],"comments":[{"owner":{"account_id":3645031,"reputation":149,"user_id":5201099,"display_name":"oriash"},"score":0,"creation_date":1548960771,"post_id":54447061,"comment_id":95742647,"body_markdown":"https://stackoverflow.com/q/35860456/5201099","body":"<a href=\"https://stackoverflow.com/q/35860456/5201099\">stackoverflow.com/q/35860456/5201099</a>"}],"answers":[{"tags":[],"owner":{"account_id":2087739,"reputation":173,"user_id":1858264,"display_name":"franfran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1549308183,"creation_date":1549308183,"answer_id":54522965,"question_id":54447061,"body_markdown":"After some searching and testing, I think I have the answer. I found [this guide][1] that took me to [this ticket][2] that eventualy sent me to [this blog post][3].\r\n\r\n\r\n&gt; 1. How do I check if a given polygon is in the right order?\r\n\r\nThe thing about the order of the points is that it defines wich side of the polygon is the one that you are intrested in, inner or outter. &quot;MongoDB deterministically chooses the area that is the &quot;smallest of the two&quot;.&quot;, unless you use &quot;Big Polygon&quot;, where you define what order you are using.\r\n\r\nIf you really want to check the order, I found this function that I took from this [validator][4]:\r\n\r\n    function isRingClockwise (coords) {\r\n        var area = 0;\r\n        if (coords.length &gt; 2) {\r\n            var p1, p2;\r\n            for (var i = 0; i &lt; coords.length - 1; i++) {\r\n                p1 = coords[i];\r\n                p2 = coords[i + 1];\r\n                area += rad(p2[0] - p1[0]) * (2 + Math.sin(rad(p1[1])) + Math.sin(rad(p2[1])));\r\n            }\r\n        }\r\n        return area &gt;= 0;\r\n    }\r\n\r\n&gt; 2. Is there a java library that will check if my polygon is valid?\r\n&gt; 3. What happens if the list of points that I&#39;m saving has intersecctions?\r\n\r\nThere is actually no need for this. \r\n\r\nIf the field has a 2dindex, then Mongo will not let you save polygons that self intersect or that are not closed. It will throw an exception: `WriteConcernException: Write failed with error code 16755 and error message &#39;Can&#39;t extract geo keys:`, and then something like `Edges 1 and 3 cross`.\r\n\r\nIf the field does not have an index, those wrong polygons (self intersecting or open) will not intersect with any point.\r\n\r\n\r\n### Some more info\r\n\r\nThe old and [obsolete GeoJson][5] specifications didn&#39;t talk about order of coordinates, but the [new one][6] does.\r\n\r\nThe links that I found have dates prior to the new specifications.\r\n\r\nI don&#39;t know if this could make Mongo change it&#39;s default about considering the smaller part of the line as the polygon, but up to version 4.0 of MongoDB, it still works this way.\r\n\r\n\r\n  [1]: http://thecodebarbarian.com/80-20-guide-to-mongodb-geospatial-queries\r\n  [2]: https://jira.mongodb.org/browse/SERVER-20672\r\n  [3]: https://www.mongodb.com/blog/post/mongodb-30-features-big-polygon\r\n  [4]: https://mapster.me/right-hand-rule-geojson-fixer/\r\n  [5]: http://geojson.org/geojson-spec\r\n  [6]: https://www.rfc-editor.org/rfc/rfc7946","title":"Store Polygons in MongoDB","body":"<p>After some searching and testing, I think I have the answer. I found <a href=\"http://thecodebarbarian.com/80-20-guide-to-mongodb-geospatial-queries\" rel=\"nofollow noreferrer\">this guide</a> that took me to <a href=\"https://jira.mongodb.org/browse/SERVER-20672\" rel=\"nofollow noreferrer\">this ticket</a> that eventualy sent me to <a href=\"https://www.mongodb.com/blog/post/mongodb-30-features-big-polygon\" rel=\"nofollow noreferrer\">this blog post</a>.</p>\n<blockquote>\n<ol>\n<li>How do I check if a given polygon is in the right order?</li>\n</ol>\n</blockquote>\n<p>The thing about the order of the points is that it defines wich side of the polygon is the one that you are intrested in, inner or outter. &quot;MongoDB deterministically chooses the area that is the &quot;smallest of the two&quot;.&quot;, unless you use &quot;Big Polygon&quot;, where you define what order you are using.</p>\n<p>If you really want to check the order, I found this function that I took from this <a href=\"https://mapster.me/right-hand-rule-geojson-fixer/\" rel=\"nofollow noreferrer\">validator</a>:</p>\n<pre><code>function isRingClockwise (coords) {\n    var area = 0;\n    if (coords.length &gt; 2) {\n        var p1, p2;\n        for (var i = 0; i &lt; coords.length - 1; i++) {\n            p1 = coords[i];\n            p2 = coords[i + 1];\n            area += rad(p2[0] - p1[0]) * (2 + Math.sin(rad(p1[1])) + Math.sin(rad(p2[1])));\n        }\n    }\n    return area &gt;= 0;\n}\n</code></pre>\n<blockquote>\n<ol start=\"2\">\n<li>Is there a java library that will check if my polygon is valid?</li>\n<li>What happens if the list of points that I'm saving has intersecctions?</li>\n</ol>\n</blockquote>\n<p>There is actually no need for this.</p>\n<p>If the field has a 2dindex, then Mongo will not let you save polygons that self intersect or that are not closed. It will throw an exception: <code>WriteConcernException: Write failed with error code 16755 and error message 'Can't extract geo keys:</code>, and then something like <code>Edges 1 and 3 cross</code>.</p>\n<p>If the field does not have an index, those wrong polygons (self intersecting or open) will not intersect with any point.</p>\n<h3>Some more info</h3>\n<p>The old and <a href=\"http://geojson.org/geojson-spec\" rel=\"nofollow noreferrer\">obsolete GeoJson</a> specifications didn't talk about order of coordinates, but the <a href=\"https://www.rfc-editor.org/rfc/rfc7946\" rel=\"nofollow noreferrer\">new one</a> does.</p>\n<p>The links that I found have dates prior to the new specifications.</p>\n<p>I don't know if this could make Mongo change it's default about considering the smaller part of the line as the polygon, but up to version 4.0 of MongoDB, it still works this way.</p>\n"}],"owner":{"account_id":2087739,"reputation":173,"user_id":1858264,"display_name":"franfran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54522965,"answer_count":1,"score":3,"last_activity_date":1666576456,"creation_date":1548872329,"question_id":54447061,"body_markdown":"I&#39;m building an application in Java where I have to store GeoJson Polygons in MongoDB, and then I have to query to check a Point with how many of those polygons it intersects with `$geoIntersects`.\r\n\r\nI have a few questions regarding GeoJson Polygons which I didn&#39;t find the answers online.\r\n\r\nThe standard (https://www.rfc-editor.org/rfc/rfc7946) says:\r\n\r\n&gt; A linear ring MUST follow the right-hand rule with respect to the area it bounds, i.e., exterior rings are counterclockwise, and holes are clockwise.\r\n\r\nBut I did a test where I save 2 circles as polygons, one clockwise and another counterclockwise, and if I query for a point inside, it seems to work fine in both cases. \r\n\r\n\r\n    # Clockwise:\r\n    &quot;polygon&quot;: {\r\n        &quot;type&quot;: &quot;Polygon&quot;,\r\n        &quot;coordinates&quot;: [\r\n          [\r\n            [-58.3816, -34.51386847158805 ], [-58.317506306149276, -34.531008005363724 ], [-58.27783822235179, -34.57589660852675 ], [-58.27776882904558, -34.631415496391675 ], [-58.317394025120045, -34.6763584216405 ], [-58.3816, -34.69353152841195 ], [-58.445805974879946, -34.6763584216405 ], [-58.48543117095441, -34.631415496391675 ], [-58.4853617776482, -34.57589660852675 ], [-58.44569369385072, -34.531008005363724 ], [-58.3816, -34.51386847158805 ] ]\r\n        ]\r\n      }\r\n    # Counterclockwise\r\n      &quot;polygon&quot;: {\r\n        &quot;type&quot;: &quot;Polygon&quot;,\r\n        &quot;coordinates&quot;: [\r\n          [\r\n            [-58.3816, -34.51386847158805 ], [-58.44569369385072, -34.531008005363724 ], [-58.4853617776482, -34.57589660852675 ], [-58.48543117095441, -34.631415496391675 ], [-58.445805974879946, -34.6763584216405 ], [-58.3816, -34.69353152841195 ], [-58.317394025120045, -34.6763584216405 ], [-58.27776882904558, -34.631415496391675 ], [-58.27783822235179, -34.57589660852675 ], [-58.317506306149276, -34.531008005363724 ], [-58.3816, -34.51386847158805 ] ]\r\n        ]\r\n      }\r\n\r\n 1. How do I check if a given polygon is in the right order?\r\n 2. Is there a java library that will check if my polygon is valid? For example, check that the first and last points match and the counterclockwise thing. Something like http://geojsonlint.com/, but in a java library.\r\n 3. What happens if the list of points that I&#39;m saving has intersections? I did a test where I save a polygon like the one in the picture, but it seems like the query does not intersect with any point. Should I check before saving if the polygon has intersections? And how do I do that?\r\n\r\n[![enter image description here][1]][1]  \r\n\r\nThanks!\r\n\r\n  [1]: https://i.stack.imgur.com/TPnOf.png","title":"Store Polygons in MongoDB","body":"<p>I'm building an application in Java where I have to store GeoJson Polygons in MongoDB, and then I have to query to check a Point with how many of those polygons it intersects with <code>$geoIntersects</code>.</p>\n<p>I have a few questions regarding GeoJson Polygons which I didn't find the answers online.</p>\n<p>The standard (<a href=\"https://www.rfc-editor.org/rfc/rfc7946\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc7946</a>) says:</p>\n<blockquote>\n<p>A linear ring MUST follow the right-hand rule with respect to the area it bounds, i.e., exterior rings are counterclockwise, and holes are clockwise.</p>\n</blockquote>\n<p>But I did a test where I save 2 circles as polygons, one clockwise and another counterclockwise, and if I query for a point inside, it seems to work fine in both cases.</p>\n<pre><code># Clockwise:\n&quot;polygon&quot;: {\n    &quot;type&quot;: &quot;Polygon&quot;,\n    &quot;coordinates&quot;: [\n      [\n        [-58.3816, -34.51386847158805 ], [-58.317506306149276, -34.531008005363724 ], [-58.27783822235179, -34.57589660852675 ], [-58.27776882904558, -34.631415496391675 ], [-58.317394025120045, -34.6763584216405 ], [-58.3816, -34.69353152841195 ], [-58.445805974879946, -34.6763584216405 ], [-58.48543117095441, -34.631415496391675 ], [-58.4853617776482, -34.57589660852675 ], [-58.44569369385072, -34.531008005363724 ], [-58.3816, -34.51386847158805 ] ]\n    ]\n  }\n# Counterclockwise\n  &quot;polygon&quot;: {\n    &quot;type&quot;: &quot;Polygon&quot;,\n    &quot;coordinates&quot;: [\n      [\n        [-58.3816, -34.51386847158805 ], [-58.44569369385072, -34.531008005363724 ], [-58.4853617776482, -34.57589660852675 ], [-58.48543117095441, -34.631415496391675 ], [-58.445805974879946, -34.6763584216405 ], [-58.3816, -34.69353152841195 ], [-58.317394025120045, -34.6763584216405 ], [-58.27776882904558, -34.631415496391675 ], [-58.27783822235179, -34.57589660852675 ], [-58.317506306149276, -34.531008005363724 ], [-58.3816, -34.51386847158805 ] ]\n    ]\n  }\n</code></pre>\n<ol>\n<li>How do I check if a given polygon is in the right order?</li>\n<li>Is there a java library that will check if my polygon is valid? For example, check that the first and last points match and the counterclockwise thing. Something like <a href=\"http://geojsonlint.com/\" rel=\"nofollow noreferrer\">http://geojsonlint.com/</a>, but in a java library.</li>\n<li>What happens if the list of points that I'm saving has intersections? I did a test where I save a polygon like the one in the picture, but it seems like the query does not intersect with any point. Should I check before saving if the polygon has intersections? And how do I do that?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/TPnOf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TPnOf.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks!</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1666584666,"post_id":74171601,"comment_id":130963821,"body_markdown":"`File file = new File(&quot;tmp/&quot; + imgName);` - looks looks backdoor: you are accepting path and content from untrusted source, so everyone may override files on application&#39;s FS.","body":"<code>File file = new File(&quot;tmp&#47;&quot; + imgName);</code> - looks looks backdoor: you are accepting path and content from untrusted source, so everyone may override files on application&#39;s FS."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666574869,"creation_date":1666574869,"answer_id":74175919,"question_id":74171601,"body_markdown":"This is not the correct way to read an `InputStream`. The documentation for [`InputStream.available`][1] states:\r\n\r\n&gt; Returns an estimate of the number of bytes that can be read (or skipped over) from this input stream without blocking by the next invocation of a method for this input stream. The next invocation might be the same thread or another thread. A single read or skip of this many bytes will not block, but may read or skip fewer bytes.\r\n&gt;\r\n&gt; Note that while some implementations of `InputStream` will return the total number of bytes in the stream, many will not. It is never correct to use the return value of this method to allocate a buffer intended to hold all data in this stream.\r\n\r\n\r\nThe key phrase there is &quot;without blocking&quot;. This means there may be more data available on the remote side, so it&#39;s incorrect to use this to detect the end of the stream. Instead, you should check `result` (the return value from `InputStream.read`(bArray).\r\n\r\nIt&#39;s also incorrect to use the result from `available` to allocate `bArray`. It is not possible in general to determine the size of all data that will be produced by an `InputStream`. In fact, regardless of the size of the buffer, it is not guaranteed that all of the data will be returned from the `InputStream` in a single call to `read`, so there needs to be a loop that either appends each read to a dynamically-sized buffer, or processes the read data in a streaming fashion. The latter is preferable, as it doesn&#39;t require retaining all of the data in memory at once, which could cause heap space exhaustion for large attachments in this case.\r\n\r\nImplementing low-level I/O operations correctly can be tricky, so it&#39;s better to use a high-level method when available. In the case of [`MimeBodyPart`][2], you can use the [`writeTo`][3] method to automatically write to the `FileOutputStream`:\r\n\r\n    iPart.writeTo(f2);\r\n\r\nThis eliminates the need to explicitly get and read from the `InputStream`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#available--\r\n  [2]: https://jakarta.ee/specifications/mail/1.6/apidocs/javax/mail/internet/mimebodypart\r\n  [3]: https://jakarta.ee/specifications/mail/1.6/apidocs/javax/mail/internet/mimebodypart#writeTo-java.io.OutputStream-","title":"Jakarta mail IMAP Could not download photo","body":"<p>This is not the correct way to read an <code>InputStream</code>. The documentation for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html#available--\" rel=\"nofollow noreferrer\"><code>InputStream.available</code></a> states:</p>\n<blockquote>\n<p>Returns an estimate of the number of bytes that can be read (or skipped over) from this input stream without blocking by the next invocation of a method for this input stream. The next invocation might be the same thread or another thread. A single read or skip of this many bytes will not block, but may read or skip fewer bytes.</p>\n<p>Note that while some implementations of <code>InputStream</code> will return the total number of bytes in the stream, many will not. It is never correct to use the return value of this method to allocate a buffer intended to hold all data in this stream.</p>\n</blockquote>\n<p>The key phrase there is &quot;without blocking&quot;. This means there may be more data available on the remote side, so it's incorrect to use this to detect the end of the stream. Instead, you should check <code>result</code> (the return value from <code>InputStream.read</code>(bArray).</p>\n<p>It's also incorrect to use the result from <code>available</code> to allocate <code>bArray</code>. It is not possible in general to determine the size of all data that will be produced by an <code>InputStream</code>. In fact, regardless of the size of the buffer, it is not guaranteed that all of the data will be returned from the <code>InputStream</code> in a single call to <code>read</code>, so there needs to be a loop that either appends each read to a dynamically-sized buffer, or processes the read data in a streaming fashion. The latter is preferable, as it doesn't require retaining all of the data in memory at once, which could cause heap space exhaustion for large attachments in this case.</p>\n<p>Implementing low-level I/O operations correctly can be tricky, so it's better to use a high-level method when available. In the case of <a href=\"https://jakarta.ee/specifications/mail/1.6/apidocs/javax/mail/internet/mimebodypart\" rel=\"nofollow noreferrer\"><code>MimeBodyPart</code></a>, you can use the <a href=\"https://jakarta.ee/specifications/mail/1.6/apidocs/javax/mail/internet/mimebodypart#writeTo-java.io.OutputStream-\" rel=\"nofollow noreferrer\"><code>writeTo</code></a> method to automatically write to the <code>FileOutputStream</code>:</p>\n<pre><code>iPart.writeTo(f2);\n</code></pre>\n<p>This eliminates the need to explicitly get and read from the <code>InputStream</code>.</p>\n"}],"owner":{"account_id":26709074,"reputation":3,"user_id":20314784,"display_name":"XiaoZe C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74175919,"answer_count":1,"score":0,"last_activity_date":1666574869,"creation_date":1666532628,"question_id":74171601,"body_markdown":"Jakarta mail could not read email photo\r\n\r\nI don&#39;t know how to handle it. \r\n\r\nInputStream x.available is 0 ,\r\n\r\nCould not download source data \r\n\r\nthis is my writePart code\r\n```\r\npublic static void writePart(Part p) throws MessagingException, IOException {\r\n        if (p.isMimeType(&quot;multipart/*&quot;)) {\r\n            Multipart content = (Multipart) p.getContent();\r\n            for (int i = 0; i &lt; content.getCount(); i++) {\r\n                writePart(content.getBodyPart(i));\r\n            }\r\n\r\n        }\r\n        else if (p.isMimeType(&quot;text/*&quot;)) {\r\n            System.out.println(p.getContent());\r\n        }\r\n        else if (p.isMimeType(&quot;image/jpeg&quot;)) {\r\n            MimeBodyPart iPart = (MimeBodyPart) p;\r\n            String imgName = iPart.getFileName();\r\n            InputStream x = (InputStream) iPart.getContent();\r\n            \r\n            //here!!! x.available is zore,why\r\n            System.out.println(&quot;x.length = &quot; + x.available());\r\n            int i = 0;\r\n            byte[] bArray = new byte[x.available()];\r\n\r\n            while ((i = x.available()) &gt; 0) {\r\n                int result = x.read(bArray);\r\n                if (result == -1)\r\n                    break;\r\n            }\r\n            //todo temp directory\r\n            File file = new File(&quot;tmp/&quot; + imgName);\r\n            boolean b = file.getParentFile().mkdirs();\r\n            FileOutputStream f2 = new FileOutputStream(file);\r\n            f2.write(bArray);\r\n        }\r\n    }\r\n```","title":"Jakarta mail IMAP Could not download photo","body":"<p>Jakarta mail could not read email photo</p>\n<p>I don't know how to handle it.</p>\n<p>InputStream x.available is 0 ,</p>\n<p>Could not download source data</p>\n<p>this is my writePart code</p>\n<pre><code>public static void writePart(Part p) throws MessagingException, IOException {\n        if (p.isMimeType(&quot;multipart/*&quot;)) {\n            Multipart content = (Multipart) p.getContent();\n            for (int i = 0; i &lt; content.getCount(); i++) {\n                writePart(content.getBodyPart(i));\n            }\n\n        }\n        else if (p.isMimeType(&quot;text/*&quot;)) {\n            System.out.println(p.getContent());\n        }\n        else if (p.isMimeType(&quot;image/jpeg&quot;)) {\n            MimeBodyPart iPart = (MimeBodyPart) p;\n            String imgName = iPart.getFileName();\n            InputStream x = (InputStream) iPart.getContent();\n            \n            //here!!! x.available is zore,why\n            System.out.println(&quot;x.length = &quot; + x.available());\n            int i = 0;\n            byte[] bArray = new byte[x.available()];\n\n            while ((i = x.available()) &gt; 0) {\n                int result = x.read(bArray);\n                if (result == -1)\n                    break;\n            }\n            //todo temp directory\n            File file = new File(&quot;tmp/&quot; + imgName);\n            boolean b = file.getParentFile().mkdirs();\n            FileOutputStream f2 = new FileOutputStream(file);\n            f2.write(bArray);\n        }\n    }\n</code></pre>\n"},{"tags":["java","maven","jar","javadoc","maven-javadoc-plugin"],"answers":[{"tags":[],"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666540546,"creation_date":1666525702,"answer_id":74170889,"question_id":74034804,"body_markdown":"Yes, &quot;aggregator project&quot; refers to [project aggregation](https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#Project_Aggregation). Using `javadoc:jar` or `javadoc:aggregate-jar` results in different outputs:\r\n\r\n* Running `javadoc:jar` on the parent recursively executes on all modules, as you can see in the output:\r\n\r\n    ```lang-txt\r\n    [INFO] Building parent 0.0.0-SNAPSHOT                                     [1/3]\r\n    ...\r\n    [INFO] Not executing Javadoc as the project is not a Java classpath-capable package\r\n    ...\r\n    [INFO] Building module1 0.0.0-SNAPSHOT                                    [2/3]\r\n    ...\r\n    [INFO] Building jar: /module1/target/module1-0.0.0-SNAPSHOT-javadoc.jar\r\n    ...\r\n    [INFO] Building module2 0.0.0-SNAPSHOT                                    [3/3]\r\n    ...\r\n    [INFO] Building jar: /module2/target/module2-0.0.0-SNAPSHOT-javadoc.jar\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary for parent 0.0.0-SNAPSHOT:\r\n    [INFO] \r\n    [INFO] parent ............................................. SUCCESS [  0.942 s]\r\n    [INFO] module1 ............................................ SUCCESS [  1.154 s]\r\n    [INFO] module2 ............................................ SUCCESS [  1.126 s]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    ```\r\n    \r\n    Separate Javadoc outputs are created in the `target` folders of each module and bundled into separate JARs.\r\n    \r\n    Running `javadoc:jar` *only* on the parent using `--non-recursive` will not output anything.\r\n\r\n\r\n* On the other hand, the execution of `javadoc:aggregate-jar` runs *only* on the parent:\r\n\r\n    ```lang-txt\r\n    [INFO] Building parent 0.0.0-SNAPSHOT                                     [1/3]\r\n    ...\r\n    [INFO] &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n    [INFO] Forking module1 0.0.0-SNAPSHOT\r\n    [INFO] &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n    ...\r\n    [INFO] &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n    [INFO] Forking module2 0.0.0-SNAPSHOT\r\n    [INFO] &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n    ...\r\n    [INFO] Building jar: /target/parent-0.0.0-SNAPSHOT-javadoc.jar\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary for parent 0.0.0-SNAPSHOT:\r\n    [INFO] \r\n    [INFO] parent ............................................. SUCCESS [  2.971 s]\r\n    [INFO] module1 ............................................ SKIPPED\r\n    [INFO] module2 ............................................ SKIPPED\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    ```\r\n    \r\n    Javadoc is only created in one place at the parent&#39;s `/target/apidocs`, bundled into a single JAR.\r\n    \r\n    The Javadoc plugin is skipped for the modules, but the parent execution creates forked builds executing the `compile` phase for each module, to make sure all input for the Javadoc processing is present (i.e. generated sources).\r\n\r\n\r\n* Running `javadoc:aggregate-no-fork` on the parent does not create forked builds but recursively runs on each module generating Javadocs...\r\n\r\n    ```lang-txt\r\n    [INFO] Building parent 0.0.0-SNAPSHOT                                     [1/3]\r\n    ...\r\n    [INFO] No previous run data found, generating javadoc.\r\n    ...\r\n    [INFO] Building module1 0.0.0-SNAPSHOT                                    [2/3]\r\n    ...\r\n    [INFO] No previous run data found, generating javadoc.\r\n    ...\r\n    [INFO] Building module2 0.0.0-SNAPSHOT                                    [3/3]\r\n    ...\r\n    [INFO] No previous run data found, generating javadoc.\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary for parent 0.0.0-SNAPSHOT:\r\n    [INFO] \r\n    [INFO] parent ............................................. SUCCESS [  1.909 s]\r\n    [INFO] module1 ............................................ SUCCESS [  1.082 s]\r\n    [INFO] module2 ............................................ SUCCESS [  0.991 s]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    ```\r\n    \r\n    ...and also aggregates them into the parent&#39;s `/target/site/apidocs`. This command is [intended](https://maven.apache.org/plugins/maven-javadoc-plugin/examples/javadoc-nofork.html) to be used in CI environments where all sources already have been prepared.\r\n    \r\n    In contrast to the previous commands, no JARs are created.","title":"Difference between Maven Javadoc Plugin javadoc:jar and javadoc:aggregate-jar","body":"<p>Yes, &quot;aggregator project&quot; refers to <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#Project_Aggregation\" rel=\"nofollow noreferrer\">project aggregation</a>. Using <code>javadoc:jar</code> or <code>javadoc:aggregate-jar</code> results in different outputs:</p>\n<ul>\n<li><p>Running <code>javadoc:jar</code> on the parent recursively executes on all modules, as you can see in the output:</p>\n<pre class=\"lang-txt prettyprint-override\"><code>[INFO] Building parent 0.0.0-SNAPSHOT                                     [1/3]\n...\n[INFO] Not executing Javadoc as the project is not a Java classpath-capable package\n...\n[INFO] Building module1 0.0.0-SNAPSHOT                                    [2/3]\n...\n[INFO] Building jar: /module1/target/module1-0.0.0-SNAPSHOT-javadoc.jar\n...\n[INFO] Building module2 0.0.0-SNAPSHOT                                    [3/3]\n...\n[INFO] Building jar: /module2/target/module2-0.0.0-SNAPSHOT-javadoc.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for parent 0.0.0-SNAPSHOT:\n[INFO] \n[INFO] parent ............................................. SUCCESS [  0.942 s]\n[INFO] module1 ............................................ SUCCESS [  1.154 s]\n[INFO] module2 ............................................ SUCCESS [  1.126 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n</code></pre>\n<p>Separate Javadoc outputs are created in the <code>target</code> folders of each module and bundled into separate JARs.</p>\n<p>Running <code>javadoc:jar</code> <em>only</em> on the parent using <code>--non-recursive</code> will not output anything.</p>\n</li>\n<li><p>On the other hand, the execution of <code>javadoc:aggregate-jar</code> runs <em>only</em> on the parent:</p>\n<pre class=\"lang-txt prettyprint-override\"><code>[INFO] Building parent 0.0.0-SNAPSHOT                                     [1/3]\n...\n[INFO] &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n[INFO] Forking module1 0.0.0-SNAPSHOT\n[INFO] &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n...\n[INFO] &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n[INFO] Forking module2 0.0.0-SNAPSHOT\n[INFO] &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n...\n[INFO] Building jar: /target/parent-0.0.0-SNAPSHOT-javadoc.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for parent 0.0.0-SNAPSHOT:\n[INFO] \n[INFO] parent ............................................. SUCCESS [  2.971 s]\n[INFO] module1 ............................................ SKIPPED\n[INFO] module2 ............................................ SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n</code></pre>\n<p>Javadoc is only created in one place at the parent's <code>/target/apidocs</code>, bundled into a single JAR.</p>\n<p>The Javadoc plugin is skipped for the modules, but the parent execution creates forked builds executing the <code>compile</code> phase for each module, to make sure all input for the Javadoc processing is present (i.e. generated sources).</p>\n</li>\n<li><p>Running <code>javadoc:aggregate-no-fork</code> on the parent does not create forked builds but recursively runs on each module generating Javadocs...</p>\n<pre class=\"lang-txt prettyprint-override\"><code>[INFO] Building parent 0.0.0-SNAPSHOT                                     [1/3]\n...\n[INFO] No previous run data found, generating javadoc.\n...\n[INFO] Building module1 0.0.0-SNAPSHOT                                    [2/3]\n...\n[INFO] No previous run data found, generating javadoc.\n...\n[INFO] Building module2 0.0.0-SNAPSHOT                                    [3/3]\n...\n[INFO] No previous run data found, generating javadoc.\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for parent 0.0.0-SNAPSHOT:\n[INFO] \n[INFO] parent ............................................. SUCCESS [  1.909 s]\n[INFO] module1 ............................................ SUCCESS [  1.082 s]\n[INFO] module2 ............................................ SUCCESS [  0.991 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n</code></pre>\n<p>...and also aggregates them into the parent's <code>/target/site/apidocs</code>. This command is <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/examples/javadoc-nofork.html\" rel=\"nofollow noreferrer\">intended</a> to be used in CI environments where all sources already have been prepared.</p>\n<p>In contrast to the previous commands, no JARs are created.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74170889,"answer_count":1,"score":3,"last_activity_date":1666574731,"creation_date":1665528496,"question_id":74034804,"body_markdown":"I&#39;ve been using the [Maven Javadoc Plugin][1] [`javadoc:jar`][2] goal for years, publishing many Java artifacts to Nexus (Maven Central). Currently I&#39;m using Maven 3.8.6 with Java 17, and `org.apache.maven.plugins:maven-javadoc-plugin:3.4.1`.\r\n\r\nToday I&#39;m reading the plugin documentation (emphasis in the documentation):\r\n\r\n* [`javadoc:jar`][2]: &quot;Bundles the Javadoc documentation for `main Java code` in an **NON aggregator project** into a jar using the standard Javadoc Tool.&quot;\r\n* [`javadoc:aggregate-jar`][3]: &quot;Bundles the Javadoc documentation for main `Java code` in an **aggregator** project into a jar using the standard Javadoc Tool.&quot;\r\n* [`javadoc:aggregate-no-fork`][4]: &quot;Generates documentation for the `Java code` in an **aggregator project** using the standard Javadoc Tool.&quot;\r\n\r\nThis confuses me a bit. What does the documentation mean when it refers to an &quot;aggregator project&quot;? Is it referring to a project using an [aggregate POM][5], in which the parent POM lists several sub-project POMs being aggregated? Yet why would it make a difference which Maven Javadoc Plugin goal is used?\r\n\r\nFor years I have set up the Maven Javadoc Plugin in a &quot;root POM&quot; for all my projects. It uses the `javadoc:jar` goal. It sets up the plugin configuration for the child projects which inherit from it. Some of the child projects are standalone single-POM projects. Some of them are aggregate POMs. I&#39;ve never had a problem doing it this way.\r\n\r\nShould I be using the `javadoc:jar` goal for some projects, and the `javadoc:aggregate-jar` for other projects? But how could the root POM even know whether the child project is an aggregate project or not? What will break if I continue using the `javadoc:jar` goal for everything?\r\n\r\n(As bonus, what is this separate `javadoc:aggregate-no-fork` goal?)\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-javadoc-plugin/\r\n  [2]: https://maven.apache.org/plugins/maven-javadoc-plugin/jar-mojo.html\r\n  [3]: https://maven.apache.org/plugins/maven-javadoc-plugin/aggregate-jar-mojo.html\r\n  [4]: https://maven.apache.org/plugins/maven-javadoc-plugin/aggregate-no-fork-mojo.html\r\n  [5]: https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#Project_Aggregation","title":"Difference between Maven Javadoc Plugin javadoc:jar and javadoc:aggregate-jar","body":"<p>I've been using the <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/\" rel=\"nofollow noreferrer\">Maven Javadoc Plugin</a> <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/jar-mojo.html\" rel=\"nofollow noreferrer\"><code>javadoc:jar</code></a> goal for years, publishing many Java artifacts to Nexus (Maven Central). Currently I'm using Maven 3.8.6 with Java 17, and <code>org.apache.maven.plugins:maven-javadoc-plugin:3.4.1</code>.</p>\n<p>Today I'm reading the plugin documentation (emphasis in the documentation):</p>\n<ul>\n<li><a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/jar-mojo.html\" rel=\"nofollow noreferrer\"><code>javadoc:jar</code></a>: &quot;Bundles the Javadoc documentation for <code>main Java code</code> in an <strong>NON aggregator project</strong> into a jar using the standard Javadoc Tool.&quot;</li>\n<li><a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/aggregate-jar-mojo.html\" rel=\"nofollow noreferrer\"><code>javadoc:aggregate-jar</code></a>: &quot;Bundles the Javadoc documentation for main <code>Java code</code> in an <strong>aggregator</strong> project into a jar using the standard Javadoc Tool.&quot;</li>\n<li><a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/aggregate-no-fork-mojo.html\" rel=\"nofollow noreferrer\"><code>javadoc:aggregate-no-fork</code></a>: &quot;Generates documentation for the <code>Java code</code> in an <strong>aggregator project</strong> using the standard Javadoc Tool.&quot;</li>\n</ul>\n<p>This confuses me a bit. What does the documentation mean when it refers to an &quot;aggregator project&quot;? Is it referring to a project using an <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-pom.html#Project_Aggregation\" rel=\"nofollow noreferrer\">aggregate POM</a>, in which the parent POM lists several sub-project POMs being aggregated? Yet why would it make a difference which Maven Javadoc Plugin goal is used?</p>\n<p>For years I have set up the Maven Javadoc Plugin in a &quot;root POM&quot; for all my projects. It uses the <code>javadoc:jar</code> goal. It sets up the plugin configuration for the child projects which inherit from it. Some of the child projects are standalone single-POM projects. Some of them are aggregate POMs. I've never had a problem doing it this way.</p>\n<p>Should I be using the <code>javadoc:jar</code> goal for some projects, and the <code>javadoc:aggregate-jar</code> for other projects? But how could the root POM even know whether the child project is an aggregate project or not? What will break if I continue using the <code>javadoc:jar</code> goal for everything?</p>\n<p>(As bonus, what is this separate <code>javadoc:aggregate-no-fork</code> goal?)</p>\n"},{"tags":["java","comparison","coordinates"],"comments":[{"owner":{"account_id":4711512,"reputation":1278,"user_id":3811895,"display_name":"vinsce"},"score":1,"creation_date":1666565689,"post_id":74175296,"comment_id":130961588,"body_markdown":"You are not changing the coordinates of object1 or object2 inside the while loop, so it is useless, and if you enter it you will never exit","body":"You are not changing the coordinates of object1 or object2 inside the while loop, so it is useless, and if you enter it you will never exit"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666572098,"creation_date":1666572098,"answer_id":74175739,"question_id":74175296,"body_markdown":"Your idea is correct, but you don&#39;t have two objects but one object and a pair of int variables. You can use a do-while-loop to shorten the code a bit:\r\n\r\n```\r\nint x, y;\r\ndo {\r\n    x = getRandom(min, max);\r\n    y = getRandom(min, max);\r\n} while (x == object.getX() &amp;&amp; y == object.getY());\r\n```\r\n\r\nWhen the loop terminates, point (x,y) is guaranteed to be different from point (object.getX(), object.getY()).\r\n\r\nOf course, it would be better to use proper abstractions like e. g. `Point` to represent a pair of coordinates.","title":"How do I make sure two objects don&#39;t have the same coordinates in Java?","body":"<p>Your idea is correct, but you don't have two objects but one object and a pair of int variables. You can use a do-while-loop to shorten the code a bit:</p>\n<pre><code>int x, y;\ndo {\n    x = getRandom(min, max);\n    y = getRandom(min, max);\n} while (x == object.getX() &amp;&amp; y == object.getY());\n</code></pre>\n<p>When the loop terminates, point (x,y) is guaranteed to be different from point (object.getX(), object.getY()).</p>\n<p>Of course, it would be better to use proper abstractions like e. g. <code>Point</code> to represent a pair of coordinates.</p>\n"}],"owner":{"display_name":"user20317493"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666572098,"creation_date":1666564890,"question_id":74175296,"body_markdown":"I have to write a method that makes sure two objects are not on each other position-wise. The coordinates of these objects have to be randomly generated. \r\n\r\nMy idea is a while-loop with getX() &amp; getY() methods, that generates new coordinates till the two objects are not on the same spot.\r\n\r\nLike this:\r\n\r\n```\r\nint x = getRandom(x);\r\nint y = getRandom(y);\r\nwhile(object1.getX() == object2.getX() &amp;&amp; object1.getY() == object2.getY()){\r\n    int x = getRandom(min, max);\r\n    int y = getRandom(min, max);\r\n}\r\n```\r\n\r\nThe code works most of the time. I don&#39;t get any error messages, but in the interaction window it can be seen that the rule is not always applied. Does someone maybe have an idea, what I am doing wrong?\r\n","title":"How do I make sure two objects don&#39;t have the same coordinates in Java?","body":"<p>I have to write a method that makes sure two objects are not on each other position-wise. The coordinates of these objects have to be randomly generated.</p>\n<p>My idea is a while-loop with getX() &amp; getY() methods, that generates new coordinates till the two objects are not on the same spot.</p>\n<p>Like this:</p>\n<pre><code>int x = getRandom(x);\nint y = getRandom(y);\nwhile(object1.getX() == object2.getX() &amp;&amp; object1.getY() == object2.getY()){\n    int x = getRandom(min, max);\n    int y = getRandom(min, max);\n}\n</code></pre>\n<p>The code works most of the time. I don't get any error messages, but in the interaction window it can be seen that the rule is not always applied. Does someone maybe have an idea, what I am doing wrong?</p>\n"},{"tags":["java","android","image","compression","abstract"],"answers":[{"tags":[],"owner":{"account_id":15397896,"reputation":16,"user_id":11108350,"display_name":"Soniya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1551362374,"creation_date":1551361084,"answer_id":54927063,"question_id":50956612,"body_markdown":"Import `id.zelory:compressor`. Compressor\r\nIn your Java file","title":"error: Compressor is abstract; cannot be instantiated Android","body":"<p>Import <code>id.zelory:compressor</code>. Compressor\nIn your Java file</p>\n"},{"tags":[],"owner":{"account_id":2976209,"reputation":1859,"user_id":2527204,"accept_rate":27,"display_name":"Marlon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571806787,"creation_date":1571806787,"answer_id":58515749,"question_id":50956612,"body_markdown":"Change your import to this `import id.zelory.compressor.Compressor` \r\n\r\nNow you van use the use `Compressor(context)`\r\n\r\n","title":"error: Compressor is abstract; cannot be instantiated Android","body":"<p>Change your import to this <code>import id.zelory.compressor.Compressor</code> </p>\n\n<p>Now you van use the use <code>Compressor(context)</code></p>\n"},{"tags":[],"owner":{"account_id":26120005,"reputation":1,"user_id":19812448,"display_name":"user19812448"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661422380,"creation_date":1661068986,"answer_id":73432620,"question_id":50956612,"body_markdown":"    implementation &#39;id.zelory:compressor:2.1.1&#39;\r\n\r\nuse this dependecies on your gradle\r\nand import\r\n\r\n    import id.zelory.compressor.Compressor;","title":"error: Compressor is abstract; cannot be instantiated Android","body":"<pre><code>implementation 'id.zelory:compressor:2.1.1'\n</code></pre>\n<p>use this dependecies on your gradle\nand import</p>\n<pre><code>import id.zelory.compressor.Compressor;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20946024,"reputation":1,"user_id":20317802,"display_name":"Frank"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1666571306,"creation_date":1666570480,"answer_id":74175647,"question_id":50956612,"body_markdown":"\r\n*The version worked for me:*\r\n\r\n    implementation &#39;id.zelory:compressor:2.1.1&#39;\r\n\r\n*Version 2.1.1 in my case helped me and it works fine.*","title":"error: Compressor is abstract; cannot be instantiated Android","body":"<p><em>The version worked for me:</em></p>\n<pre><code>implementation 'id.zelory:compressor:2.1.1'\n</code></pre>\n<p><em>Version 2.1.1 in my case helped me and it works fine.</em></p>\n"}],"owner":{"account_id":13673114,"reputation":386,"user_id":9865350,"display_name":"Ricardo Rodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1882,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54927063,"answer_count":4,"score":1,"last_activity_date":1666571306,"creation_date":1529526790,"question_id":50956612,"body_markdown":"I&#39;m trying to compress an image using the [zetbaitsu/Compressor][1], I even saw an tutorial on youtube but I&#39;m getting this error.\r\n\r\n**error: Compressor is abstract; cannot be instantiated**\r\n\r\nthis is the code.\r\n\r\n    try{\r\n                  compressed=new Compressor(this).compressToBitmap(compressedFile);\r\n                }catch (IOException e){\r\n                    e.printStackTrace();\r\n                }\r\nI implemented the last version.\r\n\r\n    implementation &#39;id.zelory:compressor:2.1.0&#39;\r\n\r\nCan anyone help please?\r\n\r\nThanks ;D\r\n\r\n\r\n  [1]: https://github.com/zetbaitsu/Compressor","title":"error: Compressor is abstract; cannot be instantiated Android","body":"<p>I'm trying to compress an image using the <a href=\"https://github.com/zetbaitsu/Compressor\" rel=\"nofollow noreferrer\">zetbaitsu/Compressor</a>, I even saw an tutorial on youtube but I'm getting this error.</p>\n\n<p><strong>error: Compressor is abstract; cannot be instantiated</strong></p>\n\n<p>this is the code.</p>\n\n<pre><code>try{\n              compressed=new Compressor(this).compressToBitmap(compressedFile);\n            }catch (IOException e){\n                e.printStackTrace();\n            }\n</code></pre>\n\n<p>I implemented the last version.</p>\n\n<pre><code>implementation 'id.zelory:compressor:2.1.0'\n</code></pre>\n\n<p>Can anyone help please?</p>\n\n<p>Thanks ;D</p>\n"},{"tags":["java","maven-plugin","pmd"],"comments":[{"owner":{"account_id":2778514,"reputation":3800,"user_id":2391566,"accept_rate":50,"display_name":"Jonathan Aquino"},"score":0,"creation_date":1661991794,"post_id":73549816,"comment_id":129905454,"body_markdown":"I&#39;m seeing a similar error as well.","body":"I&#39;m seeing a similar error as well."}],"answers":[{"tags":[],"owner":{"account_id":1198859,"reputation":1846,"user_id":1169968,"display_name":"adangel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1662397973,"creation_date":1662013130,"answer_id":73564982,"question_id":73549816,"body_markdown":"Please see the discussion here: https://issues.apache.org/jira/browse/MPMD-353\r\n\r\nIn short, you have the following options:\r\n* Upgrade to maven 3.8.6 or later\r\n* Stay on maven-pmd-plugin 3.17.0\r\n* ~~Wait until a new version of maven-pmd-plugin is released with a fix for that problem, that makes it working again with old maven versions.~~\r\n* Upgrade to maven-pmd-plugin 3.19.0, which contains the fix for MPMD-353\r\n","title":"java.lang.NoSuchMethodError thrown by Maven PMD Plugin 3.18.0","body":"<p>Please see the discussion here: <a href=\"https://issues.apache.org/jira/browse/MPMD-353\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MPMD-353</a></p>\n<p>In short, you have the following options:</p>\n<ul>\n<li>Upgrade to maven 3.8.6 or later</li>\n<li>Stay on maven-pmd-plugin 3.17.0</li>\n<li>~~Wait until a new version of maven-pmd-plugin is released with a fix for that problem, that makes it working again with old maven versions.~~</li>\n<li>Upgrade to maven-pmd-plugin 3.19.0, which contains the fix for MPMD-353</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":235460,"reputation":1496,"user_id":502286,"accept_rate":75,"display_name":"vtokmak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666570229,"creation_date":1666570229,"answer_id":74175630,"question_id":73549816,"body_markdown":"Did you also try to upgrade `pmd.version` to `6.48.0` or `6.50.0`? I was having the similar problem for the pmd plugin version `3.19.0` and I&#39;ve upgraded the `pmd-java` and `pmd-core` version to the latest one and worked like a charm.","title":"java.lang.NoSuchMethodError thrown by Maven PMD Plugin 3.18.0","body":"<p>Did you also try to upgrade <code>pmd.version</code> to <code>6.48.0</code> or <code>6.50.0</code>? I was having the similar problem for the pmd plugin version <code>3.19.0</code> and I've upgraded the <code>pmd-java</code> and <code>pmd-core</code> version to the latest one and worked like a charm.</p>\n"}],"owner":{"account_id":14472570,"reputation":677,"user_id":10454072,"display_name":"John Camerin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73564982,"answer_count":2,"score":5,"last_activity_date":1666570229,"creation_date":1661906902,"question_id":73549816,"body_markdown":"I am working on a long running multi-module Maven Java project.  I tried to update the PMD plugin from 3.17.0 to 3.18.0, but I get a java.lang.NoSuchMethodError from PMD almost immediately.  The 3.17.0 version of the PMD plugin works fine on this project and I havent found anything in the release notes that helps me understand the error.  Hoping something here understands the PMD plugin or the error and can orient me towards the root issue.\r\nThe project is built using Maven 3.5, JKD 11 with a compile target of JDK8.  PMD version is 6.48.0\r\n\r\nPOM snippet and error output below.  \r\n\r\n```                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${pmd.plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;verify&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;check&lt;/goal&gt;\r\n                                &lt;goal&gt;cpd-check&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skip&gt;${skip.analyze}&lt;/skip&gt;\r\n                        &lt;analysisCache&gt;true&lt;/analysisCache&gt;\r\n                        &lt;analysisCacheLocation&gt;${project.build.directory}/pmd/pmd.cache&lt;/analysisCacheLocation&gt;\r\n                        &lt;failOnViolation&gt;false&lt;/failOnViolation&gt;\r\n                        &lt;rulesets&gt;\r\n                            &lt;ruleset&gt;../ruleset.xml&lt;/ruleset&gt;\r\n                        &lt;/rulesets&gt;\r\n                        &lt;printFailingErrors&gt;false&lt;/printFailingErrors&gt;\r\n                        &lt;linkXRef&gt;false&lt;/linkXRef&gt;\r\n                        &lt;targetJdk&gt;1.8&lt;/targetJdk&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;pmd-core&lt;/artifactId&gt;\r\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;pmd-java&lt;/artifactId&gt;\r\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;pmd-javascript&lt;/artifactId&gt;\r\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;pmd-jsp&lt;/artifactId&gt;\r\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;pmd-apex&lt;/artifactId&gt;\r\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;pmd-visualforce&lt;/artifactId&gt;\r\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;```\r\n\r\n\r\nCommand: mvn pmd:check\r\n\r\n```\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-pmd-plugin:3.18.0:pmd (pmd) on project test-utils: Execution pmd of goal org.apache.maven.plugins:maven-pmd-plugin:3.18.0:pmd failed: An API incompatibility was encountered while executing org.apache.maven.plugins:maven-pmd-plugin:3.18.0:pmd: java.lang.NoSuchMethodError: org.fusesource.jansi.AnsiConsole.out()Lorg/fusesource/jansi/AnsiPrintStream;\r\n    [ERROR] -----------------------------------------------------\r\n    [ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-pmd-plugin:3.18.0\r\n    [ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n    [ERROR] urls[0] = file:/Users/john.camerin/.m2/repository/org/apache/maven/plugins/maven-pmd-plugin/3.18.0/maven-pmd-plugin-3.18.0.jar\r\n    [ERROR] urls[1] = file:/Users/john.camerin/.m2/repository/org/apache/maven/shared/maven-artifact-transfer/0.13.1/maven-artifact-transfer-0.13.1.jar\r\n    [ERROR] urls[2] = file:/Users/john.camerin/.m2/repository/org/sonatype/aether/aether-util/1.7/aether-util-1.7.jar\r\n    [ERROR] urls[3] = file:/Users/john.camerin/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar\r\n    [ERROR] urls[4] = file:/Users/john.camerin/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar\r\n    [ERROR] urls[5] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.14/plexus-interpolation-1.14.jar\r\n    [ERROR] urls[6] = file:/Users/john.camerin/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar\r\n    [ERROR] urls[7] = file:/Users/john.camerin/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\r\n    [ERROR] urls[8] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-component-annotations/2.1.1/plexus-component-annotations-2.1.1.jar\r\n    [ERROR] urls[9] = file:/Users/john.camerin/.m2/repository/org/apache/maven/shared/maven-common-artifact-filters/3.3.1/maven-common-artifact-filters-3.3.1.jar\r\n    [ERROR] urls[10] = file:/Users/john.camerin/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar\r\n    [ERROR] urls[11] = file:/Users/john.camerin/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar\r\n    [ERROR] urls[12] = file:/Users/john.camerin/.m2/repository/net/sourceforge/pmd/pmd-core/6.48.0/pmd-core-6.48.0.jar\r\n    [ERROR] urls[13] = file:/Users/john.camerin/.m2/repository/org/antlr/antlr4-runtime/4.7.2/antlr4-runtime-4.7.2.jar\r\n    [ERROR] urls[14] = file:/Users/john.camerin/.m2/repository/com/beust/jcommander/1.48/jcommander-1.48.jar\r\n    [ERROR] urls[15] = file:/Users/john.camerin/.m2/repository/net/sourceforge/saxon/saxon/9.1.0.8/saxon-9.1.0.8.jar\r\n    [ERROR] urls[16] = file:/Users/john.camerin/.m2/repository/org/ow2/asm/asm/9.3/asm-9.3.jar\r\n    [ERROR] urls[17] = file:/Users/john.camerin/.m2/repository/com/google/code/gson/gson/2.8.9/gson-2.8.9.jar\r\n    [ERROR] urls[18] = file:/Users/john.camerin/.m2/repository/net/sourceforge/saxon/saxon/9.1.0.8/saxon-9.1.0.8-dom.jar\r\n    [ERROR] urls[19] = file:/Users/john.camerin/.m2/repository/net/sourceforge/pmd/pmd-java/6.48.0/pmd-java-6.48.0.jar\r\n    [ERROR] urls[20] = file:/Users/john.camerin/.m2/repository/net/sourceforge/pmd/pmd-javascript/6.48.0/pmd-javascript-6.48.0.jar\r\n    [ERROR] urls[21] = file:/Users/john.camerin/.m2/repository/org/mozilla/rhino/1.7.14/rhino-1.7.14.jar\r\n    [ERROR] urls[22] = file:/Users/john.camerin/.m2/repository/net/sourceforge/pmd/pmd-jsp/6.48.0/pmd-jsp-6.48.0.jar\r\n    [ERROR] urls[23] = file:/Users/john.camerin/.m2/repository/org/slf4j/jul-to-slf4j/1.7.36/jul-to-slf4j-1.7.36.jar\r\n    [ERROR] urls[24] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.11.1/doxia-sink-api-1.11.1.jar\r\n    [ERROR] urls[25] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-logging-api/1.11.1/doxia-logging-api-1.11.1.jar\r\n    [ERROR] urls[26] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-decoration-model/1.11.1/doxia-decoration-model-1.11.1.jar\r\n    [ERROR] urls[27] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-site-renderer/1.11.1/doxia-site-renderer-1.11.1.jar\r\n    [ERROR] urls[28] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-core/1.11.1/doxia-core-1.11.1.jar\r\n    [ERROR] urls[29] = file:/Users/john.camerin/.m2/repository/org/apache/commons/commons-text/1.3/commons-text-1.3.jar\r\n    [ERROR] urls[30] = file:/Users/john.camerin/.m2/repository/org/apache/httpcomponents/httpcore/4.4.14/httpcore-4.4.14.jar\r\n    [ERROR] urls[31] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-skin-model/1.11.1/doxia-skin-model-1.11.1.jar\r\n    [ERROR] urls[32] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-module-xhtml/1.11.1/doxia-module-xhtml-1.11.1.jar\r\n    [ERROR] urls[33] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-module-xhtml5/1.11.1/doxia-module-xhtml5-1.11.1.jar\r\n    [ERROR] urls[34] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-i18n/1.0-beta-10/plexus-i18n-1.0-beta-10.jar\r\n    [ERROR] urls[35] = file:/Users/john.camerin/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\n    [ERROR] urls[36] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-velocity/1.2/plexus-velocity-1.2.jar\r\n    [ERROR] urls[37] = file:/Users/john.camerin/.m2/repository/org/apache/velocity/velocity/1.7/velocity-1.7.jar\r\n    [ERROR] urls[38] = file:/Users/john.camerin/.m2/repository/commons-lang/commons-lang/2.4/commons-lang-2.4.jar\r\n    [ERROR] urls[39] = file:/Users/john.camerin/.m2/repository/org/apache/velocity/velocity-tools/2.0/velocity-tools-2.0.jar\r\n    [ERROR] urls[40] = file:/Users/john.camerin/.m2/repository/commons-beanutils/commons-beanutils/1.7.0/commons-beanutils-1.7.0.jar\r\n    [ERROR] urls[41] = file:/Users/john.camerin/.m2/repository/commons-digester/commons-digester/1.8/commons-digester-1.8.jar\r\n    [ERROR] urls[42] = file:/Users/john.camerin/.m2/repository/commons-chain/commons-chain/1.1/commons-chain-1.1.jar\r\n    [ERROR] urls[43] = file:/Users/john.camerin/.m2/repository/commons-logging/commons-logging/1.1/commons-logging-1.1.jar\r\n    [ERROR] urls[44] = file:/Users/john.camerin/.m2/repository/dom4j/dom4j/1.1/dom4j-1.1.jar\r\n    [ERROR] urls[45] = file:/Users/john.camerin/.m2/repository/oro/oro/2.0.8/oro-2.0.8.jar\r\n    [ERROR] urls[46] = file:/Users/john.camerin/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar\r\n    [ERROR] urls[47] = file:/Users/john.camerin/.m2/repository/org/apache/maven/reporting/maven-reporting-api/3.1.1/maven-reporting-api-3.1.1.jar\r\n    [ERROR] urls[48] = file:/Users/john.camerin/.m2/repository/org/apache/maven/reporting/maven-reporting-impl/3.2.0/maven-reporting-impl-3.2.0.jar\r\n    [ERROR] urls[49] = file:/Users/john.camerin/.m2/repository/javax/annotation/javax.annotation-api/1.2/javax.annotation-api-1.2.jar\r\n    [ERROR] urls[50] = file:/Users/john.camerin/.m2/repository/javax/enterprise/cdi-api/1.2/cdi-api-1.2.jar\r\n    [ERROR] urls[51] = file:/Users/john.camerin/.m2/repository/org/eclipse/sisu/org.eclipse.sisu.inject/0.3.5/org.eclipse.sisu.inject-0.3.5.jar\r\n    [ERROR] urls[52] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-integration-tools/1.11.1/doxia-integration-tools-1.11.1.jar\r\n    [ERROR] urls[53] = file:/Users/john.camerin/.m2/repository/org/apache/maven/shared/maven-shared-utils/3.3.4/maven-shared-utils-3.3.4.jar\r\n    [ERROR] urls[54] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-resources/1.2.0/plexus-resources-1.2.0.jar\r\n    [ERROR] urls[55] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-utils/3.3.0/plexus-utils-3.3.0.jar\r\n    [ERROR] Number of foreign imports: 1\r\n    [ERROR] import: Entry[import  from realm ClassRealm[project&gt;com.messagegears:accelerator-parent:22.2.1.0-SNAPSHOT, parent: ClassRealm[maven.api, parent: null]]]\r\n     \r\n\r\n```","title":"java.lang.NoSuchMethodError thrown by Maven PMD Plugin 3.18.0","body":"<p>I am working on a long running multi-module Maven Java project.  I tried to update the PMD plugin from 3.17.0 to 3.18.0, but I get a java.lang.NoSuchMethodError from PMD almost immediately.  The 3.17.0 version of the PMD plugin works fine on this project and I havent found anything in the release notes that helps me understand the error.  Hoping something here understands the PMD plugin or the error and can orient me towards the root issue.\nThe project is built using Maven 3.5, JKD 11 with a compile target of JDK8.  PMD version is 6.48.0</p>\n<p>POM snippet and error output below.</p>\n<pre><code>                    &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${pmd.plugin.version}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;verify&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;check&lt;/goal&gt;\n                                &lt;goal&gt;cpd-check&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;skip&gt;${skip.analyze}&lt;/skip&gt;\n                        &lt;analysisCache&gt;true&lt;/analysisCache&gt;\n                        &lt;analysisCacheLocation&gt;${project.build.directory}/pmd/pmd.cache&lt;/analysisCacheLocation&gt;\n                        &lt;failOnViolation&gt;false&lt;/failOnViolation&gt;\n                        &lt;rulesets&gt;\n                            &lt;ruleset&gt;../ruleset.xml&lt;/ruleset&gt;\n                        &lt;/rulesets&gt;\n                        &lt;printFailingErrors&gt;false&lt;/printFailingErrors&gt;\n                        &lt;linkXRef&gt;false&lt;/linkXRef&gt;\n                        &lt;targetJdk&gt;1.8&lt;/targetJdk&gt;\n                    &lt;/configuration&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\n                            &lt;artifactId&gt;pmd-core&lt;/artifactId&gt;\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\n                            &lt;artifactId&gt;pmd-java&lt;/artifactId&gt;\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\n                            &lt;artifactId&gt;pmd-javascript&lt;/artifactId&gt;\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\n                            &lt;artifactId&gt;pmd-jsp&lt;/artifactId&gt;\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\n                            &lt;artifactId&gt;pmd-apex&lt;/artifactId&gt;\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;net.sourceforge.pmd&lt;/groupId&gt;\n                            &lt;artifactId&gt;pmd-visualforce&lt;/artifactId&gt;\n                            &lt;version&gt;${pmd.version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;```\n\n\nCommand: mvn pmd:check\n\n</code></pre>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-pmd-plugin:3.18.0:pmd (pmd) on project test-utils: Execution pmd of goal org.apache.maven.plugins:maven-pmd-plugin:3.18.0:pmd failed: An API incompatibility was encountered while executing org.apache.maven.plugins:maven-pmd-plugin:3.18.0:pmd: java.lang.NoSuchMethodError: org.fusesource.jansi.AnsiConsole.out()Lorg/fusesource/jansi/AnsiPrintStream;\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-pmd-plugin:3.18.0\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/Users/john.camerin/.m2/repository/org/apache/maven/plugins/maven-pmd-plugin/3.18.0/maven-pmd-plugin-3.18.0.jar\n[ERROR] urls[1] = file:/Users/john.camerin/.m2/repository/org/apache/maven/shared/maven-artifact-transfer/0.13.1/maven-artifact-transfer-0.13.1.jar\n[ERROR] urls[2] = file:/Users/john.camerin/.m2/repository/org/sonatype/aether/aether-util/1.7/aether-util-1.7.jar\n[ERROR] urls[3] = file:/Users/john.camerin/.m2/repository/org/sonatype/sisu/sisu-inject-bean/1.4.2/sisu-inject-bean-1.4.2.jar\n[ERROR] urls[4] = file:/Users/john.camerin/.m2/repository/org/sonatype/sisu/sisu-guice/2.1.7/sisu-guice-2.1.7-noaop.jar\n[ERROR] urls[5] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.14/plexus-interpolation-1.14.jar\n[ERROR] urls[6] = file:/Users/john.camerin/.m2/repository/org/sonatype/plexus/plexus-sec-dispatcher/1.3/plexus-sec-dispatcher-1.3.jar\n[ERROR] urls[7] = file:/Users/john.camerin/.m2/repository/org/sonatype/plexus/plexus-cipher/1.4/plexus-cipher-1.4.jar\n[ERROR] urls[8] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-component-annotations/2.1.1/plexus-component-annotations-2.1.1.jar\n[ERROR] urls[9] = file:/Users/john.camerin/.m2/repository/org/apache/maven/shared/maven-common-artifact-filters/3.3.1/maven-common-artifact-filters-3.3.1.jar\n[ERROR] urls[10] = file:/Users/john.camerin/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar\n[ERROR] urls[11] = file:/Users/john.camerin/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar\n[ERROR] urls[12] = file:/Users/john.camerin/.m2/repository/net/sourceforge/pmd/pmd-core/6.48.0/pmd-core-6.48.0.jar\n[ERROR] urls[13] = file:/Users/john.camerin/.m2/repository/org/antlr/antlr4-runtime/4.7.2/antlr4-runtime-4.7.2.jar\n[ERROR] urls[14] = file:/Users/john.camerin/.m2/repository/com/beust/jcommander/1.48/jcommander-1.48.jar\n[ERROR] urls[15] = file:/Users/john.camerin/.m2/repository/net/sourceforge/saxon/saxon/9.1.0.8/saxon-9.1.0.8.jar\n[ERROR] urls[16] = file:/Users/john.camerin/.m2/repository/org/ow2/asm/asm/9.3/asm-9.3.jar\n[ERROR] urls[17] = file:/Users/john.camerin/.m2/repository/com/google/code/gson/gson/2.8.9/gson-2.8.9.jar\n[ERROR] urls[18] = file:/Users/john.camerin/.m2/repository/net/sourceforge/saxon/saxon/9.1.0.8/saxon-9.1.0.8-dom.jar\n[ERROR] urls[19] = file:/Users/john.camerin/.m2/repository/net/sourceforge/pmd/pmd-java/6.48.0/pmd-java-6.48.0.jar\n[ERROR] urls[20] = file:/Users/john.camerin/.m2/repository/net/sourceforge/pmd/pmd-javascript/6.48.0/pmd-javascript-6.48.0.jar\n[ERROR] urls[21] = file:/Users/john.camerin/.m2/repository/org/mozilla/rhino/1.7.14/rhino-1.7.14.jar\n[ERROR] urls[22] = file:/Users/john.camerin/.m2/repository/net/sourceforge/pmd/pmd-jsp/6.48.0/pmd-jsp-6.48.0.jar\n[ERROR] urls[23] = file:/Users/john.camerin/.m2/repository/org/slf4j/jul-to-slf4j/1.7.36/jul-to-slf4j-1.7.36.jar\n[ERROR] urls[24] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.11.1/doxia-sink-api-1.11.1.jar\n[ERROR] urls[25] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-logging-api/1.11.1/doxia-logging-api-1.11.1.jar\n[ERROR] urls[26] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-decoration-model/1.11.1/doxia-decoration-model-1.11.1.jar\n[ERROR] urls[27] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-site-renderer/1.11.1/doxia-site-renderer-1.11.1.jar\n[ERROR] urls[28] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-core/1.11.1/doxia-core-1.11.1.jar\n[ERROR] urls[29] = file:/Users/john.camerin/.m2/repository/org/apache/commons/commons-text/1.3/commons-text-1.3.jar\n[ERROR] urls[30] = file:/Users/john.camerin/.m2/repository/org/apache/httpcomponents/httpcore/4.4.14/httpcore-4.4.14.jar\n[ERROR] urls[31] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-skin-model/1.11.1/doxia-skin-model-1.11.1.jar\n[ERROR] urls[32] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-module-xhtml/1.11.1/doxia-module-xhtml-1.11.1.jar\n[ERROR] urls[33] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-module-xhtml5/1.11.1/doxia-module-xhtml5-1.11.1.jar\n[ERROR] urls[34] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-i18n/1.0-beta-10/plexus-i18n-1.0-beta-10.jar\n[ERROR] urls[35] = file:/Users/john.camerin/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\n[ERROR] urls[36] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-velocity/1.2/plexus-velocity-1.2.jar\n[ERROR] urls[37] = file:/Users/john.camerin/.m2/repository/org/apache/velocity/velocity/1.7/velocity-1.7.jar\n[ERROR] urls[38] = file:/Users/john.camerin/.m2/repository/commons-lang/commons-lang/2.4/commons-lang-2.4.jar\n[ERROR] urls[39] = file:/Users/john.camerin/.m2/repository/org/apache/velocity/velocity-tools/2.0/velocity-tools-2.0.jar\n[ERROR] urls[40] = file:/Users/john.camerin/.m2/repository/commons-beanutils/commons-beanutils/1.7.0/commons-beanutils-1.7.0.jar\n[ERROR] urls[41] = file:/Users/john.camerin/.m2/repository/commons-digester/commons-digester/1.8/commons-digester-1.8.jar\n[ERROR] urls[42] = file:/Users/john.camerin/.m2/repository/commons-chain/commons-chain/1.1/commons-chain-1.1.jar\n[ERROR] urls[43] = file:/Users/john.camerin/.m2/repository/commons-logging/commons-logging/1.1/commons-logging-1.1.jar\n[ERROR] urls[44] = file:/Users/john.camerin/.m2/repository/dom4j/dom4j/1.1/dom4j-1.1.jar\n[ERROR] urls[45] = file:/Users/john.camerin/.m2/repository/oro/oro/2.0.8/oro-2.0.8.jar\n[ERROR] urls[46] = file:/Users/john.camerin/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar\n[ERROR] urls[47] = file:/Users/john.camerin/.m2/repository/org/apache/maven/reporting/maven-reporting-api/3.1.1/maven-reporting-api-3.1.1.jar\n[ERROR] urls[48] = file:/Users/john.camerin/.m2/repository/org/apache/maven/reporting/maven-reporting-impl/3.2.0/maven-reporting-impl-3.2.0.jar\n[ERROR] urls[49] = file:/Users/john.camerin/.m2/repository/javax/annotation/javax.annotation-api/1.2/javax.annotation-api-1.2.jar\n[ERROR] urls[50] = file:/Users/john.camerin/.m2/repository/javax/enterprise/cdi-api/1.2/cdi-api-1.2.jar\n[ERROR] urls[51] = file:/Users/john.camerin/.m2/repository/org/eclipse/sisu/org.eclipse.sisu.inject/0.3.5/org.eclipse.sisu.inject-0.3.5.jar\n[ERROR] urls[52] = file:/Users/john.camerin/.m2/repository/org/apache/maven/doxia/doxia-integration-tools/1.11.1/doxia-integration-tools-1.11.1.jar\n[ERROR] urls[53] = file:/Users/john.camerin/.m2/repository/org/apache/maven/shared/maven-shared-utils/3.3.4/maven-shared-utils-3.3.4.jar\n[ERROR] urls[54] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-resources/1.2.0/plexus-resources-1.2.0.jar\n[ERROR] urls[55] = file:/Users/john.camerin/.m2/repository/org/codehaus/plexus/plexus-utils/3.3.0/plexus-utils-3.3.0.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[project&gt;com.messagegears:accelerator-parent:22.2.1.0-SNAPSHOT, parent: ClassRealm[maven.api, parent: null]]]\n \n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","javascript"],"comments":[{"owner":{"account_id":201110,"reputation":66262,"user_id":447356,"accept_rate":83,"display_name":"Shadow Wizard Is Sad And Angry"},"score":2,"creation_date":1295344195,"post_id":4722609,"comment_id":5216478,"body_markdown":"What is `someArray`? How can you tell it&#39;s returning `[object HTMLScriptElement]`?","body":"What is <code>someArray</code>? How can you tell it&#39;s returning <code>[object HTMLScriptElement]</code>?"},{"owner":{"account_id":144015,"reputation":166675,"user_id":352765,"accept_rate":100,"display_name":"Spudley"},"score":0,"creation_date":1295344339,"post_id":4722609,"comment_id":5216502,"body_markdown":"if all else fails I guess you could try `&#39;&#39;+hi` to force it to be a string. that doesn&#39;t actually answer the question though.","body":"if all else fails I guess you could try <code>&#39;&#39;+hi</code> to force it to be a string. that doesn&#39;t actually answer the question though."},{"owner":{"account_id":33608,"reputation":339754,"user_id":94197,"accept_rate":92,"display_name":"Andy E"},"score":0,"creation_date":1295344635,"post_id":4722609,"comment_id":5216554,"body_markdown":"@Spudley: `[object HTLMScriptElement]` is the result of coercing a `&lt;script&gt;` element to a string anyway, so the result will not change.  The problem isn&#39;t with the code here, it&#39;s where `returnsomeText()` is being called that&#39;s likely the issue.  We need to see more code.","body":"@Spudley: <code>[object HTLMScriptElement]</code> is the result of coercing a <code>&lt;script&gt;</code> element to a string anyway, so the result will not change.  The problem isn&#39;t with the code here, it&#39;s where <code>returnsomeText()</code> is being called that&#39;s likely the issue.  We need to see more code."},{"owner":{"account_id":189209,"reputation":17773,"user_id":428404,"accept_rate":100,"display_name":"WraithNath"},"score":0,"creation_date":1295344646,"post_id":4722609,"comment_id":5216559,"body_markdown":"Hi Kim,\n\nCan you return hi.ToString();?","body":"Hi Kim,  Can you return hi.ToString();?"},{"owner":{"account_id":189209,"reputation":17773,"user_id":428404,"accept_rate":100,"display_name":"WraithNath"},"score":0,"creation_date":1295345525,"post_id":4722609,"comment_id":5216716,"body_markdown":"@Kim, glad to here it, ill undelete my Answer!","body":"@Kim, glad to here it, ill undelete my Answer!"},{"owner":{"account_id":201110,"reputation":66262,"user_id":447356,"accept_rate":83,"display_name":"Shadow Wizard Is Sad And Angry"},"score":0,"creation_date":1295350917,"post_id":4722609,"comment_id":5217702,"body_markdown":"@Kim you said &quot;occur randomly&quot; - so how can you be so sure it&#39;s working? Don&#39;t you need to wait some time and verify it&#39;s not happening again?","body":"@Kim you said &quot;occur randomly&quot; - so how can you be so sure it&#39;s working? Don&#39;t you need to wait some time and verify it&#39;s not happening again?"},{"owner":{"account_id":20189,"reputation":166037,"user_id":48015,"accept_rate":80,"display_name":"Christoph"},"score":0,"creation_date":1295352118,"post_id":4722609,"comment_id":5217953,"body_markdown":"there&#39;s something fishy going on if replacing `String(hi)` with `hi.toString()` solves the problem (overwriting the global `String()` would do it...); assuming `someArray` is actually an array, adding `toString()` is superfluous: `join()` already returns a string on any conforming ECMAScript implementation; also, the string representation of a script node is apparently `&#39;[object HTMLScriptElement]&#39;` in the given implementation, so `hi.toString()` shouldn&#39;t have fixed anything even if `hi` were a node - you&#39;d have to use `hi.firstChild.nodeValue`","body":"there&#39;s something fishy going on if replacing <code>String(hi)</code> with <code>hi.toString()</code> solves the problem (overwriting the global <code>String()</code> would do it...); assuming <code>someArray</code> is actually an array, adding <code>toString()</code> is superfluous: <code>join()</code> already returns a string on any conforming ECMAScript implementation; also, the string representation of a script node is apparently <code>&#39;[object HTMLScriptElement]&#39;</code> in the given implementation, so <code>hi.toString()</code> shouldn&#39;t have fixed anything even if <code>hi</code> were a node - you&#39;d have to use <code>hi.firstChild.nodeValue</code>"},{"owner":{"account_id":20189,"reputation":166037,"user_id":48015,"accept_rate":80,"display_name":"Christoph"},"score":0,"creation_date":1295352194,"post_id":4722609,"comment_id":5217969,"body_markdown":"I don&#39;t think Kim is showing us the code which causes the problem...","body":"I don&#39;t think Kim is showing us the code which causes the problem..."},{"owner":{"account_id":151201,"reputation":15045,"user_id":364914,"accept_rate":85,"display_name":"KJW"},"score":0,"creation_date":1295427710,"post_id":4722609,"comment_id":5230748,"body_markdown":"@Christoph: details are here....this problem still not fixed. http://stackoverflow.com/questions/4732618/exception-in-thread-awt-eventqueue-0-java-lang-nullpointerexception-when-trying","body":"@Christoph: details are here....this problem still not fixed. <a href=\"http://stackoverflow.com/questions/4732618/exception-in-thread-awt-eventqueue-0-java-lang-nullpointerexception-when-trying\" title=\"exception in thread awt eventqueue 0 java lang nullpointerexception when trying\">stackoverflow.com/questions/4732618/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":189209,"reputation":17773,"user_id":428404,"accept_rate":100,"display_name":"WraithNath"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1295349160,"creation_date":1295344288,"answer_id":4722627,"question_id":4722609,"body_markdown":"Try `return hi.toString();`","title":"Why does my Javascript return [object HTMLScriptElement] instead of expected text?","body":"<p>Try <code>return hi.toString();</code></p>\n"},{"tags":[],"owner":{"account_id":6470073,"reputation":933,"user_id":5010517,"display_name":"Dave Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453766039,"creation_date":1453766039,"answer_id":35004708,"question_id":4722609,"body_markdown":"TRY adding .text somewhere like:\r\n\r\n    function returnsomeText(){\r\n        var hi = someArray.join(&#39;:&#39;);\r\n        alert(hi); //returns text:text:text:text as expected.\r\n        return hi.text;\r\n    }\r\n\r\nHERE is a demo:\r\n\r\n    document.write(document.body.children[3]); //writes [object HTMLScriptElement]\r\n    document.write(document.body.children[3].text); //writes text data","title":"Why does my Javascript return [object HTMLScriptElement] instead of expected text?","body":"<p>TRY adding .text somewhere like:</p>\n\n<pre><code>function returnsomeText(){\n    var hi = someArray.join(':');\n    alert(hi); //returns text:text:text:text as expected.\n    return hi.text;\n}\n</code></pre>\n\n<p>HERE is a demo:</p>\n\n<pre><code>document.write(document.body.children[3]); //writes [object HTMLScriptElement]\ndocument.write(document.body.children[3].text); //writes text data\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26012699,"reputation":16,"user_id":19721509,"display_name":"ReNuX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666566762,"creation_date":1666566762,"answer_id":74175433,"question_id":4722609,"body_markdown":"try hi.outerHTML\r\nand there is also an innerHTML, just saying so it may come handy someday ","title":"Why does my Javascript return [object HTMLScriptElement] instead of expected text?","body":"<p>try hi.outerHTML\nand there is also an innerHTML, just saying so it may come handy someday</p>\n"}],"owner":{"account_id":151201,"reputation":15045,"user_id":364914,"accept_rate":85,"display_name":"KJW"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10063,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1666566762,"creation_date":1295344062,"question_id":4722609,"body_markdown":"I am having similar issues from\r\n\r\nhttps://stackoverflow.com/questions/2222417/unable-to-run-an-external-javascript-using-a-bookmarklet.\r\n\r\nBut I am executing my JavaScript inside a Java application via injecting script headers into the current DOM loaded via Java application.\r\n\r\nThis problem seems to occur randomly. Some cases it returns `[object HTMLScriptElement]` and other times returns the text...\r\n\r\nWhen I `alert()` the object, it returns text! \r\n\r\nI have tried `return String(hi);` but still no effect.\r\n\r\n    function returnsomeText(){\r\n        var hi = someArray.join(&#39;:&#39;);\r\n        alert(hi); //returns text:text:text:text as expected.\r\n        return hi; //returns [object HTMLScriptElement]\r\n    }\r\n\r\nI am very confused to as what is causing this problem! If JavaScript returns `[object HTMLScriptElement]` then my Java application cannot process the text.\r\n\r\nThis question is in more detail here:\r\n\r\nhttps://stackoverflow.com/questions/4732618/exception-in-thread-awt-eventqueue-0-java-lang-nullpointerexception-when-trying","title":"Why does my Javascript return [object HTMLScriptElement] instead of expected text?","body":"<p>I am having similar issues from</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2222417/unable-to-run-an-external-javascript-using-a-bookmarklet\">unable to run an external javascript using a bookmarklet</a>.</p>\n\n<p>But I am executing my JavaScript inside a Java application via injecting script headers into the current DOM loaded via Java application.</p>\n\n<p>This problem seems to occur randomly. Some cases it returns <code>[object HTMLScriptElement]</code> and other times returns the text...</p>\n\n<p>When I <code>alert()</code> the object, it returns text! </p>\n\n<p>I have tried <code>return String(hi);</code> but still no effect.</p>\n\n<pre><code>function returnsomeText(){\n    var hi = someArray.join(':');\n    alert(hi); //returns text:text:text:text as expected.\n    return hi; //returns [object HTMLScriptElement]\n}\n</code></pre>\n\n<p>I am very confused to as what is causing this problem! If JavaScript returns <code>[object HTMLScriptElement]</code> then my Java application cannot process the text.</p>\n\n<p>This question is in more detail here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4732618/exception-in-thread-awt-eventqueue-0-java-lang-nullpointerexception-when-trying\">Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException when trying to execute Javascript</a></p>\n"},{"tags":["java","ssh","x11"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666570362,"post_id":74175416,"comment_id":130962182,"body_markdown":"The program you’re running on the Linux host requires a GUI. Is there another way to achieve your overall goal without using a GUI? Otherwise, you’ll need to run an X11 server on your local machine, and set up an SSH tunnel. This is explained in the SSH documentation. Running X over the Internet can be very sluggish. This should be a last resort option.","body":"The program you’re running on the Linux host requires a GUI. Is there another way to achieve your overall goal without using a GUI? Otherwise, you’ll need to run an X11 server on your local machine, and set up an SSH tunnel. This is explained in the SSH documentation. Running X over the Internet can be very sluggish. This should be a last resort option."},{"owner":{"account_id":12018412,"reputation":171,"user_id":8792751,"display_name":"Christian Townsend"},"score":0,"creation_date":1666571462,"post_id":74175416,"comment_id":130962333,"body_markdown":"Thanks, Tim. Ironically, I am already trying to perform a silent configuration for automation purposes. The task is to perform WebLogic silent configuration (for which there is documentation), but nothing mentioned the issue I am facing unfortunately. Will keep looking...","body":"Thanks, Tim. Ironically, I am already trying to perform a silent configuration for automation purposes. The task is to perform WebLogic silent configuration (for which there is documentation), but nothing mentioned the issue I am facing unfortunately. Will keep looking..."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666572346,"post_id":74175416,"comment_id":130962458,"body_markdown":"You might want to create a new question about the overall problem. Unfortunately, I don&#39;t know any specifics about WebLogic myself, but I&#39;m sure others here might. It&#39;s probably more on topic for the [ServerFault](https://serverfault.com) site rather than Stack Overflow.","body":"You might want to create a new question about the overall problem. Unfortunately, I don&#39;t know any specifics about WebLogic myself, but I&#39;m sure others here might. It&#39;s probably more on topic for the <a href=\"https://serverfault.com\">ServerFault</a> site rather than Stack Overflow."}],"owner":{"account_id":12018412,"reputation":171,"user_id":8792751,"display_name":"Christian Townsend"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666566529,"creation_date":1666566529,"question_id":74175416,"body_markdown":"**Situation**\r\n\r\n\r\nI am connected to a Linux VM via Bastion (provisioned through Azure). I am attempting to execute a configuration file for an application I am setting up but get the following error in my output log:\r\n\r\n    No X11 DISPLAY variable was set, but this program performed an operation which requires it.\r\n\r\n**Attempted fixes**\r\n\r\nAs per existing Stackoverflow posts, I have tried resolving this by setting `DISPLAY` to various values. Perhaps someone can provide clarification on what this should be set to if I am connecting via Bastion? After I have set this environment variable, I receive this error:\r\n\r\n    Exception in thread &quot;main&quot; java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;&lt;VariousValuesIveTried&gt;&#39; as the value of the DISPLAY variable.\r\n\r\nI am quite stuck on this and dont know how to proceed. Any advice is appreciated.","title":"RHEL &quot;No X11 DISPLAY variable was set, but this program performed an operation which requires it&quot;","body":"<p><strong>Situation</strong></p>\n<p>I am connected to a Linux VM via Bastion (provisioned through Azure). I am attempting to execute a configuration file for an application I am setting up but get the following error in my output log:</p>\n<pre><code>No X11 DISPLAY variable was set, but this program performed an operation which requires it.\n</code></pre>\n<p><strong>Attempted fixes</strong></p>\n<p>As per existing Stackoverflow posts, I have tried resolving this by setting <code>DISPLAY</code> to various values. Perhaps someone can provide clarification on what this should be set to if I am connecting via Bastion? After I have set this environment variable, I receive this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.AWTError: Can't connect to X11 window server using '&lt;VariousValuesIveTried&gt;' as the value of the DISPLAY variable.\n</code></pre>\n<p>I am quite stuck on this and dont know how to proceed. Any advice is appreciated.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1666567708,"post_id":74175398,"comment_id":130961877,"body_markdown":"A `public` helper is kind of silly. A `private` helper hides implementation details (like the fact that it is recursive), prevents open recursion (which is often undesired), and allows lots of JIT optimizations like tail-call elimination.","body":"A <code>public</code> helper is kind of silly. A <code>private</code> helper hides implementation details (like the fact that it is recursive), prevents open recursion (which is often undesired), and allows lots of JIT optimizations like tail-call elimination."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666567792,"post_id":74175398,"comment_id":130961886,"body_markdown":"(Sorry about first comment, I saw the context later.) `Does that mean using a helper method is the only way?` I think so.  The recursive method needs an extra parameter that `getRecursiveHelper` uses, so the `getRecursive` method just starts the process, and the helper method (with the extra parameter) does the actual recursive work.","body":"(Sorry about first comment, I saw the context later.) <code>Does that mean using a helper method is the only way?</code> I think so.  The recursive method needs an extra parameter that <code>getRecursiveHelper</code> uses, so the <code>getRecursive</code> method just starts the process, and the helper method (with the extra parameter) does the actual recursive work."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666567958,"post_id":74175398,"comment_id":130961902,"body_markdown":"So you could do without the helper, but solutions without the helper method would be undersireable for various reasons (expose internal fields, etc.) so the helper technique is just a convenient way to keep the publicly used methods clean.  (And as Silivio mentions the helper method could be and probably should be private, which would also help clean up the publicly accessible methods.)","body":"So you could do without the helper, but solutions without the helper method would be undersireable for various reasons (expose internal fields, etc.) so the helper technique is just a convenient way to keep the publicly used methods clean.  (And as Silivio mentions the helper method could be and probably should be private, which would also help clean up the publicly accessible methods.)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666581687,"post_id":74175398,"comment_id":130963501,"body_markdown":"You _could_ do it nonrecursively with a loop, I suppose.","body":"You <i>could</i> do it nonrecursively with a loop, I suppose."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666623477,"post_id":74175398,"comment_id":130975262,"body_markdown":"As a side note, this is a badly written recursive method as it unnecessarily modifies the parameter variables. A clean version would be `int getRecursiveHelper(node p, int i) { if(i==0) { return p.next.item; } else { return getRecursiveHelper(p.next, i - 1); } }`","body":"As a side note, this is a badly written recursive method as it unnecessarily modifies the parameter variables. A clean version would be <code>int getRecursiveHelper(node p, int i) { if(i==0) { return p.next.item; } else { return getRecursiveHelper(p.next, i - 1); } }</code>"}],"owner":{"account_id":26285575,"reputation":11,"user_id":19953344,"display_name":"Tim Swen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666566206,"creation_date":1666566206,"question_id":74175398,"body_markdown":"I came across this block of code when I was studying for java CS61b, which used a helper method. As to why we use helper method, the explanation I got is that it makes it easier to do the recursive task. But I have trouble visualizing the alternative options where we don&#39;t use a helper method because I have difficulting write the solution. Does that mean using a helper method is the only way? I wish I could compare the two solutions and better understand the usage of a helper method. \r\n\r\nhere&#39;s the code in question:\r\n\r\n```\r\n    //Same as get, but uses recursion.\r\n    public int getRecursive(int index) {\r\n        if (index&gt;size-1) {\r\n            return 0;\r\n        }\r\n        node p = sentinel;\r\n        return getRecursiveHelper(p, index);\r\n    }\r\n\r\n    public int getRecursiveHelper(node p, int i) {\r\n        if (i==0) {\r\n            return p.next.item;\r\n        } else {\r\n            p = p.next;\r\n            i -= 1;\r\n        }\r\n        return getRecursiveHelper(p, i);\r\n\r\n    }\r\n```\r\n\r\nthe below is the full code:\r\n```\r\npublic class LinkedListDeque {\r\n\r\n\r\n\r\n    public node sentinel;\r\n    public int size;\r\n\r\n    public class node {\r\n        public node prev;\r\n        public int item;\r\n        public node next;\r\n\r\n        public node(node p, int i, node n) {\r\n            prev = p;\r\n            item = i;\r\n            next = n;\r\n        }\r\n    }\r\n\r\n    // Creates an empty list\r\n    public LinkedListDeque() {\r\n        sentinel = new node(null, 63, null);\r\n        sentinel.prev = sentinel;\r\n        sentinel.next = sentinel;\r\n        size = 0;\r\n    }\r\n\r\n\r\n\r\n    // Adds an item of type T to the front of the deque.\r\n    public void addFirst(int x) {\r\n        sentinel.next = new node(sentinel, x, sentinel.next);\r\n        sentinel.next.next.prev = sentinel.next;\r\n        size += 1;\r\n    }\r\n\r\n\r\n\r\n    // Adds an item of type T to the back of the deque.\r\n    public void addLast(int x) {\r\n        sentinel.prev = new node(sentinel.prev, x, sentinel);\r\n        sentinel.prev.prev.next = sentinel.prev;\r\n        size += 1;\r\n    }\r\n\r\n\r\n    // Returns true if deque is empty, false otherwise.\r\n    public boolean isEmpty() {\r\n        if (size == 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    // Returns the number of items in the deque.\r\n    public int size() {\r\n        return size;\r\n    }\r\n\r\n\r\n    // Prints the items in the deque from first to last, separated by a space. Once all the items have been printed, print out a new line.\r\n    public void printDeque() {\r\n        node p = sentinel.next;\r\n        for (int i=0; i&lt;size; i++) {\r\n            System.out.print(p.item + &quot; &quot;);\r\n            p = p.next;\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n\r\n    // Removes and returns the item at the front of the deque. If no such item exists, returns null.\r\n    public int removeFirst() {\r\n        if (size==0) {\r\n            return 0;\r\n        }\r\n        int x = sentinel.next.item;\r\n        sentinel.next = sentinel.next.next;\r\n        sentinel.next.prev = sentinel;\r\n        size -= 1;\r\n        return x;\r\n    }\r\n\r\n\r\n    // Removes and returns the item at the back of the deque. If no such item exists, returns null.\r\n    public int removeLast() {\r\n        if (size==0) {\r\n            return 0;\r\n        }\r\n        int x = sentinel.prev.item;\r\n        sentinel.prev = sentinel.prev.prev;\r\n        sentinel.prev.next = sentinel;\r\n        size -= 1;\r\n        return x;\r\n\r\n    }\r\n\r\n    // Gets the item at the given index, where 0 is the front, 1 is the next item, and so forth. If no such item e\r\n    public int get(int index) {\r\n        if (index&gt;size-1) {\r\n            return 0;\r\n        }\r\n        node p = sentinel.next;\r\n        for (int i=0; i&lt;index; i++) {\r\n            p = p.next;\r\n\r\n        }\r\n        return p.item;\r\n    }\r\n\r\n\r\n    //Same as get, but uses recursion.\r\n    public int getRecursive(int index) {\r\n        if (index&gt;size-1) {\r\n            return 0;\r\n        }\r\n        node p = sentinel;\r\n        return getRecursiveHelper(p, index);\r\n    }\r\n\r\n    public int getRecursiveHelper(node p, int i) {\r\n        if (i==0) {\r\n            return p.next.item;\r\n        } else {\r\n            p = p.next;\r\n            i -= 1;\r\n        }\r\n        return getRecursiveHelper(p, i);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        LinkedListDeque L = new LinkedListDeque();\r\n        L.addFirst(2);\r\n        L.addFirst(1);\r\n        L.addFirst(0);\r\n        L.addLast(3);\r\n        L.addLast(4);\r\n        L.addLast(5);\r\n        System.out.println(L.get(7));\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Why do we want to use a helper method in Java?","body":"<p>I came across this block of code when I was studying for java CS61b, which used a helper method. As to why we use helper method, the explanation I got is that it makes it easier to do the recursive task. But I have trouble visualizing the alternative options where we don't use a helper method because I have difficulting write the solution. Does that mean using a helper method is the only way? I wish I could compare the two solutions and better understand the usage of a helper method.</p>\n<p>here's the code in question:</p>\n<pre><code>    //Same as get, but uses recursion.\n    public int getRecursive(int index) {\n        if (index&gt;size-1) {\n            return 0;\n        }\n        node p = sentinel;\n        return getRecursiveHelper(p, index);\n    }\n\n    public int getRecursiveHelper(node p, int i) {\n        if (i==0) {\n            return p.next.item;\n        } else {\n            p = p.next;\n            i -= 1;\n        }\n        return getRecursiveHelper(p, i);\n\n    }\n</code></pre>\n<p>the below is the full code:</p>\n<pre><code>public class LinkedListDeque {\n\n\n\n    public node sentinel;\n    public int size;\n\n    public class node {\n        public node prev;\n        public int item;\n        public node next;\n\n        public node(node p, int i, node n) {\n            prev = p;\n            item = i;\n            next = n;\n        }\n    }\n\n    // Creates an empty list\n    public LinkedListDeque() {\n        sentinel = new node(null, 63, null);\n        sentinel.prev = sentinel;\n        sentinel.next = sentinel;\n        size = 0;\n    }\n\n\n\n    // Adds an item of type T to the front of the deque.\n    public void addFirst(int x) {\n        sentinel.next = new node(sentinel, x, sentinel.next);\n        sentinel.next.next.prev = sentinel.next;\n        size += 1;\n    }\n\n\n\n    // Adds an item of type T to the back of the deque.\n    public void addLast(int x) {\n        sentinel.prev = new node(sentinel.prev, x, sentinel);\n        sentinel.prev.prev.next = sentinel.prev;\n        size += 1;\n    }\n\n\n    // Returns true if deque is empty, false otherwise.\n    public boolean isEmpty() {\n        if (size == 0) {\n            return true;\n        }\n        return false;\n    }\n\n\n    // Returns the number of items in the deque.\n    public int size() {\n        return size;\n    }\n\n\n    // Prints the items in the deque from first to last, separated by a space. Once all the items have been printed, print out a new line.\n    public void printDeque() {\n        node p = sentinel.next;\n        for (int i=0; i&lt;size; i++) {\n            System.out.print(p.item + &quot; &quot;);\n            p = p.next;\n        }\n        System.out.println();\n    }\n\n\n    // Removes and returns the item at the front of the deque. If no such item exists, returns null.\n    public int removeFirst() {\n        if (size==0) {\n            return 0;\n        }\n        int x = sentinel.next.item;\n        sentinel.next = sentinel.next.next;\n        sentinel.next.prev = sentinel;\n        size -= 1;\n        return x;\n    }\n\n\n    // Removes and returns the item at the back of the deque. If no such item exists, returns null.\n    public int removeLast() {\n        if (size==0) {\n            return 0;\n        }\n        int x = sentinel.prev.item;\n        sentinel.prev = sentinel.prev.prev;\n        sentinel.prev.next = sentinel;\n        size -= 1;\n        return x;\n\n    }\n\n    // Gets the item at the given index, where 0 is the front, 1 is the next item, and so forth. If no such item e\n    public int get(int index) {\n        if (index&gt;size-1) {\n            return 0;\n        }\n        node p = sentinel.next;\n        for (int i=0; i&lt;index; i++) {\n            p = p.next;\n\n        }\n        return p.item;\n    }\n\n\n    //Same as get, but uses recursion.\n    public int getRecursive(int index) {\n        if (index&gt;size-1) {\n            return 0;\n        }\n        node p = sentinel;\n        return getRecursiveHelper(p, index);\n    }\n\n    public int getRecursiveHelper(node p, int i) {\n        if (i==0) {\n            return p.next.item;\n        } else {\n            p = p.next;\n            i -= 1;\n        }\n        return getRecursiveHelper(p, i);\n\n    }\n\n\n\n\n\n\n\n\n\n    public static void main(String[] args) {\n        LinkedListDeque L = new LinkedListDeque();\n        L.addFirst(2);\n        L.addFirst(1);\n        L.addFirst(0);\n        L.addLast(3);\n        L.addLast(4);\n        L.addLast(5);\n        System.out.println(L.get(7));\n\n\n\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver","xpath","webdriver"],"comments":[{"owner":{"account_id":6988104,"reputation":2964,"user_id":5358255,"accept_rate":65,"display_name":"noor"},"score":0,"creation_date":1452591403,"post_id":34738316,"comment_id":57225693,"body_markdown":"first click on it, than clear and finally use send keys....with valid xpath","body":"first click on it, than clear and finally use send keys....with valid xpath"}],"answers":[{"tags":[],"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452586620,"creation_date":1452586620,"answer_id":34738557,"question_id":34738316,"body_markdown":"As per provided HTML code, the xpath you used //a[@class=&#39;h1 forms-input-action&#39; and @title=&#39;Leave&#39;] is for link (as tag is &#39;a&#39;). So you can&#39;t do sendkeys as it is not input field.\r\n\r\n    &lt;a class=&quot;h1 forms-input-action&quot; title=&quot;Leave&quot; href=&quot;#&quot;&gt; \r\n\r\n\r\nPlease inspect input field with firebug/fire path or by selenium IDE and use that locator.\r\n\r\nThank You,\r\nMurali\r\n\r\n","title":"Element must be user-editable in order to clear it when try to enter date into date field","body":"<p>As per provided HTML code, the xpath you used //a[@class='h1 forms-input-action' and @title='Leave'] is for link (as tag is 'a'). So you can't do sendkeys as it is not input field.</p>\n\n<pre><code>&lt;a class=\"h1 forms-input-action\" title=\"Leave\" href=\"#\"&gt; \n</code></pre>\n\n<p>Please inspect input field with firebug/fire path or by selenium IDE and use that locator.</p>\n\n<p>Thank You,\nMurali</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642979192,"creation_date":1642978663,"answer_id":70827326,"question_id":34738316,"body_markdown":"HTML `&lt;a&gt;` Tag\r\n--------------\r\nThe `&lt;a&gt;` tag defines a hyperlink, which is used to link from one page to another. So you can&#39;t invoke `sendKeys()` on _**A**_ tags.\r\n\r\nInstead you need to invoke _`clear()`_ and/or _`sendKeys()`_ on the _`&lt;input&gt;`_ tag as follows:\r\n\r\n\tWebElement BirthDate = driver.findElement(By.xpath(&quot;//span[@class=&#39;forms-labeltext&#39; and text()=&#39;Leave&#39;]//following::input[1]&quot;));\r\n\tBirthDate.clear();\r\n\tBirthDate.sendKeys(&quot;1/22/16&quot;)","title":"Element must be user-editable in order to clear it when try to enter date into date field","body":"<h2>HTML <code>&lt;a&gt;</code> Tag</h2>\n<p>The <code>&lt;a&gt;</code> tag defines a hyperlink, which is used to link from one page to another. So you can't invoke <code>sendKeys()</code> on <em><strong>A</strong></em> tags.</p>\n<p>Instead you need to invoke <em><code>clear()</code></em> and/or <em><code>sendKeys()</code></em> on the <em><code>&lt;input&gt;</code></em> tag as follows:</p>\n<pre><code>WebElement BirthDate = driver.findElement(By.xpath(&quot;//span[@class='forms-labeltext' and text()='Leave']//following::input[1]&quot;));\nBirthDate.clear();\nBirthDate.sendKeys(&quot;1/22/16&quot;)\n</code></pre>\n"}],"owner":{"account_id":7619031,"reputation":1,"user_id":5777555,"display_name":"Arvind Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666566200,"creation_date":1452585741,"question_id":34738316,"body_markdown":"I&#39;m trying to send date into date field with below statement. After running the script, getting below error message. Could you please help me out?\r\n\r\nHTML:\r\n\r\n```\r\n&lt;div class=&quot;forms-group-inline calendar-initialized&quot; data-dateinputmanager-cutoffdate=&quot;2016-09-06&quot; data-agent=&quot;DateInputManager&quot;&gt; \r\n\t&lt;label class=&quot;col-6 forms-textinput date-input forms-compact &quot;&gt; \r\n\t\t&lt;span class=&quot;forms-labeltext&quot;&gt;Leave&lt;/span&gt; \r\n\t\t&lt;input type=&quot;text&quot; placeholder=&quot;mm/dd/yy&quot; value=&quot;2/24/16&quot; name=&quot;ar.rt.leaveSlice.date&quot;/&gt; \r\n\t\t&lt;div class=&quot;forms-input-actions&quot;&gt; \r\n\t\t\t&lt;div class=&quot;forms-input-actions-wrapper&quot;&gt; \r\n\t\t\t\t&lt;a class=&quot;h1 forms-input-action&quot; title=&quot;Leave&quot; href=&quot;#&quot;&gt; \r\n\t\t\t\t\t&lt;span class=&quot;offscreen&quot;&gt;Leave&lt;/span&gt; \r\n\t\t\t\t\t&lt;span class=&quot;i i-calendar&quot;/&gt;\r\n```\r\n\r\nCode trial:\r\n\r\n    driver.findElement(By.xpath(&quot;//a[@class=&#39;h1 forms-input-action&#39; and @title=&#39;Leave&#39;]&quot;)).sendKeys(&quot;1/22/16&quot;);\r\n\r\nI have tried the below code as well but getting same error: \r\n\r\n\tWebElement BirthDate= driver.findElement(By.xpath(&quot;//a[@class=&#39;h1 forms-input-action&#39; and @title=&#39;Leave&#39;]&quot;)); \r\n\tBirthDate.clear(); BirthDate.sendKeys(&quot;1/20/16&quot;);\r\n\r\nException:\r\n   \r\n    Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Element must be user-editable in order to clear it.\r\n    Command duration or timeout: 23.02 seconds\r\n","title":"Element must be user-editable in order to clear it when try to enter date into date field","body":"<p>I'm trying to send date into date field with below statement. After running the script, getting below error message. Could you please help me out?</p>\n<p>HTML:</p>\n<pre><code>&lt;div class=&quot;forms-group-inline calendar-initialized&quot; data-dateinputmanager-cutoffdate=&quot;2016-09-06&quot; data-agent=&quot;DateInputManager&quot;&gt; \n    &lt;label class=&quot;col-6 forms-textinput date-input forms-compact &quot;&gt; \n        &lt;span class=&quot;forms-labeltext&quot;&gt;Leave&lt;/span&gt; \n        &lt;input type=&quot;text&quot; placeholder=&quot;mm/dd/yy&quot; value=&quot;2/24/16&quot; name=&quot;ar.rt.leaveSlice.date&quot;/&gt; \n        &lt;div class=&quot;forms-input-actions&quot;&gt; \n            &lt;div class=&quot;forms-input-actions-wrapper&quot;&gt; \n                &lt;a class=&quot;h1 forms-input-action&quot; title=&quot;Leave&quot; href=&quot;#&quot;&gt; \n                    &lt;span class=&quot;offscreen&quot;&gt;Leave&lt;/span&gt; \n                    &lt;span class=&quot;i i-calendar&quot;/&gt;\n</code></pre>\n<p>Code trial:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//a[@class='h1 forms-input-action' and @title='Leave']&quot;)).sendKeys(&quot;1/22/16&quot;);\n</code></pre>\n<p>I have tried the below code as well but getting same error:</p>\n<pre><code>WebElement BirthDate= driver.findElement(By.xpath(&quot;//a[@class='h1 forms-input-action' and @title='Leave']&quot;)); \nBirthDate.clear(); BirthDate.sendKeys(&quot;1/20/16&quot;);\n</code></pre>\n<p>Exception:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Element must be user-editable in order to clear it.\nCommand duration or timeout: 23.02 seconds\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":543931,"reputation":473,"user_id":913221,"accept_rate":70,"display_name":"lsiva"},"score":0,"creation_date":1499802840,"post_id":45043352,"comment_id":77061089,"body_markdown":"Since product is an array, you could iterate it and if you know the id to delete then remove it.","body":"Since product is an array, you could iterate it and if you know the id to delete then remove it."},{"owner":{"account_id":9235231,"reputation":121,"user_id":6860071,"accept_rate":100,"display_name":"Giannis"},"score":0,"creation_date":1499803127,"post_id":45043352,"comment_id":77061254,"body_markdown":"Thank your for replying but I am not trying to delete anything from the array. I am trying to build a JSONObject like the one I posted","body":"Thank your for replying but I am not trying to delete anything from the array. I am trying to build a JSONObject like the one I posted"}],"answers":[{"tags":[],"owner":{"display_name":"user7010102"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1499813361,"creation_date":1499803244,"answer_id":45043539,"question_id":45043352,"body_markdown":"Try constructing your JSON data as a string:\r\n\r\n    String json = &quot;{&quot; +\r\n                &quot;\\&quot;tableID\\&quot;: 1,&quot; +\r\n                &quot;\\&quot;price\\&quot;: 53,&quot; +\r\n                &quot;\\&quot;payment\\&quot;: \\&quot;cash\\&quot;,&quot; +\r\n                &quot;\\&quot;quantity\\&quot;: 3,&quot; +\r\n                &quot;\\&quot;products\\&quot;: [&quot;;\r\n    \r\n    for (int i = 0; i &lt; 100; i++) {\r\n        json += &quot;{ \\&quot;ID\\&quot;: 3, \\&quot;quantity\\&quot;: 2 }&quot;;\r\n        if(i != 100) json += &quot;,&quot;;    \r\n    }\r\n\r\n    json += &quot;]}&quot;;\r\n\r\nand then create your JSONObject:\r\n\r\n`JSONObject jsonObject = new JSONObject(json);`\r\n\r\nI do not know what you exactly want to do, but I am guessing it is something like below:\r\n\r\n    for(int i = 0; i &lt; products.size(); i++) {\r\n        json += &quot;{&quot; +\r\n              &quot;\\&quot;ID\\&quot;: &quot; + products.get(i).getId() + &quot;,&quot; +\r\n              &quot;\\&quot;quantity\\&quot;: &quot; + products.get(i).getQuantity() + &quot; }&quot;;\r\n        if(i != products.size() - 1) json += &quot;,&quot;;\r\n    }\r\n\r\nNote: See kws&#39;s [answer][1] for a more readable way to do it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45044053/7010102","title":"Create JSON object dynamically","body":"<p>Try constructing your JSON data as a string:</p>\n\n<pre><code>String json = \"{\" +\n            \"\\\"tableID\\\": 1,\" +\n            \"\\\"price\\\": 53,\" +\n            \"\\\"payment\\\": \\\"cash\\\",\" +\n            \"\\\"quantity\\\": 3,\" +\n            \"\\\"products\\\": [\";\n\nfor (int i = 0; i &lt; 100; i++) {\n    json += \"{ \\\"ID\\\": 3, \\\"quantity\\\": 2 }\";\n    if(i != 100) json += \",\";    \n}\n\njson += \"]}\";\n</code></pre>\n\n<p>and then create your JSONObject:</p>\n\n<p><code>JSONObject jsonObject = new JSONObject(json);</code></p>\n\n<p>I do not know what you exactly want to do, but I am guessing it is something like below:</p>\n\n<pre><code>for(int i = 0; i &lt; products.size(); i++) {\n    json += \"{\" +\n          \"\\\"ID\\\": \" + products.get(i).getId() + \",\" +\n          \"\\\"quantity\\\": \" + products.get(i).getQuantity() + \" }\";\n    if(i != products.size() - 1) json += \",\";\n}\n</code></pre>\n\n<p>Note: See kws's <a href=\"https://stackoverflow.com/a/45044053/7010102\">answer</a> for a more readable way to do it.</p>\n"},{"tags":[],"owner":{"account_id":6878987,"reputation":605,"user_id":5286400,"display_name":"VIX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499803384,"creation_date":1499803384,"answer_id":45043580,"question_id":45043352,"body_markdown":"Yes, being an object you can change its content. Answering your question, it would be so.\r\n\r\n    JSONArray jsArray = (JSONArray) json.get(&quot;products&quot;);\r\n          \r\n    JSONObject js1 = jsArray.getJSONObject(0);\r\n    System.out.println(&quot;0: &quot;+js1);\r\n    jsArray.remove(0);\r\n            \r\n    JSONObject js2 = jsArray.getJSONObject(0);\r\n    System.out.println(&quot;1: &quot;+js2);\r\n    jsArray.remove(0);\r\n\r\nTherefore, you can iterate that array or make it into a list, according to your preference","title":"Create JSON object dynamically","body":"<p>Yes, being an object you can change its content. Answering your question, it would be so.</p>\n\n<pre><code>JSONArray jsArray = (JSONArray) json.get(\"products\");\n\nJSONObject js1 = jsArray.getJSONObject(0);\nSystem.out.println(\"0: \"+js1);\njsArray.remove(0);\n\nJSONObject js2 = jsArray.getJSONObject(0);\nSystem.out.println(\"1: \"+js2);\njsArray.remove(0);\n</code></pre>\n\n<p>Therefore, you can iterate that array or make it into a list, according to your preference</p>\n"},{"tags":[],"owner":{"account_id":10577850,"reputation":1,"user_id":7792674,"display_name":"Mohamed Hussein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499824290,"creation_date":1499803417,"answer_id":45043589,"question_id":45043352,"body_markdown":"**For the first question**\r\n\r\nYou can use [this website][1] to create the java classes and it will create 2, one for the attributes (`tableId...`) and another one for the products and simply contain array of Products in the main class\r\n\r\n**For the second question**\r\n\r\nyou can just ignore it `products[0]` and ignore `products[1](Id:3)`\r\n\r\n\r\n  [1]: http://www.jsonschema2pojo.org/","title":"Create JSON object dynamically","body":"<p><strong>For the first question</strong></p>\n\n<p>You can use <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">this website</a> to create the java classes and it will create 2, one for the attributes (<code>tableId...</code>) and another one for the products and simply contain array of Products in the main class</p>\n\n<p><strong>For the second question</strong></p>\n\n<p>you can just ignore it <code>products[0]</code> and ignore <code>products[1](Id:3)</code></p>\n"},{"tags":[],"owner":{"account_id":8788294,"reputation":936,"user_id":6569284,"display_name":"kws"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499805419,"creation_date":1499805419,"answer_id":45044053,"question_id":45043352,"body_markdown":"To your first question, you can build the above json dynamically like this.\r\n\r\n    JSONObject jsonObject = new JSONObject();\r\n\tjsonObject.put(&quot;tableID&quot;, 1);\r\n\tjsonObject.put(&quot;price&quot;, 53);\r\n\tjsonObject.put(&quot;payment&quot;, &quot;cash&quot;);\r\n\tjsonObject.put(&quot;quantity&quot;, 3);\r\n\r\n\tJSONArray products = new JSONArray();\r\n\r\n\t//product1\r\n\tJSONObject product1 = new JSONObject();\r\n\tproduct1.put(&quot;ID&quot;, 1);\r\n\tproduct1.put(&quot;quantity&quot;, 1);\r\n\tproducts.put(product1); //add to products\r\n\r\n\t//product3\r\n\tJSONObject product3 = new JSONObject();\r\n\tproduct3.put(&quot;ID&quot;, 3);\r\n\tproduct3.put(&quot;quantity&quot;, 2);\r\n\tproducts.put(product3); //add to products\r\n\r\n\tjsonObject.put(&quot;products&quot;, products); //add products array to the top-level json object\r\n\r\n\r\n\r\n\r\nTo the second question, you can remove an element of a JSONObject if you know its name.\r\n\r\n    jsonObject.remove(&quot;tableID&quot;); // remove the tableID key/value pair\r\n\r\nOr if you want to remove a specific element of a JSONArray then you have to know its position in the collection\r\n\r\n    jsonObject.getJSONArray(&quot;products&quot;).remove(1); //removes the second item in the collection which is the product3","title":"Create JSON object dynamically","body":"<p>To your first question, you can build the above json dynamically like this.</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject();\njsonObject.put(\"tableID\", 1);\njsonObject.put(\"price\", 53);\njsonObject.put(\"payment\", \"cash\");\njsonObject.put(\"quantity\", 3);\n\nJSONArray products = new JSONArray();\n\n//product1\nJSONObject product1 = new JSONObject();\nproduct1.put(\"ID\", 1);\nproduct1.put(\"quantity\", 1);\nproducts.put(product1); //add to products\n\n//product3\nJSONObject product3 = new JSONObject();\nproduct3.put(\"ID\", 3);\nproduct3.put(\"quantity\", 2);\nproducts.put(product3); //add to products\n\njsonObject.put(\"products\", products); //add products array to the top-level json object\n</code></pre>\n\n<p>To the second question, you can remove an element of a JSONObject if you know its name.</p>\n\n<pre><code>jsonObject.remove(\"tableID\"); // remove the tableID key/value pair\n</code></pre>\n\n<p>Or if you want to remove a specific element of a JSONArray then you have to know its position in the collection</p>\n\n<pre><code>jsonObject.getJSONArray(\"products\").remove(1); //removes the second item in the collection which is the product3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47861,"reputation":3985,"user_id":141947,"accept_rate":77,"display_name":"pashute"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499807690,"creation_date":1499805599,"answer_id":45044099,"question_id":45043352,"body_markdown":"Woops, I wrote a whole long answer in js instead of java. \r\n\r\nSimply use a HashMap and the GSON library from Google. \r\n\r\nSee here: https://stackoverflow.com/questions/2779251/how-can-i-convert-json-to-a-hashmap-using-gson \r\n\r\nYou create your object dynamically as a hashMap, adding products and removing them at will. Then you turn the object into a JSON string with toJson() method.  \r\n\r\n(or start from any JSON string read into a HashMap with fromJson() and then manipulate it at will and return it to a string. ","title":"Create JSON object dynamically","body":"<p>Woops, I wrote a whole long answer in js instead of java. </p>\n\n<p>Simply use a HashMap and the GSON library from Google. </p>\n\n<p>See here: <a href=\"https://stackoverflow.com/questions/2779251/how-can-i-convert-json-to-a-hashmap-using-gson\">How can I convert JSON to a HashMap using Gson?</a> </p>\n\n<p>You create your object dynamically as a hashMap, adding products and removing them at will. Then you turn the object into a JSON string with toJson() method.  </p>\n\n<p>(or start from any JSON string read into a HashMap with fromJson() and then manipulate it at will and return it to a string. </p>\n"},{"tags":[],"owner":{"account_id":3081243,"reputation":114,"user_id":2609399,"display_name":"Teodor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666565100,"creation_date":1666553147,"answer_id":74174150,"question_id":45043352,"body_markdown":"I&#39;ve implemented a builder which is able to build/construct JSON objects dynamically, by importing different forms of `key` - `value` pairs and applying them on top of each other (see the below attached source as well as some unit tests for it). It can be easily extended if you need to.\r\n\r\nThe attached code is at its initial version which supports up to 3 forms of `importing key-value pairs`. The actual library is not published yet but it will be soon.\r\n\r\nRelated to your case, for example, you can build your JSON object like so (I&#39;ve added more fields there just to demonstrate more ways of appending data):\r\n```java\r\nSystem.out.println(\r\n        JsonBuilder.of()\r\n                .add(&quot;tableID&quot;, &quot;1&quot;)\r\n                .add(&quot;price&quot;, &quot;53&quot;)\r\n                .add(&quot;priceString&quot;, &quot;\\&quot;53\\&quot;&quot;)\r\n                .add(&quot;payment = \\&quot;cash\\&quot;&quot;)\r\n                .add(&quot;quantity : 3&quot;)\r\n                .add(&quot;products[0].ID = 1&quot;)\r\n                .add(&quot;products[0].quantity&quot;, &quot;1&quot;)\r\n                .add(&quot;products[1].ID = 3&quot;)\r\n                .add(&quot;products[1].quantity = 2&quot;)\r\n                .add(&quot;products[4].boolean       =   true      &quot;)\r\n                .add(&quot;products[4].booleanString=\\&quot;true\\&quot;&quot;)\r\n                .build()\r\n                .toPrettyString()\r\n);\r\n```\r\n\r\n, which results into the following output:\r\n```json\r\n{\r\n  &quot;tableID&quot;: 1,\r\n  &quot;price&quot;: 53,\r\n  &quot;priceString&quot;: &quot;53&quot;,\r\n  &quot;payment&quot;: &quot;cash&quot;,\r\n  &quot;quantity&quot;: 3,\r\n  &quot;products&quot;: [\r\n    {\r\n      &quot;ID&quot;: 1,\r\n      &quot;quantity&quot;: 1\r\n    },\r\n    {\r\n      &quot;ID&quot;: 3,\r\n      &quot;quantity&quot;: 2\r\n    },\r\n    null,\r\n    null,\r\n    {\r\n      &quot;boolean&quot;: true,\r\n      &quot;booleanString&quot;: &quot;true&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n## The `JsonBuilder` class ##\r\n```java\r\npackage com.me0x.builder;\r\n\r\nimport static java.util.Objects.requireNonNull;\r\n\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.node.ArrayNode;\r\nimport com.fasterxml.jackson.databind.node.BigIntegerNode;\r\nimport com.fasterxml.jackson.databind.node.BooleanNode;\r\nimport com.fasterxml.jackson.databind.node.DecimalNode;\r\nimport com.fasterxml.jackson.databind.node.NullNode;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport com.fasterxml.jackson.databind.node.TextNode;\r\nimport java.math.BigDecimal;\r\nimport java.math.BigInteger;\r\nimport java.util.Arrays;\r\nimport java.util.Iterator;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.extern.log4j.Log4j2;\r\nimport org.apache.commons.lang3.StringUtils;\r\n\r\n/**\r\n * This class is not a thread safe one.\r\n *\r\n * @author Teodor MAMOLEA\r\n */\r\n@Log4j2\r\n@EqualsAndHashCode\r\npublic final class JsonBuilder {\r\n\r\n    private static final Set&lt;Character&gt; KEY_VALUE_SEPARATORS = Set.of(&#39;:&#39;, &#39;=&#39;);\r\n\r\n    private static final String FIELD_NAME_ARRAY_INDEX_SEPARATOR = &quot;[&quot;;\r\n\r\n    private static final int FIELD_NAME_ARRAY_INDEX_SEPARATOR_LENGTH = FIELD_NAME_ARRAY_INDEX_SEPARATOR.length();\r\n\r\n    private static final NullNode ARRAY_AUTO_FILL_VALUE = new NullNode() {\r\n        // NOP\r\n    };\r\n\r\n    private static final String ROOT_OBJECT_NODE_NAME = &quot;root&quot;;\r\n\r\n    public static JsonBuilder of() {\r\n        return of(new ObjectMapper());\r\n    }\r\n\r\n    public static JsonBuilder of(final ObjectMapper objectMapper) {\r\n        return new JsonBuilder(objectMapper);\r\n    }\r\n\r\n    private static String[] splitKeyValueLine(final String line) {\r\n        if (StringUtils.isBlank(line)) {\r\n            throw new IllegalArgumentException(&quot;Invalid key-value line!&quot;);\r\n        }\r\n\r\n        final Integer separatorIndex = KEY_VALUE_SEPARATORS.stream()\r\n                .map(line::indexOf)\r\n                .filter(separatorCharacterIndex -&gt; -1 != separatorCharacterIndex)\r\n                .min(Integer::compareTo)\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid key-value line!&quot;));\r\n\r\n        return new String[]{\r\n                line.substring(0, separatorIndex).trim(),\r\n                line.substring(separatorIndex + 1).trim()\r\n        };\r\n    }\r\n\r\n    private static Iterator&lt;String&gt; compileJsonFieldName(final String path) {\r\n        if (StringUtils.isEmpty(path)) {\r\n            throw new IllegalArgumentException(&quot;Empty field path can not be interpreted!&quot;);\r\n        }\r\n\r\n        final String calibratedPath = ROOT_OBJECT_NODE_NAME + (path.startsWith(FIELD_NAME_ARRAY_INDEX_SEPARATOR) ? &quot;&quot; : &quot;.&quot;) + path;\r\n        final List&lt;String&gt; compiledPath = new LinkedList&lt;&gt;();\r\n\r\n        Arrays.stream(calibratedPath.split(&quot;\\\\.&quot;)).forEach(fieldName -&gt; {\r\n            if (!fieldName.matches(&quot;^[0-9A-Za-z]+(\\\\[[0-9]+])?$&quot;)) {\r\n                throw new IllegalArgumentException(&quot;Invalid field name!&quot;);\r\n            }\r\n\r\n            compiledPath.add(fieldName);\r\n        });\r\n\r\n        return compiledPath.iterator();\r\n    }\r\n\r\n    private static JsonNode compileJsonFieldValue(final String value) {\r\n        final JsonNode compiledValue;\r\n\r\n        if (StringUtils.isEmpty(value) || &quot;null&quot;.equalsIgnoreCase(value)) {\r\n            compiledValue = NullNode.getInstance();\r\n        } else if (value.matches(&quot;^\\&quot;.*\\&quot;$&quot;)) {\r\n            compiledValue = new TextNode(value.substring(1, value.length() - 1));\r\n        } else {\r\n            if (value.equalsIgnoreCase(&quot;false&quot;)) {\r\n                compiledValue = BooleanNode.getFalse();\r\n            } else if (value.equalsIgnoreCase(&quot;true&quot;)) {\r\n                compiledValue = BooleanNode.getTrue();\r\n            } else if (value.matches(&quot;^[+-]?[0-9]+$&quot;)) {\r\n                compiledValue = new BigIntegerNode(new BigInteger(value));\r\n            } else {\r\n                JsonNode temporaryCompiledValue;\r\n                try {\r\n                    temporaryCompiledValue = new DecimalNode(new BigDecimal(value));\r\n                } catch (final Exception e) {\r\n                    // TODO: Add the possibility to enabled/disable this exact behaviour at builder level!\r\n                    log.debug(&quot;Unable to interpret the [{}] value as a big decimal one! Interpreting it as a text value instead.&quot;, value, e);\r\n                    temporaryCompiledValue = new TextNode(value);\r\n                }\r\n                compiledValue = temporaryCompiledValue;\r\n            }\r\n        }\r\n\r\n        return compiledValue;\r\n    }\r\n\r\n    private static boolean isUnset(final JsonNode jsonNode) {\r\n        return null == jsonNode || ARRAY_AUTO_FILL_VALUE == jsonNode;\r\n    }\r\n\r\n    private static void fill(final ArrayNode arrayNode, final int targetedArrayIndex) {\r\n        for (int i = arrayNode.size(); i &lt;= targetedArrayIndex; i++) {\r\n            arrayNode.add(ARRAY_AUTO_FILL_VALUE);\r\n        }\r\n    }\r\n\r\n    private final ObjectMapper objectMapper;\r\n    private final ObjectNode rootObjectNode;\r\n\r\n    private JsonBuilder(final ObjectMapper objectMapper) {\r\n        this.objectMapper = requireNonNull(objectMapper);\r\n\r\n        rootObjectNode = this.objectMapper.createObjectNode();\r\n    }\r\n\r\n    private JsonBuilder(final ObjectMapper objectMapper, final ObjectNode rootObjectNode) {\r\n        this.objectMapper = requireNonNull(objectMapper);\r\n        this.rootObjectNode = requireNonNull(rootObjectNode);\r\n    }\r\n\r\n    /**\r\n     * Add a key-value line into the current under construction json builder.\r\n     *\r\n     * @param line\r\n     *         represents a key-value line which is composed of the following 3\r\n     *         parts:\r\n     *         * key\r\n     *         * separator\r\n     *         * value\r\n     *         &lt;/p&gt;\r\n     *         The &#39;separator&#39; part separates the &#39;key&#39; and &#39;value&#39; parts and\r\n     *         can be one either &#39;:&#39; or &#39;=&#39; character. Any spaces around it are\r\n     *         fully ignored which means that the values of the &#39;key&#39; and\r\n     *         &#39;value&#39; parts are trimmed.\r\n     *         &lt;/p&gt;\r\n     *         For more details about the &#39;key&#39; and &#39;value&#39; parts see the @see\r\n     *         section.\r\n     *\r\n     * @see #add(String, String)\r\n     */\r\n    public JsonBuilder add(final String line) {\r\n        final String[] keyValue = splitKeyValueLine(StringUtils.trim(line));\r\n        return add(keyValue[0], keyValue[1]);\r\n    }\r\n\r\n    /**\r\n     * Add a key-value pair into the current under construction json builder.\r\n     *\r\n     * @param key\r\n     *         see the @see section.\r\n     * @param value\r\n     *         defines a json value. String values are always wrapped by the\r\n     *         double-quotes characters and follows the format represented by\r\n     *         the following examples:\r\n     *         * &quot;word&quot;\r\n     *         * &quot;the &quot;magic&quot; word&quot;\r\n     *         * &quot;the &#39;magic&#39; word&quot;\r\n     *         * &quot;&quot;magic&quot; and &#39;magic&#39;&quot;\r\n     *         * &quot;&quot;magic&quot; and &quot;magic&quot;&quot;\r\n     *         * &quot;true&quot;\r\n     *         * &quot;-13.45&quot;\r\n     *         * &quot;&quot;\r\n     *         &lt;/p&gt;\r\n     *         The fully empty string value, the {@code null} one, as well as\r\n     *         the &#39;null&#39; string value which is not wrapped by the double-quotes\r\n     *         characters, is interpreted as {@code null}.\r\n     *         &lt;/p&gt;\r\n     *         The following case-insensitive values are interpreted as boolean\r\n     *         values:\r\n     *         * false\r\n     *         * true\r\n     *         &lt;/p&gt;\r\n     *         Numbers are represented as following:\r\n     *         * -10\r\n     *         * 0\r\n     *         * +09.0\r\n     *         * 123.450\r\n     *         * -12e+10\r\n     *         * 12.33E05\r\n     *         &lt;/p&gt;\r\n     *         Any other value, which does not fit under none of the above\r\n     *         formats, is automatically interpreted as a text one which means,\r\n     *         there is no such a value which is interpreted as an invalid one.\r\n     *\r\n     * @see #add(String, JsonNode)\r\n     */\r\n    public JsonBuilder add(final String key, final String value) {\r\n        return add(StringUtils.trim(key), compileJsonFieldValue(StringUtils.trim(value)));\r\n    }\r\n\r\n    /**\r\n     * Add a key-value pair into the current under construction json builder.\r\n     *\r\n     * @param key\r\n     *         defines a json filed by its full json path which follows the\r\n     *         format represented by the following example:\r\n     *         * field\r\n     *         * [2].field\r\n     *         * the.path[0].to.any[1].field\r\n     *         * [3].the.path[2].to.any[3].array[4].index[5]\r\n     *         &lt;/p&gt;\r\n     *         The negative values for arrays indexes are not allowed. If an\r\n     *         array has the &#39;3&#39; and &#39;6&#39; indexes populated only then, all\r\n     *         remaining indexes, like &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;4&#39; and &#39;5&#39;, are populated\r\n     *         with {@code null}.\r\n     * @param value\r\n     *         any value which has to be added under the mentioned key.\r\n     */\r\n    public JsonBuilder add(final String key, final JsonNode value) {\r\n        addField(\r\n                rootObjectNode,\r\n                compileJsonFieldName(StringUtils.trim(key)),\r\n                null == value ? NullNode.getInstance() : value.deepCopy() // TODO: Address the double copy issue!\r\n        );\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Returns a copy of current json builder. Any made change on the returned\r\n     * instance of json builder is not applied on the instance of json builder\r\n     * which was copied, and vice-versa.\r\n     * Both instances of json builders can continue their construction phase\r\n     * fully independently of each other, without any constraints.\r\n     */\r\n    public JsonBuilder copy() {\r\n        return new JsonBuilder(objectMapper.copy(), rootObjectNode.deepCopy());\r\n    }\r\n\r\n    /**\r\n     * Returns an instance of json node which represents the current state of\r\n     * json builder. Any made change on the returned instance of json node is\r\n     * not applied on the instance of builder which built it, and vice-versa.\r\n     * The instance of json builder can continue its construction phase without\r\n     * any constraints.\r\n     * An empty builder returns the {@link NullNode} value.\r\n     */\r\n    public JsonNode build() {\r\n        JsonNode builtJsonNode = rootObjectNode.deepCopy().get(ROOT_OBJECT_NODE_NAME);\r\n\r\n        if (null == builtJsonNode) {\r\n            builtJsonNode = NullNode.getInstance();\r\n        } else {\r\n            // TODO: Adjust the returned json node by replacing all existing\r\n            //  references to ARRAY_AUTO_FILL_VALUE with NullNode!\r\n        }\r\n\r\n        return builtJsonNode;\r\n    }\r\n\r\n    private void addField(final ObjectNode previousNode, final Iterator&lt;String&gt; fieldPathIterator, final JsonNode value) {\r\n        final String currentField = fieldPathIterator.next();\r\n        final int fieldNameArrayIndexSeparatorIndex = currentField.indexOf(FIELD_NAME_ARRAY_INDEX_SEPARATOR);\r\n\r\n        if (-1 != fieldNameArrayIndexSeparatorIndex) {\r\n            addArrayField(previousNode, fieldPathIterator, currentField, fieldNameArrayIndexSeparatorIndex, value);\r\n        } else {\r\n            addObjectField(previousNode, fieldPathIterator, currentField, value);\r\n        }\r\n    }\r\n\r\n    private void addArrayField(\r\n            final ObjectNode previousNode,\r\n            final Iterator&lt;String&gt; fieldPathIterator,\r\n            final String currentField,\r\n            final int fieldNameArrayIndexSeparatorIndex,\r\n            final JsonNode value) {\r\n        final String currentFieldName = currentField.substring(0, fieldNameArrayIndexSeparatorIndex);\r\n        final int currentArrayIndex;\r\n\r\n        try {\r\n            currentArrayIndex = Integer.parseInt(\r\n                    currentField.substring(\r\n                            fieldNameArrayIndexSeparatorIndex + FIELD_NAME_ARRAY_INDEX_SEPARATOR_LENGTH,\r\n                            currentField.length() - 1\r\n                    )\r\n            );\r\n        } catch (final NumberFormatException e) {\r\n            throw new IllegalArgumentException(&quot;Invalid array index!&quot;);\r\n        }\r\n\r\n        JsonNode currentNode = previousNode.get(currentFieldName);\r\n\r\n        if (isUnset(currentNode)) {\r\n            currentNode = objectMapper.createArrayNode();\r\n            previousNode.set(currentFieldName, currentNode);\r\n        } else if (!currentNode.isArray()) {\r\n            throw new IllegalArgumentException(&quot;Invalid json node type!&quot;);\r\n        }\r\n\r\n        final ArrayNode currentArrayJsonNode = (ArrayNode) currentNode;\r\n\r\n        if (fieldPathIterator.hasNext()) {\r\n            final JsonNode nextNode = currentArrayJsonNode.get(currentArrayIndex);\r\n            final ObjectNode nextObjectNode;\r\n\r\n            if (isUnset(nextNode)) {\r\n                fill(currentArrayJsonNode, currentArrayIndex);\r\n\r\n                nextObjectNode = objectMapper.createObjectNode();\r\n                currentArrayJsonNode.set(currentArrayIndex, nextObjectNode);\r\n            } else {\r\n                if (!nextNode.isObject()) {\r\n                    throw new IllegalArgumentException(&quot;Field already exists!&quot;);\r\n                }\r\n\r\n                nextObjectNode = (ObjectNode) nextNode;\r\n            }\r\n\r\n            addField(nextObjectNode, fieldPathIterator, value);\r\n        } else {\r\n            fill(currentArrayJsonNode, currentArrayIndex);\r\n            currentArrayJsonNode.set(currentArrayIndex, value);\r\n        }\r\n    }\r\n\r\n    private void addObjectField(\r\n            final ObjectNode previousNode,\r\n            final Iterator&lt;String&gt; fieldPathIterator,\r\n            final String currentFieldName,\r\n            final JsonNode value) {\r\n        JsonNode currentNode = previousNode.get(currentFieldName);\r\n\r\n        if (fieldPathIterator.hasNext()) {\r\n            if (isUnset(currentNode)) {\r\n                currentNode = objectMapper.createObjectNode();\r\n                previousNode.set(currentFieldName, currentNode);\r\n            } else if (!currentNode.isObject()) {\r\n                throw new IllegalArgumentException(&quot;Invalid json node type!&quot;);\r\n            }\r\n\r\n            addField((ObjectNode) currentNode, fieldPathIterator, value);\r\n        } else {\r\n            if (null != currentNode) {\r\n                throw new IllegalArgumentException(&quot;Field already exists!&quot;);\r\n            }\r\n\r\n            previousNode.set(currentFieldName, value);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## The `JsonBuilder` classes unit-tests ##\r\n```java\r\npackage com.me0x.builder.test.unit;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\nimport static org.junit.jupiter.api.Assertions.assertSame;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.node.NullNode;\r\nimport java.math.BigDecimal;\r\nimport java.math.BigInteger;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.params.ParameterizedTest;\r\nimport org.junit.jupiter.params.provider.MethodSource;\r\n\r\nimport com.me0x.builder.JsonBuilder;\r\nimport com.me0x.util.test.common.AssertUtils;\r\n\r\n/**\r\n * @author Teodor MAMOLEA\r\n */\r\nclass JsonBuilderTestUnit {\r\n\r\n    public static String[] invalidArrayFieldPaths() {\r\n        return new String[]{\r\n                &quot;[&quot;,\r\n                &quot;]&quot;,\r\n                &quot;[[&quot;,\r\n                &quot;]]&quot;,\r\n                &quot;[[]&quot;,\r\n                &quot;[]]&quot;,\r\n                &quot;[a]&quot;,\r\n                &quot;[-2]&quot;,\r\n                &quot;[[2]]&quot;,\r\n                &quot;[+2]&quot;,\r\n                &quot;[ 5]&quot;,\r\n                &quot;[5 ]&quot;,\r\n                &quot;[.]&quot;,\r\n                &quot;[2][3]&quot;,\r\n                &quot;field[&quot;,\r\n                &quot;field]&quot;,\r\n                &quot;field[[&quot;,\r\n                &quot;field]]&quot;,\r\n                &quot;field[[]&quot;,\r\n                &quot;field[]]&quot;,\r\n                &quot;field[a]&quot;,\r\n                &quot;field[-2]&quot;,\r\n                &quot;field[[2]]&quot;,\r\n                &quot;field[+2]&quot;,\r\n                &quot;field[ 5]&quot;,\r\n                &quot;field[5 ]&quot;,\r\n                &quot;field[.]&quot;,\r\n                &quot;field[2][3]&quot;,\r\n                &quot;[field&quot;,\r\n                &quot;]field&quot;,\r\n                &quot;[[field&quot;,\r\n                &quot;]]field&quot;,\r\n                &quot;[[]field&quot;,\r\n                &quot;[]]field&quot;,\r\n                &quot;[a]field&quot;,\r\n                &quot;[-2]field&quot;,\r\n                &quot;[2]field&quot;,\r\n                &quot;[+2]field&quot;,\r\n                &quot;[ 5]field&quot;,\r\n                &quot;[5 ]field&quot;,\r\n                &quot;[.]field&quot;,\r\n                &quot;[2][3]field&quot;,\r\n                &quot;[2]field&quot;\r\n        };\r\n    }\r\n\r\n    public static String[] validArrayFieldPaths() {\r\n        return new String[]{\r\n                &quot;[0]&quot;,\r\n                &quot;[3].field&quot;,\r\n                &quot;[3].field[4]&quot;,\r\n                &quot;[3].field[4].field&quot;,\r\n                &quot;[3].field[4].field[5]&quot;,\r\n                &quot;field[4]&quot;,\r\n                &quot;field[4].field&quot;,\r\n                &quot;field[4].field[5]&quot;\r\n        };\r\n    }\r\n\r\n    public static String[] marginalValues() {\r\n        return new String[]{\r\n                &quot;\\&quot;&quot;,\r\n                &quot;  \\&quot;  &quot;,\r\n                &quot;\\&quot;hello&quot;,\r\n                &quot;hello\\&quot;&quot;,\r\n                &quot;truee&quot;,\r\n                &quot;1 0&quot;,\r\n                &quot;10 e+05&quot;\r\n        };\r\n    }\r\n\r\n    public static String[] nullValues() {\r\n        return new String[]{\r\n                null,\r\n                &quot;&quot;,\r\n                &quot;    &quot;,\r\n                &quot;null&quot;,\r\n                &quot;NULL&quot;,\r\n                &quot;NulL&quot;,\r\n                &quot;   null   &quot;\r\n        };\r\n    }\r\n\r\n    public static String[] textValues() {\r\n        return new String[]{\r\n                &quot;\\&quot;\\&quot;&quot;,\r\n                &quot;\\&quot;    \\&quot;&quot;,\r\n                &quot;\\&quot;field with a \\&quot;magic\\&quot; value\\&quot;&quot;,\r\n                &quot;\\&quot;true\\&quot;&quot;,\r\n                &quot;\\&quot;-10\\&quot;&quot;,\r\n                &quot;\\&quot;20\\&quot;&quot;,\r\n                &quot;    \\&quot;20\\&quot;    &quot;,\r\n                &quot;\\&quot;10e+05\\&quot;&quot;\r\n        };\r\n    }\r\n\r\n    public static String[] booleanValues() {\r\n        return new String[]{\r\n                &quot;true&quot;,\r\n                &quot;false&quot;,\r\n                &quot;TRUE&quot;,\r\n                &quot;FALSE&quot;,\r\n                &quot;TrUE&quot;,\r\n                &quot;FalSE&quot;,\r\n                &quot;   true   &quot;,\r\n                &quot;   false   &quot;\r\n        };\r\n    }\r\n\r\n    public static String[] integerValues() {\r\n        return new String[]{\r\n                &quot;-0&quot;,\r\n                &quot;0&quot;,\r\n                &quot;+0&quot;,\r\n                &quot;000&quot;,\r\n                &quot;-10&quot;,\r\n                &quot;-0010&quot;,\r\n                &quot;10&quot;,\r\n                &quot;+10&quot;,\r\n                &quot;+0010&quot;,\r\n                &quot;  -20  &quot;,\r\n                &quot;  20  &quot;,\r\n                &quot;  +20  &quot;,\r\n                &quot;-100&quot;,\r\n                &quot;  -100  &quot;\r\n        };\r\n    }\r\n\r\n    public static String[] decimalValues() {\r\n        return new String[]{\r\n                &quot;-0.0&quot;,\r\n                &quot;0.0&quot;,\r\n                &quot;+0.0&quot;,\r\n                &quot;000.0&quot;,\r\n                &quot;-10.1&quot;,\r\n                &quot;-0010.1&quot;,\r\n                &quot;10.1&quot;,\r\n                &quot;+10.1&quot;,\r\n                &quot;+0010.1&quot;,\r\n                &quot;  -20.1  &quot;,\r\n                &quot;  20.1  &quot;,\r\n                &quot;  +20.01  &quot;,\r\n                &quot;-100.100&quot;,\r\n                &quot;  -100.1  &quot;,\r\n                &quot; +15e+05 &quot;,\r\n                &quot; -15E-05 &quot;,\r\n                &quot; 15E05 &quot;\r\n        };\r\n    }\r\n\r\n    private JsonBuilder jsonBuilder;\r\n\r\n    @BeforeEach\r\n    void beforeEach() {\r\n        jsonBuilder = JsonBuilder.of();\r\n    }\r\n\r\n    @Test\r\n    void testBuildEmptyBuilder() {\r\n        final JsonNode builtJsonNode = jsonBuilder.build();\r\n\r\n        assertNotNull(builtJsonNode);\r\n        assertSame(NullNode.getInstance(), builtJsonNode);\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;invalidArrayFieldPaths&quot;)\r\n    void testAddLineWithInvalidArrayFieldPath(final String fieldPath) {\r\n        AssertUtils.assertThrows(\r\n                IllegalArgumentException.class,\r\n                () -&gt; jsonBuilder.add(fieldPath + &quot; = \\&quot;\\&quot;&quot;),\r\n                &quot;Invalid field name!&quot;\r\n        );\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;validArrayFieldPaths&quot;)\r\n    void testAddLineWithValidArrayFieldPath(final String fieldPath) {\r\n        final JsonNode builtJsonNode = jsonBuilder.add(fieldPath + &quot; = \\&quot;\\&quot;&quot;).build();\r\n\r\n        assertNotNull(builtJsonNode);\r\n\r\n        // TODO: Add additional asserts against expected field!\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;marginalValues&quot;)\r\n    void testAddLineWithMarginalValue(final String value) {\r\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\r\n\r\n        assertNotNull(builtJsonNode);\r\n\r\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\r\n\r\n        assertNotNull(fieldJsonNode);\r\n        assertTrue(fieldJsonNode.isTextual());\r\n        assertEquals(value.trim(), fieldJsonNode.textValue());\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;nullValues&quot;)\r\n    void testAddLineWithNullValue(final String value) {\r\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\r\n\r\n        assertNotNull(builtJsonNode);\r\n\r\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\r\n\r\n        assertNotNull(fieldJsonNode);\r\n        assertTrue(fieldJsonNode.isNull());\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;textValues&quot;)\r\n    void testAddLineWithTextValue(final String value) {\r\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\r\n\r\n        assertNotNull(builtJsonNode);\r\n\r\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\r\n\r\n        assertNotNull(fieldJsonNode);\r\n        assertTrue(fieldJsonNode.isTextual());\r\n        assertEquals(value.trim(), String.format(&quot;\\&quot;%s\\&quot;&quot;, fieldJsonNode.textValue()));\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;booleanValues&quot;)\r\n    void testAddLineWithBooleanValue(final String value) {\r\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\r\n\r\n        assertNotNull(builtJsonNode);\r\n\r\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\r\n\r\n        assertNotNull(fieldJsonNode);\r\n        assertTrue(fieldJsonNode.isBoolean());\r\n        assertEquals(value.trim().toLowerCase(), &quot;&quot; + fieldJsonNode.booleanValue());\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;integerValues&quot;)\r\n    void testAddLineWithIntegerValue(final String value) {\r\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\r\n\r\n        assertNotNull(builtJsonNode);\r\n\r\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\r\n\r\n        assertNotNull(fieldJsonNode);\r\n        assertTrue(fieldJsonNode.isBigInteger());\r\n        assertEquals(new BigInteger(value.trim()), fieldJsonNode.bigIntegerValue());\r\n    }\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;decimalValues&quot;)\r\n    void testAddLineWithDecimalValue(final String value) {\r\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\r\n\r\n        assertNotNull(builtJsonNode);\r\n\r\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\r\n\r\n        assertNotNull(fieldJsonNode);\r\n        assertTrue(fieldJsonNode.isBigDecimal());\r\n        assertEquals(new BigDecimal(value.trim()), fieldJsonNode.decimalValue());\r\n    }\r\n\r\n}\r\n```","title":"Create JSON object dynamically","body":"<p>I've implemented a builder which is able to build/construct JSON objects dynamically, by importing different forms of <code>key</code> - <code>value</code> pairs and applying them on top of each other (see the below attached source as well as some unit tests for it). It can be easily extended if you need to.</p>\n<p>The attached code is at its initial version which supports up to 3 forms of <code>importing key-value pairs</code>. The actual library is not published yet but it will be soon.</p>\n<p>Related to your case, for example, you can build your JSON object like so (I've added more fields there just to demonstrate more ways of appending data):</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n        JsonBuilder.of()\n                .add(&quot;tableID&quot;, &quot;1&quot;)\n                .add(&quot;price&quot;, &quot;53&quot;)\n                .add(&quot;priceString&quot;, &quot;\\&quot;53\\&quot;&quot;)\n                .add(&quot;payment = \\&quot;cash\\&quot;&quot;)\n                .add(&quot;quantity : 3&quot;)\n                .add(&quot;products[0].ID = 1&quot;)\n                .add(&quot;products[0].quantity&quot;, &quot;1&quot;)\n                .add(&quot;products[1].ID = 3&quot;)\n                .add(&quot;products[1].quantity = 2&quot;)\n                .add(&quot;products[4].boolean       =   true      &quot;)\n                .add(&quot;products[4].booleanString=\\&quot;true\\&quot;&quot;)\n                .build()\n                .toPrettyString()\n);\n</code></pre>\n<p>, which results into the following output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;tableID&quot;: 1,\n  &quot;price&quot;: 53,\n  &quot;priceString&quot;: &quot;53&quot;,\n  &quot;payment&quot;: &quot;cash&quot;,\n  &quot;quantity&quot;: 3,\n  &quot;products&quot;: [\n    {\n      &quot;ID&quot;: 1,\n      &quot;quantity&quot;: 1\n    },\n    {\n      &quot;ID&quot;: 3,\n      &quot;quantity&quot;: 2\n    },\n    null,\n    null,\n    {\n      &quot;boolean&quot;: true,\n      &quot;booleanString&quot;: &quot;true&quot;\n    }\n  ]\n}\n</code></pre>\n<h2>The <code>JsonBuilder</code> class</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.me0x.builder;\n\nimport static java.util.Objects.requireNonNull;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ArrayNode;\nimport com.fasterxml.jackson.databind.node.BigIntegerNode;\nimport com.fasterxml.jackson.databind.node.BooleanNode;\nimport com.fasterxml.jackson.databind.node.DecimalNode;\nimport com.fasterxml.jackson.databind.node.NullNode;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport com.fasterxml.jackson.databind.node.TextNode;\nimport java.math.BigDecimal;\nimport java.math.BigInteger;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Set;\nimport lombok.EqualsAndHashCode;\nimport lombok.extern.log4j.Log4j2;\nimport org.apache.commons.lang3.StringUtils;\n\n/**\n * This class is not a thread safe one.\n *\n * @author Teodor MAMOLEA\n */\n@Log4j2\n@EqualsAndHashCode\npublic final class JsonBuilder {\n\n    private static final Set&lt;Character&gt; KEY_VALUE_SEPARATORS = Set.of(':', '=');\n\n    private static final String FIELD_NAME_ARRAY_INDEX_SEPARATOR = &quot;[&quot;;\n\n    private static final int FIELD_NAME_ARRAY_INDEX_SEPARATOR_LENGTH = FIELD_NAME_ARRAY_INDEX_SEPARATOR.length();\n\n    private static final NullNode ARRAY_AUTO_FILL_VALUE = new NullNode() {\n        // NOP\n    };\n\n    private static final String ROOT_OBJECT_NODE_NAME = &quot;root&quot;;\n\n    public static JsonBuilder of() {\n        return of(new ObjectMapper());\n    }\n\n    public static JsonBuilder of(final ObjectMapper objectMapper) {\n        return new JsonBuilder(objectMapper);\n    }\n\n    private static String[] splitKeyValueLine(final String line) {\n        if (StringUtils.isBlank(line)) {\n            throw new IllegalArgumentException(&quot;Invalid key-value line!&quot;);\n        }\n\n        final Integer separatorIndex = KEY_VALUE_SEPARATORS.stream()\n                .map(line::indexOf)\n                .filter(separatorCharacterIndex -&gt; -1 != separatorCharacterIndex)\n                .min(Integer::compareTo)\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid key-value line!&quot;));\n\n        return new String[]{\n                line.substring(0, separatorIndex).trim(),\n                line.substring(separatorIndex + 1).trim()\n        };\n    }\n\n    private static Iterator&lt;String&gt; compileJsonFieldName(final String path) {\n        if (StringUtils.isEmpty(path)) {\n            throw new IllegalArgumentException(&quot;Empty field path can not be interpreted!&quot;);\n        }\n\n        final String calibratedPath = ROOT_OBJECT_NODE_NAME + (path.startsWith(FIELD_NAME_ARRAY_INDEX_SEPARATOR) ? &quot;&quot; : &quot;.&quot;) + path;\n        final List&lt;String&gt; compiledPath = new LinkedList&lt;&gt;();\n\n        Arrays.stream(calibratedPath.split(&quot;\\\\.&quot;)).forEach(fieldName -&gt; {\n            if (!fieldName.matches(&quot;^[0-9A-Za-z]+(\\\\[[0-9]+])?$&quot;)) {\n                throw new IllegalArgumentException(&quot;Invalid field name!&quot;);\n            }\n\n            compiledPath.add(fieldName);\n        });\n\n        return compiledPath.iterator();\n    }\n\n    private static JsonNode compileJsonFieldValue(final String value) {\n        final JsonNode compiledValue;\n\n        if (StringUtils.isEmpty(value) || &quot;null&quot;.equalsIgnoreCase(value)) {\n            compiledValue = NullNode.getInstance();\n        } else if (value.matches(&quot;^\\&quot;.*\\&quot;$&quot;)) {\n            compiledValue = new TextNode(value.substring(1, value.length() - 1));\n        } else {\n            if (value.equalsIgnoreCase(&quot;false&quot;)) {\n                compiledValue = BooleanNode.getFalse();\n            } else if (value.equalsIgnoreCase(&quot;true&quot;)) {\n                compiledValue = BooleanNode.getTrue();\n            } else if (value.matches(&quot;^[+-]?[0-9]+$&quot;)) {\n                compiledValue = new BigIntegerNode(new BigInteger(value));\n            } else {\n                JsonNode temporaryCompiledValue;\n                try {\n                    temporaryCompiledValue = new DecimalNode(new BigDecimal(value));\n                } catch (final Exception e) {\n                    // TODO: Add the possibility to enabled/disable this exact behaviour at builder level!\n                    log.debug(&quot;Unable to interpret the [{}] value as a big decimal one! Interpreting it as a text value instead.&quot;, value, e);\n                    temporaryCompiledValue = new TextNode(value);\n                }\n                compiledValue = temporaryCompiledValue;\n            }\n        }\n\n        return compiledValue;\n    }\n\n    private static boolean isUnset(final JsonNode jsonNode) {\n        return null == jsonNode || ARRAY_AUTO_FILL_VALUE == jsonNode;\n    }\n\n    private static void fill(final ArrayNode arrayNode, final int targetedArrayIndex) {\n        for (int i = arrayNode.size(); i &lt;= targetedArrayIndex; i++) {\n            arrayNode.add(ARRAY_AUTO_FILL_VALUE);\n        }\n    }\n\n    private final ObjectMapper objectMapper;\n    private final ObjectNode rootObjectNode;\n\n    private JsonBuilder(final ObjectMapper objectMapper) {\n        this.objectMapper = requireNonNull(objectMapper);\n\n        rootObjectNode = this.objectMapper.createObjectNode();\n    }\n\n    private JsonBuilder(final ObjectMapper objectMapper, final ObjectNode rootObjectNode) {\n        this.objectMapper = requireNonNull(objectMapper);\n        this.rootObjectNode = requireNonNull(rootObjectNode);\n    }\n\n    /**\n     * Add a key-value line into the current under construction json builder.\n     *\n     * @param line\n     *         represents a key-value line which is composed of the following 3\n     *         parts:\n     *         * key\n     *         * separator\n     *         * value\n     *         &lt;/p&gt;\n     *         The 'separator' part separates the 'key' and 'value' parts and\n     *         can be one either ':' or '=' character. Any spaces around it are\n     *         fully ignored which means that the values of the 'key' and\n     *         'value' parts are trimmed.\n     *         &lt;/p&gt;\n     *         For more details about the 'key' and 'value' parts see the @see\n     *         section.\n     *\n     * @see #add(String, String)\n     */\n    public JsonBuilder add(final String line) {\n        final String[] keyValue = splitKeyValueLine(StringUtils.trim(line));\n        return add(keyValue[0], keyValue[1]);\n    }\n\n    /**\n     * Add a key-value pair into the current under construction json builder.\n     *\n     * @param key\n     *         see the @see section.\n     * @param value\n     *         defines a json value. String values are always wrapped by the\n     *         double-quotes characters and follows the format represented by\n     *         the following examples:\n     *         * &quot;word&quot;\n     *         * &quot;the &quot;magic&quot; word&quot;\n     *         * &quot;the 'magic' word&quot;\n     *         * &quot;&quot;magic&quot; and 'magic'&quot;\n     *         * &quot;&quot;magic&quot; and &quot;magic&quot;&quot;\n     *         * &quot;true&quot;\n     *         * &quot;-13.45&quot;\n     *         * &quot;&quot;\n     *         &lt;/p&gt;\n     *         The fully empty string value, the {@code null} one, as well as\n     *         the 'null' string value which is not wrapped by the double-quotes\n     *         characters, is interpreted as {@code null}.\n     *         &lt;/p&gt;\n     *         The following case-insensitive values are interpreted as boolean\n     *         values:\n     *         * false\n     *         * true\n     *         &lt;/p&gt;\n     *         Numbers are represented as following:\n     *         * -10\n     *         * 0\n     *         * +09.0\n     *         * 123.450\n     *         * -12e+10\n     *         * 12.33E05\n     *         &lt;/p&gt;\n     *         Any other value, which does not fit under none of the above\n     *         formats, is automatically interpreted as a text one which means,\n     *         there is no such a value which is interpreted as an invalid one.\n     *\n     * @see #add(String, JsonNode)\n     */\n    public JsonBuilder add(final String key, final String value) {\n        return add(StringUtils.trim(key), compileJsonFieldValue(StringUtils.trim(value)));\n    }\n\n    /**\n     * Add a key-value pair into the current under construction json builder.\n     *\n     * @param key\n     *         defines a json filed by its full json path which follows the\n     *         format represented by the following example:\n     *         * field\n     *         * [2].field\n     *         * the.path[0].to.any[1].field\n     *         * [3].the.path[2].to.any[3].array[4].index[5]\n     *         &lt;/p&gt;\n     *         The negative values for arrays indexes are not allowed. If an\n     *         array has the '3' and '6' indexes populated only then, all\n     *         remaining indexes, like '0', '1', '2', '4' and '5', are populated\n     *         with {@code null}.\n     * @param value\n     *         any value which has to be added under the mentioned key.\n     */\n    public JsonBuilder add(final String key, final JsonNode value) {\n        addField(\n                rootObjectNode,\n                compileJsonFieldName(StringUtils.trim(key)),\n                null == value ? NullNode.getInstance() : value.deepCopy() // TODO: Address the double copy issue!\n        );\n\n        return this;\n    }\n\n    /**\n     * Returns a copy of current json builder. Any made change on the returned\n     * instance of json builder is not applied on the instance of json builder\n     * which was copied, and vice-versa.\n     * Both instances of json builders can continue their construction phase\n     * fully independently of each other, without any constraints.\n     */\n    public JsonBuilder copy() {\n        return new JsonBuilder(objectMapper.copy(), rootObjectNode.deepCopy());\n    }\n\n    /**\n     * Returns an instance of json node which represents the current state of\n     * json builder. Any made change on the returned instance of json node is\n     * not applied on the instance of builder which built it, and vice-versa.\n     * The instance of json builder can continue its construction phase without\n     * any constraints.\n     * An empty builder returns the {@link NullNode} value.\n     */\n    public JsonNode build() {\n        JsonNode builtJsonNode = rootObjectNode.deepCopy().get(ROOT_OBJECT_NODE_NAME);\n\n        if (null == builtJsonNode) {\n            builtJsonNode = NullNode.getInstance();\n        } else {\n            // TODO: Adjust the returned json node by replacing all existing\n            //  references to ARRAY_AUTO_FILL_VALUE with NullNode!\n        }\n\n        return builtJsonNode;\n    }\n\n    private void addField(final ObjectNode previousNode, final Iterator&lt;String&gt; fieldPathIterator, final JsonNode value) {\n        final String currentField = fieldPathIterator.next();\n        final int fieldNameArrayIndexSeparatorIndex = currentField.indexOf(FIELD_NAME_ARRAY_INDEX_SEPARATOR);\n\n        if (-1 != fieldNameArrayIndexSeparatorIndex) {\n            addArrayField(previousNode, fieldPathIterator, currentField, fieldNameArrayIndexSeparatorIndex, value);\n        } else {\n            addObjectField(previousNode, fieldPathIterator, currentField, value);\n        }\n    }\n\n    private void addArrayField(\n            final ObjectNode previousNode,\n            final Iterator&lt;String&gt; fieldPathIterator,\n            final String currentField,\n            final int fieldNameArrayIndexSeparatorIndex,\n            final JsonNode value) {\n        final String currentFieldName = currentField.substring(0, fieldNameArrayIndexSeparatorIndex);\n        final int currentArrayIndex;\n\n        try {\n            currentArrayIndex = Integer.parseInt(\n                    currentField.substring(\n                            fieldNameArrayIndexSeparatorIndex + FIELD_NAME_ARRAY_INDEX_SEPARATOR_LENGTH,\n                            currentField.length() - 1\n                    )\n            );\n        } catch (final NumberFormatException e) {\n            throw new IllegalArgumentException(&quot;Invalid array index!&quot;);\n        }\n\n        JsonNode currentNode = previousNode.get(currentFieldName);\n\n        if (isUnset(currentNode)) {\n            currentNode = objectMapper.createArrayNode();\n            previousNode.set(currentFieldName, currentNode);\n        } else if (!currentNode.isArray()) {\n            throw new IllegalArgumentException(&quot;Invalid json node type!&quot;);\n        }\n\n        final ArrayNode currentArrayJsonNode = (ArrayNode) currentNode;\n\n        if (fieldPathIterator.hasNext()) {\n            final JsonNode nextNode = currentArrayJsonNode.get(currentArrayIndex);\n            final ObjectNode nextObjectNode;\n\n            if (isUnset(nextNode)) {\n                fill(currentArrayJsonNode, currentArrayIndex);\n\n                nextObjectNode = objectMapper.createObjectNode();\n                currentArrayJsonNode.set(currentArrayIndex, nextObjectNode);\n            } else {\n                if (!nextNode.isObject()) {\n                    throw new IllegalArgumentException(&quot;Field already exists!&quot;);\n                }\n\n                nextObjectNode = (ObjectNode) nextNode;\n            }\n\n            addField(nextObjectNode, fieldPathIterator, value);\n        } else {\n            fill(currentArrayJsonNode, currentArrayIndex);\n            currentArrayJsonNode.set(currentArrayIndex, value);\n        }\n    }\n\n    private void addObjectField(\n            final ObjectNode previousNode,\n            final Iterator&lt;String&gt; fieldPathIterator,\n            final String currentFieldName,\n            final JsonNode value) {\n        JsonNode currentNode = previousNode.get(currentFieldName);\n\n        if (fieldPathIterator.hasNext()) {\n            if (isUnset(currentNode)) {\n                currentNode = objectMapper.createObjectNode();\n                previousNode.set(currentFieldName, currentNode);\n            } else if (!currentNode.isObject()) {\n                throw new IllegalArgumentException(&quot;Invalid json node type!&quot;);\n            }\n\n            addField((ObjectNode) currentNode, fieldPathIterator, value);\n        } else {\n            if (null != currentNode) {\n                throw new IllegalArgumentException(&quot;Field already exists!&quot;);\n            }\n\n            previousNode.set(currentFieldName, value);\n        }\n    }\n}\n</code></pre>\n<h2>The <code>JsonBuilder</code> classes unit-tests</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.me0x.builder.test.unit;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport static org.junit.jupiter.api.Assertions.assertSame;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.node.NullNode;\nimport java.math.BigDecimal;\nimport java.math.BigInteger;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.MethodSource;\n\nimport com.me0x.builder.JsonBuilder;\nimport com.me0x.util.test.common.AssertUtils;\n\n/**\n * @author Teodor MAMOLEA\n */\nclass JsonBuilderTestUnit {\n\n    public static String[] invalidArrayFieldPaths() {\n        return new String[]{\n                &quot;[&quot;,\n                &quot;]&quot;,\n                &quot;[[&quot;,\n                &quot;]]&quot;,\n                &quot;[[]&quot;,\n                &quot;[]]&quot;,\n                &quot;[a]&quot;,\n                &quot;[-2]&quot;,\n                &quot;[[2]]&quot;,\n                &quot;[+2]&quot;,\n                &quot;[ 5]&quot;,\n                &quot;[5 ]&quot;,\n                &quot;[.]&quot;,\n                &quot;[2][3]&quot;,\n                &quot;field[&quot;,\n                &quot;field]&quot;,\n                &quot;field[[&quot;,\n                &quot;field]]&quot;,\n                &quot;field[[]&quot;,\n                &quot;field[]]&quot;,\n                &quot;field[a]&quot;,\n                &quot;field[-2]&quot;,\n                &quot;field[[2]]&quot;,\n                &quot;field[+2]&quot;,\n                &quot;field[ 5]&quot;,\n                &quot;field[5 ]&quot;,\n                &quot;field[.]&quot;,\n                &quot;field[2][3]&quot;,\n                &quot;[field&quot;,\n                &quot;]field&quot;,\n                &quot;[[field&quot;,\n                &quot;]]field&quot;,\n                &quot;[[]field&quot;,\n                &quot;[]]field&quot;,\n                &quot;[a]field&quot;,\n                &quot;[-2]field&quot;,\n                &quot;[2]field&quot;,\n                &quot;[+2]field&quot;,\n                &quot;[ 5]field&quot;,\n                &quot;[5 ]field&quot;,\n                &quot;[.]field&quot;,\n                &quot;[2][3]field&quot;,\n                &quot;[2]field&quot;\n        };\n    }\n\n    public static String[] validArrayFieldPaths() {\n        return new String[]{\n                &quot;[0]&quot;,\n                &quot;[3].field&quot;,\n                &quot;[3].field[4]&quot;,\n                &quot;[3].field[4].field&quot;,\n                &quot;[3].field[4].field[5]&quot;,\n                &quot;field[4]&quot;,\n                &quot;field[4].field&quot;,\n                &quot;field[4].field[5]&quot;\n        };\n    }\n\n    public static String[] marginalValues() {\n        return new String[]{\n                &quot;\\&quot;&quot;,\n                &quot;  \\&quot;  &quot;,\n                &quot;\\&quot;hello&quot;,\n                &quot;hello\\&quot;&quot;,\n                &quot;truee&quot;,\n                &quot;1 0&quot;,\n                &quot;10 e+05&quot;\n        };\n    }\n\n    public static String[] nullValues() {\n        return new String[]{\n                null,\n                &quot;&quot;,\n                &quot;    &quot;,\n                &quot;null&quot;,\n                &quot;NULL&quot;,\n                &quot;NulL&quot;,\n                &quot;   null   &quot;\n        };\n    }\n\n    public static String[] textValues() {\n        return new String[]{\n                &quot;\\&quot;\\&quot;&quot;,\n                &quot;\\&quot;    \\&quot;&quot;,\n                &quot;\\&quot;field with a \\&quot;magic\\&quot; value\\&quot;&quot;,\n                &quot;\\&quot;true\\&quot;&quot;,\n                &quot;\\&quot;-10\\&quot;&quot;,\n                &quot;\\&quot;20\\&quot;&quot;,\n                &quot;    \\&quot;20\\&quot;    &quot;,\n                &quot;\\&quot;10e+05\\&quot;&quot;\n        };\n    }\n\n    public static String[] booleanValues() {\n        return new String[]{\n                &quot;true&quot;,\n                &quot;false&quot;,\n                &quot;TRUE&quot;,\n                &quot;FALSE&quot;,\n                &quot;TrUE&quot;,\n                &quot;FalSE&quot;,\n                &quot;   true   &quot;,\n                &quot;   false   &quot;\n        };\n    }\n\n    public static String[] integerValues() {\n        return new String[]{\n                &quot;-0&quot;,\n                &quot;0&quot;,\n                &quot;+0&quot;,\n                &quot;000&quot;,\n                &quot;-10&quot;,\n                &quot;-0010&quot;,\n                &quot;10&quot;,\n                &quot;+10&quot;,\n                &quot;+0010&quot;,\n                &quot;  -20  &quot;,\n                &quot;  20  &quot;,\n                &quot;  +20  &quot;,\n                &quot;-100&quot;,\n                &quot;  -100  &quot;\n        };\n    }\n\n    public static String[] decimalValues() {\n        return new String[]{\n                &quot;-0.0&quot;,\n                &quot;0.0&quot;,\n                &quot;+0.0&quot;,\n                &quot;000.0&quot;,\n                &quot;-10.1&quot;,\n                &quot;-0010.1&quot;,\n                &quot;10.1&quot;,\n                &quot;+10.1&quot;,\n                &quot;+0010.1&quot;,\n                &quot;  -20.1  &quot;,\n                &quot;  20.1  &quot;,\n                &quot;  +20.01  &quot;,\n                &quot;-100.100&quot;,\n                &quot;  -100.1  &quot;,\n                &quot; +15e+05 &quot;,\n                &quot; -15E-05 &quot;,\n                &quot; 15E05 &quot;\n        };\n    }\n\n    private JsonBuilder jsonBuilder;\n\n    @BeforeEach\n    void beforeEach() {\n        jsonBuilder = JsonBuilder.of();\n    }\n\n    @Test\n    void testBuildEmptyBuilder() {\n        final JsonNode builtJsonNode = jsonBuilder.build();\n\n        assertNotNull(builtJsonNode);\n        assertSame(NullNode.getInstance(), builtJsonNode);\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;invalidArrayFieldPaths&quot;)\n    void testAddLineWithInvalidArrayFieldPath(final String fieldPath) {\n        AssertUtils.assertThrows(\n                IllegalArgumentException.class,\n                () -&gt; jsonBuilder.add(fieldPath + &quot; = \\&quot;\\&quot;&quot;),\n                &quot;Invalid field name!&quot;\n        );\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;validArrayFieldPaths&quot;)\n    void testAddLineWithValidArrayFieldPath(final String fieldPath) {\n        final JsonNode builtJsonNode = jsonBuilder.add(fieldPath + &quot; = \\&quot;\\&quot;&quot;).build();\n\n        assertNotNull(builtJsonNode);\n\n        // TODO: Add additional asserts against expected field!\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;marginalValues&quot;)\n    void testAddLineWithMarginalValue(final String value) {\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\n\n        assertNotNull(builtJsonNode);\n\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\n\n        assertNotNull(fieldJsonNode);\n        assertTrue(fieldJsonNode.isTextual());\n        assertEquals(value.trim(), fieldJsonNode.textValue());\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;nullValues&quot;)\n    void testAddLineWithNullValue(final String value) {\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\n\n        assertNotNull(builtJsonNode);\n\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\n\n        assertNotNull(fieldJsonNode);\n        assertTrue(fieldJsonNode.isNull());\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;textValues&quot;)\n    void testAddLineWithTextValue(final String value) {\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\n\n        assertNotNull(builtJsonNode);\n\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\n\n        assertNotNull(fieldJsonNode);\n        assertTrue(fieldJsonNode.isTextual());\n        assertEquals(value.trim(), String.format(&quot;\\&quot;%s\\&quot;&quot;, fieldJsonNode.textValue()));\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;booleanValues&quot;)\n    void testAddLineWithBooleanValue(final String value) {\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\n\n        assertNotNull(builtJsonNode);\n\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\n\n        assertNotNull(fieldJsonNode);\n        assertTrue(fieldJsonNode.isBoolean());\n        assertEquals(value.trim().toLowerCase(), &quot;&quot; + fieldJsonNode.booleanValue());\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;integerValues&quot;)\n    void testAddLineWithIntegerValue(final String value) {\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\n\n        assertNotNull(builtJsonNode);\n\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\n\n        assertNotNull(fieldJsonNode);\n        assertTrue(fieldJsonNode.isBigInteger());\n        assertEquals(new BigInteger(value.trim()), fieldJsonNode.bigIntegerValue());\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;decimalValues&quot;)\n    void testAddLineWithDecimalValue(final String value) {\n        final JsonNode builtJsonNode = jsonBuilder.add(&quot;field = &quot; + value).build();\n\n        assertNotNull(builtJsonNode);\n\n        final JsonNode fieldJsonNode = builtJsonNode.get(&quot;field&quot;);\n\n        assertNotNull(fieldJsonNode);\n        assertTrue(fieldJsonNode.isBigDecimal());\n        assertEquals(new BigDecimal(value.trim()), fieldJsonNode.decimalValue());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9235231,"reputation":121,"user_id":6860071,"accept_rate":100,"display_name":"Giannis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30543,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45043539,"answer_count":6,"score":3,"last_activity_date":1666565100,"creation_date":1499802465,"question_id":45043352,"body_markdown":"I am trying to create JSON object with the following format.\r\n \r\n\r\n    {\r\n    &quot;tableID&quot;: 1,\r\n    &quot;price&quot;: 53,\r\n    &quot;payment&quot;: &quot;cash&quot;,\r\n    &quot;quantity&quot;: 3,\r\n    &quot;products&quot;: [\r\n        {\r\n            &quot;ID&quot;: 1,\r\n            &quot;quantity&quot;: 1\r\n        },\r\n        {\r\n            &quot;ID&quot;: 3,\r\n            &quot;quantity&quot;: 2\r\n        }\r\n    ]\r\n}\r\n\r\n 1. I know how to do this statically using JSONObject and JSONArray. But I need a more dynamic way cause the products array must be\r\n    implemented so it has many objects not just 2.\r\n\r\n \r\n 2. IS there a way to delete the contents of a JSONObject? eg I have the\r\n    following JSONobject\r\n\r\n    {\r\n        &quot;ID&quot;: 3,\r\n        &quot;quantity&quot;: 2\r\n    }\r\n\r\nCould I somehow erase its values so i can reuse the object in an iteration?","title":"Create JSON object dynamically","body":"<p>I am trying to create JSON object with the following format.</p>\n\n<pre><code>{\n\"tableID\": 1,\n\"price\": 53,\n\"payment\": \"cash\",\n\"quantity\": 3,\n\"products\": [\n    {\n        \"ID\": 1,\n        \"quantity\": 1\n    },\n    {\n        \"ID\": 3,\n        \"quantity\": 2\n    }\n]\n</code></pre>\n\n<p>}</p>\n\n<ol>\n<li><p>I know how to do this statically using JSONObject and JSONArray. But I need a more dynamic way cause the products array must be\nimplemented so it has many objects not just 2.</p></li>\n<li><p>IS there a way to delete the contents of a JSONObject? eg I have the\nfollowing JSONobject</p>\n\n<p>{\n    \"ID\": 3,\n    \"quantity\": 2\n}</p></li>\n</ol>\n\n<p>Could I somehow erase its values so i can reuse the object in an iteration?</p>\n"},{"tags":["java","apache-spark","hadoop"],"comments":[{"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"score":0,"creation_date":1603872588,"post_id":64560920,"comment_id":114170444,"body_markdown":"Check if this ```thriftURL``` url is working or not.","body":"Check if this <code>thriftURL</code> url is working or not."},{"owner":{"account_id":16440499,"reputation":138,"user_id":11876923,"display_name":"Ishani Vij"},"score":0,"creation_date":1603882310,"post_id":64560920,"comment_id":114174795,"body_markdown":"How can I test that?","body":"How can I test that?"},{"owner":{"account_id":6435868,"reputation":731,"user_id":4987448,"display_name":"Praneeth"},"score":1,"creation_date":1604411546,"post_id":64560920,"comment_id":114335264,"body_markdown":"`DEFAULT_TINY_CACHE_SIZE` exists in `PooledByteBufAllocator.class` check if it exists in your imported libraries","body":"<code>DEFAULT_TINY_CACHE_SIZE</code> exists in <code>PooledByteBufAllocator.class</code> check if it exists in your imported libraries"},{"owner":{"account_id":16440499,"reputation":138,"user_id":11876923,"display_name":"Ishani Vij"},"score":0,"creation_date":1605542245,"post_id":64560920,"comment_id":114675124,"body_markdown":"@Praneeth Thankyou for the direction. This class is a part of Netty. The version of the hadoop dependency containing netty jar had to be changed to make it compatible with spark dependencies","body":"@Praneeth Thankyou for the direction. This class is a part of Netty. The version of the hadoop dependency containing netty jar had to be changed to make it compatible with spark dependencies"}],"answers":[{"tags":[],"owner":{"account_id":17392129,"reputation":26,"user_id":12602459,"display_name":"Arundhati Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615892816,"creation_date":1615892816,"answer_id":66653965,"question_id":64560920,"body_markdown":"This is because wrong version of netty getting added. below solved this issue for me:\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.17.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"NoSuchFieldException while creating a spark session using builder","body":"<p>This is because wrong version of netty getting added. below solved this issue for me:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n            &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\n                &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n&lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n            &lt;version&gt;4.1.17.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16440499,"reputation":138,"user_id":11876923,"display_name":"Ishani Vij"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6145,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66653965,"answer_count":1,"score":4,"last_activity_date":1666564392,"creation_date":1603823895,"question_id":64560920,"body_markdown":"I am trying to create a spark session using :\r\n```\r\nsparkSession = SparkSession.builder().appName(appName).master(&quot;local&quot;)\r\n                .config(&quot;hive.metastore.uris&quot;, thriftURL).enableHiveSupport().getOrCreate();\r\n```\r\n        \r\nBut it is giving a NoSuchField Exception as follows:\r\n```\r\n2020-10-27 20:51:26.963  WARN 11206 --- [  restartedMain] org.apache.hadoop.util.NativeCodeLoader  : Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n2020-10-27 20:51:27.053  INFO 11206 --- [  restartedMain] org.apache.spark.SparkContext            : Submitted application: HdfsPoc\r\n2020-10-27 20:51:27.328 ERROR 11206 --- [  restartedMain] org.apache.spark.SparkContext            : Error initializing SparkContext.\r\n\r\njava.lang.RuntimeException: java.lang.NoSuchFieldException: DEFAULT_TINY_CACHE_SIZE\r\n\tat org.apache.spark.network.util.NettyUtils.getPrivateStaticField(NettyUtils.java:131) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.network.util.NettyUtils.createPooledByteBufAllocator(NettyUtils.java:118) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.network.server.TransportServer.init(TransportServer.java:95) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.network.server.TransportServer.&lt;init&gt;(TransportServer.java:74) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.network.TransportContext.createServer(TransportContext.java:114) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.rpc.netty.NettyRpcEnv.startServer(NettyRpcEnv.scala:118) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.rpc.netty.NettyRpcEnvFactory$$anonfun$4.apply(NettyRpcEnv.scala:457) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.rpc.netty.NettyRpcEnvFactory$$anonfun$4.apply(NettyRpcEnv.scala:456) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.util.Utils$$anonfun$startServiceOnPort$1.apply$mcVI$sp(Utils.scala:2231) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:160) ~[scala-library-2.11.8.jar:na]\r\n\tat org.apache.spark.util.Utils$.startServiceOnPort(Utils.scala:2223) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.rpc.netty.NettyRpcEnvFactory.create(NettyRpcEnv.scala:461) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.rpc.RpcEnv$.create(RpcEnv.scala:56) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.SparkEnv$.create(SparkEnv.scala:246) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:175) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:257) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:432) ~[spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2516) [spark-core_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.sql.SparkSession$Builder$$anonfun$6.apply(SparkSession.scala:918) [spark-sql_2.11-2.2.1.jar:2.2.1]\r\n\tat org.apache.spark.sql.SparkSession$Builder$$anonfun$6.apply(SparkSession.scala:910) [spark-sql_2.11-2.2.1.jar:2.2.1]\r\n\tat scala.Option.getOrElse(Option.scala:121) [scala-library-2.11.8.jar:na]\r\n\tat org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:910) [spark-sql_2.11-2.2.1.jar:2.2.1]\r\n\tat com.csg.ipro.util.SparkCommonUtility.createSparkSessionWithHive(SparkCommonUtility.java:54) [classes/:na]\r\n\tat com.csg.ipro.util.SparkCommonUtility.getSparkSessionWithHive(SparkCommonUtility.java:28) [classes/:na]\r\n\tat com.csg.ipro.model.FileWatcher.createSession(FileWatcher.java:84) [classes/:na]\r\n\tat com.csg.ipro.service.WatcherService.startMonitoring(WatcherService.java:43) [classes/:na]\r\n\tat com.csg.ipro.IproStreamApplication.main(IproStreamApplication.java:21) [classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_231]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_231]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_231]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_231]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.3.4.RELEASE.jar:2.3.4.RELEASE]\r\nCaused by: java.lang.NoSuchFieldException: DEFAULT_TINY_CACHE_SIZE\r\n\tat java.lang.Class.getDeclaredField(Class.java:2070) ~[na:1.8.0_231]\r\n\tat org.apache.spark.network.util.NettyUtils.getPrivateStaticField(NettyUtils.java:127) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\r\n\t... 31 common frames omitted\r\n```\r\n\r\nFollowing are the spark and hadoop dependencies added in the pom.xml file:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hadoop-hdfs-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nFrom whatever I read while trying to find a solution, the dependency versions do not match. But I tried a lot of permutations, none of them worked for me. How can I resolve this error?","title":"NoSuchFieldException while creating a spark session using builder","body":"<p>I am trying to create a spark session using :</p>\n<pre><code>sparkSession = SparkSession.builder().appName(appName).master(&quot;local&quot;)\n                .config(&quot;hive.metastore.uris&quot;, thriftURL).enableHiveSupport().getOrCreate();\n</code></pre>\n<p>But it is giving a NoSuchField Exception as follows:</p>\n<pre><code>2020-10-27 20:51:26.963  WARN 11206 --- [  restartedMain] org.apache.hadoop.util.NativeCodeLoader  : Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n2020-10-27 20:51:27.053  INFO 11206 --- [  restartedMain] org.apache.spark.SparkContext            : Submitted application: HdfsPoc\n2020-10-27 20:51:27.328 ERROR 11206 --- [  restartedMain] org.apache.spark.SparkContext            : Error initializing SparkContext.\n\njava.lang.RuntimeException: java.lang.NoSuchFieldException: DEFAULT_TINY_CACHE_SIZE\n    at org.apache.spark.network.util.NettyUtils.getPrivateStaticField(NettyUtils.java:131) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.network.util.NettyUtils.createPooledByteBufAllocator(NettyUtils.java:118) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.network.server.TransportServer.init(TransportServer.java:95) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.network.server.TransportServer.&lt;init&gt;(TransportServer.java:74) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.network.TransportContext.createServer(TransportContext.java:114) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.rpc.netty.NettyRpcEnv.startServer(NettyRpcEnv.scala:118) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.rpc.netty.NettyRpcEnvFactory$$anonfun$4.apply(NettyRpcEnv.scala:457) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.rpc.netty.NettyRpcEnvFactory$$anonfun$4.apply(NettyRpcEnv.scala:456) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.util.Utils$$anonfun$startServiceOnPort$1.apply$mcVI$sp(Utils.scala:2231) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:160) ~[scala-library-2.11.8.jar:na]\n    at org.apache.spark.util.Utils$.startServiceOnPort(Utils.scala:2223) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.rpc.netty.NettyRpcEnvFactory.create(NettyRpcEnv.scala:461) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.rpc.RpcEnv$.create(RpcEnv.scala:56) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.SparkEnv$.create(SparkEnv.scala:246) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:175) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:257) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:432) ~[spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2516) [spark-core_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.sql.SparkSession$Builder$$anonfun$6.apply(SparkSession.scala:918) [spark-sql_2.11-2.2.1.jar:2.2.1]\n    at org.apache.spark.sql.SparkSession$Builder$$anonfun$6.apply(SparkSession.scala:910) [spark-sql_2.11-2.2.1.jar:2.2.1]\n    at scala.Option.getOrElse(Option.scala:121) [scala-library-2.11.8.jar:na]\n    at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:910) [spark-sql_2.11-2.2.1.jar:2.2.1]\n    at com.csg.ipro.util.SparkCommonUtility.createSparkSessionWithHive(SparkCommonUtility.java:54) [classes/:na]\n    at com.csg.ipro.util.SparkCommonUtility.getSparkSessionWithHive(SparkCommonUtility.java:28) [classes/:na]\n    at com.csg.ipro.model.FileWatcher.createSession(FileWatcher.java:84) [classes/:na]\n    at com.csg.ipro.service.WatcherService.startMonitoring(WatcherService.java:43) [classes/:na]\n    at com.csg.ipro.IproStreamApplication.main(IproStreamApplication.java:21) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_231]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_231]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_231]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_231]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.3.4.RELEASE.jar:2.3.4.RELEASE]\nCaused by: java.lang.NoSuchFieldException: DEFAULT_TINY_CACHE_SIZE\n    at java.lang.Class.getDeclaredField(Class.java:2070) ~[na:1.8.0_231]\n    at org.apache.spark.network.util.NettyUtils.getPrivateStaticField(NettyUtils.java:127) ~[spark-network-common_2.11-2.2.1.jar:2.2.1]\n    ... 31 common frames omitted\n</code></pre>\n<p>Following are the spark and hadoop dependencies added in the pom.xml file:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-hdfs-client&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>From whatever I read while trying to find a solution, the dependency versions do not match. But I tried a lot of permutations, none of them worked for me. How can I resolve this error?</p>\n"},{"tags":["java","spring-boot","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":2859145,"reputation":1179,"user_id":2454734,"accept_rate":88,"display_name":"Andreas_Lng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666564332,"creation_date":1666564332,"answer_id":74175259,"question_id":74129484,"body_markdown":"After doing some research I found a solution by using a custom ``HandlerMethodArgumentResolver``:\r\n\r\n    public class MyCustomResolver implements HandlerMethodArgumentResolver {\r\n        @Override\r\n        @Nullable\r\n        public Object resolveArgument(\r\n            MethodParameter methodParam,\r\n            @Nullable ModelAndViewContainer mvContainer,\r\n            NativeWebRequest request,\r\n            @Nullable WebDataBinderFactory binderFac\r\n        ) throws Exception {\r\n            String paramValue = request.getParameter(methodParam.getParameterName());\r\n            if (paramValue == null)\r\n                return null;\r\n\r\n            if (methodParam.getParameterType().equals(Long.class)) {\r\n                try {\r\n                    // Set param value to the parsed one, if it can be parsed\r\n                    return Long.parseLong(paramValue);\r\n                } catch (Exception e) {\r\n                    // Set param value to null otherwise\r\n                    return null;\r\n                }\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterType().equals(Long.class));\r\n        }\r\n    }\r\n\r\nThe method ``supportsParameter()`` gives you the opportunity to decide whether or not the passed parameter will be processed in ``resolveArgument``.\r\n\r\n``resolveArgument`` then gets the parameter as ``MethodParameter``. Unlike in the ``HandlerInterceptor`` the ``MethodParameter`` now contains the parameter name and type.\r\n\r\nUsing this approach ``id`` will have the following values:\r\n\r\n    id = 1     on /user?id=1\r\n    id = null  on /user?id=abc\r\n\r\nNow I&#39;am able to handle falsy parameter values in the controller directly.\r\n\r\n##### Remarks #####\r\nIf you use a parameter of type ``Boolean`` the param value will not be null but &quot;false&quot; for every parameter value except ``true``. Only if &quot;true&quot; is passed in the request ``resolveArgument`` will parse it to ``true`` and ``getUser`` will receive ``true``.","title":"Set query param value to default on type mismatch in spring boot rest api","body":"<p>After doing some research I found a solution by using a custom <code>HandlerMethodArgumentResolver</code>:</p>\n<pre><code>public class MyCustomResolver implements HandlerMethodArgumentResolver {\n    @Override\n    @Nullable\n    public Object resolveArgument(\n        MethodParameter methodParam,\n        @Nullable ModelAndViewContainer mvContainer,\n        NativeWebRequest request,\n        @Nullable WebDataBinderFactory binderFac\n    ) throws Exception {\n        String paramValue = request.getParameter(methodParam.getParameterName());\n        if (paramValue == null)\n            return null;\n\n        if (methodParam.getParameterType().equals(Long.class)) {\n            try {\n                // Set param value to the parsed one, if it can be parsed\n                return Long.parseLong(paramValue);\n            } catch (Exception e) {\n                // Set param value to null otherwise\n                return null;\n            }\n        }\n\n        return null;\n    }\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterType().equals(Long.class));\n    }\n}\n</code></pre>\n<p>The method <code>supportsParameter()</code> gives you the opportunity to decide whether or not the passed parameter will be processed in <code>resolveArgument</code>.</p>\n<p><code>resolveArgument</code> then gets the parameter as <code>MethodParameter</code>. Unlike in the <code>HandlerInterceptor</code> the <code>MethodParameter</code> now contains the parameter name and type.</p>\n<p>Using this approach <code>id</code> will have the following values:</p>\n<pre><code>id = 1     on /user?id=1\nid = null  on /user?id=abc\n</code></pre>\n<p>Now I'am able to handle falsy parameter values in the controller directly.</p>\n<h5>Remarks</h5>\n<p>If you use a parameter of type <code>Boolean</code> the param value will not be null but &quot;false&quot; for every parameter value except <code>true</code>. Only if &quot;true&quot; is passed in the request <code>resolveArgument</code> will parse it to <code>true</code> and <code>getUser</code> will receive <code>true</code>.</p>\n"}],"owner":{"account_id":2859145,"reputation":1179,"user_id":2454734,"accept_rate":88,"display_name":"Andreas_Lng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74175259,"answer_count":1,"score":0,"last_activity_date":1666564332,"creation_date":1666200116,"question_id":74129484,"body_markdown":"We have a rest api built with spring boot and the openapi code generator. Let&#39;s assume there is a path ```/user``` in our api spec:\r\n\r\n    ...\r\n    &quot;paths&quot;: {\r\n        &quot;/user&quot;: {\r\n            &quot;get&quot;: {\r\n                &quot;parameters&quot;: [{\r\n                    &quot;name&quot;: &quot;id&quot;,\r\n                    &quot;in&quot;: &quot;query&quot;,\r\n                    &quot;required&quot;: false,\r\n                    &quot;type&quot;: &quot;integer&quot;,\r\n                    &quot;format&quot;: &quot;int64&quot;\r\n                }],\r\n                &quot;responses&quot;: { ... }\r\n            },\r\n        }\r\n        // more paths\r\n    }\r\n    ...\r\n\r\nA call to this path could then be: ``/user?id=1234``.\r\n\r\nThe code generator creates an interface MyControllerApi:\r\n\r\n    @javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;some date&quot;)\r\n    @Api(value=&quot;user&quot;)\r\n    public interface MyControllerApi {\r\n        @ApiOperation(value=&quot;&quot;, nickname=&quot;userGet&quot;, response = User.class, /* ... */)\r\n        @ApiResponse(/* ... */)\r\n        @GetMapping(value=&quot;/user&quot;, produces = { &quot;application/json&quot; })\r\n        ResponseEntity&lt;User&gt; userGet(@ApiParam(value = &quot;id&quot;) @RequestParam(value = &quot;id&quot;, required = false) Long id);\r\n    }    \r\n\r\nThe controller then looks like this:\r\n\r\n    @RestController\r\n    public class MyController implements MyControllerApi\r\n    {\r\n        @Autowired\r\n        UserService service;\r\n        \r\n        @Override\r\n        public ResponseEntity&lt;User&gt; userGet(@RequestParam(value = &quot;id&quot;) Long id) {\r\n            return service.get(id);\r\n        }\r\n    }\r\n\r\nIf ``/user?id=&lt;value&gt;`` is requested, spring boot automatically checks if the type of the passed parameter value ``&lt;value&gt;`` matches the required type. If not ``BAD_REQUEST`` is returned:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-10-19T17:20:48.393+0000&quot;,\r\n        &quot;status&quot;: 400,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;path&quot;: &quot;/user&quot;\r\n    }\r\n\r\nWe are now in a situation in which we want to pass ``null`` to each parameter of ``userGet`` that would cause a type mismatch. To be more clear: if ``/user?id=abcd`` is requested, ``userGet`` should be called with ``id`` set to null, so that we can return some default user. Is there a way to achieve this?\r\n\r\nOf course there are a lot more paths and parameters and this behavior should apply for every query parameter of type ``Long`` or ``Boolean``.\r\n\r\nThis example may not make much sense, but it is also just an example. \r\n\r\nThanks in advance\r\n\r\n## What I tried myself in the meantime ##\r\n\r\n### 1. Setting the spring-boot ``useOptional`` option ... ###\r\n\r\n... to ``true`` in the pom.xml (see [here][1]).\r\n\r\nThis has the affect that the query parameters in the controllers method are of type ``Optional&lt;?&gt;``. In my example above this would lead to:\r\n\r\n    @Override\r\n    public ResponseEntity&lt;User&gt; userGet(Optional&lt;Long&gt; id) {\r\n        Long id_val = id.isPresent() ? id.get() : null;\r\n        return service.get(id_val);\r\n    }\r\n\r\nBut this did not work either and spring boot also creates a ``BAD_REQUEST`` response on parameter type mismatches.\r\n\r\n### 2. Using a request interceptor ###\r\n\r\nA request interceptor is a kind of middleware and can be created by implementing ``HandlerInterceptor`` and enables you to process the request before it is passed to the controller.\r\n\r\nMy interceptor looks like this:\r\n\r\n    public class CustomRequestInterceptor implements HandlerInterceptor {\r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception\r\n        {\r\n            HandlerMethod method = (HandlerMethod) handler;\r\n            MethodParameter[] handlerParams = method.getMethodParameters();\r\n\r\n            while (request.getParameterNames().hasMoreElements())\r\n            {\r\n                // the param name of the query\r\n                String paramName = request.getParameterNames().nextElement();\r\n                 the param value\r\n                String paramValue = request.getParameter(paramName);\r\n                MethodParameter methodParam = null;\r\n\r\n                for (MethodParameter mp : handlerParams)\r\n                {\r\n                    // We can access annotations here ...\r\n                    Annotation anno = mp.getParameterAnnotation(RequestParam.class);\r\n                    if(anno != null)\r\n                    {\r\n                        RequestParam rp = (RequestParam) anno;\r\n\r\n                        // ... and am able to get the param name in the controller\r\n                        // Check if we found the param\r\n                        String requestParamName = rp.value();\r\n                        if (requestParamName.toLowerCase().equals(paramName.toLowerCase()))\r\n                        {\r\n                            // and now?\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (methodParam != null)\r\n                {\r\n                    Type type = methodParam.getGenericParameterType();\r\n                }\r\n            }\r\n\r\n            return HandlerInterceptor.super.preHandle(request, response, handler);\r\n        }\r\n    }\r\n\r\nSo far so good, but the RequestParam-Object does not hold any informations about the parameter type, nor about the index of that param in the methods param list. And the MethodParameter does not hold the name of the parameter (because its a compiled class I think).\r\n\r\nWhat I&#39;m wondering is how spring boot itself maps the query parameters to the ones in the controllers methods..... ?\r\n\r\n\r\n  [1]: https://openapi-generator.tech/docs/generators/spring/","title":"Set query param value to default on type mismatch in spring boot rest api","body":"<p>We have a rest api built with spring boot and the openapi code generator. Let's assume there is a path <code>/user</code> in our api spec:</p>\n<pre><code>...\n&quot;paths&quot;: {\n    &quot;/user&quot;: {\n        &quot;get&quot;: {\n            &quot;parameters&quot;: [{\n                &quot;name&quot;: &quot;id&quot;,\n                &quot;in&quot;: &quot;query&quot;,\n                &quot;required&quot;: false,\n                &quot;type&quot;: &quot;integer&quot;,\n                &quot;format&quot;: &quot;int64&quot;\n            }],\n            &quot;responses&quot;: { ... }\n        },\n    }\n    // more paths\n}\n...\n</code></pre>\n<p>A call to this path could then be: <code>/user?id=1234</code>.</p>\n<p>The code generator creates an interface MyControllerApi:</p>\n<pre><code>@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;some date&quot;)\n@Api(value=&quot;user&quot;)\npublic interface MyControllerApi {\n    @ApiOperation(value=&quot;&quot;, nickname=&quot;userGet&quot;, response = User.class, /* ... */)\n    @ApiResponse(/* ... */)\n    @GetMapping(value=&quot;/user&quot;, produces = { &quot;application/json&quot; })\n    ResponseEntity&lt;User&gt; userGet(@ApiParam(value = &quot;id&quot;) @RequestParam(value = &quot;id&quot;, required = false) Long id);\n}    \n</code></pre>\n<p>The controller then looks like this:</p>\n<pre><code>@RestController\npublic class MyController implements MyControllerApi\n{\n    @Autowired\n    UserService service;\n    \n    @Override\n    public ResponseEntity&lt;User&gt; userGet(@RequestParam(value = &quot;id&quot;) Long id) {\n        return service.get(id);\n    }\n}\n</code></pre>\n<p>If <code>/user?id=&lt;value&gt;</code> is requested, spring boot automatically checks if the type of the passed parameter value <code>&lt;value&gt;</code> matches the required type. If not <code>BAD_REQUEST</code> is returned:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-10-19T17:20:48.393+0000&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;path&quot;: &quot;/user&quot;\n}\n</code></pre>\n<p>We are now in a situation in which we want to pass <code>null</code> to each parameter of <code>userGet</code> that would cause a type mismatch. To be more clear: if <code>/user?id=abcd</code> is requested, <code>userGet</code> should be called with <code>id</code> set to null, so that we can return some default user. Is there a way to achieve this?</p>\n<p>Of course there are a lot more paths and parameters and this behavior should apply for every query parameter of type <code>Long</code> or <code>Boolean</code>.</p>\n<p>This example may not make much sense, but it is also just an example.</p>\n<p>Thanks in advance</p>\n<h2>What I tried myself in the meantime</h2>\n<h3>1. Setting the spring-boot <code>useOptional</code> option ...</h3>\n<p>... to <code>true</code> in the pom.xml (see <a href=\"https://openapi-generator.tech/docs/generators/spring/\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>This has the affect that the query parameters in the controllers method are of type <code>Optional&lt;?&gt;</code>. In my example above this would lead to:</p>\n<pre><code>@Override\npublic ResponseEntity&lt;User&gt; userGet(Optional&lt;Long&gt; id) {\n    Long id_val = id.isPresent() ? id.get() : null;\n    return service.get(id_val);\n}\n</code></pre>\n<p>But this did not work either and spring boot also creates a <code>BAD_REQUEST</code> response on parameter type mismatches.</p>\n<h3>2. Using a request interceptor</h3>\n<p>A request interceptor is a kind of middleware and can be created by implementing <code>HandlerInterceptor</code> and enables you to process the request before it is passed to the controller.</p>\n<p>My interceptor looks like this:</p>\n<pre><code>public class CustomRequestInterceptor implements HandlerInterceptor {\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception\n    {\n        HandlerMethod method = (HandlerMethod) handler;\n        MethodParameter[] handlerParams = method.getMethodParameters();\n\n        while (request.getParameterNames().hasMoreElements())\n        {\n            // the param name of the query\n            String paramName = request.getParameterNames().nextElement();\n             the param value\n            String paramValue = request.getParameter(paramName);\n            MethodParameter methodParam = null;\n\n            for (MethodParameter mp : handlerParams)\n            {\n                // We can access annotations here ...\n                Annotation anno = mp.getParameterAnnotation(RequestParam.class);\n                if(anno != null)\n                {\n                    RequestParam rp = (RequestParam) anno;\n\n                    // ... and am able to get the param name in the controller\n                    // Check if we found the param\n                    String requestParamName = rp.value();\n                    if (requestParamName.toLowerCase().equals(paramName.toLowerCase()))\n                    {\n                        // and now?\n                        break;\n                    }\n                }\n            }\n\n            if (methodParam != null)\n            {\n                Type type = methodParam.getGenericParameterType();\n            }\n        }\n\n        return HandlerInterceptor.super.preHandle(request, response, handler);\n    }\n}\n</code></pre>\n<p>So far so good, but the RequestParam-Object does not hold any informations about the parameter type, nor about the index of that param in the methods param list. And the MethodParameter does not hold the name of the parameter (because its a compiled class I think).</p>\n<p>What I'm wondering is how spring boot itself maps the query parameters to the ones in the controllers methods..... ?</p>\n"},{"tags":["java","algorithm","data-structures","dijkstra","heap"],"answers":[{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666563979,"creation_date":1666563979,"answer_id":74175224,"question_id":74169640,"body_markdown":"Try to add the Edge[] edgeTo array that will track the the edge that you used to reach specific vertex. \r\n\r\nFor example \r\n```\r\nedgeTo[0] = null\r\nedgeTo[1] = Edge( 0 -&gt; 1 )\r\nedgeto[2] = Edge( 1 -&gt; 2 )\r\n\r\nThere is the path 0 -&gt; 1 -&gt; 2 and you can find it by traversing backwards.\r\n```\r\nYou can create such an array structure by changing the lines:\r\n```java\r\npublic void dijkstra_GetMinDistances(int sourceVertex){\r\n   int INFINITY = Integer.MAX_VALUE;\r\n   boolean[] SPT = new boolean[vertices];\r\n   Edge[] edgeTo = new Edge[vertices];\r\n   ...      \r\n```\r\nand you will update this `edgeTo` array in if statement where you find the shorter distance:\r\n```java\r\nif(currentKey&gt;newKey){\r\n   edgeTo[destination] = edge;\r\n   decreaseKey(minHeap, newKey, destination);\r\n   heapNodes[destination].distance = newKey;\r\n}\r\n```\r\nFinally the method that return the shortest part from `source_vertex` to any_other_`vertex` is:\r\n```java\r\npublic List&lt;Edge&gt; pathTo(int vertex) {\r\n    List&lt;Edge&gt; path = new LinkedList&lt;&gt;();\r\n    for (Edge e = edgeTo[vertex]; e != null; e = edgeTo[e.source]) {\r\n        path.addFirst(e);\r\n    }\r\n    return path;\r\n}\r\n```\r\n\r\nAll credits goes to great book and online course https://algs4.cs.princeton.edu/home/ ","title":"Dijkstras algorithm shortest path in directed graph, find the last node taken to destination vertex","body":"<p>Try to add the Edge[] edgeTo array that will track the the edge that you used to reach specific vertex.</p>\n<p>For example</p>\n<pre><code>edgeTo[0] = null\nedgeTo[1] = Edge( 0 -&gt; 1 )\nedgeto[2] = Edge( 1 -&gt; 2 )\n\nThere is the path 0 -&gt; 1 -&gt; 2 and you can find it by traversing backwards.\n</code></pre>\n<p>You can create such an array structure by changing the lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void dijkstra_GetMinDistances(int sourceVertex){\n   int INFINITY = Integer.MAX_VALUE;\n   boolean[] SPT = new boolean[vertices];\n   Edge[] edgeTo = new Edge[vertices];\n   ...      \n</code></pre>\n<p>and you will update this <code>edgeTo</code> array in if statement where you find the shorter distance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(currentKey&gt;newKey){\n   edgeTo[destination] = edge;\n   decreaseKey(minHeap, newKey, destination);\n   heapNodes[destination].distance = newKey;\n}\n</code></pre>\n<p>Finally the method that return the shortest part from <code>source_vertex</code> to any_other_<code>vertex</code> is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Edge&gt; pathTo(int vertex) {\n    List&lt;Edge&gt; path = new LinkedList&lt;&gt;();\n    for (Edge e = edgeTo[vertex]; e != null; e = edgeTo[e.source]) {\n        path.addFirst(e);\n    }\n    return path;\n}\n</code></pre>\n<p>All credits goes to great book and online course <a href=\"https://algs4.cs.princeton.edu/home/\" rel=\"nofollow noreferrer\">https://algs4.cs.princeton.edu/home/</a></p>\n"}],"owner":{"account_id":26707186,"reputation":3,"user_id":20313172,"display_name":"Beka Bex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74175224,"answer_count":1,"score":0,"last_activity_date":1666563979,"creation_date":1666513444,"question_id":74169640,"body_markdown":"The code below was taken from https://algorithms.tutorialhorizon.com/dijkstras-shortest-path-algorithm-spt-adjacency-list-and-min-heap-java-implementation/\r\n\r\nit finds the shortest distance to each vertex from a given source vertex but does not as of yet offer a way to track the path taken. Is there an easy fix to this? if not how should i approach this?   \r\n\r\n```\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.LinkedList;\r\nimport java.util.StringTokenizer;\r\n\r\npublic class DijkstraMinHeap {\r\n    static class Edge {\r\n        int source;\r\n        int destination;\r\n        int weight;\r\n\r\n        public Edge(int source, int destination, int weight) {\r\n            this.source = source;\r\n            this.destination = destination;\r\n            this.weight = weight;\r\n        }\r\n    }\r\n\r\n    static class HeapNode{\r\n        int vertex;\r\n        int distance;\r\n    }\r\n    static class Graph {\r\n        int vertices;\r\n        LinkedList&lt;Edge&gt;[] adjacencylist;\r\n\r\n        Graph(int vertices) {\r\n            this.vertices = vertices;\r\n            adjacencylist = new LinkedList[vertices];\r\n            for (int i = 0; i &lt;vertices ; i++) {\r\n                adjacencylist[i] = new LinkedList&lt;&gt;();\r\n            }\r\n        }\r\n\r\n        public void addEdge(int source, int destination, int weight) {\r\n            Edge edge = new Edge(source, destination, weight);\r\n            adjacencylist[source].addFirst(edge);\r\n\r\n            /**edge = new Edge(destination, source, weight);\r\n            adjacencylist[destination].addFirst(edge); //for undirected graph*/\r\n        }\r\n\r\n        public void dijkstra_GetMinDistances(int sourceVertex){\r\n            int INFINITY = Integer.MAX_VALUE;\r\n            boolean[] SPT = new boolean[vertices];\r\n\r\n// //create heapNode for all the vertices\r\n            HeapNode [] heapNodes = new HeapNode[vertices];\r\n            for (int i = 0; i &lt;vertices ; i++) {\r\n                heapNodes[i] = new HeapNode();\r\n                heapNodes[i].vertex = i;\r\n                heapNodes[i].distance = INFINITY;\r\n            }\r\n\r\n            //decrease the distance for the first index\r\n            heapNodes[sourceVertex].distance = 0;\r\n\r\n            //add all the vertices to the DijkstraMinHeap.MinHeap\r\n            MinHeap minHeap = new MinHeap(vertices);\r\n            for (int i = 0; i &lt;vertices ; i++) {\r\n                minHeap.insert(heapNodes[i]);\r\n            }\r\n            //while minHeap is not empty\r\n            while(!minHeap.isEmpty()){\r\n                //extract the min\r\n                HeapNode extractedNode = minHeap.extractMin();\r\n\r\n                //extracted vertex\r\n                int extractedVertex = extractedNode.vertex;\r\n                SPT[extractedVertex] = true;\r\n\r\n                //iterate through all the adjacent vertices\r\n                LinkedList&lt;Edge&gt; list = adjacencylist[extractedVertex];\r\n                for (int i = 0; i &lt;list.size() ; i++) {\r\n                    Edge edge = list.get(i);\r\n                    int destination = edge.destination;\r\n                    //only if destination vertex is not present in SPT\r\n                    if(SPT[destination]==false ) {\r\n                        ///check if distance needs an update or not\r\n                        //means check total weight from source to vertex_V is less than\r\n                        //the current distance value, if yes then update the distance\r\n                        int newKey = heapNodes[extractedVertex].distance + edge.weight ;\r\n                        int currentKey = heapNodes[destination].distance;\r\n                        if(currentKey&gt;newKey){\r\n                            decreaseKey(minHeap, newKey, destination);\r\n                            heapNodes[destination].distance = newKey;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            //print SPT\r\n            printDijkstra(heapNodes, sourceVertex);\r\n        }\r\n\r\n        public void decreaseKey(MinHeap minHeap, int newKey, int vertex){\r\n\r\n            //get the index which distance&#39;s needs a decrease;\r\n            int index = minHeap.indexes[vertex];\r\n\r\n            //get the node and update its value\r\n            HeapNode node = minHeap.mH[index];\r\n            node.distance = newKey;\r\n            minHeap.bubbleUp(index);\r\n        }\r\n\r\n        public void printDijkstra(HeapNode[] resultSet, int sourceVertex){\r\n            System.out.println(&quot;Dijkstra&#39;s Algorithm: (using Adjacency List and Min Heap)&quot;);\r\n            for (int i = 0; i &lt;vertices ; i++) {\r\n                String x = String.valueOf(resultSet[i].distance);\r\n                if(resultSet[i].distance == Integer.MAX_VALUE){\r\n                    x = &quot;unreachable&quot;;\r\n                }\r\n                System.out.println(&quot;Node: &quot; + i + &quot; | predecessor &quot; + resultSet[i].vertex+\r\n                        &quot; | distance: &quot; + x);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n\r\n        BufferedReader br = new BufferedReader(new FileReader(&quot;./vg1.txt&quot;));\r\n        printResult(br);\r\n\r\n    }\r\n\r\n    public static void printResult(BufferedReader br) throws IOException {\r\n        StringTokenizer st = new StringTokenizer((br.readLine()));\r\n        int vertices = Integer.parseInt(st.nextToken());\r\n        Graph graph = new Graph(vertices);\r\n\r\n\r\n        int K = Integer.parseInt((st.nextToken()));\r\n        for (int i = 0; i &lt; K; i++) {\r\n            st = new StringTokenizer(br.readLine());\r\n            int from = Integer.parseInt(st.nextToken());\r\n            int to = Integer.parseInt(st.nextToken());\r\n            int weight = Integer.parseInt(st.nextToken());\r\n            graph.addEdge(from, to, weight);\r\n        }\r\n        int source_vertex = 1;\r\n        graph.dijkstra_GetMinDistances(source_vertex);\r\n    }\r\n\r\n\r\n    static class MinHeap {\r\n        int capacity;\r\n        int currentSize;\r\n        HeapNode[] mH;\r\n        int[] indexes; //will be used to decrease the distance\r\n\r\n\r\n        public MinHeap(int capacity) {\r\n            this.capacity = capacity;\r\n            mH = new HeapNode[capacity + 1];\r\n            indexes = new int[capacity];\r\n            mH[0] = new HeapNode();\r\n            mH[0].distance = Integer.MIN_VALUE;\r\n            mH[0].vertex = -1;\r\n            currentSize = 0;\r\n        }\r\n\r\n        public void display() {\r\n            for (int i = 0; i &lt;= currentSize; i++) {\r\n                System.out.println(&quot; &quot; + mH[i].vertex + &quot; distance &quot; + mH[i].distance);\r\n            }\r\n            System.out.println(&quot;________________________&quot;);\r\n        }\r\n\r\n        public void insert(HeapNode x) {\r\n            currentSize++;\r\n            int idx = currentSize;\r\n            mH[idx] = x;\r\n            indexes[x.vertex] = idx;\r\n            bubbleUp(idx);\r\n        }\r\n\r\n        public void bubbleUp(int pos) {\r\n            int parentIdx = pos / 2;\r\n            int currentIdx = pos;\r\n            while (currentIdx &gt; 0 &amp;&amp; mH[parentIdx].distance &gt; mH[currentIdx].distance) {\r\n                HeapNode currentNode = mH[currentIdx];\r\n                HeapNode parentNode = mH[parentIdx];\r\n\r\n                //swap the positions\r\n                indexes[currentNode.vertex] = parentIdx;\r\n                indexes[parentNode.vertex] = currentIdx;\r\n                swap(currentIdx, parentIdx);\r\n                currentIdx = parentIdx;\r\n                parentIdx = parentIdx / 2;\r\n            }\r\n        }\r\n\r\n        public HeapNode extractMin() {\r\n            HeapNode min = mH[1];\r\n            HeapNode lastNode = mH[currentSize];\r\n    // update the indexes[] and move the last node to the top\r\n            indexes[lastNode.vertex] = 1;\r\n            mH[1] = lastNode;\r\n            mH[currentSize] = null;\r\n            sinkDown(1);\r\n            currentSize--;\r\n            return min;\r\n        }\r\n\r\n        public void sinkDown(int k) {\r\n            int smallest = k;\r\n            int leftChildIdx = 2 * k;\r\n            int rightChildIdx = 2 * k + 1;\r\n            if (leftChildIdx &lt; heapSize() &amp;&amp; mH[smallest].distance &gt; mH[leftChildIdx].distance) {\r\n                smallest = leftChildIdx;\r\n            }\r\n            if (rightChildIdx &lt; heapSize() &amp;&amp; mH[smallest].distance &gt; mH[rightChildIdx].distance) {\r\n                smallest = rightChildIdx;\r\n            }\r\n            if (smallest != k) {\r\n\r\n                HeapNode smallestNode = mH[smallest];\r\n                HeapNode kNode = mH[k];\r\n\r\n                //swap the positions\r\n                indexes[smallestNode.vertex] = k;\r\n                indexes[kNode.vertex] = smallest;\r\n                swap(k, smallest);\r\n                sinkDown(smallest);\r\n            }\r\n        }\r\n\r\n        public void swap(int a, int b) {\r\n            HeapNode temp = mH[a];\r\n            mH[a] = mH[b];\r\n            mH[b] = temp;\r\n        }\r\n\r\n        public boolean isEmpty() {\r\n            return currentSize == 0;\r\n        }\r\n\r\n        public int heapSize() {\r\n            return currentSize;\r\n        }\r\n    }\r\n}\r\n```","title":"Dijkstras algorithm shortest path in directed graph, find the last node taken to destination vertex","body":"<p>The code below was taken from <a href=\"https://algorithms.tutorialhorizon.com/dijkstras-shortest-path-algorithm-spt-adjacency-list-and-min-heap-java-implementation/\" rel=\"nofollow noreferrer\">https://algorithms.tutorialhorizon.com/dijkstras-shortest-path-algorithm-spt-adjacency-list-and-min-heap-java-implementation/</a></p>\n<p>it finds the shortest distance to each vertex from a given source vertex but does not as of yet offer a way to track the path taken. Is there an easy fix to this? if not how should i approach this?</p>\n<pre><code>\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.LinkedList;\nimport java.util.StringTokenizer;\n\npublic class DijkstraMinHeap {\n    static class Edge {\n        int source;\n        int destination;\n        int weight;\n\n        public Edge(int source, int destination, int weight) {\n            this.source = source;\n            this.destination = destination;\n            this.weight = weight;\n        }\n    }\n\n    static class HeapNode{\n        int vertex;\n        int distance;\n    }\n    static class Graph {\n        int vertices;\n        LinkedList&lt;Edge&gt;[] adjacencylist;\n\n        Graph(int vertices) {\n            this.vertices = vertices;\n            adjacencylist = new LinkedList[vertices];\n            for (int i = 0; i &lt;vertices ; i++) {\n                adjacencylist[i] = new LinkedList&lt;&gt;();\n            }\n        }\n\n        public void addEdge(int source, int destination, int weight) {\n            Edge edge = new Edge(source, destination, weight);\n            adjacencylist[source].addFirst(edge);\n\n            /**edge = new Edge(destination, source, weight);\n            adjacencylist[destination].addFirst(edge); //for undirected graph*/\n        }\n\n        public void dijkstra_GetMinDistances(int sourceVertex){\n            int INFINITY = Integer.MAX_VALUE;\n            boolean[] SPT = new boolean[vertices];\n\n// //create heapNode for all the vertices\n            HeapNode [] heapNodes = new HeapNode[vertices];\n            for (int i = 0; i &lt;vertices ; i++) {\n                heapNodes[i] = new HeapNode();\n                heapNodes[i].vertex = i;\n                heapNodes[i].distance = INFINITY;\n            }\n\n            //decrease the distance for the first index\n            heapNodes[sourceVertex].distance = 0;\n\n            //add all the vertices to the DijkstraMinHeap.MinHeap\n            MinHeap minHeap = new MinHeap(vertices);\n            for (int i = 0; i &lt;vertices ; i++) {\n                minHeap.insert(heapNodes[i]);\n            }\n            //while minHeap is not empty\n            while(!minHeap.isEmpty()){\n                //extract the min\n                HeapNode extractedNode = minHeap.extractMin();\n\n                //extracted vertex\n                int extractedVertex = extractedNode.vertex;\n                SPT[extractedVertex] = true;\n\n                //iterate through all the adjacent vertices\n                LinkedList&lt;Edge&gt; list = adjacencylist[extractedVertex];\n                for (int i = 0; i &lt;list.size() ; i++) {\n                    Edge edge = list.get(i);\n                    int destination = edge.destination;\n                    //only if destination vertex is not present in SPT\n                    if(SPT[destination]==false ) {\n                        ///check if distance needs an update or not\n                        //means check total weight from source to vertex_V is less than\n                        //the current distance value, if yes then update the distance\n                        int newKey = heapNodes[extractedVertex].distance + edge.weight ;\n                        int currentKey = heapNodes[destination].distance;\n                        if(currentKey&gt;newKey){\n                            decreaseKey(minHeap, newKey, destination);\n                            heapNodes[destination].distance = newKey;\n                        }\n                    }\n                }\n            }\n            //print SPT\n            printDijkstra(heapNodes, sourceVertex);\n        }\n\n        public void decreaseKey(MinHeap minHeap, int newKey, int vertex){\n\n            //get the index which distance's needs a decrease;\n            int index = minHeap.indexes[vertex];\n\n            //get the node and update its value\n            HeapNode node = minHeap.mH[index];\n            node.distance = newKey;\n            minHeap.bubbleUp(index);\n        }\n\n        public void printDijkstra(HeapNode[] resultSet, int sourceVertex){\n            System.out.println(&quot;Dijkstra's Algorithm: (using Adjacency List and Min Heap)&quot;);\n            for (int i = 0; i &lt;vertices ; i++) {\n                String x = String.valueOf(resultSet[i].distance);\n                if(resultSet[i].distance == Integer.MAX_VALUE){\n                    x = &quot;unreachable&quot;;\n                }\n                System.out.println(&quot;Node: &quot; + i + &quot; | predecessor &quot; + resultSet[i].vertex+\n                        &quot; | distance: &quot; + x);\n            }\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n\n\n        BufferedReader br = new BufferedReader(new FileReader(&quot;./vg1.txt&quot;));\n        printResult(br);\n\n    }\n\n    public static void printResult(BufferedReader br) throws IOException {\n        StringTokenizer st = new StringTokenizer((br.readLine()));\n        int vertices = Integer.parseInt(st.nextToken());\n        Graph graph = new Graph(vertices);\n\n\n        int K = Integer.parseInt((st.nextToken()));\n        for (int i = 0; i &lt; K; i++) {\n            st = new StringTokenizer(br.readLine());\n            int from = Integer.parseInt(st.nextToken());\n            int to = Integer.parseInt(st.nextToken());\n            int weight = Integer.parseInt(st.nextToken());\n            graph.addEdge(from, to, weight);\n        }\n        int source_vertex = 1;\n        graph.dijkstra_GetMinDistances(source_vertex);\n    }\n\n\n    static class MinHeap {\n        int capacity;\n        int currentSize;\n        HeapNode[] mH;\n        int[] indexes; //will be used to decrease the distance\n\n\n        public MinHeap(int capacity) {\n            this.capacity = capacity;\n            mH = new HeapNode[capacity + 1];\n            indexes = new int[capacity];\n            mH[0] = new HeapNode();\n            mH[0].distance = Integer.MIN_VALUE;\n            mH[0].vertex = -1;\n            currentSize = 0;\n        }\n\n        public void display() {\n            for (int i = 0; i &lt;= currentSize; i++) {\n                System.out.println(&quot; &quot; + mH[i].vertex + &quot; distance &quot; + mH[i].distance);\n            }\n            System.out.println(&quot;________________________&quot;);\n        }\n\n        public void insert(HeapNode x) {\n            currentSize++;\n            int idx = currentSize;\n            mH[idx] = x;\n            indexes[x.vertex] = idx;\n            bubbleUp(idx);\n        }\n\n        public void bubbleUp(int pos) {\n            int parentIdx = pos / 2;\n            int currentIdx = pos;\n            while (currentIdx &gt; 0 &amp;&amp; mH[parentIdx].distance &gt; mH[currentIdx].distance) {\n                HeapNode currentNode = mH[currentIdx];\n                HeapNode parentNode = mH[parentIdx];\n\n                //swap the positions\n                indexes[currentNode.vertex] = parentIdx;\n                indexes[parentNode.vertex] = currentIdx;\n                swap(currentIdx, parentIdx);\n                currentIdx = parentIdx;\n                parentIdx = parentIdx / 2;\n            }\n        }\n\n        public HeapNode extractMin() {\n            HeapNode min = mH[1];\n            HeapNode lastNode = mH[currentSize];\n    // update the indexes[] and move the last node to the top\n            indexes[lastNode.vertex] = 1;\n            mH[1] = lastNode;\n            mH[currentSize] = null;\n            sinkDown(1);\n            currentSize--;\n            return min;\n        }\n\n        public void sinkDown(int k) {\n            int smallest = k;\n            int leftChildIdx = 2 * k;\n            int rightChildIdx = 2 * k + 1;\n            if (leftChildIdx &lt; heapSize() &amp;&amp; mH[smallest].distance &gt; mH[leftChildIdx].distance) {\n                smallest = leftChildIdx;\n            }\n            if (rightChildIdx &lt; heapSize() &amp;&amp; mH[smallest].distance &gt; mH[rightChildIdx].distance) {\n                smallest = rightChildIdx;\n            }\n            if (smallest != k) {\n\n                HeapNode smallestNode = mH[smallest];\n                HeapNode kNode = mH[k];\n\n                //swap the positions\n                indexes[smallestNode.vertex] = k;\n                indexes[kNode.vertex] = smallest;\n                swap(k, smallest);\n                sinkDown(smallest);\n            }\n        }\n\n        public void swap(int a, int b) {\n            HeapNode temp = mH[a];\n            mH[a] = mH[b];\n            mH[b] = temp;\n        }\n\n        public boolean isEmpty() {\n            return currentSize == 0;\n        }\n\n        public int heapSize() {\n            return currentSize;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":2504516,"reputation":1643,"user_id":2178635,"accept_rate":86,"display_name":"CHEBURASHKA"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1547206214,"creation_date":1363576822,"answer_id":15469266,"question_id":14840884,"body_markdown":"Unfortunately, there is no such a command. You can overcome this by try and catch, or I would better recommend you to use open source Ruby library [Watir](http://watir.com/).","title":"wait.until(ExpectedConditions.visibilityOf Element1 OR Element2)","body":"<p>Unfortunately, there is no such a command. You can overcome this by try and catch, or I would better recommend you to use open source Ruby library <a href=\"http://watir.com/\" rel=\"nofollow noreferrer\">Watir</a>.</p>\n"},{"tags":[],"owner":{"account_id":2514401,"reputation":91,"user_id":2186151,"display_name":"mgtriffid"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1463998959,"creation_date":1371546796,"answer_id":17164968,"question_id":14840884,"body_markdown":"This is the method I declared in my Helper class, it works like a charm. Just create your own `ExpectedCondition` and make it return any of elements found by locators:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tpublic static ExpectedCondition&lt;WebElement&gt; oneOfElementsLocatedVisible(By... args)\r\n\t{\r\n\t\tfinal List&lt;By&gt; byes = Arrays.asList(args);\r\n\t\treturn new ExpectedCondition&lt;WebElement&gt;()\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic Boolean apply(WebDriver driver)\r\n\t\t\t{\r\n\t\t\t\tfor (By by : byes)\r\n\t\t\t\t{\r\n\t\t\t\t\tWebElement el;\r\n\t\t\t\t\ttry {el = driver.findElement(by);} catch (Exception r) {continue;}\r\n\t\t\t\t\tif (el.isDisplayed()) return el;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\nAnd then you can use it this way:\r\n\r\n    Wait wait = new WebDriverWait(driver, Timeouts.WAIT_FOR_PAGE_TO_LOAD_TIMEOUT);\r\n    WebElement webElement = (WebElement) wait.until(\r\n    \t\tHelper.oneOfElementsLocatedVisible(\r\n    \t\t\t\tBy.xpath(SERVICE_TITLE_LOCATOR), \r\n    \t\t\t\tBy.xpath(ATTENTION_REQUEST_ALREADY_PRESENTS_WINDOW_LOCATOR)\r\n    \t\t)\r\n    );\r\n\r\nHere `SERVICE_TITLE_LOCATOR` and `ATTENTION_REQUEST_ALREADY_PRESENTS_WINDOW_LOCATOR` are two static locators for page.","title":"wait.until(ExpectedConditions.visibilityOf Element1 OR Element2)","body":"<p>This is the method I declared in my Helper class, it works like a charm. Just create your own <code>ExpectedCondition</code> and make it return any of elements found by locators:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>public static ExpectedCondition&lt;WebElement&gt; oneOfElementsLocatedVisible(By... args)\n{\n    final List&lt;By&gt; byes = Arrays.asList(args);\n    return new ExpectedCondition&lt;WebElement&gt;()\n    {\n        @Override\n        public Boolean apply(WebDriver driver)\n        {\n            for (By by : byes)\n            {\n                WebElement el;\n                try {el = driver.findElement(by);} catch (Exception r) {continue;}\n                if (el.isDisplayed()) return el;\n            }\n            return false;\n        }\n    };\n}\n</code></pre>\n\n<p>And then you can use it this way:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Wait wait = new WebDriverWait(driver, Timeouts.WAIT_FOR_PAGE_TO_LOAD_TIMEOUT);\nWebElement webElement = (WebElement) wait.until(\n        Helper.oneOfElementsLocatedVisible(\n                By.xpath(SERVICE_TITLE_LOCATOR), \n                By.xpath(ATTENTION_REQUEST_ALREADY_PRESENTS_WINDOW_LOCATOR)\n        )\n);\n</code></pre>\n\n<p>Here <code>SERVICE_TITLE_LOCATOR</code> and <code>ATTENTION_REQUEST_ALREADY_PRESENTS_WINDOW_LOCATOR</code> are two static locators for page.</p>\n"},{"tags":[],"owner":{"account_id":1113544,"reputation":149,"user_id":1103490,"display_name":"Scruger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1386766726,"creation_date":1386766726,"answer_id":20519789,"question_id":14840884,"body_markdown":"I think that your problem has a simple solution if you put &quot;OR&quot; into xpath.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 60); \r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//h2[@class=&#39;....&#39;] | //h3[@class=&#39;... &#39;]&quot;))); \r\n\r\nThen, to print the result use for example:\r\n\r\n    if(driver.findElements(By.xpath(&quot;//h2[@class=&#39;....&#39;]&quot;)).size()&gt;0){\r\n           driver.findElement(By.xpath(&quot;//h2[@class=&#39;....&#39;]&quot;)).getText();\r\n    }else{\r\n           driver.findElement(By.xpath(&quot;//h3[@class=&#39;....&#39;]&quot;)).getText();\r\n    }","title":"wait.until(ExpectedConditions.visibilityOf Element1 OR Element2)","body":"<p>I think that your problem has a simple solution if you put \"OR\" into xpath.</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 60); \nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//h2[@class='....'] | //h3[@class='... ']\"))); \n</code></pre>\n\n<p>Then, to print the result use for example:</p>\n\n<pre><code>if(driver.findElements(By.xpath(\"//h2[@class='....']\")).size()&gt;0){\n       driver.findElement(By.xpath(\"//h2[@class='....']\")).getText();\n}else{\n       driver.findElement(By.xpath(\"//h3[@class='....']\")).getText();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3175170,"reputation":667,"user_id":2683225,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431642995,"creation_date":1431642995,"answer_id":30248613,"question_id":14840884,"body_markdown":"There is an alternative way to wait but it isnt using expected conditions and it uses a lambda expression instead.. \r\n\r\n    wait.Until(x =&gt; driver.FindElements(By.Xpath(&quot;//h3[@class=&#39;... &#39;]&quot;)).Count &gt; 0 || driver.FindElements(By.Xpath(&quot;//h2[@class=&#39;... &#39;]&quot;)).Count &gt; 0); ","title":"wait.until(ExpectedConditions.visibilityOf Element1 OR Element2)","body":"<p>There is an alternative way to wait but it isnt using expected conditions and it uses a lambda expression instead.. </p>\n\n<pre><code>wait.Until(x =&gt; driver.FindElements(By.Xpath(\"//h3[@class='... ']\")).Count &gt; 0 || driver.FindElements(By.Xpath(\"//h2[@class='... ']\")).Count &gt; 0); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":907270,"reputation":23,"user_id":941887,"display_name":"flaperman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451757984,"creation_date":1451757984,"answer_id":34569022,"question_id":14840884,"body_markdown":"You can also use a CSSSelector like this:\r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;h2.someClass, h3.otherClass&quot;)));\r\n\r\nReplace someClass and otherClass with what you had in [...] in the xpath.","title":"wait.until(ExpectedConditions.visibilityOf Element1 OR Element2)","body":"<p>You can also use a CSSSelector like this:</p>\n\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(\"h2.someClass, h3.otherClass\")));\n</code></pre>\n\n<p>Replace someClass and otherClass with what you had in [...] in the xpath.</p>\n"},{"tags":[],"owner":{"account_id":343693,"reputation":2716,"user_id":675577,"accept_rate":83,"display_name":"dialex"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1466265174,"creation_date":1466262943,"answer_id":37898503,"question_id":14840884,"body_markdown":"Now there&#39;s a native solution for that, the `or` method, [check the doc](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#or-org.openqa.selenium.support.ui.ExpectedCondition...-).\r\n\r\nYou use it like so:\r\n\r\n    driverWait.until(ExpectedConditions.or(\r\n        ExpectedConditions.presenceOfElementLocated(By.cssSelector(&quot;div.something&quot;)),\r\n        ExpectedConditions.presenceOfElementLocated(By.cssSelector(&quot;div.anything&quot;))));","title":"wait.until(ExpectedConditions.visibilityOf Element1 OR Element2)","body":"<p>Now there's a native solution for that, the <code>or</code> method, <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#or-org.openqa.selenium.support.ui.ExpectedCondition...-\">check the doc</a>.</p>\n\n<p>You use it like so:</p>\n\n<pre><code>driverWait.until(ExpectedConditions.or(\n    ExpectedConditions.presenceOfElementLocated(By.cssSelector(\"div.something\")),\n    ExpectedConditions.presenceOfElementLocated(By.cssSelector(\"div.anything\"))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9040566,"reputation":51,"user_id":6734991,"display_name":"Prabhat Kumar Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1471618330,"creation_date":1471610818,"answer_id":39039431,"question_id":14840884,"body_markdown":"There is a simple solution for this, using an Explicit Wait: \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//*[@id=&#39;FirstElement&#39; or @id=&#39;SecondElement&#39;]&quot;)));\r\n\t\t\t\t\r\nBefore this I was trying to use `wait.until(ExpectedConditions.or(...`, which was not compatible with selenium versions before 2.53.0.","title":"wait.until(ExpectedConditions.visibilityOf Element1 OR Element2)","body":"<p>There is a simple solution for this, using an Explicit Wait: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>wait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//*[@id='FirstElement' or @id='SecondElement']\")));\n</code></pre>\n\n<p>Before this I was trying to use <code>wait.until(ExpectedConditions.or(...</code>, which was not compatible with selenium versions before 2.53.0.</p>\n"},{"tags":[],"owner":{"account_id":4439246,"reputation":912,"user_id":3614211,"display_name":"Chad Lehman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591808531,"creation_date":1591808531,"answer_id":62309116,"question_id":14840884,"body_markdown":"If you have a variable number of conditions to satisfy, you can leverage a generic list such as Java&#39;s `ArrayList&lt;&gt;` as shown [here][1], and then do the following:\r\n\r\n    //My example is waiting for any one of a list of URLs (code is java)\r\n\r\n        public void waitUntilUrls(List&lt;String&gt; urls) {\r\n            if(null != urls &amp;&amp; urls.size() &gt; 0) {\r\n                System.out.println(&quot;Waiting at &quot; + _driver.getCurrentUrl() + &quot; for &quot; + urls.size() + &quot; urls&quot;);\r\n                List&lt;ExpectedCondition&lt;Boolean&gt;&gt; conditions = new ArrayList&lt;&gt;();\r\n                for (String url : urls) {\r\n                    conditions.add(ExpectedConditions.urlContains(url));\r\n                }\r\n    \r\n                WebDriverWait wait = new WebDriverWait(_driver, 30);\r\n                ExpectedCondition&lt;Boolean&gt;[] x = new ExpectedCondition[conditions.size()];\r\n                x = conditions.toArray(x);\r\n                wait.until(ExpectedConditions.or(x)); // &quot;OR&quot; selects from among your ExpectedCondition&lt;Boolean&gt; array\r\n            }\r\n        }\r\n\r\n  [1]: https://stackoverflow.com/questions/5374311/convert-arrayliststring-to-string-array","title":"wait.until(ExpectedConditions.visibilityOf Element1 OR Element2)","body":"<p>If you have a variable number of conditions to satisfy, you can leverage a generic list such as Java's <code>ArrayList&lt;&gt;</code> as shown <a href=\"https://stackoverflow.com/questions/5374311/convert-arrayliststring-to-string-array\">here</a>, and then do the following:</p>\n\n<pre><code>//My example is waiting for any one of a list of URLs (code is java)\n\n    public void waitUntilUrls(List&lt;String&gt; urls) {\n        if(null != urls &amp;&amp; urls.size() &gt; 0) {\n            System.out.println(\"Waiting at \" + _driver.getCurrentUrl() + \" for \" + urls.size() + \" urls\");\n            List&lt;ExpectedCondition&lt;Boolean&gt;&gt; conditions = new ArrayList&lt;&gt;();\n            for (String url : urls) {\n                conditions.add(ExpectedConditions.urlContains(url));\n            }\n\n            WebDriverWait wait = new WebDriverWait(_driver, 30);\n            ExpectedCondition&lt;Boolean&gt;[] x = new ExpectedCondition[conditions.size()];\n            x = conditions.toArray(x);\n            wait.until(ExpectedConditions.or(x)); // \"OR\" selects from among your ExpectedCondition&lt;Boolean&gt; array\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15388980,"reputation":1687,"user_id":11102299,"display_name":"Bayram Binbir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666563951,"creation_date":1666563951,"answer_id":74175221,"question_id":14840884,"body_markdown":"     wait.until(\r\n                ExpectedConditions.or(\r\n                        ExpectedConditions.elementToBeClickable(By.xpath(&quot;yourXpath&quot;),\r\n                        ExpectedConditions.elementToBeClickable(By.xpath(&quot;yourAnotherXpath&quot;)\r\n                )\r\n        );","title":"wait.until(ExpectedConditions.visibilityOf Element1 OR Element2)","body":"<pre><code> wait.until(\n            ExpectedConditions.or(\n                    ExpectedConditions.elementToBeClickable(By.xpath(&quot;yourXpath&quot;),\n                    ExpectedConditions.elementToBeClickable(By.xpath(&quot;yourAnotherXpath&quot;)\n            )\n    );\n</code></pre>\n"}],"owner":{"display_name":"user2058100"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67635,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":15469266,"answer_count":9,"score":9,"last_activity_date":1666563951,"creation_date":1360699719,"question_id":14840884,"body_markdown":"I want use `wait.until(ExpectedConditions)` with TWO elements.\r\nI am running a test, and I need `WebDriver` to wait until either of **Element1 OR Element2** shows up. Then I need to pick whoever shows up first. I&#39;ve tried:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 60); \r\n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//h2[@class=&#39;....&#39;]&quot;))) || wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//h3[@class=&#39;... &#39;]&quot;))); \r\n            \r\n            // Then I would need:\r\n            \r\n    String result = driver.findElement(By.xpath(&quot;...&quot;)).getText() || driver.findElement(By.xpath(&quot;...&quot;)).getText();\r\n    \r\nTo sum up, I need to wait until either of the TWO elements shows up. Then pick whoever shows up (they cannot show up simultaneously)\r\nPlease Help.\r\n","title":"wait.until(ExpectedConditions.visibilityOf Element1 OR Element2)","body":"<p>I want use <code>wait.until(ExpectedConditions)</code> with TWO elements.\nI am running a test, and I need <code>WebDriver</code> to wait until either of <strong>Element1 OR Element2</strong> shows up. Then I need to pick whoever shows up first. I've tried:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverWait wait = new WebDriverWait(driver, 60); \n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//h2[@class='....']\"))) || wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//h3[@class='... ']\"))); \n\n        // Then I would need:\n\nString result = driver.findElement(By.xpath(\"...\")).getText() || driver.findElement(By.xpath(\"...\")).getText();\n</code></pre>\n\n<p>To sum up, I need to wait until either of the TWO elements shows up. Then pick whoever shows up (they cannot show up simultaneously)\nPlease Help.</p>\n"},{"tags":["java","android","android-listview","android-widget"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1666562948,"post_id":74175150,"comment_id":130961194,"body_markdown":"&quot;I tried searching everywhere&quot; -- [the documentation seems to cover this subject](https://developer.android.com/develop/ui/views/appwidgets/collections?hl=en#keep-data-fresh).","body":"&quot;I tried searching everywhere&quot; -- <a href=\"https://developer.android.com/develop/ui/views/appwidgets/collections?hl=en#keep-data-fresh\" rel=\"nofollow noreferrer\">the documentation seems to cover this subject</a>."},{"owner":{"account_id":26712143,"reputation":11,"user_id":20317321,"display_name":"George T."},"score":0,"creation_date":1667681881,"post_id":74175150,"comment_id":131225955,"body_markdown":"The refresh button on the widget seems to work only after I close the main app.","body":"The refresh button on the widget seems to work only after I close the main app."}],"owner":{"account_id":26712143,"reputation":11,"user_id":20317321,"display_name":"George T."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666562762,"creation_date":1666562762,"question_id":74175150,"body_markdown":"I am building an android app with eclipse and I have a widget that displays a listview that has a button in each for for capturing row item and saving to sqlite db. I am trying to figure out how to update the list whenever the user updates the list in the main app or if they click the refresh imageview I have on the widget. Below are the following classes/files used for the widget. I tried searching everywhere and all the solutions don&#39;t seem to work for a listview widget with a service. Any help is greatly appreciated!\r\n\r\nWidgetProvider.class\r\n\r\n    public class WidgetProvider extends AppWidgetProvider {\r\n\r\n\tDBHelper pdh;\r\n\tpublic static final String ACTION_TOAST = &quot;actionToast&quot;;\r\n\tpublic static final String ACTION_BUTTON = &quot;actionButton&quot;;\r\n\tpublic static final String EXTRA_ITEM_POSITION = &quot;extraItemPosition&quot;;\r\n\tSimpleDateFormat sdfFinal = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\tSimpleDateFormat stf = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n\r\n\t@Override\r\n\tpublic void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n\t\tfinal int N = appWidgetIds.length;\r\n\r\n\t\tfor (int i = 0; i &lt; N; ++i) {\r\n\t\t\tRemoteViews remoteViews = updateWidgetListView(context, appWidgetIds[i]);\r\n\r\n\t\t\tIntent intent = new Intent(context, MainActivity.class);\r\n\t\t\tPendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, 0);\r\n\r\n\t\t\tIntent clickIntentRefresh = new Intent(context, WidgetProvider.class);\r\n\t\t\tclickIntentRefresh.setAction(ACTION_BUTTON);\r\n\t\t\t\r\n\t\t\tPendingIntent clickPendingIntentRefresh = PendingIntent.getBroadcast(context, 0, clickIntentRefresh, 0);\r\n\t\t\t\r\n\t\t\tIntent clickIntent = new Intent(context, WidgetProvider.class);\r\n\t\t\tclickIntent.setAction(ACTION_TOAST);\r\n\t\t\tPendingIntent clickPendingIntent = PendingIntent.getBroadcast(context, 0, clickIntent, 0);\r\n\r\n\t\t\tremoteViews.setOnClickPendingIntent(R.id.ivRefresh,clickPendingIntentRefresh);\r\n\t\t\tremoteViews.setOnClickPendingIntent(R.id.button1, pendingIntent);\r\n\t\t\tremoteViews.setPendingIntentTemplate(R.id.listViewWidget, clickPendingIntent);\r\n\t\t\tappWidgetManager.updateAppWidget(appWidgetIds[i], remoteViews);\r\n\r\n\t\t}\r\n\t\tsuper.onUpdate(context, appWidgetManager, appWidgetIds);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onReceive(Context context, Intent intent) {\r\n\t\tsuper.onReceive(context, intent);\r\n\t\r\n\t\tif (ACTION_TOAST.equals(intent.getAction())) {\r\n\t\t\tString s = intent.getStringExtra(EXTRA_ITEM_POSITION);\r\n\r\n\t\t\tpdh = new DBHelper(context);\r\n\r\n\t\t\tCalendar cal = Calendar.getInstance();\r\n\r\n\t\t\tString strDateStamp = sdfFinal.format(cal.getTime());\r\n\t\t\tString strTimeStamp = stf.format(cal.getTime());\r\n\t\t\tpdh.insertRecord(s, null, strDateStamp, strTimeStamp);\r\n\r\n\t\t\tToast.makeText(context, &quot;Saved!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\t\t} else if (ACTION_BUTTON.equals(intent.getAction())) {\r\n\r\n\t\t\tToast.makeText(context, &quot;Refresh Clicked!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprivate RemoteViews updateWidgetListView(Context context, int appWidgetId) {\r\n\r\n\t\tRemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.widget_layout);\r\n\r\n\t\tIntent svcIntent = new Intent(context, WidgetService.class);\r\n\r\n\t\tsvcIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n\t\tsvcIntent.setData(Uri.parse(svcIntent.toUri(Intent.URI_INTENT_SCHEME)));\r\n\r\n\t\tremoteViews.setRemoteAdapter(R.id.listViewWidget, svcIntent);\r\n\t\tremoteViews.setEmptyView(R.id.listViewWidget, R.id.empty_view);\r\n\r\n\t\treturn remoteViews;\r\n\r\n\t}\r\n\r\n}\r\n\r\nWidgetService.class\r\n\r\n    public class WidgetService extends RemoteViewsService {\r\n\t/*\r\n\t * So pretty simple just defining the Adapter of the listview here Adapter is\r\n\t * ListProvider\r\n\t */\r\n\r\n\t@Override\r\n\tpublic RemoteViewsFactory onGetViewFactory(Intent intent) {\r\n\t\treturn (new ListProvider(this.getApplicationContext(), intent));\r\n\t}\r\n\r\n}\r\n\r\nListProvider.class\r\n\r\n    public class ListProvider implements RemoteViewsFactory {\r\n\r\n\tpublic static final String EXTRA_ITEM_POSITION = &quot;extraItemPosition&quot;;\r\n\tprivate ArrayList&lt;ListItem&gt; listItemList = new ArrayList&lt;ListItem&gt;();\r\n\tprivate Context context = null;\r\n\tprivate Intent intent;\r\n\r\n\tpublic ListProvider(Context context, Intent intent) {\r\n\t\tthis.intent = intent;\r\n\t\tthis.context = context;\r\n\t\tintent.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, AppWidgetManager.INVALID_APPWIDGET_ID);\r\n\r\n\t\tpopulateListItem();\r\n\t}\r\n\r\n\tprivate void populateListItem() {\r\n\t\ttry {\r\n\t\t\tDBHelper pdh = new DBHelper(context);\r\n\r\n\t\t\tlistItemList.clear();\r\n\t\t\t\r\n\t\t\tSQLiteDatabase db = pdh.getReadableDatabase();\r\n\t\t\tString[] columns = new String[] { &quot;Categories&quot; };\r\n\t\t\tCursor c = db.query(&quot;tblCategories&quot;, columns, null, null, null, null, &quot;Categories asc&quot;);\r\n\r\n\t\t\tint categoriesInt = c.getColumnIndex(&quot;Categories&quot;);\r\n\r\n\t\t\tint totalCategories = c.getCount();\r\n\r\n\t\t\tfor (int i = 0; i &lt; totalCategories; i++) {\r\n\t\t\t\tc.moveToPosition(i);\r\n\t\t\t\tListItem listItem = new ListItem();\r\n\t\t\t\tlistItem.heading = c.getString(categoriesInt);\r\n\t\t\t\tlistItemList.add(listItem);\r\n\t\t\t}\r\n\r\n\t\t\tc.close();\r\n\t\t\tdb.close();\r\n\t\t\tpdh.close();\r\n\t\t} catch (Exception ex) {\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getCount() {\r\n\t\treturn listItemList.size();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic long getItemId(int position) {\r\n\t\treturn position;\r\n\t}\r\n\r\n\t/*\r\n\t * Similar to getView of Adapter where instead of View we return RemoteViews\r\n\t *\r\n\t */\r\n\t@Override\r\n\tpublic RemoteViews getViewAt(int position) {\r\n\t\ttry {\t\t\t\r\n\t\t\tfinal RemoteViews remoteView = new RemoteViews(context.getPackageName(), R.layout.list_row);\r\n\t\t\tListItem listItem = (ListItem) listItemList.get(position);\r\n\t\t\tremoteView.setTextViewText(R.id.heading, listItem.heading);\r\n\r\n\t\t\tIntent fillIntent = new Intent();\r\n\t\t\tfillIntent.putExtra(EXTRA_ITEM_POSITION, listItem.heading);\r\n\t\t\tremoteView.setOnClickFillInIntent(R.id.button1, fillIntent);\r\n\r\n\t\t\treturn remoteView;\r\n\t\t} catch (Exception ex) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic RemoteViews getLoadingView() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getViewTypeCount() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean hasStableIds() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onCreate() {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onDataSetChanged() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onDestroy() {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n}\r\n\r\nListItem.class\r\n\r\n    public class ListItem {\r\n\r\n\tpublic String heading;\r\n\r\n}\r\n\r\nAndroidManifest.xml\r\n\r\n    \t\t&lt;receiver android:name=&quot;.WidgetProvider&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.appwidget.action.APPWIDGET_UPDATE&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.appwidget.provider&quot;\r\n                android:resource=&quot;@xml/widgetinfo&quot; /&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.WidgetService&quot;\r\n            android:permission=&quot;android.permission.BIND_REMOTEVIEWS&quot; /&gt;","title":"ANDROID - How do I refresh a listview inside a widget?","body":"<p>I am building an android app with eclipse and I have a widget that displays a listview that has a button in each for for capturing row item and saving to sqlite db. I am trying to figure out how to update the list whenever the user updates the list in the main app or if they click the refresh imageview I have on the widget. Below are the following classes/files used for the widget. I tried searching everywhere and all the solutions don't seem to work for a listview widget with a service. Any help is greatly appreciated!</p>\n<p>WidgetProvider.class</p>\n<pre><code>public class WidgetProvider extends AppWidgetProvider {\n\nDBHelper pdh;\npublic static final String ACTION_TOAST = &quot;actionToast&quot;;\npublic static final String ACTION_BUTTON = &quot;actionButton&quot;;\npublic static final String EXTRA_ITEM_POSITION = &quot;extraItemPosition&quot;;\nSimpleDateFormat sdfFinal = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nSimpleDateFormat stf = new SimpleDateFormat(&quot;HH:mm&quot;);\n\n@Override\npublic void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n    final int N = appWidgetIds.length;\n\n    for (int i = 0; i &lt; N; ++i) {\n        RemoteViews remoteViews = updateWidgetListView(context, appWidgetIds[i]);\n\n        Intent intent = new Intent(context, MainActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, 0);\n\n        Intent clickIntentRefresh = new Intent(context, WidgetProvider.class);\n        clickIntentRefresh.setAction(ACTION_BUTTON);\n        \n        PendingIntent clickPendingIntentRefresh = PendingIntent.getBroadcast(context, 0, clickIntentRefresh, 0);\n        \n        Intent clickIntent = new Intent(context, WidgetProvider.class);\n        clickIntent.setAction(ACTION_TOAST);\n        PendingIntent clickPendingIntent = PendingIntent.getBroadcast(context, 0, clickIntent, 0);\n\n        remoteViews.setOnClickPendingIntent(R.id.ivRefresh,clickPendingIntentRefresh);\n        remoteViews.setOnClickPendingIntent(R.id.button1, pendingIntent);\n        remoteViews.setPendingIntentTemplate(R.id.listViewWidget, clickPendingIntent);\n        appWidgetManager.updateAppWidget(appWidgetIds[i], remoteViews);\n\n    }\n    super.onUpdate(context, appWidgetManager, appWidgetIds);\n}\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    super.onReceive(context, intent);\n\n    if (ACTION_TOAST.equals(intent.getAction())) {\n        String s = intent.getStringExtra(EXTRA_ITEM_POSITION);\n\n        pdh = new DBHelper(context);\n\n        Calendar cal = Calendar.getInstance();\n\n        String strDateStamp = sdfFinal.format(cal.getTime());\n        String strTimeStamp = stf.format(cal.getTime());\n        pdh.insertRecord(s, null, strDateStamp, strTimeStamp);\n\n        Toast.makeText(context, &quot;Saved!&quot;, Toast.LENGTH_SHORT).show();\n\n    } else if (ACTION_BUTTON.equals(intent.getAction())) {\n\n        Toast.makeText(context, &quot;Refresh Clicked!&quot;, Toast.LENGTH_SHORT).show();\n\n    }\n}\n\nprivate RemoteViews updateWidgetListView(Context context, int appWidgetId) {\n\n    RemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.widget_layout);\n\n    Intent svcIntent = new Intent(context, WidgetService.class);\n\n    svcIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n    svcIntent.setData(Uri.parse(svcIntent.toUri(Intent.URI_INTENT_SCHEME)));\n\n    remoteViews.setRemoteAdapter(R.id.listViewWidget, svcIntent);\n    remoteViews.setEmptyView(R.id.listViewWidget, R.id.empty_view);\n\n    return remoteViews;\n\n}\n</code></pre>\n<p>}</p>\n<p>WidgetService.class</p>\n<pre><code>public class WidgetService extends RemoteViewsService {\n/*\n * So pretty simple just defining the Adapter of the listview here Adapter is\n * ListProvider\n */\n\n@Override\npublic RemoteViewsFactory onGetViewFactory(Intent intent) {\n    return (new ListProvider(this.getApplicationContext(), intent));\n}\n</code></pre>\n<p>}</p>\n<p>ListProvider.class</p>\n<pre><code>public class ListProvider implements RemoteViewsFactory {\n\npublic static final String EXTRA_ITEM_POSITION = &quot;extraItemPosition&quot;;\nprivate ArrayList&lt;ListItem&gt; listItemList = new ArrayList&lt;ListItem&gt;();\nprivate Context context = null;\nprivate Intent intent;\n\npublic ListProvider(Context context, Intent intent) {\n    this.intent = intent;\n    this.context = context;\n    intent.getIntExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, AppWidgetManager.INVALID_APPWIDGET_ID);\n\n    populateListItem();\n}\n\nprivate void populateListItem() {\n    try {\n        DBHelper pdh = new DBHelper(context);\n\n        listItemList.clear();\n        \n        SQLiteDatabase db = pdh.getReadableDatabase();\n        String[] columns = new String[] { &quot;Categories&quot; };\n        Cursor c = db.query(&quot;tblCategories&quot;, columns, null, null, null, null, &quot;Categories asc&quot;);\n\n        int categoriesInt = c.getColumnIndex(&quot;Categories&quot;);\n\n        int totalCategories = c.getCount();\n\n        for (int i = 0; i &lt; totalCategories; i++) {\n            c.moveToPosition(i);\n            ListItem listItem = new ListItem();\n            listItem.heading = c.getString(categoriesInt);\n            listItemList.add(listItem);\n        }\n\n        c.close();\n        db.close();\n        pdh.close();\n    } catch (Exception ex) {\n\n    }\n\n}\n\n@Override\npublic int getCount() {\n    return listItemList.size();\n}\n\n@Override\npublic long getItemId(int position) {\n    return position;\n}\n\n/*\n * Similar to getView of Adapter where instead of View we return RemoteViews\n *\n */\n@Override\npublic RemoteViews getViewAt(int position) {\n    try {           \n        final RemoteViews remoteView = new RemoteViews(context.getPackageName(), R.layout.list_row);\n        ListItem listItem = (ListItem) listItemList.get(position);\n        remoteView.setTextViewText(R.id.heading, listItem.heading);\n\n        Intent fillIntent = new Intent();\n        fillIntent.putExtra(EXTRA_ITEM_POSITION, listItem.heading);\n        remoteView.setOnClickFillInIntent(R.id.button1, fillIntent);\n\n        return remoteView;\n    } catch (Exception ex) {\n        return null;\n    }\n}\n\n@Override\npublic RemoteViews getLoadingView() {\n    // TODO Auto-generated method stub\n    return null;\n}\n\n@Override\npublic int getViewTypeCount() {\n    // TODO Auto-generated method stub\n    return 1;\n}\n\n@Override\npublic boolean hasStableIds() {\n    // TODO Auto-generated method stub\n    return false;\n}\n\n@Override\npublic void onCreate() {\n    // TODO Auto-generated method stub\n\n}\n\n@Override\npublic void onDataSetChanged() {\n    // TODO Auto-generated method stub\n    \n}\n\n@Override\npublic void onDestroy() {\n    // TODO Auto-generated method stub\n\n}\n</code></pre>\n<p>}</p>\n<p>ListItem.class</p>\n<pre><code>public class ListItem {\n\npublic String heading;\n</code></pre>\n<p>}</p>\n<p>AndroidManifest.xml</p>\n<pre><code>        &lt;receiver android:name=&quot;.WidgetProvider&quot; &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.appwidget.action.APPWIDGET_UPDATE&quot; /&gt;\n        &lt;/intent-filter&gt;\n\n        &lt;meta-data\n            android:name=&quot;android.appwidget.provider&quot;\n            android:resource=&quot;@xml/widgetinfo&quot; /&gt;\n    &lt;/receiver&gt;\n\n    &lt;service\n        android:name=&quot;.WidgetService&quot;\n        android:permission=&quot;android.permission.BIND_REMOTEVIEWS&quot; /&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","authentication"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1666590964,"post_id":74166985,"comment_id":130964664,"body_markdown":"You are using basic auth, after successful authentication you will keep sending the username/password. You also use the defaults which means a session gets created and a session cookie as well. That session cookie will remain even after you close the browser, if the session hasn&#39;t timed out you are still logged in.","body":"You are using basic auth, after successful authentication you will keep sending the username/password. You also use the defaults which means a session gets created and a session cookie as well. That session cookie will remain even after you close the browser, if the session hasn&#39;t timed out you are still logged in."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666520630,"creation_date":1666477903,"answer_id":74167532,"question_id":74166985,"body_markdown":"Spring boot by default uses an embedded tomcat to run your application\r\n\r\nIn case you have already built your jar and you just shut down normally the app and restart it again, then it is normal that you still see the authentication existing.\r\n\r\nFrom tomcat [doc][1]\r\n\r\n&gt; Whenever Apache Tomcat is shut down normally and restarted, or when an\r\n&gt; application reload is triggered, the standard Manager implementation\r\n&gt; will attempt to serialize all currently active sessions to a disk file\r\n&gt; located via the pathname attribute. All such saved sessions will then\r\n&gt; be deserialized and activated (assuming they have not expired in the\r\n&gt; mean time) when the application reload is completed.\r\n\r\nWhat the above means is that the security authentication which would exist in a HttpSession in ram memory would be transfered to hard disk during shutdown and reloaded again in ram memory during restart if it has not expired yet. \r\n\r\nThe above will answer why the application remembers you even after you restart. \r\n\r\nAs to you closing the browser I think you are closing the browser&#39;s tab and so the httpBasic header remains when you reopen a new tab and send a request to the restarted application. \r\n\r\nTo avoid this situation that tomcat stores session and reloads them during restart, for `tomcat8` as described in documentation you can add in your `src/main/resources` a `META-INF/context.xml` file. Inside `context.xml` you should add the line `&lt;Manager pathname=&quot;&quot; /&gt;`.\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/config/manager.html#Disable_Session_Persistence","title":"spring boot ask for login only once and remain logged even if i reload it","body":"<p>Spring boot by default uses an embedded tomcat to run your application</p>\n<p>In case you have already built your jar and you just shut down normally the app and restart it again, then it is normal that you still see the authentication existing.</p>\n<p>From tomcat <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/config/manager.html#Disable_Session_Persistence\" rel=\"nofollow noreferrer\">doc</a></p>\n<blockquote>\n<p>Whenever Apache Tomcat is shut down normally and restarted, or when an\napplication reload is triggered, the standard Manager implementation\nwill attempt to serialize all currently active sessions to a disk file\nlocated via the pathname attribute. All such saved sessions will then\nbe deserialized and activated (assuming they have not expired in the\nmean time) when the application reload is completed.</p>\n</blockquote>\n<p>What the above means is that the security authentication which would exist in a HttpSession in ram memory would be transfered to hard disk during shutdown and reloaded again in ram memory during restart if it has not expired yet.</p>\n<p>The above will answer why the application remembers you even after you restart.</p>\n<p>As to you closing the browser I think you are closing the browser's tab and so the httpBasic header remains when you reopen a new tab and send a request to the restarted application.</p>\n<p>To avoid this situation that tomcat stores session and reloads them during restart, for <code>tomcat8</code> as described in documentation you can add in your <code>src/main/resources</code> a <code>META-INF/context.xml</code> file. Inside <code>context.xml</code> you should add the line <code>&lt;Manager pathname=&quot;&quot; /&gt;</code>.</p>\n"}],"owner":{"account_id":23310329,"reputation":41,"user_id":17389688,"display_name":"leo___"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74167532,"answer_count":1,"score":2,"last_activity_date":1666562217,"creation_date":1666471551,"question_id":74166985,"body_markdown":"I&#39;m learning spring security, i&#39;ve already met this problem in another project, i&#39;ve copied this simple rest api just to see if it was going to happen again. When i reach a protected endpoint, it check the validity of the request, but only once. In fact i can stop thr application, close the browser, and reopen anything, but still is logged in and does not ask password anymore. I&#39;ve also tried postman to see if it was a browser problem, (chekced with chrome and firefox), but it&#39;s still the same, the first time it ask me a password, and then once logged, in postman using basic auth, i can even login using only the username withouth saying any password.\r\n\r\nController:\r\n\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class HomeController {\r\n\r\n    @GetMapping\r\n    public String home() {\r\n        return &quot;Hello, World!&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    public String user() {\r\n        return &quot;Hello, User!&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    public String admin() {\r\n        return &quot;Hello, Admin!&quot;;\r\n    }\r\n\r\n    }\r\n\r\n\r\nsecurity config:\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import \r\n    org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.core.userdetails.User;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n\r\n    import static org.springframework.security.config.Customizer.withDefaults;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n public class SecurityConfig {\r\n\r\n    @Bean\r\n    public InMemoryUserDetailsManager userDetailsService() {\r\n        UserDetails user = User.withDefaultPasswordEncoder()\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;password&quot;)\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        UserDetails admin = User.withDefaultPasswordEncoder()\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;password&quot;)\r\n                .roles(&quot;ADMIN&quot;, &quot;USER&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user, admin);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain configure(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeRequests(auth -&gt; {\r\n                    auth.antMatchers(&quot;/&quot;).permitAll();\r\n                    auth.antMatchers(&quot;/user&quot;).hasRole(&quot;USER&quot;);\r\n                    auth.antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;);\r\n                })\r\n                .httpBasic(withDefaults())\r\n                .build();\r\n    }\r\n\r\n}\r\n\r\n","title":"spring boot ask for login only once and remain logged even if i reload it","body":"<p>I'm learning spring security, i've already met this problem in another project, i've copied this simple rest api just to see if it was going to happen again. When i reach a protected endpoint, it check the validity of the request, but only once. In fact i can stop thr application, close the browser, and reopen anything, but still is logged in and does not ask password anymore. I've also tried postman to see if it was a browser problem, (chekced with chrome and firefox), but it's still the same, the first time it ask me a password, and then once logged, in postman using basic auth, i can even login using only the username withouth saying any password.</p>\n<p>Controller:</p>\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HomeController {\n\n@GetMapping\npublic String home() {\n    return &quot;Hello, World!&quot;;\n}\n\n@GetMapping(&quot;/user&quot;)\npublic String user() {\n    return &quot;Hello, User!&quot;;\n}\n\n@GetMapping(&quot;/admin&quot;)\npublic String admin() {\n    return &quot;Hello, Admin!&quot;;\n}\n\n}\n</code></pre>\n<p>security config:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport \norg.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\n@Configuration\n@EnableWebSecurity\n</code></pre>\n<p>public class SecurityConfig {</p>\n<pre><code>@Bean\npublic InMemoryUserDetailsManager userDetailsService() {\n    UserDetails user = User.withDefaultPasswordEncoder()\n            .username(&quot;user&quot;)\n            .password(&quot;password&quot;)\n            .roles(&quot;USER&quot;)\n            .build();\n    UserDetails admin = User.withDefaultPasswordEncoder()\n            .username(&quot;admin&quot;)\n            .password(&quot;password&quot;)\n            .roles(&quot;ADMIN&quot;, &quot;USER&quot;)\n            .build();\n    return new InMemoryUserDetailsManager(user, admin);\n}\n\n@Bean\npublic SecurityFilterChain configure(HttpSecurity http) throws Exception {\n    return http\n            .csrf(csrf -&gt; csrf.disable())\n            .authorizeRequests(auth -&gt; {\n                auth.antMatchers(&quot;/&quot;).permitAll();\n                auth.antMatchers(&quot;/user&quot;).hasRole(&quot;USER&quot;);\n                auth.antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;);\n            })\n            .httpBasic(withDefaults())\n            .build();\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","kubernetes","google-cloud-storage","nio","spring-cloud-gcp"],"comments":[{"owner":{"account_id":16565794,"reputation":2481,"user_id":11970424,"display_name":"AndD"},"score":0,"creation_date":1612988567,"post_id":66144214,"comment_id":116941135,"body_markdown":"With &quot;locally everything works fine&quot; you mean by running the Spring boot app inside a container or locally on your machine?","body":"With &quot;locally everything works fine&quot; you mean by running the Spring boot app inside a container or locally on your machine?"},{"owner":{"account_id":169380,"reputation":1471,"user_id":395430,"accept_rate":100,"display_name":"tagtraeumer"},"score":0,"creation_date":1612991227,"post_id":66144214,"comment_id":116942127,"body_markdown":"Locally on my machine in eclipse","body":"Locally on my machine in eclipse"},{"owner":{"account_id":355210,"reputation":8448,"user_id":694014,"accept_rate":88,"display_name":"Sodved"},"score":0,"creation_date":1662644029,"post_id":66144214,"comment_id":130057179,"body_markdown":"So I have been playing around with this. As stated in the answers, the issue is the [spring boot custom jar format](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.nested-jars). Inside `google-cloud-nio` is a file under `META-INF/services`. If I manually copy this file into the spring boot `META-INF/services` then it works fine.\nHaving my own `resources/META-INF/services` does not work either (because is not in the jar `META-INF`, but is under `classes/META-INF`.\nJust using maven assemble plugin works too but opens dependency risks","body":"So I have been playing around with this. As stated in the answers, the issue is the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.nested-jars\" rel=\"nofollow noreferrer\">spring boot custom jar format</a>. Inside <code>google-cloud-nio</code> is a file under <code>META-INF&#47;services</code>. If I manually copy this file into the spring boot <code>META-INF&#47;services</code> then it works fine. Having my own <code>resources&#47;META-INF&#47;services</code> does not work either (because is not in the jar <code>META-INF</code>, but is under <code>classes&#47;META-INF</code>. Just using maven assemble plugin works too but opens dependency risks"}],"answers":[{"tags":[],"owner":{"account_id":1844033,"reputation":11661,"user_id":1672803,"display_name":"Mike Schwartz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612993130,"creation_date":1612993130,"answer_id":66145445,"question_id":66144214,"body_markdown":"The gs:// syntax is not universal; it&#39;s supported by certain Google tools and services (gsutil, for example) but it&#39;s not a known by many URL libraries.\r\n\r\nYou could change to use the HTTP syntax for one of the GCS APIs, e.g.,\r\n```\r\nhttps://my-storage.storage.googlapis.com/path/to/file/image.jpg\r\n```\r\n\r\nNote that the above HTTP URL will require authentication, so probably instead you would want to use a library like [google-cloud-java](https://github.com/googleapis/google-cloud-java) that supports making authenticated GCS requests.","title":"Provider &quot;gs&quot; not installed","body":"<p>The gs:// syntax is not universal; it's supported by certain Google tools and services (gsutil, for example) but it's not a known by many URL libraries.</p>\n<p>You could change to use the HTTP syntax for one of the GCS APIs, e.g.,</p>\n<pre><code>https://my-storage.storage.googlapis.com/path/to/file/image.jpg\n</code></pre>\n<p>Note that the above HTTP URL will require authentication, so probably instead you would want to use a library like <a href=\"https://github.com/googleapis/google-cloud-java\" rel=\"nofollow noreferrer\">google-cloud-java</a> that supports making authenticated GCS requests.</p>\n"},{"tags":[],"owner":{"account_id":13450780,"reputation":891,"user_id":9705670,"display_name":"Averi Kitsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620944350,"creation_date":1620944350,"answer_id":67526886,"question_id":66144214,"body_markdown":"It looks like the conventional Spring boot packaging here isn&#39;t packaging the dependency in the needed way. Usually you&#39;ll see something like:\r\n\r\n```XML\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.5&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nHowever, for the &quot;gs&quot; provider to be accessible it needs to be in the &#39;lib/&#39; folder. You can package it manually by copying the dependencies and then creating the JAR (this is based on the [springboot-helloworld](https://github.com/GoogleCloudPlatform/java-docs-samples/tree/master/appengine-java11/springboot-helloworld) sample:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n  &lt;executions&gt;\r\n      &lt;execution&gt;\r\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;\r\n                  ${project.build.directory}/lib\r\n              &lt;/outputDirectory&gt;\r\n          &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n&lt;configuration&gt;\r\n    &lt;archive&gt;\r\n        &lt;manifest&gt;\r\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n            &lt;mainClass&gt;\r\n              com.example.appengine.springboot.SpringbootApplication\r\n            &lt;/mainClass&gt;\r\n        &lt;/manifest&gt;\r\n    &lt;/archive&gt;\r\n&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nOriginally [posted on GitHub](https://github.com/googleapis/java-storage-nio/issues/547).","title":"Provider &quot;gs&quot; not installed","body":"<p>It looks like the conventional Spring boot packaging here isn't packaging the dependency in the needed way. Usually you'll see something like:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.5&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>However, for the &quot;gs&quot; provider to be accessible it needs to be in the 'lib/' folder. You can package it manually by copying the dependencies and then creating the JAR (this is based on the <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/tree/master/appengine-java11/springboot-helloworld\" rel=\"nofollow noreferrer\">springboot-helloworld</a> sample:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n  &lt;executions&gt;\n      &lt;execution&gt;\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\n          &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n              &lt;outputDirectory&gt;\n                  ${project.build.directory}/lib\n              &lt;/outputDirectory&gt;\n          &lt;/configuration&gt;\n      &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n&lt;configuration&gt;\n    &lt;archive&gt;\n        &lt;manifest&gt;\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n            &lt;mainClass&gt;\n              com.example.appengine.springboot.SpringbootApplication\n            &lt;/mainClass&gt;\n        &lt;/manifest&gt;\n    &lt;/archive&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Originally <a href=\"https://github.com/googleapis/java-storage-nio/issues/547\" rel=\"nofollow noreferrer\">posted on GitHub</a>.</p>\n"},{"tags":[],"owner":{"account_id":16077807,"reputation":136,"user_id":11604596,"display_name":"aidan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633382827,"creation_date":1630624258,"answer_id":69037892,"question_id":66144214,"body_markdown":"Following [Averi Kitsch&#39;s answer][1] and using the same [springboot-helloworld][2] example, I was able to get it working locally after updating pom.xml. However, much like it did for you, it only worked when I ran it locally and would fail when I deployed it on Google Cloud. The issue was that the Dockerfile I was using was ignoring all of the jar files in the /target/lib directory, and I needed to copy that directory to the image. Note that I used Google Cloud Run, but I believe this should work for most deployments using Dockerfile.\r\n\r\nHere&#39;s what I ended up with:\r\n\r\n**Dockerfile**\r\n\r\n    FROM maven:3.8-jdk-11 as builder\r\n    \r\n    WORKDIR /app\r\n    COPY pom.xml .\r\n    COPY src ./src\r\n    \r\n    RUN mvn package -DskipTests\r\n    \r\n    FROM adoptopenjdk/openjdk11:alpine-jre\r\n    \r\n    COPY --from=builder /app/target/springboot-helloworld-*.jar /springboot-helloworld.jar\r\n    \r\n    # IMPORTANT! - Copy the library jars to the production image!\r\n    COPY --from=builder /app/target/lib /lib\r\n    \r\n    CMD [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;/springboot-helloworld.jar&quot;]\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.example.appengine&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springboot-helloworld&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n          &lt;artifactId&gt;google-cloud-nio&lt;/artifactId&gt;\r\n          &lt;version&gt;0.123.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;outputDirectory&gt;\r\n                    ${project.build.directory}/lib\r\n                  &lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                  &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                  &lt;mainClass&gt;\r\n                    com.example.appengine.springboot.SpringbootApplication\r\n                  &lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n  [1]: https://stackoverflow.com/a/67526886/11604596\r\n  [2]: https://github.com/GoogleCloudPlatform/java-docs-samples/tree/master/appengine-java11/springboot-helloworld\r\n\r\n","title":"Provider &quot;gs&quot; not installed","body":"<p>Following <a href=\"https://stackoverflow.com/a/67526886/11604596\">Averi Kitsch's answer</a> and using the same <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/tree/master/appengine-java11/springboot-helloworld\" rel=\"nofollow noreferrer\">springboot-helloworld</a> example, I was able to get it working locally after updating pom.xml. However, much like it did for you, it only worked when I ran it locally and would fail when I deployed it on Google Cloud. The issue was that the Dockerfile I was using was ignoring all of the jar files in the /target/lib directory, and I needed to copy that directory to the image. Note that I used Google Cloud Run, but I believe this should work for most deployments using Dockerfile.</p>\n<p>Here's what I ended up with:</p>\n<p><strong>Dockerfile</strong></p>\n<pre><code>FROM maven:3.8-jdk-11 as builder\n\nWORKDIR /app\nCOPY pom.xml .\nCOPY src ./src\n\nRUN mvn package -DskipTests\n\nFROM adoptopenjdk/openjdk11:alpine-jre\n\nCOPY --from=builder /app/target/springboot-helloworld-*.jar /springboot-helloworld.jar\n\n# IMPORTANT! - Copy the library jars to the production image!\nCOPY --from=builder /app/target/lib /lib\n\nCMD [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;/springboot-helloworld.jar&quot;]\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.example.appengine&lt;/groupId&gt;\n  &lt;artifactId&gt;springboot-helloworld&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;google-cloud-nio&lt;/artifactId&gt;\n      &lt;version&gt;0.123.8&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;\n                ${project.build.directory}/lib\n              &lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n              &lt;mainClass&gt;\n                com.example.appengine.springboot.SpringbootApplication\n              &lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26712220,"reputation":1,"user_id":20317381,"display_name":"Arash Aghassi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666562198,"creation_date":1666562161,"answer_id":74175094,"question_id":66144214,"body_markdown":"just mounh the storage bucket in the your server use local path\r\nsee below:\r\nhttps://medium.com/@antrixsh/how-to-mount-cloud-storage-bucket-with-gcp-compute-engine-ba7c95ad5349\r\n","title":"Provider &quot;gs&quot; not installed","body":"<p>just mounh the storage bucket in the your server use local path\nsee below:\n<a href=\"https://medium.com/@antrixsh/how-to-mount-cloud-storage-bucket-with-gcp-compute-engine-ba7c95ad5349\" rel=\"nofollow noreferrer\">https://medium.com/@antrixsh/how-to-mount-cloud-storage-bucket-with-gcp-compute-engine-ba7c95ad5349</a></p>\n"}],"owner":{"account_id":169380,"reputation":1471,"user_id":395430,"accept_rate":100,"display_name":"tagtraeumer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1666562198,"creation_date":1612987564,"question_id":66144214,"body_markdown":"i&#39;ve found two similar posts here but one hasn&#39;t been answered and the other was about android. I have a spring boot project and I want to access GCP Storage files within my application.\r\n\r\nLocally everything works fine I can access my bucket and read as well as store files in my storage. But when i upload it to gcp kubernetes I get the following exception:\r\n\r\n&gt; &quot;java.nio.file.FileSystemNotFoundException: Provider &quot;gs&quot; not\r\n&gt; installed \tat java.nio.file.Paths.get(Paths.java:147) ~[na:1.8.0_212]\r\n&gt; \tat\r\n&gt; xx.xx.StorageService.saveFile(StorageService.java:64)\r\n&gt; ~[classes!/:0.3.20-SNAPSHOT]\r\n\r\nMy line of code where it appears is like follows:\r\n\r\n    public void saveFile(MultipartFile multipartFile, String path) {\r\n\t\tString completePath = filesBasePath + path;\r\n\t\t\r\n\t\tPath filePath = Paths.get(URI.create(completePath)); // &lt;- exception appears here\r\n\t\tFiles.createDirectories(filePath);\r\n\t\tmultipartFile.transferTo(filePath);\r\n\t\t\t\r\n\t}\r\n}\r\n\r\nThe completePath could result in something like &quot;gs://my-storage/path/to/file/image.jpg&quot;\r\n\r\nI have the following dependencies:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-storage&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.2.6.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;google-cloud-nio&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.122.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nDoes anyone have a clue where to look at?\r\nThe only real difference except for the infrastructure is that i don&#39;t explicitly don&#39;t use authentication on kubernetes as it is not required according to the documentation\r\n\r\n&gt; When using Google Cloud libraries from a Google Cloud Platform\r\n&gt; environment such as Compute Engine, Kubernetes Engine, or App Engine,\r\n&gt; no additional authentication steps are necessary.","title":"Provider &quot;gs&quot; not installed","body":"<p>i've found two similar posts here but one hasn't been answered and the other was about android. I have a spring boot project and I want to access GCP Storage files within my application.</p>\n<p>Locally everything works fine I can access my bucket and read as well as store files in my storage. But when i upload it to gcp kubernetes I get the following exception:</p>\n<blockquote>\n<p>&quot;java.nio.file.FileSystemNotFoundException: Provider &quot;gs&quot; not\ninstalled     at java.nio.file.Paths.get(Paths.java:147) ~[na:1.8.0_212]\nat\nxx.xx.StorageService.saveFile(StorageService.java:64)\n~[classes!/:0.3.20-SNAPSHOT]</p>\n</blockquote>\n<p>My line of code where it appears is like follows:</p>\n<pre><code>public void saveFile(MultipartFile multipartFile, String path) {\n    String completePath = filesBasePath + path;\n    \n    Path filePath = Paths.get(URI.create(completePath)); // &lt;- exception appears here\n    Files.createDirectories(filePath);\n    multipartFile.transferTo(filePath);\n        \n}\n</code></pre>\n<p>}</p>\n<p>The completePath could result in something like &quot;gs://my-storage/path/to/file/image.jpg&quot;</p>\n<p>I have the following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter-storage&lt;/artifactId&gt;\n    &lt;version&gt;1.2.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;google-cloud-nio&lt;/artifactId&gt;\n    &lt;version&gt;0.122.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Does anyone have a clue where to look at?\nThe only real difference except for the infrastructure is that i don't explicitly don't use authentication on kubernetes as it is not required according to the documentation</p>\n<blockquote>\n<p>When using Google Cloud libraries from a Google Cloud Platform\nenvironment such as Compute Engine, Kubernetes Engine, or App Engine,\nno additional authentication steps are necessary.</p>\n</blockquote>\n"},{"tags":["java","if-statement","switch-statement","division","modulo"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":4,"creation_date":1666557149,"post_id":74174529,"comment_id":130960192,"body_markdown":"Do just what you said, integer division by 13 for the the suit and modulo 13 for the rank.","body":"Do just what you said, integer division by 13 for the the suit and modulo 13 for the rank."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666557172,"post_id":74174529,"comment_id":130960200,"body_markdown":"How many cards are in each suit? What do you get when you divide the card number by that number?","body":"How many cards are in each suit? What do you get when you divide the card number by that number?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666557518,"post_id":74174529,"comment_id":130960267,"body_markdown":"You need to do the operation `rank = index % &lt;something&gt;` (where `rank == 0` means a two and so on). Taking the 3H, the index is 14, and the rank should be 1. What number do you need to use so that 14 % &lt;something&gt; == 1?","body":"You need to do the operation <code>rank = index % &lt;something&gt;</code> (where <code>rank == 0</code> means a two and so on). Taking the 3H, the index is 14, and the rank should be 1. What number do you need to use so that 14 % &lt;something&gt; == 1?"}],"answers":[{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666561058,"creation_date":1666558776,"answer_id":74174745,"question_id":74174529,"body_markdown":"You are right, to obtain the suit you can use div.\r\nLets say that `card` is in range [0-51].\r\n\r\n```\r\nsuit = card div 13\r\n```\r\n\r\nTo obtain the value within suite (`value` is in range [0-12]) you can use the formula\r\n```\r\nvalue = card mod 13\r\n```","title":"Java Deck of Cards suit and rank format","body":"<p>You are right, to obtain the suit you can use div.\nLets say that <code>card</code> is in range [0-51].</p>\n<pre><code>suit = card div 13\n</code></pre>\n<p>To obtain the value within suite (<code>value</code> is in range [0-12]) you can use the formula</p>\n<pre><code>value = card mod 13\n</code></pre>\n"}],"owner":{"account_id":26637230,"reputation":11,"user_id":20253472,"display_name":"Firefox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666561058,"creation_date":1666556794,"question_id":74174529,"body_markdown":"I have an integer array filled with values 0-51.\r\n\r\n0-12\t\r\nranks 2-10JQKA of suit Spades\r\n\r\n13-25\t\r\nranks 2-10JQKA of suit Hearts\r\n\r\n26-38\t\r\nranks 2-10JQKA of suit Clubs\r\n\r\n39-51\t\r\nranks 2-10JQKA of suit Diamonds\r\n\r\nI need to find a way to use division in order to obtain the suit, and modulo for the rank.  NOTE: I would appreciate ideas, not answers, as I need some help getting started.\r\n\r\nMy current code consists of an if/switch statement structure.  However I&#39;m looking for a way to implement the above requirements.\r\n\r\n    if(card &lt;= 12) {\r\n         switch(card) {\r\n            case 0:\r\n            case 1:\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n            case 6:\r\n            case 7:\r\n            case 8:\r\n               System.out.println(card + &quot; of Spades&quot;);\r\n               break;\r\n            case 9:\r\n               System.out.println(&quot;Jack of Spades&quot;);\r\n               break;\r\n            case 10:\r\n               System.out.println(&quot;Queen of Spades&quot;);\r\n               break;\r\n            case 11:\r\n               System.out.println(&quot;King of Spades&quot;);\r\n               break;\r\n            case 12:\r\n               System.out.println(&quot;Ace of Spades&quot;);\r\n               break;\r\n         }\r\n    }\r\n","title":"Java Deck of Cards suit and rank format","body":"<p>I have an integer array filled with values 0-51.</p>\n<p>0-12<br />\nranks 2-10JQKA of suit Spades</p>\n<p>13-25<br />\nranks 2-10JQKA of suit Hearts</p>\n<p>26-38<br />\nranks 2-10JQKA of suit Clubs</p>\n<p>39-51<br />\nranks 2-10JQKA of suit Diamonds</p>\n<p>I need to find a way to use division in order to obtain the suit, and modulo for the rank.  NOTE: I would appreciate ideas, not answers, as I need some help getting started.</p>\n<p>My current code consists of an if/switch statement structure.  However I'm looking for a way to implement the above requirements.</p>\n<pre><code>if(card &lt;= 12) {\n     switch(card) {\n        case 0:\n        case 1:\n        case 2:\n        case 3:\n        case 4:\n        case 5:\n        case 6:\n        case 7:\n        case 8:\n           System.out.println(card + &quot; of Spades&quot;);\n           break;\n        case 9:\n           System.out.println(&quot;Jack of Spades&quot;);\n           break;\n        case 10:\n           System.out.println(&quot;Queen of Spades&quot;);\n           break;\n        case 11:\n           System.out.println(&quot;King of Spades&quot;);\n           break;\n        case 12:\n           System.out.println(&quot;Ace of Spades&quot;);\n           break;\n     }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666558485,"post_id":74174701,"comment_id":130960439,"body_markdown":"If you want the manual route (vs one of the existing parsers), then you can split the string by `:\\s*`, and then parse _those_ strings into integers, checking if they are a valid time.","body":"If you want the manual route (vs one of the existing parsers), then you can split the string by <code>:\\s*</code>, and then parse <i>those</i> strings into integers, checking if they are a valid time."},{"owner":{"account_id":7754452,"reputation":1204,"user_id":5869325,"display_name":"aydinugur"},"score":0,"creation_date":1666558684,"post_id":74174701,"comment_id":130960467,"body_markdown":"Why don&#39;t you use regex? (see: https://docs.oracle.com/javase/tutorial/essential/regex/)","body":"Why don&#39;t you use regex? (see: <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/regex</a>)"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1666559150,"post_id":74174701,"comment_id":130960558,"body_markdown":"I see no restriction to go for Java&#39;s time parser: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalTime.html#parse(java.lang.CharSequence)","body":"I see no restriction to go for Java&#39;s time parser: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalTime.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/19/docs/api/java.base/java/ti&zwnj;&#8203;me/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666560733,"creation_date":1666560257,"answer_id":74174918,"question_id":74174701,"body_markdown":"# tl;dr\r\n\r\n    try { LocalTime lt = LocalTime.parse( input ) ; } \r\n    catch ( DateTimeParseException e ) { … }\r\n\r\n# Details\r\n\r\n[Parse][1] as a [`LocalTime`][2], trap for [exception][3].\r\n\r\n    try \r\n    {\r\n        LocalTime lt = LocalTime.parse( input ) ;\r\n    } \r\n    catch ( DateTimeParseException e ) \r\n    {\r\n        …\r\n    }\r\n\r\nSee this [code run at Ideone.com][4].\r\n\r\n&gt;Valid input produces: 15:30\r\n&gt;\r\n&gt;Oops. Faulty input: 29:30\r\n\r\nYour input format of HH:MM in 24-hour clock is defined in the [ISO&#160;8601][5] standard. The *java.time* classes use ISO 8601 standard formats by default when parsing/generating text. So no need to specify a formatting pattern. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html#parse(java.lang.CharSequence)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeParseException.html\r\n  [4]: https://ideone.com/Dc82gk\r\n  [5]: https://en.wikipedia.org/wiki/ISO_8601","title":"Validate time in java","body":"<h1>tl;dr</h1>\n<pre><code>try { LocalTime lt = LocalTime.parse( input ) ; } \ncatch ( DateTimeParseException e ) { … }\n</code></pre>\n<h1>Details</h1>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">Parse</a> as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a>, trap for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeParseException.html\" rel=\"nofollow noreferrer\">exception</a>.</p>\n<pre><code>try \n{\n    LocalTime lt = LocalTime.parse( input ) ;\n} \ncatch ( DateTimeParseException e ) \n{\n    …\n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/Dc82gk\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>Valid input produces: 15:30</p>\n<p>Oops. Faulty input: 29:30</p>\n</blockquote>\n<p>Your input format of HH:MM in 24-hour clock is defined in the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard. The <em>java.time</em> classes use ISO 8601 standard formats by default when parsing/generating text. So no need to specify a formatting pattern.</p>\n"},{"tags":[],"owner":{"account_id":25987917,"reputation":63,"user_id":19700613,"display_name":"Unkown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666560511,"creation_date":1666560511,"answer_id":74174942,"question_id":74174701,"body_markdown":"                  Scanner timeInput = new Scanner(System.in);\r\n                  System.out.println(&quot;Enter time of sunrise [hh: mm]&gt; &quot;);\r\n                  String sunrise = timeInput.next();\r\n                  System.out.println(&quot;Enter time of sunset [hh: mm]&gt;  &quot;);\r\n                  String sunset = timeInput.next();\r\n                  String sunrise1[]=sunrise.split(&quot;:&quot;); // Splitting the string by identifying : inside the string and storing in array\r\n                  int hour=Integer.parseInt(sunrise1[0]); //identifying elements based on the array index hours is 0\r\n                  int minutes=Integer.parseInt(sunrise1[1]);//minutes is 1\r\n                      if(hour&gt;0 &amp;&amp; hour&lt;24){ // performing checks for hour and minutes whether the time is valid or not\r\n                          if(minutes&gt;=0 &amp;&amp; minutes&lt;60){\r\n                              System.out.println(&quot;Valid time&quot;);\r\n                          }else{\r\n                              System.out.println(&quot;Minute is not proper&quot;);\r\n                          }\r\n                      }else {\r\n                              System.out.println(&quot;Time is not proper&quot;);\r\n                      }","title":"Validate time in java","body":"<pre><code>              Scanner timeInput = new Scanner(System.in);\n              System.out.println(&quot;Enter time of sunrise [hh: mm]&gt; &quot;);\n              String sunrise = timeInput.next();\n              System.out.println(&quot;Enter time of sunset [hh: mm]&gt;  &quot;);\n              String sunset = timeInput.next();\n              String sunrise1[]=sunrise.split(&quot;:&quot;); // Splitting the string by identifying : inside the string and storing in array\n              int hour=Integer.parseInt(sunrise1[0]); //identifying elements based on the array index hours is 0\n              int minutes=Integer.parseInt(sunrise1[1]);//minutes is 1\n                  if(hour&gt;0 &amp;&amp; hour&lt;24){ // performing checks for hour and minutes whether the time is valid or not\n                      if(minutes&gt;=0 &amp;&amp; minutes&lt;60){\n                          System.out.println(&quot;Valid time&quot;);\n                      }else{\n                          System.out.println(&quot;Minute is not proper&quot;);\n                      }\n                  }else {\n                          System.out.println(&quot;Time is not proper&quot;);\n                  }\n</code></pre>\n"}],"owner":{"account_id":26711911,"reputation":1,"user_id":20317121,"display_name":"asd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1666562515,"answer_count":2,"score":-3,"last_activity_date":1666560733,"creation_date":1666558341,"question_id":74174701,"body_markdown":"I am trying to check if the time the user enters is valid or not, so I am receiving the time as a string in this format hh: mm. However, I want to check if the hours and minutes are valid. I was thinking to convert it from string to int and check it but since it is in this format hh: mm I can&#39;t do it. Is there any solution for it? \r\n\r\n                 // New Scanner to get the time from the user\r\n\t\t\t      Scanner timeInput = new Scanner(System.in);\r\n\r\n\t\t\t      // Get sunrise + sunset from the user\r\n\t\t\t      System.out.println(&quot;Enter time of sunrise [hh: mm]&gt; &quot;);\r\n\t\t\t      String sunrise = timeInput.next();\r\n\t\t\t      System.out.println(&quot;Enter time of sunset [hh: mm]&gt;  &quot;);\r\n\t\t\t      String sunset = timeInput.next();\r\n\t\t\t      \r\n\t\t\t      \r\n\t\t\t      try{\r\n\t\t\t            int number = Integer.parseInt(sunrise);\r\n\t\t\t            System.out.println(number); \r\n\t\t\t        }\r\n\t\t\t        catch (NumberFormatException ex){\r\n\t\t\t            ex.printStackTrace();\r\n\t\t\t        }","title":"Validate time in java","body":"<p>I am trying to check if the time the user enters is valid or not, so I am receiving the time as a string in this format hh: mm. However, I want to check if the hours and minutes are valid. I was thinking to convert it from string to int and check it but since it is in this format hh: mm I can't do it. Is there any solution for it?</p>\n<pre><code>             // New Scanner to get the time from the user\n              Scanner timeInput = new Scanner(System.in);\n\n              // Get sunrise + sunset from the user\n              System.out.println(&quot;Enter time of sunrise [hh: mm]&gt; &quot;);\n              String sunrise = timeInput.next();\n              System.out.println(&quot;Enter time of sunset [hh: mm]&gt;  &quot;);\n              String sunset = timeInput.next();\n              \n              \n              try{\n                    int number = Integer.parseInt(sunrise);\n                    System.out.println(number); \n                }\n                catch (NumberFormatException ex){\n                    ex.printStackTrace();\n                }\n</code></pre>\n"},{"tags":["java","c#","destructor","finalizer","finalize"],"comments":[{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":2,"creation_date":1665678281,"post_id":74058987,"comment_id":130760791,"body_markdown":"FYI C# has finalizers: https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/finalizers","body":"FYI C# has finalizers: <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/finalizers\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"},{"owner":{"account_id":27103,"reputation":35282,"user_id":71141,"accept_rate":82,"display_name":"Etienne de Martel"},"score":0,"creation_date":1665679885,"post_id":74058987,"comment_id":130761298,"body_markdown":"FWIW, declaring finalizers in C# are also discouraged (you really should be using safe handles if you really need that).","body":"FWIW, declaring finalizers in C# are also discouraged (you really should be using safe handles if you really need that)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1665680329,"post_id":74058987,"comment_id":130761417,"body_markdown":"I&#39;ve only just briefly read some things on `IDisposable`, but my impression is that the equivalent in Java is the `AutoCloseable` interface, not the `Object.finalize()` method.","body":"I&#39;ve only just briefly read some things on <code>IDisposable</code>, but my impression is that the equivalent in Java is the <code>AutoCloseable</code> interface, not the <code>Object.finalize()</code> method."}],"answers":[{"tags":[],"owner":{"account_id":27103,"reputation":35282,"user_id":71141,"accept_rate":82,"display_name":"Etienne de Martel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666560022,"creation_date":1665680379,"answer_id":74059369,"question_id":74058987,"body_markdown":"Well, really, they&#39;re not the same.\r\n\r\nJava&#39;s `finalize()` has a direct equivalent in C#&#39;s finalizers (declared as `~T()`, where `T` is the class name). Use of finalizers in C# is heavily discouraged now in modern code, due to how tricky they are to get right in practice. Maybe they&#39;ll get deprecated too some day. In the meantime, if you really need that kind of behaviour, you really should be using safe handles.\r\n\r\nCompared to finalizers, `IDisposable` seems to provide automatic and deterministic cleanup of resources, like C++&#39;s destructors. That&#39;s neat! But I said _seems_, because actually `IDisposable` is not magic. On its own, it does nothing. What you really mean is the `using` statement, which is really just syntactic sugar for a `try`/`finally` statement that calls `Dispose()` in the `finally` part (with some null checking for good measure).\r\n\r\n    using var x = new T();\r\n    // ...\r\n\r\nJava also has that, with the `AutoCloseable` interface and &quot;try-with-resources&quot; idiom:\r\n\r\n    try (T x = new T()) {\r\n        // ...\r\n    }\r\n\r\nHowever `IDisposable` and `using` have been introduced much earlier relatively in the language&#39;s lifespan compared to &quot;try-with-resources&quot; (C# 2.0 vs Java 7), so their presence is more pervasive across both the standard library and third party libraries.\r\n","title":"Java Object.finalize() vs. C# IDisposable","body":"<p>Well, really, they're not the same.</p>\n<p>Java's <code>finalize()</code> has a direct equivalent in C#'s finalizers (declared as <code>~T()</code>, where <code>T</code> is the class name). Use of finalizers in C# is heavily discouraged now in modern code, due to how tricky they are to get right in practice. Maybe they'll get deprecated too some day. In the meantime, if you really need that kind of behaviour, you really should be using safe handles.</p>\n<p>Compared to finalizers, <code>IDisposable</code> seems to provide automatic and deterministic cleanup of resources, like C++'s destructors. That's neat! But I said <em>seems</em>, because actually <code>IDisposable</code> is not magic. On its own, it does nothing. What you really mean is the <code>using</code> statement, which is really just syntactic sugar for a <code>try</code>/<code>finally</code> statement that calls <code>Dispose()</code> in the <code>finally</code> part (with some null checking for good measure).</p>\n<pre><code>using var x = new T();\n// ...\n</code></pre>\n<p>Java also has that, with the <code>AutoCloseable</code> interface and &quot;try-with-resources&quot; idiom:</p>\n<pre><code>try (T x = new T()) {\n    // ...\n}\n</code></pre>\n<p>However <code>IDisposable</code> and <code>using</code> have been introduced much earlier relatively in the language's lifespan compared to &quot;try-with-resources&quot; (C# 2.0 vs Java 7), so their presence is more pervasive across both the standard library and third party libraries.</p>\n"}],"owner":{"account_id":1679688,"reputation":2208,"user_id":1544278,"accept_rate":61,"display_name":"Turin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74059369,"answer_count":1,"score":-2,"last_activity_date":1666560022,"creation_date":1665678145,"question_id":74058987,"body_markdown":"I have extensive `Java` experience and know why `finalize()` is scheduled for a removal soon. On the other hand, my knowledge about `C#` is skin-deep - I am more or less aware about what features it offers on the abstract level, but no real experience to speak of. Some time ago I have found a solution looking for a problem and from a search of languages which support `C++`-like destructors came `IDisposable` in CLI.\r\n\r\nWhat are the differences which make the latter a continually supported feature?","title":"Java Object.finalize() vs. C# IDisposable","body":"<p>I have extensive <code>Java</code> experience and know why <code>finalize()</code> is scheduled for a removal soon. On the other hand, my knowledge about <code>C#</code> is skin-deep - I am more or less aware about what features it offers on the abstract level, but no real experience to speak of. Some time ago I have found a solution looking for a problem and from a search of languages which support <code>C++</code>-like destructors came <code>IDisposable</code> in CLI.</p>\n<p>What are the differences which make the latter a continually supported feature?</p>\n"},{"tags":["java","date","groovy","timezone"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1659710701,"post_id":73251325,"comment_id":129366542,"body_markdown":"What exactly is your desired output? Can you post an example? The pattern you posted looks like a date only with the month represented as a textual abbreviation (like 08 -&gt; Aug).","body":"What exactly is your desired output? Can you post an example? The pattern you posted looks like a date only with the month represented as a textual abbreviation (like 08 -&gt; Aug)."},{"owner":{"account_id":25987658,"reputation":1,"user_id":19700393,"display_name":"Jakub Vlček"},"score":0,"creation_date":1659821730,"post_id":73251325,"comment_id":129387340,"body_markdown":"Yeah you are right format which I have is just like 08-aug-2006 (example ofc) but it is the default way of the platform. So not much we can do about that.","body":"Yeah you are right format which I have is just like 08-aug-2006 (example ofc) but it is the default way of the platform. So not much we can do about that."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659864252,"post_id":73251325,"comment_id":129392056,"body_markdown":"Do I understand correctly from your code that the response from the other service is in UTC? So you need to convert the date-time from -05:00 to UTC before comparing? Which in your case would yield 2021-10-23 (not 22).","body":"Do I understand correctly from your code that the response from the other service is in UTC? So you need to convert the date-time from -05:00 to UTC before comparing? Which in your case would yield 2021-10-23 (not 22)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659719918,"creation_date":1659719091,"answer_id":73253171,"question_id":73251325,"body_markdown":"# tl;dr\r\n\r\n    OffsetDateTime\r\n    .parse( &quot;2021-10-22T21:43:00-05:00&quot; )\r\n    .toLocalDate()\r\n    .isEqual(\r\n        LocalDate\r\n        .parse( \r\n            &quot;23:Jan:2023&quot; , \r\n            DateTimeFormatter\r\n            .ofPattern( &quot;dd:MMM:uuuu&quot; )\r\n            .withLocale( Locale.US )\r\n        )\r\n    )\r\n\r\n\r\n# Details\r\n\r\n&gt; I have a string in this format: 2021-10-22T21:43:00-05:00 I understand that it is in timezone -5:00 from UTC. \r\n\r\nNo, that is not a time zone. That is an [offset from UTC][1], a number of hours-minutes-seconds ahead or behind the temporal prime meridian of UTC. \r\n\r\nA time zone is much more. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians. A time zone has a name in format of `Continent/Region` such as `Europe/Paris`. See [list][2].\r\n\r\nParse your input as a `OffsetDateTime`. Here is some code in Java syntax as I’ve not yet learned Groovy.\r\n\r\nYour input string complies with the ISO 8601 standard format used by default in the *java.time* classes. So no need to define a formatting pattern. \r\n\r\n    String input = &quot;2021-10-22T21:43:00-05:00&quot; ;\r\n    OffsetDateTime odt = OffsetDateTime.parse( input ) ;\r\n\r\nApparently you want to use the date portion of that value to generate text in the format of `dd:MMM:yyyy`. \r\n\r\nThat’s a rather funky format, I must say. You might want to educate the publisher of that data about the benefits of using only [ISO 8601][3] formats.\r\n\r\nDefine a formatting pattern. Specify a locale to use in localizing the abbreviated name of the month in the middle.\r\n\r\n    Locale locale = Locale.US ;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd:MMM:uuuu&quot; ).withLocale( locale ) ;\r\n\r\nGenerate text.\r\n\r\n    String output = odt.format( f ) ;\r\n\r\nBut if your goal is comparing, I suggest you *parse* the other string rather than *generate* text for comparison. \r\n\r\n    LocalDate target = LocalDate.parse( &quot;23:Jan:2023&quot; , f ) ;\r\n\r\nExtract the date portion from our `OffsetDateTime` object, `odt`.\r\n\r\n    LocalDate ld = odt.toLocalDate() ;\r\n\r\nCompare.\r\n\r\n    boolean sameDate = ld.isEqual( target ) ;\r\n\r\n   \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [2]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601","title":"Parsing and formating date from a different timezone","body":"<h1>tl;dr</h1>\n<pre><code>OffsetDateTime\n.parse( &quot;2021-10-22T21:43:00-05:00&quot; )\n.toLocalDate()\n.isEqual(\n    LocalDate\n    .parse( \n        &quot;23:Jan:2023&quot; , \n        DateTimeFormatter\n        .ofPattern( &quot;dd:MMM:uuuu&quot; )\n        .withLocale( Locale.US )\n    )\n)\n</code></pre>\n<h1>Details</h1>\n<blockquote>\n<p>I have a string in this format: 2021-10-22T21:43:00-05:00 I understand that it is in timezone -5:00 from UTC.</p>\n</blockquote>\n<p>No, that is not a time zone. That is an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset from UTC</a>, a number of hours-minutes-seconds ahead or behind the temporal prime meridian of UTC.</p>\n<p>A time zone is much more. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region as decided by their politicians. A time zone has a name in format of <code>Continent/Region</code> such as <code>Europe/Paris</code>. See <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">list</a>.</p>\n<p>Parse your input as a <code>OffsetDateTime</code>. Here is some code in Java syntax as I’ve not yet learned Groovy.</p>\n<p>Your input string complies with the ISO 8601 standard format used by default in the <em>java.time</em> classes. So no need to define a formatting pattern.</p>\n<pre><code>String input = &quot;2021-10-22T21:43:00-05:00&quot; ;\nOffsetDateTime odt = OffsetDateTime.parse( input ) ;\n</code></pre>\n<p>Apparently you want to use the date portion of that value to generate text in the format of <code>dd:MMM:yyyy</code>.</p>\n<p>That’s a rather funky format, I must say. You might want to educate the publisher of that data about the benefits of using only <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats.</p>\n<p>Define a formatting pattern. Specify a locale to use in localizing the abbreviated name of the month in the middle.</p>\n<pre><code>Locale locale = Locale.US ;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd:MMM:uuuu&quot; ).withLocale( locale ) ;\n</code></pre>\n<p>Generate text.</p>\n<pre><code>String output = odt.format( f ) ;\n</code></pre>\n<p>But if your goal is comparing, I suggest you <em>parse</em> the other string rather than <em>generate</em> text for comparison.</p>\n<pre><code>LocalDate target = LocalDate.parse( &quot;23:Jan:2023&quot; , f ) ;\n</code></pre>\n<p>Extract the date portion from our <code>OffsetDateTime</code> object, <code>odt</code>.</p>\n<pre><code>LocalDate ld = odt.toLocalDate() ;\n</code></pre>\n<p>Compare.</p>\n<pre><code>boolean sameDate = ld.isEqual( target ) ;\n</code></pre>\n"}],"owner":{"account_id":25987658,"reputation":1,"user_id":19700393,"display_name":"Jakub Vlček"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666559496,"creation_date":1659709670,"question_id":73251325,"body_markdown":"I have a string in this format: 2021-10-22T21:43:00-05:00  I understand that it is in timezone -5:00 from UTC. Now I want to get the string in UTC with format dd:MMM:yyyy so I can compare it to response from other service. Can you help me with the code so far I am not able to parse it because I am not familiar with the format of the date. Timezone part particularly. I tried\r\n\r\n```\r\ndef date = &#39;2021-10-22T21:43:00-05:00&#39;\r\ndef timezone = TimeZone.getTimeZone(&quot;UTC&quot;);\r\ndef dateFormat = &#39;dd:MMM:yyyy&#39;\r\nDate.parse(&#39;yyyy-MM-dd&#39;,date.take(10)).format(dateFormat,timezone)\r\n```\r\n\r\nproblem with this is that I lose the timezone part of the date so I cannot change it.\r\nI am using Groovy in ReadyApi software. I am not the most advanced coder so please help.\r\nThanks for answers. :)","title":"Parsing and formating date from a different timezone","body":"<p>I have a string in this format: 2021-10-22T21:43:00-05:00  I understand that it is in timezone -5:00 from UTC. Now I want to get the string in UTC with format dd:MMM:yyyy so I can compare it to response from other service. Can you help me with the code so far I am not able to parse it because I am not familiar with the format of the date. Timezone part particularly. I tried</p>\n<pre><code>def date = '2021-10-22T21:43:00-05:00'\ndef timezone = TimeZone.getTimeZone(&quot;UTC&quot;);\ndef dateFormat = 'dd:MMM:yyyy'\nDate.parse('yyyy-MM-dd',date.take(10)).format(dateFormat,timezone)\n</code></pre>\n<p>problem with this is that I lose the timezone part of the date so I cannot change it.\nI am using Groovy in ReadyApi software. I am not the most advanced coder so please help.\nThanks for answers. :)</p>\n"},{"tags":["java","xml","log4j"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1660453848,"post_id":73278969,"comment_id":129534342,"body_markdown":"There are two problems with your configuration: 1. your `setProperty` enabling the &quot;java&quot; scripting language, is executed after `LogManager.getLogger` configured Log4j2, 2. in the JRE there is no &quot;java&quot; scripting engine, just a &quot;javascript&quot; one.","body":"There are two problems with your configuration: 1. your <code>setProperty</code> enabling the &quot;java&quot; scripting language, is executed after <code>LogManager.getLogger</code> configured Log4j2, 2. in the JRE there is no &quot;java&quot; scripting engine, just a &quot;javascript&quot; one."},{"owner":{"account_id":5288505,"reputation":33,"user_id":4221701,"display_name":"Lizard"},"score":0,"creation_date":1665294245,"post_id":73278969,"comment_id":130663615,"body_markdown":"That fixed my issue :) I now have a new issue I am running into","body":"That fixed my issue :) I now have a new issue I am running into"}],"owner":{"account_id":5288505,"reputation":33,"user_id":4221701,"display_name":"Lizard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666559447,"creation_date":1659966615,"question_id":73278969,"body_markdown":"I am trying to use the Scripts in the configuration of Log4j2 to return a value that will used as a header in the HTTP appender\r\n\r\nhttps://logging.apache.org/log4j/2.x/manual/configuration.html#Scripts\r\n\r\n\r\nHere is my log4j2http.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot;&gt;\r\n      &lt;Scripts&gt;\r\n        &lt;Script name=&quot;selector&quot; language=&quot;java&quot;&gt;\r\n          &lt;![CDATA[\r\n                var result;\r\n                result=1;\r\n                result;\r\n                ]]&gt;\r\n        &lt;/Script&gt;\r\n      &lt;/Scripts&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;Http name=&quot;Http&quot; url=&quot;https://myurl.com/ingest&quot; method=&quot;POST&quot;&gt;\r\n          &lt;JsonLayout properties=&quot;true&quot; /&gt;\r\n          &lt;KeyValuePair key=&quot;resourceId:&quot; value=&quot;{deviceId:&amp;quot;588&amp;quot;}&quot; /&gt;\r\n          &lt;Property name=&quot;Authorization&quot; value=&quot;{result}&quot; /&gt;\r\n          &lt;Property name=&quot;Accept&quot; value=&quot;application/json&quot; /&gt;\r\n          &lt;Property name=&quot;Version&quot; value=&quot;2&quot; /&gt;\r\n        &lt;/Http&gt;\r\n    \r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;error&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Http&quot; /&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nAnd my app\r\n\r\n    public class App {\r\n    \r\n        static Logger logger = LogManager.getLogger(&quot;App&quot;);\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            System.setProperty(&quot;log4j2.Script.enableLanguages&quot;,&quot;java&quot;);\r\n            System.out.println(System.getProperties());\r\n            LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\r\n            File file = new File(&quot;log4j2http.xml&quot;); \r\n            context.setConfigLocation(file.toURI());\r\n            logger.debug(&quot;Debug Message Logged !!!&quot;);\r\n            logger.info(&quot;Info Message Logged !!!&quot;);\r\n            logger.error(&quot;Error Message Logged !!!&quot;);\r\n        }\r\n    }\r\n\r\nIm getting this error\r\n\r\n    2022-08-08 08:27:36,051 main ERROR No ScriptEngine found for language java. Available languages are:\r\n\r\nThe error seems to point to the ScriptEngine not being initialized properly because the Available languages are blank. What is the proper way to initialize the engine?\r\n","title":"Log4j with java scripting in XML configuration","body":"<p>I am trying to use the Scripts in the configuration of Log4j2 to return a value that will used as a header in the HTTP appender</p>\n<p><a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Scripts\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html#Scripts</a></p>\n<p>Here is my log4j2http.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot;&gt;\n  &lt;Scripts&gt;\n    &lt;Script name=&quot;selector&quot; language=&quot;java&quot;&gt;\n      &lt;![CDATA[\n            var result;\n            result=1;\n            result;\n            ]]&gt;\n    &lt;/Script&gt;\n  &lt;/Scripts&gt;\n  &lt;Appenders&gt;\n    &lt;Http name=&quot;Http&quot; url=&quot;https://myurl.com/ingest&quot; method=&quot;POST&quot;&gt;\n      &lt;JsonLayout properties=&quot;true&quot; /&gt;\n      &lt;KeyValuePair key=&quot;resourceId:&quot; value=&quot;{deviceId:&amp;quot;588&amp;quot;}&quot; /&gt;\n      &lt;Property name=&quot;Authorization&quot; value=&quot;{result}&quot; /&gt;\n      &lt;Property name=&quot;Accept&quot; value=&quot;application/json&quot; /&gt;\n      &lt;Property name=&quot;Version&quot; value=&quot;2&quot; /&gt;\n    &lt;/Http&gt;\n\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;error&quot;&gt;\n      &lt;AppenderRef ref=&quot;Http&quot; /&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>And my app</p>\n<pre><code>public class App {\n\n    static Logger logger = LogManager.getLogger(&quot;App&quot;);\n\n    public static void main(String[] args) {\n        \n        System.setProperty(&quot;log4j2.Script.enableLanguages&quot;,&quot;java&quot;);\n        System.out.println(System.getProperties());\n        LoggerContext context = (org.apache.logging.log4j.core.LoggerContext) LogManager.getContext(false);\n        File file = new File(&quot;log4j2http.xml&quot;); \n        context.setConfigLocation(file.toURI());\n        logger.debug(&quot;Debug Message Logged !!!&quot;);\n        logger.info(&quot;Info Message Logged !!!&quot;);\n        logger.error(&quot;Error Message Logged !!!&quot;);\n    }\n}\n</code></pre>\n<p>Im getting this error</p>\n<pre><code>2022-08-08 08:27:36,051 main ERROR No ScriptEngine found for language java. Available languages are:\n</code></pre>\n<p>The error seems to point to the ScriptEngine not being initialized properly because the Available languages are blank. What is the proper way to initialize the engine?</p>\n"},{"tags":["java","class","field"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1371152518,"post_id":17095628,"comment_id":24729945,"body_markdown":"This smells like a XY problem. What is your initial goal?","body":"This smells like a XY problem. What is your initial goal?"},{"owner":{"account_id":1848986,"reputation":22324,"user_id":1675976,"accept_rate":59,"display_name":"CodyBugstein"},"score":0,"creation_date":1371152528,"post_id":17095628,"comment_id":24729949,"body_markdown":"List of Objects is fine too, since I&#39;m just testing if they are null","body":"List of Objects is fine too, since I&#39;m just testing if they are null"},{"owner":{"account_id":1848986,"reputation":22324,"user_id":1675976,"accept_rate":59,"display_name":"CodyBugstein"},"score":2,"creation_date":1371152550,"post_id":17095628,"comment_id":24729963,"body_markdown":"@fge What&#39;s an XY problem?","body":"@fge What&#39;s an XY problem?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":3,"creation_date":1371152597,"post_id":17095628,"comment_id":24729989,"body_markdown":"It means you have problem X but are asking about a solution Y whereas there may be a much better way to solve X","body":"It means you have problem X but are asking about a solution Y whereas there may be a much better way to solve X"},{"owner":{"account_id":2308541,"reputation":2127,"user_id":2027264,"accept_rate":69,"display_name":"MickJ"},"score":1,"creation_date":1371152863,"post_id":17095628,"comment_id":24730123,"body_markdown":"I don&#39;t know whats up with everyone trying to post the same answer slightly differently these days. Does editing an existing valid answer to elaborate hurt so much? Seriously!","body":"I don&#39;t know whats up with everyone trying to post the same answer slightly differently these days. Does editing an existing valid answer to elaborate hurt so much? Seriously!"},{"owner":{"account_id":1848986,"reputation":22324,"user_id":1675976,"accept_rate":59,"display_name":"CodyBugstein"},"score":0,"creation_date":1371152926,"post_id":17095628,"comment_id":24730156,"body_markdown":"@MickJ Sometimes people post the answer at same time or within seconds of eachother, unaware that someone else has posted a similar answer.","body":"@MickJ Sometimes people post the answer at same time or within seconds of eachother, unaware that someone else has posted a similar answer."},{"owner":{"account_id":2308541,"reputation":2127,"user_id":2027264,"accept_rate":69,"display_name":"MickJ"},"score":0,"creation_date":1371153017,"post_id":17095628,"comment_id":24730210,"body_markdown":"Well I can see these answers are couple of minutes apart and SO does a great job at notifying about new answers. Anyway.","body":"Well I can see these answers are couple of minutes apart and SO does a great job at notifying about new answers. Anyway."},{"owner":{"account_id":2308541,"reputation":2127,"user_id":2027264,"accept_rate":69,"display_name":"MickJ"},"score":0,"creation_date":1371153488,"post_id":17095628,"comment_id":24730459,"body_markdown":"Actually found the perfect answer: Its another question: http://stackoverflow.com/questions/7223482/java-how-can-i-with-reflection-check-if-a-field-is-initialized-or-is-default-val","body":"Actually found the perfect answer: Its another question: <a href=\"http://stackoverflow.com/questions/7223482/java-how-can-i-with-reflection-check-if-a-field-is-initialized-or-is-default-val\" title=\"java how can i with reflection check if a field is initialized or is default val\">stackoverflow.com/questions/7223482/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1555327821,"creation_date":1371152572,"answer_id":17095665,"question_id":17095628,"body_markdown":"Use `getDeclaredFields` on [Class]\r\n\r\n    ClasWithStuff myStuff = new ClassWithStuff();\r\n    Field[] fields = myStuff.getClass().getDeclaredFields();\r\n    for(Field f : fields){\r\n       Class t = f.getType();\r\n       Object v = f.get(myStuff);\r\n       if(t == boolean.class &amp;&amp; Boolean.FALSE.equals(v)) \r\n         // found default value\r\n       else if(t.isPrimitive() &amp;&amp; ((Number) v).doubleValue() == 0)\r\n         // found default value\r\n       else if(!t.isPrimitive() &amp;&amp; v == null)\r\n         // found default value\r\n    }\r\n\r\n(http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html)","title":"Loop over all fields in a Java class","body":"<p>Use <code>getDeclaredFields</code> on [Class]</p>\n\n<pre><code>ClasWithStuff myStuff = new ClassWithStuff();\nField[] fields = myStuff.getClass().getDeclaredFields();\nfor(Field f : fields){\n   Class t = f.getType();\n   Object v = f.get(myStuff);\n   if(t == boolean.class &amp;&amp; Boolean.FALSE.equals(v)) \n     // found default value\n   else if(t.isPrimitive() &amp;&amp; ((Number) v).doubleValue() == 0)\n     // found default value\n   else if(!t.isPrimitive() &amp;&amp; v == null)\n     // found default value\n}\n</code></pre>\n\n<p>(<a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Class.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1371153230,"creation_date":1371152627,"answer_id":17095680,"question_id":17095628,"body_markdown":"Yes, with reflection.\r\n\r\nUse the `Class` object to access `Field` objects with the [`getFields()`][1] method.\r\n\r\n    Field[] fields = ClassWithStuff.class.getFields();\r\n\r\nThen loop over the fields.  This works because all fields you have declared are `public`.  If they aren&#39;t, then use [`getDeclaredFields()`][2], which accesses all `Fields` that are directly declared on the class, `public` or not.\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getFields()\r\n[2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredFields()","title":"Loop over all fields in a Java class","body":"<p>Yes, with reflection.</p>\n\n<p>Use the <code>Class</code> object to access <code>Field</code> objects with the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getFields%28%29\" rel=\"noreferrer\"><code>getFields()</code></a> method.</p>\n\n<pre><code>Field[] fields = ClassWithStuff.class.getFields();\n</code></pre>\n\n<p>Then loop over the fields.  This works because all fields you have declared are <code>public</code>.  If they aren't, then use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getDeclaredFields%28%29\" rel=\"noreferrer\"><code>getDeclaredFields()</code></a>, which accesses all <code>Fields</code> that are directly declared on the class, <code>public</code> or not.</p>\n"},{"tags":[],"owner":{"account_id":1370050,"reputation":19409,"user_id":1305516,"accept_rate":59,"display_name":"David says Reinstate Monica"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1371152798,"creation_date":1371152798,"answer_id":17095718,"question_id":17095628,"body_markdown":"What are looking for is called [reflection][1]. Reflection lets you look at your own class, or another class to see what it is made of. Java has reflection built in, so you can use it right away. Then you can do stuff like - \r\n\r\n    for(Field f : ClasWithStuff.getFields()){\r\n        System.out.println(f.getName());//or do other stuff with it\r\n    }\r\nYou can also use this to get methods, constructors, etc, to do similar and cooler stuff. \r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/reflect/","title":"Loop over all fields in a Java class","body":"<p>What are looking for is called <a href=\"http://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow\">reflection</a>. Reflection lets you look at your own class, or another class to see what it is made of. Java has reflection built in, so you can use it right away. Then you can do stuff like - </p>\n\n<pre><code>for(Field f : ClasWithStuff.getFields()){\n    System.out.println(f.getName());//or do other stuff with it\n}\n</code></pre>\n\n<p>You can also use this to get methods, constructors, etc, to do similar and cooler stuff. </p>\n"},{"tags":[],"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537193183,"creation_date":1537192367,"answer_id":52369393,"question_id":17095628,"body_markdown":"A Java 8+ solution using the library [durian][1] and `Stream`.\r\n\r\nThe utility method [`FieldsAndGetters.fields(Object obj)`][2] \r\n\r\n&gt; Returns a Stream of all public fields and their values for the given\r\n&gt; object.\r\n\r\nThis will find the fields of `ClassWithStuff` since they all are public.\r\n\r\n\r\nLet&#39;s see how to use it with (a little bit modified) `ClassWithStuff`:\r\n\r\n    public static class BaseStuff {\r\n        public DayOfWeek dayOfWeek = DayOfWeek.MONDAY;\r\n    }\r\n    \r\n    public static class ClassWithStuff extends BaseStuff {\r\n        public int inty = 1;\r\n        public String stringy = &quot;string&quot;;\r\n        public Object Stuff = null;\r\n    }\r\n\r\nExample - Printing the name and value of each field: \r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ClassWithStuff cws = new ClassWithStuff();\r\n        FieldsAndGetters.fields(cws) \r\n                .map(field -&gt; field.getKey().getName() + &quot; = &quot; + field.getValue())\r\n                .forEach(System.out::println);\r\n    }\r\n\r\nThe output:\r\n\r\n    inty = 1\r\n    stringy = string\r\n    Stuff = null\r\n    dayOfWeek = MONDAY\r\n\r\nAs the ouptut shows even inherited public fields are considered.\r\n\r\n\r\n  [1]: https://github.com/diffplug/durian\r\n  [2]: https://diffplug.github.io/durian/javadoc/3.4.0/com/diffplug/common/base/FieldsAndGetters.html#fields-java.lang.Object-","title":"Loop over all fields in a Java class","body":"<p>A Java 8+ solution using the library <a href=\"https://github.com/diffplug/durian\" rel=\"nofollow noreferrer\">durian</a> and <code>Stream</code>.</p>\n\n<p>The utility method <a href=\"https://diffplug.github.io/durian/javadoc/3.4.0/com/diffplug/common/base/FieldsAndGetters.html#fields-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>FieldsAndGetters.fields(Object obj)</code></a> </p>\n\n<blockquote>\n  <p>Returns a Stream of all public fields and their values for the given\n  object.</p>\n</blockquote>\n\n<p>This will find the fields of <code>ClassWithStuff</code> since they all are public.</p>\n\n<p>Let's see how to use it with (a little bit modified) <code>ClassWithStuff</code>:</p>\n\n<pre><code>public static class BaseStuff {\n    public DayOfWeek dayOfWeek = DayOfWeek.MONDAY;\n}\n\npublic static class ClassWithStuff extends BaseStuff {\n    public int inty = 1;\n    public String stringy = \"string\";\n    public Object Stuff = null;\n}\n</code></pre>\n\n<p>Example - Printing the name and value of each field: </p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    ClassWithStuff cws = new ClassWithStuff();\n    FieldsAndGetters.fields(cws) \n            .map(field -&gt; field.getKey().getName() + \" = \" + field.getValue())\n            .forEach(System.out::println);\n}\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>inty = 1\nstringy = string\nStuff = null\ndayOfWeek = MONDAY\n</code></pre>\n\n<p>As the ouptut shows even inherited public fields are considered.</p>\n"},{"tags":[],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666559443,"creation_date":1666559443,"answer_id":74174825,"question_id":17095628,"body_markdown":"It is possible to use [`pojo-analyzers`](https://github.com/almogtavor/pojo-analyzer) which will also enable to access the getters and setters of the field (without reflection).\r\n\r\n```java\r\n@DetailedPojo\r\npublic class ClassWithStuff {\r\n    public String someString;\r\n    //many more fields\r\n}\r\n...\r\nClassWithStuff classWithStuff = new ClassWithStuff(&quot;myString&quot;);\r\nDetailedClassWithStuff.list.stream()\r\n    .forEach(fieldDetails -&gt; \r\n            System.out.println(fieldDetails.getFieldValue(classWithStuff)); // &quot;myString&quot;\r\n```\r\n\r\nThe library uses annotation processing so there is no reflection involved.","title":"Loop over all fields in a Java class","body":"<p>It is possible to use <a href=\"https://github.com/almogtavor/pojo-analyzer\" rel=\"nofollow noreferrer\"><code>pojo-analyzers</code></a> which will also enable to access the getters and setters of the field (without reflection).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DetailedPojo\npublic class ClassWithStuff {\n    public String someString;\n    //many more fields\n}\n...\nClassWithStuff classWithStuff = new ClassWithStuff(&quot;myString&quot;);\nDetailedClassWithStuff.list.stream()\n    .forEach(fieldDetails -&gt; \n            System.out.println(fieldDetails.getFieldValue(classWithStuff)); // &quot;myString&quot;\n</code></pre>\n<p>The library uses annotation processing so there is no reflection involved.</p>\n"}],"owner":{"account_id":1848986,"reputation":22324,"user_id":1675976,"accept_rate":59,"display_name":"CodyBugstein"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85970,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":17095665,"answer_count":5,"score":37,"last_activity_date":1666559443,"creation_date":1371152425,"question_id":17095628,"body_markdown":"I have a Java class that has a number of `Fields`.\r\n\r\nI would like to Loop over al lthe fields and do something for the one&#39;s that are null. \r\n\r\nFor example if my class is:\r\n\r\n    public class ClassWithStuff {\r\n        public int inty;\r\n        public stringy;         \r\n        public Stuff;\r\n        //many more fields\r\n    }\r\n\r\nIn another location, I&#39;d make a `ClassWithStuff` object and I would like to go though all the fields in the class. Kind of like this:\r\n\r\n    for (int i = 0; i &lt; ClassWithStuff.getFields().size(); i++) {\r\n          //do stuff with each one\r\n    }\r\n\r\n\r\nIs there any way for me to achieve this?\r\n\r\n","title":"Loop over all fields in a Java class","body":"<p>I have a Java class that has a number of <code>Fields</code>.</p>\n\n<p>I would like to Loop over al lthe fields and do something for the one's that are null. </p>\n\n<p>For example if my class is:</p>\n\n<pre><code>public class ClassWithStuff {\n    public int inty;\n    public stringy;         \n    public Stuff;\n    //many more fields\n}\n</code></pre>\n\n<p>In another location, I'd make a <code>ClassWithStuff</code> object and I would like to go though all the fields in the class. Kind of like this:</p>\n\n<pre><code>for (int i = 0; i &lt; ClassWithStuff.getFields().size(); i++) {\n      //do stuff with each one\n}\n</code></pre>\n\n<p>Is there any way for me to achieve this?</p>\n"},{"tags":["java","docker","selenium","testing","rust"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1666569928,"post_id":74174766,"comment_id":130962115,"body_markdown":"The setup you&#39;re describing – with a second program, on a different port, written in a different language – sounds like it&#39;d be better approach with a second container with a completely independent image.  Do you have a specific need for these to actually be in the same container/image?","body":"The setup you&#39;re describing – with a second program, on a different port, written in a different language – sounds like it&#39;d be better approach with a second container with a completely independent image.  Do you have a specific need for these to actually be in the same container/image?"}],"answers":[{"tags":[],"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666559374,"creation_date":1666559374,"answer_id":74174818,"question_id":74174766,"body_markdown":"You can skip the confirmation prompt by adding the `-y` argument. This can be found in the help page of installer script.\r\n```\r\nThe installer for rustup\r\n\r\nUSAGE:\r\n    rustup-init [FLAGS] [OPTIONS]\r\n\r\nFLAGS:\r\n    -v, --verbose           Enable verbose output\r\n    -q, --quiet             Disable progress output\r\n    -y                      Disable confirmation prompt.\r\n        --no-modify-path    Don&#39;t configure the PATH environment variable\r\n    -h, --help              Prints help information\r\n    -V, --version           Prints version information\r\n\r\nOPTIONS:\r\n        --default-host &lt;default-host&gt;              Choose a default host triple\r\n        --default-toolchain &lt;default-toolchain&gt;    Choose a default toolchain to install\r\n        --default-toolchain none                   Do not install any toolchains\r\n        --profile [minimal|default|complete]       Choose a profile\r\n    -c, --component &lt;components&gt;...                Component name to also install\r\n    -t, --target &lt;targets&gt;...                      Target name to also install\r\n```","title":"Install rust on openjdk docker image","body":"<p>You can skip the confirmation prompt by adding the <code>-y</code> argument. This can be found in the help page of installer script.</p>\n<pre><code>The installer for rustup\n\nUSAGE:\n    rustup-init [FLAGS] [OPTIONS]\n\nFLAGS:\n    -v, --verbose           Enable verbose output\n    -q, --quiet             Disable progress output\n    -y                      Disable confirmation prompt.\n        --no-modify-path    Don't configure the PATH environment variable\n    -h, --help              Prints help information\n    -V, --version           Prints version information\n\nOPTIONS:\n        --default-host &lt;default-host&gt;              Choose a default host triple\n        --default-toolchain &lt;default-toolchain&gt;    Choose a default toolchain to install\n        --default-toolchain none                   Do not install any toolchains\n        --profile [minimal|default|complete]       Choose a profile\n    -c, --component &lt;components&gt;...                Component name to also install\n    -t, --target &lt;targets&gt;...                      Target name to also install\n</code></pre>\n"}],"owner":{"account_id":20044895,"reputation":416,"user_id":14694812,"display_name":"Benjamin Peinhardt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74174818,"answer_count":1,"score":2,"last_activity_date":1666559374,"creation_date":1666558959,"question_id":74174766,"body_markdown":"I&#39;m trying to write a dockerfile to run a rust test suite that requires a jar to be running on a separate port. I&#39;ve downloaded the jar into the project and would like to start with the openjdk docker image and download rust as well. That way I can use the java command to run the jar then cargo to run the tests. \r\n```\r\n# Start with java\r\nFROM openjdk:latest\r\n\r\n# Add rust\r\nRUN &lt;one line command to download rust&gt;\r\n\r\n# Install production dependencies and build a release artifact.\r\nRUN cargo build --release\r\n\r\n# Start chromedriver, geckodriver, and selenium standalone binary\r\nRUN ./thirtyfour/tests/binaries_and_jars/chromedriver\r\nRUN ./thirtyfour/tests/binaries_and_jars/geckodriver\r\nRUN java -jar ./thirtyfour/tests/binaries_and_jars/selenium.jar standalone --port 1234\r\n\r\n# Run the tests\r\nRUN cargo test\r\n\r\n```\r\nI was hoping to download rust using the curl command provided on the website, passing all the options as cli arguments, but I still get the prompt. Running\r\n```\r\ncurl https://sh.rustup.rs -sSf | sh -s -- --default-toolchain stable --default-host x86_64-unknown-linux-gnu --profile default\r\n```\r\nstill produces the confirmation prompt.\r\n\r\nI&#39;m open to any solution here, including\r\n1. A one-line command to install rust\r\n2. Starting from the rust image + a one-line command to install java.","title":"Install rust on openjdk docker image","body":"<p>I'm trying to write a dockerfile to run a rust test suite that requires a jar to be running on a separate port. I've downloaded the jar into the project and would like to start with the openjdk docker image and download rust as well. That way I can use the java command to run the jar then cargo to run the tests.</p>\n<pre><code># Start with java\nFROM openjdk:latest\n\n# Add rust\nRUN &lt;one line command to download rust&gt;\n\n# Install production dependencies and build a release artifact.\nRUN cargo build --release\n\n# Start chromedriver, geckodriver, and selenium standalone binary\nRUN ./thirtyfour/tests/binaries_and_jars/chromedriver\nRUN ./thirtyfour/tests/binaries_and_jars/geckodriver\nRUN java -jar ./thirtyfour/tests/binaries_and_jars/selenium.jar standalone --port 1234\n\n# Run the tests\nRUN cargo test\n\n</code></pre>\n<p>I was hoping to download rust using the curl command provided on the website, passing all the options as cli arguments, but I still get the prompt. Running</p>\n<pre><code>curl https://sh.rustup.rs -sSf | sh -s -- --default-toolchain stable --default-host x86_64-unknown-linux-gnu --profile default\n</code></pre>\n<p>still produces the confirmation prompt.</p>\n<p>I'm open to any solution here, including</p>\n<ol>\n<li>A one-line command to install rust</li>\n<li>Starting from the rust image + a one-line command to install java.</li>\n</ol>\n"},{"tags":["java","reflection","field"],"comments":[{"owner":{"account_id":2323814,"reputation":13662,"user_id":2038768,"display_name":"Mikhail Vladimirov"},"score":0,"creation_date":1361217788,"post_id":14944333,"comment_id":20974641,"body_markdown":"If field is not private, then is possible to know the name of the field being referred from particular part of code, but analyzing bytecode.  You can use ASM library for this.","body":"If field is not private, then is possible to know the name of the field being referred from particular part of code, but analyzing bytecode.  You can use ASM library for this."},{"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":1,"creation_date":1361217901,"post_id":14944333,"comment_id":20974682,"body_markdown":"What do you mean with name of the field? Is that String &quot;linkTool&quot; in your example?","body":"What do you mean with name of the field? Is that String &quot;linkTool&quot; in your example?"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1361218072,"post_id":14944333,"comment_id":20974769,"body_markdown":"Do you mean name of a field of a class you wrote yourself or another class?","body":"Do you mean name of a field of a class you wrote yourself or another class?"},{"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"score":0,"creation_date":1361218186,"post_id":14944333,"comment_id":20974816,"body_markdown":"Note that `ItemLinkTool` probably has more than just one method. What should your `getFieldsName` method return in case like that?","body":"Note that <code>ItemLinkTool</code> probably has more than just one method. What should your <code>getFieldsName</code> method return in case like that?"},{"owner":{"account_id":1002706,"reputation":3963,"user_id":1017211,"accept_rate":72,"display_name":"monnef"},"score":0,"creation_date":1361220459,"post_id":14944333,"comment_id":20975824,"body_markdown":"I&#39;m not sure if I wrote it clearly, I&#39;m want same functionality as: this.getClass().getField(&quot;linkTool&quot;) just without the string part ~  this.getClass().getField(linkTool).","body":"I&#39;m not sure if I wrote it clearly, I&#39;m want same functionality as: this.getClass().getField(&quot;linkTool&quot;) just without the string part ~  this.getClass().getField(linkTool)."},{"owner":{"account_id":1267399,"reputation":2304,"user_id":1224413,"accept_rate":100,"display_name":"Xyene"},"score":0,"creation_date":1361221034,"post_id":14944333,"comment_id":20976083,"body_markdown":"Why would you need a reflected Field when you already have the actual field?","body":"Why would you need a reflected Field when you already have the actual field?"},{"owner":{"account_id":1002706,"reputation":3963,"user_id":1017211,"accept_rate":72,"display_name":"monnef"},"score":0,"creation_date":1361275557,"post_id":14944333,"comment_id":20995454,"body_markdown":"@Nox: Because in phase 1 I get IDs for fields marked with `@ItemID` (fields are null and more fields will be of same type), in next phase I&#39;d like to address fields by their names not strings (I wrote reasons below).\n\nFrom string name I would be able to get a Field instance and then use it as an index in a map to get its ID (needed in Field&#39;s class&#39;s constructor). Based on Field&#39;s class (and probably annotation) I would be able to create an instance and assign it to a Field&#39;s value.\n\nPS: by **Field** I mean java.lang.reflect.Field, not any field.","body":"@Nox: Because in phase 1 I get IDs for fields marked with <code>@ItemID</code> (fields are null and more fields will be of same type), in next phase I&#39;d like to address fields by their names not strings (I wrote reasons below).  From string name I would be able to get a Field instance and then use it as an index in a map to get its ID (needed in Field&#39;s class&#39;s constructor). Based on Field&#39;s class (and probably annotation) I would be able to create an instance and assign it to a Field&#39;s value.  PS: by <b>Field</b> I mean java.lang.reflect.Field, not any field."},{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1440579689,"post_id":14944333,"comment_id":52327252,"body_markdown":"My motivation at getting the field name is using it to search for things in a key-value database (like mongodb). I have a struct with members (fields) that represents the saved data. **I use the member names to search the db**.","body":"My motivation at getting the field name is using it to search for things in a key-value database (like mongodb). I have a struct with members (fields) that represents the saved data. <b>I use the member names to search the db</b>."},{"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"score":0,"creation_date":1636011310,"post_id":14944333,"comment_id":123445077,"body_markdown":"Lombok introduced `@FieldNameConstants` so there seem to be a [solution](https://stackoverflow.com/a/68684899/10950272) for it now.","body":"Lombok introduced <code>@FieldNameConstants</code> so there seem to be a <a href=\"https://stackoverflow.com/a/68684899/10950272\">solution</a> for it now."}],"answers":[{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1361217821,"creation_date":1361217821,"answer_id":14944388,"question_id":14944333,"body_markdown":"This is only possible via reflection.\r\n\r\nUse `Class.getDeclaringFields`() \r\nand `java.reflection.Field.getName()`","title":"Get name of a field","body":"<p>This is only possible via reflection.</p>\n\n<p>Use <code>Class.getDeclaringFields</code>() \nand <code>java.reflection.Field.getName()</code></p>\n"},{"tags":[],"owner":{"account_id":1173073,"reputation":3068,"user_id":1149785,"accept_rate":87,"display_name":"user"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1361218236,"creation_date":1361217896,"answer_id":14944404,"question_id":14944333,"body_markdown":"If the field is private you can make it accessible:\r\n\r\n    Field field = object.getClass().getDeclaredField(fieldName);\r\n    field.setAccessible(true);\r\n    String value = (String)field.get(object); // to get the value, if needed. In the example is string type\r\n\r\nTo get field&#39;s name, go like that:\r\n\r\n    //use the field object from the example above\r\n    field.getName(); // it is in String.\r\n\r\nIf you don&#39;t know the name of the field... well.. then what field would you like to get? :) You could get ALL of the fields using reflection and then loop through them.. But if you don&#39;t know the field, what is the actual sense and logic in this action?","title":"Get name of a field","body":"<p>If the field is private you can make it accessible:</p>\n\n<pre><code>Field field = object.getClass().getDeclaredField(fieldName);\nfield.setAccessible(true);\nString value = (String)field.get(object); // to get the value, if needed. In the example is string type\n</code></pre>\n\n<p>To get field's name, go like that:</p>\n\n<pre><code>//use the field object from the example above\nfield.getName(); // it is in String.\n</code></pre>\n\n<p>If you don't know the name of the field... well.. then what field would you like to get? :) You could get ALL of the fields using reflection and then loop through them.. But if you don't know the field, what is the actual sense and logic in this action?</p>\n"},{"tags":[],"owner":{"account_id":1267399,"reputation":2304,"user_id":1224413,"accept_rate":100,"display_name":"Xyene"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1367531701,"creation_date":1361319039,"answer_id":14970042,"question_id":14944333,"body_markdown":"Unfortunately, there is no way to do what you wish. *Why?*\r\n\r\nIn an era where we are still trying to prove that Java is not slow, storing metadata of where or how an object was constructed would have a large overhead, and since it has a very minimal range of use, it does not exist. Not only that: there are a bunch of technical reasons as well.\r\n\r\nOne reason is because of how the JVM is implemented. The specification for the Java `class` file format can be found [here][1]. It&#39;s quite a mouthful, but it is very informative. \r\n\r\nAs I said previously, an object can be constructed from anywhere, even situations where *objects do not have names*. Only objects defined as class members have names (for the obvious reason of access): objects constructed in methods do not. The JVM has a local variable table with a maximum of 65535 entries. These are loaded unto the stack and stored into the table via the *load and *store opcodes.\r\n\r\nIn other words, a class like\r\n\r\n    public class Test {\r\n    int class_member = 42;\r\n    \r\n       public Test() {\r\n          int my_local_field = 42;\r\n       }\r\n    }\r\n\r\ngets compiled into\r\n\r\n    public class Test extends java.lang.Object\r\n      SourceFile: &quot;Test.java&quot;\r\n      minor version: 0\r\n      major version: 50\r\n      Constant pool:\r\n      --snip--\r\n    \r\n    {\r\n    int class_member;\r\n    \r\n    public Test();\r\n      Code:\r\n       Stack=2, Locals=2, Args_size=1\r\n       0:   aload_0\r\n       1:   invokespecial   #1; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4:   aload_0\r\n       5:   bipush  42\r\n       7:   putfield        #2; //Field class_member:I\r\n       10:  bipush  42\r\n       12:  istore_1\r\n       13:  return\r\n      LineNumberTable:\r\n       --snip--    \r\n    }\r\n\r\nThere, you can see a clear example from `javap -v Test` that while the name `class_member`is preserved, the `my_local_field` has been abstracted to index 1 in the local variable table (0 is reserved for `this`).\r\n\r\nThis in itself would be a pain for debuggers and such, so a set of attributes (think metadata for class files) was designed. These include the [LocalVariableTable][2], [LineNumberTable][3], and [LocalVariableTypeTable][4]. These attributes are useful for stacktraces (LineNumberTable), and debuggers (LocalVariableTable and LocalVariableTypeTable). However, these are *completely optional to include in files, and there is no guarantee that they are:*\r\n\r\n&gt; The LineNumberTable attribute is an optional variable-length attribute\r\n&gt; in the attributes table\r\n\r\nThe same holds for the rest of them.\r\n\r\nAdditionally, most compilers do not produce anything but the LineNumberTable by default, so you&#39;d be out of luck even if it was possible.\r\n\r\nBasically, it would be quite frustrating for developers to have a `getFieldName(object)` (which wouldn&#39;t be possible in the first place for local variables), and only have it work when those attributes are present. \r\n\r\nSo you are stuck for the foreseeable future with using `getField` with Strings. Shameless plug: [IntelliJ][5] seems to handle refactors with reflection quite well: having written Minecraft mods as well I know the feeling, and can say that work in refactoring is significantly reduces by IntelliJ. But the same is probably true for most modern IDEs: I&#39;m sure the big players, Eclipse, Netbeans *et al.* have well-implemented refactoring systems in place.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html\r\n  [2]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.12\r\n  [3]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.12\r\n  [4]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.14\r\n  [5]: http://www.jetbrains.com/idea/","title":"Get name of a field","body":"<p>Unfortunately, there is no way to do what you wish. <em>Why?</em></p>\n\n<p>In an era where we are still trying to prove that Java is not slow, storing metadata of where or how an object was constructed would have a large overhead, and since it has a very minimal range of use, it does not exist. Not only that: there are a bunch of technical reasons as well.</p>\n\n<p>One reason is because of how the JVM is implemented. The specification for the Java <code>class</code> file format can be found <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html\" rel=\"noreferrer\">here</a>. It's quite a mouthful, but it is very informative. </p>\n\n<p>As I said previously, an object can be constructed from anywhere, even situations where <em>objects do not have names</em>. Only objects defined as class members have names (for the obvious reason of access): objects constructed in methods do not. The JVM has a local variable table with a maximum of 65535 entries. These are loaded unto the stack and stored into the table via the *load and *store opcodes.</p>\n\n<p>In other words, a class like</p>\n\n<pre><code>public class Test {\nint class_member = 42;\n\n   public Test() {\n      int my_local_field = 42;\n   }\n}\n</code></pre>\n\n<p>gets compiled into</p>\n\n<pre><code>public class Test extends java.lang.Object\n  SourceFile: \"Test.java\"\n  minor version: 0\n  major version: 50\n  Constant pool:\n  --snip--\n\n{\nint class_member;\n\npublic Test();\n  Code:\n   Stack=2, Locals=2, Args_size=1\n   0:   aload_0\n   1:   invokespecial   #1; //Method java/lang/Object.\"&lt;init&gt;\":()V\n   4:   aload_0\n   5:   bipush  42\n   7:   putfield        #2; //Field class_member:I\n   10:  bipush  42\n   12:  istore_1\n   13:  return\n  LineNumberTable:\n   --snip--    \n}\n</code></pre>\n\n<p>There, you can see a clear example from <code>javap -v Test</code> that while the name <code>class_member</code>is preserved, the <code>my_local_field</code> has been abstracted to index 1 in the local variable table (0 is reserved for <code>this</code>).</p>\n\n<p>This in itself would be a pain for debuggers and such, so a set of attributes (think metadata for class files) was designed. These include the <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.12\" rel=\"noreferrer\">LocalVariableTable</a>, <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.12\" rel=\"noreferrer\">LineNumberTable</a>, and <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.14\" rel=\"noreferrer\">LocalVariableTypeTable</a>. These attributes are useful for stacktraces (LineNumberTable), and debuggers (LocalVariableTable and LocalVariableTypeTable). However, these are <em>completely optional to include in files, and there is no guarantee that they are:</em></p>\n\n<blockquote>\n  <p>The LineNumberTable attribute is an optional variable-length attribute\n  in the attributes table</p>\n</blockquote>\n\n<p>The same holds for the rest of them.</p>\n\n<p>Additionally, most compilers do not produce anything but the LineNumberTable by default, so you'd be out of luck even if it was possible.</p>\n\n<p>Basically, it would be quite frustrating for developers to have a <code>getFieldName(object)</code> (which wouldn't be possible in the first place for local variables), and only have it work when those attributes are present. </p>\n\n<p>So you are stuck for the foreseeable future with using <code>getField</code> with Strings. Shameless plug: <a href=\"http://www.jetbrains.com/idea/\" rel=\"noreferrer\">IntelliJ</a> seems to handle refactors with reflection quite well: having written Minecraft mods as well I know the feeling, and can say that work in refactoring is significantly reduces by IntelliJ. But the same is probably true for most modern IDEs: I'm sure the big players, Eclipse, Netbeans <em>et al.</em> have well-implemented refactoring systems in place.</p>\n"},{"tags":[],"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440580008,"creation_date":1440580008,"answer_id":32222358,"question_id":14944333,"body_markdown":"My motivation at getting the field name is using it to search for things in a key-value database (like mongodb). I have a struct with members (fields) that represents the saved data. **I use the member names to search the db**.\r\n\r\nMy suggestion is to put a static getter for each important member. Example:\r\n\r\n    public class Data {\r\n      public static String getMember1Key() {\r\n        return &quot;member1&quot;;\r\n      }\r\n      public String member1;\r\n    }\r\n\r\nHopefully, Java will have some mechanism for this in the future, because nowadays, the metadata may be part of the data. Especially when doing stuff with JSON.","title":"Get name of a field","body":"<p>My motivation at getting the field name is using it to search for things in a key-value database (like mongodb). I have a struct with members (fields) that represents the saved data. <strong>I use the member names to search the db</strong>.</p>\n\n<p>My suggestion is to put a static getter for each important member. Example:</p>\n\n<pre><code>public class Data {\n  public static String getMember1Key() {\n    return \"member1\";\n  }\n  public String member1;\n}\n</code></pre>\n\n<p>Hopefully, Java will have some mechanism for this in the future, because nowadays, the metadata may be part of the data. Especially when doing stuff with JSON.</p>\n"},{"tags":[],"owner":{"account_id":3431913,"reputation":10478,"user_id":2876079,"accept_rate":71,"display_name":"Stefan"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1455562228,"creation_date":1455561173,"answer_id":35416606,"question_id":14944333,"body_markdown":"   &gt;String fieldName = getFieldName(linkTool, this);\r\n    \r\n\r\n    private static String getFieldName(Object fieldObject, Object parent) {\r\n\r\n\t\tjava.lang.reflect.Field[] allFields = parent.getClass().getFields();\r\n\t\tfor (java.lang.reflect.Field field : allFields) {\r\n\t\t\tObject currentFieldObject;\r\n\t\t\ttry {\r\n\t\t\t\tcurrentFieldObject = field.get(parent);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tboolean isWantedField = fieldObject.equals(currentFieldObject);\r\n\t\t\tif (isWantedField) {\r\n\t\t\t\tString fieldName = field.getName();\r\n\t\t\t\treturn fieldName;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}","title":"Get name of a field","body":"<blockquote>\n  <p>String fieldName = getFieldName(linkTool, this);</p>\n</blockquote>\n\n<pre><code>private static String getFieldName(Object fieldObject, Object parent) {\n\n    java.lang.reflect.Field[] allFields = parent.getClass().getFields();\n    for (java.lang.reflect.Field field : allFields) {\n        Object currentFieldObject;\n        try {\n            currentFieldObject = field.get(parent);\n        } catch (Exception e) {\n            return null;\n        }\n        boolean isWantedField = fieldObject.equals(currentFieldObject);\n        if (isWantedField) {\n            String fieldName = field.getName();\n            return fieldName;\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446833,"reputation":2694,"user_id":840129,"accept_rate":89,"display_name":"jreznot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511353931,"creation_date":1511353931,"answer_id":47434813,"question_id":14944333,"body_markdown":"It can be done using runtime byte code instrumentation, for instance using Byte Buddy library, see this answer https://stackoverflow.com/questions/40850926/nameof-equivalent-in-java/46679366#46679366","title":"Get name of a field","body":"<p>It can be done using runtime byte code instrumentation, for instance using Byte Buddy library, see this answer <a href=\"https://stackoverflow.com/questions/40850926/nameof-equivalent-in-java/46679366#46679366\">nameof equivalent in Java</a></p>\n"},{"tags":[],"owner":{"account_id":3657924,"reputation":1867,"user_id":3048431,"display_name":"Oguz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1526985802,"creation_date":1526985802,"answer_id":50465711,"question_id":14944333,"body_markdown":"I think this is what you are looking for.\r\n\r\n    SomeClass data; // or List&lt;SomeClass&gt; data; etc.\r\n    List&lt;String&gt; fieldNames = getFieldNamesForClass(data.get(0).getClass());\r\n\r\n    private static List&lt;String&gt; getFieldNamesForClass(Class&lt;?&gt; clazz) throws Exception {\r\n    \tList&lt;String&gt; fieldNames = new ArrayList&lt;String&gt;();\r\n    \tField[] fields = clazz.getDeclaredFields();\r\n    \tfor (int i = 0; i &lt; fields.length; i++) {\r\n    \t\tfieldNames.add(fields[i].getName());\r\n    \t}\r\n    \treturn fieldNames;\r\n    }","title":"Get name of a field","body":"<p>I think this is what you are looking for.</p>\n\n<pre><code>SomeClass data; // or List&lt;SomeClass&gt; data; etc.\nList&lt;String&gt; fieldNames = getFieldNamesForClass(data.get(0).getClass());\n\nprivate static List&lt;String&gt; getFieldNamesForClass(Class&lt;?&gt; clazz) throws Exception {\n    List&lt;String&gt; fieldNames = new ArrayList&lt;String&gt;();\n    Field[] fields = clazz.getDeclaredFields();\n    for (int i = 0; i &lt; fields.length; i++) {\n        fieldNames.add(fields[i].getName());\n    }\n    return fieldNames;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1643873864,"creation_date":1628267555,"answer_id":68684899,"question_id":14944333,"body_markdown":"How about using **lombok** annotation [`@FieldNameConstants`][1]\r\n\r\n```java\r\n@FieldNameConstants\r\npublic class Mod {\r\n    public ItemLinkTool linkTool;\r\n}\r\n...\r\nString fieldName = Mod.Fields.linkTool; //fieldName == &quot;linkTool&quot;\r\n```\r\n\r\nWith this feature we don&#39;t need to maintain code for getting field names (lombok does it for us). After deleting a field compiler will complain about it&#39;s usage.\r\n\r\nNote that this feature is marked as experimental.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/experimental/FieldNameConstants","title":"Get name of a field","body":"<p>How about using <strong>lombok</strong> annotation <a href=\"https://projectlombok.org/features/experimental/FieldNameConstants\" rel=\"noreferrer\"><code>@FieldNameConstants</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@FieldNameConstants\npublic class Mod {\n    public ItemLinkTool linkTool;\n}\n...\nString fieldName = Mod.Fields.linkTool; //fieldName == &quot;linkTool&quot;\n</code></pre>\n<p>With this feature we don't need to maintain code for getting field names (lombok does it for us). After deleting a field compiler will complain about it's usage.</p>\n<p>Note that this feature is marked as experimental.</p>\n"},{"tags":[],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666559018,"creation_date":1666559018,"answer_id":74174773,"question_id":14944333,"body_markdown":"As well as Lombok&#39;s `@FieldNameConstants` it is possible to use [`pojo-analyzers`](https://github.com/almogtavor/pojo-analyzer) which will also enable to access the getters and setters of the field (without reflection).\r\n\r\n```java\r\n@DetailedPojo\r\npublic class Mod {\r\n    public ItemLinkTool linkTool;\r\n}\r\n...\r\nMod mod = new Mod(myItemLinkTool);\r\nDetailedMod.map.get(&quot;entityId&quot;).getFieldValue(mod); // myItemLinkTool\r\n```","title":"Get name of a field","body":"<p>As well as Lombok's <code>@FieldNameConstants</code> it is possible to use <a href=\"https://github.com/almogtavor/pojo-analyzer\" rel=\"nofollow noreferrer\"><code>pojo-analyzers</code></a> which will also enable to access the getters and setters of the field (without reflection).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DetailedPojo\npublic class Mod {\n    public ItemLinkTool linkTool;\n}\n...\nMod mod = new Mod(myItemLinkTool);\nDetailedMod.map.get(&quot;entityId&quot;).getFieldValue(mod); // myItemLinkTool\n</code></pre>\n"}],"owner":{"account_id":1002706,"reputation":3963,"user_id":1017211,"accept_rate":72,"display_name":"monnef"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122153,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":14970042,"answer_count":9,"score":44,"last_activity_date":1666559018,"creation_date":1361217625,"question_id":14944333,"body_markdown":"Is it possible in Java to get a name of field in string from the actual field? like:\r\n\r\n    public class mod {\r\n        @ItemID\r\n        public static ItemLinkTool linkTool;\r\n\r\n        public void xxx{\r\n            String fieldsName = *getFieldsName(linkTool)*;\r\n        }\r\n    }\r\n\r\nPS: I&#39;m **not** looking for a field&#39;s class/class name or getting Field from name in String.\r\n\r\n\r\n----------\r\nEDIT:\r\nWhen I&#39;m looking at it I probably wouldn&#39;t need a method to get a field&#39;s name, the Field instance (from field&#39;s &quot;code name&quot;) would suffice. [e.g. `Field myField = getField(linkTool)`] \r\n\r\nThere probably isn&#39;t anything like I want in Java itself. I&#39;ll take a look at the ASM library, but in the end I might end up using the string as an identifier for fields :/\r\n\r\n\r\n----------\r\nEDIT2:\r\nMy english isn&#39;t great (but even in my native language I&#39;d have problems explaining this), so I&#39;m adding one more example. Hopefuly it will be more clear now:\r\n\r\n    public class mod2 {\r\n        @ItemID\r\n        public static ItemLinkTool linkTool;\r\n    \r\n        @ItemID\r\n        public static ItemLinkTool linkTool2;\r\n\r\n        @ItemID\r\n        public static ItemPipeWrench pipeWrench;\r\n\t\t\r\n        public void constructItems() {\r\n\t\t    // most trivial way\r\n            linkTool = new ItemLinkTool(getId(&quot;linkTool&quot;));\r\n            linkTool2 = new ItemLinkTool(getId(&quot;linkTool2&quot;));\r\n            pipeWrench = new ItemPipeWrench(getId(&quot;pipeWrench&quot;));\r\n    \t\t\r\n\t\t    // or when constructItem would directly write into field just\r\n            constructItem(&quot;linkTool&quot;);\r\n            constructItem(&quot;linkTool2&quot;);\r\n            constructItem(&quot;pipeWrench&quot;);\r\n    \t\t\r\n\t\t    // but I&#39;d like to be able to have it like this\r\n            constructItemIdeal(linkTool);\r\n            constructItemIdeal(linkTool2);\r\n            constructItemIdeal(pipeWrench);\r\n        }\r\n\t\t\r\n\t\t// not tested, just example of how I see it\r\n\t\tprivate void constructItem(String name){\r\n\t\t    Field f = getClass().getField(name);\r\n\t\t\tint id = getId(name);\r\n\t\t\t\r\n\t\t\t// this could be rewritten if constructors take same parameters\r\n\t\t\t// to create a new instance using reflection\r\n\t\t\tif (f.getDeclaringClass() == ItemLinkTool){\r\n\t\t\t\tf.set(null, new ItemLinkTool(id));\r\n\t\t\t}else{\r\n\t\t\t\tf.set(null, new ItemPipeWrench(id));\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n\r\nThe question is: how could look the constructItemIdeal method? (From answers and googling around I thing it&#39;s not possible in Java, but who knows..)","title":"Get name of a field","body":"<p>Is it possible in Java to get a name of field in string from the actual field? like:</p>\n\n<pre><code>public class mod {\n    @ItemID\n    public static ItemLinkTool linkTool;\n\n    public void xxx{\n        String fieldsName = *getFieldsName(linkTool)*;\n    }\n}\n</code></pre>\n\n<p>PS: I'm <strong>not</strong> looking for a field's class/class name or getting Field from name in String.</p>\n\n<hr>\n\n<p>EDIT:\nWhen I'm looking at it I probably wouldn't need a method to get a field's name, the Field instance (from field's \"code name\") would suffice. [e.g. <code>Field myField = getField(linkTool)</code>] </p>\n\n<p>There probably isn't anything like I want in Java itself. I'll take a look at the ASM library, but in the end I might end up using the string as an identifier for fields :/</p>\n\n<hr>\n\n<p>EDIT2:\nMy english isn't great (but even in my native language I'd have problems explaining this), so I'm adding one more example. Hopefuly it will be more clear now:</p>\n\n<pre><code>public class mod2 {\n    @ItemID\n    public static ItemLinkTool linkTool;\n\n    @ItemID\n    public static ItemLinkTool linkTool2;\n\n    @ItemID\n    public static ItemPipeWrench pipeWrench;\n\n    public void constructItems() {\n        // most trivial way\n        linkTool = new ItemLinkTool(getId(\"linkTool\"));\n        linkTool2 = new ItemLinkTool(getId(\"linkTool2\"));\n        pipeWrench = new ItemPipeWrench(getId(\"pipeWrench\"));\n\n        // or when constructItem would directly write into field just\n        constructItem(\"linkTool\");\n        constructItem(\"linkTool2\");\n        constructItem(\"pipeWrench\");\n\n        // but I'd like to be able to have it like this\n        constructItemIdeal(linkTool);\n        constructItemIdeal(linkTool2);\n        constructItemIdeal(pipeWrench);\n    }\n\n    // not tested, just example of how I see it\n    private void constructItem(String name){\n        Field f = getClass().getField(name);\n        int id = getId(name);\n\n        // this could be rewritten if constructors take same parameters\n        // to create a new instance using reflection\n        if (f.getDeclaringClass() == ItemLinkTool){\n            f.set(null, new ItemLinkTool(id));\n        }else{\n            f.set(null, new ItemPipeWrench(id));\n        }\n    }\n}\n</code></pre>\n\n<p>The question is: how could look the constructItemIdeal method? (From answers and googling around I thing it's not possible in Java, but who knows..)</p>\n"},{"tags":["java","rest","inputstream"],"comments":[{"owner":{"account_id":5211690,"reputation":561,"user_id":4167902,"display_name":"Vincz777"},"score":3,"creation_date":1524670794,"post_id":50026141,"comment_id":87068802,"body_markdown":"I&#39;d suggest you mask the private informations you&#39;re giving out (Directory, employer name, etc...)","body":"I&#39;d suggest you mask the private informations you&#39;re giving out (Directory, employer name, etc...)"},{"owner":{"account_id":13006231,"reputation":129,"user_id":9400675,"display_name":"Nicolas HELIE"},"score":0,"creation_date":1524733367,"post_id":50026141,"comment_id":87093951,"body_markdown":"Thanks Vincz777 for the advice and Dan W for the modification.","body":"Thanks Vincz777 for the advice and Dan W for the modification."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1666558838,"creation_date":1524672986,"answer_id":50026950,"question_id":50026141,"body_markdown":"**DownloadDocumentController**\r\n\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class DownloadDocumentController {\r\n    \r\n        private static final String APPLICATION_MS_WORD_VALUE = &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;;\r\n    \r\n        private final DownloadDocumentService downloadDocumentService;\r\n    \r\n        @PostMapping(value = &quot;/download&quot;, produces = APPLICATION_MS_WORD_VALUE)\r\n        public ResponseEntity&lt;byte[]&gt; downloadFile(@RequestBody String pathFile) throws IOException {\r\n            byte[] content = downloadDocumentService.downloadFile(pathFile);\r\n    \r\n            return ResponseEntity.ok()\r\n                                 .contentLength(content.length)\r\n                                 .header(HttpHeaders.CONTENT_TYPE, APPLICATION_MS_WORD_VALUE)\r\n                                 .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=File.docx&quot;))\r\n                                 .body(content);\r\n        }\r\n    }\r\n\r\n**DownloadDocumentService**\r\n\r\n    @Service\r\n    public class DownloadDocumentService {\r\n    \r\n        public byte[] downloadFile(String pathFile) {\r\n            // TODO do read available resource and create byte[]\r\n            return null;\r\n        }\r\n    \r\n    }","title":"Download File with REST API","body":"<p><strong>DownloadDocumentController</strong></p>\n<pre><code>@RestController\n@RequiredArgsConstructor\npublic class DownloadDocumentController {\n\n    private static final String APPLICATION_MS_WORD_VALUE = &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;;\n\n    private final DownloadDocumentService downloadDocumentService;\n\n    @PostMapping(value = &quot;/download&quot;, produces = APPLICATION_MS_WORD_VALUE)\n    public ResponseEntity&lt;byte[]&gt; downloadFile(@RequestBody String pathFile) throws IOException {\n        byte[] content = downloadDocumentService.downloadFile(pathFile);\n\n        return ResponseEntity.ok()\n                             .contentLength(content.length)\n                             .header(HttpHeaders.CONTENT_TYPE, APPLICATION_MS_WORD_VALUE)\n                             .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=File.docx&quot;))\n                             .body(content);\n    }\n}\n</code></pre>\n<p><strong>DownloadDocumentService</strong></p>\n<pre><code>@Service\npublic class DownloadDocumentService {\n\n    public byte[] downloadFile(String pathFile) {\n        // TODO do read available resource and create byte[]\n        return null;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13006231,"reputation":129,"user_id":9400675,"display_name":"Nicolas HELIE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53543,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":50026950,"answer_count":1,"score":9,"last_activity_date":1666558838,"creation_date":1524670269,"question_id":50026141,"body_markdown":"I try to develop an api to open a file like word or pdf.\r\nI test with swagger this API but I have the error below.\r\nThe parameter given by swagger or the front are similar to this -&gt; *Z:\\Some\\Path\\To\\My\\File.docx*.\r\n\r\nI tried this pathFile on the explorateur windows and it&#39;s works fine.\r\n\r\n**STACK TRACE**\r\n\r\n    java.io.FileNotFoundException: InputStream resource [resource loaded through InputStream] cannot be resolved to absolute file path\r\n    \tat org.springframework.core.io.AbstractResource.getFile(AbstractResource.java:114) ~[spring-core-4.3.12.RELEASE.jar:4.3.12.RELEASE]\r\n    \tat ... .DownloadDocumentResource.downloadFile(DownloadDocumentResource.java:28) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_92]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_92]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_92]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_92]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.11.RELEASE.jar:4.3.11.RELEASE]\r\n\r\n**REST CONTROLLER**\r\n\r\n    @RestController\r\n    public class DownloadDocumentResource {\r\n    \r\n        @ResponseBody\r\n        @RequestMapping(method = RequestMethod.POST, path = {&quot;/download&quot;})\r\n        public ResponseEntity&lt;InputStreamResource&gt; downloadFile(@RequestBody String pathFile) throws IOException {\r\n            out.println(pathFile);\r\n            InputStreamResource resource = new InputStreamResource(new FileInputStream( pathFile));\r\n            File fileToDownload = resource.getFile();\r\n    \r\n    \r\n            return ResponseEntity.ok()\r\n                    .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + fileToDownload.getName())\r\n                    .contentLength(fileToDownload.length())\r\n                    .contentType(MediaType.parseMediaType(MediaType.APPLICATION_OCTET_STREAM_VALUE))\r\n                    .body(resource);\r\n        }\r\n\r\n\r\n","title":"Download File with REST API","body":"<p>I try to develop an api to open a file like word or pdf.\nI test with swagger this API but I have the error below.\nThe parameter given by swagger or the front are similar to this -> <em>Z:\\Some\\Path\\To\\My\\File.docx</em>.</p>\n\n<p>I tried this pathFile on the explorateur windows and it's works fine.</p>\n\n<p><strong>STACK TRACE</strong></p>\n\n<pre><code>java.io.FileNotFoundException: InputStream resource [resource loaded through InputStream] cannot be resolved to absolute file path\n    at org.springframework.core.io.AbstractResource.getFile(AbstractResource.java:114) ~[spring-core-4.3.12.RELEASE.jar:4.3.12.RELEASE]\n    at ... .DownloadDocumentResource.downloadFile(DownloadDocumentResource.java:28) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_92]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_92]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_92]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_92]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-4.3.11.RELEASE.jar:4.3.11.RELEASE]\n</code></pre>\n\n<p><strong>REST CONTROLLER</strong></p>\n\n<pre><code>@RestController\npublic class DownloadDocumentResource {\n\n    @ResponseBody\n    @RequestMapping(method = RequestMethod.POST, path = {\"/download\"})\n    public ResponseEntity&lt;InputStreamResource&gt; downloadFile(@RequestBody String pathFile) throws IOException {\n        out.println(pathFile);\n        InputStreamResource resource = new InputStreamResource(new FileInputStream( pathFile));\n        File fileToDownload = resource.getFile();\n\n\n        return ResponseEntity.ok()\n                .header(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=\" + fileToDownload.getName())\n                .contentLength(fileToDownload.length())\n                .contentType(MediaType.parseMediaType(MediaType.APPLICATION_OCTET_STREAM_VALUE))\n                .body(resource);\n    }\n</code></pre>\n"},{"tags":["java","php","curl","apache-httpcomponents"],"answers":[{"tags":[],"owner":{"display_name":"user890904"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395764608,"creation_date":1395764608,"answer_id":22640561,"question_id":22639828,"body_markdown":"try closing the underlying connection by closing the Closable instance that you get. \r\n\r\n    CloseableHttpResponse resp = ApiCommunicator.getHttpClient().execute(post);\r\n    try {\r\n            System.out.println(EntityUtils.toString(resp.getEntity()));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        finally{\r\n           resp.close();\r\n        }\r\n\r\n","title":"cURL works, but an identical request in Apache&#39;s HttpComponents library does not?","body":"<p>try closing the underlying connection by closing the Closable instance that you get. </p>\n\n<pre><code>CloseableHttpResponse resp = ApiCommunicator.getHttpClient().execute(post);\ntry {\n        System.out.println(EntityUtils.toString(resp.getEntity()));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    finally{\n       resp.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120533,"reputation":955,"user_id":3195089,"display_name":"Jeremy D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408729252,"creation_date":1408729252,"answer_id":25452730,"question_id":22639828,"body_markdown":"I would recommend running your java client with the command line option -Djavax.net.debug=ssl as this will give you more (but cryptic) insight into the SSL handshake. That should illuminate the underlying connection troubles, but it might take a while to understand the details that this debug log will output. http://www.smartjava.org/content/how-analyze-java-ssl-errors provides a very nice, detailed discussion of the SSL handshake.\r\n\r\nIt seems plausible that your HTTPClient does not have a well defined SSLContext. You could explore using some of these options to create it.\r\n\r\n    SSLContext sslContext = SSLContexts.createDefault();\r\n    SSLConnectionSocketFactory sslSocketFactory = new SSLConnectionSocketFactory(sslContext, SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n    CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslSocketFactory).build();\r\n\r\nNote that you can also create custom SSLContext(s) from SSLContexts.custom() which allows you to add keystore, truststore, and to specify using TLS. ","title":"cURL works, but an identical request in Apache&#39;s HttpComponents library does not?","body":"<p>I would recommend running your java client with the command line option -Djavax.net.debug=ssl as this will give you more (but cryptic) insight into the SSL handshake. That should illuminate the underlying connection troubles, but it might take a while to understand the details that this debug log will output. <a href=\"http://www.smartjava.org/content/how-analyze-java-ssl-errors\" rel=\"nofollow\">http://www.smartjava.org/content/how-analyze-java-ssl-errors</a> provides a very nice, detailed discussion of the SSL handshake.</p>\n\n<p>It seems plausible that your HTTPClient does not have a well defined SSLContext. You could explore using some of these options to create it.</p>\n\n<pre><code>SSLContext sslContext = SSLContexts.createDefault();\nSSLConnectionSocketFactory sslSocketFactory = new SSLConnectionSocketFactory(sslContext, SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\nCloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(sslSocketFactory).build();\n</code></pre>\n\n<p>Note that you can also create custom SSLContext(s) from SSLContexts.custom() which allows you to add keystore, truststore, and to specify using TLS. </p>\n"}],"owner":{"account_id":3767561,"reputation":121,"user_id":3460396,"display_name":"LartTyler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3375,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666558383,"creation_date":1395762933,"question_id":22639828,"body_markdown":"I have literally been tearing my hair out for days over this one little issue. Hopefully, someone here can spot my mistake (because I&#39;m sure it&#39;s on my end) and give me a few points on how to remedy it. If I fail at my explanation, let me know and I&#39;ll try to rewrite it in a more succinct manner.\r\n\r\n--\r\n\r\nA bit of background: as part of a small side project, I&#39;ve been writing a Java application to monitor chat and event data sent out by an in-browser game (for reference; [Command &amp; Conquer: Tiberium Alliances][1]). Sadly, there isn&#39;t much documentation on how their web service works, but I&#39;ve managed to piece together a series of requests (based on watching network traffic and from code samples posted by other developers) to handle logging in and such.\r\n\r\nOne particular request absolutely refuses to complete, and Java is throwing a connection reset exception after pausing for 30 seconds. Below is the connection log for this particular request.\r\n\r\n     2014/03/25 11:17:16:703 EDT [DEBUG] RequestAddCookies - CookieSpec selected: best-match\r\n     2014/03/25 11:17:16:703 EDT [DEBUG] RequestAuthCache - Auth cache not set in the context\r\n     2014/03/25 11:17:16:703 EDT [DEBUG] PoolingHttpClientConnectionManager - Connection request: [route: {s}-&gt;https://gamecdnorigin.alliances.commandandconquer.com:443][total kept alive: 1; route allocated: 0 of 2; total allocated: 1 of 20]\r\n     2014/03/25 11:17:16:703 EDT [DEBUG] PoolingHttpClientConnectionManager - Connection leased: [id: 2][route: {s}-&gt;https://gamecdnorigin.alliances.commandandconquer.com:443][total kept alive: 1; route allocated: 1 of 2; total allocated: 2 of 20]\r\n     2014/03/25 11:17:16:703 EDT [DEBUG] MainClientExec - Opening connection {s}-&gt;https://gamecdnorigin.alliances.commandandconquer.com:443\r\n     2014/03/25 11:17:16:755 EDT [DEBUG] HttpClientConnectionOperator - Connecting to gamecdnorigin.alliances.commandandconquer.com/212.100.228.211:443\r\n     *snip: 30 seconds of junk output*\r\n     2014/03/25 11:18:16:992 EDT [DEBUG] DefaultManagedHttpClientConnection - http-outgoing-2: Shutdown connection\r\n     2014/03/25 11:18:16:992 EDT [DEBUG] MainClientExec - Connection discarded\r\n     2014/03/25 11:18:16:993 EDT [DEBUG] DefaultManagedHttpClientConnection - http-outgoing-2: Close connection\r\n     2014/03/25 11:18:16:993 EDT [DEBUG] PoolingHttpClientConnectionManager - Connection released: [id: 2][route: {s}-&gt;https://gamecdnorigin.alliances.commandandconquer.com:443][total kept alive: 1; route allocated: 0 of 2; total allocated: 1 of 20]\r\n     2014/03/25 11:18:16:993 EDT [INFO] RetryExec - I/O exception (java.net.SocketException) caught when processing request to {s}-&gt;https://gamecdnorigin.alliances.commandandconquer.com:443: Connection reset\r\n     2014/03/25 11:18:16:993 EDT [DEBUG] RetryExec - Connection reset &lt;java.net.SocketException: Connection reset&gt;java.net.SocketException: Connection reset\r\n     \tat java.net.SocketInputStream.read(SocketInputStream.java:189)\r\n     \tat java.net.SocketInputStream.read(SocketInputStream.java:121)\r\n     \tat sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\r\n     \tat sun.security.ssl.InputRecord.read(InputRecord.java:503)\r\n     \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:954)\r\n     \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1343)\r\n     \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1371)\r\n     \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1355)\r\n     \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:275)\r\n     \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:254)\r\n     \tat org.apache.http.impl.conn.HttpClientConnectionOperator.connect(HttpClientConnectionOperator.java:117)\r\n     \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:314)\r\n     \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:363)\r\n     \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:219)\r\n     \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:195)\r\n     \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:86)\r\n     \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:108)\r\n     \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:186)\r\n     \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n     \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:106)\r\n     *snip: lots of extra backtrace*\r\n\r\nIt&#39;s a lot, I know :/\r\n\r\nThe strange part is, running the EXACT same request using PHP&#39;s cURL works just fine, and I get back the information I would expect to. Below is the code snippets for both the Java that is sending the failing request, as well as the PHP that is completing successfully.\r\n\r\n**Java:**\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static boolean loadWorlds(Session session) {\r\n\t\tHttpPost post = new HttpPost(&quot;https://gamecdnorigin.alliances.commandandconquer.com/Farm/Service.svc/ajaxEndpoint/GetOriginAccountInfo&quot;);\r\n\t\tHttpEntity entity = new StringEntity(String.format(&quot;{\\&quot;session\\&quot;:\\&quot;%s\\&quot;}&quot;, session.getId()), ContentType.APPLICATION_JSON);\r\n\r\n\t\tpost.setHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;);\r\n\t\tpost.setHeader(&quot;X-Qooxdoo-Response-Type&quot;, &quot;application/json&quot;);\r\n\t\tpost.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n\t\tpost.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n\t\tpost.setEntity(entity);\r\n\r\n\t\ttry {\r\n\t\t\tCloseableHttpResponse resp = ApiCommunicator.getHttpClient().execute(post);\r\n\r\n\t\t\tSystem.out.println(EntityUtils.toString(resp.getEntity()));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n**cURL via PHP:**\r\n\r\n&lt;!-- language: lang-php --&gt;\r\n\r\n    &lt;?php\r\n        $cookie = &#39;cookies/&#39; . md5($user) . &#39;.txt&#39;;\r\n        $data = array(\r\n            &#39;session&#39; =&gt; &#39;hidden :P&#39;\r\n        );\r\n\r\n        $ch = curl_init();\r\n        curl_setopt($ch, CURLOPT_URL, &#39;https://gamecdnorigin.alliances.commandandconquer.com/Farm/Service.svc/ajaxEndpoint/GetOriginAccountInfo&#39;);\r\n        curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 2);\r\n        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\r\n        curl_setopt($ch, CURLOPT_HTTPHEADER, array(\r\n            &quot;Content-Type: application/json; charset=utf-8&quot;,\r\n            &quot;Cache-Control: no-cache&quot;,\r\n            &quot;Pragma: no-cache&quot;,\r\n            &quot;X-Qooxdoo-Response-Type: application/json&quot;\r\n        ));\r\n        curl_setopt($ch, CURLOPT_POST, true);\r\n        curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));\r\n        curl_setopt($ch, CURLOPT_COOKIEFILE, $cookie);\r\n        curl_setopt($ch, CURLOPT_COOKIEJAR, $cookie);\r\n\r\n        $result = curl_exec($ch);\r\n    ?&gt;\r\n\r\nIn an effort to keep this post as short as possible (since it&#39;s already a painfully long wall of text) I rewrote the PHP slightly to show the values of $cookie and $data, since both are set further up in the script&#39;s execution.\r\n\r\nAny help at all would be appreciated. I have no idea if HttpComponents adds or removes header data to requests (I literally just started learning the library 2 days ago when I picked up this project) that cURL would not. If necessary, I can post more code samples, since there&#39;s nothing in this project that&#39;s really &quot;secret&quot; other than things like my personal logins / session information that&#39;s coming back from the server. Also, this is my first time here D: so if I didn&#39;t format something right or if my code snippets aren&#39;t coming over highlighted right let me know and I&#39;ll do my best to fix it :)\r\n\r\n  [1]: http://www.tiberiumalliances.com/home","title":"cURL works, but an identical request in Apache&#39;s HttpComponents library does not?","body":"<p>I have literally been tearing my hair out for days over this one little issue. Hopefully, someone here can spot my mistake (because I'm sure it's on my end) and give me a few points on how to remedy it. If I fail at my explanation, let me know and I'll try to rewrite it in a more succinct manner.</p>\n\n<p>--</p>\n\n<p>A bit of background: as part of a small side project, I've been writing a Java application to monitor chat and event data sent out by an in-browser game (for reference; <a href=\"http://www.tiberiumalliances.com/home\" rel=\"nofollow\">Command &amp; Conquer: Tiberium Alliances</a>). Sadly, there isn't much documentation on how their web service works, but I've managed to piece together a series of requests (based on watching network traffic and from code samples posted by other developers) to handle logging in and such.</p>\n\n<p>One particular request absolutely refuses to complete, and Java is throwing a connection reset exception after pausing for 30 seconds. Below is the connection log for this particular request.</p>\n\n<pre><code> 2014/03/25 11:17:16:703 EDT [DEBUG] RequestAddCookies - CookieSpec selected: best-match\n 2014/03/25 11:17:16:703 EDT [DEBUG] RequestAuthCache - Auth cache not set in the context\n 2014/03/25 11:17:16:703 EDT [DEBUG] PoolingHttpClientConnectionManager - Connection request: [route: {s}-&gt;https://gamecdnorigin.alliances.commandandconquer.com:443][total kept alive: 1; route allocated: 0 of 2; total allocated: 1 of 20]\n 2014/03/25 11:17:16:703 EDT [DEBUG] PoolingHttpClientConnectionManager - Connection leased: [id: 2][route: {s}-&gt;https://gamecdnorigin.alliances.commandandconquer.com:443][total kept alive: 1; route allocated: 1 of 2; total allocated: 2 of 20]\n 2014/03/25 11:17:16:703 EDT [DEBUG] MainClientExec - Opening connection {s}-&gt;https://gamecdnorigin.alliances.commandandconquer.com:443\n 2014/03/25 11:17:16:755 EDT [DEBUG] HttpClientConnectionOperator - Connecting to gamecdnorigin.alliances.commandandconquer.com/212.100.228.211:443\n *snip: 30 seconds of junk output*\n 2014/03/25 11:18:16:992 EDT [DEBUG] DefaultManagedHttpClientConnection - http-outgoing-2: Shutdown connection\n 2014/03/25 11:18:16:992 EDT [DEBUG] MainClientExec - Connection discarded\n 2014/03/25 11:18:16:993 EDT [DEBUG] DefaultManagedHttpClientConnection - http-outgoing-2: Close connection\n 2014/03/25 11:18:16:993 EDT [DEBUG] PoolingHttpClientConnectionManager - Connection released: [id: 2][route: {s}-&gt;https://gamecdnorigin.alliances.commandandconquer.com:443][total kept alive: 1; route allocated: 0 of 2; total allocated: 1 of 20]\n 2014/03/25 11:18:16:993 EDT [INFO] RetryExec - I/O exception (java.net.SocketException) caught when processing request to {s}-&gt;https://gamecdnorigin.alliances.commandandconquer.com:443: Connection reset\n 2014/03/25 11:18:16:993 EDT [DEBUG] RetryExec - Connection reset &lt;java.net.SocketException: Connection reset&gt;java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(SocketInputStream.java:189)\n    at java.net.SocketInputStream.read(SocketInputStream.java:121)\n    at sun.security.ssl.InputRecord.readFully(InputRecord.java:465)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:503)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:954)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1343)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1371)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1355)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:275)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:254)\n    at org.apache.http.impl.conn.HttpClientConnectionOperator.connect(HttpClientConnectionOperator.java:117)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:314)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:363)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:219)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:195)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:86)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:108)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:186)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:106)\n *snip: lots of extra backtrace*\n</code></pre>\n\n<p>It's a lot, I know :/</p>\n\n<p>The strange part is, running the EXACT same request using PHP's cURL works just fine, and I get back the information I would expect to. Below is the code snippets for both the Java that is sending the failing request, as well as the PHP that is completing successfully.</p>\n\n<p><strong>Java:</strong>\n</p>\n\n<pre><code>public static boolean loadWorlds(Session session) {\n    HttpPost post = new HttpPost(\"https://gamecdnorigin.alliances.commandandconquer.com/Farm/Service.svc/ajaxEndpoint/GetOriginAccountInfo\");\n    HttpEntity entity = new StringEntity(String.format(\"{\\\"session\\\":\\\"%s\\\"}\", session.getId()), ContentType.APPLICATION_JSON);\n\n    post.setHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n    post.setHeader(\"X-Qooxdoo-Response-Type\", \"application/json\");\n    post.setHeader(\"Cache-Control\", \"no-cache\");\n    post.setHeader(\"Pragma\", \"no-cache\");\n    post.setEntity(entity);\n\n    try {\n        CloseableHttpResponse resp = ApiCommunicator.getHttpClient().execute(post);\n\n        System.out.println(EntityUtils.toString(resp.getEntity()));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return true;\n}\n</code></pre>\n\n<p><strong>cURL via PHP:</strong></p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n    $cookie = 'cookies/' . md5($user) . '.txt';\n    $data = array(\n        'session' =&gt; 'hidden :P'\n    );\n\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, 'https://gamecdnorigin.alliances.commandandconquer.com/Farm/Service.svc/ajaxEndpoint/GetOriginAccountInfo');\n    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 2);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    curl_setopt($ch, CURLOPT_HTTPHEADER, array(\n        \"Content-Type: application/json; charset=utf-8\",\n        \"Cache-Control: no-cache\",\n        \"Pragma: no-cache\",\n        \"X-Qooxdoo-Response-Type: application/json\"\n    ));\n    curl_setopt($ch, CURLOPT_POST, true);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));\n    curl_setopt($ch, CURLOPT_COOKIEFILE, $cookie);\n    curl_setopt($ch, CURLOPT_COOKIEJAR, $cookie);\n\n    $result = curl_exec($ch);\n?&gt;\n</code></pre>\n\n<p>In an effort to keep this post as short as possible (since it's already a painfully long wall of text) I rewrote the PHP slightly to show the values of $cookie and $data, since both are set further up in the script's execution.</p>\n\n<p>Any help at all would be appreciated. I have no idea if HttpComponents adds or removes header data to requests (I literally just started learning the library 2 days ago when I picked up this project) that cURL would not. If necessary, I can post more code samples, since there's nothing in this project that's really \"secret\" other than things like my personal logins / session information that's coming back from the server. Also, this is my first time here D: so if I didn't format something right or if my code snippets aren't coming over highlighted right let me know and I'll do my best to fix it :)</p>\n"},{"tags":["java","spring","eclipse","maven","junit"],"answers":[{"tags":[],"owner":{"account_id":7754452,"reputation":1204,"user_id":5869325,"display_name":"aydinugur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666557057,"creation_date":1666557057,"answer_id":74174559,"question_id":74172959,"body_markdown":"As the reference https://links.sonatype.com/central/501-https-required says:\r\n\r\n**Replace** http://repo1.maven.org/maven2/ with https://repo1.maven.org/maven2/\r\n\r\n**Replace** http://repo.maven.apache.org/maven2/ with https://repo.maven.apache.org/maven2/","title":"I am getting an 501 error from maven repo","body":"<p>As the reference <a href=\"https://links.sonatype.com/central/501-https-required\" rel=\"nofollow noreferrer\">https://links.sonatype.com/central/501-https-required</a> says:</p>\n<p><strong>Replace</strong> <a href=\"http://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">http://repo1.maven.org/maven2/</a> with <a href=\"https://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/</a></p>\n<p><strong>Replace</strong> <a href=\"http://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">http://repo.maven.apache.org/maven2/</a> with <a href=\"https://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/</a></p>\n"}],"owner":{"account_id":15973766,"reputation":1,"user_id":11527184,"display_name":"Samir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666557057,"creation_date":1666543263,"question_id":74172959,"body_markdown":"I am trying to build the build.xml\r\n\r\nBut when it reaches &lt;dependency groupId=&quot;org.apache.commons&quot; artifactId=&quot;commons-text&quot; version=&quot;1.10.0&quot;&gt;\r\n\r\nIt throws this error.\r\n\r\nI have deleted the .m2 folder and rerun, still getting this error. I believe there is an internal call for a http link to get org.junit:junit-bom:pom:5.9.1, can we override that or something.\r\n\r\nit is saying Unable to download the artifact from any repository, but when I hit &quot;http://repo1.maven.org/maven2/org/junit/junit-bom/5.7.1/junit-bom-5.7.1.pom&quot; from that machine causing the error I got the below, \r\n\r\n501 HTTPS Required. \r\nUse https://repo1.maven.org/maven2/\r\nMore information at https://links.sonatype.com/central/501-https-required\r\n\r\nSo why it is not redirecting the URL to the https link, or how I can force that\r\n  \r\nFull Error log:\r\n```\r\n[artifact:dependencies] Downloading: org/junit/junit-bom/5.9.1/junit-bom-5.9.1.pom from repository central at http://repo1.maven.org/maven2\r\n[artifact:dependencies] Error transferring file: Server returned HTTP response code: 501 for URL: http://repo1.maven.org/maven2/org/junit/junit-bom/5.9.1/junit-bom-5.9.1.pom\r\n[artifact:dependencies] [WARNING] Unable to get resource &#39;org.junit:junit-bom:pom:5.9.1&#39; from repository central (http://repo1.maven.org/maven2): Error transferring file: Server returned HTTP response code: 501 for URL: http://repo1.maven.org/maven2/org/junit/junit-bom/5.9.1/junit-bom-5.9.1.pom\r\n[artifact:dependencies] An error has occurred while processing the Maven artifact tasks.\r\n[artifact:dependencies]  Diagnosis:\r\n[artifact:dependencies] \r\n[artifact:dependencies] Unable to resolve artifact: Unable to get dependency information: Unable to read the metadata file for artifact &#39;org.apache.commons:commons-text:jar&#39;: POM &#39;org.junit:junit-bom&#39; not found in repository: Unable to download the artifact from any repository\r\n[artifact:dependencies] \r\n[artifact:dependencies]   org.junit:junit-bom:pom:5.9.1\r\n[artifact:dependencies] \r\n[artifact:dependencies] from the specified remote repositories:\r\n[artifact:dependencies]   central (http://repo1.maven.org/maven2),\r\n[artifact:dependencies]   apache.snapshots (https://repository.apache.org/snapshots)\r\n[artifact:dependencies] \r\n[artifact:dependencies]  for project org.junit:junit-bom\r\n[artifact:dependencies]   org.apache.commons:commons-text:jar:1.10.0\r\n[artifact:dependencies] \r\n[artifact:dependencies] from the specified remote repositories:\r\n[artifact:dependencies]   RemoteRepo (https://repo1.maven.org/maven2),\r\n[artifact:dependencies]   central-https (https://repo1.maven.org/maven2)\r\n[artifact:dependencies] \r\n[artifact:dependencies] Path to dependency: \r\n[artifact:dependencies] \t1) org.apache.maven:super-pom:pom:2.0\r\n[artifact:dependencies] \r\n[artifact:dependencies] \r\n[artifact:dependencies] \r\n\r\nBUILD FAILED\r\nD:\\x\\y\\build.xml:63: Unable to resolve artifact: Unable to get dependency information: Unable to read the metadata file for artifact &#39;org.apache.commons:commons-text:jar&#39;: POM &#39;org.junit:junit-bom&#39; not found in repository: Unable to download the artifact from any repository\r\n\r\n  org.junit:junit-bom:pom:5.9.1\r\n\r\nfrom the specified remote repositories:\r\n  central (http://repo1.maven.org/maven2),\r\n  apache.snapshots (https://repository.apache.org/snapshots)\r\n\r\n for project org.junit:junit-bom\r\n  org.apache.commons:commons-text:jar:1.10.0\r\n\r\nfrom the specified remote repositories:\r\n  RemoteRepo (https://repo1.maven.org/maven2),\r\n  central-https (https://repo1.maven.org/maven2)\r\n\r\nPath to dependency: \r\n\t1) org.apache.maven:super-pom:pom:2.0\r\n\r\n\r\n\r\nTotal time: 1 second\r\n```","title":"I am getting an 501 error from maven repo","body":"<p>I am trying to build the build.xml</p>\n<p>But when it reaches </p>\n<p>It throws this error.</p>\n<p>I have deleted the .m2 folder and rerun, still getting this error. I believe there is an internal call for a http link to get org.junit:junit-bom:pom:5.9.1, can we override that or something.</p>\n<p>it is saying Unable to download the artifact from any repository, but when I hit &quot;http://repo1.maven.org/maven2/org/junit/junit-bom/5.7.1/junit-bom-5.7.1.pom&quot; from that machine causing the error I got the below,</p>\n<p>501 HTTPS Required.\nUse <a href=\"https://repo1.maven.org/maven2/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/</a>\nMore information at <a href=\"https://links.sonatype.com/central/501-https-required\" rel=\"nofollow noreferrer\">https://links.sonatype.com/central/501-https-required</a></p>\n<p>So why it is not redirecting the URL to the https link, or how I can force that</p>\n<p>Full Error log:</p>\n<pre><code>[artifact:dependencies] Downloading: org/junit/junit-bom/5.9.1/junit-bom-5.9.1.pom from repository central at http://repo1.maven.org/maven2\n[artifact:dependencies] Error transferring file: Server returned HTTP response code: 501 for URL: http://repo1.maven.org/maven2/org/junit/junit-bom/5.9.1/junit-bom-5.9.1.pom\n[artifact:dependencies] [WARNING] Unable to get resource 'org.junit:junit-bom:pom:5.9.1' from repository central (http://repo1.maven.org/maven2): Error transferring file: Server returned HTTP response code: 501 for URL: http://repo1.maven.org/maven2/org/junit/junit-bom/5.9.1/junit-bom-5.9.1.pom\n[artifact:dependencies] An error has occurred while processing the Maven artifact tasks.\n[artifact:dependencies]  Diagnosis:\n[artifact:dependencies] \n[artifact:dependencies] Unable to resolve artifact: Unable to get dependency information: Unable to read the metadata file for artifact 'org.apache.commons:commons-text:jar': POM 'org.junit:junit-bom' not found in repository: Unable to download the artifact from any repository\n[artifact:dependencies] \n[artifact:dependencies]   org.junit:junit-bom:pom:5.9.1\n[artifact:dependencies] \n[artifact:dependencies] from the specified remote repositories:\n[artifact:dependencies]   central (http://repo1.maven.org/maven2),\n[artifact:dependencies]   apache.snapshots (https://repository.apache.org/snapshots)\n[artifact:dependencies] \n[artifact:dependencies]  for project org.junit:junit-bom\n[artifact:dependencies]   org.apache.commons:commons-text:jar:1.10.0\n[artifact:dependencies] \n[artifact:dependencies] from the specified remote repositories:\n[artifact:dependencies]   RemoteRepo (https://repo1.maven.org/maven2),\n[artifact:dependencies]   central-https (https://repo1.maven.org/maven2)\n[artifact:dependencies] \n[artifact:dependencies] Path to dependency: \n[artifact:dependencies]     1) org.apache.maven:super-pom:pom:2.0\n[artifact:dependencies] \n[artifact:dependencies] \n[artifact:dependencies] \n\nBUILD FAILED\nD:\\x\\y\\build.xml:63: Unable to resolve artifact: Unable to get dependency information: Unable to read the metadata file for artifact 'org.apache.commons:commons-text:jar': POM 'org.junit:junit-bom' not found in repository: Unable to download the artifact from any repository\n\n  org.junit:junit-bom:pom:5.9.1\n\nfrom the specified remote repositories:\n  central (http://repo1.maven.org/maven2),\n  apache.snapshots (https://repository.apache.org/snapshots)\n\n for project org.junit:junit-bom\n  org.apache.commons:commons-text:jar:1.10.0\n\nfrom the specified remote repositories:\n  RemoteRepo (https://repo1.maven.org/maven2),\n  central-https (https://repo1.maven.org/maven2)\n\nPath to dependency: \n    1) org.apache.maven:super-pom:pom:2.0\n\n\n\nTotal time: 1 second\n</code></pre>\n"},{"tags":["java","android","json","arraylist","android-intent"],"answers":[{"tags":[],"owner":{"account_id":8015686,"reputation":46,"user_id":6046077,"display_name":"Gayuh Hikmawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666480249,"creation_date":1666480249,"answer_id":74167700,"question_id":74167567,"body_markdown":"Have you verified that the API returns the expected value for web_pages? You can set a breakpoint on the line\r\n\r\n    String nombreUni, pais, url;\r\n\r\nAnd then inspect the variable jsonArray. I think the incorrect value that you got is most likely because the API returns that value.\r\n","title":"Read a specific value from JSON in Java","body":"<p>Have you verified that the API returns the expected value for web_pages? You can set a breakpoint on the line</p>\n<pre><code>String nombreUni, pais, url;\n</code></pre>\n<p>And then inspect the variable jsonArray. I think the incorrect value that you got is most likely because the API returns that value.</p>\n"},{"tags":[],"owner":{"account_id":13420286,"reputation":26,"user_id":11091397,"display_name":"Aleph Santos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666483034,"creation_date":1666481641,"answer_id":74167787,"question_id":74167567,"body_markdown":"I will assume that you aways want to get the first &quot;web_page&quot; inside the &quot;web_pages&quot; array.\r\n\r\nYou can try to convert the &quot;web_pages&quot; attribute to an array before trying to get the first element, like this:\r\n\r\n```java\r\nurl = jsonArray\r\n    .getJSONObject(i)\r\n    .getJSONArray(&quot;web_pages&quot;))\r\n    .getJSONObject(0)\r\n    .toString();\r\n```","title":"Read a specific value from JSON in Java","body":"<p>I will assume that you aways want to get the first &quot;web_page&quot; inside the &quot;web_pages&quot; array.</p>\n<p>You can try to convert the &quot;web_pages&quot; attribute to an array before trying to get the first element, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>url = jsonArray\n    .getJSONObject(i)\n    .getJSONArray(&quot;web_pages&quot;))\n    .getJSONObject(0)\n    .toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5191021,"reputation":101,"user_id":4153947,"display_name":"bmaciejm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666556965,"creation_date":1666556965,"answer_id":74174544,"question_id":74167567,"body_markdown":"The problem is that `&quot;web_pages&quot;: [&quot;https://www.upes.ac.in/&quot;]` is a [JSON Array](https://www.w3schools.com/js/js_json_arrays.asp), so you need to convert it to the array and then access the appropriate item in it(presumably first one?)\r\n\r\nIt can be done the way Aleph proposed above. ","title":"Read a specific value from JSON in Java","body":"<p>The problem is that <code>&quot;web_pages&quot;: [&quot;https://www.upes.ac.in/&quot;]</code> is a <a href=\"https://www.w3schools.com/js/js_json_arrays.asp\" rel=\"nofollow noreferrer\">JSON Array</a>, so you need to convert it to the array and then access the appropriate item in it(presumably first one?)</p>\n<p>It can be done the way Aleph proposed above.</p>\n"}],"owner":{"account_id":24465328,"reputation":3,"user_id":18386055,"display_name":"Sarrus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74167787,"answer_count":3,"score":0,"last_activity_date":1666556965,"creation_date":1666478394,"question_id":74167567,"body_markdown":"I am making an app in android studio using an API that returns the following:\r\n\r\n    [{&quot;domains&quot;: [&quot;upes.ac.in&quot;], &quot;country&quot;: &quot;India&quot;, &quot;state-province&quot;: &quot;Dehradun&quot;, &quot;web_pages&quot;: [&quot;https://www.upes.ac.in/&quot;], &quot;name&quot;: &quot;University of Petroleum and Energy Studies&quot;, &quot;alpha_two_code&quot;: &quot;IN&quot;}]\r\n\r\nI run it as follows:\r\n\r\n    public void onResponse(String response) {\r\n            listaUniversidades = new ArrayList&lt;&gt;();\r\n                JSONArray jsonArray = new JSONArray(response);\r\n\r\n                String nombreUni, pais, url;\r\n\r\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\r\n                    nombreUni = jsonArray.getJSONObject(i).getString(&quot;name&quot;);\r\n                    pais = jsonArray.getJSONObject(i).getString(&quot;country&quot;);\r\n                    url = jsonArray.getJSONObject(i).getString(&quot;web_pages&quot;));\r\n                  \r\n                    texto.setText(url);\r\n\r\n                    listaUniversidades.add(new Universidad(nombreUni, pais, url));\r\n                }}\r\n\r\nThe thing is that the web_pages returns the following: [&quot;http://.www.upes.ac.in/&quot;]\r\n\r\nHow could I make it return the correct url? Since that way I can not access the university website.\r\n\r\nThank you!","title":"Read a specific value from JSON in Java","body":"<p>I am making an app in android studio using an API that returns the following:</p>\n<pre><code>[{&quot;domains&quot;: [&quot;upes.ac.in&quot;], &quot;country&quot;: &quot;India&quot;, &quot;state-province&quot;: &quot;Dehradun&quot;, &quot;web_pages&quot;: [&quot;https://www.upes.ac.in/&quot;], &quot;name&quot;: &quot;University of Petroleum and Energy Studies&quot;, &quot;alpha_two_code&quot;: &quot;IN&quot;}]\n</code></pre>\n<p>I run it as follows:</p>\n<pre><code>public void onResponse(String response) {\n        listaUniversidades = new ArrayList&lt;&gt;();\n            JSONArray jsonArray = new JSONArray(response);\n\n            String nombreUni, pais, url;\n\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\n\n                nombreUni = jsonArray.getJSONObject(i).getString(&quot;name&quot;);\n                pais = jsonArray.getJSONObject(i).getString(&quot;country&quot;);\n                url = jsonArray.getJSONObject(i).getString(&quot;web_pages&quot;));\n              \n                texto.setText(url);\n\n                listaUniversidades.add(new Universidad(nombreUni, pais, url));\n            }}\n</code></pre>\n<p>The thing is that the web_pages returns the following: [&quot;http://.www.upes.ac.in/&quot;]</p>\n<p>How could I make it return the correct url? Since that way I can not access the university website.</p>\n<p>Thank you!</p>\n"},{"tags":["java","android","kotlin","android-asynctask","kotlin-coroutines"],"comments":[{"owner":{"account_id":12044851,"reputation":735,"user_id":8810290,"display_name":"Mobin Yardim"},"score":0,"creation_date":1666520067,"post_id":74170184,"comment_id":130952323,"body_markdown":"response.body() is null maybe your response is not correctly serialized to your model","body":"response.body() is null maybe your response is not correctly serialized to your model"},{"owner":{"account_id":19289729,"reputation":53,"user_id":14100027,"display_name":"Sandeep Kumar"},"score":0,"creation_date":1666520357,"post_id":74170184,"comment_id":130952373,"body_markdown":"Actually this code was working till android 30 Now I moved to Android version 32","body":"Actually this code was working till android 30 Now I moved to Android version 32"}],"answers":[{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666525731,"creation_date":1666525731,"answer_id":74170892,"question_id":74170184,"body_markdown":"I suggest not to use **non-null assertion operator `!!`** in places where a variable can be `null`. There is a **safe call operator `?.`** for that purpose:\r\n\r\n    val pictureUrl = response.body()?.picurl\r\n    pictureUrl?.let { picurl -&gt;\r\n        // Execute this block of code only when `pictureUrl` is not null\r\n            val updateCheck = UpdateTaskA(\r\n            this@UserImageCropActivity, \r\n            picurl, \r\n            userResponse.id \r\n        ).execute().get()\r\n    }","title":"Parameter specified as non-null is null : kotlin.jvm.internal.Intrinsics.checkNotNullParameter","body":"<p>I suggest not to use <strong>non-null assertion operator <code>!!</code></strong> in places where a variable can be <code>null</code>. There is a <strong>safe call operator <code>?.</code></strong> for that purpose:</p>\n<pre><code>val pictureUrl = response.body()?.picurl\npictureUrl?.let { picurl -&gt;\n    // Execute this block of code only when `pictureUrl` is not null\n        val updateCheck = UpdateTaskA(\n        this@UserImageCropActivity, \n        picurl, \n        userResponse.id \n    ).execute().get()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666548705,"creation_date":1666548705,"answer_id":74173594,"question_id":74170184,"body_markdown":"Your stacktrace is saying that you&#39;re passing *null* for the `avatar` parameter in the `UpdateTaskA` constructor, which is being called from the `onResponse` function inside `UpdateAvaterp`\r\n\r\n````\r\n// avatar is a String, not a String? so it can&#39;t be null\r\nclass UpdateTaskA(var context: UserImageCropActivity, var avatar: String,var id : Int) \r\n````\r\n\r\n````\r\n// inside your on onResponse function\r\nUpdateTaskA(this@UserImageCropActivity, response.body()!!.picurl, userResponse.id )\r\n````\r\n\r\nSo you&#39;re passing `response.body()!!.picurl` as your `avatar` parameter, but it&#39;s null. So your response doesn&#39;t have that value. You either need to handle the possibility that it&#39;s *null*, or if that should never happen (which is a risky assumption when calling an API that could change) then you need to work out what the problem is with the network call and fix it.\r\n\r\nEasiest way is probably setting a breakpoint inside `onResponse` and inspecting the response to see what it contains, and if there&#39;s any info about why you&#39;re not getting the data you want. If you haven&#39;t used the debugger before, [here&#39;s an overview][1] - it can save you a lot of time!\r\n\r\n\r\n  [1]: https://developer.android.com/studio/debug/","title":"Parameter specified as non-null is null : kotlin.jvm.internal.Intrinsics.checkNotNullParameter","body":"<p>Your stacktrace is saying that you're passing <em>null</em> for the <code>avatar</code> parameter in the <code>UpdateTaskA</code> constructor, which is being called from the <code>onResponse</code> function inside <code>UpdateAvaterp</code></p>\n<pre><code>// avatar is a String, not a String? so it can't be null\nclass UpdateTaskA(var context: UserImageCropActivity, var avatar: String,var id : Int) \n</code></pre>\n<pre><code>// inside your on onResponse function\nUpdateTaskA(this@UserImageCropActivity, response.body()!!.picurl, userResponse.id )\n</code></pre>\n<p>So you're passing <code>response.body()!!.picurl</code> as your <code>avatar</code> parameter, but it's null. So your response doesn't have that value. You either need to handle the possibility that it's <em>null</em>, or if that should never happen (which is a risky assumption when calling an API that could change) then you need to work out what the problem is with the network call and fix it.</p>\n<p>Easiest way is probably setting a breakpoint inside <code>onResponse</code> and inspecting the response to see what it contains, and if there's any info about why you're not getting the data you want. If you haven't used the debugger before, <a href=\"https://developer.android.com/studio/debug/\" rel=\"nofollow noreferrer\">here's an overview</a> - it can save you a lot of time!</p>\n"},{"tags":[],"owner":{"account_id":5191021,"reputation":101,"user_id":4153947,"display_name":"bmaciejm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666556009,"creation_date":1666556009,"answer_id":74174442,"question_id":74170184,"body_markdown":"Also as AsyncTask is long ago deprecated https://android-review.googlesource.com/c/platform/frameworks/base/+/1156409 I suggest to not to use it.\r\n\r\nInstead you can use `java.util.concurrent.Executors` or just Kotlin Coroutines to handle doing stuff asynchronously.","title":"Parameter specified as non-null is null : kotlin.jvm.internal.Intrinsics.checkNotNullParameter","body":"<p>Also as AsyncTask is long ago deprecated <a href=\"https://android-review.googlesource.com/c/platform/frameworks/base/+/1156409\" rel=\"nofollow noreferrer\">https://android-review.googlesource.com/c/platform/frameworks/base/+/1156409</a> I suggest to not to use it.</p>\n<p>Instead you can use <code>java.util.concurrent.Executors</code> or just Kotlin Coroutines to handle doing stuff asynchronously.</p>\n"}],"owner":{"account_id":19289729,"reputation":53,"user_id":14100027,"display_name":"Sandeep Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74173594,"answer_count":3,"score":0,"last_activity_date":1666556009,"creation_date":1666518985,"question_id":74170184,"body_markdown":"I&#39;m trying to upload image to website, It was successful but app shows FETAL error.\r\n\r\n\r\nissue seems like in AsyncTask as it might get executed to early.\r\n \r\nI also upgraded SDK version 30 to 32\r\n&amp; ucrop:2.2.5\r\n```\r\npackage com.myappname.dating.ui.home.profileImageUploading\r\n\r\nimport android.app.Activity\r\nimport android.content.Intent\r\nimport android.graphics.Color\r\nimport android.net.Uri\r\nimport android.os.AsyncTask\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport com.myappname.dating.R\r\nimport com.myappname.dating.data.db.CrushDataBase\r\nimport com.myappname.dating.data.network.ApiHelper\r\nimport com.myappname.dating.data.network.model.profileRespo.ProfileStatus\r\nimport com.myappname.dating.data.network.model.user.Mediafile\r\nimport com.myappname.dating.data.network.model.user.UserResponse\r\nimport com.myappname.dating.data.pref.AppPreferencesHelper\r\nimport com.myappname.dating.ui.login.LoginActivity\r\nimport com.myappname.dating.ui.utils.AppConstants\r\nimport com.myappname.dating.ui.utils.CommonUtil\r\nimport com.yalantis.ucrop.UCrop\r\nimport kotlinx.android.synthetic.main.activity_user_image_crop.*\r\nimport kotlinx.android.synthetic.main.activity_user_image_crop.pb_load\r\nimport okhttp3.MediaType.Companion.toMediaTypeOrNull\r\nimport okhttp3.MultipartBody\r\nimport okhttp3.RequestBody\r\nimport okhttp3.RequestBody.Companion.asRequestBody\r\nimport okhttp3.RequestBody.Companion.toRequestBody\r\nimport retrofit2.Call\r\nimport retrofit2.Callback\r\nimport retrofit2.Response\r\nimport java.io.File\r\n\r\n\r\n@Suppress(&quot;NULLABILITY_MISMATCH_BASED_ON_JAVA_ANNOTATIONS&quot;)\r\nclass UserImageCropActivity : AppCompatActivity(), View.OnClickListener, CropImageView {\r\n\r\n    internal val IMAGE_REQUEST_CODE = 123\r\n    internal val CROP_IMAGE_NAME = &quot;cropImage&quot;\r\n    private lateinit var mImageCropPresenter : ImageCropPresenter\r\n    lateinit var from : String\r\n    var imageUriResultCrop: Uri? = null\r\n    var uriString: String? = null\r\n    lateinit var mPref: AppPreferencesHelper\r\n    var mCrushDataBase: CrushDataBase? = null\r\n    lateinit var userResponse: UserResponse;\r\n\r\n    override fun onCreate(savedInstanceState : Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        setContentView(R.layout.activity_user_image_crop)\r\n        mPref = AppPreferencesHelper(applicationContext, AppConstants.PREF_NAME)\r\n        val view: View = findViewById(R.id.imageCropActivity)\r\n        mCrushDataBase = CrushDataBase.getDatabase(this)\r\n\r\n        mImageCropPresenter = ImageCropPresenterImpl(this, this, view)\r\n\r\n        if(intent != null){\r\n            from = intent.getStringExtra(&quot;From&quot;).toString()\r\n        }\r\n        if(from.equals(&quot;Signup&quot;)){\r\n            //Toast.makeText(applicationContext, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show()\r\n        } else {\r\n            userResponse = getDataTask(this).execute().get()\r\n        }\r\n\r\n\r\n        val galleryIntent = Intent(Intent.ACTION_PICK)\r\n        galleryIntent.type = &quot;image/*&quot;\r\n        if(galleryIntent.resolveActivity(packageManager) != null) {\r\n            startActivityForResult(\r\n                Intent.createChooser(galleryIntent, &quot;Select Picture&quot;),\r\n                IMAGE_REQUEST_CODE\r\n            )\r\n        }\r\n        uploadBtn.setOnClickListener(this)\r\n    }\r\n\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n\r\n        if (requestCode == IMAGE_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n\r\n            val imageUri = data?.data\r\n            if (imageUri != null) {\r\n                startCrop(imageUri)\r\n            } else {\r\n                uploadBtn.visibility = View.GONE\r\n                finish()\r\n//                if (from == &quot;&quot;) {\r\n//\r\n//                }\r\n//                else if(from == &quot;&quot;)\r\n//                {\r\n//\r\n//                }\r\n            }\r\n        } else {\r\n            imageUriResultCrop = data?.let { UCrop.getOutput(it) }\r\n            uriString = imageUriResultCrop?.path\r\n\r\n            if (imageUriResultCrop != null) {\r\n                result_image.setImageURI(imageUriResultCrop)\r\n                uploadBtn.visibility = View.VISIBLE\r\n\r\n            } else {\r\n                uploadBtn.visibility = View.GONE\r\n                finish()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private fun startCrop(uri: Uri) {\r\n        var destinationFileName = CROP_IMAGE_NAME\r\n        destinationFileName += &quot;.jpg&quot;\r\n\r\n        val uCrop = UCrop.of(uri, Uri.fromFile(File(cacheDir, destinationFileName)))\r\n        uCrop.withAspectRatio(1F, 1F)\r\n        uCrop.withMaxResultSize(800, 800)\r\n        uCrop.withOptions(getCropOptions())\r\n        uCrop.start(this)\r\n    }\r\n\r\n    private fun getCropOptions() : UCrop.Options {\r\n        val options = UCrop.Options()\r\n        options.setHideBottomControls(false)\r\n        options.setFreeStyleCropEnabled(true)\r\n\r\n        options.setStatusBarColor(resources.getColor(R.color.colorPrimaryDark))\r\n        options.setToolbarColor(resources.getColor(R.color.colorPrimary))\r\n\r\n        return options\r\n    }\r\n\r\n    override fun onClick(v: View?) {\r\n        when (v?.id) {\r\n            R.id.uploadBtn -&gt; {\r\n                if (uriString == null || uriString == &quot;&quot;) {\r\n                    Toast.makeText(applicationContext, &quot;please select an image &quot;, Toast.LENGTH_LONG)\r\n                        .show()\r\n                    return\r\n                } else {\r\n                    val file = File(imageUriResultCrop?.path)\r\n                    val requestFile = file.asRequestBody(&quot;multipart/form-data&quot;.toMediaTypeOrNull())\r\n                    val body = MultipartBody.Part.createFormData(&quot;avater&quot;, file.name, requestFile)\r\n                    val accessToken: String? = mPref.getAccessToken()\r\n                    val requestBody = accessToken?.toRequestBody(MultipartBody.FORM)\r\n                    if (from.equals(&quot;Signup&quot;)){\r\n                        updateAvater(requestBody,body)\r\n                    }else if(from.equals(&quot;ProfileAct&quot;)){\r\n                        updateAvaterp(requestBody,body)\r\n                    }else if(from.equals(&quot;userImage&quot;)){\r\n                        updateAvaterG(requestBody,body)\r\n                    }else if(from.equals(&quot;userImageD&quot;)){\r\n                        updateAvaterGal(requestBody,body)\r\n                    }\r\n                    else{\r\n                    mImageCropPresenter.imageCropUploadPresenter(requestBody, body)\r\n                    }\r\n                }\r\n                uploadBtn.isClickable = false\r\n                uploadBtn.setBackgroundColor(Color.parseColor(&quot;#e4e6e8&quot;))\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    fun updateAvaterp(\r\n        access_token: RequestBody?,\r\n        avater: MultipartBody.Part\r\n    ) {\r\n        ApiHelper().updateAvaterImage(access_token, avater)\r\n            .enqueue(object : Callback&lt;ProfileStatus&gt; {\r\n                override fun onFailure(call: Call&lt;ProfileStatus&gt;, t: Throwable) {\r\n                    Toast.makeText(applicationContext, &quot;Failed to upload please select another image or check internet&quot;, Toast.LENGTH_SHORT)\r\n                        .show()\r\n                    uploadBtn.isClickable = true\r\n                    uploadBtn.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;))\r\n                }\r\n\r\n                override fun onResponse(\r\n                    call: Call&lt;ProfileStatus&gt;,\r\n                    response: Response&lt;ProfileStatus&gt;\r\n                ) {\r\n                    if (response.isSuccessful) {\r\n\r\n                        val updateCheck = UpdateTaskA(\r\n                            this@UserImageCropActivity, response.body()!!.picurl, userResponse.id ).execute().get()\r\n\r\n                        Toast.makeText(applicationContext, &quot;Profile Upload Successfully&quot;, Toast.LENGTH_SHORT).show()\r\n                        finish()\r\n                    }\r\n                }\r\n            })\r\n    }\r\n    fun updateAvaterG(\r\n        access_token: RequestBody?,\r\n        avater: MultipartBody.Part\r\n    ) {\r\n        ApiHelper().updateAvaterImage(access_token, avater)\r\n            .enqueue(object : Callback&lt;ProfileStatus&gt; {\r\n                override fun onFailure(call: Call&lt;ProfileStatus&gt;, t: Throwable) {\r\n                    Toast.makeText(applicationContext, &quot;Failed to upload please select another image or check internet&quot;, Toast.LENGTH_SHORT)\r\n                        .show()\r\n                }\r\n\r\n                override fun onResponse(\r\n                    call: Call&lt;ProfileStatus&gt;,\r\n                    response: Response&lt;ProfileStatus&gt;\r\n                ) {\r\n                    if (response.isSuccessful) {\r\n\r\n                        val updateCheck = UpdateTaskG(this@UserImageCropActivity, response.body()!!.picurl, userResponse!!.id ).execute().get()\r\n\r\n                        Toast.makeText(applicationContext, &quot;Profile Upload Successfully&quot;, Toast.LENGTH_SHORT).show()\r\n                        finish()\r\n                    }\r\n                }\r\n            })\r\n    }\r\n    fun updateAvaterGal(\r\n        access_token: RequestBody?,\r\n        avater: MultipartBody.Part\r\n    ) {\r\n        ApiHelper().uploadImage(access_token, avater)\r\n            .enqueue(object : Callback&lt;ProfileStatus&gt; {\r\n                override fun onFailure(call: Call&lt;ProfileStatus&gt;, t: Throwable) {\r\n                    Toast.makeText(applicationContext, &quot;Failed to upload please select another image or check internet&quot;, Toast.LENGTH_SHORT)\r\n                        .show()\r\n                }\r\n\r\n                override fun onResponse(\r\n                    call: Call&lt;ProfileStatus&gt;,\r\n                    response: Response&lt;ProfileStatus&gt;\r\n                ) {if (response.isSuccessful) {\r\n                       // val updateCheck = UpdateTaskG(this@UserImageCropActivity, response.body()!!.picurl, userResponse!!.id ).execute().get()\r\n\r\n                        Toast.makeText(applicationContext, &quot;Image Upload Successfully&quot;, Toast.LENGTH_SHORT).show()\r\n                       // finish()\r\n                      // var lnk =  response.body()!!.file_url\r\n                     //   response.body().picurl\r\n\r\n                        val intent = Intent(applicationContext, UserImageGalleryActivity::class.java)\r\n                       // intent.putExtra(&quot;fileurl&quot;, lnk)\r\n                       // intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_CLEAR_TASK\r\n                        startActivity(intent)\r\n\r\n                        //startActivity(Intent(this, UserImageGalleryActivity::class.java))\r\n                    }\r\n                }\r\n            })\r\n    }\r\n    fun updateAvater(\r\n        access_token: RequestBody?,\r\n        avater: MultipartBody.Part\r\n    ) {\r\n        ApiHelper().updateAvaterImage(access_token, avater)\r\n            .enqueue(object : Callback&lt;ProfileStatus&gt; {\r\n                override fun onFailure(call: Call&lt;ProfileStatus&gt;, t: Throwable) {\r\n                    Toast.makeText(applicationContext, &quot;Failed to upload please select another image or check internet&quot;, Toast.LENGTH_SHORT)\r\n                        .show()\r\n                }\r\n\r\n                override fun onResponse(\r\n                    call: Call&lt;ProfileStatus&gt;,\r\n                    response: Response&lt;ProfileStatus&gt;\r\n                ) {\r\n                    if (response.isSuccessful) {\r\n                        val intent = Intent(applicationContext, LoginActivity::class.java)\r\n                        intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_CLEAR_TASK\r\n                        startActivity(intent)\r\n                        finish()\r\n                    }\r\n                }\r\n            })\r\n    }\r\n    override fun showProgressBar() {\r\n        pb_load.visibility = View.VISIBLE\r\n    }\r\n\r\n    override fun hideProgressBar() {\r\n        pb_load.visibility = View.GONE\r\n    }\r\n\r\n    override fun onSuccess(id: String) {\r\n        var  value: List&lt;Mediafile&gt;\r\n\r\n\r\n     // val updateCheck = UpdateTask(this,map).execute().get()\r\n\r\n        Toast.makeText(applicationContext, &quot;Image Upload Successfully$id&quot;, Toast.LENGTH_LONG).show()\r\n        finish()\r\n    }\r\n\r\n    override fun onFailure(message: String) {\r\n        Toast.makeText(\r\n            applicationContext,\r\n            &quot;Image not upload Something went wrong&quot;+message,\r\n            Toast.LENGTH_LONG\r\n        ).show()\r\n        finish()\r\n    }\r\n\r\n    override fun backToActivity() {\r\n        val intent =\r\n            Intent(applicationContext, UserImageGalleryActivity::class.java)\r\n        intent.flags =\r\n            Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_NEW_TASK\r\n        startActivity(intent)\r\n        finish()\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        mImageCropPresenter.onDestroy()\r\n    }\r\n\r\n\r\n\r\n    private class UpdateTask(var context: UserImageCropActivity, var  value: List&lt;Mediafile&gt;?) :\r\n        AsyncTask&lt;Void, Void, Boolean&gt;() {\r\n        override fun doInBackground(vararg params: Void?): Boolean {\r\n\r\n            context.mCrushDataBase!!.crushDao().updateMediaFile(value, 1)\r\n            return true\r\n        }\r\n\r\n        override fun onPostExecute(bool: Boolean?) {\r\n            if (bool!!) {\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    class UpdateTaskA(var context: UserImageCropActivity, var avatar: String,var id : Int) :\r\n        AsyncTask&lt;Void, Void, Boolean&gt;() {\r\n        override fun doInBackground(vararg params: Void?): Boolean {\r\n\r\n            val imageAvatar = CommonUtil.convertToString64(avatar)\r\n            context.mCrushDataBase!!.crushDao().updateAvatar(imageAvatar!!, id)\r\n            return true\r\n        }\r\n\r\n        override fun onPostExecute(bool: Boolean?) {\r\n            if (bool!!) {\r\n            }\r\n        }\r\n    }\r\n    class UpdateTaskG(var context: UserImageCropActivity, var avatar: String, var user: Int) :\r\n        AsyncTask&lt;Void, Void, Boolean&gt;() {\r\n        override fun doInBackground(vararg params: Void?): Boolean {\r\n            val imageAvatar = CommonUtil.convertToString64(avatar)\r\n\r\n            context.mCrushDataBase!!.crushDao().updateAvatar(imageAvatar!!, user)\r\n            return true\r\n        }\r\n\r\n        override fun onPostExecute(bool: Boolean?) {\r\n            if (bool!!) {\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n     class getDataTask(var context: UserImageCropActivity) :\r\n        AsyncTask&lt;Void, Void, UserResponse&gt;() {\r\n        override fun doInBackground(vararg params: Void?): UserResponse {\r\n            var listOfdata = context.mCrushDataBase!!.crushDao().getData()\r\n            val data = listOfdata[0]\r\n            return data\r\n        }\r\n\r\n        override fun onPostExecute(userResponse: UserResponse?) {\r\n        }\r\n    }\r\n\r\n}\r\n\r\n``` \r\n\r\nError was displayed in line\r\n\r\n````\r\n FATAL EXCEPTION: main\r\n     Process: com.myappname.dating, PID: 17170\r\n     java.lang.NullPointerException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkNotNullParameter,\r\n parameter avatar\r\n         at com.myappname.dating.ui.home.profileImageUploading.UserImageCropActivity$UpdateTaskA.&lt;init&gt;(Unknown\r\n Source:7)\r\n         at com.myappname.dating.ui.home.profileImageUploading.UserImageCropActivity$updateAvaterp$1.onResponse(UserImageCropActivity.kt:190)\r\n````\r\n","title":"Parameter specified as non-null is null : kotlin.jvm.internal.Intrinsics.checkNotNullParameter","body":"<p>I'm trying to upload image to website, It was successful but app shows FETAL error.</p>\n<p>issue seems like in AsyncTask as it might get executed to early.</p>\n<p>I also upgraded SDK version 30 to 32\n&amp; ucrop:2.2.5</p>\n<pre><code>package com.myappname.dating.ui.home.profileImageUploading\n\nimport android.app.Activity\nimport android.content.Intent\nimport android.graphics.Color\nimport android.net.Uri\nimport android.os.AsyncTask\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport com.myappname.dating.R\nimport com.myappname.dating.data.db.CrushDataBase\nimport com.myappname.dating.data.network.ApiHelper\nimport com.myappname.dating.data.network.model.profileRespo.ProfileStatus\nimport com.myappname.dating.data.network.model.user.Mediafile\nimport com.myappname.dating.data.network.model.user.UserResponse\nimport com.myappname.dating.data.pref.AppPreferencesHelper\nimport com.myappname.dating.ui.login.LoginActivity\nimport com.myappname.dating.ui.utils.AppConstants\nimport com.myappname.dating.ui.utils.CommonUtil\nimport com.yalantis.ucrop.UCrop\nimport kotlinx.android.synthetic.main.activity_user_image_crop.*\nimport kotlinx.android.synthetic.main.activity_user_image_crop.pb_load\nimport okhttp3.MediaType.Companion.toMediaTypeOrNull\nimport okhttp3.MultipartBody\nimport okhttp3.RequestBody\nimport okhttp3.RequestBody.Companion.asRequestBody\nimport okhttp3.RequestBody.Companion.toRequestBody\nimport retrofit2.Call\nimport retrofit2.Callback\nimport retrofit2.Response\nimport java.io.File\n\n\n@Suppress(&quot;NULLABILITY_MISMATCH_BASED_ON_JAVA_ANNOTATIONS&quot;)\nclass UserImageCropActivity : AppCompatActivity(), View.OnClickListener, CropImageView {\n\n    internal val IMAGE_REQUEST_CODE = 123\n    internal val CROP_IMAGE_NAME = &quot;cropImage&quot;\n    private lateinit var mImageCropPresenter : ImageCropPresenter\n    lateinit var from : String\n    var imageUriResultCrop: Uri? = null\n    var uriString: String? = null\n    lateinit var mPref: AppPreferencesHelper\n    var mCrushDataBase: CrushDataBase? = null\n    lateinit var userResponse: UserResponse;\n\n    override fun onCreate(savedInstanceState : Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        setContentView(R.layout.activity_user_image_crop)\n        mPref = AppPreferencesHelper(applicationContext, AppConstants.PREF_NAME)\n        val view: View = findViewById(R.id.imageCropActivity)\n        mCrushDataBase = CrushDataBase.getDatabase(this)\n\n        mImageCropPresenter = ImageCropPresenterImpl(this, this, view)\n\n        if(intent != null){\n            from = intent.getStringExtra(&quot;From&quot;).toString()\n        }\n        if(from.equals(&quot;Signup&quot;)){\n            //Toast.makeText(applicationContext, &quot;Uploaded&quot;, Toast.LENGTH_SHORT).show()\n        } else {\n            userResponse = getDataTask(this).execute().get()\n        }\n\n\n        val galleryIntent = Intent(Intent.ACTION_PICK)\n        galleryIntent.type = &quot;image/*&quot;\n        if(galleryIntent.resolveActivity(packageManager) != null) {\n            startActivityForResult(\n                Intent.createChooser(galleryIntent, &quot;Select Picture&quot;),\n                IMAGE_REQUEST_CODE\n            )\n        }\n        uploadBtn.setOnClickListener(this)\n    }\n\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n\n        if (requestCode == IMAGE_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\n\n            val imageUri = data?.data\n            if (imageUri != null) {\n                startCrop(imageUri)\n            } else {\n                uploadBtn.visibility = View.GONE\n                finish()\n//                if (from == &quot;&quot;) {\n//\n//                }\n//                else if(from == &quot;&quot;)\n//                {\n//\n//                }\n            }\n        } else {\n            imageUriResultCrop = data?.let { UCrop.getOutput(it) }\n            uriString = imageUriResultCrop?.path\n\n            if (imageUriResultCrop != null) {\n                result_image.setImageURI(imageUriResultCrop)\n                uploadBtn.visibility = View.VISIBLE\n\n            } else {\n                uploadBtn.visibility = View.GONE\n                finish()\n            }\n        }\n    }\n\n\n    private fun startCrop(uri: Uri) {\n        var destinationFileName = CROP_IMAGE_NAME\n        destinationFileName += &quot;.jpg&quot;\n\n        val uCrop = UCrop.of(uri, Uri.fromFile(File(cacheDir, destinationFileName)))\n        uCrop.withAspectRatio(1F, 1F)\n        uCrop.withMaxResultSize(800, 800)\n        uCrop.withOptions(getCropOptions())\n        uCrop.start(this)\n    }\n\n    private fun getCropOptions() : UCrop.Options {\n        val options = UCrop.Options()\n        options.setHideBottomControls(false)\n        options.setFreeStyleCropEnabled(true)\n\n        options.setStatusBarColor(resources.getColor(R.color.colorPrimaryDark))\n        options.setToolbarColor(resources.getColor(R.color.colorPrimary))\n\n        return options\n    }\n\n    override fun onClick(v: View?) {\n        when (v?.id) {\n            R.id.uploadBtn -&gt; {\n                if (uriString == null || uriString == &quot;&quot;) {\n                    Toast.makeText(applicationContext, &quot;please select an image &quot;, Toast.LENGTH_LONG)\n                        .show()\n                    return\n                } else {\n                    val file = File(imageUriResultCrop?.path)\n                    val requestFile = file.asRequestBody(&quot;multipart/form-data&quot;.toMediaTypeOrNull())\n                    val body = MultipartBody.Part.createFormData(&quot;avater&quot;, file.name, requestFile)\n                    val accessToken: String? = mPref.getAccessToken()\n                    val requestBody = accessToken?.toRequestBody(MultipartBody.FORM)\n                    if (from.equals(&quot;Signup&quot;)){\n                        updateAvater(requestBody,body)\n                    }else if(from.equals(&quot;ProfileAct&quot;)){\n                        updateAvaterp(requestBody,body)\n                    }else if(from.equals(&quot;userImage&quot;)){\n                        updateAvaterG(requestBody,body)\n                    }else if(from.equals(&quot;userImageD&quot;)){\n                        updateAvaterGal(requestBody,body)\n                    }\n                    else{\n                    mImageCropPresenter.imageCropUploadPresenter(requestBody, body)\n                    }\n                }\n                uploadBtn.isClickable = false\n                uploadBtn.setBackgroundColor(Color.parseColor(&quot;#e4e6e8&quot;))\n\n            }\n        }\n    }\n\n    fun updateAvaterp(\n        access_token: RequestBody?,\n        avater: MultipartBody.Part\n    ) {\n        ApiHelper().updateAvaterImage(access_token, avater)\n            .enqueue(object : Callback&lt;ProfileStatus&gt; {\n                override fun onFailure(call: Call&lt;ProfileStatus&gt;, t: Throwable) {\n                    Toast.makeText(applicationContext, &quot;Failed to upload please select another image or check internet&quot;, Toast.LENGTH_SHORT)\n                        .show()\n                    uploadBtn.isClickable = true\n                    uploadBtn.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;))\n                }\n\n                override fun onResponse(\n                    call: Call&lt;ProfileStatus&gt;,\n                    response: Response&lt;ProfileStatus&gt;\n                ) {\n                    if (response.isSuccessful) {\n\n                        val updateCheck = UpdateTaskA(\n                            this@UserImageCropActivity, response.body()!!.picurl, userResponse.id ).execute().get()\n\n                        Toast.makeText(applicationContext, &quot;Profile Upload Successfully&quot;, Toast.LENGTH_SHORT).show()\n                        finish()\n                    }\n                }\n            })\n    }\n    fun updateAvaterG(\n        access_token: RequestBody?,\n        avater: MultipartBody.Part\n    ) {\n        ApiHelper().updateAvaterImage(access_token, avater)\n            .enqueue(object : Callback&lt;ProfileStatus&gt; {\n                override fun onFailure(call: Call&lt;ProfileStatus&gt;, t: Throwable) {\n                    Toast.makeText(applicationContext, &quot;Failed to upload please select another image or check internet&quot;, Toast.LENGTH_SHORT)\n                        .show()\n                }\n\n                override fun onResponse(\n                    call: Call&lt;ProfileStatus&gt;,\n                    response: Response&lt;ProfileStatus&gt;\n                ) {\n                    if (response.isSuccessful) {\n\n                        val updateCheck = UpdateTaskG(this@UserImageCropActivity, response.body()!!.picurl, userResponse!!.id ).execute().get()\n\n                        Toast.makeText(applicationContext, &quot;Profile Upload Successfully&quot;, Toast.LENGTH_SHORT).show()\n                        finish()\n                    }\n                }\n            })\n    }\n    fun updateAvaterGal(\n        access_token: RequestBody?,\n        avater: MultipartBody.Part\n    ) {\n        ApiHelper().uploadImage(access_token, avater)\n            .enqueue(object : Callback&lt;ProfileStatus&gt; {\n                override fun onFailure(call: Call&lt;ProfileStatus&gt;, t: Throwable) {\n                    Toast.makeText(applicationContext, &quot;Failed to upload please select another image or check internet&quot;, Toast.LENGTH_SHORT)\n                        .show()\n                }\n\n                override fun onResponse(\n                    call: Call&lt;ProfileStatus&gt;,\n                    response: Response&lt;ProfileStatus&gt;\n                ) {if (response.isSuccessful) {\n                       // val updateCheck = UpdateTaskG(this@UserImageCropActivity, response.body()!!.picurl, userResponse!!.id ).execute().get()\n\n                        Toast.makeText(applicationContext, &quot;Image Upload Successfully&quot;, Toast.LENGTH_SHORT).show()\n                       // finish()\n                      // var lnk =  response.body()!!.file_url\n                     //   response.body().picurl\n\n                        val intent = Intent(applicationContext, UserImageGalleryActivity::class.java)\n                       // intent.putExtra(&quot;fileurl&quot;, lnk)\n                       // intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_CLEAR_TASK\n                        startActivity(intent)\n\n                        //startActivity(Intent(this, UserImageGalleryActivity::class.java))\n                    }\n                }\n            })\n    }\n    fun updateAvater(\n        access_token: RequestBody?,\n        avater: MultipartBody.Part\n    ) {\n        ApiHelper().updateAvaterImage(access_token, avater)\n            .enqueue(object : Callback&lt;ProfileStatus&gt; {\n                override fun onFailure(call: Call&lt;ProfileStatus&gt;, t: Throwable) {\n                    Toast.makeText(applicationContext, &quot;Failed to upload please select another image or check internet&quot;, Toast.LENGTH_SHORT)\n                        .show()\n                }\n\n                override fun onResponse(\n                    call: Call&lt;ProfileStatus&gt;,\n                    response: Response&lt;ProfileStatus&gt;\n                ) {\n                    if (response.isSuccessful) {\n                        val intent = Intent(applicationContext, LoginActivity::class.java)\n                        intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_CLEAR_TASK\n                        startActivity(intent)\n                        finish()\n                    }\n                }\n            })\n    }\n    override fun showProgressBar() {\n        pb_load.visibility = View.VISIBLE\n    }\n\n    override fun hideProgressBar() {\n        pb_load.visibility = View.GONE\n    }\n\n    override fun onSuccess(id: String) {\n        var  value: List&lt;Mediafile&gt;\n\n\n     // val updateCheck = UpdateTask(this,map).execute().get()\n\n        Toast.makeText(applicationContext, &quot;Image Upload Successfully$id&quot;, Toast.LENGTH_LONG).show()\n        finish()\n    }\n\n    override fun onFailure(message: String) {\n        Toast.makeText(\n            applicationContext,\n            &quot;Image not upload Something went wrong&quot;+message,\n            Toast.LENGTH_LONG\n        ).show()\n        finish()\n    }\n\n    override fun backToActivity() {\n        val intent =\n            Intent(applicationContext, UserImageGalleryActivity::class.java)\n        intent.flags =\n            Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_NEW_TASK\n        startActivity(intent)\n        finish()\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        mImageCropPresenter.onDestroy()\n    }\n\n\n\n    private class UpdateTask(var context: UserImageCropActivity, var  value: List&lt;Mediafile&gt;?) :\n        AsyncTask&lt;Void, Void, Boolean&gt;() {\n        override fun doInBackground(vararg params: Void?): Boolean {\n\n            context.mCrushDataBase!!.crushDao().updateMediaFile(value, 1)\n            return true\n        }\n\n        override fun onPostExecute(bool: Boolean?) {\n            if (bool!!) {\n            }\n        }\n    }\n\n\n    class UpdateTaskA(var context: UserImageCropActivity, var avatar: String,var id : Int) :\n        AsyncTask&lt;Void, Void, Boolean&gt;() {\n        override fun doInBackground(vararg params: Void?): Boolean {\n\n            val imageAvatar = CommonUtil.convertToString64(avatar)\n            context.mCrushDataBase!!.crushDao().updateAvatar(imageAvatar!!, id)\n            return true\n        }\n\n        override fun onPostExecute(bool: Boolean?) {\n            if (bool!!) {\n            }\n        }\n    }\n    class UpdateTaskG(var context: UserImageCropActivity, var avatar: String, var user: Int) :\n        AsyncTask&lt;Void, Void, Boolean&gt;() {\n        override fun doInBackground(vararg params: Void?): Boolean {\n            val imageAvatar = CommonUtil.convertToString64(avatar)\n\n            context.mCrushDataBase!!.crushDao().updateAvatar(imageAvatar!!, user)\n            return true\n        }\n\n        override fun onPostExecute(bool: Boolean?) {\n            if (bool!!) {\n            }\n        }\n    }\n\n\n     class getDataTask(var context: UserImageCropActivity) :\n        AsyncTask&lt;Void, Void, UserResponse&gt;() {\n        override fun doInBackground(vararg params: Void?): UserResponse {\n            var listOfdata = context.mCrushDataBase!!.crushDao().getData()\n            val data = listOfdata[0]\n            return data\n        }\n\n        override fun onPostExecute(userResponse: UserResponse?) {\n        }\n    }\n\n}\n\n</code></pre>\n<p>Error was displayed in line</p>\n<pre><code> FATAL EXCEPTION: main\n     Process: com.myappname.dating, PID: 17170\n     java.lang.NullPointerException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkNotNullParameter,\n parameter avatar\n         at com.myappname.dating.ui.home.profileImageUploading.UserImageCropActivity$UpdateTaskA.&lt;init&gt;(Unknown\n Source:7)\n         at com.myappname.dating.ui.home.profileImageUploading.UserImageCropActivity$updateAvaterp$1.onResponse(UserImageCropActivity.kt:190)\n</code></pre>\n"},{"tags":["java","android","gradle","groovy"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1666559980,"post_id":74174375,"comment_id":130960733,"body_markdown":"https://docs.gradle.org/current/userguide/custom_tasks.html#sec:packaging_a_task_class","body":"<a href=\"https://docs.gradle.org/current/userguide/custom_tasks.html#sec:packaging_a_task_class\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":26711619,"reputation":1,"user_id":20316884,"display_name":"gradleQuest"},"score":0,"creation_date":1666560569,"post_id":74174375,"comment_id":130960814,"body_markdown":"there is nothing regarding importing custom task to build.gradle","body":"there is nothing regarding importing custom task to build.gradle"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1666642289,"post_id":74174375,"comment_id":130981499,"body_markdown":"&quot;it is located in src/main/groovy&quot; - You probably want it under `buildSrc/src/main/groovy`.","body":"&quot;it is located in src/main/groovy&quot; - You probably want it under <code>buildSrc&#47;src&#47;main&#47;groovy</code>."}],"owner":{"account_id":26711619,"reputation":1,"user_id":20316884,"display_name":"gradleQuest"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666555371,"creation_date":1666555371,"question_id":74174375,"body_markdown":"I&#39;ve created custom Gradle task:\r\n\r\n```\r\npackage org.gradle\r\n\r\nimport org.gradle.api.DefaultTask\r\nimport org.gradle.api.tasks.TaskAction\r\n\r\nclass GenerateSthTask extends DefaultTask {\r\n\r\n    @TaskAction\r\n    void generate() {}\r\n}\r\n```\r\nit is located in `src/main/groovy` under the package `org.gradle`\r\n\r\nbut when I try to use it in build.gradle\r\n\r\n```\r\nimport org.gradle.GenerateSthTask\r\n\r\nplugins {\r\n    id &#39;groovy&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation gradleApi()\r\n}\r\n\r\ntasks.register(&quot;generate&quot;, GenerateSthTask)\r\n```\r\n\r\nthen gradle is unable to resolve class\r\n\r\nI would be glad for any help with that.\r\nThank you","title":"Custom Gradle Task cannot be used in build.gradle","body":"<p>I've created custom Gradle task:</p>\n<pre><code>package org.gradle\n\nimport org.gradle.api.DefaultTask\nimport org.gradle.api.tasks.TaskAction\n\nclass GenerateSthTask extends DefaultTask {\n\n    @TaskAction\n    void generate() {}\n}\n</code></pre>\n<p>it is located in <code>src/main/groovy</code> under the package <code>org.gradle</code></p>\n<p>but when I try to use it in build.gradle</p>\n<pre><code>import org.gradle.GenerateSthTask\n\nplugins {\n    id 'groovy'\n}\n\ndependencies {\n    implementation gradleApi()\n}\n\ntasks.register(&quot;generate&quot;, GenerateSthTask)\n</code></pre>\n<p>then gradle is unable to resolve class</p>\n<p>I would be glad for any help with that.\nThank you</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","liquibase"],"answers":[{"tags":[],"owner":{"account_id":23860651,"reputation":55,"user_id":17863641,"display_name":"Pewu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666555262,"creation_date":1666555262,"answer_id":74174357,"question_id":74166828,"body_markdown":"Adding in test application:properties:\r\n\r\n    spring.jpa.open-in-view=false\r\n\r\nsolve problem","title":"Optimistic Lock @Version not working in Unit Test","body":"<p>Adding in test application:properties:</p>\n<pre><code>spring.jpa.open-in-view=false\n</code></pre>\n<p>solve problem</p>\n"}],"owner":{"account_id":23860651,"reputation":55,"user_id":17863641,"display_name":"Pewu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666555262,"creation_date":1666469884,"question_id":74166828,"body_markdown":"in my application Java - Spring Boot - Hibernate - Liquibase\r\nOn normal run checking version work correctly, and i get expected error during update with wrong version parameter.\r\nBut on Junit test Update pass regardless to version parameter\r\n\r\nShould add something to my create Table in Liquibase? \r\n\r\n    @Version\r\n    private int version;\r\n==================\r\n \r\n    @Test\r\n    void shouldNotUpdateDoctor_wrongVersion() throws Exception {\r\n        UpdateDoctorCommand updateDoctorCommand\r\n                = new UpdateDoctorCommand(&quot;test4update&quot;,LocalDate.of(1980, 5, 12),\r\n                LocalDate.of(2020, 11, 10), 16000, true, 2,3);\r\n        String requestJson = objectMapper.writeValueAsString(updateDoctorCommand);\r\n\r\n        postman.perform(MockMvcRequestBuilders.put(&quot;/api/v1/clinic/doctors/33&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(requestJson))\r\n                .andExpect(status().isBadRequest())\r\n                .andExpect(jsonPath(&quot;$&quot;).value(&quot;ROW_UPDATED_IN_ANOTHER_TRANSACTION&quot;));\r\n\r\n        postman.perform(MockMvcRequestBuilders.get(&quot;/api/v1/clinic/doctors/33&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.name&quot;).value(&quot;notUpdated&quot;))\r\n                .andExpect(jsonPath(&quot;$.version&quot;).value(&quot;5&quot;));\r\n    }\r\n=====\r\n\r\n    java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;200&gt;\r\n    Expected :400\r\n    Actual   :200","title":"Optimistic Lock @Version not working in Unit Test","body":"<p>in my application Java - Spring Boot - Hibernate - Liquibase\nOn normal run checking version work correctly, and i get expected error during update with wrong version parameter.\nBut on Junit test Update pass regardless to version parameter</p>\n<p>Should add something to my create Table in Liquibase?</p>\n<pre><code>@Version\nprivate int version;\n</code></pre>\n<p>==================</p>\n<pre><code>@Test\nvoid shouldNotUpdateDoctor_wrongVersion() throws Exception {\n    UpdateDoctorCommand updateDoctorCommand\n            = new UpdateDoctorCommand(&quot;test4update&quot;,LocalDate.of(1980, 5, 12),\n            LocalDate.of(2020, 11, 10), 16000, true, 2,3);\n    String requestJson = objectMapper.writeValueAsString(updateDoctorCommand);\n\n    postman.perform(MockMvcRequestBuilders.put(&quot;/api/v1/clinic/doctors/33&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(requestJson))\n            .andExpect(status().isBadRequest())\n            .andExpect(jsonPath(&quot;$&quot;).value(&quot;ROW_UPDATED_IN_ANOTHER_TRANSACTION&quot;));\n\n    postman.perform(MockMvcRequestBuilders.get(&quot;/api/v1/clinic/doctors/33&quot;))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.name&quot;).value(&quot;notUpdated&quot;))\n            .andExpect(jsonPath(&quot;$.version&quot;).value(&quot;5&quot;));\n}\n</code></pre>\n<p>=====</p>\n<pre><code>java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;200&gt;\nExpected :400\nActual   :200\n</code></pre>\n"},{"tags":["java","object","localdate","mapper"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1666507157,"post_id":74169137,"comment_id":130950528,"body_markdown":"`return list.stream().map(mapper).collect(Collectors.toList())`","body":"<code>return list.stream().map(mapper).collect(Collectors.toList())</code>"},{"owner":{"account_id":26614428,"reputation":11,"user_id":20234103,"display_name":"borkovicz"},"score":0,"creation_date":1666507564,"post_id":74169137,"comment_id":130950578,"body_markdown":"what method in mapper?","body":"what method in mapper?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1666507780,"post_id":74169137,"comment_id":130950600,"body_markdown":"Probably `LocalDate::parse`","body":"Probably <code>LocalDate::parse</code>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666554202,"creation_date":1666508417,"answer_id":74169233,"question_id":74169137,"body_markdown":"No need to write a generic `mapTo`. Java provides one as part of the streams facility. See [`Stream#map`][1]. \r\n\r\n    List&lt; LocalDate &gt; dates = \r\n        Stream\r\n        .of( &quot;2014-01-01&quot;, &quot;2017-05-05&quot; )\r\n        .map( LocalDate :: parse )\r\n        .toList() \r\n    ;\r\n\r\nIf starting with a `List`, make a stream: `List.of( … ).stream().map( … ).toList()`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)","title":"How to takes a list of objects of something type and return list of objects of different type","body":"<p>No need to write a generic <code>mapTo</code>. Java provides one as part of the streams facility. See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Stream#map</code></a>.</p>\n<pre><code>List&lt; LocalDate &gt; dates = \n    Stream\n    .of( &quot;2014-01-01&quot;, &quot;2017-05-05&quot; )\n    .map( LocalDate :: parse )\n    .toList() \n;\n</code></pre>\n<p>If starting with a <code>List</code>, make a stream: <code>List.of( … ).stream().map( … ).toList()</code>.</p>\n"}],"owner":{"account_id":26614428,"reputation":11,"user_id":20234103,"display_name":"borkovicz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":1,"score":-4,"last_activity_date":1666554202,"creation_date":1666507059,"question_id":74169137,"body_markdown":"I have a problem. I want to write a method which as an argument takes a list of objects of type A, some mapper which change this and returns a list of objects of type B\r\nFor example:\r\n\r\n    List &lt;LocalDate&gt; date = mapTo (Arrays.asList (&quot;2014-01-01&quot;, &quot;2017-05-05&quot;), here\r\n    some mapper);\r\nHow to do this?","title":"How to takes a list of objects of something type and return list of objects of different type","body":"<p>I have a problem. I want to write a method which as an argument takes a list of objects of type A, some mapper which change this and returns a list of objects of type B\nFor example:</p>\n<pre><code>List &lt;LocalDate&gt; date = mapTo (Arrays.asList (&quot;2014-01-01&quot;, &quot;2017-05-05&quot;), here\nsome mapper);\n</code></pre>\n<p>How to do this?</p>\n"},{"tags":["java","android","android-studio","kotlin","layout"],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666554151,"creation_date":1666554151,"answer_id":74174272,"question_id":74174091,"body_markdown":"Use `android:orientation=&quot;horizontal&quot;` on your `RadioGroup` - [it&#39;s just a LinearLayout][1].\r\n\r\nYour `NumberPicker` has a bunch of `ConstraintLayout` positioning attributes defined, but it&#39;s not **inside** a `ConstraintLayout` - its parent is a *`LinearLayout`* (the one inside the `ScrollView`) so none of that stuff will work. You&#39;d have to use attributes that `LinearLayout` supports, like `layout_gravity` to align it to one side, or increasing `margin` or `padding` (or both - align to the edge, use margin to push it away from the edge).\r\n\r\nIf you actually want to use those `ConstraintLayout` attributes (and you have a couple of things in that layout using them, like the `ProgressBar`) you&#39;ll have to swap out your `LinearLayout` for a `ConstraintLayout`. Then you&#39;ll have a lot more control over positioning!\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/RadioGroup#inherited-xml-attributes","title":"How to have two radio buttons side by side in Kotlin","body":"<p>Use <code>android:orientation=&quot;horizontal&quot;</code> on your <code>RadioGroup</code> - <a href=\"https://developer.android.com/reference/android/widget/RadioGroup#inherited-xml-attributes\" rel=\"nofollow noreferrer\">it's just a LinearLayout</a>.</p>\n<p>Your <code>NumberPicker</code> has a bunch of <code>ConstraintLayout</code> positioning attributes defined, but it's not <strong>inside</strong> a <code>ConstraintLayout</code> - its parent is a <em><code>LinearLayout</code></em> (the one inside the <code>ScrollView</code>) so none of that stuff will work. You'd have to use attributes that <code>LinearLayout</code> supports, like <code>layout_gravity</code> to align it to one side, or increasing <code>margin</code> or <code>padding</code> (or both - align to the edge, use margin to push it away from the edge).</p>\n<p>If you actually want to use those <code>ConstraintLayout</code> attributes (and you have a couple of things in that layout using them, like the <code>ProgressBar</code>) you'll have to swap out your <code>LinearLayout</code> for a <code>ConstraintLayout</code>. Then you'll have a lot more control over positioning!</p>\n"}],"owner":{"account_id":25920743,"reputation":103,"user_id":19643430,"display_name":"cduff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666554151,"creation_date":1666552678,"question_id":74174091,"body_markdown":"I&#39;m having some trouble arranging my view in Kotlin so that I have two radio buttons to be side by side. I would also like to push &#39;amountPicker&#39; to the right also. Any help would be greatly appreciated, as I just cant seem to figure it out. Many thanks in advance. I have tried this many different ways but I just can&#39;t seem to get the result that I am looking for. The areas I am looking at are numberPicker and RadioGroup.\r\n\r\nHere is my code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;org.wit.hikingtrails.activities.HikeActivity&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:id=&quot;@+id/appBarLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/colorAccent&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;\r\n            app:elevation=&quot;0dip&quot;\r\n            app:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbarAdd&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:titleTextColor=&quot;@color/colorPrimary&quot; /&gt;\r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_below=&quot;@id/appBarLayout&quot;\r\n            android:fillViewport=&quot;true&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/hikeName&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;45dp&quot;\r\n                    android:layout_margin=&quot;8dp&quot;\r\n                    android:autofillHints=&quot;&quot;\r\n                    android:hint=&quot;@string/hint_hikeName&quot;\r\n                    android:inputType=&quot;text&quot;\r\n                    android:maxLength=&quot;25&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:padding=&quot;8dp&quot;\r\n                    android:textColor=&quot;@color/colorPrimaryDark&quot;\r\n                    android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/description&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;8dp&quot;\r\n                    android:hint=&quot;@string/hint_hikeDescription&quot;\r\n                    android:inputType=&quot;text&quot;\r\n                    android:maxLength=&quot;25&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:padding=&quot;8dp&quot;\r\n                    android:textColor=&quot;@color/colorPrimaryDark&quot;\r\n                    android:textSize=&quot;14sp&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/chooseImage&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;16dp&quot;\r\n                    android:background=&quot;@color/colorAccent&quot;\r\n                    android:paddingTop=&quot;8dp&quot;\r\n                    android:paddingBottom=&quot;8dp&quot;\r\n                    android:text=&quot;@string/button_addImage&quot;\r\n                    android:textColor=&quot;@color/colorPrimary&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/hikeImage&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:srcCompat=&quot;@mipmap/ic_launcher&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/hikeLocation&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;16dp&quot;\r\n                    android:background=&quot;@color/colorAccent&quot;\r\n                    android:paddingTop=&quot;8dp&quot;\r\n                    android:paddingBottom=&quot;8dp&quot;\r\n                    android:stateListAnimator=&quot;@null&quot;\r\n                    android:text=&quot;@string/button_location&quot;\r\n                    android:textColor=&quot;@color/colorPrimary&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/hikeSubtitle&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/donateTitle&quot;\r\n                    android:layout_alignEnd=&quot;@+id/donateTitle&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:text=&quot;@string/hikeSubtitle&quot;\r\n                    android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot; /&gt;\r\n\r\n                &lt;RadioGroup\r\n                    android:id=&quot;@+id/difficultyLevel&quot;\r\n                    android:layout_width=&quot;328dp&quot;\r\n                    android:layout_height=&quot;128dp&quot;\r\n                    android:layout_above=&quot;@+id/progressBar&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;&gt;\r\n\r\n                    &lt;RadioButton\r\n                        android:id=&quot;@+id/Hard&quot;\r\n                        android:layout_width=&quot;99dp&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:checked=&quot;true&quot;\r\n                        android:text=&quot;@string/hard&quot; /&gt;\r\n\r\n                    &lt;RadioButton\r\n                        android:id=&quot;@+id/Intermediate&quot;\r\n                        android:layout_width=&quot;168dp&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:checked=&quot;false&quot;\r\n                        android:text=&quot;@string/intermediate&quot; /&gt;\r\n                &lt;/RadioGroup&gt;\r\n\r\n                &lt;NumberPicker\r\n                    android:id=&quot;@+id/amountPicker&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;121dp&quot;\r\n                    android:layout_alignEnd=&quot;@+id/donateSubtitle&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.973&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintVertical_bias=&quot;0.333&quot; /&gt;\r\n\r\n                &lt;ProgressBar\r\n                    android:id=&quot;@+id/progressBar&quot;\r\n                    style=&quot;?android:attr/progressBarStyleHorizontal&quot;\r\n                    android:layout_width=&quot;349dp&quot;\r\n                    android:layout_height=&quot;14dp&quot;\r\n                    android:layout_above=&quot;@+id/donateButton&quot;\r\n                    android:layout_alignEnd=&quot;@+id/donateSubtitle&quot;\r\n                    android:layout_alignParentStart=&quot;true&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:indeterminate=&quot;false&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintHorizontal_bias=&quot;0.526&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                    app:layout_constraintVertical_bias=&quot;0.7&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/distance&quot;\r\n                    android:layout_width=&quot;267dp&quot;\r\n                    android:layout_height=&quot;38dp&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:text=&quot;@string/distance&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/difficulty&quot;\r\n                    android:layout_width=&quot;265dp&quot;\r\n                    android:layout_height=&quot;38dp&quot;\r\n                    android:layout_marginStart=&quot;8dp&quot;\r\n                    android:layout_marginTop=&quot;8dp&quot;\r\n                    android:layout_marginEnd=&quot;8dp&quot;\r\n                    android:layout_marginBottom=&quot;8dp&quot;\r\n                    android:text=&quot;@string/difficulty&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/btnAdd&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_margin=&quot;16dp&quot;\r\n                    android:background=&quot;@color/colorAccent&quot;\r\n                    android:paddingTop=&quot;8dp&quot;\r\n                    android:paddingBottom=&quot;8dp&quot;\r\n                    android:stateListAnimator=&quot;@null&quot;\r\n                    android:text=&quot;@string/button_addHike&quot;\r\n                    android:textColor=&quot;@color/colorPrimary&quot;\r\n                    android:textSize=&quot;16sp&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n[![This is how the view currently looks][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b1nTN.png","title":"How to have two radio buttons side by side in Kotlin","body":"<p>I'm having some trouble arranging my view in Kotlin so that I have two radio buttons to be side by side. I would also like to push 'amountPicker' to the right also. Any help would be greatly appreciated, as I just cant seem to figure it out. Many thanks in advance. I have tried this many different ways but I just can't seem to get the result that I am looking for. The areas I am looking at are numberPicker and RadioGroup.</p>\n<p>Here is my code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;org.wit.hikingtrails.activities.HikeActivity&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.appbar.AppBarLayout\n            android:id=&quot;@+id/appBarLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/colorAccent&quot;\n            android:fitsSystemWindows=&quot;true&quot;\n            app:elevation=&quot;0dip&quot;\n            app:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbarAdd&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:titleTextColor=&quot;@color/colorPrimary&quot; /&gt;\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n        &lt;ScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_below=&quot;@id/appBarLayout&quot;\n            android:fillViewport=&quot;true&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/hikeName&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;45dp&quot;\n                    android:layout_margin=&quot;8dp&quot;\n                    android:autofillHints=&quot;&quot;\n                    android:hint=&quot;@string/hint_hikeName&quot;\n                    android:inputType=&quot;text&quot;\n                    android:maxLength=&quot;25&quot;\n                    android:maxLines=&quot;1&quot;\n                    android:padding=&quot;8dp&quot;\n                    android:textColor=&quot;@color/colorPrimaryDark&quot;\n                    android:textSize=&quot;14sp&quot; /&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/description&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_margin=&quot;8dp&quot;\n                    android:hint=&quot;@string/hint_hikeDescription&quot;\n                    android:inputType=&quot;text&quot;\n                    android:maxLength=&quot;25&quot;\n                    android:maxLines=&quot;1&quot;\n                    android:padding=&quot;8dp&quot;\n                    android:textColor=&quot;@color/colorPrimaryDark&quot;\n                    android:textSize=&quot;14sp&quot; /&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/chooseImage&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_margin=&quot;16dp&quot;\n                    android:background=&quot;@color/colorAccent&quot;\n                    android:paddingTop=&quot;8dp&quot;\n                    android:paddingBottom=&quot;8dp&quot;\n                    android:text=&quot;@string/button_addImage&quot;\n                    android:textColor=&quot;@color/colorPrimary&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/hikeImage&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    app:srcCompat=&quot;@mipmap/ic_launcher&quot; /&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/hikeLocation&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_margin=&quot;16dp&quot;\n                    android:background=&quot;@color/colorAccent&quot;\n                    android:paddingTop=&quot;8dp&quot;\n                    android:paddingBottom=&quot;8dp&quot;\n                    android:stateListAnimator=&quot;@null&quot;\n                    android:text=&quot;@string/button_location&quot;\n                    android:textColor=&quot;@color/colorPrimary&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/hikeSubtitle&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/donateTitle&quot;\n                    android:layout_alignEnd=&quot;@+id/donateTitle&quot;\n                    android:layout_alignParentStart=&quot;true&quot;\n                    android:layout_marginStart=&quot;8dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginEnd=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;8dp&quot;\n                    android:text=&quot;@string/hikeSubtitle&quot;\n                    android:textAppearance=&quot;?android:attr/textAppearanceMedium&quot; /&gt;\n\n                &lt;RadioGroup\n                    android:id=&quot;@+id/difficultyLevel&quot;\n                    android:layout_width=&quot;328dp&quot;\n                    android:layout_height=&quot;128dp&quot;\n                    android:layout_above=&quot;@+id/progressBar&quot;\n                    android:layout_alignParentStart=&quot;true&quot;&gt;\n\n                    &lt;RadioButton\n                        android:id=&quot;@+id/Hard&quot;\n                        android:layout_width=&quot;99dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:checked=&quot;true&quot;\n                        android:text=&quot;@string/hard&quot; /&gt;\n\n                    &lt;RadioButton\n                        android:id=&quot;@+id/Intermediate&quot;\n                        android:layout_width=&quot;168dp&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:checked=&quot;false&quot;\n                        android:text=&quot;@string/intermediate&quot; /&gt;\n                &lt;/RadioGroup&gt;\n\n                &lt;NumberPicker\n                    android:id=&quot;@+id/amountPicker&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;121dp&quot;\n                    android:layout_alignEnd=&quot;@+id/donateSubtitle&quot;\n                    android:layout_marginStart=&quot;8dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginEnd=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;8dp&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintHorizontal_bias=&quot;0.973&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    app:layout_constraintVertical_bias=&quot;0.333&quot; /&gt;\n\n                &lt;ProgressBar\n                    android:id=&quot;@+id/progressBar&quot;\n                    style=&quot;?android:attr/progressBarStyleHorizontal&quot;\n                    android:layout_width=&quot;349dp&quot;\n                    android:layout_height=&quot;14dp&quot;\n                    android:layout_above=&quot;@+id/donateButton&quot;\n                    android:layout_alignEnd=&quot;@+id/donateSubtitle&quot;\n                    android:layout_alignParentStart=&quot;true&quot;\n                    android:layout_marginStart=&quot;8dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginEnd=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;8dp&quot;\n                    android:indeterminate=&quot;false&quot;\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintHorizontal_bias=&quot;0.526&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                    app:layout_constraintVertical_bias=&quot;0.7&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/distance&quot;\n                    android:layout_width=&quot;267dp&quot;\n                    android:layout_height=&quot;38dp&quot;\n                    android:layout_marginStart=&quot;8dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginEnd=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;8dp&quot;\n                    android:text=&quot;@string/distance&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/difficulty&quot;\n                    android:layout_width=&quot;265dp&quot;\n                    android:layout_height=&quot;38dp&quot;\n                    android:layout_marginStart=&quot;8dp&quot;\n                    android:layout_marginTop=&quot;8dp&quot;\n                    android:layout_marginEnd=&quot;8dp&quot;\n                    android:layout_marginBottom=&quot;8dp&quot;\n                    android:text=&quot;@string/difficulty&quot; /&gt;\n\n                &lt;Button\n                    android:id=&quot;@+id/btnAdd&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_margin=&quot;16dp&quot;\n                    android:background=&quot;@color/colorAccent&quot;\n                    android:paddingTop=&quot;8dp&quot;\n                    android:paddingBottom=&quot;8dp&quot;\n                    android:stateListAnimator=&quot;@null&quot;\n                    android:text=&quot;@string/button_addHike&quot;\n                    android:textColor=&quot;@color/colorPrimary&quot;\n                    android:textSize=&quot;16sp&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n        &lt;/ScrollView&gt;\n\n    &lt;/RelativeLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n[![This is how the view currently looks][1]][1]\n\n\n  [1]: https://i.stack.imgur.com/b1nTN.png\n</code></pre>\n"},{"tags":["java","hibernate","serialization","infinite-recursion"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1666171126,"post_id":74122186,"comment_id":130870215,"body_markdown":"Does this answer your question? [Infinite Recursion with Jackson JSON and Hibernate JPA issue](https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue\">Infinite Recursion with Jackson JSON and Hibernate JPA issue</a>"},{"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"score":0,"creation_date":1666171926,"post_id":74122186,"comment_id":130870522,"body_markdown":"@SternK actually no, I also tried JsonManagedReference and JsonBackReference. Object Mapper still getting infinite recursion. I don&#39;t understand..","body":"@SternK actually no, I also tried JsonManagedReference and JsonBackReference. Object Mapper still getting infinite recursion. I don&#39;t understand.."}],"answers":[{"tags":[],"owner":{"account_id":13328605,"reputation":68,"user_id":9620766,"display_name":"random coder dude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666169230,"creation_date":1666169230,"answer_id":74122419,"question_id":74122186,"body_markdown":"You are using `@JsonIgnoreProperties` incorrectly. It is supposed to be on the class level.","title":"Getting infinite recursion with ObjectMapper even though entities&#39; fields are annotated with @JsonIgnore","body":"<p>You are using <code>@JsonIgnoreProperties</code> incorrectly. It is supposed to be on the class level.</p>\n"},{"tags":[],"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666181951,"creation_date":1666181951,"answer_id":74125212,"question_id":74122186,"body_markdown":"I&#39;ve solved with JsonView and with \r\n\r\n    String json = new ObjectMapper().writerWithView(MyView.class).writeValueAsString(entity);\r\n\r\nThis was the only thing that worked for me","title":"Getting infinite recursion with ObjectMapper even though entities&#39; fields are annotated with @JsonIgnore","body":"<p>I've solved with JsonView and with</p>\n<pre><code>String json = new ObjectMapper().writerWithView(MyView.class).writeValueAsString(entity);\n</code></pre>\n<p>This was the only thing that worked for me</p>\n"}],"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666554077,"creation_date":1666168154,"question_id":74122186,"body_markdown":"Got two entities:\r\n\r\n    class Entity1{\r\n    @Id\r\n    @GeneratedValue(strategy = IDENTITY)\r\n    @Column(name = &quot;entity1Id&quot;, unique = true, nullable = false)\r\n    private Integer entity1Id;\r\n    \r\n    @OneToMany(mappedBy = &quot;entity1&quot;, cascade=CascadeType.ALL,fetch=FetchType.EAGER)\r\n    Set&lt;Entity2&gt; entity2set = new Hashset&lt;&gt;(); \r\n    \r\n    }\r\n    \r\n    class Entity2 {\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;entity1Id&quot;)\r\n    private Entity1 entity1;\r\n    }\r\n\r\nNo matter how I annotate those fields with @JsonIgnore or @JsonIgnoreProperties, I still get infinite recursion when I try to:\r\n\r\n    Entity1 entity1 = dao.saveEntity1(fields...);\r\n    String json = new ObjectMapper().writeValueAsString(entity1);\r\n    \r\n    org.codehaus.jackson.map.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: org.hibernate.Entity1[&quot;entity2set&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;gis.hibernate.Entity2[&quot;entity1&quot;]-&gt;gis.hibernate.Entity1[&quot;entity2set&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt; ...\r\n\r\nWhat am I doing wrong? Here are the attempts that I tried:\r\n\r\n    @JsonIgnoreProperties(&quot;entity1&quot;)\r\n    private Set&lt;Entity2&gt; entity2set = new HashSet&lt;&gt;();\r\n    together with\r\n    @JsonIgnoreProperties(&quot;entity2set&quot;)\r\n    private Entity1 entity1;\r\n\r\n    @JsonIgnore\r\n    private Entity1 entity1; (inside Entity2)\r\n\r\n    @JsonIgnore\r\n    private Set&lt;Entity2&gt; entity2set = new HashSet&lt;&gt;();  (inside Entity1)\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\n","title":"Getting infinite recursion with ObjectMapper even though entities&#39; fields are annotated with @JsonIgnore","body":"<p>Got two entities:</p>\n<pre><code>class Entity1{\n@Id\n@GeneratedValue(strategy = IDENTITY)\n@Column(name = &quot;entity1Id&quot;, unique = true, nullable = false)\nprivate Integer entity1Id;\n\n@OneToMany(mappedBy = &quot;entity1&quot;, cascade=CascadeType.ALL,fetch=FetchType.EAGER)\nSet&lt;Entity2&gt; entity2set = new Hashset&lt;&gt;(); \n\n}\n\nclass Entity2 {\n@ManyToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;entity1Id&quot;)\nprivate Entity1 entity1;\n}\n</code></pre>\n<p>No matter how I annotate those fields with @JsonIgnore or @JsonIgnoreProperties, I still get infinite recursion when I try to:</p>\n<pre><code>Entity1 entity1 = dao.saveEntity1(fields...);\nString json = new ObjectMapper().writeValueAsString(entity1);\n\norg.codehaus.jackson.map.JsonMappingException: Infinite recursion (StackOverflowError) (through reference chain: org.hibernate.Entity1[&quot;entity2set&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;gis.hibernate.Entity2[&quot;entity1&quot;]-&gt;gis.hibernate.Entity1[&quot;entity2set&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt; ...\n</code></pre>\n<p>What am I doing wrong? Here are the attempts that I tried:</p>\n<pre><code>@JsonIgnoreProperties(&quot;entity1&quot;)\nprivate Set&lt;Entity2&gt; entity2set = new HashSet&lt;&gt;();\ntogether with\n@JsonIgnoreProperties(&quot;entity2set&quot;)\nprivate Entity1 entity1;\n\n@JsonIgnore\nprivate Entity1 entity1; (inside Entity2)\n\n@JsonIgnore\nprivate Set&lt;Entity2&gt; entity2set = new HashSet&lt;&gt;();  (inside Entity1)\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-criteria","entitygraph"],"answers":[{"tags":[],"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666365531,"creation_date":1666365531,"answer_id":74155816,"question_id":74152293,"body_markdown":"Finally after struggling a whole day with this problem I found the solution.\r\nTurns out that the solution is to use a feature called `fetch-join` from JPA, it allows you to join a relation and use it to fetch the data that will be used to populate the entity.\r\n\r\nHowever a few syntax tweaks had to be made to make it work. Also when I fetch-join a relation using criteria builder, I should also ignore them from the EntityGraph so I don&#39;t join the same entity twice. The snippet below shows how it works:\r\n\r\n```java\r\nEntityGraph&lt;ChildA&gt; entityGraph = entityManager.createEntityGraph(ChildA.class);\r\n//entityGraph.addAttributeNodes(Parent_.COUNTRIES);\r\n\r\nCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\nCriteriaQuery&lt;ChildA&gt; criteriaQuery = criteriaBuilder.createQuery(ChildA.class);\r\nRoot&lt;ChildA&gt; root = criteriaQuery.from(ChildA.class);\r\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n//final Join&lt;ChildA, Country&gt; join = root.join(ChildA_.COUNTRIES, JoinType.LEFT);\r\nFetch&lt;ChildA, Countries&gt; fetch = root.fetch(ChildA_.COUNTRIES, JoinType.LEFT); // new line\r\nJoin&lt;ChildA, Countries&gt; join = (Join&lt;ChildA, Countries&gt;) fetch; // new line\r\npredicates.add(criteriaBuilder.equal(join.get(Country_.CODE), &quot;USA&quot;));\r\ncriteriaQuery.where(predicates.toArray(Predicate[]::new));\r\n\r\nTypedQuery&lt;ChildA&gt; finalQuery = entityManager\r\n    .createQuery(criteriaQuery)\r\n    .setHint(EntityGraphPersistence.LOAD_GRAPH, entityGraph);\r\n\r\nList result = finalQuery.getResultList();\r\n```\r\n\r\nYou can find more details about this topic at this link: https://discourse.hibernate.org/t/how-can-i-do-a-join-fetch-in-criteria-api/846/4","title":"Why JPA Inheritance with EntityGraph queries twice a related entity?","body":"<p>Finally after struggling a whole day with this problem I found the solution.\nTurns out that the solution is to use a feature called <code>fetch-join</code> from JPA, it allows you to join a relation and use it to fetch the data that will be used to populate the entity.</p>\n<p>However a few syntax tweaks had to be made to make it work. Also when I fetch-join a relation using criteria builder, I should also ignore them from the EntityGraph so I don't join the same entity twice. The snippet below shows how it works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityGraph&lt;ChildA&gt; entityGraph = entityManager.createEntityGraph(ChildA.class);\n//entityGraph.addAttributeNodes(Parent_.COUNTRIES);\n\nCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;ChildA&gt; criteriaQuery = criteriaBuilder.createQuery(ChildA.class);\nRoot&lt;ChildA&gt; root = criteriaQuery.from(ChildA.class);\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n//final Join&lt;ChildA, Country&gt; join = root.join(ChildA_.COUNTRIES, JoinType.LEFT);\nFetch&lt;ChildA, Countries&gt; fetch = root.fetch(ChildA_.COUNTRIES, JoinType.LEFT); // new line\nJoin&lt;ChildA, Countries&gt; join = (Join&lt;ChildA, Countries&gt;) fetch; // new line\npredicates.add(criteriaBuilder.equal(join.get(Country_.CODE), &quot;USA&quot;));\ncriteriaQuery.where(predicates.toArray(Predicate[]::new));\n\nTypedQuery&lt;ChildA&gt; finalQuery = entityManager\n    .createQuery(criteriaQuery)\n    .setHint(EntityGraphPersistence.LOAD_GRAPH, entityGraph);\n\nList result = finalQuery.getResultList();\n</code></pre>\n<p>You can find more details about this topic at this link: <a href=\"https://discourse.hibernate.org/t/how-can-i-do-a-join-fetch-in-criteria-api/846/4\" rel=\"nofollow noreferrer\">https://discourse.hibernate.org/t/how-can-i-do-a-join-fetch-in-criteria-api/846/4</a></p>\n"}],"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74155816,"answer_count":1,"score":1,"last_activity_date":1666553910,"creation_date":1666348133,"question_id":74152293,"body_markdown":"I have mapped through JPA the following entities:\r\n\r\n```java\r\n@Entity(name = &quot;Parent&quot;)\r\n@Table(name = &quot;parent&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\n@DiscriminatorColumn(name = &quot;type&quot;)\r\npublic abstract class Parent {\r\n\r\n    @Id\r\n    @GenericGenerator(name = &quot;CustomUUIDGenerator&quot;, strategy = &quot;package.CustomUUIDGenerator&quot;)\r\n    @GeneratedValue(generator = &quot;CustomUUIDGenerator&quot;, strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @ManyToMany\r\n    @Fetch(FetchMode.JOIN)\r\n    @JoinTable(name = &quot;parent_country&quot;, joinColumns = @JoinColumn(name = &quot;parent_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;country_id&quot;))\r\n    private Set&lt;Country&gt; countries;\r\n\r\n}\r\n\r\n@Entity(name = &quot;ChildA&quot;)\r\n@Table(name = &quot;child_a&quot;)\r\n@DiscriminatorValue(value = &quot;CHILD_A&quot;)\r\npublic class ChildA extends Parent {\r\n\r\n    private String description;\r\n\r\n}\r\n```\r\n\r\nThis reflects to the following Postgres&#39; table schema:\r\n\r\nTable PARENT columns: ID, TYPE\r\n\r\nTable COUNTRY columns: ID, CODE, LANGUAGE\r\n\r\nTable PARENT_COUNTRY columns: PARENT_ID, COUNTRY_ID\r\n\r\nTable CHILD_A columns: ID, DESCRIPTION\r\n\r\nBased on that I&#39;m trying to create an `CriteriaQuery` using `EntityGraph` to control the dynamic associated entities loading.\r\nThe following code presents how the given query:\r\n\r\n```java\r\nEntityGraph&lt;ChildA&gt; entityGraph = entityManager.createEntityGraph(ChildA.class);\r\nentityGraph.addAttributeNodes(Parent_.COUNTRIES);\r\n\r\nCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\nCriteriaQuery&lt;ChildA&gt; criteriaQuery = criteriaBuilder.createQuery(ChildA.class);\r\nRoot&lt;ChildA&gt; root = criteriaQuery.from(ChildA.class);\r\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\nfinal Join&lt;ChildA, Country&gt; join = root.join(ChildA_.COUNTRIES, JoinType.LEFT);\r\npredicates.add(criteriaBuilder.equal(join.get(Country_.CODE), &quot;USA&quot;));\r\ncriteriaQuery.where(predicates.toArray(Predicate[]::new));\r\n\r\nTypedQuery&lt;ChildA&gt; finalQuery = entityManager\r\n    .createQuery(criteriaQuery)\r\n    .setHint(EntityGraphPersistence.LOAD_GRAPH, entityGraph);\r\n\r\nList result = finalQuery.getResultList();\r\n```\r\n\r\nThe issue is that, when I run the query above I get the following SQL printed on the console:\r\n\r\n```sql\r\nselect\r\n    * -- All hibernate fields from all entities\r\nfrom \r\n    child_a ca\r\ninner join\r\n    parent pa\r\n        on ca.id=pa.id\r\nleft outer join\r\n    parent_country pc\r\n        on pc.parent_id = ca.id\r\nleft outer join\r\n    country co\r\n        on pc.country_id = co.id\r\nleft outer join\r\n    parent_country pc_2\r\n        on pc2.parent_id = ca.id\r\nleft outer join\r\n    country co2\r\n        on pc2.country_id = co2.id\r\nwhere\r\n(\r\n    co.code=?\r\n)\r\n```\r\n\r\nThe issue from the query above is the double join with PARENT_COUNTRY and COUNTRY. In this query I&#39;m filtering the results based on the country code (equal to USA), so I don&#39;t want to get back from the database other countries (different from USA). However, due to the second left join to country, the parent is related again to countries and the filter done on the first relation to `co.code=?` is ignored.\r\n\r\nDoes anybody know how to prevent the double join in this use case?","title":"Why JPA Inheritance with EntityGraph queries twice a related entity?","body":"<p>I have mapped through JPA the following entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Parent&quot;)\n@Table(name = &quot;parent&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\n@DiscriminatorColumn(name = &quot;type&quot;)\npublic abstract class Parent {\n\n    @Id\n    @GenericGenerator(name = &quot;CustomUUIDGenerator&quot;, strategy = &quot;package.CustomUUIDGenerator&quot;)\n    @GeneratedValue(generator = &quot;CustomUUIDGenerator&quot;, strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @ManyToMany\n    @Fetch(FetchMode.JOIN)\n    @JoinTable(name = &quot;parent_country&quot;, joinColumns = @JoinColumn(name = &quot;parent_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;country_id&quot;))\n    private Set&lt;Country&gt; countries;\n\n}\n\n@Entity(name = &quot;ChildA&quot;)\n@Table(name = &quot;child_a&quot;)\n@DiscriminatorValue(value = &quot;CHILD_A&quot;)\npublic class ChildA extends Parent {\n\n    private String description;\n\n}\n</code></pre>\n<p>This reflects to the following Postgres' table schema:</p>\n<p>Table PARENT columns: ID, TYPE</p>\n<p>Table COUNTRY columns: ID, CODE, LANGUAGE</p>\n<p>Table PARENT_COUNTRY columns: PARENT_ID, COUNTRY_ID</p>\n<p>Table CHILD_A columns: ID, DESCRIPTION</p>\n<p>Based on that I'm trying to create an <code>CriteriaQuery</code> using <code>EntityGraph</code> to control the dynamic associated entities loading.\nThe following code presents how the given query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityGraph&lt;ChildA&gt; entityGraph = entityManager.createEntityGraph(ChildA.class);\nentityGraph.addAttributeNodes(Parent_.COUNTRIES);\n\nCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;ChildA&gt; criteriaQuery = criteriaBuilder.createQuery(ChildA.class);\nRoot&lt;ChildA&gt; root = criteriaQuery.from(ChildA.class);\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\nfinal Join&lt;ChildA, Country&gt; join = root.join(ChildA_.COUNTRIES, JoinType.LEFT);\npredicates.add(criteriaBuilder.equal(join.get(Country_.CODE), &quot;USA&quot;));\ncriteriaQuery.where(predicates.toArray(Predicate[]::new));\n\nTypedQuery&lt;ChildA&gt; finalQuery = entityManager\n    .createQuery(criteriaQuery)\n    .setHint(EntityGraphPersistence.LOAD_GRAPH, entityGraph);\n\nList result = finalQuery.getResultList();\n</code></pre>\n<p>The issue is that, when I run the query above I get the following SQL printed on the console:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select\n    * -- All hibernate fields from all entities\nfrom \n    child_a ca\ninner join\n    parent pa\n        on ca.id=pa.id\nleft outer join\n    parent_country pc\n        on pc.parent_id = ca.id\nleft outer join\n    country co\n        on pc.country_id = co.id\nleft outer join\n    parent_country pc_2\n        on pc2.parent_id = ca.id\nleft outer join\n    country co2\n        on pc2.country_id = co2.id\nwhere\n(\n    co.code=?\n)\n</code></pre>\n<p>The issue from the query above is the double join with PARENT_COUNTRY and COUNTRY. In this query I'm filtering the results based on the country code (equal to USA), so I don't want to get back from the database other countries (different from USA). However, due to the second left join to country, the parent is related again to countries and the filter done on the first relation to <code>co.code=?</code> is ignored.</p>\n<p>Does anybody know how to prevent the double join in this use case?</p>\n"},{"tags":["java","yaml","log4j2"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1666095044,"post_id":55400256,"comment_id":130849577,"body_markdown":"Documentation about programmatic configuration: https://logging.apache.org/log4j/2.x/manual/customconfig.html#ConfigurationBuilder","body":"Documentation about programmatic configuration: <a href=\"https://logging.apache.org/log4j/2.x/manual/customconfig.html#ConfigurationBuilder\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>"},{"owner":{"account_id":11119792,"reputation":2581,"user_id":8163025,"display_name":"saver"},"score":0,"creation_date":1666464404,"post_id":55400256,"comment_id":130945332,"body_markdown":"I checked locally with latest versions of log4j and everything is working as expected, maybe the issue is outdated version of dependencies, please provide the dependencies that are used","body":"I checked locally with latest versions of log4j and everything is working as expected, maybe the issue is outdated version of dependencies, please provide the dependencies that are used"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666553856,"creation_date":1666553856,"answer_id":74174234,"question_id":55400256,"body_markdown":"Your code snippet alone is correct, but `Configurator.initialize` does not work if the logger context for the currently running code has already be initialized (e.g. through a static `LogManager.getLogger()` or equivalent).\r\n\r\nIn such a case you need to reconfigure the logger context:\r\n\r\n```lang-java\r\nfinal org.apache.logging.log4j.spi.LoggerContext apiContext = LogManager.getContext();\r\n// org.apache.logging.log4j.core.LoggerContext\r\nif (apiContext instanceof LoggerContext) {\r\n    final LoggerContext coreContext = (LoggerContext) apiContext;\r\n    // no configuration explicitly set by the user\r\n    if (coreContext.getConfigLocation() == null)\r\n        coreContext.setConfiguration(new YamlConfiguration(null,source));\r\n    }\r\n}","title":"Configure Log4J 2 programatically using a dynamically generated YAML file","body":"<p>Your code snippet alone is correct, but <code>Configurator.initialize</code> does not work if the logger context for the currently running code has already be initialized (e.g. through a static <code>LogManager.getLogger()</code> or equivalent).</p>\n<p>In such a case you need to reconfigure the logger context:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final org.apache.logging.log4j.spi.LoggerContext apiContext = LogManager.getContext();\n// org.apache.logging.log4j.core.LoggerContext\nif (apiContext instanceof LoggerContext) {\n    final LoggerContext coreContext = (LoggerContext) apiContext;\n    // no configuration explicitly set by the user\n    if (coreContext.getConfigLocation() == null)\n        coreContext.setConfiguration(new YamlConfiguration(null,source));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11690560,"reputation":63,"user_id":8559000,"display_name":"Pau Balaguer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666553856,"creation_date":1553783729,"question_id":55400256,"body_markdown":"I need to dynamically configure Log4j 2 with a YAML configuration loaded from a web service. \r\n\r\nIs there any way to load this configuration?\r\n\r\nMy best approach has been to download the YAML configuration and write it to a temp file, then make Log4j 2 load it. It is working, but it doesn&#39;t feel good.\r\n\r\n```\r\nFile f = File.createTempFile(&quot;config&quot;,&quot;.yaml&quot;);\r\nFiles.write(f.toPath(),yamlString.getBytes());\r\nConfigurator.initialize(null, f.getAbsolutePath());\r\nf.delete();\r\nLogger LOGGER = LoggerFactory.getLogger(MyClass.class);\r\nLOGGER.info(&quot;This is a INFO message&quot;);\r\n```\r\n\r\n\r\n\r\n\r\nShortened, I would like to be able to:\r\n\r\n```\r\nConfigurationSource source = new ConfigurationSource(new ByteArrayInputStream(yamlString.getBytes()));\r\nConfigurator.initialize(new YamlConfiguration(null,source));\r\nLogger LOGGER = LoggerFactory.getLogger(MyClass.class);\r\nLOGGER.info(&quot;This is a INFO message&quot;);\r\n```","title":"Configure Log4J 2 programatically using a dynamically generated YAML file","body":"<p>I need to dynamically configure Log4j 2 with a YAML configuration loaded from a web service. </p>\n\n<p>Is there any way to load this configuration?</p>\n\n<p>My best approach has been to download the YAML configuration and write it to a temp file, then make Log4j 2 load it. It is working, but it doesn't feel good.</p>\n\n<pre><code>File f = File.createTempFile(\"config\",\".yaml\");\nFiles.write(f.toPath(),yamlString.getBytes());\nConfigurator.initialize(null, f.getAbsolutePath());\nf.delete();\nLogger LOGGER = LoggerFactory.getLogger(MyClass.class);\nLOGGER.info(\"This is a INFO message\");\n</code></pre>\n\n<p>Shortened, I would like to be able to:</p>\n\n<pre><code>ConfigurationSource source = new ConfigurationSource(new ByteArrayInputStream(yamlString.getBytes()));\nConfigurator.initialize(new YamlConfiguration(null,source));\nLogger LOGGER = LoggerFactory.getLogger(MyClass.class);\nLOGGER.info(\"This is a INFO message\");\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1666360041,"post_id":74153250,"comment_id":130925140,"body_markdown":"spring data rest works per default with HATEOAS which returns _just_ the links to the child objects. Therefore your first quest you would need to implement the HATEOS representation by your self.\n\nThe second quest: You just return a List of Objects. So why should there be the pagination details?","body":"spring data rest works per default with HATEOAS which returns <i>just</i> the links to the child objects. Therefore your first quest you would need to implement the HATEOS representation by your self.  The second quest: You just return a List of Objects. So why should there be the pagination details?"},{"owner":{"account_id":23609486,"reputation":45,"user_id":17644712,"display_name":"Dusto"},"score":0,"creation_date":1666361708,"post_id":74153250,"comment_id":130925792,"body_markdown":"I was aware of the links but I didn&#39;t want to use them to make additional requests but okay. \nI know that I am returning just a list, that&#39;s why I was asking, how I could include Pagination. After all I have solved it, I&#39;ll post an answer.","body":"I was aware of the links but I didn&#39;t want to use them to make additional requests but okay.  I know that I am returning just a list, that&#39;s why I was asking, how I could include Pagination. After all I have solved it, I&#39;ll post an answer."}],"answers":[{"tags":[],"owner":{"account_id":1068297,"reputation":633,"user_id":1068222,"accept_rate":33,"display_name":"y434y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666355284,"creation_date":1666354540,"answer_id":74153482,"question_id":74153250,"body_markdown":"Use either @JsonIdentityInfo or @JsonIgnore and remove @JsonBackReference. Here is the example with @JsonIgnore\r\n```\r\npublic class Artist {\r\n    public Long id;\r\n    public String name;\r\n\r\n    public List&lt;Song&gt; songs;\r\n}\r\n\r\npublic class Song {\r\n    public Long id;\r\n    public String title;\r\n    public String genre;\r\n    public int length;\r\n\r\n    @JsonIgnore\r\n    public Artist artist;\r\n}\r\n```\r\n@JsonManagedReference or @JsonBackReference won&#39;t help in this case (read more on https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion):\r\n\r\n&gt; (...) we can use the @JsonIgnore annotation to simply ignore one of the sides of the relationship, thus breaking the chain. *[my addition: the chain of recurrent calls]*\r\n\r\nHere is the example with @JsonIdentityInfo:\r\n```\r\n@JsonIdentityInfo(\r\n  generator = ObjectIdGenerators.PropertyGenerator.class, \r\n  property = &quot;id&quot;)\r\npublic class Artist { ... }\r\n\r\n@JsonIdentityInfo(\r\n  generator = ObjectIdGenerators.PropertyGenerator.class, \r\n  property = &quot;id&quot;)\r\npublic class Song { ... }\r\n```","title":"@ManyToOne relations missing from JSON result","body":"<p>Use either @JsonIdentityInfo or @JsonIgnore and remove @JsonBackReference. Here is the example with @JsonIgnore</p>\n<pre><code>public class Artist {\n    public Long id;\n    public String name;\n\n    public List&lt;Song&gt; songs;\n}\n\npublic class Song {\n    public Long id;\n    public String title;\n    public String genre;\n    public int length;\n\n    @JsonIgnore\n    public Artist artist;\n}\n</code></pre>\n<p>@JsonManagedReference or @JsonBackReference won't help in this case (read more on <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a>):</p>\n<blockquote>\n<p>(...) we can use the @JsonIgnore annotation to simply ignore one of the sides of the relationship, thus breaking the chain. <em>[my addition: the chain of recurrent calls]</em></p>\n</blockquote>\n<p>Here is the example with @JsonIdentityInfo:</p>\n<pre><code>@JsonIdentityInfo(\n  generator = ObjectIdGenerators.PropertyGenerator.class, \n  property = &quot;id&quot;)\npublic class Artist { ... }\n\n@JsonIdentityInfo(\n  generator = ObjectIdGenerators.PropertyGenerator.class, \n  property = &quot;id&quot;)\npublic class Song { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23609486,"reputation":45,"user_id":17644712,"display_name":"Dusto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666361903,"creation_date":1666361903,"answer_id":74155067,"question_id":74153250,"body_markdown":"After all your useful suggestions I have found an answer:\r\nI have changed the return type of my Method in my controller to Page and made use of the PageRequest Class which looks like this:\r\n\r\n```\r\n@GetMapping\r\n    public Page&lt;Song&gt; getSongs(@RequestParam(defaultValue = &quot;0&quot;) int page, @RequestParam(defaultValue = &quot;5&quot;) int size) {\r\n        PageRequest pr = PageRequest.of(page, size);\r\n        return songRepository.findAll(pr);\r\n    }\r\n```\r\nAlso used some defaultvalues to avoid some exceptions ;)","title":"@ManyToOne relations missing from JSON result","body":"<p>After all your useful suggestions I have found an answer:\nI have changed the return type of my Method in my controller to Page and made use of the PageRequest Class which looks like this:</p>\n<pre><code>@GetMapping\n    public Page&lt;Song&gt; getSongs(@RequestParam(defaultValue = &quot;0&quot;) int page, @RequestParam(defaultValue = &quot;5&quot;) int size) {\n        PageRequest pr = PageRequest.of(page, size);\n        return songRepository.findAll(pr);\n    }\n</code></pre>\n<p>Also used some defaultvalues to avoid some exceptions ;)</p>\n"}],"owner":{"account_id":23609486,"reputation":45,"user_id":17644712,"display_name":"Dusto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74155067,"answer_count":2,"score":0,"last_activity_date":1666553651,"creation_date":1666353370,"question_id":74153250,"body_markdown":"I have just started using Spring boot and I am using the default repository api to retrieve db data as json. \r\nI have added a `@ManyToOne` relation to my Song and Artist Entity.\r\n\r\nBut now i am not getting the Artist object in my json response from the server and its not really clear to me, how I can include it without missing out on the pagination functions from the PagingAndSorting repository.\r\n\r\nI am using the spring-data-rest-jpa.\r\n\r\nMy response now looks like:\r\n\r\n```\r\n &quot;_embedded&quot;: {\r\n    &quot;songs&quot;: [\r\n      {\r\n        &quot;id&quot;: 1,\r\n        &quot;title&quot;: &quot;SongTitle&quot;,\r\n        &quot;genre&quot;: &quot;Rap&quot;,\r\n        &quot;length&quot;: 500,\r\n        &quot;_links&quot;: {\r\n          &quot;self&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1&quot;\r\n          },\r\n          &quot;song&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1&quot;\r\n          },\r\n          &quot;artist&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1/artist&quot;\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  &quot;_links&quot;: {\r\n    &quot;first&quot;: {\r\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=0&amp;size=1&quot;\r\n    },\r\n    &quot;self&quot;: {\r\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?size=1&quot;\r\n    },\r\n    &quot;next&quot;: {\r\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=1&amp;size=1&quot;\r\n    },\r\n    &quot;last&quot;: {\r\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=19&amp;size=1&quot;\r\n    },\r\n    &quot;profile&quot;: {\r\n      &quot;href&quot;: &quot;http://localhost:8080/api/profile/songs&quot;\r\n    }\r\n  },\r\n  &quot;page&quot;: {\r\n    &quot;size&quot;: 1,\r\n    &quot;totalElements&quot;: 20,\r\n    &quot;totalPages&quot;: 20,\r\n    &quot;number&quot;: 0\r\n  }\r\n}\r\n```\r\n\r\nBut I want it rather to be like this:\r\n\r\n``` \r\n&quot;_embedded&quot;: {\r\n    &quot;songs&quot;: [\r\n      {\r\n        &quot;id&quot;: 1,\r\n        &quot;title&quot;: &quot;SongTitle&quot;,\r\n        &quot;genre&quot;: &quot;Rap&quot;,\r\n        &quot;length&quot;: 500,\r\n        &quot;artist&quot;: {\r\n           &quot;id&quot;: 1,\r\n           &quot;name&quot;: &quot;Artistname&quot;\r\n        }\r\n        &quot;_links&quot;: {\r\n          &quot;self&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1&quot;\r\n          },\r\n          &quot;song&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1&quot;\r\n          },\r\n          &quot;artist&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1/artist&quot;\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  &quot;_links&quot;: {\r\n    &quot;first&quot;: {\r\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=0&amp;size=1&quot;\r\n    },\r\n    &quot;self&quot;: {\r\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?size=1&quot;\r\n    },\r\n    &quot;next&quot;: {\r\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=1&amp;size=1&quot;\r\n    },\r\n    &quot;last&quot;: {\r\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=19&amp;size=1&quot;\r\n    },\r\n    &quot;profile&quot;: {\r\n      &quot;href&quot;: &quot;http://localhost:8080/api/profile/songs&quot;\r\n    }\r\n  },\r\n  &quot;page&quot;: {\r\n    &quot;size&quot;: 1,\r\n    &quot;totalElements&quot;: 20,\r\n    &quot;totalPages&quot;: 20,\r\n    &quot;number&quot;: 0\r\n  }\r\n}\r\n```\r\n\r\nSong.java\r\n\r\n``` java\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;song&quot;)\r\npublic class Song {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @NotBlank(message = &quot;The song has to have a title&quot;)\r\n    private String title;\r\n\r\n    @NotNull\r\n    @NotBlank(message = &quot;The song has to have a genre&quot;)\r\n    private String genre;\r\n\r\n    @NotNull\r\n    @Min(value = 1, message = &quot;The song has to have a song length in seconds&quot;)\r\n    private int length;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;artist_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Artist artist;\r\n\r\n   /* @Version\r\n    private long version;*/\r\n\r\n    public Song() {\r\n    }\r\n\r\n    public Song(String title, Artist artist, String genre, int length) {\r\n        this.title = title;\r\n        this.artist = artist;\r\n        this.genre = genre;\r\n        this.length = length;\r\n    }\r\n\r\n    public void setArtist(Artist artist) {\r\n        this.artist = artist;\r\n    }\r\n\r\n    public Artist getArtist() {\r\n        return artist;\r\n    }\r\n\r\n  \r\n}\r\n```\r\n\r\nArtist.java\r\n\r\n``` java\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;artist&quot;)\r\npublic class Artist {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @NotBlank(message = &quot;The artist has to have a name&quot;)\r\n    private String name;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;artist&quot;)\r\n    private List&lt;Song&gt; songs;\r\n\r\n    public Artist() {\r\n    }\r\n\r\n    public Artist(String name) {\r\n        this.name = name;\r\n    }\r\n```\r\n\r\nFor the sake of testing I wrote a method in my SongController:\r\n\r\n``` java\r\n@GetMapping\r\n    List&lt;Song&gt; getSongs() {\r\n        return songRepository.findAll();\r\n    }\r\n```\r\n\r\nThe result includes the Artist object, but won&#39;t have any pagination to it. How could I include it?\r\n\r\nJson Result: \r\n```\r\n[\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;title&quot;: &quot;SongTitle&quot;,\r\n    &quot;genre&quot;: &quot;Rap&quot;,\r\n    &quot;length&quot;: 500,\r\n    &quot;artist&quot;: {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;ArtistName&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"@ManyToOne relations missing from JSON result","body":"<p>I have just started using Spring boot and I am using the default repository api to retrieve db data as json.\nI have added a <code>@ManyToOne</code> relation to my Song and Artist Entity.</p>\n<p>But now i am not getting the Artist object in my json response from the server and its not really clear to me, how I can include it without missing out on the pagination functions from the PagingAndSorting repository.</p>\n<p>I am using the spring-data-rest-jpa.</p>\n<p>My response now looks like:</p>\n<pre><code> &quot;_embedded&quot;: {\n    &quot;songs&quot;: [\n      {\n        &quot;id&quot;: 1,\n        &quot;title&quot;: &quot;SongTitle&quot;,\n        &quot;genre&quot;: &quot;Rap&quot;,\n        &quot;length&quot;: 500,\n        &quot;_links&quot;: {\n          &quot;self&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1&quot;\n          },\n          &quot;song&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1&quot;\n          },\n          &quot;artist&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1/artist&quot;\n          }\n        }\n      }\n    ]\n  },\n  &quot;_links&quot;: {\n    &quot;first&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=0&amp;size=1&quot;\n    },\n    &quot;self&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?size=1&quot;\n    },\n    &quot;next&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=1&amp;size=1&quot;\n    },\n    &quot;last&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=19&amp;size=1&quot;\n    },\n    &quot;profile&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/api/profile/songs&quot;\n    }\n  },\n  &quot;page&quot;: {\n    &quot;size&quot;: 1,\n    &quot;totalElements&quot;: 20,\n    &quot;totalPages&quot;: 20,\n    &quot;number&quot;: 0\n  }\n}\n</code></pre>\n<p>But I want it rather to be like this:</p>\n<pre><code>&quot;_embedded&quot;: {\n    &quot;songs&quot;: [\n      {\n        &quot;id&quot;: 1,\n        &quot;title&quot;: &quot;SongTitle&quot;,\n        &quot;genre&quot;: &quot;Rap&quot;,\n        &quot;length&quot;: 500,\n        &quot;artist&quot;: {\n           &quot;id&quot;: 1,\n           &quot;name&quot;: &quot;Artistname&quot;\n        }\n        &quot;_links&quot;: {\n          &quot;self&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1&quot;\n          },\n          &quot;song&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1&quot;\n          },\n          &quot;artist&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/api/songs/1/artist&quot;\n          }\n        }\n      }\n    ]\n  },\n  &quot;_links&quot;: {\n    &quot;first&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=0&amp;size=1&quot;\n    },\n    &quot;self&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?size=1&quot;\n    },\n    &quot;next&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=1&amp;size=1&quot;\n    },\n    &quot;last&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/api/songs?page=19&amp;size=1&quot;\n    },\n    &quot;profile&quot;: {\n      &quot;href&quot;: &quot;http://localhost:8080/api/profile/songs&quot;\n    }\n  },\n  &quot;page&quot;: {\n    &quot;size&quot;: 1,\n    &quot;totalElements&quot;: 20,\n    &quot;totalPages&quot;: 20,\n    &quot;number&quot;: 0\n  }\n}\n</code></pre>\n<p>Song.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;song&quot;)\npublic class Song {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false, unique = true)\n    private Long id;\n\n    @NotNull\n    @NotBlank(message = &quot;The song has to have a title&quot;)\n    private String title;\n\n    @NotNull\n    @NotBlank(message = &quot;The song has to have a genre&quot;)\n    private String genre;\n\n    @NotNull\n    @Min(value = 1, message = &quot;The song has to have a song length in seconds&quot;)\n    private int length;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;artist_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Artist artist;\n\n   /* @Version\n    private long version;*/\n\n    public Song() {\n    }\n\n    public Song(String title, Artist artist, String genre, int length) {\n        this.title = title;\n        this.artist = artist;\n        this.genre = genre;\n        this.length = length;\n    }\n\n    public void setArtist(Artist artist) {\n        this.artist = artist;\n    }\n\n    public Artist getArtist() {\n        return artist;\n    }\n\n  \n}\n</code></pre>\n<p>Artist.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;artist&quot;)\npublic class Artist {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @NotNull\n    @NotBlank(message = &quot;The artist has to have a name&quot;)\n    private String name;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;artist&quot;)\n    private List&lt;Song&gt; songs;\n\n    public Artist() {\n    }\n\n    public Artist(String name) {\n        this.name = name;\n    }\n</code></pre>\n<p>For the sake of testing I wrote a method in my SongController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\n    List&lt;Song&gt; getSongs() {\n        return songRepository.findAll();\n    }\n</code></pre>\n<p>The result includes the Artist object, but won't have any pagination to it. How could I include it?</p>\n<p>Json Result:</p>\n<pre><code>[\n{\n    &quot;id&quot;: 1,\n    &quot;title&quot;: &quot;SongTitle&quot;,\n    &quot;genre&quot;: &quot;Rap&quot;,\n    &quot;length&quot;: 500,\n    &quot;artist&quot;: {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;ArtistName&quot;\n    }\n  }\n]\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1495103505,"creation_date":1410948539,"answer_id":25887759,"question_id":25887486,"body_markdown":"    while(result.next()){\r\n       oJsonInner = new JsonObject();\r\n       oJsonInner.put(&quot;name&quot;,result.getString(&quot;project_name&quot;));\r\n       aProjects.add(oJsonInner);\r\n    }\r\n\r\n","title":"Dynamically created JSON Object in Java","body":"<pre><code>while(result.next()){\n   oJsonInner = new JsonObject();\n   oJsonInner.put(\"name\",result.getString(\"project_name\"));\n   aProjects.add(oJsonInner);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410950912,"creation_date":1410948869,"answer_id":25887879,"question_id":25887486,"body_markdown":"Use [Gson][1] lib that help you to serialize json format which take java bean and convert it to json format.\r\n\r\n**Model**\r\n\r\n    public class Firm {\r\n\tprivate String name;\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tprivate List&lt;Project&gt; projetcts;\r\n\r\n\r\n\tpublic List&lt;Project&gt; getProjetcts() {\r\n\t\treturn projetcts;\r\n\t}\r\n\r\n\tpublic void setProjetcts(List&lt;Project&gt; projetcts) {\r\n\t\tthis.projetcts = projetcts;\r\n\t}\r\n\r\n\r\n\tpublic static class Project{\r\n\t\tprivate String name;\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\r\n\t}\r\n    }\r\n\r\n**Gson code**\r\n\r\n\t public static void main(String[] args) {\r\n        Firm [] firms = new Firm[2]; \r\n\r\n        Project p1 = new Project();\r\n        p1.setName(&quot;project 1&quot;);\r\n        Project p2 = new Project();\r\n        p2.setName(&quot;project 2&quot;);\r\n        Project p3 = new Project();\r\n        p3.setName(&quot;project 3&quot;);\r\n        List&lt;Project&gt; projects = new ArrayList&lt;Firm.Project&gt;();\r\n        projects.add(p1);\r\n        projects.add(p2);\r\n        projects.add(p3);\r\n\r\n        Firm firm1 = new Firm();\r\n        firm1.setName(&quot;firm1&quot;);\r\n        firm1.setProjetcts(projects);\r\n\r\n        Firm firm2 = new Firm();\r\n        firm2.setName(&quot;firm2&quot;);\r\n        firm2.setProjetcts(projects);\r\n\r\n        firms[0] = firm1;\r\n        firms[1] = firm2;\r\n\r\n        String jsonText = new Gson().toJson(firms);\r\n        System.out.println(jsonText);\r\n\r\n    }\r\n\r\n**Result Sample**\r\n\r\n&gt; [{&quot;name&quot;:&quot;firm1&quot;,&quot;projetcts&quot;:[{&quot;name&quot;:&quot;project 1&quot;},{&quot;name&quot;:&quot;project\r\n&gt; 2&quot;},{&quot;name&quot;:&quot;project\r\n&gt; 3&quot;}]},{&quot;name&quot;:&quot;firm2&quot;,&quot;projetcts&quot;:[{&quot;name&quot;:&quot;project\r\n&gt; 1&quot;},{&quot;name&quot;:&quot;project 2&quot;},{&quot;name&quot;:&quot;project 3&quot;}]}]\r\n\r\n\r\n  [1]: https://code.google.com/p/google-gson/","title":"Dynamically created JSON Object in Java","body":"<p>Use <a href=\"https://code.google.com/p/google-gson/\" rel=\"nofollow\">Gson</a> lib that help you to serialize json format which take java bean and convert it to json format.</p>\n\n<p><strong>Model</strong></p>\n\n<pre><code>public class Firm {\nprivate String name;\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\nprivate List&lt;Project&gt; projetcts;\n\n\npublic List&lt;Project&gt; getProjetcts() {\n    return projetcts;\n}\n\npublic void setProjetcts(List&lt;Project&gt; projetcts) {\n    this.projetcts = projetcts;\n}\n\n\npublic static class Project{\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n}\n</code></pre>\n\n<p><strong>Gson code</strong></p>\n\n<pre><code> public static void main(String[] args) {\n    Firm [] firms = new Firm[2]; \n\n    Project p1 = new Project();\n    p1.setName(\"project 1\");\n    Project p2 = new Project();\n    p2.setName(\"project 2\");\n    Project p3 = new Project();\n    p3.setName(\"project 3\");\n    List&lt;Project&gt; projects = new ArrayList&lt;Firm.Project&gt;();\n    projects.add(p1);\n    projects.add(p2);\n    projects.add(p3);\n\n    Firm firm1 = new Firm();\n    firm1.setName(\"firm1\");\n    firm1.setProjetcts(projects);\n\n    Firm firm2 = new Firm();\n    firm2.setName(\"firm2\");\n    firm2.setProjetcts(projects);\n\n    firms[0] = firm1;\n    firms[1] = firm2;\n\n    String jsonText = new Gson().toJson(firms);\n    System.out.println(jsonText);\n\n}\n</code></pre>\n\n<p><strong>Result Sample</strong></p>\n\n<blockquote>\n  <p>[{\"name\":\"firm1\",\"projetcts\":[{\"name\":\"project 1\"},{\"name\":\"project\n  2\"},{\"name\":\"project\n  3\"}]},{\"name\":\"firm2\",\"projetcts\":[{\"name\":\"project\n  1\"},{\"name\":\"project 2\"},{\"name\":\"project 3\"}]}]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2337662,"reputation":1395,"user_id":2049614,"accept_rate":83,"display_name":"Kumar Kailash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444300880,"creation_date":1410948900,"answer_id":25887894,"question_id":25887486,"body_markdown":"Try this method:\r\n\r\n    ArrayList&lt;JSONObject&gt; aProjects = new &lt;JSONObject&gt;ArrayList();\r\n\r\n    while(result.next()){\r\n        JSONObject oJsonInner = new JSONObject();\r\n        oJsonInner.put(&quot;name&quot;,&quot;project1&quot;);\r\n        aProjects.add(oJsonInner);\r\n    }\r\n\r\n\r\nRESULT:\r\n\r\n    [{&quot;name&quot;:&quot;project1&quot;}, {&quot;name&quot;:&quot;project2&quot;}]\r\n","title":"Dynamically created JSON Object in Java","body":"<p>Try this method:</p>\n\n<pre><code>ArrayList&lt;JSONObject&gt; aProjects = new &lt;JSONObject&gt;ArrayList();\n\nwhile(result.next()){\n    JSONObject oJsonInner = new JSONObject();\n    oJsonInner.put(\"name\",\"project1\");\n    aProjects.add(oJsonInner);\n}\n</code></pre>\n\n<p>RESULT:</p>\n\n<pre><code>[{\"name\":\"project1\"}, {\"name\":\"project2\"}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1741750,"reputation":316,"user_id":1592948,"display_name":"Parth Srivastav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410948962,"creation_date":1410948962,"answer_id":25887917,"question_id":25887486,"body_markdown":"you can use a JSONArray object and add it JSON object.\r\n\r\n    while(result.next()){\r\n      JSONObject oJsonInner = new JSONObject();\r\n      JSONArray arr = new JSONArray();\r\n      json.put(&quot;name&quot;,result.getString(&quot;project_name&quot;));\r\n      arr.put(json);\r\n    }\r\n    ","title":"Dynamically created JSON Object in Java","body":"<p>you can use a JSONArray object and add it JSON object.</p>\n\n<pre><code>while(result.next()){\n  JSONObject oJsonInner = new JSONObject();\n  JSONArray arr = new JSONArray();\n  json.put(\"name\",result.getString(\"project_name\"));\n  arr.put(json);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3081243,"reputation":114,"user_id":2609399,"display_name":"Teodor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666553401,"creation_date":1666553401,"answer_id":74174183,"question_id":25887486,"body_markdown":"Check this solution, it may satisfy your expectations:\r\n- https://stackoverflow.com/a/74174150/2609399\r\n\r\nUPDATE:\r\n\r\nIn your case, the needed JSON object can be created like so (note that actual `key-value` lines can be imported from external files or other sources like socked, db and so on):\r\n```\r\nSystem.out.println(\r\n        JsonBuilder.of()\r\n                .add(&quot;[0].name&quot;, &quot;firm2project1&quot;)\r\n                .add(&quot;[1].name = firm2project2&quot;)\r\n                .add(&quot;[2].name: \\&quot;firm2project3\\&quot;&quot;)\r\n                .build()\r\n                .toPrettyString()\r\n);\r\n```\r\n\r\n, which results to:\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;firm2project1&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;firm2project2&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;firm2project3&quot;\r\n  }\r\n]\r\n```","title":"Dynamically created JSON Object in Java","body":"<p>Check this solution, it may satisfy your expectations:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/74174150/2609399\">https://stackoverflow.com/a/74174150/2609399</a></li>\n</ul>\n<p>UPDATE:</p>\n<p>In your case, the needed JSON object can be created like so (note that actual <code>key-value</code> lines can be imported from external files or other sources like socked, db and so on):</p>\n<pre><code>System.out.println(\n        JsonBuilder.of()\n                .add(&quot;[0].name&quot;, &quot;firm2project1&quot;)\n                .add(&quot;[1].name = firm2project2&quot;)\n                .add(&quot;[2].name: \\&quot;firm2project3\\&quot;&quot;)\n                .build()\n                .toPrettyString()\n);\n</code></pre>\n<p>, which results to:</p>\n<pre><code>[\n  {\n    &quot;name&quot;: &quot;firm2project1&quot;\n  },\n  {\n    &quot;name&quot;: &quot;firm2project2&quot;\n  },\n  {\n    &quot;name&quot;: &quot;firm2project3&quot;\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":4487822,"reputation":1746,"user_id":3649862,"accept_rate":84,"display_name":"keshet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21478,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25887759,"answer_count":5,"score":3,"last_activity_date":1666553401,"creation_date":1410947852,"question_id":25887486,"body_markdown":"I&#39;m trying to build a JSON object in my servlet.\r\nThe object should look like this:\r\n\r\n    {\r\n        &quot;firms&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;firm1&quot;,\r\n            &quot;projects&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;firm1project1&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;firm1project2&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;firm1project3&quot;\r\n            }\r\n            ]\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;firm2&quot;,\r\n            &quot;projects&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;firm2project1&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;firm2project2&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;firm2project3&quot;\r\n            }\r\n            ]\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;firm3&quot;,\r\n            &quot;projects&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;firm3project1&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;firm3project2&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;firm3project3&quot;\r\n            }\r\n            ]\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;firm4&quot;,\r\n            &quot;projects&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;firm4project1&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;firm4project2&quot;\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;firm4project3&quot;\r\n            }\r\n            ]\r\n        }\r\n        ]\r\n    }\r\n\r\nI have a problem in creating array of project names objects:\r\n\r\n    [\r\n         {\r\n             &quot;name&quot;: &quot;firm2project1&quot;\r\n         },\r\n         {\r\n             &quot;name&quot;: &quot;firm2project2&quot;\r\n         },\r\n         {\r\n             &quot;name&quot;: &quot;firm2project3&quot;\r\n         }\r\n    ]\r\n\r\nRight now I have the code as showed below (oJsonInner is a JSONObject object, aProjects - ArrayList of JSONObject type). I build the oJsonInner object from the results I get from database query:\r\n\r\n    while(result.next()){\r\n    oJsonInner.put(&quot;name&quot;,result.getString(&quot;project_name&quot;));\r\n    aProjects.add(oJsonInner);\r\n    }\r\n\r\nIs there any way to get the value of the oJsonInner object in `aProjects.add(oJsonInner);` so during the next loop I could create a new oJsonInner object with different &quot;project_name&quot; value without updating the object that got into aProjects array during the first loop?  \r\n","title":"Dynamically created JSON Object in Java","body":"<p>I'm trying to build a JSON object in my servlet.\nThe object should look like this:</p>\n\n<pre><code>{\n    \"firms\": [\n    {\n        \"name\": \"firm1\",\n        \"projects\": [\n        {\n            \"name\": \"firm1project1\"\n        },\n        {\n            \"name\": \"firm1project2\"\n        },\n        {\n            \"name\": \"firm1project3\"\n        }\n        ]\n    },\n    {\n        \"name\": \"firm2\",\n        \"projects\": [\n        {\n            \"name\": \"firm2project1\"\n        },\n        {\n            \"name\": \"firm2project2\"\n        },\n        {\n            \"name\": \"firm2project3\"\n        }\n        ]\n    },\n    {\n        \"name\": \"firm3\",\n        \"projects\": [\n        {\n            \"name\": \"firm3project1\"\n        },\n        {\n            \"name\": \"firm3project2\"\n        },\n        {\n            \"name\": \"firm3project3\"\n        }\n        ]\n    },\n    {\n        \"name\": \"firm4\",\n        \"projects\": [\n        {\n            \"name\": \"firm4project1\"\n        },\n        {\n            \"name\": \"firm4project2\"\n        },\n        {\n            \"name\": \"firm4project3\"\n        }\n        ]\n    }\n    ]\n}\n</code></pre>\n\n<p>I have a problem in creating array of project names objects:</p>\n\n<pre><code>[\n     {\n         \"name\": \"firm2project1\"\n     },\n     {\n         \"name\": \"firm2project2\"\n     },\n     {\n         \"name\": \"firm2project3\"\n     }\n]\n</code></pre>\n\n<p>Right now I have the code as showed below (oJsonInner is a JSONObject object, aProjects - ArrayList of JSONObject type). I build the oJsonInner object from the results I get from database query:</p>\n\n<pre><code>while(result.next()){\noJsonInner.put(\"name\",result.getString(\"project_name\"));\naProjects.add(oJsonInner);\n}\n</code></pre>\n\n<p>Is there any way to get the value of the oJsonInner object in <code>aProjects.add(oJsonInner);</code> so during the next loop I could create a new oJsonInner object with different \"project_name\" value without updating the object that got into aProjects array during the first loop?  </p>\n"},{"tags":["java","for-loop","if-statement","priority-queue"],"comments":[{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1666471411,"post_id":74166830,"comment_id":130946614,"body_markdown":"Could you... list the actual priority criteria you&#39;re trying to implement? This algorythm is terrible and I have a couple of ideas why it&#39;s not doing what you want, but for a proper answer it would be good to know what you do want to do. should E row 5 go before or after G row 1 for instance? Does it matter if E row 3 has lower priority than E row 1?","body":"Could you... list the actual priority criteria you&#39;re trying to implement? This algorythm is terrible and I have a couple of ideas why it&#39;s not doing what you want, but for a proper answer it would be good to know what you do want to do. should E row 5 go before or after G row 1 for instance? Does it matter if E row 3 has lower priority than E row 1?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666471423,"post_id":74166830,"comment_id":130946617,"body_markdown":"I haven&#39;t yet looked closely at this. But, problems like this are sometimes caused by altering a `Collection` while iterating through it. Try changing `for (int x = 0; x &lt; list.size(); x++)` to `for (int x = list.size() - 1; x &lt;= 0; x--)` and see if that makes a difference. Substitute for `x` the appropriate variable name.","body":"I haven&#39;t yet looked closely at this. But, problems like this are sometimes caused by altering a <code>Collection</code> while iterating through it. Try changing <code>for (int x = 0; x &lt; list.size(); x++)</code> to <code>for (int x = list.size() - 1; x &lt;= 0; x--)</code> and see if that makes a difference. Substitute for <code>x</code> the appropriate variable name."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1666471749,"post_id":74166830,"comment_id":130946670,"body_markdown":"Even if that is the problem, my suggestion might not work. You should get and use an `Iterator` for altering a `Collection` while iterating through it.","body":"Even if that is the problem, my suggestion might not work. You should get and use an <code>Iterator</code> for altering a <code>Collection</code> while iterating through it."},{"owner":{"account_id":23924151,"reputation":3,"user_id":17919480,"display_name":"fkaman"},"score":0,"creation_date":1666472152,"post_id":74166830,"comment_id":130946723,"body_markdown":"@Deltharis My bad. I just edited the post to include the original list of passengers to be sorted.  The criteria is basically boarding passengers based on their Key. From highest to lowest.","body":"@Deltharis My bad. I just edited the post to include the original list of passengers to be sorted.  The criteria is basically boarding passengers based on their Key. From highest to lowest."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1666472863,"post_id":74166830,"comment_id":130946846,"body_markdown":"&quot;Key&quot; is not an input parameter, that&#39;s what your algorythm generates, this is not an answer. If your goal was sorting by Key than you have succeeded, your results are indeed sorted by Key.","body":"&quot;Key&quot; is not an input parameter, that&#39;s what your algorythm generates, this is not an answer. If your goal was sorting by Key than you have succeeded, your results are indeed sorted by Key."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666493318,"creation_date":1666475159,"answer_id":74167314,"question_id":74166830,"body_markdown":"Run this little program and you&#39;ll understand that removing items without adjusting the index means that you skip items:\r\n```java\r\nclass Application {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        List&lt;String&gt; l = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;));\r\n\r\n        for (int i = 0; i &lt; l.size(); ++i) {\r\n            System.out.println(&quot;Checking &quot; + l.get(i));\r\n            if (&quot;B&quot;.equals(l.get(i))) {\r\n                l.remove(i);\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nYou need to decrement `i` after removing an item, i.e. \r\n```\r\n...\r\n            if (&quot;B&quot;.equals(l.get(i))) {\r\n                l.remove(i);\r\n                i--;\r\n            }\r\n...\r\n```\r\n\r\nAlternatively, use an `Iterator`, as Old Dog suggested:\r\n```\r\nclass Application {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        List&lt;String&gt; l = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;));\r\n        Iterator&lt;String&gt; i = l.iterator();\r\n        while (i.hasNext()) {\r\n            String s = i.next();\r\n            System.out.println(&quot;Checking &quot; + s);\r\n            if (&quot;B&quot;.equals(s)) {\r\n                i.remove();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Why are my for loops ignoring elements that satisfy conditions?","body":"<p>Run this little program and you'll understand that removing items without adjusting the index means that you skip items:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Application {\n    public static void main(String[] args) throws IOException {\n\n        List&lt;String&gt; l = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;));\n\n        for (int i = 0; i &lt; l.size(); ++i) {\n            System.out.println(&quot;Checking &quot; + l.get(i));\n            if (&quot;B&quot;.equals(l.get(i))) {\n                l.remove(i);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>You need to decrement <code>i</code> after removing an item, i.e.</p>\n<pre><code>...\n            if (&quot;B&quot;.equals(l.get(i))) {\n                l.remove(i);\n                i--;\n            }\n...\n</code></pre>\n<p>Alternatively, use an <code>Iterator</code>, as Old Dog suggested:</p>\n<pre><code>class Application {\n    public static void main(String[] args) throws IOException {\n\n        List&lt;String&gt; l = new ArrayList&lt;&gt;(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;));\n        Iterator&lt;String&gt; i = l.iterator();\n        while (i.hasNext()) {\n            String s = i.next();\n            System.out.println(&quot;Checking &quot; + s);\n            if (&quot;B&quot;.equals(s)) {\n                i.remove();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666479287,"creation_date":1666479287,"answer_id":74167630,"question_id":74166830,"body_markdown":"Are you sure you&#39;re doing your assignment correctly? You get a list of `Passenger`s. You are supposed to put them on a priority queue (which I&#39;m going to assume is `java.util.PriorityQueue`), to have them sorted according to some rules. `Passenger` implements `Comparable`.\r\n\r\nThe most natural way to approach it, would be to implement the `compareTo()` method in `Passenger` properly with the sorting rules - so that you can just put the passengers onto the queue and have the sorting happen without any extra code.\r\n\r\n    public class Passenger implements Comparable&lt;Passenger&gt;{\r\n\t\r\n        public Passenger(int row, String name, String type) {\r\n            this.row = row;\r\n            this.name = name;\r\n            this.type = type;\r\n        }\r\n        \r\n        @Override\r\n        public int compareTo(Passenger o) {\r\n            if(this.getKey() &gt; o.getKey()) {\r\n                return 1;\r\n            }\r\n            else if(this.getKey() &lt; o.getKey()){\r\n                return -1;\r\n            }\r\n            else {\r\n                return 0;\r\n            }\r\n\t    }\r\n\r\n        private int getKey(){\r\n\t\t    if(type.equals(&quot;H&quot;){\r\n\t\t\t    return 8;\r\n\t\t\t} else if (type.equals(&quot;E&quot;) &amp;&amp; row &lt;= 4){\r\n\t\t\t    return 7;\r\n\t\t\t} else \r\n\t\t\t... // implement all your groups criteria like this\r\n\t\t}\r\n    }\r\n\r\nSo changing key to be just an internal method that knows your sorting requirements. Then your method simplifies to just\r\n\r\n    public void loadOldPQ(ArrayList&lt;Passenger&gt; list) throws IOException {\r\n        oldPQ.addAll(list);\r\n    }\r\n\r\nAnd PriorityQueue does it&#39;s job sorting them out for you.","title":"Why are my for loops ignoring elements that satisfy conditions?","body":"<p>Are you sure you're doing your assignment correctly? You get a list of <code>Passenger</code>s. You are supposed to put them on a priority queue (which I'm going to assume is <code>java.util.PriorityQueue</code>), to have them sorted according to some rules. <code>Passenger</code> implements <code>Comparable</code>.</p>\n<p>The most natural way to approach it, would be to implement the <code>compareTo()</code> method in <code>Passenger</code> properly with the sorting rules - so that you can just put the passengers onto the queue and have the sorting happen without any extra code.</p>\n<pre><code>public class Passenger implements Comparable&lt;Passenger&gt;{\n\n    public Passenger(int row, String name, String type) {\n        this.row = row;\n        this.name = name;\n        this.type = type;\n    }\n    \n    @Override\n    public int compareTo(Passenger o) {\n        if(this.getKey() &gt; o.getKey()) {\n            return 1;\n        }\n        else if(this.getKey() &lt; o.getKey()){\n            return -1;\n        }\n        else {\n            return 0;\n        }\n    }\n\n    private int getKey(){\n        if(type.equals(&quot;H&quot;){\n            return 8;\n        } else if (type.equals(&quot;E&quot;) &amp;&amp; row &lt;= 4){\n            return 7;\n        } else \n        ... // implement all your groups criteria like this\n    }\n}\n</code></pre>\n<p>So changing key to be just an internal method that knows your sorting requirements. Then your method simplifies to just</p>\n<pre><code>public void loadOldPQ(ArrayList&lt;Passenger&gt; list) throws IOException {\n    oldPQ.addAll(list);\n}\n</code></pre>\n<p>And PriorityQueue does it's job sorting them out for you.</p>\n"}],"owner":{"account_id":23924151,"reputation":3,"user_id":17919480,"display_name":"fkaman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1666517236,"answer_count":2,"score":-3,"last_activity_date":1666552138,"creation_date":1666469917,"question_id":74166830,"body_markdown":"I sorted a list of passengers but some of them are not in their appropriate groups.\r\n\r\nI&#39;m using this criteria:   \r\n\r\n1st Group: Type H  \r\n2nd Group: Type E AND Row 1-4  \r\n3rd Group: Type G AND Row 1-4  \r\n4th Group: Type E OR (Type G AND Row 10 or 11)  \r\n5th Group: Type G AND Row 23-26  \r\n6th Group: Type G AND Row 17-22  \r\n7th Group: Type G AND Row 11-16  \r\n8th Group: Type G AND Row 5-10  \r\n\r\nThe 1st group has should appear at the beginning of the list and 8th Group should appear at end of the list. The Priority numbers range from 103 to 1.\r\n\r\n\r\nHere is the original unsorted list of passengers (Name, type, rowNumber):  \r\n\r\n    Whitley G 8\r\n    Knowles G 1\r\n    Rocha G 24\r\n    Boyle G 24\r\n    Wooten G 2\r\n    Forbes G 16\r\n    Vinson E 1\r\n    Valencia E 7\r\n    Lindsay E 16\r\n    Rasmussen E 5\r\n    Sargent G 11\r\n    Sosa G 23\r\n    Head G 3\r\n    Holcomb G 5\r\n    Carney G 4\r\n    Kirkland G 14\r\n    Levine E 9\r\n    Cash G 10\r\n    Kaufman G 6\r\n    Ratliff G 9\r\n    Macias G 4\r\n    Sharpe G 17\r\n    Sweet G 17\r\n    Delaney G 9\r\n    Emerson G 5\r\n    Castaneda E 9\r\n    Rutledge G 26\r\n    Stuart G 19\r\n    Rosales G 23\r\n    Baird G 2\r\n    Clemons G 8\r\n    Mcgowan G 18\r\n    Compton E 10\r\n    Albert G 15\r\n    Acevedo G 14\r\n    Mayer E 9\r\n    Fitzpatrick G 16\r\n    Chaney G 8\r\n    Jarvis G 3\r\n    Berger G 26\r\n    Britt E 11\r\n    Odonnell E 8\r\n    Levy E 9\r\n    Mullen G 6\r\n    Pollard G 22\r\n    Lott G 10\r\n    Cantrell G 15\r\n    Holder E 5\r\n    Vaughan E 11\r\n    Mccarty E 24\r\n    Wilder G 11\r\n    Mayo G 1\r\n    Pickett G 8\r\n    Sykes G 26\r\n    Bender G 13\r\n    Aguirre G 16\r\n    Bernard G 10\r\n    Hopper H 7\r\n    Melendez G 13\r\n    Macdonald H 18\r\n    Carver G 15\r\n    Gould E 26\r\n    Suarez G 6\r\n    Zamora G 15\r\n    Hinton G 13\r\n    Cabrera G 26\r\n    Dickson G 22\r\n    Salas G 24\r\n    Bentley G 13\r\n    Fuentes G 23\r\n    Terrell H 3\r\n    Holman E 7\r\n    Mcintyre G 16\r\n    Hebert G 13\r\n    Hendricks G 3\r\n    Jacobson G 14\r\n    Kline G 14\r\n    Faulkner G 5\r\n    Chan G 14\r\n    Mays G 1\r\n    Crosby G 25\r\n    Buck G 22\r\n    Maddox G 20\r\n    Buckley E 17\r\n    Kane G 10\r\n    Rivas E 26\r\n    Dudley G 22\r\n    Best G 12\r\n    Finley G 24\r\n    William G 18\r\n    Frost G 2\r\n    Ashley G 14\r\n    Mcconnell G 7\r\n    Blevins G 11\r\n    Middleton G 17\r\n    Bean G 18\r\n    Sheppard G 11\r\n    Estes E 7\r\n    Pugh G 8\r\n    Rivers E 6\r\n    Barr G 4\r\n    Landry E 10\r\n    Foley G 2\r\n\r\nHere is my some of my code:\r\n\r\n    public void loadOldPQ(ArrayList&lt;Passenger&gt; list) throws IOException {\r\n\t\t\r\n\t\tint priorityNumber = list.size();\r\n\r\n\t\twhile (!list.isEmpty()) {\r\n\t\t\t//H forLoop capture all required passengers\r\n\t\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\t\t\tif (list.get(i).getType().equalsIgnoreCase(&quot;H&quot;)) {\r\n\t\t\t\t\tlist.get(i).setKey(priorityNumber);\r\n\t\t\t\t\toldPQ.add((list.get(i)));\r\n\t\t\t\t\tlist.remove(i);\r\n\t\t\t\t\tpriorityNumber--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Type E AND Row 1-4 forLoop works\r\n\t\t\tfor (int j = 0; j &lt; list.size(); j++) {\r\n\t\t\t\tif (list.get(j).getRow() &gt;= 1 &amp;&amp; list.get(j).getRow() &lt;= 4\r\n\t\t\t\t\t\t&amp;&amp; list.get(j).getType().equalsIgnoreCase(&quot;E&quot;)) {\r\n\t\t\t\t\tlist.get(j).setKey(priorityNumber);\r\n\t\t\t\t\toldPQ.add(list.get(j));\r\n\t\t\t\t\tlist.remove(j);\r\n\t\t\t\t\tpriorityNumber--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Type G(implied) and Row 1-4 forLoop works\r\n\t\t\tfor (int k = 0; k &lt; list.size(); k++) {\r\n\t\t\t\tif (list.get(k).getRow() &gt;= 1 &amp;&amp; list.get(k).getRow() &lt;= 4) {\r\n\r\n\t\t\t\t\tlist.get(k).setKey(priorityNumber);\r\n\t\t\t\t\toldPQ.add(list.get(k));\r\n\t\t\t\t\tlist.remove(k);\r\n\t\t\t\t\tpriorityNumber--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Type E or Row 10, 11 forLoop\r\n\t\t\tfor (int l = 0; l &lt; list.size(); l++) {\r\n\t\t\t\tif (list.get(l).getType().equalsIgnoreCase(&quot;E&quot;) || list.get(l).getRow() == 10\r\n\t\t\t\t\t\t|| list.get(l).getRow() == 11) {\r\n\t\t\t\t\tlist.get(l).setKey(priorityNumber);\r\n\t\t\t\t\toldPQ.add(list.get(l));\r\n\t\t\t\t\tlist.remove(l);\r\n\t\t\t\t\tpriorityNumber--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Row 23-26 forLoop\r\n\t\t\tfor (int m = 0; m &lt; list.size(); m++) {\r\n\t\t\t\tif (list.get(m).getRow() &gt;= 23 &amp;&amp; list.get(m).getRow() &lt;= 26) {\r\n\t\t\t\t\tlist.get(m).setKey(priorityNumber);\r\n\t\t\t\t\toldPQ.add(list.get(m));\r\n\t\t\t\t\tlist.remove(m);\r\n\t\t\t\t\tpriorityNumber--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Row 17-22 forLoop\r\n\t\t\tfor (int n = 0; n &lt; list.size(); n++) {\r\n\t\t\t\tif (list.get(n).getRow() &gt;= 17 &amp;&amp; list.get(n).getRow() &lt;= 22) {\r\n\t\t\t\t\tlist.get(n).setKey(priorityNumber);\r\n\t\t\t\t\toldPQ.add(list.get(n));\r\n\t\t\t\t\tlist.remove(n);\r\n\t\t\t\t\tpriorityNumber--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Row 11-16 forLoop (row 11 should&#39;ve already been removed)\r\n\t\t\tfor (int o = 0; o &lt; list.size(); o++) {\r\n\t\t\t\tif (list.get(o).getRow() &gt;= 11 &amp;&amp; list.get(o).getRow() &lt;= 16) {\r\n\t\t\t\t\tlist.get(o).setKey(priorityNumber);\r\n\t\t\t\t\toldPQ.add(list.get(o));\r\n\t\t\t\t\tlist.remove(o);\r\n\t\t\t\t\tpriorityNumber--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//Row 5-10 forLoop (Row 10 passengers should&#39;ve already be removed)\r\n\t\t\tfor (int p = 0; p &lt; list.size(); p++) {\r\n\t\t\t\tif (list.get(p).getRow() &gt;= 5 &amp;&amp; list.get(p).getRow() &lt;= 10) {\r\n\t\t\t\t\tlist.get(p).setKey(priorityNumber);\r\n\t\t\t\t\toldPQ.add(list.get(p));\r\n\t\t\t\t\tlist.remove(p);\r\n\t\t\t\t\tpriorityNumber--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\toldProcedure(oldPQ);\r\n\t}\r\n\r\nFor instance, Kane, McConnell, Estes should be group with 4th group. Clemons, Chauncy, Pickett should appear towards the end of the list in 8th Group because they have row numbers 5-10.\r\n\r\nHere are my results:\r\n\r\n    Name           Type Row  Key  \r\n    \r\n    Hopper         H    7    103  \r\n    Macdonald      H    18   102  \r\n    Terrell        H    3    101  \r\n    Vinson         E    1    100  \r\n    Knowles        G    1    99   \r\n    Wooten         G    2    98   \r\n    Head           G    3    97   \r\n    Carney         G    4    96   \r\n    Macias         G    4    95   \r\n    Baird          G    2    94   \r\n    Jarvis         G    3    93   \r\n    Mayo           G    1    92   \r\n    Hendricks      G    3    91   \r\n    Mays           G    1    90   \r\n    Frost          G    2    89   \r\n    Barr           G    4    88   \r\n    Foley          G    2    87   \r\n    Valencia       E    7    86   \r\n    Rasmussen      E    5    85   \r\n    Levine         E    9    84   \r\n    Castaneda      E    9    83   \r\n    Compton        E    10   82   \r\n    Mayer          E    9    81   \r\n    Britt          E    11   80   \r\n    Levy           E    9    79   \r\n    Lott           G    10   78   \r\n    Holder         E    5    77   \r\n    Mccarty        E    24   76   \r\n    Bernard        G    10   75   \r\n    Gould          E    26   74   \r\n    Holman         E    7    73   \r\n    Buckley        E    17   72   \r\n    Rivas          E    26   71   \r\n    Blevins        G    11   70   \r\n    Sheppard       G    11   69   \r\n    Rivers         E    6    68   \r\n    Rocha          G    24   67   \r\n    Sosa           G    23   66   \r\n    Rutledge       G    26   65   \r\n    Rosales        G    23   64   \r\n    Berger         G    26   63   \r\n    Sykes          G    26   62   \r\n    Cabrera        G    26   61   \r\n    Salas          G    24   60   \r\n    Fuentes        G    23   59   \r\n    Crosby         G    25   58   \r\n    Finley         G    24   57   \r\n    Sharpe         G    17   56   \r\n    Stuart         G    19   55   \r\n    Mcgowan        G    18   54   \r\n    Pollard        G    22   53   \r\n    Dickson        G    22   52   \r\n    Buck           G    22   51   \r\n    Dudley         G    22   50   \r\n    William        G    18   49   \r\n    Middleton      G    17   48   \r\n    Forbes         G    16   47   \r\n    Sargent        G    11   46   \r\n    Kirkland       G    14   45   \r\n    Albert         G    15   44   \r\n    Fitzpatrick    G    16   43   \r\n    Cantrell       G    15   42   \r\n    Wilder         G    11   41   \r\n    Bender         G    13   40   \r\n    Melendez       G    13   39   \r\n    Zamora         G    15   38   \r\n    Bentley        G    13   37   \r\n    Hebert         G    13   36   \r\n    Kline          G    14   35   \r\n    Chan           G    14   34   \r\n    Best           G    12   33   \r\n    Whitley        G    8    32   \r\n    Holcomb        G    5    31   \r\n    Kaufman        G    6    30   \r\n    Delaney        G    9    29   \r\n    Clemons        G    8    28   \r\n    Chaney         G    8    27   \r\n    Mullen         G    6    26   \r\n    Pickett        G    8    25   \r\n    Suarez         G    6    24   \r\n    Faulkner       G    5    23   \r\n    Kane           G    10   22   \r\n    Mcconnell      G    7    21   \r\n    Estes          E    7    20   \r\n    Landry         E    10   19   \r\n    Lindsay        E    16   18   \r\n    Odonnell       E    8    17   \r\n    Boyle          G    24   16   \r\n    Sweet          G    17   15   \r\n    Maddox         G    20   14   \r\n    Bean           G    18   13   \r\n    Acevedo        G    14   12   \r\n    Aguirre        G    16   11   \r\n    Hinton         G    13   10   \r\n    Jacobson       G    14   9    \r\n    Cash           G    10   8    \r\n    Emerson        G    5    7    \r\n    Pugh           G    8    6    \r\n    Vaughan        E    11   5    \r\n    Carver         G    15   4    \r\n    Ashley         G    14   3    \r\n    Ratliff        G    9    2    \r\n    Mcintyre       G    16   1    \r\n\r\n ","title":"Why are my for loops ignoring elements that satisfy conditions?","body":"<p>I sorted a list of passengers but some of them are not in their appropriate groups.</p>\n<p>I'm using this criteria:</p>\n<p>1st Group: Type H<br />\n2nd Group: Type E AND Row 1-4<br />\n3rd Group: Type G AND Row 1-4<br />\n4th Group: Type E OR (Type G AND Row 10 or 11)<br />\n5th Group: Type G AND Row 23-26<br />\n6th Group: Type G AND Row 17-22<br />\n7th Group: Type G AND Row 11-16<br />\n8th Group: Type G AND Row 5-10</p>\n<p>The 1st group has should appear at the beginning of the list and 8th Group should appear at end of the list. The Priority numbers range from 103 to 1.</p>\n<p>Here is the original unsorted list of passengers (Name, type, rowNumber):</p>\n<pre><code>Whitley G 8\nKnowles G 1\nRocha G 24\nBoyle G 24\nWooten G 2\nForbes G 16\nVinson E 1\nValencia E 7\nLindsay E 16\nRasmussen E 5\nSargent G 11\nSosa G 23\nHead G 3\nHolcomb G 5\nCarney G 4\nKirkland G 14\nLevine E 9\nCash G 10\nKaufman G 6\nRatliff G 9\nMacias G 4\nSharpe G 17\nSweet G 17\nDelaney G 9\nEmerson G 5\nCastaneda E 9\nRutledge G 26\nStuart G 19\nRosales G 23\nBaird G 2\nClemons G 8\nMcgowan G 18\nCompton E 10\nAlbert G 15\nAcevedo G 14\nMayer E 9\nFitzpatrick G 16\nChaney G 8\nJarvis G 3\nBerger G 26\nBritt E 11\nOdonnell E 8\nLevy E 9\nMullen G 6\nPollard G 22\nLott G 10\nCantrell G 15\nHolder E 5\nVaughan E 11\nMccarty E 24\nWilder G 11\nMayo G 1\nPickett G 8\nSykes G 26\nBender G 13\nAguirre G 16\nBernard G 10\nHopper H 7\nMelendez G 13\nMacdonald H 18\nCarver G 15\nGould E 26\nSuarez G 6\nZamora G 15\nHinton G 13\nCabrera G 26\nDickson G 22\nSalas G 24\nBentley G 13\nFuentes G 23\nTerrell H 3\nHolman E 7\nMcintyre G 16\nHebert G 13\nHendricks G 3\nJacobson G 14\nKline G 14\nFaulkner G 5\nChan G 14\nMays G 1\nCrosby G 25\nBuck G 22\nMaddox G 20\nBuckley E 17\nKane G 10\nRivas E 26\nDudley G 22\nBest G 12\nFinley G 24\nWilliam G 18\nFrost G 2\nAshley G 14\nMcconnell G 7\nBlevins G 11\nMiddleton G 17\nBean G 18\nSheppard G 11\nEstes E 7\nPugh G 8\nRivers E 6\nBarr G 4\nLandry E 10\nFoley G 2\n</code></pre>\n<p>Here is my some of my code:</p>\n<pre><code>public void loadOldPQ(ArrayList&lt;Passenger&gt; list) throws IOException {\n    \n    int priorityNumber = list.size();\n\n    while (!list.isEmpty()) {\n        //H forLoop capture all required passengers\n        for (int i = 0; i &lt; list.size(); i++) {\n            if (list.get(i).getType().equalsIgnoreCase(&quot;H&quot;)) {\n                list.get(i).setKey(priorityNumber);\n                oldPQ.add((list.get(i)));\n                list.remove(i);\n                priorityNumber--;\n            }\n        }\n\n        //Type E AND Row 1-4 forLoop works\n        for (int j = 0; j &lt; list.size(); j++) {\n            if (list.get(j).getRow() &gt;= 1 &amp;&amp; list.get(j).getRow() &lt;= 4\n                    &amp;&amp; list.get(j).getType().equalsIgnoreCase(&quot;E&quot;)) {\n                list.get(j).setKey(priorityNumber);\n                oldPQ.add(list.get(j));\n                list.remove(j);\n                priorityNumber--;\n            }\n        }\n\n        //Type G(implied) and Row 1-4 forLoop works\n        for (int k = 0; k &lt; list.size(); k++) {\n            if (list.get(k).getRow() &gt;= 1 &amp;&amp; list.get(k).getRow() &lt;= 4) {\n\n                list.get(k).setKey(priorityNumber);\n                oldPQ.add(list.get(k));\n                list.remove(k);\n                priorityNumber--;\n            }\n        }\n\n        //Type E or Row 10, 11 forLoop\n        for (int l = 0; l &lt; list.size(); l++) {\n            if (list.get(l).getType().equalsIgnoreCase(&quot;E&quot;) || list.get(l).getRow() == 10\n                    || list.get(l).getRow() == 11) {\n                list.get(l).setKey(priorityNumber);\n                oldPQ.add(list.get(l));\n                list.remove(l);\n                priorityNumber--;\n            }\n        }\n\n        //Row 23-26 forLoop\n        for (int m = 0; m &lt; list.size(); m++) {\n            if (list.get(m).getRow() &gt;= 23 &amp;&amp; list.get(m).getRow() &lt;= 26) {\n                list.get(m).setKey(priorityNumber);\n                oldPQ.add(list.get(m));\n                list.remove(m);\n                priorityNumber--;\n            }\n        }\n\n        //Row 17-22 forLoop\n        for (int n = 0; n &lt; list.size(); n++) {\n            if (list.get(n).getRow() &gt;= 17 &amp;&amp; list.get(n).getRow() &lt;= 22) {\n                list.get(n).setKey(priorityNumber);\n                oldPQ.add(list.get(n));\n                list.remove(n);\n                priorityNumber--;\n            }\n        }\n\n        //Row 11-16 forLoop (row 11 should've already been removed)\n        for (int o = 0; o &lt; list.size(); o++) {\n            if (list.get(o).getRow() &gt;= 11 &amp;&amp; list.get(o).getRow() &lt;= 16) {\n                list.get(o).setKey(priorityNumber);\n                oldPQ.add(list.get(o));\n                list.remove(o);\n                priorityNumber--;\n            }\n        }\n\n        //Row 5-10 forLoop (Row 10 passengers should've already be removed)\n        for (int p = 0; p &lt; list.size(); p++) {\n            if (list.get(p).getRow() &gt;= 5 &amp;&amp; list.get(p).getRow() &lt;= 10) {\n                list.get(p).setKey(priorityNumber);\n                oldPQ.add(list.get(p));\n                list.remove(p);\n                priorityNumber--;\n            }\n        }\n    }\n    oldProcedure(oldPQ);\n}\n</code></pre>\n<p>For instance, Kane, McConnell, Estes should be group with 4th group. Clemons, Chauncy, Pickett should appear towards the end of the list in 8th Group because they have row numbers 5-10.</p>\n<p>Here are my results:</p>\n<pre><code>Name           Type Row  Key  \n\nHopper         H    7    103  \nMacdonald      H    18   102  \nTerrell        H    3    101  \nVinson         E    1    100  \nKnowles        G    1    99   \nWooten         G    2    98   \nHead           G    3    97   \nCarney         G    4    96   \nMacias         G    4    95   \nBaird          G    2    94   \nJarvis         G    3    93   \nMayo           G    1    92   \nHendricks      G    3    91   \nMays           G    1    90   \nFrost          G    2    89   \nBarr           G    4    88   \nFoley          G    2    87   \nValencia       E    7    86   \nRasmussen      E    5    85   \nLevine         E    9    84   \nCastaneda      E    9    83   \nCompton        E    10   82   \nMayer          E    9    81   \nBritt          E    11   80   \nLevy           E    9    79   \nLott           G    10   78   \nHolder         E    5    77   \nMccarty        E    24   76   \nBernard        G    10   75   \nGould          E    26   74   \nHolman         E    7    73   \nBuckley        E    17   72   \nRivas          E    26   71   \nBlevins        G    11   70   \nSheppard       G    11   69   \nRivers         E    6    68   \nRocha          G    24   67   \nSosa           G    23   66   \nRutledge       G    26   65   \nRosales        G    23   64   \nBerger         G    26   63   \nSykes          G    26   62   \nCabrera        G    26   61   \nSalas          G    24   60   \nFuentes        G    23   59   \nCrosby         G    25   58   \nFinley         G    24   57   \nSharpe         G    17   56   \nStuart         G    19   55   \nMcgowan        G    18   54   \nPollard        G    22   53   \nDickson        G    22   52   \nBuck           G    22   51   \nDudley         G    22   50   \nWilliam        G    18   49   \nMiddleton      G    17   48   \nForbes         G    16   47   \nSargent        G    11   46   \nKirkland       G    14   45   \nAlbert         G    15   44   \nFitzpatrick    G    16   43   \nCantrell       G    15   42   \nWilder         G    11   41   \nBender         G    13   40   \nMelendez       G    13   39   \nZamora         G    15   38   \nBentley        G    13   37   \nHebert         G    13   36   \nKline          G    14   35   \nChan           G    14   34   \nBest           G    12   33   \nWhitley        G    8    32   \nHolcomb        G    5    31   \nKaufman        G    6    30   \nDelaney        G    9    29   \nClemons        G    8    28   \nChaney         G    8    27   \nMullen         G    6    26   \nPickett        G    8    25   \nSuarez         G    6    24   \nFaulkner       G    5    23   \nKane           G    10   22   \nMcconnell      G    7    21   \nEstes          E    7    20   \nLandry         E    10   19   \nLindsay        E    16   18   \nOdonnell       E    8    17   \nBoyle          G    24   16   \nSweet          G    17   15   \nMaddox         G    20   14   \nBean           G    18   13   \nAcevedo        G    14   12   \nAguirre        G    16   11   \nHinton         G    13   10   \nJacobson       G    14   9    \nCash           G    10   8    \nEmerson        G    5    7    \nPugh           G    8    6    \nVaughan        E    11   5    \nCarver         G    15   4    \nAshley         G    14   3    \nRatliff        G    9    2    \nMcintyre       G    16   1    \n</code></pre>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"account_id":6897470,"reputation":9957,"user_id":5298879,"display_name":"Zegarek"},"score":1,"creation_date":1666427494,"post_id":74161689,"comment_id":130938154,"body_markdown":"**1.** Can you be more specific about the order of the characters in your sequence? At the moment it looks like `AAA`=0, `AAZ`=24, `AA0`=25, `AA9`=34, `ABA`=35. Or does it not use `0`? Do the letters end at `Z` or `D`? Is it fully custom or is it some well-known [numeral system](https://en.wikipedia.org/wiki/Numeral_system), like [hexadecimal](https://en.wikipedia.org/wiki/Hexadecimal), and can you change it? **2.** Do you need to store the *sequence* in the database, or the *values* of this sequence? **3.** Do you need a mechanism allowing you to create multiple instances of such sequence?","body":"<b>1.</b> Can you be more specific about the order of the characters in your sequence? At the moment it looks like <code>AAA</code>=0, <code>AAZ</code>=24, <code>AA0</code>=25, <code>AA9</code>=34, <code>ABA</code>=35. Or does it not use <code>0</code>? Do the letters end at <code>Z</code> or <code>D</code>? Is it fully custom or is it some well-known <a href=\"https://en.wikipedia.org/wiki/Numeral_system\" rel=\"nofollow noreferrer\">numeral system</a>, like <a href=\"https://en.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\">hexadecimal</a>, and can you change it? <b>2.</b> Do you need to store the <i>sequence</i> in the database, or the <i>values</i> of this sequence? <b>3.</b> Do you need a mechanism allowing you to create multiple instances of such sequence?"},{"owner":{"account_id":6386919,"reputation":8069,"user_id":5737950,"display_name":"nima"},"score":0,"creation_date":1666763363,"post_id":74161689,"comment_id":131010350,"body_markdown":"Welcome to StackOverflow. please take a while and read [ask] with [mre]. Good luck","body":"Welcome to StackOverflow. please take a while and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Good luck"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666425902,"creation_date":1666425902,"answer_id":74161991,"question_id":74161689,"body_markdown":"Try this.\r\n\r\n    static final String DIGITS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;;\r\n    static final int LENGTH = 3;\r\n    static int SEED = 0;\r\n\r\n    public static String nextSequence() {\r\n        int size = DIGITS.length();\r\n        char[] buffer = new char[LENGTH];\r\n        for (int n = ++SEED, i = LENGTH - 1; i &gt;= 0; --i, n /= size)\r\n            buffer[i] = DIGITS.charAt(n % size);\r\n        return new String(buffer);\r\n    }\r\n\r\nand\r\n\r\n    for (int i = 0; i &lt; 8; ++i)\r\n        System.out.println(nextSequence());\r\n\r\noutput\r\n\r\n    AAB\r\n    AAC\r\n    AAD\r\n    AAE\r\n    AAF\r\n    AAG\r\n    AAH\r\n    AAI\r\n\r\n","title":"Create sequence with order AAB, AA1, AA9, ABA","body":"<p>Try this.</p>\n<pre><code>static final String DIGITS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;;\nstatic final int LENGTH = 3;\nstatic int SEED = 0;\n\npublic static String nextSequence() {\n    int size = DIGITS.length();\n    char[] buffer = new char[LENGTH];\n    for (int n = ++SEED, i = LENGTH - 1; i &gt;= 0; --i, n /= size)\n        buffer[i] = DIGITS.charAt(n % size);\n    return new String(buffer);\n}\n</code></pre>\n<p>and</p>\n<pre><code>for (int i = 0; i &lt; 8; ++i)\n    System.out.println(nextSequence());\n</code></pre>\n<p>output</p>\n<pre><code>AAB\nAAC\nAAD\nAAE\nAAF\nAAG\nAAH\nAAI\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666549439,"creation_date":1666503217,"answer_id":74168879,"question_id":74161689,"body_markdown":"Well your question is ambiguous, you should indicate wanting a Java or a Postgres solution at a minimum. The following presents a fully generic Postgres solution given only the previous *sequence* and a string with the ordered set of digits. It creates 2 CTEs the first defines a the digits then the second &#39;builds&#39; a working set of variables. Finally the main sql builds the next sequence. This is handled is a single statement, nested into a sql function. (see [demo][1])\r\n\r\n    create or replace function strange_sequence_nextval(current_seq_in text)\r\n         returns text \r\n        language sql\r\n        immutable\r\n    as $$\r\n       with avail_set (k_ent) as ( values(&#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#39;) )\r\n          , parms_set (k_ent, k_len, l_pos, l_len, l_val) as \r\n            (select k_ent\r\n                  , length(k_ent) \r\n                  , position(right(current_seq_in, 1) in (k_ent) )\r\n                  , length(current_seq_in)\r\n                  , left(current_seq_in, length(current_seq_in)-1)\r\n               from avail_set \r\n            ) \r\n        select case when current_seq_in is  null then left(k_ent,1) \r\n                    when l_pos = k_len           then concat( strange_sequence_nextval(l_val), left(k_ent,1)) \r\n                    when l_len &lt; 2               then substr( k_ent, l_pos+1, 1)\r\n                    else                              concat( l_val, substr( k_ent, l_pos+1, 1)) \r\n               end\r\n          from parms_set;\r\n    $$;\r\n\r\nNOTE: As a SQL function it can be extracted and run as an independent statement. You will just need to pass the *current sequence* as a parameter. \r\n\r\n\r\n----------\r\nEDIT: Reply to V&#233;race. I did not get the generate the entire sequence because as stated *Next call should return AAC, next (call) AAD ...*. Further the sequence from `... AA9, ABA...` has no ending. But without reworking the function you could use it within a recursive query. \r\n\r\n    with recursive seq_gen(seq, gen_no, stop_at) as\r\n         ( select &#39;AAA&#39;, 1, 100         -- or any other random point\r\n           union all \r\n           select strange_sequence_nextval(seq), gen_no+1, stop_at \r\n             from seq_gen \r\n            where gen_no &lt; stop_at        \r\n        )\r\n    select seq\r\n      from seq_gen;\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://dbfiddle.uk/Uj0nIY_r","title":"Create sequence with order AAB, AA1, AA9, ABA","body":"<p>Well your question is ambiguous, you should indicate wanting a Java or a Postgres solution at a minimum. The following presents a fully generic Postgres solution given only the previous <em>sequence</em> and a string with the ordered set of digits. It creates 2 CTEs the first defines a the digits then the second 'builds' a working set of variables. Finally the main sql builds the next sequence. This is handled is a single statement, nested into a sql function. (see <a href=\"https://dbfiddle.uk/Uj0nIY_r\" rel=\"nofollow noreferrer\">demo</a>)</p>\n<pre><code>create or replace function strange_sequence_nextval(current_seq_in text)\n     returns text \n    language sql\n    immutable\nas $$\n   with avail_set (k_ent) as ( values('ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789') )\n      , parms_set (k_ent, k_len, l_pos, l_len, l_val) as \n        (select k_ent\n              , length(k_ent) \n              , position(right(current_seq_in, 1) in (k_ent) )\n              , length(current_seq_in)\n              , left(current_seq_in, length(current_seq_in)-1)\n           from avail_set \n        ) \n    select case when current_seq_in is  null then left(k_ent,1) \n                when l_pos = k_len           then concat( strange_sequence_nextval(l_val), left(k_ent,1)) \n                when l_len &lt; 2               then substr( k_ent, l_pos+1, 1)\n                else                              concat( l_val, substr( k_ent, l_pos+1, 1)) \n           end\n      from parms_set;\n$$;\n</code></pre>\n<p>NOTE: As a SQL function it can be extracted and run as an independent statement. You will just need to pass the <em>current sequence</em> as a parameter.</p>\n<hr />\n<p>EDIT: Reply to Vérace. I did not get the generate the entire sequence because as stated <em>Next call should return AAC, next (call) AAD ...</em>. Further the sequence from <code>... AA9, ABA...</code> has no ending. But without reworking the function you could use it within a recursive query.</p>\n<pre><code>with recursive seq_gen(seq, gen_no, stop_at) as\n     ( select 'AAA', 1, 100         -- or any other random point\n       union all \n       select strange_sequence_nextval(seq), gen_no+1, stop_at \n         from seq_gen \n        where gen_no &lt; stop_at        \n    )\nselect seq\n  from seq_gen;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":657205,"reputation":884,"user_id":470530,"display_name":"V&#233;race"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666551636,"creation_date":1666551636,"answer_id":74173957,"question_id":74161689,"body_markdown":"\r\nFirstly, I did this (all of the code below is available [here][1]).\r\n\r\n    SELECT\r\n      SUBSTRING(&#39;ABCDE123&#39;, s.i, 1) AS c1,\r\n      SUBSTRING(&#39;ABCDE123&#39;, t.j, 1) AS c2,\r\n      SUBSTRING(&#39;ABCDE123&#39;, u.k, 1) AS c3\r\n    FROM\r\n      GENERATE_SERIES(1, 8) AS s(i),\r\n      GENERATE_SERIES(1, 8) AS t(j),\r\n      GENERATE_SERIES(1, 8) AS u(k)\r\n    ORDER BY c1, c2, c3\r\n    LIMIT 10;\r\n\r\n\r\nResult:\r\n\r\n    c1 \tc2 \tc3\r\n    1 \t1 \t1\r\n    1 \t1 \t2\r\n    1 \t1 \t3\r\n    1 \t1 \tA\r\n    1 \t1 \tB\r\n    ...\r\n    ... snipped for brevity\r\n    ...\r\n\r\n**But**, you want it sorted `AAA`, `AAB`... but `1` is before `A` in the ASCII table, so we have to do this:\r\n\r\n    WITH cte1 AS\r\n    (\r\n      SELECT\r\n    \r\n        SUBSTRING(&#39;ABCDE123&#39;, s.i, 1) AS c1,\r\n        SUBSTRING(&#39;ABCDE123&#39;, t.j, 1) AS c2,\r\n        SUBSTRING(&#39;ABCDE123&#39;, u.k, 1) AS c3\r\n      \r\n      FROM\r\n        GENERATE_SERIES(1, 8) AS s(i),\r\n        GENERATE_SERIES(1, 8) AS t(j),\r\n        GENERATE_SERIES(1, 8) AS u(k)\r\n    )\r\n    SELECT \r\n      c1 || c2 || c3 AS sequence\r\n    FROM\r\n      cte1\r\n    ORDER BY \r\n    \r\n      CASE\r\n        WHEN ASCII(c1) &lt; 58 THEN ASCII(c1) + 45 --  45 is arbitrary, as long as it gets\r\n        ELSE ASCII(c1)                          --  (ASCII(c1) + 45 &gt; 90). Check an ASCII table!\r\n      END,\r\n      \r\n      CASE\r\n        WHEN ASCII(c2) &lt; 58 THEN ASCII(c2) + 45\r\n        ELSE ASCII(c2)\r\n      END,\r\n      \r\n      CASE\r\n        WHEN ASCII(c3) &lt; 58 THEN ASCII(c3) + 45\r\n        ELSE ASCII(c3)\r\n      END\r\n    LIMIT 10;\r\n\r\n\r\nResult:\r\n\r\n    sequence\r\n    AAA\r\n    AAB\r\n    AAC\r\n    AAD\r\n    AAE\r\n    AA1\r\n    ...\r\n    ... snipped for brevity\r\n    ...\r\n\r\nSo, now we have the correct sort order.\r\n\r\nWe can put all of this in a function as follows:\r\n\r\n    CREATE OR REPLACE FUNCTION seq(str TEXT)\r\n    RETURNS SETOF TEXT\r\n    LANGUAGE SQL IMMUTABLE\r\n    AS\r\n    $$\r\n      WITH cte1 AS\r\n      (\r\n        SELECT\r\n    \r\n          SUBSTRING($1, s.i, 1) AS c1,\r\n          SUBSTRING($1, t.j, 1) AS c2,\r\n          SUBSTRING($1, u.k, 1) AS c3\r\n      \r\n        FROM\r\n          GENERATE_SERIES(1, LENGTH($1)) AS s(i),\r\n          GENERATE_SERIES(1, LENGTH($1)) AS t(j),\r\n          GENERATE_SERIES(1, LENGTH($1)) AS u(k)  \r\n      )\r\n    \r\n      SELECT \r\n        c1 || c2 || c3 AS sequence\r\n      FROM\r\n      cte1\r\n      ORDER BY \r\n    \r\n        CASE\r\n          WHEN ASCII(c1) &lt; 58 THEN ASCII(c1) + 45  -- &lt;&lt;= 45 is arbitrary, as long as it gets\r\n          ELSE ASCII(c1)                           --     it above 90. Check an ASCII table!\r\n        END,\r\n      \r\n        CASE\r\n          WHEN ASCII(c2) &lt; 58 THEN ASCII(c2) + 45\r\n          ELSE ASCII(c2)\r\n        END,\r\n      \r\n        CASE\r\n          WHEN ASCII(c3) &lt; 58 THEN ASCII(c3) + 45\r\n          ELSE ASCII(c3)\r\n        END\r\n    $$;\r\n\r\nand the run:\r\n\r\n    SELECT\r\n      seq(&#39;ABC1&#39;)\r\n      LIMIT 10;\r\n\r\nResult:\r\n\r\n    seq\r\n    AAA\r\n    AAB\r\n    AAC\r\n    AA1\r\n    ABA\r\n    ABB\r\n    ...\r\n    ... snipped for brevity\r\n    ...\r\n\r\nWith thanks to @Belayer&#39;s [code][2] for the inspiration on the function!\r\n\r\n\r\n  [1]: https://dbfiddle.uk/M6ub_3cK\r\n  [2]: https://stackoverflow.com/a/74168879/470530\r\n\r\n","title":"Create sequence with order AAB, AA1, AA9, ABA","body":"<p>Firstly, I did this (all of the code below is available <a href=\"https://dbfiddle.uk/M6ub_3cK\" rel=\"nofollow noreferrer\">here</a>).</p>\n<pre><code>SELECT\n  SUBSTRING('ABCDE123', s.i, 1) AS c1,\n  SUBSTRING('ABCDE123', t.j, 1) AS c2,\n  SUBSTRING('ABCDE123', u.k, 1) AS c3\nFROM\n  GENERATE_SERIES(1, 8) AS s(i),\n  GENERATE_SERIES(1, 8) AS t(j),\n  GENERATE_SERIES(1, 8) AS u(k)\nORDER BY c1, c2, c3\nLIMIT 10;\n</code></pre>\n<p>Result:</p>\n<pre><code>c1  c2  c3\n1   1   1\n1   1   2\n1   1   3\n1   1   A\n1   1   B\n...\n... snipped for brevity\n...\n</code></pre>\n<p><strong>But</strong>, you want it sorted <code>AAA</code>, <code>AAB</code>... but <code>1</code> is before <code>A</code> in the ASCII table, so we have to do this:</p>\n<pre><code>WITH cte1 AS\n(\n  SELECT\n\n    SUBSTRING('ABCDE123', s.i, 1) AS c1,\n    SUBSTRING('ABCDE123', t.j, 1) AS c2,\n    SUBSTRING('ABCDE123', u.k, 1) AS c3\n  \n  FROM\n    GENERATE_SERIES(1, 8) AS s(i),\n    GENERATE_SERIES(1, 8) AS t(j),\n    GENERATE_SERIES(1, 8) AS u(k)\n)\nSELECT \n  c1 || c2 || c3 AS sequence\nFROM\n  cte1\nORDER BY \n\n  CASE\n    WHEN ASCII(c1) &lt; 58 THEN ASCII(c1) + 45 --  45 is arbitrary, as long as it gets\n    ELSE ASCII(c1)                          --  (ASCII(c1) + 45 &gt; 90). Check an ASCII table!\n  END,\n  \n  CASE\n    WHEN ASCII(c2) &lt; 58 THEN ASCII(c2) + 45\n    ELSE ASCII(c2)\n  END,\n  \n  CASE\n    WHEN ASCII(c3) &lt; 58 THEN ASCII(c3) + 45\n    ELSE ASCII(c3)\n  END\nLIMIT 10;\n</code></pre>\n<p>Result:</p>\n<pre><code>sequence\nAAA\nAAB\nAAC\nAAD\nAAE\nAA1\n...\n... snipped for brevity\n...\n</code></pre>\n<p>So, now we have the correct sort order.</p>\n<p>We can put all of this in a function as follows:</p>\n<pre><code>CREATE OR REPLACE FUNCTION seq(str TEXT)\nRETURNS SETOF TEXT\nLANGUAGE SQL IMMUTABLE\nAS\n$$\n  WITH cte1 AS\n  (\n    SELECT\n\n      SUBSTRING($1, s.i, 1) AS c1,\n      SUBSTRING($1, t.j, 1) AS c2,\n      SUBSTRING($1, u.k, 1) AS c3\n  \n    FROM\n      GENERATE_SERIES(1, LENGTH($1)) AS s(i),\n      GENERATE_SERIES(1, LENGTH($1)) AS t(j),\n      GENERATE_SERIES(1, LENGTH($1)) AS u(k)  \n  )\n\n  SELECT \n    c1 || c2 || c3 AS sequence\n  FROM\n  cte1\n  ORDER BY \n\n    CASE\n      WHEN ASCII(c1) &lt; 58 THEN ASCII(c1) + 45  -- &lt;&lt;= 45 is arbitrary, as long as it gets\n      ELSE ASCII(c1)                           --     it above 90. Check an ASCII table!\n    END,\n  \n    CASE\n      WHEN ASCII(c2) &lt; 58 THEN ASCII(c2) + 45\n      ELSE ASCII(c2)\n    END,\n  \n    CASE\n      WHEN ASCII(c3) &lt; 58 THEN ASCII(c3) + 45\n      ELSE ASCII(c3)\n    END\n$$;\n</code></pre>\n<p>and the run:</p>\n<pre><code>SELECT\n  seq('ABC1')\n  LIMIT 10;\n</code></pre>\n<p>Result:</p>\n<pre><code>seq\nAAA\nAAB\nAAC\nAA1\nABA\nABB\n...\n... snipped for brevity\n...\n</code></pre>\n<p>With thanks to @Belayer's <a href=\"https://stackoverflow.com/a/74168879/470530\">code</a> for the inspiration on the function!</p>\n"}],"owner":{"account_id":26699431,"reputation":9,"user_id":20306721,"display_name":"Aru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1666855240,"answer_count":3,"score":-1,"last_activity_date":1666551636,"creation_date":1666422382,"question_id":74161689,"body_markdown":"I am trying to create sequence that stored in db.\r\nSo just only with one service call I should get new sequence by order like AAB.\r\nNext call should return AAC, next AAD.... AA9, ABA...\r\nI tried to create three number sequences 0&lt;=first_seq&lt;36, also like this second_seq, third_seq.\r\nI am using spring hibernate, postgresql.\r\n\r\n","title":"Create sequence with order AAB, AA1, AA9, ABA","body":"<p>I am trying to create sequence that stored in db.\nSo just only with one service call I should get new sequence by order like AAB.\nNext call should return AAC, next AAD.... AA9, ABA...\nI tried to create three number sequences 0&lt;=first_seq&lt;36, also like this second_seq, third_seq.\nI am using spring hibernate, postgresql.</p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1589134615,"creation_date":1541067815,"answer_id":53099300,"question_id":53099011,"body_markdown":"When `@SuperBuilder` was introduced in 1.18.2, customising it was not possible. If you try, Lombok 1.18.2 gives you the error message `SuperBuilder does not support customized builders.`\r\n\r\nHowever, Lombok 1.18.4 added limited customisation possibilities of `@SuperBuilder`. (It&#39;s limited because you cannot modify setter methods, but you can add your own methods and modify `build()` and `builder()`.)\r\n\r\nThe generated `@SuperBuilder` code is quite complex and differs from `@Builder`. To avoid accidently messing up the generics-loaded builder code, you should start by copying the builder class header from the delombok output.\r\nIn your case (adding a new setter method), customize the abstract builder class `ParentBuilder` (and not the `ParentBuilderImpl`). Have a look at the delomboked code to find out how your setter should be defined, especially the return type.\r\n\r\nThis is the customized builder code for your example:\r\n\r\n    public abstract static class ParentBuilder&lt;C extends Parent, B extends ParentBuilder&lt;C, B&gt;&gt; {\r\n        public B setAllTo(final int value) {\r\n           return a(value).b(value);\r\n        }\r\n    }\r\n\r\nWith Lombok 1.18.4, this compiles and works as expected.","title":"Lombok Customize SuperBuilder","body":"<p>When <code>@SuperBuilder</code> was introduced in 1.18.2, customising it was not possible. If you try, Lombok 1.18.2 gives you the error message <code>SuperBuilder does not support customized builders.</code></p>\n\n<p>However, Lombok 1.18.4 added limited customisation possibilities of <code>@SuperBuilder</code>. (It's limited because you cannot modify setter methods, but you can add your own methods and modify <code>build()</code> and <code>builder()</code>.)</p>\n\n<p>The generated <code>@SuperBuilder</code> code is quite complex and differs from <code>@Builder</code>. To avoid accidently messing up the generics-loaded builder code, you should start by copying the builder class header from the delombok output.\nIn your case (adding a new setter method), customize the abstract builder class <code>ParentBuilder</code> (and not the <code>ParentBuilderImpl</code>). Have a look at the delomboked code to find out how your setter should be defined, especially the return type.</p>\n\n<p>This is the customized builder code for your example:</p>\n\n<pre><code>public abstract static class ParentBuilder&lt;C extends Parent, B extends ParentBuilder&lt;C, B&gt;&gt; {\n    public B setAllTo(final int value) {\n       return a(value).b(value);\n    }\n}\n</code></pre>\n\n<p>With Lombok 1.18.4, this compiles and works as expected.</p>\n"},{"tags":[],"owner":{"account_id":11268795,"reputation":235,"user_id":8264855,"display_name":"Anubhav"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1600766911,"creation_date":1599920306,"answer_id":63861259,"question_id":53099011,"body_markdown":"I recently tried customizing `@SuperBuilder` using Lombok 1.18.8 and IntelliJ, and it worked fine. The only issue I faced was, I lost ability to use `toBuilder` flag in SuperBuilder - `@SuperBuilder(toBuilder=true)`.\r\n\r\nBelow is the code to override @SuperBuilder methods.\r\n\r\n    public static abstract class ChildBuilder&lt;C extends Child, B extends ChildBuilder&lt;C, B&gt;&gt;\r\n            extends ParentBuilder&lt;C, B&gt; {\r\n \r\n        private LocalDate date;\r\n \r\n        public B date(String dateStr) {\r\n            this.date = LocalDate.parse(dateStr);\r\n            return self();\r\n        }\r\n    }\r\n\r\nI added my working code here: [Customize SuperBuilder in Lombok][1]\r\n\r\n\r\n  [1]: https://devnip.blogspot.com/2020/09/how-to-override-methods-of-superbuilder.html","title":"Lombok Customize SuperBuilder","body":"<p>I recently tried customizing <code>@SuperBuilder</code> using Lombok 1.18.8 and IntelliJ, and it worked fine. The only issue I faced was, I lost ability to use <code>toBuilder</code> flag in SuperBuilder - <code>@SuperBuilder(toBuilder=true)</code>.</p>\n<p>Below is the code to override @SuperBuilder methods.</p>\n<pre><code>public static abstract class ChildBuilder&lt;C extends Child, B extends ChildBuilder&lt;C, B&gt;&gt;\n        extends ParentBuilder&lt;C, B&gt; {\n\n    private LocalDate date;\n\n    public B date(String dateStr) {\n        this.date = LocalDate.parse(dateStr);\n        return self();\n    }\n}\n</code></pre>\n<p>I added my working code here: <a href=\"https://devnip.blogspot.com/2020/09/how-to-override-methods-of-superbuilder.html\" rel=\"noreferrer\">Customize SuperBuilder in Lombok</a></p>\n"},{"tags":[],"owner":{"account_id":4702093,"reputation":53,"user_id":3805399,"display_name":"skuzniarz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666551507,"creation_date":1666551507,"answer_id":74173951,"question_id":53099011,"body_markdown":"It is worth mentioning, that if you want to customize child class builder, the custom builder has to inherit from the parent builder (whether or not the parent builder was customized):\r\n```\r\n@SuperBuilder\r\npublic abstract class Parent {\r\n    ...\r\n}\r\n\r\n@SuperBuilder\r\npublic class Child extends Parent {\r\n    ...\r\n    public static class ChildBuilder&lt;C extends Child, B extends ChildBuilder&lt;C, B&gt;&gt; extends ParentBuilder&lt;C, B&gt; {\r\n        ...\r\n    }\r\n}","title":"Lombok Customize SuperBuilder","body":"<p>It is worth mentioning, that if you want to customize child class builder, the custom builder has to inherit from the parent builder (whether or not the parent builder was customized):</p>\n<pre><code>@SuperBuilder\npublic abstract class Parent {\n    ...\n}\n\n@SuperBuilder\npublic class Child extends Parent {\n    ...\n    public static class ChildBuilder&lt;C extends Child, B extends ChildBuilder&lt;C, B&gt;&gt; extends ParentBuilder&lt;C, B&gt; {\n        ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12381,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":63861259,"answer_count":3,"score":17,"last_activity_date":1666551507,"creation_date":1541066663,"question_id":53099011,"body_markdown":"I have two classes like this:  \r\n\r\n    @Builder\r\n    public class Parent {\r\n        final int a;\r\n        final int b;\r\n    \r\n        public class static ParentBuilder {\r\n            public ParentBuilder setAllTo(final int value) {\r\n               return a(value).b(value);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class Child extends Parent {\r\n       final in c;\r\n    \r\n       @Builder(builderMethodName = &quot;childBuilder&quot;)\r\n       public Child(final int a, final int b, final int c) {\r\n          super(a, b);\r\n          this.c = c;\r\n       }\r\n    }\r\n\r\nMy classes are growing up and got more and more fields.\r\nAnd this is a reson to use the `@SuperBuilder`. But how can I add customized builder methods?\r\n\r\nThe same way dosent work. I tried this way:\r\n\r\n    @SuperBuilder\r\n    public abstract class Parent { //yes, I want a abstract parent\r\n        final int a;\r\n        final int b;\r\n    \r\n        public class static ParentBuilder {\r\n            public ParentBuilder setAllTo(final int value) {\r\n               return a(value).b(value);\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\n    @SuperBuilder\r\n    public class Child extends Parent {\r\n       final in c;\r\n  \r\n    }\r\n\r\n\r\n## Edit\r\nIts not possible yet. When I try to do it the same way, then I got a exception: `@SuperBuilder does not support customized builders. Use @Builder instead.`  \r\nThe override is a inner class like this:\r\n\r\n    public abstract static class ParentBuilder&lt;C extends ParentBuilder, B extends Parent.ParentBuilder&lt;C, B&gt;&gt; {\r\n        // custom imlementations here\r\n    }","title":"Lombok Customize SuperBuilder","body":"<p>I have two classes like this:  </p>\n\n<pre><code>@Builder\npublic class Parent {\n    final int a;\n    final int b;\n\n    public class static ParentBuilder {\n        public ParentBuilder setAllTo(final int value) {\n           return a(value).b(value);\n        }\n    }\n}\n\npublic class Child extends Parent {\n   final in c;\n\n   @Builder(builderMethodName = \"childBuilder\")\n   public Child(final int a, final int b, final int c) {\n      super(a, b);\n      this.c = c;\n   }\n}\n</code></pre>\n\n<p>My classes are growing up and got more and more fields.\nAnd this is a reson to use the <code>@SuperBuilder</code>. But how can I add customized builder methods?</p>\n\n<p>The same way dosent work. I tried this way:</p>\n\n<pre><code>@SuperBuilder\npublic abstract class Parent { //yes, I want a abstract parent\n    final int a;\n    final int b;\n\n    public class static ParentBuilder {\n        public ParentBuilder setAllTo(final int value) {\n           return a(value).b(value);\n        }\n    }\n}\n\n\n@SuperBuilder\npublic class Child extends Parent {\n   final in c;\n\n}\n</code></pre>\n\n<h2>Edit</h2>\n\n<p>Its not possible yet. When I try to do it the same way, then I got a exception: <code>@SuperBuilder does not support customized builders. Use @Builder instead.</code><br>\nThe override is a inner class like this:</p>\n\n<pre><code>public abstract static class ParentBuilder&lt;C extends ParentBuilder, B extends Parent.ParentBuilder&lt;C, B&gt;&gt; {\n    // custom imlementations here\n}\n</code></pre>\n"},{"tags":["java","stringbuffer","randomaccessfile"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1666551330,"post_id":74173549,"comment_id":130958985,"body_markdown":"See below, but note that adding `System.out.println(&quot;position=&quot;+randomAccessFile.getFilePointer())` in both loops would tell you the answer.","body":"See below, but note that adding <code>System.out.println(&quot;position=&quot;+randomAccessFile.getFilePoint&zwnj;&#8203;er())</code> in both loops would tell you the answer."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666551055,"creation_date":1666550658,"answer_id":74173839,"question_id":74173549,"body_markdown":"You are assigning a &quot;random&quot; next read position here:\r\n\r\n    position= position + 36;\r\n\r\nThat makes no sense unless there is 36 bytes padding after every record. Comment out the line `position= position + 36;` and `randomAccessFile.seek(position);` because if you have the matched up each write with a read then the next seek position is moved correctly.\r\n\r\nAlso note:\r\n- writing a file called `employee.XML` which isn&#39;t XML format is very misleading for others.\r\n- You don&#39;t need to use `RandomAccessFile` here as all your writes are sequential.","title":"Write and Read file with RandomAccessFile in Java","body":"<p>You are assigning a &quot;random&quot; next read position here:</p>\n<pre><code>position= position + 36;\n</code></pre>\n<p>That makes no sense unless there is 36 bytes padding after every record. Comment out the line <code>position= position + 36;</code> and <code>randomAccessFile.seek(position);</code> because if you have the matched up each write with a read then the next seek position is moved correctly.</p>\n<p>Also note:</p>\n<ul>\n<li>writing a file called <code>employee.XML</code> which isn't XML format is very misleading for others.</li>\n<li>You don't need to use <code>RandomAccessFile</code> here as all your writes are sequential.</li>\n</ul>\n"}],"owner":{"account_id":23694523,"reputation":11,"user_id":17718436,"display_name":"Tuan Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74173839,"answer_count":1,"score":-2,"last_activity_date":1666551055,"creation_date":1666548284,"question_id":74173549,"body_markdown":"Hello I am writing a program that write and read file XML in Java.\r\nHere is the Writing file\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        File file = new File(&quot;C:\\\\Test\\\\employee.XML&quot;);\r\n        RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;rw&quot;);\r\n        //int codeEmp = 0;\r\n        String nameEmp[] = {&quot;Name A&quot;, &quot;Name B&quot;, &quot;Name C&quot;, &quot;Name D&quot;, &quot;Name E&quot;};\r\n        String addEmp[] = {&quot;Address A&quot;, &quot;Address B&quot;,\r\n                &quot;Address C&quot;, &quot; Address D&quot;,\r\n                &quot;Address E&quot;};\r\n        int saleEmp[] = {2000,1232,7653,1236,3452};\r\n        int comEmp[] = {400,100,3000,300,500};\r\n\r\n        StringBuffer buffer;\r\n        StringBuffer buffer1;\r\n\r\n\r\n        for (int i=0;i&lt; nameEmp.length; i++){\r\n            randomAccessFile.writeInt(i+1);\r\n\r\n            buffer = new StringBuffer( nameEmp[i]);\r\n            buffer.setLength(10);\r\n            randomAccessFile.writeChars(buffer.toString());\r\n\r\n            buffer1 = new StringBuffer( addEmp[i]);\r\n            buffer1.setLength(100);\r\n            randomAccessFile.writeChars(buffer1.toString());\r\n\r\n\r\n            randomAccessFile.writeInt(saleEmp[i]);\r\n            randomAccessFile.writeInt(comEmp[i]);\r\n        }\r\n        randomAccessFile.close();\r\n    }\r\n\r\nThe Reader is\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        File file = new File(&quot;C:\\\\Test\\\\employee.XML&quot;);\r\n        RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;rw&quot;);\r\n\r\n        int codeEmp, position = 0;\r\n        char nameEmp[] = new char[10];\r\n        char addEmp[] = new char [100];\r\n        int saleEmp , comEmp;\r\n\r\n        for(;;){\r\n            randomAccessFile.seek(position);\r\n            codeEmp = randomAccessFile.readInt();\r\n\r\n            for (int i = 0; i &lt; nameEmp.length; i++) {\r\n                nameEmp[i] = randomAccessFile.readChar();\r\n            }\r\n            String nameEmpS= new String(nameEmp);\r\n\r\n            for (int i = 0; i &lt; addEmp.length; i++) {\r\n                addEmp[i] = randomAccessFile.readChar();\r\n            }\r\n            String addEmpS= new String(addEmp);\r\n\r\n            saleEmp =randomAccessFile.readInt();\r\n            comEmp=randomAccessFile.readInt();\r\n\r\n            System.out.println(&quot;Cod Emp: &quot; + codeEmp + &quot;, nombre: &quot; +nameEmpS+ &quot;, direcci&#243;n: &quot;+addEmpS+\r\n                    &quot;, sale: &quot; + saleEmp+ &quot;, comisi&#243;n: &quot; + comEmp );\r\n\r\n            position= position + 36;\r\n\r\n            if (randomAccessFile.getFilePointer()==file.length())break;\r\n        }\r\n        randomAccessFile.close();\r\n    }\r\n\r\nThe problem is that when I run the reader file, it&#39;s return many lines and only the first line is okay but the rest are wrong. How can I fix it?\r\nHere is the console\r\n&gt; Cod Emp: 1, nombre: Name A    , direcci&#243;n: Address A                                                                                        , sale: 2000, comisi&#243;n: 400\r\n\r\n&gt; Cod Emp: 7536672, nombre: A   , direcci&#243;n:                                                                                    Name B    Ad, sale: 6553714, comisi&#243;n: 6619251\r\n\r\n&gt; Cod Emp: 0, nombre:           , direcci&#243;n:                                                                  Ɛ \u0002Name B    Address B           , sale: 0, comisi&#243;n: 0\r\n&gt;\r\n","title":"Write and Read file with RandomAccessFile in Java","body":"<p>Hello I am writing a program that write and read file XML in Java.\nHere is the Writing file</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    File file = new File(&quot;C:\\\\Test\\\\employee.XML&quot;);\n    RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;rw&quot;);\n    //int codeEmp = 0;\n    String nameEmp[] = {&quot;Name A&quot;, &quot;Name B&quot;, &quot;Name C&quot;, &quot;Name D&quot;, &quot;Name E&quot;};\n    String addEmp[] = {&quot;Address A&quot;, &quot;Address B&quot;,\n            &quot;Address C&quot;, &quot; Address D&quot;,\n            &quot;Address E&quot;};\n    int saleEmp[] = {2000,1232,7653,1236,3452};\n    int comEmp[] = {400,100,3000,300,500};\n\n    StringBuffer buffer;\n    StringBuffer buffer1;\n\n\n    for (int i=0;i&lt; nameEmp.length; i++){\n        randomAccessFile.writeInt(i+1);\n\n        buffer = new StringBuffer( nameEmp[i]);\n        buffer.setLength(10);\n        randomAccessFile.writeChars(buffer.toString());\n\n        buffer1 = new StringBuffer( addEmp[i]);\n        buffer1.setLength(100);\n        randomAccessFile.writeChars(buffer1.toString());\n\n\n        randomAccessFile.writeInt(saleEmp[i]);\n        randomAccessFile.writeInt(comEmp[i]);\n    }\n    randomAccessFile.close();\n}\n</code></pre>\n<p>The Reader is</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    File file = new File(&quot;C:\\\\Test\\\\employee.XML&quot;);\n    RandomAccessFile randomAccessFile = new RandomAccessFile(file, &quot;rw&quot;);\n\n    int codeEmp, position = 0;\n    char nameEmp[] = new char[10];\n    char addEmp[] = new char [100];\n    int saleEmp , comEmp;\n\n    for(;;){\n        randomAccessFile.seek(position);\n        codeEmp = randomAccessFile.readInt();\n\n        for (int i = 0; i &lt; nameEmp.length; i++) {\n            nameEmp[i] = randomAccessFile.readChar();\n        }\n        String nameEmpS= new String(nameEmp);\n\n        for (int i = 0; i &lt; addEmp.length; i++) {\n            addEmp[i] = randomAccessFile.readChar();\n        }\n        String addEmpS= new String(addEmp);\n\n        saleEmp =randomAccessFile.readInt();\n        comEmp=randomAccessFile.readInt();\n\n        System.out.println(&quot;Cod Emp: &quot; + codeEmp + &quot;, nombre: &quot; +nameEmpS+ &quot;, dirección: &quot;+addEmpS+\n                &quot;, sale: &quot; + saleEmp+ &quot;, comisión: &quot; + comEmp );\n\n        position= position + 36;\n\n        if (randomAccessFile.getFilePointer()==file.length())break;\n    }\n    randomAccessFile.close();\n}\n</code></pre>\n<p>The problem is that when I run the reader file, it's return many lines and only the first line is okay but the rest are wrong. How can I fix it?\nHere is the console</p>\n<blockquote>\n<p>Cod Emp: 1, nombre: Name A    , dirección: Address A                                                                                        , sale: 2000, comisión: 400</p>\n</blockquote>\n<blockquote>\n<p>Cod Emp: 7536672, nombre: A   , dirección:                                                                                    Name B    Ad, sale: 6553714, comisión: 6619251</p>\n</blockquote>\n<blockquote>\n<p>Cod Emp: 0, nombre:           , dirección:                                                                  Ɛ Name B    Address B           , sale: 0, comisión: 0</p>\n</blockquote>\n"},{"tags":["java","for-loop","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1127181,"reputation":9795,"user_id":1114171,"display_name":"T I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666550391,"creation_date":1666550391,"answer_id":74173807,"question_id":74173709,"body_markdown":"    for (int j = 0; j &lt; listaClientes.size(); j++){\r\n      if(listaClientes.get(j).getNumero() == numContaDestino){\r\n        ...\r\n      }else{\r\n        System.out.println(&quot;Cliente destino n&#227;o encontrado!&quot;);\r\n        return; /* ! this return is why j++ is not used ! */\r\n      }\r\n    }","title":"Why the variable J is always 0? For inside a For - Java","body":"<pre><code>for (int j = 0; j &lt; listaClientes.size(); j++){\n  if(listaClientes.get(j).getNumero() == numContaDestino){\n    ...\n  }else{\n    System.out.println(&quot;Cliente destino não encontrado!&quot;);\n    return; /* ! this return is why j++ is not used ! */\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22809793,"reputation":15,"user_id":18799369,"display_name":"Gustavo Calanzani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74173807,"answer_count":1,"score":-1,"last_activity_date":1666550391,"creation_date":1666549626,"question_id":74173709,"body_markdown":"IntelliJ says &quot;j++&quot; is never used and I just can&#39;t figure out why.\r\n\r\nWhat I&#39;m trying to do is check if exists 2 accounts of the type Conta searching by the their attribute &quot;numero&quot; with getNumero. And I just search for the second account if the first one exists.\r\n\r\nPS: listaClientes is an ArrayList of the type Conta\r\n\r\n```\r\nfor(int i = 0; i &lt; listaClientes.size(); i++){\r\n                if(listaClientes.get(i).getNumero() == numContaOrigem){\r\n                    System.out.println(&quot;Qual o numero da conta de destino? (TRANSFER&#202;NCIA)&quot;);\r\n                    int numContaDestino = teclado.nextInt();\r\n                    // -------- Here is the problem --------- vvvv --------------\r\n                    for (int j = 0; j &lt; listaClientes.size(); j++){\r\n                        if(listaClientes.get(j).getNumero() == numContaDestino){\r\n                            System.out.println(&quot;Qual o valor da transferencia?&quot;);\r\n                            double valorTransf = teclado.nextDouble();\r\n                            if(listaClientes.get(i).transferencia(valorTransf, listaClientes.get(j))){\r\n                                System.out.println(&quot;Transfer&#234;ncia realizada!&quot;);\r\n                                return;\r\n                            }else{\r\n                                System.out.println(&quot;Saldo insuficiente! Transfer&#234;ncia n&#227;o realizada!&quot;);\r\n                                return;\r\n                            }\r\n                        }else{\r\n                            System.out.println(&quot;Cliente destino n&#227;o encontrado!&quot;);\r\n                            return;\r\n                        }\r\n                    }\r\n                }else{\r\n                    System.out.println(&quot;Cliente origem n&#227;o encontrado!&quot;);\r\n                    return;\r\n                }\r\n            }\r\n```\r\n","title":"Why the variable J is always 0? For inside a For - Java","body":"<p>IntelliJ says &quot;j++&quot; is never used and I just can't figure out why.</p>\n<p>What I'm trying to do is check if exists 2 accounts of the type Conta searching by the their attribute &quot;numero&quot; with getNumero. And I just search for the second account if the first one exists.</p>\n<p>PS: listaClientes is an ArrayList of the type Conta</p>\n<pre><code>for(int i = 0; i &lt; listaClientes.size(); i++){\n                if(listaClientes.get(i).getNumero() == numContaOrigem){\n                    System.out.println(&quot;Qual o numero da conta de destino? (TRANSFERÊNCIA)&quot;);\n                    int numContaDestino = teclado.nextInt();\n                    // -------- Here is the problem --------- vvvv --------------\n                    for (int j = 0; j &lt; listaClientes.size(); j++){\n                        if(listaClientes.get(j).getNumero() == numContaDestino){\n                            System.out.println(&quot;Qual o valor da transferencia?&quot;);\n                            double valorTransf = teclado.nextDouble();\n                            if(listaClientes.get(i).transferencia(valorTransf, listaClientes.get(j))){\n                                System.out.println(&quot;Transferência realizada!&quot;);\n                                return;\n                            }else{\n                                System.out.println(&quot;Saldo insuficiente! Transferência não realizada!&quot;);\n                                return;\n                            }\n                        }else{\n                            System.out.println(&quot;Cliente destino não encontrado!&quot;);\n                            return;\n                        }\n                    }\n                }else{\n                    System.out.println(&quot;Cliente origem não encontrado!&quot;);\n                    return;\n                }\n            }\n</code></pre>\n"},{"tags":["java","eclipse","visual-studio","javascript-engine"],"comments":[{"owner":{"account_id":17939516,"reputation":27,"user_id":13035113,"display_name":"Konrad Niedźwiedzki"},"score":0,"creation_date":1666550747,"post_id":74173805,"comment_id":130958842,"body_markdown":"Here you will find the answer. Visit https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it","body":"Here you will find the answer. Visit <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\" title=\"what is a nullpointerexception and how do i fix it\">stackoverflow.com/questions/218384/&hellip;</a>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1666551978,"post_id":74173805,"comment_id":130959127,"body_markdown":"Is Visual Studio Code also using JDK 17 to run your code? JavaScript was removed in Java 15. https://www.oracle.com/java/technologies/javase/15-relnote-issues.html#JDK-8236933","body":"Is Visual Studio Code also using JDK 17 to run your code? JavaScript was removed in Java 15. <a href=\"https://www.oracle.com/java/technologies/javase/15-relnote-issues.html#JDK-8236933\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/&hellip;</a>"}],"owner":{"account_id":26711045,"reputation":1,"user_id":20316408,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666550362,"creation_date":1666550362,"question_id":74173805,"body_markdown":"When my piece of code below runs on Eclipse on both on Mac and Win8 (both are with Open JDK-17.0.2) below I get the java.lang.NullPointerException: Cannot invoke &quot;javax.script.ScriptEngine.eval(String)&quot; because &quot;engine&quot; is null, while on Visual Studio Code it runs ok. \r\n\r\nWhat is the problem and what should be done to fix the issue ? \r\nYour piece of advice would be appreciated. Looking forward to hearing from the community.\r\n\r\nimport java.util.*;\r\n\t\r\n\r\n\timport javax.script.ScriptEngine;\r\n\timport javax.script.ScriptEngineManager;\r\n\r\n\tpublic class uselessSequenceGenerator {\t\r\n\t    public static void main(String[] args) throws Exception {\r\n\t  \r\n\t        ArrayList&lt;Character&gt; operators = new ArrayList&lt;Character&gt;(Arrays.asList(&#39;*&#39;, &#39;/&#39;, &#39;+&#39;, &#39;-&#39;));\r\n\t        double number = secretNumGenerator(5, operators);\r\n\t        //double number = secretNumGenerator(3, operators);\r\n\t        //double number = secretNumGenerator(8, operators);\r\n\t        //double number = secretNumGenerator(1, operators);\r\n\t        //double number = secretNumGenerator(0, operators);\r\n\t        System.out.println(number);\r\n\t    }\r\n\r\n\r\n\t    public static double secretNumGenerator(int n, ArrayList&lt;Character&gt; operators)\r\n\t    {\r\n\t        ScriptEngineManager manager = new ScriptEngineManager();\r\n\t        ScriptEngine engine = manager.getEngineByName(&quot;js&quot;);\r\n\t        String ret = &quot;&quot;;\r\n\t        ret += gen(n, operators, ret, 0);\r\n\t        double result = 0;\r\n\t        try {\r\n\t            result = (double)engine.eval(ret);\r\n\r\n\t        } catch (Exception e) { \t        \r\n\t        \tSystem.out.println(e);\r\n\r\n\t        }\r\n\t        return result;\r\n\r\n\t    }\r\n\r\n\t    private static String gen(int n, ArrayList&lt;Character&gt; operators, String ret, int i)\r\n\t    {\r\n\t        ret += n ;\r\n\t        if(n &gt; 1)\r\n\t        {\r\n\t            ret += operators.get(i);\r\n\t            ret = gen(n - 1, operators, ret, i + 1) ;\r\n\t        }\r\n\t        return ret;\r\n\t    }\r\n\t}\r\n\r\n","title":"ScriptEngineManager() from javax library returns NULL (eclipse)","body":"<p>When my piece of code below runs on Eclipse on both on Mac and Win8 (both are with Open JDK-17.0.2) below I get the java.lang.NullPointerException: Cannot invoke &quot;javax.script.ScriptEngine.eval(String)&quot; because &quot;engine&quot; is null, while on Visual Studio Code it runs ok.</p>\n<p>What is the problem and what should be done to fix the issue ?\nYour piece of advice would be appreciated. Looking forward to hearing from the community.</p>\n<p>import java.util.*;</p>\n<pre><code>import javax.script.ScriptEngine;\nimport javax.script.ScriptEngineManager;\n\npublic class uselessSequenceGenerator { \n    public static void main(String[] args) throws Exception {\n  \n        ArrayList&lt;Character&gt; operators = new ArrayList&lt;Character&gt;(Arrays.asList('*', '/', '+', '-'));\n        double number = secretNumGenerator(5, operators);\n        //double number = secretNumGenerator(3, operators);\n        //double number = secretNumGenerator(8, operators);\n        //double number = secretNumGenerator(1, operators);\n        //double number = secretNumGenerator(0, operators);\n        System.out.println(number);\n    }\n\n\n    public static double secretNumGenerator(int n, ArrayList&lt;Character&gt; operators)\n    {\n        ScriptEngineManager manager = new ScriptEngineManager();\n        ScriptEngine engine = manager.getEngineByName(&quot;js&quot;);\n        String ret = &quot;&quot;;\n        ret += gen(n, operators, ret, 0);\n        double result = 0;\n        try {\n            result = (double)engine.eval(ret);\n\n        } catch (Exception e) {             \n            System.out.println(e);\n\n        }\n        return result;\n\n    }\n\n    private static String gen(int n, ArrayList&lt;Character&gt; operators, String ret, int i)\n    {\n        ret += n ;\n        if(n &gt; 1)\n        {\n            ret += operators.get(i);\n            ret = gen(n - 1, operators, ret, i + 1) ;\n        }\n        return ret;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","crud"],"comments":[{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":2,"creation_date":1666544863,"post_id":74173043,"comment_id":130957435,"body_markdown":"JPA input parameters can only be used in the `WHERE` or `HAVING` clause, it&#39;s not possible to pass a partial SQL expression. See [documentation](https://docs.oracle.com/cd/E11035_01/kodo41/full/html/ejb3_langref.html#ejb3_langref_input_params).","body":"JPA input parameters can only be used in the <code>WHERE</code> or <code>HAVING</code> clause, it&#39;s not possible to pass a partial SQL expression. See <a href=\"https://docs.oracle.com/cd/E11035_01/kodo41/full/html/ejb3_langref.html#ejb3_langref_input_params\" rel=\"nofollow noreferrer\">documentation</a>."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666550060,"creation_date":1666550060,"answer_id":74173770,"question_id":74173043,"body_markdown":"&gt; My original thought was that substituting parameters into &#39;value&#39; using @Param is just a 1 to 1 replacement so something else must be going on\r\n\r\nIt&#39;s not. You cannot substitute any SQL substring. [The JPA specification define where you can place parameters][1].\r\n\r\nIf you want to pass queries as parameter,  it&#39;s easier to use a custom repository and the entity manager:\r\n```\r\n@Repository\r\npublic interface PersonRepository {\r\n \r\n    List&lt;Person&gt; findAllInList(String query);\r\n}\r\n\t\r\npublic class PersonRepositoryImpl implements PersonRepository {\r\n     \r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n \r\n    @Override\r\n    public List&lt;Person&gt; findAllInList(String query) {\r\n        return entityManager\r\n            .createNativeQuery(query, Person.class)\r\n            .getResultList();\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/cd/E11035_01/kodo41/full/html/ejb3_langref.html#ejb3_langref_input_params","title":"Why does this native query work when hardcoded but not with @Param?","body":"<blockquote>\n<p>My original thought was that substituting parameters into 'value' using @Param is just a 1 to 1 replacement so something else must be going on</p>\n</blockquote>\n<p>It's not. You cannot substitute any SQL substring. <a href=\"https://docs.oracle.com/cd/E11035_01/kodo41/full/html/ejb3_langref.html#ejb3_langref_input_params\" rel=\"nofollow noreferrer\">The JPA specification define where you can place parameters</a>.</p>\n<p>If you want to pass queries as parameter,  it's easier to use a custom repository and the entity manager:</p>\n<pre><code>@Repository\npublic interface PersonRepository {\n \n    List&lt;Person&gt; findAllInList(String query);\n}\n    \npublic class PersonRepositoryImpl implements PersonRepository {\n     \n    @PersistenceContext\n    private EntityManager entityManager;\n \n    @Override\n    public List&lt;Person&gt; findAllInList(String query) {\n        return entityManager\n            .createNativeQuery(query, Person.class)\n            .getResultList();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19348270,"reputation":41,"user_id":14146290,"display_name":"Jamie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666550060,"creation_date":1666544008,"question_id":74173043,"body_markdown":"I&#39;m trying to run the following query\r\n```\r\nselect * from Person where name || &#39;|&#39; || age in (&#39;Fred|19&#39;,&#39;Sam|17&#39;,&#39;Chris|20&#39;)\r\n```\r\n\r\nCode using JPA\r\n```\r\npublic interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\r\n    @Query(value = &quot;:query&quot;, nativeQuery = true)\r\n    List&lt;Person&gt; findAllInList(@Param(&quot;query&quot;) String query);\r\n}\r\n```\r\n\r\nThe above gives\r\n```\r\nSQL Error: 900, SQLState: 42000\r\nORA-00900: invalid SQL statement\r\n```\r\n\r\nSo I did some experimenting and just hard coded the string in\r\n```\r\npublic interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\r\n    @Query(value = &quot;select * from Person where name || &#39;|&#39; || age in (&#39;Fred|19&#39;,&#39;Sam|17&#39;,&#39;Chris|20&#39;)&quot;, nativeQuery = true)\r\n    List&lt;Person&gt; findAllInList();\r\n}\r\n```\r\n\r\nThe above gives me the correct result. The query also works when running it using DBeaver and Oracle SQL developer. My original thought was that substituting parameters into &#39;value&#39; using @Param is just a 1 to 1 replacement so something else must be going on.\r\nWhat am I missing here to make it work as a parameter?","title":"Why does this native query work when hardcoded but not with @Param?","body":"<p>I'm trying to run the following query</p>\n<pre><code>select * from Person where name || '|' || age in ('Fred|19','Sam|17','Chris|20')\n</code></pre>\n<p>Code using JPA</p>\n<pre><code>public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\n    @Query(value = &quot;:query&quot;, nativeQuery = true)\n    List&lt;Person&gt; findAllInList(@Param(&quot;query&quot;) String query);\n}\n</code></pre>\n<p>The above gives</p>\n<pre><code>SQL Error: 900, SQLState: 42000\nORA-00900: invalid SQL statement\n</code></pre>\n<p>So I did some experimenting and just hard coded the string in</p>\n<pre><code>public interface PersonRepository extends JpaRepository&lt;Person, Long&gt; {\n    @Query(value = &quot;select * from Person where name || '|' || age in ('Fred|19','Sam|17','Chris|20')&quot;, nativeQuery = true)\n    List&lt;Person&gt; findAllInList();\n}\n</code></pre>\n<p>The above gives me the correct result. The query also works when running it using DBeaver and Oracle SQL developer. My original thought was that substituting parameters into 'value' using @Param is just a 1 to 1 replacement so something else must be going on.\nWhat am I missing here to make it work as a parameter?</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":1,"creation_date":1666546182,"post_id":74173297,"comment_id":130957769,"body_markdown":"Please post code and error messages as texts, not images. Please see: [ask]","body":"Please post code and error messages as texts, not images. Please see: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666546320,"post_id":74173297,"comment_id":130957810,"body_markdown":"Your POM is not well-formed. An XML document cannot have multiple root tags and the properties element must be a child element of the project","body":"Your POM is not well-formed. An XML document cannot have multiple root tags and the properties element must be a child element of the project"},{"owner":{"account_id":23241579,"reputation":77,"user_id":17330806,"display_name":"carloslopez"},"score":0,"creation_date":1666547416,"post_id":74173297,"comment_id":130958093,"body_markdown":"I am using the example of this link: https://github.com/srctips/maven-course-content/blob/master/minimal/pom.xml","body":"I am using the example of this link: <a href=\"https://github.com/srctips/maven-course-content/blob/master/minimal/pom.xml\" rel=\"nofollow noreferrer\">github.com/srctips/maven-course-content/blob/master/minimal/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19400533,"reputation":36,"user_id":14187193,"display_name":"Neutron17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666549820,"creation_date":1666549820,"answer_id":74173742,"question_id":74173297,"body_markdown":"All tags in maven should be between ```&lt;project&gt;``` and ```&lt;/project&gt;```\r\n\r\nInstead of:\r\n=======\r\n```mvn\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n        http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;training.maven.quick&lt;/groupId&gt;\r\n    &lt;artifactId&gt;minimal-example&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n&lt;/project&gt;\r\n&lt;properties&gt;\r\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n       &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n```\r\nDo:\r\n====\r\n```mvn\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n        http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;training.maven.quick&lt;/groupId&gt;\r\n    &lt;artifactId&gt;minimal-example&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n\r\n   &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n   &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\nthis is because if bar is inside foo it would be:\r\n```mvn\r\n&lt;foo&gt;\r\n   &lt;bar&gt;\r\n   &lt;/bar&gt;\r\n&lt;/foo&gt; &lt;!-- close of foo --&gt;\r\n```\r\nfor more info look up xml syntax\r\n\r\nHope this helps","title":"Problem with Maven and a HelloWorld.java project","body":"<p>All tags in maven should be between <code>&lt;project&gt;</code> and <code>&lt;/project&gt;</code></p>\n<h1>Instead of:</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n        http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;training.maven.quick&lt;/groupId&gt;\n    &lt;artifactId&gt;minimal-example&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/project&gt;\n&lt;properties&gt;\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n       &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<h1>Do:</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n        http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;training.maven.quick&lt;/groupId&gt;\n    &lt;artifactId&gt;minimal-example&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n\n   &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n   &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this is because if bar is inside foo it would be:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;foo&gt;\n   &lt;bar&gt;\n   &lt;/bar&gt;\n&lt;/foo&gt; &lt;!-- close of foo --&gt;\n</code></pre>\n<p>for more info look up xml syntax</p>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":23241579,"reputation":77,"user_id":17330806,"display_name":"carloslopez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1666591746,"accepted_answer_id":74173742,"answer_count":1,"score":-2,"last_activity_date":1666549820,"creation_date":1666546026,"question_id":74173297,"body_markdown":"I have this in my pom.xml:\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    \t\thttp://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;training.maven.quick&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;minimal-example&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/project&gt;\r\n    &lt;properties&gt;\r\n           &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n           &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\nI use Git Bash and when I use:\r\n\r\n    mvn package\r\n\r\nThe problem is the following:\r\n\r\n\r\n    $ mvn package\r\n    [INFO] Scanning for projects...\r\n    [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n    [FATAL] Non-parseable POM C:\\Users\\clmonreal\\MavensProject\\minimal\\pom.xml: sta tag not allowed in epilog but got p (position: END_TAG seen ...&lt;/version&gt;\\n&lt;/pject&gt;\\n&lt;p... @10:3)  @ line 10, column 3\r\n     @\r\n    [ERROR] The build could not read 1 project -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR]   The project  (C:\\Users\\clmonreal\\MavensProject\\minimal\\pom.xml) has 1rror\r\n    [ERROR]     Non-parseable POM C:\\Users\\clmonreal\\MavensProject\\minimal\\pom.xml:tart tag not allowed in epilog but got p (position: END_TAG seen ...&lt;/version&gt;\\/project&gt;\\n&lt;p... @10:3)  @ line 10, column 3 -&gt; [Help 2]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e swih.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please re the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildiException\r\n    [ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/ModelParseExction","title":"Problem with Maven and a HelloWorld.java project","body":"<p>I have this in my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n        http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;training.maven.quick&lt;/groupId&gt;\n    &lt;artifactId&gt;minimal-example&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/project&gt;\n&lt;properties&gt;\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n       &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>I use Git Bash and when I use:</p>\n<pre><code>mvn package\n</code></pre>\n<p>The problem is the following:</p>\n<pre><code>$ mvn package\n[INFO] Scanning for projects...\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[FATAL] Non-parseable POM C:\\Users\\clmonreal\\MavensProject\\minimal\\pom.xml: sta tag not allowed in epilog but got p (position: END_TAG seen ...&lt;/version&gt;\\n&lt;/pject&gt;\\n&lt;p... @10:3)  @ line 10, column 3\n @\n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]\n[ERROR]   The project  (C:\\Users\\clmonreal\\MavensProject\\minimal\\pom.xml) has 1rror\n[ERROR]     Non-parseable POM C:\\Users\\clmonreal\\MavensProject\\minimal\\pom.xml:tart tag not allowed in epilog but got p (position: END_TAG seen ...&lt;/version&gt;\\/project&gt;\\n&lt;p... @10:3)  @ line 10, column 3 -&gt; [Help 2]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e swih.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please re the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildiException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/ModelParseExction\n</code></pre>\n"},{"tags":["java","spring","http","spring-mvc","parameters"],"comments":[{"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"score":0,"creation_date":1653842312,"post_id":72425439,"comment_id":127944804,"body_markdown":"So you&#39;re using it like this? `void request(BoundedPojo boundedPojo)`","body":"So you&#39;re using it like this? <code>void request(BoundedPojo boundedPojo)</code>"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1653842351,"post_id":72425439,"comment_id":127944810,"body_markdown":"Yes, I pass Pojo to controller method argument @IdanElhalwani","body":"Yes, I pass Pojo to controller method argument @IdanElhalwani"},{"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"score":0,"creation_date":1653843686,"post_id":72425439,"comment_id":127945174,"body_markdown":"From what I remember it uses the name of the setter to determine this. Is switching to RequestBody an option for you? Alternatively look here: [How to customize parameter names when binding Spring MVC command objects?](https://stackoverflow.com/questions/8986593/how-to-customize-parameter-names-when-binding-spring-mvc-command-objects)","body":"From what I remember it uses the name of the setter to determine this. Is switching to RequestBody an option for you? Alternatively look here: <a href=\"https://stackoverflow.com/questions/8986593/how-to-customize-parameter-names-when-binding-spring-mvc-command-objects\">How to customize parameter names when binding Spring MVC command objects?</a>"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1653844333,"post_id":72425439,"comment_id":127945342,"body_markdown":"No I need request param, not json body.\nI tried that examples from link, all of them are not valid, not working... There is mistakes with beans configuration, etc.","body":"No I need request param, not json body. I tried that examples from link, all of them are not valid, not working... There is mistakes with beans configuration, etc."},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1653845824,"post_id":72425439,"comment_id":127945660,"body_markdown":"@IdanElhalwani any idea?","body":"@IdanElhalwani any idea?"}],"answers":[{"tags":[],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653864202,"creation_date":1653864202,"answer_id":72427768,"question_id":72425439,"body_markdown":"I solved the problem adding property:\r\n\r\n`spring.main.allow-circular-references=true`\r\n\r\nBUT I am not sure that it&#39;s a correct solution.","title":"How to set param name for the binded POJO in Spring MVC?","body":"<p>I solved the problem adding property:</p>\n<p><code>spring.main.allow-circular-references=true</code></p>\n<p>BUT I am not sure that it's a correct solution.</p>\n"},{"tags":[],"owner":{"account_id":4840380,"reputation":405,"user_id":3905564,"display_name":"kekhuai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666549370,"creation_date":1666549370,"answer_id":74173676,"question_id":72425439,"body_markdown":"I use this as a workaround.\r\n\r\n```\r\nimport java.beans.ConstructorProperties;\r\n\r\npublic class RequestParamsDto {\r\n\r\n    private List&lt;Product&gt; productIds;\r\n\r\n    @ConstructorProperties(&quot;product-ids&quot;)\r\n    public RequestParamsDto(List&lt;Product&gt; productIds) {\r\n        this.productIds = productIds;\r\n    }\r\n\r\n    public List&lt;Product&gt; getProductIds() {\r\n        return this.productIds;\r\n    }\r\n\r\n    public void setProductIds(List&lt;Product&gt; productIds) {\r\n        this.productIds = productIds;\r\n    }\r\n}\r\n```","title":"How to set param name for the binded POJO in Spring MVC?","body":"<p>I use this as a workaround.</p>\n<pre><code>import java.beans.ConstructorProperties;\n\npublic class RequestParamsDto {\n\n    private List&lt;Product&gt; productIds;\n\n    @ConstructorProperties(&quot;product-ids&quot;)\n    public RequestParamsDto(List&lt;Product&gt; productIds) {\n        this.productIds = productIds;\n    }\n\n    public List&lt;Product&gt; getProductIds() {\n        return this.productIds;\n    }\n\n    public void setProductIds(List&lt;Product&gt; productIds) {\n        this.productIds = productIds;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1666549370,"creation_date":1653841916,"question_id":72425439,"body_markdown":"I have POJO class that represents list of request params.\r\n\r\nCurrently it uses field names, but I need to set them to kebab-case naming.\r\nFor example: `List&lt;Product&gt; productIds = new ArrayList&lt;&gt;()` should accept request param `product-ids` instead of `productIds`.\r\n\r\nUsing directly `@RequestParam` I can do `@RequestParam(name=&quot;product-ids&quot;)`, but I need it using binded POJO.\r\n\r\n`@JsonProperty` or `@JsonNaming(KebabCaseStrategy.class)` don&#39;t work on that fields, I think because it&#39;s not a serialiazable object, but just a request param container.\r\n\r\nExamples in https://stackoverflow.com/questions/8986593/how-to-customize-parameter-names-when-binding-spring-mvc-command-objects\r\ndont work for me. \r\n\r\nException:\r\n\r\n```\r\n|  paramNameProcessor (field private org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter com.example.jpastudy.config.ParamNameProcessor.requestMappingHandlerAdapter)\r\n↑     ↓\r\n|  requestMappingHandlerAdapter defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\r\n└─────┘\r\n```\r\n\r\nHow could I resolve that? ","title":"How to set param name for the binded POJO in Spring MVC?","body":"<p>I have POJO class that represents list of request params.</p>\n<p>Currently it uses field names, but I need to set them to kebab-case naming.\nFor example: <code>List&lt;Product&gt; productIds = new ArrayList&lt;&gt;()</code> should accept request param <code>product-ids</code> instead of <code>productIds</code>.</p>\n<p>Using directly <code>@RequestParam</code> I can do <code>@RequestParam(name=&quot;product-ids&quot;)</code>, but I need it using binded POJO.</p>\n<p><code>@JsonProperty</code> or <code>@JsonNaming(KebabCaseStrategy.class)</code> don't work on that fields, I think because it's not a serialiazable object, but just a request param container.</p>\n<p>Examples in <a href=\"https://stackoverflow.com/questions/8986593/how-to-customize-parameter-names-when-binding-spring-mvc-command-objects\">How to customize parameter names when binding Spring MVC command objects?</a>\ndont work for me.</p>\n<p>Exception:</p>\n<pre><code>|  paramNameProcessor (field private org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter com.example.jpastudy.config.ParamNameProcessor.requestMappingHandlerAdapter)\n↑     ↓\n|  requestMappingHandlerAdapter defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\n└─────┘\n</code></pre>\n<p>How could I resolve that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":5,"creation_date":1666546455,"post_id":74173320,"comment_id":130957842,"body_markdown":"main must be public and static: `public static void main()`","body":"main must be public and static: <code>public static void main()</code>"},{"owner":{"account_id":26710645,"reputation":1,"user_id":20316080,"display_name":"Sagarika"},"score":0,"creation_date":1666546712,"post_id":74173320,"comment_id":130957911,"body_markdown":"Thank you ...Can you tell me what changes should be done in this code so that a word which has Z in its spelling gets changed to A","body":"Thank you ...Can you tell me what changes should be done in this code so that a word which has Z in its spelling gets changed to A"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666546820,"post_id":74173320,"comment_id":130957943,"body_markdown":"[`String.replace`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(char,%20char))","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replace(char,%20char)\" rel=\"nofollow noreferrer\"><code>String.replace</code></a>"},{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":0,"creation_date":1666546897,"post_id":74173320,"comment_id":130957963,"body_markdown":"if(ch==&#39;Z&#39;) result+=&#39;A&#39;;","body":"if(ch==&#39;Z&#39;) result+=&#39;A&#39;;"},{"owner":{"account_id":26710645,"reputation":1,"user_id":20316080,"display_name":"Sagarika"},"score":0,"creation_date":1666546918,"post_id":74173320,"comment_id":130957971,"body_markdown":"You got it wrong...(example: input:- cat \n Output:- dbu \n here ‘c’ got changed to ‘d’, ‘a’ got changed to ‘b’ and ‘t’ got changed to ‘u’. \nNote that if the letter is the last alphabet then it has to be changed \nto the first alphabet i.e., ‘z’ is to be converted as ‘a’)","body":"You got it wrong...(example: input:- cat   Output:- dbu   here ‘c’ got changed to ‘d’, ‘a’ got changed to ‘b’ and ‘t’ got changed to ‘u’.  Note that if the letter is the last alphabet then it has to be changed  to the first alphabet i.e., ‘z’ is to be converted as ‘a’)"},{"owner":{"account_id":26710645,"reputation":1,"user_id":20316080,"display_name":"Sagarika"},"score":0,"creation_date":1666546980,"post_id":74173320,"comment_id":130957983,"body_markdown":"You got it wrong...(example: input:- cat Output:- dbu here ‘c’ got changed to ‘d’, ‘a’ got changed to ‘b’ and ‘t’ got changed to ‘u’. Note that if the letter is the last alphabet then it has to be changed to the first alphabet i.e., ‘z’ is to be converted as ‘a’)","body":"You got it wrong...(example: input:- cat Output:- dbu here ‘c’ got changed to ‘d’, ‘a’ got changed to ‘b’ and ‘t’ got changed to ‘u’. Note that if the letter is the last alphabet then it has to be changed to the first alphabet i.e., ‘z’ is to be converted as ‘a’)"},{"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"score":1,"creation_date":1666547037,"post_id":74173320,"comment_id":130958002,"body_markdown":"for higher offsets of Caesar cipher use `charToAdd= (ch-&#39;A&#39; + offset)%26 + &#39;A&#39;`","body":"for higher offsets of Caesar cipher use <code>charToAdd= (ch-&#39;A&#39; + offset)%26 + &#39;A&#39;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5771563,"reputation":77,"user_id":4554872,"display_name":"Wolf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666548104,"creation_date":1666548104,"answer_id":74173522,"question_id":74173320,"body_markdown":"main function should be `public static void main(String[] args)`\r\n\r\nAbout your question in the comments, to rotate Z to A and z to a:\r\n\r\n    if (word.charAt(i) &lt;= &#39;Z&#39;) {\r\n        res += (char) (word.chartAt(i) + 1 - &#39;A&#39;) % 26 + &#39;A&#39;);\r\n    } else {\r\n        res += (char) (word.charAt(i) + 1 - &#39;a&#39;) % 26 + &#39;a&#39;);\r\n    }\r\n\r\nYou can also use ascii values, i.e &#39;A&#39; = 65, &#39;a&#39; = 97.","title":"Class design program compiling but does not run completely","body":"<p>main function should be <code>public static void main(String[] args)</code></p>\n<p>About your question in the comments, to rotate Z to A and z to a:</p>\n<pre><code>if (word.charAt(i) &lt;= 'Z') {\n    res += (char) (word.chartAt(i) + 1 - 'A') % 26 + 'A');\n} else {\n    res += (char) (word.charAt(i) + 1 - 'a') % 26 + 'a');\n}\n</code></pre>\n<p>You can also use ascii values, i.e 'A' = 65, 'a' = 97.</p>\n"}],"owner":{"account_id":26710645,"reputation":1,"user_id":20316080,"display_name":"Sagarika"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666548104,"creation_date":1666546275,"question_id":74173320,"body_markdown":"   Firstly this program, has void main() but even after writing it, when I am running it there is no option to run it through main..Secondly even if I select the other option available there, i.e., new Convert(String w), it is not running properly.I entered CAT and it is showing an error message that says cannot find symbol- variable cat...But the thing is that the program has compiled with no syntax errors in BlueJ..This is a program to input a word and then change each of its characters to its next character ...so cat as an input should give dbu as the output... Please help me to understand where have I gone wrong..Here is the code for your reference....\r\n\r\n```\r\n  import java.util.Scanner;\r\n  \r\n  public class Convert\r\n   {  \r\n\r\n    String word;\r\n    String result=&quot;&quot;;\r\n \r\n   Convert(String w)\r\n    \r\n    {  \r\n\r\n       word=w;\r\n      }\r\n    void Word()\r\n    {\r\n        \r\n        char ch;\r\n        int l=word.length();\r\n        for(int i=0; i&lt;l;i++)\r\n        {\r\n            ch=word.charAt(i);\r\n            result+=(char)(((int)ch)+1);\r\n        }\r\n        \r\n    }\r\n    void display()\r\n    { \r\n        System.out.println(&quot;The original word:&quot;+ word);\r\n        System.out.println(&quot;The newly coded word:&quot;+ result);\r\n\r\n     } \r\n    \r\n     void main()\r\n\r\n     {  \r\n\r\n       Scanner sc=new Scanner(System.in);\r\n       System.out.println(&quot;Enter a word&quot;);\r\n       String s=sc.next();\r\n       Convert ob=new Convert(s);\r\n       ob.Word();\r\n       ob.display();\r\n\r\n     }\r\n    }\r\n```","title":"Class design program compiling but does not run completely","body":"<p>Firstly this program, has void main() but even after writing it, when I am running it there is no option to run it through main..Secondly even if I select the other option available there, i.e., new Convert(String w), it is not running properly.I entered CAT and it is showing an error message that says cannot find symbol- variable cat...But the thing is that the program has compiled with no syntax errors in BlueJ..This is a program to input a word and then change each of its characters to its next character ...so cat as an input should give dbu as the output... Please help me to understand where have I gone wrong..Here is the code for your reference....</p>\n<pre><code>  import java.util.Scanner;\n  \n  public class Convert\n   {  \n\n    String word;\n    String result=&quot;&quot;;\n \n   Convert(String w)\n    \n    {  \n\n       word=w;\n      }\n    void Word()\n    {\n        \n        char ch;\n        int l=word.length();\n        for(int i=0; i&lt;l;i++)\n        {\n            ch=word.charAt(i);\n            result+=(char)(((int)ch)+1);\n        }\n        \n    }\n    void display()\n    { \n        System.out.println(&quot;The original word:&quot;+ word);\n        System.out.println(&quot;The newly coded word:&quot;+ result);\n\n     } \n    \n     void main()\n\n     {  \n\n       Scanner sc=new Scanner(System.in);\n       System.out.println(&quot;Enter a word&quot;);\n       String s=sc.next();\n       Convert ob=new Convert(s);\n       ob.Word();\n       ob.display();\n\n     }\n    }\n</code></pre>\n"},{"tags":["java","jakarta-ee","gwt","browser-cache","smartgwt"],"answers":[{"tags":[],"owner":{"account_id":40213,"reputation":64391,"user_id":116472,"display_name":"Thomas Broyer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1392290664,"creation_date":1392290664,"answer_id":21752818,"question_id":21750203,"body_markdown":"You don&#39;t &quot;clear the browser cache&quot; from a web page (and fortunately for all of us browsing the web, you can&#39;t), but you can configure your server to send appropriate caching directives for the browser to follow.  \r\n…or you could move your resources so that existing cache directives known to your browser no longer apply (new URL, so it&#39;s not yet in the browser cache).\r\n\r\nSee http://www.gwtproject.org/doc/latest/DevGuideCompilingAndDebugging.html#perfect_caching","title":"How can my web app clear the browser cache when it loads?","body":"<p>You don't \"clear the browser cache\" from a web page (and fortunately for all of us browsing the web, you can't), but you can configure your server to send appropriate caching directives for the browser to follow.<br>\n…or you could move your resources so that existing cache directives known to your browser no longer apply (new URL, so it's not yet in the browser cache).</p>\n\n<p>See <a href=\"http://www.gwtproject.org/doc/latest/DevGuideCompilingAndDebugging.html#perfect_caching\" rel=\"nofollow\">http://www.gwtproject.org/doc/latest/DevGuideCompilingAndDebugging.html#perfect_caching</a></p>\n"}],"owner":{"account_id":3834186,"reputation":51,"user_id":3178952,"accept_rate":50,"display_name":"lomed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21752818,"answer_count":1,"score":1,"last_activity_date":1666547737,"creation_date":1392284109,"question_id":21750203,"body_markdown":"In my gwt application there is some problem due to browser cache.\r\n\r\nHow to clear the browser cache when loading the first page ?","title":"How can my web app clear the browser cache when it loads?","body":"<p>In my gwt application there is some problem due to browser cache.</p>\n\n<p>How to clear the browser cache when loading the first page ?</p>\n"},{"tags":["java","android","themes"],"owner":{"account_id":18503295,"reputation":53,"user_id":13480123,"display_name":"User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666547574,"creation_date":1666508592,"question_id":74169248,"body_markdown":"I am trying to change app theme based on user selection, When user selects option from the list my app closes but in console no error or exception is shown. I want to change app theme like dark, light and system\r\n\r\nSettingsFragmentNew.java\r\n```\r\nimport androidx.appcompat.app.AppCompatDelegate;\r\nimport androidx.preference.ListPreference;\r\nimport androidx.preference.PreferenceFragmentCompat;\r\n\r\npublic class SettingsFragmentNew extends PreferenceFragmentCompat  {\r\n\r\n    @Override\r\n    public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n        setPreferencesFromResource(R.xml.root_preferences, rootKey);\r\n\r\n        ListPreference themePreference = findPreference(&quot;theme&quot;);\r\n        themePreference.setOnPreferenceChangeListener((preference, newValue) -&gt; {\r\n            if (newValue.equals(&quot;system&quot;)) {\r\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n            } else if (newValue.equals(&quot;light&quot;)) {\r\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\r\n            } else if (newValue.equals(&quot;dark&quot;)) {\r\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n            }\r\n            return true;\r\n        });\r\n    }    \r\n}\r\n```\r\nXML file\r\n\r\n    &lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;PreferenceCategory app:title=&quot;General&quot;&gt;\r\n\r\n        &lt;ListPreference\r\n            app:defaultValue=&quot;system&quot;\r\n            app:entries=&quot;@array/theme_entries&quot;\r\n            app:entryValues=&quot;@array/theme_values&quot;\r\n            app:key=&quot;theme&quot;\r\n            app:title=&quot;Theme&quot;\r\n            app:useSimpleSummaryProvider=&quot;true&quot;/&gt;\r\n\r\n    &lt;/PreferenceCategory&gt;\r\n\r\n    &lt;PreferenceCategory app:title=&quot;Account&quot;&gt;\r\n\r\n        &lt;Preference\r\n            app:key=&quot;sign_out&quot;\r\n            app:title=&quot;Sign Out&quot; /&gt;\r\n\r\n        &lt;Preference\r\n            app:key=&quot;delete_account&quot;\r\n            app:title=&quot;Delete Account&quot; /&gt;\r\n\r\n    &lt;/PreferenceCategory&gt;\r\n\r\n&lt;/PreferenceScreen&gt;","title":"App is closing when I change theme in Android","body":"<p>I am trying to change app theme based on user selection, When user selects option from the list my app closes but in console no error or exception is shown. I want to change app theme like dark, light and system</p>\n<p>SettingsFragmentNew.java</p>\n<pre><code>import androidx.appcompat.app.AppCompatDelegate;\nimport androidx.preference.ListPreference;\nimport androidx.preference.PreferenceFragmentCompat;\n\npublic class SettingsFragmentNew extends PreferenceFragmentCompat  {\n\n    @Override\n    public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n        setPreferencesFromResource(R.xml.root_preferences, rootKey);\n\n        ListPreference themePreference = findPreference(&quot;theme&quot;);\n        themePreference.setOnPreferenceChangeListener((preference, newValue) -&gt; {\n            if (newValue.equals(&quot;system&quot;)) {\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\n            } else if (newValue.equals(&quot;light&quot;)) {\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_FOLLOW_SYSTEM);\n            } else if (newValue.equals(&quot;dark&quot;)) {\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n            }\n            return true;\n        });\n    }    \n}\n</code></pre>\n<p>XML file</p>\n<pre><code>&lt;PreferenceScreen xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n&lt;PreferenceCategory app:title=&quot;General&quot;&gt;\n\n    &lt;ListPreference\n        app:defaultValue=&quot;system&quot;\n        app:entries=&quot;@array/theme_entries&quot;\n        app:entryValues=&quot;@array/theme_values&quot;\n        app:key=&quot;theme&quot;\n        app:title=&quot;Theme&quot;\n        app:useSimpleSummaryProvider=&quot;true&quot;/&gt;\n\n&lt;/PreferenceCategory&gt;\n\n&lt;PreferenceCategory app:title=&quot;Account&quot;&gt;\n\n    &lt;Preference\n        app:key=&quot;sign_out&quot;\n        app:title=&quot;Sign Out&quot; /&gt;\n\n    &lt;Preference\n        app:key=&quot;delete_account&quot;\n        app:title=&quot;Delete Account&quot; /&gt;\n\n&lt;/PreferenceCategory&gt;\n</code></pre>\n\n"},{"tags":["java","class","oop","inheritance"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":3,"creation_date":1666542858,"post_id":74172863,"comment_id":130956931,"body_markdown":"Please do not paste images of code. Instead [edit](https://stackoverflow.com/posts/74172863/edit) your question with the actual code.","body":"Please do not paste images of code. Instead <a href=\"https://stackoverflow.com/posts/74172863/edit\">edit</a> your question with the actual code."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1666542980,"post_id":74172863,"comment_id":130956955,"body_markdown":"You&#39;re missing a call to the parent constructor from your child class. You may also want to take a look at the following Java Trail: [Inheritance (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html) for a general introduction to Inheritance in Java.","body":"You&#39;re missing a call to the parent constructor from your child class. You may also want to take a look at the following Java Trail: <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a> for a general introduction to Inheritance in Java."},{"owner":{"account_id":13705645,"reputation":63,"user_id":9889353,"display_name":"YellowStar22"},"score":0,"creation_date":1666548927,"post_id":74172863,"comment_id":130958429,"body_markdown":"You have created two attributes with the same name in child and parent class. \nIn the child class (Diamond Card), your constructor set child attribute not the parent attribute. \nYou need to use  keyword &quot;super&quot;","body":"You have created two attributes with the same name in child and parent class.  In the child class (Diamond Card), your constructor set child attribute not the parent attribute.  You need to use  keyword &quot;super&quot;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666606560,"post_id":74172863,"comment_id":130968985,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10149091,"reputation":372,"user_id":7496320,"accept_rate":0,"display_name":"Aks 1316"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666547276,"creation_date":1666547276,"answer_id":74173437,"question_id":74172863,"body_markdown":"you need to cast your object to DaimondCard. Then you will be able to access all properties of DaimondCard. You can see in below program that if we are using **((DiamondCard)card).name)** then we will be able to access properties. When you use directly call **card.name** then it will refer to Card Class. \r\nDaimond card have Age properties which is not part of Card class so if we are using card.age it will give us error.\r\nAnd to understand this behaviour refer link provided by @Janez Kuhar\r\nhttps://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\r\n\r\n\r\n    import java.util.ArrayList;\r\n\r\n    class Card {\r\n\t    String name;\r\n\t    char value;\r\n\r\n\t    Card(){}\r\n\r\n\t    @Override\r\n\t    public String toString()\r\n\t    {\r\n\t\t    return &quot;Card{&quot; + &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; + &quot;, value=&quot; + value +&#39;}&#39;;\r\n\t    }\r\n    }\r\n\r\n    class DiamondCard extends Card {\r\n\t    String name = &quot;Diamond&quot;;\r\n\t    char value;\r\n\t    String age;\r\n\r\n\t    DiamondCard(){\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String toString()\r\n\t    {\r\n\t\t    return &quot;DiamondCard{&quot; + &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; + &quot;, value=&quot; + value + &#39;}&#39;;\r\n\t    }\r\n    }\r\n    public class InheritanceDemo\r\n    {\r\n\t    public static void main(String[] args)\r\n\t    {\r\n\t\t    DiamondCard diamondCard1 = new DiamondCard();\r\n\t\t    diamondCard1.name=&quot;card1&quot;;\r\n\t\t    diamondCard1.value=&#39;A&#39;;\r\n\t\t    diamondCard1.age = &quot;age&quot;;\r\n\r\n\t\t    ArrayList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\r\n\t\t    cards.add(diamondCard1);\r\n\r\n\t\t    cards.forEach(card -&gt; System.out.println(card.name));\r\n\t\t    cards.forEach(card -&gt; System.out.println(((DiamondCard)card).name));\r\n\r\n\t\t    cards.forEach(card -&gt; System.out.println(card.age));\r\n\t\t    cards.forEach(card -&gt; System.out.println(((DiamondCard)card).age));\r\n\t    }\r\n    }\r\n","title":"Problem with Classes inheritance in ArrayList - Java","body":"<p>you need to cast your object to DaimondCard. Then you will be able to access all properties of DaimondCard. You can see in below program that if we are using <strong>((DiamondCard)card).name)</strong> then we will be able to access properties. When you use directly call <strong>card.name</strong> then it will refer to Card Class.\nDaimond card have Age properties which is not part of Card class so if we are using card.age it will give us error.\nAnd to understand this behaviour refer link provided by @Janez Kuhar\n<a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html</a></p>\n<pre><code>import java.util.ArrayList;\n\nclass Card {\n    String name;\n    char value;\n\n    Card(){}\n\n    @Override\n    public String toString()\n    {\n        return &quot;Card{&quot; + &quot;name='&quot; + name + '\\'' + &quot;, value=&quot; + value +'}';\n    }\n}\n\nclass DiamondCard extends Card {\n    String name = &quot;Diamond&quot;;\n    char value;\n    String age;\n\n    DiamondCard(){\n    }\n\n    @Override\n    public String toString()\n    {\n        return &quot;DiamondCard{&quot; + &quot;name='&quot; + name + '\\'' + &quot;, value=&quot; + value + '}';\n    }\n}\npublic class InheritanceDemo\n{\n    public static void main(String[] args)\n    {\n        DiamondCard diamondCard1 = new DiamondCard();\n        diamondCard1.name=&quot;card1&quot;;\n        diamondCard1.value='A';\n        diamondCard1.age = &quot;age&quot;;\n\n        ArrayList&lt;Card&gt; cards = new ArrayList&lt;&gt;();\n        cards.add(diamondCard1);\n\n        cards.forEach(card -&gt; System.out.println(card.name));\n        cards.forEach(card -&gt; System.out.println(((DiamondCard)card).name));\n\n        cards.forEach(card -&gt; System.out.println(card.age));\n        cards.forEach(card -&gt; System.out.println(((DiamondCard)card).age));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26704401,"reputation":23,"user_id":20310872,"display_name":"rgaliev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1666547276,"creation_date":1666542561,"question_id":74172863,"body_markdown":"I have Card Class, that has several properties:\r\n\r\n - name\r\n - value\r\n - isPicked\r\n\r\n[Card Class][1]\r\n\r\nThere are also classes that inherit from it, one of them:\r\n[Card Class inheritance Class][2]\r\n\r\nNext, I created an array, specified the Card Class in generic, and inside I have classes there that are inherited from Card.\r\n[enter image description here][3]\r\n\r\nBut when I try to access the properties of these classes, I get null, since it all refers to Card, and not to the classes that inherit from it. :(\r\n\r\nHow can i fix it?\r\n\r\n  [1]: https://i.stack.imgur.com/A6fQ0.png\r\n  [2]: https://i.stack.imgur.com/5cl0r.png\r\n  [3]: https://i.stack.imgur.com/fWaMU.png","title":"Problem with Classes inheritance in ArrayList - Java","body":"<p>I have Card Class, that has several properties:</p>\n<ul>\n<li>name</li>\n<li>value</li>\n<li>isPicked</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/A6fQ0.png\" rel=\"nofollow noreferrer\">Card Class</a></p>\n<p>There are also classes that inherit from it, one of them:\n<a href=\"https://i.stack.imgur.com/5cl0r.png\" rel=\"nofollow noreferrer\">Card Class inheritance Class</a></p>\n<p>Next, I created an array, specified the Card Class in generic, and inside I have classes there that are inherited from Card.\n<a href=\"https://i.stack.imgur.com/fWaMU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But when I try to access the properties of these classes, I get null, since it all refers to Card, and not to the classes that inherit from it. :(</p>\n<p>How can i fix it?</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":12447251,"reputation":662,"user_id":9063088,"display_name":"Jet.B.Pope"},"score":0,"creation_date":1666566073,"post_id":74173427,"comment_id":130961642,"body_markdown":"Can you provide the logs that you get when you run your app with a stacktrace as suggested? Also, can you provide more context as to what changes you made to your project recently: packages added, code added/removed, etc.","body":"Can you provide the logs that you get when you run your app with a stacktrace as suggested? Also, can you provide more context as to what changes you made to your project recently: packages added, code added/removed, etc."},{"owner":{"account_id":17685928,"reputation":3593,"user_id":12838877,"display_name":"pmatatias"},"score":0,"creation_date":1666594280,"post_id":74173427,"comment_id":130965292,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26710793,"reputation":1,"user_id":20316204,"display_name":"NgenSal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666547228,"creation_date":1666547228,"question_id":74173427,"body_markdown":"* What went wrong:\r\n&lt;p&gt;Execution failed for task &#39;:google_api_headers:parseReleaseLocalResources&#39;.&lt;p&gt;\r\n&gt; Could not resolve all files for configuration &#39;:google_api_headers:androidApis&#39;.&lt;p&gt;\r\n   &gt; Failed to transform android.jar to match attributes {artifactType=android-platform-attr, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.&lt;p&gt;\r\n      &gt; Execution failed for PlatformAttrTransform: C:\\Users\\Administrator\\AppData\\Local\\Android\\Sdk\\platforms\\android-32\\android.jar.&lt;p&gt;\r\n         &gt; invalid END header (bad central directory offset)\r\n\r\n* Try:\r\n&lt;p&gt; &gt; Run with --stacktrace option to get the stack trace.&lt;p&gt;\r\n&gt; Run with --info or --debug option to get more log output.&lt;p&gt;\r\n&gt; Run with --scan to get full insights.&lt;p&gt;","title":"Flutter - FAILURE: Build failed with an exception error","body":"<ul>\n<li>What went wrong:</li>\n</ul>\n<p>Execution failed for task ':google_api_headers:parseReleaseLocalResources'.<p>\n> Could not resolve all files for configuration ':google_api_headers:androidApis'.<p>\n   > Failed to transform android.jar to match attributes {artifactType=android-platform-attr, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.<p>\n      > Execution failed for PlatformAttrTransform: C:\\Users\\Administrator\\AppData\\Local\\Android\\Sdk\\platforms\\android-32\\android.jar.<p>\n         > invalid END header (bad central directory offset)\n<ul>\n<li>Try:</li>\n</ul>\n<p> > Run with --stacktrace option to get the stack trace.<p>\n> Run with --info or --debug option to get more log output.<p>\n> Run with --scan to get full insights.<p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":10493705,"reputation":1115,"user_id":11554968,"display_name":"Alex P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666546793,"creation_date":1666546384,"answer_id":74173332,"question_id":74173288,"body_markdown":"The problem lies in `nowatablica[i][j] = i+j;`. You are not calculating the value right. If you look at the array, you notice that the value 1 exists only in row 0 and column 0, the value 2 exists only in cells [1, x] and [x, 1], with x&gt;=1 etc.\r\n\r\nThe correct expression is thus `nowatablica[i][j] = Math.min(i, j)+1;`","title":"Square array making the same columns and rows","body":"<p>The problem lies in <code>nowatablica[i][j] = i+j;</code>. You are not calculating the value right. If you look at the array, you notice that the value 1 exists only in row 0 and column 0, the value 2 exists only in cells [1, x] and [x, 1], with x&gt;=1 etc.</p>\n<p>The correct expression is thus <code>nowatablica[i][j] = Math.min(i, j)+1;</code></p>\n"}],"owner":{"account_id":25505914,"reputation":51,"user_id":19298376,"display_name":"DanielMateusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666546793,"creation_date":1666545961,"question_id":74173288,"body_markdown":"I have to make a square array that shows me at the output: \r\n1.\r\n\r\n    1 1 1 1 1\r\n    1 2 2 2 2\r\n    1 2 3 3 3\r\n    1 2 3 4 4\r\n    1 2 3 4 5\r\nI was thinking about this solution, but the output is wrong:\r\n\r\n    public class Main\r\n    {\r\n        public static void main(String[] args) {\r\n            int[][] nowatablica = new int[7][7];\r\n            System.out.println();\r\n            for (int i = 0; i &lt; nowatablica.length;i++ ) {\r\n                for (int j = 0; j &lt; nowatablica.length; j++) {\r\n                    nowatablica[i][j] = i+j;                                 \r\n                    System.out.print(nowatablica [i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nCan you tell me where I can find the probelem?\r\nThanks.\r\n\r\n ","title":"Square array making the same columns and rows","body":"<p>I have to make a square array that shows me at the output:\n1.</p>\n<pre><code>1 1 1 1 1\n1 2 2 2 2\n1 2 3 3 3\n1 2 3 4 4\n1 2 3 4 5\n</code></pre>\n<p>I was thinking about this solution, but the output is wrong:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        int[][] nowatablica = new int[7][7];\n        System.out.println();\n        for (int i = 0; i &lt; nowatablica.length;i++ ) {\n            for (int j = 0; j &lt; nowatablica.length; j++) {\n                nowatablica[i][j] = i+j;                                 \n                System.out.print(nowatablica [i][j] + &quot; &quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Can you tell me where I can find the probelem?\nThanks.</p>\n"},{"tags":["java","spring","spring-async"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1666530223,"post_id":74171193,"comment_id":130954202,"body_markdown":"[The docs say](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.html) &quot;The default configuration is a core pool size of 1, with unlimited max pool size and unlimited queue capacity. This is roughly equivalent to `Executors.newSingleThreadExecutor()`, sharing a single thread for all tasks.&quot;","body":"<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.html\" rel=\"nofollow noreferrer\">The docs say</a> &quot;The default configuration is a core pool size of 1, with unlimited max pool size and unlimited queue capacity. This is roughly equivalent to <code>Executors.newSingleThreadExecutor()</code>, sharing a single thread for all tasks.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1666546495,"creation_date":1666530237,"answer_id":74171357,"question_id":74171193,"body_markdown":"You can see the java doc of ***ThreadPoolTaskExecutor***:\r\n\r\n**From Spring Framework Documentation.**\r\n&gt; The **default configuration** is a core pool size of 1, with unlimited max\r\n&gt; pool size and unlimited queue capacity. \r\n&gt; This is roughly equivalent to **Executors.newSingleThreadExecutor()**, \r\n&gt; sharing a single thread for all tasks. \r\n\r\n&gt; Setting **&quot;*queueCapacity*&quot;** to 0 mimics **Executors.newCachedThreadPool()**, with &gt; immediate scaling of threads in the pool to a potentially very high number. \r\n&gt; Consider also setting a **&quot;*maxPoolSize*&quot;** at that point, as well as possibly a higher **&quot;*corePoolSize*&quot;** (see also the &quot;**allowCoreThreadTimeOut**&quot; mode of scaling).\r\n\r\n\r\n\r\n***The difference between the three executors:***\r\n\r\n**newFixedThreadPool** :\r\nCreates a thread pool that reuses a fixed number of threads operating off a shared unbounded queue. At any point, at most nThreads threads will be active processing tasks. \r\nIf additional tasks are submitted when all threads are active, they will wait in the queue until a thread is available. \r\nIf any thread terminates due to a failure during execution prior to shutdown, a new one will take its place if needed to execute subsequent tasks. \r\nThe threads in the pool will exist until it is explicitly shutdown.\r\n\r\n**newSingleThreadExecutor** :\r\nCreates an Executor that uses a single worker thread operating off an unbounded queue. \r\n(Note however that if this single thread terminates due to a failure during execution prior to shutdown, a new one will take its place if needed to execute subsequent tasks.) \r\nTasks are guaranteed to execute sequentially, and no more than one task will be active at any given time. \r\nUnlike the otherwise equivalent newFixedThreadPool(1) the returned executor is guaranteed not to be reconfigurable to use additional threads.\r\n\r\n\r\n**newCachedThreadPool** :\r\nCreates a thread pool that creates new threads as needed, but will reuse previously constructed threads when they are available. \r\nThese pools will typically improve the performance of programs that execute many short-lived asynchronous tasks. Calls to execute will reuse previously constructed threads if available. \r\nIf no existing thread is available, a new thread will be created and added to the pool. Threads that have not been used for sixty seconds are terminated and removed from the cache. \r\nThus, a pool that remains idle for long enough will not consume any resources. \r\nNote that pools with similar properties but different details (for example, timeout parameters) may be created using ThreadPoolExecutor constructors.\r\n\r\n\r\n**Spring Boot Application** :\r\nthe default values of properties for AutoConfigure the bean TaskExecutionAutoConfiguration:\r\n\r\n    #Whether core threads are allowed to time out. This enables dynamic \r\n\r\n    growing and shrinking of the pool.\r\n    spring.task.execution.pool.allow-core-thread-timeout=true\r\n    \r\n    #Core number of threads.\r\n    spring.task.execution.pool.core-size=8\r\n    \r\n    #Time limit for which threads may remain idle before being terminated.\r\n    spring.task.execution.pool.keep-alive=60s\r\n    \r\n    #Maximum allowed number of threads. If tasks are filling up the queue, the pool can expand up to that size to accommodate the load. Ignored if the queue is unbounded.\r\n    spring.task.execution.pool.max-size=\r\n    \r\n    #Queue capacity. An unbounded capacity does not increase the pool and therefore ignores the &quot;max-size&quot; property.\r\n    spring.task.execution.pool.queue-capacity=\r\n    \r\n    #Whether the executor should wait for scheduled tasks to complete on shutdown.\r\n    spring.task.execution.shutdown.await-termination=false\r\n    \r\n    #Maximum time the executor should wait for remaining tasks to complete.\r\n    spring.task.execution.shutdown.await-termination-period=\r\n    \r\n    #Prefix to use for the names of newly created threads.\r\n    spring.task.execution.thread-name-prefix=task-\r\n    \r\n    #Maximum allowed number of threads.\r\n    spring.task.scheduling.pool.size=1\r\n    \r\n    #Whether the executor should wait for scheduled tasks to complete on shutdown.\r\n    spring.task.scheduling.shutdown.await-termination=false\r\n    \r\n    #Maximum time the executor should wait for remaining tasks to complete.\r\n    spring.task.scheduling.shutdown.await-termination-period\r\n    \r\n    #Prefix to use for the names of newly created threads.\r\n    spring.task.scheduling.thread-name-prefix=scheduling-","title":"which default pool type of ThreadPoolTaskExecutor in spring","body":"<p>You can see the java doc of <em><strong>ThreadPoolTaskExecutor</strong></em>:</p>\n<p><strong>From Spring Framework Documentation.</strong></p>\n<blockquote>\n<p>The <strong>default configuration</strong> is a core pool size of 1, with unlimited max\npool size and unlimited queue capacity.\nThis is roughly equivalent to <strong>Executors.newSingleThreadExecutor()</strong>,\nsharing a single thread for all tasks.</p>\n</blockquote>\n<blockquote>\n<p>Setting <strong>&quot;<em>queueCapacity</em>&quot;</strong> to 0 mimics <strong>Executors.newCachedThreadPool()</strong>, with &gt; immediate scaling of threads in the pool to a potentially very high number.\nConsider also setting a <strong>&quot;<em>maxPoolSize</em>&quot;</strong> at that point, as well as possibly a higher <strong>&quot;<em>corePoolSize</em>&quot;</strong> (see also the &quot;<strong>allowCoreThreadTimeOut</strong>&quot; mode of scaling).</p>\n</blockquote>\n<p><em><strong>The difference between the three executors:</strong></em></p>\n<p><strong>newFixedThreadPool</strong> :\nCreates a thread pool that reuses a fixed number of threads operating off a shared unbounded queue. At any point, at most nThreads threads will be active processing tasks.\nIf additional tasks are submitted when all threads are active, they will wait in the queue until a thread is available.\nIf any thread terminates due to a failure during execution prior to shutdown, a new one will take its place if needed to execute subsequent tasks.\nThe threads in the pool will exist until it is explicitly shutdown.</p>\n<p><strong>newSingleThreadExecutor</strong> :\nCreates an Executor that uses a single worker thread operating off an unbounded queue.\n(Note however that if this single thread terminates due to a failure during execution prior to shutdown, a new one will take its place if needed to execute subsequent tasks.)\nTasks are guaranteed to execute sequentially, and no more than one task will be active at any given time.\nUnlike the otherwise equivalent newFixedThreadPool(1) the returned executor is guaranteed not to be reconfigurable to use additional threads.</p>\n<p><strong>newCachedThreadPool</strong> :\nCreates a thread pool that creates new threads as needed, but will reuse previously constructed threads when they are available.\nThese pools will typically improve the performance of programs that execute many short-lived asynchronous tasks. Calls to execute will reuse previously constructed threads if available.\nIf no existing thread is available, a new thread will be created and added to the pool. Threads that have not been used for sixty seconds are terminated and removed from the cache.\nThus, a pool that remains idle for long enough will not consume any resources.\nNote that pools with similar properties but different details (for example, timeout parameters) may be created using ThreadPoolExecutor constructors.</p>\n<p><strong>Spring Boot Application</strong> :\nthe default values of properties for AutoConfigure the bean TaskExecutionAutoConfiguration:</p>\n<pre><code>#Whether core threads are allowed to time out. This enables dynamic \n\ngrowing and shrinking of the pool.\nspring.task.execution.pool.allow-core-thread-timeout=true\n\n#Core number of threads.\nspring.task.execution.pool.core-size=8\n\n#Time limit for which threads may remain idle before being terminated.\nspring.task.execution.pool.keep-alive=60s\n\n#Maximum allowed number of threads. If tasks are filling up the queue, the pool can expand up to that size to accommodate the load. Ignored if the queue is unbounded.\nspring.task.execution.pool.max-size=\n\n#Queue capacity. An unbounded capacity does not increase the pool and therefore ignores the &quot;max-size&quot; property.\nspring.task.execution.pool.queue-capacity=\n\n#Whether the executor should wait for scheduled tasks to complete on shutdown.\nspring.task.execution.shutdown.await-termination=false\n\n#Maximum time the executor should wait for remaining tasks to complete.\nspring.task.execution.shutdown.await-termination-period=\n\n#Prefix to use for the names of newly created threads.\nspring.task.execution.thread-name-prefix=task-\n\n#Maximum allowed number of threads.\nspring.task.scheduling.pool.size=1\n\n#Whether the executor should wait for scheduled tasks to complete on shutdown.\nspring.task.scheduling.shutdown.await-termination=false\n\n#Maximum time the executor should wait for remaining tasks to complete.\nspring.task.scheduling.shutdown.await-termination-period\n\n#Prefix to use for the names of newly created threads.\nspring.task.scheduling.thread-name-prefix=scheduling-\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666533224,"creation_date":1666532749,"answer_id":74171614,"question_id":74171193,"body_markdown":"For pure spring application , the default `TaskExecutor` will be resolved in the following orders (source codes [here][1]) :\r\n\r\n 1. The bean that is `org.springframework.core.task.TaskExecutor`  \r\n 2. The bean that is `java.util.concurrent.Executor` and with the name\r\n    `taskExecutor` \r\n 3. `SimpleAsyncTaskExecutor`\r\n\r\n \r\nSo if you do not configure anything , by default it will use `SimpleAsyncTaskExecutor` which internally does not use JDK &#39;s `ThreadPoolExecutor` to create a thread. So there is no thread pooling and will create a new thread for each async invocation.\r\n\r\n\r\nFor spring-boot application , it will auto-configure a `ThreadPoolTaskExecutor` bean ([docs][2]) . As `ThreadPoolTaskExecutor` is a type of `org.springframework.core.task.TaskExecutor` , it will be used as the default according to the above mentioned order. \r\n\r\n`ThreadPoolTaskExecutor` internally use JDK &#39;s `ThreadPoolExecutor`, but neither its use `newFixedThreadPool()` nor `newCachedThreadPool()` to create `ThreadPoolExecutor`. Rather it directly call its constructor to create but then configure its setting based on the application properties.(source codes [here][3])\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/5e808ad0183a63944ab08017a13cbc7ed75bc581/spring-aop/src/main/java/org/springframework/aop/interceptor/AsyncExecutionInterceptor.java#L156\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.task-execution-and-scheduling\r\n  [3]: https://github.com/spring-projects/spring-boot/blob/b0b2818f0b03bc972fa91f91c1b8290987881811/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/task/TaskExecutionAutoConfiguration.java#L80","title":"which default pool type of ThreadPoolTaskExecutor in spring","body":"<p>For pure spring application , the default <code>TaskExecutor</code> will be resolved in the following orders (source codes <a href=\"https://github.com/spring-projects/spring-framework/blob/5e808ad0183a63944ab08017a13cbc7ed75bc581/spring-aop/src/main/java/org/springframework/aop/interceptor/AsyncExecutionInterceptor.java#L156\" rel=\"nofollow noreferrer\">here</a>) :</p>\n<ol>\n<li>The bean that is <code>org.springframework.core.task.TaskExecutor</code></li>\n<li>The bean that is <code>java.util.concurrent.Executor</code> and with the name\n<code>taskExecutor</code></li>\n<li><code>SimpleAsyncTaskExecutor</code></li>\n</ol>\n<p>So if you do not configure anything , by default it will use <code>SimpleAsyncTaskExecutor</code> which internally does not use JDK 's <code>ThreadPoolExecutor</code> to create a thread. So there is no thread pooling and will create a new thread for each async invocation.</p>\n<p>For spring-boot application , it will auto-configure a <code>ThreadPoolTaskExecutor</code> bean (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.task-execution-and-scheduling\" rel=\"nofollow noreferrer\">docs</a>) . As <code>ThreadPoolTaskExecutor</code> is a type of <code>org.springframework.core.task.TaskExecutor</code> , it will be used as the default according to the above mentioned order.</p>\n<p><code>ThreadPoolTaskExecutor</code> internally use JDK 's <code>ThreadPoolExecutor</code>, but neither its use <code>newFixedThreadPool()</code> nor <code>newCachedThreadPool()</code> to create <code>ThreadPoolExecutor</code>. Rather it directly call its constructor to create but then configure its setting based on the application properties.(source codes <a href=\"https://github.com/spring-projects/spring-boot/blob/b0b2818f0b03bc972fa91f91c1b8290987881811/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/task/TaskExecutionAutoConfiguration.java#L80\" rel=\"nofollow noreferrer\">here</a>)</p>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3992,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":74171614,"answer_count":2,"score":3,"last_activity_date":1666546495,"creation_date":1666528632,"question_id":74171193,"body_markdown":"I have read the code but did not find the default pool type of ThreadPoolTaskExecutor. what is the default thread pool of ThreadPoolTaskExecutor? newFixedThreadPool or newCachedThreadPool?","title":"which default pool type of ThreadPoolTaskExecutor in spring","body":"<p>I have read the code but did not find the default pool type of ThreadPoolTaskExecutor. what is the default thread pool of ThreadPoolTaskExecutor? newFixedThreadPool or newCachedThreadPool?</p>\n"},{"tags":["java","algorithm","palindrome"],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1518863531,"creation_date":1518863531,"answer_id":48840370,"question_id":48838927,"body_markdown":"I think the blog post you&#39;re linking to does not do a good job explaining the core idea of the solution. This is what probably makes it difficult to understand the code.\r\n\r\nLet&#39;s start with the problem (as you&#39;re not quoting it):\r\n\r\n&gt; Given a list of unique words. Find all pairs of distinct indices `(i, j)` in the given list, so that the concatenation of the two words, i.e. `words[i] + words[j]` is a palindrome.\r\n&gt; \r\n&gt; **Example 1:** Given `words = [&quot;bat&quot;, &quot;tab&quot;, &quot;cat&quot;]`  \r\n&gt; Return `[[0, 1], [1, 0]]`  \r\n&gt; The palindromes are `[&quot;battab&quot;, &quot;tabbat&quot;]`\r\n&gt; \r\n&gt; **Example 2:** Given `words = [&quot;abcd&quot;, &quot;dcba&quot;, &quot;lls&quot;, &quot;s&quot;, &quot;sssll&quot;]`  \r\n&gt; Return `[[0, 1], [1, 0], [3, 2], [2, 4]]`\r\n&gt; The palindromes are `[&quot;dcbaabcd&quot;, &quot;abcddcba&quot;, &quot;slls&quot;, &quot;llssssll&quot;]`\r\n\r\nWhen do two words `words[i]` and `words[j]` fulfill the condition of `words[i] + words[j]` to be a palindrome?\r\n\r\n * If `words[i]` and `words[j]` have equal length, then `words[i]` must equals the revers of `words[j]` (or vice versa).\r\n * If one of the words (say, `words[i]`) is longer, then it must end with the reverse of `words[j]` and the rest of `words[i]` must be a palindrome.  \r\nFor example, take `lls` and `s`. `lls` ends with `s` and `ll` is in palindrome. So `s` + `lls` is the palindrome.\r\n\r\nHaving noticed this, we basically need an efficient method to check if some `words[i]` ends with the reverse of `words[j]` and that the remainder of `words[i]` is a palindrome.\r\n\r\nThis is implemented using a `Trie` structure which builds a radix tree over reversed words. The blog post gives a good example of the build `Trie` for words `&quot;cbaaa&quot;, &quot;bc&quot;, &quot;abc&quot;`:\r\n\r\n[![Trie for words `&quot;cbaaa&quot;, &quot;bc&quot;, &quot;abc&quot;`][1]][1]\r\n\r\nThis `Trie` makes it pretty efficient to search for prefixes. For instance searching for `cba` (reverse of `abc`) gives the node starting `cbaaa`.\r\n\r\nI think the main problem understanding the code is due to poorly named fields (and the code is generally a bit messy). It is not clear what `pos` and `palins` are so this probably causes you trouble.\r\n\r\n`pos` of the given `Trie` node is simply the index of the word formed by sequence of nodes from the &quot;root&quot; to the given node. In the example above, `cbaaa` has the index `0`, `bc` the index `1` and `abc` the index `2`. Corresponding nodes have the appropriate `pos` values.\r\n\r\n`palins` is a bit more interesting. When building the `Trie` up to some node, we have some common prefix. For instance, when the `Trie` is built up to the node `a` in `c-b-a-a-a` we have the common prefix `cba`. But what we also need to check quickly is that the rest of the word is palindrom. This is what `palins` is for. `palins` saves indices of words which start with the common prefix we have so far in construction AND where the rest of the word is a palindrom. In our example, `cbaaa` starst with `cba` and the remainder `aa` is a palindrom. So the index `0` of `cbaaa` in `words` will be added to `palins`. If there were something like `cbatt`, its index would have also added to `palins`.  \r\nWe also need to consider the case like `abc` - `cba` where there is no remainder. This is done by adding the index of the word to `palins` of the node of the last symbol (this is why you see another `root.palins.add(pos);` outside the `for` loop).\r\n\r\nNow it should be more or less clear how the search method works:\r\n* For each word, search the prefix, equal to this word reversed. If there is such prefix, there will be a corresponding node in the `Trie`.\r\n* If such node is found, check `palins`. This will effectively give indices of workds which are palindrome-pairs to the given word.\r\n\r\nFor example, when we search for `abc`, we&#39;ll find the first `a` node in `c-b-a-a-a`. The prefix `cba` equals `abc` in reverse. The `palins` of this `a` node will contain `0` (index of `cbaaa` in `words`), so we&#39;ll get `[2, 0]` as one of the results.\r\n\r\n  [1]: https://i.stack.imgur.com/hVkzy.png","title":"Palindromic pairs in an array of words","body":"<p>I think the blog post you're linking to does not do a good job explaining the core idea of the solution. This is what probably makes it difficult to understand the code.</p>\n\n<p>Let's start with the problem (as you're not quoting it):</p>\n\n<blockquote>\n  <p>Given a list of unique words. Find all pairs of distinct indices <code>(i, j)</code> in the given list, so that the concatenation of the two words, i.e. <code>words[i] + words[j]</code> is a palindrome.</p>\n  \n  <p><strong>Example 1:</strong> Given <code>words = [\"bat\", \"tab\", \"cat\"]</code><br>\n  Return <code>[[0, 1], [1, 0]]</code><br>\n  The palindromes are <code>[\"battab\", \"tabbat\"]</code></p>\n  \n  <p><strong>Example 2:</strong> Given <code>words = [\"abcd\", \"dcba\", \"lls\", \"s\", \"sssll\"]</code><br>\n  Return <code>[[0, 1], [1, 0], [3, 2], [2, 4]]</code>\n  The palindromes are <code>[\"dcbaabcd\", \"abcddcba\", \"slls\", \"llssssll\"]</code></p>\n</blockquote>\n\n<p>When do two words <code>words[i]</code> and <code>words[j]</code> fulfill the condition of <code>words[i] + words[j]</code> to be a palindrome?</p>\n\n<ul>\n<li>If <code>words[i]</code> and <code>words[j]</code> have equal length, then <code>words[i]</code> must equals the revers of <code>words[j]</code> (or vice versa).</li>\n<li>If one of the words (say, <code>words[i]</code>) is longer, then it must end with the reverse of <code>words[j]</code> and the rest of <code>words[i]</code> must be a palindrome.<br>\nFor example, take <code>lls</code> and <code>s</code>. <code>lls</code> ends with <code>s</code> and <code>ll</code> is in palindrome. So <code>s</code> + <code>lls</code> is the palindrome.</li>\n</ul>\n\n<p>Having noticed this, we basically need an efficient method to check if some <code>words[i]</code> ends with the reverse of <code>words[j]</code> and that the remainder of <code>words[i]</code> is a palindrome.</p>\n\n<p>This is implemented using a <code>Trie</code> structure which builds a radix tree over reversed words. The blog post gives a good example of the build <code>Trie</code> for words <code>\"cbaaa\", \"bc\", \"abc\"</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hVkzy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hVkzy.png\" alt=\"Trie for words &lt;code&gt;&quot;cbaaa&quot;, &quot;bc&quot;, &quot;abc&quot;&lt;/code&gt;\"></a></p>\n\n<p>This <code>Trie</code> makes it pretty efficient to search for prefixes. For instance searching for <code>cba</code> (reverse of <code>abc</code>) gives the node starting <code>cbaaa</code>.</p>\n\n<p>I think the main problem understanding the code is due to poorly named fields (and the code is generally a bit messy). It is not clear what <code>pos</code> and <code>palins</code> are so this probably causes you trouble.</p>\n\n<p><code>pos</code> of the given <code>Trie</code> node is simply the index of the word formed by sequence of nodes from the \"root\" to the given node. In the example above, <code>cbaaa</code> has the index <code>0</code>, <code>bc</code> the index <code>1</code> and <code>abc</code> the index <code>2</code>. Corresponding nodes have the appropriate <code>pos</code> values.</p>\n\n<p><code>palins</code> is a bit more interesting. When building the <code>Trie</code> up to some node, we have some common prefix. For instance, when the <code>Trie</code> is built up to the node <code>a</code> in <code>c-b-a-a-a</code> we have the common prefix <code>cba</code>. But what we also need to check quickly is that the rest of the word is palindrom. This is what <code>palins</code> is for. <code>palins</code> saves indices of words which start with the common prefix we have so far in construction AND where the rest of the word is a palindrom. In our example, <code>cbaaa</code> starst with <code>cba</code> and the remainder <code>aa</code> is a palindrom. So the index <code>0</code> of <code>cbaaa</code> in <code>words</code> will be added to <code>palins</code>. If there were something like <code>cbatt</code>, its index would have also added to <code>palins</code>.<br>\nWe also need to consider the case like <code>abc</code> - <code>cba</code> where there is no remainder. This is done by adding the index of the word to <code>palins</code> of the node of the last symbol (this is why you see another <code>root.palins.add(pos);</code> outside the <code>for</code> loop).</p>\n\n<p>Now it should be more or less clear how the search method works:\n* For each word, search the prefix, equal to this word reversed. If there is such prefix, there will be a corresponding node in the <code>Trie</code>.\n* If such node is found, check <code>palins</code>. This will effectively give indices of workds which are palindrome-pairs to the given word.</p>\n\n<p>For example, when we search for <code>abc</code>, we'll find the first <code>a</code> node in <code>c-b-a-a-a</code>. The prefix <code>cba</code> equals <code>abc</code> in reverse. The <code>palins</code> of this <code>a</code> node will contain <code>0</code> (index of <code>cbaaa</code> in <code>words</code>), so we'll get <code>[2, 0]</code> as one of the results.</p>\n"},{"tags":[],"owner":{"account_id":26710639,"reputation":1,"user_id":20316075,"display_name":"user20316075"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666545340,"creation_date":1666545340,"answer_id":74173216,"question_id":48838927,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const words = [&quot;abcd&quot;, &quot;dcba&quot;, &quot;lls&quot;, &quot;s&quot;, &quot;sssll&quot;] \r\n\r\n    const Name =(arr)=&gt;{\r\n      const output =[];\r\n      for(let i=0; i&lt;arr.length;i++){\r\n      let word1 = arr[i];\r\n      for(let j=0; j&lt;arr.length; j++){\r\n        if(i!==j){\r\n          const concatword = word1 + arr[j];\r\n          const reverse = concatword.split(&quot;&quot;).reverse().join(&quot;&quot;);\r\n          if(concatword===reverse) output.push([i,j])\r\n        } \r\n      }\r\n    }\r\n      return output\r\n    }\r\n    console.log(Name(words))\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Palindromic pairs in an array of words","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const words = [\"abcd\", \"dcba\", \"lls\", \"s\", \"sssll\"] \n\nconst Name =(arr)=&gt;{\n  const output =[];\n  for(let i=0; i&lt;arr.length;i++){\n  let word1 = arr[i];\n  for(let j=0; j&lt;arr.length; j++){\n    if(i!==j){\n      const concatword = word1 + arr[j];\n      const reverse = concatword.split(\"\").reverse().join(\"\");\n      if(concatword===reverse) output.push([i,j])\n    } \n  }\n}\n  return output\n}\nconsole.log(Name(words))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9355650,"reputation":158,"user_id":6943752,"accept_rate":80,"display_name":"Aman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2835,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48840370,"answer_count":2,"score":3,"last_activity_date":1666545340,"creation_date":1518851518,"question_id":48838927,"body_markdown":"I came across a code for palindromic pair problem, using Trie.\r\n\r\n    public static class Trie {\r\n        int pos;\r\n        Trie[] nodes;   // consider xyxabc. if current trie is &#39;a&#39;. Then a.nodes has information. It means string after a is palindrome\r\n        List&lt;Integer&gt; palins;\r\n        public Trie() {\r\n            pos = -1;\r\n            nodes = new Trie[26];\r\n            palins = new ArrayList&lt;&gt;();\r\n        }\r\n    }\r\n    \r\n    public static void add(Trie root, String word, int pos) {\r\n        for (int i = word.length() - 1; i &gt;= 0; i--) {\r\n            char ch = word.charAt(i);\r\n            if (isPalindrome(word, 0, i)) { // check if substring(0, i) is palindrome.\r\n                root.palins.add(pos);\r\n            }\r\n            if (root.nodes[ch - &#39;a&#39;] == null) {\r\n                root.nodes[ch - &#39;a&#39;] = new Trie();\r\n            }\r\n            root = root.nodes[ch - &#39;a&#39;];\r\n        }\r\n        root.pos = pos; // if it is xyxcba. Until now, the node should be at x.\r\n        root.palins.add(pos);\r\n    }\r\n    \r\n    public static void search(Trie root, String[] words, int i, List&lt;List&lt;Integer&gt;&gt; ans) {\r\n        int len = words[i].length();\r\n        for (int j = 0; j &lt; len &amp;&amp; root != null; j++) {\r\n            if (root.pos &gt;= 0 &amp;&amp; i != root.pos &amp;&amp; isPalindrome(words[i], j, len - 1)) {\r\n                ans.add(Arrays.asList(new Integer[] {i, root.pos}));\r\n            }\r\n            char ch = words[i].charAt(j);\r\n            root = root.nodes[ch - &#39;a&#39;];\r\n        }\r\n        if (root != null &amp;&amp; root.palins.size() &gt; 0) { // assume &#39;xyxabc&#39; is in trie, now try &#39;cba&#39;\r\n            for (int j : root.palins) {\r\n                if (j != i) {\r\n                    ans.add(Arrays.asList(new Integer[] {i, j}));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static List&lt;List&lt;Integer&gt;&gt; palindromePairs(String[] words) {\r\n        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\r\n        Trie trie = new Trie();\r\n        for (int i = 0; i &lt; words.length; i++) {\r\n            add(trie, words[i], i);\r\n        }\r\n        for (int i = 0; i &lt; words.length; i++) {\r\n            search(trie, words, i, ans);\r\n        }\r\n        return ans;\r\n    }\r\n    \r\n    public static boolean isPalindrome(String str, int i, int j) {\r\n        while (i &lt; j) {\r\n            if (str.charAt(i++) != str.charAt(j--)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nCould any one please help me understand, what are we trying to do in this line in **add** method.\r\n\r\n    if (isPalindrome(word, 0, i)) { // check if substring(0, i) is palindrome.\r\n                root.palins.add(pos);\r\n            }\r\n\r\nand here outside of FOR loop why do we need to add:\r\n\r\n    root.palins.add(pos);\r\n\r\nI have seen this code from here:\r\nhttp://www.allenlipeng47.com/blog/index.php/2016/03/15/palindrome-pairs/\r\n\r\nHowever i am still finding it difficult to understand this approach.\r\n\r\nThanks\r\n\r\n","title":"Palindromic pairs in an array of words","body":"<p>I came across a code for palindromic pair problem, using Trie.</p>\n\n<pre><code>public static class Trie {\n    int pos;\n    Trie[] nodes;   // consider xyxabc. if current trie is 'a'. Then a.nodes has information. It means string after a is palindrome\n    List&lt;Integer&gt; palins;\n    public Trie() {\n        pos = -1;\n        nodes = new Trie[26];\n        palins = new ArrayList&lt;&gt;();\n    }\n}\n\npublic static void add(Trie root, String word, int pos) {\n    for (int i = word.length() - 1; i &gt;= 0; i--) {\n        char ch = word.charAt(i);\n        if (isPalindrome(word, 0, i)) { // check if substring(0, i) is palindrome.\n            root.palins.add(pos);\n        }\n        if (root.nodes[ch - 'a'] == null) {\n            root.nodes[ch - 'a'] = new Trie();\n        }\n        root = root.nodes[ch - 'a'];\n    }\n    root.pos = pos; // if it is xyxcba. Until now, the node should be at x.\n    root.palins.add(pos);\n}\n\npublic static void search(Trie root, String[] words, int i, List&lt;List&lt;Integer&gt;&gt; ans) {\n    int len = words[i].length();\n    for (int j = 0; j &lt; len &amp;&amp; root != null; j++) {\n        if (root.pos &gt;= 0 &amp;&amp; i != root.pos &amp;&amp; isPalindrome(words[i], j, len - 1)) {\n            ans.add(Arrays.asList(new Integer[] {i, root.pos}));\n        }\n        char ch = words[i].charAt(j);\n        root = root.nodes[ch - 'a'];\n    }\n    if (root != null &amp;&amp; root.palins.size() &gt; 0) { // assume 'xyxabc' is in trie, now try 'cba'\n        for (int j : root.palins) {\n            if (j != i) {\n                ans.add(Arrays.asList(new Integer[] {i, j}));\n            }\n        }\n    }\n}\n\npublic static List&lt;List&lt;Integer&gt;&gt; palindromePairs(String[] words) {\n    List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\n    Trie trie = new Trie();\n    for (int i = 0; i &lt; words.length; i++) {\n        add(trie, words[i], i);\n    }\n    for (int i = 0; i &lt; words.length; i++) {\n        search(trie, words, i, ans);\n    }\n    return ans;\n}\n\npublic static boolean isPalindrome(String str, int i, int j) {\n    while (i &lt; j) {\n        if (str.charAt(i++) != str.charAt(j--)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Could any one please help me understand, what are we trying to do in this line in <strong>add</strong> method.</p>\n\n<pre><code>if (isPalindrome(word, 0, i)) { // check if substring(0, i) is palindrome.\n            root.palins.add(pos);\n        }\n</code></pre>\n\n<p>and here outside of FOR loop why do we need to add:</p>\n\n<pre><code>root.palins.add(pos);\n</code></pre>\n\n<p>I have seen this code from here:\n<a href=\"http://www.allenlipeng47.com/blog/index.php/2016/03/15/palindrome-pairs/\" rel=\"nofollow noreferrer\">http://www.allenlipeng47.com/blog/index.php/2016/03/15/palindrome-pairs/</a></p>\n\n<p>However i am still finding it difficult to understand this approach.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","hyperlink"],"answers":[{"tags":[],"owner":{"account_id":26709884,"reputation":50,"user_id":20315450,"display_name":"Speezy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666545270,"creation_date":1666545270,"answer_id":74173206,"question_id":74173030,"body_markdown":"You can use the AlertDialog.Builder class to create a clickable link like this:\r\n\r\n     AlertDialog.Builder builder = new AlertDialog.Builder(context); \r\n     builder.setMessage(&quot;Click here to visit the website&quot;) .setCancelable(false) \r\n     .setPositiveButton(&quot;Visit&quot;, new DialogInterface.OnClickListener() { public \r\n     void onClick(DialogInterface dialog, int id) { Intent browserIntent = new \r\n     Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://www.website.com&quot;)); \r\n     startActivity(browserIntent); } }); AlertDialog alert = builder.create(); \r\n     alert.show();","title":"How to use AlertDialog.builder into clickable link?","body":"<p>You can use the AlertDialog.Builder class to create a clickable link like this:</p>\n<pre><code> AlertDialog.Builder builder = new AlertDialog.Builder(context); \n builder.setMessage(&quot;Click here to visit the website&quot;) .setCancelable(false) \n .setPositiveButton(&quot;Visit&quot;, new DialogInterface.OnClickListener() { public \n void onClick(DialogInterface dialog, int id) { Intent browserIntent = new \n Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://www.website.com&quot;)); \n startActivity(browserIntent); } }); AlertDialog alert = builder.create(); \n alert.show();\n</code></pre>\n"}],"owner":{"account_id":26208187,"reputation":1,"user_id":19887481,"display_name":"8you"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666545270,"creation_date":1666543878,"question_id":74173030,"body_markdown":" example of my code to make qr code scanner\r\n\r\nif (result.getContents() !=null)\r\n\r\n                {\r\n                    AlertDialog.Builder builder= new AlertDialog.Builder(Home.this);\r\n                    builder.setTitle(&quot;result&quot;);\r\n                    builder.setMessage(result.getContents());\r\n                    builder.setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            dialogInterface.dismiss();\r\n                        }\r\n                    }).show();\r\n\r\n                }","title":"How to use AlertDialog.builder into clickable link?","body":"<p>example of my code to make qr code scanner</p>\n<p>if (result.getContents() !=null)</p>\n<pre><code>            {\n                AlertDialog.Builder builder= new AlertDialog.Builder(Home.this);\n                builder.setTitle(&quot;result&quot;);\n                builder.setMessage(result.getContents());\n                builder.setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        dialogInterface.dismiss();\n                    }\n                }).show();\n\n            }\n</code></pre>\n"},{"tags":["java","list","dictionary"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":7,"creation_date":1660730114,"post_id":73386360,"comment_id":129599551,"body_markdown":"Why are you using maps in the first place? Create a `Person` class with 3 fields - `id`, `name` and `account`.","body":"Why are you using maps in the first place? Create a <code>Person</code> class with 3 fields - <code>id</code>, <code>name</code> and <code>account</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1660739271,"post_id":73386360,"comment_id":129602991,"body_markdown":"[Don’t use double-brace initialization of Maps.](https://stackoverflow.com/questions/1958636/what-is-double-brace-initialization-in-java)  But really, it’s moot, because Sweeper’s advice is very good advice.","body":"<a href=\"https://stackoverflow.com/questions/1958636/what-is-double-brace-initialization-in-java\">Don’t use double-brace initialization of Maps.</a>  But really, it’s moot, because Sweeper’s advice is very good advice."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660730527,"creation_date":1660730527,"answer_id":73386507,"question_id":73386360,"body_markdown":"There are two lists of some objects, so basically one can remove the elements of one list from the other:\r\n```\r\nList&lt;Map&lt;String, String&gt;&gt; missing = new ArrayList&lt;&gt;(customerDetails);\r\nmissing.removeAll(accountDetails);\r\nSystem.out.println(&quot;accountDetails missing &quot; + missing);\r\n```\r\nBut, as @Sweeper already stated, it&#39;s better to create a type for your data like e. g. `Person`.","title":"How to compare two list of map and return the missing elements as a list?","body":"<p>There are two lists of some objects, so basically one can remove the elements of one list from the other:</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; missing = new ArrayList&lt;&gt;(customerDetails);\nmissing.removeAll(accountDetails);\nSystem.out.println(&quot;accountDetails missing &quot; + missing);\n</code></pre>\n<p>But, as @Sweeper already stated, it's better to create a type for your data like e. g. <code>Person</code>.</p>\n"},{"tags":[],"owner":{"account_id":10805595,"reputation":3025,"user_id":7947994,"display_name":"JANO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660730859,"creation_date":1660730859,"answer_id":73386580,"question_id":73386360,"body_markdown":"If both of your lists can contain unique items you could merge them together into a `Set&lt;&gt;` to remove duplicates. Then create a `List&lt;&gt;` again for your desired output:\r\n\r\n```\r\nSet&lt;Map&lt;String,String&gt;&gt; set = new HashSet&lt;&gt;();\r\nset.addAll(customerDetails);\r\nset.addAll(accountDetails);\r\n\r\nList&lt;Map&lt;String,String&gt;&gt; combined = new ArrayList&lt;&gt;(set);\r\n\r\nSystem.out.println(combined);\r\n```\r\nOutput:\r\n```\r\n[{Account=1049, name=Tom, id=2}, {Account=1052, name=Mary, id=3}, {Account=1050, name=Andy, id=1}]\r\n```","title":"How to compare two list of map and return the missing elements as a list?","body":"<p>If both of your lists can contain unique items you could merge them together into a <code>Set&lt;&gt;</code> to remove duplicates. Then create a <code>List&lt;&gt;</code> again for your desired output:</p>\n<pre><code>Set&lt;Map&lt;String,String&gt;&gt; set = new HashSet&lt;&gt;();\nset.addAll(customerDetails);\nset.addAll(accountDetails);\n\nList&lt;Map&lt;String,String&gt;&gt; combined = new ArrayList&lt;&gt;(set);\n\nSystem.out.println(combined);\n</code></pre>\n<p>Output:</p>\n<pre><code>[{Account=1049, name=Tom, id=2}, {Account=1052, name=Mary, id=3}, {Account=1050, name=Andy, id=1}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7507571,"reputation":1037,"user_id":5703638,"accept_rate":86,"display_name":"Bohdan Petrenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660731793,"creation_date":1660731793,"answer_id":73386793,"question_id":73386360,"body_markdown":"Java 8 version\r\n\r\n\tList&lt;Map&lt;String, String&gt;&gt; combined =\r\n\t\t\tStream.concat(customerDetails.stream(), accountDetails.stream())\r\n\t\t\t\t\t.distinct()\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\r\nPlease declare &amp; use class (for example `Person`) instead of Map. Code became much more readable and error tolerant.","title":"How to compare two list of map and return the missing elements as a list?","body":"<p>Java 8 version</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; combined =\n        Stream.concat(customerDetails.stream(), accountDetails.stream())\n                .distinct()\n                .collect(Collectors.toList());\n</code></pre>\n<p>Please declare &amp; use class (for example <code>Person</code>) instead of Map. Code became much more readable and error tolerant.</p>\n"}],"owner":{"account_id":25746268,"reputation":11,"user_id":19499442,"display_name":"nithinc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666544979,"creation_date":1660729885,"question_id":73386360,"body_markdown":"Is there a way to return the missing map of String from two list of map of string. My data is like this:\r\n\r\n        List&lt;Map&lt;String,String&gt;&gt; customerDetails = new ArrayList&lt;&gt;();\r\n        List&lt;Map&lt;String,String&gt;&gt; accountDetails = new ArrayList&lt;&gt;();\r\n\r\n        Map&lt;String,String&gt; customerMap = new HashMap&lt;String, String&gt;() \r\n        {{put(&quot;id&quot;,&quot;1&quot;);put(&quot;name&quot;,&quot;Andy&quot;);put(&quot;Account&quot;,&quot;1050&quot;);}};\r\n        customerDetails.add(customerMap);\r\n        customerMap = new HashMap&lt;String, String&gt;() \r\n        {{put(&quot;id&quot;,&quot;2&quot;);put(&quot;name&quot;,&quot;Tom&quot;);put(&quot;Account&quot;,&quot;1049&quot;);}};\r\n        customerDetails.add(customerMap);\r\n        customerMap = new HashMap&lt;String, String&gt;() \r\n        {{put(&quot;id&quot;,&quot;3&quot;);put(&quot;name&quot;,&quot;Mary&quot;);put(&quot;Account&quot;,&quot;1052&quot;);}};\r\n        customerDetails.add(customerMap);\r\n\r\n\r\n        Map&lt;String,String&gt; accountMap = new HashMap&lt;String, String&gt;() \r\n        {{put(&quot;id&quot;,&quot;2&quot;);put(&quot;name&quot;,&quot;Tom&quot;);put(&quot;Account&quot;,&quot;1049&quot;);}};\r\n        accountDetails.add(accountMap);\r\n        accountMap = new HashMap&lt;String, String&gt;() \r\n        {{put(&quot;id&quot;,&quot;3&quot;);put(&quot;name&quot;,&quot;Mary&quot;);put(&quot;Account&quot;,&quot;1052&quot;);}};\r\n        accountDetails.add(accountMap);\r\n\r\n       \r\nHow can I combine these two list of maps avoiding duplicates?\r\n","title":"How to compare two list of map and return the missing elements as a list?","body":"<p>Is there a way to return the missing map of String from two list of map of string. My data is like this:</p>\n<pre><code>    List&lt;Map&lt;String,String&gt;&gt; customerDetails = new ArrayList&lt;&gt;();\n    List&lt;Map&lt;String,String&gt;&gt; accountDetails = new ArrayList&lt;&gt;();\n\n    Map&lt;String,String&gt; customerMap = new HashMap&lt;String, String&gt;() \n    {{put(&quot;id&quot;,&quot;1&quot;);put(&quot;name&quot;,&quot;Andy&quot;);put(&quot;Account&quot;,&quot;1050&quot;);}};\n    customerDetails.add(customerMap);\n    customerMap = new HashMap&lt;String, String&gt;() \n    {{put(&quot;id&quot;,&quot;2&quot;);put(&quot;name&quot;,&quot;Tom&quot;);put(&quot;Account&quot;,&quot;1049&quot;);}};\n    customerDetails.add(customerMap);\n    customerMap = new HashMap&lt;String, String&gt;() \n    {{put(&quot;id&quot;,&quot;3&quot;);put(&quot;name&quot;,&quot;Mary&quot;);put(&quot;Account&quot;,&quot;1052&quot;);}};\n    customerDetails.add(customerMap);\n\n\n    Map&lt;String,String&gt; accountMap = new HashMap&lt;String, String&gt;() \n    {{put(&quot;id&quot;,&quot;2&quot;);put(&quot;name&quot;,&quot;Tom&quot;);put(&quot;Account&quot;,&quot;1049&quot;);}};\n    accountDetails.add(accountMap);\n    accountMap = new HashMap&lt;String, String&gt;() \n    {{put(&quot;id&quot;,&quot;3&quot;);put(&quot;name&quot;,&quot;Mary&quot;);put(&quot;Account&quot;,&quot;1052&quot;);}};\n    accountDetails.add(accountMap);\n\n   \n</code></pre>\n<p>How can I combine these two list of maps avoiding duplicates?</p>\n"},{"tags":["java","elasticsearch","elastic-stack"],"comments":[{"owner":{"account_id":10428917,"reputation":577,"user_id":7689325,"display_name":"Briomkez"},"score":2,"creation_date":1666524386,"post_id":74170455,"comment_id":130953115,"body_markdown":"Hi kghbln, could you please try to download the package directly from the server with e.g., this command ( wget https://artifacts.elastic.co/downloads/elasticsearch-plugins/ingest-attachment/ingest-attachment-6.8.23.zip) I suspect, the server is using an HTTP Proxy that don&#39;t allow the server to reach artifacts.elastic.co. 403 means permission error and it can come also from the proxy","body":"Hi kghbln, could you please try to download the package directly from the server with e.g., this command ( wget <a href=\"https://artifacts.elastic.co/downloads/elasticsearch-plugins/ingest-attachment/ingest-attachment-6.8.23.zip\" rel=\"nofollow noreferrer\">artifacts.elastic.co/downloads/elasticsearch-plugins/&hellip;</a>) I suspect, the server is using an HTTP Proxy that don&#39;t allow the server to reach artifacts.elastic.co. 403 means permission error and it can come also from the proxy"},{"owner":{"account_id":2628717,"reputation":868,"user_id":2275206,"display_name":"kghbln"},"score":0,"creation_date":1666541185,"post_id":74170455,"comment_id":130956571,"body_markdown":"`sudo wget https://artifacts.elastic.co/downloads/elasticsearch-plugins/ingest-attachment/ingest-attachment-6.8.23.zip` works. How do I install the plugin after having fetched it via wget? `install ingest-attachement` does not work for this route.","body":"<code>sudo wget https:&#47;&#47;artifacts.elastic.co&#47;downloads&#47;elasticsearch-plugins&zwnj;&#8203;&#47;ingest-attachment&#47;i&zwnj;&#8203;ngest-attachment-6.8&zwnj;&#8203;.23.zip</code> works. How do I install the plugin after having fetched it via wget? <code>install ingest-attachement</code> does not work for this route."},{"owner":{"account_id":10428917,"reputation":577,"user_id":7689325,"display_name":"Briomkez"},"score":1,"creation_date":1666541753,"post_id":74170455,"comment_id":130956689,"body_markdown":"Does this link help? https://www.elastic.co/guide/en/elasticsearch/plugins/8.4/plugin-authors.html#_testing_your_plugin you need to substitute the http url with a file-bases one file:///path-to-the-plugin","body":"Does this link help? <a href=\"https://www.elastic.co/guide/en/elasticsearch/plugins/8.4/plugin-authors.html#_testing_your_plugin\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/plugins/8.4/&hellip;</a> you need to substitute the http url with a file-bases one file:///path-to-the-plugin"},{"owner":{"account_id":2628717,"reputation":868,"user_id":2275206,"display_name":"kghbln"},"score":0,"creation_date":1666544709,"post_id":74170455,"comment_id":130957386,"body_markdown":"Affirmative. Doing `sudo bin/elasticsearch-plugin install file:///usr/share/elasticsearch/ingest-attachment-6.8.23.zip`after fetching the zip file with wget indeed allows to install the plugin. Thanks a ton!","body":"Affirmative. Doing <code>sudo bin&#47;elasticsearch-plugin install file:&#47;&#47;&#47;usr&#47;share&#47;elasticsearch&#47;ingest-attachment-6.8.23.zip</code>&zwnj;&#8203;after fetching the zip file with wget indeed allows to install the plugin. Thanks a ton!"}],"answers":[{"tags":[],"owner":{"account_id":2628717,"reputation":868,"user_id":2275206,"display_name":"kghbln"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666544928,"creation_date":1666544928,"answer_id":74173159,"question_id":74170455,"body_markdown":"Doing\r\n```\r\nuser@server[elasticsearch]$ sudo wget https://artifacts.elastic.co/downloads/elasticsearch-plugins/ingest-attachment/ingest-attachment-6.8.23.zip`\r\n```\r\nfollowed by\r\n```\r\nuser@server[elasticsearch]$ sudo bin/elasticsearch-plugin install file:///usr/share/elasticsearch/ingest-attachment-6.8.23.zip\r\n```\r\ndoes the trick!\r\n\r\nThanks a ton to @Briomkez for the solution!","title":"Error 403 when trying to install the ingest-attachment plugin to elasticsearch","body":"<p>Doing</p>\n<pre><code>user@server[elasticsearch]$ sudo wget https://artifacts.elastic.co/downloads/elasticsearch-plugins/ingest-attachment/ingest-attachment-6.8.23.zip`\n</code></pre>\n<p>followed by</p>\n<pre><code>user@server[elasticsearch]$ sudo bin/elasticsearch-plugin install file:///usr/share/elasticsearch/ingest-attachment-6.8.23.zip\n</code></pre>\n<p>does the trick!</p>\n<p>Thanks a ton to @Briomkez for the solution!</p>\n"}],"owner":{"account_id":2628717,"reputation":868,"user_id":2275206,"display_name":"kghbln"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666544928,"creation_date":1666521469,"question_id":74170455,"body_markdown":"I would like to install the ingest-attachement plugin to elasticsearch 6.8.23 on a debian 11:\r\n\r\nWhen doing \r\n\r\n    user@server[elasticsearch]$ sudo bin/elasticsearch-plugin install ingest-attachment\r\n\r\nI get the following error\r\n\r\n```-&gt; Downloading ingest-attachment from elastic\r\nException in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 403 for URL: https://artifacts.elastic.co/downloads/elasticsearch-plugins/ingest-attachment/ingest-attachment-6.8.23.zip\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1924)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250)\r\n\tat org.elasticsearch.plugins.InstallPluginCommand.downloadZip(InstallPluginCommand.java:381)\r\n\tat org.elasticsearch.plugins.InstallPluginCommand.downloadAndValidate(InstallPluginCommand.java:455)\r\n\tat org.elasticsearch.plugins.InstallPluginCommand.download(InstallPluginCommand.java:257)\r\n\tat org.elasticsearch.plugins.InstallPluginCommand.execute(InstallPluginCommand.java:230)\r\n\tat org.elasticsearch.plugins.InstallPluginCommand.execute(InstallPluginCommand.java:217)\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\r\n\tat org.elasticsearch.cli.MultiCommand.execute(MultiCommand.java:77)\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90)\r\n\tat org.elasticsearch.plugins.PluginCli.main(PluginCli.java:47)\r\n```\r\nHowever, when I browse to https://artifacts.elastic.co/downloads/elasticsearch-plugins/ingest-attachment/ingest-attachment-6.8.23.zip there is no error 403 and the package gets downloaded.\r\n\r\nDue to circumstances I have to use 6.8.23 so no need to commment on this. I know, I know ..\r\n\r\nAny chance to install this on a Debian 11? Thanks for your time.","title":"Error 403 when trying to install the ingest-attachment plugin to elasticsearch","body":"<p>I would like to install the ingest-attachement plugin to elasticsearch 6.8.23 on a debian 11:</p>\n<p>When doing</p>\n<pre><code>user@server[elasticsearch]$ sudo bin/elasticsearch-plugin install ingest-attachment\n</code></pre>\n<p>I get the following error</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Server returned HTTP response code: 403 for URL: https://artifacts.elastic.co/downloads/elasticsearch-plugins/ingest-attachment/ingest-attachment-6.8.23.zip\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1924)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250)\n    at org.elasticsearch.plugins.InstallPluginCommand.downloadZip(InstallPluginCommand.java:381)\n    at org.elasticsearch.plugins.InstallPluginCommand.downloadAndValidate(InstallPluginCommand.java:455)\n    at org.elasticsearch.plugins.InstallPluginCommand.download(InstallPluginCommand.java:257)\n    at org.elasticsearch.plugins.InstallPluginCommand.execute(InstallPluginCommand.java:230)\n    at org.elasticsearch.plugins.InstallPluginCommand.execute(InstallPluginCommand.java:217)\n    at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\n    at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\n    at org.elasticsearch.cli.MultiCommand.execute(MultiCommand.java:77)\n    at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\n    at org.elasticsearch.cli.Command.main(Command.java:90)\n    at org.elasticsearch.plugins.PluginCli.main(PluginCli.java:47)\n</code></pre>\n<p>However, when I browse to <a href=\"https://artifacts.elastic.co/downloads/elasticsearch-plugins/ingest-attachment/ingest-attachment-6.8.23.zip\" rel=\"nofollow noreferrer\">https://artifacts.elastic.co/downloads/elasticsearch-plugins/ingest-attachment/ingest-attachment-6.8.23.zip</a> there is no error 403 and the package gets downloaded.</p>\n<p>Due to circumstances I have to use 6.8.23 so no need to commment on this. I know, I know ..</p>\n<p>Any chance to install this on a Debian 11? Thanks for your time.</p>\n"},{"tags":["java","garbage-collection"],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666544901,"creation_date":1666273550,"question_id":74140968,"body_markdown":"I have searching from internet and found that different articles shows different version of GC roots types, what types of GC roots with Oracle HotSpot JVM? I did not found any official docs talk about the type of HotSpot GC roots. \r\n\r\n[This article][1] did not contains some trust link or source: \r\n\r\nthe main types of GC Roots:\r\n \r\n* Class: Classes loaded by a system class loader; \r\n* contains references to static variables as well \r\n* Stack Local: Local variables and parameters to methods stored on the local stack \r\n* Active Java Threads: All active Java threads \r\n* JNI References: Native code Java objects created for JNI calls; contains local variables, parameters to JNI methods, and global\r\nJNI references Additionally\r\n\r\nthere are a few more possible types of GC Roots:\r\n \r\n&gt; Objects used as monitors for synchronization Specific objects defined\r\n&gt; by the JVM implementation that are not garbage collected for its\r\n&gt; purpose. That might contain important exception classes, system class\r\n&gt; loaders, or custom class loaders\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-gc-roots","title":"how many type of GC roots in hotspot JVM","body":"<p>I have searching from internet and found that different articles shows different version of GC roots types, what types of GC roots with Oracle HotSpot JVM? I did not found any official docs talk about the type of HotSpot GC roots.</p>\n<p><a href=\"https://www.baeldung.com/java-gc-roots\" rel=\"nofollow noreferrer\">This article</a> did not contains some trust link or source:</p>\n<p>the main types of GC Roots:</p>\n<ul>\n<li>Class: Classes loaded by a system class loader;</li>\n<li>contains references to static variables as well</li>\n<li>Stack Local: Local variables and parameters to methods stored on the local stack</li>\n<li>Active Java Threads: All active Java threads</li>\n<li>JNI References: Native code Java objects created for JNI calls; contains local variables, parameters to JNI methods, and global\nJNI references Additionally</li>\n</ul>\n<p>there are a few more possible types of GC Roots:</p>\n<blockquote>\n<p>Objects used as monitors for synchronization Specific objects defined\nby the JVM implementation that are not garbage collected for its\npurpose. That might contain important exception classes, system class\nloaders, or custom class loaders</p>\n</blockquote>\n"},{"tags":["java","jsr","javahelp"],"answers":[{"tags":[],"owner":{"account_id":205049,"reputation":73345,"user_id":453596,"accept_rate":76,"display_name":"kamaci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297067670,"creation_date":1297067670,"answer_id":4919295,"question_id":4919143,"body_markdown":"At first you can check here for JSR-97: http://jcp.org/en/jsr/detail?id=97\r\nJavaHelp 2.0 has been released and is now FCS. It&#39;s page is: http://java.sun.com/javase/technologies/desktop/javahelp/ However the JavaHelp project has moved to https://javahelp.dev.java.net/","title":"where is JSR-97 (JavaHelp)","body":"<p>At first you can check here for JSR-97: <a href=\"http://jcp.org/en/jsr/detail?id=97\" rel=\"nofollow\">http://jcp.org/en/jsr/detail?id=97</a>\nJavaHelp 2.0 has been released and is now FCS. It's page is: <a href=\"http://java.sun.com/javase/technologies/desktop/javahelp/\" rel=\"nofollow\">http://java.sun.com/javase/technologies/desktop/javahelp/</a> However the JavaHelp project has moved to <a href=\"https://javahelp.dev.java.net/\" rel=\"nofollow\">https://javahelp.dev.java.net/</a></p>\n"},{"tags":[],"owner":{"account_id":74766,"reputation":96,"user_id":214665,"display_name":"ebresie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666544832,"creation_date":1666544832,"answer_id":74173138,"question_id":4919143,"body_markdown":"The details about the JSR are available [JSR-97][1].  The last JAVA EE based code based was released to github at [GitHub JavaEE - Java Help Repo][2] which is read only.\r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=97\r\n  [2]: https://github.com/javaee/javahelp","title":"where is JSR-97 (JavaHelp)","body":"<p>The details about the JSR are available <a href=\"https://jcp.org/en/jsr/detail?id=97\" rel=\"nofollow noreferrer\">JSR-97</a>.  The last JAVA EE based code based was released to github at <a href=\"https://github.com/javaee/javahelp\" rel=\"nofollow noreferrer\">GitHub JavaEE - Java Help Repo</a> which is read only.</p>\n"}],"owner":{"account_id":13205,"reputation":8340,"user_id":26387,"accept_rate":79,"display_name":"Roalt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1666544832,"creation_date":1297065971,"question_id":4919143,"body_markdown":"Since the Sun-&gt;Oracle transition, the search for java-documentation has been a mess. I&#39;m looking to find the official JSR-97 specs:\r\n\r\nhttp://jcp.org/aboutJava/communityprocess/final/jsr097/index.html\r\n\r\nClicking on the link leads a redirecting page, ending up clicking in circles.","title":"where is JSR-97 (JavaHelp)","body":"<p>Since the Sun->Oracle transition, the search for java-documentation has been a mess. I'm looking to find the official JSR-97 specs:</p>\n\n<p><a href=\"http://jcp.org/aboutJava/communityprocess/final/jsr097/index.html\" rel=\"nofollow\">http://jcp.org/aboutJava/communityprocess/final/jsr097/index.html</a></p>\n\n<p>Clicking on the link leads a redirecting page, ending up clicking in circles.</p>\n"},{"tags":["java","function","jpa","parameters","criteria"],"answers":[{"tags":[],"owner":{"account_id":409632,"reputation":1129,"user_id":780998,"accept_rate":76,"display_name":"Deven Phillips"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1311289756,"creation_date":1311289756,"answer_id":6783928,"question_id":5820415,"body_markdown":"It looks like your defined PL/SQL function takes 4 arguments and you only have 2 arguments shown.","title":"JPA Criteria API. Query with sql function call which takes parameters","body":"<p>It looks like your defined PL/SQL function takes 4 arguments and you only have 2 arguments shown.</p>\n"}],"owner":{"account_id":377427,"reputation":131,"user_id":729546,"display_name":"RimasK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7746,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1666544805,"creation_date":1304001799,"question_id":5820415,"body_markdown":"I&#39;m trying to construct this query using Criteria typesafe API:  \r\n\r\n    select * from xxx_table xxx where CALC_DISTANCE(xxx.latitude, xxx.longitude, :lat, :lng) &lt; :dist\r\n    \r\n    CALC_DISTANCE definded PL/SQL function:  \r\n    FUNCTION calc_distance(  \r\n     pLat1 NUMBER,  \r\n     pLon1 NUMBER,  \r\n     pLat2 NUMBER,  \r\n     pLon2 NUMBER)  \r\n     RETURN NUMBER  \r\n      \r\n    \r\n    CriteriaBuilder builder = JpaHandle.get().getCriteriaBuilder();  \r\n    CriteriaQuery&lt;XXX&gt; criteria = builder.createQuery(XXX.class);  \r\n    Root&lt;XXX&gt; xxxRoot = criteria.from(XXX.class);  \r\n      \t\r\n    ParameterExpression&lt;Double&gt; latParam = builder.parameter( Double.class );  \r\n    ParameterExpression&lt;Double&gt; lngParam = builder.parameter( Double.class );  \r\n    ParameterExpression&lt;Double&gt; distParam = builder.parameter( Double.class );  \r\n      \r\n    Expression&lt;Double&gt; distFunction = builder.function(&quot;CALC_DISTANCE&quot;, Double.class, xxxRoot.get(XXX_.latitude), xxxRoot.get(XXX_.longitude), latParam, lngParam);  \r\n    \t\t  \r\n    criteria.where(builder.greaterThan(distFunction, distParam));  \r\n    TypedQuery&lt;XXX&gt; q = em.createQuery(criteria);  \r\n    q.setParameter(latParam, latitude);  \r\n    q.setParameter(lngParam, longitude);  \r\n    q.setParameter(distParam, new Double(distance.toString()));  \r\n    return q.getResultList();  \r\n\r\nI get this exception:  \r\n\r\n    Caused by: org.hibernate.QueryException: could not resolve property:  \r\n    latitudegeneratedAlias0 of: domain.XXX  \r\n    [select generatedAlias0 from domain.XXX as generatedAlias0 where  \r\n    CALC_DISTANCE(generatedAlias0.latitudegeneratedAlias0.longitude:param0:param1)&gt;:param2]  \r\n\r\nSeems like JPA query construction logic forgets to separate params with commas, or do I have somehow to do it myself?","title":"JPA Criteria API. Query with sql function call which takes parameters","body":"<p>I'm trying to construct this query using Criteria typesafe API:  </p>\n\n<pre><code>select * from xxx_table xxx where CALC_DISTANCE(xxx.latitude, xxx.longitude, :lat, :lng) &lt; :dist\n\nCALC_DISTANCE definded PL/SQL function:  \nFUNCTION calc_distance(  \n pLat1 NUMBER,  \n pLon1 NUMBER,  \n pLat2 NUMBER,  \n pLon2 NUMBER)  \n RETURN NUMBER  \n\n\nCriteriaBuilder builder = JpaHandle.get().getCriteriaBuilder();  \nCriteriaQuery&lt;XXX&gt; criteria = builder.createQuery(XXX.class);  \nRoot&lt;XXX&gt; xxxRoot = criteria.from(XXX.class);  \n\nParameterExpression&lt;Double&gt; latParam = builder.parameter( Double.class );  \nParameterExpression&lt;Double&gt; lngParam = builder.parameter( Double.class );  \nParameterExpression&lt;Double&gt; distParam = builder.parameter( Double.class );  \n\nExpression&lt;Double&gt; distFunction = builder.function(\"CALC_DISTANCE\", Double.class, xxxRoot.get(XXX_.latitude), xxxRoot.get(XXX_.longitude), latParam, lngParam);  \n\ncriteria.where(builder.greaterThan(distFunction, distParam));  \nTypedQuery&lt;XXX&gt; q = em.createQuery(criteria);  \nq.setParameter(latParam, latitude);  \nq.setParameter(lngParam, longitude);  \nq.setParameter(distParam, new Double(distance.toString()));  \nreturn q.getResultList();  \n</code></pre>\n\n<p>I get this exception:  </p>\n\n<pre><code>Caused by: org.hibernate.QueryException: could not resolve property:  \nlatitudegeneratedAlias0 of: domain.XXX  \n[select generatedAlias0 from domain.XXX as generatedAlias0 where  \nCALC_DISTANCE(generatedAlias0.latitudegeneratedAlias0.longitude:param0:param1)&gt;:param2]  \n</code></pre>\n\n<p>Seems like JPA query construction logic forgets to separate params with commas, or do I have somehow to do it myself?</p>\n"},{"tags":["java","node.js","spring","spring-boot","redis"],"comments":[{"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"score":0,"creation_date":1487556977,"post_id":42088184,"comment_id":71823428,"body_markdown":"This worked. Problem was with a later set up of redis replication, the name given by another person was something else than mymaster. So I enter the correct master name there it workes.","body":"This worked. Problem was with a later set up of redis replication, the name given by another person was something else than mymaster. So I enter the correct master name there it workes."}],"answers":[{"tags":[],"owner":{"account_id":2162777,"reputation":4478,"user_id":4536811,"display_name":"Mickael"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1486466206,"creation_date":1486466206,"answer_id":42088442,"question_id":42088184,"body_markdown":"According to [Add support for Redis Sentinel Configuration GitHub request][1], \r\n\r\n&gt; Spring Data Redis 1.4.0 will introduce redis [Sentinel][2] support.\r\n&gt; Sentinels can be configured using `RedisSentinelConfiguration`. When\r\n&gt; applied to `RedisConnectionFactory` the sentinel configuration will be\r\n&gt; used to determine current master node an perform failover in case a\r\n&gt; new master is elected.\r\n&gt; \r\n&gt; Added new config properties to `RedisProperties`:\r\n&gt; \r\n&gt;     spring.redis.sentinel.master=mymaster #name of redis server\r\n&gt;     spring.redis.sentinel.nodes=127.0.0.1:26379,127.0.0.1:26380 #deliminated list of sentinels.\r\n\r\nI hope this can help you.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/pull/1337\r\n  [2]: http://redis.io/topics/sentinel","title":"Redis sentinel set up with spring boot","body":"<p>According to <a href=\"https://github.com/spring-projects/spring-boot/pull/1337\" rel=\"noreferrer\">Add support for Redis Sentinel Configuration GitHub request</a>, </p>\n\n<blockquote>\n  <p>Spring Data Redis 1.4.0 will introduce redis <a href=\"http://redis.io/topics/sentinel\" rel=\"noreferrer\">Sentinel</a> support.\n  Sentinels can be configured using <code>RedisSentinelConfiguration</code>. When\n  applied to <code>RedisConnectionFactory</code> the sentinel configuration will be\n  used to determine current master node an perform failover in case a\n  new master is elected.</p>\n  \n  <p>Added new config properties to <code>RedisProperties</code>:</p>\n\n<pre><code>spring.redis.sentinel.master=mymaster #name of redis server\nspring.redis.sentinel.nodes=127.0.0.1:26379,127.0.0.1:26380 #deliminated list of sentinels.\n</code></pre>\n</blockquote>\n\n<p>I hope this can help you.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666544527,"creation_date":1666544527,"answer_id":74173100,"question_id":42088184,"body_markdown":"Recent Update\r\n\r\nFor future readers having the same problem and need to apply those configurations but having already upgraded to **Spring Boot 3.0**, then the configurations should be \r\n\r\n    spring.data.redis.sentinel.master= someMaster #name of master redis server\r\n    spring.data.redis.sentinel.nodes= some.domain.for.sentinel:26379, some.other.domain.for.other.sentinel:26379 #list of sentinels.","title":"Redis sentinel set up with spring boot","body":"<p>Recent Update</p>\n<p>For future readers having the same problem and need to apply those configurations but having already upgraded to <strong>Spring Boot 3.0</strong>, then the configurations should be</p>\n<pre><code>spring.data.redis.sentinel.master= someMaster #name of master redis server\nspring.data.redis.sentinel.nodes= some.domain.for.sentinel:26379, some.other.domain.for.other.sentinel:26379 #list of sentinels.\n</code></pre>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16798,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42088442,"answer_count":2,"score":5,"last_activity_date":1666544527,"creation_date":1486465452,"question_id":42088184,"body_markdown":"I have redis on 1 master and 2 slaves and on each server a sentinel process is running on port 26379\r\n\r\nI want to know how to configure a sentinel as master in order to add for below in application.property file.\r\n\r\n    spring.redis.sentinel.master=\r\n    spring.redis.sentinel.nodes=\r\n\r\nI have redis server 2.8.19 and spring boot 1.3.4, spring-data-redis 1.6.4 jars\r\n\r\n","title":"Redis sentinel set up with spring boot","body":"<p>I have redis on 1 master and 2 slaves and on each server a sentinel process is running on port 26379</p>\n\n<p>I want to know how to configure a sentinel as master in order to add for below in application.property file.</p>\n\n<pre><code>spring.redis.sentinel.master=\nspring.redis.sentinel.nodes=\n</code></pre>\n\n<p>I have redis server 2.8.19 and spring boot 1.3.4, spring-data-redis 1.6.4 jars</p>\n"},{"tags":["java","mongodb","spring-data-mongodb","mongo-java-driver"],"owner":{"account_id":14085149,"reputation":21,"user_id":10175083,"display_name":"Kotagiri Sathwik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666543960,"creation_date":1628055709,"question_id":68645935,"body_markdown":"I&#39;m trying to use flapdoodle embedded mongodb for writing the unit tests. But I was receiving the following error. &quot;java.lang.NoSuchMethodErrror:&#39;com.mongodb.connection.ConnectionPoolSettings$Builder \r\n com.mongodb.connection.ConnectionPoolSettings$Builder.maxWaitQueueSize(int)&quot;\r\n\r\nIs there any dependency I need to add here ? Is the code which I have written in @Before block correct. At the end I need MongoClient and MongoDatabse to pass to other method and test.\r\n\r\n\r\n\r\n\r\n\r\n    **MongoDBConfig file:**\r\n    \r\n    \r\n    import java.io.IOException;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n    import com.mongodb.client.MongoClient;\r\n    import com.mongodb.client.MongoClients;\r\n \r\n    @EnableMongoRepositories\r\n    public class MongoDBConfig {\r\n    \t@Value(&quot;${mongo.db.url}&quot;)\r\n    \tprivate String MONGO_DB_URL;\r\n    \r\n    \t@Value((&quot;${mongo.db.port:27017}&quot;))\r\n    \tprivate int MONGO_DB_PORT;\r\n    \r\n    \t@Value(&quot;${mongo.db.name}&quot;)\r\n    \tprivate String MONGO_DB_NAME;\r\n    \r\n    \t@Bean\r\n    \tpublic MongoTemplate mongoTemplate() throws IOException {\r\n    \t\tMongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\r\n            MongoTemplate mongoTemplate = new MongoTemplate(mongoClient, &quot;test&quot;);\r\n            return mongoTemplate;\r\n    \t}\r\n    }\r\n\r\n  \r\n\r\n    **UnitTestFile:**\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.json.simple.parser.ParseException;\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.test.context.ActiveProfiles;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    import com.mongodb.MongoClient;\r\n    import com.mongodb.client.MongoDatabase;\r\n    import com.sap.crm.ana.gatewayservice.AnaGatewayServiceApplication;\r\n    \r\n    import de.flapdoodle.embed.mongo.MongodExecutable;\r\n    import de.flapdoodle.embed.mongo.MongodStarter;\r\n    import de.flapdoodle.embed.mongo.config.IMongodConfig;\r\n    import de.flapdoodle.embed.mongo.config.MongodConfigBuilder;\r\n    import de.flapdoodle.embed.mongo.config.Net;\r\n    import de.flapdoodle.embed.mongo.distribution.Version;\r\n    import de.flapdoodle.embed.process.runtime.Network;\r\n    \r\n    @SpringBootTest\r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration(classes = { MongoDBConfig.class })\r\n    @TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n    public class CSNHandlerTestEmbeddedMongoDB {\r\n    \r\n    \tprivate CSNHandler handler;\r\n    \tprivate MongoClient mongoClient;\r\n    \tprivate MongoDatabase database;\r\n    \tprivate String model;\r\n    \tprivate MongodExecutable mongodExecutable;\r\n    \tprivate MongoTemplate mongoTemplate;\r\n    \r\n    \t@Before\r\n    \tpublic void setup() throws Exception {\r\n    \t\tMongodStarter starter = MongodStarter.getDefaultInstance();\r\n    \t\tString bindIp = &quot;localhost&quot;;\r\n    \t\tint port = 27017;\r\n    \t\tIMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.PRODUCTION)\r\n    \t\t\t\t.net(new Net(bindIp, port, Network.localhostIsIPv6())).build();\r\n    \t\tthis.mongoClient = new MongoClient(bindIp, port);\r\n    \t\tthis.database = mongoClient.getDatabase(&quot;test&quot;);\r\n    \t\tmongodExecutable = null;\r\n    \t\ttry {\r\n    \t\t\tmongodExecutable = starter.prepare(mongodConfig);\r\n    \t\t\tmongodExecutable.start();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// log exception here\r\n    \t\t\tif (mongodExecutable != null)\r\n    \t\t\t\tmongodExecutable.stop();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testCSNHandler() throws IOException, ParseException {\r\n    \t\t\r\n    \t\thandler = new CSNHandler(database);\r\n    \t\thandler.insertUpdateAnaModel(&quot;100&quot;, model);\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@After\r\n    \tpublic void teardown() throws Exception {\r\n    \t\tif (mongodExecutable != null)\r\n    \t\t\tmongodExecutable.stop();\r\n    \t}\r\n    }\r\n\r\n    **Dependencies:**\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n    &lt;version&gt;3.12.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n","title":"java.lang.NoSuchMethodErrror:&#39;com.mongodb.connection.ConnectionPoolSettings$Builder","body":"<p>I'm trying to use flapdoodle embedded mongodb for writing the unit tests. But I was receiving the following error. &quot;java.lang.NoSuchMethodErrror:'com.mongodb.connection.ConnectionPoolSettings$Builder\ncom.mongodb.connection.ConnectionPoolSettings$Builder.maxWaitQueueSize(int)&quot;</p>\n<p>Is there any dependency I need to add here ? Is the code which I have written in @Before block correct. At the end I need MongoClient and MongoDatabse to pass to other method and test.</p>\n<pre><code>**MongoDBConfig file:**\n\n\nimport java.io.IOException;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\n\n@EnableMongoRepositories\npublic class MongoDBConfig {\n    @Value(&quot;${mongo.db.url}&quot;)\n    private String MONGO_DB_URL;\n\n    @Value((&quot;${mongo.db.port:27017}&quot;))\n    private int MONGO_DB_PORT;\n\n    @Value(&quot;${mongo.db.name}&quot;)\n    private String MONGO_DB_NAME;\n\n    @Bean\n    public MongoTemplate mongoTemplate() throws IOException {\n        MongoClient mongoClient = MongoClients.create(&quot;mongodb://localhost:27017&quot;);\n        MongoTemplate mongoTemplate = new MongoTemplate(mongoClient, &quot;test&quot;);\n        return mongoTemplate;\n    }\n}\n\n\n\n**UnitTestFile:**\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.stream.Collectors;\n\nimport org.json.simple.parser.ParseException;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport com.mongodb.MongoClient;\nimport com.mongodb.client.MongoDatabase;\nimport com.sap.crm.ana.gatewayservice.AnaGatewayServiceApplication;\n\nimport de.flapdoodle.embed.mongo.MongodExecutable;\nimport de.flapdoodle.embed.mongo.MongodStarter;\nimport de.flapdoodle.embed.mongo.config.IMongodConfig;\nimport de.flapdoodle.embed.mongo.config.MongodConfigBuilder;\nimport de.flapdoodle.embed.mongo.config.Net;\nimport de.flapdoodle.embed.mongo.distribution.Version;\nimport de.flapdoodle.embed.process.runtime.Network;\n\n@SpringBootTest\n@RunWith(SpringRunner.class)\n@ContextConfiguration(classes = { MongoDBConfig.class })\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\npublic class CSNHandlerTestEmbeddedMongoDB {\n\n    private CSNHandler handler;\n    private MongoClient mongoClient;\n    private MongoDatabase database;\n    private String model;\n    private MongodExecutable mongodExecutable;\n    private MongoTemplate mongoTemplate;\n\n    @Before\n    public void setup() throws Exception {\n        MongodStarter starter = MongodStarter.getDefaultInstance();\n        String bindIp = &quot;localhost&quot;;\n        int port = 27017;\n        IMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.PRODUCTION)\n                .net(new Net(bindIp, port, Network.localhostIsIPv6())).build();\n        this.mongoClient = new MongoClient(bindIp, port);\n        this.database = mongoClient.getDatabase(&quot;test&quot;);\n        mongodExecutable = null;\n        try {\n            mongodExecutable = starter.prepare(mongodConfig);\n            mongodExecutable.start();\n        } catch (Exception e) {\n            // log exception here\n            if (mongodExecutable != null)\n                mongodExecutable.stop();\n        }\n    }\n    \n    @Test\n    public void testCSNHandler() throws IOException, ParseException {\n        \n        handler = new CSNHandler(database);\n        handler.insertUpdateAnaModel(&quot;100&quot;, model);\n        \n    }\n\n    @After\n    public void teardown() throws Exception {\n        if (mongodExecutable != null)\n            mongodExecutable.stop();\n    }\n}\n\n**Dependencies:**\n\n&lt;dependency&gt;\n&lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n&lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n&lt;version&gt;3.12.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","pynetlogo"],"owner":{"account_id":14732502,"reputation":2758,"user_id":10639382,"display_name":"imantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666543408,"creation_date":1666543408,"question_id":74172979,"body_markdown":"Hi I am trying to a run a library called `pyNetlogo` in m1 mac. However when I run `NetLogoLink` function I get the following error.\r\n\r\n```\r\nnetlogo = pyNetLogo.NetLogoLink(\r\n    gui = False,\r\n    netlogo_home = &quot;/Applications/NetLogo 6.0.3&quot;\r\n)\r\n```\r\n\r\n`FileNotFoundError: [Errno 2] JVM DLL not found: /Library/Java/JavaVirtualMachines/amazon-corretto-16.jdk/Contents/Home/lib/libjli.dylib`\r\n\r\nSince it seemed that JVM could not be found by the function I gave the path explicitly\r\n\r\n```\r\nnetlogo = pyNetLogo.NetLogoLink(\r\n    gui = False,\r\n    netlogo_home = &quot;/Applications/NetLogo 6.0.3&quot;,\r\n    jvm_home = &quot;/usr/bin/java&quot;\r\n)\r\n```\r\nHowever notw I get the following error and I am not too sure how to solve it.\r\n`RuntimeError: Unable to load symbol [JNI_CreateJavaVM], error = dlsym(0x201b1d2c0, JNI_CreateJavaVM): symbol not found`\r\n\r\nAny Idea how to fix it?","title":"RuntimeError: Unable to load symbol [JNI_CreateJavaVM], error = dlsym(0x201b1d2c0, JNI_CreateJavaVM): symbol not found","body":"<p>Hi I am trying to a run a library called <code>pyNetlogo</code> in m1 mac. However when I run <code>NetLogoLink</code> function I get the following error.</p>\n<pre><code>netlogo = pyNetLogo.NetLogoLink(\n    gui = False,\n    netlogo_home = &quot;/Applications/NetLogo 6.0.3&quot;\n)\n</code></pre>\n<p><code>FileNotFoundError: [Errno 2] JVM DLL not found: /Library/Java/JavaVirtualMachines/amazon-corretto-16.jdk/Contents/Home/lib/libjli.dylib</code></p>\n<p>Since it seemed that JVM could not be found by the function I gave the path explicitly</p>\n<pre><code>netlogo = pyNetLogo.NetLogoLink(\n    gui = False,\n    netlogo_home = &quot;/Applications/NetLogo 6.0.3&quot;,\n    jvm_home = &quot;/usr/bin/java&quot;\n)\n</code></pre>\n<p>However notw I get the following error and I am not too sure how to solve it.\n<code>RuntimeError: Unable to load symbol [JNI_CreateJavaVM], error = dlsym(0x201b1d2c0, JNI_CreateJavaVM): symbol not found</code></p>\n<p>Any Idea how to fix it?</p>\n"},{"tags":["javascript","java","truffle","graalvm"],"answers":[{"tags":[],"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652725874,"creation_date":1652721788,"answer_id":72263215,"question_id":72246737,"body_markdown":"I&#39;ve finally found a way to pass an _array_ from the host to the guest - using `ProxyArray`.\r\n\r\nhttps://www.graalvm.org/22.1/reference-manual/embed-languages/#computed-arrays-using-polyglot-proxies\r\n\r\nReading through the Graalvm documentation and experimenting with the very primative examples they provide, I came up with the following changes to my `Services` class:\r\n\r\n```java\r\n    ArrayList&lt;String&gt; array = new ArrayList&lt;String&gt;();\r\n\r\n    @HostAccess.Export\r\n    public void prepareList()\r\n    {\r\n\t\tarray.add(&quot;s1&quot;);\r\n\t\tarray.add(&quot;s2&quot;);\r\n\t\tarray.add(&quot;s3&quot;);\r\n    }\r\n\r\n    @HostAccess.Export\r\n    public ProxyArray getArray()\r\n    {\r\n    \treturn new ProxyArray() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Object get( long index )\r\n\t\t\t{\r\n\t\t\t\treturn array.get((int)index);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void set( long index, Value value )\r\n\t\t\t{\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic long getSize()\r\n\t\t\t{\r\n\t\t\t\treturn array.size();\r\n\t\t\t}\r\n    \t};\r\n    }\r\n```\r\n\r\nAnd finally the guest call looks like this:\r\n\r\n```javascript\r\nservices.prepareList();\r\nvar a = services.getArray();\r\nb = &#39;&#39;;\r\nfor ( i = 0; i &lt; a.length; i++ ) b += a[i];\r\nservices.setMessage(&#39;&#39; + a + &#39; // &#39; + b)\r\n```\r\nAnd the value of the message is then as expected `&quot;[object Object] // s1s2s3&quot;`\r\n\r\nHope someone finds this useful ... and if you have a better way of returning objects (Array, Hashtable, whatever) post your answers here - thanks.","title":"GraalVM how to return an array from a method to the guest language?","body":"<p>I've finally found a way to pass an <em>array</em> from the host to the guest - using <code>ProxyArray</code>.</p>\n<p><a href=\"https://www.graalvm.org/22.1/reference-manual/embed-languages/#computed-arrays-using-polyglot-proxies\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.1/reference-manual/embed-languages/#computed-arrays-using-polyglot-proxies</a></p>\n<p>Reading through the Graalvm documentation and experimenting with the very primative examples they provide, I came up with the following changes to my <code>Services</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    ArrayList&lt;String&gt; array = new ArrayList&lt;String&gt;();\n\n    @HostAccess.Export\n    public void prepareList()\n    {\n        array.add(&quot;s1&quot;);\n        array.add(&quot;s2&quot;);\n        array.add(&quot;s3&quot;);\n    }\n\n    @HostAccess.Export\n    public ProxyArray getArray()\n    {\n        return new ProxyArray() {\n\n            @Override\n            public Object get( long index )\n            {\n                return array.get((int)index);\n            }\n\n            @Override\n            public void set( long index, Value value )\n            {\n                // TODO Auto-generated method stub\n            }\n\n            @Override\n            public long getSize()\n            {\n                return array.size();\n            }\n        };\n    }\n</code></pre>\n<p>And finally the guest call looks like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>services.prepareList();\nvar a = services.getArray();\nb = '';\nfor ( i = 0; i &lt; a.length; i++ ) b += a[i];\nservices.setMessage('' + a + ' // ' + b)\n</code></pre>\n<p>And the value of the message is then as expected <code>&quot;[object Object] // s1s2s3&quot;</code></p>\n<p>Hope someone finds this useful ... and if you have a better way of returning objects (Array, Hashtable, whatever) post your answers here - thanks.</p>\n"},{"tags":[],"owner":{"account_id":13502007,"reputation":26,"user_id":9741203,"display_name":"Peterson Yuhala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666543342,"creation_date":1666542199,"answer_id":74172826,"question_id":72246737,"body_markdown":"\r\nFirst I would give a straight forward answer to your question. To pass an array from Java scope to the guest language scope, you can just send the Java array/list as input to the execute method. For example: \r\n\r\n```\r\nContext context = Context.newBuilder().allowAllAccess(true).build();\r\nint intArray[] = {1,2,3};\r\nValue ret = context.eval(&quot;js&quot;, &quot;(function getArray(a) {console.log(a[2]);})&quot;).execute(intArray);\r\n```\r\nThe above should print `3` in the JS scope.\r\n\r\nNow I decide to add the following paragraphs because after reading your code as well as those in some proposed answers, I think it could be of help.\r\n\r\nSay you have a Java code snippet like the one below which returns an array from the JS context.\r\n\r\n```\r\n\r\nValue val = context.eval(&quot;js&quot;, &quot;(function getArray() {return [1,2,3];})&quot;).execute();\r\n```\r\nIt is not possible to directly access the whole array object from `val` in the Java language scope because the memory layout of Java arrays is different from the memory layout of JS arrays. However you can obtain elements at different indices of the JS array from within the Java scope as follows:\r\n\r\n```\r\n int index2 = val.getArrayElement(2).asInt();\r\n System.out.println(index2);\r\n```\r\nThe above should print the value `3`. \r\n\r\nIn order to obtain the full array in the Java scope, you must do an explicit array copy. The classic way to do this is to leverage the technique described here: https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#as-org.graalvm.polyglot.TypeLiteral-\r\n\r\nUsing that technique one can define an `INTEGER_LIST` TypeLiteral as such:\r\n\r\n```\r\n   public static final TypeLiteral&lt;List&lt;Integer&gt;&gt; INTEGER_LIST =\r\n            new TypeLiteral&lt;List&lt;Integer&gt;&gt;() {};\r\n```\r\nAnd then return the polyglot Value as an `INTEGER_LIST` as follows:\r\n\r\n```\r\nList&lt;Integer&gt; intList = context.eval(&quot;js&quot;, &quot;(function getArray() {return [1,2,3];})&quot;).execute().as(INTEGER_LIST);        \r\nSystem.out.println(&quot;JS array in Java scope: &quot; + intList);\r\n```\r\nThe above print should produce: `[1,2,3]`. This strategy also does an explicit array copy in the back ground but it is neat, more or less. \r\n\r\nYou could apply exactly the same strategy for your String array, by defining a TypeLiteral like:\r\n\r\n```\r\n   public static final TypeLiteral&lt;List&lt;String&gt;&gt; STRING_LIST =\r\n            new TypeLiteral&lt;List&lt;STRING&gt;&gt;() {};\r\n```\r\nAnd obtaining the String list/array in Java scope via `...execute().as(STRING_LIST);`. This should give you your String array in the Java scope.\r\n\r\n\r\n\r\n\r\n\r\n","title":"GraalVM how to return an array from a method to the guest language?","body":"<p>First I would give a straight forward answer to your question. To pass an array from Java scope to the guest language scope, you can just send the Java array/list as input to the execute method. For example:</p>\n<pre><code>Context context = Context.newBuilder().allowAllAccess(true).build();\nint intArray[] = {1,2,3};\nValue ret = context.eval(&quot;js&quot;, &quot;(function getArray(a) {console.log(a[2]);})&quot;).execute(intArray);\n</code></pre>\n<p>The above should print <code>3</code> in the JS scope.</p>\n<p>Now I decide to add the following paragraphs because after reading your code as well as those in some proposed answers, I think it could be of help.</p>\n<p>Say you have a Java code snippet like the one below which returns an array from the JS context.</p>\n<pre><code>\nValue val = context.eval(&quot;js&quot;, &quot;(function getArray() {return [1,2,3];})&quot;).execute();\n</code></pre>\n<p>It is not possible to directly access the whole array object from <code>val</code> in the Java language scope because the memory layout of Java arrays is different from the memory layout of JS arrays. However you can obtain elements at different indices of the JS array from within the Java scope as follows:</p>\n<pre><code> int index2 = val.getArrayElement(2).asInt();\n System.out.println(index2);\n</code></pre>\n<p>The above should print the value <code>3</code>.</p>\n<p>In order to obtain the full array in the Java scope, you must do an explicit array copy. The classic way to do this is to leverage the technique described here: <a href=\"https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#as-org.graalvm.polyglot.TypeLiteral-\" rel=\"nofollow noreferrer\">https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#as-org.graalvm.polyglot.TypeLiteral-</a></p>\n<p>Using that technique one can define an <code>INTEGER_LIST</code> TypeLiteral as such:</p>\n<pre><code>   public static final TypeLiteral&lt;List&lt;Integer&gt;&gt; INTEGER_LIST =\n            new TypeLiteral&lt;List&lt;Integer&gt;&gt;() {};\n</code></pre>\n<p>And then return the polyglot Value as an <code>INTEGER_LIST</code> as follows:</p>\n<pre><code>List&lt;Integer&gt; intList = context.eval(&quot;js&quot;, &quot;(function getArray() {return [1,2,3];})&quot;).execute().as(INTEGER_LIST);        \nSystem.out.println(&quot;JS array in Java scope: &quot; + intList);\n</code></pre>\n<p>The above print should produce: <code>[1,2,3]</code>. This strategy also does an explicit array copy in the back ground but it is neat, more or less.</p>\n<p>You could apply exactly the same strategy for your String array, by defining a TypeLiteral like:</p>\n<pre><code>   public static final TypeLiteral&lt;List&lt;String&gt;&gt; STRING_LIST =\n            new TypeLiteral&lt;List&lt;STRING&gt;&gt;() {};\n</code></pre>\n<p>And obtaining the String list/array in Java scope via <code>...execute().as(STRING_LIST);</code>. This should give you your String array in the Java scope.</p>\n"}],"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666543342,"creation_date":1652603944,"question_id":72246737,"body_markdown":"I&#39;m playing around with GraalVM (Truffle) in OpenJDK 17, and would like to know what the correct way is to return values to the guest language from method calls? Right now I&#39;m struggling with passing a `String[]` array back.\r\n\r\n**Exmaple:**\r\n\r\nJava (host)\r\n```java\r\nclass Services\r\n{\r\n    Value message;\r\n\r\n    @HostAccess.Export\r\n    public String[] getArrayString()\r\n    {\r\n        return new String[]{&quot;s1&quot;, &quot;s2&quot;, &quot;s3&quot;};\r\n    }\r\n\r\n    @HostAccess.Export\r\n    public void setMessage( Value v )\r\n    {\r\n        message = v;\r\n        message.pin();\r\n    }\r\n}\r\n\r\n...\r\n\r\nString jsScript = &quot; ... &quot; // see below\r\ntry ( Context context = Context.newBuilder().allowHostAccess(HostAccess.SCOPED).build() )\r\n{\r\n    Services s = new Services();\r\n    context.getBindings(&quot;js&quot;).putMember(&quot;services&quot;, s);\r\n    context.eval(&quot;js&quot;, jsScript);\r\n}\r\n\r\n```\r\nJavaScript (guest)\r\n```js\r\nvar a = services.getArrayString();\r\nb = &#39;&#39;;\r\nfor ( var c in a ) b += c;\r\nservices.setMessage(&#39;&#39; + a + &#39; // &#39; + b)\r\n```\r\nThe final message value is `&quot;[object Object] // &quot;` (b is blank), however I expected something like `&quot;[object Object] // s1s2s3&quot;`.\r\n\r\nI&#39;ve also tried the return types `Object[]` and `ArrayList&lt;String&gt;`. I&#39;m not sure why I can&#39;t access the elements of the array, either I&#39;m not passing the array back correctly, or I&#39;m not accessing it correctly within the JavaScript script. The examples I&#39;ve found in the GraalVM docs are always about passing values directly from the host to the guest, but I&#39;d like to do it via a method call - how is that done?","title":"GraalVM how to return an array from a method to the guest language?","body":"<p>I'm playing around with GraalVM (Truffle) in OpenJDK 17, and would like to know what the correct way is to return values to the guest language from method calls? Right now I'm struggling with passing a <code>String[]</code> array back.</p>\n<p><strong>Exmaple:</strong></p>\n<p>Java (host)</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Services\n{\n    Value message;\n\n    @HostAccess.Export\n    public String[] getArrayString()\n    {\n        return new String[]{&quot;s1&quot;, &quot;s2&quot;, &quot;s3&quot;};\n    }\n\n    @HostAccess.Export\n    public void setMessage( Value v )\n    {\n        message = v;\n        message.pin();\n    }\n}\n\n...\n\nString jsScript = &quot; ... &quot; // see below\ntry ( Context context = Context.newBuilder().allowHostAccess(HostAccess.SCOPED).build() )\n{\n    Services s = new Services();\n    context.getBindings(&quot;js&quot;).putMember(&quot;services&quot;, s);\n    context.eval(&quot;js&quot;, jsScript);\n}\n\n</code></pre>\n<p>JavaScript (guest)</p>\n<pre class=\"lang-js prettyprint-override\"><code>var a = services.getArrayString();\nb = '';\nfor ( var c in a ) b += c;\nservices.setMessage('' + a + ' // ' + b)\n</code></pre>\n<p>The final message value is <code>&quot;[object Object] // &quot;</code> (b is blank), however I expected something like <code>&quot;[object Object] // s1s2s3&quot;</code>.</p>\n<p>I've also tried the return types <code>Object[]</code> and <code>ArrayList&lt;String&gt;</code>. I'm not sure why I can't access the elements of the array, either I'm not passing the array back correctly, or I'm not accessing it correctly within the JavaScript script. The examples I've found in the GraalVM docs are always about passing values directly from the host to the guest, but I'd like to do it via a method call - how is that done?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1666543231,"post_id":74172927,"comment_id":130957018,"body_markdown":"By using [for loop](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html).","body":"By using <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">for loop</a>."},{"owner":{"account_id":26710334,"reputation":1,"user_id":20315827,"display_name":"Andrew_Lee996"},"score":0,"creation_date":1666545495,"post_id":74172927,"comment_id":130957582,"body_markdown":"please to look the image","body":"please to look the image"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666543310,"creation_date":1666543310,"answer_id":74172967,"question_id":74172927,"body_markdown":"The `for-each` loop hides the iterator (or index), use a traditional loop.\r\n\r\n\tfor (int i = 0; i &lt; EVENTS.length; i++) {\r\n\t\tSystem.out.printf(&quot;%d: %s%n&quot;, i, EVENTS[i]);\r\n\t}\r\n\r\n**or** you could keep your own additional counter. Like,\r\n\r\n\tint i = 0;\r\n\tfor (String s : EVENTS) {\r\n\t\tSystem.out.printf(&quot;%d: %s%n&quot;, i, s);\r\n\t\ti++;\r\n\t}\r\n","title":"How to prefix the contents of an array with java","body":"<p>The <code>for-each</code> loop hides the iterator (or index), use a traditional loop.</p>\n<pre><code>for (int i = 0; i &lt; EVENTS.length; i++) {\n    System.out.printf(&quot;%d: %s%n&quot;, i, EVENTS[i]);\n}\n</code></pre>\n<p><strong>or</strong> you could keep your own additional counter. Like,</p>\n<pre><code>int i = 0;\nfor (String s : EVENTS) {\n    System.out.printf(&quot;%d: %s%n&quot;, i, s);\n    i++;\n}\n</code></pre>\n"}],"owner":{"account_id":26710334,"reputation":1,"user_id":20315827,"display_name":"Andrew_Lee996"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1666544943,"answer_count":1,"score":-3,"last_activity_date":1666543310,"creation_date":1666543034,"question_id":74172927,"body_markdown":"So if you have an array of strings and the contents of the event how do you label the event number without an &quot;arraylist&quot; like the array in the picture.\r\n```\r\n    public static final String[] EVENTS = {\r\n            &quot;Breakfast at Tiffany&#39;s&quot;,\r\n            &quot;My Dinner with Andre&quot;,\r\n            &quot;Attack of the Killer Tomatoes!&quot;,\r\n            &quot;State Fair&quot;,\r\n            &quot;Go to White Castle with Harold and Kumar&quot;,\r\n            &quot;My Best Friend&#39;s Wedding&quot;,\r\n            &quot;Soylent Green for Lunch&quot;,\r\n            &quot;Groundhog Day&quot;,\r\n            &quot;The Arrival of a Train&quot;,\r\n            &quot;The Breakfast Club&quot;\r\n    };\r\n    public static void printMyEvenList(){\r\n\r\n        for(String i: EVENTS){\r\n            System.out.println(i);\r\n        }\r\n    }\r\n```\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IOKaD.png","title":"How to prefix the contents of an array with java","body":"<p>So if you have an array of strings and the contents of the event how do you label the event number without an &quot;arraylist&quot; like the array in the picture.</p>\n<pre><code>    public static final String[] EVENTS = {\n            &quot;Breakfast at Tiffany's&quot;,\n            &quot;My Dinner with Andre&quot;,\n            &quot;Attack of the Killer Tomatoes!&quot;,\n            &quot;State Fair&quot;,\n            &quot;Go to White Castle with Harold and Kumar&quot;,\n            &quot;My Best Friend's Wedding&quot;,\n            &quot;Soylent Green for Lunch&quot;,\n            &quot;Groundhog Day&quot;,\n            &quot;The Arrival of a Train&quot;,\n            &quot;The Breakfast Club&quot;\n    };\n    public static void printMyEvenList(){\n\n        for(String i: EVENTS){\n            System.out.println(i);\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IOKaD.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666542866,"post_id":74172891,"comment_id":130956932,"body_markdown":"Please show us the code you have written.","body":"Please show us the code you have written."},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":1,"creation_date":1666542996,"post_id":74172891,"comment_id":130956959,"body_markdown":"Post the code in your question, formatted properly, not as a comment.","body":"Post the code in your question, formatted properly, not as a comment."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1666543162,"post_id":74172891,"comment_id":130956993,"body_markdown":"To &quot;show the code&quot;, you should simply [Edit] your original question.  That allows &quot;code formatting&quot;.  I took the liberty of doing that for you.","body":"To &quot;show the code&quot;, you should simply <a href=\"https://stackoverflow.com/posts/74172891/edit\">Edit</a> your original question.  That allows &quot;code formatting&quot;.  I took the liberty of doing that for you."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666543046,"creation_date":1666543046,"answer_id":74172929,"question_id":74172891,"body_markdown":"Do the division once with variables declared as `int` and once with `float`. Then compare the results.\r\n\r\n```\r\nint a = 42;\r\nint b = 5;\r\nfloat result = a/b;\r\n```\r\n\r\n```\r\nfloat a = 42.0f;\r\nfloat b = 5.0f;\r\nfloat result = a/b;\r\n```\r\n\r\nOr as a self-contained function:\r\n\r\n```\r\nvoid compareDivision(final int a, final int b) {\r\n  float intResult = a/b;\r\n  float floatResult = (float)a/(float)b; // cast to float\r\n  if (intResult != floatResult) {\r\n    System.out.println(&quot;Results are different: &quot; + intResult + &quot; != &quot; + floatResult);\r\n  }\r\n}\r\n```\r\n\r\nBuilding on the code from your updated question:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Please type the first number that you want be divided: &quot;);\r\n    int a = sc.nextInt();\r\n    float b = a;\r\n    System.out.println(&quot;Please type another number that you want to divide with:&quot;);\r\n    int c = sc.nextInt();\r\n    float d = c;\r\n\r\n    float intResult = a/c;\r\n    float floatResult = b/d;\r\n    if (intResult != floatResult) {\r\n        System.out.println(&quot;Results are different: &quot; + intResult + &quot; != &quot; + floatResult);\r\n    }\r\n}\r\n```","title":"How to check a division as a int and float at the same time?","body":"<p>Do the division once with variables declared as <code>int</code> and once with <code>float</code>. Then compare the results.</p>\n<pre><code>int a = 42;\nint b = 5;\nfloat result = a/b;\n</code></pre>\n<pre><code>float a = 42.0f;\nfloat b = 5.0f;\nfloat result = a/b;\n</code></pre>\n<p>Or as a self-contained function:</p>\n<pre><code>void compareDivision(final int a, final int b) {\n  float intResult = a/b;\n  float floatResult = (float)a/(float)b; // cast to float\n  if (intResult != floatResult) {\n    System.out.println(&quot;Results are different: &quot; + intResult + &quot; != &quot; + floatResult);\n  }\n}\n</code></pre>\n<p>Building on the code from your updated question:</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Please type the first number that you want be divided: &quot;);\n    int a = sc.nextInt();\n    float b = a;\n    System.out.println(&quot;Please type another number that you want to divide with:&quot;);\n    int c = sc.nextInt();\n    float d = c;\n\n    float intResult = a/c;\n    float floatResult = b/d;\n    if (intResult != floatResult) {\n        System.out.println(&quot;Results are different: &quot; + intResult + &quot; != &quot; + floatResult);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666543293,"creation_date":1666543293,"answer_id":74172964,"question_id":74172891,"body_markdown":"If you were to divide integers 5/2, then you would end up with 2.\r\n\r\nReverse the operation, multiply the result by the divisor, 2 * 2, and you end up with 4. Therefore your program should return false since it didn&#39;t equal the dividend, 5. ","title":"How to check a division as a int and float at the same time?","body":"<p>If you were to divide integers 5/2, then you would end up with 2.</p>\n<p>Reverse the operation, multiply the result by the divisor, 2 * 2, and you end up with 4. Therefore your program should return false since it didn't equal the dividend, 5.</p>\n"}],"owner":{"account_id":26709990,"reputation":9,"user_id":20315537,"display_name":"akinsavascii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74172929,"answer_count":2,"score":-1,"last_activity_date":1666543293,"creation_date":1666542749,"question_id":74172891,"body_markdown":"i have a question that goes with: \r\n\r\n&gt; In Java, if we divide two integers, the result is another integer, but the result might not be correct. For example, 4/2 = 2, but 5/2 = 2.5 but in Java the result would be 2 when both 5 and 2 values are stored as integer values. The program should check if the numbers the result of the division is the same when the values are both integers and when they are floats.\r\n\r\n\r\nSo that I spend over 1 hour to figure this q but i have a problem with the ending part. What it meant in this part: &quot;The program should check if the numbers the result of the division is the same when the values are both integers and when they are floats.&quot; \r\n    \r\n\r\n    import java.util.Scanner;\r\n    class StartUp2{\r\n        public static void main(String[] args){\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Please type the first number that you want be devided: &quot;);\r\n            int a = sc.nextInt();\r\n            float b = a;\r\n            System.out.println(&quot;Please type another number that you want to devide with:&quot;);\r\n            int c = sc.nextInt();\r\n            float d = c;\r\n\r\n        }\r\n    }\r\n","title":"How to check a division as a int and float at the same time?","body":"<p>i have a question that goes with:</p>\n<blockquote>\n<p>In Java, if we divide two integers, the result is another integer, but the result might not be correct. For example, 4/2 = 2, but 5/2 = 2.5 but in Java the result would be 2 when both 5 and 2 values are stored as integer values. The program should check if the numbers the result of the division is the same when the values are both integers and when they are floats.</p>\n</blockquote>\n<p>So that I spend over 1 hour to figure this q but i have a problem with the ending part. What it meant in this part: &quot;The program should check if the numbers the result of the division is the same when the values are both integers and when they are floats.&quot;</p>\n<pre><code>import java.util.Scanner;\nclass StartUp2{\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Please type the first number that you want be devided: &quot;);\n        int a = sc.nextInt();\n        float b = a;\n        System.out.println(&quot;Please type another number that you want to devide with:&quot;);\n        int c = sc.nextInt();\n        float d = c;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","static"],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666488105,"creation_date":1666488105,"answer_id":74168124,"question_id":74168098,"body_markdown":"No, `@PostConstruct` can not be applied to a static method.  The whole point of this annotation is to be called on a method of a Bean after the bean has been constructed.  In the case of a static method, there is no corresponding Bean (Java object) and so it doesn&#39;t make sense to have a static `@PostConstruct` method.","title":"Is @PostConstruct method called for a static method?","body":"<p>No, <code>@PostConstruct</code> can not be applied to a static method.  The whole point of this annotation is to be called on a method of a Bean after the bean has been constructed.  In the case of a static method, there is no corresponding Bean (Java object) and so it doesn't make sense to have a static <code>@PostConstruct</code> method.</p>\n"}],"owner":{"account_id":20948953,"reputation":33,"user_id":15391099,"display_name":"rasha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74168124,"answer_count":1,"score":1,"last_activity_date":1666543083,"creation_date":1666487418,"question_id":74168098,"body_markdown":"I am wondering whether @PostConstruct method is ever called when a static method from a component is called for e.g.\r\n\r\n```\r\n@Component\r\npublic class SomeComponent{\r\n    @Autowired\r\n    private SomeService someService;\r\n    @Autowired\r\n    private CacheManager cacheManager;\r\n    private static SomeService someService;\r\n    private static CacheManager cacheManager;\r\n    @PostConstruct\r\n    void init(){ \r\n    SomeComponent.someService = someService;\r\n    SomeComponent.cacheManager= cacheManager;// set up static variables\r\n    };\r\n\r\n    SomeComponent{};\r\n\r\n    public static List&lt;MyObjectDTO&gt; someStaticMethod (){\r\n    List&lt;MyObjectDTO&gt; returnList = new ArrayList&lt;MyObjectDTO&gt;();\r\n    returnList = getCacheList();\r\n    .\r\n    .\r\n    //does some more manipulation to that list\r\n    return returnList;\r\n   }\r\n   \r\n   private static List&lt;MyObjectDTO&gt; getCacheList() {\r\n   SomeComponent someComponent = new someComponent();\r\n   return someComponent.setAndGetCachedList();\r\n   }\r\n\r\n   private List&lt;MyObjectDTO&gt; setAndGetCachedList (){\r\n    ModelMapper modelMapper = new ModelMapper();\r\n    someService.getList(); //sets the cache first\r\n    Cache cache = cacheManager.getCache(&quot;MyCache&quot;);\r\n    Type list = new TypeToken&lt;List&lt;MyObjectDTO&gt;&gt;(){}.getType();\r\n    List&lt;MyObjectDTO&gt; cacheList = modelMapper.map(cache.get(SimpleKey.EMPTY).get(), list)); //maps the cached list to list of MyObjectDTO\r\n    return cacheList;\r\n   };\r\n}\r\n```\r\n```\r\n@Service\r\npublic class SomeService{\r\n\r\n    public method(){\r\n        SomeComponent.someStaticMethod(); //is @PostConstructor called here?\r\n    }\r\n}\r\n```\r\nIs @PostConstructor method ever called when the static method of the component is called above? If not, in what way can the @PostConstructor method be called? Much thanks!","title":"Is @PostConstruct method called for a static method?","body":"<p>I am wondering whether @PostConstruct method is ever called when a static method from a component is called for e.g.</p>\n<pre><code>@Component\npublic class SomeComponent{\n    @Autowired\n    private SomeService someService;\n    @Autowired\n    private CacheManager cacheManager;\n    private static SomeService someService;\n    private static CacheManager cacheManager;\n    @PostConstruct\n    void init(){ \n    SomeComponent.someService = someService;\n    SomeComponent.cacheManager= cacheManager;// set up static variables\n    };\n\n    SomeComponent{};\n\n    public static List&lt;MyObjectDTO&gt; someStaticMethod (){\n    List&lt;MyObjectDTO&gt; returnList = new ArrayList&lt;MyObjectDTO&gt;();\n    returnList = getCacheList();\n    .\n    .\n    //does some more manipulation to that list\n    return returnList;\n   }\n   \n   private static List&lt;MyObjectDTO&gt; getCacheList() {\n   SomeComponent someComponent = new someComponent();\n   return someComponent.setAndGetCachedList();\n   }\n\n   private List&lt;MyObjectDTO&gt; setAndGetCachedList (){\n    ModelMapper modelMapper = new ModelMapper();\n    someService.getList(); //sets the cache first\n    Cache cache = cacheManager.getCache(&quot;MyCache&quot;);\n    Type list = new TypeToken&lt;List&lt;MyObjectDTO&gt;&gt;(){}.getType();\n    List&lt;MyObjectDTO&gt; cacheList = modelMapper.map(cache.get(SimpleKey.EMPTY).get(), list)); //maps the cached list to list of MyObjectDTO\n    return cacheList;\n   };\n}\n</code></pre>\n<pre><code>@Service\npublic class SomeService{\n\n    public method(){\n        SomeComponent.someStaticMethod(); //is @PostConstructor called here?\n    }\n}\n</code></pre>\n<p>Is @PostConstructor method ever called when the static method of the component is called above? If not, in what way can the @PostConstructor method be called? Much thanks!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":2,"creation_date":1316595954,"post_id":7497199,"comment_id":9076758,"body_markdown":"&quot;•is faster to develop in thanks to it&#39;s dynamic nature&quot; testing and type error fixing is not part of development, right?","body":"&quot;•is faster to develop in thanks to it&#39;s dynamic nature&quot; testing and type error fixing is not part of development, right?"},{"owner":{"account_id":76141,"reputation":801321,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"score":0,"creation_date":1316596024,"post_id":7497199,"comment_id":9076777,"body_markdown":"Unless someone working for Google finds this question, you probably won&#39;t get *the* answer. Maybe the question is better phrased in a more generic way, something like *What are the advantages of XYZ on mobile platforms?*","body":"Unless someone working for Google finds this question, you probably won&#39;t get <i>the</i> answer. Maybe the question is better phrased in a more generic way, something like <i>What are the advantages of XYZ on mobile platforms?</i>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1316596279,"post_id":7497199,"comment_id":9076831,"body_markdown":"@FelixKling: I work for Google, but there&#39;s no way I&#39;m going to answer this question...","body":"@FelixKling: I work for Google, but there&#39;s no way I&#39;m going to answer this question..."},{"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"score":1,"creation_date":1316596522,"post_id":7497199,"comment_id":9076894,"body_markdown":"Statements not backed by facts are subjective. Nothing of what you wrote is anything except a statement of your personal opinion. Incidentally, I disagree with most of your opinions.\n\nThe only statement of objective character is that Google choose *JAVA* for Android, and this is incorrect. They developed a language called Dalvik, which is syntactically on conceptually near-equivalent with Java, but any similarities beyond that can only be assessed on a case-by-case basis.","body":"Statements not backed by facts are subjective. Nothing of what you wrote is anything except a statement of your personal opinion. Incidentally, I disagree with most of your opinions.  The only statement of objective character is that Google choose <i>JAVA</i> for Android, and this is incorrect. They developed a language called Dalvik, which is syntactically on conceptually near-equivalent with Java, but any similarities beyond that can only be assessed on a case-by-case basis."},{"owner":{"account_id":76141,"reputation":801321,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"score":0,"creation_date":1316596758,"post_id":7497199,"comment_id":9076958,"body_markdown":"@Jon: How could I forget :D (finds and is allowed to disclose this information ;)) Anyways, the question as it is was doomed to be closed...","body":"@Jon: How could I forget :D (finds and is allowed to disclose this information ;)) Anyways, the question as it is was doomed to be closed..."}],"answers":[{"tags":[],"owner":{"account_id":372833,"reputation":86869,"user_id":722121,"accept_rate":100,"display_name":"Gareth Latty"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1316596216,"creation_date":1316596216,"answer_id":7497295,"question_id":7497199,"body_markdown":"According to Google:\r\n\r\n&gt; We&#39;ve been over a bunch of [alternatives to Java], and think they all\r\n&gt; suck. We conclude that we need to negotiate a license for Java under\r\n&gt; the terms we need.\r\n[Source][1]\r\n\r\n\r\n  [1]: http://www.appleinsider.com/articles/11/08/06/google_fighting_to_suppress_evidence_android_willfully_infringed_upon_oracles_java.html\r\n\r\nIt&#39;s not a particularly descriptive why, but it&#39;s about as good as you&#39;ll get from Google, I&#39;d imagine.","title":"Why did Google choose Java for the Android Operating System?","body":"<p>According to Google:</p>\n\n<blockquote>\n  <p>We've been over a bunch of [alternatives to Java], and think they all\n  suck. We conclude that we need to negotiate a license for Java under\n  the terms we need.\n  <a href=\"http://www.appleinsider.com/articles/11/08/06/google_fighting_to_suppress_evidence_android_willfully_infringed_upon_oracles_java.html\">Source</a></p>\n</blockquote>\n\n<p>It's not a particularly descriptive why, but it's about as good as you'll get from Google, I'd imagine.</p>\n"},{"tags":[],"owner":{"account_id":55732,"reputation":75239,"user_id":166949,"accept_rate":90,"display_name":"steveha"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1381810645,"creation_date":1316596348,"answer_id":7497322,"question_id":7497199,"body_markdown":"* Google, as a company, uses Java a lot.  The search features are written in Java.  As far as I can tell from the outside, Google *likes* Java.\r\n\r\n* For most tasks, Java is faster than Python.  I would rather work in Python, and I know how to write reasonably efficient Python, and yes PyPy is really shaking things up, but Google needed to provide a snappy experience on relatively underpowered phone processors so they likely didn&#39;t consider Python a contender.\r\n\r\n* Java, like Python, provides a great deal of isolation from details of the underlying hardware.  I think all Android phones are ARM-based, but in theory you could make an Android phone based on an x86 chip or something completely different, and as long as you do a good job of porting the Dalvik VM, your code will run.  (Aside from apps that have native ARM code compiled in, of course.)\r\n\r\nGoogle likes the Java language, but they chose to write their own VM (&quot;Dalvik&quot;) rather than license the Java VM.  Compiled Java can be directly translated into Dalvik bytecodes.  (Oracle sued Google over this.  Oracle lost the lawsuit.)","title":"Why did Google choose Java for the Android Operating System?","body":"<ul>\n<li><p>Google, as a company, uses Java a lot.  The search features are written in Java.  As far as I can tell from the outside, Google <em>likes</em> Java.</p></li>\n<li><p>For most tasks, Java is faster than Python.  I would rather work in Python, and I know how to write reasonably efficient Python, and yes PyPy is really shaking things up, but Google needed to provide a snappy experience on relatively underpowered phone processors so they likely didn't consider Python a contender.</p></li>\n<li><p>Java, like Python, provides a great deal of isolation from details of the underlying hardware.  I think all Android phones are ARM-based, but in theory you could make an Android phone based on an x86 chip or something completely different, and as long as you do a good job of porting the Dalvik VM, your code will run.  (Aside from apps that have native ARM code compiled in, of course.)</p></li>\n</ul>\n\n<p>Google likes the Java language, but they chose to write their own VM (\"Dalvik\") rather than license the Java VM.  Compiled Java can be directly translated into Dalvik bytecodes.  (Oracle sued Google over this.  Oracle lost the lawsuit.)</p>\n"}],"owner":{"account_id":99104,"reputation":2586,"user_id":267874,"display_name":"Paul-Sebastian Manole"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10595,"favorite_count":0,"down_vote_count":6,"up_vote_count":26,"closed_date":1316596252,"accepted_answer_id":7497295,"answer_count":2,"score":20,"last_activity_date":1666542949,"creation_date":1316595764,"question_id":7497199,"body_markdown":"Why did Google choose Java for the Android Operating System and not some other language?\r\n\r\nI have revisited this question 9 years later. I realize that this question invites a lot of debate and personal opinion. I want to try to and reframe this question if possible, so we keep personal opinions and preference out of it.\r\n\r\nWhy Java specifically? Was it because of technical merits? Was it because so many developers know Java? Was it because Java was actually the best **garbage-collected** language at the time? Or was it because that is what the initial developers chose and they had to stick with it once the project got officially picked up?\r\n\r\nI know that there are more *modern* languages available today then there were in 2008, when Android was first released. I don&#39;t know though how many viable alternatives to Java Google had in 2008. And I don&#39;t know much about the Java ecosystem, as I&#39;m not a Java developer. Was Java the best available open source alternative back then? Was it a good option because Sun was still developing it back then?\r\n\r\nThese are the kind of considerations I wanted to know about. Environmental constraints, technical constraints, etc. And I don&#39;t mean which language is better. I mean which language could have fit their needs better and why in the end they chose Java?","title":"Why did Google choose Java for the Android Operating System?","body":"<p>Why did Google choose Java for the Android Operating System and not some other language?</p>\n<p>I have revisited this question 9 years later. I realize that this question invites a lot of debate and personal opinion. I want to try to and reframe this question if possible, so we keep personal opinions and preference out of it.</p>\n<p>Why Java specifically? Was it because of technical merits? Was it because so many developers know Java? Was it because Java was actually the best <strong>garbage-collected</strong> language at the time? Or was it because that is what the initial developers chose and they had to stick with it once the project got officially picked up?</p>\n<p>I know that there are more <em>modern</em> languages available today then there were in 2008, when Android was first released. I don't know though how many viable alternatives to Java Google had in 2008. And I don't know much about the Java ecosystem, as I'm not a Java developer. Was Java the best available open source alternative back then? Was it a good option because Sun was still developing it back then?</p>\n<p>These are the kind of considerations I wanted to know about. Environmental constraints, technical constraints, etc. And I don't mean which language is better. I mean which language could have fit their needs better and why in the end they chose Java?</p>\n"},{"tags":["java","string","substring"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1631871526,"creation_date":1631871526,"answer_id":69221134,"question_id":69221079,"body_markdown":"Don&#39;t reinvent the wheel. Instead of looping over the characters of the string, you could just use the [`contains`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence)) method:\r\n\r\n```\r\nif (name.contains(&quot;.&quot;)) {\r\n    // logic comes here...\r\n```","title":"Substring method to identify char value in string value","body":"<p>Don't reinvent the wheel. Instead of looping over the characters of the string, you could just use the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>contains</code></a> method:</p>\n<pre><code>if (name.contains(&quot;.&quot;)) {\n    // logic comes here...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631898085,"creation_date":1631898085,"answer_id":69227149,"question_id":69221079,"body_markdown":"While Mureinik is correct on the best way to accomplish your goal, the reason your function does not work is because of your ```else { break; } ``` statement.\r\n\r\n```break``` terminates the loop so unless the very first character is a ```.```, then the loop will exit immediately after the first iteration. When you want to increment the loop, the correct keyword is ```continue``` although it is unnecessary in this case because all of the logic is housed inside of the if statement. Since there is no other logic to avoid, you should delete the else statement.","title":"Substring method to identify char value in string value","body":"<p>While Mureinik is correct on the best way to accomplish your goal, the reason your function does not work is because of your <code>else { break; } </code> statement.</p>\n<p><code>break</code> terminates the loop so unless the very first character is a <code>.</code>, then the loop will exit immediately after the first iteration. When you want to increment the loop, the correct keyword is <code>continue</code> although it is unnecessary in this case because all of the logic is housed inside of the if statement. Since there is no other logic to avoid, you should delete the else statement.</p>\n"}],"owner":{"account_id":22550988,"reputation":53,"user_id":16740107,"display_name":"Brad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69221134,"answer_count":2,"score":1,"last_activity_date":1666542813,"creation_date":1631871291,"question_id":69221079,"body_markdown":"I&#39;m having an issue with using the substring method to find a specific character in a string variable. Currently I have a for loop setup to loop over the length of a string variable named **name**. I then have my substring method inside of my if statement to find my specific character, in this case it is a &quot;.&quot;. \r\n\r\nI&#39;m not able to get this to work and would appreciate any help. Thank you.\r\n\r\n    System.out.println(&quot;\\nEnter name: &quot;);\r\n    String name = in.nextLine();\r\n    \r\n    int length = name.length();\r\n \r\n    for (int x = 0; x &lt; length; x++) {\r\n        \r\n        if(name.substring(x,x+1).equals(&quot;.&quot;)) {\r\n            \r\n            System.out.println(&quot;Error! - name can not contain (.) values\\n&quot;\r\n                             + &quot;***************************************************&quot;);\r\n            \r\n                System.out.println(&quot;\\nWould you like to capture another name?&quot; +\r\n                &quot;\\nEnter (1) to continue or any other key to exit&quot;);\r\n                String opt1 = in.nextLine();\r\n\r\n                    // If statement to run application from the start \r\n                    if (opt1.equals(&quot;1&quot;)) {\r\n           \r\n                         System.out.println(&quot;menu launch&quot;);\r\n                    }\r\n                    else { System.exit(0); }\r\n        }            \r\n        else { break; } \r\n    }","title":"Substring method to identify char value in string value","body":"<p>I'm having an issue with using the substring method to find a specific character in a string variable. Currently I have a for loop setup to loop over the length of a string variable named <strong>name</strong>. I then have my substring method inside of my if statement to find my specific character, in this case it is a &quot;.&quot;.</p>\n<p>I'm not able to get this to work and would appreciate any help. Thank you.</p>\n<pre><code>System.out.println(&quot;\\nEnter name: &quot;);\nString name = in.nextLine();\n\nint length = name.length();\n\nfor (int x = 0; x &lt; length; x++) {\n    \n    if(name.substring(x,x+1).equals(&quot;.&quot;)) {\n        \n        System.out.println(&quot;Error! - name can not contain (.) values\\n&quot;\n                         + &quot;***************************************************&quot;);\n        \n            System.out.println(&quot;\\nWould you like to capture another name?&quot; +\n            &quot;\\nEnter (1) to continue or any other key to exit&quot;);\n            String opt1 = in.nextLine();\n\n                // If statement to run application from the start \n                if (opt1.equals(&quot;1&quot;)) {\n       \n                     System.out.println(&quot;menu launch&quot;);\n                }\n                else { System.exit(0); }\n    }            \n    else { break; } \n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9054,"page":938,"page_size":100}
